<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       msgget — get the XSI message queue identifier

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;sys/msg.h&gt;

       int msgget(key_t <u>key</u>, int <u>msgflg</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>msgget</u>()  function  operates on XSI message queues (see the Base Definitions volume of POSIX.1‐2017,
       <u>Section</u> <u>3.226</u>, <u>Message</u> <u>Queue</u>).  It is unspecified whether this function interoperates with  the  realtime
       interprocess communication facilities defined in <u>Section</u> <u>2.8</u>, <u>Realtime</u>.

       The <u>msgget</u>() function shall return the message queue identifier associated with the argument <u>key</u>.

       A  message  queue  identifier,  associated  message queue, and data structure (see <u>&lt;sys/msg.h&gt;</u>), shall be
       created for the argument <u>key</u> if one of the following is true:

        *  The argument <u>key</u> is equal to IPC_PRIVATE.

        *  The argument <u>key</u> does not already have a message queue identifier associated with it, and  (<u>msgflg</u>  &amp;
           IPC_CREAT) is non-zero.

       Upon  creation,  the data structure associated with the new message queue identifier shall be initialized
       as follows:

        *  <b>msg_perm.cuid</b>, <b>msg_perm.uid</b>, <b>msg_perm.cgid</b>, and <b>msg_perm.gid</b> shall be set to the  effective  user  ID
           and effective group ID, respectively, of the calling process.

        *  The low-order 9 bits of <b>msg_perm.mode</b> shall be set to the low-order 9 bits of <u>msgflg</u>.

        *  <b>msg_qnum</b>, <b>msg_lspid</b>, <b>msg_lrpid</b>, <b>msg_stime</b>, and <b>msg_rtime</b> shall be set to 0.

        *  <b>msg_ctime</b> shall be set to the current time, as described in <u>Section</u> <u>2.7.1</u>, <u>IPC</u> <u>General</u> <u>Description</u>.

        *  <b>msg_qbytes</b> shall be set to the system limit.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon  successful  completion,  <u>msgget</u>()  shall  return  a  non-negative  integer,  namely a message queue
       identifier.  Otherwise, it shall return -1 and set <u>errno</u> to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <u>msgget</u>() function shall fail if:

       <b>EACCES</b> A message queue identifier exists for the argument <u>key</u>, but operation permission as  specified  by
              the  low-order  9  bits  of  <u>msgflg</u>  would  not  be  granted;  see  <u>Section</u>  <u>2.7</u>, <u>XSI</u> <u>Interprocess</u>
              <u>Communication</u>.

       <b>EEXIST</b> A message queue identifier exists for the argument <u>key</u> but ((<u>msgflg</u>  &amp;  IPC_CREAT)  &amp;&amp;  (<u>msgflg</u>  &amp;
              IPC_EXCL)) is non-zero.

       <b>ENOENT</b> A message queue identifier does not exist for the argument <u>key</u> and (<u>msgflg</u> &amp; IPC_CREAT) is 0.

       <b>ENOSPC</b> A  message queue identifier is to be created but the system-imposed limit on the maximum number of
              allowed message queue identifiers system-wide would be exceeded.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       None.

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       The POSIX Realtime  Extension  defines  alternative  interfaces  for  interprocess  communication  (IPC).
       Application developers who need to use IPC should design their applications so that modules using the IPC
       routines  described  in  <u>Section</u>  <u>2.7</u>,  <u>XSI</u>  <u>Interprocess</u> <u>Communication</u> can be easily modified to use the
       alternative interfaces.

</pre><h4><b>RATIONALE</b></h4><pre>
       None.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>Section</u> <u>2.7</u>, <u>XSI</u> <u>Interprocess</u> <u>Communication</u>, <u>Section</u> <u>2.8</u>,  <u>Realtime</u>,  <u>ftok</u>(),  <u>mq_close</u>(),  <u>mq_getattr</u>(),
       <u>mq_notify</u>(), <u>mq_open</u>(), <u>mq_receive</u>(), <u>mq_send</u>(), <u>mq_setattr</u>(), <u>mq_unlink</u>(), <u>msgctl</u>(), <u>msgrcv</u>(), <u>msgsnd</u>()

       The Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>3.226</u>, <u>Message</u> <u>Queue</u>, <b>&lt;sys_msg.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for  Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group Base
       Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical  and  Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE  and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any typographical or formatting errors that appear in this page are most likely to have  been  introduced
       during   the   conversion  of  the  source  files  to  man  page  format.  To  report  such  errors,  see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                        <u><a href="../man3POSIX/MSGGET.3POSIX.html">MSGGET</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>