<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::Message::Body::Multipart - body of a message with attachments</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-message-perl">libmail-message-perl_3.017-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::Message::Body::Multipart - body of a message with attachments

</pre><h4><b>INHERITANCE</b></h4><pre>
        Mail::Message::Body::Multipart
          is a Mail::Message::Body
          is a Mail::Reporter

</pre><h4><b>SYNOPSIS</b></h4><pre>
        See Mail::Message::Body

        if($body-&gt;isMultipart) {
           my @attachments = $body-&gt;parts;
           my $attachment3 = $body-&gt;<a href="../man2/part.2.html">part</a>(2);
           my $before      = $body-&gt;preamble;
           my $after       = $body-&gt;epilogue;
           $body-&gt;<a href="../man1/part.1.html">part</a>(1)-&gt;delete;
        }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The body (content) of a message can be stored in various ways.  In this manual-page you find the
       description of extra functionality you have when a message contains attachments (parts).

       The number of multipart alternatives is growing.  A full list is maintained by IANA af
       <u><a href="http://www.iana.org/assignments/media-types/media-types.xhtml">http://www.iana.org/assignments/media-types/media-types.xhtml</a>#multipart</u>

       •   multipart/mixed

       •   multipart/alternative

       •   multipart/related

       •   multipart/report, RFC6522

       •   multipart/signed, RFC1847

       •   multipart/encrypted

       •   multipart/multilingual, RFC8255 (unused)

       Extends "DESCRIPTION" in Mail::Message::Body.

</pre><h4><b>OVERLOADED</b></h4><pre>
       Extends "OVERLOADED" in Mail::Message::Body.

       overload: <b>""</b>
           Inherited, see "OVERLOADED" in Mail::Message::Body

       overload: <b>'=='</b> <b>and</b> <b>'!='</b>
           Inherited, see "OVERLOADED" in Mail::Message::Body

       overload: <b>@{}</b>
           Inherited, see "OVERLOADED" in Mail::Message::Body

       overload: <b>bool</b>
           Inherited, see "OVERLOADED" in Mail::Message::Body

</pre><h4><b>METHODS</b></h4><pre>
       Extends "METHODS" in Mail::Message::Body.

   <b>Constructors</b>
       Extends "Constructors" in Mail::Message::Body.

       $obj-&gt;<b>clone</b>()
           Inherited, see "Constructors" in Mail::Message::Body

       Mail::Message::Body::Multipart-&gt;<b>new</b>(%options)
            -Option           --Defined in         --Default
             based_on           Mail::Message::Body  undef
             boundary                                undef
             charset            Mail::Message::Body  'PERL'
             checked            Mail::Message::Body  &lt;false&gt;
             content_id         Mail::Message::Body  undef
             data               Mail::Message::Body  undef
             description        Mail::Message::Body  undef
             disposition        Mail::Message::Body  undef
             eol                Mail::Message::Body  'NATIVE'
             epilogue                                ''
             file               Mail::Message::Body  undef
             filename           Mail::Message::Body  undef
             language           Mail::Message::Body  undef
             log                Mail::Reporter       'WARNINGS'
             message            Mail::Message::Body  undef
             mime_type          Mail::Message::Body  'multipart/mixed'
             modified           Mail::Message::Body  &lt;false&gt;
             parts                                   undef
             preamble                                undef
             trace              Mail::Reporter       'WARNINGS'
             transfer_encoding  Mail::Message::Body  'none'

           based_on =&gt; BODY
           boundary =&gt; STRING
             Separator  to  be  used  between  parts  of the message.  This separator must be unique in case the
             message contains nested multiparts (which are not unusual).  If "undef",  a  nice  unique  boundary
             will be generated.

           charset =&gt; CHARSET|'PERL'|&lt;undef&gt;
           checked =&gt; BOOLEAN
           content_id =&gt; STRING
           data =&gt; ARRAY-OF-LINES | STRING
           description =&gt; STRING|FIELD
           disposition =&gt; STRING|FIELD
           eol =&gt; 'CR'|'LF'|'CRLF'|'NATIVE'
           epilogue =&gt; BODY|STRING
             The  text  which is included in the main body after the final boundary.  This is usually empty, and
             has no meaning.

             Provide a BODY object or a STRING which will automatically translated into a "text/plain" body.

           file =&gt; FILENAME|FILEHANDLE|IOHANDLE
           filename =&gt; FILENAME
           language =&gt; STRING|ARRAY|LIST|FIELD
           log =&gt; LEVEL
           message =&gt; MESSAGE
           mime_type =&gt; STRING|FIELD|MIME
           modified =&gt; BOOLEAN
           parts =&gt; ARRAY-OF-(MESSAGES|BODIES)
             Specifies an initial list of parts in this body.  These may  be  full  MESSAGES,  or  BODIES  which
             transformed into messages before use.  Each message is coerced into a Mail::Message::Part object.

             MIME::Entity and Mail::Internet objects are acceptable in the list, because they are coercible into
             Mail::Message::Part's.  Values of "undef" will be skipped silently.

           preamble =&gt; BODY|STRING
             The  text  which is included in the body before the first part.  It is common use to include a text
             to warn the user that the message is a multipart.  However, this was useful in earlier  days:  most
             mail agents are very capable in warning the user themselves.

             Provide a BODY object or a STRING which will automatically translated into a text/plain body.

           trace =&gt; LEVEL
           transfer_encoding =&gt; STRING|FIELD

           example:

            my $intro = Mail::Message::Body-&gt;new(data =&gt; ['part one']);
            my $pgp   = Mail::Message::Body-&gt;new(data =&gt; ['part three']);

            my $body  = Mail::Message::Body::Multipart-&gt;new
              ( boundary =&gt; time . '--it-s-mine'
              , preamble =&gt; "This is a multi-part message in MIME format.\n\n"
              , parts    =&gt; [ $intro, $folder-&gt;<a href="../man3/message.3.html">message</a>(3)-&gt;decoded, $pgp ]
              );

   <b>Constructing</b> <b>a</b> <b>body</b>
       Extends "Constructing a body" in Mail::Message::Body.

       $obj-&gt;<b>attach</b>($messages|$bodies)
           Attach  a  list  of  $messages to this multipart.  A new body is returned.  When you specify $bodies,
           they will first be translated into real messages.  MIME::Entity and  Mail::Internet  objects  may  be
           specified too.  In any case, the parts will be coerced into Mail::Message::Part's.

       $obj-&gt;<b>charsetDetect</b>(%options)
           Inherited, see "Constructing a body" in Mail::Message::Body::Encode

       Mail::Message::Body::Multipart-&gt;<b>charsetDetectAlgorithm</b>( [CODE|undef|METHOD] )
           Inherited, see "Constructing a body" in Mail::Message::Body::Encode

       $obj-&gt;<b>check</b>()
           Inherited, see "Constructing a body" in Mail::Message::Body::Encode

       $obj-&gt;<b>concatenate</b>($components)
           Inherited, see "Constructing a body" in Mail::Message::Body::Construct

       $obj-&gt;<b>decoded</b>(%options)
           Inherited, see "Constructing a body" in Mail::Message::Body

       $obj-&gt;<b>encode</b>(%options)
           Inherited, see "Constructing a body" in Mail::Message::Body::Encode

       $obj-&gt;<b>encoded</b>(%options)
           Inherited, see "Constructing a body" in Mail::Message::Body::Encode

       $obj-&gt;<b>eol</b>( ['CR'|'LF'|'CRLF'|'NATIVE'] )
           Inherited, see "Constructing a body" in Mail::Message::Body

       $obj-&gt;<b>foreachComponent</b>(CODE)
           Execute  the  CODE  for  each  component  of the message: the preamble, the epilogue, and each of the
           parts.

           Each component is a body and is passed as second argument to the  CODE.   The  first  argument  is  a
           reference  to  this  multi-parted  body.   The  CODE returns a body object.  When any of the returned
           bodies differs from the body which  was  passed,  then  a  new  multi-part  body  will  be  returned.
           Reference to the not-changed bodies and the changed bodies will be included in that new multi-part.

           example:

            my $checked = $multi-&gt;foreachComponent(sub {$_[1]-&gt;check});

       $obj-&gt;<b>foreachLine</b>((CODE))
           It  is  NOT  possible  to  call  some  code for each line of a multipart, because that would not only
           inflict damage to the body of each message part, but also to the headers and the part separators.

       $obj-&gt;<b>stripSignature</b>(%options)
           Removes all parts which contains data usually defined as  being  signature.   The  MIME::Type  module
           provides  this  knowledge.  A new multipart is returned, containing the remaining parts.  No %options
           are defined yet, although some may be specified, because this method overrules  the  "stripSignature"
           method for normal bodies.

            -Option     --Defined in                    --Default
             max_lines    Mail::Message::Body::Construct  10
             pattern      Mail::Message::Body::Construct  qr/^--\s?$/
             result_type  Mail::Message::Body::Construct  &lt;same as current&gt;

           max_lines =&gt; INTEGER|undef
           pattern =&gt; REGEX|STRING|CODE
           result_type =&gt; CLASS
       $obj-&gt;<b>unify</b>($body)
           Inherited, see "Constructing a body" in Mail::Message::Body::Encode

   <b>The</b> <b>body</b>
       Extends "The body" in Mail::Message::Body.

       $obj-&gt;<b>isDelayed</b>()
           Inherited, see "The body" in Mail::Message::Body

       $obj-&gt;<b>isMultipart</b>()
           Inherited, see "The body" in Mail::Message::Body

       $obj-&gt;<b>isNested</b>()
           Inherited, see "The body" in Mail::Message::Body

       $obj-&gt;<b>message</b>( [$message] )
           Inherited, see "The body" in Mail::Message::Body

       $obj-&gt;<b>partNumberOf</b>($part)
           Inherited, see "The body" in Mail::Message::Body

   <b>About</b> <b>the</b> <b>payload</b>
       Extends "About the payload" in Mail::Message::Body.

       $obj-&gt;<b>charset</b>()
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>checked</b>( [BOOLEAN] )
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>contentId</b>( [STRING|$field] )
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>description</b>( [STRING|$field] )
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>disposition</b>( [STRING|$field] )
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>dispositionFilename</b>( [$directory] )
           Inherited, see "About the payload" in Mail::Message::Body::Encode

       $obj-&gt;<b>isBinary</b>()
           Inherited, see "About the payload" in Mail::Message::Body::Encode

       $obj-&gt;<b>isText</b>()
           Inherited, see "About the payload" in Mail::Message::Body::Encode

       $obj-&gt;<b>language</b>( [@langs|\@langs|$langs|$field] )
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>mimeType</b>()
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>nrLines</b>()
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>size</b>()
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>transferEncoding</b>( [STRING|$field] )
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>type</b>( [STRING|$field] )
           Inherited, see "About the payload" in Mail::Message::Body

   <b>Access</b> <b>to</b> <b>the</b> <b>payload</b>
       Extends "Access to the payload" in Mail::Message::Body.

       $obj-&gt;<b>boundary</b>( [STRING] )
           Returns  the  boundary which is used to separate the parts in this body.  If none was read from file,
           then one will be assigned.  With STRING you explicitly set the boundary to be used.

       $obj-&gt;<b>endsOnNewline</b>()
           Inherited, see "Access to the payload" in Mail::Message::Body

       $obj-&gt;<b>epilogue</b>()
           Returns the epilogue; the text after the last message part (after the  last  real  attachment).   The
           epilogue is stored in a BODY object, and its encoding is taken from the general multipart header.

       $obj-&gt;<b>file</b>()
           Inherited, see "Access to the payload" in Mail::Message::Body

       $obj-&gt;<b>lines</b>()
           Inherited, see "Access to the payload" in Mail::Message::Body

       $obj-&gt;<b>part</b>($index)
           Returns  only  the  part  with the specified $index.  You may use a negative value here, which counts
           from the back in the list.  Parts which are flagged to be deleted are included in the count.

           example:

            $message-&gt;body-&gt;<a href="../man2/part.2.html">part</a>(2)-&gt;print;
            $body-&gt;<a href="../man1/part.1.html">part</a>(1)-&gt;delete;

       $obj-&gt;<b>parts</b>( [&lt;'ALL'|'ACTIVE'|'DELETED'|'RECURSE'|$filter&gt;] )
           Return all parts by default, or when ALL is specified.  "ACTIVE" returns  the  parts  which  are  not
           flagged  for  deletion,  as  opposite to "DELETED".  "RECURSE" descents into all nested multiparts to
           collect all parts.

           You may also specify a code reference which is called for each nested part.  The first argument  will
           be the message part.  When the code returns true, the part is incorporated in the return list.

           example:

            print "Number of attachments: ",
                scalar $message-&gt;body-&gt;parts('ACTIVE');

            foreach my $part ($message-&gt;body-&gt;parts) {
                print "Type: ", $part-&gt;get('Content-Type');
            }

       $obj-&gt;<b>preamble</b>()
           Returns the preamble; the text before the first message part (before the first real attachment).  The
           preamble is stored in a BODY object, and its encoding is taken from the multipart header.

       $obj-&gt;<b>print</b>( [$fh] )
           Inherited, see "Access to the payload" in Mail::Message::Body

       $obj-&gt;<b>printEscapedFrom</b>($fh)
           Inherited, see "Access to the payload" in Mail::Message::Body

       $obj-&gt;<b>string</b>()
           Inherited, see "Access to the payload" in Mail::Message::Body

       $obj-&gt;<b>stripTrailingNewline</b>()
           Inherited, see "Access to the payload" in Mail::Message::Body

       $obj-&gt;<b>write</b>(%options)
           Inherited, see "Access to the payload" in Mail::Message::Body

   <b>Internals</b>
       Extends "Internals" in Mail::Message::Body.

       $obj-&gt;<b>addTransferEncHandler</b>( $name, &lt;$class|$object&gt; )
       Mail::Message::Body::Multipart-&gt;<b>addTransferEncHandler</b>( $name, &lt;$class|$object&gt; )
           Inherited, see "Internals" in Mail::Message::Body::Encode

       $obj-&gt;<b>contentInfoFrom</b>($head)
           Inherited, see "Internals" in Mail::Message::Body

       $obj-&gt;<b>contentInfoTo</b>($head)
           Inherited, see "Internals" in Mail::Message::Body

       $obj-&gt;<b>fileLocation</b>( [$begin, $end] )
           Inherited, see "Internals" in Mail::Message::Body

       $obj-&gt;<b>getTransferEncHandler</b>($type)
           Inherited, see "Internals" in Mail::Message::Body::Encode

       $obj-&gt;<b>isModified</b>()
           Inherited, see "Internals" in Mail::Message::Body

       $obj-&gt;<b>load</b>()
           Inherited, see "Internals" in Mail::Message::Body

       $obj-&gt;<b>modified</b>( [BOOLEAN] )
           Inherited, see "Internals" in Mail::Message::Body

       $obj-&gt;<b>moveLocation</b>( [$distance] )
           Inherited, see "Internals" in Mail::Message::Body

       $obj-&gt;<b>read</b>( $parser, $head, $bodytype, [$chars, [$lines]] )
           Inherited, see "Internals" in Mail::Message::Body

   <b>Error</b> <b>handling</b>
       Extends "Error handling" in Mail::Message::Body.

       $obj-&gt;<b>AUTOLOAD</b>()
           Inherited, see "Error handling" in Mail::Message::Body

       $obj-&gt;<b>addReport</b>($object)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
       Mail::Message::Body::Multipart-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>errors</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>log</b>( [$level, [$strings]] )
       Mail::Message::Body::Multipart-&gt;<b>log</b>( [$level, [$strings]] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logPriority</b>($level)
       Mail::Message::Body::Multipart-&gt;<b>logPriority</b>($level)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logSettings</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>notImplemented</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>report</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>reportAll</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>trace</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>warnings</b>()
           Inherited, see "Error handling" in Mail::Reporter

   <b>Cleanup</b>
       Extends "Cleanup" in Mail::Message::Body.

       $obj-&gt;<b>DESTROY</b>()
           Inherited, see "Cleanup" in Mail::Reporter

</pre><h4><b>DETAILS</b></h4><pre>
       Extends "DETAILS" in Mail::Message::Body.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Warning: Charset $name is not known
           The  encoding  or  decoding  of  a message body encounters a character set which is not understood by
           Perl's Encode module.

       Error: Data not convertible to a message (type is $type)
           An object which is not coercable into a Mail::Message::Part object was passed to the initiation.  The
           data is ignored.

       Warning: No decoder defined for transfer encoding $name.
           The data (message body) is encoded in a way which is not currently understood, therefore no  decoding
           (or recoding) can take place.

       Warning: No encoder defined for transfer encoding $name.
           The  data (message body) has been decoded, but the required encoding is unknown.  The decoded data is
           returned.

       Error: Package $package does not implement $method.
           Fatal error: the specific package (or one of its superclasses) does not implement this  method  where
           it  should.  This  message means that some other related classes do implement this method however the
           class at hand does not.  Probably you should investigate this and probably inform the author  of  the
           package.

       Error: Unknown criterium $what to select parts.
           Valid  choices  fdr  part  selections  are "ALL", "ACTIVE", "DELETED", "RECURSE" or a code reference.
           However, some other argument was passed.

       Warning: Unknown line terminator $eol ignored
       Error: You cannot use foreachLine on a multipart
           <b>foreachLine()</b> should be used on decoded message bodies only, because it would attempt to modify part-
           headers and separators as well, which is clearly not acceptable.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       This module is part of Mail-Message distribution  version  3.017,  built  on  April  18,  2025.  Website:
       <u><a href="http://perl.overmeer.net/CPAN/">http://perl.overmeer.net/CPAN/</a></u>

</pre><h4><b>LICENSE</b></h4><pre>
       Copyrights 2001-2025 by [Mark Overmeer &lt;<a href="mailto:markov@cpan.org">markov@cpan.org</a>&gt;]. For other contributors see ChangeLog.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.  See <u><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></u>

perl v5.40.1                                       2025-04-25                <u>Mail::Message::Body::<a href="../man3pm/Multipart.3pm.html">Multipart</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>