<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sd_bus_message_read_basic - Read a basic type from a message</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsystemd-dev">libsystemd-dev_257.7-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sd_bus_message_read_basic - Read a basic type from a message

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;systemd/sd-bus.h&gt;</b>

       <b>int</b> <b>sd_bus_message_read_basic(sd_bus_message</b> <b>*</b><u>m</u><b>,</b> <b>char</b> <u>type</u><b>,</b> <b>void</b> <b>*</b><u>p</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sd_bus_message_read_basic()</b> reads a basic type from a message and advances the read position in the
       message. The set of basic types and their ascii codes passed in <u>type</u> are described in the <b>D-Bus</b>
       <b>Specification</b>[1].

       If <u>p</u> is not <b>NULL</b>, it should contain a pointer to an appropriate object. For example, if <u>type</u> is <b>'y'</b>, the
       object passed in <u>p</u> should have type <b>uint8_t</b> <b>*</b>. If <u>type</u> is <b>'s'</b>, the object passed in <u>p</u> should have type
       <b>const</b> <b>char</b> <b>**</b>. Note that, if the basic type is a pointer (e.g., <b>const</b> <b>char</b> <b>*</b> in the case of a string),
       the pointer is only borrowed and the contents must be copied if they are to be used after the end of the
       message's lifetime. Similarly, during the lifetime of such a pointer, the message must not be modified.
       If <u>type</u> is <b>'h'</b> (UNIX file descriptor), the descriptor is not duplicated by this call and the returned
       descriptor remains in possession of the message object, and needs to be duplicated by the caller in order
       to keep an open reference to it after the message object is freed (for example by calling "fcntl(fd,
       FD_DUPFD_CLOEXEC, 3)"). See the table below for a complete list of allowed types.

       <b>Table</b> <b>1.</b> <b>Item</b> <b>type</b> <b>specifiers</b>
       ┌───────────┬─────────────────────────┬────────────────────────┬────────────────────────┐
       │ <b>Specifier</b> │ <b>Constant</b>                │ <b>Description</b>            │ <b>Expected</b> <b>C</b> <b>Type</b>        │
       ├───────────┼─────────────────────────┼────────────────────────┼────────────────────────┤
       │ "y"       │ <b>SD_BUS_TYPE_BYTE</b>        │ 8-bit unsigned integer │ <b>uint8_t</b> <b>*</b>              │
       ├───────────┼─────────────────────────┼────────────────────────┼────────────────────────┤
       │ "b"       │ <b>SD_BUS_TYPE_BOOLEAN</b>     │ boolean                │ <b>int</b> <b>*</b> (NB: not <b>bool</b> <b>*</b>) │
       ├───────────┼─────────────────────────┼────────────────────────┼────────────────────────┤
       │ "n"       │ <b>SD_BUS_TYPE_INT16</b>       │ 16-bit signed integer  │ <b>int16_t</b> <b>*</b>              │
       ├───────────┼─────────────────────────┼────────────────────────┼────────────────────────┤
       │ "q"       │ <b>SD_BUS_TYPE_UINT16</b>      │ 16-bit unsigned        │ <b>uint16_t</b> <b>*</b>             │
       │           │                         │ integer                │                        │
       ├───────────┼─────────────────────────┼────────────────────────┼────────────────────────┤
       │ "i"       │ <b>SD_BUS_TYPE_INT32</b>       │ 32-bit signed integer  │ <b>int32_t</b> <b>*</b>              │
       ├───────────┼─────────────────────────┼────────────────────────┼────────────────────────┤
       │ "u"       │ <b>SD_BUS_TYPE_UINT32</b>      │ 32-bit unsigned        │ <b>uint32_t</b> <b>*</b>             │
       │           │                         │ integer                │                        │
       ├───────────┼─────────────────────────┼────────────────────────┼────────────────────────┤
       │ "x"       │ <b>SD_BUS_TYPE_INT64</b>       │ 64-bit signed integer  │ <b>int64_t</b> <b>*</b>              │
       ├───────────┼─────────────────────────┼────────────────────────┼────────────────────────┤
       │ "t"       │ <b>SD_BUS_TYPE_UINT64</b>      │ 64-bit unsigned        │ <b>uint64_t</b> <b>*</b>             │
       │           │                         │ integer                │                        │
       ├───────────┼─────────────────────────┼────────────────────────┼────────────────────────┤
       │ "d"       │ <b>SD_BUS_TYPE_DOUBLE</b>      │ IEEE 754 double        │ <b>double</b> <b>*</b>               │
       │           │                         │ precision              │                        │
       │           │                         │ floating-point         │                        │
       ├───────────┼─────────────────────────┼────────────────────────┼────────────────────────┤
       │ "s"       │ <b>SD_BUS_TYPE_STRING</b>      │ UTF-8 string           │ <b>const</b> <b>char</b> <b>**</b>          │
       ├───────────┼─────────────────────────┼────────────────────────┼────────────────────────┤
       │ "o"       │ <b>SD_BUS_TYPE_OBJECT_PATH</b> │ D-Bus object path      │ <b>const</b> <b>char</b> <b>**</b>          │
       │           │                         │ string                 │                        │
       ├───────────┼─────────────────────────┼────────────────────────┼────────────────────────┤
       │ "g"       │ <b>SD_BUS_TYPE_SIGNATURE</b>   │ D-Bus signature string │ <b>const</b> <b>char</b> <b>**</b>          │
       ├───────────┼─────────────────────────┼────────────────────────┼────────────────────────┤
       │ "h"       │ <b>SD_BUS_TYPE_UNIX_FD</b>     │ UNIX file descriptor   │ <b>int</b> <b>*</b>                  │
       └───────────┴─────────────────────────┴────────────────────────┴────────────────────────┘

       If there is no object of the specified type at the current position in the message, an error is returned.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, <b>sd_bus_message_read_basic()</b> returns a positive integer. If the end of the currently opened
       array has been reached, it returns 0. On failure, it returns a negative errno-style error code.

   <b>Errors</b>
       Returned errors may indicate the following problems:

       <b>-EINVAL</b>
           Specified type string is invalid or the message parameter is <b>NULL</b>.

       <b>-ENXIO</b>
           The message does not contain the specified type at current position.

       <b>-EBADMSG</b>
           The message cannot be parsed.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>sd_bus_message_read_basic()</b> was added in version 221.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man3/sd-bus.3.html">sd-bus</a></b>(3), <b><a href="../man3/sd_bus_message_append_basic.3.html">sd_bus_message_append_basic</a></b>(3), <b><a href="../man3/sd_bus_message_skip.3.html">sd_bus_message_skip</a></b>(3), <b><a href="../man3/sd_bus_message_read.3.html">sd_bus_message_read</a></b>(3)

</pre><h4><b>NOTES</b></h4><pre>
        1. D-Bus Specification
           https://dbus.freedesktop.org/doc/dbus-specification.html

systemd 257.7                                                                       <u><a href="../man3/SD_BUS_MESSAGE_READ_BASIC.3.html">SD_BUS_MESSAGE_READ_BASIC</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>