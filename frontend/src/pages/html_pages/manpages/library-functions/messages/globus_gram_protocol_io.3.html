<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>globus_gram_protocol_io - Message I/O</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libglobus-gram-protocol-doc">libglobus-gram-protocol-doc_13.6-3build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       globus_gram_protocol_io - Message I/O

        - Message I/O.

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Functions</b>
       int <b>globus_gram_protocol_setup_attr</b> (globus_io_attr_t *attr)
           Create default I/O attribute for GRAM.
       globus_bool_t <b>globus_gram_protocol_authorize_self</b> (gss_ctx_id_t context)
           Determine if a GSSAPI context has the same source and target identities.
       int <b>globus_gram_protocol_allow_attach</b> (char **url, globus_gram_protocol_callback_t callback, void
           *callback_arg)
           Create a GRAM protocol service listener.
       int <b>globus_gram_protocol_callback_disallow</b> (char *url)
           Stop a GASS protocol listener from handling new requests.
       int <b>globus_gram_protocol_post</b> (const char *url, globus_gram_protocol_handle_t *handle, globus_io_attr_t
           *attr, globus_byte_t *message, globus_size_t message_size, globus_gram_protocol_callback_t callback,
           void *callback_arg)
           Post a GRAM protocol request to a GRAM server.
       int <b>globus_gram_protocol_post_delegation</b> (const char *url, globus_gram_protocol_handle_t *handle,
           globus_io_attr_t *attr, globus_byte_t *message, globus_size_t message_size, gss_cred_id_t
           cred_handle, gss_OID_set restriction_oids, gss_buffer_set_t restriction_buffers, OM_uint32 req_flags,
           OM_uint32 time_req, globus_gram_protocol_callback_t callback, void *callback_arg)
           Post a GRAM protocol delegation request to a GRAM server.
       int <b>globus_gram_protocol_reply</b> (globus_gram_protocol_handle_t handle, int code, globus_byte_t *message,
           globus_size_t message_size)
           Reply to a GRAM protocol message.
       int <b>globus_gram_protocol_accept_delegation</b> (globus_gram_protocol_handle_t handle, gss_OID_set
           restriction_oids, gss_buffer_set_t restriction_buffers, OM_uint32 req_flags, OM_uint32 time_req,
           globus_gram_protocol_delegation_callback_t callback, void *arg)
           Perform the server-side of the GSSAPI delegation handshake to receive a new delegated credential.
       int <b>globus_gram_protocol_get_sec_context</b> (globus_gram_protocol_handle_t handle, gss_ctx_id_t *context)
           Get a reference to the GSSAPI security context associated with a GRAM protocol handle.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Message I/O.

       The functions in this section are related to sending and receiving GRAM protocol messages.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b> <b>globus_gram_protocol_accept_delegation</b> <b>(globus_gram_protocol_handle_t</b> <b>handle,</b> <b>gss_OID_set</b>
       <b>restriction_oids,</b> <b>gss_buffer_set_t</b> <b>restriction_buffers,</b> <b>OM_uint32</b> <b>req_flags,</b> <b>OM_uint32</b> <b>time_req,</b>
       <b>globus_gram_protocol_delegation_callback_t</b> <b>callback,</b> <b>void</b> <b>*</b> <b>arg)</b>
       Perform the server-side of the GSSAPI delegation handshake to receive a new delegated credential. The
       <b>globus_gram_protocol_accept_delegation()</b> function performs the service side accepting of a GRAM protocol
       delegation exchange with a GRAM protocol client. This is performed after the delegation HTTP message has
       been unpacked by the application.

       The <b>globus_gram_protocol_accept_delegation()</b> function returns after processing the GSSAPI handshake,
       passing the delegated credential or error information to the function pointed to by the <u>callback</u>
       parameter.

       <b>Parameters</b>
           <u>handle</u> A GRAM protocol handle on which the server received a protocol refresh message.
           <u>restriction_oids</u> A set of OID values indicating the data in the <u>restriction_buffers</u> parameter. This
           parameter may have the value GSS_C_NO_OID_SET if there are no restriction buffers.
           <u>restriction_buffers</u> A set of binary data buffers which will be included in the delegated credential.
           The type of data in these buffers is determined by the OID values in <u>restriction_oids</u>. This parameter
           may have the value GSS_C_EMPTY_BUFFER_SET if there are no extra restrictions to be added to the
           credential.
           <u>req_flags</u> A bitwise-or of GSSAPI flag values to use when delegating the credential using
           gss_init_delegation().
           <u>time_req</u> An integer value indicating the length of time (in seconds) that the delegated credential
           should be valid for. This is an advisory parameter: no error will be returned if a credential with
           the requested lifetime can not be created.
           <u>callback</u> A pointer to a function to call when the delegation handshake has completed or failed. This
           function will be passed the value of <u>arg</u> as well as the handle and delegated credential or error that
           occurred processing the delegation messages.
           <u>arg</u> A pointer to application-specific data which will be passed to the function pointed to by
           <u>callback</u> as its first parameter. This may be NULL if the application has a NULL <u>callback</u> or does not
           require the pointer to establish its context in the callback.

       <b>Returns</b>
           Upon success, <b>globus_gram_protocol_accept_delegation()</b> returns GLOBUS_SUCCESS and registers the
           function pointed to by <u>callback</u> to be called after the delegation completes or fails. If an error
           occurs, <b>globus_gram_protocol_accept_delegation()</b> returns an integer error code and the <u>callback</u>
           function is not registered.

       <b>Return</b> <b>values</b>
           <u>GLOBUS_SUCCESS</u> Success
           <u>GLOBUS_GRAM_PROTOCOL_MALLOC_FAILED</u> Malloc failed
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST</u> Invalid request
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_NO_RESOURCES</u> No resources

   <b>int</b> <b>globus_gram_protocol_allow_attach</b> <b>(char</b> <b>**</b> <b>url,</b> <b>globus_gram_protocol_callback_t</b> <b>callback,</b> <b>void</b> <b>*</b>
       <b>callback_arg)</b>
       Create a GRAM protocol service listener. The <b>globus_gram_protocol_allow_attach()</b> function creates a GRAM
       protocol listener to which other processes can send GRAM protocol messages. The listener will
       automatically accept new connections on it's TCP/IP port and parse GRAM requests. The requests will be
       passed to the function pointed to by the <u>callback</u> parameter for the application to unpack, handle, and
       send a reply by calling <b>globus_gram_protocol_reply()</b>.

       <b>Parameters</b>
           <u>url</u> An output parameter that will be initialized to point to a string that will hold the URL of the
           new listener. This URL may be published or otherwise passed to applications which need to contact
           this GRAM protocol server. The URL will be of the form <u>https://host:port/</u>.
           <u>callback</u> A pointer to a function to be called when a new request has been received by this listener.
           This function will be passed the request, which may be unpacked using one of the functions described
           in the <b>message</b> <b>packing</b>  section of the documentation.
           <u>callback_arg</u> A pointer to arbitrary user data which will be passed to the callback function as its
           first parameter.

       <b>Returns</b>
           Upon success, <b>globus_gram_protocol_allow_attach()</b> returns <u>GLOBUS_SUCCESS</u> and modifies the <u>url</u>
           parameter to point to a newly allocated string. The caller is then responsible for freeing this
           string. If an error occurs, an integer error code will be returned and the <u>url</u> parameter value will
           be uninitialized.

       <b>Return</b> <b>values</b>
           <u>GLOBUS_SUCCESS</u> Success
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST</u> Invalid request
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED</u> Out of memory
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_NO_RESOURCES</u> No resources

       <b>See</b> <b>also</b>
           <b>globus_gram_protocol_callback_disallow()</b>

   <b>globus_bool_t</b> <b>globus_gram_protocol_authorize_self</b> <b>(gss_ctx_id_t</b> <b>context)</b>
       Determine if a GSSAPI context has the same source and target identities. The
       <b>globus_gram_protocol_authorize_self()</b> function implements a predicate which returns true if the source
       and destination identities used to establish the GSSAPI security context are the same.

       <b>Parameters</b>
           <u>context</u> A GSSAPI security context which has been previously established. The source and target names
           of this context will be inspected by this function.

       <b>Returns</b>
           If the source and target identiies are the same, then <b>globus_gram_protocol_authorize_self()</b> <b>returns</b>
           <u>GLOBUS_TRUE</u><b>,</b> <b>otherwise,</b> <b>this</b> <b>function</b> <b>returns</b> <u>GLOBUS_FALSE</u><b>.</b>

       <b>Return</b> <b>values</b>
           <u>GLOBUS_TRUE</u> The source and target identities are the same.
           <u>GLOBUS_FALSE</u> The source and target identities are not the same or this function is unabled to inspect
           the security context.

   <b>int</b> <b>globus_gram_protocol_callback_disallow</b> <b>(char</b> <b>*</b> <b>url)</b>
       Stop a GASS protocol listener from handling new requests. The <b>globus_gram_protocol_callback_disallow()</b>
       function stops the listener named by the value of the <u>url</u> parameter from receiving any new requests. It
       also frees memory used internally by the GRAM protocol implementation to handle requests for this
       listener.

       The <b>globus_gram_protocol_callback_disallow()</b> function will wait until all requests being processed by
       this listener have completed processing. Once <b>globus_gram_protocol_callback_disallow()</b> returns, no
       further request callbacks will occur for the listener.

       <b>Parameters</b>
           <u>url</u> A pointer to the URL string which names the listener to disable.

       <b>Returns</b>
           Upon success, the <b>globus_gram_protocol_callback_disallow()</b> function returns <u>GLOBUS_SUCCESS</u> and frees
           internal state associated with the listener named by the <u>url</u> parameter. If an error occurs, its
           integer error code value will be returned and no listener will be affected.

       <b>Return</b> <b>values</b>
           <u>GLOBUS_SUCCESS</u> Success
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_JOB_CONTACT</u> Invalid job contact
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_CALLBACK_NOT_FOUND</u> Callback not found

       <b>See</b> <b>also</b>
           <b>globus_gram_protocol_allow_attach()</b>

   <b>int</b> <b>globus_gram_protocol_get_sec_context</b> <b>(globus_gram_protocol_handle_t</b> <b>handle,</b> <b>gss_ctx_id_t</b> <b>*</b> <b>context)</b>
       Get a reference to the GSSAPI security context associated with a GRAM protocol handle. The
       <b>globus_gram_protocol_get_sec_context()</b> <b>function</b> <b>retrieves</b> <b>a</b> <b>reference</b> <b>to</b> <b>the</b> <b>GSSAPI</b> <b>security</b> <b>context</b>
       <b>associated</b> <b>with</b> <b>a</b> <b>particular</b> <b>GRAM</b> <b>protocol</b> <b>handle.</b> <b>This</b> <b>context</b> <b>may</b> <b>be</b> <b>inspected</b> <b>by</b> <b>the</b> <b>caller</b> <b>but</b> <b>must</b>
       <b>not</b> <b>be</b> <b>destroyed</b> <b>by</b> <b>the</b> <b>caller.</b> <b>The</b> <b>globus_gram_protocol_get_sec_context()</b> <b>function</b> <b>must</b> <b>only</b> <b>be</b> <b>called</b>
       <b>after</b> <b>the</b> <b>GRAM</b> <b>protocol</b> <b>library</b> <b>has</b> <b>called</b> <b>the</b> <u>callback</u> <b>function</b> <b>associated</b> <b>with</b> <b>a</b> <b>GRAM</b> <b>protocol</b> <b>message</b>
       <b>exchange.</b>

       <b>Parameters</b>
           <u>handle</u> The GRAM protocol handle associated with a GRAM protocol message exchange.
           <u>context</u> The GSSAPI security context associated with the protocol handle.

       <b>Returns</b>
           Upon success, <b>globus_gram_protocol_get_sec_context()</b> <b>returns</b> <b>GLOBUS_SUCCESS</b> <b>and</b> <b>modifies</b> <b>the</b> <u>context</u>
           <b>parameter</b> <b>to</b> <b>point</b> <b>to</b> <b>the</b> <b>security</b> <b>context</b> <b>associated</b> <b>with</b> <b>the</b> <u>handle</u> <b>parameter.</b> <b>If</b> <b>an</b> <b>error</b> <b>occurs,</b>
           <b>an</b> <b>integer</b> <b>error</b> <b>code</b> <b>is</b> <b>returned</b> <b>and</b> <b>the</b> <b>value</b> <b>of</b> <b>the</b> <u>context</u> <b>parameter</b> <b>is</b> <b>undefined.</b>

       <b>Return</b> <b>values</b>
           <u>GLOBUS_SUCCESS</u> Success
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST</u> Invalid request

   <b>int</b> <b>globus_gram_protocol_post</b> <b>(const</b> <b>char</b> <b>*</b> <b>url,</b> <b>globus_gram_protocol_handle_t</b> <b>*</b> <b>handle,</b> <b>globus_io_attr_t</b> <b>*</b>
       <b>attr,</b> <b>globus_byte_t</b> <b>*</b> <b>message,</b> <b>globus_size_t</b> <b>message_size,</b> <b>globus_gram_protocol_callback_t</b> <b>callback,</b> <b>void</b>
       <b>*</b> <b>callback_arg)</b>
       Post a GRAM protocol request to a GRAM server. The <b>globus_gram_protocol_post()</b> function initiates a GRAM
       protocol message exchange with a GRAM protocol listener. It returns after framing the message and
       initiating the connection. When the message exchange is complete, the function pointed to by <u>callback</u> is
       invoked either in another thread or when a non-threaded application calls the globus_poll() or
       globus_cond_wait() functions.

       <b>Parameters</b>
           <u>url</u> A pointer to a string containing the URL of the server to post the request to. This URL must be
           an HTTPS URL naming a GRAM service resource.
           <u>handle</u> A pointer to a <u>globus_gram_protocol_handle_t</u> which will be initialized with a unique handle
           identifier. This identifier will be passed to the <u>callback</u> function to allow the caller to
           differentiate replies to multiple GRAM Protocol requests. This pointer may be NULL if the caller will
           not have multiple simultaneous requests.
           <u>attr</u> A pointer to a Globus I/O attribute set, which will be used as parameters when connecting to the
           GRAM server. The value of <u>attr</u> may be NULL, in which case, the default GRAM Protocol attributes will
           be used (authentication to self, SSL-compatible transport, with message integrity).
           <u>message</u> A pointer to a message string to be sent to the GRAM server. This is normally created by
           calling one of the GRAM Protocol <b>pack</b>  functions. This message need not be NULL terminated as the
           length is passed in the <u>message_size</u> parameter.
           <u>message_size</u> The length of the <u>message</u> string. Typically generated as one of the output parameters to
           one of the GRAM Protocol <b>pack</b>  functions.
           <u>callback</u> A pointer to a function to call when the response to this message is received or the message
           exchange fails. This may be NULL, in which case no callback will be received, and the caller will be
           unable to verify whether the message was successfully received.
           <u>callback_arg</u> A pointer to application-specific data which will be passed to the function pointed to
           by <u>callback</u> as its first parameter. This may be NULL if the application has a NULL <u>callback</u> or does
           not require the pointer to establish its context in the callback.

       <b>Returns</b>
           Upon success, <b>globus_gram_protocol_post()</b> returns GLOBUS_SUCCESS, initiates the message exchange,
           registers the function pointed to by <u>callback</u> to be called when the exchange completes or fails, and
           modifies the <u>handle</u> parameter if it is non-NULL. If an error occurs, its error code will be returned,
           the <u>handle</u> parameter will be uninitialized and the function pointed to be <u>callback</u> will not be
           called.

       <b>Return</b> <b>values</b>
           <u>GLOBUS_SUCCESS</u> Success
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_JOB_CONTACT</u> Invalid job contact
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED</u> Out of memory
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST</u> Invalid request
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_NO_RESOURCES</u> No resources

       <b>Note</b>
           There is no way to time out or cancel a service request that is begun with
           <b>globus_gram_protocol_post()</b>.

       <b>See</b> <b>also</b>
           <b>globus_gram_protocol_reply()</b>

   <b>int</b> <b>globus_gram_protocol_post_delegation</b> <b>(const</b> <b>char</b> <b>*</b> <b>url,</b> <b>globus_gram_protocol_handle_t</b> <b>*</b> <b>handle,</b>
       <b>globus_io_attr_t</b> <b>*</b> <b>attr,</b> <b>globus_byte_t</b> <b>*</b> <b>message,</b> <b>globus_size_t</b> <b>message_size,</b> <b>gss_cred_id_t</b> <b>cred_handle,</b>
       <b>gss_OID_set</b> <b>restriction_oids,</b> <b>gss_buffer_set_t</b> <b>restriction_buffers,</b> <b>OM_uint32</b> <b>req_flags,</b> <b>OM_uint32</b>
       <b>time_req,</b> <b>globus_gram_protocol_callback_t</b> <b>callback,</b> <b>void</b> <b>*</b> <b>callback_arg)</b>
       Post a GRAM protocol delegation request to a GRAM server. The <b>globus_gram_protocol_post_delegation()</b>
       function initiates a GRAM protocol delegation exchange with a GRAM protocol listener. The delegation
       protocol is a custom mix of HTTP and SSL records.

       The <b>globus_gram_protocol_post_delegation()</b> function returns after framing the message and initiating the
       connection to be used for delegation. When the message exchange is complete, the function pointed to by
       <u>callback</u> is invoked either in another thread or when a non-threaded application calls the globus_poll()
       or globus_cond_wait() functions.

       <b>Parameters</b>
           <u>url</u> A pointer to a string containing the URL of the server to post the request to. This URL must be
           an HTTPS URL naming a GRAM service resource.
           <u>handle</u> A pointer to a <u>globus_gram_protocol_handle_t</u> which will be initialized with a unique handle
           identifier. This identifier will be passed to the <u>callback</u> function to allow the caller to
           differentiate replies to multiple GRAM Protocol requests. This pointer may be NULL if the caller will
           not have multiple simultaneous requests.
           <u>attr</u> A pointer to a Globus I/O attribute set, which will be used as parameters when connecting to the
           GRAM server. The value of <u>attr</u> may be NULL, in which case, the default GRAM Protocol attributes will
           be used (authentication to self, SSL-compatible transport, with message integrity).
           <u>message</u> A pointer to a message string to be sent to the GRAM server. This is normally created by
           calling one of the GRAM Protocol <b>pack</b>  functions. This message need not be NULL terminated as the
           length is passed in the <u>message_size</u> parameter.
           <u>message_size</u> The length of the <u>message</u> string. Typically generated as one of the output parameters to
           one of the GRAM Protocol <b>pack</b>  functions.
           <u>cred_handle</u> Handle to an existing GSSAPI security credential. If this parameter is set to
           <u>GSS_C_NO_CREDENTIAL</u>, then the current account's default credential will be used. A proxy credential
           sharing the identity of this credential will be delegated to the GRAM protocol server.
           <u>restriction_oids</u> A set of OID values indicating the data in the <u>restriction_buffers</u> parameter. This
           parameter may have the value GSS_C_NO_OID_SET if there are no restriction buffers.
           <u>restriction_buffers</u> A set of binary data buffers which will be included in the delegated credential.
           The type of data in these buffers is determined by the OID values in <u>restriction_oids</u>. This parameter
           may have the value GSS_C_EMPTY_BUFFER_SET if there are no extra restrictions to be added to the
           credential.
           <u>req_flags</u> A bitwise-or of GSSAPI flag values to use when delegating the credential using
           gss_init_delegation().
           <u>time_req</u> An integer value indicating the length of time (in seconds) that the delegated credential
           should be valid for. This is an advisory parameter: no error will be returned if a credential with
           the requested lifetime can not be created.
           <u>callback</u> A pointer to a function to call when the response to this message is received or the message
           exchange fails. This may be NULL, in which case no callback will be received, and the caller will be
           unable to verify whether the message was successfully received.
           <u>callback_arg</u> A pointer to application-specific data which will be passed to the function pointed to
           by <u>callback</u> as its first parameter. This may be NULL if the application has a NULL <u>callback</u> or does
           not require the pointer to establish its context in the callback.

       <b>Returns</b>
           Upon success, <b>globus_gram_protocol_post_delegation()</b> returns GLOBUS_SUCCESS, initiates the message
           exchange, registers the function pointed to by <u>callback</u> to be called when the exchange completes or
           fails, and modifies the <u>handle</u> parameter if it is non-NULL. If an error occurs, its error code will
           be returned, the <u>handle</u> parameter will be uninitialized and the function pointed to be <u>callback</u> will
           not be called. In the case of a protocol or delegation failure, the callback function will be called
           with the <u>errorcode</u> parameter set to the error.

       <b>Return</b> <b>values</b>
           <u>GLOBUS_SUCCESS</u> Success
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_JOB_CONTACT</u> Invalid job contact
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED</u> Out of memory
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST</u> Invalid request
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_NO_RESOURCES</u> No resources

       <b>Note</b>
           There is no way to time out or cancel a service request that is begun with
           <b>globus_gram_protocol_post_delegation()</b>.

       <b>See</b> <b>also</b>
           <b>globus_gram_protocol_reply()</b>

   <b>int</b> <b>globus_gram_protocol_reply</b> <b>(globus_gram_protocol_handle_t</b> <b>handle,</b> <b>int</b> <b>code,</b> <b>globus_byte_t</b> <b>*</b> <b>message,</b>
       <b>globus_size_t</b> <b>message_size)</b>
       Reply to a GRAM protocol message. The <b>globus_gram_protocol_reply()</b> <b>function</b> <b>sends</b> <b>a</b> <b>response</b> <b>message</b> <b>to</b> <b>a</b>
       <b>client</b> <b>which</b> <b>initiated</b> <b>a</b> <b>GRAM</b> <b>message</b> <b>exchange.</b> <b>The</b> <b>globus_gram_protocol_reply()</b> <b>function</b> <b>composes</b> <b>the</b>
       <b>message</b> <b>with</b> <b>an</b> <b>HTTP</b> <b>message</b> <b>frame</b> <b>and</b> <b>then</b> <b>sends</b> <b>it</b> <b>to</b> <b>the</b> <b>client</b> <b>which</b> <b>initiated</b> <b>the</b> <b>exchange.</b>

       <b>Parameters</b>
           <u>handle</u> A GRAM protocol handle which is used by this function to determine the network connection to
           use for this reply. This must be the same value as was passed as a parameter to the callback function
           registered with the <b>globus_gram_protocol_allow_attach()</b> <b>function.</b>
           <u>code</u> <b>The</b> <b>HTTP</b> <b>response</b> <b>code.</b> <b>The</b> <b>code</b> <b>should</b> <b>be</b> <b>one</b> <b>from</b> <b>the</b> <b>set</b> <b>described</b> <b>in</b> <b>RFC</b> <b>2616.</b>
           <u>message</u> <b>A</b> <b>pointer</b> <b>to</b> <b>a</b> <b>message</b> <b>string</b> <b>to</b> <b>be</b> <b>sent</b> <b>to</b> <b>the</b> <b>GRAM</b> <b>client.</b> <b>This</b> <b>is</b> <b>normally</b> <b>created</b> <b>by</b>
           <b>calling</b> <b>one</b> <b>of</b> <b>the</b> <b>GRAM</b> <b>Protocol</b> <b>pack</b>  <b>functions.</b> <b>This</b> <b>message</b> <b>need</b> <b>not</b> <b>be</b> <b>NULL</b> <b>terminated</b> <b>as</b> <b>the</b>
           <b>length</b> <b>is</b> <b>passed</b> <b>in</b> <b>the</b> <u>message_size</u> <b>parameter.</b>
           <u>message_size</u> <b>The</b> <b>length</b> <b>of</b> <b>the</b> <u>message</u> <b>string.</b> <b>Typically</b> <b>generated</b> <b>as</b> <b>one</b> <b>of</b> <b>the</b> <b>output</b> <b>parameters</b> <b>to</b>
           <b>one</b> <b>of</b> <b>the</b> <b>GRAM</b> <b>Protocol</b> <b>pack</b>  <b>functions.</b>

       <b>Returns</b>
           Upon success, <b>globus_gram_protocol_reply()</b> <b>returns</b> <b>GLOBUS_SUCCESS,</b> <b>frames</b> <b>the</b> <u>message</u> <b>with</b> <b>an</b> <b>HTTP</b>
           <b>header</b> <b>and</b> <b>initiates</b> <b>sending</b> <b>the</b> <b>message</b> <b>to</b> <b>the</b> <b>client.</b> <b>The</b> <b>caller</b> <b>must</b> <b>not</b> <b>try</b> <b>to</b> <b>use</b> <b>the</b> <b>value</b> <b>of</b>
           <b>the</b> <u>handle</u> <b>parameter</b> <b>after</b> <b>this</b> <b>function</b> <b>returns.</b> <b>If</b> <b>an</b> <b>error</b> <b>occurs,</b> <b>its</b> <b>integer</b> <b>error</b> <b>code</b> <b>will</b> <b>be</b>
           <b>returned.</b>

       <b>Return</b> <b>values</b>
           <u>GLOBUS_SUCCESS</u> Success
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST</u> Invalid request
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_NO_RESOURCES</u> No Resources

       <b>See</b> <b>also</b>
           <b>globus_gram_protocol_allow_attach()</b>

   <b>int</b> <b>globus_gram_protocol_setup_attr</b> <b>(globus_io_attr_t</b> <b>*</b> <b>attr)</b>
       Create default I/O attribute for GRAM. The <b>globus_gram_protocol_setup_attr()</b> function creates a new
       globus_io attribute containing the default set of values needed for communication between a GRAM client
       and a job manager. These attributes include:

       • SO_KEEPALIVE

       • GSSAPI Mutual Authentication

       • GSSAPI Self Authorization

       • SSL-compatible message wrapping

       <b>Parameters</b>
           <u>attr</u> A pointer to a <u>globus_io_attr_t</u> structure which will be initialized by this function.

       <b>Returns</b>
           Upon  success,  <b>globus_gram_protocol_setup_attr()</b>  modifies  the  <u>attr</u>  parameter  to  point to a new
           attribute and returns the value <u>GLOBUS_SUCCESS</u>.  When  this  occurs,  the  caller  must  destroy  the
           attribute when no longer needed by calling globus_io_tcpattr_destroy(). If an error occurs, its value
           will  be  returned and the attribute pointed to by the <u>attr</u> parameter will be set to an uninitialized
           state.

       <b>Return</b> <b>values</b>
           <u>GLOBUS_SUCCESS</u> Success
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_CONNECTION_FAILED</u> Error initializing attribute

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for globus_gram_protocol from the source code.

globus_gram_protocol                              Version 13.6                        <u><a href="../man3/globus_gram_protocol_io.3.html">globus_gram_protocol_io</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>