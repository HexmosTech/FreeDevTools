<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::Message::Head::Partial - subset of header information of a message</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-message-perl">libmail-message-perl_3.017-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::Message::Head::Partial - subset of header information of a message

</pre><h4><b>INHERITANCE</b></h4><pre>
        Mail::Message::Head::Partial
          is a Mail::Message::Head::Complete
          is a Mail::Message::Head
          is a Mail::Reporter

</pre><h4><b>SYNOPSIS</b></h4><pre>
        my $partial = $head-&gt;strip;
        $partial-&gt;isa('Mail::Message::Head')  # true
        $partial-&gt;isDelayed                      # false
        $partial-&gt;isPartial                      # true

        $partial-&gt;removeFields( qr/^X-/ );
        $partial-&gt;removeFieldsExcept( qw/To From/ );
        $partial-&gt;removeResentGroups;
        $partial-&gt;removeListGroup;
        $partial-&gt;removeSpamGroups;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Header information consumes a considerable amount of memory.  Most of this information is only useful
       during a short period of time in your program, or sometimes it is not used at all.  You then can decide
       to remove most of the header information.  However, be warned that it will be lost permanently: the
       header (and therefore the message) gets mutulated!

       Extends "DESCRIPTION" in Mail::Message::Head::Complete.

</pre><h4><b>OVERLOADED</b></h4><pre>
       Extends "OVERLOADED" in Mail::Message::Head::Complete.

       overload: <b>""</b>
           Inherited, see "OVERLOADED" in Mail::Message::Head

       overload: <b>bool</b>
           Inherited, see "OVERLOADED" in Mail::Message::Head

</pre><h4><b>METHODS</b></h4><pre>
       Extends "METHODS" in Mail::Message::Head::Complete.

   <b>Constructors</b>
       Extends "Constructors" in Mail::Message::Head::Complete.

       Mail::Message::Head::Partial-&gt;<b>build</b>( [PAIR|$field], ... )
           Inherited, see "Constructors" in Mail::Message::Head::Complete

       $obj-&gt;<b>clone</b>( [@names|ARRAY|Regexps] )
           Inherited, see "Constructors" in Mail::Message::Head::Complete

       Mail::Message::Head::Partial-&gt;<b>new</b>(%options)
           Inherited, see "Constructors" in Mail::Message::Head

   <b>The</b> <b>header</b>
       Extends "The header" in Mail::Message::Head::Complete.

       $obj-&gt;<b>isDelayed</b>()
           Inherited, see "The header" in Mail::Message::Head

       $obj-&gt;<b>isEmpty</b>()
           Inherited, see "The header" in Mail::Message::Head

       $obj-&gt;<b>isModified</b>()
           Inherited, see "The header" in Mail::Message::Head

       $obj-&gt;<b>knownNames</b>()
           Inherited, see "The header" in Mail::Message::Head

       $obj-&gt;<b>message</b>( [$message] )
           Inherited, see "The header" in Mail::Message::Head

       $obj-&gt;<b>modified</b>( [BOOLEAN] )
           Inherited, see "The header" in Mail::Message::Head

       $obj-&gt;<b>nrLines</b>()
           Inherited, see "The header" in Mail::Message::Head::Complete

       $obj-&gt;<b>orderedFields</b>()
           Inherited, see "The header" in Mail::Message::Head

       $obj-&gt;<b>size</b>()
           Inherited, see "The header" in Mail::Message::Head::Complete

       $obj-&gt;<b>wrap</b>($integer)
           Inherited, see "The header" in Mail::Message::Head::Complete

   <b>Access</b> <b>to</b> <b>the</b> <b>header</b>
       Extends "Access to the header" in Mail::Message::Head::Complete.

       $obj-&gt;<b>add</b>( $field | $line | &lt;$name, $body, [$attrs]&gt; )
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>addListGroup</b>($object)
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>addResentGroup</b>($resent_group|$data)
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>addSpamGroup</b>($object)
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>cleanupOrderedFields</b>()
           The header maintains a list of fields which are ordered in sequence of definition.  It is required to
           maintain  the header order to keep the related fields of resent groups together.  The fields are also
           included in a hash, sorted on their name for fast access.

           The references to field objects in the hash are real, those in the ordered list are  weak.   So  when
           field  objects  are  removed  from  the  hash, their references in the ordered list are automagically
           undef'd.

           When many fields are removed, for instance with <b>removeFields()</b> or <b>removeFieldsExcept()</b>,  then  it  is
           useful  to  remove  the list of undefs from the ordered list as well.  In those cases, this method is
           called automatically, however you may have your own reasons to call this method.

       $obj-&gt;<b>count</b>($name)
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>delete</b>($name)
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>get</b>( $name, [$index] )
           Inherited, see "Access to the header" in Mail::Message::Head

       $obj-&gt;<b>grepNames</b>( [@names|ARRAY|Regexps] )
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>listGroup</b>()
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>names</b>()
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>print</b>( [$fh] )
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>printSelected</b>($fh, &lt;STRING|Regexp&gt;, ...)
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>printUndisclosed</b>( [$fh] )
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>removeContentInfo</b>()
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>removeField</b>($field)
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>removeFields</b>( &lt;STRING|Regexp&gt;, ... )
           Remove the fields from the header which are exactly named 'STRING' (case insensitive)  or  match  the
           regular  expresssion.   Do  not forget to add the 'i' modifier to the regexp, because fields are case
           insensitive.

           See also <b>removeField()</b> which is used to remove  one  field  object  from  the  header.   The  reverse
           specification can be made with removeFieldsExcept().

           example:

            $head-&gt;removeFields('bcc', 'received');
            $head-&gt;removeFields( qr/^content-/i );

       $obj-&gt;<b>removeFieldsExcept</b>(STRING|Regexp, ...)
           Remove  all  fields  from  the header which are not equivalent to one of the specified STRINGs (case-
           insensitive) and which are not matching one of the REGular EXPressions.  Do not forget to add the 'i'
           modifier to the Regexp, because fields are case insensitive.

           See also <b>removeField()</b> which is used to remove  one  field  object  from  the  header.   The  reverse
           specification can be made with removeFields().

           example:

            $head-&gt;removeFieldsExcept('subject', qr/^content-/i );
            $head-&gt;removeFieldsExcept( qw/subject to from sender cc/ );

       $obj-&gt;<b>removeListGroup</b>()
           Removes  all  header  lines  which  are  used  to administer mailing lists.  Which fields that are is
           explained in Mail::Message::Head::ListGroup.  Returned is the number of removed lines.

       $obj-&gt;<b>removeResentGroups</b>()
           Removes  all  header  lines  which  are  member  of  a  <u>resent</u>  <u>group</u>,   which   are   explained   in
           Mail::Message::Head::ResentGroup.  Returned is the number of removed lines.

           For   removing   single   groups   (for   instance   because   you   want  to  keep  the  last),  use
           <b>Mail::Message::Head::FieldGroup::delete()</b>.

       $obj-&gt;<b>removeSpamGroups</b>()
           Removes all header lines which were produced by spam detection  and  spam-fighting  software.   Which
           fields  that  are  is explained in Mail::Message::Head::SpamGroup.  Returned is the number of removed
           lines.

       $obj-&gt;<b>resentGroups</b>()
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>reset</b>($name, @fields)
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>set</b>( $field | $line | &lt;$name, $body, [$attrs]&gt; )
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>spamDetected</b>()
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>spamGroups</b>( [$names] )
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>string</b>()
           Inherited, see "Access to the header" in Mail::Message::Head::Complete

       $obj-&gt;<b>study</b>( $name, [$index] )
           Inherited, see "Access to the header" in Mail::Message::Head

   <b>About</b> <b>the</b> <b>body</b>
       Extends "About the body" in Mail::Message::Head::Complete.

       $obj-&gt;<b>guessBodySize</b>()
           Inherited, see "About the body" in Mail::Message::Head

       $obj-&gt;<b>guessTimeStamp</b>()
           Inherited, see "About the body" in Mail::Message::Head::Complete

       $obj-&gt;<b>isMultipart</b>()
           Inherited, see "About the body" in Mail::Message::Head

       $obj-&gt;<b>recvstamp</b>()
           Inherited, see "About the body" in Mail::Message::Head::Complete

       $obj-&gt;<b>timestamp</b>()
           Inherited, see "About the body" in Mail::Message::Head::Complete

   <b>Internals</b>
       Extends "Internals" in Mail::Message::Head::Complete.

       $obj-&gt;<b>addNoRealize</b>($field)
           Inherited, see "Internals" in Mail::Message::Head

       $obj-&gt;<b>addOrderedFields</b>($fields)
           Inherited, see "Internals" in Mail::Message::Head

       $obj-&gt;<b>createFromLine</b>()
           Inherited, see "Internals" in Mail::Message::Head::Complete

       $obj-&gt;<b>createMessageId</b>()
           Inherited, see "Internals" in Mail::Message::Head::Complete

       $obj-&gt;<b>fileLocation</b>()
           Inherited, see "Internals" in Mail::Message::Head

       $obj-&gt;<b>load</b>()
           Inherited, see "Internals" in Mail::Message::Head

       $obj-&gt;<b>messageIdPrefix</b>( [$prefix, [$hostname]|CODE] )
       Mail::Message::Head::Partial-&gt;<b>messageIdPrefix</b>( [$prefix, [$hostname]|CODE] )
           Inherited, see "Internals" in Mail::Message::Head::Complete

       $obj-&gt;<b>moveLocation</b>($distance)
           Inherited, see "Internals" in Mail::Message::Head

       $obj-&gt;<b>read</b>($parser)
           Inherited, see "Internals" in Mail::Message::Head

       $obj-&gt;<b>setNoRealize</b>($field)
           Inherited, see "Internals" in Mail::Message::Head

   <b>Error</b> <b>handling</b>
       Extends "Error handling" in Mail::Message::Head::Complete.

       $obj-&gt;<b>AUTOLOAD</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>addReport</b>($object)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
       Mail::Message::Head::Partial-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>errors</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>log</b>( [$level, [$strings]] )
       Mail::Message::Head::Partial-&gt;<b>log</b>( [$level, [$strings]] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logPriority</b>($level)
       Mail::Message::Head::Partial-&gt;<b>logPriority</b>($level)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logSettings</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>notImplemented</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>report</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>reportAll</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>trace</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>warnings</b>()
           Inherited, see "Error handling" in Mail::Reporter

   <b>Cleanup</b>
       Extends "Cleanup" in Mail::Message::Head::Complete.

       $obj-&gt;<b>DESTROY</b>()
           Inherited, see "Cleanup" in Mail::Reporter

</pre><h4><b>DETAILS</b></h4><pre>
       Extends "DETAILS" in Mail::Message::Head::Complete.

   <b>Ordered</b> <b>header</b> <b>fields</b>
       Extends "Ordered header fields" in Mail::Message::Head::Complete.

   <b>Head</b> <b>class</b> <b>implementation</b>
       Extends "Head class implementation" in Mail::Message::Head::Complete.

   <b>Subsets</b> <b>of</b> <b>header</b> <b>fields</b>
       Extends "Subsets of header fields" in Mail::Message::Head::Complete.

   <b>Reducing</b> <b>the</b> <b>header</b> <b>size</b>
       A message header is very large in memory and quite large on disk, and therefore a good candidate for size
       reduction.  One way to reduce the size is by simply eliminating superfluous header  fields.   Each  field
       requires at least 100 bytes of run-time memory, so this may help!

       Before  you start playing around with <b>removeFields()</b> and <b>removeFieldsExcept()</b>, you may take a look at two
       large groups of fields which can be removes as sets: the resent headers and the mailinglist headers.

       Resent headers describe the intermediate steps in the  transmission  process  for  the  messages.   After
       successful delivery, they are rarely useful.

       When  you  are archiving a mailinglist, it is hardly ever useful to store a the list administration lines
       for each message as well.

       <b>.</b> <b>see</b> <b>examples/reduce.pl</b> <b>in</b> <b>distribution</b>

        foreach my $msg ($folder-&gt;messages)
        {  $msg-&gt;head-&gt;removeResentGroups;
           $msg-&gt;head-&gt;removeResentList;
        }

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Warning: Cannot remove field $name from header: not found.
           You ask to remove a field which is not known in the header.  Using <b>delete()</b>, <b>reset()</b>, or <b>set()</b> to  do
           the job will not result in warnings: those methods check the existence of the field first.

       Warning: Field objects have an implied name ($name)
       Error: Package $package does not implement $method.
           Fatal  error:  the specific package (or one of its superclasses) does not implement this method where
           it should. This message means that some other related classes do implement this  method  however  the
           class  at  hand does not.  Probably you should investigate this and probably inform the author of the
           package.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       This module is part of Mail-Message distribution  version  3.017,  built  on  April  18,  2025.  Website:
       <u><a href="http://perl.overmeer.net/CPAN/">http://perl.overmeer.net/CPAN/</a></u>

</pre><h4><b>LICENSE</b></h4><pre>
       Copyrights 2001-2025 by [Mark Overmeer &lt;<a href="mailto:markov@cpan.org">markov@cpan.org</a>&gt;]. For other contributors see ChangeLog.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.  See <u><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></u>

perl v5.40.1                                       2025-04-25                  <u>Mail::Message::Head::<a href="../man3pm/Partial.3pm.html">Partial</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>