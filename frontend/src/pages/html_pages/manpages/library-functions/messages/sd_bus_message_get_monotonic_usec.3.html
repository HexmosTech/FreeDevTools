<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sd_bus_message_get_monotonic_usec, sd_bus_message_get_realtime_usec, sd_bus_message_get_seqnum - Retrieve</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsystemd-dev">libsystemd-dev_257.7-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sd_bus_message_get_monotonic_usec, sd_bus_message_get_realtime_usec, sd_bus_message_get_seqnum - Retrieve
       the sender timestamps and sequence number of a message

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;systemd/sd-bus.h&gt;</b>

       <b>int</b> <b>sd_bus_message_get_monotonic_usec(sd_bus_message</b> <b>*</b><u>message</u><b>,</b> <b>uint64_t</b> <b>*</b><u>usec</u><b>);</b>

       <b>int</b> <b>sd_bus_message_get_realtime_usec(sd_bus_message</b> <b>*</b><u>message</u><b>,</b> <b>uint64_t</b> <b>*</b><u>usec</u><b>);</b>

       <b>int</b> <b>sd_bus_message_get_seqnum(sd_bus_message</b> <b>*</b><u>message</u><b>,</b> <b>uint64_t</b> <b>*</b><u>seqnum</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sd_bus_message_get_monotonic_usec()</b> returns the monotonic timestamp of the time the message was sent.
       This value is in microseconds since the <b>CLOCK_MONOTONIC</b> epoch, see <b><a href="../man2/clock_gettime.2.html">clock_gettime</a></b>(2) for details.

       Similarly, <b>sd_bus_message_get_realtime_usec()</b> returns the realtime (wallclock) timestamp of the time the
       message was sent. This value is in microseconds since Jan 1st, 1970, i.e. in the <b>CLOCK_REALTIME</b> clock.

       <b>sd_bus_message_get_seqnum()</b> returns the kernel-assigned sequence number of the message. The kernel
       assigns a global, monotonically increasing sequence number to all messages transmitted on the local
       system, at the time the message was sent. This sequence number is useful for determining message send
       order, even across different buses of the local system. The sequence number combined with the boot ID of
       the system (as returned by <b><a href="../man3/sd_id128_get_boot.3.html">sd_id128_get_boot</a></b>(3)) is a suitable globally unique identifier for bus
       messages.

       Note that the sending order and receiving order of messages might differ, in particular for broadcast
       messages. This means that the sequence number and the timestamps of messages a client reads are not
       necessarily monotonically increasing.

       These timestamps and the sequence number are attached to each message by the kernel and cannot be
       manipulated by the sender.

       Note that these timestamps are only available on some bus transports, and only after support for them has
       been negotiated with the <b><a href="../man3/sd_bus_negotiate_timestamp.3.html">sd_bus_negotiate_timestamp</a></b>(3) call.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, these calls return 0 or a positive integer. On failure, these calls return a negative
       errno-style error code.

       On success, the timestamp or sequence number is returned in the specified 64-bit unsigned integer
       variable.

   <b>Errors</b>
       Returned errors may indicate the following problems:

       <b>-EINVAL</b>
           A specified parameter is invalid.

       <b>-ENODATA</b>
           No timestamp or sequence number information is attached to the passed message. This error is returned
           if the underlying transport does not support timestamping or assigning of sequence numbers, or if
           this feature has not been negotiated with <b><a href="../man3/sd_bus_negotiate_timestamp.3.html">sd_bus_negotiate_timestamp</a></b>(3).

</pre><h4><b>NOTES</b></h4><pre>
       Functions described here are available as a shared library, which can be compiled against and linked to
       with the <b>libsystemd</b> <b><a href="../man1/pkg-config.1.html">pkg-config</a></b>(1) file.

       The code described here uses <b><a href="../man3/getenv.3.html">getenv</a></b>(3), which is declared to be not multi-thread-safe. This means that
       the code calling the functions described here must not call <b><a href="../man3/setenv.3.html">setenv</a></b>(3) from a parallel thread. It is
       recommended to only do calls to <b>setenv()</b> from an early phase of the program when no other threads have
       been started.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>sd_bus_message_get_monotonic_usec()</b>, <b>sd_bus_message_get_realtime_usec()</b>, and <b>sd_bus_message_get_seqnum()</b>
       were added in version 209.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man3/sd-bus.3.html">sd-bus</a></b>(3), <b><a href="../man3/sd_bus_new.3.html">sd_bus_new</a></b>(3), <b><a href="../man3/sd_bus_negotiate_timestamp.3.html">sd_bus_negotiate_timestamp</a></b>(3), <b><a href="../man2/clock_gettime.2.html">clock_gettime</a></b>(2),
       <b><a href="../man3/sd_id128_get_boot.3.html">sd_id128_get_boot</a></b>(3)

systemd 257.7                                                               <u><a href="../man3/SD_BUS_MESSAGE_GET_MONOTONIC_USEC.3.html">SD_BUS_MESSAGE_GET_MONOTONIC_USEC</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>