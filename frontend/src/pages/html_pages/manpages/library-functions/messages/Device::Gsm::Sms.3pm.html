<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Device::Gsm::Sms - SMS message internal class that represents a single text SMS message</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdevice-gsm-perl">libdevice-gsm-perl_1.61-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Device::Gsm::Sms - SMS message internal class that represents a single text SMS message

</pre><h4><b>SYNOPSIS</b></h4><pre>
           # A list of Device::Gsm::Sms messages is returned by
           # Device::Gsm messages() method.

           use Device::Gsm;
           ...
           @sms = $gsm-&gt;messages();

           if( @sms ) {
               foreach( @sms ) {
                   print $msg-&gt;storage()   , "\n";
                   print $msg-&gt;recipient() , "\n";
                   print $msg-&gt;sender()    , "\n";
                   print $msg-&gt;content()   , "\n";
                   print $msg-&gt;time()      , "\n";
                   print $msg-&gt;type()      , "\n";
               }
           }

           # Or you can instance a sms message from raw PDU data
           my $msg = new Device::Gsm::Sms(
               header =&gt; '+CMGL: ...',
               pdu    =&gt; `[encoded pdu data]',
               storage=&gt; 'ME', # or 'SC'
           );

           if( defined $msg ) {
               print $msg-&gt;recipient() , "\n";
               print $msg-&gt;sender()    , "\n";
               print $msg-&gt;content()   , "\n";  # or $msg-&gt;text()
               print $msg-&gt;time()      , "\n";
               print $msg-&gt;type()      , "\n";
           }

               $msg-&gt;delete();

</pre><h4><b>DESCRIPTION</b></h4><pre>
       "Device::Gsm::Sms" class implements very basic SMS message object, that can be used to decode "+CMGL" GSM
       command response to build a more friendly high-level object.

</pre><h4><b>METHODS</b></h4><pre>
       The following is a list of methods applicable to "Device::Gsm::Sms" objects.

   <b>content()</b>
       See <b>text()</b> method.

   <b>decode()</b>
       Starts the decoding process of pdu binary data. If decoding process ends in success, return value is true
       and sms object is filled with all proper values.

       If decoding process has errors or pdu data is not provided, return value is 0 (zero).

   <b>delete()</b>
       Delete the current SMS message from sim card.  Example:

           $gsm = Device::Gsm-&gt;new();
           ...
           my @msg = $gsm-&gt;messages();
           $msg[0] &amp;&amp; $msg[0]-&gt;delete();

   <b>new()</b>
       Basic constructor. You can build a new "Device::Gsm::Sms" object from the raw <b>+CMGL</b> header and <b>PDU</b> data.
       Those data is then decoded and a new sms object is instanced and all information filled, to be available
       for subsequent method calls.

       The allowed parameters to <b>new()</b> method are:

       header
           This is the raw <b>+CMGL</b> header string as modem outputs when you issue a <b>+CMGL</b> command

       pdu Binary encoded sms data

       storage
           Tells  which  storage to delete the message from. Check the documentation of your phone to know valid
           storage values. Default values are:

           "ME"
               Deletes messages from gsm phone memory.

           "SC"
               Deletes messages from sim card.

   <b>index()</b>
       Returns the sms message index number, that is the position of message in the internal  device  memory  or
       sim card.  This number is used for example to delete the message.

           my $gsm = Device::Gsm-&gt;new(port=&gt;'/dev/ttyS0');
           ...
           my @messages = $gsm-&gt;messages();
           ...
           # Delete the first returned message
           my $msg = shift @messages;
           $gsm-&gt;delete_sms( $msg-&gt;index() );

   <b>recipient()</b>
       Returns the sms recipient number (destination address = DA) as string (ex.: +39012345678).

   <b>sender()</b>
       Returns the sms sender number (originating address = OA) as string.

   <b>status()</b>
       Status of the message can be one value from the following list:

   <b>storage()</b>
       Returns the storage where SMS has been read from.

   <b>text()</b>
       Returns the textual content of sms message.

   <b>token()</b>
       Returns the given PDU token of the decoded message (internal usage).

   <b>type()</b>
       SMS  messages  can  be  of  two types: SMS_SUBMIT and SMS_DELIVER, that are defined by two constants with
       those names. <b>type()</b> method returns one of these two values.

       Example:

               if( $sms-&gt;type() == Device::Gsm::Sms::SMS_DELIVER ) {
                       # ...
               }
               elsif( $sms-&gt;type() == Device::Gsm::Sms::SMS_SUBMIT ) {
                       # ...
               }

</pre><h4><b>REQUIRES</b></h4><pre>
       •   Device::Gsm

</pre><h4><b>EXPORTS</b></h4><pre>
       None

</pre><h4><b>TODO</b></h4><pre>
       •   Complete and proof-read documentation and examples

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Device::Gsm::Sms - SMS message simple class that represents a text SMS message

       Copyright (C) 2002-2015 Cosimo Streppone, <a href="mailto:cosimo@cpan.org">cosimo@cpan.org</a>

       This program is free software; you can redistribute it and/or modify it only  under  the  terms  of  Perl
       itself.

       This  program  is  distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR  PURPOSE.   See  the  Perl  licensing
       terms for details.

</pre><h4><b>AUTHOR</b></h4><pre>
       Cosimo Streppone, <a href="mailto:cosimo@cpan.org">cosimo@cpan.org</a>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Device::Gsm, <b><a href="../man1/perl.1.html">perl</a></b>(1)

perl v5.32.0                                       2021-01-19                              <u>Device::Gsm::<a href="../man3pm/Sms.3pm.html">Sms</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>