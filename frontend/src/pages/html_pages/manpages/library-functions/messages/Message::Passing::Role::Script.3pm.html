<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Message::Passing::Role::Script - Handy role for building messaging scripts.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmessage-passing-perl">libmessage-passing-perl_0.117-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Message::Passing::Role::Script - Handy role for building messaging scripts.

</pre><h4><b>SYNOPSIS</b></h4><pre>
           # my_message_passer.pl
           package My::Message::Passer;
           use Moo;
           use MooX::Options;
           use MooX::Types::MooseLike::Base qw/ Bool /;
           use Message::Passing::DSL;

           with 'Message::Passing::Role::Script';

           option foo =&gt; (
               is =&gt; 'ro',
               isa =&gt; Bool,
           );

           sub build_chain {
               my $self = shift;
               message_chain {
                   input example =&gt; ( output_to =&gt; 'test_out', .... );
                   output test_out =&gt; ( foo =&gt; $self-&gt;foo, ... );
               };
           }

           __PACKAGE__-&gt;start unless caller;
           1;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This role can be used to make simple message passing scripts.

       The user implements a MooX::Options type script class, with a "build_chain" method, that builds one or
       more Message::Passing chains and returns them.

           __PACKAGE__-&gt;start unless caller;

       is then used before the end of the script.

       This means that when the code is run as a script, it'll parse the command line options, and start a
       message passing server..

</pre><h4><b>REQUIRED</b> <b>METHODS</b></h4><pre>
</pre><h4><b>build_chain</b></h4><pre>
       Return a chain of message processors, or an array reference with multiple chains of message processors.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
   <b>daemonize</b>
       Do a double fork and lose controlling terminal.

       Used to run scripts in the background.

   <b>io_priority</b>
       The IO priority to run the script at..

       Valid values for the IO priority are:

       none
       be
       rt
       idle

   <b>user</b>
       Changes the user the script is running as. You probably need to run the script as root for this option to
       work.

   <b>pid_file</b>
       Write a pid file out. Useful for running Message::Passing scripts as daemons and/or from init.d scripts.

</pre><h4><b>METHODS</b></h4><pre>
   <b>start</b>
       Called  as a class method, it will build the current class as a command line script (parsing ARGV), setup
       the daemonization options, call the -&gt;build_chain method supplied by the user to build the chains  needed
       for this application.

       Then enters the event loop and never returns.

   <b>change_uid_if_needed</b>
       Tries to change uid if the --user option has been supplied

   <b>daemonize_if_needed</b>
       Tires to daemonize if the --daemonize option has been supplied

   <b>set_io_priority_if_needed</b>
       Tries to set the process' IO priority if the --io_priority option has been supplied.

</pre><h4><b>SPONSORSHIP</b></h4><pre>
       This  module exists due to the wonderful people at Suretec Systems Ltd.  &lt;<a href="http://www.suretecsystems.com/">http://www.suretecsystems.com/</a>&gt;
       who sponsored its development for its VoIP division called SureVoIP &lt;<a href="http://www.surevoip.co.uk/">http://www.surevoip.co.uk/</a>&gt; for  use
       with the SureVoIP API - &lt;<a href="http://www.surevoip.co.uk/support/wiki/api_documentation">http://www.surevoip.co.uk/support/wiki/api_documentation</a>&gt;

</pre><h4><b>AUTHOR,</b> <b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       See Message::Passing.

perl v5.32.1                                       2021-11-09                <u>Message::Passing::Role::<a href="../man3pm/Script.3pm.html">Script</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>