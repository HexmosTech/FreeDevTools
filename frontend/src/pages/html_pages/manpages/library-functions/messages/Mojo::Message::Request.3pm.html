<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mojo::Message::Request - HTTP request</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmojolicious-perl">libmojolicious-perl_9.39+dfsg-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mojo::Message::Request - HTTP request

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Mojo::Message::Request;

         # Parse
         my $req = Mojo::Message::Request-&gt;new;
         $req-&gt;parse("GET /foo HTTP/1.0\x0d\x0a");
         $req-&gt;parse("Content-Length: 12\x0d\x0a");
         $req-&gt;parse("Content-Type: text/plain\x0d\x0a\x0d\x0a");
         $req-&gt;parse('Hello World!');
         say $req-&gt;method;
         say $req-&gt;headers-&gt;content_type;
         say $req-&gt;body;

         # Build
         my $req = Mojo::Message::Request-&gt;new;
         $req-&gt;url-&gt;parse('<a href="http://127.0.0.1/foo/bar">http://127.0.0.1/foo/bar</a>');
         $req-&gt;method('GET');
         say $req-&gt;to_string;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Mojo::Message::Request is a container for HTTP requests, based on RFC 7230
       &lt;https://tools.ietf.org/html/rfc7230&gt;, RFC 7231 &lt;https://tools.ietf.org/html/rfc7231&gt;, RFC 7235
       &lt;https://tools.ietf.org/html/rfc7235&gt; and RFC 2817 &lt;https://tools.ietf.org/html/rfc2817&gt;.

</pre><h4><b>EVENTS</b></h4><pre>
       Mojo::Message::Request inherits all events from Mojo::Message.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       Mojo::Message::Request inherits all attributes from Mojo::Message and implements the following new ones.

   <b>env</b>
         my $env = $req-&gt;env;
         $req    = $req-&gt;env({PATH_INFO =&gt; '/'});

       Direct access to the "CGI" or "PSGI" environment hash if available.

         # Check CGI version
         my $version = $req-&gt;env-&gt;{GATEWAY_INTERFACE};

         # Check PSGI version
         my $version = $req-&gt;env-&gt;{'psgi.version'};

   <b>method</b>
         my $method = $req-&gt;method;
         $req       = $req-&gt;method('POST');

       HTTP request method, defaults to "GET".

   <b>proxy</b>
         my $url = $req-&gt;proxy;
         $req    = $req-&gt;proxy(Mojo::URL-&gt;new('<a href="http://127.0.0.1">http://127.0.0.1</a>:3000'));

       Proxy URL for request.

   <b>reverse_proxy</b>
         my $bool = $req-&gt;reverse_proxy;
         $req     = $req-&gt;reverse_proxy($bool);

       Request has been performed through a reverse proxy.

   <b>trusted_proxies</b>
         my $proxies = $req-&gt;trusted_proxies;
         $req        = $req-&gt;trusted_proxies(['10.0.0.0/8', '127.0.0.1', '172.16.0.0/12', '192.168.0.0/16', 'fc00::/7']);

       Trusted reverse proxies, addresses or networks in CIDR form.

   <b>request_id</b>
         my $id = $req-&gt;request_id;
         $req   = $req-&gt;request_id('aee7d5d8');

       Request ID, defaults to a reasonably unique value.

   <b>url</b>
         my $url = $req-&gt;url;
         $req    = $req-&gt;url(Mojo::URL-&gt;new);

       HTTP request URL, defaults to a Mojo::URL object.

         # Get request information
         my $info = $req-&gt;url-&gt;to_abs-&gt;userinfo;
         my $host = $req-&gt;url-&gt;to_abs-&gt;host;
         my $path = $req-&gt;url-&gt;to_abs-&gt;path;

   <b>via_proxy</b>
         my $bool = $req-&gt;via_proxy;
         $req     = $req-&gt;via_proxy($bool);

       Request can be performed through a proxy server.

</pre><h4><b>METHODS</b></h4><pre>
       Mojo::Message::Request inherits all methods from Mojo::Message and implements the following new ones.

   <b>clone</b>
         my $clone = $req-&gt;clone;

       Return a new Mojo::Message::Request object cloned from this request if possible, otherwise return
       "undef".

   <b>cookies</b>
         my $cookies = $req-&gt;cookies;
         $req        = $req-&gt;cookies(Mojo::Cookie::Request-&gt;new);
         $req        = $req-&gt;cookies({name =&gt; 'foo', value =&gt; 'bar'});

       Access request cookies, usually Mojo::Cookie::Request objects.

         # Names of all cookies
         say $_-&gt;name for @{$req-&gt;cookies};

   <b>every_param</b>
         my $values = $req-&gt;every_param('foo');

       Similar to "param", but returns all values sharing the same name as an array reference.

         # Get first value
         say $req-&gt;every_param('foo')-&gt;[0];

   <b>extract_start_line</b>
         my $bool = $req-&gt;extract_start_line(\$str);

       Extract request-line from string.

   <b>fix_headers</b>
         $req = $req-&gt;fix_headers;

       Make sure request has all required headers.

   <b>get_start_line_chunk</b>
         my $bytes = $req-&gt;get_start_line_chunk($offset);

       Get a chunk of request-line data starting from a specific position. Note that this method finalizes the
       request.

   <b>is_handshake</b>
         my $bool = $req-&gt;is_handshake;

       Check "Upgrade" header for "websocket" value.

   <b>is_secure</b>
         my $bool = $req-&gt;is_secure;

       Check if connection is secure.

   <b>is_xhr</b>
         my $bool = $req-&gt;is_xhr;

       Check "X-Requested-With" header for "XMLHttpRequest" value.

   <b>param</b>
         my $value = $req-&gt;param('foo');

       Access "GET" and "POST" parameters extracted from the query string and
       "application/x-www-form-urlencoded" or "multipart/form-data" message body. If there are multiple values
       sharing the same name, and you want to access more than just the last one, you can use "every_param".
       Note that this method caches all data, so it should not be called before the entire request body has been
       received. Parts of the request body need to be loaded into memory to parse "POST" parameters, so you have
       to make sure it is not excessively large. There's a 16MiB limit for requests by default.

   <b>params</b>
         my $params = $req-&gt;params;

       All "GET" and "POST" parameters extracted from the query string and "application/x-www-form-urlencoded"
       or "multipart/form-data" message body, usually a Mojo::Parameters object. Note that this method caches
       all data, so it should not be called before the entire request body has been received. Parts of the
       request body need to be loaded into memory to parse "POST" parameters, so you have to make sure it is not
       excessively large. There's a 16MiB limit for requests by default.

         # Get parameter names and values
         my $hash = $req-&gt;params-&gt;to_hash;

   <b>parse</b>
         $req = $req-&gt;parse('GET /foo/bar HTTP/1.1');
         $req = $req-&gt;parse({PATH_INFO =&gt; '/'});

       Parse HTTP request chunks or environment hash.

   <b>query_params</b>
         my $params = $req-&gt;query_params;

       All "GET" parameters, usually a Mojo::Parameters object.

         # Turn GET parameters to hash and extract value
         say $req-&gt;query_params-&gt;to_hash-&gt;{foo};

   <b>start_line_size</b>
         my $size = $req-&gt;start_line_size;

       Size of the request-line in bytes. Note that this method finalizes the request.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mojolicious, Mojolicious::Guides, &lt;https://mojolicious.org&gt;.

perl v5.40.0                                       2024-12-07                        <u>Mojo::Message::<a href="../man3pm/Request.3pm.html">Request</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>