<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::Box::Maildir::Message - one message in a Maildir folder</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-box-perl">libmail-box-perl_3.011-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::Box::Maildir::Message - one message in a Maildir folder

</pre><h4><b>INHERITANCE</b></h4><pre>
        Mail::Box::Maildir::Message
          is a Mail::Box::Dir::Message
          is a Mail::Box::Message
          is a Mail::Message
          is a Mail::Reporter

</pre><h4><b>SYNOPSIS</b></h4><pre>
        my $folder = new Mail::Box::Maildir ...
        my $message = $folder-&gt;<a href="../man10/message.10.html">message</a>(10);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A "Mail::Box::Maildir::Message" represents one message in an Mail::Box::Maildir folder. Each message is
       stored in a separate file.

       Extends "DESCRIPTION" in Mail::Box::Dir::Message.

</pre><h4><b>METHODS</b></h4><pre>
       Extends "METHODS" in Mail::Box::Dir::Message.

   <b>Constructors</b>
       Extends "Constructors" in Mail::Box::Dir::Message.

       $obj-&gt;<b>clone</b>(%options)
           Inherited, see "Constructors" in Mail::Message

       Mail::Box::Maildir::Message-&gt;<b>new</b>(%options)
           Inherited, see "METHODS" in Mail::Box::Dir::Message

   <b>Constructing</b> <b>a</b> <b>message</b>
       Extends "Constructing a message" in Mail::Box::Dir::Message.

       $obj-&gt;<b>bounce</b>( [&lt;$rg_object|%options&gt;] )
           Inherited, see "Constructing a message" in Mail::Message::Construct::Bounce

       Mail::Box::Maildir::Message-&gt;<b>build</b>( [$message|$part|$body], $content )
           Inherited, see "Constructing a message" in Mail::Message::Construct::Build

       Mail::Box::Maildir::Message-&gt;<b>buildFromBody</b>($body, [$head], $headers)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Build

       $obj-&gt;<b>forward</b>(%options)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Forward

       $obj-&gt;<b>forwardAttach</b>(%options)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Forward

       $obj-&gt;<b>forwardEncapsulate</b>(%options)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Forward

       $obj-&gt;<b>forwardInline</b>(%options)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Forward

       $obj-&gt;<b>forwardNo</b>(%options)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Forward

       $obj-&gt;<b>forwardPostlude</b>()
           Inherited, see "Constructing a message" in Mail::Message::Construct::Forward

       $obj-&gt;<b>forwardPrelude</b>()
           Inherited, see "Constructing a message" in Mail::Message::Construct::Forward

       $obj-&gt;<b>forwardSubject</b>(STRING)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Forward

       Mail::Box::Maildir::Message-&gt;<b>read</b>($fh|STRING|SCALAR|ARRAY, %options)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Read

       $obj-&gt;<b>rebuild</b>(%options)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Rebuild

       $obj-&gt;<b>reply</b>(%options)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Reply

       $obj-&gt;<b>replyPrelude</b>( [STRING|$field|$address|ARRAY-$of-$things] )
           Inherited, see "Constructing a message" in Mail::Message::Construct::Reply

       $obj-&gt;<b>replySubject</b>(STRING)
       Mail::Box::Maildir::Message-&gt;<b>replySubject</b>(STRING)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Reply

   <b>The</b> <b>message</b>
       Extends "The message" in Mail::Box::Dir::Message.

       $obj-&gt;<b>container</b>()
           Inherited, see "The message" in Mail::Message

       $obj-&gt;<b>copyTo</b>($folder, %options)
           Inherited, see "The message" in Mail::Box::Message

       $obj-&gt;<b>filename</b>( [$filename] )
           Returns  the  current  filename  for  this  message.   If  the $filename argument is specified, a new
           filename will be set.  For maildir messages this means that modifications are immediately  performed:
           there  will  be  a  rename (move) from the old name to the new name.  Labels may change within in the
           message object as well.

       $obj-&gt;<b>folder</b>( [$folder] )
           Inherited, see "The message" in Mail::Box::Message

       $obj-&gt;<b>isDummy</b>()
           Inherited, see "The message" in Mail::Message

       $obj-&gt;<b>isPart</b>()
           Inherited, see "The message" in Mail::Message

       $obj-&gt;<b>messageId</b>()
           Inherited, see "The message" in Mail::Message

       $obj-&gt;<b>moveTo</b>($folder, %options)
           Inherited, see "The message" in Mail::Box::Message

       $obj-&gt;<b>partNumber</b>()
           Inherited, see "The message" in Mail::Message

       $obj-&gt;<b>print</b>( [$fh] )
           Inherited, see "The message" in Mail::Message

       $obj-&gt;<b>send</b>( [$mailer], %options )
           Inherited, see "The message" in Mail::Message

       $obj-&gt;<b>seqnr</b>( [$integer] )
           Inherited, see "The message" in Mail::Box::Message

       $obj-&gt;<b>size</b>()
           Inherited, see "The message" in Mail::Message

       $obj-&gt;<b>toplevel</b>()
           Inherited, see "The message" in Mail::Message

       $obj-&gt;<b>write</b>( [$fh] )
           Inherited, see "The message" in Mail::Message

   <b>The</b> <b>header</b>
       Extends "The header" in Mail::Box::Dir::Message.

       $obj-&gt;<b>bcc</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>cc</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>date</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>destinations</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>from</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>get</b>($fieldname)
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>guessTimestamp</b>()
           The filename of a "Mail::Box::Maildir::Message" contains a timestamp.  This is a wild guess about the
           actual time of sending of the message: it is the time of receipt which may be seconds to  hours  off.
           But is still a good guess...  When the message header is not parsed, then this date is used.

       $obj-&gt;<b>head</b>( [$head] )
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>nrLines</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>sender</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>study</b>($fieldname)
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>subject</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>timestamp</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>to</b>()
           Inherited, see "The header" in Mail::Message

   <b>The</b> <b>body</b>
       Extends "The body" in Mail::Box::Dir::Message.

       $obj-&gt;<b>body</b>( [$body] )
           Inherited, see "The body" in Mail::Message

       $obj-&gt;<b>contentType</b>()
           Inherited, see "The body" in Mail::Message

       $obj-&gt;<b>decoded</b>(%options)
           Inherited, see "The body" in Mail::Message

       $obj-&gt;<b>encode</b>(%options)
           Inherited, see "The body" in Mail::Message

       $obj-&gt;<b>isMultipart</b>()
           Inherited, see "The body" in Mail::Message

       $obj-&gt;<b>isNested</b>()
           Inherited, see "The body" in Mail::Message

       $obj-&gt;<b>parts</b>( [&lt;'ALL'|'ACTIVE'|'DELETED'|'RECURSE'|$filter&gt;] )
           Inherited, see "The body" in Mail::Message

   <b>Flags</b>
       Extends "Flags" in Mail::Box::Dir::Message.

       $obj-&gt;<b>delete</b>()
           Inherited, see "Flags" in Mail::Message

       $obj-&gt;<b>deleted</b>( [BOOLEAN] )
           Inherited, see "Flags" in Mail::Message

       $obj-&gt;<b>isDeleted</b>()
           Inherited, see "Flags" in Mail::Message

       $obj-&gt;<b>isModified</b>()
           Inherited, see "Flags" in Mail::Message

       $obj-&gt;<b>label</b>($label|PAIRS)
           Inherited, see "Flags" in Mail::Message

       $obj-&gt;<b>labels</b>()
           Inherited, see "Flags" in Mail::Message

       $obj-&gt;<b>labelsToStatus</b>()
           Inherited, see "Flags" in Mail::Message

       $obj-&gt;<b>modified</b>( [BOOLEAN] )
           Inherited, see "Flags" in Mail::Message

       $obj-&gt;<b>statusToLabels</b>()
           Inherited, see "Flags" in Mail::Message

   <b>The</b> <b>whole</b> <b>message</b> <b>as</b> <b>text</b>
       Extends "The whole message as text" in Mail::Box::Dir::Message.

       $obj-&gt;<b>file</b>()
           Inherited, see "The whole message as text" in Mail::Message::Construct::Text

       $obj-&gt;<b>lines</b>()
           Inherited, see "The whole message as text" in Mail::Message::Construct::Text

       $obj-&gt;<b>printStructure</b>( [$fh|undef],[$indent] )
           Inherited, see "The whole message as text" in Mail::Message::Construct::Text

       $obj-&gt;<b>string</b>()
           Inherited, see "The whole message as text" in Mail::Message::Construct::Text

   <b>Labels</b>
       $obj-&gt;<b>labelsToFilename</b>()
           When  the  labels  on  a  message change, this may implicate a change in the message's filename.  The
           change will take place immediately.  The new filename (which may be the same as the old filename)  is
           returned.  "undef" is returned when the rename is required but fails.

   <b>Internals</b>
       Extends "Internals" in Mail::Box::Dir::Message.

       $obj-&gt;<b>accept</b>( [BOOLEAN] )
           Accept  a message for the folder.  This will move it from the "new" or "tmp" sub-directories into the
           "cur" sub-directory (or back when the BOOLEAN is "false").   When  you  accept  an  already  accepted
           message, nothing will happen.

       $obj-&gt;<b>clonedFrom</b>()
           Inherited, see "Internals" in Mail::Message

       Mail::Box::Maildir::Message-&gt;<b>coerce</b>($message, %options)
           Inherited, see "Internals" in Mail::Message

       $obj-&gt;<b>create</b>($filename)
           Inherited, see "Internals" in Mail::Box::Dir::Message

       $obj-&gt;<b>diskDelete</b>()
           Inherited, see "Internals" in Mail::Box::Message

       $obj-&gt;<b>isDelayed</b>()
           Inherited, see "Internals" in Mail::Message

       $obj-&gt;<b>loadBody</b>()
           Inherited, see "Internals" in Mail::Box::Dir::Message

       $obj-&gt;<b>loadHead</b>()
           Inherited, see "Internals" in Mail::Box::Dir::Message

       $obj-&gt;<b>parser</b>()
           Inherited, see "Internals" in Mail::Box::Dir::Message

       $obj-&gt;<b>readBody</b>( $parser, $head, [$bodytype] )
           Inherited, see "Internals" in Mail::Box::Message

       $obj-&gt;<b>readFromParser</b>( $parser, [$bodytype] )
           Inherited, see "Internals" in Mail::Message

       $obj-&gt;<b>readHead</b>( $parser, [$class] )
           Inherited, see "Internals" in Mail::Message

       $obj-&gt;<b>recursiveRebuildPart</b>($part, %options)
           Inherited, see "Internals" in Mail::Message::Construct::Rebuild

       $obj-&gt;<b>storeBody</b>($body)
           Inherited, see "Internals" in Mail::Message

       $obj-&gt;<b>takeMessageId</b>( [STRING] )
           Inherited, see "Internals" in Mail::Message

   <b>Error</b> <b>handling</b>
       Extends "Error handling" in Mail::Box::Dir::Message.

       $obj-&gt;<b>AUTOLOAD</b>()
           Inherited, see "METHODS" in Mail::Message::Construct

       $obj-&gt;<b>addReport</b>($object)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
       Mail::Box::Maildir::Message-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>errors</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>log</b>( [$level, [$strings]] )
       Mail::Box::Maildir::Message-&gt;<b>log</b>( [$level, [$strings]] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logPriority</b>($level)
       Mail::Box::Maildir::Message-&gt;<b>logPriority</b>($level)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logSettings</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>notImplemented</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>report</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>reportAll</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>shortSize</b>( [$value] )
       Mail::Box::Maildir::Message-&gt;<b>shortSize</b>( [$value] )
           Inherited, see "Error handling" in Mail::Message

       $obj-&gt;<b>shortString</b>()
           Inherited, see "Error handling" in Mail::Message

       $obj-&gt;<b>trace</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>warnings</b>()
           Inherited, see "Error handling" in Mail::Reporter

   <b>Cleanup</b>
       Extends "Cleanup" in Mail::Box::Dir::Message.

       $obj-&gt;<b>DESTROY</b>()
           Inherited, see "Cleanup" in Mail::Reporter

       $obj-&gt;<b>destruct</b>()
           Inherited, see "Cleanup" in Mail::Box::Message

</pre><h4><b>DETAILS</b></h4><pre>
       Extends "DETAILS" in Mail::Box::Dir::Message.

   <b>Structure</b> <b>of</b> <b>a</b> <b>Message</b>
       Extends "Structure of a Message" in Mail::Box::Dir::Message.

   <b>Message</b> <b>object</b> <b>implementation</b>
       Extends "Message object implementation" in Mail::Box::Dir::Message.

   <b>Message</b> <b>class</b> <b>implementation</b>
       Extends "Message class implementation" in Mail::Box::Dir::Message.

   <b>Labels</b>
       Extends "Labels" in Mail::Box::Dir::Message.

       <u>Predefined</u> <u>labels</u>

       Extends "Predefined labels" in Mail::Box::Dir::Message.

       <u>Status</u> <u>and</u> <u>X-Status</u> <u>fields</u>

       Extends "Status and X-Status fields" in Mail::Box::Dir::Message.

       <u>Flags</u> <u>in</u> <u>filename</u>

       When  new  messages arrive on system and have to be stored in a maildir folder, they are put in the "new"
       sub-directory of the folder (first created in the "tmp"  sub-directory  and  then  immediately  moved  to
       "new").  The following information was found at &lt;<a href="http://cr.yp.to/proto/maildir.html">http://cr.yp.to/proto/maildir.html</a>&gt;.

       Each  message  is  written  in  a separate file.  The filename is constructed from the time-of-arrival, a
       hostname, an unique component, a syntax marker, and flags. For example "1014220791.meteor.42:2,DF".   The
       filename must match:

        my ($time, $unique, $hostname, $info)
           = $filename =~ m!^(\d+)\.(.*)\.(\w+)(\:.*)?$!;
        my ($semantics, $flags)
           = $info =~ m!([12])\,([DFPRST]*)$!;
        my @flags = split //, $flags;

       When  an  application opens the folder, there may be messages in "new" which are new arival, and messages
       in "cur".  The latter are labeled "accepted".  To move a message  from  "new"  to  "cur",  you  have  two
       options with the same effect:

         $msg-&gt;accept;
         $msg-&gt;label(accept =&gt; 1);

       See <b>accept()</b>, <b>label()</b>, Mail::Box::Maildir::new(accept_new), and <b>Mail::Box::Maildir::acceptMessages()</b>

       The messages are moved, and their name is immediately extended with flags.  An example:

        new/897979431.meteor.42      may become
        cur/897979431.meteor.42:2,FS

       The  added  characters  ':2,'  refer  to  the  "second  state  of processing", where the message has been
       inspected.  And the characters (which should be in alphabetic order) mean

        D      =&gt; draft
        F      =&gt; flagged
        R      =&gt; replied  (answered)
        S      =&gt; seen
        T      =&gt; deleted  (tagged for deletion)

       Some maildir clients support
        P      =&gt; passed   (resent/forwarded/bounced to someone else)

       The flags will immediately change when <b>label()</b> or <b>delete()</b> is used,  which  differs  from  other  message
       implementations: maildir is stateless, and should not break when applications crash.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Error: Cannot coerce a $class object into a $class object
       Error: Cannot create parser for $filename.
           For  some reason (the previous message have told you already) it was not possible to create a message
           parser for the specified filename.

       Error: Cannot include forward source as $include.
           Unknown alternative for the forward(include).   Valid  choices  are  "NO",  "INLINE",  "ATTACH",  and
           "ENCAPSULATE".

       Error: Cannot include reply source as $include.
           Unknown  alternative  for  the  "include"  option  of <b>reply()</b>.  Valid choices are "NO", "INLINE", and
           "ATTACH".

       Error: Cannot write message to $filename: $!
           When a modified or new message is written to disk, it is first written to a  temporary  file  in  the
           folder directory.  For some reason, it is impossible to create this file.

       Error: Failed to move $new to $filename: $!
           When  a  modified  or  new message is written to disk, it is first written to a temporary file in the
           folder directory.  Then, the new file is moved to replace the existing file.  Apparently, the  latter
           fails.

       Error: Method bounce requires To, Cc, or Bcc
           The message <b>bounce()</b> method forwards a received message off to someone else without modification; you
           must  specified  it's  new  destination.   If  you  have the urge not to specify any destination, you
           probably are looking for <b>reply()</b>. When you wish to modify the content, use <b>forward()</b>.

       Error: Method forwardAttach requires a preamble
       Error: Method forwardEncapsulate requires a preamble
       Error: No address to create forwarded to.
           If a forward message is created, a destination address must be specified.

       Error: No default mailer found to send message.
           The message <b>send()</b> mechanism had not enough information to automatically find a mail  transfer  agent
           to sent this message.  Specify a mailer explicitly using the "via" options.

       Error: No rebuild rule $name defined.
       Error: Only <b>build()</b> Mail::Message's; they are not in a folder yet
           You may wish to construct a message to be stored in a some kind of folder, but you need to do that in
           two  steps.   First,  create  a  normal  Mail::Message,  and  then add it to the folder.  During this
           <b>Mail::Box::addMessage()</b> process, the message will get <b>coerce()</b>-d into the right message type,  adding
           storage information and the like.

       Error: Package $package does not implement $method.
           Fatal  error:  the specific package (or one of its superclasses) does not implement this method where
           it should. This message means that some other related classes do implement this  method  however  the
           class  at  hand does not.  Probably you should investigate this and probably inform the author of the
           package.

       Error: Unable to read delayed body.
           For some reason, the header of the message could be read, but the body cannot.  Probably the file has
           disappeared or the permissions were changed during the progress of the program.

       Error: Unable to read delayed head.
           Mail::Box tries to be <u>lazy</u> with respect to parsing messages.  When a directory  organized  folder  is
           opened, only the filenames of messages are collected.  At first use, the messages are read from their
           file.   Apperently,  a  message is used for the first time here, but has disappeared or is unreadible
           for some other reason.

       Error: coercion starts with some object

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       This module is  part  of  Mail-Box  distribution  version  3.011,  built  on  April  18,  2025.  Website:
       <u><a href="http://perl.overmeer.net/CPAN/">http://perl.overmeer.net/CPAN/</a></u>

</pre><h4><b>LICENSE</b></h4><pre>
       Copyrights 2001-2025 by [Mark Overmeer]. For other contributors see ChangeLog.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.  See <u><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></u>

perl v5.40.1                                       2025-04-25                   <u>Mail::Box::Maildir::<a href="../man3pm/Message.3pm.html">Message</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>