<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       catopen — open a message catalog

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/nl_types.h">nl_types.h</a>&gt;

       nl_catd catopen(const char *<u>name</u>, int <u>oflag</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>catopen</u>()  function  shall  open a message catalog and return a message catalog descriptor. The <u>name</u>
       argument specifies the name of the message catalog to be opened.  If  <u>name</u>  contains  a  <b>'/'</b>,  then  <u>name</u>
       specifies  a  pathname  for the message catalog. Otherwise, the environment variable <u>NLSPATH</u> is used with
       <u>name</u> substituted for the <b>%N</b> conversion specification (see the Base Definitions  volume  of  POSIX.1‐2017,
       <u>Chapter</u>  <u>8</u>, <u>Environment</u> <u>Variables</u>); if <u>NLSPATH</u> exists in the environment when the process starts, then if
       the process has appropriate privileges, the behavior of <u>catopen</u>() is undefined. If <u>NLSPATH</u> does not exist
       in the environment, or if a message catalog cannot be  found  in  any  of  the  components  specified  by
       <u>NLSPATH</u>,  then  an implementation-defined default path shall be used. This default may be affected by the
       setting of <u>LC_MESSAGES</u> if the value of <u>oflag</u> is NL_CAT_LOCALE, or the <u>LANG</u> environment variable if  <u>oflag</u>
       is 0.

       A  message  catalog  descriptor  shall  remain  valid  in  a  process  until that process closes it, or a
       successful call to one of the <u>exec</u> functions. A change in the setting of  the  <u>LC_MESSAGES</u>  category  may
       invalidate existing open catalogs.

       If  a file descriptor is used to implement message catalog descriptors, the FD_CLOEXEC flag shall be set;
       see <u>&lt;fcntl.h&gt;</u>.

       If the value of the <u>oflag</u> argument is 0, the <u>LANG</u> environment variable is  used  to  locate  the  catalog
       without  regard  to  the  <u>LC_MESSAGES</u>  category.  If the <u>oflag</u> argument is NL_CAT_LOCALE, the <u>LC_MESSAGES</u>
       category is used to locate the message catalog (see the Base Definitions volume of POSIX.1‐2017,  <u>Section</u>
       <u>8.2</u>, <u>Internationalization</u> <u>Variables</u>).

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon  successful  completion,  <u>catopen</u>()  shall return a message catalog descriptor for use on subsequent
       calls to <u>catgets</u>() and <u>catclose</u>().  Otherwise, <u>catopen</u>() shall return  (<b>nl_catd</b>)  -1  and  set  <u>errno</u>  to
       indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <u>catopen</u>() function may fail if:

       <b>EACCES</b> Search  permission  is  denied for the component of the path prefix of the message catalog or read
              permission is denied for the message catalog.

       <b>EMFILE</b> All file descriptors available to the process are currently open.

       <b>ENAMETOOLONG</b>
              The length of a component of a pathname is longer than {NAME_MAX}.

       <b>ENAMETOOLONG</b>
              The length of a pathname exceeds {PATH_MAX}, or pathname resolution of a symbolic link produced an
              intermediate result with a length that exceeds {PATH_MAX}.

       <b>ENFILE</b> Too many files are currently open in the system.

       <b>ENOENT</b> The message catalog does not exist or the <u>name</u> argument points to an empty string.

       <b>ENOMEM</b> Insufficient storage space is available.

       <b>ENOTDIR</b>
              A component of the path prefix of the message catalog names an existing file  that  is  neither  a
              directory  nor  a symbolic link to a directory, or the pathname of the message catalog contains at
              least one non-&lt;slash&gt; character and ends with one or more trailing &lt;slash&gt; characters and the last
              pathname component names an existing file that is neither a directory nor a  symbolic  link  to  a
              directory.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       None.

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       Some implementations of <u>catopen</u>() use <u>malloc</u>() to allocate space for internal buffer areas. The <u>catopen</u>()
       function may fail if there is insufficient storage space available to accommodate these buffers.

       Conforming applications must assume that message catalog descriptors are not valid after a call to one of
       the <u>exec</u> functions.

       Application  developers should be aware that guidelines for the location of message catalogs have not yet
       been developed. Therefore they should take  care  to  avoid  conflicting  with  catalogs  used  by  other
       applications and the standard utilities.

       To be sure that messages produced by an application running with appropriate privileges cannot be used by
       an attacker setting an unexpected value for <u>NLSPATH</u> in the environment to confuse a system administrator,
       such  applications  should use pathnames containing a <b>'/'</b> to get defined behavior when using <u>catopen</u>() to
       open a message catalog.

</pre><h4><b>RATIONALE</b></h4><pre>
       None.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>catclose</u>(), <u>catgets</u>()

       The Base Definitions volume of POSIX.1‐2017, <u>Chapter</u> <u>8</u>, <u>Environment</u> <u>Variables</u>, <b>&lt;fcntl.h&gt;</b>, <b>&lt;nl_types.h&gt;</b>,

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                       <u><a href="../man3POSIX/CATOPEN.3POSIX.html">CATOPEN</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>