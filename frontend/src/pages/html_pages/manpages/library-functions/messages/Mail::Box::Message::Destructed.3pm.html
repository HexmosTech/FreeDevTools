<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::Box::Message::Destructed - a destructed message</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-box-perl">libmail-box-perl_3.011-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::Box::Message::Destructed - a destructed message

</pre><h4><b>INHERITANCE</b></h4><pre>
        Mail::Box::Message::Destructed
          is a Mail::Box::Message
          is a Mail::Message
          is a Mail::Reporter

</pre><h4><b>SYNOPSIS</b></h4><pre>
        $folder-&gt;<a href="../man3/message.3.html">message</a>(3)-&gt;destruct;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       When a message folder is read, each message will be parsed into Perl structures.  Especially the header
       structure can consume a huge amount of memory (message bodies can be moved to external temporary files).
       Destructed messages have forcefully cleaned-up all header and body information, and are therefore much
       smaller.  Some useful information is still in the object.

       BE WARNED: once a message is destructed, it cannot be revived.  Destructing enforces irreversable
       deletion from the folder.  If you have a folder opened for read-only, the message will stay in that
       folder, but otherwise it may be deleted.

       Extends "DESCRIPTION" in Mail::Box::Message.

</pre><h4><b>METHODS</b></h4><pre>
       Extends "METHODS" in Mail::Box::Message.

   <b>Constructors</b>
       Extends "Constructors" in Mail::Box::Message.

       $obj-&gt;<b>clone</b>(%options)
           Inherited, see "Constructors" in Mail::Message

       Mail::Box::Message::Destructed-&gt;<b>new</b>($message_id, %options)
           You   cannot   instantiate   a   destructed   message   object.    Destruction  is  done  by  calling
           <b>Mail::Box::Message::destruct()</b>.

            -Option    --Defined in        --Default
             body        Mail::Message       undef
             body_type   Mail::Box::Message  &lt;from folder&gt;
             deleted     Mail::Message       &lt;false&gt;
             field_type  Mail::Message       undef
             folder      Mail::Box::Message  &lt;required&gt;
             head        Mail::Message       undef
             head_type   Mail::Message       Mail::Message::Head::Complete
             labels      Mail::Message       {}
             log         Mail::Reporter      'WARNINGS'
             messageId   Mail::Message       undef
             modified    Mail::Message       &lt;false&gt;
             size        Mail::Box::Message  undef
             trace       Mail::Reporter      'WARNINGS'
             trusted     Mail::Message       &lt;false&gt;

           body =&gt; OBJECT
           body_type =&gt; CODE|CLASS
           deleted =&gt; BOOLEAN
           field_type =&gt; CLASS
           folder =&gt; FOLDER
           head =&gt; OBJECT
           head_type =&gt; CLASS
           labels =&gt; ARRAY|HASH
           log =&gt; LEVEL
           messageId =&gt; STRING
           modified =&gt; BOOLEAN
           size =&gt; INTEGER
           trace =&gt; LEVEL
           trusted =&gt; BOOLEAN

   <b>Constructing</b> <b>a</b> <b>message</b>
       Extends "Constructing a message" in Mail::Box::Message.

       $obj-&gt;<b>bounce</b>( [&lt;$rg_object|%options&gt;] )
           Inherited, see "Constructing a message" in Mail::Message::Construct::Bounce

       Mail::Box::Message::Destructed-&gt;<b>build</b>( [$message|$part|$body], $content )
           Inherited, see "Constructing a message" in Mail::Message::Construct::Build

       Mail::Box::Message::Destructed-&gt;<b>buildFromBody</b>($body, [$head], $headers)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Build

       $obj-&gt;<b>forward</b>(%options)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Forward

       $obj-&gt;<b>forwardAttach</b>(%options)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Forward

       $obj-&gt;<b>forwardEncapsulate</b>(%options)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Forward

       $obj-&gt;<b>forwardInline</b>(%options)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Forward

       $obj-&gt;<b>forwardNo</b>(%options)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Forward

       $obj-&gt;<b>forwardPostlude</b>()
           Inherited, see "Constructing a message" in Mail::Message::Construct::Forward

       $obj-&gt;<b>forwardPrelude</b>()
           Inherited, see "Constructing a message" in Mail::Message::Construct::Forward

       $obj-&gt;<b>forwardSubject</b>(STRING)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Forward

       Mail::Box::Message::Destructed-&gt;<b>read</b>($fh|STRING|SCALAR|ARRAY, %options)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Read

       $obj-&gt;<b>rebuild</b>(%options)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Rebuild

       $obj-&gt;<b>reply</b>(%options)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Reply

       $obj-&gt;<b>replyPrelude</b>( [STRING|$field|$address|ARRAY-$of-$things] )
           Inherited, see "Constructing a message" in Mail::Message::Construct::Reply

       $obj-&gt;<b>replySubject</b>(STRING)
       Mail::Box::Message::Destructed-&gt;<b>replySubject</b>(STRING)
           Inherited, see "Constructing a message" in Mail::Message::Construct::Reply

   <b>The</b> <b>message</b>
       Extends "The message" in Mail::Box::Message.

       $obj-&gt;<b>container</b>()
           Inherited, see "The message" in Mail::Message

       $obj-&gt;<b>copyTo</b>($folder, %options)
           Inherited, see "The message" in Mail::Box::Message

       $obj-&gt;<b>folder</b>( [$folder] )
           Inherited, see "The message" in Mail::Box::Message

       $obj-&gt;<b>isDummy</b>()
           Inherited, see "The message" in Mail::Message

       $obj-&gt;<b>isPart</b>()
           Inherited, see "The message" in Mail::Message

       $obj-&gt;<b>messageId</b>()
           Inherited, see "The message" in Mail::Message

       $obj-&gt;<b>moveTo</b>($folder, %options)
           Inherited, see "The message" in Mail::Box::Message

       $obj-&gt;<b>partNumber</b>()
           Inherited, see "The message" in Mail::Message

       $obj-&gt;<b>print</b>( [$fh] )
           Inherited, see "The message" in Mail::Message

       $obj-&gt;<b>send</b>( [$mailer], %options )
           Inherited, see "The message" in Mail::Message

       $obj-&gt;<b>seqnr</b>( [$integer] )
           Inherited, see "The message" in Mail::Box::Message

       $obj-&gt;<b>size</b>()
           Inherited, see "The message" in Mail::Message

       $obj-&gt;<b>toplevel</b>()
           Inherited, see "The message" in Mail::Message

       $obj-&gt;<b>write</b>( [$fh] )
           Inherited, see "The message" in Mail::Message

   <b>The</b> <b>header</b>
       Extends "The header" in Mail::Box::Message.

       $obj-&gt;<b>bcc</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>cc</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>date</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>destinations</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>from</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>get</b>($fieldname)
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>guessTimestamp</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>head</b>( [$head] )
           When "undef" is specified for $head, no change has to take place and the method returns silently.  In
           all other cases, this method will complain that the header has been removed.

       $obj-&gt;<b>nrLines</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>sender</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>study</b>($fieldname)
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>subject</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>timestamp</b>()
           Inherited, see "The header" in Mail::Message

       $obj-&gt;<b>to</b>()
           Inherited, see "The header" in Mail::Message

   <b>The</b> <b>body</b>
       Extends "The body" in Mail::Box::Message.

       $obj-&gt;<b>body</b>( [$body] )
           When "undef" is specified for $body, no change has to take place and the method returns silently.  In
           all other cases, this method will complain that the body data has been removed.

       $obj-&gt;<b>contentType</b>()
           Inherited, see "The body" in Mail::Message

       $obj-&gt;<b>decoded</b>(%options)
           Inherited, see "The body" in Mail::Message

       $obj-&gt;<b>encode</b>(%options)
           Inherited, see "The body" in Mail::Message

       $obj-&gt;<b>isMultipart</b>()
           Inherited, see "The body" in Mail::Message

       $obj-&gt;<b>isNested</b>()
           Inherited, see "The body" in Mail::Message

       $obj-&gt;<b>parts</b>( [&lt;'ALL'|'ACTIVE'|'DELETED'|'RECURSE'|$filter&gt;] )
           Inherited, see "The body" in Mail::Message

   <b>Flags</b>
       Extends "Flags" in Mail::Box::Message.

       $obj-&gt;<b>delete</b>()
           Inherited, see "Flags" in Mail::Message

       $obj-&gt;<b>deleted</b>( [BOOLEAN] )
           Inherited, see "Flags" in Mail::Message

       $obj-&gt;<b>isDeleted</b>()
           Inherited, see "Flags" in Mail::Message

       $obj-&gt;<b>isModified</b>()
           Inherited, see "Flags" in Mail::Message

       $obj-&gt;<b>label</b>($label|PAIRS)
           It is possible to delete a destructed message, but not to undelete it.

       $obj-&gt;<b>labels</b>()
           Inherited, see "Flags" in Mail::Message

       $obj-&gt;<b>labelsToStatus</b>()
           Inherited, see "Flags" in Mail::Message

       $obj-&gt;<b>modified</b>( [BOOLEAN] )
           Inherited, see "Flags" in Mail::Message

       $obj-&gt;<b>statusToLabels</b>()
           Inherited, see "Flags" in Mail::Message

   <b>The</b> <b>whole</b> <b>message</b> <b>as</b> <b>text</b>
       Extends "The whole message as text" in Mail::Box::Message.

       $obj-&gt;<b>file</b>()
           Inherited, see "The whole message as text" in Mail::Message::Construct::Text

       $obj-&gt;<b>lines</b>()
           Inherited, see "The whole message as text" in Mail::Message::Construct::Text

       $obj-&gt;<b>printStructure</b>( [$fh|undef],[$indent] )
           Inherited, see "The whole message as text" in Mail::Message::Construct::Text

       $obj-&gt;<b>string</b>()
           Inherited, see "The whole message as text" in Mail::Message::Construct::Text

   <b>Internals</b>
       Extends "Internals" in Mail::Box::Message.

       $obj-&gt;<b>clonedFrom</b>()
           Inherited, see "Internals" in Mail::Message

       Mail::Box::Message::Destructed-&gt;<b>coerce</b>($message)
           Coerce a Mail::Box::Message into destruction.

           example: of coercion to death

            Mail::Box::Message::Destructed-&gt;coerce($folder-&gt;<a href="../man1/message.1.html">message</a>(1));
            $folder-&gt;<a href="../man1/message.1.html">message</a>(1)-&gt;destruct;  # same

            my $msg = $folder-&gt;<a href="../man1/message.1.html">message</a>(1);
            Mail::Box::Message::Destructed-&gt;coerce($msg);
            $msg-&gt;destruct;                 # same

       $obj-&gt;<b>diskDelete</b>()
           Inherited, see "Internals" in Mail::Box::Message

       $obj-&gt;<b>isDelayed</b>()
           Inherited, see "Internals" in Mail::Message

       $obj-&gt;<b>readBody</b>( $parser, $head, [$bodytype] )
           Inherited, see "Internals" in Mail::Box::Message

       $obj-&gt;<b>readFromParser</b>( $parser, [$bodytype] )
           Inherited, see "Internals" in Mail::Message

       $obj-&gt;<b>readHead</b>( $parser, [$class] )
           Inherited, see "Internals" in Mail::Message

       $obj-&gt;<b>recursiveRebuildPart</b>($part, %options)
           Inherited, see "Internals" in Mail::Message::Construct::Rebuild

       $obj-&gt;<b>storeBody</b>($body)
           Inherited, see "Internals" in Mail::Message

       $obj-&gt;<b>takeMessageId</b>( [STRING] )
           Inherited, see "Internals" in Mail::Message

   <b>Error</b> <b>handling</b>
       Extends "Error handling" in Mail::Box::Message.

       $obj-&gt;<b>AUTOLOAD</b>()
           Inherited, see "METHODS" in Mail::Message::Construct

       $obj-&gt;<b>addReport</b>($object)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
       Mail::Box::Message::Destructed-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>errors</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>log</b>( [$level, [$strings]] )
       Mail::Box::Message::Destructed-&gt;<b>log</b>( [$level, [$strings]] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logPriority</b>($level)
       Mail::Box::Message::Destructed-&gt;<b>logPriority</b>($level)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logSettings</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>notImplemented</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>report</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>reportAll</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>shortSize</b>( [$value] )
       Mail::Box::Message::Destructed-&gt;<b>shortSize</b>( [$value] )
           Inherited, see "Error handling" in Mail::Message

       $obj-&gt;<b>shortString</b>()
           Inherited, see "Error handling" in Mail::Message

       $obj-&gt;<b>trace</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>warnings</b>()
           Inherited, see "Error handling" in Mail::Reporter

   <b>Cleanup</b>
       Extends "Cleanup" in Mail::Box::Message.

       $obj-&gt;<b>DESTROY</b>()
           Inherited, see "Cleanup" in Mail::Reporter

       $obj-&gt;<b>destruct</b>()
           Inherited, see "Cleanup" in Mail::Box::Message

</pre><h4><b>DETAILS</b></h4><pre>
       Extends "DETAILS" in Mail::Box::Message.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Error: Cannot coerce a (class) into destruction
           Only real Mail::Box::Message objects can get destructed into Mail::Box::Message::Destructed  objects.
           Mail::Message free their memory immediately when the last reference is lost.

       Error: Cannot include forward source as $include.
           Unknown  alternative  for  the  forward(include).   Valid  choices  are "NO", "INLINE", "ATTACH", and
           "ENCAPSULATE".

       Error: Cannot include reply source as $include.
           Unknown alternative for the "include" option of <b>reply()</b>.   Valid  choices  are  "NO",  "INLINE",  and
           "ATTACH".

       Error: Destructed message has no labels except 'deleted'
       Error: Destructed messages can not be undeleted
           Once a message is destructed, it can not be revived.  Destruction is an optimization in memory usage:
           if you need an undelete functionality, then you can not use <b>Mail::Box::Message::destruct()</b>.

       Error: Method bounce requires To, Cc, or Bcc
           The message <b>bounce()</b> method forwards a received message off to someone else without modification; you
           must  specified  it's  new  destination.   If  you  have the urge not to specify any destination, you
           probably are looking for <b>reply()</b>. When you wish to modify the content, use <b>forward()</b>.

       Error: Method forwardAttach requires a preamble
       Error: Method forwardEncapsulate requires a preamble
       Error: No address to create forwarded to.
           If a forward message is created, a destination address must be specified.

       Error: No default mailer found to send message.
           The message <b>send()</b> mechanism had not enough information to automatically find a mail  transfer  agent
           to sent this message.  Specify a mailer explicitly using the "via" options.

       Error: No rebuild rule $name defined.
       Error: Only <b>build()</b> Mail::Message's; they are not in a folder yet
           You may wish to construct a message to be stored in a some kind of folder, but you need to do that in
           two  steps.   First,  create  a  normal  Mail::Message,  and  then add it to the folder.  During this
           <b>Mail::Box::addMessage()</b> process, the message will get <b>coerce()</b>-d into the right message type,  adding
           storage information and the like.

       Error: Package $package does not implement $method.
           Fatal  error:  the specific package (or one of its superclasses) does not implement this method where
           it should. This message means that some other related classes do implement this  method  however  the
           class  at  hand does not.  Probably you should investigate this and probably inform the author of the
           package.

       Error: You cannot instantiate a destructed message
           You cannot instantiate a  destructed  message  object  directly.   Destruction  is  done  by  calling
           <b>Mail::Box::Message::destruct()</b> on any existing folder message.

       Error: You cannot take the head/body of a destructed message
           The  message  originated  from  a  folder,  but  its  memory has been freed-up forcefully by means of
           <b>Mail::Box::Message::destruct()</b>.  Apparently, your program still tries to get to the  header  or  body
           data after this destruction, which is not possible.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       This  module  is  part  of  Mail-Box  distribution  version  3.011,  built  on  April  18, 2025. Website:
       <u><a href="http://perl.overmeer.net/CPAN/">http://perl.overmeer.net/CPAN/</a></u>

</pre><h4><b>LICENSE</b></h4><pre>
       Copyrights 2001-2025 by [Mark Overmeer]. For other contributors see ChangeLog.

       This program is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.  See <u><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></u>

perl v5.40.1                                       2025-04-25                <u>Mail::Box::Message::<a href="../man3pm/Destructed.3pm.html">Destructed</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>