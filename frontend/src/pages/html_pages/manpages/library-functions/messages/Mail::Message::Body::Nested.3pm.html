<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::Message::Body::Nested - body of a message which contains a message</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-message-perl">libmail-message-perl_3.017-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::Message::Body::Nested - body of a message which contains a message

</pre><h4><b>INHERITANCE</b></h4><pre>
        Mail::Message::Body::Nested
          is a Mail::Message::Body
          is a Mail::Reporter

</pre><h4><b>SYNOPSIS</b></h4><pre>
        See Mail::Message::Body

        if($body-&gt;isNested) {
           my $nest = $body-&gt;nested;
           $nest-&gt;delete;
        }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The body (content) of a message can be stored in various ways.  In this manual-page you find the
       description of extra functionality you have when a message contains a nested message, like
       "message/rfc822".

       A nested message is different from a multipart message which contains only one element, because a nested
       message has a full set of message header fields defined by the RFC882, where a part of a multipart has
       only a few.  But because we do not keep track whether all fields are presented, a "Mail::Message::Part"
       is used anyway.

       <b>WARNING:</b> Since 2023, at least outlook started to interpret RFC6533 incorrectly.  Bodies of type
       'message/rfc822' can only be 'nested', but when they (illegally) have Content-Transfer-Encoding, they can
       now behave like normal message parts (the same as a pdf or image).

       Extends "DESCRIPTION" in Mail::Message::Body.

</pre><h4><b>OVERLOADED</b></h4><pre>
       Extends "OVERLOADED" in Mail::Message::Body.

       overload: <b>""</b>
           Inherited, see "OVERLOADED" in Mail::Message::Body

       overload: <b>'=='</b> <b>and</b> <b>'!='</b>
           Inherited, see "OVERLOADED" in Mail::Message::Body

       overload: <b>@{}</b>
           Inherited, see "OVERLOADED" in Mail::Message::Body

       overload: <b>bool</b>
           Inherited, see "OVERLOADED" in Mail::Message::Body

</pre><h4><b>METHODS</b></h4><pre>
       Extends "METHODS" in Mail::Message::Body.

   <b>Constructors</b>
       Extends "Constructors" in Mail::Message::Body.

       $obj-&gt;<b>clone</b>()
           Inherited, see "Constructors" in Mail::Message::Body

       Mail::Message::Body::Nested-&gt;<b>new</b>(%options)
            -Option           --Defined in         --Default
             based_on           Mail::Message::Body  undef
             charset            Mail::Message::Body  'PERL'
             checked            Mail::Message::Body  &lt;false&gt;
             content_id         Mail::Message::Body  undef
             data               Mail::Message::Body  undef
             description        Mail::Message::Body  undef
             disposition        Mail::Message::Body  undef
             eol                Mail::Message::Body  'NATIVE'
             file               Mail::Message::Body  undef
             filename           Mail::Message::Body  undef
             language           Mail::Message::Body  undef
             log                Mail::Reporter       'WARNINGS'
             message            Mail::Message::Body  undef
             mime_type          Mail::Message::Body  'message/rfc822'
             modified           Mail::Message::Body  &lt;false&gt;
             nested                                  undef
             trace              Mail::Reporter       'WARNINGS'
             transfer_encoding  Mail::Message::Body  'none'

           based_on =&gt; BODY
           charset =&gt; CHARSET|'PERL'|&lt;undef&gt;
           checked =&gt; BOOLEAN
           content_id =&gt; STRING
           data =&gt; ARRAY-OF-LINES | STRING
           description =&gt; STRING|FIELD
           disposition =&gt; STRING|FIELD
           eol =&gt; 'CR'|'LF'|'CRLF'|'NATIVE'
           file =&gt; FILENAME|FILEHANDLE|IOHANDLE
           filename =&gt; FILENAME
           language =&gt; STRING|ARRAY|LIST|FIELD
           log =&gt; LEVEL
           message =&gt; MESSAGE
           mime_type =&gt; STRING|FIELD|MIME
           modified =&gt; BOOLEAN
           nested =&gt; MESSAGE
             The message which is encapsulated within this body.

           trace =&gt; LEVEL
           transfer_encoding =&gt; STRING|FIELD

           example:

            my $msg   = $folder-&gt;<a href="../man3/message.3.html">message</a>(3);
            my $encaps= Mail::Message::Body::Nested-&gt;new(nested =&gt; $msg);

            # The body will be coerced into a message, which lacks a few
            # lines but we do not bother.
            my $intro = Mail::Message::Body-&gt;new(data =&gt; ...);
            my $body  = Mail::Message::Body::Nested-&gt;new(nested  =&gt; $intro);

   <b>Constructing</b> <b>a</b> <b>body</b>
       Extends "Constructing a body" in Mail::Message::Body.

       $obj-&gt;<b>attach</b>($messages, %options)
           Inherited, see "Constructing a body" in Mail::Message::Body::Construct

       $obj-&gt;<b>charsetDetect</b>(%options)
           Inherited, see "Constructing a body" in Mail::Message::Body::Encode

       Mail::Message::Body::Nested-&gt;<b>charsetDetectAlgorithm</b>( [CODE|undef|METHOD] )
           Inherited, see "Constructing a body" in Mail::Message::Body::Encode

       $obj-&gt;<b>check</b>()
           Inherited, see "Constructing a body" in Mail::Message::Body::Encode

       $obj-&gt;<b>concatenate</b>($components)
           Inherited, see "Constructing a body" in Mail::Message::Body::Construct

       $obj-&gt;<b>decoded</b>(%options)
           Inherited, see "Constructing a body" in Mail::Message::Body

       $obj-&gt;<b>encode</b>(%options)
           Inherited, see "Constructing a body" in Mail::Message::Body::Encode

       $obj-&gt;<b>encoded</b>(%options)
           Inherited, see "Constructing a body" in Mail::Message::Body::Encode

       $obj-&gt;<b>eol</b>( ['CR'|'LF'|'CRLF'|'NATIVE'] )
           Inherited, see "Constructing a body" in Mail::Message::Body

       $obj-&gt;<b>foreachLine</b>((CODE))
           It  is  NOT possible to call some code for each line of a nested because that would damage the header
           of the encapsulated message

       $obj-&gt;<b>stripSignature</b>(%options)
           Inherited, see "Constructing a body" in Mail::Message::Body::Construct

       $obj-&gt;<b>unify</b>($body)
           Inherited, see "Constructing a body" in Mail::Message::Body::Encode

   <b>The</b> <b>body</b>
       Extends "The body" in Mail::Message::Body.

       $obj-&gt;<b>isDelayed</b>()
           Inherited, see "The body" in Mail::Message::Body

       $obj-&gt;<b>isMultipart</b>()
           Inherited, see "The body" in Mail::Message::Body

       $obj-&gt;<b>isNested</b>()
           Inherited, see "The body" in Mail::Message::Body

       $obj-&gt;<b>message</b>( [$message] )
           Inherited, see "The body" in Mail::Message::Body

       $obj-&gt;<b>partNumberOf</b>($part)
           Inherited, see "The body" in Mail::Message::Body

   <b>About</b> <b>the</b> <b>payload</b>
       Extends "About the payload" in Mail::Message::Body.

       $obj-&gt;<b>charset</b>()
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>checked</b>( [BOOLEAN] )
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>contentId</b>( [STRING|$field] )
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>description</b>( [STRING|$field] )
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>disposition</b>( [STRING|$field] )
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>dispositionFilename</b>( [$directory] )
           Inherited, see "About the payload" in Mail::Message::Body::Encode

       $obj-&gt;<b>isBinary</b>()
           Inherited, see "About the payload" in Mail::Message::Body::Encode

       $obj-&gt;<b>isText</b>()
           Inherited, see "About the payload" in Mail::Message::Body::Encode

       $obj-&gt;<b>language</b>( [@langs|\@langs|$langs|$field] )
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>mimeType</b>()
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>nrLines</b>()
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>size</b>()
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>transferEncoding</b>( [STRING|$field] )
           Inherited, see "About the payload" in Mail::Message::Body

       $obj-&gt;<b>type</b>( [STRING|$field] )
           Inherited, see "About the payload" in Mail::Message::Body

   <b>Access</b> <b>to</b> <b>the</b> <b>payload</b>
       Extends "Access to the payload" in Mail::Message::Body.

       $obj-&gt;<b>endsOnNewline</b>()
           Inherited, see "Access to the payload" in Mail::Message::Body

       $obj-&gt;<b>file</b>()
           Inherited, see "Access to the payload" in Mail::Message::Body

       $obj-&gt;<b>forNested</b>(CODE)
           Execute the CODE for the nested message.  This returns a new nested  body  object.   Returns  "undef"
           when the CODE returns "undef".

       $obj-&gt;<b>lines</b>()
           Inherited, see "Access to the payload" in Mail::Message::Body

       $obj-&gt;<b>nested</b>()
           Returns the Mail::Message::Part message which is enclosed within this body.

       $obj-&gt;<b>print</b>( [$fh] )
           Inherited, see "Access to the payload" in Mail::Message::Body

       $obj-&gt;<b>printEscapedFrom</b>($fh)
           Inherited, see "Access to the payload" in Mail::Message::Body

       $obj-&gt;<b>string</b>()
           Inherited, see "Access to the payload" in Mail::Message::Body

       $obj-&gt;<b>stripTrailingNewline</b>()
           Inherited, see "Access to the payload" in Mail::Message::Body

       $obj-&gt;<b>write</b>(%options)
           Inherited, see "Access to the payload" in Mail::Message::Body

   <b>Internals</b>
       Extends "Internals" in Mail::Message::Body.

       $obj-&gt;<b>addTransferEncHandler</b>( $name, &lt;$class|$object&gt; )
       Mail::Message::Body::Nested-&gt;<b>addTransferEncHandler</b>( $name, &lt;$class|$object&gt; )
           Inherited, see "Internals" in Mail::Message::Body::Encode

       $obj-&gt;<b>contentInfoFrom</b>($head)
           Inherited, see "Internals" in Mail::Message::Body

       $obj-&gt;<b>contentInfoTo</b>($head)
           Inherited, see "Internals" in Mail::Message::Body

       $obj-&gt;<b>fileLocation</b>( [$begin, $end] )
           Inherited, see "Internals" in Mail::Message::Body

       $obj-&gt;<b>getTransferEncHandler</b>($type)
           Inherited, see "Internals" in Mail::Message::Body::Encode

       $obj-&gt;<b>isModified</b>()
           Inherited, see "Internals" in Mail::Message::Body

       $obj-&gt;<b>load</b>()
           Inherited, see "Internals" in Mail::Message::Body

       $obj-&gt;<b>modified</b>( [BOOLEAN] )
           Inherited, see "Internals" in Mail::Message::Body

       $obj-&gt;<b>moveLocation</b>( [$distance] )
           Inherited, see "Internals" in Mail::Message::Body

       $obj-&gt;<b>read</b>( $parser, $head, $bodytype, [$chars, [$lines]] )
           Inherited, see "Internals" in Mail::Message::Body

   <b>Error</b> <b>handling</b>
       Extends "Error handling" in Mail::Message::Body.

       $obj-&gt;<b>AUTOLOAD</b>()
           Inherited, see "Error handling" in Mail::Message::Body

       $obj-&gt;<b>addReport</b>($object)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
       Mail::Message::Body::Nested-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>errors</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>log</b>( [$level, [$strings]] )
       Mail::Message::Body::Nested-&gt;<b>log</b>( [$level, [$strings]] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logPriority</b>($level)
       Mail::Message::Body::Nested-&gt;<b>logPriority</b>($level)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logSettings</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>notImplemented</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>report</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>reportAll</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>trace</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>warnings</b>()
           Inherited, see "Error handling" in Mail::Reporter

   <b>Cleanup</b>
       Extends "Cleanup" in Mail::Message::Body.

       $obj-&gt;<b>DESTROY</b>()
           Inherited, see "Cleanup" in Mail::Reporter

</pre><h4><b>DETAILS</b></h4><pre>
       Extends "DETAILS" in Mail::Message::Body.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Warning: Charset $name is not known
           The  encoding  or  decoding  of  a message body encounters a character set which is not understood by
           Perl's Encode module.

       Warning: No decoder defined for transfer encoding $name.
           The data (message body) is encoded in a way which is not currently understood, therefore no  decoding
           (or recoding) can take place.

       Warning: No encoder defined for transfer encoding $name.
           The  data (message body) has been decoded, but the required encoding is unknown.  The decoded data is
           returned.

       Error: Package $package does not implement $method.
           Fatal error: the specific package (or one of its superclasses) does not implement this  method  where
           it  should.  This  message means that some other related classes do implement this method however the
           class at hand does not.  Probably you should investigate this and probably inform the author  of  the
           package.

       Warning: Unknown line terminator $eol ignored
       Error: You cannot use foreachLine on a nested
           <b>foreachLine()</b>  should  be  used on decoded message bodies only, because it would modify the header of
           the encapsulated message. which is clearly not acceptable.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       This module is part of Mail-Message distribution  version  3.017,  built  on  April  18,  2025.  Website:
       <u><a href="http://perl.overmeer.net/CPAN/">http://perl.overmeer.net/CPAN/</a></u>

</pre><h4><b>LICENSE</b></h4><pre>
       Copyrights 2001-2025 by [Mark Overmeer &lt;<a href="mailto:markov@cpan.org">markov@cpan.org</a>&gt;]. For other contributors see ChangeLog.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.  See <u><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></u>

perl v5.40.1                                       2025-04-25                   <u>Mail::Message::Body::<a href="../man3pm/Nested.3pm.html">Nested</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>