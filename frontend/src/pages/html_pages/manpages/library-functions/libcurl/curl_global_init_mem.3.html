<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>curl_global_init_mem - global libcurl initialization with memory callbacks</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       curl_global_init_mem - global libcurl initialization with memory callbacks

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_global_init_mem(long flags,
                                     curl_malloc_callback m,
                                     curl_free_callback f,
                                     curl_realloc_callback r,
                                     curl_strdup_callback s,
                                     curl_calloc_callback c);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  function  works  exactly as <u><a href="../man3/curl_global_init.3.html">curl_global_init</a>(3)</u> with one addition: it allows the application to set
       callbacks to replace the otherwise used internal memory functions.

       If you are using libcurl from multiple threads or libcurl was built with  the  threaded  resolver  option
       then the callback functions must be thread safe. The threaded resolver is a common build option to enable
       (and in some cases the default) so we strongly urge you to make your callback functions thread safe.

       All  callback  arguments  must  be set to valid function pointers. The prototypes for the given callbacks
       must match these:

       void *malloc_callback(size_t size);
              To replace malloc()

       void free_callback(void *ptr);
              To replace free()

       void *realloc_callback(void *ptr, size_t size);
              To replace realloc()

       char *strdup_callback(const char *str);
              To replace strdup()

       void *calloc_callback(size_t nmemb, size_t size);
              To replace calloc()

              This function is otherwise the same as <u><a href="../man3/curl_global_init.3.html">curl_global_init</a>(3)</u>, please refer  to  that  man  page  for
              documentation.

</pre><h4><b>CAUTION</b></h4><pre>
       Manipulating  these gives considerable powers to the application to severely screw things up for libcurl.
       Take care.

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects all supported protocols

</pre><h4><b>EXAMPLE</b></h4><pre>
       extern void *malloc_cb(size_t);
       extern void free_cb(void *);
       extern void *realloc_cb(void *, size_t);
       extern char *strdup_cb(const char *);
       extern void *calloc_cb(size_t, size_t);

       int main(void)
       {
         curl_global_init_mem(CURL_GLOBAL_DEFAULT, malloc_cb,
                              free_cb, realloc_cb,
                              strdup_cb, calloc_cb);
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.12.0

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       This function returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK,  non-zero  means  an  error  occurred,  see  <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.  If
       <u><a href="../man3/CURLOPT_ERRORBUFFER.3.html">CURLOPT_ERRORBUFFER</a>(3)</u> was set with <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> there can be an error message stored in the error
       buffer when non-zero is returned.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/curl_global_cleanup.3.html">curl_global_cleanup</a></b>(3), <b><a href="../man3/curl_global_init.3.html">curl_global_init</a></b>(3)

libcurl                                            2025-06-16                            <u><a href="../man3/curl_global_init_mem.3.html">curl_global_init_mem</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>