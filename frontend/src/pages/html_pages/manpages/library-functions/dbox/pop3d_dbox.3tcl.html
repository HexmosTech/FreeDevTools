<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pop3d::dbox - Simple mailbox database for pop3d</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pop3d::dbox - Simple mailbox database for pop3d

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.5</b> <b>9</b>

       package require <b>pop3d::dbox</b> <b>?1.0.3?</b>

       <b>::pop3d::dbox::new</b> ?<u>dbName</u>?

       <b>dbName</b> <u>option</u> ?<u>arg</u> <u>arg</u> <u>...</u>?

       <u>dbName</u> <b>destroy</b>

       <u>dbName</u> <b>base</b> <u>base</u>

       <u>dbName</u> <b>add</b> <u>mbox</u>

       <u>dbName</u> <b>remove</b> <u>mbox</u>

       <u>dbName</u> <b>move</b> <u>old</u> <u>new</u>

       <u>dbName</u> <b>list</b>

       <u>dbName</u> <b>exists</b> <u>mbox</u>

       <u>dbName</u> <b>locked</b> <u>mbox</u>

       <u>dbName</u> <b>lock</b> <u>mbox</u>

       <u>dbName</u> <b>unlock</b> <u>mbox</u>

       <u>dbName</u> <b>stat</b> <u>mbox</u>

       <u>dbName</u> <b>size</b> <u>mbox</u> ?<u>msgId</u>?

       <u>dbName</u> <b>dele</b> <u>mbox</u> <u>msgList</u>

       <u>storageCmd</u> <b>get</b> <u>mbox</u> <u>msgId</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  package <b>pop3d::dbox</b> provides simple/basic mailbox management facilities. Each mailbox object manages
       a single base directory whose subdirectories represent the managed mailboxes.  Mails  in  a  mailbox  are
       represented  by  files  in  a  mailbox  directory, where each of these files contains a single mail, both
       headers and body, in RFC 822 (<u><a href="http://www.rfc-editor.org/rfc/rfc822.txt">http://www.rfc-editor.org/rfc/rfc822.txt</a></u>) conformant format.

       Any mailbox object following the interface described below can be  used  in  conjunction  with  the  pop3
       server  core provided by the package <b>pop3d</b>. It is especially possible to directly use the objects created
       by this package in the storage callback of pop3 servers following the same interface as  servers  created
       by the package <b>pop3d</b>.

       <b>::pop3d::dbox::new</b> ?<u>dbName</u>?
              This  command  creates  a  new database object with an associated global Tcl command whose name is
              <u>dbName</u>.

       The command <b>dbName</b> may be used to invoke various operations  on  the  database.   It  has  the  following
       general form:

       <b>dbName</b> <u>option</u> ?<u>arg</u> <u>arg</u> <u>...</u>?
              <u>Option</u> and the <u>arg</u>s determine the exact behavior of the command.

       The following commands are possible for database objects:

       <u>dbName</u> <b>destroy</b>
              Destroys  the mailbox database and all transient data. The directory associated with the object is
              not destroyed.

       <u>dbName</u> <b>base</b> <u>base</u>
              Defines the base directory containing the mailboxes to manage. If this method is not  called  none
              of the following methods will work.

       <u>dbName</u> <b>add</b> <u>mbox</u>
              Adds a mailbox of name <u>mbox</u> to the database. The name must be a valid path component.

       <u>dbName</u> <b>remove</b> <u>mbox</u>
              Removes  the  mailbox  specified through <u>mbox</u>, and the mails contained therein, from the database.
              This method will fail if the specified mailbox is locked.

       <u>dbName</u> <b>move</b> <u>old</u> <u>new</u>
              Changes the name of the mailbox <u>old</u> to <u>new</u>.

       <u>dbName</u> <b>list</b>
              Returns a list containing the names  of  all  mailboxes  in  the  directory  associated  with  the
              database.

       <u>dbName</u> <b>exists</b> <u>mbox</u>
              Returns true if the mailbox with name <u>mbox</u> exists in the database, or false if not.

       <u>dbName</u> <b>locked</b> <u>mbox</u>
              Checks if the mailbox specified through <u>mbox</u> is currently locked.

       <u>dbName</u> <b>lock</b> <u>mbox</u>
              This  method  locks  the  specified  mailbox for use by a single connection to the server. This is
              necessary to prevent havoc if several connections to the same mailbox are open. The  complementary
              method  is  <b>unlock</b>. The command will return true if the lock could be set successfully or false if
              not.

       <u>dbName</u> <b>unlock</b> <u>mbox</u>
              This is the complementary method to <b>lock</b>, it revokes the lock on the specified mailbox.

       <u>dbName</u> <b>stat</b> <u>mbox</u>
              Determines the number of messages in the specified mailbox and returns this  number.  This  method
              fails if the mailbox <u>mbox</u> is not locked.

       <u>dbName</u> <b>size</b> <u>mbox</u> ?<u>msgId</u>?
              Determines  the  size of the message specified through its id in <u>msgId</u>, in bytes, and returns this
              number. The command will return the size of the whole maildrop if no message id was specified.  If
              specified the <u>msgId</u> has to be in the range "1 ... [<u>dbName</u> <b>stat</b>]" or this call will fail.  If  <b>stat</b>
              was not called before this call, <b>size</b> will assume that there are zero messages in the mailbox.

       <u>dbName</u> <b>dele</b> <u>mbox</u> <u>msgList</u>
              Deletes the messages whose numeric ids are contained in the <u>msgList</u> from the mailbox specified via
              <u>mbox</u>.   The  <u>msgList</u> must not be empty or this call will fail.  The numeric ids in <u>msgList</u> have to
              be in the range "1 ...  [<u>dbName</u> <b>stat</b>]" or this call will fail. If <b>stat</b> was not called before  this
              call, <b>dele</b> will assume that there are zero messages in the mailbox.

       <u>storageCmd</u> <b>get</b> <u>mbox</u> <u>msgId</u>
              Returns  a  handle  for the specified message. This handle is a mime token following the interface
              described in the documentation of package <b>mime</b>. The token is <u>read-only</u>. In other words, the caller
              is allowed to do anything with the token except to modify it.  The <u>msgId</u> has to be in the range "1
              ...  [<u>dbName</u> <b>stat</b>]" or this call will fail. If <b>stat</b> was not called  before  this  call,  <b>get</b>  will
              assume that there are zero messages in the mailbox.

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This  document,  and  the package it describes, will undoubtedly contain bugs and other problems.  Please
       report such in the category <u>pop3d</u> of the <u>Tcllib</u> <u>Trackers</u> [<a href="http://core.tcl.tk/tcllib/reportlist">http://core.tcl.tk/tcllib/reportlist</a>].   Please
       also report any ideas for enhancements you may have for either package and/or documentation.

       When proposing code changes, please provide <u>unified</u> <u>diffs</u>, i.e the output of <b>diff</b> <b>-u</b>.

       Note  further  that  <u>attachments</u>  are strongly preferred over inlined patches. Attachments can be made by
       going to the <b>Edit</b> form of the ticket immediately after its creation, and then using the left-most  button
       in the secondary navigation bar.

</pre><h4><b>KEYWORDS</b></h4><pre>
       internet, network, pop3, protocol, rfc 822

</pre><h4><b>CATEGORY</b></h4><pre>
       Networking

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2002 Andreas Kupries &lt;<a href="mailto:andreas_kupries@users.sourceforge.net">andreas_kupries@users.sourceforge.net</a>&gt;

tcllib                                                1.0.3                                    <u>pop3d::<a href="../man3tcl/dbox.3tcl.html">dbox</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>