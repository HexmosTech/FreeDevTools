<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       rmdir — remove a directory

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/unistd.h">unistd.h</a>&gt;

       int rmdir(const char *<u>path</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>rmdir</u>()  function  shall  remove  a  directory  whose name is given by <u>path</u>.  The directory shall be
       removed only if it is an empty directory.

       If the directory is the root directory or the current working directory of any process, it is unspecified
       whether the function succeeds, or whether it shall fail and set <u>errno</u> to <b>[EBUSY]</b>.

       If <u>path</u> names a symbolic link, then <u>rmdir</u>() shall fail and set <u>errno</u> to <b>[ENOTDIR]</b>.

       If the <u>path</u> argument refers to a path whose final component is either dot or dot-dot, <u>rmdir</u>() shall fail.

       If the directory's link count becomes 0 and no process has the directory open, the space occupied by  the
       directory  shall  be freed and the directory shall no longer be accessible. If one or more processes have
       the directory open when the last link is removed, the dot and  dot-dot  entries,  if  present,  shall  be
       removed  before  <u>rmdir</u>()  returns  and  no new entries may be created in the directory, but the directory
       shall not be removed until all references to the directory are closed.

       If the directory is not an empty directory, <u>rmdir</u>() shall fail and set <u>errno</u> to <b>[EEXIST]</b> or <b>[ENOTEMPTY]</b>.

       Upon successful completion, <u>rmdir</u>() shall mark for update the last data modification and last file status
       change timestamps of the parent directory.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon successful completion, the function <u>rmdir</u>() shall return 0. Otherwise, -1  shall  be  returned,  and
       <u>errno</u> set to indicate the error. If -1 is returned, the named directory shall not be changed.

</pre><h4><b>ERRORS</b></h4><pre>
       The <u>rmdir</u>() function shall fail if:

       <b>EACCES</b> Search  permission  is  denied on a component of the path prefix, or write permission is denied on
              the parent directory of the directory to be removed.

       <b>EBUSY</b>  The directory to be  removed  is  currently  in  use  by  the  system  or  some  process  and  the
              implementation considers this to be an error.

       [EEXIST] or [ENOTEMPTY]
                   The  <u>path</u>  argument names a directory that is not an empty directory, or there are hard links
                   to the directory other than dot or a single entry in dot-dot.

       <b>EINVAL</b>      The <u>path</u> argument contains a last component that is dot.

       <b>EIO</b>         A physical I/O error has occurred.

       <b>ELOOP</b>       A loop exists in symbolic links encountered during resolution of the <u>path</u> argument.

       <b>ENAMETOOLONG</b>
                   The length of a component of a pathname is longer than {NAME_MAX}.

       <b>ENOENT</b>      A component of <u>path</u> does not name an existing file, or the <u>path</u> argument names a  nonexistent
                   directory or points to an empty string.

       <b>ENOTDIR</b>     A component of <u>path</u> names an existing file that is neither a directory nor a symbolic link to
                   a directory.

       [EPERM] or [EACCES]
                   The S_ISVTX flag is set on the directory containing the file referred to by the <u>path</u> argument
                   and  the  process  does  not satisfy the criteria specified in the Base Definitions volume of
                   POSIX.1‐2017, <u>Section</u> <u>4.3</u>, <u>Directory</u> <u>Protection</u>.

       <b>EROFS</b>       The directory entry to be removed resides on a read-only file system.

       The <u>rmdir</u>() function may fail if:

       <b>ELOOP</b>  More than {SYMLOOP_MAX} symbolic links were encountered during resolution of the <u>path</u> argument.

       <b>ENAMETOOLONG</b>
              The length of a pathname exceeds {PATH_MAX}, or pathname resolution of a symbolic link produced an
              intermediate result with a length that exceeds {PATH_MAX}.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Removing</b> <b>a</b> <b>Directory</b>
       The following example shows how to remove a directory named <b>/home/cnd/mod1</b>.

           #include &lt;<a href="file:/usr/include/unistd.h">unistd.h</a>&gt;

           int status;
           ...
           status = rmdir("/home/cnd/mod1");

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       None.

</pre><h4><b>RATIONALE</b></h4><pre>
       The <u>rmdir</u>() and <u>rename</u>() functions originated in 4.2 BSD, and they used  <b>[ENOTEMPTY]</b>  for  the  condition
       when  the directory to be removed does not exist or <u>new</u> already exists. When the 1984 /usr/group standard
       was published, it contained <b>[EEXIST]</b> instead. When these functions were adopted into System V,  the  1984
       /usr/group standard was used as a reference. Therefore, several existing applications and implementations
       support/use  both  forms,  and  no  agreement  could  be reached on either value. All implementations are
       required to supply both <b>[EEXIST]</b> and <b>[ENOTEMPTY]</b> in <u>&lt;errno.h&gt;</u> with distinct values, so that  applications
       can use both values in C-language <b>case</b> statements.

       The  meaning  of deleting <u>pathname</u><b>/dot</b> is unclear, because the name of the file (directory) in the parent
       directory to be removed is not clear, particularly in the presence of multiple links to a directory.

       The POSIX.1‐1990 standard was silent with regard to the behavior of <u>rmdir</u>() when there are multiple  hard
       links  to  the directory being removed. The requirement to set <u>errno</u> to <b>[EEXIST]</b> or <b>[ENOTEMPTY]</b> clarifies
       the behavior in this case.

       If the current working directory of the process is being removed, that should be an allowed error.

       Virtually all existing implementations detect <b>[ENOTEMPTY]</b> or the case of dot-dot.  The  text  in  <u>Section</u>
       <u>2.3</u>,  <u>Error</u> <u>Numbers</u> about returning any one of the possible errors permits that behavior to continue. The
       <b>[ELOOP]</b> error may be returned if more than {SYMLOOP_MAX} symbolic links are encountered during resolution
       of the <u>path</u> argument.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>Section</u> <u>2.3</u>, <u>Error</u> <u>Numbers</u>, <u>mkdir</u>(), <u>remove</u>(), <u>rename</u>(), <u>unlink</u>()

       The Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>4.3</u>, <u>Directory</u> <u>Protection</u>, <b>&lt;unistd.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                         <u><a href="../man3POSIX/RMDIR.3POSIX.html">RMDIR</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>