<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>readdir - directory input parser for gawk</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/gawk">gawk_5.3.2-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       readdir - directory input parser for gawk

</pre><h4><b>SYNOPSIS</b></h4><pre>
       @load "readdir"

       BEGIN { PROCINFO["readdir_override"] = <u>any_value</u> }  # optional

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <u>readdir</u> extension adds an input parser for directories.

       When  this  extension  is  in  use,  instead  of  skipping directories named on the command line (or with
       <b>getline</b>), they are read, with each entry returned as a record.

       The record consists of three fields separated by forward slash characters.  The first two are  the  inode
       number  and  the  filename, and the third field is a single letter indicating the type of the file: <b>f</b> for
       file, <b>d</b> for directory, <b>b</b> for a block device, <b>c</b> for a character device, <b>p</b> for a FIFO,  <b>l</b>  for  a  symbolic
       link, or <b>s</b> for a socket.

       On  systems  where  the  directory  entry  contains the file type, the third field is filled in from that
       information.  On systems without the file type information, the extension falls back to calling  <u><a href="../man2/stat.2.html">stat</a></u>(2),
       in order to provide the information.  Thus the third field should never be <b>u</b> (unknown).

       Normally,  when  reading  directories, you should set <b>FS</b> equal to <b>"/"</b>.  However, you may instead chose to
       create <b>PROCINFO["readdir_override"]</b> (with any value). If  this  element  exists  when  the  directory  is
       opened, then the extension automatically sets the fields in each record for you.

       By  default,  if  a directory cannot be opened (due to permission problems, for example), <u>gawk</u> will exit.
       As with regular files, this situation can be handled using a <b>BEGINFILE</b> rule that checks <b>ERRNO</b> and  prints
       an error or otherwise handles the problem.

</pre><h4><b>EXAMPLE</b></h4><pre>
       @load "readdir"
       ...
       BEGIN { FS = "/" }
       { print "file name is", $2 }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>GAWK:</u>  <u>Effective</u>  <u>AWK</u>  <u>Programming</u>,  <u><a href="../man3am/filefuncs.3am.html">filefuncs</a></u>(3am),  <u><a href="../man3am/fnmatch.3am.html">fnmatch</a></u>(3am), <u><a href="../man3am/fork.3am.html">fork</a></u>(3am), <u><a href="../man3am/inplace.3am.html">inplace</a></u>(3am), <u><a href="../man3am/ordchr.3am.html">ordchr</a></u>(3am),
       <u><a href="../man3am/readfile.3am.html">readfile</a></u>(3am), <u><a href="../man3am/revoutput.3am.html">revoutput</a></u>(3am), <u><a href="../man3am/rwarray.3am.html">rwarray</a></u>(3am), <u><a href="../man3am/time.3am.html">time</a></u>(3am).

       <u><a href="../man3/opendir.3.html">opendir</a></u>(3), <u><a href="../man3/readdir.3.html">readdir</a></u>(3), <u><a href="../man2/stat.2.html">stat</a></u>(2).

</pre><h4><b>AUTHOR</b></h4><pre>
       Arnold Robbins, <b><a href="mailto:arnold@skeeve.com">arnold@skeeve.com</a></b>.

</pre><h4><b>COPYING</b> <b>PERMISSIONS</b></h4><pre>
       Copyright Â© 2012, 2013, 2018, 2019, 2023 Free Software Foundation, Inc.

       Permission is granted to make and distribute verbatim copies of this manual page provided  the  copyright
       notice and this permission notice are preserved on all copies.

       Permission  is  granted to copy and distribute modified versions of this manual page under the conditions
       for verbatim copying, provided that the entire resulting derived work is distributed under the terms of a
       permission notice identical to this one.

       Permission is granted to copy and distribute translations of this  manual  page  into  another  language,
       under  the  above conditions for modified versions, except that this permission notice may be stated in a
       translation approved by the Foundation.

Free Software Foundation                          June 02 2023                                      <u><a href="../man3am/READDIR.3am.html">READDIR</a></u>(3am)
</pre>
 </div>
</div></section>
</div>
</body>
</html>