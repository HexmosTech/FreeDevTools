<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>al_attach_shader_source - Allegro 5 API</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/allegro5-doc">allegro5-doc_5.2.10.1+dfsg-1build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       al_attach_shader_source - Allegro 5 API

</pre><h4><b>SYNOPSIS</b></h4><pre>
              #include &lt;allegro5/allegro.h&gt;

              bool al_attach_shader_source(ALLEGRO_SHADER *shader, ALLEGRO_SHADER_TYPE type,
                  const char *source)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Attaches  the  shader’s  source  code  to  the  shader  object and compiles it.  Passing NULL deletes the
       underlying (OpenGL or DirectX) shader.  See also <a href="../man3alleg5/al_attach_shader_source_file.3alleg5.html">al_attach_shader_source_file</a>(3alleg5) if you  prefer  to
       obtain your shader source from an external file.

       If  you  do  not  use  ALLEGRO_PROGRAMMABLE_PIPELINE Allegro’s graphics functions will not use any shader
       specific functions themselves.  In case of a system with no fixed function pipeline (like OpenGL ES 2  or
       OpenGL 3 or 4) this means Allegro’s drawing functions cannot be used.

       TODO: Is ALLEGRO_PROGRAMMABLE_PIPELINE set automatically in this case?

       When  ALLEGRO_PROGRAMMABLE_PIPELINE is used the following shader uniforms are provided by Allegro and can
       be accessed in your shaders:

       al_projview_matrix
              matrix for Allegro’s orthographic projection multiplied by the  <a href="../man3alleg5/al_use_transform.3alleg5.html">al_use_transform</a>(3alleg5)  matrix.
              The type is mat4 in GLSL, and float4x4 in HLSL.

       al_use_tex
              whether or not to use the bound texture.  The type is bool in both GLSL and HLSL.

       al_tex the texture if one is bound.  The type is sampler2D in GLSL and texture in HLSL.

       al_use_tex_matrix
              whether  or  not to use a texture matrix (used by the primitives addon).  The type is bool in both
              GLSL and HLSL.

       al_tex_matrix
              the texture matrix (used by the primitives  addon).   Your  shader  should  multiply  the  texture
              coordinates by this matrix.  The type is mat4 in GLSL, and float4x4 in HLSL.

       With GLSL alpha testing is done in the shader and uses these additional uniforms:

       al_alpha_test
              Whether  to  do  any  alpha  testing.   If false, the shader should render the pixel, otherwise it
              should interpret the values of al_alpha_func and al_alpha_test_val.

       al_alpha_func
              The alpha testing function used.  One of the <a href="../man3alleg5/ALLEGRO_RENDER_FUNCTION.3alleg5.html">ALLEGRO_RENDER_FUNCTION</a>(3alleg5) values.  The default
              is ALLEGRO_RENDER_ALWAYS which means all pixels (even completely transparent ones)  are  rendered.
              The type is int.  See <a href="../man3alleg5/ALLEGRO_RENDER_STATE.3alleg5.html">ALLEGRO_RENDER_STATE</a>(3alleg5).

       al_alpha_test_val
              If  alpha  testing is not ALLEGRO_RENDER_NEVER or ALLEGRO_RENDER_ALWAYS the alpha value to compare
              to for alpha testing.  The type is float.

       For GLSL shaders the vertex attributes are passed using the following variables:

       al_pos vertex position attribute.  Type is vec4.

       al_texcoord
              vertex texture coordinate attribute.  Type is vec2.

       al_color
              vertex color attribute.  Type is vec4.

       al_user_attr_0
              The vertex attribute declared as ALLEGRO_PRIM_USER_ATTR

       al_user_attr_1, ..., al_user_attr_9
              The vertex attribute declared as ALLEGRO_PRIM_USER_ATTR + X where X is an integer from 1 to 9

       For HLSL shaders the vertex attributes are passed using the following semantics:

       POSITION0
              vertex position attribute.  Type is float4.

       TEXCOORD0
              vertex texture coordinate attribute.  Type is float2.

       TEXCOORD1
              vertex color attribute.  Type is float4.

       Also, each shader variable has a corresponding macro name that can be  used  when  defining  the  shaders
       using  string  literals.   Don’t  use  these  macros with the other shader functions as that will lead to
       undefined behavior.

       • ALLEGRO_SHADER_VAR_PROJVIEW_MATRIX for “al_projview_matrix”

       • ALLEGRO_SHADER_VAR_POS for “al_pos”

       • ALLEGRO_SHADER_VAR_COLOR for “al_color”

       • ALLEGRO_SHADER_VAR_TEXCOORD for “al_texcoord”

       • ALLEGRO_SHADER_VAR_USE_TEX for “al_use_tex”

       • ALLEGRO_SHADER_VAR_TEX for “al_tex”

       • ALLEGRO_SHADER_VAR_USE_TEX_MATRIX for “al_use_tex_matrix”

       • ALLEGRO_SHADER_VAR_TEX_MATRIX for “al_tex_matrix”

       • ALLEGRO_SHADER_VAR_ALPHA_FUNCTION for “al_alpha_func”

       • ALLEGRO_SHADER_VAR_ALPHA_TEST_VALUE for “al_alpha_test_val”

       Examine the output of <a href="../man3alleg5/al_get_default_shader_source.3alleg5.html">al_get_default_shader_source</a>(3alleg5) for an  example  of  how  to  use  the  above
       uniforms and attributes.

       Returns true on success and false on error, in which case the error log is updated.  The error log can be
       retrieved with <a href="../man3alleg5/al_get_shader_log.3alleg5.html">al_get_shader_log</a>(3alleg5).

</pre><h4><b>SINCE</b></h4><pre>
       5.1.0

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3alleg5/al_attach_shader_source_file.3alleg5.html">al_attach_shader_source_file</a>(3alleg5),  <a href="../man3alleg5/al_build_shader.3alleg5.html">al_build_shader</a>(3alleg5),  <a href="../man3alleg5/al_get_default_shader_source.3alleg5.html">al_get_default_shader_source</a>(3alleg5),
       <a href="../man3alleg5/al_get_shader_log.3alleg5.html">al_get_shader_log</a>(3alleg5), <a href="../man3alleg5/ALLEGRO_PRIM_ATTR.3alleg5.html">ALLEGRO_PRIM_ATTR</a>(3alleg5)

Allegro reference manual                                                        <u><a href="../man3alleg5/al_attach_shader_source.3alleg5.html">al_attach_shader_source</a></u>(3alleg5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>