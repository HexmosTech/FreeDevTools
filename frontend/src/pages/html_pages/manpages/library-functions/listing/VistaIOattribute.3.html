<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VistaIOattribute - representation of a list of name/value pairs</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libvistaio-dev">libvistaio-dev_1.2.19-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       VistaIOattribute - representation of a list of name/value pairs

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>VistaIOAttrList</b> <u>list</u><b>;</b>

       <b>VistaIOAttrListPosn</b> <u>posn</u><b>;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
   <b>Introduction</b>
       An  attribute associates a value with a name. Generally, various properties of an object such as an image
       are described by attributes, each naming one property and specifying that  property's  associated  value.
       Attributes  are  collected  into  lists,  and  Vista  library  routines  are  available for accessing and
       manipulating these lists. A list is referred to by a pointer of type <b>VistaIOAttrList</b>.

       The attribute list representation is closely related to the Vista data file format. Among  other  things,
       attribute lists can represent in memory the contents of Vista data files.

       An  attribute's  name  is  an  alphanumeric  string — specifically, a sequence of characters matching the
       regular expression [a-zA-Z0-9_.+-]+. (Regular expressions are described in <b><a href="../man1/grep.1.html">grep</a></b>(1).) Attribute names  are
       represented in memory as null-terminated character strings. They may be 50 character in length.

       An  attribute's  value  may  be  a character string, a (nested) attribute list, or a pointer to data of a
       specified type.

         • If it's a character string, the string may optionally be interpreted as  an  number  whenever  it  is
           accessed. Library routines exist, for example, that can return a string's value as a <b>VistaIOShort</b>, or
           set it with a <b>VistaIOFloat</b> value. The following representations can be used when accessing character-
           string   attribute   values:   <b>VistaIOBit</b>,  <b>VistaIOUByte</b>,  <b>VistaIOSByte</b>,  <b>VistaIOShort</b>,  <b>VistaIOLong</b>,
           <b>VistaIOFloat</b>, <b>VistaIODouble</b>, <b>VistaIOBoolean</b>, or <b>VistaIOString</b>. An  error  will  be  signalled  if  an
           attempt is made to obtain an attribute's value in a representation to which it cannot be converted.

           A  character-string  attribute value can also be interpreted as a keyword.  Again, conversion between
           keywords and any desired representation occurs when the attribute value is accessed. The routines you
           use to access attribute values allow you to specify an optional dictionary that describes  a  mapping
           between  keywords  and  values.  The form of this dictionary is described by the <b><a href="../man3/VistaIOdictionary.3.html">VistaIOdictionary</a></b>(3)
           manual page. Using a dictionary, for example, you can fetch an attribute's value as a  <b>VistaIOBoolean</b>
           while converting the keywords <b>false</b> and <b>true</b> to the values 0 and 1.

         • An  attribute's  value  may  be  another  attribute  list.  However,  circular references, as when an
           attribute list is the value of one of its attributes, are not allowed.

         • An attribute's value may be an object with any of the standard object types (e.g., an image  or  edge
           set); or it may be an object of a type that has been registered by the programmer using the mechanism
           described in <b><a href="../man3/VistaIOtype.3.html">VistaIOtype</a></b>(3). Because they are registered, such types are automatically read from data
           files   and   written   to   data   files   by   library  routines  such  as  <b><a href="../man3/VistaIOReadFile.3.html">VistaIOReadFile</a></b>(3)  and
           <b><a href="../man3/VistaIOWriteFile.3.html">VistaIOWriteFile</a></b>(3).

         • An attribute's value may be of type <b>VistaIOBundle</b>, described in <b><a href="../man3/VistaIOBundle.3.html">VistaIOBundle</a></b>(3). A <b>VistaIOBundle</b> can
           represent an object whose type has not been registered with the <b><a href="../man3/VistaIOtype.3.html">VistaIOtype</a></b>(3) mechanism,  in  a  way
           that  allows  the  object to be copied unchanged from an input data file to an output data file. It's
           used to represent objects of unknown type encountered in input data files.

         • An attribute's value may be a pointer to an  opaque  data  structure.  Such  a  pointer  is  of  type
           <b>VistaIOPointer</b>. Library routines only allow for getting and setting a <b>VistaIOPointer</b> attribute value;
           they cannot read <b>VistaIOPointer</b> values from data files, or write them to data files.

       The  elements  of  an attribute list may be accessed by attribute name, in which case each element should
       have a unique name and the order of attributes within the list is not significant. In this form of access
       the attribute list is treated as a set. Alternatively, the elements of an attribute list may be  accessed
       by  their  position  within the list, in which case attribute names needn't be unique and the ordering of
       list elements is significant. In this form of access the attribute list is treated  as  a  sequence.  The
       library provides support for both forms of access.

       A  position  within an attribute list is identified by a structure of type <b>VistaIOAttrListPosn</b>. Its value
       can denote a particular attribute within a list, or no attribute (analogous to <b>NULL</b>

   <b>Creating,</b> <b>Copying,</b> <b>and</b> <b>Destroying</b> <b>Attribute</b> <b>Lists</b>
       The following routines will create, copy, and destroy attribute lists.

       <b>VistaIOAttrList</b> <b>VistaIOCreateAttrList</b> <b>(void)</b>

              <b>VistaIOCreateAttrList</b> creates and returns an empty attribute list.

       <b>VistaIOAttrList</b> <b>VistaIOCopyAttrList</b> <b>(VistaIOAttrList</b> <u>list</u><b>)</b>

              <b>VistaIOCopyAttrList</b> generates a complete copy of <u>list</u> using newly-allocated storage for each  list
              element.  The  new  list  contains  its  own  copy  of  each  attribute  value — except that for a
              <b>VistaIOPointer</b> value, the pointer is copied but not  the  (opaque)  data  structure  to  which  it
              points.

       <b>void</b> <b>VistaIODestroyAttrList</b> <b>(VistaIOAttrList</b> <u>list</u><b>)</b>

              <b>VistaIODestroyAttrList</b> releases the storage occupied by <u>list</u>. Also released is storage occupied by
              attribute  values  —  except  that for a <b>VistaIOPointer</b> value, the pointer is released but not the
              (opaque) data structure to which it points.

   <b>Traversing</b> <b>an</b> <b>Attribute</b> <b>List</b>
       The following macros are used to sequence through  an  attribute  list  in  either  direction.  They  are
       appropriate when accessing an attribute list representing a sequence (as opposed to a set) of attributes.

       <b>void</b> <b>VistaIOFirstAttr</b> <b>(VistaIOAttrList</b> <u>list</u><b>,</b> <b>VistaIOAttrListPosn</b> <b>*</b><u>posn</u><b>)</b>

              <b>VistaIOFirstAttr</b>  sets <u>posn</u> to point to the first attribute in <u>list</u>. If the list is empty, <u>posn</u> is
              set to point to nothing (a condition that can be tested using the <b>VistaIOAttrExists</b> macro).

       <b>void</b> <b>VistaIOLastAttr</b> <b>(VistaIOAttrList</b> <u>list</u><b>,</b> <b>VistaIOAttrListPosn</b> <b>*</b><u>posn</u><b>)</b>

              <b>VistaIOLastAttr</b> sets <u>posn</u> to point to the last attribute in <u>list</u>. If the list is  empty,  <u>posn</u>  is
              set to point to nothing (a condition that can be tested using the <b>VistaIOAttrExists</b> macro).

       <b>void</b> <b>VistaIONextAttr</b> <b>(VistaIOAttrListPosn</b> <b>*</b><u>posn</u><b>)</b>

              <b>VistaIONextAttr</b>  sets  <u>posn</u> to point to the next attribute in its list.  If <u>posn</u> already points to
              the list's last attribute, <u>posn</u> is set to point to nothing (a condition that can  be  detected  by
              the <b>VistaIOAttrExists</b> macro).

       <b>void</b> <b>VistaIOPrevAttr</b> <b>(VistaIOAttrList</b> <u>list</u><b>,</b> <b>VistaIOAttrListPosn</b> <b>*</b><u>posn</u><b>)</b>

              <b>VistaIOPrevAttr</b>  sets  <u>posn</u> to point to the previous attribute in its list. If <u>posn</u> already points
              to the list's first attribute, <u>posn</u> is set to point to nothing (a condition that can  be  detected
              by the <b>VistaIOAttrExists</b> macro).

       <b>VistaIOBoolean</b> <b>VistaIOAttrExists</b> <b>(VistaIOAttrListPosn</b> <b>*</b><u>posn</u><b>)</b>

              <b>VistaIOAttrExists</b>  returns <b>TRUE</b> if <u>posn</u> points to an attribute, and <b>FALSE</b> if it points to nothing.
              This macro is used, for example, to test for the end of an attribute list while sequencing through
              it.

       <b>VistaIOBoolean</b> <b>VistaIOAttrListEmpty</b> <b>(VistaIOAttrList</b> <b>*</b><u>list</u><b>)</b>

              <b>VistaIOAttrListEmpty</b> returns <b>TRUE</b> if <u>list</u> is empty.

   <b>Accessing</b> <b>Attributes</b> <b>by</b> <b>Position</b>
       The following macros and routines access the attribute at a specified position within an attribute list.

       <b>VistaIOStringConst</b> <b>VistaIOGetAttrName</b> <b>(VistaIOAttrListPosn</b> <b>*</b><u>posn</u><b>)</b>

              The <b>VistaIOGetAttrName</b> macro returns the name of the attribute at <u>posn</u>.

       <b>VistaIORepnKind</b> <b>VistaIOGetAttrRepn</b> <b>(VistaIOAttrListPosn</b> <b>*</b><u>posn</u><b>)</b>

              The <b>VistaIOGetAttrRepn</b> macro returns the type of representation of the attribute value at <u>posn</u>.

       <b>VistaIOBoolean</b> <b>VistaIOGetAttrValue</b> <b>(VistaIOAttrListPosn</b> <b>*</b><u>posn</u><b>,</b> <b>VistaIODictEntry</b> <b>*</b><u>dict</u><b>,</b>
                 <b>VistaIORepnKind</b> <u>repn</u><b>,</b> <b>VistaIOPointer</b> <u>value</u><b>)</b>

            This routine gets the value of the attribute at <u>posn</u>. (See <b><a href="../man3/VistaIOGetAttrValue.3.html">VistaIOGetAttrValue</a></b>(3) for details.)

       <b>void</b> <b>VistaIOSetAttrValue</b> <b>(VistaIOAttrListPosn</b> <b>*</b><u>posn</u><b>,</b> <b>VistaIODictEntry</b> <b>*</b><u>dict</u><b>,</b> <b>VistaIORepnKind</b> <u>repn</u><b>,</b>
                 <u>type</u> <u>value</u><b>)</b>

            This routine sets the value of the attribute at <u>posn</u>. (See <b><a href="../man3/VistaIOSetAttrValue.3.html">VistaIOSetAttrValue</a></b>(3) for details.)

   <b>Accessing</b> <b>Attributes</b> <b>by</b> <b>Name</b>
       The following routines access attributes by name. They are appropriate when accessing an  attribute  list
       representing a set of attributes, in which each attribute name is present at most once.

       <b>VistaIOBoolean</b> <b>VistaIOLookupAttr</b> <b>(VistaIOAttrList</b> <u>list</u><b>,</b> <b>VistaIOStringConst</b> <u>name</u><b>,</b>
                 <b>VistaIOAttrListPosn</b> <b>*</b><u>posn</u><b>)</b>

            <b>VistaIOLookupAttr</b>  locates  the  first  attribute  named  <u>name</u> in the list <u>list</u>. If the attribute is
            found, <b>TRUE</b> is returned along with the attribute's position in <u>posn</u>.  Otherwise <b>FALSE</b> is returned.

       <b>VistaIOGetAttrResult</b> <b>VistaIOGetAttr</b> <b>(VistaIOAttrList</b> <b>*</b><u>list</u><b>,</b> <b>VistaIOStringConst</b> <u>name</u><b>,</b>
                 <b>VistaIODictEntry</b> <b>*</b><u>dict</u><b>,</b> <b>VistaIORepnKind</b> <u>repn</u><b>,</b> <b>VistaIOPointer</b> <u>value</u><b>)</b>

            <b>VistaIOGetAttr</b> gets the value of the named attribute. (See <b><a href="../man3/VistaIOGetAttr.3.html">VistaIOGetAttr</a></b>(3) for details.)

       <b>void</b> <b>VistaIOSetAttr</b> <b>(VistaIOAttrList</b> <b>*</b><u>list</u><b>,</b> <b>VistaIOStringConst</b> <u>name</u><b>,</b> <b>VistaIODictEntry</b> <b>*</b><u>dict</u><b>,</b>
                 <b>VistaIORepnKind</b> <u>repn</u><b>,</b> <u>type</u> <u>value</u><b>)</b>

            <b>VistaIOSetAttr</b> sets the value of the named attribute, creating an attribute if the list doesn't  al‐
            ready contain one with that name. (See <b><a href="../man3/VistaIOSetAttr.3.html">VistaIOSetAttr</a></b>(3) for details.)

   <b>Inserting</b> <b>and</b> <b>Deleting</b> <b>Attributes</b>
       The following routines add attributes to lists and remove them.

       <b>void</b> <b>VistaIOInsertAttr</b> <b>(VistaIOAttrListPosn</b> <b>*</b><u>posn</u><b>,</b> <b>VistaIOBoolean</b> <u>after</u><b>,</b> <b>VistaIOStringConst</b> <u>name</u><b>,</b>
                 <b>VistaIODictEntry</b> <b>*</b><u>dict</u><b>,</b> <b>VistaIORepnKind</b> <u>repn</u><b>,</b> <u>type</u> <u>value</u><b>)</b>

            <b>VistaIOInsertAttr</b>  inserts  an  attribute  before  or after a specified position within an attribute
            list. (See <b><a href="../man3/VistaIOInsertAttr.3.html">VistaIOInsertAttr</a></b>(3) for details.)

       <b>void</b> <b>VistaIODeleteAttr</b> <b>(VistaIOAttrListPosn</b> <b>*</b><u>posn</u><b>)</b>

              <b>VistaIODeleteAttr</b> deletes the attribute at <u>posn</u>. It leaves <u>posn</u>  pointing  to  the  following  at‐
              tribute if their is one, or nothing if the attribute deleted was the last on its list.

       <b>void</b> <b>VistaIOAppendAttr</b> <b>(VistaIOAttrList</b> <b>*</b><u>list</u><b>,</b> <b>VistaIOStringConst</b> <u>name</u><b>,</b> <b>VistaIODictEntry</b> <b>*</b><u>dict</u><b>,</b>
                 <b>VistaIORepnKind</b> <u>repn</u><b>,</b> <u>type</u> <u>value</u><b>)</b>

            <b>VistaIOAppendAttr</b>  appends an attribute to the back of <u>list</u>. (See <b><a href="../man3/VistaIOAppendAttr.3.html">VistaIOAppendAttr</a></b>(3) for details.)

       <b>void</b> <b>VistaIOPrependAttr</b> <b>(VistaIOAttrList</b> <b>*</b><u>list</u><b>,</b> <b>VistaIOStringConst</b> <u>name</u><b>,</b> <b>VistaIODictEntry</b> <b>*</b><u>dict</u><b>,</b>
                 <b>VistaIORepnKind</b> <u>repn</u><b>,</b> <u>type</u> <u>value</u><b>)</b>

            <b>VistaIOPrependAttr</b> prepends an attribute to the front of <u>list</u>. (See  <b><a href="../man3/VistaIOPrependAttr.3.html">VistaIOPrependAttr</a></b>(3)  for  de‐
            tails.)

       <b>VistaIOBoolean</b> <b>VistaIOExtractAttr</b> <b>(VistaIOAttrList</b> <b>*</b><u>list</u><b>,</b> <b>VistaIOStringConst</b> <u>name</u><b>,</b>
                 <b>VistaIODictEntry</b> <b>*</b><u>dict</u><b>,</b> <b>VistaIORepnKind</b> <u>repn</u><b>,</b> <b>VistaIOPointer</b> <u>value</u><b>,</b> <b>VistaIOBoolean</b> <u>required</u><b>)</b>

            <b>VistaIOExtractAttr</b>  locates  an attribute named <u>name</u> in <u>list</u>, removing it if found and returning its
            value. (See <b><a href="../man3/VistaIOExtractAttr.3.html">VistaIOExtractAttr</a></b>(3) for details.)

   <b>Encoding</b> <b>and</b> <b>Decoding</b> <b>Attribute</b> <b>VistaIOalues</b>
       The following routines translate character-string attribute values to and from other representations.

       <b>VistaIOStringConst</b> <b>VistaIOEncodeAttrValue</b> <b>(VistaIODictEntry</b> <b>*</b><u>dict</u><b>,</b> <b>VistaIORepnKind</b> <u>repn</u><b>,</b> <u>type</u> <u>value</u><b>)</b>

            <b>VistaIOEncodeAttrValue</b> takes a value and an optional dictionary, and encodes the value as a  charac‐
            ter  string  suitable  for  storage  in an attribute list or output to a data file.  (See <b>VistaIOEn‐</b>
            <b><a href="../man3/codeAttrValue.3.html">codeAttrValue</a></b>(3) for details.)

       <b>VistaIOBoolean</b> <b>VistaIODecodeAttrValue</b> <b>(VistaIOStringConst</b> <u>str</u><b>,</b> <b>VistaIODictEntry</b> <b>*</b><u>dict</u><b>,</b>
                 <b>VistaIORepnKind</b> <u>repn</u><b>,</b> <b>VistaIOPointer</b> <u>value</u><b>)</b>

            <b>VistaIODecodeAttrValue</b> performs the inverse operation, taking a string and returning a value in  the
            requested representation. (See <b><a href="../man3/VistaIODecodeAttrValue.3.html">VistaIODecodeAttrValue</a></b>(3) for details.)

   <b>Inputting</b> <b>and</b> <b>Outputting</b> <b>Attribute</b> <b>Lists</b>
       The following routines read and write attribute lists.

       <b>VistaIOAttrList</b> <b>VistaIOReadFile</b> <b>(FILE</b> <b>*</b><u>file</u><b>,</b> <b>VistaIOBoolean</b> <b>(*</b><u>filter</u><b>)</b> <b>())</b>

              <b>VistaIOReadFile</b>  reads  an  entire data file, returning it as an attribute list. (See <b>VistaIORead‐</b>
              <b><a href="../man3/File.3.html">File</a></b>(3) for details.)

       <b>VistaIOBoolean</b> <b>VistaIOWriteFile</b> <b>(FILE</b> <b>*</b><u>file</u><b>,</b> <b>VistaIOAttrList</b> <u>list</u><b>)</b>

              <b>VistaIOWriteFile</b> writes an entire data file with the contents of  an  attribute  list.  (See  <b>Vis‐</b>
              <b><a href="../man3/taIOWriteFile.3.html">taIOWriteFile</a></b>(3) for details.)

   <b>Storage</b> <b>Management</b>
       To  program  with  attribute lists it is necessary to know something about how storage is managed for at‐
       tribute values. The general rule is that when individual attributes are accessed, values aren't  created,
       copied,  or  destroyed  —  only  references to them are manipulated. On the other hand when an entire at‐
       tribute list is create, copied, or destroyed, then all the values will be created, copied,  or  destroyed
       along  with it. Unfortunately, the exact behavior must depend on both the type of value an attribute has,
       and the type of operation being performed with the attribute. The following table summarizes the  various
       cases.

         For an attribute whose value is a character string:

           • The value is stored in an attribute list as a string.

           • <b>VistaIOCopyAttrList</b> creates a new copy of the string for the list it creates.

           • <b>VistaIODestroyAttrList</b> releases storage occupied by the string when it destroys the list containing
             the attribute.

           • <b>VistaIOGetAttr</b>  and  <b>VistaIOGetAttrValue</b>  return  a  pointer  to a shared copy of the string.  This
             pointer is valid until the attribute is modified.

           • When <b>VistaIOSetAttr</b>, <b>VistaIOSetAttrValue</b>,  <b>VistaIODeleteAttr</b>,  or  <b>VistaIOExtractAttr</b>  modifies  or
             deletes an attribute with a string value, it releases the storage occupied by that value.

           • When  <b>VistaIOSetAttr</b>  or <b>VistaIOSetAttrValue</b> sets an attribute to a new string value, it stores its
             own copy of the string in the attribute list.

         For an attribute whose value is an attribute list, object, or <b>VistaIOBundle</b>:

           • The value is stored in an attribute list as a pointer.

           • <b>VistaIOCopyAttrList</b> creates a new copy of the value for the list it creates.  (If the value  is  an
             attribute list, for example, it calls itself recursively to clone the value.)

           • <b>VistaIODestroyAttrList</b>  releases storage occupied by the value when it destroys the list containing
             the attribute.

           • <b>VistaIOGetAttr</b> and <b>VistaIOGetAttrValue</b> return a pointer to a shared copy of the value  (they  don't
             make  a new copy to return).  This pointer is valid until the value is explicitly destroyed, or in‐
             directly destroyed by destroying the list containing the attribute.

           • When <b>VistaIOSetAttr</b>, <b>VistaIOSetAttrValue</b>,  <b>VistaIODeleteAttr</b>,  or  <b>VistaIOExtractAttr</b>  modifies  or
             deletes  an  attribute  with  one of these values, it discards the pointer to the value but not the
             value itself.

           • When <b>VistaIOSetAttr</b> or <b>VistaIOSetAttrValue</b> sets an attribute to one of these values,  it  stores  a
             copy of a pointer to the value, but it doesn't copy the value itself.

         For an attribute whose value is a <b>VistaIOPointer</b>:

           • The value is stored in an attribute list as a pointer.

           • <b>VistaIOCopyAttrList</b>  creates a new copy of the pointer for the list it creates, but it doesn't copy
             the (opaque) data structure pointed to.

           • <b>VistaIODestroyAttrList</b> doesn't release the (opaque) data structure pointed to when it destroys  the
             list containing the attribute.

           • <b>VistaIOGetAttr</b> and <b>VistaIOGetAttrValue</b> simply return the pointer.

           • When  <b>VistaIOSetAttr</b>,  <b>VistaIOSetAttrValue</b>,  <b>VistaIODeleteAttr</b>,  or  <b>VistaIOExtractAttr</b> modifies or
             deletes an attribute with one of these values, it discards the old pointer value  but  doesn't  re‐
             lease the (opaque) data structure it points to.

           • When <b>VistaIOSetAttr</b> or <b>VistaIOSetAttrValue</b> sets an attribute to one of these values, it records the
             new pointer value, but it doesn't copy the (opaque) data structure it points to.

   <b>Data</b> <b>Structures</b>
       <b>typedef</b> <b>struct</b> <b>_VAttrRec</b> <b>{</b>
              <b>VistaIOAttrRec</b> <b>*next;/*</b> <b>next</b> <b>in</b> <b>list</b> <b>*/</b>
              <b>VistaIOAttrRec</b> <b>*prev;/*</b> <b>previous</b> <b>in</b> <b>list</b> <b>*/</b>
              <b>VistaIORepnKind</b> <b>repn;/*</b> <b>rep'n</b> <b>of</b> <b>attribute</b> <b>value</b> <b>*/</b>
              <b>VistaIOPointer</b> <b>value;/*</b> <b>pointer</b> <b>to</b> <b>attribute</b> <b>value</b> <b>*/</b>
              <b>char</b> <b>name[1];</b>       <b>/*</b> <b>beginning</b> <b>of</b> <b>name</b> <b>string</b> <b>*/</b>
       <b>}</b> <b>VistaIOAttrRec,</b> <b>*VistaIOAttrList;</b>

       <b>typedef</b> <b>struct</b> <b>{</b>
              <b>VistaIOAttrList</b> <b>list;/*</b> <b>the</b> <b>list</b> <b>*/</b>
              <b>VistaIOAttrRec</b> <b>*ptr;/*</b> <b>position</b> <b>within</b> <b>the</b> <b>list</b> <b>*/</b>
       <b>}</b> <b>VistaIOAttrListPosn;</b>

       Programmers  using  attribute lists will usually not need to access components of the attribute list data
       structure directly from their code since there are library routines and macros available for most purpos‐
       es.  However, when debugging, one may occasionally need to examine an attribute list directly.

       In a list of attributes, each attribute is represented by a <b>VistaIOAttrRec</b> record. Records are  allocated
       with  a variable size sufficient to contain the attribute name and, if the attribute value is stored as a
       character string, the attribute value also.

       The record's <b>name</b> field is a variable-length character array containing the attribute's  name  terminated
       by  a  <b>NULL</b>  character.  The  <b>repn</b> field specifies whether the attribute's value is stored as a character
       string (<b>VistaIOStringRepn</b>), an attribute list (<b>VistaIOAttrListRepn</b>), a pointer to an opaque  data  struc‐
       ture  (<b>VistaIOPointerRepn</b>),  or some other object type (<b>VistaIOBundle</b>, <b>VistaIOImage</b>, <b>VistaIOEdges</b>, etc.).
       Accordingly, the <b>value</b> field will point to a null-terminated character  string,  an  attribute  list,  an
       opaque  data  structure, a <b>VistaIOBundleRec</b> structure, etc. If the value is a string, that string immedi‐
       ately follows the name string in the variable length record. The <b>next</b> and  <b>prev</b>  fields  form  a  doubly-
       linked list, with <b>NULL</b> pointers marking the list's ends.

       An  attribute  list contains, in addition to a <b>VistaIOAttrRec</b> record for each of its attributes, one <b>Vis‐</b>
       <b>taIOAttrRec</b> record serving as a list header.  The only significant fields of this header record  are  the
       <b>next</b>  and <b>prev</b> fields, which point to the first and last attributes of the list.  An attribute list is of
       type <b>VistaIOAttrList</b>, which is a pointer to the list's header record.

       The library includes routines and macros that allow one to step through an attribute list, and to  access
       an attribute by its position in a list. These employ the <b>VistaIOAttrListPosn</b> type, which acts as a point‐
       er  to  a  particular  attribute within a list. The <b>VistaIOAttrListPosn</b>'s <b>list</b> field identifies an entire
       list, and its <b>ptr</b> field refers to a specific attribute within that list.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The examples in this section assume the following variables:

              <b>VistaIOAttrList</b> <b>list;</b>
              <b>VistaIOAttrListPosn</b> <b>posn;</b>
              <b>VistaIOImage</b> <b>image,</b> <b>result;</b>

       This code fragment creates an attribute list, sets some attributes in it, writes the list to the standard
       output stream, and finally destroys the list.

              <b>list</b> <b>=</b> <b>VistaIOCreateAttrList</b> <b>();</b>
              <b>VistaIOSetAttr</b> <b>(list,</b> <b>"name",</b> <b>NULL,</b> <b>VistaIOStringRepn,</b> <b>"Socrates");</b>
              <b>VistaIOSetAttr</b> <b>(list,</b> <b>"comment",</b> <b>NULL,</b> <b>VistaIOStringRepn,</b> <b>"Greek</b> <b>philosopher");</b>
              <b>VistaIOSetAttr</b> <b>(list,</b> <b>"age",</b> <b>NULL,</b> <b>VistaIOShortRepn,</b> <b>(VistaIOShort)</b> <b>37);</b>
              <b>VistaIOWriteFile</b> <b>(stdout,</b> <b>list);</b>
              <b>VistaIODestroyAttrList</b> <b>(list);</b>

       This reads an attribute list from the standard input stream and prints the name of each of its attributes
       in sequence:

              <b>list</b> <b>=</b> <b>VistaIOReadFile</b> <b>(stdin,</b> <b>NULL);</b>
              <b>for</b> <b>(VistaIOFirstAttr</b> <b>(list,</b> <b>&amp;</b> <b>posn);</b> <b>VistaIOAttrExists</b> <b>(&amp;</b> <b>posn);</b> <b>VistaIONextAttr</b> <b>(&amp;</b> <b>posn))</b>
                  <b>printf</b> <b>("%s\n",</b> <b>VistaIOGetAttrName</b> <b>(&amp;</b> <b>posn));</b>

       To add a series of images to an attribute list:

              <b>while</b> <b>(...)</b> <b>{</b>
                  <b>image</b> <b>=</b> <b>VistaIOCreateImage</b> <b>(...);</b>
                  <b>VistaIOAppendAttr</b> <b>(list,</b> <b>...,</b> <b>VistaIOImageRepn,</b> <b>image);</b>
                  <b>/*</b> <b>Note:</b> <b>don't</b> <b>discard</b> <b>image.</b> <b>*/</b>
              <b>}</b>

       To modify each image in an attribute list without replacing it:

              <b>for</b> <b>(VistaIOFirstAttr</b> <b>(list,</b> <b>&amp;</b> <b>posn);</b> <b>VistaIOAttrExists</b> <b>(&amp;</b> <b>posn);</b> <b>VistaIONextAttr</b> <b>(&amp;</b> <b>posn))</b> <b>{</b>
                  <b>if</b> <b>(VistaIOGetAttrRepn</b> <b>(&amp;</b> <b>posn)</b> <b>!=</b> <b>VistaIOImageRepn)</b>
                      <b>continue;</b>
                  <b>VistaIOGetAttrValue</b> <b>(&amp;</b> <b>posn,</b> <b>NULL,</b> <b>VistaIOImageRepn,</b> <b>&amp;</b> <b>image);</b>
                  <b>ProcessImage</b> <b>(image,</b> <b>image,</b> <b>...);</b>
                  <b>/*</b> <b>Note:</b> <b>modifications</b> <b>to</b> <b>image</b> <b>are</b> <b>inherited</b> <b>by</b> <b>the</b> <b>attribute.</b> <b>*/</b>
              <b>}</b>

       To replace each image in an attribute list:

              <b>for</b> <b>(VistaIOFirstAttr</b> <b>(list,</b> <b>&amp;</b> <b>posn);</b> <b>VistaIOAttrExists</b> <b>(&amp;</b> <b>posn);</b> <b>VistaIONextAttr</b> <b>(&amp;</b> <b>posn))</b> <b>{</b>
                  <b>if</b> <b>(VistaIOGetAttrRepn</b> <b>(&amp;</b> <b>posn)</b> <b>!=</b> <b>VistaIOImageRepn)</b>
                      <b>continue;</b>
                  <b>VistaIOGetAttrValue</b> <b>(&amp;</b> <b>posn,</b> <b>NULL,</b> <b>VistaIOImageRepn,</b> <b>&amp;</b> <b>image);</b>
                  <b>result</b> <b>=</b> <b>ProcessImage</b> <b>(image,</b> <b>NULL,</b> <b>...);</b>
                  <b>VistaIOSetAttrValue</b> <b>(&amp;</b> <b>posn,</b> <b>NULL,</b> <b>VistaIOImageRepn,</b> <b>result);</b>
                  <b>/*</b> <b>Note:</b> <b>the</b> <b>attribute</b> <b>now</b> <b>refers</b> <b>to</b> <b>result,</b> <b>not</b> <b>image.</b> <b>*/</b>
                  <b>VistaIODestroyImage</b> <b>(image);</b>
              <b>}</b>

       To delete a named image from an attribute list:

              <b>if</b> <b>(VistaIOLookupAttr</b> <b>(list,</b> <b>"...",</b> <b>&amp;</b> <b>posn))</b> <b>{</b>
                  <b>VistaIOGetAttrValue</b> <b>(&amp;</b> <b>posn,</b> <b>NULL,</b> <b>VistaIOImageRepn,</b> <b>&amp;</b> <b>image);</b>
                  <b>VistaIODeleteAttr</b> <b>(&amp;</b> <b>posn);</b>
                  <b>VistaIODestroyImage</b> <b>(image);</b>
              <b>}</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/VistaIOBundle.3.html">VistaIOBundle</a></b>(3), <b><a href="../man3/VistaIOdictionary.3.html">VistaIOdictionary</a></b>(3), <b><a href="../man3/VistaIOtype.3.html">VistaIOtype</a></b>(3), ,
       <b><a href="../man3/VistaIOGetAttrValue.3.html">VistaIOGetAttrValue</a></b>(3), <b><a href="../man3/VistaIOSetAttrValue.3.html">VistaIOSetAttrValue</a></b>(3), <b><a href="../man3/VistaIOGetAttr.3.html">VistaIOGetAttr</a></b>(3), <b><a href="../man3/VistaIOSetAttr.3.html">VistaIOSetAttr</a></b>(3),
       <b><a href="../man3/VistaIOInsertAttr.3.html">VistaIOInsertAttr</a></b>(3), <b><a href="../man3/VistaIOAppendAttr.3.html">VistaIOAppendAttr</a></b>(3), <b><a href="../man3/VistaIOPrependAttr.3.html">VistaIOPrependAttr</a></b>(3), <b><a href="../man3/VistaIOExtractAttr.3.html">VistaIOExtractAttr</a></b>(3),
       <b><a href="../man3/VistaIOEncodeAttrValue.3.html">VistaIOEncodeAttrValue</a></b>(3), <b><a href="../man3/VistaIODecodeAttrValue.3.html">VistaIODecodeAttrValue</a></b>(3),
       <b><a href="../man3/VistaIOReadFile.3.html">VistaIOReadFile</a></b>(3), <b><a href="../man3/VistaIOWriteFile.3.html">VistaIOWriteFile</a></b>(3)

</pre><h4><b>AUTHOR</b></h4><pre>
       Art Pope &lt;<a href="mailto:pope@cs.ubc.ca">pope@cs.ubc.ca</a>&gt;

       Adaption to vistaio: Gert Wollny &lt;<a href="mailto:gw.fossdev@gmail.com">gw.fossdev@gmail.com</a>&gt;

VistaIO Version 1.2.14                           28 January 1994                             <u><a href="../man3/VistaIOattribute.3.html">VistaIOattribute</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>