<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>globus_gsi_cred_handle - Credential Handle Management</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libglobus-gsi-credential-doc">libglobus-gsi-credential-doc_8.4-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       globus_gsi_cred_handle - Credential Handle Management

        - Credential Handle Management.

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Typedefs</b>
       typedef struct globus_l_gsi_cred_handle_s * <b>globus_gsi_cred_handle_t</b>

   <b>Functions</b>
       globus_result_t <b>globus_gsi_cred_handle_init</b> (<b>globus_gsi_cred_handle_t</b> *handle,
           <b>globus_gsi_cred_handle_attrs_t</b> handle_attrs)
           Initialize a Handle.
       globus_result_t <b>globus_gsi_cred_handle_destroy</b> (<b>globus_gsi_cred_handle_t</b> handle)
           Destroy the credential handle.
       globus_result_t <b>globus_gsi_cred_handle_copy</b> (<b>globus_gsi_cred_handle_t</b> source, <b>globus_gsi_cred_handle_t</b>
           *dest)
           Copy a handle.
       globus_result_t <b>globus_gsi_cred_get_handle_attrs</b> (<b>globus_gsi_cred_handle_t</b> handle,
           <b>globus_gsi_cred_handle_attrs_t</b> *attrs)
           Get the handle attributes.
       globus_result_t <b>globus_gsi_cred_get_goodtill</b> (<b>globus_gsi_cred_handle_t</b> cred_handle, time_t *goodtill)
           Get credential expiration.
       globus_result_t <b>globus_gsi_cred_get_lifetime</b> (<b>globus_gsi_cred_handle_t</b> cred_handle, time_t *lifetime)
           Get credential lifetime.
       globus_result_t <b>globus_gsi_cred_get_key_bits</b> (<b>globus_gsi_cred_handle_t</b> cred_handle, int *key_bits)
           Get credential strength.
       globus_result_t <b>globus_gsi_cred_set_cert</b> (<b>globus_gsi_cred_handle_t</b> handle, X509 *cert)
           Set the credential's certificate.
       globus_result_t <b>globus_gsi_cred_get_cert</b> (<b>globus_gsi_cred_handle_t</b> handle, X509 **cert)
           Get the credential's certificate.
       globus_result_t <b>globus_gsi_cred_set_key</b> (<b>globus_gsi_cred_handle_t</b> handle, EVP_PKEY *key)
           Set the credential's private key.
       globus_result_t <b>globus_gsi_cred_get_key</b> (<b>globus_gsi_cred_handle_t</b> handle, EVP_PKEY **key)
           Get the credential's private key.
       globus_result_t <b>globus_gsi_cred_set_cert_chain</b> (<b>globus_gsi_cred_handle_t</b> handle, STACK_OF(X509)
           *cert_chain)
           Set the certificate chain.
       globus_result_t <b>globus_gsi_cred_get_cert_chain</b> (<b>globus_gsi_cred_handle_t</b> handle, STACK_OF(X509)
           **cert_chain)
           Get the certificate chain.
       globus_result_t <b>globus_gsi_cred_get_X509_subject_name</b> (<b>globus_gsi_cred_handle_t</b> handle, X509_NAME
           **subject_name)
           Get credential subject name.
       globus_result_t <b>globus_gsi_cred_get_X509_identity_name</b> (<b>globus_gsi_cred_handle_t</b> handle, X509_NAME
           **identity_name)
           Get X.509 identity.
       globus_result_t <b>globus_gsi_cred_get_subject_name</b> (<b>globus_gsi_cred_handle_t</b> handle, char **subject_name)
           Get credential subject name.
       globus_result_t <b>globus_gsi_cred_get_policies</b> (<b>globus_gsi_cred_handle_t</b> handle, STACK_OF(OPENSSL_STRING)
           **policies)
           Get certificate chain policies.
       globus_result_t <b>globus_gsi_cred_get_policy_languages</b> (<b>globus_gsi_cred_handle_t</b> handle,
           STACK_OF(ASN1_OBJECT) **policy_languages)
           Get certificate chain policy languages.
       globus_result_t <b>globus_gsi_cred_get_X509_issuer_name</b> (<b>globus_gsi_cred_handle_t</b> handle, X509_NAME
           **issuer_name)
           Get credential issuer name object.
       globus_result_t <b>globus_gsi_cred_get_issuer_name</b> (<b>globus_gsi_cred_handle_t</b> handle, char **issuer_name)
           Get issuer name.
       globus_result_t <b>globus_gsi_cred_get_identity_name</b> (<b>globus_gsi_cred_handle_t</b> handle, char **identity_name)
           Get identity name.
       globus_result_t <b>globus_gsi_cred_verify_cert_chain</b> (<b>globus_gsi_cred_handle_t</b> cred_handle,
           globus_gsi_callback_data_t callback_data)
           Verify credential.
       globus_result_t <b>globus_gsi_cred_verify_cert_chain_when</b> (<b>globus_gsi_cred_handle_t</b> cred_handle,
           globus_gsi_callback_data_t callback_data_in, time_t check_time)
           Verify credential at a specific time.
       globus_result_t <b>globus_gsi_cred_verify</b> (<b>globus_gsi_cred_handle_t</b> handle)
           Verify a credential.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Credential Handle Management.

       Create/Destroy/Modify a GSI Credential Handle.

       Within the Globus GSI Credential Library, all credential operations require a handle parameter. Currently
       only one operation may be in progress at once per credential handle.

       This section defines operations to create, modify and destroy GSI Credential handles.

</pre><h4><b>Typedef</b> <b>Documentation</b></h4><pre>
   <b>typedef</b> <b>struct</b> <b>globus_l_gsi_cred_handle_s*</b> <b>globus_gsi_cred_handle_t</b>
       GSI Credential Handle.

       A GSI Credential handle keeps track of state relating to a credential. Handles can have immutable
       <b>attributes</b> associated with them. All credential <b>operations</b>  take a credential handle pointer as a
       parameter.

       <b>See</b> <b>also</b>
           <b>globus_gsi_cred_handle_init()</b>, <b>globus_gsi_cred_handle_destroy()</b>, <b>globus_gsi_cred_handle_attrs_t</b>

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>globus_result_t</b> <b>globus_gsi_cred_get_cert</b> <b>(globus_gsi_cred_handle_t</b> <b>handle,</b> <b>X509</b> <b>**</b> <b>cert)</b>
       Get the credential's certificate. Get the certificate of a credential

       <b>Parameters</b>
           <u>handle</u> The credential handle to get the certificate from
           <u>cert</u> The resulting X509 certificate, a duplicate of the certificate in the credential handle. This
           variable should be freed when the user is finished with it using the function X509_free.

       <b>Returns</b>
           GLOBUS_SUCCESS if no error, otherwise an error object id is returned

   <b>globus_result_t</b> <b>globus_gsi_cred_get_cert_chain</b> <b>(globus_gsi_cred_handle_t</b> <b>handle,</b> <b>STACK_OF(X509)</b> <b>**</b>
       <b>cert_chain)</b>
       Get the certificate chain. Get the certificate chain of the credential handle

       <b>Parameters</b>
           <u>handle</u> The credential handle containing the certificate chain to get
           <u>cert_chain</u> The certificate chain to set as a duplicate of the cert chain in the credential handle.
           This variable (or the variable it points to) needs to be freed when the user is finished with it
           using sk_X509_free.

       <b>Returns</b>
           GLOBUS_SUCCESS if no error, otherwise an error object id is returned

   <b>globus_result_t</b> <b>globus_gsi_cred_get_goodtill</b> <b>(globus_gsi_cred_handle_t</b> <b>cred_handle,</b> <b>time_t</b> <b>*</b> <b>goodtill)</b>
       Get credential expiration. This function retrieves the expiration time of the credential contained in the
       handle

       <b>Parameters</b>
           <u>cred_handle</u> The credential handle to retrieve the expiration time from
           <u>goodtill</u> Contains the expiration time on return

       <b>Returns</b>
           GLOBUS_SUCCESS or an error captured in a globus_result_t

   <b>globus_result_t</b> <b>globus_gsi_cred_get_handle_attrs</b> <b>(globus_gsi_cred_handle_t</b> <b>handle,</b>
       <b>globus_gsi_cred_handle_attrs_t</b> <b>*</b> <b>attrs)</b>
       Get the handle attributes. This function retrieves a copy of the credential handle attributes

       <b>Parameters</b>
           <u>handle</u> The credential handle to retrieve the attributes from
           <u>attrs</u> Contains the credential attributes on return

       <b>Returns</b>
           GLOBUS_SUCCESS or an error captured in a globus_result_t

   <b>globus_result_t</b> <b>globus_gsi_cred_get_identity_name</b> <b>(globus_gsi_cred_handle_t</b> <b>handle,</b> <b>char</b> <b>**</b> <b>identity_name)</b>
       Get identity name. Get the identity's subject name from the credential handle

       <b>Parameters</b>
           <u>handle</u> The credential handle containing the certificate to get the identity of
           <u>identity_name</u> The identity certificate's subject name

       <b>Returns</b>
           GLOBUS_SUCCESS if no error, otherwise an error object identifier is returned

   <b>globus_result_t</b> <b>globus_gsi_cred_get_issuer_name</b> <b>(globus_gsi_cred_handle_t</b> <b>handle,</b> <b>char</b> <b>**</b> <b>issuer_name)</b>
       Get issuer name. Get the issuer's subject name from the credential handle

       <b>Parameters</b>
           <u>handle</u> The credential handle containing the certificate to get the issuer of
           <u>issuer_name</u> The issuer certificate's subject name

       <b>Returns</b>
           GLOBUS_SUCCESS if no error, otherwise an error object identifier is returned

   <b>globus_result_t</b> <b>globus_gsi_cred_get_key</b> <b>(globus_gsi_cred_handle_t</b> <b>handle,</b> <b>EVP_PKEY</b> <b>**</b> <b>key)</b>
       Get the credential's private key. Get the credential handle's private key

       <b>Parameters</b>
           <u>handle</u> The credential handle containing the private key to get
           <u>key</u> The private key which after this function returns is set to a duplicate of the private key of the
           credential handle. This variable needs to be freed by the user when it is no longer used via the
           function EVP_PKEY_free.

       <b>Returns</b>
           GLOBUS_SUCCESS or an error object identifier

   <b>globus_result_t</b> <b>globus_gsi_cred_get_key_bits</b> <b>(globus_gsi_cred_handle_t</b> <b>cred_handle,</b> <b>int</b> <b>*</b> <b>key_bits)</b>
       Get credential strength. This function retrieves the key strength of the credential contained in a handle

       <b>Parameters</b>
           <u>cred_handle</u> The credential handle to retrieve the strength from
           <u>key_bits</u> Contains the number of bits in the key on return

       <b>Returns</b>
           GLOBUS_SUCCESS or an error captured in a globus_result_t

   <b>globus_result_t</b> <b>globus_gsi_cred_get_lifetime</b> <b>(globus_gsi_cred_handle_t</b> <b>cred_handle,</b> <b>time_t</b> <b>*</b> <b>lifetime)</b>
       Get credential lifetime. This function retrieves the lifetime of the credential contained in a handle

       <b>Parameters</b>
           <u>cred_handle</u> The credential handle to retrieve the lifetime from
           <u>lifetime</u> Contains the lifetime on return

       <b>Returns</b>
           GLOBUS_SUCCESS or an error captured in a globus_result_t

   <b>globus_result_t</b> <b>globus_gsi_cred_get_policies</b> <b>(globus_gsi_cred_handle_t</b> <b>handle,</b> <b>STACK_OF(OPENSSL_STRING)</b> <b>**</b>
       <b>policies)</b>
       Get certificate chain policies. Get the Policies from the Cert Chain in the handle. The policies will be
       null-terminated as they are added to the handle. If a policy for a cert in the chain doesn't exist, the
       string in the stack will be set to the static string GLOBUS_NULL_POLICIES

       <b>Parameters</b>
           <u>handle</u> the handle to get the cert chain containing the policies
           <u>policies</u> the stack of policies retrieved from the handle's cert chain

       <b>Returns</b>
           GLOBUS_SUCCESS or an error object if an error occurred

   <b>globus_result_t</b> <b>globus_gsi_cred_get_policy_languages</b> <b>(globus_gsi_cred_handle_t</b> <b>handle,</b> <b>STACK_OF(ASN1_OBJECT)</b>
       <b>**</b> <b>policy_languages)</b>
       Get certificate chain policy languages. Get the policy languages from the cert chain in the handle.

       <b>Parameters</b>
           <u>handle</u> the handle to get the cert chain containing the policies
           <u>policy_languages</u> the stack of policies retrieved from the handle's cert chain

       <b>Returns</b>
           GLOBUS_SUCCESS or an error object if an error occurred

   <b>globus_result_t</b> <b>globus_gsi_cred_get_subject_name</b> <b>(globus_gsi_cred_handle_t</b> <b>handle,</b> <b>char</b> <b>**</b> <b>subject_name)</b>
       Get credential subject name. Get the credential handle's certificate subject name

       <b>Parameters</b>
           <u>handle</u> The credential handle containing the certificate to get the subject name of
           <u>subject_name</u> The subject name as a string. This should be freed using OPENSSL_free() when the user is
           finished with it

       <b>Returns</b>
           GLOBUS_SUCCESS if no error, a error object id otherwise

   <b>globus_result_t</b> <b>globus_gsi_cred_get_X509_identity_name</b> <b>(globus_gsi_cred_handle_t</b> <b>handle,</b> <b>X509_NAME</b> <b>**</b>
       <b>identity_name)</b>
       Get X.509 identity. Get the identity's X.509 subject name from the credential handle

       <b>Parameters</b>
           <u>handle</u> The credential handle containing the certificate to get the identity from
           <u>identity_name</u> The identity certificate's X509 subject name

       <b>Returns</b>
           GLOBUS_SUCCESS if no error, otherwise an error object identifier is returned

   <b>globus_result_t</b> <b>globus_gsi_cred_get_X509_issuer_name</b> <b>(globus_gsi_cred_handle_t</b> <b>handle,</b> <b>X509_NAME</b> <b>**</b>
       <b>issuer_name)</b>
       Get credential issuer name object. Get the credential handle's certificate issuer name

       <b>Parameters</b>
           <u>handle</u> The credential handle containing the certificate to get the issuer name of
           <u>issuer_name</u> The issuer name as an X509_NAME object. This should be freed using X509_NAME_free when
           the user is finished with it

       <b>Returns</b>
           GLOBUS_SUCCESS if no error, a error object id otherwise

   <b>globus_result_t</b> <b>globus_gsi_cred_get_X509_subject_name</b> <b>(globus_gsi_cred_handle_t</b> <b>handle,</b> <b>X509_NAME</b> <b>**</b>
       <b>subject_name)</b>
       Get credential subject name. Get the credential handle's certificate subject name

       <b>Parameters</b>
           <u>handle</u> The credential handle containing the certificate to get the subject name of
           <u>subject_name</u> The subject name as an X509_NAME object. This should be freed using X509_NAME_free when
           the user is finished with it

       <b>Returns</b>
           GLOBUS_SUCCESS if no error, a error object id otherwise

   <b>globus_result_t</b> <b>globus_gsi_cred_handle_copy</b> <b>(globus_gsi_cred_handle_t</b> <b>source,</b> <b>globus_gsi_cred_handle_t</b> <b>*</b>
       <b>dest)</b>
       Copy a handle. Copies a credential handle.

       <b>Parameters</b>
           <u>source</u> The handle to be copied
           <u>dest</u> The destination of the copy

       <b>Returns</b>
           GLOBUS_SUCCESS or an error captured in a globus_result_t

   <b>globus_result_t</b> <b>globus_gsi_cred_handle_destroy</b> <b>(globus_gsi_cred_handle_t</b> <b>handle)</b>
       Destroy the credential handle. Destroys the credential handle

       <b>Parameters</b>
           <u>handle</u> The credential handle to be destroyed

       <b>Returns</b>
           GLOBUS_SUCCESS

   <b>globus_result_t</b> <b>globus_gsi_cred_handle_init</b> <b>(globus_gsi_cred_handle_t</b> <b>*</b> <b>handle,</b>
       <b>globus_gsi_cred_handle_attrs_t</b> <b>handle_attrs)</b>
       Initialize a Handle. Initializes a credential handle to be used credential handling functions. Takes a
       set of handle attributes that are immutable to the handle. The handle attributes are only pointed to by
       the handle, so the lifetime of the attributes needs to be as long as that of the handle.

       <b>Parameters</b>
           <u>handle</u> The handle to be initialized
           <u>handle_attrs</u> The immutable attributes of the handle

       <b>Returns</b>
           GLOBUS_SUCCESS or an error captured in a globus_result_t

   <b>globus_result_t</b> <b>globus_gsi_cred_set_cert</b> <b>(globus_gsi_cred_handle_t</b> <b>handle,</b> <b>X509</b> <b>*</b> <b>cert)</b>
       Set the credential's certificate. Set the Credential's Certificate. The X509 cert that is passed in
       should be a valid X509 certificate object

       <b>Parameters</b>
           <u>handle</u> The credential handle to set the certificate on
           <u>cert</u> The X509 cert to set in the cred handle. The cert passed in can be NULL which will set the cert
           in the handle to NULL, freeing the current cert in the handle.

       <b>Returns</b>
           GLOBUS_SUCCESS or an error object id if an error

   <b>globus_result_t</b> <b>globus_gsi_cred_set_cert_chain</b> <b>(globus_gsi_cred_handle_t</b> <b>handle,</b> <b>STACK_OF(X509)</b> <b>*</b> <b>cert_chain)</b>

       Set the certificate chain. Set the certificate chain of the credential handle

       <b>Parameters</b>
           <u>handle</u> The handle containing the certificate chain field to set
           <u>cert_chain</u> The certificate chain to set the handle's certificate chain to

       <b>Returns</b>
           GLOBUS_SUCCESS if no error, otherwise an error object id is returned

   <b>globus_result_t</b> <b>globus_gsi_cred_set_key</b> <b>(globus_gsi_cred_handle_t</b> <b>handle,</b> <b>EVP_PKEY</b> <b>*</b> <b>key)</b>
       Set the credential's private key. Set the private key of the credential handle.

       <b>Parameters</b>
           <u>handle</u> The handle on which to set the key.
           <u>key</u> The private key to set the handle's key to. This value can be NULL, in which case the current
           handle's key is freed.

   <b>globus_result_t</b> <b>globus_gsi_cred_verify</b> <b>(globus_gsi_cred_handle_t</b> <b>handle)</b>
       Verify a credential. This function checks that the certificate is signed by the public key of the issuer
       cert (the first cert in the chain). Note that this function DOES NOT check the private key or the public
       of the certificate, as stated in a previous version of the documentation.

       <b>Parameters</b>
           <u>handle</u> The credential handle containing the certificate and key to be validated

       <b>Returns</b>
           GLOBUS_SUCCESS if no error, otherwise an error object identifier is returned

   <b>globus_result_t</b> <b>globus_gsi_cred_verify_cert_chain</b> <b>(globus_gsi_cred_handle_t</b> <b>cred_handle,</b>
       <b>globus_gsi_callback_data_t</b> <b>callback_data)</b>
       Verify credential. This function performs path validation on the certificate chain contained in the
       credential handle.

       <b>Parameters</b>
           <u>cred_handle</u> The credential handle containing the certificate chain to be validated
           <u>callback_data</u> A initialized callback data structure

       <b>Returns</b>
           GLOBUS_SUCCESS if no error, otherwise an error object identifier is returned

   <b>globus_result_t</b> <b>globus_gsi_cred_verify_cert_chain_when</b> <b>(globus_gsi_cred_handle_t</b> <b>cred_handle,</b>
       <b>globus_gsi_callback_data_t</b> <b>callback_data_in,</b> <b>time_t</b> <b>check_time)</b>
       Verify credential at a specific time. This function performs path validation on the certificate chain
       contained in the credential handle. Expiration checks are done at the time given.

       <b>Parameters</b>
           <u>cred_handle</u> The credential handle containing the certificate chain to be validated
           <u>callback_data_in</u> A callback data structure. If NULL, one will be initialized with only the default
           cert dir set.
           <u>check_time</u> Check if the cert chain was valid at this time. Set to 0 to use a time that the cert is
           valid, essentially bypassing the expiration check.

       <b>Returns</b>
           GLOBUS_SUCCESS if no error, otherwise an error object identifier is returned

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for globus_gsi_credential from the source code.

globus_gsi_credential                              Version 8.4                         <u><a href="../man3/globus_gsi_cred_handle.3.html">globus_gsi_cred_handle</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>