<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>knet_handle_new_ex - create a new instance of a knet handle</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libknet-doc">libknet-doc_1.31-1ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       knet_handle_new_ex - create a new instance of a knet handle

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;libknet.h&gt;</b>

       <b>knet_handle_t</b> <b>knet_handle_new_ex</b>(
           <b>knet_node_id_t</b>  <u>host_id</u>,
           <b>int</b>             <u>log_fd</u>,
           <b>uint8_t</b>         <u>default_log_level</u>,
           <b>uint64_t</b>        <u>flags</u>
       );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       knet_handle_new_ex

       host_id  -  Each  host in a knet is identified with a unique ID. when creating a new handle local host_id
       must be specified (0 to UINT16_MAX are all valid). It is the user's  responsibility  to  check  that  the
       value is unique, or bad things might happen.

       log_fd  - Write file descriptor. If set to a value &gt; 0, it will be used to write log packets from libknet
       to the application. Setting to 0 will disable logging from libknet. It is possible to enable  logging  at
       any  given time (see logging API). Make sure to either read from this filedescriptor properly and/or mark
       it O_NONBLOCK, otherwise if the fd becomes full, libknet could block. It is strongly  encouraged  to  use
       pipes  (ex: <a href="../man2/pipe.2.html">pipe</a>(2) or <a href="../man2/pipe2.2.html">pipe2</a>(2)) for logging fds due to the atomic nature of writes between fds. See also
       libknet test suite for reference and guidance. The caller is responsible for management of  the  FD.  eg.
       knet will not close it when <a href="../man3/knet_handle_free.3.html">knet_handle_free</a>(3) is called

       default_log_level  - If logfd is specified, it will initialize all subsystems to log at default_log_level
       value. (see logging API)

       flags - bitwise OR of some of the following flags: KNET_HANDLE_FLAG_PRIVILEGED: use privileged operations
       setting up the communication sockets. If disabled, failure to acquire  large  enough  socket  buffers  is
       ignored but logged. Inadequate buffers lead to poor performance.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       on success, a new knet_handle_t is returned. on failure, NULL is returned and errno is set. knet-specific
       errno  values:  ENAMETOOLONG  - socket buffers couldn't be set big enough and KNET_HANDLE_FLAG_PRIVILEGED
       was specified ERANGE - buffer size readback returned unexpected type

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/knet_handle_remove_datafd.3.html">knet_handle_remove_datafd</a></u>(3), <u><a href="../man3/knet_handle_get_stats.3.html">knet_handle_get_stats</a></u>(3), <u><a href="../man3/knet_host_add.3.html">knet_host_add</a></u>(3), <u><a href="../man3/knet_handle_pmtud_setfreq.3.html">knet_handle_pmtud_setfreq</a></u>(3),
       <u><a href="../man3/knet_handle_pmtud_get.3.html">knet_handle_pmtud_get</a></u>(3), <u><a href="../man3/knet_handle_crypto_use_config.3.html">knet_handle_crypto_use_config</a></u>(3), <u><a href="../man3/knet_host_get_id_by_host_name.3.html">knet_host_get_id_by_host_name</a></u>(3),
       <u><a href="../man3/knet_host_get_status.3.html">knet_host_get_status</a></u>(3), <u><a href="../man3/knet_link_add_acl.3.html">knet_link_add_acl</a></u>(3), <u><a href="../man3/knet_link_get_pong_count.3.html">knet_link_get_pong_count</a></u>(3), <u><a href="../man3/knet_link_get_priority.3.html">knet_link_get_priority</a></u>(3),
       <u><a href="../man3/knet_handle_free.3.html">knet_handle_free</a></u>(3), <u><a href="../man3/knet_handle_enable_sock_notify.3.html">knet_handle_enable_sock_notify</a></u>(3), <u><a href="../man3/knet_handle_get_datafd.3.html">knet_handle_get_datafd</a></u>(3), <u><a href="../man3/knet_recv.3.html">knet_recv</a></u>(3),
       <u><a href="../man3/knet_link_get_ping_timers.3.html">knet_link_get_ping_timers</a></u>(3), <u><a href="../man3/knet_log_get_subsystem_id.3.html">knet_log_get_subsystem_id</a></u>(3), <u><a href="../man3/knet_host_remove.3.html">knet_host_remove</a></u>(3),
       <u><a href="../man3/knet_host_enable_status_change_notify.3.html">knet_host_enable_status_change_notify</a></u>(3), <u><a href="../man3/knet_strtoaddr.3.html">knet_strtoaddr</a></u>(3), <u><a href="../man3/knet_link_rm_acl.3.html">knet_link_rm_acl</a></u>(3), <u><a href="../man3/knet_send.3.html">knet_send</a></u>(3),
       <u><a href="../man3/knet_handle_enable_pmtud_notify.3.html">knet_handle_enable_pmtud_notify</a></u>(3), <u><a href="../man3/knet_handle_get_transport_reconnect_interval.3.html">knet_handle_get_transport_reconnect_interval</a></u>(3),
       <u><a href="../man3/knet_link_get_enable.3.html">knet_link_get_enable</a></u>(3), <u><a href="../man3/knet_link_set_priority.3.html">knet_link_set_priority</a></u>(3), <u><a href="../man3/knet_log_set_loglevel.3.html">knet_log_set_loglevel</a></u>(3), <u><a href="../man3/knet_handle_get_channel.3.html">knet_handle_get_channel</a></u>(3),
       <u><a href="../man3/knet_link_get_config.3.html">knet_link_get_config</a></u>(3), <u><a href="../man3/knet_link_get_link_list.3.html">knet_link_get_link_list</a></u>(3), <u><a href="../man3/knet_get_transport_list.3.html">knet_get_transport_list</a></u>(3),
       <u><a href="../man3/knet_get_transport_id_by_name.3.html">knet_get_transport_id_by_name</a></u>(3), <u><a href="../man3/knet_log_get_loglevel_id.3.html">knet_log_get_loglevel_id</a></u>(3), <u><a href="../man3/knet_host_set_name.3.html">knet_host_set_name</a></u>(3), <u><a href="../man3/knet_addrtostr.3.html">knet_addrtostr</a></u>(3),
       <u><a href="../man3/knet_handle_setfwd.3.html">knet_handle_setfwd</a></u>(3), <u><a href="../man3/knet_get_compress_list.3.html">knet_get_compress_list</a></u>(3), <u><a href="../man3/knet_host_set_policy.3.html">knet_host_set_policy</a></u>(3),
       <u><a href="../man3/knet_get_transport_name_by_id.3.html">knet_get_transport_name_by_id</a></u>(3), <u><a href="../man3/knet_handle_enable_filter.3.html">knet_handle_enable_filter</a></u>(3), <u><a href="../man3/knet_handle_crypto_rx_clear_traffic.3.html">knet_handle_crypto_rx_clear_traffic</a></u>(3),
       <u><a href="../man3/knet_handle_compress.3.html">knet_handle_compress</a></u>(3), <u><a href="../man3/knet_link_get_status.3.html">knet_link_get_status</a></u>(3), <u><a href="../man3/knet_handle_add_datafd.3.html">knet_handle_add_datafd</a></u>(3), <u><a href="../man3/knet_send_sync.3.html">knet_send_sync</a></u>(3),
       <u><a href="../man3/knet_log_get_loglevel_name.3.html">knet_log_get_loglevel_name</a></u>(3), <u><a href="../man3/knet_handle_enable_access_lists.3.html">knet_handle_enable_access_lists</a></u>(3), <u><a href="../man3/knet_host_get_host_list.3.html">knet_host_get_host_list</a></u>(3),
       <u><a href="../man3/knet_host_get_policy.3.html">knet_host_get_policy</a></u>(3), <u><a href="../man3/knet_link_set_enable.3.html">knet_link_set_enable</a></u>(3), <u><a href="../man3/knet_link_set_pong_count.3.html">knet_link_set_pong_count</a></u>(3),
       <u><a href="../man3/knet_log_get_subsystem_name.3.html">knet_log_get_subsystem_name</a></u>(3), <u><a href="../man3/knet_host_get_name_by_host_id.3.html">knet_host_get_name_by_host_id</a></u>(3), <u><a href="../man3/knet_link_clear_config.3.html">knet_link_clear_config</a></u>(3),
       <u><a href="../man3/knet_log_get_loglevel.3.html">knet_log_get_loglevel</a></u>(3), <u><a href="../man3/knet_handle_new.3.html">knet_handle_new</a></u>(3), <u><a href="../man3/knet_handle_pmtud_getfreq.3.html">knet_handle_pmtud_getfreq</a></u>(3), <u><a href="../man3/knet_handle_pmtud_set.3.html">knet_handle_pmtud_set</a></u>(3),
       <u><a href="../man3/knet_handle_clear_stats.3.html">knet_handle_clear_stats</a></u>(3), <u><a href="../man3/knet_link_set_config.3.html">knet_link_set_config</a></u>(3), <u><a href="../man3/knet_handle_crypto_set_config.3.html">knet_handle_crypto_set_config</a></u>(3),
       <u><a href="../man3/knet_handle_crypto.3.html">knet_handle_crypto</a></u>(3), <u><a href="../man3/knet_get_crypto_list.3.html">knet_get_crypto_list</a></u>(3), <u><a href="../man3/knet_handle_set_transport_reconnect_interval.3.html">knet_handle_set_transport_reconnect_interval</a></u>(3),
       <u><a href="../man3/knet_link_clear_acl.3.html">knet_link_clear_acl</a></u>(3), <u><a href="../man3/knet_link_set_ping_timers.3.html">knet_link_set_ping_timers</a></u>(3), <u><a href="../man3/knet_link_insert_acl.3.html">knet_link_insert_acl</a></u>(3)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2010-2025 Red Hat, Inc. All rights reserved.

kronosnet                                          2025-04-24                              <u><a href="../man3/KNET_HANDLE_NEW_EX.3.html">KNET_HANDLE_NEW_EX</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>