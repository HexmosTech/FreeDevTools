<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>curl_multi_add_handle - add an easy handle to a multi session</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       curl_multi_add_handle - add an easy handle to a multi session

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLMcode curl_multi_add_handle(CURLM *multi_handle, CURL *easy_handle);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Adds the <u>easy</u> <u>handle</u> to the <u>multi_handle</u>.

       While  an  easy handle is added to a multi stack, you cannot and you must not use <u><a href="../man3/curl_easy_perform.3.html">curl_easy_perform</a>(3)</u> on
       that handle. After having removed the easy handle from the multi stack again, it is perfectly fine to use
       it with the easy interface again.

       If the easy handle is not set to use a shared (<u><a href="../man3/CURLOPT_SHARE.3.html">CURLOPT_SHARE</a>(3)</u>) cache, it is made to  use  a  DNS  cache
       that is shared between all easy handles within the multi handle when <u><a href="../man3/curl_multi_add_handle.3.html">curl_multi_add_handle</a>(3)</u> is called.

       When  an  easy  interface is added to a multi handle, it is set to use a shared connection cache owned by
       the multi handle. Removing and adding new easy handles does not affect the pool  of  connections  or  the
       ability to do connection reuse.

       If  you  have  <u><a href="../man3/CURLMOPT_TIMERFUNCTION.3.html">CURLMOPT_TIMERFUNCTION</a>(3)</u>  set  in  the  multi  handle  (as  you should if you are working
       event-based with <u><a href="../man3/curl_multi_socket_action.3.html">curl_multi_socket_action</a>(3)</u> and friends), that  callback  is  called  from  within  this
       function to ask for an updated timer so that your main event loop gets the activity on this handle to get
       started.

       The   easy   handle   remains   added   to   the   multi   handle   until   you   remove  it  again  with
       <u><a href="../man3/curl_multi_remove_handle.3.html">curl_multi_remove_handle</a>(3)</u> - even when a transfer with that specific easy handle is completed.

       You should remove the easy handle from the multi stack before you terminate first  the  easy  handle  and
       then the multi handle:

       1 - <u><a href="../man3/curl_multi_remove_handle.3.html">curl_multi_remove_handle</a>(3)</u>

       2 - <u><a href="../man3/curl_easy_cleanup.3.html">curl_easy_cleanup</a>(3)</u>

       3 - <u><a href="../man3/curl_multi_cleanup.3.html">curl_multi_cleanup</a>(3)</u>

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects all supported protocols

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         /* init a multi stack */
         CURLM *multi = curl_multi_init();

         /* create two easy handles */
         CURL *http_handle = curl_easy_init();
         CURL *http_handle2 = curl_easy_init();

         /* add individual transfers */
         curl_multi_add_handle(multi, http_handle);
         curl_multi_add_handle(multi, http_handle2);
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.9.6

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       This function returns a CURLMcode indicating success or error.

       CURLM_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/curl_multi_cleanup.3.html">curl_multi_cleanup</a></b>(3),      <b><a href="../man3/curl_multi_get_handles.3.html">curl_multi_get_handles</a></b>(3),      <b><a href="../man3/curl_multi_init.3.html">curl_multi_init</a></b>(3),     <b><a href="../man3/curl_multi_setopt.3.html">curl_multi_setopt</a></b>(3),
       <b><a href="../man3/curl_multi_socket_action.3.html">curl_multi_socket_action</a></b>(3)

libcurl                                            2025-06-16                           <u><a href="../man3/curl_multi_add_handle.3.html">curl_multi_add_handle</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>