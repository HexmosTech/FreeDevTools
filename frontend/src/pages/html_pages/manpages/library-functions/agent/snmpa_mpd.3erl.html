<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>snmpa_mpd - Message Processing and Dispatch module for the SNMP agent</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/erlang-manpages">erlang-manpages_24.2.1+dfsg-1ubuntu0.5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       snmpa_mpd - Message Processing and Dispatch module for the SNMP agent

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  module <u>snmpa_mpd</u> implements the version independent Message Processing and Dispatch functionality in
       SNMP for the agent. It is supposed to be used from a Network Interface process (Definition of  Agent  Net
       if).

</pre><h4><b>DATA</b> <b>TYPES</b></h4><pre>
       See the  data types in <u>snmpa_conf</u>.

</pre><h4><b>EXPORTS</b></h4><pre>
       <b>init(Vsns)</b> <b>-&gt;</b> <b>mpd_state()</b>

              Types:

                 Vsns = [Vsn]
                 Vsn = v1 | v2 | v3

              This  function  can  be called from the net_if process at start-up. The options list defines which
              versions to use.

              It also initializes some SNMP counters.

       <b>process_packet(Packet,</b> <b>From,</b> <b>State,</b> <b>NoteStore,</b> <b>Log)</b> <b>-&gt;</b> <b>{ok,</b>  <b>Vsn,</b>  <b>Pdu,</b>  <b>PduMS,</b>  <b>ACMData}</b>  <b>|</b>  <b>{discarded,</b>
       <b>Reason}</b> <b>|</b> <b>{discovery,</b> <b>DiscoPacket}</b>
       <b>process_packet(Packet,</b>  <b>From,</b>  <b>LocalEngineID,</b>  <b>State,</b> <b>NoteStore,</b> <b>Log)</b> <b>-&gt;</b> <b>{ok,</b> <b>Vsn,</b> <b>Pdu,</b> <b>PduMS,</b> <b>ACMData}</b> <b>|</b>
       <b>{discarded,</b> <b>Reason}</b> <b>|</b> <b>{discovery,</b> <b>DiscoPacket}</b>

              Types:

                 Packet = binary()
                 From = {TDomain, TAddr}
                 TDomain = transportDomainUdpIpv4 | transportDomainUdpIpv6
                 TAddr = {IpAddr, IpPort}
                 LocalEngineID = string()
                 IpAddr = inet:ip_address()
                 IpPort = inet:port_number()
                 State = mpd_state()
                 NoteStore = pid()
                 Log = snmp_log()
                 Vsn = 'version-1' | 'version-2' | 'version-3'
                 Pdu = #pdu
                 PduMs = integer()
                 ACMData = acm_data()
                 Reason = term()
                 DiscoPacket = binary()

              Processes an incoming packet. Performs authentication and  decryption  as  necessary.  The  return
              values should be passed to the agent.

          <b>Note:</b>
              Note  that  the use of the LocalEngineID argument is only intended for special cases, if the agent
              is to "emulate" multiple EngineIDs! By default, the agent uses  the  value  of  <u>SnmpEngineID</u>  (see
              SNMP-FRAMEWORK-MIB).

       <b>generate_response_msg(Vsn,</b> <b>RePdu,</b> <b>Type,</b> <b>ACMData,</b> <b>Log)</b> <b>-&gt;</b> <b>{ok,</b> <b>Packet}</b> <b>|</b> <b>{discarded,</b> <b>Reason}</b>
       <b>generate_response_msg(Vsn,</b>  <b>RePdu,</b>  <b>Type,</b>  <b>ACMData,</b>  <b>LocalEngineID,</b>  <b>Log)</b>  <b>-&gt;</b>  <b>{ok,</b> <b>Packet}</b> <b>|</b> <b>{discarded,</b>
       <b>Reason}</b>

              Types:

                 Vsn = 'version-1' | 'version-2' | 'version-3'
                 RePdu = #pdu
                 Type = atom()
                 ACMData = acm_data()
                 LocalEngineID = string()
                 Packet = binary()

              Generates a possibly encrypted response packet to be sent to the network. <u>Type</u> is the <u>#pdu.type</u> of
              the original request.

          <b>Note:</b>
              Note that the use of the LocalEngineID argument is only intended for special cases, if  the  agent
              is  to  "emulate"  multiple  EngineIDs!  By default, the agent uses the value of <u>SnmpEngineID</u> (see
              SNMP-FRAMEWORK-MIB).

       <b>generate_msg(Vsn,</b> <b>NoteStore,</b> <b>Pdu,</b> <b>MsgData,</b> <b>To)</b> <b>-&gt;</b> <b>{ok,</b> <b>PacketsAndAddresses}</b> <b>|</b> <b>{discarded,</b> <b>Reason}</b>
       <b>generate_msg(Vsn,</b> <b>NoteStore,</b> <b>Pdu,</b> <b>MsgData,</b> <b>LocalEngineID,</b> <b>To)</b> <b>-&gt;</b> <b>{ok,</b> <b>PacketsAndAddresses}</b> <b>|</b>  <b>{discarded,</b>
       <b>Reason}</b>

              Types:

                 Vsn = 'version-1' | 'version-2' | 'version-3'
                 NoteStore = pid()
                 Pdu = #pdu
                 MsgData = msg_data()
                 LocalEngineID = string()
                 To = [dest_addrs()]
                 PacketsAndAddresses = [{TDomain, TAddress, Packet}]
                 TDomain = snmpUDPDomain
                 TAddress = {Ip, Udp}
                 Ip = {integer(), integer(), integer(), integer()}
                 Udp = integer()
                 Packet = binary()

              Generates a possibly encrypted request packet to be sent to the network.

              <u>MsgData</u>  is  the  message  specific  data  used  in  the SNMP message. This value is received in a
              <u>send_pdu</u> or <u>send_pdu_req</u> message from the agent. In SNMPv1 and SNMPv2c, this message data  is  the
              community string. In SNMPv3, it is the context information.

              <u>To</u>  is  a list of destination addresses and their corresponding security parameters. This value is
              received in the same message from the agent and  then  transformed  trough  <u>process_taddrs</u>  before
              passed to this function.

          <b>Note:</b>
              Note  that  the use of the LocalEngineID argument is only intended for special cases, if the agent
              is to "emulate" multiple EngineIDs! By default, the agent uses  the  value  of  <u>SnmpEngineID</u>  (see
              SNMP-FRAMEWORK-MIB).

       <b>process_taddrs(TDests)</b> <b>-&gt;</b> <b>Dests</b>

              Types:

                 TDests = [TDest]
                 TDest = {{TDomain, TAddr}, SecData} | {TDomain, TAddr}
                 TDomain = term() % Not at tuple
                 TAddr = term()
                 SecData = term()
                 Dests = [Dest]
                 Dest = {{Domain, Addr}, SecData} | {Domain, Addr}
                 Domain = transportDomain()
                 Addr = transportAddress() % Depends on Domain

              Transforms addresses from internal MIB format to one more useful to Agent Net if.

              See also <u>generate_msg</u>.

       <b>discarded_pdu(Variable)</b> <b>-&gt;</b> <b>void()</b>

              Types:

                 Variable = atom()

              Increments the variable associated with a discarded pdu. This function can be used when the net_if
              process receives a <u>discarded_pdu</u> message from the agent.

Ericsson AB                                         snmp 5.11                                    <u><a href="../man3erl/snmpa_mpd.3erl.html">snmpa_mpd</a></u>(3erl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>