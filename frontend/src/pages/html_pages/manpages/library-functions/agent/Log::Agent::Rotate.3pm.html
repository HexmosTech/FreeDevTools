<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log::Agent::Rotate - parameters for logfile rotation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liblog-agent-rotate-perl">liblog-agent-rotate-perl_1.201-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Log::Agent::Rotate - parameters for logfile rotation

</pre><h4><b>SYNOPSIS</b></h4><pre>
        require Log::Agent::Rotate;

        my $policy = Log::Agent::Rotate-&gt;make(
            -backlog     =&gt; 7,
            -unzipped    =&gt; 2,
            -is_alone    =&gt; 0,
            -max_size    =&gt; 100_000,
            -max_time    =&gt; "1w",
            -file_perm   =&gt; 0666
        );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The "Log::Agent::Rotate" class holds the parameters describing the logfile rotation policy, and is meant
       to be supplied to instances of "Log::Agent::Driver::File" via arguments in the creation routine, such as
       "-rotate", or by using array references as values in the "-channels" hashref: See complementary
       information in Log::Agent::Driver::File.

       As rotation cycles are performed, the current logfile is renamed, and possibly compressed, until the
       maximum backlog is reached, at which time files are deleted.  Assuming a backlog of 5 and that the latest
       2 files are not compressed, the following files can be present on the filesystem:

           logfile           # the current logfile
           logfile.0         # most recently renamed logfile
           logfile.1
           logfile.2.gz
           logfile.3.gz
           logfile.4.gz      # oldest logfile, unlinked next cycle

       The following <u>switches</u> are available to the creation routine <b>make()</b>, listed in alphabetical order, all
       taking a single integer value as argument:

       <u>backlog</u>
           The total amount of old logfiles to keep, besides the current logfile.

           Defaults to 7.

       <u>file_perm</u>
           The  file  permissions, given as an octal integer value, to supply to <b>sysopen()</b> during file creation.
           This value is modified during execution by the umask of the process.   In  most  cases,  it  is  good
           practice to leave this set to the default and let the user process controll the file permissions.

           This option has no effect on Win32 systems.

           Defaults to 0666.

       <u>is_alone</u>
           The  argument is a boolean stating whether the program writing to the logfile will be the only one or
           not.  This is a hint that drives some optimizations, but it is up to the program  to  <b>guarantee</b>  that
           noone else will be able to write to or unlink the current logfile when set to <u>true</u>.

           Defaults to <u>false</u>.

       <u>max_size</u>
           The  maximum  logfile  size.   This  is  a threshold, which will cause a logfile rotation cycle to be
           performed, when crossed after a write to the file.  If set to 0, this threshold is not checked.

           Defaults to 1 megabyte.

       <u>max_time</u>
           The maximum time in seconds between the moment we opened the file and the next rotation cycle occurs.
           This threshold is only checked after a write to the file.

           The value can also be given as a string, postfixed by one of the following  letters  to  specify  the
           period unit (e.g. "3w"):

               Letter   Unit
               ------   -------
                  m     minutes
                  h     hours
                  d     days
                  d     days
                  w     weeks
                  M     months (30 days of 24 hours)
                  y     years

           Defaults to 0, meaning it is not checked.

       <u>max_write</u>
           The  maximum amount of data we can write to the logfile.  Like "max_size", this is a threshold, which
           is only checked after a write to the logfile.  This  is  not  the  total  logfile  size:  if  several
           programs write to the same logfile and "max_size" is not used, then the logfiles may never be rotated
           at all if none of the programs write at least "max_write" bytes to the logfile before exiting.

           Defaults to 0, meaning it is not checked.

       <u>single_host</u>
           The  argument  is  a  boolean stating whether the access to the logfiles will be made from one single
           host or not.  This is a hint that drives some optimizations, but it is up to the program to <b>guarantee</b>
           that it is accurately set.

           Defaults to <u>false</u>, which is always a safe value.

       <u>unzipped</u>
           The amount of old logfiles, amongst the most recent ones, that should not be compressed but  be  kept
           as plain files.

           Defaults to 1.

       To test whether two configurations are strictly identical, use <b>is_same()</b>, as in:

           print "identical\n" if $x-&gt;is_same($y);

       where both $x and $y are "Log::Agent::Rotate" objects.

       All  the  aforementioned  switches  also  have  a  corresponding  querying  routine that can be issued on
       instances of the class to get their value.  It is not possible to modify those attributes.

       For instance:

           my $x = Log::Agent::Rotate-&gt;make(...);
           my $mwrite = $x-&gt;max_write();

       would get the configured <u>max_write</u> threshold.

</pre><h4><b>AUTHORS</b></h4><pre>
       Originally written by Raphael Manfredi (<a href="mailto:Raphael_Manfredi@pobox.com">Raphael_Manfredi@pobox.com</a>), currently maintained by Mark Rogaski
       (<a href="mailto:mrogaski@cpan.org">mrogaski@cpan.org</a>).

       Thanks to Chris Meshkin for his suggestions on file permissions.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2000, Raphael Manfredi.

       Copyright (c) 2002-2015, Mark Rogaski; all rights reserved.

       This program is free software; you can redistribute it and/or modify it under the terms of  the  Artistic
       License 2.0, a copy of which can be found with perl.

       This  program  is  distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the Artistic License 2.0
       for more details.

       <a href="http://www.perlfoundation.org/artistic_license_2_0">http://www.perlfoundation.org/artistic_license_2_0</a>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>Log::<a href="../man3/Agent.3.html">Agent</a></b>(3), <b>Log::Agent::Driver::<a href="../man3/File.3.html">File</a></b>(3), <b>Log::Agent::Rotate::<a href="../man3/File.3.html">File</a></b>(3).

perl v5.32.1                                       2021-09-27                            <u>Log::Agent::<a href="../man3pm/Rotate.3pm.html">Rotate</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>