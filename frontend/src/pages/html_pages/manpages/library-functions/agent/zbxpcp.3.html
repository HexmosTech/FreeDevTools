<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zbxpcp - Zabbix Agent Loadable PCP Module</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/pcp-export-zabbix-agent">pcp-export-zabbix-agent_6.3.8-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>zbxpcp</b> - Zabbix Agent Loadable PCP Module

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>zbxpcp</b> loadable module extends Zabbix agent by making Performance Co-Pilot (PCP) metrics available to
       it.   With  the <b>zbxpcp</b> module configured in <u>zabbix_agentd.conf</u> all the PCP metrics are available from the
       Zabbix agent like any other agent items.  As a loadable module (DSO) <b>zbxpcp</b> does not rely on any external
       programs but directly uses the PCP APIs to fetch PCP metrics when requested.

       A typical Linux PCP installation offers over 1,000 metrics by default and is in turn extensible with  its
       own  plugins, or PMDAs (``Performance Metrics Domain Agents'').  In addition to very complete <u><a href="file:/proc">/proc</a></u> based
       statistics, readily available PCP PMDAs provide support for such system and application level  components
       as  389  Directory  Server,  Apache,  containers,  HAProxy,  GFS2,  Gluster, libvirt, MySQL, NFS, Oracle,
       Postfix, PostgreSQL, Samba, and Sendmail, among others.  PCP  also  runs  on  many  platforms,  including
       Linux, Mac OS X, FreeBSD, NetBSD, Solaris, and Windows.

       For  PCP  introduction,  see  <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1).   To  investigate  the  available PCP metrics, use for example
       <b><a href="../man1/pminfo.1.html">pminfo</a></b>(1).  The <u>PCP</u> <u>Quick</u> <u>Reference</u> <u>Guide</u> is available at the PCP home page https://pcp.io/.

       For   general   information   about    Zabbix    data    collection    and    loadable    modules,    see
       https://www.zabbix.com/documentation/3.0/manual/config/items.  For Zabbix introduction and downloads, see
       https://www.zabbix.com/.

       <b>zbxpcp</b> is compatible with the Zabbix module API version <b>1</b>.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       First  make  sure PCP is installed and configured properly, see the above references for instructions and
       use for example <b><a href="../man1/pminfo.1.html">pminfo</a></b>(1) to make sure the PCP metrics can be fetched.  To  enable  the  <b>zbxpcp</b>  loadable
       module  in  a  Zabbix  agent,  the  following  lines must be added to the Zabbix agent configuration file
       <u>zabbix_agentd.conf</u> (make sure to use the correct <u>LoadModulePath</u>):

           LoadModulePath=/usr/lib64/zabbix/agent/
           LoadModule=zbxpcp.so

       After restarting the Zabbix agent all the PCP metrics will be available with the  ``<b>pcp.</b>''   prefix  like
       all the other agent items.  This can be verified with the commands:

           <b>$</b> <b>pminfo</b> <b>-t</b>
           <b>$</b> <b>zabbix_agentd</b> <b>-p</b>
           <b>$</b> <b>pminfo</b> <b>-f</b> <b>kernel.all.sysfork</b>
           <b>$</b> <b>zabbix_get</b> <b>-s</b> <b>127.0.0.1</b> <b>-p</b> <b>10050</b> <b>-k</b> <b>pcp.kernel.all.sysfork</b>

       Then  to  collect  PCP  metrics from Zabbix agents, the Zabbix server side configuration is as usual (see
       Zabbix documentation if needed).

       The PCP <b>pmcd</b> service must always be running when starting up a <b>zbxpcp</b> enabled Zabbix agent, otherwise the
       module will fail to load and the PCP metrics will not become available.  Special care must  be  taken  to
       make sure this happens also when rebooting the system.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/zabbix/zabbix_agentd.conf</u>
              Typical Zabbix agent configuration file location.

       <u>/etc/zabbix/zbxpcp-derived-metrics.conf</u>
              Optional  PCP  derived metrics configuration file for <b>zbxpcp</b>.  See <b><a href="../man3/pmLoadDerivedConfig.3.html">pmLoadDerivedConfig</a></b>(3) for more
              info on derived metrics.

       $PCP_LIB_DIR<u>/zabbix/agent/zbxpcp.so</u>
              Zabbix agent loadable PCP module.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), <b><a href="../man1/pminfo.1.html">pminfo</a></b>(1), <b><a href="../man1/pmrep.1.html">pmrep</a></b>(1), <b><a href="../man1/zabbix_get.1.html">zabbix_get</a></b>(1), <b><a href="../man3/pmLoadDerivedConfig.3.html">pmLoadDerivedConfig</a></b>(3) and <b><a href="../man8/zabbix_agentd.8.html">zabbix_agentd</a></b>(8).

Performance Co-Pilot                                   PCP                                             <u><a href="../man3/ZBXPCP.3.html">ZBXPCP</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>