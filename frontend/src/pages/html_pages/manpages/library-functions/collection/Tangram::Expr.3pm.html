<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tangram::Expr - represent expressions on database server side</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtangram-perl">libtangram-perl_2.12-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tangram::Expr - represent expressions on database server side

</pre><h4><b>SYNOPSIS</b></h4><pre>
          my ($r1, $r2) = $storage-&gt;remote(qw( ... ));

          $r1-&gt;{field} operator $value
          $r1-&gt;{field} operator $r2-&gt;{field2}

          $r1-&gt;{collection}-&gt;includes( $obj )
          $r1-&gt;{collection}-&gt;exists( $obj, $filter )
          $r1-&gt;{collection}-&gt;includes_or( $obj1, $obj2, ... )

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Tangram::Expr objects represent expressions that will be evaluated on the database server side.

       Expression objects fall into one of the following categories: numeric, string, reference or collection.

       Many of the methods in Expr are needed only by people extending Tangram.  See also Tangram::Relational,
       and the source the Tangram::mysql and Tangram::Sybase for examples on how these functions are intercepted
       to allow RDBMS-specific expressions.

</pre><h4><b>NUMERIC</b> <b>EXPRESSIONS</b></h4><pre>
       Numeric expression objects can be compared using the operators ==, !=, &lt;, &gt;, &lt;= and &gt;=.  The other
       operand must be either another numeric expression object, or a normal Perl numeric value.  The result of
       the comparison is a Filter.

</pre><h4><b>STRING</b> <b>EXPRESSIONS</b></h4><pre>
       String expression objects can be compared using the operators eq, ne, lt, gt, le, and ge.  The other
       operand must be either a string expression object or any Perl scalar value. Tangram will automatically
       quote the operand as required by the SQL syntax.  The result of the comparison is a
       Tangram::Expr::Filter.

       String expression objects also support the method like($str), where $str is a string that may contain SQL
       wildcards. The result is a Tangram::Expr::Filter that translates to a SQL "LIKE $str" predicate.

</pre><h4><b>REFERENCE</b> <b>EXPRESSIONS</b></h4><pre>
       Reference expression objects can be compared for equality using operators == and !=. The other operand
       must be another reference expression, a persistent object or <b>undef()</b>. The result of the comparison is a
       Filter.

</pre><h4><b>COLLECTION</b> <b>EXPRESSIONS</b></h4><pre>
       Collection expression objects represents a collection inside an object. It supports the <b>includes()</b> and
       <b>exists()</b> methods, which returns a Tangram::Expr::Filter stating that the collection must contain the
       operand. <b>exists()</b> uses a subselect.

       It also supports the <b>includes_or()</b> methods, which accepts a list and is performs a logical OR - using the
       IN (x,y,z) SQL construct.

       The operand may be a Tangram::Remote, a persistent object, or an object ID.

       operator &lt; is provided as a synonym for <b>includes()</b>.

       The <b>includes()</b> method can be used for all collection types (Set, Array, Hash, and the Intr* versions).

</pre><h4><b>PREDICATES</b></h4><pre>
       Predicate objects represent logical expressions, or conditions. Predicates support logical operators &amp;, |
       and !. Note that a <u>single</u> ampersand or vertical bar must be used (this is a Perl limitation).  The result
       is another predicate.

</pre><h4><b>CLASS</b> <b>METHODS</b></h4><pre>
   <b>new($type,</b> <b>$expr,</b> <b>@remotes)</b>
       Returns a new instance.

       $type is a Type object corresponding to this expression (see Tangram::Type).

       $expr is a SQL expression. It will eventually become part of a WHERE-CLAUSE.

       @remotes contains the Remote objects (see Tangram::Remote) that participate in the expression. Tangram
       uses this list to insert the corresponding tables in the FROM clause and conditions in the WHERE-CLAUSE.

</pre><h4><b>INSTANCE</b> <b>METHODS</b></h4><pre>
   <b>expr()</b>
       Returns the SQL equivalent for this expression.

   <b>type()</b>
       Returns the Type (see Tangram::Type) corresponding  to this expression.

   <b>objects()</b>
       Returns the list of the objects that participate in this expression.

   <b>storage()</b>
       Returns the Storage associated with this expression.

</pre><h4><b>EXAMPLES</b></h4><pre>
       $person is called 'Homer'

             $person-&gt;{name} eq 'Homer'

       $person's name ends with 'mer'

             $person-&gt;{name}-&gt;like('%mer');

       $person is older than 35

             $person-&gt;{age} &gt; 35

       $person is married to $homer

             $person-&gt;{partner} == $homer

       $person is not $homer

             $person != $homer

       $person is not $homer and is older than 65

             $person != $homer &amp; $person-&gt;{age} &gt; 65

       $person is $bart's parent

             $person-&gt;{children}-&gt;includes( $bart )
             $person-&gt;{children} &lt; $bart

       $person is not $bart's parent

             !$person-&gt;{children}-&gt;includes( $bart )
             !($person-&gt;{children} &lt; $bart)

       $person is one of the local list of people, @person

             $person-&gt;in(@person)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Tangram::Remote, Tangram::Expr, Tangram::Storage

perl v5.36.0                                       2022-10-16                                 <u>Tangram::<a href="../man3pm/Expr.3pm.html">Expr</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>