<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML::RewriteAttributes - concise attribute rewriting</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libhtml-rewriteattributes-perl">libhtml-rewriteattributes-perl_0.06-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       HTML::RewriteAttributes - concise attribute rewriting

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Locate a tag in a provided block of HTML and delete, add, or rewrite the attributes associated with that
       tag. The updated HTML is returned.

       Delete an attribute by returning undef.

           $html = HTML::RewriteAttributes-&gt;rewrite($html, sub {
               my ($tag, $attr, $value) = @_;

               # delete any attribute that mentions..
               return if $value =~ /COBOL/i;

               $value =~ s/\brocks\b/rules/g;
               return $value;
           });

       Add an attribute by appending it to the $attr_list arrayref and adding the value to the $attrs hashref.
       For example, you could add "loading="lazy"" to all "img" tags.

           $html = HTML::RewriteAttributes-&gt;rewrite($html, sub {
               my ( $tag, $attr, $value, $attrs, $attr_list ) = @_;
               return $value unless $tag eq 'img' &amp;&amp; !$attrs-&gt;{loading};
               $attrs-&gt;{loading} = 'lazy';
               push @$attr_list, 'loading';
               return $value;
           });

       Modify an existing attribute by returning the new value.  The example below would be a "src" attribute
       for an "img" in an email.

           $html = HTML::RewriteAttributes::Resources-&gt;rewrite($html, sub {
               my $uri = shift;
               my $content = render_template($uri);
               my $cid = generate_cid_from($content);
               $mime-&gt;attach($cid =&gt; content);
               return "cid:$cid";
           });

       Passing a URL, HTML::RewriteAttributes::Links can update resources like "href"s or "img"s to include the
       base URL, changing "&lt;img src="/bar.gif"&gt;" to "&lt;img src="https://search.cpan.org/bar.gif"&gt;".  See also
       HTML::ResolveLink.

           $html = HTML::RewriteAttributes::Links-&gt;rewrite($html, "https://search.cpan.org");

           # Passing a subroutine reference, L&lt;HTML::RewriteAttributes::Links&gt; can
           # extract all links, similar to L&lt;HTML::LinkExtor&gt;.

           HTML::RewriteAttributes::Links-&gt;rewrite($html, sub {
               my ($tag, $attr, $value) = @_;
               push @links, $value;
               $value;
           });

</pre><h4><b>DESCRIPTION</b></h4><pre>
       "HTML::RewriteAttributes" is designed for simple yet powerful HTML attribute rewriting.

       You simply specify a callback to run for each attribute and we do the rest for you.

       This module is designed to be subclassable to make handling special cases easier. See the source for
       methods you can override.

       See the SYNOPSIS above and included tests in the "t" directory for more examples.

</pre><h4><b>METHODS</b></h4><pre>
   <b>"new"</b>
       You don't need to call "new" explicitly - it's done in "rewrite". It takes no arguments.

   <b>"rewrite"</b> <b>HTML,</b> <b>callback</b> <b>-&gt;</b> <b>HTML</b>
       This is the main interface of the module. You pass in some HTML and a callback, the callback is invoked
       potentially many times, and you get back some similar HTML.

       As "rewrite" parses the HTML block, it calls the provided callback, passing as arguments the current tag
       name, the attribute name, and the attribute value (though subclasses may override this --
       HTML::RewriteAttributes::Resources does). The callback can then use the arguments to determine if you
       want to change the current tag or attribute, or skip it by returning the current value unchanged. If you
       find the tag and attribute you want to change, return "undef" to remove the attribute, or any other value
       to set the value of the attribute.

       The callback also is passed a hashref $attrs which has keys for attributes and values with the current
       values. Finally $attr_list is passed as an arrayref contain all attributes for the current tag. To add a
       new attribute, add the attribute name to the $attr_list arrayref, and add the new value to $attrs.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       HTML::Parser, HTML::ResolveLink, Email::MIME::CreateHTML, HTML::LinkExtor

</pre><h4><b>THANKS</b></h4><pre>
       Some code was inspired by, and tests borrowed from, Miyagawa's HTML::ResolveLink.

</pre><h4><b>AUTHOR</b></h4><pre>
       Best Practical Solutions, LLC &lt;<a href="mailto:modules@bestpractical.com">modules@bestpractical.com</a>&gt;

</pre><h4><b>LICENSE</b></h4><pre>
       Copyright 2008-2024 Best Practical Solutions, LLC.  HTML::RewriteAttributes is distributed under the same
       terms as Perl itself.

perl v5.40.0                                       2024-11-15                       <u>HTML::<a href="../man3pm/RewriteAttributes.3pm.html">RewriteAttributes</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>