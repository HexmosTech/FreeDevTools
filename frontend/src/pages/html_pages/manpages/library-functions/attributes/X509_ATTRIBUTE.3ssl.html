<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X509_ATTRIBUTE, X509at_get_attr, X509at_get_attr_count, X509at_get_attr_by_NID, X509at_get_attr_by_OBJ,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       X509_ATTRIBUTE, X509at_get_attr, X509at_get_attr_count, X509at_get_attr_by_NID, X509at_get_attr_by_OBJ,
       X509at_delete_attr, X509at_add1_attr, X509at_add1_attr_by_OBJ, X509at_add1_attr_by_NID,
       X509at_add1_attr_by_txt, X509at_get0_data_by_OBJ, X509_ATTRIBUTE_create, X509_ATTRIBUTE_create_by_NID,
       X509_ATTRIBUTE_create_by_OBJ, X509_ATTRIBUTE_create_by_txt, X509_ATTRIBUTE_set1_object,
       X509_ATTRIBUTE_set1_data, X509_ATTRIBUTE_count, X509_ATTRIBUTE_get0_data, X509_ATTRIBUTE_get0_object,
       X509_ATTRIBUTE_get0_type - X509 attribute functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/x509.h&gt;

        typedef struct x509_attributes_st X509_ATTRIBUTE;

        int X509at_get_attr_count(const STACK_OF(X509_ATTRIBUTE) *x);
        int X509at_get_attr_by_NID(const STACK_OF(X509_ATTRIBUTE) *x, int nid,
                                   int lastpos);
        int X509at_get_attr_by_OBJ(const STACK_OF(X509_ATTRIBUTE) *sk,
                                   const ASN1_OBJECT *obj, int lastpos);
        X509_ATTRIBUTE *X509at_get_attr(const STACK_OF(X509_ATTRIBUTE) *x, int loc);
        X509_ATTRIBUTE *X509at_delete_attr(STACK_OF(X509_ATTRIBUTE) *x, int loc);
        STACK_OF(X509_ATTRIBUTE) *X509at_add1_attr(STACK_OF(X509_ATTRIBUTE) **x,
                                                   X509_ATTRIBUTE *attr);
        STACK_OF(X509_ATTRIBUTE) *X509at_add1_attr_by_OBJ(STACK_OF(X509_ATTRIBUTE)
                                                          **x, const ASN1_OBJECT *obj,
                                                          int type,
                                                          const unsigned char *bytes,
                                                          int len);
        STACK_OF(X509_ATTRIBUTE) *X509at_add1_attr_by_NID(STACK_OF(X509_ATTRIBUTE)
                                                          **x, int nid, int type,
                                                          const unsigned char *bytes,
                                                          int len);
        STACK_OF(X509_ATTRIBUTE) *X509at_add1_attr_by_txt(STACK_OF(X509_ATTRIBUTE)
                                                          **x, const char *attrname,
                                                          int type,
                                                          const unsigned char *bytes,
                                                          int len);
        void *X509at_get0_data_by_OBJ(const STACK_OF(X509_ATTRIBUTE) *x,
                                      const ASN1_OBJECT *obj, int lastpos, int type);
        X509_ATTRIBUTE *X509_ATTRIBUTE_create(int nid, int atrtype, void *value);
        X509_ATTRIBUTE *X509_ATTRIBUTE_create_by_NID(X509_ATTRIBUTE **attr, int nid,
                                                     int atrtype, const void *data,
                                                     int len);
        X509_ATTRIBUTE *X509_ATTRIBUTE_create_by_OBJ(X509_ATTRIBUTE **attr,
                                                     const ASN1_OBJECT *obj,
                                                     int atrtype, const void *data,
                                                     int len);
        X509_ATTRIBUTE *X509_ATTRIBUTE_create_by_txt(X509_ATTRIBUTE **attr,
                                                     const char *atrname, int type,
                                                     const unsigned char *bytes,
                                                     int len);
        int X509_ATTRIBUTE_set1_object(X509_ATTRIBUTE *attr, const ASN1_OBJECT *obj);
        int X509_ATTRIBUTE_set1_data(X509_ATTRIBUTE *attr, int attrtype,
                                     const void *data, int len);
        void *X509_ATTRIBUTE_get0_data(X509_ATTRIBUTE *attr, int idx, int atrtype,
                                       void *data);
        int X509_ATTRIBUTE_count(const X509_ATTRIBUTE *attr);
        ASN1_OBJECT *X509_ATTRIBUTE_get0_object(X509_ATTRIBUTE *attr);
        ASN1_TYPE *X509_ATTRIBUTE_get0_type(X509_ATTRIBUTE *attr, int idx);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>X509_ATTRIBUTE</b> objects are used by many standards including X509, X509_REQ, PKCS12, PKCS8, PKCS7 and CMS.

       The <b>X509_ATTRIBUTE</b> object is used to represent the ASN.1 Attribute as defined in RFC 5280, i.e.

        Attribute ::= SEQUENCE {
          type             AttributeType,
          values    SET OF AttributeValue }

        AttributeType ::= OBJECT IDENTIFIER
        AttributeValue ::= ANY -- DEFINED BY AttributeType

       For example CMS defines the signing-time attribute as:

         id-signingTime OBJECT IDENTIFIER ::= { <a href="../man1/iso.1.html">iso</a>(1) <a href="../man2/member-body.2.html">member-body</a>(2)
             <a href="../man840/us.840.html">us</a>(840) <a href="../man113549/rsadsi.113549.html">rsadsi</a>(113549) <a href="../man1/pkcs.1.html">pkcs</a>(1) <a href="../man9/pkcs9.9.html">pkcs9</a>(9) 5 }

         SigningTime ::= Time

         Time ::= CHOICE {
           utcTime UTCTime,
           generalizedTime GeneralizedTime }

       In OpenSSL <b>AttributeType</b> maps to an <b>ASN1_OBJECT</b> object and <b>AttributeValue</b> maps to a list of <b>ASN1_TYPE</b>
       objects.

       The following functions are used for <b>X509_ATTRIBUTE</b> objects.

       <b>X509at_get_attr_by_OBJ()</b> finds the location of the first matching object <u>obj</u> in a list of attributes <u>sk</u>.
       The search starts at the position after <u>lastpos</u>.  If the returned value is positive then it can be used
       on the next call to <b>X509at_get_attr_by_OBJ()</b> as the value of <u>lastpos</u> in order to iterate through the
       remaining attributes. <u>lastpos</u> can be set to any negative value on the first call, in order to start
       searching from the start of the list.

       <b>X509at_get_attr_by_NID()</b> is similar to <b>X509at_get_attr_by_OBJ()</b> except that it passes the numerical
       identifier (NID) <u>nid</u> associated with the object.  See &lt;openssl/obj_mac.h&gt; for a list of NID_*.

       <b>X509at_get_attr()</b> returns the <b>X509_ATTRIBUTE</b> object at index <u>loc</u> in the list of attributes <u>x</u>. <u>loc</u> should
       be in the range from 0 to <b>X509at_get_attr_count()</b> - 1.

       <b>X509at_delete_attr()</b> removes the <b>X509_ATTRIBUTE</b> object at index <u>loc</u> in the list of attributes <u>x</u>.

       <b>X509at_add1_attr()</b> pushes a copy of the passed in <b>X509_ATTRIBUTE</b> object to the list <u>x</u>.  Both <u>x</u> and <u>attr</u>
       must be non NULL or an error will occur.  If <u>*x</u> is NULL then a new list is created, otherwise it uses the
       passed in list. An error will occur if an existing attribute (with the same attribute type) already
       exists in the attribute list.

       <b>X509at_add1_attr_by_OBJ()</b> creates a new <b>X509_ATTRIBUTE</b> using <b>X509_ATTRIBUTE_set1_object()</b> and
       <b>X509_ATTRIBUTE_set1_data()</b> to assign a new <u>obj</u> with type <u>type</u> and data <u>bytes</u> of length <u>len</u> and then
       pushes it to the attribute list <u>x</u>. Both <u>x</u> and <u>attr</u> must be non NULL or an error will occur. If <u>*x</u> is NULL
       then a new attribute list is created. If <u>obj</u> already exists in the attribute list then an error occurs.

       <b>X509at_add1_attr_by_NID()</b> is similar to <b>X509at_add1_attr_by_OBJ()</b> except that it passes the numerical
       identifier (NID) <u>nid</u> associated with the object.  See &lt;openssl/obj_mac.h&gt; for a list of NID_*.

       <b>X509at_add1_attr_by_txt()</b> is similar to <b>X509at_add1_attr_by_OBJ()</b> except that it passes a name <u>attrname</u>
       associated with the object.  See &lt;openssl/obj_mac.h&gt; for a list of SN_* names.

       <b>X509_ATTRIBUTE_set1_object()</b> assigns a <b>ASN1_OBJECT</b> <u>obj</u> to the attribute <u>attr</u>. If <u>attr</u> contained an
       existing <b>ASN1_OBJECT</b> then it is freed. An error occurs if either <u>attr</u> or <u>obj</u> are NULL, or if the passed
       in <u>obj</u> cannot be duplicated.

       <b>X509_ATTRIBUTE_set1_data()</b> pushes a new <b>ASN1_TYPE</b> object onto the <u>attr</u> attributes list. The new object is
       assigned a copy of the data in <u>data</u> of size <u>len</u>.  If <u>attrtype</u> has flag <u>MBSTRING_FLAG</u> set then a table
       lookup using the <u>attr</u> attributes NID is used to set an <b>ASN1_STRING</b> using <b>ASN1_STRING_set_by_NID()</b>, and
       the passed in <u>data</u> must be in the format required for that object type or an error will occur.  If <u>len</u> is
       not -1 then internally <b>ASN1_STRING_type_new()</b> is used with the passed in <u>attrtype</u>.  If <u>attrtype</u> is 0 the
       call does nothing except return 1.

       <b>X509_ATTRIBUTE_create()</b> creates a new <b>X509_ATTRIBUTE</b> using the <u>nid</u> to set the <b>ASN1_OBJECT</b> OID and the
       <u>atrtype</u> and <u>value</u> to set the <b>ASN1_TYPE</b>.

       <b>X509_ATTRIBUTE_create_by_OBJ()</b> uses <b>X509_ATTRIBUTE_set1_object()</b> and <b>X509_ATTRIBUTE_set1_data()</b> to assign
       a new <u>obj</u> with type <u>atrtype</u> and data <u>data</u> of length <u>len</u>. If the passed in attribute <u>attr</u> OR <u>*attr</u> is NULL
       then a new <b>X509_ATTRIBUTE</b> will be returned, otherwise the passed in <b>X509_ATTRIBUTE</b> is used. Note that the
       ASN1_OBJECT <u>obj</u> is pushed onto the attributes existing list of objects, which could be an issue if the
       attributes &lt;ASN1_OBJECT&gt; was different.

       <b>X509_ATTRIBUTE_create_by_NID()</b> is similar to <b>X509_ATTRIBUTE_create_by_OBJ()</b> except that it passes the
       numerical identifier (NID) <u>nid</u> associated with the object. See &lt;openssl/obj_mac.h&gt; for a list of NID_*.

       <b>X509_ATTRIBUTE_create_by_txt()</b> is similar to <b>X509_ATTRIBUTE_create_by_OBJ()</b> except that it passes a name
       <u>atrname</u> associated with the object. See &lt;openssl/obj_mac.h&gt; for a list of SN_* names.

       <b>X509_ATTRIBUTE_count()</b> returns the number of <b>ASN1_TYPE</b> objects in an attribute <u>attr</u>.

       <b>X509_ATTRIBUTE_get0_type()</b> returns the <b>ASN1_TYPE</b> object at index <u>idx</u> in the attribute list <u>attr</u>. <u>idx</u>
       should be in the range of 0 to <b>X509_ATTRIBUTE_count()</b> - 1 or an error will occur.

       <b>X509_ATTRIBUTE_get0_data()</b> returns the data of an <b>ASN1_TYPE</b> object at index <u>idx</u> in the attribute <u>attr</u>.
       <u>data</u> is unused and can be set to NULL.  An error will occur if the attribute type <u>atrtype</u> does not match
       the type of the <b>ASN1_TYPE</b> object at index <u>idx</u> OR if <u>atrtype</u> is either <b>V_ASN1_BOOLEAN</b> or <b>V_ASN1_NULL</b> OR if
       the <u>idx</u> is not in the range 0 to <b>X509_ATTRIBUTE_count()</b> - 1.

       <b>X509at_get0_data_by_OBJ()</b> finds the first attribute in an attribute list <u>x</u> that matches the <u>obj</u> starting
       at index <u>lastpos</u> and returns the data retrieved from the found attributes first <b>ASN1_TYPE</b> object. An
       error will occur if the attribute type <u>type</u> does not match the type of the <b>ASN1_TYPE</b> object OR if <u>type</u> is
       either <b>V_ASN1_BOOLEAN</b> or <b>V_ASN1_NULL</b> OR the attribute is not found.  If <u>lastpos</u> is less than -1 then an
       error will occur if there are multiple objects in the list <u>x</u> that match <u>obj</u>.  If <u>lastpos</u> is less than -2
       then an error will occur if there is more than one <b>ASN1_TYPE</b> object in the found attribute.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>X509at_get_attr_count()</b> returns the number of attributes in the list <u>x</u> or -1 if <u>x</u> is NULL.

       <b>X509at_get_attr_by_OBJ()</b> returns -1 if either the list is empty OR the object is not found, otherwise it
       returns the location of the object in the list.

       <b>X509at_get_attr_by_NID()</b> is similar to <b>X509at_get_attr_by_OBJ()</b>, except that it returns -2 if the <u>nid</u> is
       not known by OpenSSL.

       <b>X509at_get_attr()</b> returns either an <b>X509_ATTRIBUTE</b> or NULL if there is a error.

       <b>X509at_delete_attr()</b> returns either the removed <b>X509_ATTRIBUTE</b> or NULL if there is a error.

       <b>X509_ATTRIBUTE_count()</b> returns -1 on error, otherwise it returns the number of <b>ASN1_TYPE</b> elements.

       <b>X509_ATTRIBUTE_get0_type()</b> returns NULL on error, otherwise it returns a <b>ASN1_TYPE</b> object.

       <b>X509_ATTRIBUTE_get0_data()</b> returns NULL if an error occurs, otherwise it returns the data associated with
       an <b>ASN1_TYPE</b> object.

       <b>X509_ATTRIBUTE_set1_object()</b> and <b>X509_ATTRIBUTE_set1_data()</b> returns 1 on success, or 0 otherwise.

       <b>X509_ATTRIBUTE_create()</b>, <b>X509_ATTRIBUTE_create_by_OBJ()</b>, <b>X509_ATTRIBUTE_create_by_NID()</b> and
       <b>X509_ATTRIBUTE_create_by_txt()</b> return either a <b>X509_ATTRIBUTE</b> on success, or NULL if there is a error.

       <b>X509at_add1_attr()</b>, <b>X509at_add1_attr_by_OBJ()</b>, <b>X509at_add1_attr_by_NID()</b> and <b>X509at_add1_attr_by_txt()</b>
       return NULL on error, otherwise they return a list of <b>X509_ATTRIBUTE</b>.

       <b>X509at_get0_data_by_OBJ()</b> returns the data retrieved from the found attributes first <b>ASN1_TYPE</b> object, or
       NULL if an error occurs.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ASN1_TYPE_get.3.html">ASN1_TYPE_get</a></b>(3), <b><a href="../man3/ASN1_INTEGER_get.3.html">ASN1_INTEGER_get</a></b>(3), <b><a href="../man3/ASN1_ENUMERATED_get.3.html">ASN1_ENUMERATED_get</a></b>(3), <b><a href="../man3/ASN1_STRING_get0_data.3.html">ASN1_STRING_get0_data</a></b>(3),
       <b><a href="../man3/ASN1_STRING_length.3.html">ASN1_STRING_length</a></b>(3), <b><a href="../man3/ASN1_STRING_type.3.html">ASN1_STRING_type</a></b>(3), <b><a href="../man3/X509_REQ_get_attr.3.html">X509_REQ_get_attr</a></b>(3), <b><a href="../man3/EVP_PKEY_get_attr.3.html">EVP_PKEY_get_attr</a></b>(3),
       <b><a href="../man3/CMS_signed_get_attr.3.html">CMS_signed_get_attr</a></b>(3), <b><a href="../man3/PKCS8_pkey_get0_attrs.3.html">PKCS8_pkey_get0_attrs</a></b>(3),

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2023-2024 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                               <u><a href="../man3SSL/X509_ATTRIBUTE.3SSL.html">X509_ATTRIBUTE</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>