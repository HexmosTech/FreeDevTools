<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sd_bus_set_fd - Set the file descriptors to use for bus communication</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsystemd-dev">libsystemd-dev_257.7-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sd_bus_set_fd - Set the file descriptors to use for bus communication

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;systemd/sd-bus.h&gt;</b>

       <b>int</b> <b>sd_bus_set_fd(sd_bus</b> <b>*</b><u>bus</u><b>,</b> <b>int</b> <u>input_fd</u><b>,</b> <b>int</b> <u>output_fd</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sd_bus_set_fd()</b> sets the file descriptors used to communicate by a bus connection object. Both <u>input_fd</u>
       and <u>output_fd</u> must be valid file descriptors, referring to stream-based file objects (e.g. a stream
       socket, a pair of pipes or FIFOs, or even a TTY device).  <u>input_fd</u> must be readable, and <u>output_fd</u> must
       be writable. The same file descriptor may be used (and typically is used) as both the input and the
       output file descriptor. This function must be called before the bus connection is started via
       <b><a href="../man3/sd_bus_start.3.html">sd_bus_start</a></b>(3).

       The bus connection object will take possession of the passed file descriptors and will close them
       automatically when it is freed. Use <b><a href="../man3/sd_bus_set_close_on_exit.3.html">sd_bus_set_close_on_exit</a></b>(3) to turn off this behaviour.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, <b>sd_bus_set_fd()</b> returns a non-negative integer. On failure, it returns a negative errno-style
       error code.

   <b>Errors</b>
       Returned errors may indicate the following problems:

       <b>-EINVAL</b>
           An invalid bus object was passed.

           Added in version 248.

       <b>-ECHILD</b>
           The bus connection was allocated in a parent process and is being reused in a child process after
           <b>fork()</b>.

           Added in version 248.

       <b>-EBADF</b>
           An invalid file descriptor was passed to <b>sd_bus_set_fd()</b>.

           Added in version 248.

       <b>-ENOPKG</b>
           The bus cannot be resolved.

           Added in version 248.

       <b>-EPERM</b>
           The bus connection has already been started.

           Added in version 248.

</pre><h4><b>NOTES</b></h4><pre>
       Functions described here are available as a shared library, which can be compiled against and linked to
       with the <b>libsystemd</b> <b><a href="../man1/pkg-config.1.html">pkg-config</a></b>(1) file.

       The code described here uses <b><a href="../man3/getenv.3.html">getenv</a></b>(3), which is declared to be not multi-thread-safe. This means that
       the code calling the functions described here must not call <b><a href="../man3/setenv.3.html">setenv</a></b>(3) from a parallel thread. It is
       recommended to only do calls to <b>setenv()</b> from an early phase of the program when no other threads have
       been started.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>sd_bus_set_fd()</b> was added in version 248.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man3/sd-bus.3.html">sd-bus</a></b>(3), <b><a href="../man3/sd_bus_get_fd.3.html">sd_bus_get_fd</a></b>(3), <b><a href="../man3/sd_bus_start.3.html">sd_bus_start</a></b>(3)

systemd 257.7                                                                                   <u><a href="../man3/SD_BUS_SET_FD.3.html">SD_BUS_SET_FD</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>