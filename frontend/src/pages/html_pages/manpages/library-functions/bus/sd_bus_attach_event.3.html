<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sd_bus_attach_event, sd_bus_detach_event, sd_bus_get_event - Attach a bus connection object to an event</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsystemd-dev">libsystemd-dev_257.7-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sd_bus_attach_event, sd_bus_detach_event, sd_bus_get_event - Attach a bus connection object to an event
       loop

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;systemd/sd-bus.h&gt;</b>

       <b>int</b> <b>sd_bus_attach_event(sd_bus</b> <b>*</b><u>bus</u><b>,</b> <b>sd_event</b> <b>*</b><u>e</u><b>,</b> <b>int</b> <u>priority</u><b>);</b>

       <b>int</b> <b>sd_bus_detach_event(sd_bus</b> <b>*</b><u>bus</u><b>);</b>

       <b>sd_event</b> <b>*sd_bus_get_event(sd_bus</b> <b>*</b><u>bus</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sd_bus_attach_event()</b> attaches the specified bus connection object to an <b><a href="../man3/sd-event.3.html">sd-event</a></b>(3) event loop object at
       the specified priority (see <b><a href="../man3/sd_event_source_set_priority.3.html">sd_event_source_set_priority</a></b>(3) for details on event loop priorities). When a
       bus connection object is attached to an event loop incoming messages will be automatically read and
       processed, and outgoing messages written, whenever the event loop is run. When the event loop is about to
       terminate, the bus connection is automatically flushed and closed (see <b><a href="../man3/sd_bus_set_close_on_exit.3.html">sd_bus_set_close_on_exit</a></b>(3) for
       details on this). By default, bus connection objects are not attached to any event loop. When a bus
       connection object is attached to one it is not necessary to invoke <b><a href="../man3/sd_bus_wait.3.html">sd_bus_wait</a></b>(3) or <b><a href="../man3/sd_bus_process.3.html">sd_bus_process</a></b>(3) as
       this functionality is handled automatically by the event loop.

       <b>sd_bus_detach_event()</b> detaches a bus object from its event loop.

       The <b>sd_bus_get_event()</b> returns the event loop object the specified bus object is currently attached to,
       or <b>NULL</b> if it is currently not attached to any.

       Note that <b>sd_bus_attach_event()</b> is only one of three supported ways to implement I/O event handling for
       bus connections. Alternatively use <b><a href="../man3/sd_bus_get_fd.3.html">sd_bus_get_fd</a></b>(3) for hooking up a bus connection object with external
       or manual event loops. Or use <b><a href="../man3/sd_bus_wait.3.html">sd_bus_wait</a></b>(3) as a simple synchronous, blocking I/O waiting call.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, <b>sd_bus_attach_event()</b> and <b>sd_bus_detach_event()</b> return 0 or a positive integer. On failure,
       they return a negative errno-style error code.

       <b>sd_bus_get_event()</b> returns an event loop object or <b>NULL</b>.

   <b>Errors</b>
       Returned errors may indicate the following problems:

       <b>-ECHILD</b>
           The bus connection has been created in a different process, library or module instance.

</pre><h4><b>NOTES</b></h4><pre>
       Functions described here are available as a shared library, which can be compiled against and linked to
       with the <b>libsystemd</b> <b><a href="../man1/pkg-config.1.html">pkg-config</a></b>(1) file.

       The code described here uses <b><a href="../man3/getenv.3.html">getenv</a></b>(3), which is declared to be not multi-thread-safe. This means that
       the code calling the functions described here must not call <b><a href="../man3/setenv.3.html">setenv</a></b>(3) from a parallel thread. It is
       recommended to only do calls to <b>setenv()</b> from an early phase of the program when no other threads have
       been started.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>sd_bus_attach_event()</b>, <b>sd_bus_detach_event()</b>, and <b>sd_bus_get_event()</b> were added in version 221.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man3/sd-bus.3.html">sd-bus</a></b>(3), <b><a href="../man3/sd-event.3.html">sd-event</a></b>(3), <b><a href="../man3/sd_event_source_set_priority.3.html">sd_event_source_set_priority</a></b>(3), <b><a href="../man3/sd_bus_set_close_on_exit.3.html">sd_bus_set_close_on_exit</a></b>(3),
       <b><a href="../man3/sd_bus_wait.3.html">sd_bus_wait</a></b>(3), <b><a href="../man3/sd_bus_get_fd.3.html">sd_bus_get_fd</a></b>(3)

systemd 257.7                                                                             <u><a href="../man3/SD_BUS_ATTACH_EVENT.3.html">SD_BUS_ATTACH_EVENT</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>