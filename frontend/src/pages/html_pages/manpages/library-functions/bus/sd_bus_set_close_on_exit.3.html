<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sd_bus_set_close_on_exit, sd_bus_get_close_on_exit - Control whether to close the bus connection during</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsystemd-dev">libsystemd-dev_257.7-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sd_bus_set_close_on_exit, sd_bus_get_close_on_exit - Control whether to close the bus connection during
       the event loop exit phase

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;systemd/sd-bus.h&gt;</b>

       <b>int</b> <b>sd_bus_set_close_on_exit(sd_bus</b> <b>*</b><u>bus</u><b>,</b> <b>int</b> <u>b</u><b>);</b>

       <b>int</b> <b>sd_bus_get_close_on_exit(sd_bus</b> <b>*</b><u>bus</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sd_bus_set_close_on_exit()</b> may be used to enable or disable whether the bus connection is automatically
       flushed (as in <b><a href="../man3/sd_bus_flush.3.html">sd_bus_flush</a></b>(3)) and closed (as in <b><a href="../man3/sd_bus_close.3.html">sd_bus_close</a></b>(3)) during the exit phase of the event
       loop. This logic only applies to bus connections that are attached to an <b><a href="../man3/sd-event.3.html">sd-event</a></b>(3) event loop, see
       <b><a href="../man3/sd_bus_attach_event.3.html">sd_bus_attach_event</a></b>(3). By default, this mechanism is enabled and makes sure that any pending messages
       that have not been written to the bus connection are written out when the event loop is shutting down. In
       some cases this behaviour is not desirable, for example when the bus connection shall remain usable until
       after the event loop exited. If <u>b</u> is true, the feature is enabled (which is the default), otherwise
       disabled.

       <b>sd_bus_get_close_on_exit()</b> may be used to query the current setting of this feature. It returns zero when
       the feature is disabled, and positive if enabled.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, <b>sd_bus_set_close_on_exit()</b> returns a non-negative integer. On failure, it returns a negative
       errno-style error code.

       <b>sd_bus_get_close_on_exit()</b> returns 0 if the feature is currently disabled or a positive integer if it is
       enabled. On failure, it returns a negative errno-style error code.

   <b>Errors</b>
       Returned errors may indicate the following problems:

       <b>-ECHILD</b>
           The bus connection was created in a different process, library or module instance.

</pre><h4><b>NOTES</b></h4><pre>
       Functions described here are available as a shared library, which can be compiled against and linked to
       with the <b>libsystemd</b> <b><a href="../man1/pkg-config.1.html">pkg-config</a></b>(1) file.

       The code described here uses <b><a href="../man3/getenv.3.html">getenv</a></b>(3), which is declared to be not multi-thread-safe. This means that
       the code calling the functions described here must not call <b><a href="../man3/setenv.3.html">setenv</a></b>(3) from a parallel thread. It is
       recommended to only do calls to <b>setenv()</b> from an early phase of the program when no other threads have
       been started.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>sd_bus_set_close_on_exit()</b> and <b>sd_bus_get_close_on_exit()</b> were added in version 240.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man3/sd-bus.3.html">sd-bus</a></b>(3), <b><a href="../man3/sd_bus_flush.3.html">sd_bus_flush</a></b>(3), <b><a href="../man3/sd_bus_attach_event.3.html">sd_bus_attach_event</a></b>(3), <b><a href="../man3/sd-event.3.html">sd-event</a></b>(3), <b><a href="../man3/sd_event_add_exit.3.html">sd_event_add_exit</a></b>(3)

systemd 257.7                                                                        <u><a href="../man3/SD_BUS_SET_CLOSE_ON_EXIT.3.html">SD_BUS_SET_CLOSE_ON_EXIT</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>