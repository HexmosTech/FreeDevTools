<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gedcom::WebServices - Basic web service routines for Gedcom.pm</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libgedcom-perl">libgedcom-perl_1.22-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Gedcom::WebServices - Basic web service routines for Gedcom.pm

       Version 1.22 - 15th November 2019

</pre><h4><b>SYNOPSIS</b></h4><pre>
        wget -qO - <a href="http://www.example.com/ws/plain/my_family/i9/name">http://www.example.com/ws/plain/my_family/i9/name</a>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides web service access to a GEDCOM file in conjunction with mod_perl.  Using it, A
       request for information can be made in the form of a URL specifying the GEDCOM file to be used, which
       information is required and the format in which the information is to be delivered.  This information is
       then returned in the specified format.

       There are currently three supported formats:

       •   plain - no markup

       •   XML

       •   JSON

   <b>URLs</b>
       The format of the URLs used to access the web services are:

        $BASEURL/$FORMAT/$GEDCOM/$XREF/requested/information
        $BASEURL/$FORMAT/$GEDCOM?search=search_criteria

       BASEURL
           The base URL to access the web services.

       FORMAT
           The format in which to return the results.

       GEDCOM
           The name of the GEDCOM file to use (the extension .ged is assumed).

       XREF
           The  xref  of the record about which information is required.  XREFs can be obtained initially from a
           search, and subsequently from certain queries.

       requested/information
           The information requested.  This is in the same format as that taken by the get_value method.

       search_criteria
           An individual to search for.  This is in the same format as that taken by the get_individual method.

</pre><h4><b>EXAMPLES</b></h4><pre>
        $ wget -qO - '<a href="http://pjcj.sytes.net">http://pjcj.sytes.net</a>:8585/ws/plain/royal92?search=elizabeth_ii'
        /ws/plain/royal92/I52

        $ wget -qO - <a href="http://pjcj.sytes.net">http://pjcj.sytes.net</a>:8585/ws/plain/royal92/I52
        0 @I52@ INDI
        1   NAME Elizabeth_II Alexandra Mary/Windsor/
        1   TITL Queen of England
        1   SEX F
        1   BIRT
        2     DATE 21 APR 1926
        2     PLAC 17 Bruton St.,London,W1,England
        1   FAMS @F14@
        1   FAMC @F12@

        $ wget -qO - <a href="http://pjcj.sytes.net">http://pjcj.sytes.net</a>:8585/ws/plain/royal92/I52/name
        Elizabeth_II Alexandra Mary /Windsor/

        $ wget -qO - <a href="http://pjcj.sytes.net">http://pjcj.sytes.net</a>:8585/ws/plain/royal92/I52/birth/date
        21 APR 1926

        $ wget -qO - <a href="http://pjcj.sytes.net">http://pjcj.sytes.net</a>:8585/ws/plain/royal92/I52/children
        /ws/plain/royal92/I58
        /ws/plain/royal92/I59
        /ws/plain/royal92/I60
        /ws/plain/royal92/I61

        $ wget -qO - <a href="http://pjcj.sytes.net">http://pjcj.sytes.net</a>:8585/ws/json/royal92/I52/name
        {"name":"Elizabeth_II Alexandra Mary /Windsor/"}

        $ wget -qO - <a href="http://pjcj.sytes.net">http://pjcj.sytes.net</a>:8585/ws/xml/royal92/I52/name
        &lt;NAME&gt;Elizabeth_II Alexandra Mary /Windsor/&lt;/NAME&gt;

        $ wget -qO - <a href="http://pjcj.sytes.net">http://pjcj.sytes.net</a>:8585/ws/xml/royal92/I52
        &lt;INDI ID="I52"&gt;
          &lt;NAME&gt;Elizabeth_II Alexandra Mary/Windsor/&lt;/NAME&gt;
          &lt;TITL&gt;Queen of England&lt;/TITL&gt;
          &lt;SEX&gt;F&lt;/SEX&gt;
          &lt;BIRT&gt;
            &lt;DATE&gt;21 APR 1926&lt;/DATE&gt;
            &lt;PLAC&gt;17 Bruton St.,London,W1,England&lt;/PLAC&gt;
          &lt;/BIRT&gt;
          &lt;FAMS REF="F14"/&gt;
          &lt;FAMC REF="F12"/&gt;
        &lt;/INDI&gt;

</pre><h4><b>CONFIGURATION</b></h4><pre>
       Add a section similar to the following to your mod_perl config:

        PerlWarn On
        PerlTaintCheck On

        PerlPassEnv GEDCOM_TEST

        &lt;IfDefine GEDCOM_TEST&gt;
            &lt;Perl&gt;
                $Gedcom::TEST = 1;
            &lt;/Perl&gt;
        &lt;/IfDefine&gt;

        &lt;Perl&gt;
            use Apache::Status;

            $ENV{PATH} = "<a href="file:/bin">/bin</a>:<a href="file:/usr/bin">/usr/bin</a>";
            delete @ENV{"IFS", "CDPATH", "ENV", "BASH_ENV"};

            $Gedcom::DATA = $Gedcom::ROOT;  # location of data stored on server

            use lib "$Gedcom::ROOT/blib/lib";
            use Gedcom::WebServices;

            my $handlers =
            [ qw
              (
                  plain
                  xml
                  json
              )
            ];

            eval Gedcom::WebServices::_set_handlers($handlers);
            # use Apache::PerlSections; print STDERR Apache::PerlSections-&gt;dump;
        &lt;/Perl&gt;

        PerlTransHandler Gedcom::WebServices::_parse_uri

</pre><h4><b>BUGS</b></h4><pre>
       Very probably.

       See the BUGS file.  And the TODO file.

</pre><h4><b>VERSION</b></h4><pre>
       Version 1.22 - 15th November 2019

</pre><h4><b>LICENCE</b></h4><pre>
       Copyright 2005-2019, Paul Johnson (<a href="mailto:paul@pjcj.net">paul@pjcj.net</a>)

       This software is free.  It is licensed under the same terms as Perl itself.

       The latest version of this software should be available from my homepage: <a href="http://www.pjcj.net">http://www.pjcj.net</a>

perl v5.36.0                                       2022-10-16                           <u>Gedcom::<a href="../man3pm/WebServices.3pm.html">WebServices</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>