<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AFS::PAG - Perl bindings for AFS PAG manipulation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libafs-pag-perl">libafs-pag-perl_1.02-5build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       AFS::PAG - Perl bindings for AFS PAG manipulation

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use AFS::PAG qw(hasafs setpag unlog);

           if (hasafs()) {
               setpag();
               system('aklog') == 0
                 or die "cannot get tokens\n";
               do_afs_things();
               unlog();
           }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       AFS is a distributed file system allowing cross-platform sharing of files among multiple computers.  It
       associates client credentials (called AFS tokens) with a Process Authentication Group, or PAG.  AFS::PAG
       makes available in Perl the PAG manipulation functions provided by the libkafs or libkopenafs libraries.

       With the functions provided by this module, a Perl program can detect whether AFS is available on the
       local system (<b>hasafs()</b>) and whether it is currently running inside a PAG (<b>haspag()</b>).  It can also create
       a new PAG and put the current process in it (<b>setpag()</b>) and remove any AFS tokens in the current PAG
       (<b>unlog()</b>).

       Note that this module doesn't provide a direct way to obtain new AFS tokens.  Programs that need AFS
       tokens should normally obtain Kerberos tickets (via whatever means) and then run the program <b>aklog</b>, which
       comes with most AFS distributions.  This program will create AFS tokens from the current Kerberos ticket
       cache and store them in the current PAG.  To isolate those credentials from the rest of the system, call
       <b>setpag()</b> before running <b>aklog</b>.

</pre><h4><b>FUNCTIONS</b></h4><pre>
       This module provides the following functions, none of which are exported by default:

       <b>hasafs()</b>
           Returns true if the local host is running an AFS client and false otherwise.

       <b>haspag()</b>
           Returns true if the current process is running inside a PAG and false otherwise.  AFS tokens obtained
           outside  of  a PAG are visible to any process on the system outside of a PAG running as the same UID.
           AFS tokens obtained inside a PAG are visible to any process in the same PAG, regardless of UID.

       <b>setpag()</b>
           Creates a new, empty PAG and put the current process in it.  This should normally  be  called  before
           obtaining new AFS tokens to isolate those tokens from other processes on the system.  Returns true on
           success and throws an exception on failure.

       <b>unlog()</b>
           Deletes  all  AFS  tokens  in the current PAG, similar to the action of <b>kdestroy</b> on a Kerberos ticket
           cache.  Returns true on success and throws an exception on failure.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       PAG creation failed: %s
           <b>setpag()</b> failed.  The end of the error message will be a translation of the system call error number.

       Token deletion failed: %s
           <b>unlog()</b> failed.  The end of the error message will be a translation of the system call error number.

</pre><h4><b>RESTRICTIONS</b></h4><pre>
       This module currently doesn't provide the <b>k_pioctl()</b> or <b>pioctl()</b> function to make lower-level AFS  system
       calls.  It also doesn't provide the libkafs functions to obtain AFS tokens from Kerberos tickets directly
       without  using  an  external ticket cache.  This prevents use of internal Kerberos ticket caches (such as
       memory caches), since the Kerberos tickets used to generate AFS tokens have to be visible to an  external
       <b>aklog</b> program.

</pre><h4><b>AUTHOR</b></h4><pre>
       Russ Allbery &lt;<a href="mailto:rra@cpan.org">rra@cpan.org</a>&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/aklog.1.html">aklog</a></b>(1)

       The    current    version    of    this   module   is   always   available   from   its   web   site   at
       &lt;<a href="http://www.eyrie.org/~eagle/software/afs-pag/">http://www.eyrie.org/~eagle/software/afs-pag/</a>&gt;.

perl v5.40.0                                       2024-10-20                                      <u>AFS::<a href="../man3pm/PAG.3pm.html">PAG</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>