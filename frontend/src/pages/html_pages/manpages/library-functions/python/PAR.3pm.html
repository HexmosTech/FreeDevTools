<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PAR - Perl Archive Toolkit</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpar-perl">libpar-perl_1.020-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       PAR - Perl Archive Toolkit

</pre><h4><b>SYNOPSIS</b></h4><pre>
       (If you want to make an executable that contains all module, scripts and data files, please consult the
       pp utility instead. pp used to be part of the PAR distribution but is now shipped as part of the
       PAR::Packer distribution instead.)

       Following examples assume a <u>foo.par</u> file in Zip format.

       To use <u>Hello.pm</u> from <u>./foo.par</u>:

           % perl -MPAR=./foo.par -MHello
           % perl -MPAR=./foo -MHello          # the .par part is optional

       Same thing, but search <u>foo.par</u> in @INC:

           % perl -MPAR -Ifoo.par -MHello
           % perl -MPAR -Ifoo -MHello          # ditto

       Following paths inside the PAR file are searched:

           <a href="file:/lib/">/lib/</a>
           /arch/
           /i386-freebsd/              # i.e. $Config{archname}
           /5.8.0/                     # i.e. $Config{version}
           /5.8.0/i386-freebsd/        # both of the above
           /

       PAR files may also (recursively) contain other PAR files.  All files under following paths will be
       considered as PAR files and searched as well:

           /par/i386-freebsd/          # i.e. $Config{archname}
           /par/5.8.0/                 # i.e. $Config{version}
           /par/5.8.0/i386-freebsd/    # both of the above
           /par/

       Run <u>script/test.pl</u> or <u>test.pl</u> from <u>foo.par</u>:

           % perl -MPAR foo.par test.pl        # only when $0 ends in '.par'

       However, if the <u>.par</u> archive contains either <u>script/main.pl</u> or <u>main.pl</u>, then it is used instead:

           % perl -MPAR foo.par test.pl        # runs main.pl; @ARGV is 'test.pl'

       Use in a program:

           use PAR 'foo.par';
           use Hello; # reads within foo.par

           # PAR::read_file() returns a file inside any loaded PARs
           my $conf = PAR::read_file('data/MyConfig.yaml');

           # PAR::par_handle() returns an Archive::Zip handle
           my $zip = PAR::par_handle('foo.par')
           my $src = $zip-&gt;memberNamed('lib/Hello.pm')-&gt;contents;

       You can also use wildcard characters:

           use PAR '/home/foo/*.par';  # loads all PAR files in that directory

       Since version 0.950, you can also use a different syntax for loading <u>.par</u> archives:

           use PAR { file =&gt; 'foo.par' }, { file =&gt; 'otherfile.par' };

       Why? Because you can also do this:

           use PAR { file =&gt; 'foo.par, fallback =&gt; 1 };
           use Foo::Bar;

       Foo::Bar will be searched in the system libs first and loaded from <u>foo.par</u> if it wasn't found!

           use PAR { file =&gt; 'foo.par', run =&gt; 'myscript' };

       This will load <u>foo.par</u> as usual and then execute the <u>script/myscript</u> file from the archive. Note that
       your program will not regain control. When <u>script/myscript</u> exits, so does your main program. To make this
       more useful, you can defer this to runtime: (otherwise equivalent)

           require PAR;
           PAR-&gt;import( { file =&gt; 'foo.par', run =&gt; 'myscript' } );

       If you have PAR::Repository::Client installed, you can do this:

           use PAR { repository =&gt; '<a href="http://foo/bar/">http://foo/bar/</a>' };
           use Module; # not locally installed!

       And PAR will fetch any modules you don't have from the specified PAR repository. For details on how this
       works, have a look at the SEE ALSO section below. Instead of an URL or local path, you can construct an
       PAR::Repository::Client object manually and pass that to PAR.  If you specify the "install =&gt; 1" option
       in the "use PAR" line above, the distribution containing "Module" will be permanently installed on your
       system. ("use PAR { repository =&gt; '<a href="http://foo/bar">http://foo/bar</a>', install =&gt; 1 };")

       Furthermore, there is an "upgrade =&gt; 1" option that checks for upgrades in the repository in addition to
       installing. Please note that an upgraded version of a module is only loaded on the next run of your
       application.

       Adding the "dependencies =&gt; 1" option will enable PAR::Repository::Client's static dependency resolution
       (PAR::Repository::Client 0.23 and up).

       Finally, you can combine the "run" and "repository" options to run an application directly from a
       repository! (And you can add the "install" option, too.)

         use PAR { repository =&gt; '<a href="http://foo/bar/">http://foo/bar/</a>', run =&gt; 'my_app' };
         # Will not reach this point as we executed my_app,

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module lets you use special zip files, called <b>P</b>erl <b>Ar</b>chives, as libraries from which Perl modules
       can be loaded.

       It supports loading XS modules by overriding <b>DynaLoader</b> bootstrapping methods; it writes shared object
       file to a temporary file at the time it is needed.

       A <u>.par</u> file is mostly a zip of the <u>blib/</u> directory after the build process of a CPAN distribution. To
       generate a <u>.par</u> file yourself, all you have to do is compress the modules under <u>arch/</u> and <u>lib/</u>, e.g.:

           % perl Makefile.PL
           % make
           % cd blib
           % zip -r mymodule.par arch/ lib/

       Afterward, you can just use <u>mymodule.par</u> anywhere in your @INC, use <b>PAR</b>, and it will Just Work. Support
       for generating <u>.par</u> files is going to be in the next (beyond 0.2805) release of Module::Build.

       For convenience, you can set the "PERL5OPT" environment variable to "-MPAR" to enable "PAR" processing
       globally (the overhead is small if not used); setting it to "-MPAR=/path/to/mylib.par" will load a
       specific PAR file.  Alternatively, consider using the <u>par.pl</u> utility bundled with the PAR::Packer
       distribution, or using the self-contained <u>parl</u> utility which is also distributed with PAR::Packer on
       machines without PAR.pm installed.

       Note that self-containing scripts and executables created with <u>par.pl</u> and <u>pp</u> may also be used as <u>.par</u>
       archives:

           % pp -o packed.exe source.pl        # generate packed.exe (see PAR::Packer)
           % perl -MPAR=packed.exe other.pl    # this also works
           % perl -MPAR -Ipacked.exe other.pl  # ditto

       Please see "SYNOPSIS" for most typical use cases.

</pre><h4><b>NOTES</b></h4><pre>
       Settings in <u>META.yml</u> packed inside the PAR file may affect PAR's operation.  For example, <u>pp</u> provides the
       "-C" ("--clean") option to control the default behavior of temporary file creation.

       Currently, <u>pp</u>-generated PAR files may attach four PAR-specific attributes in <u>META.yml</u>:

           par:
             clean: 0          # default value of PAR_CLEAN
             signature: ''     # key ID of the SIGNATURE file
             verbatim: 0       # was packed prerequisite's PODs preserved?
             version: x.xx     # PAR.pm version that generated this PAR

       User-defined environment variables, like <u>PAR_GLOBAL_CLEAN</u>, always overrides the ones set in <u>META.yml</u>.
       The algorithm for generating caching/temporary directory is as follows:

       •   If  <u>PAR_GLOBAL_TEMP</u>  is  specified, use it as the cache directory for extracted libraries, and do not
           clean it up after execution.

       •   If  <u>PAR_GLOBAL_TEMP</u>  is  not  set,  but  <u>PAR_GLOBAL_CLEAN</u>  is  specified,  set   <u>PAR_GLOBAL_TEMP</u>   to
           "<u>TEMP</u>/par-<u>USERHEX</u>/temp-<u>PID</u>/", cleaning it after execution.

       •   If both are not set,  use "<u>TEMP</u>/par-<u>USERHEX</u>/cache-<u>HASH</u>/" as the <u>PAR_GLOBAL_TEMP</u>, reusing any existing
           files inside.

       Here is a description of the variables the previous paths.

       •   <u>TEMP</u>  is  a  temporary  directory,  which  can  be  set  via  $ENV{PAR_GLOBAL_TMPDIR},  $ENV{TMPDIR},
           $ENV{TEMPDIR}, $ENV{TEMP} or $ENV{TMP}, in that order  of  priority.   If  none  of  those  are  set,
           <u>C:\TEMP</u>, <u><a href="file:/tmp">/tmp</a></u> are checked.  If neither of them exists, <u>.</u> is used.

       •   <u>USERHEX</u>  is  derived  from  the  user  name,  or  SYSTEM  if  none  can  be found.  On Win32, this is
           $Win32::LoginName.  On Unix, this is $ENV{USERNAME} or $ENV{USER}.  Encode the raw bytes of the  user
           name each as two hex digits to obtain <u>USERHEX</u>.

       •   <u>PID</u> is the process ID.  Forked children use the parent's PID.

       •   <u>HASH</u>  is a crypto-hash of the entire par file or executable, calculated at creation time.  This value
           can be overloaded with "pp"'s --tempdir parameter.

       By default, PAR strips POD sections from bundled modules. In case that causes trouble, you can turn  this
       off by setting the environment variable "PAR_VERBATIM" to 1.

   <b>import</b> <b>options</b>
       When you "use PAR {...}" or call PAR-&gt;import({...}), the following options are available.

         PAR-&gt;import({ file =&gt; 'foo.par' });
         # or
         PAR-&gt;import({ repository =&gt; '<a href="http://foo/bar/">http://foo/bar/</a>' });

       file
           The par filename.

           You must pass <u>one</u> option of either 'file' or 'repository'.

       repository
           A par repository (exclusive of file)

       fallback
           Search the system @INC before the par.

           Off by default for loading <u>.par</u> files via "file =" ...&gt;.  On by default for PAR repositories.

           To  prefer  loading  modules  from  a repository over the locally installed modules, you can load the
           repository as follows:

             use PAR { repository =&gt; '<a href="http://foo/bar/">http://foo/bar/</a>', fallback =&gt; 0 };

       run The name of a script to run in the par.  Exits when done.

       no_shlib_unpack
           Skip unpacking bundled dynamic libraries from shlib/$archname.  The client may have  them  installed,
           or  you  may  wish  to cache them yourself.  In either case, they must end up in the standard install
           location (such as <a href="file:/usr/local/lib/">/usr/local/lib/</a>) or in $ENV{PAR_TEMP} <u>before</u> you require  the  module  which  needs
           them.   If  they  are  not  accessible  before you require the dependent module, perl will die with a
           message such as "cannot open shared object file..."

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       PAR::Tutorial, PAR::FAQ

       The PAR::Packer distribution which contains the packaging utilities: par.pl, parl, pp.

       PAR::Dist for details on PAR distributions.

       PAR::Repository::Client for details on accessing PAR repositories.  PAR::Repository for details on how to
       set up such a repository.

       Archive::Zip, "require" in perlfunc

       ex::lib::zip, Acme::use::strict::with::pride

       Steffen   Mueller   has   detailed   slides   on   using    PAR    for    application    deployment    at
       &lt;<a href="http://steffen-mueller.net/talks/appdeployment/">http://steffen-mueller.net/talks/appdeployment/</a>&gt;.

       PAR  supports  the  prefork  module. It declares various run-time dependencies so you can use the prefork
       module to get streamlined processes in a forking environment.

</pre><h4><b>ACKNOWLEDGMENTS</b></h4><pre>
       Nicholas Clark for pointing out the mad source filter hook within the (also mad) coderef  @INC  hook,  as
       well as (even madder) tricks one can play with PerlIO to avoid source filtering.

       Ton Hospel for convincing me to ditch the "Filter::Simple" implementation.

       Uri Guttman for suggesting "read_file" and "par_handle" interfaces.

       Antti Lankila for making me implement the self-contained executable options via "par.pl -O".

       See  the  <u>AUTHORS</u>  file  in the distribution for a list of people who have sent helpful patches, ideas or
       comments.

</pre><h4><b>AUTHORS</b></h4><pre>
       Audrey Tang &lt;<a href="mailto:cpan@audreyt.org">cpan@audreyt.org</a>&gt;

       Steffen Mueller &lt;<a href="mailto:smueller@cpan.org">smueller@cpan.org</a>&gt;

       You can write to the mailing list at &lt;<a href="mailto:par@perl.org">par@perl.org</a>&gt;, or send an empty mail to &lt;<a href="mailto:par-subscribe@perl.org">par-subscribe@perl.org</a>&gt; to
       participate   in   the   discussion.    Archives   of    the    mailing    list    are    available    at
       &lt;https://www.mail-archive.com/<a href="mailto:par@perl.org">par@perl.org</a>/&gt; or &lt;https://groups.google.com/g/perl.par&gt;.

       Please  submit  bug  reports  to  &lt;https://github.com/rschupp/PAR/issues&gt;.  If you need support, however,
       joining the &lt;<a href="mailto:par@perl.org">par@perl.org</a>&gt; mailing list is preferred.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright  2002-2010  by  Audrey  Tang  &lt;<a href="mailto:cpan@audreyt.org">cpan@audreyt.org</a>&gt;.   Copyright  2005-2010  by  Steffen   Mueller
       &lt;<a href="mailto:smueller@cpan.org">smueller@cpan.org</a>&gt;

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

       See <u>LICENSE</u>.

perl v5.38.2                                       2024-03-09                                           <u><a href="../man3pm/PAR.3pm.html">PAR</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>