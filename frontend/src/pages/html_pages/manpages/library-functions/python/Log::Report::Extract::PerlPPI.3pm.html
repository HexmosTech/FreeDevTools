<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log::Report::Extract::PerlPPI - Collect translatable strings from Perl using PPI</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liblog-report-lexicon-perl">liblog-report-lexicon-perl_1.12-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Log::Report::Extract::PerlPPI - Collect translatable strings from Perl using PPI

</pre><h4><b>INHERITANCE</b></h4><pre>
        Log::Report::Extract::PerlPPI
          is a Log::Report::Extract

</pre><h4><b>SYNOPSIS</b></h4><pre>
        my $ppi = Log::Report::Extract::PerlPPI-&gt;new
         ( lexicon =&gt; '<a href="file:/usr/share/locale">/usr/share/locale</a>'
         );
        $ppi-&gt;process('lib/My/Pkg.pm');  # call for each .pm file
        $ppi-&gt;showStats;                 # optional
        $ppi-&gt;write;

        # See script  xgettext-perl
        bin/xgettext-perl -p $lexdir @source_dirs

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module helps maintaining the POT files, updating the list of message-ids which are kept in them.
       After initiation, the <b>process()</b> method needs to be called with all files which changed since last
       processing and the existing PO files will get updated accordingly.

       If no translations exist yet, one "$lexicon/$domain.po" file will be created.  If you want to start a
       translation, copy "$lexicon/$domain.po" to "$lexicon/$domain/$lang.po" and edit that file.  You may use
       "poedit" to edit po-files.  There are many smart translation management applications which can hand po-
       files, for instance Pootle and Weblate.

       Do not forget to add the new po-file to your distribution (MANIFEST)

       Extends "DESCRIPTION" in Log::Report::Extract.

   <b>The</b> <b>extraction</b> <b>process</b>
       All pm-files need to be processed in one go: no incremental processing!

       The Perl source is parsed using PPI, which does understand Perl syntax quite well, but does not support
       all features.

       Automatically, the textdomain of the translations is discovered, as first parameter of "use Log::Report".
       You may switch textdomain inside one pm-file.

       When all files have been processed, during the <b>write()</b>, all existing po-files for all discovered
       textdomains will get updated.  Not only the "$lexicon/$domain.po" template, but also all
       "$lexicon/$domain/$lang.po" will be replaced.  When a msgid has disappeared, existing translations will
       get disabled, not removed.  New msgids will be added and flagged "fuzzy".

       <u>What</u> <u>is</u> <u>extracted?</u>

       This script will extract the msgids used in "__()", "__x()", "__xn()", and "__n()" (implemented by
       Log::Report) For instance

         __x"msgid", @more
         __x'msgid', @more  &lt;--- no!  syntax error!
         __x("msgid", @more)
         __x('msgid', @more)
         __x(msgid =&gt; @more)

       Besides, there are some helpers which are no-ops in the code, only to fill the po-tables: "N__()",
       "N__n()", "N__()"

       <u>What</u> <u>is</u> <u>not</u> <u>extracted?</u>

       <b>Not</b> extracted are the usage of anything above, where the first parameter is not a simple string.  Not
       extracted are

         __x($format, @more)
         __x$format, @more
         __x(+$format, _domain =&gt; 'other domain', @more)
         __x($first.$second, @more)

       In these cases, you have to use "N__()" functions to declare the possible values of $format.

</pre><h4><b>METHODS</b></h4><pre>
       Extends "METHODS" in Log::Report::Extract.

   <b>Constructors</b>
       Extends "Constructors" in Log::Report::Extract.

       Log::Report::Extract::PerlPPI-&gt;<b>new</b>(%options)
           Inherited, see "Constructors" in Log::Report::Extract

   <b>Accessors</b>
       Extends "Accessors" in Log::Report::Extract.

       $obj-&gt;<b>addPot</b>($domain, $pot, %options)
           Inherited, see "Accessors" in Log::Report::Extract

       $obj-&gt;<b>charset</b>()
           Inherited, see "Accessors" in Log::Report::Extract

       $obj-&gt;<b>domains</b>()
           Inherited, see "Accessors" in Log::Report::Extract

       $obj-&gt;<b>index</b>()
           Inherited, see "Accessors" in Log::Report::Extract

       $obj-&gt;<b>pots</b>($domain)
           Inherited, see "Accessors" in Log::Report::Extract

   <b>Processors</b>
       Extends "Processors" in Log::Report::Extract.

       $obj-&gt;<b>cleanup</b>(%options)
           Inherited, see "Processors" in Log::Report::Extract

       $obj-&gt;<b>process</b>($filename, %options)
           Update  the domains mentioned in the $filename.  All textdomains defined in the file will get updated
           automatically, but not written before all files where processed.

            -Option --Default
             charset  'iso-8859-1'

           charset =&gt; STRING
       $obj-&gt;<b>showStats</b>( [$domains] )
           Inherited, see "Processors" in Log::Report::Extract

       $obj-&gt;<b>store</b>( $domain, $filename, $linenr, $context, $msg, [$msg_plural] )
           Inherited, see "Processors" in Log::Report::Extract

       $obj-&gt;<b>write</b>( [$domain] )
           Inherited, see "Processors" in Log::Report::Extract

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       This module is part of Log-Report-Lexicon distribution version 1.12, built on April  18,  2025.  Website:
       <u><a href="http://perl.overmeer.net/CPAN/">http://perl.overmeer.net/CPAN/</a></u>

</pre><h4><b>LICENSE</b></h4><pre>
       Copyrights 2007-2025 by [Mark Overmeer &lt;<a href="mailto:markov@cpan.org">markov@cpan.org</a>&gt;]. For other contributors see ChangeLog.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.  See <u><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></u>

perl v5.40.1                                       2025-04-24                 <u>Log::Report::Extract::<a href="../man3pm/PerlPPI.3pm.html">PerlPPI</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>