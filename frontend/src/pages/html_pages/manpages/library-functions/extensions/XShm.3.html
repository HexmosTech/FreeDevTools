<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XShmQueryExtension,   XShmQueryVersion,   XShmPixmapFormat,   XShmAttach,   XShmDetach   XShmCreateImage,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libxext-dev">libxext-dev_1.3.4-1build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       XShmQueryExtension,   XShmQueryVersion,   XShmPixmapFormat,   XShmAttach,   XShmDetach   XShmCreateImage,
       XShmPutImage, XShmGetImage, XShmCreatePixmap, XShmGetEventBase - X Shared Memory extension functions

</pre><h4><b>SYNTAX</b></h4><pre>
       #include &lt;X11/Xlib.h&gt;
       #include &lt;sys/ipc.h&gt;
       #include &lt;sys/shm.h&gt;
       #include &lt;X11/extensions/XShm.h&gt;

       Bool XShmQueryExtension(
            Display *display);

       Bool XShmQueryVersion(
            Display *display;
            int *major, *minor;
            Bool *pixmaps);

       int XShmPixmapFormat(
            Display *display);

       Bool XShmAttach(
            Display *display;
            XShmSegmentInfo *shminfo);

       Bool XShmDetach(
            Display *display;
            XShmSegmentInfo *shminfo);

       XImage *XShmCreateImage (
            Display *display;
            Visual *visual;
            unsigned int depth;
            int format;
            char *data;
            XShmSegmentInfo *shminfo;
            unsigned int width, height);

       Bool XShmPutImage(
            Display *display;
            Drawable d;
            GC gc;
            XImage *image;
            int src_x, src_y, dest_x, dest_y;
            unsigned int width, height;
            bool send_event);

       Bool XShmGetImage (
            Display *display;
            Drawable d;
            XImage *image;
            int x, y;
            unsigned long plane_mask);

       Pixmap XShmCreatePixmap(
               Display *display;
               Drawable d;
               char *data;
            XShmSegmentInfo *shminfo;
            unsigned int width, height, depth);

       Status XShmGetEventBase(
            Display *display);

</pre><h4><b>STRUCTURES</b></h4><pre>
       <u>Events:</u>
       typedef struct {
           int type;               /* of event */
           unsigned long serial;   /* # of last request processed by server*/
           Bool send_event;        /* true if this came from a SendEvent request*/
           Display *display;       /* Display the event was read from */
           Drawable drawable;      /* drawable of request */
           int major_code;         /* ShmReqCode */
           int minor_code;         /* X_ShmPutImage */
           ShmSeg shmseg;          /* the ShmSeg used in the request*/
           unsigned long offset;   /* the offset into ShmSeg used in the request*/
       } XShmCompletionEvent;

       <u>a</u> <u>structure</u> <u>of</u> <u>type</u> <u>XShmSegmentInfo</u> <u>:</u>

       typedef struct {
           ShmSeg shmseg;      /* resource id */
           int shmid;          /* kernel id */
           char *shmaddr;      /* address in client */
           Bool readOnly;      /* how the server should attach it */
       } XShmSegmentInfo;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>XShmQueryExtension</u> checks to see if the shared memory extensions are available for the specified display.

       <u>XShmQueryVersion</u> returns the version numbers of the extension implementation. Shared memory  pixmaps  are
       supported if the pixmaps argument returns true.

       <u>XShmAttach</u>  tells  the  server  to attach to your shared memory segment. If all goes well, you will get a
       non-zero status, back and your XImage is ready for use.

       <u>XShmDetach</u> tells the server to detach from your shared memory segment.

       <u>XShmPutImage</u> combines an image in memory with a shape of the specified drawable. If  XYBitmap  format  is
       used,  the depth must be one, or a ``BadMatch'' error results. The foreground pixel in the GC defines the
       source for the one bits in the image, and the background pixel defines the source for the zero bits.  For
       XYPixmap and ZPixmap, the depth must match the depth of the drawable, or a ``BadMatch'' error results.

       <u>XShmGetImage</u>  reads  image  data  into  a  shared memory XImage where display is the display of interest,
       drawable is the source drawable, image is the  destination  XImage,  x  and  y  are  offsets  within  the
       drawable, and plane_mask defines which planes are to be read.

       <u>XShmCreateImage</u>  allocates  the  memory needed for an XImage structure for the specified display but does
       not allocate space for the image itself.

       <u>XShmPixmapFormat</u> gets the format for the server. If your application can deal with the server pixmap data
       format, a shared memory segment and shminfo structure are created.

       <u>XShmCreatePixmap</u> points to a pixmap which you can manipulate in all of the usual  ways,  with  the  added
       bonus of being able to edit its contents directly through the shared memory segment.

       <u>XShmGetEventBase</u> gets the completion event value.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>MIT-SHM</u> <u>-</u> <u>The</u> <u>MIT</u> <u>Shared</u> <u>Memory</u> <u>Extension</u>

X Version 11                                      libXext 1.3.4                                          <u><a href="../man3/XShm.3.html">XShm</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>