<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>glob, globfree - find pathnames matching a pattern, free memory from glob()</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       glob, globfree - find pathnames matching a pattern, free memory from glob()

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/glob.h">glob.h</a>&gt;</b>

       <b>int</b> <b>glob(const</b> <b>char</b> <b>*restrict</b> <u>pattern</u><b>,</b> <b>int</b> <u>flags</u><b>,</b>
                <b>int</b> <b>(*</b><u>errfunc</u><b>)(const</b> <b>char</b> <b>*</b><u>epath</u><b>,</b> <b>int</b> <u>eerrno</u><b>),</b>
                <b>glob_t</b> <b>*restrict</b> <u>pglob</u><b>);</b>
       <b>void</b> <b>globfree(glob_t</b> <b>*</b><u>pglob</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>glob</b>()  function  searches for all the pathnames matching <u>pattern</u> according to the rules used by the
       shell (see <b><a href="../man7/glob.7.html">glob</a></b>(7)).  No tilde expansion or parameter substitution  is  done;  if  you  want  these,  use
       <b><a href="../man3/wordexp.3.html">wordexp</a></b>(3).

       The <b>globfree</b>() function frees the dynamically allocated storage from an earlier call to <b>glob</b>().

       The  results of a <b>glob</b>() call are stored in the structure pointed to by <u>pglob</u>.  This structure is of type
       <u>glob_t</u> (declared in <u>&lt;glob.h&gt;</u>) and includes the following elements defined by POSIX.2 (more may be present
       as an extension):

           typedef struct {
               size_t   gl_pathc;    /* Count of paths matched so far  */
               char   **gl_pathv;    /* List of matched pathnames.  */
               size_t   gl_offs;     /* Slots to reserve in <u>gl_pathv</u>.  */
           } glob_t;

       Results are stored in dynamically allocated storage.

       The argument <u>flags</u> is made up of the bitwise OR of zero or more the following symbolic  constants,  which
       modify the behavior of <b>glob</b>():

       <b>GLOB_ERR</b>
              Return  upon  a  read  error (because a directory does not have read permission, for example).  By
              default, <b>glob</b>() attempts carry on despite errors, reading all of the directories that it can.

       <b>GLOB_MARK</b>
              Append a slash to each path which corresponds to a directory.

       <b>GLOB_NOSORT</b>
              Don't sort the returned pathnames.  The only reason to do this is to  save  processing  time.   By
              default, the returned pathnames are sorted.

       <b>GLOB_DOOFFS</b>
              Reserve  <u>pglob-&gt;gl_offs</u>  slots  at  the  beginning  of  the  list of strings in <u>pglob-&gt;pathv</u>.  The
              reserved slots contain null pointers.

       <b>GLOB_NOCHECK</b>
              If no pattern matches, return the original pattern.  By default, <b>glob</b>()  returns  <b>GLOB_NOMATCH</b>  if
              there are no matches.

       <b>GLOB_APPEND</b>
              Append  the  results  of this call to the vector of results returned by a previous call to <b>glob</b>().
              Do not set this flag on the first invocation of <b>glob</b>().

       <b>GLOB_NOESCAPE</b>
              Don't allow backslash ('\') to be used as an escape character.  Normally, a backslash can be  used
              to  quote  the  following  character,  providing  a  mechanism  to  turn  off  the special meaning
              metacharacters.

       <u>flags</u> may also include any of the following, which are GNU extensions and not defined by POSIX.2:

       <b>GLOB_PERIOD</b>
              Allow a leading period to be matched by metacharacters.  By default, metacharacters can't match  a
              leading period.

       <b>GLOB_ALTDIRFUNC</b>
              Use    alternative    functions    <u>pglob-&gt;gl_closedir</u>,    <u>pglob-&gt;gl_readdir</u>,    <u>pglob-&gt;gl_opendir</u>,
              <u>pglob-&gt;gl_lstat</u>, and <u>pglob-&gt;gl_stat</u> for filesystem access instead of the normal library functions.

       <b>GLOB_BRACE</b>
              Expand <b><a href="../man1/csh.1.html">csh</a></b>(1) style brace expressions of the form <b>{a,b}</b>.  Brace expressions can be nested.   Thus,
              for  example,  specifying the pattern "{foo/{,cat,dog},bar}" would return the same results as four
              separate <b>glob</b>() calls using the strings: "foo/", "foo/cat", "foo/dog", and "bar".

       <b>GLOB_NOMAGIC</b>
              If the pattern contains no metacharacters, then it should be returned as the sole  matching  word,
              even if there is no file with that name.

       <b>GLOB_TILDE</b>
              Carry  out  tilde expansion.  If a tilde ('~') is the only character in the pattern, or an initial
              tilde is followed immediately by a  slash  ('/'),  then  the  home  directory  of  the  caller  is
              substituted  for  the tilde.  If an initial tilde is followed by a username (e.g., "~andrea/bin"),
              then the tilde and username are substituted by the home directory of that user.  If  the  username
              is invalid, or the home directory cannot be determined, then no substitution is performed.

       <b>GLOB_TILDE_CHECK</b>
              This  provides  behavior similar to that of <b>GLOB_TILDE</b>.  The difference is that if the username is
              invalid, or the home directory cannot be determined, then instead of using the pattern  itself  as
              the name, <b>glob</b>() returns <b>GLOB_NOMATCH</b> to indicate an error.

       <b>GLOB_ONLYDIR</b>
              This is a <u>hint</u> to <b>glob</b>() that the caller is interested only in directories that match the pattern.
              If  the implementation can easily determine file-type information, then nondirectory files are not
              returned to the caller.  However, the caller must still check that returned files are directories.
              (The purpose of this flag is merely to optimize performance when the caller is interested only  in
              directories.)

       If  <u>errfunc</u> is not NULL, it will be called in case of an error with the arguments <u>epath</u>, a pointer to the
       path which failed, and <u>eerrno</u>, the value of <u>errno</u> as returned  from  one  of  the  calls  to  <b><a href="../man3/opendir.3.html">opendir</a></b>(3),
       <b><a href="../man3/readdir.3.html">readdir</a></b>(3),  or  <b><a href="../man2/stat.2.html">stat</a></b>(2).  If <u>errfunc</u> returns nonzero, or if <b>GLOB_ERR</b> is set, <b>glob</b>() will terminate after
       the call to <u>errfunc</u>.

       Upon successful return, <u>pglob-&gt;gl_pathc</u> contains the number  of  matched  pathnames  and  <u>pglob-&gt;gl_pathv</u>
       contains a pointer to the list of pointers to matched pathnames.  The list of pointers is terminated by a
       null pointer.

       It  is  possible to call <b>glob</b>() several times.  In that case, the <b>GLOB_APPEND</b> flag has to be set in <u>flags</u>
       on the second and later invocations.

       As a GNU extension, <u>pglob-&gt;gl_flags</u> is set  to  the  flags  specified,  <b>or</b>ed  with  <b>GLOB_MAGCHAR</b>  if  any
       metacharacters were found.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On successful completion, <b>glob</b>() returns zero.  Other possible returns are:

       <b>GLOB_NOSPACE</b>
              for running out of memory,

       <b>GLOB_ABORTED</b>
              for a read error, and

       <b>GLOB_NOMATCH</b>
              for no found matches.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       For an explanation of the terms used in this section, see <b><a href="../man7/attributes.7.html">attributes</a></b>(7).
       ┌────────────┬───────────────┬──────────────────────────────────────────────────────────────────────────┐
       │ <b>Interface</b>  │ <b>Attribute</b>     │ <b>Value</b>                                                                    │
       ├────────────┼───────────────┼──────────────────────────────────────────────────────────────────────────┤
       │ <b>glob</b>()     │ Thread safety │ MT-Unsafe race:utent env sig:ALRM timer locale                           │
       ├────────────┼───────────────┼──────────────────────────────────────────────────────────────────────────┤
       │ <b>globfree</b>() │ Thread safety │ MT-Safe                                                                  │
       └────────────┴───────────────┴──────────────────────────────────────────────────────────────────────────┘

       In  the above table, <u>utent</u> in <u>race:utent</u> signifies that if any of the functions <b><a href="../man3/setutent.3.html">setutent</a></b>(3), <b><a href="../man3/getutent.3.html">getutent</a></b>(3),
       or <b><a href="../man3/endutent.3.html">endutent</a></b>(3) are used in parallel in different threads of a  program,  then  data  races  could  occur.
       <b>glob</b>() calls those functions, so we use race:utent to remind users.

</pre><h4><b>STANDARDS</b></h4><pre>
       POSIX.1-2008.

</pre><h4><b>HISTORY</b></h4><pre>
       POSIX.1-2001, POSIX.2.

</pre><h4><b>NOTES</b></h4><pre>
       The  structure  elements  <u>gl_pathc</u>  and  <u>gl_offs</u>  are  declared as <u>size_t</u> in glibc 2.1, as they should be
       according to POSIX.2, but are declared as <u>int</u> in glibc 2.0.

</pre><h4><b>BUGS</b></h4><pre>
       The <b>glob</b>() function may fail  due  to  failure  of  underlying  function  calls,  such  as  <b><a href="../man3/malloc.3.html">malloc</a></b>(3)  or
       <b><a href="../man3/opendir.3.html">opendir</a></b>(3).  These will store their error code in <u>errno</u>.

</pre><h4><b>EXAMPLES</b></h4><pre>
       One example of use is the following code, which simulates typing

           ls -l *.c ../*.c

       in the shell:

           glob_t globbuf;

           globbuf.gl_offs = 2;
           glob("*.c", GLOB_DOOFFS, NULL, &amp;globbuf);
           glob("../*.c", GLOB_DOOFFS | GLOB_APPEND, NULL, &amp;globbuf);
           globbuf.gl_pathv[0] = "ls";
           globbuf.gl_pathv[1] = "-l";
           execvp("ls", &amp;globbuf.gl_pathv[0]);

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/ls.1.html">ls</a></b>(1), <b><a href="../man1/sh.1.html">sh</a></b>(1), <b><a href="../man2/stat.2.html">stat</a></b>(2), <b><a href="../man3/exec.3.html">exec</a></b>(3), <b><a href="../man3/fnmatch.3.html">fnmatch</a></b>(3), <b><a href="../man3/malloc.3.html">malloc</a></b>(3), <b><a href="../man3/opendir.3.html">opendir</a></b>(3), <b><a href="../man3/readdir.3.html">readdir</a></b>(3), <b><a href="../man3/wordexp.3.html">wordexp</a></b>(3), <b><a href="../man7/glob.7.html">glob</a></b>(7)

Linux man-pages 6.9.1                              2024-06-15                                            <u><a href="../man3/glob.3.html">glob</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>