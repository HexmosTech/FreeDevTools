<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plack::Middleware::Conditional - Conditional wrapper for Plack middleware</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libplack-perl">libplack-perl_1.0051-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Plack::Middleware::Conditional - Conditional wrapper for Plack middleware

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Plack::Builder;

         builder {
             enable_if { $_[0]-&gt;{REMOTE_ADDR} eq '127.0.0.1' } 'StackTrace', force =&gt; 1;
             $app;
         };

         # or using the OO interface:
         $app = Plack::Middleware::Conditional-&gt;wrap(
             $app,
             condition  =&gt; sub { $_[0]-&gt;{REMOTE_ADDR} eq '127.0.0.1' },
             builder =&gt; sub { Plack::Middleware::StackTrace-&gt;wrap($_[0], force =&gt; 1) },
         );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Plack::Middleware::Conditional is a piece of meta-middleware, to run a specific middleware component
       under runtime conditions. The goal of this middleware is to avoid baking runtime configuration options in
       individual middleware components, and rather share them as another middleware component.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Note that some of the middleware component names are just made up for the explanation and might not
       exist.

         # Minify JavaScript if the browser is Firefox
         enable_if { $_[0]-&gt;{HTTP_USER_AGENT} =~ /Firefox/ } 'JavaScriptMinifier';

         # Enable Stacktrace when being accessed from the local network
         enable_if { $_[0]-&gt;{REMOTE_ADDR} =~ /^10\.0\.1\.*/ } 'StackTrace';

         # Work with other conditional setter middleware:
         # Transcode Jpeg on the fly for mobile clients
         builder {
             enable 'MobileDetector';
             enable_if { $_[0]-&gt;{'plack.mobile_detected'} }
               'TranscodeJpeg', max_size =&gt; 30_000;
             $app;
         };

       Note that in the last example <u>MobileDetector</u> should come first because the conditional check runs in <u>pre-</u>
       <u>run</u> conditions, which is from outer to inner: that is, from the top to the bottom in the Builder DSL
       code.

</pre><h4><b>AUTHOR</b></h4><pre>
       Tatsuhiko Miyagawa

       Steve Cook

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Plack::Builder

perl v5.38.2                                       2024-01-20                <u>Plack::Middleware::<a href="../man3pm/Conditional.3pm.html">Conditional</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>