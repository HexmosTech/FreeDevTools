<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rcs - Perl Object Class for Revision Control System (RCS).</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/librcs-perl">librcs-perl_1.05-6_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Rcs - Perl Object Class for Revision Control System (RCS).

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Rcs;

           # Use tags to control how the rcs programs handle errors
           # and the use of the rcs -q (quiet) flag.
           use Rcs qw(nonFatal Verbose);

       The default behavior is to run rcs programs with the -q (quiet) flag, and to die if any rcs program
       returns an error.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This Perl module provides an object oriented interface to access <b>Revision</b> <b>Control</b> <b>System</b> <b>(RCS)</b> utilities.
       RCS must be installed on the system prior to using this module.  This module should simplify the creation
       of an RCS front-end.

   <b>OBJECT</b> <b>CONSTRUCTOR</b>
       The <b>new</b> method may be used as either a class method or an object method to create a new object.

           # called as class method
           $obj = Rcs-&gt;new;

           # called as object method
           $newobj = $obj-&gt;new;

       Note: You may now set the pathname of the working file through the object constructor.  This is the same
       as calling the pathname method after calling the new method.

       Thus

           $obj = Rcs-&gt;new($pathname);

       is the same as

           $obj = Rcs-&gt;new;
           $obj-&gt;pathname($pathname);

       See <b>pathname</b> method for additional details.

   <b>CLASS</b> <b>METHODS</b>
       Besides the object constructor, there are three class methods provided which effect any newly created
       objects.

       The <b>arcext</b> method sets the RCS archive extension, which is ',v' by default.

           # set/unset RCS archive extension
           Rcs-&gt;arcext('');            # set no archive extension
           Rcs-&gt;arcext(',v');          # set archive extension to ',v'
           $arc_ext = Rcs-&gt;arcext();   # get current archive extension

       The <b>bindir</b> method sets the directory path where the RCS executables (i.e. rcs, ci, co) are located.  The
       default location is '<a href="file:/usr/local/bin">/usr/local/bin</a>'.

           # set RCS bin directory
           Rcs-&gt;bindir('<a href="file:/usr/bin">/usr/bin</a>');

           # access RCS bin directory
           $bin_dir = Rcs-&gt;bindir;

       The <b>quiet</b> method sets/unsets the quiet mode for the RCS executables.  Quiet mode is set by default.

           # set/unset RCS quiet mode
           Rcs-&gt;<a href="../man0/quiet.0.html">quiet</a>(0);      # unset quiet mode
           Rcs-&gt;<a href="../man1/quiet.1.html">quiet</a>(1);      # set quiet mode

           # access RCS quiet mode
           $quiet_mode = Rcs-&gt;quiet;

       These methods may also be called as object methods.

           $obj-&gt;arcext('');
           $obj-&gt;bindir('<a href="file:/usr/bin">/usr/bin</a>');
           $obj-&gt;<a href="../man0/quiet.0.html">quiet</a>(0);

   <b>OBJECT</b> <b>ATTRIBUTE</b> <b>METHODS</b>
       These methods set the attributes of the RCS object.

       The <b>file</b> method is used to set the name of the RCS working file.  The filename must be set before
       invoking any access of modifier methods on the object.

           $obj-&gt;file('mr_anderson.pl');

       The <b>arcfile</b> method is used to set the name of the RCS archive file.  Using this method is optional, as
       the other methods will assume the archive filename is the same as the working file unless specified
       otherwise.  The RCS archive extension (default ',v') is automatically added to the filename.

           $obj-&gt;arcfile('principle_mcvicker.pl');

       The <b>workdir</b> methods set the path of the RCS working directory.  If not specified, default path is '.'
       (current working directory).

           $obj-&gt;workdir('/usr/local/source');

       The <b>rcsdir</b> methods set the path of the RCS archive directory.  If not specified, default path is './RCS'.

           $obj-&gt;rcsdir('/usr/local/archive');

       The <b>pathname</b> method will set both the working filename and archive directory.

           $obj-&gt;pathname($RCS_DIR . '/' . 'butthead.c');
       and
           $obj-&gt;pathname($RCS_DIR . '/' . 'butthead.c,v');

       are the same as

           $obj-&gt;rcsdir($RCS_DIR);
           $obj-&gt;file('butthead.c');

   <b>RCS</b> <b>PARSE</b> <b>METHODS</b>
       This class provides methods to directly parse the RCS archive file.

       The <b>access</b> method returns a list of all user on the access list.

           @access_list = $obj-&gt;access;

       The <b>author</b> method returns the author of the revision.  The head revision is used if no revision argument
       is passed to method.

           # returns the author of revision '1.3'
           $author = $obj-&gt;author('1.3');

           # returns the authos of the head revision
           $author = $obj-&gt;author;

       The <b>head</b> method returns the head revision.

           $head = $obj-&gt;head;

       The <b>lock</b> method returns the locker of the revision.  The method returns null if the revision is unlocked.
       The head revision is used if no revision argument is passed to method.  When called in list context the
       lock method returns a hash of all locks.

           # returns locker of revision '1.3'
           $locker = $obj-&gt;lock('1.3');

           # returns locker of head revision
           $locker = $obj-&gt;lock;

           # return hash of all locks
           %locks = $obj-&gt;lock;    # called in list context
           foreach $rev (keys %locks) {
               $locker = $locks{$rev};
               print "User $locker has revision $rev locked\n";
           }

       The <b>revisions</b> method returns a list of all revisions of archive file.

           @revisions = $obj-&gt;revisions;

       The <b>state</b> method returns the state of the revision. The head revision is used if no revision argument is
       passed to method.

           # returns state of revision '1.3'
           $state = $obj-&gt;state('1.3');

           # returns state of head revision
           $state = $obj-&gt;state;

       The <b>symbol</b> method returns the symbol(s) associated with a revision.  If called in list context, method
       returns all symbols associated with revision.  If called in scalar context, method returns last symbol
       assciated with a revision.  The head revision is used if no revision argument is passed to method.

           # list context, returns all symbols associated with revision 1.3
           @symbols = $obj-&gt;symbol('1.3');

           # list context, returns all symbols associated with head revision
           @symbols = $obj-&gt;symbol;

           # scalar context, returns last symbol associated with revision 1.3
           $symbol = $obj-&gt;symbol('1.3');

           # scalar context, returns last symbol associated with head revision
           $symbol = $obj-&gt;symbol;

       The <b>symbols</b> method returns a hash, keyed by symbol, of all of the revisions associated with the file.

           %symbols = $obj-&gt;symbols;
           foreach $sym (keys %symbols) {
               $rev = $symbols{$sym};
           }

       The <b>revdate</b> method returns the date of a revision.  The returned date format is the same as the localtime
       format.  When called as a scalar, it returns the system date number.  If called is list context, the list
       ($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) is returned.

           # scalar mode
           $scalar_date = $obj-&gt;revdate;
           print "Scalar date number = $scalar_date\n";
           $date_str = localtime($scalar_date);
           print "Scalar date string = $date_str\n";

           # list mode
           @list_date = $obj-&gt;revdate;
           print "List date = @list_date\n";

       The <b>dates</b> method returns a hash of revision dates, keyed on revision.  The hash values are system date
       numbers.  When called in scalar mode, the method returns the most recent revision date.

           # list mode
           %DatesHash = obj-&gt;dates;
           @dates_list = sort {$b&lt;=&gt;$a} values %DatesHash;
           $MostRecent = $dates_list[0];

           # scalar mode
           $most_recent = $obj-&gt;dates;
           print "Most recent date = $most_recent\n";
           $most_recent_str = localtime($most_recent);
           print "Most recent date string = $most_recent_str\n";

       The <b>symrev</b> method returns the revision against which a specified symbol was defined. If the symbol was
       not defined against any version of this file, 0 is returned.

           # gets revision that has 'MY_SYMBOL' defined against it
           $rev = $obj-&gt;symrev('MY_SYMBOL');

       The <b>daterev</b> method returns revisions which were created before a specified date.  Method may take one or
       six arguments.  If one arguments is passed, then the argument is a date number.  If six arguments are
       passed, then they represent a date string.

           # one argument, date number
           # gets revisions created before Sun Sep  6 22:23:47 1998
           @revs = $obj-&gt;<a href="../man841436420/daterev.841436420.html">daterev</a>(841436420);

           # six argument
           # gets revisions created before 25th June 1998 16:45:30
           @revs = $obj-&gt;daterev(1998, 6, 25, 16, 45, 30);

       The <b>comments</b> method returns a hash of revision comments, keyed on revision.  A key value of 0 returns the
       description.

           %comments = $obj-&gt;comments;
           $description = $comments{0};
           $comment_1_3 = $comments{'1.3'};

   <b>RCS</b> <b>SYSTEM</b> <b>METHODS</b>
       These methods invoke the RCS system utilities.

       The <b>ci</b> method calls the RCS ci program.

           # check in, and then check out in unlocked state
           $obj-&gt;ci('-u');

       The <b>co</b> method calls the RCS co program.

           # check out in locked state
           $obj-&gt;co('-l');

       The <b>rcs</b> method calls the RCS rcs program.

           # lock file
           $obj-&gt;rcs('-l');

       The <b>rcsdiff</b> method calls the RCS rcsdiff program.  When called in list context, this method returns the
       outpout of the rcsdiff program.  When called in scalar context, this method returns the return status of
       the rcsdiff program.  The return status is 0 for the same, 1 for some differences, and 2 for error
       condition.

       When called without parameters, rcsdiff does a diff between the current working file, and the last
       revision checked in.

           # call in list context
           @diff_output = $obj-&gt;rcsdiff;

           # call in scalar context
           $changed = $obj-&gt;rcsdiff;
           if ($changed) {
               print "Working file has changed\n";
           }

       Call rcsdiff with parameters to do a diff between any two revisions.

           @diff_output = $obj-&gt;rcsdiff('-r1.2', '-r1.1');

       The <b>rlog</b> method calls the RCS rlog program.  This method returns the output of the rlog program.

           # get complete log output
           @rlog_complete = $obj-&gt;rlog;

           # called with '-h' switch outputs only header information
           @rlog_header = $obj-&gt;rlog('-h');
           print @rlog_header;

       The <b>rcsclean</b> method calls the RCS rcsclean program.

           # remove working file
           $obj-&gt;rcsclean;

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>CREATE</b> <b>ACCESS</b> <b>LIST</b>
       Using method <b>rcs</b> with the <b>-a</b> switch allows you to add users to the access list of an RCS archive file.

           use Rcs;
           $obj = Rcs-&gt;new;

           $obj-&gt;rcsdir("./project_tree/archive");
           $obj-&gt;workdir("./project_tree/src");
           $obj-&gt;file("cornholio.pl");

       Methos <b>rcs</b> invokes the RCS utility rcs with the same parameters.

           @users = qw(beavis butthead);
           $obj-&gt;rcs("-a@users");

       Calling method <b>access</b> returns list of users on access list.

           $filename = $obj-&gt;file;
           @access_list = $obj-&gt;access;
           print "Users @access_list are on the access list of $filename\n";

   <b>PARSE</b> <b>RCS</b> <b>ARCHIVE</b> <b>FILE</b>
       Set class variables and create 'RCS' object.  Set bin directory where RCS programs (e.g. rcs, ci, co)
       reside.  The default is '<a href="file:/usr/local/bin">/usr/local/bin</a>'.  This sets the bin directory for all objects.

           use Rcs;
           Rcs-&gt;bindir('<a href="file:/usr/bin">/usr/bin</a>');
           $obj = Rcs-&gt;new;

       Set information regarding RCS object.  This information includes name of the working file, directory of
       working file ('.' by default), and RCS archive directory ('./RCS' by default).

           $obj-&gt;rcsdir("./project_tree/archive");
           $obj-&gt;workdir("./project_tree/src");
           $obj-&gt;file("cornholio.pl");

           $head_rev = $obj-&gt;head;
           $locker = $obj-&gt;lock;
           $author = $obj-&gt;author;
           @access = $obj-&gt;access;
           @revisions = $obj-&gt;revisions;

           $filename = $obj-&gt;file;

           if ($locker) {
               print "Head revision $head_rev is locked by $locker\n";
           }
           else {
               print "Head revision $head_rev is unlocked\n";
           }

           if (@access) {
               print "\nThe following users are on the access list of file $filename\n";
               map { print "User: $_\n"} @access;
           }

           print "\nList of all revisions of $filename\n";
           foreach $rev (@revisions) {
               print "Revision: $rev\n";
           }

   <b>CHECK-IN</b> <b>FILE</b>
       Set class variables and create 'RCS' object.  Set bin directory where RCS programs (e.g. rcs, ci, co)
       reside.  The default is '<a href="file:/usr/local/bin">/usr/local/bin</a>'.  This sets the bin directory for all objects.

           use Rcs;
           Rcs-&gt;bindir('<a href="file:/usr/bin">/usr/bin</a>');
           Rcs-&gt;<a href="../man0/quiet.0.html">quiet</a>(0);      # turn off quiet mode
           $obj = Rcs-&gt;new;

       Set information regarding RCS object.  This information includes name of working file, directory of
       working file ('.' by default), and RCS archive directory ('./RCS' by default).

           $obj-&gt;file('cornholio.pl');

           # Set RCS archive directory, is './RCS' by default
           $obj-&gt;rcsdir("./project_tree/archive");

           # Set working directory, is '.' by default
           $obj-&gt;workdir("./project_tree/src");

       Check in file using <b>-u</b> switch.  This will check in the file, and will then check out the file in an
       unlocked state.  The <b>-m</b> switch is used to set the revision comment.

       Command:

           $obj-&gt;ci('-u', '-mRevision Comment');

       is equivalent to commands:

           $obj-&gt;ci('-mRevision Comment');
           $obj-&gt;co;

   <b>CHECK-OUT</b> <b>FILE</b>
       Set class variables and create 'RCS' object.  Set bin directory where RCS programs (e.g. rcs, ci, co)
       reside.  The default is '<a href="file:/usr/local/bin">/usr/local/bin</a>'.  This sets the bin directory for all objects.

           use Rcs;
           Rcs-&gt;bindir('<a href="file:/usr/bin">/usr/bin</a>');
           Rcs-&gt;<a href="../man0/quiet.0.html">quiet</a>(0);      # turn off quiet mode
           $obj = Rcs-&gt;new;

       Set information regarding RCS object.  This information includes name of working file, directory of
       working file ('.' by default), and RCS archive directory ('./RCS' by default).

           $obj-&gt;file('cornholio.pl');

           # Set RCS archive directory, is './RCS' by default
           $obj-&gt;rcsdir("./project_tree/archive");

           # Set working directory, is '.' by default
           $obj-&gt;workdir("./project_tree/src");

       Check out file read-only:

           $obj-&gt;co;

       or check out and lock file:

           $obj-&gt;co('-l');

   <b>RCSDIFF</b>
       Method <b>rcsdiff</b> does an diff between revisions.

           $obj = Rcs-&gt;new;
           $obj-&gt;bindir('<a href="file:/usr/bin">/usr/bin</a>');

           $obj-&gt;rcsdir("./project_tree/archive");
           $obj-&gt;workdir("./project_tree/src");
           $obj-&gt;file("cornholio.pl");

           print "Diff of current working file\n";
           if ($obj-&gt;rcsdiff) {       # scalar context
               print $obj-&gt;rcsdiff;   # list context
           }
           else {
              print "Versions are Equal\n";
           }

           print "\n\nDiff of revisions 1.2 and 1.1\n";
           print $obj-&gt;rcsdiff('-r1.2', '-r1.1');

   <b>RCSCLEAN</b>
       Method <b>rcsclean</b> will remove an unlocked working file.

           use Rcs;
           Rcs-&gt;bindir('<a href="file:/usr/bin">/usr/bin</a>');
           Rcs-&gt;<a href="../man0/quiet.0.html">quiet</a>(0);      # turn off quiet mode
           $obj = Rcs-&gt;new;

           $obj-&gt;rcsdir("./project_tree/archive");
           $obj-&gt;workdir("./project_tree/src");
           $obj-&gt;file("cornholio.pl");

           print "Quiet mode NOT set\n" unless Rcs-&gt;quiet;

           $obj-&gt;rcsclean;

</pre><h4><b>AUTHOR</b></h4><pre>
       Craig Freter, &lt;<u><a href="mailto:craig@freter.com">craig@freter.com</a></u>&gt;

</pre><h4><b>CONTRIBUTORS</b></h4><pre>
       David Green, &lt;<u><a href="mailto:greendjf@cvhp152.gpt.marconicomms.com">greendjf@cvhp152.gpt.marconicomms.com</a></u>&gt;

       Jamie O'Shaughnessy, &lt;<u><a href="mailto:jamie@thanatar.demon.co.uk">jamie@thanatar.demon.co.uk</a></u>&gt;

       Raju Krishnamurthy, &lt;<u><a href="mailto:raju_k@iname.com">raju_k@iname.com</a></u>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 1997,2003 Craig Freter.  All rights reserved.  This program is free software; you can
       redistribute it and/or modify it under the same terms as Perl itself.

perl v5.34.0                                       2022-06-17                                           <u><a href="../man3pm/Rcs.3pm.html">Rcs</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>