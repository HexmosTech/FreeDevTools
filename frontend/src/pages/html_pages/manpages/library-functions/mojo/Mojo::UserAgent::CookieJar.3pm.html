<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mojo::UserAgent::CookieJar - Cookie jar for HTTP user agents</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmojolicious-perl">libmojolicious-perl_9.39+dfsg-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mojo::UserAgent::CookieJar - Cookie jar for HTTP user agents

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Mojo::UserAgent::CookieJar;

         # Add response cookies
         my $jar = Mojo::UserAgent::CookieJar-&gt;new;
         $jar-&gt;add(
           Mojo::Cookie::Response-&gt;new(
             name   =&gt; 'foo',
             value  =&gt; 'bar',
             domain =&gt; 'localhost',
             path   =&gt; '/test'
           )
         );

         # Find request cookies
         for my $cookie (@{$jar-&gt;find(Mojo::URL-&gt;new('<a href="http://localhost/test">http://localhost/test</a>'))}) {
           say $cookie-&gt;name;
           say $cookie-&gt;value;
         }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Mojo::UserAgent::CookieJar is a minimalistic and relaxed cookie jar used by Mojo::UserAgent, based on RFC
       6265 &lt;https://tools.ietf.org/html/rfc6265&gt;.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       Mojo::UserAgent::CookieJar implements the following attributes.

   <b>file</b>
         my $file = $jar-&gt;file;
         $jar     = $jar-&gt;file('/home/sri/cookies.txt');

       File to "load" cookies from and "save" cookies to in Netscape format. Note that this attribute is
       <b>EXPERIMENTAL</b> and might change without warning!

         # Save cookies to file
         $jar-&gt;file('cookies.txt')-&gt;save;

         # Empty cookie jar and load cookies from file
         $jar-&gt;file('cookies.txt')-&gt;empty-&gt;load;

   <b>ignore</b>
         my $ignore = $jar-&gt;ignore;
         $jar       = $jar-&gt;ignore(sub {...});

       A callback used to decide if a cookie should be ignored by "collect".

         # Ignore all cookies
         $jar-&gt;ignore(sub { 1 });

         # Ignore cookies for domains "com", "net" and "org"
         $jar-&gt;ignore(sub ($cookie) {
           return undef unless my $domain = $cookie-&gt;domain;
           return $domain eq 'com' || $domain eq 'net' || $domain eq 'org';
         });

   <b>max_cookie_size</b>
         my $size = $jar-&gt;max_cookie_size;
         $jar     = $jar-&gt;<a href="../man4096/max_cookie_size.4096.html">max_cookie_size</a>(4096);

       Maximum cookie size in bytes, defaults to 4096 (4KiB).

</pre><h4><b>METHODS</b></h4><pre>
       Mojo::UserAgent::CookieJar inherits all methods from Mojo::Base and implements the following new ones.

   <b>add</b>
         $jar = $jar-&gt;add(@cookies);

       Add multiple Mojo::Cookie::Response objects to the jar.

   <b>all</b>
         my $cookies = $jar-&gt;all;

       Return all Mojo::Cookie::Response objects that are currently stored in the jar.

         # Names of all cookies
         say $_-&gt;name for @{$jar-&gt;all};

   <b>collect</b>
         $jar-&gt;collect(Mojo::Transaction::HTTP-&gt;new);

       Collect response cookies from transaction.

   <b>empty</b>
         $jar = $jar-&gt;empty;

       Empty the jar.

   <b>find</b>
         my $cookies = $jar-&gt;find(Mojo::URL-&gt;new);

       Find Mojo::Cookie::Request objects in the jar for Mojo::URL object.

         # Names of all cookies found
         say $_-&gt;name for @{$jar-&gt;find(Mojo::URL-&gt;new('<a href="http://example.com/foo">http://example.com/foo</a>'))};

   <b>load</b>
         $jar = $jar-&gt;load;

       Load cookies from "file". Note that this method is <b>EXPERIMENTAL</b> and might change without warning!

   <b>prepare</b>
         $jar-&gt;prepare(Mojo::Transaction::HTTP-&gt;new);

       Prepare request cookies for transaction.

   <b>save</b>
         $jar = $jar-&gt;save;

       Save cookies to "file". Note that this method is <b>EXPERIMENTAL</b> and might change without warning!

   <b>to_string</b>
         my $string = $jar-&gt;to_string;

       Stringify cookies in Netscape format. Note that this method is <b>EXPERIMENTAL</b> and might change without
       warning!

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mojolicious, Mojolicious::Guides, &lt;https://mojolicious.org&gt;.

perl v5.40.0                                       2024-12-07                    <u>Mojo::UserAgent::<a href="../man3pm/CookieJar.3pm.html">CookieJar</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>