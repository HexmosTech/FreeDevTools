<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mojo::Headers - HTTP headers</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmojolicious-perl">libmojolicious-perl_9.39+dfsg-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mojo::Headers - HTTP headers

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Mojo::Headers;

         # Parse
         my $headers = Mojo::Headers-&gt;new;
         $headers-&gt;parse("Content-Length: 42\x0d\x0a");
         $headers-&gt;parse("Content-Type: text/html\x0d\x0a\x0d\x0a");
         say $headers-&gt;content_length;
         say $headers-&gt;content_type;

         # Build
         my $headers = Mojo::Headers-&gt;new;
         $headers-&gt;<a href="../man42/content_length.42.html">content_length</a>(42);
         $headers-&gt;content_type('text/plain');
         say $headers-&gt;to_string;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Mojo::Headers is a container for HTTP headers, based on RFC 7230 &lt;https://tools.ietf.org/html/rfc7230&gt;
       and RFC 7231 &lt;https://tools.ietf.org/html/rfc7231&gt;.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       Mojo::Headers implements the following attributes.

   <b>max_line_size</b>
         my $size = $headers-&gt;max_line_size;
         $headers = $headers-&gt;<a href="../man1024/max_line_size.1024.html">max_line_size</a>(1024);

       Maximum header line size in bytes, defaults to the value of the "MOJO_MAX_LINE_SIZE" environment variable
       or 8192 (8KiB).

   <b>max_lines</b>
         my $num  = $headers-&gt;max_lines;
         $headers = $headers-&gt;<a href="../man200/max_lines.200.html">max_lines</a>(200);

       Maximum number of header lines, defaults to the value of the "MOJO_MAX_LINES" environment variable or
       100.

</pre><h4><b>METHODS</b></h4><pre>
       Mojo::Headers inherits all methods from Mojo::Base and implements the following new ones.

   <b>add</b>
         $headers = $headers-&gt;add(Foo =&gt; 'one value');
         $headers = $headers-&gt;add(Foo =&gt; 'first value', 'second value');

       Add header with one or more lines.

         # "Vary: Accept
         #  Vary: Accept-Encoding"
         $headers-&gt;add(Vary =&gt; 'Accept')-&gt;add(Vary =&gt; 'Accept-Encoding')-&gt;to_string;

   <b>append</b>
         $headers = $headers-&gt;append(Vary =&gt; 'Accept-Encoding');

       Append value to header and flatten it if necessary.

         # "Vary: Accept"
         $headers-&gt;append(Vary =&gt; 'Accept')-&gt;to_string;

         # "Vary: Accept, Accept-Encoding"
         $headers-&gt;vary('Accept')-&gt;append(Vary =&gt; 'Accept-Encoding')-&gt;to_string;

   <b>clone</b>
         my $clone = $headers-&gt;clone;

       Return a new Mojo::Headers object cloned from these headers.

   <b>dehop</b>
         $headers = $headers-&gt;dehop;

       Remove hop-by-hop headers that should not be retransmitted.

   <b>every_header</b>
         my $all = $headers-&gt;every_header('Location');

       Similar to "header", but returns all headers sharing the same name as an array reference.

         # Get first header value
         say $headers-&gt;every_header('Location')-&gt;[0];

   <b>from_hash</b>
         $headers = $headers-&gt;from_hash({'Cookie' =&gt; 'a=b'});
         $headers = $headers-&gt;from_hash({'Cookie' =&gt; ['a=b', 'c=d']});
         $headers = $headers-&gt;from_hash({});

       Parse headers from a hash reference, an empty hash removes all headers.

   <b>header</b>
         my $value = $headers-&gt;header('Foo');
         $headers  = $headers-&gt;header(Foo =&gt; 'one value');
         $headers  = $headers-&gt;header(Foo =&gt; 'first value', 'second value');

       Get or replace the current header values.

   <b>is_finished</b>
         my $bool = $headers-&gt;is_finished;

       Check if header parser is finished.

   <b>is_limit_exceeded</b>
         my $bool = $headers-&gt;is_limit_exceeded;

       Check if headers have exceeded "max_line_size" or "max_lines".

   <b>leftovers</b>
         my $bytes = $headers-&gt;leftovers;

       Get and remove leftover data from header parser.

   <b>names</b>
         my $names = $headers-&gt;names;

       Return an array reference with all currently defined headers.

         # Names of all headers
         say for @{$headers-&gt;names};

   <b>parse</b>
         $headers = $headers-&gt;parse("Content-Type: text/plain\x0d\x0a\x0d\x0a");

       Parse formatted headers.

   <b>remove</b>
         $headers = $headers-&gt;remove('Foo');

       Remove a header.

   <b>to_hash</b>
         my $single = $headers-&gt;to_hash;
         my $multi  = $headers-&gt;<a href="../man1/to_hash.1.html">to_hash</a>(1);

       Turn headers into hash reference, array references to represent multiple headers with the same name are
       disabled by default.

         say $headers-&gt;to_hash-&gt;{DNT};

   <b>to_string</b>
         my $str = $headers-&gt;to_string;

       Turn headers into a string, suitable for HTTP messages.

</pre><h4><b>ADDITIONAL</b> <b>METHODS</b></h4><pre>
       Additionally, the following shortcuts are available, for accessing and manipulating commonly-used
       headers:

   <b>accept</b>
         my $accept = $headers-&gt;accept;
         $headers   = $headers-&gt;accept('application/json');

       Get or replace current header value, shortcut for the "Accept" header.

   <b>accept_charset</b>
         my $charset = $headers-&gt;accept_charset;
         $headers    = $headers-&gt;accept_charset('UTF-8');

       Get or replace current header value, shortcut for the "Accept-Charset" header.

   <b>accept_encoding</b>
         my $encoding = $headers-&gt;accept_encoding;
         $headers     = $headers-&gt;accept_encoding('gzip');

       Get or replace current header value, shortcut for the "Accept-Encoding" header.

   <b>accept_language</b>
         my $language = $headers-&gt;accept_language;
         $headers     = $headers-&gt;accept_language('de, en');

       Get or replace current header value, shortcut for the "Accept-Language" header.

   <b>accept_ranges</b>
         my $ranges = $headers-&gt;accept_ranges;
         $headers   = $headers-&gt;accept_ranges('bytes');

       Get or replace current header value, shortcut for the "Accept-Ranges" header.

   <b>access_control_allow_origin</b>
         my $origin = $headers-&gt;access_control_allow_origin;
         $headers   = $headers-&gt;access_control_allow_origin('*');

       Get or replace current header value, shortcut for the "Access-Control-Allow-Origin" header from Cross-
       Origin Resource Sharing &lt;https://www.w3.org/TR/cors/&gt;.

   <b>allow</b>
         my $allow = $headers-&gt;allow;
         $headers  = $headers-&gt;allow('GET, POST');

       Get or replace current header value, shortcut for the "Allow" header.

   <b>authorization</b>
         my $authorization = $headers-&gt;authorization;
         $headers          = $headers-&gt;authorization('Basic Zm9vOmJhcg==');

       Get or replace current header value, shortcut for the "Authorization" header.

   <b>cache_control</b>
         my $cache_control = $headers-&gt;cache_control;
         $headers          = $headers-&gt;cache_control('max-age=1, no-cache');

       Get or replace current header value, shortcut for the "Cache-Control" header.

   <b>connection</b>
         my $connection = $headers-&gt;connection;
         $headers       = $headers-&gt;connection('close');

       Get or replace current header value, shortcut for the "Connection" header.

   <b>content_disposition</b>
         my $disposition = $headers-&gt;content_disposition;
         $headers        = $headers-&gt;content_disposition('foo');

       Get or replace current header value, shortcut for the "Content-Disposition" header.

   <b>content_encoding</b>
         my $encoding = $headers-&gt;content_encoding;
         $headers     = $headers-&gt;content_encoding('gzip');

       Get or replace current header value, shortcut for the "Content-Encoding" header.

   <b>content_language</b>
         my $language = $headers-&gt;content_language;
         $headers     = $headers-&gt;content_language('en');

       Get or replace current header value, shortcut for the "Content-Language" header.

   <b>content_length</b>
         my $len  = $headers-&gt;content_length;
         $headers = $headers-&gt;<a href="../man4000/content_length.4000.html">content_length</a>(4000);

       Get or replace current header value, shortcut for the "Content-Length" header.

   <b>content_location</b>
         my $location = $headers-&gt;content_location;
         $headers     = $headers-&gt;content_location('<a href="http://127.0.0.1/foo">http://127.0.0.1/foo</a>');

       Get or replace current header value, shortcut for the "Content-Location" header.

   <b>content_range</b>
         my $range = $headers-&gt;content_range;
         $headers  = $headers-&gt;content_range('bytes 2-8/100');

       Get or replace current header value, shortcut for the "Content-Range" header.

   <b>content_security_policy</b>
         my $policy = $headers-&gt;content_security_policy;
         $headers   = $headers-&gt;content_security_policy('default-src https:');

       Get or replace current header value, shortcut for the "Content-Security-Policy" header from Content
       Security Policy 1.0 &lt;https://www.w3.org/TR/CSP/&gt;.

   <b>content_type</b>
         my $type = $headers-&gt;content_type;
         $headers = $headers-&gt;content_type('text/plain');

       Get or replace current header value, shortcut for the "Content-Type" header.

   <b>cookie</b>
         my $cookie = $headers-&gt;cookie;
         $headers   = $headers-&gt;cookie('f=b');

       Get or replace current header value, shortcut for the "Cookie" header from RFC 6265
       &lt;https://tools.ietf.org/html/rfc6265&gt;.

   <b>date</b>
         my $date = $headers-&gt;date;
         $headers = $headers-&gt;date('Sun, 17 Aug 2008 16:27:35 GMT');

       Get or replace current header value, shortcut for the "Date" header.

   <b>dnt</b>
         my $dnt  = $headers-&gt;dnt;
         $headers = $headers-&gt;<a href="../man1/dnt.1.html">dnt</a>(1);

       Get or replace current header value, shortcut for the "DNT" (Do Not Track) header, which has no
       specification yet, but is very commonly used.

   <b>etag</b>
         my $etag = $headers-&gt;etag;
         $headers = $headers-&gt;etag('"abc321"');

       Get or replace current header value, shortcut for the "ETag" header.

   <b>expect</b>
         my $expect = $headers-&gt;expect;
         $headers   = $headers-&gt;expect('100-continue');

       Get or replace current header value, shortcut for the "Expect" header.

   <b>expires</b>
         my $expires = $headers-&gt;expires;
         $headers    = $headers-&gt;expires('Thu, 01 Dec 1994 16:00:00 GMT');

       Get or replace current header value, shortcut for the "Expires" header.

   <b>host</b>
         my $host = $headers-&gt;host;
         $headers = $headers-&gt;host('127.0.0.1');

       Get or replace current header value, shortcut for the "Host" header.

   <b>if_modified_since</b>
         my $date = $headers-&gt;if_modified_since;
         $headers = $headers-&gt;if_modified_since('Sun, 17 Aug 2008 16:27:35 GMT');

       Get or replace current header value, shortcut for the "If-Modified-Since" header.

   <b>if_none_match</b>
         my $etag = $headers-&gt;if_none_match;
         $headers = $headers-&gt;if_none_match('"abc321"');

       Get or replace current header value, shortcut for the "If-None-Match" header.

   <b>last_modified</b>
         my $date = $headers-&gt;last_modified;
         $headers = $headers-&gt;last_modified('Sun, 17 Aug 2008 16:27:35 GMT');

       Get or replace current header value, shortcut for the "Last-Modified" header.

   <b>link</b>
         my $link = $headers-&gt;link;
         $headers = $headers-&gt;link('&lt;<a href="http://127.0.0.1/foo/3">http://127.0.0.1/foo/3</a>&gt;; rel="next"');

       Get or replace current header value, shortcut for the "Link" header from RFC 5988
       &lt;https://tools.ietf.org/html/rfc5988&gt;.

   <b>links</b>
         my $links = $headers-&gt;links;
         $headers  = $headers-&gt;links({next =&gt; '<a href="http://example.com/foo">http://example.com/foo</a>', prev =&gt; '<a href="http://example.com/bar">http://example.com/bar</a>'});

       Get or set web links from or to "Link" header according to RFC 5988 &lt;<a href="http://tools.ietf.org/html/rfc5988">http://tools.ietf.org/html/rfc5988</a>&gt;.

         # Extract information about next page
         say $headers-&gt;links-&gt;{next}{link};
         say $headers-&gt;links-&gt;{next}{title};

   <b>location</b>
         my $location = $headers-&gt;location;
         $headers     = $headers-&gt;location('<a href="http://127.0.0.1/foo">http://127.0.0.1/foo</a>');

       Get or replace current header value, shortcut for the "Location" header.

   <b>origin</b>
         my $origin = $headers-&gt;origin;
         $headers   = $headers-&gt;origin('<a href="http://example.com">http://example.com</a>');

       Get or replace current header value, shortcut for the "Origin" header from RFC 6454
       &lt;https://tools.ietf.org/html/rfc6454&gt;.

   <b>proxy_authenticate</b>
         my $authenticate = $headers-&gt;proxy_authenticate;
         $headers         = $headers-&gt;proxy_authenticate('Basic "realm"');

       Get or replace current header value, shortcut for the "Proxy-Authenticate" header.

   <b>proxy_authorization</b>
         my $authorization = $headers-&gt;proxy_authorization;
         $headers          = $headers-&gt;proxy_authorization('Basic Zm9vOmJhcg==');

       Get or replace current header value, shortcut for the "Proxy-Authorization" header.

   <b>range</b>
         my $range = $headers-&gt;range;
         $headers  = $headers-&gt;range('bytes=2-8');

       Get or replace current header value, shortcut for the "Range" header.

   <b>referer</b>
         my $referrer = $headers-&gt;referer;
         $headers     = $headers-&gt;referer('<a href="http://example.com">http://example.com</a>');

       Alias for "referrer".

   <b>referrer</b>
         my $referrer = $headers-&gt;referrer;
         $headers     = $headers-&gt;referrer('<a href="http://example.com">http://example.com</a>');

       Get or replace current header value, shortcut for the "Referer" header, there was a typo in RFC 2068
       &lt;https://tools.ietf.org/html/rfc2068&gt; which resulted in "Referer" becoming an official header.

   <b>sec_websocket_accept</b>
         my $accept = $headers-&gt;sec_websocket_accept;
         $headers   = $headers-&gt;sec_websocket_accept('s3pPLMBiTxaQ9kYGzzhZRbK+xOo=');

       Get or replace current header value, shortcut for the "Sec-WebSocket-Accept" header from RFC 6455
       &lt;https://tools.ietf.org/html/rfc6455&gt;.

   <b>sec_websocket_extensions</b>
         my $extensions = $headers-&gt;sec_websocket_extensions;
         $headers       = $headers-&gt;sec_websocket_extensions('foo');

       Get or replace current header value, shortcut for the "Sec-WebSocket-Extensions" header from RFC 6455
       &lt;https://tools.ietf.org/html/rfc6455&gt;.

   <b>sec_websocket_key</b>
         my $key  = $headers-&gt;sec_websocket_key;
         $headers = $headers-&gt;sec_websocket_key('dGhlIHNhbXBsZSBub25jZQ==');

       Get or replace current header value, shortcut for the "Sec-WebSocket-Key" header from RFC 6455
       &lt;https://tools.ietf.org/html/rfc6455&gt;.

   <b>sec_websocket_protocol</b>
         my $proto = $headers-&gt;sec_websocket_protocol;
         $headers  = $headers-&gt;sec_websocket_protocol('sample');

       Get or replace current header value, shortcut for the "Sec-WebSocket-Protocol" header from RFC 6455
       &lt;https://tools.ietf.org/html/rfc6455&gt;.

   <b>sec_websocket_version</b>
         my $version = $headers-&gt;sec_websocket_version;
         $headers    = $headers-&gt;<a href="../man13/sec_websocket_version.13.html">sec_websocket_version</a>(13);

       Get or replace current header value, shortcut for the "Sec-WebSocket-Version" header from RFC 6455
       &lt;https://tools.ietf.org/html/rfc6455&gt;.

   <b>server</b>
         my $server = $headers-&gt;server;
         $headers   = $headers-&gt;server('Mojo');

       Get or replace current header value, shortcut for the "Server" header.

   <b>server_timing</b>
         my $timing = $headers-&gt;server_timing;
         $headers   = $headers-&gt;server_timing('app;desc=Mojolicious;dur=0.0001');

       Get or replace current header value, shortcut for the "Server-Timing" header from Server Timing
       &lt;https://www.w3.org/TR/server-timing/&gt;.

   <b>set_cookie</b>
         my $cookie = $headers-&gt;set_cookie;
         $headers   = $headers-&gt;set_cookie('f=b; path=/');

       Get or replace current header value, shortcut for the "Set-Cookie" header from RFC 6265
       &lt;https://tools.ietf.org/html/rfc6265&gt;.

   <b>status</b>
         my $status = $headers-&gt;status;
         $headers   = $headers-&gt;status('200 OK');

       Get or replace current header value, shortcut for the "Status" header from RFC 3875
       &lt;https://tools.ietf.org/html/rfc3875&gt;.

   <b>strict_transport_security</b>
         my $policy = $headers-&gt;strict_transport_security;
         $headers   = $headers-&gt;strict_transport_security('max-age=31536000');

       Get or replace current header value, shortcut for the "Strict-Transport-Security" header from RFC 6797
       &lt;https://tools.ietf.org/html/rfc6797&gt;.

   <b>te</b>
         my $te   = $headers-&gt;te;
         $headers = $headers-&gt;te('chunked');

       Get or replace current header value, shortcut for the "TE" header.

   <b>trailer</b>
         my $trailer = $headers-&gt;trailer;
         $headers    = $headers-&gt;trailer('X-Foo');

       Get or replace current header value, shortcut for the "Trailer" header.

   <b>transfer_encoding</b>
         my $encoding = $headers-&gt;transfer_encoding;
         $headers     = $headers-&gt;transfer_encoding('chunked');

       Get or replace current header value, shortcut for the "Transfer-Encoding" header.

   <b>upgrade</b>
         my $upgrade = $headers-&gt;upgrade;
         $headers    = $headers-&gt;upgrade('websocket');

       Get or replace current header value, shortcut for the "Upgrade" header.

   <b>user_agent</b>
         my $agent = $headers-&gt;user_agent;
         $headers  = $headers-&gt;user_agent('Mojo/1.0');

       Get or replace current header value, shortcut for the "User-Agent" header.

   <b>vary</b>
         my $vary = $headers-&gt;vary;
         $headers = $headers-&gt;vary('*');

       Get or replace current header value, shortcut for the "Vary" header.

   <b>www_authenticate</b>
         my $authenticate = $headers-&gt;www_authenticate;
         $headers         = $headers-&gt;www_authenticate('Basic realm="realm"');

       Get or replace current header value, shortcut for the "WWW-Authenticate" header.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mojolicious, Mojolicious::Guides, &lt;https://mojolicious.org&gt;.

perl v5.40.0                                       2024-12-07                                 <u>Mojo::<a href="../man3pm/Headers.3pm.html">Headers</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>