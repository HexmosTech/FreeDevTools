<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookbook - Examples of how to use Data::Serializer</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdata-serializer-perl">libdata-serializer-perl_0.65-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Cookbook - Examples of how to use Data::Serializer

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Data::Serializer::Cookbook</b> is a collection of solutions for using <b>Data::Serializer</b>.

</pre><h4><b>CONVENTIONS</b></h4><pre>
       Unless otherwise specified, all examples can be assumed to begin with:

         use Data::Serializer;

         my $serializer = Data::Serializer-&gt;new();

       Some examples will show different arguments to the <b>new</b> method, where specified simply use that line
       instead of the simple form above.

</pre><h4><b>CONVENTIONS</b> <b>for</b> <b>Raw</b> <b>Access</b></h4><pre>
       Fort hose who want a straight pass through to the underlying serializer, where nothing else is done (no
       encoding, encryption, compression, etc) there is <b>Data::Serializer::<a href="../man3/Raw.3.html">Raw</a></b>(3).

       These begin like this:

         use Data::Serializer::Raw;

         my $raw_serializer = Data::Serializer::Raw-&gt;new();

</pre><h4><b>Encrypting</b> <b>your</b> <b>data</b></h4><pre>
       You wish to encrypt your data structure, so that it can only be decoded by someone who shares the same
       key.

   <b>Solution</b>
         $serializer-&gt;secret('mysecret');

         my $encrypted_hashref = $serializer-&gt;serializer($hash);

         ... (in other program) ...

         $serializer-&gt;secret('mysecret');

         my $clear_hash = $serializer-&gt;deserializer($encrypted_hash);

       Note:  You will have to have the Crypt::CBC module installed for this to work.

</pre><h4><b>Compressing</b> <b>your</b> <b>data</b></h4><pre>
       You wish to compress your data structure to cut down on how much disk space it will take up.

   <b>Solution</b>
         $serializer-&gt;<a href="../man1/compress.1.html">compress</a>(1);

         my $compressed_hashref = $serializer-&gt;serializer($hash);

         ... (in other program) ...

         my $clear_hash = $serializer-&gt;deserializer($compressed_hash);

       Note:  You will have to have the Compress::Zlib module installed for this to work.  Your mileage will
       vary dramatically depending on what serializer you use.  Some serializers are already fairly compact.

</pre><h4><b>You</b> <b>want</b> <b>to</b> <b>read</b> <b>in</b> <b>data</b> <b>serialized</b> <b>outside</b> <b>of</b> <b>Data::Serializer</b></h4><pre>
       You need to write a program that can read in data serialized in a format other than Data::Serializer.
       For example you need to be able to be able to process data serialized by XML::Dumper.

   <b>Solution</b>
         use Data::Serializer::Raw;

         my $xml_raw_serializer = Data::Serializer::Raw-&gt;(serializer =&gt; 'XML::Dumper');

         my $hash_ref = $xml_raw_serializer-&gt;deserialize($xml_data);

</pre><h4><b>You</b> <b>want</b> <b>to</b> <b>write</b> <b>serialized</b> <b>data</b> <b>in</b> <b>a</b> <b>form</b> <b>understood</b> <b>outside</b> <b>of</b> <b>Data::Serializer</b></h4><pre>
       You need to write a program that can write out data in a format other than Data::Serializer.  Or said
       more generically you need to write out data in the format native to the underlying serializer.  For our
       example we will be exporting data using XML::Dumper format.

   <b>Solution</b>
         ues Data::Serializer::Raw;

         my $xml_raw_serializer = Data::Serializer::Raw-&gt;(serializer =&gt; 'XML::Dumper');

         my $xml_data = $xml_raw_serializer-&gt;serialize($hash_ref);

</pre><h4><b>You</b> <b>want</b> <b>to</b> <b>convert</b> <b>data</b> <b>between</b> <b>two</b> <b>different</b> <b>serializers</b> <b>native</b> <b>formats</b></h4><pre>
       You have data serialized by php that you want to convert to xml for use by other programs.

   <b>Solution</b>
         use Data::Serializer::Raw;

         my $xml_raw_serializer = Data::Serializer::Raw-&gt;(serializer =&gt; 'XML::Dumper');

         my $php_raw_serializer = Data::Serializer::Raw-&gt;(serializer =&gt; 'PHP::Serialization');

         my $hash_ref = $php_raw_serializer-&gt;deserialize($php_data);

         my $xml_data = $xml_raw_serializer-&gt;serialize($hash_ref);

</pre><h4><b>Keeping</b> <b>data</b> <b>persistent</b> <b>between</b> <b>executions</b> <b>of</b> <b>a</b> <b>program.</b></h4><pre>
       You have a program that you run every 10 minutes, it uses SNMP to pull some counters from one of your
       routers.  You want your program to keep the counters from the last run so that it can see how much
       traffic has passed over a link since it last ran.

   <b>Solution</b>
         # path to store our serialized data
         # be paranoid, use full paths
         my $last_run_datafile = '/full/path/to/file/lastrun.data';

         #We keep our data as a hash reference
         my $last_data = $serializer-&gt;retrieve($last_run_datafile);

         #Pull in our new data through 'pull_data()';
         my $new_data = query_router($router);

         #run comparison code
         run_comparison($last_data,$new_data);

         $serializer-&gt;store($new_data);

</pre><h4><b>AUTHOR</b></h4><pre>
       Neil Neely &lt;<u><a href="mailto:neil@neely.cx">neil@neely.cx</a></u>&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2001-2011 Neil Neely.  All rights reserved.

       This program is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>Data::<a href="../man3/Serializer.3.html">Serializer</a></b>(3)
       <b>Data::Serializer::<a href="../man3/Raw.3.html">Raw</a></b>(3)

perl v5.36.0                                       2022-10-22                    <u>Data::Serializer::<a href="../man3pm/Cookbook.3pm.html">Cookbook</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>