<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ct_suite - -behaviour(ct_suite).</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/erlang-manpages">erlang-manpages_24.2.1+dfsg-1ubuntu0.5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ct_suite - -behaviour(ct_suite).

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  following  section  describes the mandatory and optional test suite functions that <u>Common</u> <u>Test</u> calls
       during test execution. For more details, see section Writing Test Suites in the User's Guide.

</pre><h4><b>DATA</b> <b>TYPES</b></h4><pre>
       <b>ct_testname()</b> = atom()

              The name of the testcase function.

       <b>ct_groupname()</b> = atom()

              The name of the test group.

       <b>ct_config()</b> = [{Key :: atom(), Value :: term()}]

              The configuration data that can be modified.

       <b>ct_status()</b> = ok | skipped | failed

              The status value for a nested subgroup.

       <b>ct_group_def()</b>

              The test group definition, as returned by <u>Module:groups/0</u>.

       <b>ct_test_def()</b>

              The test suite definition, as returned by <u>Module:all/0</u>.

       <b>ct_info()</b>

              The test suite information, as returned by <u>Module:suite/0</u>, <u>Module:group/1</u> and <u>Module:Testcase/0</u>.

</pre><h4><b>CALLBACK</b> <b>FUNCTIONS</b></h4><pre>
       The following functions are to be exported from a  <u>ct_suite</u>  callback  module  in  order  to  define  the
       callback interface for a test suite.

</pre><h4><b>EXPORTS</b></h4><pre>
       <b>Module:all()</b> <b>-&gt;</b> <b>[ct_test_def()]</b> <b>|</b> <b>{skip,</b> <b>Reason}</b>

              Types:

                 ct_test_def()  =  TestCase  |  {group,  GroupName}  |  {group, GroupName, Properties} | {group,
                 GroupName, Properties, SubGroups}
                 TestCase = ct_testname()
                 GroupName = ct_groupname()
                 Properties = [parallel | sequence | Shuffle | {RepeatType, N}] | default
                 SubGroups = [{GroupName, Properties} | {GroupName, Properties, SubGroups}]
                 Shuffle = shuffle | {shuffle, Seed}
                 Seed = {integer(), integer(), integer()}
                 RepeatType = repeat |  repeat_until_all_ok  |  repeat_until_all_fail  |  repeat_until_any_ok  |
                 repeat_until_any_fail
                 N = integer() | forever
                 Reason = term()

              MANDATORY

              Returns  the  list of all test cases and test case groups in the test suite module to be executed.
              This list also specifies the order the cases and groups are executed by <u>Common</u> <u>Test</u>. A  test  case
              is represented by an atom, the name of the test case function, or a <u>testcase</u> tuple indicating that
              the  test  case  shall  be  repeated.  A  test  case  group is represented by a <u>group</u> tuple, where
              <u>GroupName</u>, an atom, is the name of the group (defined in  <u>Module:groups/0</u>).  Execution  properties
              for  groups  can also be specified, both for a top-level group and for any of its subgroups. Group
              execution  properties  specified  here  override  properties  in   the   group   definition   (see
              <u>Module:groups/0</u>). (With value <u>default</u>, the group definition properties are used).

              If  <u>{skip,</u>  <u>Reason}</u> is returned, all test cases in the module are skipped and <u>Reason</u> is printed on
              the HTML result page.

              For details on groups, see section Test Case Groups in the User's Guide.

       <b>Module:groups()</b> <b>-&gt;</b> <b>[ct_group_def()]</b>

              Types:

                 ct_group_def() = {GroupName, Properties, GroupsAndTestCases}
                 GroupName = ct_groupname()
                 Properties = [parallel | sequence | Shuffle | {RepeatType, N}]
                 GroupsAndTestCases = [Group | {group, GroupName} | TestCase]
                 TestCase = ct_testname()
                 Shuffle = shuffle | {shuffle, Seed}
                 Seed = {integer(), integer(), integer()}
                 RepeatType = repeat |  repeat_until_all_ok  |  repeat_until_all_fail  |  repeat_until_any_ok  |
                 repeat_until_any_fail
                 N = integer() | forever

              OPTIONAL

              Defines test case groups. For details, see section Test Case Groups in the User's Guide.

       <b>Module:suite()</b> <b>-&gt;</b> <b>[ct_info()]</b>

              Types:

                 ct_info()  =  {timetrap,  Time}  | {require, Required} | {require, Name, Required} | {userdata,
                 UserData} | {silent_connections, Conns} | {stylesheet, CSSFile} | {ct_hooks, CTHs}
                 Time = TimeVal | TimeFunc
                 TimeVal = MilliSec | {seconds, integer()} | {minutes, integer()} | {hours, integer()}
                 TimeFunc = {Mod, Func, Args} | Fun
                 MilliSec = integer()
                 Mod = atom()
                 Func = atom()
                 Args = list()
                 Fun = fun()
                 Required = Key | {Key, SubKeys} | {Key, SubKey} | {Key, SubKey, SubKeys}
                 Key = atom()
                 SubKeys = SubKey | [SubKey]
                 SubKey = atom()
                 Name = atom()
                 UserData = term()
                 Conns = [atom()]
                 CSSFile = string()
                 CTHs = [CTHModule |
                  {CTHModule, CTHInitArgs} |
                  {CTHModule, CTHInitArgs, CTHPriority}]
                 CTHModule = atom()
                 CTHInitArgs = term()
                 CTHPriority = integer()

              OPTIONAL

              The test suite information function. Returns a list of tagged tuples specifying various properties
              related to the execution of this test suite (common for all test cases in the suite).

              Tag <u>timetrap</u> sets the  maximum  time  that  each  test  case  is  allowed  to  execute  (including
              <u>Module:init_per_testcase/2</u>  and  <u>Module:end_per_testcase/2</u>). If the timetrap time is exceeded, the
              test case fails with reason <u>timetrap_timeout</u>. A <u>TimeFunc</u>  function  can  be  used  to  set  a  new
              timetrap  by  returning  a <u>TimeVal</u>. It can also be used to trigger a timetrap time-out by, at some
              point, returning a value other than a <u>TimeVal</u>. For details, see section Timetrap Time-Outs in  the
              User's Guide.

              Tag  <u>require</u> specifies configuration variables required by test cases (or configuration functions)
              in the suite. If the required configuration variables are not found in any  of  the  configuration
              files,  all  test  cases  are  skipped.  For  details about the <u>require</u> functionality, see funtion
              <u>ct:require/1,2</u>.

              With <u>userdata</u>, the user can specify any test suite-related  information,  which  can  be  read  by
              calling <u>ct:userdata/2</u>.

              Tag <u>ct_hooks</u> specifies the Common Test Hooks to be run with this suite.

              Other tuples than the ones defined are ignored.

              For details about the test suite information function, see section Test Suite Information Function
              in the User's Guide.

       <b>Module:init_per_suite(Config)</b> <b>-&gt;</b> <b>NewConfig</b> <b>|</b> <b>{skip,</b> <b>Reason}</b> <b>|</b> <b>{skip_and_save,</b> <b>Reason,</b> <b>SaveConfig}</b>

              Types:

                 Config = NewConfig = SaveConfig = ct_config()
                 Reason = term()

              OPTIONAL; if this function is defined, then <u>Module:end_per_suite/1</u> must also be defined.

              This  configuration  function  is called as the first function in the suite. It typically contains
              initializations that are common for all test cases in the suite, and that must only be done  once.
              Parameter  <u>Config</u>  is  the configuration data that can be modified. Whatever is returned from this
              function is specified as <u>Config</u> to all configuration functions and test cases in the suite.

              If <u>{skip,</u> <u>Reason}</u> is returned, all test cases in the suite are skipped and <u>Reason</u>  is  printed  in
              the overview log for the suite.

              For  information  on  <u>save_config</u>  and <u>skip_and_save</u>, see section Saving Configuration Data in the
              User's Guide.

       <b>Module:end_per_suite(Config)</b> <b>-&gt;</b> <b>term()</b> <b>|</b> <b>{save_config,</b> <b>SaveConfig}</b>

              Types:

                 Config = SaveConfig = ct_config()

              OPTIONAL; if this function is defined, then <u>Module:init_per_suite/1</u> must also be defined.

              This function is called as the last test case in the suite. It is meant to be used for cleaning up
              after <u>Module:init_per_suite/1</u>.

              For information on <u>save_config</u>, see section Saving Configuration Data in the User's Guide.

       <b>Module:group(GroupName)</b> <b>-&gt;</b> <b>[ct_info()]</b>

              Types:

                 GroupName = ct_groupname()
                 ct_info() = {timetrap, Time} | {require, Required} | {require,  Name,  Required}  |  {userdata,
                 UserData} | {silent_connections, Conns} | {stylesheet, CSSFile} | {ct_hooks, CTHs}
                 Time = TimeVal | TimeFunc
                 TimeVal = MilliSec | {seconds, integer()} | {minutes, integer()} | {hours, integer()}
                 TimeFunc = {Mod, Func, Args} | Fun
                 MilliSec = integer()
                 Mod = atom()
                 Func = atom()
                 Args = list()
                 Fun = fun()
                 Required = Key | {Key, SubKeys} | {Key, SubKey} | {Key, SubKey, SubKeys}
                 Key = atom()
                 SubKeys = SubKey | [SubKey]
                 SubKey = atom()
                 Name = atom()
                 UserData = term()
                 Conns = [atom()]
                 CSSFile = string()
                 CTHs = [CTHModule |
                  {CTHModule, CTHInitArgs} |
                  {CTHModule, CTHInitArgs, CTHPriority}]
                 CTHModule = atom()
                 CTHInitArgs = term()
                 CTHPriority = integer()

              OPTIONAL

              The  test  case  group information function. It is supposed to return a list of tagged tuples that
              specify various properties related to the execution of a test case group (that is, its test  cases
              and  subgroups).  Properties set by <u>Module:group/1</u> override properties with the same key that have
              been set previously by <u>Module:suite/0</u>.

              Tag <u>timetrap</u> sets the  maximum  time  that  each  test  case  is  allowed  to  execute  (including
              <u>Module:init_per_testcase/2</u>  and  <u>Module:end_per_testcase/2</u>). If the timetrap time is exceeded, the
              test case fails with reason <u>timetrap_timeout</u>. A <u>TimeFunc</u>  function  can  be  used  to  set  a  new
              timetrap  by  returning  a <u>TimeVal</u>. It can also be used to trigger a timetrap time-out by, at some
              point, returning a value other than a <u>TimeVal</u>. For details, see section Timetrap Time-Outs in  the
              User's Guide.

              Tag  <u>require</u> specifies configuration variables required by test cases (or configuration functions)
              in the suite. If the required configuration variables are not found in any  of  the  configuration
              files,  all test cases in this group are skipped. For details about the <u>require</u> functionality, see
              function <u>ct:require/1,2</u>.

              With <u>userdata</u>, the user can specify any test case group related information that can  be  read  by
              calling <u>ct:userdata/2</u>.

              Tag <u>ct_hooks</u> specifies the Common Test Hooks to be run with this suite.

              Other tuples than the ones defined are ignored.

              For details about the test case group information function, see section Group Information Function
              in the User's Guide.

       <b>Module:init_per_group(GroupName,</b> <b>Config)</b> <b>-&gt;</b> <b>NewConfig</b> <b>|</b> <b>{skip,</b> <b>Reason}</b>

              Types:

                 GroupName = ct_groupname()
                 Config = NewConfig = ct_config()
                 Reason = term()

              OPTIONAL; if this function is defined, then <u>Module:end_per_group/2</u> must also be defined.

              This configuration function is called before execution of a test case group. It typically contains
              initializations  that are common for all test cases and subgroups in the group, and that must only
              be performed once. <u>GroupName</u> is the name of the group, as specified in the group  definition  (see
              <u>Module:groups/0</u>).  Parameter  <u>Config</u>  is  the  configuration data that can be modified. The return
              value of this function is given as <u>Config</u> to all test cases and subgroups in the group.

              If <u>{skip,</u> <u>Reason}</u> is returned, all test cases in the group are skipped and <u>Reason</u>  is  printed  in
              the overview log for the group.

              For information about test case groups, see section Test Case Groups in the User's Guide.

       <b>Module:end_per_group(GroupName,</b> <b>Config)</b> <b>-&gt;</b> <b>term()</b> <b>|</b> <b>{return_group_result,</b> <b>Status}</b>

              Types:

                 GroupName = ct_groupname()
                 Config = ct_config()
                 Status = ct_status()

              OPTIONAL; if this function is defined, then <u>Module:init_per_group/2</u> must also be defined.

              This  function  is  called after the execution of a test case group is finished. It is meant to be
              used for cleaning up after <u>Module:init_per_group/2</u>. A status value for a nested  subgroup  can  be
              returned with <u>{return_group_result,</u> <u>Status}</u>. The status can be retrieved in <u>Module:end_per_group/2</u>
              for the group on the level above. The status is also used by <u>Common</u> <u>Test</u> for deciding if execution
              of a group is to proceed if property <u>sequence</u> or <u>repeat_until_*</u> is set.

              For details about test case groups, see section Test Case Groups in the User's Guide.

       <b>Module:init_per_testcase(TestCase,</b> <b>Config)</b> <b>-&gt;</b> <b>NewConfig</b> <b>|</b> <b>{fail,</b> <b>Reason}</b> <b>|</b> <b>{skip,</b> <b>Reason}</b>

              Types:

                 TestCase = ct_testname()
                 Config = NewConfig = ct_config()
                 Reason = term()

              OPTIONAL; if this function is defined, then <u>Module:end_per_testcase/2</u> must also be defined.

              This function is called before each test case. Argument <u>TestCase</u> is the test case name, and <u>Config</u>
              (list  of  key-value  tuples)  is  the configuration data that can be modified. The <u>NewConfig</u> list
              returned from this function is given as <u>Config</u> to the test case. If <u>{fail,</u>  <u>Reason}</u>  is  returned,
              the test case is marked as failed without being executed.

              If  <u>{skip,</u> <u>Reason}</u> is returned, the test case is skipped and <u>Reason</u> is printed in the overview log
              for the suite.

       <b>Module:end_per_testcase(TestCase,</b> <b>Config)</b> <b>-&gt;</b> <b>term()</b> <b>|</b> <b>{fail,</b> <b>Reason}</b> <b>|</b> <b>{save_config,</b> <b>SaveConfig}</b>

              Types:

                 TestCase = ct_testname()
                 Config = SaveConfig = ct_config()
                 Reason = term()

              OPTIONAL; if this function is defined, then <u>Module:init_per_testcase/2</u> must also be defined.

              This  function  is  called  after  each  test  case,  and  can  be  used   to   clean   up   after
              <u>Module:init_per_testcase/2</u>  and  the  test  case.  Any  return  value  (besides <u>{fail,</u> <u>Reason}</u> and
              <u>{save_config,</u> <u>SaveConfig}</u>) is ignored. By returning <u>{fail,</u> <u>Reason}</u>, <u>TestCase</u> is marked  as  faulty
              (even though it was successful in the sense that it returned a value instead of terminating).

              For information on <u>save_config</u>, see section Saving Configuration Data in the User's Guide.

       <b>Module:Testcase()</b> <b>-&gt;</b> <b>[ct_info()]</b>

              Types:

                 ct_info()  =  {timetrap,  Time}  | {require, Required} | {require, Name, Required} | {userdata,
                 UserData} | {silent_connections, Conns} | {stylesheet, CSSFile} | {ct_hooks, CTHs}
                 Time = TimeVal | TimeFunc
                 TimeVal = MilliSec | {seconds, integer()} | {minutes, integer()} | {hours, integer()}
                 TimeFunc = {Mod, Func, Args} | Fun
                 MilliSec = integer()
                 Mod = atom()
                 Func = atom()
                 Args = list()
                 Fun = fun()
                 Required = Key | {Key, SubKeys} | {Key, SubKey} | {Key, SubKey, SubKeys}
                 Key = atom()
                 SubKeys = SubKey | [SubKey]
                 SubKey = atom()
                 Name = atom()
                 UserData = term()
                 Conns = [atom()]
                 CSSFile = string()
                 CTHs = [CTHModule |
                  {CTHModule, CTHInitArgs} |
                  {CTHModule, CTHInitArgs, CTHPriority}]
                 CTHModule = atom()
                 CTHInitArgs = term()
                 CTHPriority = integer()

              OPTIONAL

              The test case information function. It is supposed to return a list of tagged tuples that  specify
              various  properties  related  to  the  execution  of  this particular test case. Properties set by
              <u>Module:Testcase/0</u> override properties set previously  for  the  test  case  by  <u>Module:group/1</u>  or
              <u>Module:suite/0</u>.

              Tag  <u>timetrap</u> sets the maximum time that the test case is allowed to execute. If the timetrap time
              is exceeded, the test case fails  with  reason  <u>timetrap_timeout</u>.  <u>Module:init_per_testcase/2</u>  and
              <u>Module:end_per_testcase/2</u>  are  included  in the timetrap time. A <u>TimeFunc</u> function can be used to
              set a new timetrap by returning a <u>TimeVal</u>. It can also be used to trigger a timetrap time-out  by,
              at some point, returning a value other than a <u>TimeVal</u>. For details, see section Timetrap Time-Outs
              in the User's Guide.

              Tag   <u>require</u>   specifies  configuration  variables  that  are  required  by  the  test  case  (or
              <u>init_per_testcase/2</u> or <u>end_per_testcase/2</u>). If the required configuration variables are not  found
              in  any  of  the  configuration  files,  the  test  case is skipped. For details about the <u>require</u>
              functionality, see function <u>ct:require/1,2</u>.

              If  <u>timetrap</u>  or  <u>require</u>  is  not  set,  the  default  values  specified  by  <u>Module:suite/0</u>  (or
              <u>Module:group/1</u>) are used.

              With  <u>userdata</u>, the user can specify any test case-related information that can be read by calling
              <u>ct:userdata/3</u>.

              Other tuples than the ones defined are ignored.

              For details about the test case information function, see section Test Case  Information  Function
              in the User's Guide.

       <b>Module:Testcase(Config)</b>  <b>-&gt;</b>  <b>term()</b>  <b>|</b>  <b>{skip,</b> <b>Reason}</b> <b>|</b> <b>{comment,</b> <b>Comment}</b> <b>|</b> <b>{save_config,</b> <b>SaveConfig}</b> <b>|</b>
       <b>{skip_and_save,</b> <b>Reason,</b> <b>SaveConfig}</b> <b>|</b> <b>exit()</b>

              Types:

                 Config = SaveConfig = ct_config()
                 Reason = term()
                 Comment = string()

              MANDATORY

              The implementation of a test case. Call the functions to test and check the result.  If  something
              fails,  ensure the function causes a runtime error or call <u>ct:fail/1,2</u> (which also causes the test
              case process to terminate).

              Elements from the <u>Config</u> list can, for example, be read with <u>proplists:get_value/2</u> in  STDLIB  (or
              the macro <u>?config</u> defined in <u>ct.hrl</u>).

              If you decide not to run the test case after all, return <u>{skip,</u> <u>Reason}</u>. <u>Reason</u> is then printed in
              field <u>Comment</u> on the HTML result page.

              To print some information in field <u>Comment</u> on the HTML result page, return <u>{comment,</u> <u>Comment}</u>.

              If  the  function  returns anything else, the test case is considered successful. The return value
              always gets printed in the test case log file.

              For details about test case implementation, see section Test Cases in the User's Guide.

              For information on <u>save_config</u> and <u>skip_and_save</u>, see section Saving  Configuration  Data  in  the
              User's Guide.

Ericsson AB                                     common_test 1.22                                  <u><a href="../man3erl/ct_suite.3erl.html">ct_suite</a></u>(3erl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>