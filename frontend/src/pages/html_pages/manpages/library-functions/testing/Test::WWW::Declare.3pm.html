<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test::WWW::Declare - declarative testing for your web app</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtest-www-declare-perl">libtest-www-declare-perl_0.02-7_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Test::WWW::Declare - declarative testing for your web app

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Test::WWW::Declare tests =&gt; 3;
           use Your::Web::App::Test;

           Your::Web::App::Test-&gt;start_server;

           session 'testuser' =&gt; run {
               flow 'log in and out' =&gt; check {
                   flow 'log in' =&gt; check {
                       get '<a href="http://localhost/">http://localhost/</a>';
                       fill form 'login' =&gt; {
                           username =&gt; 'testuser',
                           password =&gt; 'drowssap',
                       };
                       content should contain 'log out';
                   };

                   flow 'log out' =&gt; check {
                       get '<a href="http://localhost/">http://localhost/</a>';
                       click href 'log out';
                   };
               };
           };

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Often in web apps, tests are very dependent on the state set up by previous tests. If one test fails
       (e.g. "follow the link to the admin page") then it's likely there will be many more failures. This module
       aims to alleviate this problem, as well as provide a nicer interface to Test::WWW::Mechanize.

       The central idea is that of "flow". Each flow is a sequence of commands ("fill in this form") and
       assertions ("content should contain 'testuser'"). If any of these commands or assertions fail then the
       flow is aborted. Only that one failure is reported to the test harness and user. Flows may also contain
       other flows. If an inner flow fails, then the outer flow fails as well.

</pre><h4><b>FLOWS</b> <b>AND</b> <b>SESSIONS</b></h4><pre>
   <b>session</b> <b>NAME</b> <b>=&gt;</b> <b>run</b> <b>{</b> <b>CODE</b> <b>}</b>
       Sessions are a way of associating a set of flows with a WWW::Mechanize instance. A session is mostly
       equivalent with a user interacting with your web app.

       Within a session, every command ("get", "click link", etc) is operating on that session's WWW::Mechanize
       instance. You may have multiple sessions in one test file. Two sessions with the same name are in fact
       the same session.  This lets you write code like the following, simplified slightly:

           session 'first user' =&gt; run {
               get "$URL/give?task=1&amp;victim=other";
               session 'other user' =&gt; run {
                   get "$URL/tasks";
                   content should match qr/task 1/;

                   # this is the same session/mech as the outermost 'first user'
                   session 'first user' =&gt; run {
                       get "$URL/tasks";
                       content shouldnt match qr/task 1/;
                   };
               };
           };

   <b>flow</b> <b>NAME</b> <b>=&gt;</b> <b>check</b> <b>{</b> <b>CODE</b> <b>}</b>
       A flow encompasses a single test. As described above, each flow is a sequence of commands, assertions,
       and other flows. If any of the components of a flow fail, the rest of the flow is aborted and one or more
       test failures are reported to the test harness.

</pre><h4><b>COMMANDS</b></h4><pre>
   <b>get</b> <b>URL</b>
   <b>click</b> <b>button</b>
   <b>click</b> <b>href</b>
   <b>follow_link</b>
   <b>fill</b> <b>form</b> <b>NAME</b> <b>=&gt;</b> <b>{FIELD1</b> <b>=&gt;</b> <b>VALUE1,</b> <b>FIELD2</b> <b>=&gt;</b> <b>VALUE2}</b>
</pre><h4><b>ASSERTIONS</b></h4><pre>
       Every assertion has two parts: a subject and a verb.

   <b>SUBJECTS</b>
       <u>content</u>

       <u>title</u>

       <u>url</u>

   <b>VERBS</b>
       <u>should(nt)</u> <u>(caselessly)</u> <u>match</u> <u>REGEX</u>

       <u>should(nt)</u> <u>(caselessly)</u> <u>contain</u> <u>STRING</u>

       <u>should(nt)</u> <u>(caselessly)</u> <u>lack</u> <u>STRING</u>

       <u>should(nt)</u> <u>(caselessly)</u> <u>equal</u> <u>STRING</u>

</pre><h4><b>SUBCLASSING</b></h4><pre>
       One of the goals of this module is to let you subclass it to provide extra features, such as
       automatically logging in a user each time a session is created.

</pre><h4><b>CAVEATS</b></h4><pre>
       If you fail any tests, then the actual number of tests run may be fewer than you have in your file. This
       is because when a flow fails, it immediately aborts the rest of its body (which may include other flows).
       So if you're setting the number of tests based on how many ran, make sure that all tests passed.

</pre><h4><b>BUGS</b></h4><pre>
       Hopefully few. We'd like to know about any of them. Please report them to
       "<a href="mailto:bug-test-www-declare@rt.cpan.org">bug-test-www-declare@rt.cpan.org</a>".

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Test::WWW::Mechanize, Jifty.

</pre><h4><b>MAINTAINER</b></h4><pre>
       Shawn M Moore "&lt;<a href="mailto:sartak@bestpractical.com">sartak@bestpractical.com</a>&gt;"

</pre><h4><b>ORIGINAL</b> <b>AUTHOR</b></h4><pre>
       Jesse Vincent "&lt;<a href="mailto:jesse@bestpractical.com">jesse@bestpractical.com</a>&gt;"

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2007-2008 Best Practical Solutions, LLC

       This program is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.36.0                                       2022-12-28                            <u>Test::WWW::<a href="../man3pm/Declare.3pm.html">Declare</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>