<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test::Block - DEPRECIATED: Specify fine granularity test plans</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtest-block-perl">libtest-block-perl_0.13-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Test::Block - DEPRECIATED: Specify fine granularity test plans

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Test::More 'no_plan';
         use Test::Block qw($Plan);

         {
             # This block should run exactly two tests
             local $Plan = 2;
             pass 'first test';
             # oops. forgot second test
         };

         SKIP: {
             local $Plan = 3;
             pass('first test in second block');
             skip "skip remaining tests" =&gt; $Plan;
         };

         ok( Test::Block-&gt;all_in_block, 'all test run in blocks' );
         is( Test::Block-&gt;block_count, 2, 'two blocks ran' );

         # This produces...

         ok 1 - first test
         not ok 2 - block expected 2 test(s) and ran 1
         #     Failed test (foo.pl at line 6)
         ok 3 - first test in second block
         ok 4 # skip skip remaining tests
         ok 5 # skip skip remaining tests
         ok 6 - all test run in blocks
         ok 7 - two blocks ran
         1..7
         # Looks like you failed 1 tests of 7.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>NOTE:</b> <b>This</b> <b>module</b> <b>was</b> <b>written</b> <b>before</b> <b>subtests</b> <b>existed</b> <b>in</b> <b>TAP</b> <b>and</b> <b>Test::More.</b> <b>These</b> <b>days</b> <b>subtests</b> <b>will</b>
       <b>probably</b> <b>be</b> <b>a</b> <b>better</b> <b>option</b> <b>for</b> <b>you.</b>

       This module allows you to specify the number of expected tests at a finer level of granularity than an
       entire test script. It is built with Test::Builder and plays happily with Test::More and friends.

       If you are not already familiar with Test::More now would be the time to go take a look.

   <b>Creating</b> <b>test</b> <b>blocks</b>
       Test::Block supplies a special variable $Plan that you can localize to specify the number of tests in a
       block like this:

           use Test::More 'no_plan';
           use Test::Block qw($Plan);

           {
               local $Plan = 2;
               pass('first test');
               pass('second test');
           };

   <b>What</b> <b>if</b> <b>the</b> <b>block</b> <b>runs</b> <b>a</b> <b>different</b> <b>number</b> <b>of</b> <b>tests?</b>
       If a block doesn't run the number of tests specified in $Plan then Test::Block will automatically produce
       a failing test. For example:

           {
               local $Plan = 2;
               pass('first test');
               # oops - forgot second test
           };

       will output

           ok 1 - first test
           not ok 2 - block 1 expected 2 test(s) and ran 1

   <b>Tracking</b> <b>the</b> <b>number</b> <b>of</b> <b>remaining</b> <b>tests</b>
       During the execution of a block $Plan will contain the number of remaining tests that are expected to run
       so:

           {
               local $Plan = 2;
               diag "$Plan tests to run";
               pass('first test');
               diag "$Plan tests to run";
               pass('second test');
               diag "$Plan tests to run";
           };

       will produce

           # 2 tests to run
           ok 1 - first test
           # 1 tests to run
           ok 2 - second test
           # 0 tests to run

       This can make skip blocks easier to write and maintain, for example:

           SKIP: {
               local $Plan = 5;
               pass('first test');
               pass('second test');
               skip "debug tests" =&gt; $Plan unless DEBUG &gt; 0;
               pass('third test');
               pass('fourth test');
               skip "high level debug tests" =&gt; $Plan unless DEBUG &gt; 2;
               pass('fifth test');
           };

   <b>Named</b> <b>blocks</b>
       To make debugging easier you can give your blocks an optional name like this:

           {
               local $Plan = { example =&gt; 2 };
               pass('first test');
               # oops - forgot second test
           };

       which would output

           ok 1 - first test
           not ok 2 - block example expected 2 test(s) and ran 1

   <b>Test::Block</b> <b>objects</b>
       The $Plan is implemented using a tied variable that stores and retrieves Test::Block objects. If you want
       to avoid the tied interface you can use Test::Block objects directly.

       <b>plan</b>
             # create a block expecting 4 tests
             my $block = Test::Block-&gt;<a href="../man4/plan.4.html">plan</a>(4);

             # create a named block with two tests
             my $block = Test::Block-&gt;plan('test name' =&gt; 2);

           You  create  Test::Block  objects  with  the "plan" method. When the object is destroyed it outputs a
           failing test if the expected number of tests have not run.

       <b>remaining</b>
           You can find out the number of remaining tests in the block by calling the "remaining" method on  the
           object.

           Test::Block objects overload "" and "0+" to return the result of the remaining method.

       <b>builder</b>
           Returns Test::Builder object used by Test::Block. For example:

             Test::Block-&gt;builder-&gt;skip('skip a test');

           See Test::Builder for more information.

       <b>block_count</b>
           A  class  method  that returns the number of blocks that have been created. You can use this to check
           that the expected number of blocks have run by doing something like:

             is( Test::Block-&gt;block_count, 5, 'five blocks run' );

           at the end of your test script.

       <b>all_in_block</b>
           Returns true if all tests so far run have been inside the scope of a Test::Block object.

             ok( Test::Block-&gt;all_in_block, 'all tests run in blocks' );

</pre><h4><b>BUGS</b></h4><pre>
       None known at the time of writing.

       If you find any please let me know by e-mail, or report the problem with &lt;<a href="http://rt.cpan.org/">http://rt.cpan.org/</a>&gt;.

</pre><h4><b>COMMUNITY</b></h4><pre>
       perl-qa
           If you are interested in testing using Perl I recommend you visit &lt;<a href="http://qa.perl.org/">http://qa.perl.org/</a>&gt; and join  the
           excellent  perl-qa mailing list. See &lt;<a href="http://lists.perl.org/showlist.cgi">http://lists.perl.org/showlist.cgi</a>?name=perl-qa&gt; for details on
           how to subscribe.

       perlmonks
           You can find users of Test::Block, including the module author, on  &lt;<a href="http://www.perlmonks.org/">http://www.perlmonks.org/</a>&gt;. Feel
           free to ask questions on Test::Block there.

       CPAN::Forum
           The CPAN Forum is a web forum for discussing Perl's CPAN modules.    The  Test::Block  forum  can  be
           found at &lt;<a href="http://www.cpanforum.com/dist/Test-Block">http://www.cpanforum.com/dist/Test-Block</a>&gt;.

       AnnoCPAN
           AnnoCPAN  is  a  web  site  that  allows  community  annotations  of  Perl  module documentation. The
           Test::Block annotations can be found at &lt;<a href="http://annocpan.org/~ADIE/Test-Block/">http://annocpan.org/~ADIE/Test-Block/</a>&gt;.

</pre><h4><b>TO</b> <b>DO</b></h4><pre>
       If you think this module should do something that it doesn't (or does something that it shouldn't) please
       let me know.

       You can see my current to do list at &lt;<a href="http://adrianh.tadalist.com/lists/public/15423">http://adrianh.tadalist.com/lists/public/15423</a>&gt;, with an  RSS  feed
       of changes at &lt;<a href="http://adrianh.tadalist.com/lists/feed_public/15423">http://adrianh.tadalist.com/lists/feed_public/15423</a>&gt;.

</pre><h4><b>ACKNOWLEDGMENTS</b></h4><pre>
       Thanks  to  chromatic  and  Michael  G Schwern for the excellent Test::Builder, without which this module
       wouldn't be possible.

       Thanks to Michael G Schwern and Tony Bowden for the mails on <a href="mailto:perl-qa@perl.org">perl-qa@perl.org</a> that sparked the  idea  for
       this  module.  Thanks  to  Fergal  Daly  for  suggesting  named  blocks.  Thanks to Michael G Schwern for
       suggesting $Plan. Thanks to Nadim Khemir for feedback and Andreas Koenig for spotting bugs.

</pre><h4><b>AUTHOR</b></h4><pre>
       Adrian Howard &lt;<a href="mailto:adrianh@quietstars.com">adrianh@quietstars.com</a>&gt;

       If you can spare the time, please drop me a line if you find this module useful.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Test::Group
           A framework for grouping related tests in a test suite

       Test::Class
           Test::Class is an xUnit testing framework for Perl. It allows you to group tests  into  methods  with
           independent test plans.

       Test::Builder
           Support module for building test libraries.

       Test::Simple &amp; Test::More
           Basic utilities for writing tests.

       &lt;<a href="http://qa.perl.org/test-modules.html">http://qa.perl.org/test-modules.html</a>&gt;
           Overview of some of the many testing modules available on CPAN.

</pre><h4><b>LICENCE</b></h4><pre>
       Copyright 2003-2006 Adrian Howard, All Rights Reserved.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.36.0                                       2022-12-07                                   <u>Test::<a href="../man3pm/Block.3pm.html">Block</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>