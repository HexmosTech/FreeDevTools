<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test::Mock::Guard - Simple mock test library using RAII.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtest-mock-guard-perl">libtest-mock-guard-perl_0.10-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Test::Mock::Guard - Simple mock test library using RAII.

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Test::More;
         use Test::Mock::Guard <a href="../manmock_guard/qw.mock_guard.html">qw</a>(mock_guard);

         package Some::Class;

         sub new { bless {} =&gt; shift }
         sub foo { "foo" }
         sub bar { 1; }

         package main;

         {
             my $guard = mock_guard( 'Some::Class', { foo =&gt; sub { "bar" }, bar =&gt; 10 } );
             my $obj = Some::Class-&gt;new;
             is( $obj-&gt;foo, "bar" );
             is( $obj-&gt;bar, 10 );
         }

         my $obj = Some::Class-&gt;new;
         is( $obj-&gt;foo, "foo" );
         is( $obj-&gt;bar, 1 );

         done_testing;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Test::Mock::Guard is mock test library using RAII.  This module is able to change method behavior by each
       scope. See SYNOPSIS's sample code.

</pre><h4><b>EXPORT</b> <b>FUNCTION</b></h4><pre>
   <b>mock_guard(</b> <b>@class_defs</b> <b>)</b>
       @class_defs have the following format.

       key Class name or object to mock.

       value
           Hash  reference.  Keys are method names; values are code references or scalars.  If the value is code
           reference, it is used as a method.  If the value is a scalar, the method will  return  the  specified
           value.

       You can mock instance methods as well as class methods (this feature was provided by cho45):

         use Test::More;
         use Test::Mock::Guard <a href="../manmock_guard/qw.mock_guard.html">qw</a>(mock_guard);

         package Some::Class;

         sub new { bless {} =&gt; shift }
         sub foo { "foo" }

         package main;

         my $obj1 = Some::Class-&gt;new;
         my $obj2 = Some::Class-&gt;new;

         {
             my $obj2 = Some::Class-&gt;new;
             my $guard = mock_guard( $obj2, { foo =&gt; sub { "bar" } } );
             is ($obj1-&gt;foo, "foo", "obj1 has not changed" );
             is( $obj2-&gt;foo, "bar", "obj2 is mocked" );
         }

         is( $obj1-&gt;foo, "foo", "obj1" );
         is( $obj2-&gt;foo, "foo", "obj2" );

         done_testing;

</pre><h4><b>METHODS</b></h4><pre>
   <b>new(</b> <b>@class_defs</b> <b>)</b>
       See "mock_guard" definition.

   <b>call_count(</b> <b>$class_name_or_object,</b> <b>$method_name</b> <b>)</b>
       Returns a number of calling of $method_name in $class_name_or_object.

</pre><h4><b>AUTHOR</b></h4><pre>
       Toru Yamaguchi &lt;<a href="mailto:zigorou@cpan.org">zigorou@cpan.org</a>&gt;

       Yuji Shimada &lt;xaicron at cpan.org&gt;

       Masaki Nakagawa &lt;<a href="mailto:masaki@cpan.org">masaki@cpan.org</a>&gt;

</pre><h4><b>THANKS</b> <b>TO</b></h4><pre>
       cho45 &lt;<a href="mailto:cho45@lowreal.net">cho45@lowreal.net</a>&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Test::MockObject

</pre><h4><b>LICENSE</b></h4><pre>
       This  library  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.36.0                                       2023-10-03                             <u>Test::Mock::<a href="../man3pm/Guard.3pm.html">Guard</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>