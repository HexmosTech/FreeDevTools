<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test::DistManifest - Author test that validates a package MANIFEST</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtest-distmanifest-perl">libtest-distmanifest-perl_1.014-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Test::DistManifest - Author test that validates a package MANIFEST

</pre><h4><b>VERSION</b></h4><pre>
       version 1.014

</pre><h4><b>SYNOPSIS</b></h4><pre>
       This is the common idiom for author test modules like this, but see the full example in
       examples/checkmanifest.t and, more importantly, Adam Kennedy's article:
       &lt;<a href="http://use.perl.org/use.perl.org/_Alias/journal/38822.html">http://use.perl.org/use.perl.org/_Alias/journal/38822.html</a>&gt;

         use Test::More;
         eval 'use Test::DistManifest';
         if ($@) {
           plan skip_all =&gt; 'Test::DistManifest required to test MANIFEST';
         }

         manifest_ok('MANIFEST', 'MANIFEST.SKIP'); # Default options

         manifest_ok(); # Functionally equivalent to above

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides a simple method of testing that a MANIFEST matches the distribution.

       It tests three things:

</pre><h4><b>EXPORTS</b></h4><pre>
       By default, this module exports the following functions:

       •   manifest_ok

       1.  Everything in <b>MANIFEST</b> exists

       2.  Everything in the package is listed in <b>MANIFEST</b>, or subsequently matches a regular expression mask in
           <b>MANIFEST.SKIP</b>

       3.  Nothing exists in <b>MANIFEST</b> that also matches a mask in <b>MANIFEST.SKIP</b>, so as to avoid an unsatisfiable
           dependency conditions

       If  there  is  no  <b>MANIFEST.SKIP</b>  included in your distribution, this module will replicate the toolchain
       behaviour of using the default system-wide MANIFEST.SKIP file. To view the contents of this file, use the
       command:

         $ perldoc -m ExtUtils::MANIFEST.SKIP

</pre><h4><b>FUNCTIONS</b></h4><pre>
   <b>manifest_ok</b>
         manifest_ok( $manifest, $skipfile )

       This subroutine checks the manifest list contained in $manifest by using "Module::Manifest" to  determine
       the list of files and then checking for the existence of all such files. Then, it checks if there are any
       files  in  the  distribution  that  were not specified in the $manifest file but do not match any regular
       expressions provided in the $skipfile exclusion file.

       If your MANIFEST file is generated by a module installation toolchain system such as ExtUtils::MakeMaker,
       Module::Build or Module::Install, then you shouldn't have any problems with  these  files.  It's  just  a
       helpful test to remind you to update these files, using:

         $ make manifest # For ExtUtils::MakeMaker
         $ ./Build manifest # For Module::Build

</pre><h4><b>NON-FATAL</b> <b>ERRORS</b></h4><pre>
       By  default,  errors  in  the  <b>MANIFEST</b>  or <b>MANIFEST.SKIP</b> files are treated as fatal, which really is the
       purpose of using "Test::DistManifest" as part of your author test suite.

       In some cases this is not desirable behaviour, such as with the Debian Perl Group, which runs all tests -
       including author tests - as part of its module packaging process. This wreaks havoc because  Debian  adds
       its  control  files  in  "debian/"  downstream,  and  that  directory  or  its files are generally not in
       <b>MANIFEST.SKIP</b>.

       By setting the environment variable <b>MANIFEST_WARN_ONLY</b> to a true value, errors will be non-fatal  -  they
       show up as diagnostic messages only, but all tests pass from the perspective of "Test::Harness".

       This can be used in a test script as:

         $ENV{MANIFEST_WARN_ONLY} = 1;

       or from other shell scripts as:

         export MANIFEST_WARN_ONLY=1

       Note  that  parsing  errors  in  <b>MANIFEST</b>  and circular dependencies will always be considered fatal. The
       author is not aware of any cases where other behaviour would be useful.

</pre><h4><b>GUTS</b></h4><pre>
       This module internally plans four tests:

       1.  <b>MANIFEST</b> can be parsed by "Module::Manifest"

       2.  Check which files exist in  the  distribution  directory  that  do  not  match  an  existing  regular
           expression  in  <b>MANIFEST.SKIP</b>  and  not  listed  in  the  <b>MANIFEST</b> file. These files should either be
           excluded from the test by addition of a mask in MANIFEST.SKIP (in the case of  temporary  development
           or test files) or should be included in the MANIFEST.

       3.  Check  which  files are specified in <b>MANIFEST</b> but do not exist on the disk.  This usually occurs when
           one deletes a test or similar script from the distribution, or accidentally moves it.

       4.  Check which files are specified in both <b>MANIFEST</b> and <b>MANIFEST.SKIP</b>.  This is clearly an unsatisfiable
           condition, since the file in question cannot be expected to be  included  while  also  simultaneously
           ignored.

       If  you  want  to  run  tests  on multiple different MANIFEST files, you can simply pass 'no_plan' to the
       import function, like so:

         use Test::DistManifest 'no_plan';

         # Multiple tests work properly now
         manifest_ok('MANIFEST', 'MANIFEST.SKIP');
         manifest_ok();
         manifest_ok('MANIFEST.OTHER', 'MANIFEST.SKIP');

       I doubt this will be useful to users of this module. However, this is used internally for testing and  it
       might  be  helpful  to  you.  You can also plan more tests, but keep in mind that the idea of "3 internal
       tests" may change in the future.

       Example code:

         use Test::DistManifest tests =&gt; 5;
         manifest_ok(); # 4 tests
         ok(1, 'is 1 true?');

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
       •   Thanks to Adam Kennedy for developing Module::Manifest, which provides much of the core functionality
           for these tests.

       •   Thanks to Apocalypse &lt;<a href="mailto:apocal@cpan.org">apocal@cpan.org</a>&gt;, for helping me track down an obscure bug caused  by  circular
           dependencies: when files are expected by MANIFEST but explicitly skipped by MANIFEST.SKIP.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       •   Test::CheckManifest, a module providing similar functionality

       •   Module::Manifest

       •   Dist::Zilla::Plugin::Test::DistManifest

       •   Test::Manifest

</pre><h4><b>CAVEATS</b></h4><pre>
       •   There is currently no way to test a MANIFEST/MANIFEST.SKIP without having the files actually exist on
           disk. I am planning for this to change in the future.

       •   This module has not been tested very thoroughly with Unicode.

       •   This module does not produce any useful diagnostic messages in terms of how to correct the situation.
           Hopefully  this  will  be  obvious for anybody using the module; the emphasis should be on generating
           helpful error messages.

</pre><h4><b>AUTHOR</b></h4><pre>
       Jonathan Yu &lt;<a href="mailto:jawnsy@cpan.org">jawnsy@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2008 by Jonathan Yu &lt;<a href="mailto:jawnsy@cpan.org">jawnsy@cpan.org</a>&gt;.

       This is free software; you can redistribute it and/or modify it under  the  same  terms  as  the  Perl  5
       programming language system itself.

</pre><h4><b>CONTRIBUTOR</b></h4><pre>
       Karen Etheridge &lt;<a href="mailto:ether@cpan.org">ether@cpan.org</a>&gt;

perl v5.34.0                                       2022-06-17                            <u>Test::<a href="../man3pm/DistManifest.3pm.html">DistManifest</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>