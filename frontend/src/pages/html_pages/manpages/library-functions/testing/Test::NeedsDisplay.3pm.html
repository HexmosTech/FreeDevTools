<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test::NeedsDisplay - Ensure that tests needing a display have one</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtest-needsdisplay-perl">libtest-needsdisplay-perl_1.07-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Test::NeedsDisplay - Ensure that tests needing a display have one

</pre><h4><b>SYNOPSIS</b></h4><pre>
       In your Makefile.PL...

         use inc::Module::Install;
         # ... or whatever else you use

         # Check for a display
         use Test::NeedsDisplay;

         # ... your Makefile.PL content as normal

       And again in each test script that loads Wx

         #!<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?perl">/usr/bin/perl</a>

         use strict;

         use Test::NeedsDisplay;

         # Test content as normal...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       When testing GUI applications, sometimes applications or modules absolutely insist on a display, even
       just to load a module without actually showing any objects.

       Regardless, this makes GUI applications pretty much impossible to build and test on headless or automated
       systems. And it fails to the point of not even running the Makefile.PL script because a dependency needs
       a display so it can be loaded to find a version.

       In these situations, what is needed is a fake display.

       The "Test::NeedsDisplay" module will search around and try to find a way to load some sort of display
       that can be used for the testing.

   <b>Strategies</b> <b>for</b> <b>Finding</b> <b>a</b> <b>Display</b>
       At this time, only a single method is used (and a very simple one).

       Debian Linux has a script called "xvfb-run" which is a wrapper for the "xvfb", a virtual X server which
       uses the linux frame buffer.

       When loaded without a viable display, the module will re-exec the same script using something like (for
       example) "xvfb-run test.t".

       As such, it should be loaded as early as possible, before anything has a chance to change script
       parameters. These params will be resent through to the script again.

</pre><h4><b>METHODS</b></h4><pre>
       There are no methods. You simply use the module as early as possible, probably right after "use strict;"
       and make sure to load it with only default params.

       Specifically, need must <b>always</b> load it before you set the test plan, otherwise the test script will
       report two plans, and the harness will complain about it and die.

         # Use it like this ...
         use Test::NeedsDisplay;

         # ... not like this ...
         use Test::NeedsDisplay 'anything';

         # ... and not like this.
         use Test::NeedsDisplay ();

       And that's all there is to do. The module will take care of the rest.

</pre><h4><b>TO</b> <b>DO</b></h4><pre>
       - Find alternative ways to launch a display on different platforms

</pre><h4><b>SUPPORT</b></h4><pre>
       Bugs should be reported via the CPAN bug tracker at

       &lt;<a href="http://rt.cpan.org/NoAuth/ReportBug.html">http://rt.cpan.org/NoAuth/ReportBug.html</a>?Queue=Test-NeedsDisplay&gt;

       For other issues, contact the author.

</pre><h4><b>AUTHOR</b></h4><pre>
       Adam Kennedy &lt;<a href="mailto:adamk@cpan.org">adamk@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2005 - 2009 Adam Kennedy.

       This program is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

       The full text of the license can be found in the LICENSE file included with this module.

perl v5.34.0                                       2022-06-28                            <u>Test::<a href="../man3pm/NeedsDisplay.3pm.html">NeedsDisplay</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>