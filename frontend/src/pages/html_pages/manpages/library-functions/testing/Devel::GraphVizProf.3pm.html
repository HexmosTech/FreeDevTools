<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Devel::GraphVizProf - per-line Perl profiler (with graph output)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libgraphviz-perl">libgraphviz-perl_2.24-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Devel::GraphVizProf - per-line Perl profiler (with graph output)

</pre><h4><b>SYNOPSIS</b></h4><pre>
               perl -d:GraphVizProf test.pl &gt; test.dot
               dot -Tpng test.dot &gt; test.png

</pre><h4><b>DESCRIPTION</b></h4><pre>
       NOTE: This module is a hack of Devel::SmallProf by Ted Ashton. It has been modified by Leon Brocard to
       produce output for GraphViz, but otherwise the only thing I have done is change the name. I hope to get
       my patches put into the main Devel::SmallProf code eventually, or alternatively read the output of
       Devel::SmallProf. Anyway, the normal documentation, which you can probably ignore, follows.

       The Devel::GraphVizProf profiler is focused on the time taken for a program run on a line-by-line basis.
       It is intended to be as "small" in terms of impact on the speed and memory usage of the profiled program
       as possible and also in terms of being simple to use.  Those statistics are placed in the file
       <u>smallprof.out</u> in the following format:

               &lt;num&gt; &lt;time&gt; &lt;ctime&gt; &lt;line&gt;:&lt;text&gt;

       where &lt;num&gt; is the number of times that the line was executed, &lt;time&gt; is the amount of "wall time" (time
       according the the clock on the wall vs. cpu time) spent executing it, &lt;ctime&gt; is the amount of cpu time
       expended on it and &lt;line&gt; and &lt;text&gt; are the line number and the actual text of the executed line (read
       from the file).

       The package uses the debugging hooks in Perl and thus needs the <b>-d</b> switch, so to profile <u>test.pl</u>, use the
       command:

               perl5 -d:GraphVizProf test.pl

       Once the script is done, the statistics in <u>smallprof.out</u> can be sorted to show which lines took the most
       time.  The output can be sorted to find which lines take the longest, either with the sort command:

               sort -k 2nr,2 smallprof.out | less

       or a perl script:

               open(PROF,"smallprof.out");
               @sorted = sort {(split(/\s+/,$b))[2] &lt;=&gt;
                               (split(/\s+/,$a))[2]} &lt;PROF&gt;;
               close PROF;
               print join('',@sorted);

</pre><h4><b>NOTES</b></h4><pre>
       •   The "wall time" readings come from Time::HiRes and are reasonably useful, at least on my system.  The
           cpu  times come from the 'times' built-in and the granularity is not necessarily as small as with the
           wall time.  On some systems this column may be useful.  On others it may not.

       •   GraphVizProf does attempt to make up for its shortcomings by subtracting a  small  amount  from  each
           timing (null time compensation).  This should help somewhat with the accuracy.

       •   GraphVizProf  depends  on  the  Time::HiRes  package to do its timings.  It claims to require version
           1.20, but may work with earlier versions, depending on your platform.

</pre><h4><b>OPTIONS</b></h4><pre>
       GraphVizProf has 3 variables which can be used during your script to affect what gets profiled.

       •   If you do not wish to see lines which were never called, set  the  variable  "$DB::drop_zeros  =  1".
           With "drop_zeros" set, GraphVizProf can be used for basic coverage analysis.

       •   To turn off profiling for a time, insert a "$DB::profile = 0" into your code (profiling may be turned
           back  on  with  "$DB::profile  = 1").  All of the time between profiling being turned off and back on
           again will be lumped together and reported on the "$DB::profile = 0"  line.   This  can  be  used  to
           summarize a subroutine call or a chunk of code.

       •   To only profile code in a certain package, set the %DB::packages array.  For example, to see only the
           code in packages "main" and "Test1", do this:

                   %DB::packages = ( 'main' =&gt; 1, 'Test1' =&gt; 1 );

       •   These  variables  can  be  put  in a file called <u>.smallprof</u> in the current directory.  For example, a
           <u>.smallprof</u> containing

                   $DB::drop_zeros = 1;
                   $DB::profile = 0;

           will set GraphVizProf to not report lines which are never touched  for  any  file  profiled  in  that
           directory  and  will set profiling off initially (presumably to be turned on only for a small portion
           of code).

</pre><h4><b>INSTALLATION</b></h4><pre>
       Just the usual

               perl Makefile.PL
               make
               make test
               make install

       and should install fine via the CPAN module.

</pre><h4><b>BUGS</b></h4><pre>
       Subroutine calls are currently not under the control of  %DB::packages.   This  should  not  be  a  great
       inconvenience in general.

       The  handling  of  evals  is  bad  news.  This is due to Perl's handling of evals under the <b>-d</b> flag.  For
       certain evals, <b>caller()</b> returns '(eval n)' for the filename and for others it doesn't.  For some of those
       which it does, the array "@{'_&lt;filename'}" contains the  code  of  the  eval.   For  others  it  doesn't.
       Sometime, when I've an extra tuit or two, I'll figure out why and how I can compensate for this.

       Comments, advice and questions are welcome.  If you see inefficent stuff in this module and have a better
       way, please let me know.

</pre><h4><b>AUTHOR</b></h4><pre>
       Ted Ashton &lt;<a href="mailto:ashted@southern.edu">ashted@southern.edu</a>&gt;

       GraphVizProf   was   developed   from   code   originally   posted   to   usenet   by   Philippe  Verdret
       &lt;<a href="mailto:philippe.verdret@sonovision-itep.fr">philippe.verdret@sonovision-itep.fr</a>&gt;.  Special thanks to Geoffrey Broadwell  &lt;<a href="mailto:habusan2@sprynet.com">habusan2@sprynet.com</a>&gt;  for
       his assistance on the Win32 platform and to Philippe for his patient assistance in testing and debugging.

       Copyright (c) 1997 Ted Ashton

       This  module  is  free  software;  you can redistribute it or modify it under the Perl License, a copy of
       which is available at &lt;<a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a>&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Devel::DProf, Time::HiRes.

perl v5.30.3                                       2020-07-22                           <u>Devel::<a href="../man3pm/GraphVizProf.3pm.html">GraphVizProf</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>