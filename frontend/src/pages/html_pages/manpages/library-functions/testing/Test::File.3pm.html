<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test::File -- test file attributes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtest-file-perl">libtest-file-perl_1.995-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Test::File -- test file attributes

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Test::File;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This modules provides a collection of test utilities for file attributes.

       Some file attributes depend on the owner of the process testing the file in the same way the file test
       operators do.  For instance, root (or super-user or Administrator) may always be able to read files no
       matter the permissions.

       Some attributes don't make sense outside of Unix, either, so some tests automatically skip if they think
       they won't work on the platform.  If you have a way to make these functions work on Windows, for
       instance, please send me a patch. :) If you want to pretend to be Windows on a non-Windows machine (for
       instance, to test skip()), you can set the "PRETEND_TO_BE_WINDOWS" environment variable.

       The optional NAME parameter for every function allows you to specify a name for the test.  If not
       supplied, a reasonable default will be generated.

   <b>Functions</b>
       has_symlinks
           Returns true is this module thinks that the current system supports symlinks.

           This  is not a test function. It's something that tests can use to determine what it should expect or
           skip.

       file_exists_ok( FILENAME [, NAME ] )
           Ok if the file exists, and not ok otherwise.

       file_not_exists_ok( FILENAME [, NAME ] )
           Ok if the file does not exist, and not okay if it does exist.

       file_empty_ok( FILENAME [, NAME ] )
           Ok if the file exists and has empty size, not ok if the file does not exist or exists  with  non-zero
           size.

           Previously this tried to test any sort of file. Sometime in the future this will fail if the argument
           is not a plain file or is a directory.

       file_not_empty_ok( FILENAME [, NAME ] )
           Ok  if  the  file exists and has non-zero size, not ok if the file does not exist or exists with zero
           size.

           Previously this tried to test any sort of file. Sometime in the future this will fail if the argument
           is not a plain file or is a directory.

       file_size_ok( FILENAME, SIZE [, NAME ]  )
           Ok if the file exists and has SIZE size in bytes (exactly), not ok if the  file  does  not  exist  or
           exists with size other than SIZE.

           Previously this tried to test any sort of file. Sometime in the future this will fail if the argument
           is not a plain file or is a directory.

       file_max_size_ok( FILENAME, MAX [, NAME ] )
           Ok if the file exists and has size less than or equal to MAX bytes, not ok if the file does not exist
           or exists with size greater than MAX bytes.

           Previously this tried to test any sort of file. Sometime in the future this will fail if the argument
           is not a plain file or is a directory.

       file_min_size_ok( FILENAME, MIN [, NAME ] )
           Ok  if  the  file exists and has size greater than or equal to MIN bytes, not ok if the file does not
           exist or exists with size less than MIN bytes.

           Previously this tried to test any sort of file. Sometime in the future this will fail if the argument
           is not a plain file or is a directory.

       file_line_count_is( FILENAME, COUNT [, NAME ]  )
           Ok if the file exists and has COUNT lines (exactly), not ok if the file does not exist or exists with
           a line count other than COUNT.

           This function uses the current value of $/ as the line ending and counts the lines  by  reading  them
           and counting how many it read.

           Previously this tried to test any sort of file. Sometime in the future this will fail if the argument
           is not a plain file or is a directory.

       file_line_count_isnt( FILENAME, COUNT [, NAME ]  )
           Ok  if  the  file  exists  and doesn't have exactly COUNT lines, not ok if the file does not exist or
           exists with a line count of COUNT. Read that carefully: the file must exist for this test to pass!

           This function uses the current value of $/ as the line ending and counts the lines  by  reading  them
           and counting how many it read.

           Previously this tried to test any sort of file. Sometime in the future this will fail if the argument
           is not a plain file or is a directory.

       file_line_count_between( FILENAME, MIN, MAX, [, NAME ]  )
           Ok if the file exists and has a line count between MIN and MAX, inclusively.

           This  function  uses  the current value of $/ as the line ending and counts the lines by reading them
           and counting how many it read.

           Previously this tried to test any sort of file. Sometime in the future this will fail if the argument
           is not a plain file or is a directory.

       file_contains_like ( FILENAME, PATTERN [, NAME ] )
           Ok if the file exists and its contents (as one big string) match PATTERN, not ok if the file does not
           exist, is not readable, or exists but doesn't match PATTERN.

           Since the file contents are read into memory, you should not  use  this  for  large  files.   Besides
           memory  consumption, test diagnostics for failing tests might be difficult to decipher.  However, for
           short files this works very well.

           Because the entire contents are treated as one large string,  you  can  make  a  pattern  that  tests
           multiple lines.  Don't forget that you may need to use the /s modifier for such patterns:

                   # make sure file has one or more paragraphs with CSS class X
                   file_contains_like($html_file, qr{&lt;p class="X"&gt;.*?&lt;/p&gt;}s);

           Contrariwise,  if  you  need  to  match at the beginning or end of a line inside the file, use the /m
           modifier:

                   # make sure file has a setting for foo
                   file_contains_like($config_file, qr/^ foo \s* = \s* \w+ $/mx);

           If you want to test your file contents against multiple patterns, but don't want  to  have  the  file
           read in repeatedly, you can pass an arrayref of patterns instead of a single pattern, like so:

                   # make sure our template has rendered correctly
                   file_contains_like($template_out,
                           [
                           qr/^ $title_line $/mx,
                           map { qr/^ $_ $/mx } @chapter_headings,
                           qr/^ $footer_line $/mx,
                           ]);

           Please note that if you do this, and your file does not exist or is not readable, you'll only get one
           test  failure  instead  of  a  failure  for each pattern.  This could cause your test plan to be off,
           although you may not care at that point because your test failed anyway.  If you do care, either skip
           the test plan altogether by employing Test::More's done_testing() function, or use "file_readable_ok"
           in conjunction with a "SKIP" block.

           Contributed by Buddy Burden "&lt;<a href="mailto:barefoot@cpan.org">barefoot@cpan.org</a>&gt;".

       file_contains_unlike ( FILENAME, PATTERN [, NAME ] )
           Ok if the file exists and its contents (as one big string) do <b>not</b> match PATTERN, not ok if  the  file
           does not exist, is not readable, or exists but matches PATTERN.

           All notes and caveats for "file_contains_like" apply to this function as well.

           Contributed by Buddy Burden "&lt;<a href="mailto:barefoot@cpan.org">barefoot@cpan.org</a>&gt;".

       file_contains_utf8_like ( FILENAME, PATTERN [, NAME ] )
           The same as "file_contains_like", except the file is opened as UTF-8.

       file_contains_utf8_unlike ( FILENAME, PATTERN [, NAME ] )
           The same as "file_contains_unlike", except the file is opened as UTF-8.

       file_contains_encoded_like ( FILENAME, ENCODING, PATTERN [, NAME ] )
           The same as "file_contains_like", except the file is opened with ENCODING

       file_contains_encoded_unlike ( FILENAME, ENCODING, PATTERN [, NAME ] )
           The same as "file_contains_unlike", except the file is opened with ENCODING.

       file_readable_ok( FILENAME [, NAME ] )
           Ok if the file exists and is readable, not ok if the file does not exist or is not readable.

       file_not_readable_ok( FILENAME [, NAME ] )
           Ok if the file exists and is not readable, not ok if the file does not exist or is readable.

       file_writable_ok( FILENAME [, NAME ] )
       file_writeable_ok( FILENAME [, NAME ] )
           Ok if the file exists and is writable, not ok if the file does not exist or is not writable.

           The  original  name is "file_writeable_ok" with that extra <u>e</u>. That still works but there's a function
           with the correct spelling too.

       file_not_writeable_ok( FILENAME [, NAME ] )
       file_not_writable_ok( FILENAME [, NAME ] )
           Ok if the file exists and is not writable, not ok if the file does not exist or is writable.

           The original name is "file_not_writeable_ok" with that extra <u>e</u>.   That  still  works  but  there's  a
           function with the correct spelling too.

       file_executable_ok( FILENAME [, NAME ] )
           Ok if the file exists and is executable, not ok if the file does not exist or is not executable.

           This test automatically skips if it thinks it is on a Windows platform.

       file_not_executable_ok( FILENAME [, NAME ] )
           Ok if the file exists and is not executable, not ok if the file does not exist or is executable.

           This test automatically skips if it thinks it is on a Windows platform.

       file_mode_is( FILENAME, MODE [, NAME ] )
           Ok  if  the  file exists and the mode matches, not ok if the file does not exist or the mode does not
           match.

           This test automatically skips if it thinks it is on a Windows platform.

           Contributed by Shawn Sorichetti "&lt;<a href="mailto:ssoriche@coloredblocks.net">ssoriche@coloredblocks.net</a>&gt;"

       file_mode_isnt( FILENAME, MODE [, NAME ] )
           Ok if the file exists and mode does not match, not ok if the file does not exist or mode does match.

           This test automatically skips if it thinks it is on a Windows platform.

           Contributed by Shawn Sorichetti "&lt;<a href="mailto:ssoriche@coloredblocks.net">ssoriche@coloredblocks.net</a>&gt;"

       file_mode_has( FILENAME, MODE [, NAME ] )
           Ok if the file exists and has all the bits in mode turned on, not ok if the file does  not  exist  or
           the mode does not match.  That is, "FILEMODE &amp; MODE == MODE" must be true.

           This test automatically skips if it thinks it is on a Windows platform.

           Contributed by Ricardo Signes "&lt;<a href="mailto:rjbs@cpan.org">rjbs@cpan.org</a>&gt;"

       file_mode_hasnt( FILENAME, MODE [, NAME ] )
           Ok  if  the file exists and has all the bits in mode turned off, not ok if the file does not exist or
           the mode does not match.  That is, "FILEMODE &amp; MODE == 0" must be true.

           This test automatically skips if it thinks it is on a Windows platform.

           Contributed by Ricardo Signes "&lt;<a href="mailto:rjbs@cpan.org">rjbs@cpan.org</a>&gt;"

       file_is_symlink_ok( FILENAME [, NAME ] )
           Ok if FILENAME is a symlink, even if it points to a non-existent file. This test automatically  skips
           if the operating system does not support symlinks.

       file_is_not_symlink_ok( FILENAME [, NAME ] )
           Ok  if  FILENAME  is  a  not  symlink. This test automatically skips if the operating system does not
           support symlinks. If the file does not exist, the test fails.

       symlink_target_exists_ok( SYMLINK [, TARGET] [, NAME ] )
           Ok if FILENAME is a symlink and it points to a existing file. With the optional TARGET argument,  the
           test  fails  if SYMLINK's target is not TARGET. This test automatically skips if the operating system
           does not support symlinks. If the file does not exist, the test fails.

       symlink_target_dangles_ok( SYMLINK [, NAME ] )
           Ok if FILENAME is a symlink and if it doesn't point to a existing file. This test automatically skips
           if the operating system does not support symlinks. If the file does not exist, the test fails.

       symlink_target_is( SYMLINK, TARGET [, NAME ] )
           Ok if FILENAME is a symlink and if points to TARGET. This test automatically skips if  the  operating
           system does not support symlinks.  If the file does not exist, the test fails.

       symlink_target_is_absolute_ok( SYMLINK [, NAME ] )
           Ok  if FILENAME is a symlink and if its target is an absolute path.  This test automatically skips if
           the operating system does not support symlinks. If the file does not exist, the test fails.

       dir_exists_ok( DIRECTORYNAME [, NAME ] )
           Ok if the file exists and is a directory, not ok if the file doesn't exist, or  exists  but  isn't  a
           directory.

           Contributed by Buddy Burden "&lt;<a href="mailto:barefoot@cpan.org">barefoot@cpan.org</a>&gt;".

       dir_contains_ok( DIRECTORYNAME, FILENAME [, NAME ] )
           Ok  if  the  directory exists and contains the file, not ok if the directory doesn't exist, or exists
           but doesn't contain the file.

           Contributed by Buddy Burden "&lt;<a href="mailto:barefoot@cpan.org">barefoot@cpan.org</a>&gt;".

       link_count_is_ok( FILE, LINK_COUNT [, NAME ] )
           Ok if the link count to FILE is LINK_COUNT. LINK_COUNT is interpreted as  an  integer.  A  LINK_COUNT
           that evaluates to 0 returns Ok if the file does not exist.

       link_count_gt_ok( FILE, LINK_COUNT [, NAME ] )
           Ok  if  the link count to FILE is greater than LINK_COUNT. LINK_COUNT is interpreted as an integer. A
           LINK_COUNT that evaluates to 0 returns Ok if the file has at least one link.

       link_count_lt_ok( FILE, LINK_COUNT [, NAME ] )
           Ok if the link count to FILE is less than LINK_COUNT. LINK_COUNT is  interpreted  as  an  integer.  A
           LINK_COUNT that evaluates to 0 returns Ok if the file has at least one link.

       owner_is( FILE , OWNER [, NAME ] )
           Ok  if  FILE's  owner is the same as OWNER.  OWNER may be a text user name or a numeric userid.  Test
           skips on Dos, and Mac OS &lt;= 9.  If the file does not exist, the test fails.

           Contributed by Dylan Martin

       owner_isnt( FILE, OWNER [, NAME ] )
           Ok if FILE's owner is not the same as OWNER.  OWNER may be a text user  name  or  a  numeric  userid.
           Test skips on Dos and Mac OS &lt;= 9.  If the file does not exist, the test fails.

           Contributed by Dylan Martin

       group_is( FILE , GROUP [, NAME ] )
           Ok if FILE's group is the same as GROUP.  GROUP may be a text group name or a numeric group id.  Test
           skips on Dos, Mac OS &lt;= 9 and any other operating systems that do not support <b>getpwuid()</b> and friends.
           If the file does not exist, the test fails.

           Contributed by Dylan Martin

       group_isnt( FILE , GROUP [, NAME ] )
           Ok  if  FILE's group is not the same as GROUP.  GROUP may be a text group name or a numeric group id.
           Test skips on Dos, Mac OS &lt;= 9 and any other operating systems that do  not  support  <b>getpwuid()</b>  and
           friends.  If the file does not exist, the test fails.

           Contributed by Dylan Martin

       file_mtime_age_ok( FILE [, WITHIN_SECONDS ] [, NAME ] )
           Ok  if FILE's modified time is WITHIN_SECONDS inclusive of the system's current time.  This test uses
           <b>stat()</b> to obtain the mtime. If the file does not exist the test returns failure. If <b>stat()</b> fails, the
           test is skipped.

       file_mtime_gt_ok( FILE, UNIXTIME [, NAME ] )
           Ok if FILE's mtime is &gt; UNIXTIME. This test uses <b>stat()</b> to get the mtime. If <b>stat()</b> fails  this  test
           is skipped. If FILE does not exist, this test fails.

       file_mtime_lt_ok( FILE, UNIXTIME, [, NAME ] )
           Ok  if  FILE's  modified time is &lt; UNIXTIME.  This test uses <b>stat()</b> to get the mtime. If <b>stat()</b> fails
           this test is skipped. If FILE does not exist, this test fails.

</pre><h4><b>TO</b> <b>DO</b></h4><pre>
       * check properties for other users (readable_by_root, for instance)

       * check times

       * check number of links to file

       * check path parts (directory, filename, extension)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Test::Builder, Test::More

       If     you     are      using      the      new      "Test2"      stuff,      see      Test2::Tools::File
       (https://github.com/torbjorn/Test2-Tools-File).

</pre><h4><b>SOURCE</b> <b>AVAILABILITY</b></h4><pre>
       This module is in Github:

               https://github.com/briandfoy/test-file

</pre><h4><b>AUTHOR</b></h4><pre>
       brian d foy, "&lt;<a href="mailto:briandfoy@pobox.com">briandfoy@pobox.com</a>&gt;"

</pre><h4><b>CREDITS</b></h4><pre>
       Shawn Sorichetti "&lt;<a href="mailto:ssoriche@coloredblocks.net">ssoriche@coloredblocks.net</a>&gt;" provided some functions.

       Tom Metro helped me figure out some Windows capabilities.

       Dylan Martin added "owner_is" and "owner_isnt".

       David Wheeler added "file_line_count_is".

       Buddy Burden "&lt;<a href="mailto:barefoot@cpan.org">barefoot@cpan.org</a>&gt;" provided "dir_exists_ok", "dir_contains_ok", "file_contains_like", and
       "file_contains_unlike".

       xmikew "&lt;https://github.com/xmikew&gt;" provided the "mtime_age" stuff.

       Torbjørn Lindahl is working on Test2::Tools::File and we're working together to align our interfaces.

       Jean-Damien Durand added bits to use Win32::IsSymlinkCreationAllowed, new since Win32 0.55.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright © 2002-2025, brian d foy &lt;<a href="mailto:briandfoy@pobox.com">briandfoy@pobox.com</a>&gt;. All rights reserved.

       This  program  is free software; you can redistribute it and/or modify it under the terms of the Artistic
       License 2.0

perl v5.40.1                                       2025-04-17                                    <u>Test::<a href="../man3pm/File.3pm.html">File</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>