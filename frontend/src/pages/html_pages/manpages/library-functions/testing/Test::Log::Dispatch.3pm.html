<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test::Log::Dispatch -- Test what you are logging</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtest-log-dispatch-perl">libtest-log-dispatch-perl_0.03-2.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Test::Log::Dispatch -- Test what you are logging

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Test::More;
           use Test::Log::Dispatch;

           my $log = Test::Log::Dispatch-&gt;new();

           # ...
           # call something that logs to $log
           # ...

           # now test to make sure you logged the right things

           $log-&gt;contains_ok(qr/good log message/, "good message was logged");
           $log-&gt;does_not_contain_ok(qr/unexpected log message/, "unexpected message was not logged");
           $log-&gt;empty_ok("no more logs");

           # or

           my $msgs = $log-&gt;msgs;
           cmp_deeply($msgs, ['msg1', 'msg2', 'msg3']);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       "Test::Log::Dispatch" is a "Log::Dispatch" object that keeps track of everything logged to it in memory,
       and provides convenient tests against what has been logged.

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
       The constructor returns a "Test::Log::Dispatch" object, which inherits from "Log::Dispatch" and contains
       a single "Log::Dispatch::Array" output at 'debug' level.

       The constructor requires no parameters. Any parameters will be forwarded to the "Log::Dispatch::Array"
       constructor. For example, you can pass a <u>min_level</u> to override the default 'debug'.

</pre><h4><b>METHODS</b></h4><pre>
       The test_name is optional in the *_ok methods; a reasonable default will be provided.

       contains_ok ($regex[, $test_name])
           Tests  that  a  message in the log buffer matches <u>$regex</u>. On success, the message is <u>removed</u> from the
           log buffer (but any other matches are left untouched).

       does_not_contain_ok ($regex[, $test_name])
           Tests that no message in the log buffer matches <u>$regex</u>.

       empty_ok ([$test_name])
           Tests that there is no log buffer left. On failure, the  log  buffer  is  cleared  to  limit  further
           cascading failures.

       contains_only_ok ($regex[, $test_name])
           Tests that there is a single message in the log buffer and it matches <u>$regex</u>. On success, the message
           is removed.

       clear ()
           Clears the log buffer.

       msgs ()
           Returns  the  current  contents of the log buffer as an array reference, where each element is a hash
           containing a <u>message</u> and <u>level</u> key.

</pre><h4><b>TO</b> <b>DO</b></h4><pre>
       â€¢   Allow testing of log levels.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Log::Dispatch, Test::Log4perl

</pre><h4><b>AUTHOR</b></h4><pre>
       Jonathan Swartz

</pre><h4><b>COPYRIGHT</b> <b>&amp;</b> <b>LICENSE</b></h4><pre>
       Copyright (C) 2009 Jonathan Swartz, all rights reserved.

       This program is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

perl v5.32.0                                       2021-01-09                           <u>Test::Log::<a href="../man3pm/Dispatch.3pm.html">Dispatch</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>