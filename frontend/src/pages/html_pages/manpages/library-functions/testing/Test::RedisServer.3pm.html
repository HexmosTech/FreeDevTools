<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test::RedisServer - redis-server runner for tests.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtest-redisserver-perl">libtest-redisserver-perl_0.23-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Test::RedisServer - redis-server runner for tests.

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Redis;
           use Test::RedisServer;
           use Test::More;

           my $redis_server;
           eval {
               $redis_server = Test::RedisServer-&gt;new;
           } or plan skip_all =&gt; 'redis-server is required for this test';

           my $redis = Redis-&gt;new( $redis_server-&gt;connect_info );

           is $redis-&gt;ping, 'PONG', 'ping pong ok';

           done_testing;

</pre><h4><b>DESCRIPTION</b></h4><pre>
</pre><h4><b>METHODS</b></h4><pre>
   <b>new(%options)</b>
           my $redis_server = Test::RedisServer-&gt;new(%options);

       Create a new redis-server instance, and start it by default (use auto_start option to avoid this)

       Available options are:

       •   auto_start =&gt; 0 | 1 (Default: 1)

           Automatically  start redis-server instance (by default).  You can disable this feature by "auto_start
           =&gt; 0", and start instance manually by "start" or "exec" method below.

       •   conf =&gt; 'HashRef'

           This is a redis.conf key value pair. You can use any key-value pair(s) that redis-server supports.

           If you want to use this redis.conf:

               port 9999
               databases 16
               save 900 1

           Your conf parameter will be:

               Test::RedisServer-&gt;new( conf =&gt; {
                   port      =&gt; 9999,
                   databases =&gt; 16,
                   save      =&gt; '900 1',
               });

       •   timeout =&gt; 'Int'

           Timeout seconds for detecting if redis-server is awake or not. (Default: 3)

       •   tmpdir =&gt; 'String'

           Temporal directory, where redis config will be stored. By default it is created for you, but  if  you
           start  Test::RedisServer  via  exec  (e.g. with Test::TCP), you should provide it to be automatically
           deleted:

   <b>start</b>
       Start redis-server instance manually.

   <b>exec</b>
       Just exec to redis-server instance. This method is useful to use this module with Test::TCP,  Proclet  or
       etc.

           use File::Temp;
           use Test::TCP;
           my $tmp_dir = File::Temp-&gt;newdir( CLEANUP =&gt; 1 );

           test_tcp(
               client =&gt; sub {
                   my ($port, $server_pid) = @_;
                   ...
               },
               server =&gt; sub {
                   my ($port) = @_;
                   my $redis = Test::RedisServer-&gt;new(
                       auto_start =&gt; 0,
                       conf       =&gt; { port =&gt; $port },
                       tmpdir     =&gt; $tmp_dir,
                   );
                   $redis-&gt;exec;
               },
           );

   <b>stop</b>
       Stop redis-server instance.

       This method is automatically called from object destructor, DESTROY.

   <b>connect_info</b>
       Return connection info for client library to connect this redis-server instance.

       This parameter is designed to pass directly to Redis module.

           my $redis_server = Test::RedisServer-&gt;new;
           my $redis = Redis-&gt;new( $redis_server-&gt;connect_info );

   <b>pid</b>
       Return redis-server instance's process id, or undef when redis-server is not running.

   <b>wait_exit</b>
       Block until redis instance exited.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Test::mysqld for mysqld.

       Test::Memcached for Memcached.

       This module steals lots of stuff from above modules.

       Test::Mock::Redis, another approach for testing redis application.

</pre><h4><b>INTERNAL</b> <b>METHODS</b></h4><pre>
   <b>BUILD</b>
   <b>DEMOLISH</b>
</pre><h4><b>AUTHOR</b></h4><pre>
       Daisuke Murase &lt;<a href="mailto:typester@cpan.org">typester@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright (c) 2012 KAYAC Inc. All rights reserved.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

       The full text of the license can be found in the LICENSE file included with this module.

perl v5.40.1                                       2025-05-28                             <u>Test::<a href="../man3pm/RedisServer.3pm.html">RedisServer</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>