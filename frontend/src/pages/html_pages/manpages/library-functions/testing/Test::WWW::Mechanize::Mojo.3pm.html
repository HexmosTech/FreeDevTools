<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test::WWW::Mechanize::Mojo - Test::WWW::Mechanize for Mojo / Mojolicious</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtest-www-mechanize-mojo-perl">libtest-www-mechanize-mojo-perl_0.0.21-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Test::WWW::Mechanize::Mojo - Test::WWW::Mechanize for Mojo / Mojolicious

</pre><h4><b>VERSION</b></h4><pre>
       version 0.0.21

</pre><h4><b>SYNOPSIS</b></h4><pre>
         # We're in a t/*.t test script...
         use Test::WWW::Mechanize::Mojo;

         my $tester = Test::Mojo-&gt;new();

         # To test a Mojo application
         my $mech = Test::WWW::Mechanize::Mojo-&gt;new(tester =&gt; $tester);

         $mech-&gt;get_ok("/"); # no hostname needed
         is($mech-&gt;ct, "text/html");
         $mech-&gt;title_is("Root", "On the root page");
         $mech-&gt;content_contains("This is the root page", "Correct content");
         $mech-&gt;follow_link_ok({text =&gt; 'Hello'}, "Click on Hello");
         # ... and all other Test::WWW::Mechanize methods

         # White label site testing
         $mech-&gt;host("foo.com");
         $mech-&gt;get_ok("/");

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Mojo is an MVC Web Application Framework.  Test::WWW::Mechanize is a subclass of WWW::Mechanize that
       incorporates features for web application testing. The Test::WWW::Mechanize::Mojo module meshes the two
       to allow easy testing of Mojo applications without needing to starting up a web server.

       Testing web applications has always been a bit tricky, normally requiring starting a web server for your
       application and making real HTTP requests to it. This module allows you to test Mojo web applications but
       does not require a server or issue HTTP requests. Instead, it passes the HTTP request object directly to
       Mojo. Thus you do not need to use a real hostname: "<a href="http://localhost/">http://localhost/</a>" will do. However, this is
       optional. The following two lines of code do exactly the same thing:

         $mech-&gt;get_ok('/action');
         $mech-&gt;get_ok('<a href="http://localhost/action">http://localhost/action</a>');

       Links which do not begin with / or are not for localhost can be handled as normal Web requests - this is
       handy if you have an external single sign-on system. You must set allow_external to true for this:

         $mech-&gt;<a href="../man1/allow_external.1.html">allow_external</a>(1);

       You can also test a remote server by setting the environment variable MOJO_SERVER; for example:

         $ MOJO_SERVER=<a href="http://example.com/myapp">http://example.com/myapp</a> prove -l t

       will run the same tests on the application running at <a href="http://example.com/myapp">http://example.com/myapp</a> regardless of whether or
       not you specify http:://localhost for Test::WWW::Mechanize::Mojo.

       Furthermore, if you set MOJO_SERVER, the server will be regarded as a remote server even if your links
       point to localhost. Thus, you can use Test::WWW::Mechanize::Mojo to test your live webserver running on
       your local machine, if you need to test aspects of your deployment environment (for example,
       configuration options in an http.conf file) instead of just the Mojo request handling.

       This makes testing fast and easy. Test::WWW::Mechanize provides functions for common web testing
       scenarios. For example:

         $mech-&gt;get_ok( $page );
         $mech-&gt;title_is( "Invoice Status", "Make sure we're on the invoice page" );
         $mech-&gt;content_contains( "Andy Lester", "My name somewhere" );
         $mech-&gt;content_like( qr/(cpan|perl)\.org/, "Link to perl.org or CPAN" );

       This module supports cookies automatically.

       To use this module you must pass it the name of the application. See the SYNOPSIS above.

       Note that Mojo has a special developing feature: the debug screen. By default this module will treat
       responses which are the debug screen as failures. If you actually want to test debug screens, please use:

         $mmech-&gt;{catalyst_debug} = 1;

       An alternative to this module is Test::Mojo.

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
   <b>new</b>
       Behaves like, and calls, WWW::Mechanize's "new" method.  Any params passed in get passed to
       WWW::Mechanize's constructor. Note that we need to pass the name of the Catalyst application to the
       "use":

         use Test::WWW::Mechanize::Catalyst;

         use Test::Mojo;

         my $tester = Test::Mojo-&gt;new();

         my $mech = Test::WWW::Mechanize::Catalyst-&gt;new(tester =&gt; $tester);

       In addition, one can specify a 'tester' argument as the Test::Mojo instance.

</pre><h4><b>METHODS</b></h4><pre>
   <b>allow_external</b>
       Links which do not begin with / or are not for localhost can be handled as normal Web requests - this is
       handy if you have an external single sign-on system. You must set allow_external to true for this:

         $m-&gt;<a href="../man1/allow_external.1.html">allow_external</a>(1);

   <b>mojo_app</b>
       The name of the Mojo app which we are testing against. Read-only.

   <b>has_mojo_app</b>
       For internal use.

   <b>tester</b>
       For internal use.

   <b>host</b>
       The host value to set the "Host:" HTTP header to, if none is present already in the request. If not set
       (default) then Catalyst::Test will set this to localhost:80

   <b>clear_host</b>
       Unset the host attribute.

   <b>has_host</b>
       Do we have a value set for the host attribute

   <b>$mech-&gt;get_ok($url,</b> <b>[</b> <b>\%LWP_options</b> <b>,]</b> <b>$desc)</b>
       A wrapper around WWW::Mechanize's <b>get()</b>, with similar options, except the second argument needs to be a
       hash reference, not a hash. Returns true or false.

   <b>$mech-&gt;title_is(</b> <b>$str</b> <b>[,</b> <b>$desc</b> <b>]</b> <b>)</b>
       Tells if the title of the page is the given string.

           $mech-&gt;title_is( "Invoice Summary" );

   <b>$mech-&gt;title_like(</b> <b>$regex</b> <b>[,</b> <b>$desc</b> <b>]</b> <b>)</b>
       Tells if the title of the page matches the given regex.

           $mech-&gt;title_like( qr/Invoices for (.+)/

   <b>$mech-&gt;title_unlike(</b> <b>$regex</b> <b>[,</b> <b>$desc</b> <b>]</b> <b>)</b>
       Tells if the title of the page does NOT match the given regex.

           $mech-&gt;title_unlike( qr/Invoices for (.+)/

   <b>$mech-&gt;content_is(</b> <b>$str</b> <b>[,</b> <b>$desc</b> <b>]</b> <b>)</b>
       Tells if the content of the page matches the given string

   <b>$mech-&gt;content_contains(</b> <b>$str</b> <b>[,</b> <b>$desc</b> <b>]</b> <b>)</b>
       Tells if the content of the page contains <u>$str</u>.

   <b>$mech-&gt;content_lacks(</b> <b>$str</b> <b>[,</b> <b>$desc</b> <b>]</b> <b>)</b>
       Tells if the content of the page lacks <u>$str</u>.

   <b>$mech-&gt;content_like(</b> <b>$regex</b> <b>[,</b> <b>$desc</b> <b>]</b> <b>)</b>
       Tells if the content of the page matches <u>$regex</u>.

   <b>$mech-&gt;content_unlike(</b> <b>$regex</b> <b>[,</b> <b>$desc</b> <b>]</b> <b>)</b>
       Tells if the content of the page does NOT match <u>$regex</u>.

   <b>$mech-&gt;page_links_ok(</b> <b>[</b> <b>$desc</b> <b>]</b> <b>)</b>
       Follow all links on the current page and test for HTTP status 200

           $mech-&gt;page_links_ok('Check all links');

   <b>$mech-&gt;page_links_content_like(</b> <b>$regex,[</b> <b>$desc</b> <b>]</b> <b>)</b>
       Follow all links on the current page and test their contents for <u>$regex</u>.

           $mech-&gt;page_links_content_like( qr/foo/,
             'Check all links contain "foo"' );

   <b>$mech-&gt;page_links_content_unlike(</b> <b>$regex,[</b> <b>$desc</b> <b>]</b> <b>)</b>
       Follow all links on the current page and test their contents do not contain the specified regex.

           $mech-&gt;page_links_content_unlike(qr/Restricted/,
             'Check all links do not contain Restricted');

   <b>$mech-&gt;links_ok(</b> <b>$links</b> <b>[,</b> <b>$desc</b> <b>]</b> <b>)</b>
       Check the current page for specified links and test for HTTP status 200.  The links may be specified as a
       reference to an array containing WWW::Mechanize::Link objects, an array of URLs, or a scalar URL name.

           my @links = $mech-&gt;find_all_links( url_regex =&gt; qr/cnn\.com$/ );
           $mech-&gt;links_ok( \@links, 'Check all links for cnn.com' );

           my @links = qw( index.html search.html about.html );
           $mech-&gt;links_ok( \@links, 'Check main links' );

           $mech-&gt;links_ok( 'index.html', 'Check link to index' );

   <b>$mech-&gt;link_status_is(</b> <b>$links,</b> <b>$status</b> <b>[,</b> <b>$desc</b> <b>]</b> <b>)</b>
       Check the current page for specified links and test for HTTP status passed.  The links may be specified
       as a reference to an array containing WWW::Mechanize::Link objects, an array of URLs, or a scalar URL
       name.

           my @links = $mech-&gt;links();
           $mech-&gt;link_status_is( \@links, 403,
             'Check all links are restricted' );

   <b>$mech-&gt;link_status_isnt(</b> <b>$links,</b> <b>$status</b> <b>[,</b> <b>$desc</b> <b>]</b> <b>)</b>
       Check the current page for specified links and test for HTTP status passed.  The links may be specified
       as a reference to an array containing WWW::Mechanize::Link objects, an array of URLs, or a scalar URL
       name.

           my @links = $mech-&gt;links();
           $mech-&gt;link_status_isnt( \@links, 404,
             'Check all links are not 404' );

   <b>$mech-&gt;link_content_like(</b> <b>$links,</b> <b>$regex</b> <b>[,</b> <b>$desc</b> <b>]</b> <b>)</b>
       Check the current page for specified links and test the content of each against <u>$regex</u>.  The links may be
       specified as a reference to an array containing WWW::Mechanize::Link objects, an array of URLs, or a
       scalar URL name.

           my @links = $mech-&gt;links();
           $mech-&gt;link_content_like( \@links, qr/Restricted/,
               'Check all links are restricted' );

   <b>$mech-&gt;link_content_unlike(</b> <b>$links,</b> <b>$regex</b> <b>[,</b> <b>$desc</b> <b>]</b> <b>)</b>
       Check the current page for specified links and test the content of each does not match <u>$regex</u>.  The links
       may be specified as a reference to an array containing WWW::Mechanize::Link objects, an array of URLs, or
       a scalar URL name.

           my @links = $mech-&gt;links();
           $mech-&gt;link_content_like( \@links, qr/Restricted/,
             'Check all links are restricted' );

   <b>follow_link_ok(</b> <b>\%parms</b> <b>[,</b> <b>$comment]</b> <b>)</b>
       Makes a "follow_link()" call and executes tests on the results.  The link must be found, and then
       followed successfully.  Otherwise, this test fails.

       <u>%parms</u> is a hashref containing the params to pass to "follow_link()".  Note that the params to
       "follow_link()" are a hash whereas the parms to this function are a hashref.  You have to call this
       function like:

           $agent-&gt;follow_like_ok( {n=&gt;3}, "looking for 3rd link" );

       As with other test functions, $comment is optional.  If it is supplied then it will display when running
       the test harness in verbose mode.

       Returns true value if the specified link was found and followed successfully.  The HTTP::Response object
       returned by <b>follow_link()</b> is not available.

</pre><h4><b>CAVEATS</b></h4><pre>
   <b>External</b> <b>Redirects</b> <b>and</b> <b>allow_external</b>
       If you use non-fully qualified urls in your test scripts (i.e. anything without a host, such as
       "-&gt;get_ok( "/foo")" ) and your app redirects to an external URL, expect to be bitten once you come back
       to your application's urls (it will try to request them on the remote server.) This is due to a
       limitation in WWW::Mechanize.

       One workaround for this is that if you are expecting to redirect to an external site, clone the TWMC
       obeject and use the cloned object for the external redirect.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Related modules which may be of interest: Mojo, Test::WWW::Mechanize, WWW::Mechanize,
       Test::WWW::Mechanize::Catalyst.

</pre><h4><b>AUTHOR</b></h4><pre>
   <b>Of</b> <b>Test::WWW::Mechanize::Catalyst</b>
       Ash Berlin "&lt;<a href="mailto:ash@cpan.org">ash@cpan.org</a>&gt;"

       Original Author: Leon Brocard, "&lt;<a href="mailto:acme@astray.com">acme@astray.com</a>&gt;"

   <b>Of</b> <b>Test::WWW::Mechanize::Mojo</b>
       Shlomi Fish, &lt;<a href="http://www.shlomifish.org/">http://www.shlomifish.org/</a>&gt; - while disclaiming all rights.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2005-8, Leon Brocard

</pre><h4><b>LICENSE</b></h4><pre>
       This module is free software; you can redistribute it or modify it under the same terms as Perl itself.

</pre><h4><b>SUPPORT</b></h4><pre>
   <b>Websites</b>
       The following websites have more information about this module, and may be of help to you. As always, in
       addition to those websites please use your favorite search engine to discover more resources.

       •   MetaCPAN

           A modern, open-source CPAN search engine, useful to view POD in HTML format.

           &lt;https://metacpan.org/release/Test-WWW-Mechanize-Mojo&gt;

       •   RT: CPAN's Bug Tracker

           The RT ( Request Tracker ) website is the default bug/issue tracking system for CPAN.

           &lt;https://rt.cpan.org/Public/Dist/Display.html?Name=Test-WWW-Mechanize-Mojo&gt;

       •   CPANTS

           The CPANTS is a website that analyzes the Kwalitee ( code metrics ) of a distribution.

           &lt;<a href="http://cpants.cpanauthors.org/dist/Test-WWW-Mechanize-Mojo">http://cpants.cpanauthors.org/dist/Test-WWW-Mechanize-Mojo</a>&gt;

       •   CPAN Testers

           The  CPAN  Testers  is  a  network  of  smoke  testers  who  run  automated  tests  on  uploaded CPAN
           distributions.

           &lt;<a href="http://www.cpantesters.org/distro/T/Test-WWW-Mechanize-Mojo">http://www.cpantesters.org/distro/T/Test-WWW-Mechanize-Mojo</a>&gt;

       •   CPAN Testers Matrix

           The CPAN Testers Matrix is a website that provides a visual  overview  of  the  test  results  for  a
           distribution on various Perls/platforms.

           &lt;<a href="http://matrix.cpantesters.org/">http://matrix.cpantesters.org/</a>?dist=Test-WWW-Mechanize-Mojo&gt;

       •   CPAN Testers Dependencies

           The CPAN Testers Dependencies is a website that shows a chart of the test results of all dependencies
           for a distribution.

           &lt;<a href="http://deps.cpantesters.org/">http://deps.cpantesters.org/</a>?module=Test::WWW::Mechanize::Mojo&gt;

   <b>Bugs</b> <b>/</b> <b>Feature</b> <b>Requests</b>
       Please  report  any bugs or feature requests by email to "bug-test-www-mechanize-mojo at rt.cpan.org", or
       through the web interface at  &lt;https://rt.cpan.org/Public/Bug/Report.html?Queue=Test-WWW-Mechanize-Mojo&gt;.
       You will be automatically notified of any progress on the request by the system.

   <b>Source</b> <b>Code</b>
       The  code  is open to the world, and available for you to hack on. Please feel free to browse it and play
       with it, or whatever. If you want to contribute patches, please send me a diff or prod me  to  pull  from
       your repository :)

       &lt;https://github.com/shlomif/perl-test-www-mechanize-mojo&gt;

         git clone git://github.com/shlomif/perl-test-www-mechanize-mojo.git

</pre><h4><b>AUTHOR</b></h4><pre>
       Shlomi Fish &lt;<a href="mailto:shlomif@cpan.org">shlomif@cpan.org</a>&gt;

</pre><h4><b>BUGS</b></h4><pre>
       Please     report     any     bugs     or     feature     requests     on    the    bugtracker    website
       &lt;https://github.com/shlomif/perl-test-www-mechanize-mojo/issues&gt;

       When submitting a bug or request, please include a test-file or a patch to  an  existing  test-file  that
       illustrates the bug or desired feature.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2005 by Leon Brocard.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.30.3                                       2020-10-11                    <u>Test::WWW::Mechanize::<a href="../man3pm/Mojo.3pm.html">Mojo</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>