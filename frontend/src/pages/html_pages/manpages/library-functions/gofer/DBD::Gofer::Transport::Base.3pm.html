<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DBD::Gofer::Transport::Base - base class for DBD::Gofer client transports</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdbi-perl">libdbi-perl_1.647-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       DBD::Gofer::Transport::Base - base class for DBD::Gofer client transports

</pre><h4><b>SYNOPSIS</b></h4><pre>
         my $remote_dsn = "..."
         DBI-&gt;connect("dbi:Gofer:transport=...;url=...;timeout=...;retry_limit=...;dsn=$remote_dsn",...)

       or, enable by setting the DBI_AUTOPROXY environment variable:

         export DBI_AUTOPROXY='dbi:Gofer:transport=...;url=...'

       which will force <u>all</u> DBI connections to be made via that Gofer server.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This is the base class for all DBD::Gofer client transports.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       Gofer transport attributes can be specified either in the attributes parameter of the <b>connect()</b> method
       call, or in the DSN string. When used in the DSN string, attribute names don't have the "go_" prefix.

   <b>go_dsn</b>
       The full DBI DSN that the Gofer server should connect to on your behalf.

       When used in the DSN it must be the last element in the DSN string.

   <b>go_timeout</b>
       A time limit for sending a request and receiving a response. Some drivers may implement sending and
       receiving as separate steps, in which case (currently) the timeout applies to each separately.

       If a request needs to be resent then the timeout is restarted for each sending of a request and receiving
       of a response.

   <b>go_retry_limit</b>
       The maximum number of times an request may be retried. The default is 2.

   <b>go_retry_hook</b>
       This subroutine reference is called, if defined, for each response received where $response-&gt;err is true.

       The subroutine is pass three parameters: the request object, the response object, and the transport
       object.

       If it returns an undefined value then the default retry behaviour is used. See "RETRY ON ERROR" below.

       If it returns a defined but false value then the request is not resent.

       If it returns true value then the request is resent, so long as the number of retries does not exceed
       "go_retry_limit".

</pre><h4><b>RETRY</b> <b>ON</b> <b>ERROR</b></h4><pre>
       The default retry on error behaviour is:

        - Retry if the error was due to DBI_GOFER_RANDOM. See L&lt;DBI::Gofer::Execute&gt;.

        - Retry if $request-&gt;is_idempotent returns true. See L&lt;DBI::Gofer::Request&gt;.

       A retry won't be allowed if the number of previous retries has reached "go_retry_limit".

</pre><h4><b>TRACING</b></h4><pre>
       Tracing of gofer requests and responses can be enabled by setting the "DBD_GOFER_TRACE" environment
       variable. A value of 1 gives a reasonably compact summary of each request and response. A value of 2 or
       more gives a detailed, and voluminous, dump.

       The trace is written using DBI-&gt;<b>trace_msg()</b> and so is written to the default DBI trace output, which is
       usually STDERR.

</pre><h4><b>METHODS</b></h4><pre>
       <u>This</u> <u>section</u> <u>is</u> <u>currently</u> <u>far</u> <u>from</u> <u>complete.</u>

   <b>response_retry_preference</b>
         $retry = $transport-&gt;response_retry_preference($request, $response);

       The response_retry_preference is called by DBD::Gofer when considering if a request should be retried
       after an error.

       Returns true (would like to retry), false (must not retry), undef (no preference).

       If a true value is returned in the form of a CODE ref then, if DBD::Gofer does decide to retry the
       request, it calls the code ref passing $retry_count, $retry_limit.  Can be used for logging and/or to
       implement exponential back-off behaviour.  Currently the called code must return using "return;" to allow
       for future extensions.

</pre><h4><b>AUTHOR</b></h4><pre>
       Tim Bunce, &lt;<a href="http://www.tim.bunce.name">http://www.tim.bunce.name</a>&gt;

</pre><h4><b>LICENCE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2007-2008, Tim Bunce, Ireland. All rights reserved.

       This module is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself. See perlartistic.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       DBD::Gofer, DBI::Gofer::Request, DBI::Gofer::Response, DBI::Gofer::Execute.

       and some example transports:

       DBD::Gofer::Transport::stream

       DBD::Gofer::Transport::http

       DBI::Gofer::Transport::mod_perl

perl v5.40.0                                       2025-02-01                   <u>DBD::Gofer::Transport::<a href="../man3pm/Base.3pm.html">Base</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>