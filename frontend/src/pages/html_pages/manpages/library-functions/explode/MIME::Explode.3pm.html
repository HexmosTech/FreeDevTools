<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIME::Explode - Perl extension for explode MIME messages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmime-explode-perl">libmime-explode-perl_0.39-4build5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       MIME::Explode - Perl extension for explode MIME messages

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use MIME::Explode;

         my $explode = MIME::Explode-&gt;new(
           output_dir         =&gt; "tmp",
           mkdir              =&gt; 0755,
           decode_subject     =&gt; 1,
           check_content_type =&gt; 1,
           content_types      =&gt; ["image/gif", "image/jpeg", "image/bmp"],
           types_action       =&gt; "exclude"
         );

         print "Number of messages: ", $explode-&gt;nmsgs, "\n";

         open(MAIL, "&lt;file.mbox") or
               die("Couldn't open file.mbox for reading: $!\n");
         open(OUTPUT, "&gt;file.tmp")
               or die("Couldn't open file.tmp for writing: $!\n");
         my $headers = $explode-&gt;parse(\*MAIL, \*OUTPUT);
         close(OUTPUT);
         close(MAIL);

         for my $part (sort{ $a cmp $b } keys(%{$headers})) {
           for my $k (keys(%{$headers-&gt;{$part}})) {
             if(ref($headers-&gt;{$part}-&gt;{$k}) eq "ARRAY") {
               for my $i (0 .. $#{$headers-&gt;{$part}-&gt;{$k}}) {
                 print "$part =&gt; $k =&gt; $i =&gt; ", $headers-&gt;{$part}-&gt;{$k}-&gt;[$i], "\n";
               }
             } elsif(ref($headers-&gt;{$part}-&gt;{$k}) eq "HASH") {
               for my $ks (keys(%{$headers-&gt;{$part}-&gt;{$k}})) {
                 if(ref($headers-&gt;{$part}-&gt;{$k}-&gt;{$ks}) eq "ARRAY") {
                   print "$part =&gt; $k =&gt; $ks =&gt; ", join(($ks eq "charset") ? " " : "", @{$headers-&gt;{$part}-&gt;{$k}-&gt;{$ks}}), "\n";
                 } else {
                   print "$part =&gt; $k =&gt; $ks =&gt; ", $headers-&gt;{$part}-&gt;{$k}-&gt;{$ks}, "\n";
                 }
                 print "$part =&gt; $k =&gt; $ks =&gt; ", $headers-&gt;{$part}-&gt;{$k}-&gt;{$ks}, "\n";
               }
             } else {
               print "$part =&gt; $k =&gt; ", $headers-&gt;{$part}-&gt;{$k}, "\n";
             }
           }
         }

         if(my $e = $explode-&gt;clean_all()) {
           print "Error: $e\n";
         }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       MIME::Explode is perl module for parsing and decoding single or multipart MIME messages, and outputting
       its decoded components to a given directory ie, this module is designed to allows users to extract the
       attached files out of a MIME encoded email messages or mailboxes.

</pre><h4><b>METHODS</b></h4><pre>
   <b>new([,</b> <b>OPTION</b> <b>...])</b>
       This method create a new MIME::Explode object. The following keys are available:

       output_dir
              Directory where the decoded files are placed

       mkdir =&gt; octal_number
              If the value is set to octal number then make the output_dir directory (example: mkdir =&gt; 0755).

       check_content_type =&gt; 0 or 1
              If the value is set to 1 the content-type of file is checked

       decode_subject =&gt; 0 or 1
              If the value is set to 1 then the subject is decoded into a list.

                $header-&gt;{'0.0'}-&gt;{subject}-&gt;{value} = [ARRAYREF];
                $header-&gt;{'0.0'}-&gt;{subject}-&gt;{charset} = [ARRAYREF];
                $subject = join("", @{$header-&gt;{'0.0'}-&gt;{subject}-&gt;{value}});

       exclude_types =&gt; [ARRAYREF]
              Not save files with specified content types (deprecated in next versions)

       content_types =&gt; [ARRAYREF]
              Array reference with content types for "include" or "exclude"

       types_action =&gt; "include" or "exclude"
              If the action is a "include", all attached files with specified content types are saved but if the
              action is a "exclude", no files are saved except if its in the array of content types. If no array
              is specified, but the action is a "include", all attached files are saved, otherwise all files are
              removed if action is a "exclude". The default action is "include".

   <b>parse(FILEHANDLE,</b> <b>FILEHANDLE)</b>
       This  method  parse  the  stream  and  splits  it into its component entities.  This method return a hash
       reference with all parts. The FILEHANDLE should be  a  reference  to  a  GLOB.  The  second  argument  is
       optional.

   <b>nmsgs</b>
       Returns the number of parsed messages.

   <b>clean_all</b>
       Cleans  all  files  from  the  "output_dir" directory and then removes the directory. If an error happens
       returns it.

</pre><h4><b>AUTHOR</b></h4><pre>
       Henrique Dias &lt;<a href="mailto:henrique.ribeiro.dias@gmail.com">henrique.ribeiro.dias@gmail.com</a>&gt;

</pre><h4><b>CREDITS</b></h4><pre>
       Thanks to Rui Castro for the revision.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       MIME::Tools, <b><a href="../man1/perl.1.html">perl</a></b>(1).

perl v5.40.0                                       2024-10-20                                       <u><a href="../man3pm/Explode.3pm.html">Explode</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>