<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PX_insert_record — Inserts a new record in the Paradox file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/pxlib-dev">pxlib-dev_0.6.9-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       PX_insert_record — Inserts a new record in the Paradox file

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;paradox.h&gt;

       int PX_insert_record(pxdoc_t *pxdoc, pxval_t **dataptr)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Inserts  a new record stored in the array <b>dataptr</b>         into a Paradox file. The position of the record
       will be determined by the function itself, starting at the beginning of the file  and  searching  towards
       the  end  for  a  free  slot. A free slot can be the result of former calls of <b><a href="../man3/PX_delete_record.3.html">PX_delete_record</a>(3)</b> or not
       completely filled data blocks in the input file. If there is no free slot within the  file,  then  a  new
       record will be added at the end.

       Blobs will be automatically written if a blob file was set with <b><a href="../man3/PX_set_blob_file.3.html">PX_set_blob_file</a>(3)</b>.

       The memory for <b>dataptr</b> and the field values can be freed after <b>PX_insert_record</b> has been called.

       Each  single  element  in  the array of pointers to pxval_t can be easily created with <b>MAKE_PXVAL(pxdoc_t</b>
       <b>*pxdoc,</b> <b>pxval_t</b> <b>*val)</b>              and setting the actual value afterwards. A quite common way  to  build
       up the record is the following:

       dataptr = (pxval_t **) malloc(PX_get_num_fields(pxdoc)*sizeof(pxval_t *));
       MAKE_PXVAL(pxdoc, dataptr[0]);
       dataptr[0]-&gt;type = pxfLong;
       dataptr[0]-&gt;value.lval = 45;
       dataptr[1]-&gt;type = pxfAlpha;
       dataptr[1]-&gt;value.str.val = "test";
       dataptr[1]-&gt;value.str.len = 4;

       PX_insert_record(pxdoc, dataptr);
       free(dataptr[0]);
       free(dataptr[1]);
       free(dataptr);

       There is currently no need to set the type, though it is recommended.

       The field types pxfMemoBLOb and pxfFmtMemoBLOb are treated like strings.

       Fields  of  type pxfAutoInc are automatically incremented if its value is set to NULL. In such a case the
       value is taken from the header of the database.  You  should  not  have  more  than  one  field  of  type
       pxfAutoInc in your database, otherwise the automatic incrementation will not work.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Returns the record number on success or -1 on failure. The number of the first record is 0.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/PX_retrieve_record.3.html">PX_retrieve_record</a>(3)</b>, <b><a href="../man3/PX_delete_record.3.html">PX_delete_record</a>(3)</b>, <b><a href="../man3/PX_update_record.3.html">PX_update_record</a>(3)</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       This manual page was written by Uwe Steinmann <a href="mailto:uwe@steinmann.cx">uwe@steinmann.cx</a>.

                                                                                             <u><a href="../man3/PX_INSERT_RECORD.3.html">PX_INSERT_RECORD</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>