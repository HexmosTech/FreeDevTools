<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>form_driver, form_driver_w - command-processing loop of the form system</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ncurses-doc">ncurses-doc_6.5+20250216-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>form_driver</b>, <b>form_driver_w</b> - command-processing loop of the form system

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;form.h&gt;</b>

       <b>int</b> <b>form_driver(FORM</b> <b>*</b><u>form</u><b>,</b> <b>int</b> <u>c</u><b>);</b>
       <b>int</b> <b>form_driver_w(FORM</b> <b>*</b><u>form</u><b>,</b> <b>int</b> <u>c</u><b>,</b> <b>wchar_t</b> <u>wc</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
   <b>form_driver</b>
       Once  a form has been posted (displayed), you should funnel input events to it through <b>form_driver</b>.  This
       routine has three major input cases:

       •   The input is a form navigation request.  Navigation request codes are constants defined in  <b>&lt;form.h&gt;</b>,
           which are distinct from the key- and character codes returned by <b><a href="../man3NCURSES/wgetch.3NCURSES.html">wgetch</a></b>(3NCURSES).

       •   The input is a printable character.  Printable characters (which must be positive, less than 256) are
           checked according to the program's locale settings.

       •   The input is the KEY_MOUSE special key associated with an mouse event.

   <b>form_driver_w</b>
       This  extension simplifies the use of the forms library using wide characters.  The input is either a key
       code (a request) or a wide character returned by <b><a href="../man3NCURSES/get_wch.3NCURSES.html">get_wch</a></b>(3NCURSES).  The type must be passed as well,  to
       enable the library to determine whether the parameter is a wide character or a request.

   <b>Form</b> <b>Driver</b> <b>Requests</b>
       The form driver requests are as follows:

       <b>Name</b>               <b>Description</b>
       ──────────────────────────────────────────────────────────────────────────────────────────────────────────
       <b>REQ_BEG_FIELD</b>      Move to beginning of field.
       <b>REQ_BEG_LINE</b>       Move to beginning of the line.
       <b>REQ_CLR_EOF</b>        Clear to end of field from cursor.
       <b>REQ_CLR_EOL</b>        Clear to end of line from cursor.
       <b>REQ_CLR_FIELD</b>      Clear the entire field.
       <b>REQ_DEL_CHAR</b>       Delete character at the cursor.
       <b>REQ_DEL_LINE</b>       Delete line at the cursor.
       <b>REQ_DEL_PREV</b>       Delete character before the cursor.
       <b>REQ_DEL_WORD</b>       Delete blank-delimited word at cursor.
       <b>REQ_DOWN_CHAR</b>      Move down in field.
       <b>REQ_DOWN_FIELD</b>     Move down to a field.
       <b>REQ_END_FIELD</b>      Move to the end of field.
       <b>REQ_END_LINE</b>       Move to the end of the line.
       <b>REQ_FIRST_FIELD</b>    Move to the first field.
       <b>REQ_FIRST_PAGE</b>     Move to the first page.
       <b>REQ_INS_CHAR</b>       Insert a blank at the cursor.
       <b>REQ_INS_LINE</b>       Insert a blank line at the cursor.
       <b>REQ_INS_MODE</b>       Enter insert mode.
       <b>REQ_LAST_FIELD</b>     Move to the last field.
       <b>REQ_LAST_PAGE</b>      Move to the last field.
       <b>REQ_LEFT_CHAR</b>      Move left in field.
       <b>REQ_LEFT_FIELD</b>     Move left to a field.
       <b>REQ_NEW_LINE</b>       Insert or overlay a new line.
       <b>REQ_NEXT_CHAR</b>      Move to the next char.
       <b>REQ_NEXT_CHOICE</b>    Display next field choice.
       <b>REQ_NEXT_FIELD</b>     Move to the next field.
       <b>REQ_NEXT_LINE</b>      Move to the next line.
       <b>REQ_NEXT_PAGE</b>      Move to the next page.
       <b>REQ_NEXT_PAGE</b>      Move to the next page.
       <b>REQ_NEXT_WORD</b>      Move to the next word.
       <b>REQ_OVL_MODE</b>       Enter overlay mode.
       <b>REQ_PREV_CHAR</b>      Move to the previous char.
       <b>REQ_PREV_CHOICE</b>    Display previous field choice.
       <b>REQ_PREV_FIELD</b>     Move to the previous field.
       <b>REQ_PREV_LINE</b>      Move to the previous line.
       <b>REQ_PREV_PAGE</b>      Move to the previous page.
       <b>REQ_PREV_WORD</b>      Move to the previous word.
       <b>REQ_RIGHT_CHAR</b>     Move right in field.
       <b>REQ_RIGHT_FIELD</b>    Move right to a field.
       <b>REQ_SCR_BCHAR</b>      Scroll field backward 1 character.
       <b>REQ_SCR_BHPAGE</b>     Scroll field backward ½ page.
       <b>REQ_SCR_BLINE</b>      Scroll field backward 1 line.
       <b>REQ_SCR_BPAGE</b>      Scroll field backward 1 page.
       <b>REQ_SCR_FCHAR</b>      Scroll field forward 1 character.
       <b>REQ_SCR_FHPAGE</b>     Scroll field forward ½ page.
       <b>REQ_SCR_FLINE</b>      Scroll field forward 1 line.
       <b>REQ_SCR_FPAGE</b>      Scroll field forward 1 page.
       <b>REQ_SCR_HBHALF</b>     Horizontal scroll field backward ½ line.
       <b>REQ_SCR_HBLINE</b>     Horizontal scroll field backward 1 line.
       <b>REQ_SCR_HFHALF</b>     Horizontal scroll field forward ½ line.
       <b>REQ_SCR_HFLINE</b>     Horizontal scroll field forward 1 line.
       <b>REQ_SFIRST_FIELD</b>   Move to the sorted first field.
       <b>REQ_SLAST_FIELD</b>    Move to the sorted last field.
       <b>REQ_SNEXT_FIELD</b>    Move to the sorted next field.
       <b>REQ_SPREV_FIELD</b>    Move to the sorted previous field.
       <b>REQ_UP_CHAR</b>        Move up in field.
       <b>REQ_UP_FIELD</b>       Move up to a field.
       <b>REQ_VALIDATION</b>     Validate field.

       If  the  second  argument  is  a printable character, the driver places it in the current position in the
       current field.  If it is one of the forms requests listed above, that request is executed.

   <b>Field</b> <b>Validation</b>
       The form library makes updates to the window associated with form fields  rather  than  directly  to  the
       field buffers.

       The  form  driver  provides  low-level  control  over  updates  to the form fields.  The form driver also
       provides for validating modified fields  to  ensure  that  the  contents  meet  whatever  constraints  an
       application may attach using <b>set_field_type</b>.

       You  can  validate  a  field without making any changes to it using <b>REQ_VALIDATION</b>.  The form driver also
       validates a field in these cases:

       •   a call to <b>set_current_field</b> attempts to move to a different field.

       •   a call to <b>set_current_page</b> attempts to move to a different page of the form.

       •   a request attempts to move to a different field.

       •   a request attempts to move to a different page of the form.

       In each case, the move fails if the field is invalid.

       If the modified field is valid, the form driver copies the modified data from the window associated  with
       the field to the field buffer.

   <b>Mouse</b> <b>Handling</b>
       If the second argument is the KEY_MOUSE special key, the associated mouse event is translated into one of
       the  above pre-defined requests.  Currently only clicks in the user window (e.g., inside the form display
       area or the decoration window) are handled.

       If you click above the display region of the form:

          a REQ_PREV_FIELD is generated for a single click,

          a REQ_PREV_PAGE is generated for a double-click and

          a REQ_FIRST_FIELD is generated for a triple-click.

       If you click below the display region of the form:

          a REQ_NEXT_FIELD is generated for a single click,

          a REQ_NEXT_PAGE is generated for a double-click and

          a REQ_LAST_FIELD is generated for a triple-click.

       If you click at an field inside the display area of the form:

          •   the form cursor is positioned to that field.

          •   If you double-click a field, the form cursor is positioned to that field and <b>E_UNKNOWN_COMMAND</b>  is
              returned.   This  return  value  makes  sense, because a double click usually means that an field-
              specific action should be returned.  It is exactly the purpose of this return value to signal that
              an application specific command should be executed.

          •   If a translation into a request was done, <b>form_driver</b> returns the result of this request.

       If you clicked outside the user window or the mouse event could not be translated into a form request  an
       <b>E_REQUEST_DENIED</b> is returned.

   <b>Application-defined</b> <b>Commands</b>
       If  the  second  argument is neither printable nor one of the above pre-defined form requests, the driver
       assumes it  is  an  application-specific  command  and  returns  <b>E_UNKNOWN_COMMAND</b>.   Application-defined
       commands should be defined relative to <b>MAX_COMMAND</b>, the maximum value of these pre-defined requests.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>form_driver</b> returns one of the following error codes:

       <b>E_OK</b> The routine succeeded.

       <b>E_BAD_ARGUMENT</b>
            Routine detected an incorrect or out-of-range argument.

       <b>E_BAD_STATE</b>
            Routine was called from an initialization or termination function.

       <b>E_NOT_POSTED</b>
            The form has not been posted.

       <b>E_INVALID_FIELD</b>
            Contents of field is invalid.

       <b>E_NOT_CONNECTED</b>
            No fields are connected to the form.

       <b>E_REQUEST_DENIED</b>
            The form driver could not process the request.

       <b>E_SYSTEM_ERROR</b>
            System error occurred (see <b><a href="../man3/errno.3.html">errno</a></b>(3)).

       <b>E_UNKNOWN_COMMAND</b>
            The form driver code saw an unknown request code.

</pre><h4><b>PORTABILITY</b></h4><pre>
       These routines emulate the System V forms library.  They were not supported on Version 7 or BSD versions.

</pre><h4><b>AUTHORS</b></h4><pre>
       Juergen Pfeifer.  Manual pages and adaptation for new curses by Eric S. Raymond.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3NCURSES/ncurses.3NCURSES.html">ncurses</a></b>(3NCURSES),    <b><a href="../man3FORM/form.3FORM.html">form</a></b>(3FORM),    <b><a href="../man3FORM/fieldtype.3FORM.html">fieldtype</a></b>(3FORM),   <b><a href="../man3FORM/field_buffer.3FORM.html">field_buffer</a></b>(3FORM),   <b><a href="../man3FORM/field_validation.3FORM.html">field_validation</a></b>(3FORM),
       <b><a href="../man3FORM/form_variables.3FORM.html">form_variables</a></b>(3FORM), <b><a href="../man3NCURSES/getch.3NCURSES.html">getch</a></b>(3NCURSES)

ncurses 6.5                                        2024-04-20                                      <u><a href="../man3FORM/driver.3FORM.html">driver</a></u>(3FORM)
</pre>
 </div>
</div></section>
</div>
</body>
</html>