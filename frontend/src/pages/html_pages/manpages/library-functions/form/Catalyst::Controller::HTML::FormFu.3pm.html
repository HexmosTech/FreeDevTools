<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalyst::Controller::HTML::FormFu - Catalyst integration for HTML::FormFu</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcatalyst-controller-html-formfu-perl">libcatalyst-controller-html-formfu-perl_2.04-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Catalyst::Controller::HTML::FormFu - Catalyst integration for HTML::FormFu

</pre><h4><b>VERSION</b></h4><pre>
       version 2.04

</pre><h4><b>SYNOPSIS</b></h4><pre>
           package MyApp::Controller::My::Controller;

           use Moose;
           use namespace::autoclean;

           BEGIN { extends 'Catalyst::Controller::HTML::FormFu'; }

           sub index : Local {
               my ( $self, $c ) = @_;

               # doesn't use an Attribute to make a form
               # can get an empty form from $self-&gt;form()

               my $form = $self-&gt;form();
           }

           sub foo : Local : Form {
               my ( $self, $c ) = @_;

               # using the Form attribute is equivalent to:
               #
               # my $form = $self-&gt;form;
               #
               # $form-&gt;process;
               #
               # $c-&gt;stash-&gt;{form} = $form;
           }

           sub bar : Local : FormConfig {
               my ( $self, $c ) = @_;

               # using the FormConfig attribute is equivalent to:
               #
               # my $form = $self-&gt;form;
               #
               # $form-&gt;load_config_filestem('root/forms/my/controller/bar');
               #
               # $form-&gt;process;
               #
               # $c-&gt;stash-&gt;{form} = $form;
               #
               # so you only need to do the following...

               my $form = $c-&gt;stash-&gt;{form};

               if ( $form-&gt;submitted_and_valid ) {
                   do_something();
               }
           }

           sub baz : Local : FormConfig('my_config') {
               my ( $self, $c ) = @_;

               # using the FormConfig attribute with an argument is equivalent to:
               #
               # my $form = $self-&gt;form;
               #
               # $form-&gt;load_config_filestem('root/forms/my_config');
               #
               # $form-&gt;process;
               #
               # $c-&gt;stash-&gt;{form} = $form;
               #
               # so you only need to do the following...

               my $form = $c-&gt;stash-&gt;{form};

               if ( $form-&gt;submitted_and_valid ) {
                   do_something();
               }
           }

           sub quux : Local : FormMethod('load_form') {
               my ( $self, $c ) = @_;

               # using the FormMethod attribute with an argument is equivalent to:
               #
               # my $form = $self-&gt;form;
               #
               # $form-&gt;populate( $c-&gt;load_form );
               #
               # $form-&gt;process;
               #
               # $c-&gt;stash-&gt;{form} = $form;
               #
               # so you only need to do the following...

               my $form = $c-&gt;stash-&gt;{form};

               if ( $form-&gt;submitted_and_valid ) {
                   do_something();
               }
           }

           sub load_form {
               my ( $self, $c ) = @_;

               # Automatically called by the above FormMethod('load_form') action.
               # Called as a method on the controller object, with the context
               # object as an argument.

               # Must return a hash-ref suitable to be fed to $form-&gt;populate()
           }

       You can also use specially-named actions that will only be called under certain circumstances.

           sub edit : Chained('group') : PathPart : <a href="../man0/Args.0.html">Args</a>(0) : FormConfig { }

           sub edit_FORM_VALID {
               my ( $self, $c ) = @_;

               my $form  = $c-&gt;stash-&gt;{form};
               my $group = $c-&gt;stash-&gt;{group};

               $form-&gt;model-&gt;update( $group );

               $c-&gt;response-&gt;redirect( $c-&gt;uri_for( '/group', $group-&gt;id ) );
           }

           sub edit_FORM_NOT_SUBMITTED {
               my ( $self, $c ) = @_;

               my $form  = $c-&gt;stash-&gt;{form};
               my $group = $c-&gt;stash-&gt;{group};

               $form-&gt;model-&gt;default_values( $group );
           }

</pre><h4><b>METHODS</b></h4><pre>
   <b>form</b>
       This creates a new HTML::FormFu object, passing as it's argument the contents of the "constructor" config
       value.

       This is useful when using the <b>ConfigForm()</b> or <b>MethodForm()</b> action attributes, to create a 2nd form which
       isn't populated using a config-file or method return value.

           sub foo : Local {
               my ( $self, $c ) = @_;

               my $form = $self-&gt;form;
           }

       Note that when using this method, the form's query method is not populated with the Catalyst request
       object.

</pre><h4><b>SPECIAL</b> <b>ACTION</b> <b>NAMES</b></h4><pre>
       An example showing how a complicated action method can be broken down into smaller sections, making it
       clearer which code will be run, and when.

           sub edit : Local : FormConfig {
               my ( $self, $c ) = @_;

               my $form  = $c-&gt;stash-&gt;{form};
               my $group = $c-&gt;stash-&gt;{group};

               $c-&gt;detach('/unauthorised') unless $c-&gt;user-&gt;can_edit( $group );

               if ( $form-&gt;submitted_and_valid ) {
                   $form-&gt;model-&gt;update( $group );

                   $c-&gt;response-&gt;redirect( $c-&gt;uri_for('/group', $group-&gt;id ) );
                   return;
               }
               elsif ( !$form-&gt;submitted ) {
                   $form-&gt;model-&gt;default_values( $group );
               }

               $self-&gt;_add_breadcrumbs_nav( $c, $group );
           }

       Instead becomes...

           sub edit : Local : FormConfig {
               my ( $self, $c ) = @_;

               $c-&gt;detach('/unauthorised') unless $c-&gt;user-&gt;can_edit(
                   $c-&gt;stash-&gt;{group}
               );
           }

           sub edit_FORM_VALID {
               my ( $self, $c ) = @_;

               my $group = $c-&gt;stash-&gt;{group};

               $c-&gt;stash-&gt;{form}-&gt;model-&gt;update( $group );

               $c-&gt;response-&gt;redirect( $c-&gt;uri_for('/group', $group-&gt;id ) );
           }

           sub edit_FORM_NOT_SUBMITTED {
               my ( $self, $c ) = @_;

               $c-&gt;stash-&gt;{form}-&gt;model-&gt;default_values(
                   $c-&gt;stash-&gt;{group}
               );
           }

           sub edit_FORM_RENDER {
               my ( $self, $c ) = @_;

               $self-&gt;_add_breadcrumbs_nav( $c, $c-&gt;stash-&gt;{group} );
           }

       For any action method that uses a "Form", "FormConfig" or "FormMethod" attribute, you can add extra
       methods that use the naming conventions below.

       These methods will be called after the original, plainly named action method.

   <b>_FORM_VALID</b>
       Run when the form has been submitted and has no errors.

   <b>_FORM_SUBMITTED</b>
       Run when the form has been submitted, regardless of whether or not there was errors.

   <b>_FORM_COMPLETE</b>
       For MultiForms, is run if the MultiForm is completed.

   <b>_FORM_NOT_VALID</b>
       Run when the form has been submitted and there were errors.

   <b>_FORM_NOT_SUBMITTED</b>
       Run when the form has not been submitted.

   <b>_FORM_NOT_COMPLETE</b>
       For MultiForms, is run if the MultiForm is not completed.

   <b>_FORM_RENDER</b>
       For normal "Form" base classes, this subroutine is run after any of the other special methods, unless
       "$form-&gt;submitted_and_valid" is true.

       For "MultiForm" base classes, this subroutine is run after any of the other special methods, unless
       "$multi-&gt;complete" is true.

</pre><h4><b>CUSTOMIZATION</b></h4><pre>
       You can set your own config settings, using either your controller config or your application config.

           $c-&gt;config( 'Controller::HTML::FormFu' =&gt; \%my_values );

           # or

           MyApp-&gt;config( 'Controller::HTML::FormFu' =&gt; \%my_values );

           # or, in myapp.conf

           &lt;Controller::HTML::FormFu&gt;
               default_action_use_path 1
           &lt;/Controller::HTML::FormFu&gt;

   <b>form_method</b>
       Override the method-name used to create a new form object.

       See "form".

       Default value: "form".

   <b>form_stash</b>
       Sets the stash key name used to store the form object.

       Default value: "form".

   <b>form_attr</b>
       Sets the attribute name used to load the Catalyst::Controller::HTML::FormFu::Action::Form action.

       Default value: "Form".

   <b>config_attr</b>
       Sets the attribute name used to load the Catalyst::Controller::HTML::FormFu::Action::Config action.

       Default value: "FormConfig".

   <b>method_attr</b>
       Sets the attribute name used to load the Catalyst::Controller::HTML::FormFu::Action::Method action.

       Default value: "FormMethod".

   <b>form_action</b>
       Sets which package will be used by the <b>Form()</b> action.

       Probably only useful if you want to create a sub-class which provides custom behaviour.

       Default value: "Catalyst::Controller::HTML::FormFu::Action::Form".

   <b>config_action</b>
       Sets which package will be used by the <b>Config()</b> action.

       Probably only useful if you want to create a sub-class which provides custom behaviour.

       Default value: "Catalyst::Controller::HTML::FormFu::Action::Config".

   <b>method_action</b>
       Sets which package will be used by the <b>Method()</b> action.

       Probably only useful if you want to create a sub-class which provides custom behaviour.

       Default value: "Catalyst::Controller::HTML::FormFu::Action::Method".

   <b>constructor</b>
       Pass common defaults to the HTML::FormFu constructor.

       These values are used by all of the action attributes, and by the "$self-&gt;form" method.

       Default value: "{}".

   <b>config_callback</b>
       Arguments: bool

       If true, a coderef is passed to "$form-&gt;config_callback-&gt;{plain_value}" which replaces any instance of
       "__uri_for(URI)__" found in form config files with the result of passing the "URI" argument to "uri_for"
       in Catalyst.

       The form "__uri_for(URI, PATH, PARTS)__" is also supported, which is equivalent to "$c-&gt;uri_for( 'URI',
       \@ARGS )". At this time, there is no way to pass query values equivalent to "$c-&gt;uri_for( 'URI', \@ARGS,
       \%QUERY_VALUES )".

       The second codeword that is being replaced is "__path_to( @DIRS )__". Any instance is replaced with the
       result of passing the "DIRS" arguments to "path_to" in Catalyst. Don't use qoutationmarks as they would
       become part of the path.

       Default value: 1

   <b>default_action_use_name</b>
       If set to a true value the action for the form will be set to the currently called action name.

       Default value: "false".

   <b>default_action_use_path</b>
       If set to a true value the action for the form will be set to the currently called action path. The
       action path includes concurrent to action name additioal parameters which were code inside the path.

       Default value: "false".

       Example:

           action: /foo/bar
           called uri contains: /foo/bar/1

           # default_action_use_name =&gt; 1 leads to:
           $form-&gt;action = /foo/bar

           # default_action_use_path =&gt; 1 leads to:
           $form-&gt;action = /foo/bar/1

   <b>model_stash</b>
       Arguments: \%stash_keys_to_model_names

       Used to place Catalyst models on the form stash.

       If it's being used to make a DBIx::Class schema available for "options_from_model" in
       HTML::FormFu::Model::DBIC, for "Select" and other Group-type elements - then the hash-key must be
       "schema". For example, if your schema model class is "MyApp::Model::MySchema", you would set
       "model_stash" like so:

           &lt;Controller::HTML::FormFu&gt;
               &lt;model_stash&gt;
                   schema MySchema
               &lt;/model_stash&gt;
           &lt;/Controller::HTML::FormFu&gt;

   <b>context_stash</b>
       To allow your form validation packages, etc, access to the catalyst context, a weakened reference of the
       context is copied into the form's stash.

           $form-&gt;stash-&gt;{context};

       This setting allows you to change the key name used in the form stash.

       Default value: "context"

   <b>languages_from_context</b>
       If you're using a L10N / I18N plugin such as Catalyst::Plugin::I18N which provides a "languages" method
       that returns a list of valid languages to use for the currect request - and you want to use formfu's
       built-in I18N packages, then setting "languages_from_context"

   <b>localize_from_context</b>
       If you're using a L10N / I18N plugin such as Catalyst::Plugin::I18N which provides it's own "localize"
       method, you can set localize_from_context to use that method for formfu's localization.

   <b>request_token_enable</b>
       If true, adds an instance of HTML::FormFu::Plugin::RequestToken to every form, to stop accidental double-
       submissions of data and to prevent CSRF attacks.

   <b>request_token_field_name</b>
       Defaults to "_token".

   <b>request_token_session_key</b>
       Defaults to "__token".

   <b>request_token_expiration_time</b>
       Defaults to 3600.

</pre><h4><b>DISCONTINUED</b> <b>CONFIG</b> <b>SETTINGS</b></h4><pre>
   <b>config_file_ext</b>
       Support for this has now been removed. Config files are now searched for, with any file extension
       supported by Config::Any.

   <b>config_file_path</b>
       Support for this has now been removed. Use "{constructor}{config_file_path}" instead.

</pre><h4><b>CAVEATS</b></h4><pre>
       When using the "Form" action attribute to create an empty form, you must call $form-&gt;process after
       populating the form. However, you don't need to pass any arguments to "process", as the Catalyst request
       object will have automatically been set in $form-&gt;query.

       When using the "FormConfig" and "FormMethod" action attributes, if you make any modifications to the
       form, such as adding or changing it's elements, you must call $form-&gt;process before rendering the form.

</pre><h4><b>AUTHORS</b></h4><pre>
       •   Carl Franks &lt;<a href="mailto:cpan@fireartist.com">cpan@fireartist.com</a>&gt;

       •   Nigel Metheringham &lt;<a href="mailto:nigelm@cpan.org">nigelm@cpan.org</a>&gt;

       •   Dean Hamstead &lt;<a href="mailto:dean@bytefoundry.com.au">dean@bytefoundry.com.au</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2007-2018 by Carl Franks / Nigel Metheringham / Dean Hamstead.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

</pre><h4><b>SUPPORT</b></h4><pre>
   <b>Perldoc</b>
       You can find documentation for this module with the perldoc command.

         perldoc Catalyst::Controller::HTML::FormFu

   <b>Websites</b>
       The following websites have more information about this module, and may be of help to you. As always,  in
       addition to those websites please use your favorite search engine to discover more resources.

       •   MetaCPAN

           A modern, open-source CPAN search engine, useful to view POD in HTML format.

           &lt;<a href="http://metacpan.org/release/Catalyst-Controller-HTML-FormFu">http://metacpan.org/release/Catalyst-Controller-HTML-FormFu</a>&gt;

       •   Search CPAN

           The default CPAN search engine, useful to view POD in HTML format.

           &lt;<a href="http://search.cpan.org/dist/Catalyst-Controller-HTML-FormFu">http://search.cpan.org/dist/Catalyst-Controller-HTML-FormFu</a>&gt;

       •   RT: CPAN's Bug Tracker

           The RT ( Request Tracker ) website is the default bug/issue tracking system for CPAN.

           &lt;https://rt.cpan.org/Public/Dist/Display.html?Name=Catalyst-Controller-HTML-FormFu&gt;

       •   AnnoCPAN

           The AnnoCPAN is a website that allows community annotations of Perl module documentation.

           &lt;<a href="http://annocpan.org/dist/Catalyst-Controller-HTML-FormFu">http://annocpan.org/dist/Catalyst-Controller-HTML-FormFu</a>&gt;

       •   CPAN Ratings

           The CPAN Ratings is a website that allows community ratings and reviews of Perl modules.

           &lt;<a href="http://cpanratings.perl.org/d/Catalyst-Controller-HTML-FormFu">http://cpanratings.perl.org/d/Catalyst-Controller-HTML-FormFu</a>&gt;

       •   CPAN Forum

           The CPAN Forum is a web forum for discussing Perl modules.

           &lt;<a href="http://cpanforum.com/dist/Catalyst-Controller-HTML-FormFu">http://cpanforum.com/dist/Catalyst-Controller-HTML-FormFu</a>&gt;

       •   CPANTS

           The CPANTS is a website that analyzes the Kwalitee ( code metrics ) of a distribution.

           &lt;<a href="http://cpants.cpanauthors.org/dist/Catalyst-Controller-HTML-FormFu">http://cpants.cpanauthors.org/dist/Catalyst-Controller-HTML-FormFu</a>&gt;

       •   CPAN Testers

           The CPAN Testers is a network of smokers who run automated tests on uploaded CPAN distributions.

           &lt;<a href="http://www.cpantesters.org/distro/C/Catalyst-Controller-HTML-FormFu">http://www.cpantesters.org/distro/C/Catalyst-Controller-HTML-FormFu</a>&gt;

       •   CPAN Testers Matrix

           The  CPAN  Testers  Matrix  is  a  website  that provides a visual overview of the test results for a
           distribution on various Perls/platforms.

           &lt;<a href="http://matrix.cpantesters.org/">http://matrix.cpantesters.org/</a>?dist=Catalyst-Controller-HTML-FormFu&gt;

       •   CPAN Testers Dependencies

           The CPAN Testers Dependencies is a website that shows a chart of the test results of all dependencies
           for a distribution.

           &lt;<a href="http://deps.cpantesters.org/">http://deps.cpantesters.org/</a>?module=Catalyst::Controller::HTML::FormFu&gt;

   <b>Bugs</b> <b>/</b> <b>Feature</b> <b>Requests</b>
       Please  report  any  bugs  or  feature  requests  by  email  to  "bug-catalyst-controller-html-formfu  at
       rt.cpan.org",           or           through           the           web           interface           at
       &lt;https://rt.cpan.org/Public/Bug/Report.html?Queue=Catalyst-Controller-HTML-FormFu&gt;.    You    will     be
       automatically notified of any progress on the request by the system.

   <b>Source</b> <b>Code</b>
       The  code  is open to the world, and available for you to hack on. Please feel free to browse it and play
       with it, or whatever. If you want to contribute patches, please send me a diff or prod me  to  pull  from
       your repository :)

       &lt;https://github.com/FormFu/Catalyst-Controller-HTML-FormFu&gt;

         git clone https://github.com/FormFu/Catalyst-Controller-HTML-FormFu.git

</pre><h4><b>CONTRIBUTORS</b></h4><pre>
       •   Aran Deltac &lt;<a href="mailto:aran@ziprecruiter.com">aran@ziprecruiter.com</a>&gt;

       •   bricas &lt;<a href="mailto:brian.cassidy@gmail.com">brian.cassidy@gmail.com</a>&gt;

       •   dandv &lt;<a href="mailto:ddascalescu@gmail.com">ddascalescu@gmail.com</a>&gt;

       •   fireartist &lt;<a href="mailto:fireartist@gmail.com">fireartist@gmail.com</a>&gt;

       •   lestrrat &lt;lestrrat+<a href="mailto:github@gmail.com">github@gmail.com</a>&gt;

       •   marcusramberg &lt;<a href="mailto:marcus.ramberg@gmail.com">marcus.ramberg@gmail.com</a>&gt;

       •   mariominati &lt;<a href="mailto:mario.minati@googlemail.com">mario.minati@googlemail.com</a>&gt;

       •   Moritz Onken &lt;<a href="mailto:1nd@gmx.de">1nd@gmx.de</a>&gt;

       •   Moritz Onken &lt;<a href="mailto:onken@netcubed.de">onken@netcubed.de</a>&gt;

       •   Nigel Metheringham &lt;<a href="mailto:nm9762github@muesli.org.uk">nm9762github@muesli.org.uk</a>&gt;

       •   omega &lt;<a href="mailto:andreas.marienborg@gmail.com">andreas.marienborg@gmail.com</a>&gt;

       •   Petr Písař &lt;<a href="mailto:ppisar@redhat.com">ppisar@redhat.com</a>&gt;

perl v5.36.0                                       2022-12-06             <u>Catalyst::Contr...r::HTML::<a href="../man3pm/FormFu.3pm.html">FormFu</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>