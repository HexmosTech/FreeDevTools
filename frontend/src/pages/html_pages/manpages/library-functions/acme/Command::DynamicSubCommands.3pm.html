<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Command::DynamicSubCommands - auto-generate sub-commands based on other classes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libur-perl">libur-perl_0.470+ds-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Command::DynamicSubCommands - auto-generate sub-commands based on other classes

</pre><h4><b>SYNOPSIS</b></h4><pre>
        # given that these classes exist:
        #   Acme::Task::Foo
        #   Acme::Task::Bar

        # in Acme/Worker/Command/DoTask.pm:

           class Acme::Worker::Command::DoTask {
               is =&gt; 'Command::DynamicSubCommands',
               has =&gt; [
                   param1 =&gt; { is =&gt; 'Text' },
                   param2 =&gt; { is =&gt; 'Text' },
               ]
           };

           sub _sub_commands_from { 'Acme::Task' }

           sub execute {
               my $self = shift;
               print "this command " . ref($self) . " applies to " . $self-&gt;_target_class_name;
               return 1;
           }

        # the class above will discover them at compile,
        # and auto-generate these subclasses of itself:
        #   Acme::Worker::Command::DoTask::Foo
        #   Acme::Worker::Command::DoTask::Bar

        # in the shell...
        #
        #   $ acme worker do-task
        #   foo
        #   bar
        #
        #   $ acme worker do-task foo --param1 aaa --param2 bbb
        #   this command Acme::Worker::Command::DoTask::Foo applies to Acme::Task::Foo
        #
        #   $ acme worker do-task bar --param1 ccc --param2 ddd
        #   this command Acme::Worker::Command::DoTask::Bar applies to Acme::Task::Bar

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module helps you avoid writing boilerplate commands.

       When a command has a set of sub-commands which are meant to be derived from another group of classes,
       this module lets you auto-generate those sub-commands at run time.

</pre><h4><b>REQUIRED</b> <b>ABSTRACT</b> <b>METHOD</b></h4><pre>
       _sub_commands_from
               $base_namespace = Acme::Order::Command-&gt;_sub_commands_from();
               # 'Acme::Task

               Returns the namespace from which target classes will be discovered, and
               sub-commands will be generated.

</pre><h4><b>PRIVATE</b> <b>API</b></h4><pre>
       _target_class_name
               $c= Acme::Order::Command::Purchasing-&gt;_target_class_name;
               # 'Acme::Task::Foo'

               The name of some class under the _sub_commands_from() namespace.
               This value is set during execute, revealing which sub-command the caller is using.

</pre><h4><b>OPTIONAL</b> <b>OVERRIDES</b></h4><pre>
       _build_sub_commmand
               This can be overridden to customize the sub-command construction.
               By default, each target under _sub_commands_from will result in
               a call to this method.  The default implementation is below:

               my $self = shift;
               my ($suggested_class_name,$delegator_class_name,$target_class_name) = @_;

               class {$suggested_class_name} {
                   is =&gt; $delegator_class_name,
                   sub_classify_by =&gt; 'class',
                   has_constant =&gt; [
                       _target_class_name =&gt; { value =&gt; $target_class_name },
                   ]
               };

               return ($suggested_class_name);

               Note that the class in question may be on the filesystem, and not need
               to be created.  The return list can include more than one class name,
               or zero class names.

       _build_all_sub_commands
               This is called once for any class which inherits from Command::DynamicSubCommands.

               It generates the sub-commands as needed, and returns a list.

               By default it resolves the target classes, and calls  _build_sub_command

               It can be overridden to customize behavior, or filter results.  Be sure
               to call @cmds = $self-&gt;SUPER::_build_all_sub_commands() if you want
               to get the default commands in addition to overriding.

       The sub-commands need not be 1:1 with the target classes, though this is the default.

       The sub-commands need not inherit from the Command::DynamicSubCommands base command which generates them,
       though this is the default.

perl v5.38.2                                       2024-06-15                   <u>Command::<a href="../man3pm/DynamicSubCommands.3pm.html">DynamicSubCommands</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>