<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       setregid — set real and effective group IDs

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/unistd.h">unistd.h</a>&gt;

       int setregid(gid_t <u>rgid</u>, gid_t <u>egid</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <u>setregid</u>() function shall set the real and effective group IDs of the calling process.

       If <u>rgid</u> is -1, the real group ID shall not be changed; if <u>egid</u> is -1, the effective group ID shall not be
       changed.

       The real and effective group IDs may be set to different values in the same call.

       Only  a  process  with appropriate privileges can set the real group ID and the effective group ID to any
       valid value.

       A non-privileged process can set either the real group ID to the saved set-group-ID from one of the  <u>exec</u>
       family of functions, or the effective group ID to the saved set-group-ID or the real group ID.

       If the real group ID is being set (<u>rgid</u> is not -1), or the effective group ID is being set to a value not
       equal  to the real group ID, then the saved set-group-ID of the current process shall be set equal to the
       new effective group ID.

       Any supplementary group IDs of the calling process remain unchanged.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon successful completion, 0 shall be returned. Otherwise,  -1  shall  be  returned  and  <u>errno</u>  set  to
       indicate the error, and neither of the group IDs are changed.

</pre><h4><b>ERRORS</b></h4><pre>
       The <u>setregid</u>() function shall fail if:

       <b>EINVAL</b> The value of the <u>rgid</u> or <u>egid</u> argument is invalid or out-of-range.

       <b>EPERM</b>  The  process  does not have appropriate privileges and a change other than changing the real group
              ID to the saved set-group-ID, or changing the effective group ID to the real group ID or the saved
              set-group-ID, was requested.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       None.

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       If a non-privileged set-group-ID process sets its effective group ID to its real group ID,  it  can  only
       set  its  effective  group ID back to the previous value if <u>rgid</u> was -1 in the <u>setregid</u>() call, since the
       saved-group-ID is not changed in that case. If <u>rgid</u> was equal to the real  group  ID  in  the  <u>setregid</u>()
       call, then the saved set-group-ID will also have been changed to the real user ID.

</pre><h4><b>RATIONALE</b></h4><pre>
       Earlier  versions  of  this  standard  did  not  specify  whether  the saved set-group-ID was affected by
       <u>setregid</u>() calls. This version specifies common existing practice that constitutes an important  security
       feature. The ability to set both the effective group ID and saved set-group-ID to be the same as the real
       group  ID  means  that  any  security weakness in code that is executed after that point cannot result in
       malicious code being executed with the previous effective group ID. Privileged applications could already
       do this using just <u>setgid</u>(), but for non-privileged applications the only standard method available is to
       use this feature of <u>setregid</u>().

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>exec</u>, <u>getegid</u>(), <u>geteuid</u>(), <u>getgid</u>(), <u>getuid</u>(), <u>setegid</u>(), <u>seteuid</u>(), <u>setgid</u>(), <u>setreuid</u>(), <u>setuid</u>()

       The Base Definitions volume of POSIX.1‐2017, <b>&lt;unistd.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                      <u><a href="../man3POSIX/SETREGID.3POSIX.html">SETREGID</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>