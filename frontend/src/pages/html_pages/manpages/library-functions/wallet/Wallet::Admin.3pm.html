<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wallet::Admin - Wallet system administrative interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/krb5-wallet-server">krb5-wallet-server_1.7_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Wallet::Admin - Wallet system administrative interface

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Wallet::Admin;
           my $admin = Wallet::Admin-&gt;new;
           unless ($admin-&gt;initialize ('user/<a href="mailto:admin@EXAMPLE.COM">admin@EXAMPLE.COM</a>')) {
               die $admin-&gt;error;
           }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Wallet::Admin implements the administrative interface to the wallet server and database.  It is normally
       instantiated and used by <b>wallet-admin</b>, a thin wrapper around this object that provides a command-line
       interface to its actions.

       To use this object, several configuration variables must be set (at least the database configuration).
       For information on those variables and how to set them, see Wallet::Config.  For more information on the
       normal user interface to the wallet server, see Wallet::Server.

</pre><h4><b>CLASS</b> <b>METHODS</b></h4><pre>
       <b>new()</b>
           Creates  a  new wallet administrative object and connects to the database.  On any error, this method
           throws an exception.

</pre><h4><b>INSTANCE</b> <b>METHODS</b></h4><pre>
       For all methods that can fail, the caller should call <b>error()</b> after a failure to get the error message.

       destroy ()
           Destroys the database, deleting all of its data and all of the tables  used  by  the  wallet  server.
           Returns true on success and false on failure.

       error ()
           Returns  the  error  of  the  last  failing operation or undef if no operations have failed.  Callers
           should call this function to get the error message after an undef  return  from  any  other  instance
           method.

       initialize(PRINCIPAL)
           Initializes the database as configured in Wallet::Config and loads the wallet database schema.  Then,
           creates  an  ACL with the name ADMIN and adds an ACL entry of scheme "krb5" and instance PRINCIPAL to
           that ACL.  This bootstraps the authorization system and lets  that  Kerberos  identity  make  further
           changes  to  the ADMIN ACL and the rest of the wallet database.  Returns true on success and false on
           failure.

           <b>initialize()</b> uses "localhost" as the hostname and PRINCIPAL as the user when logging the  history  of
           the ADMIN ACL creation and for any subsequent actions on the object it returns.

       register_object (TYPE, CLASS)
           Register  in  the  database  a mapping from the object type TYPE to the class CLASS.  Returns true on
           success and false on failure (including when the verifier is already registered).

       register_verifier (SCHEME, CLASS)
           Register in the database a mapping from the ACL scheme SCHEME to the class CLASS.   Returns  true  on
           success and false on failure (including when the verifier is already registered).

       reinitialize (PRINCIPAL)
           Performs  the  same actions as <b>initialize()</b>, but first drops any existing wallet database tables from
           the database, allowing this function to be called on a prior wallet database.  All data stored in the
           database will be deleted and a fresh set of wallet database tables will be created.  This  method  is
           equivalent  to  calling  <b>destroy()</b>  followed  by  <b>initialize()</b>.  Returns true on success and false on
           failure.

       upgrade ()
           Upgrades the database to the latest schema version, preserving data as  much  as  possible.   Returns
           true on success and false on failure.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/wallet-admin.8.html">wallet-admin</a></b>(8)

       This   module   is   part   of   the   wallet   system.    The   current   version   is   available  from
       &lt;https://www.eyrie.org/~eagle/software/wallet/&gt;.

</pre><h4><b>AUTHOR</b></h4><pre>
       Russ Allbery &lt;<a href="mailto:eagle@eyrie.org">eagle@eyrie.org</a>&gt;

perl v5.40.0                                       2024-11-12                                 <u>Wallet::<a href="../man3pm/Admin.3pm.html">Admin</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>