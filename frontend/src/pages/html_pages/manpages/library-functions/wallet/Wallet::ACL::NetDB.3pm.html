<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wallet::ACL::NetDB - Wallet ACL verifier for NetDB roles</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/krb5-wallet-server">krb5-wallet-server_1.7_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Wallet::ACL::NetDB - Wallet ACL verifier for NetDB roles

</pre><h4><b>SYNOPSIS</b></h4><pre>
           my $verifier = Wallet::ACL::NetDB-&gt;new;
           my $status = $verifier-&gt;check ($principal, $node);
           if (not defined $status) {
               die "Something failed: ", $verifier-&gt;error, "\n";
           } elsif ($status) {
               print "Access granted\n";
           } else {
               print "Access denied\n";
           }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Wallet::ACL::NetDB checks a principal against the NetDB roles for a given host.  It is used to verify ACL
       lines of type "netdb".  The value of such an ACL is a node, and the ACL grants access to a given
       principal if and only if that principal has one of the roles user, admin, or team for that node.

       To use this object, several configuration parameters must be set.  See Wallet::Config for details on
       those configuration parameters and information about how to set wallet configuration.

</pre><h4><b>METHODS</b></h4><pre>
       <b>new()</b>
           Creates a new ACL verifier.  Opens the remctl connection to the NetDB server and authenticates.

       check(PRINCIPAL, ACL)
           Returns  true  if  PRINCIPAL  is granted access according to ACL, false if not, and undef on an error
           (see "DIAGNOSTICS" below).  ACL is a node, and PRINCIPAL will be granted access if it (with the realm
           stripped off if configured) has the user, admin, or team role for that node.

       <b>error()</b>
           Returns the error if <b>check()</b> returned undef.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       The <b>new()</b> method may fail with one of the following exceptions:

       NetDB ACL support not available: %s
           The Net::Remctl Perl module, required for NetDB ACL support, could not be loaded.

       NetDB ACL support not configured
           The required  configuration  parameters  were  not  set.   See  <b>Wallet::<a href="../man3/Config.3.html">Config</a></b>(3)  for  the  required
           configuration parameters and how to set them.

       cannot connect to NetDB remctl interface: %s
           Connecting to the NetDB remctl interface failed with the given error message.

       Verifying a NetDB ACL may fail with the following errors (returned by the <b>error()</b> method):

       cannot check NetDB ACL: %s
           Issuing the remctl command to get the roles for the given principal failed or returned an error.

       error checking NetDB ACL: %s
           The  NetDB  remctl interface that returns the roles for a user returned an error message or otherwise
           returned failure.

       malformed netdb ACL
           The ACL parameter to <b>check()</b> was malformed.  Currently, this error is only given if ACL is  undefined
           or the empty string.

       malformed NetDB remctl token: %s
           The  Net::Remctl  Perl  library returned a malformed token.  This should never happen and indicates a
           bug in Net::Remctl.

       no principal specified
           The PRINCIPAL parameter to <b>check()</b> was undefined or the empty string.

</pre><h4><b>CAVEATS</b></h4><pre>
       The list of possible NetDB roles that should be considered sufficient to grant access  is  not  currently
       configurable.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>Net::<a href="../man3/Remctl.3.html">Remctl</a></b>(3), <b>Wallet::<a href="../man3/ACL.3.html">ACL</a></b>(3), <b>Wallet::ACL::<a href="../man3/Base.3.html">Base</a></b>(3), <b>Wallet::<a href="../man3/Config.3.html">Config</a></b>(3), <b><a href="../man8/wallet-backend.8.html">wallet-backend</a></b>(8)

       NetDB  is  a  free  software  system  for  managing  DNS, DHCP, and related machine information for large
       organizations.  For more information on NetDB, see &lt;https://web.stanford.edu/group/networking/netdb/&gt;.

       This  module   is   part   of   the   wallet   system.    The   current   version   is   available   from
       &lt;https://www.eyrie.org/~eagle/software/wallet/&gt;.

</pre><h4><b>AUTHOR</b></h4><pre>
       Russ Allbery &lt;<a href="mailto:eagle@eyrie.org">eagle@eyrie.org</a>&gt;

perl v5.40.0                                       2024-11-12                            <u>Wallet::ACL::<a href="../man3pm/NetDB.3pm.html">NetDB</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>