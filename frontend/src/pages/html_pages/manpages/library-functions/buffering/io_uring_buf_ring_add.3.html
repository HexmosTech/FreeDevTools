<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>io_uring_buf_ring_add - add buffers to a shared buffer ring</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liburing-dev">liburing-dev_2.11-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       io_uring_buf_ring_add - add buffers to a shared buffer ring

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;liburing.h&gt;</b>

       <b>void</b> <b>io_uring_buf_ring_add(struct</b> <b>io_uring_buf_ring</b> <b>*</b><u>br</u><b>,</b>
                                  <b>void</b> <b>*</b><u>addr</u><b>,</b>
                                  <b>unsigned</b> <b>int</b> <u>len</u><b>,</b>
                                  <b>unsigned</b> <b>short</b> <u>bid</u><b>,</b>
                                  <b>int</b> <u>mask</u><b>,</b>
                                  <b>int</b> <u>buf_offset</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b><a href="../man3/io_uring_buf_ring_add.3.html">io_uring_buf_ring_add</a></b>(3)  adds  a  new  buffer  to the shared buffer ring <u>br</u>.  The buffer address is
       indicated by <u>addr</u> and is of <u>len</u> bytes of length.  <u>bid</u> is the buffer ID, which will  be  returned  in  the
       CQE.   <u>mask</u>  is  the  size mask of the ring, available from <b><a href="../man3/io_uring_buf_ring_mask.3.html">io_uring_buf_ring_mask</a></b>(3)<b>.</b>  <u>buf_offset</u> is the
       offset to insert at from the current tail. If just one  buffer  is  provided  before  the  ring  tail  is
       committed with <b><a href="../man3/io_uring_buf_ring_advance.3.html">io_uring_buf_ring_advance</a></b>(3) or <b><a href="../man3/io_uring_buf_ring_cq_advance.3.html">io_uring_buf_ring_cq_advance</a></b>(3), then <u>buf_offset</u> should be
       0.  If  buffers  are provided in a loop before being committed, the <u>buf_offset</u> must be incremented by one
       for each buffer added.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       None

</pre><h4><b>NOTES</b></h4><pre>
       liburing (or the kernel, for that matter) doesn't care about what buffer ID maps to what buffer,  and  in
       fact  when  recycling  buffers after use, the application is free to add a different buffer into the same
       buffer ID location. All that matters is that the application  knows  what  a  given  buffer  ID  in  time
       corresponds  to  in terms of virtual memory. There's no liburing or kernel assumption that these mappings
       are persistent over time, they can very well be different every time a given buffer ID is  added  to  the
       provided buffer ring.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/io_uring_register_buf_ring.3.html">io_uring_register_buf_ring</a></b>(3),          <b><a href="../man3/io_uring_buf_ring_mask.3.html">io_uring_buf_ring_mask</a></b>(3),          <b><a href="../man3/io_uring_buf_ring_advance.3.html">io_uring_buf_ring_advance</a></b>(3),
       <b><a href="../man3/io_uring_buf_ring_cq_advance.3.html">io_uring_buf_ring_cq_advance</a></b>(3)

liburing-2.2                                      May 18, 2022                          <u><a href="../man3/io_uring_buf_ring_add.3.html">io_uring_buf_ring_add</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>