<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ldns_buffer,    ldns_buffer_new,    ldns_buffer_new_frm_data,    ldns_buffer_clear,   ldns_buffer_printf,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libldns-dev">libldns-dev_1.8.4-2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ldns_buffer,    ldns_buffer_new,    ldns_buffer_new_frm_data,    ldns_buffer_clear,   ldns_buffer_printf,
       ldns_buffer_free, ldns_buffer_copy, ldns_buffer_export, ldns_buffer_export2str, ldns_buffer2str - buffers

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/stdint.h">stdint.h</a>&gt;
       #include &lt;stdbool.h&gt;

       #include &lt;ldns/ldns.h&gt;

       ldns_buffer* ldns_buffer_new(size_t capacity);

       void ldns_buffer_new_frm_data(ldns_buffer *buffer, const void *data, size_t size);

       void ldns_buffer_clear(ldns_buffer *buffer);

       int ldns_buffer_printf(ldns_buffer *buffer, const char *format, ...);

       void ldns_buffer_free(ldns_buffer *buffer);

       void ldns_buffer_copy(ldns_buffer* result, const ldns_buffer* from);

       void* ldns_buffer_export(ldns_buffer *buffer);

       char* ldns_buffer_export2str(ldns_buffer *buffer);

       char* ldns_buffer2str(ldns_buffer *buffer);

</pre><h4><b>DESCRIPTION</b></h4><pre>

       <u>ldns_buffer</u>
              implementation of buffers to ease operations

              ldns_buffers can contain arbitrary information, per octet. You can write
              to the current end of a buffer, read from the current position, and
              access any data within it.

              Example use of buffers is in the source code of \ref host2str.c
              struct ldns_struct_buffer
              {
                   <b>The</b> <b>current</b> <b>position</b> <b>used</b> <b>for</b> <b>reading/writing:</b>
                   size_t   _position;

                   <b>The</b> <b>read/write</b> <b>limit:</b>
                   size_t   _limit;

                   <b>The</b> <b>amount</b> <b>of</b> <b>data</b> <b>the</b> <b>buffer</b> <b>can</b> <b>contain:</b>
                   size_t   _capacity;

                   <b>The</b> <b>data</b> <b>contained</b> <b>in</b> <b>the</b> <b>buffer:</b>
                   uint8_t *_data;

                   <b>If</b> <b>the</b> <b>buffer</b> <b>is</b> <b>fixed</b> <b>it</b> <b>cannot</b> <b>be</b> <b>resized:</b>
                   unsigned _fixed : 1;

                   /** The current state of the buffer. If writing to the buffer fails
                    * for any reason, this value is changed. This way, you can perform
                    * multiple writes in sequence and check for success afterwards. */
                   ldns_status _status;
              };
              typedef struct ldns_struct_buffer ldns_buffer;

       <u>ldns_buffer_new</u>() creates a new buffer with the specified capacity.

              <b>capacity</b>: the size (in bytes) to allocate for the buffer
              Returns the created buffer

       <u>ldns_buffer_new_frm_data</u>() creates a buffer with the specified data.   The  data  IS  copied  and  MEMORY
              allocations are done.  The buffer is not fixed and can be resized using buffer_reserve().

              <b>buffer</b>: pointer to the buffer to put the data in
              <b>data</b>: the data to encapsulate in the buffer
              <b>size</b>: the size of the data

       <u>ldns_buffer_clear</u>()  clears  the  buffer and make it ready for writing.  The buffer's limit is set to the
              capacity and the position is set to 0.
              <b>buffer</b>: the buffer to clear

       <u>ldns_buffer_printf</u>() prints to the buffer, increasing the capacity if  required  using  buffer_reserve().
              The  buffer's  position  is  set to the terminating '\\0' Returns the number of characters written
              (not including the terminating '\\0') or -1 on failure.

       <u>ldns_buffer_free</u>() frees the buffer.
              <b>*buffer</b>: the buffer to be freed
              Returns void

       <u>ldns_buffer_copy</u>() Copy contents of the from buffer to the  result  buffer  and  then  flips  the  result
              buffer. Data will be silently truncated if the result buffer is too small.
              <b>*result</b>: resulting buffer which is copied to.
              <b>*from</b>: what to copy to result.

       <u>ldns_buffer_export</u>() Makes the buffer fixed and returns a pointer to the data.  The caller is responsible
              for free'ing the result.
              <b>*buffer</b>: the buffer to be exported
              Returns void

       <u>ldns_buffer_export2str</u>()  Exports  and returns the data in the buffer as a null terminated char * string.
              The returned string must be freed by the caller.  The buffer must be in write modus and  may  thus
              not have been flipped.  The buffer is fixed after this function returns.

              <b>buffer</b>: buffer containing char * data
              Returns null terminated char * data, or NULL on error

       <u>ldns_buffer2str</u>()  Returns  a  copy  of  the  data  in the buffer as a null terminated char * string. The
              returned string must be freed by the caller.  The buffer must be in write modus and may  thus  not
              have been flipped.

              <b>buffer</b>: buffer containing char * data
              Returns null terminated char * data, or NULL on error

</pre><h4><b>AUTHOR</b></h4><pre>
       The ldns team at NLnet Labs.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Please report bugs to <a href="mailto:dns-team@nlnetlabs.nl">dns-team@nlnetlabs.nl</a> or on GitHub at https://github.com/NLnetLabs/ldns/issues

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2004 - 2006 NLnet Labs.

       Licensed  under  the  BSD  License.  There  is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
       PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>ldns_buffer_flip</u>, <u>ldns_buffer_rewind</u>, <u>ldns_buffer_position</u>,  <u>ldns_buffer_set_position</u>,  <u>ldns_buffer_skip</u>,
       <u>ldns_buffer_limit</u>,       <u>ldns_buffer_set_limit</u>,      <u>ldns_buffer_capacity</u>,      <u>ldns_buffer_set_capacity</u>,
       <u>ldns_buffer_reserve</u>,    <u>ldns_buffer_at</u>,    <u>ldns_buffer_begin</u>,    <u>ldns_buffer_end</u>,    <u>ldns_buffer_current</u>,
       <u>ldns_buffer_remaining_at</u>,    <u>ldns_buffer_remaining</u>,    <u>ldns_buffer_available_at</u>,   <u>ldns_buffer_available</u>,
       <u>ldns_buffer_status</u>,        <u>ldns_buffer_status_ok</u>,        <u>ldns_buffer_write_at</u>,         <u>ldns_buffer_write</u>,
       <u>ldns_buffer_write_string_at</u>,   <u>ldns_buffer_write_string</u>,  <u>ldns_buffer_write_u8_at</u>,  <u>ldns_buffer_write_u8</u>,
       <u>ldns_buffer_write_u16_at</u>,       <u>ldns_buffer_write_u16</u>,       <u>ldns_buffer_read_at</u>,       <u>ldns_buffer_read</u>,
       <u>ldns_buffer_read_u8_at</u>,      <u>ldns_buffer_read_u8</u>,      <u>ldns_buffer_read_u16_at</u>,     <u>ldns_buffer_read_u16</u>,
       <u>ldns_buffer_read_u32_at</u>,  <u>ldns_buffer_read_u32</u>,  <u>ldns_buffer_write_u32</u>,  <u>ldns_buffer_write_u32_at</u>.    And
       <b>perldoc</b> <b>Net::DNS</b>, <b>RFC1034</b>, <b>RFC1035</b>, <b>RFC4033</b>, <b>RFC4034</b>  and <b>RFC4035</b>.

</pre><h4><b>REMARKS</b></h4><pre>
       This manpage was automatically generated from the ldns source code.

                                                   30 May 2006                                           <u><a href="../man3/ldns.3.html">ldns</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>