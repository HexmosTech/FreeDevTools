<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_UPLOAD_BUFFERSIZE - upload buffer size</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_UPLOAD_BUFFERSIZE - upload buffer size

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_UPLOAD_BUFFERSIZE, long size);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Pass  a long specifying your preferred <u>size</u> (in bytes) for the upload buffer in libcurl. It makes libcurl
       uses a larger buffer that gets passed to the next layer in the stack to get sent off. In some setups  and
       for some protocols, there is a huge performance benefit of having a larger upload buffer.

       This is just treated as a request, not an order. You cannot be guaranteed to actually get the given size.

       The  upload  buffer  size  is  by  default  64  kilobytes. The maximum buffer size allowed to be set is 2
       megabytes. The minimum buffer size allowed to be set is 16 kilobytes.

       The upload buffer is allocated on-demand - so if the handle is not used for upload, this  buffer  is  not
       allocated at all.

       DO  NOT  set  this  option  on a handle that is currently used for an active transfer as that may lead to
       unintended consequences.

</pre><h4><b>DEFAULT</b></h4><pre>
       65536 bytes

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects all supported protocols

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           CURLcode res;
           curl_easy_setopt(curl, CURLOPT_URL, "s<a href="ftp://example.com/foo.bin">ftp://example.com/foo.bin</a>");

           /* ask libcurl to allocate a larger upload buffer */
           curl_easy_setopt(curl, CURLOPT_UPLOAD_BUFFERSIZE, 120000L);

           res = curl_easy_perform(curl);

           curl_easy_cleanup(curl);
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.62.0

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLOPT_BUFFERSIZE.3.html">CURLOPT_BUFFERSIZE</a></b>(3), <b><a href="../man3/CURLOPT_READFUNCTION.3.html">CURLOPT_READFUNCTION</a></b>(3), <b><a href="../man3/CURLOPT_TCP_NODELAY.3.html">CURLOPT_TCP_NODELAY</a></b>(3)

libcurl                                            2025-06-16                       <u><a href="../man3/CURLOPT_UPLOAD_BUFFERSIZE.3.html">CURLOPT_UPLOAD_BUFFERSIZE</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>