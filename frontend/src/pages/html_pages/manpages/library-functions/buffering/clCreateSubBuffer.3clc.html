<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>clCreateSubBuffer - Creates a new buffer object (referred to as a sub-buffer object) from an existing</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/opencl-1.2-man-doc">opencl-1.2-man-doc_1.0~svn33624-5.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       clCreateSubBuffer - Creates a new buffer object (referred to as a sub-buffer object) from an existing
       buffer object.

       <b>cl_mem</b> <b>clCreateSubBuffer(cl_mem</b> <u>buffer</u><b>,</b> <b>cl_mem_flags</b> <u>flags</u><b>,</b> <b>cl_buffer_create_type</b> <u>buffer_create_type</u><b>,</b>
                                <b>const</b> <b>void</b> <b>*</b><u>buffer_create_info</u><b>,</b> <b>cl_int</b> <b>*</b><u>errcode_ret</u><b>);</b>

</pre><h4><b>PARAMETERS</b></h4><pre>
       <u>buffer</u>
           A valid object and cannot be a sub-buffer object.

       <u>flags</u>
           A bit-field that is used to specify allocation and usage information about the sub-buffer memory
           object being created and is described in the table below. If the <b>CL_MEM_READ_WRITE</b>, <b>CL_MEM_READ_ONLY</b>
           or <b>CL_MEM_WRITE_ONLY</b> values are not specified in <u>flags</u>, they are inherited from the corresponding
           memory access qualifers associated with <u>buffer</u>. The <b>CL_MEM_USE_HOST_PTR</b>, <b>CL_MEM_ALLOC_HOST_PTR</b> and
           <b>CL_MEM_COPY_HOST_PTR</b> values cannot be specified in <u>flags</u> but are inherited from the corresponding
           memory access qualifiers associated with <u>buffer</u>. If <b>CL_MEM_COPY_HOST_PTR</b> is specified in the memory
           access qualifier values associated with <u>buffer</u> it does not imply any additional copies when the
           sub-buffer is created from <u>buffer</u>. If the <b>CL_MEM_HOST_WRITE_ONLY</b>, <b>CL_MEM_HOST_READ_ONLY</b> or
           <b>CL_MEM_HOST_NO_ACCESS</b> values are not specified in <u>flags</u>, they are inherited from the corresponding
           memory access qualifiers associated with <u>buffer</u>.
           ┌────────────────────────┬───────────────────────────────────────┐
           │ <b>cl_mem_flags</b>           │ <b>Description</b>                           │
           ├────────────────────────┼───────────────────────────────────────┤
           │ <b>CL_MEM_READ_WRITE</b>      │ This flag specifies that the memory   │
           │                        │ object will be read and written by a  │
           │                        │ kernel. This is the default.          │
           ├────────────────────────┼───────────────────────────────────────┤
           │ <b>CL_MEM_WRITE_ONLY</b>      │ This flags specifies that the memory  │
           │                        │ object will be written but not read   │
           │                        │ by a kernel.                          │
           │                        │                                       │
           │                        │ Reading from a buffer or image object │
           │                        │ created with <b>CL_MEM_WRITE_ONLY</b> inside │
           │                        │ a kernel is undefined.                │
           │                        │                                       │
           │                        │ <b>CL_MEM_READ_WRITE</b> and                 │
           │                        │ <b>CL_MEM_WRITE_ONLY</b> are mutually        │
           │                        │ exclusive.                            │
           ├────────────────────────┼───────────────────────────────────────┤
           │ <b>CL_MEM_READ_ONLY</b>       │ This flag specifies that the memory   │
           │                        │ object is a read-only memory object   │
           │                        │ when used inside a kernel.            │
           │                        │                                       │
           │                        │ Writing to a buffer or image object   │
           │                        │ created with <b>CL_MEM_READ_ONLY</b> inside  │
           │                        │ a kernel is undefined.                │
           │                        │                                       │
           │                        │ <b>CL_MEM_READ_WRITE</b> or                  │
           │                        │ <b>CL_MEM_WRITE_ONLY</b> and                 │
           │                        │ <b>CL_MEM_READ_ONLY</b> are mutually         │
           │                        │ exclusive.                            │
           ├────────────────────────┼───────────────────────────────────────┤
           │ <b>CL_MEM_USE_HOST_PTR</b>    │ This flag is valid only if <u>host_ptr</u>   │
           │                        │ is not NULL. If specified, it         │
           │                        │ indicates that the application wants  │
           │                        │ the OpenCL implementation to use      │
           │                        │ memory referenced by <u>host_ptr</u> as the  │
           │                        │ storage bits for the memory object.   │
           │                        │                                       │
           │                        │ OpenCL implementations are allowed to │
           │                        │ cache the buffer contents pointed to  │
           │                        │ by <u>host_ptr</u> in device memory. This    │
           │                        │ cached copy can be used when kernels  │
           │                        │ are executed on a device.             │
           │                        │                                       │
           │                        │ The result of OpenCL commands that    │
           │                        │ operate on multiple buffer objects    │
           │                        │ created with the same <u>host_ptr</u> or     │
           │                        │ overlapping host regions is           │
           │                        │ considered to be undefined.           │
           │                        │                                       │
           │                        │ Refer to the <b><a href="../man3clc/dataTypes.3clc.html">dataTypes</a></b>(3clc) for      │
           │                        │ <u>host_ptr</u> for memory objects (buffer   │
           │                        │ and images) created using             │
           │                        │ <b>CL_MEM_USE_HOST_PTR</b>.                  │
           ├────────────────────────┼───────────────────────────────────────┤
           │ <b>CL_MEM_ALLOC_HOST_PTR</b>  │ This flag specifies that the          │
           │                        │ application wants the OpenCL          │
           │                        │ implementation to allocate memory     │
           │                        │ from host accessible memory.          │
           │                        │                                       │
           │                        │ <b>CL_MEM_ALLOC_HOST_PTR</b> and             │
           │                        │ <b>CL_MEM_USE_HOST_PTR</b> are mutually      │
           │                        │ exclusive.                            │
           ├────────────────────────┼───────────────────────────────────────┤
           │ <b>CL_MEM_COPY_HOST_PTR</b>   │ This flag is valid only if <u>host_ptr</u>   │
           │                        │ is not NULL. If specified, it         │
           │                        │ indicates that the application wants  │
           │                        │ the OpenCL implementation to allocate │
           │                        │ memory for the memory object and copy │
           │                        │ the data from memory referenced by    │
           │                        │ <u>host_ptr</u>.                             │
           │                        │                                       │
           │                        │ <b>CL_MEM_COPY_HOST_PTR</b> and              │
           │                        │ <b>CL_MEM_USE_HOST_PTR</b> are mutually      │
           │                        │ exclusive.                            │
           │                        │                                       │
           │                        │ <b>CL_MEM_COPY_HOST_PTR</b> can be used with │
           │                        │ <b>CL_MEM_ALLOC_HOST_PTR</b> to initialize   │
           │                        │ the contents of the <b>cl_mem</b> object     │
           │                        │ allocated using host-accessible (e.g. │
           │                        │ PCIe) memory.                         │
           ├────────────────────────┼───────────────────────────────────────┤
           │ <b>CL_MEM_HOST_WRITE_ONLY</b> │ This flag specifies that the host     │
           │                        │ will only write to the memory object  │
           │                        │ (using OpenCL APIs that enqueue a     │
           │                        │ write or a map for write). This can   │
           │                        │ be used to optimize write access from │
           │                        │ the host (e.g. enable write combined  │
           │                        │ allocations for memory objects for    │
           │                        │ devices that communicate with the     │
           │                        │ host over a system bus such as PCIe). │
           ├────────────────────────┼───────────────────────────────────────┤
           │ <b>CL_MEM_HOST_READ_ONLY</b>  │ This flag specifies that the host     │
           │                        │ will only read the memory object      │
           │                        │ (using OpenCL APIs that enqueue a     │
           │                        │ read or a map for read).              │
           │                        │                                       │
           │                        │ <b>CL_MEM_HOST_WRITE_ONLY</b> and            │
           │                        │ <b>CL_MEM_HOST_READ_ONLY</b> are mutually    │
           │                        │ exclusive.                            │
           ├────────────────────────┼───────────────────────────────────────┤
           │ <b>CL_MEM_HOST_NO_ACCESS</b>  │ This flag specifies that the host     │
           │                        │ will not read or write the memory     │
           │                        │ object.                               │
           │                        │                                       │
           │                        │ <b>CL_MEM_HOST_WRITE_ONLY</b> or             │
           │                        │ <b>CL_MEM_HOST_READ_ONLY</b> and             │
           │                        │ <b>CL_MEM_HOST_NO_ACCESS</b> are mutually    │
           │                        │ exclusive.                            │
           └────────────────────────┴───────────────────────────────────────┘

       <u>buffer_create_type</u> and <u>buffer_create_info</u>
           Describes the type of buffer object to be created. The list of supported values for
           <u>buffer_create_type</u> and corresponding descriptor that <u>buffer_create_info</u> points to is described below.
           ┌──────────────────────────────┬───────────────────────────────────────────────────┐
           │ <b>cl_buffer_create_type</b>        │ <b>Description</b>                                       │
           ├──────────────────────────────┼───────────────────────────────────────────────────┤
           │ CL_BUFFER_CREATE_TYPE_REGION │ Create a buffer object that                       │
           │                              │ represents a specific region in                   │
           │                              │ <u>buffer</u>.                                           │
           │                              │                                                   │
           │                              │ <u>buffer_create_info</u> is a pointer to                │
           │                              │ the following structure:                          │
           │                              │                                                   │
           │                              │                                                   │
           │                              │                typedef struct _cl_buffer_region { │
           │                              │                size_t origin;                     │
           │                              │                size_t size;                       │
           │                              │                } cl_buffer_region;                │
           │                              │                                                   │
           │                              │                                                   │
           │                              │            (<u>origin,</u> <u>size</u>) defines the             │
           │                              │            offset and size in bytes               │
           │                              │            in <u>buffer</u>.                             │
           │                              │                                                   │
           │                              │            If <u>buffer</u> is created with              │
           │                              │            <b>CL_MEM_USE_HOST_PTR</b>, the               │
           │                              │            <u>host_ptr</u> associated with               │
           │                              │            the buffer object returned             │
           │                              │            is <u>host_ptr</u> + <u>origin</u>.                  │
           │                              │                                                   │
           │                              │            The buffer object returned             │
           │                              │            references the data store              │
           │                              │            allocated for <u>buffer</u> and               │
           │                              │            points to a specific                   │
           │                              │            region given by (<u>origin,</u>               │
           │                              │            <u>size</u>) in this data store.              │
           │                              │                                                   │
           │                              │            <b>CL_INVALID_VALUE</b> is                    │
           │                              │            returned in <u>errcode_ret</u> if             │
           │                              │            the region specified by                │
           │                              │            (<u>origin,</u> <u>size</u>) is out of               │
           │                              │            bounds in <u>buffer</u>.                      │
           │                              │                                                   │
           │                              │            <b>CL_INVALID_BUFFER_SIZE</b> if              │
           │                              │            <u>size</u> is 0.                             │
           │                              │                                                   │
           │                              │            <b>CL_MISALIGNED_SUB_BUFFER_OFFSET</b>        │
           │                              │            is returned in <u>errcode_ret</u>             │
           │                              │            if there are no devices in             │
           │                              │            context associated with                │
           │                              │            <u>buffer</u> for which the                   │
           │                              │            <u>origin</u> value is aligned to             │
           │                              │            the                                    │
           │                              │            <b>CL_DEVICE_MEM_BASE_ADDR_ALIGN</b>          │
           │                              │            value.                                 │
           └──────────────────────────────┴───────────────────────────────────────────────────┘

</pre><h4><b>NOTES</b></h4><pre>
       Concurrent reading from, writing to and copying between both a buffer object and its sub-buffer object(s)
       is undefined. Concurrent reading from, writing to and copying between overlapping sub-buffer objects
       created with the same buffer object is undefined. Only reading from both a buffer object and its
       sub-buffer objects or reading from multiple overlapping sub-buffer objects is defined.

</pre><h4><b>ERRORS</b></h4><pre>
       Returns a valid non-zero buffer object and <u>errcode_ret</u> is set to CL_SUCCESS if the buffer object is
       created successfully. Otherwise, it returns one of the following error in <u>errcode_ret</u>:

       •   CL_INVALID_MEM_OBJECT if <u>buffer</u> is not a valid buffer object or is a sub-buffer object.

       •   CL_INVALID_VALUE if <u>buffer</u> was created with <b>CL_MEM_WRITE_ONLY</b> and <u>flags</u> specifies <b>CL_MEM_READ_WRITE</b>
           or <b>CL_MEM_READ_ONLY</b>, or if <u>buffer</u> was created with <b>CL_MEM_READ_ONLY</b> and <u>flags</u> specifies
           <b>CL_MEM_READ_WRITE</b> or <b>CL_MEM_WRITE_ONLY</b>, or if <u>flags</u> specifies <b>CL_MEM_USE_HOST_PTR</b> or
           <b>CL_MEM_ALLOC_HOST_PTR</b> or <b>CL_MEM_COPY_HOST_PTR</b>.

       •   CL_INVALID_VALUE if <u>buffer</u> was created with <b>CL_MEM_HOST_WRITE_ONLY</b> and <u>flags</u> specifies
           <b>CL_MEM_HOST_READ_ONLY</b> or if <u>buffer</u> was created with <b>CL_MEM_HOST_READ_ONLY</b> and <u>flags</u> specifies
           <b>CL_MEM_HOST_WRITE_ONLY</b>, or if <u>buffer</u> was created with <b>CL_MEM_HOST_NO_ACCESS</b> and <u>flags</u> specifies
           <b>CL_MEM_HOST_READ_ONLY</b> or <b>CL_MEM_HOST_WRITE_ONLY</b>.

       •   CL_INVALID_VALUE if value specified in <u>buffer_create_type</u> is not valid.

       •   CL_INVALID_VALUE if value(s) specified in <u>buffer_create_info</u> (for a given <u>buffer_create_type</u>) is not
           valid or if <u>buffer_create_info</u> is NULL.

       •   CL_INVALID_BUFFER_SIZE if size is 0.

       •   CL_MEM_OBJECT_ALLOCATION_FAILURE if there is a failure to allocate memory for sub-buffer object.

       •   CL_OUT_OF_RESOURCES if there is a failure to allocate resources required by the OpenCL implementation
           on the device.

       •   CL_OUT_OF_HOST_MEMORY if there is a failure to allocate resources required by the OpenCL
           implementation on the host.

</pre><h4><b>SPECIFICATION</b></h4><pre>
       <b>OpenCL</b> <b>Specification</b>[1]

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3clc/clCreateBuffer.3clc.html">clCreateBuffer</a></b>(3clc), <b><a href="../man3clc/clEnqueueReadBuffer.3clc.html">clEnqueueReadBuffer</a></b>(3clc), <b><a href="../man3clc/clEnqueueWriteBuffer.3clc.html">clEnqueueWriteBuffer</a></b>(3clc), <b><a href="../man3clc/clEnqueueCopyBuffer.3clc.html">clEnqueueCopyBuffer</a></b>(3clc)

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>The</b> <b>Khronos</b> <b>Group</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright © 2007-2011 The Khronos Group Inc.
       Permission is hereby granted, free of charge, to any person obtaining a copy of this software and/or
       associated documentation files (the "Materials"), to deal in the Materials without restriction, including
       without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
       copies of the Materials, and to permit persons to whom the Materials are furnished to do so, subject to
       the condition that this copyright notice and permission notice shall be included in all copies or
       substantial portions of the Materials.

</pre><h4><b>NOTES</b></h4><pre>
        1. OpenCL Specification
           page 69, section 5.2.1 - Creating Buffer Objects

The Khronos Group                                  11/18/2024                            <u><a href="../man3clc/CLCREATESUBBUFFER.3clc.html">CLCREATESUBBUFFER</a></u>(3clc)
</pre>
 </div>
</div></section>
</div>
</body>
</html>