<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ost::Buffer - The buffer class represents an IPC service that is built upon a buffer of fixed capacity</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libcommoncpp2-doc">libcommoncpp2-doc_1.8.1-10_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ost::Buffer - The buffer class represents an IPC service that is built upon a buffer of fixed capacity
       that can be used to transfer objects between one or more producer and consumer threads.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;buffer.h&gt;

       Inherits <b>ost::Conditional</b>.

       Inherited by <b>ost::FixedBuffer</b>.

   <b>Public</b> <b>Member</b> <b>Functions</b>
       <b>Buffer</b> (size_t capacity)
           Create a buffer object of known capacity.
       virtual <b>~Buffer</b> ()
           In derived functions, may be used to free the actual memory used to hold buffered data.
       size_t <b>getSize</b> (void)
           Return the capacity of the buffer as specified at creation.
       size_t <b>getUsed</b> (void)
           Return the current capacity in use for the buffer.
       size_t <b>wait</b> (void *buf, <b>timeout_t</b> <b>timeout</b>=0)
           Let one or more threads wait for an object to become available in the buffer.
       size_t <b>post</b> (void *buf, <b>timeout_t</b> <b>timeout</b>=0)
           Post an object into the buffer and enable a waiting thread to receive it.
       size_t <b>peek</b> (void *buf)
           Peek at the current content (first object) in the buffer.
       virtual bool <b>isValid</b> (void)
           New virtual to test if buffer is a valid object.

   <b>Static</b> <b>Public</b> <b>Attributes</b>
       static const size_t <b>timeout</b>
           value to return when a timed operation returned with a timeout.

   <b>Protected</b> <b>Member</b> <b>Functions</b>
       virtual size_t <b>onPeek</b> (void *buf)=0
           Invoke derived class buffer peeking method.
       virtual size_t <b>onWait</b> (void *buf)=0
           Invoke derived class object request from buffer.
       virtual size_t <b>onPost</b> (void *buf)=0
           Invoke derived class posting of object to buffer.

   <b>Related</b> <b>Functions</b>
       (Note that these are not member functions.)
       size_t <b>get</b> (<b>Buffer</b> &amp;b, void *o, <b>timeout_t</b> t=0)
       size_t <b>put</b> (<b>Buffer</b> &amp;b, void *o, <b>timeout_t</b> t=0)
       size_t <b>peek</b> (<b>Buffer</b> &amp;b, void *o)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       The buffer class represents an IPC service that is built upon a buffer of fixed capacity that can be used
       to transfer objects between one or more producer and consumer threads.

       Producer threads post objects into the buffer, and consumer threads wait for and receive objects from the
       buffer. Semaphores are used to to block the buffer from overflowing and indicate when there is data
       available, and mutexes are used to protect multiple consumers and producer threads from stepping over
       each other.

       The buffer class is an abstract class in that the actual data being buffered is not directly specified
       within the buffer class itself. The buffer class should be used as a base class for a class that actually
       impliments buffering and which may be aware of the data types actually are being buffered. A template
       class could be created based on buffer for this purpose. Another possibility is to create a class derived
       from both <b>Thread</b> and <b>Buffer</b> which can be used to implement message passing threads.

       <b>Author</b>
           David Sugar <a href="mailto:dyfet@ostel.com">dyfet@ostel.com</a>

       Producer/Consumer buffer for use between threads.

</pre><h4><b>Constructor</b> <b>&amp;</b> <b>Destructor</b> <b>Documentation</b></h4><pre>
   <b>ost::Buffer::Buffer</b> <b>(size_t</b> <b>capacity)</b>
       Create a buffer object of known capacity.

       <b>Parameters</b>
           <u>capacity</u> is the integer capacity of the buffer.

   <b>virtual</b> <b>ost::Buffer::~Buffer</b> <b>()</b> <b>[virtual]</b>
       In derived functions, may be used to free the actual memory used to hold buffered data.

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>size_t</b> <b>ost::Buffer::getSize</b> <b>(void)</b> <b>[inline]</b>
       Return the capacity of the buffer as specified at creation.

       <b>Returns</b>
           size of buffer.

   <b>size_t</b> <b>ost::Buffer::getUsed</b> <b>(void)</b> <b>[inline]</b>
       Return the current capacity in use for the buffer. Free space is technically <b>getSize()</b> - <b>getUsed()</b>.

       <b>Returns</b>
           integer used capacity of the buffer.

       <b>See</b> <b>also</b>
           <b>getSize</b>

   <b>virtual</b> <b>bool</b> <b>ost::Buffer::isValid</b> <b>(void)</b> <b>[virtual]</b>
       New virtual to test if buffer is a valid object.

       <b>Returns</b>
           true if object is valid.

       Reimplemented in <b>ost::FixedBuffer</b>.

   <b>virtual</b> <b>size_t</b> <b>ost::Buffer::onPeek</b> <b>(void</b> <b>*</b> <b>buf)</b> <b>[protected],</b>  <b>[pure</b> <b>virtual]</b>
       Invoke derived class buffer peeking method.

       <b>Returns</b>
           size of object found.

       <b>Parameters</b>
           <u>buf</u> pointer to copy contents of head of buffer to.

       Implemented in <b>ost::FixedBuffer</b>.

   <b>virtual</b> <b>size_t</b> <b>ost::Buffer::onPost</b> <b>(void</b> <b>*</b> <b>buf)</b> <b>[protected],</b>  <b>[pure</b> <b>virtual]</b>
       Invoke derived class posting of object to buffer.

       <b>Returns</b>
           size of object posted.

       <b>Parameters</b>
           <u>buf</u> pointer to object being posted to the buffer.

       Implemented in <b>ost::FixedBuffer</b>.

   <b>virtual</b> <b>size_t</b> <b>ost::Buffer::onWait</b> <b>(void</b> <b>*</b> <b>buf)</b> <b>[protected],</b>  <b>[pure</b> <b>virtual]</b>
       Invoke derived class object request from buffer.

       <b>Returns</b>
           size of object returned.

       <b>Parameters</b>
           <u>buf</u> pointer to hold object returned from the buffer.

       Implemented in <b>ost::FixedBuffer</b>.

   <b>size_t</b> <b>ost::Buffer::peek</b> <b>(void</b> <b>*</b> <b>buf)</b>
       Peek at the current content (first object) in the buffer.

       <b>Returns</b>
           size of object in the buffer.

       <b>Parameters</b>
           <u>buf</u> pointer to store object found in the buffer.

       Referenced by peek().

   <b>size_t</b> <b>ost::Buffer::post</b> <b>(void</b> <b>*</b> <b>buf,</b> <b>timeout_t</b> <b>timeout</b> <b>=</b> <b>0)</b>
       Post an object into the buffer and enable a waiting thread to receive it.

       <b>Returns</b>
           size of object posted in bytes.

       <b>Parameters</b>
           <u>buf</u> pointer to object to store in the buffer.
           <u>timeout</u> time to wait.

       Referenced by put().

   <b>size_t</b> <b>ost::Buffer::wait</b> <b>(void</b> <b>*</b> <b>buf,</b> <b>timeout_t</b> <b>timeout</b> <b>=</b> <b>0)</b>
       Let one or more threads wait for an object to become available in the buffer. The waiting thread(s) will
       wait forever if no object is ever placed into the buffer.

       <b>Returns</b>
           size of object passed by buffer in bytes.

       <b>Parameters</b>
           <u>buf</u> pointer to store object retrieved from the buffer.
           <u>timeout</u> time to wait.

       Referenced by get().

</pre><h4><b>Friends</b> <b>And</b> <b>Related</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>size_t</b> <b>get</b> <b>(Buffer</b> <b>&amp;</b> <b>b,</b> <b>void</b> <b>*</b> <b>o,</b> <b>timeout_t</b> <b>t</b> <b>=</b> <b>0)</b> <b>[related]</b>
       References wait().

   <b>size_t</b> <b>peek</b> <b>(Buffer</b> <b>&amp;</b> <b>b,</b> <b>void</b> <b>*</b> <b>o)</b> <b>[related]</b>
       <b>Examples</b>
           <b>SampleSocketPort.cpp</b>.

       References peek().

   <b>size_t</b> <b>put</b> <b>(Buffer</b> <b>&amp;</b> <b>b,</b> <b>void</b> <b>*</b> <b>o,</b> <b>timeout_t</b> <b>t</b> <b>=</b> <b>0)</b> <b>[related]</b>
       References post().

</pre><h4><b>Member</b> <b>Data</b> <b>Documentation</b></h4><pre>
   <b>const</b> <b>size_t</b> <b>ost::Buffer::timeout</b> <b>[static]</b>
       value to return when a timed operation returned with a timeout.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for GNU CommonC++ from the source code.

GNU CommonC++                                    Sun Dec 27 2020                                  <u>ost::<a href="../man3/Buffer.3.html">Buffer</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>