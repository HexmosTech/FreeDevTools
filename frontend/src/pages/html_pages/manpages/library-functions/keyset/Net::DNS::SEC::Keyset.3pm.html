<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::DNS::SEC::Keyset - DNSSEC Keyset object class</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-dns-sec-perl">libnet-dns-sec-perl_1.26-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::DNS::SEC::Keyset - DNSSEC Keyset object class

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Net::DNS::SEC::Keyset;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A keyset is an "administrative" unit used for DNSSEC maintenance.

       This class provides interfaces for creating, reading and writing keysets.

       Object methods are provided to extract DNSKEY, RRSIG and DS records.

       Note that this class is still being developed.  Attributes and methods are subject to change.

   <b>new</b> <b>(from</b> <b>file)</b>
           $keyset = Net::DNS::SEC::Keyset-&gt;new( $filename );
           $keyset = Net::DNS::SEC::Keyset-&gt;new( $filename, $directory );
           die Net::DNS::SEC::Keyset-&gt;keyset_err unless $keyset;

       Constructor method which reads the specified keyset file and returns a keyset object.

       The optional second argument specifies the filename base directory.

       Sets keyset_err and returns undef on failure.

   <b>new</b> <b>(by</b> <b>signing</b> <b>keys)</b>
           $keyset = Net::DNS::SEC::Keyset-&gt;new( [@keyrr], $privatekeypath );
           die Net::DNS::SEC::Keyset-&gt;keyset_err unless $keyset;

       Creates a keyset object from the keys provided through the reference to an array of Net::DNS::RR::DNSKEY
       objects.

       The method will create and self-sign the whole keyset. The private keys as generated by the BIND dnssec-
       keygen tool are assumed to be in the current directory or, if specified, the directory indicated by
       $privatekeypath.

       Sets keyset_err and returns undef on failure.

   <b>new</b> <b>(from</b> <b>key</b> <b>and</b> <b>sig</b> <b>RRsets)</b>
           $keyset = Net::DNS::Keyset-&gt;new( [@keyrr], [@sigrr] );
           die Net::DNS::SEC::Keyset-&gt;keyset_err unless $keyset;

       Creates a keyset object from the keys provided through the references to arrays of Net::DNS::RR::DNSKEY
       and Net::DNS::RR::RRSIG objects.

       Sets keyset_err and returns undef on failure.

   <b>new</b> <b>(from</b> <b>Packet)</b>
           $resolver = Net::DNS::Resolver-&gt;new;
           $resolver-&gt;<a href="../man1/dnssec.1.html">dnssec</a>(1);

           $reply = $res-&gt;send ( "example.com", "DNSKEY" );

           $keyset = Net::DNS::SEC::Keyset-&gt;new( $reply );
           die Net::DNS::SEC::Keyset-&gt;keyset_err unless $keyset;

       Creates a keyset object from a Net::DNS::Packet that contains the answer to a query for key records at
       the zone apex.

       This is the method you should use for automatically fetching keys.

       Sets keyset_err and returns undef on failure.

   <b>keys</b>
           @keyrr = $keyset-&gt;keys;

       Returns an array of Net::DNS::RR::DNSKEY objects.

   <b>sigs</b>
           @sigrr = $keyset-&gt;sigs;

       Returns an array of Net::DNS::RR::RRSIG objects.

   <b>extract_ds</b>
           @ds = $keyset-&gt;extract_ds();        # default SHA-1
           @ds = $keyset-&gt;extract_ds( digtype =&gt; 'SHA-256' );
           die Net::DNS::SEC::Keyset-&gt;keyset_err unless @ds;

       Extracts DS records from the keyset. Note that the keyset will be verified during extraction. All keys
       will need to have a valid self-signature.

       The method sets keyset_err if verification fails.

   <b>verify</b>
           @keytags = $keyset-&gt;verify();
           die Net::DNS::SEC::Keyset-&gt;keyset_err unless @keytags;

           $keyset-&gt;verify( $keytag ) || die $keyset-&gt;keyset_err;

       If no arguments are given:

       • Verifies if all signatures present verify the keyset.

       • Verifies if there are DNSKEYs with the SEP flag set, there is at least one RRSIG made using that key.

       • Verifies  that  if there are no DNSKEYs with the SEP flag set there is at least one RRSIG made with one
         of the keys from the keyset.

       If an argument is given, it is should be the numeric keytag of the  key  in  the  keyset  which  will  be
       verified using the corresponding RRSIG.

       The method returns a list of keytags of verified keys in the keyset.

       The method sets keyset_err and returns empty list if verification fails.

   <b>keyset_err</b>
           $keyset_err = Net::DNS::SEC::Keyset-&gt;keyset_err;

       Returns the keyset error string.

   <b>string</b>
           $string = $keyset-&gt;string;

       Returns a string representation of the keyset.

   <b>print</b>
           $keyset-&gt;print;             # similar to print( $keyset-&gt;string )

       Prints the keyset.

   <b>writekeyset</b>
           $keyset-&gt;writekeyset;
           $keyset-&gt;writekeyset( $path );
           $keyset-&gt;writekeyset( $prefix );
           $keyset-&gt;writekeyset( $prefix, $path );

       Writes  the  keyset  to  a  file  named  "keyset-&lt;domain&gt;." in the current working directory or directory
       defined by the optional $path argument.

       The optional $prefix argument specifies the prefix that will be prepended to the domain name to form  the
       keyset filename.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c)2002 RIPE NCC.  Author Olaf M. Kolkman

       Portions Copyright (c)2014 Dick Franks

       All Rights Reserved

</pre><h4><b>LICENSE</b></h4><pre>
       Permission  to  use, copy, modify, and distribute this software and its documentation for any purpose and
       without fee is hereby granted, provided that the original copyright notices appear in all copies and that
       both copyright notice and this permission notice appear in supporting documentation, and that the name of
       the author not be used in advertising or publicity pertaining to distribution  of  the  software  without
       specific prior written permission.

       THE  SOFTWARE  IS  PROVIDED  "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT
       LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO
       EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
       IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE  SOFTWARE  OR
       THE USE OR OTHER DEALINGS IN THE SOFTWARE.

perl v5.40.0                                       2024-10-20                         <u>Net::DNS::SEC::<a href="../man3pm/Keyset.3pm.html">Keyset</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>