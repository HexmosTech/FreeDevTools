<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>libssh2_sftp_fstat_ex - get or set attributes on an SFTP file handle</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssh2-1-dev">libssh2-1-dev_1.11.1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       libssh2_sftp_fstat_ex - get or set attributes on an SFTP file handle

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;libssh2.h&gt;
       #include &lt;libssh2_sftp.h&gt;

       int
       libssh2_sftp_fstat_ex(LIBSSH2_SFTP_HANDLE *handle,
                             LIBSSH2_SFTP_ATTRIBUTES *attrs, int setstat)

       #define libssh2_sftp_fstat(handle, attrs) \
           libssh2_sftp_fstat_ex((handle), (attrs), 0)
       #define libssh2_sftp_fsetstat(handle, attrs) \
           libssh2_sftp_fstat_ex((handle), (attrs), 1)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>handle</u> - SFTP File Handle as returned by <b><a href="../man3/libssh2_sftp_open_ex.3.html">libssh2_sftp_open_ex</a>(3)</b>

       <u>attrs</u>  -  Pointer  to an LIBSSH2_SFTP_ATTRIBUTES structure to set file metadata from or into depending on
       the value of setstat.

       <u>setstat</u> - When non-zero, the file's metadata will be updated with the data found in  attrs  according  to
       the values of attrs-&gt;flags and other relevant member attributes.

       Get or Set statbuf type data for a given LIBSSH2_SFTP_HANDLE instance.

</pre><h4><b>DATA</b> <b>TYPES</b></h4><pre>
       LIBSSH2_SFTP_ATTRIBUTES is a typedefed struct that is defined as below

       struct _LIBSSH2_SFTP_ATTRIBUTES {

           /* If flags &amp; ATTR_* bit is set, then the value in this
            * struct will be meaningful Otherwise it should be ignored
            */
           unsigned long flags;

           /* size of file, in bytes */
           libssh2_uint64_t filesize;

           /* numerical representation of the user and group owner of
            * the file
            */
           unsigned long uid, gid;

           /* bitmask of permissions */
           unsigned long permissions;

           /* access time and modified time of file */
           unsigned long atime, mtime;
       };

       You  will  find  a full set of defines and macros to identify flags and permissions on the <b>libssh2_sftp.h</b>
       header file, but some of the most common ones are:

       To   check   for   specific   user   permissions,   the   set   of   defines   are   in    the    pattern
       LIBSSH2_SFTP_S_I&lt;action&gt;&lt;who&gt;  where  &lt;action&gt;  is  R, W or X for read, write and executable and &lt;who&gt; is
       USR, GRP and OTH for user, group and other. So,  you  check  for  a  user  readable  file,  use  the  bit
       <u>LIBSSH2_SFTP_S_IRUSR</u>  while  you  want to see if it is executable for other, you use <u>LIBSSH2_SFTP_S_IXOTH</u>
       and so on.

       To check for specific file types, you would previously (before libssh2  1.2.5)  use  the  standard  posix
       S_IS***() macros, but since 1.2.5 libssh2 offers its own set of macros for this functionality:

       LIBSSH2_SFTP_S_ISLNK
              Test for a symbolic link

       LIBSSH2_SFTP_S_ISREG
              Test for a regular file

       LIBSSH2_SFTP_S_ISDIR
              Test for a directory

       LIBSSH2_SFTP_S_ISCHR
              Test for a character special file

       LIBSSH2_SFTP_S_ISBLK
              Test for a block special file

       LIBSSH2_SFTP_S_ISFIFO
              Test for a pipe or FIFO special file

       LIBSSH2_SFTP_S_ISSOCK
              Test for a socket

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Return  0  on  success  or  negative  on failure. It returns LIBSSH2_ERROR_EAGAIN when it would otherwise
       block. While LIBSSH2_ERROR_EAGAIN is a negative number, it is not really a failure per se.

</pre><h4><b>ERRORS</b></h4><pre>
       <u>LIBSSH2_ERROR_ALLOC</u> - An internal memory allocation call failed.

       <u>LIBSSH2_ERROR_SOCKET_SEND</u> - Unable to send data on socket.

       <u>LIBSSH2_ERROR_SOCKET_TIMEOUT</u> -

       <u>LIBSSH2_ERROR_SFTP_PROTOCOL</u> - An invalid SFTP protocol response was received on the socket,  or  an  SFTP
       operation caused an errorcode to be returned by the server.

</pre><h4><b>AVAILABILITY</b></h4><pre>
       This  function has been around since forever, but most of the LIBSSH2_SFTP_S_* defines were introduced in
       libssh2 0.14 and the LIBSSH2_SFTP_S_IS***() macros were introduced in libssh2 1.2.5.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/libssh2_sftp_open_ex.3.html">libssh2_sftp_open_ex</a>(3)</b>

libssh2 0.15                                       1 Jun 2007                           <u><a href="../man3/libssh2_sftp_fstat_ex.3.html">libssh2_sftp_fstat_ex</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>