<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>auth_getuserinfo_meta, auth_getuserinfo - Obtain account information</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/courier-authlib-dev">courier-authlib-dev_0.72.4-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       auth_getuserinfo_meta, auth_getuserinfo - Obtain account information

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;courierauth.h&gt;

       <b>int</b> <b>rc=auth_getuserinfo_meta(struct</b> <b>auth_meta</b> <b>*</b><u>meta</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>userid</u><b>,</b>
                                    <b>int</b> <u>(*callback_func)</u><b>(struct</b> <b>authinfo</b> <b>*,</b> <b>void</b> <b>*),</b> <b>void</b> <b>*</b><u>callback_arg</u><b>);</b>

       <b>int</b> <b>rc=auth_getuserinfo(const</b> <b>char</b> <b>*</b><u>userid</u><b>,</b> <b>int</b> <u>(*callback_func)</u><b>(struct</b> <b>authinfo</b> <b>*,</b> <b>void</b> <b>*),</b>
                               <b>void</b> <b>*</b><u>callback_arg</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       If <u>userid</u> is a valid account name, retrieve the account particulars and invoke <u>callback_func</u>.

       A NULL <u>meta</u> is equivalent to using the default auth_meta returned by <b><a href="../man3/auth_meta_init_default.3.html">auth_meta_init_default</a></b>(3)[1].

       <b>auth_getuserinfo</b>() is deprecated and should not be used in new code.

</pre><h4><b>RETURNS</b></h4><pre>
       <b>callback_func</b> will be invoked if <u>userid</u> exists, and <b>callback_func</b>'s return value becomes the return value
       from <b>auth_getuserinfo</b> (which should be 0, by convention).  <b>callback_func</b> will not be invoked if an error
       occurs, which is reported by a non-zero return value from <b>auth_getuserinfo</b>. By convention, a positive
       return value indicates an internal, temporary failure, such as the authentication daemon process not
       running; a negative return value indicates that this request was processed, but it failed (probably
       because <u>userid</u> does not exist.

       The second argument to <b>callback_func</b> will be <b>callback_arg</b>, which is not interpreted by this function in
       any way. The first argument will be a pointer to the following structure:

           struct authinfo {
                const char *sysusername;
                const uid_t *sysuserid;
                gid_t sysgroupid;
                const char *homedir;

                const char *address;
                const char *fullname;
                const char *maildir;
                const char *quota;
                const char *passwd;
                const char *clearpasswd;

                const char *options;

                } ;

       Description of the above fields:

       address
           The authenticated login ID.

       sysusername
           The authenticated account's userid and groupid can be looked up in the password file using address.
           If this field is NULL, obtain the userid and the groupid from sysuserid and sysgroupid.

       sysuserid
           sysuserid may be NULL if sysusername is initialized, otherwise it's a pointer to the account's
           numeric userid.

       sysgroupid
           Account's numeric groupid.  sysgroupid is only used when sysusername is NULL.

       fullname
           This is the account's full name. This field is optional, it may be NULL.

       homedir
           The account's home directory. This field cannot be NULL.

       maildir
           The pathname to the account's mailbox. This field is optional, it can be NULL in which case the
           default location is assumed.

       quota
           Optional maildir quota on the account's mailbox (and NULL if no quota is set).

       passwd
           The account's encrypted password, if available. If the account has a cleartext password defined, this
           field can be set to NULL. The encrypted password can take several formats:

           •   A traditional triple-DES crypted password, or a MD5+salt-hashed password, as used in Linux.

           •   “{MD5}” followed by a base64-encoded MD5 hash of the password.

           •   “{SHA}” followed by a base64-encoded SHA1 hash of the password.

       clearpasswd
           The account's cleartext password, if available. If the account has an encrypted password defined,
           this field can be set to NULL.

       options
           A comma-separated list of miscellaneous account options. See below for more information.

   <b>Account</b> <b>options</b>
       Depending on the configuration of the Courier authentication library, accounts may have individual
       options associated with them. If the authentication library configuration does not implement account
       options, the option string will be a NULL value. Otherwise it will be a comma-separated list of
       “<u>option</u>=<u>value</u>” settings.

           <b>Note</b>

           The application is responsible for actually implementing the options. For example, sn authentication
           request for service “imap”, for example, will succeed provided that the userid and the password are
           valid, even if “disableimap=1” is set. The application's <b>callback_func</b> should check for this
           condition, and return a negative return code.

           <b>Note</b>

           The following list of account options is a combined list of implemented options supported by Courier,
           Courier-IMAP, and SqWebMail packages. Some of the following information is obviously not applicable
           for a particular package. The inapplicable bits should be obvious.

       The following options are recognized by the various Courier packages:

       disableimap=<u>n</u>
           If "n" is 1, IMAP access to this account should be disabled.

       disablepop3=<u>n</u>
           If "n" is 1, POP3 access to this account should be disabled.

       disableinsecureimap=<u>n</u>
           If "n" is 1, unencrypted IMAP access to this account should be disabled.

       disableinsecurepop3=<u>n</u>
           If "n" is 1, unencrypted POP3 access to this account should be disabled.

       disablewebmail=<u>n</u>
           If "n" is 1, webmail access to this account should be disabled.

       disableshared=<u>n</u>
           If "n" is 1, this account should not have access to shared folders or be able to share its own
           folders with other people.

       group=<u>name</u>
           This option is used by Courier-IMAP in calculating access control lists. This option places the
           account as a member of access group <u>name</u>. Instead of granting access rights on individual mail
           folders to individual accounts, the access rights can be granted to an access group “name”, and all
           members of this group get the specified access rights.

           The access group name “administrators” is a reserved group. All accounts in the administrators group
           automatically receive all rights to all accessible folders.

               <b>Note</b>
               This option may be specified multiple times to specify that the account belongs to multiple
               account groups.

       sharedgroup=<u>name</u>
           Another option used by Courier-IMAP. Append "name" to the name of the top level virtual shared folder
           index file. This setting restricts which virtual shared folders this account could possibly access
           (and that's on top of whatever else the access control lists say). See the virtual shared folder
           documentation for more information.

           For technical reasons, group names may not include comma, tab, "/" or "|" characters.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/authlib.3.html">authlib</a></b>(3)[2], <b><a href="../man3/auth_meta.3.html">auth_meta</a></b>(3)[1], <b><a href="../man3/auth_generic_meta.3.html">auth_generic_meta</a></b>(3)[3], <b><a href="../man3/auth_login_meta.3.html">auth_login_meta</a></b>(3)[4], <b><a href="../man3/auth_enumerate.3.html">auth_enumerate</a></b>(3)[5],
       <b><a href="../man3/auth_passwd.3.html">auth_passwd</a></b>(3)[6], <b><a href="../man3/auth_getoption.3.html">auth_getoption</a></b>(3)[7].

</pre><h4><b>NOTES</b></h4><pre>
        1. <b><a href="../man3/auth_meta_init_default.3.html">auth_meta_init_default</a></b>(3)
           <a href="http://www.courier-mta.org/authlib/auth_meta.html">http://www.courier-mta.org/authlib/auth_meta.html</a>

        2. <b><a href="../man3/authlib.3.html">authlib</a></b>(3)
           <a href="http://www.courier-mta.org/authlib/authlib.html">http://www.courier-mta.org/authlib/authlib.html</a>

        3. <b><a href="../man3/auth_generic_meta.3.html">auth_generic_meta</a></b>(3)
           <a href="http://www.courier-mta.org/authlib/auth_generic.html">http://www.courier-mta.org/authlib/auth_generic.html</a>

        4. <b><a href="../man3/auth_login_meta.3.html">auth_login_meta</a></b>(3)
           <a href="http://www.courier-mta.org/authlib/auth_login.html">http://www.courier-mta.org/authlib/auth_login.html</a>

        5. <b><a href="../man3/auth_enumerate.3.html">auth_enumerate</a></b>(3)
           <a href="http://www.courier-mta.org/authlib/auth_enumerate.html">http://www.courier-mta.org/authlib/auth_enumerate.html</a>

        6. <b><a href="../man3/auth_passwd.3.html">auth_passwd</a></b>(3)
           <a href="http://www.courier-mta.org/authlib/auth_passwd.html">http://www.courier-mta.org/authlib/auth_passwd.html</a>

        7. <b><a href="../man3/auth_getoption.3.html">auth_getoption</a></b>(3)
           <a href="http://www.courier-mta.org/authlib/auth_getoption.html">http://www.courier-mta.org/authlib/auth_getoption.html</a>

Double Precision, Inc.                             10/28/2020                            <u><a href="../man3/AUTH_GETUSERINFO_MET.3.html">AUTH_GETUSERINFO_MET</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>