<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPAN::Common::Index - Common library for searching CPAN modules, authors and distributions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcpan-common-index-perl">libcpan-common-index-perl_0.010-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CPAN::Common::Index - Common library for searching CPAN modules, authors and distributions

</pre><h4><b>VERSION</b></h4><pre>
       version 0.010

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use CPAN::Common::Index::Mux::Ordered;
           use Data::Dumper;

           $index = CPAN::Common::Index::Mux::Ordered-&gt;assemble(
               MetaDB =&gt; {},
               Mirror =&gt; { mirror =&gt; "<a href="http://cpan.cpantesters.org">http://cpan.cpantesters.org</a>" },
           );

           $result = $index-&gt;search_packages( { package =&gt; "Moose" } );

           print Dumper($result);

           # {
           #   package =&gt; 'MOOSE',
           #   version =&gt; '2.0802',
           #   uri     =&gt; "cpan:///distfile/ETHER/Moose-2.0802.tar.gz"
           # }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides a common library for working with a variety of CPAN index services.  It is
       intentionally minimalist, trying to use as few non-core modules as possible.

       The "CPAN::Common::Index" module is an abstract base class that defines a common API.  Individual
       backends deliver the API for a particular index.

       As shown in the SYNOPSIS, one interesting application is multiplexing -- using different index backends,
       querying each in turn, and returning the first result.

</pre><h4><b>METHODS</b></h4><pre>
   <b>search_packages</b> <b>(ABSTRACT)</b>
           $result = $index-&gt;search_packages( { package =&gt; "Moose" });
           @result = $index-&gt;search_packages( \%advanced_query );

       Searches the index for a package such as listed in the CPAN <u>02packages.details.txt</u> file.  The query must
       be provided as a hash reference.  Valid keys are

       •   package -- a string, regular expression or code reference

       •   version -- a version number or code reference

       •   dist -- a string, regular expression or code reference

       If  the  query  term  is  a  string  or  version number, the query will be for an exact match.  If a code
       reference, the code will be called with the value of the field  for  each  potential  match.   It  should
       return true if it matches.

       Not all backends will implement support for all fields or all types of queries.  If it does not implement
       either, it should "decline" the query with an empty return.

       The return should be context aware, returning either a single result or a list of results.

       The result must be formed as follows:

           {
             package =&gt; 'MOOSE',
             version =&gt; '2.0802',
             uri     =&gt; "cpan:///distfile/ETHER/Moose-2.0802.tar.gz"
           }

       The "uri" field should be a valid URI.  It may be a URI::cpan or any other URI.  (It is up to a client to
       do something useful with any given URI scheme.)

   <b>search_authors</b> <b>(ABSTRACT)</b>
           $result = $index-&gt;search_authors( { id =&gt; "DAGOLDEN" });
           @result = $index-&gt;search_authors( \%advanced_query );

       Searches  the  index for author data such as from the CPAN <u>01mailrc.txt</u> file.  The query must be provided
       as a hash reference.  Valid keys are

       •   id -- a string, regular expression or code reference

       •   fullname -- a string, regular expression or code reference

       •   email -- a string, regular expression or code reference

       If the query term is a string, the query will be for an exact match.  If a code reference, the code  will
       be called with the value of the field for each potential match.  It should return true if it matches.

       Not all backends will implement support for all fields or all types of queries.  If it does not implement
       either, it should "decline" the query with an empty return.

       The return should be context aware, returning either a single result or a list of results.

       The result must be formed as follows:

           {
               id       =&gt; 'DAGOLDEN',
               fullname =&gt; 'David Golden',
               email    =&gt; '<a href="mailto:dagolden@cpan.org">dagolden@cpan.org</a>',
           }

       The  "email"  field  may  not  reflect  an  actual  email address.  The 01mailrc file on CPAN often shows
       "CENSORED" when email addresses are concealed.

   <b>index_age</b>
           $epoch = $index-&gt;index_age;

       Returns the modification time of the index in epoch seconds.  This may not make sense for some  backends.
       By default it returns the current time.

   <b>refresh_index</b>
           $index-&gt;refresh_index;

       This  ensures  the index source is up to date.  For example, a remote mirror file would be re-downloaded.
       By default, it does nothing.

   <b>attributes</b>
       Return attributes and default values as a hash reference.  By default returns an empty hash reference.

   <b>validate_attributes</b>
           $self-&gt;validate_attributes;

       This is called by the constructor to validate any arguments.  Subclasses should override the default  one
       to perform validation.  It should not be called by application code.  By default, it does nothing.

</pre><h4><b>SUPPORT</b></h4><pre>
   <b>Bugs</b> <b>/</b> <b>Feature</b> <b>Requests</b>
       Please     report    any    bugs    or    feature    requests    through    the    issue    tracker    at
       &lt;https://github.com/Perl-Toolchain-Gang/CPAN-Common-Index/issues&gt;.  You will be notified automatically of
       any progress on your issue.

   <b>Source</b> <b>Code</b>
       This is open source software.  The code repository is available for public review and contribution  under
       the terms of the license.

       &lt;https://github.com/Perl-Toolchain-Gang/CPAN-Common-Index&gt;

         git clone https://github.com/Perl-Toolchain-Gang/CPAN-Common-Index.git

</pre><h4><b>AUTHOR</b></h4><pre>
       David Golden &lt;<a href="mailto:dagolden@cpan.org">dagolden@cpan.org</a>&gt;

</pre><h4><b>CONTRIBUTORS</b></h4><pre>
       •   David Golden &lt;<a href="mailto:xdg@xdg.me">xdg@xdg.me</a>&gt;

       •   Helmut Wollmersdorfer &lt;<a href="mailto:helmut@wollmersdorfer.at">helmut@wollmersdorfer.at</a>&gt;

       •   Kenichi Ishigaki &lt;<a href="mailto:ishigaki@cpan.org">ishigaki@cpan.org</a>&gt;

       •   Shoichi Kaji &lt;<a href="mailto:skaji@cpan.org">skaji@cpan.org</a>&gt;

       •   Tatsuhiko Miyagawa &lt;<a href="mailto:miyagawa@bulknews.net">miyagawa@bulknews.net</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2013 by David Golden.

       This is free software, licensed under:

         The Apache License, Version 2.0, January 2004

perl v5.36.0                                       2022-12-09                           <u>CPAN::Common::<a href="../man3pm/Index.3pm.html">Index</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>