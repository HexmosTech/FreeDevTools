<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FunColumnActivate - activate Funtools columns</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libfuntools-dev">libfuntools-dev_1.4.8-1.1build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       FunColumnActivate - activate Funtools columns

</pre><h4><b>SYNOPSIS</b></h4><pre>
         #include &lt;funtools.h&gt;

         void FunColumnActivate(Fun fun, char *s, char *plist)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <u><b>FunColumnActivate()</b></u> routine determines which columns (set up by <u>FunColumnSelect()</u>) ultimately will be
       read  and/or  written.   By default, all columns that are selected using <u>FunColumnSelect()</u> are activated.
       The <u>FunColumnActivate()</u> routine can be used to turn off/off activation of specific columns.

       The first argument is the Fun handle associated with this set of  columns.   The  second  argument  is  a
       space-delimited  list  of  columns  to activate or de-activate. Columns preceded by "+" are activated and
       columns preceded by a "-" are de-activated. If a column is named without "+" or "-", it is activated. The
       reserved strings "$region" and '$n' are used to activate a special columns containing the  filter  region
       value  and  row  value,  respectively,  associated with this row. For example, if a filter containing two
       circular regions is specified as part of the Funtools file name, this column will contain a value of 1 or
       2, depending on which region that row was in. The reserved strings "$x" and "$y" are used to activate the
       current binning columns. Thus, if the columns DX and DY are specified as binning columns:

         [sh $] fundisp foo.fits[bincols=(DX,DY)]

       then "$x" and "$y" will refer to these columns in a call to <u>FunColumnActivate()</u>.

       In addition, if the activation string contains only columns to be activated, then the  routine  will  de-
       activate  all  other  columns.  Similarly, if the activation string contains only columns to de-activate,
       then the routine will activate all other columns before activating the list.  This  makes  it  simple  to
       change the activation state of all columns without having to know all of the column names. For example:

       •   <b>"pi</b> <b>pha</b> <b>time"</b>     # only these three columns will be active

       •   <b>"-pi</b> <b>-pha</b> <b>-time"</b>  # all but these columns will be active

       •   <b>"pi</b> <b>-pha"</b>         # only pi is active, pha is not, others are not

       •   <b>"+pi</b> <b>-pha"</b>        # same as above

       •   <b>"pi</b> <b>-pha</b> <b>-time"</b>   # only pi is active, all others are not

       •   <b>"pi</b> <b>pha"</b>          # pha and pi are active, all others are not

       •   <b>"pi</b> <b>pha</b> <b>-x</b> <b>-y"</b>    # pha and pi are active, all others are not

       You  can  use  the  column  activation  list  to  reorder  columns, since columns are output in the order
       specified. For example:

         # default output order
         fundisp snr.ev'[cir 512 512 .1]'
                X        Y      PHA       PI                  TIME       DX       DY
         -------- -------- -------- -------- --------------------- -------- --------
              512      512        6        7     79493997.45854475      578      574
              512      512        8        9     79494575.58943175      579      573
              512      512        5        6     79493631.03866175      578      575
              512      512        5        5     79493290.86521725      578      575
              512      512        8        9     79493432.00990875      579      573

         # re-order the output by specifying explicit order
         fundisp snr.ev'[cir 512 512 .1]' "time x y dy dx pi pha"
                          TIME        X        Y       DY       DX       PI      PHA
         --------------------- -------- -------- -------- -------- -------- --------
             79493997.45854475      512      512      574      578        7        6
             79494575.58943175      512      512      573      579        9        8
             79493631.03866175      512      512      575      578        6        5
             79493290.86521725      512      512      575      578        5        5
             79493432.00990875      512      512      573      579        9        8

       A "+" sign by itself means to activate all columns, so that you can reorder just a  few  columns  without
       specifying all of them:

         # reorder 3 columns and then output the rest
         fundisp snr.ev'[cir 512 512 .1]' "time pi pha +"
                          TIME       PI      PHA        Y        X       DX       DY
         --------------------- -------- -------- -------- -------- -------- --------
             79493997.45854475        7        6      512      512      578      574
             79494575.58943175        9        8      512      512      579      573
             79493631.03866175        6        5      512      512      578      575
             79493290.86521725        5        5      512      512      578      575
             79493432.00990875        9        8      512      512      579      573

       The  column  activation/deactivation  is  performed  in the order of the specified column arguments. This
       means you can mix "+", "-" (which de-activates all columns) and specific  column  names  to  reorder  and
       select columns in one command. For example, consider the following:

         # reorder and de-activate
         fundisp snr.ev'[cir 512 512 .1]' "time pi pha + -x -y"
                          TIME       PI      PHA       DX       DY
         --------------------- -------- -------- -------- --------
             79493997.45854475        7        6      578      574
             79494575.58943175        9        8      579      573
             79493631.03866175        6        5      578      575
             79493290.86521725        5        5      578      575
             79493432.00990875        9        8      579      573

       We  first  activate  "time",  "pi", and "pha" so that they are output first.  We then activate all of the
       other columns, and then de-activate "x" and "y".  Note that this is different from:

         # probably not what you want ...
         fundisp snr.ev'[cir 512 512 .1]' "time pi pha -x -y +"
                          TIME       PI      PHA        Y        X       DX       DY
         --------------------- -------- -------- -------- -------- -------- --------
             79493997.45854475        7        6      512      512      578      574
             79494575.58943175        9        8      512      512      579      573
             79493631.03866175        6        5      512      512      578      575
             79493290.86521725        5        5      512      512      578      575
             79493432.00990875        9        8      512      512      579      573

       Here, "x" and "y" are de-activated, but then all columns including "x" and "y" are again re-activated.

       Typically, <u>FunColumnActivate()</u> uses a list of columns that are passed into the program from  the  command
       line.  For example, the code for funtable contains the following:

         char *cols=NULL;

         /* open the input FITS file */
         if( !(fun = FunOpen(argv[1], "rc", NULL)) )
           gerror(stderr, "could not FunOpen input file: %s\n", argv[1]);

         /* set active flag for specified columns */
         if( argc &gt;= 4 ) cols = argv[3];
         FunColumnActivate(fun, cols, NULL);

       The  <u>FunOpen()</u> call sets the default columns to be all columns in the input file. The <u>FunColumnActivate()</u>
       call then allows the user to control which columns ultimately will be  activated  (i.e.,  in  this  case,
       written to the new file).  For example:

         funtable test.ev foo.ev "pi pha time"

       will process only the three columns mentioned, while:

         funtable test.ev foo.ev "-time"

       will process all columns except "time".

       If  <u>FunColumnActivate()</u>  is  called with a null string, then the environment variable <b>FUN_COLUMNS</b> will be
       used to provide a global value, if present.  This is the reason why  we  call  the  routine  even  if  no
       columns are specified on the command line (see example above), instead of calling it this way:

         /* set active flag for specified columns */
         if( argc &gt;= 4 ){
           FunColumnActivate(fun, argv[3], NULL);
         }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       See <a href="../man7/funtools.7.html">funtools</a>(7) for a list of Funtools help pages

version 1.4.5                                    April 14, 2011                             <u><a href="../man3/funcolumnactivate.3.html">funcolumnactivate</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>