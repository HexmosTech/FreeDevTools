<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File::Fu::Dir - a directoryname object</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libfile-fu-perl">libfile-fu-perl_0.0.8-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       File::Fu::Dir - a directoryname object

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use File::Fu;

         my $dir = File::Fu-&gt;dir("path/to/dir");
         $dir-&gt;e and warn "$dir exists";

         $dir-&gt;l and warn "$dir is a link to ", $dir-&gt;readlink;

         foreach my $entry ($dir-&gt;list) {
           warn $entry . ': ' . $entry-&gt;stat-&gt;size, "\n"
             if($entry-&gt;f);
         }

</pre><h4><b>Constructor</b></h4><pre>
   <b>new</b>
         my $dir = File::Fu::Dir-&gt;new($path);

         my $dir = File::Fu::Dir-&gt;new(@path);

</pre><h4><b>Class</b> <b>Constants/Methods</b></h4><pre>
   <b>file_class</b>
       Return the corresponding file class for this dir object.  Default: File::Fu::File.

         my $fc = $class-&gt;file_class;

   <b>is_dir</b>
       Always true for a directory.

   <b>is_file</b>
       Always false for a directory.

   <b>temp_dir_class</b>
       Class for "temp_dir" objects.  Default: File::Fu::Dir::Temp.

         my $class = File::Fu::Dir-&gt;temp_dir_class;

   <b>temp_file_class</b>
         my $class = File::Fu::Dir-&gt;temp_file_class;

</pre><h4><b>Methods</b></h4><pre>
   <b>stringify</b>
         my $string = $dir-&gt;stringify;

   <b>bare</b>
       Stringify without the trailing slash/assertion.

         my $str = $self-&gt;bare;

       The trailing slash causes trouble when trying to address a symlink to a directory via a dir object.
       Thus, "-l $dir" doesn't work, but "$dir-&gt;l" does the same thing as "-l $dir-&gt;bare".

   <b>file</b>
       Create a filename object with $dir as its parent.

         my $file = $dir-&gt;file($filename);

         my $file = $dir + $filename;

   <b>append</b>
       Append a string only to the last directory part.

         $dir-&gt;append('.tmp');

         $dir %= "something";

   <b>subdir</b>
         $newdir = $dir-&gt;subdir('foo');

         $newdir = $dir / 'foo';

   <b>part</b>
       Returns the $i'th part of the directory list.

         my $part = $dir-&gt;part($i);

       $dir-&gt;part(-1) is like $dir-&gt;basename, but not an object and not quite like <b>File::Basename::basename()</b>
       when it comes to the / directory.

   <b>end</b>
       Shorthand for part(-1);

   <b>parts</b>
       Retrieve the inner list of the directory's parts.

         my @parts = $dir-&gt;parts;

         my @parts = $dir-&gt;parts(0..2);

       The returned parts will be contiguous, but the request can be a two-element list (and can also start or
       end at negative indices.)

         my @parts = $dir-&gt;parts(3, 7);

         my @parts = $dir-&gt;parts(3, -1);

         my @parts = $dir-&gt;parts(-5, -1);

   <b>slice</b>
       Returns a new dir object as the return of <b>parts()</b>.

         my $slice = $dir-&gt;<a href="../man0/slice.0.html">slice</a>(0);

         my $slice = $dir-&gt;slice(0,3);

   <b>map</b>
       Execute a callback on each part of $dir.  The sub should modify $_ (yes, this is slightly unlike the
       <b>map()</b> builtin.)

       If $parts is defined as an integer or array reference of integers, it will be treated as a slice on the
       directory parts to which the map should be applied.

         $dir-&gt;map(sub {...}, [@parts]);

         $dir &amp;= sub {s/foo$/bar/};

       So, to modify only the first directory part:

         $dir-&gt;map(sub {s/foo$/bar/}, 0);

</pre><h4><b>Properties</b></h4><pre>
   <b>is_cwd</b>
       True if the $dir represents a relative (e.g. '.') directory.

         my $bool = $dir-&gt;is_cwd;

   <b>basename</b>
       Returns the last part of the path as a Dir object.

         my $bit = $dir-&gt;basename;

   <b>dirname</b>
       Returns the parent parts of the path as a Dir object.

         my $parent = $dir-&gt;dirname;

   <b>absolute</b>
       Get an absolute name (without checking the filesystem.)

         my $abs = $dir-&gt;absolute;

   <b>absolutely</b>
       Get an absolute path (resolved on filesystem, so it must exist.)

         my $abs = $dir-&gt;absolutely;

</pre><h4><b>Doing</b> <b>stuff</b></h4><pre>
   <b>open</b>
       Calls <b>opendir()</b>, but throws an error if it fails.

         my $dh = $dir-&gt;open;

       Returns a directory handle, for e.g. <b>readdir()</b>.

         my @files = map({$dir + $_} grep({$_ !~ m/^\./} readdir($dh)));

   <b>touch</b>
       Update the timestamp of a directory (croak if it doesn't exist.)

         $dir-&gt;touch;

   <b>list</b>
         my @paths = $dir-&gt;list(all =&gt; 1);

   <b>lister</b>
         my $subref = $dir-&gt;lister(all =&gt; 1);

   <b>contents</b>
       Equivalent to readdir.  With the 'all' option true, returns hidden names too (but not the '.' and '..'
       entries.)

       The return values are strings, not File::Fu objects.

         my @names = $dir-&gt;contents(all =&gt; 1);

   <b>iterate_contents</b>
       Returns a subref which will iterate over the directory's contents.

         my $subref = $dir-&gt;iterate_contents(all =&gt; 1);

   <b>find</b>
       Recursively search a directory's contents for items where the supplied coderef (matcher) returns true.
       The matcher will be invoked with the topic ($_) set to the current path (which is either a Dir or File
       object.) The return values will be File::Fu::File or File::Fu::Dir objects.

       If your matcher returns true, the topic will be added to the return values.

         my @paths = $dir-&gt;find(sub {m/foo/});

       There is a knob for controlling recursion, which is the first argument to your matcher.

         my @pm_files = $dir-&gt;find(sub {
           return shift-&gt;prune
             if($_-&gt;is_dir and $_-&gt;part(-1) =~ m/^\.svn$/);
           $_-&gt;is_file and m/\.pm$/;
         });

       Differences from <b>File::Find::find()</b>
           The  invocant  ($dir aka '.') is not examined (because this is an object method, there is always only
           one starting path.)

           The topic is always absolute in the same sense as the invocant.  That is, if $dir is relative to your
           current directory, then so are the topics and return values.  If $dir is absolute, so are the  topics
           and return values.

   <b>finder</b>
       Returns  an  iterator for finding files.  This iterator does everything that <b>find()</b> does, but returns one
       path at a time.  Returns undef when exhausted and zero when it is just taking a break.

         my $subref = $dir-&gt;finder(sub {$_-&gt;is_file and $_-&gt;file =~ m/foo/});

       This allows a non-blocking find.

         while(defined(my $path = $subref-&gt;())) {
           $path or next; # 0 means 'not done yet'
           # do something with $path (a file or dir object)
         }

       The <b>find()</b> method is implemented in terms of <b>finder()</b> by simply using a <b>while()</b> loop and accumulating the
       return values.

   <b>The</b> <b>FindKnob</b> <b>object</b>
       The FindKnob object allows you to control the next steps of <b>find()</b>.  Methods called on it will  typically
       return a value which also makes sense as a return value of your matcher sub.  Thus the idiom:

         $dir-&gt;find(sub {return shift-&gt;prune if(condition); ...})

       prune
           Do not recurse into the topic directory.  Returns false.

   <b>mkdir</b>
       Create the directory or croak with an error.

         $dir-&gt;mkdir;

         $dir-&gt;<a href="../man0700/mkdir.0700.html">mkdir</a>(0700);

   <b>create</b>
       Create the directory, with parents if needed.

         $dir-&gt;create;

   <b>rmdir</b>
       Remove the directory or croak with an error.

         $dir-&gt;rmdir;

   <b>remove</b>
       Remove the directory and all of its children.

         $dir-&gt;remove;

   <b>unlink</b>
         $link-&gt;unlink;

   <b>symlink</b>
       Create a symlink which points to $dir.

         my $link = $dir-&gt;symlink($linkname);

       Note that symlinks are relative to where they live, so if $dir is a relative path, it must be relative to
       $linkname.

   <b>readlink</b>
         my $to = $file-&gt;readlink;

</pre><h4><b>Changing</b> <b>Directories</b></h4><pre>
   <b>chdir</b>
       Change to the directory in self, returning a new '.' directory object.

         $dir = $dir-&gt;chdir;

   <b>chdir_for</b>
       Change to $dir and run the given subroutine.  The sub will be passed a './' directory object.

         $dir-&gt;chdir_for(sub {...});

   <b>chdir_local</b>
       Change to $dir, but return to the current cwd when $token goes out of scope.

         my $token = $self-&gt;chdir_local;

</pre><h4><b>Temporary</b> <b>Directories</b> <b>and</b> <b>Files</b></h4><pre>
       These  methods  use  the $dir object as a parent location for the temp path.  To use your system's global
       temp space (e.g. '<a href="file:/tmp/">/tmp/</a>'), just replace $dir with 'File::Fu'.

         File::Fu-&gt;temp_dir;              # '<a href="file:/tmp/">/tmp/</a>'
         File::Fu-&gt;dir-&gt;temp_dir;         # './'
         File::Fu-&gt;dir("foo")-&gt;temp_dir;  # 'foo/'

         File::Fu-&gt;temp_file;             # '<a href="file:/tmp/">/tmp/</a>'
         File::Fu-&gt;dir-&gt;temp_file;        # './'
         File::Fu-&gt;dir("foo")-&gt;temp_file; # 'foo/'

   <b>temp_dir</b>
       Return a temporary directory in $dir.

         my $dir = $dir-&gt;temp_dir;

   <b>temp_file</b>
       Return a filehandle to a temporary file in $dir.

         my $handle = $dir-&gt;temp_file;

</pre><h4><b>AUTHOR</b></h4><pre>
       Eric Wilhelm @ &lt;ewilhelm at cpan dot org&gt;

       <a href="http://scratchcomputing.com/">http://scratchcomputing.com/</a>

</pre><h4><b>BUGS</b></h4><pre>
       If you found this module on CPAN, please report any bugs or feature requests through the web interface at
       &lt;<a href="http://rt.cpan.org">http://rt.cpan.org</a>&gt;.  I will be notified, and then you'll automatically be notified of progress on  your
       bug as I make changes.

       If you pulled this development version from my /svn/, please contact me directly.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2008 Eric L. Wilhelm, All Rights Reserved.

</pre><h4><b>NO</b> <b>WARRANTY</b></h4><pre>
       Absolutely,  positively  NO WARRANTY, neither express or implied, is offered with this software.  You use
       this software at your own risk.  In case of loss, no person or entity owes you anything whatsoever.   You
       have been warned.

</pre><h4><b>LICENSE</b></h4><pre>
       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.36.0                                       2022-12-07                                 <u>File::Fu::<a href="../man3pm/Dir.3pm.html">Dir</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>