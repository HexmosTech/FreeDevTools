<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scrappy::Scraper::Parser - Scrappy Scraper Data Extrator</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libscrappy-perl">libscrappy-perl_0.94112090-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Scrappy::Scraper::Parser - Scrappy Scraper Data Extrator

</pre><h4><b>VERSION</b></h4><pre>
       version 0.94112090

</pre><h4><b>SYNOPSIS</b></h4><pre>
           #!<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?perl">/usr/bin/perl</a>
           use Scrappy::Scraper::Parser;

           my  $parser = Scrappy::Scraper::Parser-&gt;new;
               $parser-&gt;html($html);

               # get all links in all table rows with CSS selector
               my  $links = $parser-&gt;scrape('table tr a');

               # select all links in the 2nd table row of all tables with XPATH selector
               my  $links = $parser-&gt;scrape('//table/tr[2]/a');

               # percision scraping !
               # select all links in the 2nd table row ONLY with CSS selectors and focus()
               my  $links =
                   $parser-&gt;select('table tr')
                      -&gt;<a href="../man2/focus.2.html">focus</a>(2)
                      -&gt;scrape('a');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Scrappy::Scraper::Parser provides various tools for scraping/extracting information from web pages using
       the Scrappy framework.

   <b>ATTRIBUTES</b>
       The following is a list of object attributes available with every Scrappy::Scraper::Parser instance.

       <u>data</u>

       The data attribute gets/sets the extracted data which is returned from the scrape method.

           my  $parser = Scrappy::Scraper::Parser-&gt;new;
               $parser-&gt;select('table tr');
               $parser-&gt;data;

       <u>html</u>

       The html attribute gets/sets the HTML content to be parsed and extracted from.

           my  $parser = Scrappy::Scraper::Parser-&gt;new;
               $parser-&gt;html($HTML);

       <u>html_tags</u>

       The html_tags attribute gets a hashref of all known HTML tags and attributes to be used with
       Web::Scraper.

           my  $parser = Scrappy::Scraper::Parser-&gt;new;
               $parser-&gt;html_tags;

       <u>worker</u>

       The worker attribute holds the Web::Scraper object which is used to parse HTML and extract data.

           my  $parser = Scrappy::Scraper::Parser-&gt;new;
               $parser-&gt;worker;

</pre><h4><b>METHODS</b></h4><pre>
   <b>filter</b>
       The filter method allows you to filter the tags returned within the results by supplying the filter
       method with a list of tag attributes that you specifically want to return, forsaking all others,
       including the special text and html tags/keys.

           # filter results and only return meta tags with a content attribute
           my  $parser = Scrappy::Scraper::Parser-&gt;new;
               $parser-&gt;select('meta');
               print $parser-&gt;data;

               ...

               {
                   name =&gt; '...',
                   text =&gt; '...',
                   html =&gt; '...',
                   content =&gt; '....',
                   http =&gt; '...',
                   ....
               }

               print $parser-&gt;filter('name', 'content')-&gt;data;

               ...

               {
                   name =&gt; '...',
                   content =&gt; '....',
               }

   <b>focus</b>
       The focus method is used zero-in on specific blocks of HTML so the selectors only extract data from
       within the highlighted block. The focus method is meant to be used after the select method extracts rows
       of data, the focus method is passed an array index which zeros-in on that row of data.

           my  $parser = Scrappy::Scraper::Parser-&gt;new;

           # percision scraping !
           # select all links in the 2nd table row ONLY
           my  $links =
               $parser-&gt;select('table tr')
                  -&gt;<a href="../man2/focus.2.html">focus</a>(2)
                  -&gt;scrape('a');

   <b>scrape</b>
       The scrape method is used to extract data from the specified HTML and return the extracted data. This
       method is dentical to the select method with the exception of what is returned.

           my  $parser = Scrappy::Scraper::Parser-&gt;new;
           my  $links = $parser-&gt;scrape('a', $from_html); #get all links

   <b>select</b>
       The select method is used to extract data from the specified HTML and return the parser object. The data
       method can be used to access the extracted information.

           my  $parser = Scrappy::Scraper::Parser-&gt;new;
               $parser-&gt;select('a', $from_html); #get all links

           my  $links = $parser-&gt;data;

   <b>first</b>
       The first method is used to return the first element from the extracted dataset.

           my  $parser = Scrappy::Scraper::Parser-&gt;new;
               $parser-&gt;select('a', $from_html); #get all links

           my  $first_link = $parser-&gt;first;

           # equivalent to ...
           my  $first_link = $parser-&gt;data-&gt;[0];

   <b>last</b>
       The last method is used to return the last element from the extracted dataset.

           my  $parser = Scrappy::Scraper::Parser-&gt;new;
               $parser-&gt;select('a', $from_html); #get all links

           my  $last_link = $parser-&gt;last;

           # equivalent to ...
           my  $last_link = $parser-&gt;data-&gt;[(@{$parser-&gt;data}-1)];

   <b>select_first</b>
       The select_first method is a convenience feature combining the <b>select()</b> and <b>first()</b> methods to return the
       first element from the extracted data.

           my  $parser = Scrappy::Scraper::Parser-&gt;new;
               $parser-&gt;select_first('a'); #get link text
               $parser-&gt;select_first('a', 'href'); #get link URL

   <b>select_last</b>
       The select_last method is a convenience feature combining the <b>select()</b> and <b>last()</b> methods to return the
       last element from the extracted data.

           my  $parser = Scrappy::Scraper::Parser-&gt;new;
               $parser-&gt;select_last('a'); #get link text
               $parser-&gt;select_last('a', 'href'); #get link URL

   <b>each</b>
       The each method is used loop through the extracted dataset. The each method takes one argument, a code
       reference, and is passed the each extracted item.

           my  $parser = Scrappy::Scraper::Parser-&gt;new;
               $parser-&gt;select('a', $from_html); #get all links

               $parser-&gt;each(sub{
                   print shift-&gt;{href} . "\n"
               });

   <b>has_html</b>
       The has_html method return a boolean which determine whether HTML content has been set.

           my  $parser = Scrappy::Scraper::Parser-&gt;new;
               print 'oh no' unless $parser-&gt;has_html;

</pre><h4><b>AUTHOR</b></h4><pre>
       Al Newkirk &lt;<a href="mailto:awncorp@cpan.org">awncorp@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2010 by awncorp.

       This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.34.0                                       2022-06-17                      <u>Scrappy::Scraper::<a href="../man3pm/Parser.3pm.html">Parser</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>