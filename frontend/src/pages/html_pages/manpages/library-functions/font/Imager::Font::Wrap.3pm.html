<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Imager::Font::Wrap - simple wrapped text output</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libimager-perl">libimager-perl_1.027+dfsg-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
         Imager::Font::Wrap - simple wrapped text output

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Imager::Font::Wrap;

         my $img = Imager-&gt;new(xsize=&gt;$xsize, ysize=&gt;$ysize);

         my $font = Imager::Font-&gt;new(file=&gt;$fontfile);

         my $string = "..."; # text with or without newlines

         Imager::Font::Wrap-&gt;wrap_text( image  =&gt; $img,
                                        font   =&gt; $font,
                                        string =&gt; $string,
                                        x      =&gt; $left,
                                        y      =&gt; $top,
                                        width  =&gt; $width,
                                        .... );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This is a simple text wrapper with options to control the layout of text within the line.

       You can control the position, width and height of the text with the "image", "x", "y", "width" and
       "height" options.

       You can simply calculate space usage by setting "image" to "undef", or set "savepos" to see how much text
       can fit within the given "height".

       <b>wrap_text()</b>
           Draw word-wrapped text.

           •   "x", "y" - The top-left corner of the rectangle the text is formatted into.  Defaults to (0, 0).

           •   "width"  - The width of the formatted text in pixels.  Defaults to the horizontal gap between the
               top-left corner and the right edge of the image.  If no image is supplied then this is required.

           •   "height" - The maximum height of the formatted text in pixels.  Not required.

           •   "savepos" - The amount of text consumed (as a count of characters) will be stored into the scalar
               this refers to.

                 my $pagenum = 1;
                 my $string = "...";
                 my $font = ...;
                 my $savepos;

                 while (length $string) {
                   my $img = Imager-&gt;new(xsize=&gt;$xsize, ysize=&gt;$ysize);
                   Imager::Font::Wrap-&gt;wrap_text(string=&gt;$string, font=&gt;$font,
                                                 image=&gt;$img, savepos =&gt; \$savepos)
                     or die $img-&gt;errstr;
                   $savepos &gt; 0
                     or die "Could not fit any text on page\n";
                   $string = substr($string, $savepos);
                   $img-&gt;write(file=&gt;"page$pagenum.ppm");
                 }

           •   "image" - The image to render the text to.  Can be supplied as "undef" or not provided to  simply
               calculate the bounding box.

           •   "font" - The font used to render the text.  Required.

           •   "size"  -  The  size  to  render  the  font  in.  Defaults to the size stored in the font object.
               Required if it isn't stored in the font object.

           •   "string" - The text to render.  This  can  contain  non-white-space,  blanks  (ASCII  0x20),  and
               newlines.

               Newlines  must  match  /(?:\x0A\x0D?|\x0D\x0A?)<a href="file:/.">/.</a>  White-space other than blanks and newlines are
               completely ignored.

           •   "justify"

               The way text is formatted within each line.  Possible values include:

               •   "left" - left aligned against the left edge of the text box.

               •   "right" - right aligned against the right edge of the text box.

               •   "center" - centered horizontally in the text box.

               •   fill - all but the final line of the paragraph has spaces expanded so  that  the  line  fills
                   from the left to the right edge of the text box.

           •   "linegap"  -  Gap  between  lines  of  text  in  pixels.   This  is  in addition to the size from
               "$font-&gt;font_height".  Can be positive or negative.  Default 0.

           Any other parameters are passed onto Imager::Font-&gt;<b>draw()</b>.

           Returns a list:

             ($left, $top, $right, $bottom)

           which are the bounds of the space used to layout the text.

           If "height" is set then this is the space used within that height.

           You can use this to calculate the space required to format the text before doing it:

             my ($left, $top, $right, $bottom) =
               Imager::Font::Wrap-&gt;wrap_text(string =&gt; $string,
                                             font   =&gt; $font,
                                             width  =&gt; $xsize);
             my $img = Imager-&gt;new(xsize=&gt;$xsize, ysize=&gt;$bottom);
             Imager::Font::Wrap-&gt;wrap_text(string =&gt; $string,
                                           font   =&gt; $font,
                                           width  =&gt; $xsize,
                                           image  =&gt; $image);

</pre><h4><b>BUGS</b></h4><pre>
       Imager::Font can handle UTF-8 encoded text itself, but this module doesn't  support  that  (and  probably
       won't).  This could probably be done with regex magic.

       Currently ignores the "sizew" parameter, if you supply one it will be supplied to the <b>draw()</b> function and
       the text will be too short or too long for the "width".

       Uses a simplistic text model, which is why there's no hyphenation, and no tabs.

</pre><h4><b>AUTHOR</b></h4><pre>
       Tony Cook &lt;<a href="mailto:tony@develop-help.com">tony@develop-help.com</a>&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/Imager.3.html">Imager</a></b>(3), <b>Imager::<a href="../man3/Font.3.html">Font</a></b>(3)

perl v5.40.1                                       2025-03-16                            <u>Imager::Font::<a href="../man3pm/Wrap.3pm.html">Wrap</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>