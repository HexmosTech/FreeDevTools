<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chemistry::Tutorial - PerlMol Quick Tutorial</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libchemistry-mol-perl">libchemistry-mol-perl_0.39-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Chemistry::Tutorial - PerlMol Quick Tutorial

</pre><h4><b>Introduction</b></h4><pre>
       The modules in the PerlMol toolkit are designed to simplify the handling of molecules from Perl programs
       in a general and extensible way.  These modules are object-oriented; however, this tries to assume little
       or no knowledge of object-oriented programming in Perl. For a general introduction about how to use
       object-oriented modules, see HTML::Tree::AboutObjects.

       This document shows some of the more common methods included in the PerlMol toolkit, in a reasonable
       order for a quick introduction. For more details see the perldoc pages for each module.

</pre><h4><b>How</b> <b>to</b> <b>read</b> <b>a</b> <b>molecule</b> <b>from</b> <b>a</b> <b>file</b></h4><pre>
       The following code will read a PDB file:

           use Chemistry::Mol;
           use Chemistry::File::PDB;
           my $mol = Chemistry::Mol-&gt;read("test.pdb");

       The first two lines (which only need to be used once in a given program) tell Perl that you want to "use"
       the specified modules The third line reads the file and returns a molecule object.

       To read other formats such as MDL molfiles,  you need to "use" the corresponding module, such as
       Chemistry::File::MDLMol. Readers for several formats are under development.

</pre><h4><b>The</b> <b>molecule</b> <b>object</b></h4><pre>
       "Chemistry::Mol-&gt;read" returns a Chemistry::Mol object. An <u>object</u> is a data structure of a given <u>class</u>
       that has <u>methods</u> (i.e. subroutines) associated with it. To access or modify an object's properties, you
       call the methods on the object through "arrow syntax":

           my $name = $mol-&gt;name; # return the name of the molecule
           $mol-&gt;name("water");   # set the name of the molecule to "water"

       Note that these so-called accessor methods return the molecule object when they are used to set a
       property. A consequence of that if you want, you can "chain" several methods to set several options in
       one line:

           $mol-&gt;name("water")-&gt;type("wet");

       A Chemistry::Mol object contains essentially a list of atoms, a list of bonds, and a few generic
       properties such as name, type, and id. The atoms and bonds themselves are also objects.

</pre><h4><b>Writing</b> <b>a</b> <b>molecule</b> <b>file</b></h4><pre>
       To write a molecule to a file, just use the "write" method:

           $mol-&gt;write("test.pdb");

       Make sure you "use"d the right file I/O module. If you want to load all the available file I/O modules,
       you can do it with

           use Chemistry::File ':auto';

</pre><h4><b>Selecting</b> <b>atoms</b> <b>in</b> <b>a</b> <b>molecule</b></h4><pre>
       You can get an array of all the atoms by calling the atoms method without parameters, or a specific atom
       by giving its index:

           @all_atoms = $mol-&gt;atoms;
           $atom3 = $mol-&gt;<a href="../man3/atoms.3.html">atoms</a>(3);

       <b>Note</b>: Atom and bond indices are counted from 1, not from 0. This deviation from common Perl usage was
       made to be consistent with the way atoms are numbered in most common file formats.

       You can select atoms that match an arbitrary expression by using Perl's built-in "grep" function:

           # get all oxygen atoms within 3.0 Angstroms of atom 37
           @close_oxygens = grep {
               $_-&gt;symbol eq 'O'
               and $_-&gt;distance($mol-&gt;<a href="../man37/atoms.37.html">atoms</a>(37)) &lt; 3.0
           } $mol-&gt;atoms;

       The "grep" function loops through all the atoms returned by "$mol-&gt;atoms", aliasing each to $_ at each
       iteration, and returns only those for which the expression in braces is true.

       Using "grep" is a general way of finding atoms; however, since finding atoms by name is common, a
       convenience method is available for that purpose.

           $HB1     = $mol-&gt;atoms_by_name('HB1');
           @H_atoms = $mol-&gt;atoms_by_name('H.*'); # name treated as a regex

       Since the atom name is not generally unique, even the first example above might match more than one atom.
       In that case, only the first one found is returned. In the second case, since you are assigning to an
       array, all matching atoms are returned.

</pre><h4><b>The</b> <b>atom</b> <b>object</b></h4><pre>
       Atoms are usually the most interesting objects in a molecule. Some of their main properties are Z,
       symbol, and coords.

           $atom-&gt;<a href="../man8/Z.8.html">Z</a>(8); # set atomic number to 8
           $symbol = $atom-&gt;symbol;
           $coords = $atom-&gt;coords;

   <b>Atom</b> <b>coordinates</b>
       The coordinates returned by "$atom-&gt;coords" are a Math::VectorReal object. You can print these objects
       and use them to do vector algebra:

           $c1            = $atom1-&gt;coords;
           $c2            = $atom2-&gt;coords;
           $dot_product   = $c1 . $c2;       # returns a scalar
           $cross_product = $c1 x $c2;       # returns a vector
           $delta         = $c2 - $c1;       # returns a vector
           $distance      = $delta-&gt;length;  # returns a scalar
           ($x, $y, $z)   = $c1-&gt;array;      # get the components of $c1
           print $c1;     # prints something like "[ 1.0E0  2.0E0  3.0E0 ]"

       Since one is very often interested in calculating the distance between atoms, Atom objects provide a
       "distance" method to save some typing:

           $d  = $atom1-&gt;distance($atom2);
           $d2 = $atom1-&gt;distance($molecule2);

       In the second case, the value obtained is the minimum distance between the atom and the molecule. This
       can be useful for things such as finding the water molecules closest to a given atom.

       Atoms may also have internal coordinates, which define the position of an atom relative to the positions
       of other atoms by means of a distance, an angle, and a dihedral angle. Those coordinates can be accessed
       through the $atom-&gt;internal_coords method, which uses Chemistry::InternalCoords objects.

</pre><h4><b>The</b> <b>Bond</b> <b>object</b></h4><pre>
       A Chemistry::Bond object is a list of atoms with an associated bond order.  In most cases, a bond has
       exactly two atoms, but we don't want to exclude possibilities such as three-center bonds. You can get the
       list of atoms in a bond by using the "atoms" method; the bond order is accessed trough the "order"
       method;

           @atoms_in_bond = $bond-&gt;atoms;
           $bond_order    = $bond-&gt;order;

       The other interesting method for Bond objects is "length", which returns the distance between the two
       atoms in a bond (this method requires that the bond have two atoms).

           my $bondlength = $bond-&gt;length;

       In addition to these properties, Bond objects have the generic properties described below. The most
       important of these, as far as bonds are concerned, is "type".

</pre><h4><b>Generic</b> <b>properties</b></h4><pre>
       There are three generic properties that all PerlMol objects have:

       id  Each  object  must  have  a  unique ID. In most cases you don't have to worry about it, because it is
           assigned automatically unless you specify it. You can use the "by_id"  method  to  select  an  object
           contained in a molecule:

               $atom = $mol-&gt;by_id("a42");

           In  general,  ids  are preferable to indices because they don't change if you delete or move atoms or
           other objects.

       name
           The name of the object does not have any meaning from the point of view of the core modules, but most
           file types have the concept of molecule name, and some (such as PDB) have the concept of atom names.

       type
           Again, the meaning of type is not universally defined, but it would likely be used  to  specify  atom
           types and bond orders.

       Besides these, the user can specify arbitrary attributes, as discussed in the next section.

</pre><h4><b>User-specified</b> <b>attributes</b></h4><pre>
       The  core  PerlMol  classes  define  very  few, very generic properties for atoms and molecules. This was
       chosen as a "minimum common denominator" because every file format and program has different ideas  about
       the  names,  values and meaning of these properties. For example, some programs only allow bond orders of
       1, 2, and 3; some also have "aromatic" bonds; some use calculated non-integer bond orders. PerlMol  tries
       not to commit to any particular convention, but it allows you to specify whatever attributes you want for
       any object (be it a molecule, an atom, or a bond). This is done through the "attr" method.

           $mol-&gt;attr("melting point", "273.15"); # set m.p.
           $color = $atom-&gt;attr("color"); # get atom color

       The  core  modules  store these values but they don't know what they mean and they don't care about them.
       Attributes can have whatever name you want, and they can be of any type. However, by convention, non-core
       modules that need additional attributes should prefix their name with a <u>namespace</u>, followed by  a  slash.
       (This is done to avoid modules fighting over the same attribute name.)  For example, atoms created by the
       PDB reader module (Chemistry::File::PDB) have the "pdb/residue" attribute.

           $mol  = Chemistry::Mol-&gt;read("test.pdb");
           $atom = $mol-&gt;<a href="../man1234/atoms.1234.html">atoms</a>(1234);
           print $atom-&gt;attr("pdb/residue_name"); # prints "ALA123"

</pre><h4><b>Molecule</b> <b>subclasses</b></h4><pre>
       You can do lots of interesting thing with plain molecules. However, for some applications you may want to
       extend  the  features  of  the  main Chemistry::Mol class. There are several subclasses of Chemistry::Mol
       available already:

       Chemistry::MacroMol
           Used for macromolecules.

       Chemistry::Pattern
           Used for substructure matching.

       Chemistry::Ring
           Used for representing rings (cycles) in molecules.

       Chemistry::Reaction
           Used for representing and applying chemical transformations.

       As an example we'll discuss  macromolecules.  Future  versions  of  this  tutorial  may  also  include  a
       discussion about patterns and rings.

</pre><h4><b>Macromolecules</b></h4><pre>
       So  far  we have assumed that we are dealing with molecules of the Chemistry::Mol class.  However, one of
       the interesting things about object-oriented programming is that classes can  be  extended.  For  dealing
       with  macromolecules, we have the MacroMol class, which extends the Chemistry::Mol class. This means that
       in practice you can use a Chemistry::MacroMol object exactly as you would use  a  Chemistry::Mol  object,
       but  with  some  added  functionality.  In fact, the PDB reader can return Chemistry::MacroMol instead of
       Chemistry::Mol objects just by changing the first example like this:

           use Chemistry::MacroMol;
           use Chemistry::File::PDB;
           my $macromol = Chemistry::MacroMol-&gt;read("test.pdb");

       Now the question is, what is the "added functionality" that MacroMol objects have on top of the  original
       Chemistry::Mol object?

   <b>The</b> <b>MacroMol</b> <b>object</b>
       For  the  purposes  of  this  module,  a macromolecule is considered to be a big molecule where atoms are
       divided in <u>Domains</u>. A domain is just a subset of the atoms in the molecule; in a protein, a domain  would
       be just a residue.

       You  can  select  domains  in  a molecule in a way similar to that used for atoms and bonds, in this case
       through the "domains" method:

           my @all_domains = $macromol-&gt;domains;
           my $domain      = $macromol-&gt;<a href="../man57/domains.57.html">domains</a>(57);

   <b>The</b> <b>Domain</b> <b>object</b>
       A domain is a substructure of a larger molecule. Other than having a <u>parent</u> molecule, a  domain  is  just
       like  a  molecule.  In  other words, the Domain class extends the Chemistry::Mol class; it is basically a
       collection of atoms and bonds.

           my @atoms_in_domain = $domain-&gt;atoms;
           my $atom5_in_domain = $domain-&gt;<a href="../man5/atoms.5.html">atoms</a>(5);

       If you want to get at a given atom in a given domain in a macromolecule, you can "chain" the method calls
       without having to save the Domain object in a temporary variable:

           my $domain57_atom5 = $macromol-&gt;<a href="../man57/domains.57.html">domains</a>(57)-&gt;<a href="../man5/atoms.5.html">atoms</a>(5);
           my $res233_HA = $macromol-&gt;<a href="../man233/domains.233.html">domains</a>(233)-&gt;atoms_by_name('HA');

       The second example is a good way of selecting an atom from a PDB file when you know  the  residue  number
       and atom name.

</pre><h4><b>VERSION</b></h4><pre>
       0.38

</pre><h4><b>SOURCE</b> <b>CODE</b> <b>REPOSITORY</b></h4><pre>
       &lt;https://github.com/perlmol/Chemistry-Mol&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Chemistry::Mol,      Chemistry::Atom,      Chemistry::Bond,     Chemistry::File,     Chemistry::MacroMol,
       Chemistry::Domain.

</pre><h4><b>AUTHOR</b></h4><pre>
       Ivan Tubert-Brohman &lt;<a href="mailto:itub@cpan.org">itub@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2005 Ivan Tubert-Brohman. All rights reserved. This  program  is  free  software;  you  can
       redistribute it and/or modify it under the same terms as Perl itself.

perl v5.34.0                                       2022-07-14                                      <u><a href="../man3pm/Tutorial.3pm.html">Tutorial</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>