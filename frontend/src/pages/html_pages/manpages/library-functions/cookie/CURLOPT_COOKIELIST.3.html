<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_COOKIELIST - add to or manipulate cookies held in memory</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_COOKIELIST - add to or manipulate cookies held in memory

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_COOKIELIST,
                                 char *cookie);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Pass a char pointer to a <u>cookie</u> string.

       Such  a cookie can be either a single line in Netscape / Mozilla format or just regular HTTP-style header
       (<u>Set-Cookie:</u>) format. This option also enables the cookie engine. This adds that  single  cookie  to  the
       internal cookie store.

       We strongly advice against loading cookies from an HTTP header file, as that is an inferior data exchange
       format.

       Exercise caution if you are using this option and multiple transfers may occur. If you use the <u>Set-Cookie</u>
       format  and  the  string  does  not  specify a domain, then the cookie is sent for any domain (even after
       redirects are followed) and cannot be modified by a server-set cookie. If a server sets a cookie  of  the
       same  name (or maybe you have imported one) then both are sent on future transfers to that server, likely
       not what you intended. To  address  these  issues  set  a  domain  in  <u>Set-Cookie</u>  (doing  that  includes
       subdomains) or much better: use the Netscape file format.

       Additionally, there are commands available that perform actions if you pass in these exact strings:

       ALL    erases all cookies held in memory

       SESS   erases all session cookies held in memory

       FLUSH  writes all known cookies to the file specified by <u><a href="../man3/CURLOPT_COOKIEJAR.3.html">CURLOPT_COOKIEJAR</a>(3)</u>

       RELOAD loads all cookies from the files specified by <u><a href="../man3/CURLOPT_COOKIEFILE.3.html">CURLOPT_COOKIEFILE</a>(3)</u>

</pre><h4><b>DEFAULT</b></h4><pre>
       NULL

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects http only

</pre><h4><b>EXAMPLE</b></h4><pre>
       /* an inline import of a cookie in Netscape format. */

       #define SEP  "\t"  /* Tab separates the fields */

       int main(void)
       {
         const char *my_cookie =
           "example.com"    /* Hostname */
           SEP "FALSE"      /* Include subdomains */
           SEP "/"          /* Path */
           SEP "FALSE"      /* Secure */
           SEP "0"          /* Expiry in epoch time format. 0 == Session */
           SEP "foo"        /* Name */
           SEP "bar";       /* Value */

         CURL *curl = curl_easy_init();
         if(curl) {
           /* my_cookie is imported immediately via CURLOPT_COOKIELIST. */
           curl_easy_setopt(curl, CURLOPT_COOKIELIST, my_cookie);

           /* The list of cookies in cookies.txt are not be imported until right
              before a transfer is performed. Cookies in the list that have the same
              hostname, path and name as in my_cookie are skipped. That is because
              libcurl has already imported my_cookie and it's considered a "live"
              cookie. A live cookie is not replaced by one read from a file.
           */
           curl_easy_setopt(curl, CURLOPT_COOKIEFILE, "cookies.txt");  /* import */

           /* Cookies are exported after curl_easy_cleanup is called. The server
              may have added, deleted or modified cookies by then. The cookies that
              were skipped on import are not exported.
           */
           curl_easy_setopt(curl, CURLOPT_COOKIEJAR, "cookies.txt");  /* export */

           curl_easy_perform(curl);  /* cookies imported from cookies.txt */

           curl_easy_cleanup(curl);  /* cookies exported to cookies.txt */
         }
       }

</pre><h4><b>Cookie</b> <b>file</b> <b>format</b></h4><pre>
       The   cookie   file   format   and   general   cookie   concepts  in  curl  are  described  online  here:
       https://curl.se/docs/http-cookies.html

</pre><h4><b>HISTORY</b></h4><pre>
       <b>ALL</b> was added in 7.14.1

       <b>SESS</b> was added in 7.15.4

       <b>FLUSH</b> was added in 7.17.1

       <b>RELOAD</b> was added in 7.39.0

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.14.1

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLINFO_COOKIELIST.3.html">CURLINFO_COOKIELIST</a></b>(3), <b><a href="../man3/CURLOPT_COOKIE.3.html">CURLOPT_COOKIE</a></b>(3), <b><a href="../man3/CURLOPT_COOKIEFILE.3.html">CURLOPT_COOKIEFILE</a></b>(3), <b><a href="../man3/CURLOPT_COOKIEJAR.3.html">CURLOPT_COOKIEJAR</a></b>(3)

libcurl                                            2025-06-16                              <u><a href="../man3/CURLOPT_COOKIELIST.3.html">CURLOPT_COOKIELIST</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>