<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTTP::Cookies - HTTP cookie jars</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libhttp-cookies-perl">libhttp-cookies-perl_6.11-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       HTTP::Cookies - HTTP cookie jars

</pre><h4><b>VERSION</b></h4><pre>
       version 6.11

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use HTTP::Cookies;
         $cookie_jar = HTTP::Cookies-&gt;new(
           file =&gt; "$ENV{'HOME'}/lwp_cookies.dat",
           autosave =&gt; 1,
         );

         use LWP;
         my $browser = LWP::UserAgent-&gt;new;
         $browser-&gt;cookie_jar($cookie_jar);

       Or for an empty and temporary cookie jar:

         use LWP;
         my $browser = LWP::UserAgent-&gt;new;
         $browser-&gt;cookie_jar( {} );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class is for objects that represent a "cookie jar" -- that is, a database of all the HTTP cookies
       that a given LWP::UserAgent object knows about.

       Cookies are a general mechanism which server side connections can use to both store and retrieve
       information on the client side of the connection.  For more information about cookies refer to Cookie
       Spec &lt;<a href="http://curl.haxx.se/rfc/cookie_spec.html">http://curl.haxx.se/rfc/cookie_spec.html</a>&gt; and Cookie Central &lt;<a href="http://www.cookiecentral.com">http://www.cookiecentral.com</a>&gt;.  This
       module also implements the new style cookies described in RFC 2965 &lt;https://tools.ietf.org/html/rfc2965&gt;.
       The two variants of cookies are supposed to be able to coexist happily.

       Instances of the class <u>HTTP::Cookies</u> are able to store a collection of Set-Cookie2: and Set-Cookie:
       headers and are able to use this information to initialize Cookie-headers in <u>HTTP::Request</u> objects.  The
       state of a <u>HTTP::Cookies</u> object can be saved in and restored from files.

</pre><h4><b>LIMITATIONS</b></h4><pre>
       This module does not support Public Suffix &lt;https://publicsuffix.org/&gt; encouraged by a more recent
       standard, RFC 6265 &lt;https://tools.ietf.org/html/rfc6265&gt;.

       This module's shortcomings mean that a malicious Web site can set cookies to track your user agent across
       all sites under a top level domain.  See <u>t/publicsuffix.t</u> in this module's distribution for details.

       HTTP::CookieJar::LWP supports Public Suffix, but only provides a limited subset of this module's
       functionality and does not support standards older than <u>RFC</u> <u>6265</u>.

</pre><h4><b>METHODS</b></h4><pre>
       The following methods are provided:

       $cookie_jar = HTTP::Cookies-&gt;new
           The constructor takes hash style parameters.  The following parameters are recognized:

             file:            name of the file to restore cookies from and save cookies to
             autosave:        save during destruction (bool)
             ignore_discard:  save even cookies that are requested to be discarded (bool)
             hide_cookie2:    do not add Cookie2 header to requests

           Future parameters might include (not yet implemented):

             max_cookies               300
             max_cookies_per_domain    20
             max_cookie_size           4096

             no_cookies   list of domain names that we never return cookies to

       $cookie_jar-&gt;get_cookies( $url_or_domain )
       $cookie_jar-&gt;get_cookies( $url_or_domain, $cookie_key,... )
           Returns  a  hash  of the cookies that applies to the given URL. If a domainname is given as argument,
           then a prefix of "https://" is assumed.

           If one or more $cookie_key parameters are provided return the given values, or "undef" if the  cookie
           isn't available.

       $cookie_jar-&gt;add_cookie_header( $request )
           The  <b>add_cookie_header()</b>  method will set the appropriate Cookie:-header for the <u>HTTP::Request</u> object
           given as argument.  The $request must have a valid url attribute before this method is called.

       $cookie_jar-&gt;extract_cookies( $response )
           The <b>extract_cookies()</b> method will look for Set-Cookie: and Set-Cookie2: headers in the <u>HTTP::Response</u>
           object passed as argument.  Any of these headers that are found are used to update the state  of  the
           $cookie_jar.

       $cookie_jar-&gt;set_cookie( $version, $key, $val, $path, $domain, $port, $path_spec, $secure, $maxage,
       $discard, \%rest )
           The  <b>set_cookie()</b>  method  updates  the state of the $cookie_jar.  The $key, $val, $domain, $port and
           $path arguments are strings.  The $path_spec, $secure, $discard arguments  are  boolean  values.  The
           $maxage  value  is  a  number  indicating  number  of seconds that this cookie will live.  A value of
           $maxage &lt;= 0 will delete this cookie.  The $version argument sets the  version  of  the  cookie;  the
           default  value  is 0 ( original Netscape spec ).  Setting $version to another value indicates the RFC
           to which the cookie conforms (e.g. version 1 for RFC 2109).  %rest defines various  other  attributes
           like "Comment" and "CommentURL".

       $cookie_jar-&gt;save
       $cookie_jar-&gt;save( $file )
       $cookie_jar-&gt;save( file =&gt; $file, ignore_discard =&gt; $ignore_discard )
           This method saves the state of the $cookie_jar to a file.  The state can then be restored later using
           the  <b>load()</b>  method.   If  a  filename  is  not  specified  we  will  use  the  name specified during
           construction.  If the $ignore_discard value is true (or not specified, but  attribute  <u>ignore_discard</u>
           was set at cookie jar construction), then we will even save cookies that are marked to be discarded.

           The default is to save a sequence of "Set-Cookie3" lines.  "Set-Cookie3" is a proprietary LWP format,
           not  known  to  be compatible with any browser.  The <u>HTTP::Cookies::Netscape</u> sub-class can be used to
           save in a format compatible with Netscape.

       $cookie_jar-&gt;load
       $cookie_jar-&gt;load( $file )
           This method reads the cookies from the file and adds them to the $cookie_jar.  The file  must  be  in
           the format written by the <b>save()</b> method.

       $cookie_jar-&gt;revert
           This method empties the $cookie_jar and re-loads the $cookie_jar from the last save file.

       $cookie_jar-&gt;clear
       $cookie_jar-&gt;clear( $domain )
       $cookie_jar-&gt;clear( $domain, $path )
       $cookie_jar-&gt;clear( $domain, $path, $key )
           Invoking  this method without arguments will empty the whole $cookie_jar.  If given a single argument
           only cookies belonging to that domain will be removed.  If given two arguments, cookies belonging  to
           the  specified  path  within that domain are removed.  If given three arguments, then the cookie with
           the specified key, path and domain is removed.

       $cookie_jar-&gt;clear_temporary_cookies
           Discard all temporary cookies. Scans for all cookies in the jar with either no expire field or a true
           "discard" flag. To be called when the user agent shuts down according to RFC 2965.

       $cookie_jar-&gt;scan( \&amp;callback )
           The argument is a subroutine that will be invoked for each cookie stored  in  the  $cookie_jar.   The
           subroutine will be invoked with the following arguments:

             0  version
             1  key
             2  val
             3  path
             4  domain
             5  port
             6  path_spec
             7  secure
             8  expires
             9  discard
            10  hash

       $cookie_jar-&gt;as_string
       $cookie_jar-&gt;as_string( $skip_discardables )
           The  <b>as_string()</b>  method  will  return  the  state  of  the  $cookie_jar represented as a sequence of
           "Set-Cookie3" header lines separated by "\n".  If $skip_discardables is  TRUE,  it  will  not  return
           lines for cookies with the <u>Discard</u> attribute.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       HTTP::Cookies::Netscape, HTTP::Cookies::Microsoft

</pre><h4><b>AUTHOR</b></h4><pre>
       Gisle Aas &lt;<a href="mailto:gisle@activestate.com">gisle@activestate.com</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2002 by Gisle Aas.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.36.0                                       2023-12-15                                 <u>HTTP::<a href="../man3pm/Cookies.3pm.html">Cookies</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>