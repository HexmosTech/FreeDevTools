<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CGI::Simple::Cookie - Interface to HTTP cookies</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcgi-simple-perl">libcgi-simple-perl_1.281-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CGI::Simple::Cookie - Interface to HTTP cookies

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use CGI::Simple::Standard qw(header);
           use CGI::Simple::Cookie;

           # Create new cookies and send them
           $cookie1 = CGI::Simple::Cookie-&gt;new( -name=&gt;'ID', -value=&gt;123456 );
           $cookie2 = CGI::Simple::Cookie-&gt;new( -name=&gt;'preferences',
                                               -value=&gt;{ font =&gt; Helvetica,
                                                         size =&gt; 12 }
                                             );
           print header( -cookie=&gt;[$cookie1,$cookie2] );

           # fetch existing cookies
           %cookies = CGI::Simple::Cookie-&gt;fetch;
           $id = $cookies{'ID'}-&gt;value;

           # create cookies returned from an external source
           %cookies = CGI::Simple::Cookie-&gt;parse($ENV{COOKIE});

</pre><h4><b>DESCRIPTION</b></h4><pre>
       CGI::Simple::Cookie is an interface to HTTP/1.1 cookies, a mechanism that allows Web servers to store
       persistent information on the browser's side of the connection. Although CGI::Simple::Cookie is intended
       to be used in conjunction with CGI::Simple (and is in fact used by it internally), you can use this
       module independently.

       For full information on cookies see:

           <a href="http://tools.ietf.org/html/rfc2109">http://tools.ietf.org/html/rfc2109</a>
           <a href="http://tools.ietf.org/html/rfc2965">http://tools.ietf.org/html/rfc2965</a>
           https://dcthetall.github.io/CHIPS-spec/draft-cutler-httpbis-partitioned-cookies.html

</pre><h4><b>USING</b> <b>CGI::Simple::Cookie</b></h4><pre>
       CGI::Simple::Cookie is object oriented.  Each cookie object has a name and a value.  The name is any
       scalar value.  The value is any scalar or array value (associative arrays are also allowed).  Cookies
       also have several optional attributes, including:

       <b>1.</b> <b>expiration</b> <b>date</b>
           The  expiration date tells the browser how long to hang on to the cookie.  If the cookie specifies an
           expiration date in the future, the browser will store the cookie  information  in  a  disk  file  and
           return  it  to  the server every time the user reconnects (until the expiration date is reached).  If
           the cookie species an expiration date in the past, the browser will remove the cookie from  the  disk
           file.  If the expiration date is not specified, the cookie will persist only until the user quits the
           browser.

       <b>2.</b> <b>domain</b>
           This is a partial or complete domain name for which the cookie is valid.  The browser will return the
           cookie  to  any host that matches the partial domain name.  For example, if you specify a domain name
           of ".capricorn.com", then the browser will return the cookie to web servers running  on  any  of  the
           machines  "www.capricorn.com", "ftp.capricorn.com", "feckless.capricorn.com", etc.  Domain names must
           contain at least two periods to prevent attempts to match on top level domains like  ".edu".   If  no
           domain  is  specified, then the browser will only return the cookie to servers on the host the cookie
           originated from.

       <b>3.</b> <b>path</b>
           If you provide a cookie path attribute, the browser will check it against your  script's  URL  before
           returning  the  cookie.   For  example,  if  you specify the path "/cgi-bin", then the cookie will be
           returned    to    each    of    the    scripts    "/cgi-bin/tally.pl",    "/cgi-bin/order.pl",    and
           "/cgi-bin/customer_service/complain.pl",  but  not  to  the  script "/cgi-private/site_admin.pl".  By
           default, the path is set to "/", so that all scripts at your site will receive the cookie.

       <b>4.</b> <b>secure</b> <b>flag</b>
           If the "secure" attribute is set, the cookie will only be sent to your script if the CGI  request  is
           occurring on a secure channel, such as SSL.

       <b>5.</b> <b>HttpOnly</b> <b>flag</b>
           If  the  "httponly"  attribute is set, the cookie will only be accessible through HTTP Requests. This
           cookie will be inaccessible via JavaScript (to prevent XSS attacks).

           See this URL for more information including supported browsers:

           &lt;<a href="http://www.owasp.org/index.php/HTTPOnly">http://www.owasp.org/index.php/HTTPOnly</a>&gt;

       <b>6.</b> <b>samesite</b> <b>flag</b>
           Allowed settings are "Strict", "Lax" and "None".

           As of April 2018, support is limited mostly to recent releases of Chrome and Opera.

           &lt;https://tools.ietf.org/html/draft-west-first-party-cookies-07&gt;

       <b>7.</b> <b>priority</b> <b>flag</b>
           This attribute allows servers to specify a retention priority for HTTP cookies that will be respected
           by user agents during cookie eviction.

           Allowed settings are "Low", "Medium" and "High".

       <b>8.</b> <b>partitioned</b> <b>flag</b>
           If the "partitioned" attribute is set, the cookie is restricted to the contexts in which a cookie  is
           available  to  only  those  whose  top-level  document  is same-site with the top-level document that
           initiated the request that created the cookie.

           &lt;https://dcthetall.github.io/CHIPS-spec/draft-cutler-httpbis-partitioned-cookies.html&gt;

   <b>Creating</b> <b>New</b> <b>Cookies</b>
           $c = CGI::Simple::Cookie-&gt;new( -name    =&gt;  'foo',
                                         -value    =&gt;  'bar',
                                         -expires  =&gt;  '+3M',
                                         -max-age  =&gt;  '+3M',
                                         -domain   =&gt;  '.capricorn.com',
                                         -path     =&gt;  '/cgi-bin/database',
                                         -secure   =&gt;  1,
                                         -samesite =&gt;  'Lax',
                                       );

       Create cookies from scratch with the <b>new</b> method.  The <b>-name</b> and <b>-value</b> parameters are required.  The name
       must be a scalar value.  The value can be a scalar, an array reference, or a hash  reference.   (At  some
       point  in  the  future  cookies  will  support  one  of  the Perl object serialization protocols for full
       generality).

       <b>-expires</b> accepts any of the relative or absolute date formats  recognized  by  CGI::Simple,  for  example
       "+3M" for three months in the future.  See CGI::Simple's documentation for details.

       <b>-max-age</b> accepts the same data formats as <b>-expires</b>, but sets a relative value instead of an absolute like
       <b>-expires</b>.  This is intended to be more secure since a clock could be changed to fake an absolute time. In
       practice, as of 2011, "-max-age" still does not enjoy the widespread support that "-expires" has. You can
       set both, and browsers that support "-max-age" should ignore the "Expires" header. The drawback  to  this
       approach is the bit of bandwidth for sending an extra header on each cookie.

       <b>-domain</b>  points to a domain name or to a fully qualified host name.  If not specified, the cookie will be
       returned only to the Web server that created it.

       <b>-path</b> points to a partial URL on the current server.  The cookie will be returned to all  URLs  beginning
       with  the specified path.  If not specified, it defaults to '/', which returns the cookie to all pages at
       your site.

       <b>-secure</b> if set to a true value instructs the browser to return  the  cookie  only  when  a  cryptographic
       protocol is in use.

       <b>-httponly</b> if set to a true value, the cookie will not be accessible via JavaScript.

       <b>-samesite</b>  may  be "Lax", "Strict" or "None" and is an evolving part of the standards for cookies. Please
       refer to current documentation regarding it.

   <b>Sending</b> <b>the</b> <b>Cookie</b> <b>to</b> <b>the</b> <b>Browser</b>
       Within a CGI script you can send a cookie to the browser by creating one or more  Set-Cookie:  fields  in
       the HTTP header.  Here is a typical sequence:

           $c = CGI::Simple::Cookie-&gt;new( -name    =&gt;  'foo',
                                          -value   =&gt;  ['bar','baz'],
                                          -expires =&gt;  '+3M'
                                         );

           print "Set-Cookie: $c\n";
           print "Content-Type: text/html\n\n";

       To  send more than one cookie, create several Set-Cookie: fields.  Alternatively, you may concatenate the
       cookies together with "; " and send them in one field.

       If you are using CGI::Simple, you send cookies by providing a -cookie argument to the <b>header()</b> method:

         print header( -cookie=&gt;$c );

       Mod_perl users can set cookies using the request object's <b>header_out()</b> method:

         $r-&gt;header_out('Set-Cookie',$c);

       Internally, Cookie overloads the "" operator to call its <b>as_string()</b> method when  incorporated  into  the
       HTTP  header.   <b>as_string()</b>  turns  the  Cookie's  internal  representation  into  an  RFC-compliant text
       representation.  You may call <b>as_string()</b> yourself if you prefer:

           print "Set-Cookie: ",$c-&gt;as_string,"\n";

   <b>Recovering</b> <b>Previous</b> <b>Cookies</b>
           %cookies = CGI::Simple::Cookie-&gt;fetch;

       <b>fetch</b> returns an associative array consisting of all cookies returned by the browser.  The  keys  of  the
       array are the cookie names.  You can iterate through the cookies this way:

           %cookies = CGI::Simple::Cookie-&gt;fetch;
           foreach (keys %cookies) {
               do_something($cookies{$_});
           }

       In  a  scalar  context,  <b>fetch()</b>  returns  a  hash  reference,  which  may  be  more efficient if you are
       manipulating multiple cookies.

       CGI::Simple uses the URL escaping methods to save and restore reserved characters in its cookies.  If you
       are trying to retrieve a cookie set by a foreign server, this escaping  method  may  trip  you  up.   Use
       <b>raw_fetch()</b> instead, which has the same semantics as <b>fetch()</b>, but performs no unescaping.

       You may also retrieve cookies that were stored in some external form using the <b>parse()</b> class method:

              $COOKIES = `cat /usr/tmp/Cookie_stash`;
              %cookies = CGI::Simple::Cookie-&gt;parse($COOKIES);

   <b>Manipulating</b> <b>Cookies</b>
       Cookie  objects  have a series of accessor methods to get and set cookie attributes.  Each accessor has a
       similar syntax.  Called without arguments, the accessor returns  the  current  value  of  the  attribute.
       Called with an argument, the accessor changes the attribute and returns its new value.

       <b>name()</b>
           Get or set the cookie's name.  Example:

               $name = $c-&gt;name;
               $new_name = $c-&gt;name('fred');

       <b>value()</b>
           Get or set the cookie's value.  Example:

               $value = $c-&gt;value;
               @new_value = $c-&gt;value(['a','b','c','d']);

           <b>value()</b> is context sensitive.  In a list context it will return the current value of the cookie as an
           array.  In a scalar context it will return the <b>first</b> value of a multivalued cookie.

       <b>domain()</b>
           Get or set the cookie's domain.

       <b>path()</b>
           Get or set the cookie's path.

       <b>expires()</b>
           Get or set the cookie's expiration time.

       <b>max_age()</b>
           Get or set the cookie's maximum age.

       <b>secure()</b>
           Get or set the cookie's secure flag.

       <b>httponly()</b>
           Get or set the cookie's HttpOnly flag.

       <b>samesite()</b>
           Get or set the cookie's samesite value.

       <b>priority()</b>
           Get or set the cookie's priority value.

       <b>partitioned()</b>
           Get or set the cookies partitioned flag.

</pre><h4><b>AUTHOR</b> <b>INFORMATION</b></h4><pre>
       Original  version copyright 1997-1998, Lincoln D. Stein.  All rights reserved.  Originally copyright 2001
       Dr James Freeman &lt;<a href="mailto:jfreeman@tassie.net.au">jfreeman@tassie.net.au</a>&gt; This release by Andy Armstrong &lt;<a href="mailto:andy@hexten.net">andy@hexten.net</a>&gt;

       This library is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

       Address bug reports and comments to: <a href="mailto:andy@hexten.net">andy@hexten.net</a>

</pre><h4><b>BUGS</b></h4><pre>
       This section intentionally left blank :-)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       CGI::Carp, CGI::Simple

perl v5.38.2                                       2024-02-04                           <u>CGI::Simple::<a href="../man3pm/Cookie.3pm.html">Cookie</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>