<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rex::Box::Amazon - Rex/Boxes Amazon Module</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/rex">rex_1.16.0-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Rex::Box::Amazon - Rex/Boxes Amazon Module

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This is a Rex/Boxes module to use Amazon EC2.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To use this module inside your Rexfile you can use the following commands.

        use Rex::Commands::Box;
        set box =&gt; "Amazon", {
          access_key =&gt; "your-access-key",
          private_access_key =&gt; "your-private-access-key",
          region =&gt; "ec2.eu-west-1.amazonaws.com",
          zone =&gt; "eu-west-1a",
          authkey =&gt; "default",
        };

        task "prepare_box", sub {
          box {
            my ($box) = @_;

            $box-&gt;name("mybox");
            $box-&gt;ami("ami-c1aaabb5");
            $box-&gt;type("m1.large");

            $box-&gt;security_group("default");

            $box-&gt;auth(
              user =&gt; "root",
              password =&gt; "box",
            );

            $box-&gt;setup("setup_task");
          };
        };

       If you want to use a YAML file you can use the following template.

        type: Amazon
        amazon:
          access_key: your-access-key
          private_access_key: your-private-access-key
          region: ec2.eu-west-1.amazonaws.com
          zone: eu-west-1a
          auth_key: default
        vms:
          vmone:
            ami: ami-c1aaabb5
            type: m1.large
            security_group: default
            setup: setup_task

       And then you can use it the following way in your Rexfile.

        use Rex::Commands::Box init_file =&gt; "file.yml";

        task "prepare_vms", sub {
          boxes "init";
        };

</pre><h4><b>METHODS</b></h4><pre>
       See also the Methods of Rex::Box::Base. This module inherits all methods of it.

   <b>new(name</b> <b>=&gt;</b> <b>$vmname)</b>
       Constructor if used in OO mode.

        my $box = Rex::Box::VBox-&gt;new(name =&gt; "vmname");

   <b>ami($ami_id)</b>
       Set the AMI ID for the box.

   <b>type($type)</b>
       Set the type of the Instance. For example "m1.large".

   <b>security_group($sec_group)</b>
       Set the Amazon security group for this Instance.

   <b>forward_port(%option)</b>
       Not available for Amazon Boxes.

   <b>share_folder(%option)</b>
       Not available for Amazon Boxes.

   <b>info</b>
       Returns a hashRef of vm information.

perl v5.40.0                                       2025-02-06                              <u>Rex::Box::<a href="../man3pm/Amazon.3pm.html">Amazon</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>