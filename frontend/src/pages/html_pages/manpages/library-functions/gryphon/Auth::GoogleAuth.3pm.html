<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auth::GoogleAuth - Google Authenticator TBOT Abstraction</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libauth-googleauth-perl">libauth-googleauth-perl_1.07-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Auth::GoogleAuth - Google Authenticator TBOT Abstraction

</pre><h4><b>VERSION</b></h4><pre>
       version 1.07

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Auth::GoogleAuth;

           my $auth = Auth::GoogleAuth-&gt;new;

           $auth = Auth::GoogleAuth-&gt;new({
               secret =&gt; 'some secret string thing',
               issuer =&gt; 'Gryphon Shafer',
               key_id =&gt; '<a href="mailto:gryphon@cpan.org">gryphon@cpan.org</a>',
           });

           $auth-&gt;secret();   # get/set
           $auth-&gt;secret32(); # get/set
           $auth-&gt;issuer();   # get/set
           $auth-&gt;key_id();   # get/set

           my $secret32 = $auth-&gt;generate_secret32;

           my $otpauth_0 = $auth-&gt;otpauth;
           my $otpauth_1 = $auth-&gt;otpauth(
               'bv5o3disbutz4tl3', # secret32
               '<a href="mailto:gryphon@cpan.org">gryphon@cpan.org</a>', # key_id
               'Gryphon Shafer',   # issuer
           );

           my $url_0 = $auth-&gt;qr_code;
           my $url_1 = $auth-&gt;qr_code(
               'bv5o3disbutz4tl3', # secret32
               '<a href="mailto:gryphon@cpan.org">gryphon@cpan.org</a>', # key_id
               'Gryphon Shafer',   # issuer
           );
           my $url_2 = $auth-&gt;qr_code(
               'bv5o3disbutz4tl3', '<a href="mailto:gryphon@cpan.org">gryphon@cpan.org</a>', 'Gryphon Shafer', 1,
           );

           my $code_0 = $auth-&gt;code;
           my $code_1 = $auth-&gt;code( 'utz4tl3bv5o3disb', 1438643789, 30 );

           my $verification_0 = $auth-&gt;verify('879364');
           my $verification_1 = $auth-&gt;verify(
               '879364',           # code
               1,                  # range
               'utz4tl3bv5o3disb', # secret32
               1438643820,         # timestamp (defaults to now)
               30,                 # interval (default 30)
           );

           $auth-&gt;clear;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides a simplified interface to supporting typical two-factor authentication (i.e. "2FA")
       with Google Authenticator &lt;https://en.wikipedia.org/wiki/Google_Authenticator&gt; using the TOTP Algorithm
       &lt;https://en.wikipedia.org/wiki/Time-based_One-time_Password_Algorithm&gt; as defined by RFC 6238
       &lt;<a href="http://tools.ietf.org/html/rfc6238">http://tools.ietf.org/html/rfc6238</a>&gt;.  Although Google Authenticator supports both TOTP and HOTP, at the
       moment, this module only supports TOTP.

</pre><h4><b>METHODS</b></h4><pre>
       The following are the supported methods of this module:

   <b>new</b>
       This is a simple instantiator to which you can pass optional default values.

           my $auth = Auth::GoogleAuth-&gt;new;

           $auth = Auth::GoogleAuth-&gt;new({
               secret =&gt; 'some secret string thing',
               issuer =&gt; 'Gryphon Shafer',
               key_id =&gt; '<a href="mailto:gryphon@cpan.org">gryphon@cpan.org</a>',
           });

       The object returned will support the following attribute get/set methods:

       <u>secret</u>

       This can be any string. It'll be used as the internal secret key to create the QR codes and
       authentication codes.

       <u>secret32</u>

       This is a base-32 encoded copy of the secret string. If this is left undefined and you run one of the
       methods that require it (like "qr_code" or "code"), the method called will try to create the "secret32"
       by looking for a value in "secret". If none exists, a random "secret32" will be generated.

       <u>issuer</u>

       This is the label name of the "issuer" of the authentication.  See the key URI format wiki page
       &lt;https://github.com/google/google-authenticator/wiki/Key-Uri-Format&gt; for more information.

       <u>key_id</u>

       This is the label name of the "key ID" of the authentication.  See the key URI format wiki page
       &lt;https://github.com/google/google-authenticator/wiki/Key-Uri-Format&gt; for more information.

   <b>generate_secret32</b>
       This method will generate a reasonable random "secret32" value, store it in the get/set method, and
       return it.

           my $secret32 = $auth-&gt;generate_secret32;

   <b>otpauth</b>
       This method returns a generated otpauth key URI.

           my $otpauth_0 = $auth-&gt;otpauth;
           my $otpauth_1 = $auth-&gt;otpauth(
               'bv5o3disbutz4tl3', # secret32
               '<a href="mailto:gryphon@cpan.org">gryphon@cpan.org</a>', # key_id
               'Gryphon Shafer',   # issuer
           );

   <b>qr_code</b>
       This method will return a Quick Chart API URL that will return a QR code based on the data either in the
       object or provided to this method.

           my $url_0 = $auth-&gt;qr_code;
           my $url_1 = $auth-&gt;qr_code(
               'bv5o3disbutz4tl3', # secret32
               '<a href="mailto:gryphon@cpan.org">gryphon@cpan.org</a>', # key_id
               'Gryphon Shafer',   # issuer
           );

       You can optionally add a final true value, and if you do, the method will return the generated otpauth
       key URI rather than the Quick Chart API URL.

           my $url_2 = $auth-&gt;qr_code(
               'bv5o3disbutz4tl3', '<a href="mailto:gryphon@cpan.org">gryphon@cpan.org</a>', 'Gryphon Shafer', 1,
           );

   <b>code</b>
       This method returns an authentication code, as if you were using Google Authenticator
       &lt;https://en.wikipedia.org/wiki/Google_Authenticator&gt; with the "secret32" value.

           my $code_0 = $auth-&gt;code;

       You can optionally pass override values similar to "qr_code":

           my $code_1 = $auth-&gt;code(
               'utz4tl3bv5o3disb', # secret32
               1438643789,         # timestamp (defaults to now)
               30,                 # interval (default 30)
           );

   <b>verify</b>
       This method is used for verification of codes entered by a user. Pass in the code (required) and
       optionally a range value and any override values.

           my $verification_0 = $auth-&gt;verify('879364');

       The range value is useful because the algorithm checks codes that are time- based. If clocks are not
       exactly in sync, it's possible that a "nearly valid" code would be entered and should be accepted as
       valid but will be seen as invalid. By passing in an integer as a range value, you can stipulate how
       "fuzzy" the time should be. The default range is 0. A value of 1 will mean that a code based on a time 1
       iteration plus or minus should verify.

           my $verification_1 = $auth-&gt;verify(
               '879364',           # code
               1,                  # range
               'utz4tl3bv5o3disb', # secret32
               1438643820,         # timestamp (defaults to now)
               30,                 # interval (default 30)
           );

   <b>clear</b>
       Given that the "secret" and "secret32" values may persist in this object, which could be a bad idea in
       some contexts, this "clear" method lets your clear out all attribute values.

           $auth-&gt;clear;

</pre><h4><b>TYPICAL</b> <b>USE-CASE</b></h4><pre>
       Typically, you're probably going to want to either randomly generate a secret or secret32
       ("generate_secret32") for a user and store it, or use a specific value or hash of some value as the
       secret. In either case, once you have a secret and its stored, generate a QR code ("qr_code") for the
       user. You can alternatively provide the "secret32" to the user for them to manually enter it. That's it
       for setup.

       To authenticate, present the user with a way to provide you a code (which will be a series of 6-digits).
       Verify that code ("verify") with either no range or some small range like 1.

</pre><h4><b>DEPENDENCIES</b></h4><pre>
       Digest::HMAC_SHA1, Math::Random::MT, URI::Escape, Convert::Base32, Class::Accessor, Carp.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       You can look for additional information about this module at:

       •   GitHub &lt;https://github.com/gryphonshafer/Auth-GoogleAuth&gt;

       •   MetaCPAN &lt;https://metacpan.org/pod/Auth::GoogleAuth&gt;

       •   GitHub Actions &lt;https://github.com/gryphonshafer/Auth-GoogleAuth/actions&gt;

       •   Codecov &lt;https://codecov.io/gh/gryphonshafer/Auth-GoogleAuth&gt;

       •   CPANTS &lt;<a href="http://cpants.cpanauthors.org/dist/Auth-GoogleAuth">http://cpants.cpanauthors.org/dist/Auth-GoogleAuth</a>&gt;

       •   CPAN Testers &lt;<a href="http://www.cpantesters.org/distro/G/Auth-GoogleAuth.html">http://www.cpantesters.org/distro/G/Auth-GoogleAuth.html</a>&gt;

       You can look for additional information about things related to this module at:

       •   TOTP Algorithm &lt;https://en.wikipedia.org/wiki/Time-based_One-time_Password_Algorithm&gt;

       •   RFC 6238 &lt;<a href="http://tools.ietf.org/html/rfc6238">http://tools.ietf.org/html/rfc6238</a>&gt;

       •   Google Authenticator &lt;https://en.wikipedia.org/wiki/Google_Authenticator&gt;

       •   Google Authenticator GitHub &lt;https://github.com/google/google-authenticator&gt;

       •   Quick Chart QR Codes &lt;https://quickchart.io/documentation/qr-codes&gt;

</pre><h4><b>AUTHOR</b></h4><pre>
       Gryphon Shafer &lt;<a href="mailto:gryphon@cpan.org">gryphon@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2015-2050 by Gryphon Shafer.

       This is free software, licensed under:

         The Artistic License 2.0 (GPL Compatible)

perl v5.40.0                                       2025-02-15                              <u>Auth::<a href="../man3pm/GoogleAuth.3pm.html">GoogleAuth</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>