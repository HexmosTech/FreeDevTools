<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ltp - Licklider Transmission Protocol (LTP) communications library</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/ion-doc">ion-doc_3.2.1+dfsg-1.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ltp - Licklider Transmission Protocol (LTP) communications library

</pre><h4><b>SYNOPSIS</b></h4><pre>
           #include "ltp.h"

           typedef enum
           {
               LtpNoNotice = 0,
               LtpExportSessionStart,
               LtpXmitComplete,
               LtpExportSessionCanceled,
               LtpExportSessionComplete,
               LtpRecvGreenSegment,
               LtpRecvRedPart,
               LtpImportSessionCanceled
           } LtpNoticeType;

           [see description for available functions]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The ltp library provides functions enabling application software to use LTP to send and receive
       information reliably over a long-latency link.  It conforms to the LTP specification as documented by the
       Delay-Tolerant Networking Research Group of the Internet Research Task Force.

       The LTP notion of <b>engine</b> <b>ID</b> corresponds closely to the Internet notion of a host, and in ION engine IDs
       are normally indistinguishable from node numbers including the node numbers in Bundle Protocol endpoint
       IDs conforming to the "ipn" scheme.

       The LTP notion of <b>client</b> <b>ID</b> corresponds closely to the Internet notion of "protocol number" as used in
       the Internet Protocol.  It enables data from multiple applications -- clients -- to be multiplexed over a
       single reliable link.  However, for ION operations we normally use LTP exclusively for the transmission
       of Bundle Protocol data, identified by client ID = 1.

       int <u>ltp_attach()</u>
           Attaches the application to LTP functionality on the lcoal computer.  Returns 0 on success, -1 on any
           error.

       void <u>ltp_detach()</u>
           Terminates all access to LTP functionality on the local computer.

       int <u>ltp_engine_is_started()</u>
           Returns 1 if the local LTP engine has been started and not yet stopped, 0 otherwise.

       int ltp_send(uvast destinationEngineId, unsigned int clientId, Object clientServiceData, unsigned int
       redLength, LtpSessionId *sessionId)
           Sends  a  client  service  data  unit  to  the  application  that is waiting for data tagged with the
           indicated <u>clientId</u> as received at the remote LTP engine identified by <u>destinationEngineId</u>.

           <u>clientServiceData</u> must be a "zero-copy object" reference as returned by <u>zco_create()</u>.  Note that  LTP
           will  privately make and destroy its own reference to the client service data object; the application
           is free to destroy its reference at any time.

           <u>redLength</u> indicates the number of leading bytes of data in <u>clientServiceData</u>  that  are  to  be  sent
           reliably,  i.e.,  with  selective  retransmission  in  response  to  explicit  or  implicit  negative
           acknowledgment as necessary.  All remaining bytes of  data  in  <u>clientServiceData</u>  will  be  sent  as
           "green"  data,  i.e.,  unreliably.  If <u>redLength</u> is zero, the entire client service data unit will be
           sent unreliably.  If the entire client service data unit is to be sent  reliably,  <u>redLength</u>  may  be
           simply be set to LTP_ALL_RED (i.e., -1).

           On  success,  the  function  populates  <u>*sessionId</u> with the source engine ID and the "session number"
           assigned to transmission of this client service data unit and returns zero.  The session  number  may
           be  used  to  link  future  LTP processing events, such as transmission cancellation, to the affected
           client service data.  <u>ltp_send()</u> returns -1 on any error.

       int ltp_open(unsigned int clientId)
           Establishes the application's exclusive access  to  received  service  data  units  tagged  with  the
           indicated  client  service  data  ID.   At  any  time, only a single application task is permitted to
           receive service data units for any single client service data ID.

           Returns 0 on success, -1 on any error (e.g., the indicated client service is already being held  open
           by some other application task).

       int ltp_get_notice(unsigned int clientId, LtpNoticeType *type, LtpSessionId *sessionId, unsigned char
       *reasonCode, unsigned char *endOfBlock, unsigned int *dataOffset, unsigned int *dataLength, Object *data)
           Receives  notices  of  LTP processing events pertaining to the flow of service data units tagged with
           the indicated client service ID.  The nature  of  each  event  is  indicated  by  <u>*type</u>.   Additional
           parameters   characterizing   the   event  are  returned  in  <u>*sessionId</u>,  <u>*reasonCode</u>,  <u>*endOfBlock</u>,
           <u>*dataOffset</u>, <u>*dataLength</u>, and <u>*data</u> as relevant.

           The value returned in <u>*data</u> is always a zero-copy object; use the zco_* functions defined in  "zco.h"
           to retrieve the content of that object.

           When the notice is an LtpRecvGreenSegment, the ZCO returned in <u>*data</u> contains the content of a single
           LTP  green  segment.   Reassembly  of  the  green  part  of  some  block  from  these segments is the
           responsibility of the application.

           When the notice is an LtpRecvRedPart, the ZCO returned in <u>*data</u> contains the red part of  a  possibly
           aggregated  block.   The  ZCO's  content  may  therefore  comprise  multiple  service  data  objects.
           Extraction of individual service data objects from the aggregated block is the responsibility of  the
           application.   A  simple  way  to  do this is to prepend the length of the service data object to the
           object itself (using zco_prepend_header) before calling ltp_send, so that the  receiving  application
           can alternate extraction of object lengths and objects from the delivered block's red part.

           The  cancellation  of  an  export session may result in delivery of multiple LtpExportSessionCanceled
           notices, one for each service data unit in the export session's (potentially) aggregated block.   The
           ZCO returned in <u>*data</u> for each such notice is a service data unit ZCO that had previously been passed
           to <u>ltp_send()</u>.

           <u>ltp_get_notice()</u> always blocks indefinitely until an LTP processing event is delivered.

           Returns zero on success, -1 on any error.

       void ltp_interrupt(unsigned int clientId)
           Interrupts  an  <u>ltp_get_notice()</u>  invocation.   This  function is designed to be called from a signal
           handler; for this purpose, <u>clientId</u> may need to be obtained from a static variable.

       void ltp_release_data(Object data)
           Releases the resources allocated to hold <u>data</u>, a client service data ZCO.

       void ltp_close(unsigned int clientId)
           Terminates the application's exclusive  access  to  received  service  data  units  tagged  with  the
           indicated client service data ID.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/ltpadmin.1.html">ltpadmin</a></u>(1), <u><a href="../man5/ltprc.5.html">ltprc</a></u>(5), <u><a href="../man3/zco.3.html">zco</a></u>(3)

perl v5.24.1                                       2016-07-07                             <u>ltp::doc::pod3::<a href="../man3/ltp.3.html">ltp</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>