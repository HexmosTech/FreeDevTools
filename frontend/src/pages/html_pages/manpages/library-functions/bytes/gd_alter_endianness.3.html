<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gd_alter_endianness — modify the byte sex of fields in a Dirfile</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libgetdata-doc">libgetdata-doc_0.11.0-15_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gd_alter_endianness — modify the byte sex of fields in a Dirfile

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;getdata.h&gt;</b>

       <b>int</b> <b>gd_alter_endianness(DIRFILE</b> <b>*</b><u>dirfile</u><b>,</b> <b>unsigned</b> <b>long</b> <u>byte_sex</u><b>,</b> <b>int</b> <u>fragment_index</u><b>,</b> <b>int</b> <u>recode</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>gd_alter_endianness</b>()  function  sets  the  byte  sex  of the format specification fragment given by
       <u>fragment_index</u> to <u>byte_sex</u> in the <a href="../man5/dirfile.5.html">dirfile</a>(5) database specified by <u>dirfile</u>.  The byte sex of  a  fragment
       indicate  the  endianness of data stored in binary files associated with <b>RAW</b> fields defined in the speci‐
       fied fragment.  The byte sex of a fragment containing no <b>RAW</b> fields is ignored.

       The <u>byte_sex</u> argument should be one of the following:

       <b>0</b> (zero)
               Indicating that the byte sex should be the native endianness of the host, whichever that may be.

       <b>GD_BIG_ENDIAN</b>
               Indicating that the byte sex should be big endian.

       <b>GD_LITTLE_ENDIAN</b>
               Indicating that the byte sex should be little endian.

       (<b>GD_BIG_ENDIAN</b> | <b>GD_LITTLE_ENDIAN</b>)
               Indicating that the byte sex should be the  opposite  of  the  native  endianness  of  the  host,
               whichever that may be.

       Furthermore, any of these may be bitwise or'd with <b>GD_ARM_ENDIAN</b> or <b>GD_NOT_ARM_ENDIAN</b> indicating that the
       floating point data are stored in the ARM middle-endian format.

       In  addition  to  being  simply  a  valid  fragment  index,  <u>fragment_index</u> may also be the special value
       <b>GD_ALL_FRAGMENTS</b>, which indicates that the byte sex of all fragments in the database should be changed.

       If the <u>recode</u> argument is non-zero, this call will byte swap the binary data of affected  <b>RAW</b>  fields  to
       account for the change in byte sex.  If the encoding of the fragment is endianness insensitive, or if the
       data type is only one byte in size, no change is made.  The I/O pointer of all affected <b>RAW</b> fields is re‐
       set to the beginning-of-frame.

       If <u>recode</u> is zero, affected binary files are left untouched.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon  successful  completion, <b>gd_alter_endianness</b>() returns zero.  On error, it returns a negative-valued
       error code.  Possible error codes are:

       <b>GD_E_ACCMODE</b>
               The specified dirfile was opened read-only.

       <b>GD_E_ALLOC</b>
               The library was unable to allocate memory.

       <b>GD_E_ARGUMENT</b>
               The supplied <u>byte_sex</u> was invalid.

       <b>GD_E_BAD_DIRFILE</b>
               The supplied dirfile was invalid.

       <b>GD_E_BAD_INDEX</b>
               The supplied index was out of range.

       <b>GD_E_IO</b> An I/O error occurred while attempting to byte swap a binary file.

       <b>GD_E_PROTECTED</b>
               The metadata of the indicated format specification fragment was protected from change, or the bi‐
               nary data of the fragment was protected from change and binary file byte swapping was requested.

       <b>GD_E_UNCLEAN_DB</b>
               An error occurred while moving the byte-swapped file into place.  As a result, the  database  may
               be  in  an  unclean state.  See the <b>NOTES</b> section below for recovery instructions.  In this case,
               the dirfile will be flagged as invalid, to prevent further database corruption.  It should be im‐
               mediately closed.

       <b>GD_E_UNKNOWN_ENCODING</b>
               The encoding scheme of the fragment is unknown.

       <b>GD_E_UNSUPPORTED</b>
               The encoding scheme of the fragment does not support binary file byte swapping.

       The error code is also stored in the <b>DIRFILE</b> object and may be retrieved after this function  returns  by
       calling   <b><a href="../man3/gd_error.3.html">gd_error</a></b>(3).    A   descriptive  error  string  for  the  error  may  be  obtained  by  calling
       <b><a href="../man3/gd_error_string.3.html">gd_error_string</a></b>(3).

</pre><h4><b>NOTES</b></h4><pre>
       A binary file byte swap occurs out-of-place.  As a result,  sufficient  space  must  be  present  on  the
       filesystem  for the binary files of all <b>RAW</b> fields in the fragment both before and after translation.  If
       all fragments are updated by specifying <b>GD_ALL_FRAGMENTS</b>, the byte swapping  occurs  one  fragment  at  a
       time.

       An  error  code of <b>GD_E_UNCLEAN_DB</b> indicates a system error occurred while moving the byte-swapped binary
       data into place or when deleting the old data.  If this happens, the database may be left in  an  unclean
       state.  The caller should check the filesystem directly to ascertain the state of the dirfile data before
       continuing.   For  recovery  instructions,  see  the  file /usr/share/doc/getdata/unclean_database_recov‐
       ery.txt.

</pre><h4><b>HISTORY</b></h4><pre>
       The function <b>dirfile_alter_endianness</b>() appeared in GetData-0.5.0.

       In  GetData-0.7.0,  this  function  was  renamed  to  <b>gd_alter_endianness</b>().   The  <b>GD_E_ARM_ENDIAN</b>   and
       <b>GD_NOT_ARM_ENDIAN</b> flags also appeared in this version.

       in GetData-0.10.0, the error return from this function changed from -1 to a negative-valued error code.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/gd_open.3.html">gd_open</a></b>(3), <b><a href="../man3/gd_error.3.html">gd_error</a></b>(3), <b><a href="../man3/gd_error_string.3.html">gd_error_string</a></b>(3), <b><a href="../man3/gd_endianness.3.html">gd_endianness</a></b>(3), <a href="../man5/dirfile.5.html">dirfile</a>(5), <a href="../man5/dirfile-format.5.html">dirfile-format</a>(5)

Version 0.10.0                                  25 December 2016                          <u><a href="../man3/gd_alter_endianness.3.html">gd_alter_endianness</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>