<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sub::Quote - Efficient generation of subroutines via string eval</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsub-quote-perl">libsub-quote-perl_2.006008-1ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Sub::Quote - Efficient generation of subroutines via string eval

</pre><h4><b>SYNOPSIS</b></h4><pre>
        package Silly;

        use Sub::Quote qw(quote_sub unquote_sub quoted_from_sub);

        quote_sub 'Silly::kitty', q{ print "meow" };

        quote_sub 'Silly::doggy', q{ print "woof" };

        my $sound = 0;

        quote_sub 'Silly::dagron',
          q{ print ++$sound % 2 ? 'burninate' : 'roar' },
          { '$sound' =&gt; \$sound };

       And elsewhere:

        Silly-&gt;kitty;  # meow
        Silly-&gt;doggy;  # woof
        Silly-&gt;dagron; # burninate
        Silly-&gt;dagron; # roar
        Silly-&gt;dagron; # burninate

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This package provides performant ways to generate subroutines from strings.

</pre><h4><b>SUBROUTINES</b></h4><pre>
   <b>quote_sub</b>
        my $coderef = quote_sub 'Foo::bar', q{ print $x++ . "\n" }, { '$x' =&gt; \0 };

       Arguments: ?$name, $code, ?\%captures, ?\%options

       $name is the subroutine where the coderef will be installed.

       $code is a string that will be turned into code.

       "\%captures" is a hashref of variables that will be made available to the code.  The keys should be the
       full name of the variable to be made available, including the sigil.  The values should be references to
       the values.  The variables will contain copies of the values.  See the "SYNOPSIS"'s "Silly::dagron" for
       an example using captures.

       Exported by default.

       <u>options</u>

       "no_install"
         <b>Boolean</b>.   Set  this  option  to  not  install the generated coderef into the passed subroutine name on
         undefer.

       "no_defer"
         <b>Boolean</b>.  Prevents a Sub::Defer wrapper from being generated for the quoted sub.  If the sub will  most
         likely  be  called  at  some  point,  setting  this is a good idea.  For a sub that will most likely be
         inlined, it is not recommended.

       "package"
         The package that the quoted sub will be evaluated in.  If not specified, the package from  sub  calling
         "quote_sub" will be used.

       "hints"
         The  value  of  $^H   to  use  for  the code being evaluated.  This captures the settings of the strict
         pragma.  If not specified, the value from the calling code will be used.

       "warning_bits"
         The value of "${^WARNING_BITS}"  to use for the code being evaluated.  This captures the warnings  set.
         If not specified, the warnings from the calling code will be used.

       "%^H"
         The value of "%^H"  to use for the code being evaluated.  This captures additional pragma settings.  If
         not specified, the value from the calling code will be used if possible (on perl 5.10+).

       "attributes"
         The  "Subroutine Attributes" in perlsub to apply to the sub generated.  Should be specified as an array
         reference.  The attributes will be applied to both the generated sub and the deferred wrapper,  if  one
         is used.

       "file"
         The apparent filename to use for the code being evaluated.

       "line"
         The apparent line number to use for the code being evaluated.

   <b>unquote_sub</b>
        my $coderef = unquote_sub $sub;

       Forcibly replace subroutine with actual code.

       If $sub is not a quoted sub, this is a no-op.

       Exported by default.

   <b>quoted_from_sub</b>
        my $data = quoted_from_sub $sub;

        my ($name, $code, $captures, $compiled_sub) = @$data;

       Returns original arguments to quote_sub, plus the compiled version if this sub has already been unquoted.

       Note that $sub can be either the original quoted version or the compiled version for convenience.

       Exported by default.

   <b>inlinify</b>
        my $prelude = capture_unroll '$captures', {
          '$x' =&gt; 1,
          '$y' =&gt; 2,
        }, 4;

        my $inlined_code = inlinify q{
          my ($x, $y) = @_;

          print $x + $y . "\n";
        }, '$x, $y', $prelude;

       Takes  a string of code, a string of arguments, a string of code which acts as a "prelude", and a <b>Boolean</b>
       representing whether or not to localize the arguments.

   <b>quotify</b>
        my $quoted_value = quotify $value;

       Quotes a single (non-reference) scalar value for use in a code string.  The result should  reproduce  the
       original  value,  including strings, undef, integers, and floating point numbers.  The resulting floating
       point numbers (including infinites and not a number) should  be  precisely  equal  to  the  original,  if
       possible.  The exact format of the resulting number should not be relied on, as it may include hex floats
       or math expressions.

   <b>capture_unroll</b>
        my $prelude = capture_unroll '$captures', {
          '$x' =&gt; 1,
          '$y' =&gt; 2,
        }, 4;

       Arguments: $from, \%captures, $indent

       Generates  a snippet of code which is suitable to be used as a prelude for "inlinify".  $from is a string
       will be used as a hashref in the resulting code.  The keys of %captures are the names  of  the  variables
       and the values are ignored.  $indent is the number of spaces to indent the result by.

   <b>qsub</b>
        my $hash = {
         coderef =&gt; qsub q{ print "hello"; },
         other   =&gt; 5,
        };

       Arguments: $code

       Works  exactly  like "quote_sub", but includes a prototype to only accept a single parameter.  This makes
       it easier to include in hash structures or lists.

       Exported by default.

   <b>sanitize_identifier</b>
        my $var_name = '$variable_for_' . sanitize_identifier('@name');
        quote_sub qq{ print \$${var_name} }, { $var_name =&gt; \$value };

       Arguments: $identifier

       Sanitizes a value so that it can be used in an identifier.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
   <b>SUB_QUOTE_DEBUG</b>
       Causes code to be output to "STDERR" before being evaled.  Several forms are supported:

       1   All subs will be output.

       "/foo/"
           Subs will be output if their code matches the given regular expression.

       "simple_identifier"
           Any sub with the given name will be output.

       "Full::identifier"
           A sub matching the full name will be output.

       "Package::Name::"
           Any sub in the given package (including anonymous subs) will be output.

</pre><h4><b>CAVEATS</b></h4><pre>
       Much of this is just string-based code-generation, and as a result, a few caveats apply.

   <b>return</b>
       Calling "return" from a quote_sub'ed sub will not likely do what you intend.  Instead of  returning  from
       the code you defined in "quote_sub", it will return from the overall function it is composited into.

       So when you pass in:

          quote_sub q{  return 1 if $condition; $morecode }

       It might turn up in the intended context as follows:

         sub foo {

           &lt;important code a&gt;
           do {
             return 1 if $condition;
             $morecode
           };
           &lt;important code b&gt;

         }

       Which  will  obviously  return  from  foo,  when  all you meant to do was return from the code context in
       quote_sub and proceed with running important code b.

   <b>pragmas</b>
       "Sub::Quote" preserves the environment of the code creating the quoted subs.  This includes the  package,
       strict,  warnings,  and  any other lexical pragmas.  This is done by prefixing the code with a block that
       sets up a matching environment.  When inlining "Sub::Quote" subs, care should be taken that user  pragmas
       won't effect the rest of the code.

</pre><h4><b>SUPPORT</b></h4><pre>
       Users' IRC: #moose on irc.perl.org

       Development and contribution IRC: #web-simple on irc.perl.org

       Bugtracker: &lt;https://rt.cpan.org/Public/Dist/Display.html?Name=Sub-Quote&gt;

       Git repository: &lt;git://github.com/moose/Sub-Quote.git&gt;

       Git browser: &lt;https://github.com/moose/Sub-Quote&gt;

</pre><h4><b>AUTHOR</b></h4><pre>
       mst - Matt S. Trout (cpan:MSTROUT) &lt;<a href="mailto:mst@shadowcat.co.uk">mst@shadowcat.co.uk</a>&gt;

</pre><h4><b>CONTRIBUTORS</b></h4><pre>
       frew - Arthur Axel "fREW" Schmidt (cpan:FREW) &lt;<a href="mailto:frioux@gmail.com">frioux@gmail.com</a>&gt;

       ribasushi - Peter Rabbitson (cpan:RIBASUSHI) &lt;<a href="mailto:ribasushi@cpan.org">ribasushi@cpan.org</a>&gt;

       Mithaldu - Christian Walde (cpan:MITHALDU) &lt;<a href="mailto:walde.christian@googlemail.com">walde.christian@googlemail.com</a>&gt;

       tobyink - Toby Inkster (cpan:TOBYINK) &lt;<a href="mailto:tobyink@cpan.org">tobyink@cpan.org</a>&gt;

       haarg - Graham Knop (cpan:HAARG) &lt;<a href="mailto:haarg@cpan.org">haarg@cpan.org</a>&gt;

       bluefeet - Aran Deltac (cpan:BLUEFEET) &lt;<a href="mailto:bluefeet@gmail.com">bluefeet@gmail.com</a>&gt;

       ether - Karen Etheridge (cpan:ETHER) &lt;<a href="mailto:ether@cpan.org">ether@cpan.org</a>&gt;

       dolmen - Olivier Mengu√© (cpan:DOLMEN) &lt;<a href="mailto:dolmen@cpan.org">dolmen@cpan.org</a>&gt;

       alexbio - Alessandro Ghedini (cpan:ALEXBIO) &lt;<a href="mailto:alexbio@cpan.org">alexbio@cpan.org</a>&gt;

       getty - Torsten Raudssus (cpan:GETTY) &lt;<a href="mailto:torsten@raudss.us">torsten@raudss.us</a>&gt;

       arcanez - Justin Hunter (cpan:ARCANEZ) &lt;<a href="mailto:justin.d.hunter@gmail.com">justin.d.hunter@gmail.com</a>&gt;

       kanashiro - Lucas Kanashiro (cpan:KANASHIRO) &lt;<a href="mailto:kanashiro.duarte@gmail.com">kanashiro.duarte@gmail.com</a>&gt;

       djerius - Diab Jerius (cpan:DJERIUS) &lt;<a href="mailto:djerius@cfa.harvard.edu">djerius@cfa.harvard.edu</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2010-2016 the Sub::Quote "AUTHOR" and "CONTRIBUTORS" as listed above.

</pre><h4><b>LICENSE</b></h4><pre>
       This  library  is  free  software  and  may  be  distributed  under  the  same  terms as perl itself. See
       &lt;<a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a>&gt;.

perl v5.36.0                                       2023-02-14                                    <u>Sub::<a href="../man3pm/Quote.3pm.html">Quote</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>