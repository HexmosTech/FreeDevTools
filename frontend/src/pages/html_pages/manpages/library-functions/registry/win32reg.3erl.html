<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>win32reg - Provides access to the registry on Windows.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/erlang-manpages">erlang-manpages_24.2.1+dfsg-1ubuntu0.5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       win32reg - Provides access to the registry on Windows.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  module  provides  read and write access to the registry on Windows. It is essentially a port driver
       wrapped around the Win32 API calls for accessing the registry.

       The registry is a hierarchical database, used  to  store  various  system  and  software  information  in
       Windows.  It  contains  installation  data,  and is updated by installers and system programs. The Erlang
       installer updates the registry by adding data that Erlang needs.

       The registry contains keys and values. Keys are like the directories  in  a  file  system,  they  form  a
       hierarchy. Values are like files, they have a name and a value, and also a type.

       Paths  to  keys  are  left to right, with subkeys to the right and backslash between keys. (Remember that
       backslashes must be doubled in Erlang strings.) Case is preserved but not significant.

       For example, <u>"\\hkey_local_machine\\software\\Ericsson\\Erlang\\5.0"</u> is the key for the installation data
       for the latest Erlang release.

       There are six entry points in the Windows registry, top-level keys.  They  can  be  abbreviated  in  this
       module as follows:

       Abbreviation     Registry key
       ============     ============
       hkcr             HKEY_CLASSES_ROOT
       current_user     HKEY_CURRENT_USER
       hkcu             HKEY_CURRENT_USER
       local_machine    HKEY_LOCAL_MACHINE
       hklm             HKEY_LOCAL_MACHINE
       users            HKEY_USERS
       hku              HKEY_USERS
       current_config   HKEY_CURRENT_CONFIG
       hkcc             HKEY_CURRENT_CONFIG
       dyn_data         HKEY_DYN_DATA
       hkdd             HKEY_DYN_DATA

       The key above can be written as <u>"\\hklm\\software\\ericsson\\erlang\\5.0"</u>.

       This  module  uses  a current key. It works much like the current directory. From the current key, values
       can be fetched, subkeys can be listed, and so on.

       Under a key, any number of named values can be stored. They have names, types, and data.

       <u>win32reg</u> supports storing of the following types:

         * <u>REG_DWORD</u>, which is an integer

         * <u>REG_SZ</u>, which is a string

         * <u>REG_BINARY</u>, which is a binary

       Other types can be read, and are returned as binaries.

       There is also a "default" value, which has the empty string as name. It is read and written with the atom
       <u>default</u> instead of the name.

       Some registry values are stored as  strings  with  references  to  environment  variables,  for  example,
       <u>%SystemRoot%Windows</u>.  <u>SystemRoot</u>  is  an  environment  variable,  and  is  to be replaced with its value.
       Function <u>expand/1</u> is provided so that environment variables surrounded by <u>%</u>  can  be  expanded  to  their
       values.

       For more information on the Windows registry, see consult the Win32 Programmer's Reference.

</pre><h4><b>DATA</b> <b>TYPES</b></h4><pre>
       <b>reg_handle()</b>

              As returned by <u>open/1</u>.

       <b>name()</b> = string() | default

       <b>value()</b> = string() | integer() | binary()

</pre><h4><b>EXPORTS</b></h4><pre>
       <b>change_key(RegHandle,</b> <b>Key)</b> <b>-&gt;</b> <b>ReturnValue</b>

              Types:

                 RegHandle = reg_handle()
                 Key = string()
                 ReturnValue = ok | {error, ErrorId :: atom()}

              Changes the current key to another key. Works like <u>cd</u>. The key can be specified as a relative path
              or as an absolute path, starting with <u>\.</u>

       <b>change_key_create(RegHandle,</b> <b>Key)</b> <b>-&gt;</b> <b>ReturnValue</b>

              Types:

                 RegHandle = reg_handle()
                 Key = string()
                 ReturnValue = ok | {error, ErrorId :: atom()}

              Creates  a  key,  or just changes to it, if it is already there. Works like a combination of <u>mkdir</u>
              and <u>cd</u>. Calls the Win32 API function <u>RegCreateKeyEx()</u>.

              The registry must have been opened in write mode.

       <b>close(RegHandle)</b> <b>-&gt;</b> <b>ok</b>

              Types:

                 RegHandle = reg_handle()

              Closes the registry. After that, the <u>RegHandle</u> cannot be used.

       <b>current_key(RegHandle)</b> <b>-&gt;</b> <b>ReturnValue</b>

              Types:

                 RegHandle = reg_handle()
                 ReturnValue = {ok, string()}

              Returns the path to the current key. This is the equivalent of <u>pwd</u>.

              Notice that the current key is stored in the driver, and can be invalid (for example, if  the  key
              has been removed).

       <b>delete_key(RegHandle)</b> <b>-&gt;</b> <b>ReturnValue</b>

              Types:

                 RegHandle = reg_handle()
                 ReturnValue = ok | {error, ErrorId :: atom()}

              Deletes  the current key, if it is valid. Calls the Win32 API function <u>RegDeleteKey()</u>. Notice that
              this call does not change the current key (unlike <u>change_key_create/2</u>). This means that after  the
              call, the current key is invalid.

       <b>delete_value(RegHandle,</b> <b>Name)</b> <b>-&gt;</b> <b>ReturnValue</b>

              Types:

                 RegHandle = reg_handle()
                 Name = name()
                 ReturnValue = ok | {error, ErrorId :: atom()}

              Deletes a named value on the current key. The atom <u>default</u> is used for the default value.

              The registry must have been opened in write mode.

       <b>expand(String)</b> <b>-&gt;</b> <b>ExpandedString</b>

              Types:

                 String = ExpandedString = string()

              Expands a string containing environment variables between percent characters. Anything between two
              <u>%</u>  is  taken  for  an  environment  variable,  and is replaced by the value. Two consecutive <u>%</u> are
              replaced by one <u>%</u>.

              A variable name that is not in the environment results in an error.

       <b>format_error(ErrorId)</b> <b>-&gt;</b> <b>ErrorString</b>

              Types:

                 ErrorId = atom()
                 ErrorString = string()

              Converts a POSIX error code to a string (by calling <u>erl_posix_msg:message/1</u>).

       <b>open(OpenModeList)</b> <b>-&gt;</b> <b>ReturnValue</b>

              Types:

                 OpenModeList = [OpenMode]
                 OpenMode = read | write
                 ReturnValue = {ok, RegHandle} | {error, ErrorId :: enotsup}
                 RegHandle = reg_handle()

              Opens the registry for reading or writing. The current key is the root  (<u>HKEY_CLASSES_ROOT</u>).  Flag
              <u>read</u> in the mode list can be omitted.

              Use <u>change_key/2</u> with an absolute path after <u>open</u>.

       <b>set_value(RegHandle,</b> <b>Name,</b> <b>Value)</b> <b>-&gt;</b> <b>ReturnValue</b>

              Types:

                 RegHandle = reg_handle()
                 Name = name()
                 Value = value()
                 ReturnValue = ok | {error, ErrorId :: atom()}

              Sets  the  named  (or  default)  value to <u>value</u>. Calls the Win32 API function <u>RegSetValueEx()</u>. The
              value can be of three types, and the corresponding registry type is used. The supported types  are
              the following:

                * <u>REG_DWORD</u> for integers

                * <u>REG_SZ</u> for strings

                * <u>REG_BINARY</u> for binaries

              Other types cannot be added or changed.

              The registry must have been opened in write mode.

       <b>sub_keys(RegHandle)</b> <b>-&gt;</b> <b>ReturnValue</b>

              Types:

                 RegHandle = reg_handle()
                 ReturnValue = {ok, [SubKey]} | {error, ErrorId :: atom()}
                 SubKey = string()

              Returns a list of subkeys to the current key. Calls the Win32 API function <u>EnumRegKeysEx()</u>.

              Avoid calling this on the root keys, as it can be slow.

       <b>value(RegHandle,</b> <b>Name)</b> <b>-&gt;</b> <b>ReturnValue</b>

              Types:

                 RegHandle = reg_handle()
                 Name = name()
                 ReturnValue =
                     {ok, Value :: value()} | {error, ErrorId :: atom()}

              Retrieves  the  named  value  (or  default) on the current key. Registry values of type <u>REG_SZ</u> are
              returned as strings. Type <u>REG_DWORD</u> values are returned as integers. All other types are  returned
              as binaries.

       <b>values(RegHandle)</b> <b>-&gt;</b> <b>ReturnValue</b>

              Types:

                 RegHandle = reg_handle()
                 ReturnValue = {ok, [ValuePair]} | {error, ErrorId :: atom()}
                 ValuePair = {Name :: name(), Value :: value()}

              Retrieves  a  list  of  all  values on the current key. The values have types corresponding to the
              registry types, see <u>value/2</u>. Calls the Win32 API function <u>EnumRegValuesEx()</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>erl_posix_msg</u>, The  Windows  95  Registry  (book  from  O'Reilly),  Win32  Programmer's  Reference  (from
       Microsoft)

Ericsson AB                                        stdlib 3.17                                    <u><a href="../man3erl/win32reg.3erl.html">win32reg</a></u>(3erl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>