<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EBook::Tools::EReader - Palm::PDB handler for manipulating the Fictionwise/PeanutPress eReader format.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libebook-tools-perl">libebook-tools-perl_0.5.4-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       EBook::Tools::EReader - Palm::PDB handler for manipulating the Fictionwise/PeanutPress eReader format.

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use EBook::Tools::EReader;
        my $pdb = EBook::Tools::EReader-&gt;new();
        $pdb-&gt;Load('myfile-er.pdb');
        print "Loaded '",$pdb-&gt;{title},"' by ",$pdb-&gt;{author},"\n";
        my $html = $pdb-&gt;html;
        my $pml = $pdb-&gt;pml
        $pdb-&gt;write_unknown_records

</pre><h4><b>DEPENDENCIES</b></h4><pre>
       •   "Compress::Zlib"

       •   "Image::Size"

       •   "P5-Palm"

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
   <b>new()</b>
       Instantiates a new Ebook::Tools::EReader object.

</pre><h4><b>ACCESSOR</b> <b>METHODS</b></h4><pre>
   <b>"filebase"</b>
       In scalar context, this is the basename of the object attribute "filename".  In list context, it actually
       returns the basename, directory, and extension as per "fileparse" from File::Basename.

   <b>footnotes()</b>
       Returns a hash containing all of the footnotes found in the file, where the keys are the footnote ids and
       the values contain the footnote text.

   <b>footnotes_pml()</b>
       Returns  a  string  containing  all  of the footnotes in a form suitable to append to the end of PML text
       output.  This is called as part of "<b>pml()</b>".

   <b>footnotes_html()</b>
       Returns a string containing all of the footnotes in a form suitable to append to the  end  of  HTML  text
       output.  This is called as part of "<b>html()</b>".

   <b>pml()</b>
       Returns  a  string  containing  the entire original document text in its original encoding, including all
       sidebars and footnotes.

   <b>html()</b>
       Returns a string containing the entire document text (including all sidebars and footnotes) converted  to
       HTML.

       Note  that the PML text is stored in the object (and thus retrieving it is very fast), but generating the
       HTML output requires that the text  be  converted  every  time  this  method  is  used,  consuming  extra
       processing time.

   <b>sidebars()</b>
       Returns  a  hash containing all of the sidebars found in the file, where the keys are the sidebar ids and
       the values contain the sidebar text.

   <b>sidebars_pml()</b>
       Returns a string containing all of the sidebars in a form suitable to append  to  the  end  of  PML  text
       output.  This is called as part of "<b>pml()</b>".

   <b>sidebars_html()</b>
       Returns  a  string  containing  all  of the sidebars in a form suitable to append to the end of HTML text
       output.  This is called as part of "<b>html()</b>".

   <b>write_html($filename)</b>
       Writes the raw book text to disk in PML form (including  all  sidebars  and  footnotes)  with  the  given
       filename.

       If $filename is not specified, writes to "$self-&gt;filebase" with a ".html" extension.

       Returns the filename used on success, or undef if there was no text to write.

   <b>write_images()</b>
       Writes each image record to the disk.

       Returns a list containing the filenames of all images written, or undef if none were found.

   <b>write_pml($filename)</b>
       Writes  the  raw  book  text  to  disk  in PML form (including all sidebars and footnotes) with the given
       filename.

       If $filename is not specified, writes to "$self-&gt;filebase" with a ".pml" extension.

       Returns the filename used on success, or undef if there was no text to write.

   <b>write_unknown_records()</b>
       Writes each unidentified record to disk with a filename in the format of 'raw-record-####', where #### is
       the record number (not the record ID).

       Returns the number of records written.

</pre><h4><b>MODIFIER</b> <b>METHODS</b></h4><pre>
   <b>Load($filename)</b>
       Sets  "$self-&gt;{filename}"  and  then  loads  and  parses  the  file  specified  by   $filename,   calling
       "ParseRecord(%record)" on every record found.

   <b>ParseRecord(%record)</b>
       Parses  PDB  records,  updating  the  object  attributes.   This  method is called automatically on every
       database record during Load().

   <b>ParseRecord0($data)</b>
       Parses the header record and places the parsed values into the hashref "$self-&gt;{header}".

       Returns the hash (not the hashref).

</pre><h4><b>PROCEDURES</b></h4><pre>
   <b>cp1252_to_pml()</b>
       An unfinished and completely nonfunctional procedure to convert Windows-1252 characters to PML \a codes.

       DO NOT USE.

   <b>"pml_to_html($text,$filebase)"</b>
       Takes as input a text string in Windows-1252 encoding containing PML markup codes and  returns  a  string
       with those codes converted to UTF-8 HTML.

       Requires  a  second argument $filebase to specify the basename of the file (or specifically, the basename
       of the file to which output text will be written) so that image links can be generated correctly.

</pre><h4><b>BUGS</b> <b>AND</b> <b>LIMITATIONS</b></h4><pre>
       •   HTML conversion doesn't handle handle the \T command used to
                   indent.

       •   HTML conversion may be suboptimal in many ways.

           Most notably, most linebreaks are handled as &lt;br /&gt;, and without any heed to whether those linebreaks
           occur inside of some other element.  Validation is extremely unlikely.

</pre><h4><b>AUTHOR</b></h4><pre>
       Zed Pobre &lt;<a href="mailto:zed@debian.org">zed@debian.org</a>&gt;

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       Copyright 2008 Zed Pobre

       Licensed to the public under the terms of the GNU GPL, version 2

perl v5.40.0                                       2025-01-10                         <u>EBook::Tools::<a href="../man3pm/EReader.3pm.html">EReader</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>