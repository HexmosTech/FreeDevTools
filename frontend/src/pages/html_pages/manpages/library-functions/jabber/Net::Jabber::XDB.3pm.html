<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::Jabber::XDB - Jabber XDB Library</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-jabber-perl">libnet-jabber-perl_2.0-9_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::Jabber::XDB - Jabber XDB Library

</pre><h4><b>SYNOPSIS</b></h4><pre>
         Net::Jabber::XDB is a companion to the Net::Jabber module. It
         provides the user a simple interface to set and retrieve all
         parts of a Jabber XDB.

</pre><h4><b>DESCRIPTION</b></h4><pre>
         Net::Jabber::XDB differs from the other Net::Jabber::* modules in that
         the XMLNS of the data is split out into more submodules under
         XDB.  For specifics on each module please view the documentation
         for each Net::Jabber::Data::* module.  To see the list of available
         namspaces and modules see Net::Jabber::Data.

         To initialize the XDB with a Jabber &lt;xdb/&gt; you must pass it the
         XML::Parser Tree array.  For example:

           my $xdb = new Net::Jabber::XDB(@tree);

         There has been a change from the old way of handling the callbacks.
         You no longer have to do the above, a Net::Jabber::XDB object is passed
         to the callback function for the xdb:

           use Net::Jabber qw(Component);

           sub xdb {
             my ($XDB) = @_;
             .
             .
             .
           }

         You now have access to all of the retrieval functions available.

         To create a new xdb to send to the server:

           use Net::Jabber;

           $XDB = new Net::Jabber::XDB();
           $XDBType = $XDB-&gt;NewData( type );
           $XDBType-&gt;SetXXXXX("yyyyy");

         Now you can call the creation functions for the XDB, and for the &lt;data/&gt;
         on the new Data object itself.  See below for the &lt;xdb/&gt; functions, and
         in each data module for those functions.

         For more information about the array format being passed to the CallBack
         please read the Net::Jabber::Client documentation.

</pre><h4><b>METHODS</b></h4><pre>
   <b>Retrieval</b> <b>functions</b>
         GetTo()      - returns either a string with the Jabber Identifier,
         GetTo("jid")   or a Net::Jabber::JID object for the person who is
                        going to receive the &lt;xdb/&gt;.  To get the JID
                        object set the string to "jid", otherwise leave
                        blank for the text string.

                        $to    = $XDB-&gt;GetTo();
                        $toJID = $XDB-&gt;GetTo("jid");

         GetFrom()      -  returns either a string with the Jabber Identifier,
         GetFrom("jid")    or a Net::Jabber::JID object for the person who
                           sent the &lt;xdb/&gt;.  To get the JID object set
                           the string to "jid", otherwise leave blank for the
                           text string.

                           $from    = $XDB-&gt;GetFrom();
                           $fromJID = $XDB-&gt;GetFrom("jid");

         GetType() - returns a string with the type &lt;xdb/&gt; this is.

                     $type = $XDB-&gt;GetType();

         GetID() - returns an integer with the id of the &lt;xdb/&gt;.

                   $id = $XDB-&gt;GetID();

         GetAction() - returns a string with the action &lt;xdb/&gt; this is.

                     $action = $XDB-&gt;GetAction();

         GetMatch() - returns a string with the match &lt;xdb/&gt; this is.

                     $match = $XDB-&gt;GetMatch();

         GetError() - returns a string with the text description of the error.

                      $error = $XDB-&gt;GetError();

         GetErrorCode() - returns a string with the code of error.

                          $errorCode = $XDB-&gt;GetErrorCode();

         GetData() - returns a Net::Jabber::Data object that contains the data
                     in the &lt;data/&gt; of the &lt;xdb/&gt;.

                     $dataTag = $XDB-&gt;GetData();

         GetDataXMLNS() - returns a string with the namespace of the data
                          for this &lt;xdb/&gt;, if one exists.

                          $xmlns = $XDB-&gt;GetDataXMLNS();

   <b>Creation</b> <b>functions</b>
         SetXDB(to=&gt;string|JID,    - set multiple fields in the &lt;xdb/&gt; at one
               from=&gt;string|JID,     time.  This is a cumulative and over
               id=&gt;string,           writing action.  If you set the "to"
               type=&gt;string,         attribute twice, the second setting is
               action=&gt;string,       what is used.  If you set the status, and
               match=&gt;string)        then set the priority then both will be in
               errorcode=&gt;string,    the &lt;xdb/&gt; tag.  For valid settings read the
               error=&gt;string)        specific Set functions below.

                                     $XDB-&gt;SetXDB(type=&gt;"get",
                                                  to=&gt;"bob\@jabber.org",
                                                  data=&gt;"info");

                                     $XDB-&gt;SetXDB(to=&gt;"bob\@jabber.org",
                                                  errorcode=&gt;403,
                                                  error=&gt;"Permission Denied");

         SetTo(string) - sets the to attribute.  You can either pass a string
         SetTo(JID)      or a JID object.  They must be a valid Jabber
                         Identifiers or the server will return an error message.
                         (ie.  jabber:<a href="mailto:bob@jabber.org">bob@jabber.org</a>, etc...)

                        $XDB-&gt;SetTo("bob\@jabber.org");

         SetFrom(string) - sets the from attribute.  You can either pass a string
         SetFrom(JID)      or a JID object.  They must be a valid Jabber
                           Identifiers or the server will return an error message.
                           (ie.  jabber:<a href="mailto:bob@jabber.org">bob@jabber.org</a>, etc...)

                           $XDB-&gt;SetFrom("me\@jabber.org");

         SetType(string) - sets the type attribute.  Valid settings are:

                           get      request information
                           set      set information
                           result   results of a get
                           error    there was an error

                           $XDB-&gt;SetType("set");

         SetAction(string) - sets the error code of the &lt;xdb/&gt;.

                             $XDB-&gt;SetAction("foo");

         SetMatch(string) - sets the error code of the &lt;xdb/&gt;.

                            $XDB-&gt;SetMatch("foo");

         SetErrorCode(string) - sets the error code of the &lt;xdb/&gt;.

                                $XDB-&gt;<a href="../man403/SetErrorCode.403.html">SetErrorCode</a>(403);

         SetError(string) - sets the error string of the &lt;xdb/&gt;.

                            $XDB-&gt;SetError("Permission Denied");

         NewData(string) - creates a new Net::Jabber::Data object with the
                            namespace in the string.  In order for this function
                            to work with a custom namespace, you must define and
                            register that namespace with the XDB module.  For more
                            information please read the documentation for
                            Net::Jabber::Data.

                            $dataObj = $XDB-&gt;NewData("jabber:xdb:auth");
                            $dataObj = $XDB-&gt;NewData("jabber:xdb:roster");

         Reply(hash) - creates a new XDB object and populates the to/from
                       fields.  If you specify a hash the same as with SetXDB
                       then those values will override the Reply values.

                       $xdbReply = $XDB-&gt;Reply();
                       $xdbReply = $XDB-&gt;Reply(type=&gt;"result");

   <b>Test</b> <b>functions</b>
         DefinedTo() - returns 1 if the to attribute is defined in the &lt;xdb/&gt;,
                       0 otherwise.

                       $test = $XDB-&gt;DefinedTo();

         DefinedFrom() - returns 1 if the from attribute is defined in the &lt;xdb/&gt;,
                         0 otherwise.

                         $test = $XDB-&gt;DefinedFrom();

         DefinedID() - returns 1 if the id attribute is defined in the &lt;xdb/&gt;,
                       0 otherwise.

                       $test = $XDB-&gt;DefinedID();

         DefinedType() - returns 1 if the type attribute is defined in the &lt;xdb/&gt;,
                         0 otherwise.

                         $test = $XDB-&gt;DefinedType();

         DefinedAction() - returns 1 if the action attribute is defined in the &lt;xdb/&gt;,
                          0 otherwise.

                          $test = $XDB-&gt;DefinedAction();

         DefinedMatch() - returns 1 if the match attribute is defined in the &lt;xdb/&gt;,
                          0 otherwise.

                          $test = $XDB-&gt;DefinedMatch();

         DefinedError() - returns 1 if &lt;error/&gt; is defined in the &lt;xdb/&gt;,
                          0 otherwise.

                          $test = $XDB-&gt;DefinedError();

         DefinedErrorCode() - returns 1 if the code attribute is defined in
                              &lt;error/&gt;, 0 otherwise.

                              $test = $XDB-&gt;DefinedErrorCode();

</pre><h4><b>AUTHOR</b></h4><pre>
       By Ryan Eatmon in May of 2001 for <a href="http://jabber.org">http://jabber.org</a>..

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This module is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.34.0                                       2022-06-16                              <u>Net::Jabber::<a href="../man3pm/XDB.3pm.html">XDB</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>