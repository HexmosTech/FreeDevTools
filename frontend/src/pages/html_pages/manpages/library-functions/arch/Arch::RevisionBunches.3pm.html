<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arch::RevisionBunches - manage bunches of related revisions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libarch-perl">libarch-perl_0.5.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Arch::RevisionBunches - manage bunches of related revisions

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Arch::RevisionBunches;
           use Arch::Tree;

           my $rb = Arch::RevisionBunches-&gt;new;
           my $tree = Arch::Tree-&gt;new(".", own_logs =&gt; 1);
           $rb-&gt;add_revision_descs($tree-&gt;get_history_revision_descs);
           $rb-&gt;<a href="../man25/rebunch.25.html">rebunch</a>(25);  # the default is 50
           foreach my $bunch ($rb-&gt;get) {
               print "$bunch-&gt;{version}\n";
               print "    $_-&gt;{name}\t$_-&gt;{summary}\n"
                   foreach @{$bunch-&gt;{revision_descs}};
           }
           foreach my $bunch ($rb-&gt;reverse_revision_descs-&gt;<a href="../man30/rebunch.30.html">rebunch</a>(30)) {
               print $bunch-&gt;{name1};
               print " .. $bunch-&gt;{name2}" if $bunch-&gt;{name2};
               print " ($bunch-&gt;{daysago1}";
               print " .. $bunch-&gt;{daysago2}" if $bunch-&gt;{name2};
               print " days ago)\n";
           }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class helps front-ends to group revisions. Such grouping is essential when, for example, the version
       to be shown contains thousands of revisions.  The front-end may decide to show expandable bunches of 100
       revisions each.

       There is a support for revision descriptions (summary, date, creator, email, and in some cases associated
       the file name and/or the associated version).  There is a constraint by convention, one bunch may only
       contain revisions of the same version, and the ones associated with the same file if applicable.  It is
       possible to define an order of versions. It is possible to recreate bunches (rebunch) using a different
       number of revisions. The constraint defines the actual number of revisions in different bunches, it is
       not guaranteed to be the same.

</pre><h4><b>METHODS</b></h4><pre>
       The following methods are available:

       <b>new</b>, <b>init</b>, <b>add_revision_descs</b>, <b>versions</b>, <b>rebunch</b>, <b>get</b>, <b>clear</b>, <b>reverse_revision_descs</b>, <b>versions</b>,
       <b>filepaths</b>.

       <b>new</b> [<u>%args</u>]
           Construct Arch::RevisionBunches object.

           The <u>%args</u> are passed to <b>init</b> method.

       <b>init</b> [<u>%args</u>]
           The  <u>%args</u>  keys  may  be  <u>bunch_size</u>  (to  use  as the default bunch size instead of 50), <u>max_sumlen</u>
           (maximal summary length to keep including trailing ellipsis, must be greater  than  5),  <u>version</u>  (if
           set,  then  all revisions are assumed to be of one version, otherwise multiple versions are assumed),
           <u>final_revision</u> and <u>final_filepath</u> (the final revision and filepath for which the revision bunches are
           constructed). These last two <u>%args</u> keys are not really used yet.

       <b>add_revision_descs</b> [<u>%constant_fields</u>]
           Add revision descriptions that is arrayref of hashes. See other classes  that  return  such  revision
           descriptions.  If  the <u>%constant_fields</u> is given, then add these to all revision descriptions (rarely
           needed).

           Return the object, this enables chaining of <b>get</b> or <b>rebunch</b> method call.

       <b>rebunch</b> [<u>bunch_size</u>]
           Group newly added revisions if no <u>bunch_size</u> is specified. Otherwise regroup all  revisions  using  a
           given <u>bunch_size</u>. The default bunch size may be specified in the constructor.

           Return the same <b>get</b> does.

       <b>get</b> Return bunches that is arrayref in scalar context, array in list context.

           Each bunch is hashref with keys:

               revision_descs
               name1 daysago1 time1 tz1
               name2 daysago2 time2 tz2
               size
               num_creators
               num_other_creators
               main_creator
               main_email
               creator
               name
               date
               summary

           and optionally "version", "is_missing" and "filepath" if applicable.

           This  method  implicitly calls <b>rebunch</b> with no parameter if new revision descriptions were added that
           are not bunched yet.

       <b>clear</b>
           Clear all bunches and their revision descriptions.

       <b>reverse_revision_descs</b>
           Effectivelly empty all revision descriptions (both old and new) and readd them in the reverse order.

           Return the object, this enables chaining of <b>get</b> or <b>rebunch</b> method call.

       <b>versions</b>
           Return distinct versions participated in all bunches. Return empty arrayref if not  applicable,  i.e.
           if <u>version</u> is given in the constructor.

       <b>filepaths</b>
           Return  distinct filepaths participated in all bunches. Return empty arrayref if not applicable, i.e.
           if revision descriptions have no <u>filepath</u>.

</pre><h4><b>BUGS</b></h4><pre>
       Waiting for your reports.

</pre><h4><b>AUTHORS</b></h4><pre>
       Mikhael Goikhman (<a href="mailto:migo@homemail.com--Perl-GPL">migo@homemail.com--Perl-GPL</a>/arch-perl--devel).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       For more information, see Arch::Tree, Arch::Log, Arch::Session, Arch::Library.

perl v5.20.2                                       2005-02-21                         <u>Arch::<a href="../man3pm/RevisionBunches.3pm.html">RevisionBunches</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>