<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arch::Storage - abstract class to access arch archives</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libarch-perl">libarch-perl_0.5.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Arch::Storage - abstract class to access arch archives

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use base 'Arch::Storage';

           # see synopsis of concrete classes

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Arch::Storage provides some common methods to query content of arch archive.

       The methods usually return arrayref if not otherwise specified, and are not affected by the list context
       (except for working_names).

</pre><h4><b>METHODS</b></h4><pre>
       The following (implemented and pure virtual) methods are common to subclasses:

       <b>new</b>, <b>init</b>, <b>working_name</b>, <b>working_names</b>, <b>fixup_name_alias</b>, <b>is_archive_managed</b>, <b>expanded_revisions</b>.

       <b>archives</b>, <b>categories</b>, <b>branches</b>, <b>versions</b>, <b>revisions</b>, <b>get_revision_descs</b>, <b>expanded_archive_info</b>,
       <b>get_revision_changeset</b>, <b>get_changeset</b>, <b>get_revision_log</b>, <b>get_log</b>.

       <b>new</b> [<u>%args</u>]
           Create a new instance of the concrete subclass (i.e. Arch::Session or Arch::Library).

       <b>instance</b>
           Alternative   constructor.   Return  the  last  created  instance  of  the  concrete  subclass  (i.e.
           Arch::Session or Arch::Library) or create a new one.

           The purpose of this alternative constructor is to allow the singleton behaviour as  well  as  certain
           Aspect Oriented Programming practices.

           Theoretical  note:  this  design  is acceptably good, and mixing <b>new</b> and <b>instance</b> constructors in the
           code usually does what is intended. However, if someone actually creates more than one object of  any
           subclass,  he  has  two  choices  to enforce correctness. Either only use <b>instance</b> method in the code
           (singleton pattern), or alternatively create a temporary <b>new</b> object before calling methods  of  other
           classes that internally use <b>instance</b> to work with this subclass.

       <b>init</b> <u>%args</u>
           Initialize or reset the object state.

       <b>working_name</b> [<u>name</u>]
           Set or get the default working operand for other methods.

           The  argument  may  be  anything  that  Arch::Name  constructor accepts, i.e. fully qualified string,
           arrayref, hashref or Arch::Name instance.  If needed, <u>name</u> is converted to Arch::Name  instance,  and
           this is what is returned. Note that this object behaves as fully qualified name in string context.

       <b>working_names</b> [<u>archive</u> ..]
           Similar to <b>working_name</b>, but accepts and returns a list of name components, from <u>archive</u> to <u>revision</u>.

           This  method  is  provided  for  convenience  and  backward  compatibility only.  You may as well use
           <b>working_name</b> instead, just enclose the argument list into arrayref, and call <b>to_array</b> on the returned
           object.

       <b>fixup_name_alias</b>
           Replace (if needed) the "FIRST" and "LATEST" components of the working name's  <u>version</u>  and  <u>revision</u>
           with the actual values by querying the storage.

       <b>is_archive_managed</b> [<u>archive</u>]
           Return true or false depending on whether the archive is known to the storage.

           If given, the argument is used instead of the default <b>working_name</b>.

       <b>expanded_revisions</b>
           Return all revisions in all archives, each revision is Arch::Name object.

       <b>archives</b>
           Return all registered (or otherwise known) archives.

       <b>categories</b> [<u>archive</u>]
       <b>branches</b>   [<u>category</u>]
       <b>versions</b>   [<u>branch</u>]
       <b>revisions</b>  [<u>version</u>]
           Return  all  categories,  branches,  versions  or  revisions  respectively  in  the immediate parent,
           similarly to the corresponding <u>tla</u> commands.

           If given, the argument is used instead of the default <b>working_name</b>.

       <b>get_revision_descs</b> [<u>version</u>]
           Return describing hash for every revision in the version.

           If given, the argument is used instead of the default <b>working_name</b>.

           The revision hashes have the following fields:

           <b>name</b>
               The revision name (i.e. "base-0", "patch-X", "version-0" or "versionfix-X")

           <b>summary</b>
               The revision's commit log's summary line

           <b>creator</b>
               The name part of the committers "tla my-id" (i.e. "John Hacker")

           <b>email</b>
               The email address part of the committers "tla my-id" (i.e. "<a href="mailto:jhacker@nowhere.org">jhacker@nowhere.org</a>")

           <b>date</b>
               The revisions commit date in "%Y-%m-%d %H:%M:%S %Z" format (see <u><a href="../man3/strftime.3.html">strftime</a></u>(3))

           <b>kind</b>
               The kind of revision (i.e. one of "tag", "import", "cset" or "unknown")

       <b>expanded_archive_info</b> [<u>archive</u>]
           Returns a tree of categories,  branches  and  versions  in  the  archive.  The  archive  defaults  to
           <b>working_names</b>.

           Returns a reference to a list of categories. Every category is a list consisting of the category name
           and  a list of branches. Every branch is a list consisting of the branch name and a list of versions.
           Every version is list consisting of the version number and the first and last revision name.

               [
                 [ "category1", [
                   [ "branch1", [
                     [ "version1", "first_revision1", "last_revision1" ],
                     [ "version2", "first_revision2", "last_revision2" ],
                     ...
                   ],
                   ...
                 ],
                 ...
               ]

       <b>get_revision_changeset</b> <u>revision</u> [<u>dir</u>]
       <b>get_changeset</b> [<u>dir</u>]
           Fetches the changeset for <u>revision</u> or <b>working_name</b> and returns an Arch::Changeset for it. If  <u>dir</u>  is
           specified,  it  will  be  used  to  store  the  contents  of the changeset. Otherwise a new temporary
           directory will be created.

       <b>get_revision_log</b> <u>revision</u>
       <b>get_log</b>
           Fetch the log for the <u>revision</u> or <b>working_name</b>. Returns an Arch::Log object.

</pre><h4><b>BUGS</b></h4><pre>
       No known bugs.

</pre><h4><b>AUTHORS</b></h4><pre>
       Mikhael Goikhman (<a href="mailto:migo@homemail.com--Perl-GPL">migo@homemail.com--Perl-GPL</a>/arch-perl--devel).

       Enno Cramer (<a href="mailto:uebergeek@web.de--2003">uebergeek@web.de--2003</a>/arch-perl--devel).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       For more information, see tla, Arch::Session, Arch::Library.

perl v5.20.2                                       2005-05-16                                 <u>Arch::<a href="../man3pm/Storage.3pm.html">Storage</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>