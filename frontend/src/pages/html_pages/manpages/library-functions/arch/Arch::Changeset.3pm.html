<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arch::Changeset - class representing Arch changeset</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libarch-perl">libarch-perl_0.5.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Arch::Changeset - class representing Arch changeset

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>Arch::Changeset</b> objects may be created directly if you got a changeset directory:

           use Arch::Changeset;
           my $changeset = Arch::Changeset-&gt;new(
               '<a href="mailto:migo@homemail.com--Perl-GPL">migo@homemail.com--Perl-GPL</a>/arch-perl--devel--0--patch-6',
               '<a href="file:/tmp/">/tmp/</a>,,changeset-6',
           );

       But often are created indirectly by other objects:

           use Arch::Session;
           $changeset = Arch::Session-&gt;new-&gt;get_revision_changeset(
               '<a href="mailto:migo@homemail.com--Perl-GPL">migo@homemail.com--Perl-GPL</a>/arch-perl--devel--0--patch-6'
           );

           use Arch::Library;
           $changeset = Arch::Library-&gt;new-&gt;get_revision_changeset(
               '<a href="mailto:migo@homemail.com--Perl-GPL">migo@homemail.com--Perl-GPL</a>/arch-perl--devel--0--patch-6'
           );

           print scalar $changeset-&gt;get_patch("perllib/Arch/Changeset.pm");

           my $diff_file = ($changeset-&gt;get_patch("README", 1))[2];
           print Arch::Util::load_file($diff_file);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class represents the changeset concept in Arch and provides some useful methods.

</pre><h4><b>METHODS</b></h4><pre>
       The following methods are available:

       <b>new</b>, <b>get_patch</b>, <b>get_index</b>, <b>get_changes</b>, <b>get_all_diffs</b>, <b>join_all_diffs</b>, <b>ancestor</b>.

       <b>new</b> <u>revision-spec</u> <u>dir-name</u>
           Construct  the Arch::Changeset object associated with the given fully-qualified <u>revision-spec</u> and the
           existing directory <u>dir-name</u>.

       <b>get_patch</b> <u>file-path</u>
       <b>get_patch</b> <u>file-path</u> <u>type</u>
       <b>get_patch</b> <u>file-path</u> <u>type</u> <u>full-file-asis</u>
           Return the patch (or otherwise content) of the given <u>file-path</u> in the changeset.

           <u>type</u> is integer: 0 (unknown, try to autodetect, this is the default), 1 (modified file,  or  metadata
           change), 2 (new file), 3 (removed file).

           The  default  behaviour  is  to  create  a fake diff against <u>/dev/null</u> for non-binary new and removed
           files; the <u>full-file-asis</u> flag, if set to true, changes this  behaviour  and  causes  to  return  the
           content  of such file as-is. Binary new and removed files are always returned as-is regardless of the
           flag. This flag is also ignored if <u>type</u> is 1.

           In the scalar content return the patch in <u><a href="../man1/diff.1.html">diff</a></u>(1) format (or the  whole  file  content  as  described
           above).  In  the  list content return 4 scalars: the patch, the file name on the disk containing this
           patch (or the whole file), the change type (that is "patch", "new" or "removed") and the as-is flag.

           The returned values that follow the first one  (the  patch/file  content)  share  the  order  of  the
           corresponding  parameters;  the  parameters  are  more  hints,  while  the returned values accurately
           describe the content.

       <b>get_index</b> <u>name</u>
           Returns the content of the index file <u>name</u> as an <b>ID</b> =&gt; <b>path</b> hash.

           Valid <u>name</u>s are 'orig-dirs-index', 'orig-files-index', 'mod-dirs-index' and 'mod-files-index'.

       <b>get_changes</b>
           Returns a list of changes in the changeset.

       <b>get_all_diffs</b>
           Returns all diffs in the changeset (array or arrayref). This includes changes of  types  <u>MODIFY</u>,  <u>ADD</u>
           and <u>DELETE</u>.

       <b>join_all_diffs</b>
           Returns concatenated output of all diffs in the changeset.

       <b>ancestor</b>
           Return  the  ancestor  of  the  changeset.  If  <u>=ancestor</u> file is found (that is the case for library
           changesets) its content is returned, otherwise try to  guess  the  ancestor  of  the  revision  using
           <b>Arch::Util::adjacent_revision</b>.

</pre><h4><b>BUGS</b></h4><pre>
       Awaiting for your reports.

</pre><h4><b>AUTHORS</b></h4><pre>
       Mikhael Goikhman (<a href="mailto:migo@homemail.com--Perl-GPL">migo@homemail.com--Perl-GPL</a>/arch-perl--devel).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       For more information, see tla, Arch::Session, Arch::Library, Arch::Util.

perl v5.20.2                                       2006-04-15                               <u>Arch::<a href="../man3pm/Changeset.3pm.html">Changeset</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>