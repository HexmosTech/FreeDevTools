<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arch::DiffParser - parse file's diff and perform some manipulations</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libarch-perl">libarch-perl_0.5.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Arch::DiffParser - parse file's diff and perform some manipulations

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Arch::DiffParser;
           my $dp = Arch::DiffParser-&gt;new;

           # usable for "annotate" functionality
           my $changes = $dp-&gt;parse_file("f.diff")-&gt;changes;

           $dp-&gt;parse($diff_content);
           $dp-&gt;parse("--- f1.c\t2005-02-26\n+++ f2.c\t2005-02-28\n...");
           # prints "f1.c, f2.c"
           printf "%s, %s\n", $dp-&gt;filename1, $dp-&gt;filename2;

           # enclose lines in &lt;span class="patch_{mod,orig,line,add,del}"&gt;
           my $html = $dp-&gt;markup_content;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class provides a limited functionality to parse a single file diff in unified format. Multiple diffs
       may be parsed sequentially. The parsed data is stored for the last diff, and is replaced on the following
       parse.

</pre><h4><b>METHODS</b></h4><pre>
       The following class methods are available:

       <b>new</b>, <b>parse</b>, <b>parse_file</b>, <b>content</b>, <b>lines</b>, <b>filename1</b>, <b>filename2</b>, <b>mtime1</b>, <b>mtime2</b>, <b>hunks</b>, <b>changes</b>.

       <b>new</b> Construct the "Arch::DiffParser" instanse.

       <b>parse</b> <u>diff_content</u>
           Parse the <u>diff_content</u> and store its parsed data.

       <b>parse_file</b> <u>diff_filename</u>
           Like <b>parse</b>, but read the <u>diff_content</u> from <u>diff_filename</u>.

       <b>diff_data</b>
           Return  hashref containing certain parsed data. Die if called before any <b>parse</b> methods. The keys are:
           "lines", "filename1", "filename2", "mtime1", "mtime2", "hunks", "changes".

           The value of "hunks" and "changes" is  arrayref  of  arrayrefs  with  5  elements:  [  line-number-1,
           num-lines-1, line-number-2, num-lines-2, "lines"-index ].

           A "hunk" describes a set of lines containing some combination of unmodified, deleted and added lines,
           a  "change"  describes  an  inter-hunk atom that only contains zero or more deleted lines and zero or
           more added lines.

       <b>lines</b>
       <b>filename1</b>
       <b>filename2</b>
       <b>mtime1</b>
       <b>mtime2</b>
       <b>hunks</b>
       <b>changes</b>
           These methods are just shortcuts for <b>diff_data</b>-&gt;{<u>method</u>}.

       <b>content</b> [<u>%args</u>]
           Return content of the last diff.

           <u>%args</u> keys are "fileroot1" and "fileroot2"; if given, these will replace the subdirs "orig" and "mod"
           that arch usually uses in the filepaths.

       <b>markup_content</b> [<u>%args</u>]
           Like    <b>content</b>,    but    every    non-context    line    is    enclosed    into    markup     &lt;span
           class="patch_<u>name</u>"&gt;line&lt;/span&gt;,  where  <u>name</u>  is one of "orig" (filename1), "mod" (filename2), "line"
           (hunk linenums), "add" (added), del (deleted).

           Not implemented yet.

</pre><h4><b>BUGS</b></h4><pre>
       No support for newlines in source file names yet.

</pre><h4><b>AUTHORS</b></h4><pre>
       Mikhael Goikhman (<a href="mailto:migo@homemail.com--Perl-GPL">migo@homemail.com--Perl-GPL</a>/arch-perl--devel).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       For more information, see Text::Diff::Unified, Algorithm::Diff.

perl v5.20.2                                       2005-03-09                              <u>Arch::<a href="../man3pm/DiffParser.3pm.html">DiffParser</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>