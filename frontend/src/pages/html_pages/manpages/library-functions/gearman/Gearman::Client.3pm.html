<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gearman::Client - Client for gearman distributed job system</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libgearman-client-perl">libgearman-client-perl_2.004.015-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Gearman::Client - Client for gearman distributed job system

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Gearman::Client;
           my $client = Gearman::Client-&gt;new;
           $client-&gt;job_servers(
             '127.0.0.1',
             {
               host      =&gt; '10.0.0.1',
               port      =&gt; 4730,
               socket_cb =&gt; sub {...},
               use_ssl   =&gt; 1,
               ca_file   =&gt; ...,
               cert_file =&gt; ...,
               key_file  =&gt; ...,
             }
           );

           # running a single task
           my $result_ref = $client-&gt;do_task("add", "1+2", {
             on_fail =&gt; sub {...},
             on_complete =&gt; sub {...}
           });
           print "1 + 2 = $$result_ref\n";

           # waiting on a set of tasks in parallel
           my $taskset = $client-&gt;new_task_set;
           $taskset-&gt;add_task( "add" =&gt; "1+2", {
              on_complete =&gt; sub { ... }
           });
           $taskset-&gt;add_task( "divide" =&gt; "5/0", {
              on_fail =&gt; sub { print "divide by zero error!\n"; },
           });
           $taskset-&gt;wait;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>Gearman::Client</u> is a client class for the Gearman distributed job system, providing a framework for
       sending jobs to one or more Gearman servers. These jobs are then distributed out to a farm of workers.

       Callers instantiate a <u>Gearman::Client</u> object and from it dispatch single tasks, sets of tasks, or check
       on the status of tasks.

       <u>Gearman::Client</u> is derived from Gearman::Objects

</pre><h4><b>USAGE</b></h4><pre>
   <b>Gearman::Client-&gt;new(%options)</b>
       Creates a new <u>Gearman::Client</u> object, and returns the object.

       If <u>%options</u> is provided, initializes the new client object with the settings in <u>%options</u>, which can
       contain:

       •   exceptions

           If  true,  the  client sends an OPTION_REQ exceptions &lt;<a href="http://gearman.org/protocol/">http://gearman.org/protocol/</a>&gt; request for each
           connection to the job server.  This causes job  server  to  forward  WORK_EXCEPTION  packets  to  the
           client.

       •   job_servers

           List of job servers. Value should be an array reference, hash reference or scalar.

           Calls Gearman::Objects to set <u>job_servers</u>

       •   prefix

           Calls <u>prefix</u> (see Gearman::Objects) to set the prefix / namespace.

       •   command_timeout

           Maximum time a gearman command should take to get a result (not a job timeout)

           default: 30 seconds

       •   backoff_max

           Max number of failed connection attempts before an job server will be temporary disabled

           default: 90

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Summation</b>
       This is an example client that sends off a request to sum up a list of integers.

           use Gearman::Client;
           use Storable qw( freeze );
           my $client = Gearman::Client-&gt;new;
           $client-&gt;job_servers('127.0.0.1');
           my $tasks = $client-&gt;new_task_set;
           my $handle = $tasks-&gt;add_task(sum =&gt; freeze([ 3, 5 ]), {
               on_complete =&gt; sub { print ${ $_[0] }, "\n" }
           });
           $tasks-&gt;wait;

       See the Gearman::Worker documentation for the worker for the <u>sum</u> function.

</pre><h4><b>NOTE</b></h4><pre>
       If  you intend using UTF-8 data with SSL based connection, beware there is no UTF-8 support in underlying
       Net::SSLeay.  "Forcing-Unicode-in-Perl-(Or-Unforcing-Unicode-in-Perl)" in  perlunicode  describes  proper
       workarounds.

</pre><h4><b>METHODS</b></h4><pre>
   <u><b>new_task_set()</b></u>
       Creates and returns a new Gearman::Taskset object.

   <u><b>get_job_server_status()</b></u>
       <b>return</b> "{job_server =&gt; {job =&gt; {capable, queued, running}}}"

   <u><b>get_job_server_jobs()</b></u>
       supported only by Gearman::Server

       <b>return</b> "{job-server =&gt; {job =&gt; {address, listeners, key}}}"

   <u><b>get_job_server_clients()</b></u>
       supported only by Gearman::Server

   <b>do_task($task)</b>
   <b>do_task($funcname,</b> <b>$arg,</b> <b>\%options)</b>
       Dispatches  a  task  and  waits  on  the  results.   May  either provide a Gearman::Task object, or the 3
       arguments that the Gearman::Task constructor takes.

       <b>return</b> scalarref of WORK_COMPLETE result, or undef on failure.

   <b>dispatch_background($func,</b> <b>$arg_p,</b> <b>$options_hr)</b>
   <b>dispatch_background($task)</b>
       Dispatches a "task" and doesn't wait for the result. Return value is an opaque scalar that can be used to
       refer to the task with get_status.

       <b>It</b> <b>is</b> <b>strongly</b> <b>recommended</b> <b>to</b> <b>set</b> Gearman::Task "uniq" <b>option</b> to insure gearmand does not squash jobs  if
       it     store     background     jobs    in    a    persistence    backend.     See    the    issue    #87
       &lt;https://github.com/gearman/gearmand/issues/87#issuecomment-291119785&gt;

       <b>return</b> the handle from the jobserver, or undef on failure

   <b>run_hook($name)</b>
       run a hook callback if defined

   <b>add_hook($name,</b> <b>$cb)</b>
       add a hook

   <b>get_status($handle)</b>
       The  Gearman  Server  will  assign  a  scalar  job  handle  when  you  request  a  background  job   with
       dispatch_background. Save this scalar, and use it later in order to request the status of this job.

       <b>return</b> Gearman::JobStatus on success

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2006-2007 Six Apart, Ltd.

       License granted to use/distribute under the same terms as Perl itself.

</pre><h4><b>WARRANTY</b></h4><pre>
       This is free software. This comes with no warranty whatsoever.

</pre><h4><b>AUTHORS</b></h4><pre>
        Brad Fitzpatrick (&lt;brad at danga dot com&gt;)
        Jonathan Steinert (&lt;hachi at cpan dot org&gt;)
        Alexei Pastuchov (&lt;palik at cpan dot org&gt;) co-maintainer

</pre><h4><b>REPOSITORY</b></h4><pre>
       &lt;https://github.com/p-alik/perl-Gearman.git&gt;

perl v5.26.2                                       2018-08-30                               <u>Gearman::<a href="../man3pm/Client.3pm.html">Client</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>