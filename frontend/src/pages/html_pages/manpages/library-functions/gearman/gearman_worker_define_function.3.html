<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gearman_worker_define_function - Gearmand Documentation, http://gearman.info/</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libgearman-dev">libgearman-dev_1.1.21+ds-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gearman_worker_define_function - Gearmand Documentation, <a href="http://gearman.info/">http://gearman.info/</a>

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;libgearman/gearman.h&gt;

       <b>type</b> <b>gearman_function_t</b>

       <u>gearman_return_t</u> <b>gearman_worker_define_function(</b><u>gearman_worker_st</u> <b>*worker,</b> <b>const</b> <b>char</b> <b>*function_name,</b>
       <b>const</b> <u>size_t</u> <b>function_name_length,</b> <b>const</b> <u>gearman_function_t</u> <b>function,</b> <b>const</b> <u>uint32_t</u> <b>timeout,</b> <b>void</b>
       <b>*context)</b>

       <b>type</b> <b>gearman_function_fn</b>

       <b>type</b> <b>gearman_aggregator_fn</b>

       Link with -lgearman

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>gearman_worker_define_function()</u> defines functions for a worker.

       The  interface  is  callback  by design. When the server has a job for the worker, <u>gearman_function_fn</u> is
       evoked with a <u>gearman_job_st</u> representing the job, and the context that was defined originally  when  the
       function was defined.

       Results are sent back to the client by invoking <u>gearman_job_send_data()</u>.

       If  the  client specified an reducer function, then the output of the <u>gearman_function_fn</u> will be sent to
       that function. You can split the work out to the reducer function by sending  data  multiple  times  with
       <u>gearman_job_send_data()</u>.

       If  any  errors  are detected then the entire job is cancelled.  The <u>gearman_aggregator_fn</u> will be called
       when all mapped jobs have completed. The result of this function will be what is returned to the client.

       The callback function needs to return one of the following errors:

       <u>GEARMAN_SUCCESS</u>

       The function was successful.

       <u>GEARMAN_FAIL</u>

       An error has occurred, the job we not processed, and the worker cannot continue.

       <u>GEARMAN_ERROR</u>

       A transient error has occurred, like a network failure, and the job can be restarted.

       If a value other then the above are returned it is converted to a <u>GEARMAN_FAIL</u> and  <u>gearman_worker_work()</u>
       returns <u>GEARMAN_INVALID_ARGUMENT</u>.

       <u>gearman_job_send_complete()</u>  and  <u>gearman_job_send_fail()</u>  cannot be used with any functions created with
       <u>gearman_worker_define_function()</u>.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u>gearman_return_t</u>

</pre><h4><b>HOME</b></h4><pre>
       To find out more information please check: <u><a href="http://gearman.info/">http://gearman.info/</a></u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/gearmand.8.html">gearmand</a>(8)</b> <b><a href="../man3/libgearman.3.html">libgearman</a>(3)</b> <b><a href="../man3/gearman_strerror.3.html">gearman_strerror</a>(3)</b> <b>gearman_client_error</b> <b>gearman_client_execute_reduce</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       Data Differential <a href="http://www.datadifferential.com/">http://www.datadifferential.com/</a>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2011-2014, Data Differential, <a href="http://www.datadifferential.com/">http://www.datadifferential.com/</a>

1.1.21+ds                                         Jul 31, 2025                 <u><a href="../man3/GEARMAN_WORKER_DEFINE_FUNCTION.3.html">GEARMAN_WORKER_DEFINE_FUNCTION</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>