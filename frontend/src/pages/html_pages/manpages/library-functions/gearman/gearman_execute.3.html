<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gearman_execute - Gearmand Documentation, http://gearman.info/</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libgearman-dev">libgearman-dev_1.1.20+ds-1.2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gearman_execute - Gearmand Documentation, <a href="http://gearman.info/">http://gearman.info/</a>

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;libgearman/gearman.h&gt;

       <u>gearman_task_st</u> <b>*gearman_execute(</b><u>gearman_client_st</u> <b>*client,</b> <b>const</b> <b>char</b> <b>*function_name,</b> <u>size_t</u>
       <b>function_name_length,</b> <b>const</b> <b>char</b> <b>*unique,</b> <u>size_t</u> <b>unique_length,</b> <u>gearman_work_t</u> <b>*workload,</b>
       <u>gearman_argument_t</u> <b>*arguments,</b> <b>void</b> <b>*context)</b>

       <u>gearman_task_st</u> <b>*gearman_execute_by_partition(</b><u>gearman_client_st</u> <b>*client,</b> <b>const</b> <b>char</b> <b>*partition_function,</b>
       <b>const</b> <u>size_t</u> <b>partition_function_length,</b> <b>const</b> <b>char</b> <b>*function_name,</b> <b>const</b> <u>size_t</u> <b>function_name_length,</b>
       <b>const</b> <b>char</b> <b>*unique_str,</b> <b>const</b> <u>size_t</u> <b>unique_length,</b> <u>gearman_work_t</u> <b>*workload,</b> <u>gearman_argument_t</u>
       <b>*arguments,</b> <b>void</b> <b>*context)</b>

       Link with -lgearman

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>gearman_execute()</u>  is  used to create a new <u>gearman_task_st</u> that is executed against the function that is
       found via the function_name argument.

       <u>gearman_work_t</u>  can  be  used  to  describe  the  work  that  will  be  executed,  it   is   built   with
       <u>gearman_argument_make()</u>.  The argument unique_str is optional, but if supplied it is used for coalescence
       by <b>gearmand</b>.

       <u>gearman_argument_t</u> is the work that the <u>client</u> will send the to the server

       If  <u>gearman_execute()</u>  is  given  a  <u>gearman_work_t</u>  that  has  been  built  with a reducer, it takes the
       <u>gearman_argument_t</u> and executes it against a <u>function</u> as it normally would, but it tells the function  to
       then process the results through a <u>reducer</u> function that the <u>gearman_work_t</u> was created with.

       What is happening is that the function is mappping/splitting work up into units, and then sending each of
       them to the reducer function. Once all work is completed, the <u>mapper</u> function will aggregate the work via
       an aggregator function, <u>gearman_aggregator_fn</u>, and return a result.

       If  any  of  the  units of work error, the job will be aborted. The resulting value will be stored in the
       <u>gearman_task_st</u>.

       The result can be obtained from the task by calling <u>gearman_task_result()</u> to gain the <u>gearman_result_st</u>.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u>gearman_execute()</u> returns a c:type:<u>gearman_task_st</u>.

</pre><h4><b>EXAMPLE</b></h4><pre>
          /*
            Example code to show how to send a string to a function called "reverse" and print the results.
          */

          /*
          # Gearman server and library
          # Copyright (C) 2012 Data Differential, <a href="http://datadifferential.com/">http://datadifferential.com/</a>
          # All rights reserved.
          #
          # Use and distribution licensed under the BSD license.  See
          # the COPYING file in this directory for full text.
          */

          #include &lt;<a href="file:/usr/include/string.h">string.h</a>&gt;
          #include &lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;
          #include &lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;
          #include &lt;libgearman/gearman.h&gt;

          int main(void)
          {
            gearman_client_st *client= gearman_client_create(NULL);

            gearman_return_t ret= gearman_client_add_server(client, "localhost", 0);
            if (gearman_failed(ret))
            {
              return EXIT_FAILURE;
            }

            gearman_argument_t value= gearman_argument_make(0, 0, "Reverse Me", strlen("Reverse Me"));

            gearman_task_st *task= gearman_execute(client,
                                                   "reverse", strlen("reverse"),  // function
                                                   NULL, 0,  // no unique value provided
                                                   NULL,
                                                   &amp;value, 0);

            if (task == NULL) // If gearman_execute() can return NULL on error
            {
              fprintf(stderr, "Error: %s\n", gearman_client_error(client));
              gearman_client_free(client);
              return EXIT_FAILURE;
            }

            // Make sure the task was run successfully
            if (gearman_success(gearman_task_return(task)))
            {
              // Make use of value
              gearman_result_st *result= gearman_task_result(task);
              printf("%.*s\n", (int)gearman_result_size(result), gearman_result_value(result));
            }

            gearman_client_free(client);

            return EXIT_SUCCESS;
          }

</pre><h4><b>HOME</b></h4><pre>
       To find out more information please check: <u><a href="http://gearman.info/">http://gearman.info/</a></u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/gearmand.8.html">gearmand</a>(8)</b> <b><a href="../man3/libgearman.3.html">libgearman</a>(3)</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       Data Differential <a href="http://www.datadifferential.com/">http://www.datadifferential.com/</a>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2011-2014, Data Differential, <a href="http://www.datadifferential.com/">http://www.datadifferential.com/</a>

1.1.20+ds                                         Mar 19, 2025                                <u><a href="../man3/GEARMAN_EXECUTE.3.html">GEARMAN_EXECUTE</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>