<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rte_ring.h</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dpdk-doc">dpdk-doc_24.11.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rte_ring.h

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;rte_ring_core.h&gt;
       #include &lt;rte_ring_elem.h&gt;

   <b>Functions</b>
       ssize_t <b>rte_ring_get_memsize</b> (unsigned int count)
       int <b>rte_ring_init</b> (struct <b>rte_ring</b> *r, const char *name, unsigned int count, unsigned int flags)
       struct <b>rte_ring</b> * <b>rte_ring_create</b> (const char *name, unsigned int count, int socket_id, unsigned int
           flags)
       void <b>rte_ring_free</b> (struct <b>rte_ring</b> *r)
       void <b>rte_ring_dump</b> (FILE *f, const struct <b>rte_ring</b> *r)
       static <b>__rte_always_inline</b> unsigned int <b>rte_ring_mp_enqueue_bulk</b> (struct <b>rte_ring</b> *r, void *const
           *obj_table, unsigned int n, unsigned int *free_space)
       static <b>__rte_always_inline</b> unsigned int <b>rte_ring_sp_enqueue_bulk</b> (struct <b>rte_ring</b> *r, void *const
           *obj_table, unsigned int n, unsigned int *free_space)
       static <b>__rte_always_inline</b> unsigned int <b>rte_ring_enqueue_bulk</b> (struct <b>rte_ring</b> *r, void *const
           *obj_table, unsigned int n, unsigned int *free_space)
       static <b>__rte_always_inline</b> int <b>rte_ring_mp_enqueue</b> (struct <b>rte_ring</b> *r, void *obj)
       static <b>__rte_always_inline</b> int <b>rte_ring_sp_enqueue</b> (struct <b>rte_ring</b> *r, void *obj)
       static <b>__rte_always_inline</b> int <b>rte_ring_enqueue</b> (struct <b>rte_ring</b> *r, void *obj)
       static <b>__rte_always_inline</b> unsigned int <b>rte_ring_mc_dequeue_bulk</b> (struct <b>rte_ring</b> *r, void **obj_table,
           unsigned int n, unsigned int *available)
       static <b>__rte_always_inline</b> unsigned int <b>rte_ring_sc_dequeue_bulk</b> (struct <b>rte_ring</b> *r, void **obj_table,
           unsigned int n, unsigned int *available)
       static <b>__rte_always_inline</b> unsigned int <b>rte_ring_dequeue_bulk</b> (struct <b>rte_ring</b> *r, void **obj_table,
           unsigned int n, unsigned int *available)
       static <b>__rte_always_inline</b> int <b>rte_ring_mc_dequeue</b> (struct <b>rte_ring</b> *r, void **obj_p)
       static <b>__rte_always_inline</b> int <b>rte_ring_sc_dequeue</b> (struct <b>rte_ring</b> *r, void **obj_p)
       static <b>__rte_always_inline</b> int <b>rte_ring_dequeue</b> (struct <b>rte_ring</b> *r, void **obj_p)
       void <b>rte_ring_reset</b> (struct <b>rte_ring</b> *r)
       static unsigned int <b>rte_ring_count</b> (const struct <b>rte_ring</b> *r)
       static unsigned int <b>rte_ring_free_count</b> (const struct <b>rte_ring</b> *r)
       static int <b>rte_ring_full</b> (const struct <b>rte_ring</b> *r)
       static int <b>rte_ring_empty</b> (const struct <b>rte_ring</b> *r)
       static unsigned int <b>rte_ring_get_size</b> (const struct <b>rte_ring</b> *r)
       static unsigned int <b>rte_ring_get_capacity</b> (const struct <b>rte_ring</b> *r)
       static enum <b>rte_ring_sync_type</b> <b>rte_ring_get_prod_sync_type</b> (const struct <b>rte_ring</b> *r)
       static int <b>rte_ring_is_prod_single</b> (const struct <b>rte_ring</b> *r)
       static enum <b>rte_ring_sync_type</b> <b>rte_ring_get_cons_sync_type</b> (const struct <b>rte_ring</b> *r)
       static int <b>rte_ring_is_cons_single</b> (const struct <b>rte_ring</b> *r)
       void <b>rte_ring_list_dump</b> (FILE *f)
       struct <b>rte_ring</b> * <b>rte_ring_lookup</b> (const char *name)
       static <b>__rte_always_inline</b> unsigned int <b>rte_ring_mp_enqueue_burst</b> (struct <b>rte_ring</b> *r, void *const
           *obj_table, unsigned int n, unsigned int *free_space)
       static <b>__rte_always_inline</b> unsigned int <b>rte_ring_sp_enqueue_burst</b> (struct <b>rte_ring</b> *r, void *const
           *obj_table, unsigned int n, unsigned int *free_space)
       static <b>__rte_always_inline</b> unsigned int <b>rte_ring_enqueue_burst</b> (struct <b>rte_ring</b> *r, void *const
           *obj_table, unsigned int n, unsigned int *free_space)
       static <b>__rte_always_inline</b> unsigned int <b>rte_ring_mc_dequeue_burst</b> (struct <b>rte_ring</b> *r, void **obj_table,
           unsigned int n, unsigned int *available)
       static <b>__rte_always_inline</b> unsigned int <b>rte_ring_sc_dequeue_burst</b> (struct <b>rte_ring</b> *r, void **obj_table,
           unsigned int n, unsigned int *available)
       static <b>__rte_always_inline</b> unsigned int <b>rte_ring_dequeue_burst</b> (struct <b>rte_ring</b> *r, void **obj_table,
           unsigned int n, unsigned int *available)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       RTE Ring

       The Ring Manager is a fixed-size queue, implemented as a table of pointers. Head and tail pointers are
       modified atomically, allowing concurrent access to it. It has the following features:

       • FIFO (First In First Out)

       • Maximum size is fixed; the pointers are stored in a table.

       • Lockless implementation.

       • Multi- or single-consumer dequeue.

       • Multi- or single-producer enqueue.

       • Bulk dequeue.

       • Bulk enqueue.

       • Ability to select different sync modes for producer/consumer.

       • Dequeue start/finish (depending on consumer sync modes).

       • Enqueue start/finish (depending on producer sync mode).

       Note:  the  ring  implementation  is not preemptible. Refer to Programmer's guide/Environment Abstraction
       Layer/Multiple pthread/Known Issues/rte_ring for more information.

       Definition in file <b>rte_ring.h</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>ssize_t</b> <b>rte_ring_get_memsize</b> <b>(unsigned</b> <b>int</b> <b>count)</b>
       Calculate the memory size needed for a ring

       This function returns the number of bytes needed for a ring, given the number of  elements  in  it.  This
       value  is  the sum of the size of the structure <b>rte_ring</b> and the size of the memory needed by the objects
       pointers. The value is aligned to a cache line size.

       <b>Parameters</b>
           <u>count</u> The number of elements in the ring (must be a power of 2).

       <b>Returns</b>

           • The memory size needed for the ring on success.

           • -EINVAL if count is not a power of 2.

   <b>int</b> <b>rte_ring_init</b> <b>(struct</b> <b>rte_ring</b> <b>*</b> <b>r,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b> <b>unsigned</b> <b>int</b> <b>count,</b> <b>unsigned</b> <b>int</b> <b>flags)</b>
       Initialize a ring structure.

       Initialize a ring structure in memory pointed by 'r'. The size of the memory area must be large enough to
       store the ring structure and the object table. It is advised to use  <b>rte_ring_get_memsize()</b>  to  get  the
       appropriate size.

       The ring size is set to <u>count</u>, which must be a power of two. The real usable ring size is <u>count-1</u> instead
       of <u>count</u> to differentiate a full ring from an empty ring.

       The  ring  is  not added in RTE_TAILQ_RING global list. Indeed, the memory given by the caller may not be
       shareable among dpdk processes.

       <b>Parameters</b>
           <u>r</u> The pointer to the ring structure followed by the objects table.
           <u>name</u> The name of the ring.
           <u>count</u> The number of elements in the ring (must be a power of 2,  unless  RING_F_EXACT_SZ  is  set  in
           flags).
           <u>flags</u> An OR of the following:

           • One of mutually exclusive flags that define producer behavior:

             • RING_F_SP_ENQ:  If  this  flag  is  set,  the  default  behavior when using <b>rte_ring_enqueue()</b> <b>or</b>
               <b>rte_ring_enqueue_bulk()</b> <b>is</b> <b>'single-producer'.</b>

             • RING_F_MP_RTS_ENQ: If this flag is set, the default behavior  when  using  <b>rte_ring_enqueue()</b>  <b>or</b>
               <b>rte_ring_enqueue_bulk()</b> <b>is</b> <b>'multi-producer</b> <b>RTS</b> <b>mode'.</b>

             • RING_F_MP_HTS_ENQ:  If  this  flag  is set, the default behavior when using <b>rte_ring_enqueue()</b> <b>or</b>
               <b>rte_ring_enqueue_bulk()</b> <b>is</b> <b>'multi-producer</b> <b>HTS</b> <b>mode'.</b> <b>If</b> <b>none</b> <b>of</b> <b>these</b> <b>flags</b> <b>is</b> <b>set,</b> <b>then</b> <b>default</b>
               <b>'multi-producer'</b> <b>behavior</b> <b>is</b> <b>selected.</b>

           • One of mutually exclusive flags that define consumer behavior:

             • RING_F_SC_DEQ: If this flag is  set,  the  default  behavior  when  using  <b>rte_ring_dequeue()</b>  <b>or</b>
               <b>rte_ring_dequeue_bulk()</b> <b>is</b> <b>'single-consumer'.</b> <b>Otherwise,</b> <b>it</b> <b>is</b> <b>'multi-consumers'.</b>

             • RING_F_MC_RTS_DEQ:  If  this  flag  is set, the default behavior when using <b>rte_ring_dequeue()</b> <b>or</b>
               <b>rte_ring_dequeue_bulk()</b> <b>is</b> <b>'multi-consumer</b> <b>RTS</b> <b>mode'.</b>

             • RING_F_MC_HTS_DEQ: If this flag is set, the default behavior  when  using  <b>rte_ring_dequeue()</b>  <b>or</b>
               <b>rte_ring_dequeue_bulk()</b> <b>is</b> <b>'multi-consumer</b> <b>HTS</b> <b>mode'.</b> <b>If</b> <b>none</b> <b>of</b> <b>these</b> <b>flags</b> <b>is</b> <b>set,</b> <b>then</b> <b>default</b>
               <b>'multi-consumer'</b> <b>behavior</b> <b>is</b> <b>selected.</b>

           • RING_F_EXACT_SZ:  If  this flag is set, the ring will hold exactly the requested number of entries,
             and the requested size will be rounded up to the next power of two, but the usable  space  will  be
             exactly  that requested. Worst case, if a power-of-2 size is requested, half the ring space will be
             wasted. Without this flag set, the ring size requested must be a power of 2, and the  usable  space
             will be that size - 1.

       <b>Returns</b>
           0 on success, or a negative value on error.

   <b>struct</b> <b>rte_ring</b> <b>*</b> <b>rte_ring_create</b> <b>(const</b> <b>char</b> <b>*</b> <b>name,</b> <b>unsigned</b> <b>int</b> <b>count,</b> <b>int</b> <b>socket_id,</b> <b>unsigned</b> <b>int</b> <b>flags)</b>
       Create a new ring named <u>name</u> in memory.

       This  function  uses memzone_reserve() to allocate memory. Then it calls <b>rte_ring_init()</b> to initialize an
       empty ring.

       The new ring size is set to <u>count</u>, which must be a power of two. The real usable  ring  size  is  <u>count-1</u>
       instead of <u>count</u> to differentiate a full ring from an empty ring.

       The ring is added in RTE_TAILQ_RING list.

       <b>Parameters</b>
           <u>name</u> The name of the ring.
           <u>count</u> The size of the ring (must be a power of 2, unless RING_F_EXACT_SZ is set in flags).
           <u>socket_id</u>  The  <u>socket_id</u>  argument  is  the  socket  identifier  in  case  of NUMA. The value can be
           <u>SOCKET_ID_ANY</u> if there is no NUMA constraint for the reserved zone.
           <u>flags</u> An OR of the following:

           • One of mutually exclusive flags that define producer behavior:

             • RING_F_SP_ENQ: If this flag is  set,  the  default  behavior  when  using  <b>rte_ring_enqueue()</b>  <b>or</b>
               <b>rte_ring_enqueue_bulk()</b> <b>is</b> <b>'single-producer'.</b>

             • RING_F_MP_RTS_ENQ:  If  this  flag  is set, the default behavior when using <b>rte_ring_enqueue()</b> <b>or</b>
               <b>rte_ring_enqueue_bulk()</b> <b>is</b> <b>'multi-producer</b> <b>RTS</b> <b>mode'.</b>

             • RING_F_MP_HTS_ENQ: If this flag is set, the default behavior  when  using  <b>rte_ring_enqueue()</b>  <b>or</b>
               <b>rte_ring_enqueue_bulk()</b> <b>is</b> <b>'multi-producer</b> <b>HTS</b> <b>mode'.</b> <b>If</b> <b>none</b> <b>of</b> <b>these</b> <b>flags</b> <b>is</b> <b>set,</b> <b>then</b> <b>default</b>
               <b>'multi-producer'</b> <b>behavior</b> <b>is</b> <b>selected.</b>

           • One of mutually exclusive flags that define consumer behavior:

             • RING_F_SC_DEQ:  If  this  flag  is  set,  the  default  behavior when using <b>rte_ring_dequeue()</b> <b>or</b>
               <b>rte_ring_dequeue_bulk()</b> <b>is</b> <b>'single-consumer'.</b> <b>Otherwise,</b> <b>it</b> <b>is</b> <b>'multi-consumers'.</b>

             • RING_F_MC_RTS_DEQ: If this flag is set, the default behavior  when  using  <b>rte_ring_dequeue()</b>  <b>or</b>
               <b>rte_ring_dequeue_bulk()</b> <b>is</b> <b>'multi-consumer</b> <b>RTS</b> <b>mode'.</b>

             • RING_F_MC_HTS_DEQ:  If  this  flag  is set, the default behavior when using <b>rte_ring_dequeue()</b> <b>or</b>
               <b>rte_ring_dequeue_bulk()</b> <b>is</b> <b>'multi-consumer</b> <b>HTS</b> <b>mode'.</b> <b>If</b> <b>none</b> <b>of</b> <b>these</b> <b>flags</b> <b>is</b> <b>set,</b> <b>then</b> <b>default</b>
               <b>'multi-consumer'</b> <b>behavior</b> <b>is</b> <b>selected.</b>

           • RING_F_EXACT_SZ: If this flag is set, the ring will hold exactly the requested number  of  entries,
             and  the  requested  size will be rounded up to the next power of two, but the usable space will be
             exactly that requested. Worst case, if a power-of-2 size is requested, half the ring space will  be
             wasted.  Without  this flag set, the ring size requested must be a power of 2, and the usable space
             will be that size - 1.

       <b>Returns</b>
           On success, the pointer to the new allocated ring. NULL on error with  rte_errno  set  appropriately.
           Possible errno values include:

           • E_RTE_NO_CONFIG - function could not get pointer to rte_config structure

           • EINVAL - count provided is not a power of 2

           • ENOSPC - the maximum number of memzones has already been allocated

           • EEXIST - a memzone with the same name already exists

           • ENOMEM - no appropriate memory area found in which to create memzone

   <b>void</b> <b>rte_ring_free</b> <b>(struct</b> <b>rte_ring</b> <b>*</b> <b>r)</b>
       De-allocate all memory used by the ring.

       <b>Parameters</b>
           <u>r</u> Ring to free. If NULL then, the function does nothing.

   <b>void</b> <b>rte_ring_dump</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>const</b> <b>struct</b> <b>rte_ring</b> <b>*</b> <b>r)</b>
       Dump the status of the ring to a file.

       <b>Parameters</b>
           <u>f</u> A pointer to a file for output
           <u>r</u> A pointer to the ring structure.

   <b>static</b>  <b>__rte_always_inline</b>  <b>unsigned</b>  <b>int</b>  <b>rte_ring_mp_enqueue_bulk</b>  <b>(struct</b>  <b>rte_ring</b>  <b>*</b>  <b>r,</b>  <b>void</b> <b>*const</b> <b>*</b>
       <b>obj_table,</b> <b>unsigned</b> <b>int</b> <b>n,</b> <b>unsigned</b> <b>int</b> <b>*</b> <b>free_space)</b> <b>[static]</b>
       Enqueue several objects on the ring (multi-producers safe).

       This function uses a 'compare and set' instruction to move the producer index atomically.

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.
           <u>obj_table</u> A pointer to a table of void * pointers (objects).
           <u>n</u> The number of objects to add in the ring from the obj_table.
           <u>free_space</u> if non-NULL, returns the amount of space in the  ring  after  the  enqueue  operation  has
           finished.

       <b>Returns</b>
           The number of objects enqueued, either 0 or n

       Definition at line <b>226</b> of file <b>rte_ring.h</b>.

   <b>static</b>  <b>__rte_always_inline</b>  <b>unsigned</b>  <b>int</b>  <b>rte_ring_sp_enqueue_bulk</b>  <b>(struct</b>  <b>rte_ring</b>  <b>*</b>  <b>r,</b>  <b>void</b> <b>*const</b> <b>*</b>
       <b>obj_table,</b> <b>unsigned</b> <b>int</b> <b>n,</b> <b>unsigned</b> <b>int</b> <b>*</b> <b>free_space)</b> <b>[static]</b>
       Enqueue several objects on a ring (NOT multi-producers safe).

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.
           <u>obj_table</u> A pointer to a table of void * pointers (objects).
           <u>n</u> The number of objects to add in the ring from the obj_table.
           <u>free_space</u> if non-NULL, returns the amount of space in the  ring  after  the  enqueue  operation  has
           finished.

       <b>Returns</b>
           The number of objects enqueued, either 0 or n

       Definition at line <b>249</b> of file <b>rte_ring.h</b>.

   <b>static</b>  <b>__rte_always_inline</b> <b>unsigned</b> <b>int</b> <b>rte_ring_enqueue_bulk</b> <b>(struct</b> <b>rte_ring</b> <b>*</b> <b>r,</b> <b>void</b> <b>*const</b> <b>*</b> <b>obj_table,</b>
       <b>unsigned</b> <b>int</b> <b>n,</b> <b>unsigned</b> <b>int</b> <b>*</b> <b>free_space)</b> <b>[static]</b>
       Enqueue several objects on a ring.

       This function calls the multi-producer or the single-producer version depending on the  default  behavior
       that was specified at ring creation time (see flags).

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.
           <u>obj_table</u> A pointer to a table of void * pointers (objects).
           <u>n</u> The number of objects to add in the ring from the obj_table.
           <u>free_space</u>  if  non-NULL,  returns  the  amount  of space in the ring after the enqueue operation has
           finished.

       <b>Returns</b>
           The number of objects enqueued, either 0 or n

       Definition at line <b>276</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>__rte_always_inline</b> <b>int</b> <b>rte_ring_mp_enqueue</b> <b>(struct</b> <b>rte_ring</b> <b>*</b> <b>r,</b> <b>void</b> <b>*</b> <b>obj)</b> <b>[static]</b>
       Enqueue one object on a ring (multi-producers safe).

       This function uses a 'compare and set' instruction to move the producer index atomically.

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.
           <u>obj</u> A pointer to the object to be added.

       <b>Returns</b>

           • 0: Success; objects enqueued.

           • -ENOBUFS: Not enough room in the ring to enqueue; no object is enqueued.

       Definition at line <b>298</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>__rte_always_inline</b> <b>int</b> <b>rte_ring_sp_enqueue</b> <b>(struct</b> <b>rte_ring</b> <b>*</b> <b>r,</b> <b>void</b> <b>*</b> <b>obj)</b> <b>[static]</b>
       Enqueue one object on a ring (NOT multi-producers safe).

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.
           <u>obj</u> A pointer to the object to be added.

       <b>Returns</b>

           • 0: Success; objects enqueued.

           • -ENOBUFS: Not enough room in the ring to enqueue; no object is enqueued.

       Definition at line <b>315</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>__rte_always_inline</b> <b>int</b> <b>rte_ring_enqueue</b> <b>(struct</b> <b>rte_ring</b> <b>*</b> <b>r,</b> <b>void</b> <b>*</b> <b>obj)</b> <b>[static]</b>
       Enqueue one object on a ring.

       This function calls the multi-producer or the single-producer version, depending on the default behaviour
       that was specified at ring creation time (see flags).

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.
           <u>obj</u> A pointer to the object to be added.

       <b>Returns</b>

           • 0: Success; objects enqueued.

           • -ENOBUFS: Not enough room in the ring to enqueue; no object is enqueued.

       Definition at line <b>336</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>__rte_always_inline</b> <b>unsigned</b> <b>int</b> <b>rte_ring_mc_dequeue_bulk</b> <b>(struct</b> <b>rte_ring</b> <b>*</b>  <b>r,</b>  <b>void</b>  <b>**</b>  <b>obj_table,</b>
       <b>unsigned</b> <b>int</b> <b>n,</b> <b>unsigned</b> <b>int</b> <b>*</b> <b>available)</b> <b>[static]</b>
       Dequeue several objects from a ring (multi-consumers safe).

       This function uses a 'compare and set' instruction to move the consumer index atomically.

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.
           <u>obj_table</u> A pointer to a table of void * pointers (objects) that will be filled.
           <u>n</u> The number of objects to dequeue from the ring to the obj_table.
           <u>available</u> If non-NULL, returns the number of remaining ring entries after the dequeue has finished.

       <b>Returns</b>
           The number of objects dequeued, either 0 or n

       Definition at line <b>360</b> of file <b>rte_ring.h</b>.

   <b>static</b>  <b>__rte_always_inline</b>  <b>unsigned</b>  <b>int</b>  <b>rte_ring_sc_dequeue_bulk</b> <b>(struct</b> <b>rte_ring</b> <b>*</b> <b>r,</b> <b>void</b> <b>**</b> <b>obj_table,</b>
       <b>unsigned</b> <b>int</b> <b>n,</b> <b>unsigned</b> <b>int</b> <b>*</b> <b>available)</b> <b>[static]</b>
       Dequeue several objects from a ring (NOT multi-consumers safe).

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.
           <u>obj_table</u> A pointer to a table of void * pointers (objects) that will be filled.
           <u>n</u> The number of objects to dequeue from the ring to the obj_table, must be strictly positive.
           <u>available</u> If non-NULL, returns the number of remaining ring entries after the dequeue has finished.

       <b>Returns</b>
           The number of objects dequeued, either 0 or n

       Definition at line <b>384</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>__rte_always_inline</b> <b>unsigned</b> <b>int</b> <b>rte_ring_dequeue_bulk</b>  <b>(struct</b>  <b>rte_ring</b>  <b>*</b>  <b>r,</b>  <b>void</b>  <b>**</b>  <b>obj_table,</b>
       <b>unsigned</b> <b>int</b> <b>n,</b> <b>unsigned</b> <b>int</b> <b>*</b> <b>available)</b> <b>[static]</b>
       Dequeue several objects from a ring.

       This  function  calls  the  multi-consumers  or  the  single-consumer  version,  depending on the default
       behaviour that was specified at ring creation time (see flags).

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.
           <u>obj_table</u> A pointer to a table of void * pointers (objects) that will be filled.
           <u>n</u> The number of objects to dequeue from the ring to the obj_table.
           <u>available</u> If non-NULL, returns the number of remaining ring entries after the dequeue has finished.

       <b>Returns</b>
           The number of objects dequeued, either 0 or n

       Definition at line <b>411</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>__rte_always_inline</b> <b>int</b> <b>rte_ring_mc_dequeue</b> <b>(struct</b> <b>rte_ring</b> <b>*</b> <b>r,</b> <b>void</b> <b>**</b> <b>obj_p)</b> <b>[static]</b>
       Dequeue one object from a ring (multi-consumers safe).

       This function uses a 'compare and set' instruction to move the consumer index atomically.

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.
           <u>obj_p</u> A pointer to a void * pointer (object) that will be filled.

       <b>Returns</b>

           • 0: Success; objects dequeued.

           • -ENOENT: Not enough entries in the ring to dequeue; no object is dequeued.

       Definition at line <b>434</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>__rte_always_inline</b> <b>int</b> <b>rte_ring_sc_dequeue</b> <b>(struct</b> <b>rte_ring</b> <b>*</b> <b>r,</b> <b>void</b> <b>**</b> <b>obj_p)</b> <b>[static]</b>
       Dequeue one object from a ring (NOT multi-consumers safe).

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.
           <u>obj_p</u> A pointer to a void * pointer (object) that will be filled.

       <b>Returns</b>

           • 0: Success; objects dequeued.

           • -ENOENT: Not enough entries in the ring to dequeue, no object is dequeued.

       Definition at line <b>452</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>__rte_always_inline</b> <b>int</b> <b>rte_ring_dequeue</b> <b>(struct</b> <b>rte_ring</b> <b>*</b> <b>r,</b> <b>void</b> <b>**</b> <b>obj_p)</b> <b>[static]</b>
       Dequeue one object from a ring.

       This function calls the multi-consumers or the single-consumer version depending on the default behaviour
       that was specified at ring creation time (see flags).

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.
           <u>obj_p</u> A pointer to a void * pointer (object) that will be filled.

       <b>Returns</b>

           • 0: Success, objects dequeued.

           • -ENOENT: Not enough entries in the ring to dequeue, no object is dequeued.

       Definition at line <b>474</b> of file <b>rte_ring.h</b>.

   <b>void</b> <b>rte_ring_reset</b> <b>(struct</b> <b>rte_ring</b> <b>*</b> <b>r)</b>
       Flush a ring.

       This function flush all the elements in a ring

       <b>Warning</b>
           Make sure the ring is not in use while calling this function.

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.

   <b>static</b> <b>unsigned</b> <b>int</b> <b>rte_ring_count</b> <b>(const</b> <b>struct</b> <b>rte_ring</b> <b>*</b> <b>r)</b> <b>[inline],</b>  <b>[static]</b>
       Return the number of entries in a ring.

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.

       <b>Returns</b>
           The number of entries in the ring.

       Definition at line <b>502</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>unsigned</b> <b>int</b> <b>rte_ring_free_count</b> <b>(const</b> <b>struct</b> <b>rte_ring</b> <b>*</b> <b>r)</b> <b>[inline],</b>  <b>[static]</b>
       Return the number of free entries in a ring.

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.

       <b>Returns</b>
           The number of free entries in the ring.

       Definition at line <b>519</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>int</b> <b>rte_ring_full</b> <b>(const</b> <b>struct</b> <b>rte_ring</b> <b>*</b> <b>r)</b> <b>[inline],</b>  <b>[static]</b>
       Test if a ring is full.

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.

       <b>Returns</b>

           • 1: The ring is full.

           • 0: The ring is not full.

       Definition at line <b>534</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>int</b> <b>rte_ring_empty</b> <b>(const</b> <b>struct</b> <b>rte_ring</b> <b>*</b> <b>r)</b> <b>[inline],</b>  <b>[static]</b>
       Test if a ring is empty.

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.

       <b>Returns</b>

           • 1: The ring is empty.

           • 0: The ring is not empty.

       Definition at line <b>549</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>unsigned</b> <b>int</b> <b>rte_ring_get_size</b> <b>(const</b> <b>struct</b> <b>rte_ring</b> <b>*</b> <b>r)</b> <b>[inline],</b>  <b>[static]</b>
       Return the size of the ring.

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.

       <b>Returns</b>
           The size of the data store used by the ring. NOTE: this is not the same as the usable  space  in  the
           ring. To query that use <b>rte_ring_get_capacity().</b>

       Definition at line <b>567</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>unsigned</b> <b>int</b> <b>rte_ring_get_capacity</b> <b>(const</b> <b>struct</b> <b>rte_ring</b> <b>*</b> <b>r)</b> <b>[inline],</b>  <b>[static]</b>
       Return the number of elements which can be stored in the ring.

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.

       <b>Returns</b>
           The usable size of the ring.

       Definition at line <b>581</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>enum</b> <b>rte_ring_sync_type</b> <b>rte_ring_get_prod_sync_type</b> <b>(const</b> <b>struct</b> <b>rte_ring</b> <b>*</b> <b>r)</b> <b>[inline],</b>  <b>[static]</b>
       Return sync type used by producer in the ring.

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.

       <b>Returns</b>
           Producer sync type value.

       Definition at line <b>595</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>int</b> <b>rte_ring_is_prod_single</b> <b>(const</b> <b>struct</b> <b>rte_ring</b> <b>*</b> <b>r)</b> <b>[inline],</b>  <b>[static]</b>
       Check is the ring for single producer.

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.

       <b>Returns</b>
           true if ring is SP, zero otherwise.

       Definition at line <b>609</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>enum</b> <b>rte_ring_sync_type</b> <b>rte_ring_get_cons_sync_type</b> <b>(const</b> <b>struct</b> <b>rte_ring</b> <b>*</b> <b>r)</b> <b>[inline],</b>  <b>[static]</b>
       Return sync type used by consumer in the ring.

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.

       <b>Returns</b>
           Consumer sync type value.

       Definition at line <b>623</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>int</b> <b>rte_ring_is_cons_single</b> <b>(const</b> <b>struct</b> <b>rte_ring</b> <b>*</b> <b>r)</b> <b>[inline],</b>  <b>[static]</b>
       Check is the ring for single consumer.

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.

       <b>Returns</b>
           true if ring is SC, zero otherwise.

       Definition at line <b>637</b> of file <b>rte_ring.h</b>.

   <b>void</b> <b>rte_ring_list_dump</b> <b>(FILE</b> <b>*</b> <b>f)</b>
       Dump the status of all rings on the console

       <b>Parameters</b>
           <u>f</u> A pointer to a file for output

   <b>struct</b> <b>rte_ring</b> <b>*</b> <b>rte_ring_lookup</b> <b>(const</b> <b>char</b> <b>*</b> <b>name)</b>
       Search a ring from its name

       <b>Parameters</b>
           <u>name</u> The name of the ring.

       <b>Returns</b>
           The  pointer  to  the ring matching the name, or NULL if not found, with rte_errno set appropriately.
           Possible rte_errno values include:

           • ENOENT - required entry not available to return.

   <b>static</b> <b>__rte_always_inline</b> <b>unsigned</b> <b>int</b>  <b>rte_ring_mp_enqueue_burst</b>  <b>(struct</b>  <b>rte_ring</b>  <b>*</b>  <b>r,</b>  <b>void</b>  <b>*const</b>  <b>*</b>
       <b>obj_table,</b> <b>unsigned</b> <b>int</b> <b>n,</b> <b>unsigned</b> <b>int</b> <b>*</b> <b>free_space)</b> <b>[static]</b>
       Enqueue several objects on the ring (multi-producers safe).

       This function uses a 'compare and set' instruction to move the producer index atomically.

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.
           <u>obj_table</u> A pointer to a table of void * pointers (objects).
           <u>n</u> The number of objects to add in the ring from the obj_table.
           <u>free_space</u>  if  non-NULL,  returns  the  amount  of space in the ring after the enqueue operation has
           finished.

       <b>Returns</b>

           • n: Actual number of objects enqueued.

       Definition at line <b>681</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>__rte_always_inline</b> <b>unsigned</b> <b>int</b>  <b>rte_ring_sp_enqueue_burst</b>  <b>(struct</b>  <b>rte_ring</b>  <b>*</b>  <b>r,</b>  <b>void</b>  <b>*const</b>  <b>*</b>
       <b>obj_table,</b> <b>unsigned</b> <b>int</b> <b>n,</b> <b>unsigned</b> <b>int</b> <b>*</b> <b>free_space)</b> <b>[static]</b>
       Enqueue several objects on a ring (NOT multi-producers safe).

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.
           <u>obj_table</u> A pointer to a table of void * pointers (objects).
           <u>n</u> The number of objects to add in the ring from the obj_table.
           <u>free_space</u>  if  non-NULL,  returns  the  amount  of space in the ring after the enqueue operation has
           finished.

       <b>Returns</b>

           • n: Actual number of objects enqueued.

       Definition at line <b>704</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>__rte_always_inline</b> <b>unsigned</b> <b>int</b> <b>rte_ring_enqueue_burst</b> <b>(struct</b> <b>rte_ring</b> <b>*</b> <b>r,</b> <b>void</b> <b>*const</b> <b>*</b> <b>obj_table,</b>
       <b>unsigned</b> <b>int</b> <b>n,</b> <b>unsigned</b> <b>int</b> <b>*</b> <b>free_space)</b> <b>[static]</b>
       Enqueue several objects on a ring.

       This function calls the multi-producer or the single-producer version depending on the  default  behavior
       that was specified at ring creation time (see flags).

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.
           <u>obj_table</u> A pointer to a table of void * pointers (objects).
           <u>n</u> The number of objects to add in the ring from the obj_table.
           <u>free_space</u>  if  non-NULL,  returns  the  amount  of space in the ring after the enqueue operation has
           finished.

       <b>Returns</b>

           • n: Actual number of objects enqueued.

       Definition at line <b>731</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>__rte_always_inline</b> <b>unsigned</b> <b>int</b> <b>rte_ring_mc_dequeue_burst</b> <b>(struct</b> <b>rte_ring</b> <b>*</b> <b>r,</b>  <b>void</b>  <b>**</b>  <b>obj_table,</b>
       <b>unsigned</b> <b>int</b> <b>n,</b> <b>unsigned</b> <b>int</b> <b>*</b> <b>available)</b> <b>[static]</b>
       Dequeue  several  objects  from a ring (multi-consumers safe). When the request objects are more than the
       available objects, only dequeue the actual number of objects

       This function uses a 'compare and set' instruction to move the consumer index atomically.

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.
           <u>obj_table</u> A pointer to a table of void * pointers (objects) that will be filled.
           <u>n</u> The number of objects to dequeue from the ring to the obj_table.
           <u>available</u> If non-NULL, returns the number of remaining ring entries after the dequeue has finished.

       <b>Returns</b>

           • n: Actual number of objects dequeued, 0 if ring is empty

       Definition at line <b>759</b> of file <b>rte_ring.h</b>.

   <b>static</b> <b>__rte_always_inline</b> <b>unsigned</b> <b>int</b> <b>rte_ring_sc_dequeue_burst</b> <b>(struct</b> <b>rte_ring</b> <b>*</b> <b>r,</b>  <b>void</b>  <b>**</b>  <b>obj_table,</b>
       <b>unsigned</b> <b>int</b> <b>n,</b> <b>unsigned</b> <b>int</b> <b>*</b> <b>available)</b> <b>[static]</b>
       Dequeue several objects from a ring (NOT multi-consumers safe).When the request objects are more than the
       available objects, only dequeue the actual number of objects

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.
           <u>obj_table</u> A pointer to a table of void * pointers (objects) that will be filled.
           <u>n</u> The number of objects to dequeue from the ring to the obj_table.
           <u>available</u> If non-NULL, returns the number of remaining ring entries after the dequeue has finished.

       <b>Returns</b>

           • n: Actual number of objects dequeued, 0 if ring is empty

       Definition at line <b>784</b> of file <b>rte_ring.h</b>.

   <b>static</b>  <b>__rte_always_inline</b>  <b>unsigned</b>  <b>int</b>  <b>rte_ring_dequeue_burst</b>  <b>(struct</b>  <b>rte_ring</b> <b>*</b> <b>r,</b> <b>void</b> <b>**</b> <b>obj_table,</b>
       <b>unsigned</b> <b>int</b> <b>n,</b> <b>unsigned</b> <b>int</b> <b>*</b> <b>available)</b> <b>[static]</b>
       Dequeue multiple objects from a ring up to a maximum number.

       This function calls the  multi-consumers  or  the  single-consumer  version,  depending  on  the  default
       behaviour that was specified at ring creation time (see flags).

       <b>Parameters</b>
           <u>r</u> A pointer to the ring structure.
           <u>obj_table</u> A pointer to a table of void * pointers (objects) that will be filled.
           <u>n</u> The number of objects to dequeue from the ring to the obj_table.
           <u>available</u> If non-NULL, returns the number of remaining ring entries after the dequeue has finished.

       <b>Returns</b>

           • Number of objects dequeued

       Definition at line <b>811</b> of file <b>rte_ring.h</b>.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for DPDK from the source code.

DPDK                                             Version 24.11.2                                   <u><a href="../man3/rte_ring.h.3.html">rte_ring.h</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>