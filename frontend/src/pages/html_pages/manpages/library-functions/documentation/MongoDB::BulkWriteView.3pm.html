<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MongoDB::BulkWriteView - Bulk write operations against a query document</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmongodb-perl">libmongodb-perl_2.2.2-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       MongoDB::BulkWriteView - Bulk write operations against a query document

</pre><h4><b>VERSION</b></h4><pre>
       version v2.2.2

</pre><h4><b>SYNOPSIS</b></h4><pre>
           my $bulk = $collection-&gt;initialize_ordered_bulk_op;

           # Update one document matching the selector
           bulk-&gt;find( { a =&gt; 1 } )-&gt;update_one( { '$inc' =&gt; { x =&gt; 1 } } );

           # Update all documents matching the selector
           bulk-&gt;find( { a =&gt; 2 } )-&gt;update_many( { '$inc' =&gt; { x =&gt; 2 } } );

           # Update all documents matching the selector, with respect to a collation
           bulk-&gt;find( { a =&gt; { '$gte' =&gt; 'F' } )-&gt;collation($collation)
                 -&gt;update_many( { '$inc' =&gt; { x =&gt; 2 } } );

           # Update all documents
           bulk-&gt;find( {} )-&gt;update_many( { '$inc' =&gt; { x =&gt; 2 } } );

           # Replace entire document (update with whole doc replace)
           bulk-&gt;find( { a =&gt; 3 } )-&gt;replace_one( { x =&gt; 3 } );

           # Update one document matching the selector or upsert
           bulk-&gt;find( { a =&gt; 1 } )-&gt;upsert()-&gt;update_one( { '$inc' =&gt; { x =&gt; 1 } } );

           # Update all documents matching the selector or upsert
           bulk-&gt;find( { a =&gt; 2 } )-&gt;upsert()-&gt;update_many( { '$inc' =&gt; { x =&gt; 2 } } );

           # Replaces a single document matching the selector or upsert
           bulk-&gt;find( { a =&gt; 3 } )-&gt;upsert()-&gt;replace_one( { x =&gt; 3 } );

           # Remove a single document matching the selector
           bulk-&gt;find( { a =&gt; 4 } )-&gt;delete_one();

           # Remove all documents matching the selector
           bulk-&gt;find( { a =&gt; 5 } )-&gt;delete_many();

           # Update any arrays with the matching filter
           bulk-&gt;find( {} )-&gt;arrayFilters([ { 'i.b' =&gt; 1 } ])-&gt;update_many( { '$set' =&gt; { 'y.$[i].b' =&gt; 2 } } );

           # Remove all documents matching the selector, with respect to a collation
           bulk-&gt;find( { a =&gt; { '$gte' =&gt; 'F' } )-&gt;collation($collation)-&gt;delete_many();

           # Remove all documents
           bulk-&gt;find( {} )-&gt;delete_many();

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class provides means to specify write operations constrained by a query document.

       To instantiate a "MongoDB::BulkWriteView", use the find method from MongoDB::BulkWrite.

       Except for "arrayFilters", "collation" and "upsert", all methods have an empty return on success; an
       exception will be thrown on error.

</pre><h4><b>METHODS</b></h4><pre>
   <b>arrayFilters</b>
           $bulk-&gt;arrayFilters( $array_filters )-&gt;update_many( $modification );

       Returns a new "MongoDB::BulkWriteView" object, where the specified arrayFilter will be used to determine
       which array elements to modify for an update operation on an array field.

   <b>collation</b>
           $bulk-&gt;collation( $collation )-&gt;delete_one;

       Returns a new "MongoDB::BulkWriteView" object, where the specified collation will be used to determine
       which documents match the query document.  A collation can be specified for any deletion, replacement, or
       update.

   <b>delete_many</b>
           $bulk-&gt;delete_many;

       Removes all documents matching the query document.

   <b>delete_one</b>
           $bulk-&gt;delete_one;

       Removes a single document matching the query document.

   <b>replace_one</b>
           $bulk-&gt;replace_one( $doc );

       Replaces the document matching the query document.  The document to replace must not have any keys that
       begin with a dollar sign, "$".

   <b>update_many</b>
           $bulk-&gt;update_many( $modification );

       Updates all documents  matching the query document.  The modification document must have all its keys
       begin with a dollar sign, "$".

   <b>update_one</b>
           $bulk-&gt;update_one( $modification );

       Updates a single document matching the query document.  The modification document must have all its keys
       begin with a dollar sign, "$".

   <b>upsert</b>
           $bulk-&gt;upsert-&gt;replace_one( $doc );

       Returns a new "MongoDB::BulkWriteView" object that will treat every update, update_one or replace_one
       operation as an upsert operation.

</pre><h4><b>AUTHORS</b></h4><pre>
       •   David Golden &lt;<a href="mailto:david@mongodb.com">david@mongodb.com</a>&gt;

       •   Rassi &lt;<a href="mailto:rassi@mongodb.com">rassi@mongodb.com</a>&gt;

       •   Mike Friedman &lt;<a href="mailto:friedo@friedo.com">friedo@friedo.com</a>&gt;

       •   Kristina Chodorow &lt;<a href="mailto:k.chodorow@gmail.com">k.chodorow@gmail.com</a>&gt;

       •   Florian Ragwitz &lt;<a href="mailto:rafl@debian.org">rafl@debian.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2020 by MongoDB, Inc.

       This is free software, licensed under:

         The Apache License, Version 2.0, January 2004

perl v5.40.1                                       2025-04-03                        <u>MongoDB::<a href="../man3pm/BulkWriteView.3pm.html">BulkWriteView</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>