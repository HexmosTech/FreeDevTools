<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mango::BSON - BSON</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmango-perl">libmango-perl_1.30-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mango::BSON - BSON

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Mango::BSON ':bson';

         my $bson = bson_encode {
           foo       =&gt; 'bar',
           baz       =&gt; 0.42,
           unordered =&gt; {one =&gt; [1, 2, 3], two =&gt; bson_time},
           ordered   =&gt; bson_doc(one =&gt; qr/test/i, two =&gt; bson_true)
         };
         my $doc = bson_decode $bson;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Mango::BSON is a minimalistic implementation of &lt;<a href="http://bsonspec.org">http://bsonspec.org</a>&gt;.

       In addition to a bunch of custom BSON data types it supports normal Perl data types like scalar, regular
       expression, "undef", array reference, hash reference and will try to call the "TO_BSON" and "TO_JSON"
       methods on blessed references, or stringify them if it doesn't exist. Scalar references will be used to
       generate booleans, based on if their values are true or false.

</pre><h4><b>FUNCTIONS</b></h4><pre>
       Mango::BSON implements the following functions, which can be imported individually or at once with the
       ":bson" flag.

   <b>bson_bin</b>
         my $bin = bson_bin $bytes;

       Create new BSON element of the binary type with Mango::BSON::Binary, defaults to the "generic" binary
       subtype.

         # Function
         bson_bin($bytes)-&gt;type('function');

         # MD5
         bson_bin($bytes)-&gt;type('md5');

         # UUID
         bson_bin($bytes)-&gt;type('uuid');

         # User defined
         bson_bin($bytes)-&gt;type('user_defined');

   <b>bson_code</b>
         my $code = bson_code 'function () {}';

       Create new BSON element of the code type with Mango::BSON::Code.

         # With scope
         bson_code('function () {}')-&gt;scope({foo =&gt; 'bar'});

   <b>bson_dbref</b>
         my $dbref = bson_dbref 'test', $oid;

       Create a new database reference.

         # Longer version
         my $dbref = {'$ref' =&gt; 'test', '$id' =&gt; $oid};

   <b>bson_decode</b>
         my $doc = bson_decode $bson;

       Decode BSON into Perl data structures.

   <b>bson_doc</b>
         my $doc = bson_doc;
         my $doc = bson_doc foo =&gt; 'bar', baz =&gt; 0.42, yada =&gt; {yada =&gt; [1, 2, 3]};

       Create new BSON document with Mango::BSON::Document, which can also be used as a generic ordered hash.

         # Order is preserved
         my $hash = bson_doc one =&gt; 1, two =&gt; 2, three =&gt; 3;
         $hash-&gt;{four} = 4;
         delete $hash-&gt;{two};
         say for keys %$hash;

   <b>bson_double</b>
         my $doc = { foo =&gt; bson_double(13.0) };

       Force a scalar value to be encoded as a double in MongoDB. Croaks if the value is incompatible with the
       double type.

   <b>bson_encode</b>
         my $bson = bson_encode $doc;
         my $bson = bson_encode {};

       Encode Perl data structures into BSON.

   <b>bson_false</b>
         my $false = bson_false;

       Create new BSON element of the boolean type false.

   <b>bson_int32</b>
         my $doc = { foo =&gt; <a href="../man13/bson_int32.13.html">bson_int32</a>(13) };

         # This will die (integer is too big)
         my $doc = { foo =&gt; <a href="../man2147483648/bson_int32.2147483648.html">bson_int32</a>(2147483648) };

       Force a scalar value to be encoded as a 32 bit integer in MongoDB. Croaks if the value is incompatible
       with the int32 type.

   <b>bson_int64</b>
         my $doc = { foo =&gt; <a href="../man666/bson_int64.666.html">bson_int64</a>(666) };

       Force a scalar value to be encoded as a 64 bit integer in MongoDB. Croaks if the value is incompatible
       with the int64 type.

   <b>bson_length</b>
         my $len = bson_length $bson;

       Check BSON length prefix.

   <b>bson_max</b>
         my $max_key = bson_max;

       Create new BSON element of the max key type.

   <b>bson_min</b>
         my $min_key = bson_min;

       Create new BSON element of the min key type.

   <b>bson_oid</b>
         my $oid = bson_oid;
         my $oid = bson_oid '1a2b3c4e5f60718293a4b5c6';

       Create new BSON element of the object id type with Mango::BSON::ObjectID, defaults to generating a new
       unique object id.

         # Generate object id with specific epoch time
         my $oid = bson_oid-&gt;<a href="../man1359840145/from_epoch.1359840145.html">from_epoch</a>(1359840145);

   <b>bson_raw</b>
         my $raw = bson_raw $bson;

       Pre-encoded BSON document.

         # Longer version
         my $raw = {'$bson' =&gt; $bson};

         # Embed pre-encoded BSON document
         my $first  = bson_encode {foo =&gt; 'bar'};
         my $second = bson_encode {test =&gt; bson_raw $first};

   <b>bson_time</b>
         my $now  = bson_time;
         my $time = bson_time time * 1000;

       Create new BSON element of the UTC datetime type with Mango::BSON::Time, defaults to milliseconds since
       the UNIX epoch.

         # "1360626536.748"
         <a href="../man1360626536748/bson_time.1360626536748.html">bson_time</a>(1360626536748)-&gt;to_epoch;

         # "2013-02-11T23:48:56.748Z"
         <a href="../man1360626536748/bson_time.1360626536748.html">bson_time</a>(1360626536748)-&gt;to_datetime;

   <b>bson_true</b>
         my $true = bson_true;

       Create new BSON element of the boolean type true.

   <b>bson_ts</b>
         my $timestamp = bson_ts 23, 24;

       Create new BSON element of the timestamp type with Mango::BSON::Timestamp.

   <b>encode_cstring</b>
         my $bytes = encode_cstring $cstring;

       Encode cstring.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mango, Mojolicious::Guides, &lt;<a href="http://mojolicio.us">http://mojolicio.us</a>&gt;.

perl v5.30.3                                       2020-06-05                                   <u>Mango::<a href="../man3pm/BSON.3pm.html">BSON</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>