<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statistics::Basic::LeastSquareFit - find the least square fit for two lists</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libstatistics-basic-perl">libstatistics-basic-perl_1.6611-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Statistics::Basic::LeastSquareFit - find the least square fit for two lists

</pre><h4><b>SYNOPSIS</b></h4><pre>
       A machine to calculate the Least Square Fit of given vectors x and y.

       The module returns the alpha and beta filling this formula:

           $y = $beta * $x + $alpha

       for a given set of <u>x</u> and <u>y</u> co-ordinate pairs.

       Say you have the set of Cartesian coordinates:

           my @points = ( [1,1], [2,2], [3,3], [4,4] );

       The simplest way to find the LSF is as follows:

           my $lsf = lsf()-&gt;set_size(int @points);
              $lsf-&gt;insert(@$_) for @points;

       Or this way:

           my $xv  = vector( map {$_-&gt;[0]} @points );
           my $yv  = vector( map {$_-&gt;[1]} @points );
           my $lsf = lsf($xv, $yv);

       And then either query the values or print them like so:

           print "The LSF for $xv and $yv: $lsf\n";
           my ($yint, $slope) =
           my ($alpha, $beta) = $lsf-&gt;query;

       LSF is meant for finding a line of best fit.  $beta is the slope of the line and $alpha is the y-offset.
       Suppose you want to draw the line.  Use these to calculate the "x" for a given "y" or vice versa:

           my $y = $lsf-&gt;y_given_x( 7 );
           my $x = $lsf-&gt;x_given_y( 7 );

       (Note that "x_given_y()" can sometimes produce a divide-by-zero error since it has to divide by the
       $beta.)

       Create a 20 point "moving" LSF like so:

           use Statistics::Basic qw(:all nofill);

           my $sth = $dbh-&gt;prepare("select x,y from points where something");
           my $len = 20;
           my $lsf = lsf()-&gt;set_size($len);

           $sth-&gt;execute or die $dbh-&gt;errstr;
           $sth-&gt;bind_columns( my ($x, $y) ) or die $dbh-&gt;errstr;

           my $count = $len;
           while( $sth-&gt;fetch ) {
               $lsf-&gt;insert( $x, $y );
               if( defined( my ($yint, $slope) = $lsf-&gt;query ) {
                   print "LSF: y= $slope*x + $yint\n";
               }

               # This would also work:
               # print "$lsf\n" if $lsf-&gt;query_filled;
           }

</pre><h4><b>METHODS</b></h4><pre>
       This list of methods skips the methods inherited from Statistics::Basic::_TwoVectorBase (things like
       <b>insert()</b>, and <b>ginsert()</b>).

       <b>new()</b>
           Create  a  new  Statistics::Basic::LeastSquareFit object.  This function takes two arguments -- which
           can either be arrayrefs or Statistics::Basic::Vector objects.   This  function  is  called  when  the
           <b>leastsquarefirt()</b> shortcut-function is called.

       <b>query()</b>
           LSF  is  meant  for  finding  a  line  of best fit.  $beta is the slope of the line and $alpha is the
           y-offset.

               my ($alpha, $beta) = $lsf-&gt;query;

       <b>y_given_x()</b>
           Automatically calculate the y-value on the line for a given x-value.

               my $y = $lsf-&gt;y_given_x( 7 );

       <b>x_given_y()</b>
           Automatically calculate the x-value on the line for a given y-value.

               my $x = $lsf-&gt;x_given_y( 7 );

           "x_given_y()" can sometimes produce a divide-by-zero error since it has to divide by the $beta.  This
           might be helpful:

               if( defined( my $x = eval { $lsf-&gt;<a href="../man7/x_given_y.7.html">x_given_y</a>(7) } ) ) {
                   warn "there is no x value for 7";

               } else {
                   print "x (given y=7): $x\n";
               }

       <b>query_vector1()</b>
           Return the Statistics::Basic::Vector for the first vector used in the computation of alpha and beta.

       <b>query_vector2()</b>
           Return the Statistics::Basic::Vector object for the second vector used in the  computation  of  alpha
           and beta.

       <b>query_mean1()</b>
           Returns  the Statistics::Basic::Mean object for the first vector used in the computation of alpha and
           beta.

       <b>query_variance1()</b>
           Returns the Statistics::Basic::Variance object for the first vector used in the computation of  alpha
           and beta.

       <b>query_covariance()</b>
           Returns the Statistics::Basic::Covariance object used in the computation of alpha and beta.

</pre><h4><b>OVERLOADS</b></h4><pre>
       This  object  is overloaded.  It tries to return an appropriate string for the calculation, but raises an
       error in numeric context.

       In boolean context, this object is always true (even when empty).

</pre><h4><b>AUTHOR</b></h4><pre>
       Paul Miller "&lt;<a href="mailto:jettero@cpan.org">jettero@cpan.org</a>&gt;"

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2012 Paul Miller -- Licensed under the LGPL

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/perl.1.html">perl</a></b>(1), Statistics::Basic, Statistics::Basic::_TwoVectorBase, Statistics::Basic::Vector

perl v5.36.0                                       2022-11-19             <u>Statistics::Basic::<a href="../man3pm/LeastSquareFit.3pm.html">LeastSquareFit</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>