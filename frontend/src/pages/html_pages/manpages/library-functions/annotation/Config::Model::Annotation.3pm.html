<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Config::Model::Annotation - Read and write configuration annotations</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libconfig-model-perl">libconfig-model-perl_2.155-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Config::Model::Annotation - Read and write configuration annotations

</pre><h4><b>VERSION</b></h4><pre>
       version 2.155

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use Config::Model ;

        # define configuration tree object
        my $model = Config::Model-&gt;new ;
        $model -&gt;create_config_class (
           name =&gt; "MyClass",
           element =&gt; [
               [qw/foo bar/] =&gt; {
                   type =&gt; 'leaf',
                   value_type =&gt; 'string'
               },
               baz =&gt; {
                   type =&gt; 'hash',
                   index_type =&gt; 'string' ,
                   cargo =&gt; {
                       type =&gt; 'leaf',
                       value_type =&gt; 'string',
                   },
               },

           ],
        ) ;

        my $inst = $model-&gt;instance(root_class_name =&gt; 'MyClass' );

        my $root = $inst-&gt;config_root ;

        # put some data in config tree the hard way
        $root-&gt;fetch_element('foo')-&gt;store('yada') ;
        $root-&gt;fetch_element('baz')-&gt;fetch_with_id('en')-&gt;store('hello') ;

        # put annotation the hard way
        $root-&gt;fetch_element('foo')-&gt;annotation('english') ;
        $root-&gt;fetch_element('baz')-&gt;fetch_with_id('en')-&gt;annotation('also english') ;

        # put more data the easy way
        my $steps = 'baz:fr=bonjour#french baz:hr="dobar dan"#croatian';
        $root-&gt;load( steps =&gt; $steps ) ;

        # dump resulting tree with annotations
        print $root-&gt;dump_tree;

        # save annotations
        my $annotate_saver = Config::Model::Annotation
         -&gt; new (
                 config_class_name =&gt; 'MyClass',
                 instance =&gt; $inst ,
                 root_dir =&gt; '<a href="file:/tmp/">/tmp/</a>', # for test
                ) ;
        $annotate_saver-&gt;save ;

        # now check content of /tmp/config-model/MyClass-note.pl

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides an object that read and write annotations (a bit like comments) to and from a
       configuration tree and save them in a file (not configuration file). This module can be used to save
       annotation for configuration files that do not support comments.

       THis module should not be used for configuration files that support comments.

       Depending on the effective id of the process, the annotation is saved in:

       •   "/var/lib/config-model/&lt;model_name&gt;-note.yml" for root (EUID == 0)

       •   "<a href="file:~/.config-model/">~/.config-model/</a>&lt;model_name&gt;-note.yml" for normal user (EUID &gt; 0)

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
       Quite standard. The constructor is passed a Config::Model::Instance object.

</pre><h4><b>METHODS</b></h4><pre>
   <b>save</b>
       Save annotations in a file (See DESCRIPTION)

   <b>load</b>
       Loads annotations from a file (See DESCRIPTION)

</pre><h4><b>CAVEATS</b></h4><pre>
       This module is currently not used.

</pre><h4><b>AUTHOR</b></h4><pre>
       Dominique Dumont, (ddumont at cpan dot org)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Config::Model, Config::Model::Node, Config::Model::Loader, Config::Model::Searcher, Config::Model::Value,

</pre><h4><b>AUTHOR</b></h4><pre>
       Dominique Dumont

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2005-2022 by Dominique Dumont.

       This is free software, licensed under:

         The GNU Lesser General Public License, Version 2.1, February 1999

perl v5.40.0                                       2024-11-30                     <u>Config::Model::<a href="../man3pm/Annotation.3pm.html">Annotation</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>