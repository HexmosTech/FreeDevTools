<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sqitch-target - Manage target database configuration</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sqitch">sqitch_1.5.2-1_all</a> <br><br><pre>
</pre><h4><b>Name</b></h4><pre>
       sqitch-target - Manage target database configuration

</pre><h4><b>Synopsis</b></h4><pre>
         sqitch target
         sqitch target [-v | --verbose]
         sqitch target add &lt;name&gt; &lt;uri&gt; [-s &lt;property&gt;=&lt;value&gt; ...]
         sqitch target alter &lt;name&gt; [-s &lt;property&gt;=&lt;value&gt; ...]
         sqitch target remove &lt;name&gt;
         sqitch target rename &lt;old&gt; &lt;new&gt;
         sqitch target show &lt;name&gt; [...]

</pre><h4><b>Description</b></h4><pre>
       Manage the set of databases ("targets") you deploy to. Each target may have a number of properties:

       "uri"
           The database connection URI for the target. Required. Its format is:

             db:engine:[dbname]
             db:engine:[//[user[:password]@][host][:port]/][dbname][?params][#fragment]

           Some examples:

           "db:sqlite:widgets.db"
           "db:pg://<a href="mailto:dba@example.net">dba@example.net</a>/blanket"
           "db:mysql://db.example.com/"
           "db:firebird://localhost//tmp/test.fdb"

           Note    that,    as   with   any   URI   or   URL,   special   characters   must   be   URL   encoded
           &lt;https://en.wikipedia.org/wiki/URL_encoding&gt;. For  example,  when  a  username  contains  a  reserved
           character, such as the "|" in "ro|michelle", it must be percent-encoded as %7c:

             db:pg://ro%<a href="mailto:7Cmichelle@examle.org">7Cmichelle@examle.org</a>/inventory

           The  rules  are  even  more  strict  for query parameters, as often used by for ODBC connections. For
           example, when using a Snowflake identifier  &lt;https://docs.snowflake.com/en/sql-reference/identifiers-
           syntax#double-quoted-identifiers&gt;  with special characters, such as a warehouse name with a ".", such
           as "sqitch.dev", the identifier must be double-quoted --- and double quote are reserved characters in
           URIs, so must be encoded as %22.

             db:snowflake://example/flipr?Driver=Snowflake;warehouse=%22sqitch.dev%22

           See URL encoding &lt;https://en.wikipedia.org/wiki/URL_encoding&gt; for details.   and  the  DB  URI  Draft
           &lt;https://github.com/libwww-perl/uri-db&gt; for in-depth information on database URIs in general.

       "registry"
           The name of the registry schema or database. The default is "sqitch".

       "client"
           The command-line client to use. If not specified, each engine looks in the OS Path for an appropriate
           client.

       "top_dir"
           The  path  to  the  top directory for the target. This directory generally contains the plan file and
           subdirectories for deploy, revert, and verify  scripts,  as  well  as  reworked  instances  of  those
           scripts. The default is <u>.</u>, the current directory.

       "plan_file"
           The plan file to use for this target. The default is "$top_dir/sqitch.plan".

       "deploy_dir"
           The  path  to  the deploy directory for the target. This directory contains all of the deploy scripts
           referenced by changes in the "plan_file". The default is "$top_dir/deploy".

       "revert_dir"
           The path to the revert directory for the target. This directory contains all of  the  revert  scripts
           referenced by changes in the "plan_file". The default is "$top_dir/revert".

       "verify_dir"
           The  path  to  the verify directory for the target. This directory contains all of the verify scripts
           referenced by changes in the "plan_file". The default is "$top_dir/verify".

       "reworked_dir"
           The path to the reworked directory for the target. This directory contains all subdirectories for all
           reworked scripts referenced by changes in the "plan_file". The default is $top_dir.

       "reworked_deploy_dir"
           The path to the reworked deploy directory for the target. This directory contains all of the reworked
           deploy scripts referenced by changes in the "plan_file". The default is "$reworked_dir/deploy".

       "reworked_revert_dir"
           The path to the reworked revert directory for the target. This directory contains all of the reworked
           revert scripts referenced by changes in the "plan_file". The default is "$reworked_dir/revert".

       "reworked_verify_dir"
           The path to the reworked verify directory for the target. This directory contains all of the reworked
           verify scripts referenced by changes in the "plan_file". The default is "$reworked_dir/verify".

       "extension"
           The file name extension to append to change names to create script file names.  The default is "sql".

       Each of these overrides the corresponding engine-specific configuration managed by engine.

</pre><h4><b>Options</b></h4><pre>
       List Option
           "-v"
           "--verbose"
                 sqitch target --verbose

               Be more verbose when listing targets.

       Add and Alter Options
           "--uri"
                 sqitch target add devwidgets --uri db:pg:widgets

               Specifies the URI &lt;https://github.com/libwww-perl/uri-db/&gt; of the target database.

           "--top-dir"
                 sqitch target add devwidgets --top-dir sql

               Specifies the top directory to use for the target. Typically contains the  deployment  plan  file
               and the change script directories.

           "--plan-file"
           "-f"
                 sqitch target add devwidgets --plan-file my.plan

               Specifies the path to the deployment plan file. Defaults to "$top_dir/sqitch.plan".

           "--extension"
                 sqitch target add devwidgets --extension ddl

               Specifies the file name extension to use for change script file names.  Defaults to "sql".

           "--dir"
                 sqitch target add devwidgets --dir deploy=dep --dir revert=rev --dir verify=tst

               Sets the path to a script directory. May be specified multiple times.  Supported keys are:

               •   "deploy"

               •   "revert"

               •   "verify"

               •   "reworked"

               •   "reworked_deploy"

               •   "reworked_revert"

               •   "reworked_verify"

           "--registry"
                 sqitch target add devwidgets --registry meta

               Specifies  the  name  of  the  database  object  where Sqitch's state and history data is stored.
               Typically a schema name (as in PostgreSQL and Oracle) or  a  database  name  (as  in  SQLite  and
               MySQL). Defaults to "sqitch".

           "--client"
                 sqitch target add devwidgets --client /usr/local/pgsql/bin/psql

               Specifies the path to the command-line client for the target. Defaults to a client in the current
               path named appropriately for the engine specified by the URI.

           "-s"
           "--set"
               Set  a  variable  name and value for use by the database engine client, if it supports variables.
               The format must be "name=value", e.g., "--set defuser='Homer Simpson'".

</pre><h4><b>Actions</b></h4><pre>
       With no arguments, shows a list of existing targets. Several actions are available to perform  operations
       on the targets.

   <b>"add"</b>
       Add  a  target  named  "&lt;name&gt;" for the database at "&lt;uri&gt;". The "--set" option specifies target-specific
       properties. A new plan file and new script script directories will  be  created  if  they  don't  already
       exist.

   <b>"alter"</b>
       Alter  target  named "&lt;name&gt;". The "--set" option specifies engine-specific properties to set. New script
       script directories will be created if they don't already exist.

   <b>"remove",</b> <b>"rm"</b>
       Remove the target named "&lt;name&gt;". The plan file and script directories will not be affected.

   <b>"rename"</b>
       Rename the target named "&lt;old&gt;" to "&lt;new&gt;".

   <b>"show"</b>
       Gives some information about the target "&lt;name&gt;", including the associated properties.  Specify  multiple
       target names to see information for each.

</pre><h4><b>Configuration</b> <b>Variables</b></h4><pre>
       The  targets  are  stored  in  the  configuration  file,  but  the  command itself currently relies on no
       configuration variables.

</pre><h4><b>Sqitch</b></h4><pre>
       Part of the sqitch suite.

perl v5.40.1                                       2025-05-10                                 <u><a href="../man3pm/sqitch-target.3pm.html">sqitch-target</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>