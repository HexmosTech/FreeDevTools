<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>archive_read_open,        archive_read_open2,        archive_read_open_fd,        archive_read_open_FILE,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libarchive-dev">libarchive-dev_3.7.7-0ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       archive_read_open,        archive_read_open2,        archive_read_open_fd,        archive_read_open_FILE,
       archive_read_open_filename, archive_read_open_memory â€” functions for reading streaming archives

</pre><h4><b>LIBRARY</b></h4><pre>
       Streaming Archive Library (libarchive, -larchive)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;archive.h&gt;</b>

       <u>int</u>
       <b>archive_read_open</b>(<u>struct</u> <u>archive</u> <u>*</u>, <u>void</u> <u>*client_data</u>, <u>archive_open_callback</u> <u>*</u>,  <u>archive_read_callback</u> <u>*</u>,
           <u>archive_close_callback</u> <u>*</u>);

       <u>int</u>
       <b>archive_read_open2</b>(<u>struct</u> <u>archive</u> <u>*</u>, <u>void</u> <u>*client_data</u>, <u>archive_open_callback</u> <u>*</u>, <u>archive_read_callback</u> <u>*</u>,
           <u>archive_skip_callback</u> <u>*</u>, <u>archive_close_callback</u> <u>*</u>);

       <u>int</u>
       <b>archive_read_open_FILE</b>(<u>struct</u> <u>archive</u> <u>*</u>, <u>FILE</u> <u>*file</u>);

       <u>int</u>
       <b>archive_read_open_fd</b>(<u>struct</u> <u>archive</u> <u>*</u>, <u>int</u> <u>fd</u>, <u>size_t</u> <u>block_size</u>);

       <u>int</u>
       <b>archive_read_open_filename</b>(<u>struct</u> <u>archive</u> <u>*</u>, <u>const</u> <u>char</u> <u>*filename</u>, <u>size_t</u> <u>block_size</u>);

       <u>int</u>
       <b>archive_read_open_memory</b>(<u>struct</u> <u>archive</u> <u>*</u>, <u>const</u> <u>void</u> <u>*buff</u>, <u>size_t</u> <u>size</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>archive_read_open</b>()
               The same as <b>archive_read_open2</b>(), except that the skip callback is assumed to be NULL.
       <b>archive_read_open2</b>()
               Freeze the settings, open the archive, and prepare for reading entries.  This is the most generic
               version  of  this  call,  which  accepts  four callback functions.  Most clients will want to use
               <b>archive_read_open_filename</b>(),      <b>archive_read_open_FILE</b>(),      <b>archive_read_open_fd</b>(),      or
               <b>archive_read_open_memory</b>()  instead.  The library invokes the client-provided functions to obtain
               raw bytes from the archive.
       <b>archive_read_open_FILE</b>()
               Like <b>archive_read_open</b>(), except that it accepts a <u>FILE</u> <u>*</u> pointer.  This function should  not  be
               used with tape drives or other devices that require strict I/O blocking.
       <b>archive_read_open_fd</b>()
               Like  <b>archive_read_open</b>(),  except that it accepts a file descriptor and block size rather than a
               set of function pointers.  Note that the file descriptor will not be automatically closed at end-
               of-archive.  This function is safe for use with tape drives or other blocked devices.
       <b>archive_read_open_file</b>()
               This is a deprecated synonym for <b>archive_read_open_filename</b>().
       <b>archive_read_open_filename</b>()
               Like <b>archive_read_open</b>(), except that it accepts a simple filename and  a  block  size.   A  NULL
               filename  represents  standard  input.   This  function is safe for use with tape drives or other
               blocked devices.
       <b>archive_read_open_memory</b>()
               Like <b>archive_read_open</b>(), except that it accepts  a  pointer  and  size  of  a  block  of  memory
               containing the archive data.

       A  complete  description  of  the  struct  archive  and  struct archive_entry objects can be found in the
       overview manual page for <u><a href="../man3/libarchive.3.html">libarchive</a></u>(3).

</pre><h4><b>CLIENT</b> <b>CALLBACKS</b></h4><pre>
       The callback functions must match the following prototypes:

             <u>typedef</u> <u>la_ssize_t</u> <b>archive_read_callback</b>(<u>struct</u> <u>archive</u> <u>*</u>, <u>void</u> <u>*client_data</u>, <u>const</u> <u>void</u> <u>**buffer</u>)

             <u>typedef</u> <u>la_int64_t</u> <b>archive_skip_callback</b>(<u>struct</u> <u>archive</u> <u>*</u>, <u>void</u> <u>*client_data</u>, <u>off_t</u> <u>request</u>)

             <u>typedef</u> <u>int</u> <b>archive_open_callback</b>(<u>struct</u> <u>archive</u> <u>*</u>, <u>void</u> <u>*client_data</u>)

             <u>typedef</u> <u>int</u> <b>archive_close_callback</b>(<u>struct</u> <u>archive</u> <u>*</u>, <u>void</u> <u>*client_data</u>)

       The open callback is invoked by <b>archive_open</b>().  It should return <b>ARCHIVE_OK</b> if the  underlying  file  or
       data source is successfully opened.  If the open fails, it should call <b>archive_set_error</b>() to register an
       error code and message and return <b>ARCHIVE_FATAL</b>.

       The read callback is invoked whenever the library requires raw bytes from the archive.  The read callback
       should  read data into a buffer, set the <b>const</b> <b>void</b> <b>**buffer</b> argument to point to the available data, and
       return a count of the number of bytes available.  The library will invoke the read  callback  again  only
       after  it  has  consumed  this  data.   The library imposes no constraints on the size of the data blocks
       returned.  On end-of-file, the read callback should return zero.  On  error,  the  read  callback  should
       invoke <b>archive_set_error</b>() to register an error code and message and return -1.

       The  skip  callback is invoked when the library wants to ignore a block of data.  The return value is the
       number of bytes actually skipped, which may differ from the request.  If the callback cannot  skip  data,
       it should return zero.  If the skip callback is not provided (the function pointer is NULL ), the library
       will  invoke  the  read  function  instead  and  simply  discard the result.  A skip callback can provide
       significant performance gains when reading uncompressed archives from slow disk  drives  or  other  media
       that can skip quickly.

       The  close  callback  is  invoked by archive_close when the archive processing is complete.  The callback
       should return <b>ARCHIVE_OK</b> on success.  On failure,  the  callback  should  invoke  <b>archive_set_error</b>()  to
       register an error code and message and return <b>ARCHIVE_FATAL</b>.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       These functions return <b>ARCHIVE_OK</b> on success, or <b>ARCHIVE_FATAL</b>.

</pre><h4><b>ERRORS</b></h4><pre>
       Detailed   error   codes   and   textual   descriptions   are  available  from  the  <b>archive_errno</b>()  and
       <b>archive_error_string</b>() functions.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/tar.1.html">tar</a></u>(1),   <u><a href="../man3/archive_read.3.html">archive_read</a></u>(3),    <u><a href="../man3/archive_read_data.3.html">archive_read_data</a></u>(3),    <u><a href="../man3/archive_read_filter.3.html">archive_read_filter</a></u>(3),    <u><a href="../man3/archive_read_format.3.html">archive_read_format</a></u>(3),
       <u><a href="../man3/archive_read_set_options.3.html">archive_read_set_options</a></u>(3), <u><a href="../man3/archive_util.3.html">archive_util</a></u>(3), <u><a href="../man3/libarchive.3.html">libarchive</a></u>(3), <u><a href="../man5/tar.5.html">tar</a></u>(5)

Debian                                          February 2, 2012                            <u><a href="../man3/ARCHIVE_READ_OPEN.3.html">ARCHIVE_READ_OPEN</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>