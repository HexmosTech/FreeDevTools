<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Media::Convert::Asset::ProfileFactory - Create an output profile from an input video.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmedia-convert-perl">libmedia-convert-perl_1.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Media::Convert::Asset::ProfileFactory - Create an output profile from an input video.

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Media::Convert::Asset;
           use Media::Convert::Pipe;
           use Media::Convert::Asset::ProfileFactory;

           package Media::Convert::Asset::Profile::myprofile;
           use Moose;
           extends Media::Convert::Asset::Profile::webm;

           has '+audio_samplerate' =&gt; (
               builder =&gt; '_probe_my_audiorate',
           );

           has '+audio_codec' =&gt; (
               default =&gt; 'vorbis',
           );

           sub _probe_exten {
               return 'my.webm',
           }

           sub _probe_my_audiorate {
               my $self = shift;
               return $self-&gt;reference-&gt;audio_samplerate / 2;
           }

           no Moose;

           package main;

           my $input = Media::Convert::Asset-&gt;new(url =&gt; "foo.mp4");
           my $profile = Media::Convert::Asset::ProfileFactory-&gt;create("myprofile", $input);
           my $output = Media::Convert::Asset-&gt;new(url =&gt; "foo." . $profile-&gt;exten, reference =&gt; $profile);
           Media::Convert::Pipe-&gt;new(inputs =&gt; [$input], output =&gt; $output)-&gt;run();

           # Or using an ad-hoc profile:
           $profile = Media::Convert::Asset::ProfileFactory-&gt;create("extraprofile", $input,
               {
                       extraprofile =&gt; {
                               parent =&gt; "webm",
                               settings =&gt; { audio_codec =&gt; "vorbis", quality =&gt; 10 },
                       }
               });
           # After this, using the profile happens exactly the same way.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       "Media::Convert::Asset::Profile::Base" is a subclass of Media::Convert::Asset, but with a number of the
       probing methods overridden so that they return values that are not in line with the reference of the
       given video.

       The "Media::Convert::Asset::ProfileFactory"'s "create" method is a simple helper to:

       •   ensure that the relevant "Media::Convert::Asset::Profile::<u>profile</u>" module has been loaded (the module
           for the "parent" attribute of the ad-hoc profile, if one is chosen)

       •   create  a  Media::Convert::Asset  subclass  of the right type, with reference set to the passed input
           "Media::Convert::Asset" object.

       •   if an ad-hoc profile was selected, ensure that the relevant attributes of the  resulting  object  are
           set to the values in the "settings" key of the ad-hoc profile's settings

</pre><h4><b>CREATING</b> <b>NEW</b> <b>PROFILES</b></h4><pre>
       It is possible to create a new profile by extending an existing one. The "myprofile" profile in the above
       example  demonstrates how to do so. Any property that is known by Media::Convert::Asset can be overridden
       in the manner given.

       Alternatively, one can create new profiles in the ad-hoc manner. This is easier, since it  only  requires
       an  extra parameter be passed to the "create" function; however, profiles created in this manner can only
       hardcode values, and cannot vary any parameters based on the input file.  To create a profile that can do
       so, when the new profile just changes a minor detail of an existing  profile,  extend  that  profile  and
       change  the  detail  which  you  want  to change. To create a new profile from scratch, extend the "Base"
       profile (see below).

</pre><h4><b>PRE-EXISTING</b> <b>PROFILES</b></h4><pre>
       The following profiles are defined by "Media::Convert::Asset::ProfileFactory":

   <b>Base</b>
       This profile serves as a base class for the other profiles. It should not be used directly.

       It adds the extension, and defaults the pixel format to yuv420p.

   <b>vp9</b>
       Produces a video in WebM/VP9  format,  using  the  quality/bitrate  settings  recommended  by  Google  on
       &lt;https://developers.google.com/media/vp9/&gt;,  and  with  OPUS  audio.  Produces  files with the "vp9.webm"
       extension.

       Audio settings are hardcoded to 48KHz sampling rate, 128k bits per second.

   <b>vp8</b>
       Produces a video in WebM/VP8 format. Since no similar recommendations for VP8 exist as  do  for  VP9,  no
       explicit  quality or bitrate settings are configured in this profile. The libvpx video codec is selected,
       and the libvorbis one for audio.

       The audio bitrate is explicitly left to ffmpeg defaults; the extension is set to "vp8.webm"

   <b>webm</b>
       This profile subclasses from the "vp9" profile, and only changes the extension to plain "webm" instead of
       "vp9.webm".

       Note that future versions of this class may switch to subclassing from the AV1 profile  rather  than  the
       VP9  profile,  although  this  will  not  happen  before AV1 encoding can be done at reasonable speeds by
       Media::Convert.

   <b>vp8_lq</b>
       This profile subclasses from the "vp8" profile. The extension is set to "lq.webm".  In  addition  to  the
       changes  made  by  the "vp8" profile, this profile also rescales the video to a fraction of the original;
       that is, the height and width of the video are both divided by 4.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Media::Convert::Asset,           Media::Convert::Profile::mp4,            Media::Convert::Profile::mpeg2,
       Media::Convert::Profile::copy

perl v5.40.0                                       2024-12-22              <u>Media::Convert...:<a href="../man3pm/ProfileFactory.3pm.html">ProfileFactory</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>