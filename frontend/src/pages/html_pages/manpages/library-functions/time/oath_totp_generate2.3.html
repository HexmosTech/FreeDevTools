<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>oath_totp_generate2 - API function</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liboath-dev">liboath-dev_2.6.12-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       oath_totp_generate2 - API function

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;oath.h&gt;</b>

       <b>int</b>  <b>oath_totp_generate2(const</b>  <b>char</b> <b>*</b> <u>secret</u><b>,</b> <b>size_t</b> <u>secret_length</u><b>,</b> <b>time_t</b> <u>now</u><b>,</b> <b>unsigned</b> <u>time_step_size</u><b>,</b>
       <b>time_t</b> <u>start_offset</u><b>,</b> <b>unsigned</b> <u>digits</u><b>,</b> <b>int</b> <u>flags</u><b>,</b> <b>char</b> <b>*</b> <u>output_otp</u><b>);</b>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       const char * secret
                   the shared secret string

       size_t secret_length
                   length of <u>secret</u>

       time_t now  Unix time value to compute TOTP for

       unsigned time_step_size
                   time step system parameter (typically 30)

       time_t start_offset
                   Unix time of when to start counting time steps (typically 0)

       unsigned digits
                   number of requested digits in the OTP, excluding checksum

       int flags   flags indicating mode, one of <b>oath_totp_flags</b>

       char * output_otp
                   output buffer, must have room for the output OTP plus zero

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Generate a one-time-password using the time-variant TOTP algorithm described  in  RFC  6238.   The  input
       parameters are taken as time values.

       The  system parameter <u>time_step_size</u> describes how long the time window for each OTP is.  The recommended
       value is 30 seconds, and you can use the  value  0  or  the  symbol  <b>OATH_TOTP_DEFAULT_TIME_STEP_SIZE</b>  to
       indicate this.

       The  system  parameter  <u>start_offset</u> denote the Unix time when time steps are started to be counted.  The
       recommended  value  is  0,  to  fall  back  on  the  Unix   epoch)   and   you   can   use   the   symbol
       <b>OATH_TOTP_DEFAULT_START_TIME</b> to indicate this.

       The <u>output_otp</u> buffer must have room for at least <u>digits</u> characters, plus one for the terminating NUL.

       Currently  only  values  6,  7  and 8 for <u>digits</u> are supported.  This restriction may be lifted in future
       versions.

       The <u>flags</u> parameter may be used  to  change  the  MAC  function,  for  example  <b>OATH_TOTP_HMAC_SHA256</b>  or
       <b>OATH_TOTP_HMAC_SHA512</b>.

</pre><h4><b>RETURNS</b></h4><pre>
       On success, <b>OATH_OK</b> (zero) is returned, otherwise an error code is returned.

</pre><h4><b>SINCE</b></h4><pre>
       2.6.0

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report  bugs  to &lt;<a href="mailto:oath-toolkit-help@nongnu.org">oath-toolkit-help@nongnu.org</a>&gt;.  liboath home page: https://www.nongnu.org/oath-toolkit/
       General help using GNU software: <a href="http://www.gnu.org/gethelp/">http://www.gnu.org/gethelp/</a>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2009-2020 Simon Josefsson.
       Copying and distribution of this file, with or without modification, are permitted in any medium  without
       royalty provided the copyright notice and this notice are preserved.

liboath                                              2.6.12                               <u><a href="../man3/oath_totp_generate2.3.html">oath_totp_generate2</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>