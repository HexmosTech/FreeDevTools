<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       times — get process and waited-for child process times

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;sys/times.h&gt;

       clock_t times(struct tms *<u>buffer</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>times</u>() function shall fill the <b>tms</b> structure pointed to by <u>buffer</u> with time-accounting information.
       The <b>tms</b> structure is defined in <u>&lt;sys/times.h&gt;</u>.

       All times are measured in terms of the number of clock ticks used.

       The times of a terminated child process shall be included in the <u>tms_cutime</u> and  <u>tms_cstime</u>  elements  of
       the  parent  when  <u>wait</u>(),  <u>waitid</u>(),  or <u>waitpid</u>() returns the process ID of this terminated child. If a
       child process has not waited for its children, their times shall not be included in its times.

        *  The <u>tms_utime</u> structure member is the CPU time charged for the execution of user instructions of  the
           calling process.

        *  The  <u>tms_stime</u>  structure member is the CPU time charged for execution by the system on behalf of the
           calling process.

        *  The <u>tms_cutime</u> structure member is the sum of  the  <u>tms_utime</u>  and  <u>tms_cutime</u>  times  of  the  child
           processes.

        *  The  <u>tms_cstime</u>  structure  member  is  the  sum  of  the <u>tms_stime</u> and <u>tms_cstime</u> times of the child
           processes.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon successful completion, <u>times</u>() shall return  the  elapsed  real  time,  in  clock  ticks,  since  an
       arbitrary  point  in  the  past  (for example, system start-up time). This point does not change from one
       invocation of <u>times</u>() within the process to another. The return value may overflow the possible range  of
       type <b>clock_t</b>.  If <u>times</u>() fails, (<b>clock_t</b>)-1 shall be returned and <u>errno</u> set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <u>times</u>() function shall fail if:

       <b>EOVERFLOW</b>
              The return value would overflow the range of <b>clock_t</b>.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Timing</b> <b>a</b> <b>Database</b> <b>Lookup</b>
       The  following  example  defines  two  functions,  <u>start_clock</u>() and <u>end_clock</u>(), that are used to time a
       lookup. It also defines variables of type <b>clock_t</b> and <b>tms</b> to measure the duration  of  transactions.  The
       <u>start_clock</u>()  function saves the beginning times given by the <u>times</u>() function. The <u>end_clock</u>() function
       gets the ending times and prints the difference between the two times.

           #include &lt;sys/times.h&gt;
           #include &lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;
           ...
           void start_clock(void);
           void end_clock(char *msg);
           ...
           static clock_t st_time;
           static clock_t en_time;
           static struct tms st_cpu;
           static struct tms en_cpu;
           ...
           void
           start_clock()
           {
               st_time = times(&amp;st_cpu);
           }

           /* This example assumes that the result of each subtraction
              is within the range of values that can be represented in
              an integer type. */
           void
           end_clock(char *msg)
           {
               en_time = times(&amp;en_cpu);

               fputs(msg,stdout);
               printf("Real Time: %jd, User Time %jd, System Time %jd\n",
                   (intmax_t)(en_time - st_time),
                   (intmax_t)(en_cpu.tms_utime - st_cpu.tms_utime),
                   (intmax_t)(en_cpu.tms_stime - st_cpu.tms_stime));
           }

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       Applications should use <u>sysconf</u>(_SC_CLK_TCK) to determine the number of clock ticks per second as it  may
       vary from system to system.

</pre><h4><b>RATIONALE</b></h4><pre>
       The accuracy of the times reported is intentionally left unspecified to allow implementations flexibility
       in design, from uniprocessor to multi-processor networks.

       The  inclusion  of  times of child processes is recursive, so that a parent process may collect the total
       times of all of its descendants.  But the times of a child are only added to those of its parent when its
       parent successfully waits on the child. Thus, it is not guaranteed that a parent process can  always  see
       the total times of all its descendants; see also the discussion of the term ``realtime'' in <u>alarm</u>().

       If  the  type <b>clock_t</b> is defined to be a signed 32-bit integer, it overflows in somewhat more than a year
       if there are 60 clock ticks per second, or less than a year  if  there  are  100.  There  are  individual
       systems that run continuously for longer than that. This volume of POSIX.1‐2017 permits an implementation
       to  make  the  reference  point  for  the returned value be the start-up time of the process, rather than
       system start-up time.

       The term ``charge'' in this context has nothing to do with billing for  services.  The  operating  system
       accounts  for time used in this way. That information must be correct, regardless of how that information
       is used.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>alarm</u>(), <u>exec</u>, <u>fork</u>(), <u>sysconf</u>(), <u>time</u>(), <u>wait</u>(), <u>waitid</u>()

       The Base Definitions volume of POSIX.1‐2017, <b>&lt;sys_times.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                         <u><a href="../man3POSIX/TIMES.3POSIX.html">TIMES</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>