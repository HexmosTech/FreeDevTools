<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>after - Execute a command after a time delay</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl9.0-doc">tcl9.0-doc_9.0.1+dfsg-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       after - Execute a command after a time delay

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>after</b> <u>ms</u>
       <b>after</b> <u>ms</u> ?<u>script</u> <u>script</u> <u>script</u> <u>...</u>?
       <b>after</b> <b>cancel</b> <u>id</u>
       <b>after</b> <b>cancel</b> <u>script</u> <u>script</u> <u>script</u> <u>...</u>
       <b>after</b> <b>idle</b> ?<u>script</u> <u>script</u> <u>script</u> <u>...</u>?
       <b>after</b> <b>info</b> ?<u>id</u>?
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  command is used to delay execution of the program or to execute a command in background sometime in
       the future.  It has several forms, depending on the first argument to the command:

       <b>after</b> <u>ms</u>
              <u>Ms</u> must be an integer giving a time in milliseconds.  A negative number  is  treated  as  0.   The
              command  sleeps  for  <u>ms</u>  milliseconds  and  then  returns.   While  the  command  is sleeping the
              application does not respond to events.

       <b>after</b> <u>ms</u> ?<u>script</u> <u>script</u> <u>script</u> <u>...</u>?
              In this form the command returns immediately, but it arranges for a Tcl command to be executed  <u>ms</u>
              milliseconds  later  as an event handler.  The command will be executed exactly once, at the given
              time.  The delayed command is formed by concatenating all the <u>script</u> arguments in the same fashion
              as the <b>concat</b> command.  The command will be executed at global level (outside the context  of  any
              Tcl  procedure).  If an error occurs while executing the delayed command then the background error
              will be reported by the command registered with <b>interp</b> <b>bgerror</b>.   The  <b>after</b>  command  returns  an
              identifier that can be used to cancel the delayed command using <b>after</b> <b>cancel</b>.  A <u>ms</u> value of 0 (or
              negative) queues the event immediately with priority over other event types (if not installed with
              an event proc, which will wait for next round of events).

       <b>after</b> <b>cancel</b> <u>id</u>
              Cancels  the  execution  of  a  delayed command that was previously scheduled.  <u>Id</u> indicates which
              command should be canceled;  it must have been the return value from a previous <b>after</b> command.  If
              the command given by <u>id</u> has already been executed then the <b>after</b> <b>cancel</b> command has no effect.

       <b>after</b> <b>cancel</b> <u>script</u> <u>script</u> <u>...</u>
              This command also  cancels  the  execution  of  a  delayed  command.   The  <u>script</u>  arguments  are
              concatenated  together  with  space  separators  (just  as  in the <b>concat</b> command).  If there is a
              pending command that matches the string, it is canceled and will never be executed;   if  no  such
              command is currently pending then the <b>after</b> <b>cancel</b> command has no effect.

       <b>after</b> <b>idle</b> <u>script</u> ?<u>script</u> <u>script</u> <u>...</u>?
              Concatenates  the <u>script</u> arguments together with space separators (just as in the <b>concat</b> command),
              and arranges for the resulting script to be evaluated later as an idle callback.  The script  will
              be  run  exactly once, the next time the event loop is entered and there are no events to process.
              The command returns an identifier that can be used to  cancel  the  delayed  command  using  <b>after</b>
              <b>cancel</b>.   If an error occurs while executing the script then the background error will be reported
              by the command registered with <b>interp</b> <b>bgerror</b>.

       <b>after</b> <b>info</b> ?<u>id</u>?
              This command returns information about existing event handlers.  If no <u>id</u>  argument  is  supplied,
              the command returns a list of the identifiers for all existing event handlers created by the <b>after</b>
              command  for  this interpreter.  If <u>id</u> is supplied, it specifies an existing handler; <u>id</u> must have
              been the return value from some previous call to <b>after</b> and it must not have triggered yet or  been
              canceled.   In  this  case the command returns a list with two elements.  The first element of the
              list is the script associated with <u>id</u>, and the second element is either <b>idle</b> or <b>timer</b> to  indicate
              what kind of event handler it is.

       The  <b>after</b>  <u>ms</u>  and  <b>after</b>  <b>idle</b>  forms  of the command assume that the application is event driven:  the
       delayed commands will not be executed unless the application enters the event loop.  In applications that
       are not normally event-driven, such as <b>tclsh</b>, the event loop can be entered with  the  <b>vwait</b>  and  <b>update</b>
       commands.

</pre><h4><b>EXAMPLES</b></h4><pre>
       This defines a command to make Tcl do nothing at all for <u>N</u> seconds:

              proc sleep {N} {
                  <b>after</b> [expr {int($N * 1000)}]
              }

       This  arranges  for  the  command <u>wake_up</u> to be run in eight hours (providing the event loop is active at
       that time):

              <b>after</b> [expr {1000 * 60 * 60 * 8}] wake_up

       The  following  command  can  be  used  to  do  long-running  calculations  (as   represented   here   by
       <u>::my_calc::one_step</u>,  which  is  assumed  to  return  a boolean indicating whether another step should be
       performed) in a step-by-step fashion, though the calculation itself needs to be arranged so it  can  work
       step-wise.   This  technique  is  extra  careful  to  ensure  that  the  event loop is not starved by the
       rescheduling of processing steps (arranging for the next step to be done using an already-triggered timer
       event only when the event queue has been drained) and is useful when you want to ensure  that  a  Tk  GUI
       remains responsive during a slow task.

              proc doOneStep {} {
                  if {[::my_calc::one_step]} {
                      <b>after</b> <b>idle</b> [list <b>after</b> 0 doOneStep]
                  }
              }
              doOneStep

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3tcl/concat.3tcl.html">concat</a>(3tcl), <a href="../man3tcl/interp.3tcl.html">interp</a>(3tcl), <a href="../man3tcl/update.3tcl.html">update</a>(3tcl), <a href="../man3tcl/vwait.3tcl.html">vwait</a>(3tcl)

</pre><h4><b>KEYWORDS</b></h4><pre>
       cancel, delay, idle callback, sleep, time

Tcl                                                    7.5                                           <u><a href="../man3tcl/after.3tcl.html">after</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>