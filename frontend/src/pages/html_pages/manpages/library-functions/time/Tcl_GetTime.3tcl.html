<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tcl_GetTime, Tcl_SetTimeProc, Tcl_QueryTimeProc - get date and time</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl9.0-doc">tcl9.0-doc_9.0.1+dfsg-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tcl_GetTime, Tcl_SetTimeProc, Tcl_QueryTimeProc - get date and time

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;tcl.h&gt;</b>

       <b>Tcl_GetTime</b>(<u>timePtr</u>)

       <b>Tcl_SetTimeProc</b>(<u>getProc,</u> <u>scaleProc,</u> <u>clientData</u>)

       <b>Tcl_QueryTimeProc</b>(<u>getProcPtr,</u> <u>scaleProcPtr,</u> <u>clientDataPtr</u>)

</pre><h4><b>ARGUMENTS</b></h4><pre>
       Tcl_Time <u>*timePtr</u> (out)                Points to memory in which to store the date and time information.

       Tcl_GetTimeProc <u>getProc</u> (in)           Pointer  to handler function replacing <b>Tcl_GetTime</b>'s access to the
                                              OS.

       Tcl_ScaleTimeProc <u>scaleProc</u> (in)       Pointer to handler function for the conversion of time  delays  in
                                              the virtual domain to real-time.

       void <u>*clientData</u> (in)                  Value passed through to the two handler functions.

       Tcl_GetTimeProc <u>*getProcPtr</u> (out)      Pointer  to  place  the  currently registered get handler function
                                              into.

       Tcl_ScaleTimeProc <u>*scaleProcPtr</u> (out)  Pointer to place the currently registered scale  handler  function
                                              into.

       void <u>**clientDataPtr</u> (out)             Pointer to place the currently registered pass-through value into.
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>Tcl_GetTime</b>  function  retrieves  the  current  time  as  a  <u>Tcl_Time</u> structure in memory the caller
       provides.  This structure has the following definition:

              typedef struct {
                  long long <u>sec</u>;
                  long <u>usec</u>;
              } <b>Tcl_Time</b>;

       On return, the <u>sec</u> member of the structure is filled in with the number  of  seconds  that  have  elapsed
       since the <u>epoch:</u> the epoch is the point in time of 00:00 UTC, 1 January 1970.  This number does <u>not</u> count
       leap seconds; an interval of one day advances it by 86400 seconds regardless of whether a leap second has
       been inserted.

       The <u>usec</u> member of the structure is filled in with the number of microseconds that have elapsed since the
       start of the second designated by <u>sec</u>.  The Tcl library makes every effort to keep this number as precise
       as  possible,  subject to the limitations of the computer system.  On multiprocessor variants of Windows,
       this number may be limited to the 10- or 20-ms granularity of the  system  clock.   (On  single-processor
       Windows systems, the <u>usec</u> field is derived from a performance counter and is highly precise.)

   <b>VIRTUALIZED</b> <b>TIME</b>
       The  <b>Tcl_SetTimeProc</b>  function  registers  two related handler functions with the core. The first handler
       function is a replacement for <b>Tcl_GetTime</b>, or rather the OS access made by <b>Tcl_GetTime</b>. The other handler
       function is used by the Tcl notifier to convert wait/block times from the virtual domain into real time.

       The <b>Tcl_QueryTimeProc</b> function returns  the  currently  registered  handler  functions.  If  no  external
       handlers were set then this will return the standard handlers accessing and processing the native time of
       the  OS.  The arguments to the function are allowed to be NULL; and any argument which is NULL is ignored
       and not set.

       The signatures of the handler functions are as follows:

              typedef void <b>Tcl_GetTimeProc</b>(
                      Tcl_Time *<u>timebuf</u>,
                      void *<u>clientData</u>);
              typedef void <b>Tcl_ScaleTimeProc</b>(
                      Tcl_Time *<u>timebuf</u>,
                      void *<u>clientData</u>);

       The <u>timebuf</u> fields contain the time to manipulate, and the <u>clientData</u> fields contain a  pointer  supplied
       at the time the handler functions were registered.

       Any  handler  pair specified has to return data which is consistent between them. In other words, setting
       one handler of the pair to something assuming a 10-times slowdown, and the other handler of the  pair  to
       something assuming a two-times slowdown is wrong and not allowed.

       The  set  handler  functions  are  allowed  to  run  the delivered time backwards, however this should be
       avoided. We have to allow it as the native time can run backwards as the user can fiddle with the  system
       time  one way or other. Note that the insertion of the hooks will not change the behavior of the Tcl core
       with regard to this situation, i.e. the existing behavior is retained.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3tcl/clock.3tcl.html">clock</a>(3tcl)

</pre><h4><b>KEYWORDS</b></h4><pre>
       date, time

Tcl                                                    8.4                                     <u><a href="../man3tcl/Tcl_GetTime.3tcl.html">Tcl_GetTime</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>