<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDL::IO::Matlab -- Read and write Matlab format data files.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpdl-io-matlab-perl">libpdl-io-matlab-perl_0.006-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       PDL::IO::Matlab -- Read and write Matlab format data files.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides routines to read and write pdls to and from data files in Matlab formats. The module
       uses the matio C library.  Both functional and OO interface are provided.

       Only real, multi-dimensional arrays corresponding to PDL data types are supported.  Compression for both
       reading and writing is supported.

       See the section "CAVEATS" for important information on potential problems when using this module.

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use PDL;
        use PDL::IO::Matlab qw( matlab_read matlab_write matlab_print_info);

        # write two pdls in matlab 5 format
        matlab_write('file.dat', $x, $y);

        # read an array of piddles
        # from file in matlab 4, 5, or 7.3 format.
        my @pdls =  matlab_read('file.dat');

        # write pdl in matlab 7.3 format.
        matlab_write('file.dat', 'MAT73', $x);

        matlab_print_info('file.dat');

</pre><h4><b>FUNCTIONS</b></h4><pre>
       The functional interface.

   <b>matlab_read</b>
       <u>Usage</u>

       Return all arrays in $filename

        @pdls = matlab_read($filename);
        @pdls = matlab_read($filename, {OPTIONS});

       Return first array in $filename

        $x = matlab_read($filename);

       Do not automatically convert "1xn" and "nx1" arrays to 1-d arrays.

        @pdls = matlab_read($filename, { onedr =&gt; 0 } );

       Reads all data in the file $filename.  Formats 4, 5, and 7.3 are supported. Options are passed to "<b>new</b>".

   <b>matlab_write</b>
       <u>Usage</u>

        matlab_write($filename,$x1,$x2,...);
        matlab_write($filename,$format,$x1,$x2,...);

       Automatically convert "n" element, 1-d piddles to "1xn" matlab variables.

        matlab_write($filename,$x1,$x2,..., {onedw =&gt; 1} );

       Automatically convert to "nx1" matlab variables.

        matlab_write($filename,$x1,$x2,..., {onedw =&gt; 2} );

       Use zlib compression

        matlab_write($filename,$x1,$x2,..., {compress =&gt; 1} );

       This method writes pdls $x1, $x2,.... If present, $format must be either 'MAT5' or 'MAT73'.

   <b>matlab_print_info</b>
       <u>Usage</u>

        # print names and dimensions of variables.
        matlab_print_info($filename);
        # also print a small amount of the data.
        matlab_print_info($filename, { data =&gt; 1 });
        # This does the same thing.
        matlab_print_info($filename,  data =&gt; 1 );

       Print information about the contents of the matlab file $filename, including the name, dimension and
       class type of the variables.

</pre><h4><b>METHODS</b></h4><pre>
   <b>new</b>
       <u>Usage</u>

        # open for writing
        $mat = PDL::IO::Matlab-&gt;new('file.dat', '&gt;', {format =&gt; 'MAT5'});

        # default format is MAT5
        $mat = PDL::IO::Matlab-&gt;new('file.dat', '&gt;');

        # may use 'w' or '&gt;'
        $mat = PDL::IO::Matlab-&gt;new('file.dat', 'w');

        # supply header
        $mat = PDL::IO::Matlab-&gt;new('file.dat', '&gt;', { header =&gt; 'some text'} );

        # read-write  with rw or &lt;&gt;
        $mat = PDL::IO::Matlab-&gt;new('file.dat', 'rw');

        # open for reading
        $mat = PDL::IO::Matlab-&gt;new('file.dat', '&lt;');

       <u>Options</u>

       format
           Either 'MAT5' or 'MAT73'.

       compress
           Either 1 for yes, or 0 for no.

       header
           A header (a string) to write into the file.

       namekey
           A  hash  key that will be used to store the matlab name for a variable read from a file in the header
           of a piddle.  The default value is 'NAME'. Thus, the name can be accessed via "$pdl-&gt;hdr-&gt;{NAME}".

       varbasew
           The base of the default matlab variable name that will be written in the matlab file along with  each
           piddle.  An  integer  will  be  appended to the base name. This integer is initialized to zero and is
           incremented after writing each variable.

       The option "compress" enables zlib compression if the zlib library is available  and  if  the  data  file
       format is 'MAT5'.

   <b>close</b>
       <u>Usage</u>

       $mat-&gt;close;

       Close matlab file and free memory associated with $mat.

   <b>read_next</b>
       <u>Usage</u>

        my $x = $mat-&gt;read_next;
        print "End of file\n" unless ref($x);

        my ($err,$x) = $mat-&gt;read_next;
        print "End of file\n" if $err;

       Read one pdl from file associated with object $mat.

   <b>read_all</b>
       <u>Usage</u>

        my @pdls = $mat-&gt;read_all;

       Read all remaining pdls from file associated with object $mat.

   <b>write</b>
       <u>Usage</u>

        $x2-&gt;hdr-&gt;{NAME} = 'variablename';

        $mat-&gt;write($x1,$x2,...);

        $mat-&gt;write($x1,$x2,...,{OPTIONS});

       Append pdls to open file associated with $mat.

       If a piddle has a matlab name stored in the header it will be used as the matlab name written to the file
       with  this  piddle. The key is in "$pdl-&gt;{namekey}", with default value 'NAME'. If the name is not in the
       piddle's header, then a default value will be used.

       <u>Options</u>

       onedw
           In order to write a file that is compatible with Matlab and Octave, "onedw" must be either  1  or  2.
           If "onedw" is 1 then a 1-d pdl of length n is written as a as an "nx1" pdl (a "1xn" matlab variable).
           If  "onedw"  is  2 then the output piddle is "1xn" and the matlab variable "nx1".  If "onedw" is zero
           (the default), then the 1-d pdl is written as a 1-d piddle. In the last case, Octave  will  print  an
           error and fail to read the variable.

       compress
           If  "compress"  is  1 then zlib compression is used, if the library is available and if the format is
           'MAT5'.

   <b>rewind</b>
       <u>Usage</u>

        $mat-&gt;rewind

       Reset pointer to the head of the file.

   <b>get_filename</b>
       <u>Usage</u>

        $mat-&gt;get_filename

       Return name of file associated with $mat.

   <b>get_header</b>
       <u>Usage</u>

        $mat-&gt;get_header

       Return the header string from the matlab data file associated with $mat.

   <b>get_format</b>
       <u>Usage</u>

        $mat-&gt;get_format

       Return matlab data file format for file associated with $mat. One of 'MAT4', 'MAT5', or 'MAT73'.

   <b>print_all_var_info</b>
       <u>Usage</u>

        $mat-&gt;print_all_var_info;

        # also print a small amount of data from each variable.
        $mat-&gt;print_all_var_info( data =&gt; 1 );

       Print a summary of all data in the file associated with $mat (starting from the next unread variable.)

</pre><h4><b>ACCESSOR</b> <b>METHODS</b></h4><pre>
       The following are additional accessor methods for the matlab file objects PDL::IO::Matlab.

       get_handle set_handle get_mode set_mode  get_filename  set_filename  get_format  set_format  get_varbasew
       set_varbasew  get_onedw  set_onedw  get_onedr  set_onedr  get_namekey set_namekey get_wvarnum set_wvarnum
       get_compress set_compress

</pre><h4><b>CAVEATS</b></h4><pre>
   <b>complicating</b> <b>factors</b>
       There are two complicating factors when using matlab files with PDL.  First, matlab does not support one-
       dimensional vectors. Thus, a 1-d pdl must be represented as either a  "1  x  n"  of  a  "n  x  1"  matlab
       variable. Second, matlab stores matrices in column-major order, while pdl stores them in row-major order.

       <b>one-dimensional</b> <b>pdls</b>
           You  can  write  1-d pdls to a file with this module. This module can then read the file. But, Octave
           will fail to read the file and print an error message.  See "<b>write</b>" for how this is handled.

       <b>column-</b> <b>vs.</b> <b>row</b> <b>major</b>
           Data written by Octave (PDL) will be read by PDL (Octave) with indices transposed.  On the todo  list
           is an option to physically or logically transpose the data on reading and writing.

       <b>Octave</b> <b>requires</b> <b>distinct</b> <b>matlab</b> <b>variable</b> <b>names</b>
           With  this  module,  you may write more than one variable, each with the same name, (the matlab name;
           not the pdl identifier, or variable, name), to a file in MAT5 format. This module  is  then  able  to
           read  all  pdls from this file.  But, Octave, when reading this file, will overwrite all but the last
           occurrence of the variable with the last occurrence. See the method "<b>write</b>".

           Trying to write two pdls with the same matlab variable name in MAT73 format will cause an error.

   <b>other</b> <b>missing</b> <b>features,</b> <b>bugs</b>
       When trying to read an unsupported matlab data type from  a  file,  this  module  will  throw  an  error.
       Supporting other data types or optionally skipping them is on the todo list.

       Random access of variables in a file is on the todo list. The underlying <b>matio</b> library supports this.

       This  module  is  currently  built  with  some  hardcoded  data from a PDL installation, that may contain
       platform-specific (linux) features. It may fail to  build  or  function  correctly  when  used  on  other
       platforms.

</pre><h4><b>AUTHOR</b></h4><pre>
       John Lapeyre, "&lt;jlapeyre at cpan.org&gt;"

       The matio library was written by Christopher C. Hulbert.

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       Copyright 2012 John Lapeyre.

       This  program  is  free software; you can redistribute it and/or modify it under the terms of either: the
       GNU General Public License as published by the Free Software Foundation; or the Artistic License.

       See <a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a> for more information.

       The matio library included here is Copyright 2011 Christopher C. Hulbert. All rights reserved.   See  the
       file matio-1.5/COPYING in the source distribution of this module.

perl v5.40.1                                       2025-03-07                                        <u><a href="../man3pm/Matlab.3pm.html">Matlab</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>