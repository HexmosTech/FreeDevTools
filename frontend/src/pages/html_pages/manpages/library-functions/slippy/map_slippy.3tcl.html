<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>map::slippy - Common code for slippy based map packages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       map::slippy - Common code for slippy based map packages

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.6</b> <b>9</b>

       package require <b>map::slippy</b> <b>?0.10?</b>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>2point</b> <u>zoom</u> <u>geobox</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>center</b> <u>geobox</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>corners</b> <u>geobox</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>diameter</b> <u>geobox</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>dimensions</b> <u>geobox</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>fit</b> <u>geobox</u> <u>canvdim</u> <u>zmax</u> ?<u>zmin</u>?

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>inside</b> <u>geobox</u> <u>geo</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>limit</b> <u>geobox</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>opposites</b> <u>geobox</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>perimeter</b> <u>geobox</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>valid</b> <u>geobox</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>valid-list</b> <u>geoboxes</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>distance</b> <u>geo1</u> <u>geo2</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>distance*</b> <u>closed</u> <u>geo</u>...

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>distance-list</b> <u>closed</u> <u>geo-list</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>limit</b> <u>geo</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>bbox</b> <u>geo</u>...

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>bbox-list</b> <u>geo-list</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>center</b> <u>geo</u>...

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>center-list</b> <u>geo-list</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>diameter</b> <u>geo</u>...

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>diameter-list</b> <u>geo-list</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>2point</b> <u>zoom</u> <u>geo</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>2point*</b> <u>zoom</u> <u>geo</u>...

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>2point-list</b> <u>zoom</u> <u>geo-list</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>valid</b> <u>geo</u>

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>valid-list</b> <u>geos</u>

       <b>::map</b> <b>slippy</b> <b>length</b> <u>level</u>

       <b>::map</b> <b>slippy</b> <b>limit2</b> <u>x</u>

       <b>::map</b> <b>slippy</b> <b>limit3</b> <u>x</u>

       <b>::map</b> <b>slippy</b> <b>limit6</b> <u>x</u>

       <b>::map</b> <b>slippy</b> <b>point</b> <b>box</b> <b>2geo</b> <u>zoom</u> <u>pointbox</u>

       <b>::map</b> <b>slippy</b> <b>point</b> <b>box</b> <b>center</b> <u>pointbox</u>

       <b>::map</b> <b>slippy</b> <b>point</b> <b>box</b> <b>corners</b> <u>pointbox</u>

       <b>::map</b> <b>slippy</b> <b>point</b> <b>box</b> <b>diameter</b> <u>pointbox</u>

       <b>::map</b> <b>slippy</b> <b>point</b> <b>box</b> <b>dimensions</b> <u>pointbox</u>

       <b>::map</b> <b>slippy</b> <b>point</b> <b>box</b> <b>inside</b> <u>pointbox</u> <u>point</u>

       <b>::map</b> <b>slippy</b> <b>point</b> <b>box</b> <b>opposites</b> <u>pointbox</u>

       <b>::map</b> <b>slippy</b> <b>point</b> <b>box</b> <b>perimeter</b> <u>pointbox</u>

       <b>::map</b> <b>slippy</b> <b>point</b> <b>distance</b> <u>point1</u> <u>point2</u>

       <b>::map</b> <b>slippy</b> <b>point</b> <b>distance*</b> <u>closed</u> <u>point</u>...

       <b>::map</b> <b>slippy</b> <b>point</b> <b>distance-list</b> <u>closed</u> <u>point-list</u>

       <b>::map</b> <b>slippy</b> <b>point</b> <b>bbox</b> <u>point</u>...

       <b>::map</b> <b>slippy</b> <b>point</b> <b>bbox-list</b> <u>point-list</u>

       <b>::map</b> <b>slippy</b> <b>point</b> <b>center</b> <u>point</u>...

       <b>::map</b> <b>slippy</b> <b>point</b> <b>center-list</b> <u>point-list</u>

       <b>::map</b> <b>slippy</b> <b>point</b> <b>diameter</b> <u>point</u>...

       <b>::map</b> <b>slippy</b> <b>point</b> <b>diameter-list</b> <u>point-list</u>

       <b>::map</b> <b>slippy</b> <b>point</b> <b>2geo</b> <u>zoom</u> <u>point</u>

       <b>::map</b> <b>slippy</b> <b>point</b> <b>2geo*</b> <u>zoom</u> <u>point</u>...

       <b>::map</b> <b>slippy</b> <b>point</b> <b>2geo-list</b> <u>zoom</u> <u>point-list</u>

       <b>::map</b> <b>slippy</b> <b>point</b> <b>simplify</b> <b>radial</b> <u>threshold</u> <u>point-list</u>

       <b>::map</b> <b>slippy</b> <b>point</b> <b>simplify</b> <b>rdp</b> <u>point-list</u>

       <b>::map</b> <b>slippy</b> <b>pretty-distance</b> <u>x</u>

       <b>::map</b> <b>slippy</b> <b>tiles</b> <u>level</u>

       <b>::map</b> <b>slippy</b> <b>tile</b> <b>size</b>

       <b>::map</b> <b>slippy</b> <b>tile</b> <b>valid</b> <u>zoom</u> <u>row</u> <u>column</u> <u>levels</u> ?<u>msgvar</u>?

       <b>::map</b> <b>slippy</b> <b>valid</b> <b>latitude</b> <u>x</u>

       <b>::map</b> <b>slippy</b> <b>valid</b> <b>longitude</b> <u>x</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This package provides a number of methods doing things needed by all types of slippy-based map packages.

       <u>BEWARE</u>,  <u>Attention</u>  Version  <u>0.9</u> is <u>NOT</u> <u>backward</u> <u>compatible</u> with version 0.7 and earlier.  The entire API
       was <u>heavily</u> <u>revised</u> <u>and</u> <u>changed</u>.

       <u>Note:</u> For the representation of locations in the various coordinate systems used by the commands of  this
       package please read section <b>Coordinate</b> <b>systems</b>. The command descriptions will not repeat them, and assume
       that they are understood already.

</pre><h4><b>COORDINATE</b> <b>SYSTEMS</b></h4><pre>
       The  commands  of  this  package  operate in two distinct coordinate systems, geographical locations, and
       points. The former represents coordinates for locations on Earth, while the  latter  is  for  use  on  Tk
       <u>canvas</u> widgets.

   <b>GEOGRAPHIC</b>
       Geographical  locations  (short: <u>geo</u>) are represented by a pair of <u>Latitude</u> and <u>Longitude</u> values, each of
       which is measured in degrees, as they are essentially angles.

       The <b>Zero</b> longitude is the <u>Greenwich</u> <u>meridian</u>, with positive values going <u>east</u>, and negative values  going
       <u>west</u>,  for  a  total  range  of +/- 180 degrees. Note that +180 and -180 longitude are the same <u>meridian</u>,
       opposite to Greenwich.

       The <b>zero</b> latitude is the <u>Equator</u>, with positive values going <u>north</u> and negative values going <u>south</u>. While
       the true range is +/- 90 degrees the projection used by the package requires  us  to  cap  the  range  at
       roughly  +/-  <b>85.05112877983284</b>  degrees. This means that the North and South poles are not representable
       and not part of any map.

       A geographical location is represented by a list containing two values, the latitude,  and  longitude  of
       the location, in this order.

       A  geographical  bounding  box  is represented by a list containing four values, the minimal latitude and
       longitude of the box, and the maximal latitude and longitude of the box, in this order.

       Geographical locations and boxes can be converted to points and their boxes by  means  of  an  additional
       parameter, the <u>zoom</u> level. This parameter indicates the size of the map in the canvas the coordinates are
       to be projected into.

   <b>POINTS</b>
       Points  (short:  <u>point</u>) are represented by a pair of <u>x</u> and <u>y</u> values, each of which is measured in pixels.
       They reference a location in a Tk <u>canvas</u> widget.   As  a  map  can  be  shown  at  different  degrees  of
       magnification, the exact pixel coordinates for a geographical location depend on this <u>zoom</u> level.

       For  the following explanation to make sense it should be noted that a map shown in a Tk <u>canvas</u> widget is
       split into equal-sized quadratic <u>tiles</u>.

       Point coordinates are tile coordinates scaled by the size of these tiles. This package uses tiles of size
       <b>256</b>, which is the standard size used by many online servers providing map tiles of some kind or other.

       A point is represented by a list containing the x- and y-coordinates of the lcoation,  in  this  in  this
       order.

       A point bounding box is represented by a list containing four values, the minimal x and y of the box, and
       the maximal x and y of the box, in this order.

       Point  locations  and  boxes  can  be  converted to geographical locations and their boxes by means of an
       additional parameter, the <u>zoom</u> level. This parameter indicates the size of the  map  in  the  canvas  the
       coordinates are projected from.

       Tile  coordinates appear only in one place of the API, in the signature of command <b>map</b> <b>slippy</b> <b>tile</b> <b>valid</b>.
       Everything else uses Point coordinates.

       Using tile coordinates in the following however makes the structure of the map at the various <u>zoom</u> levels
       (maginification factors) easier to explain.

       Generally the integer part of the tile coordinates represent the row and column number of a tile  of  the
       map,  wheras  the fractional parts signal how far inside that tile the location in question is, with pure
       integer coordinates (no fractional part) representing the upper left corner of a tile.

       The zero point of the map is at the upper left corner, regardless of zoom level, with larger  coordinates
       going  right  (east)  and  down  (south), and smaller coordinates going left (west) and up (north). Again
       regardless of zoom level.

       Negative coordinates are not allowed.

       At zoom level <b>0</b> the entire map is represented by a single tile, putting the geographic zero at  1/2,  1/2
       in terms of tile coordinates, and the range of tile coordinates as [0...1].

       When  going  from  zoom  level <b>N</b> to the next deeper (magnified) level (<b>N</b>+1) each tile of level <b>N</b> is split
       into its four quadrants, which then are the tiles of level <b>N</b>+1.

       This means that at zoom level <b>N</b> the map is  sliced  (horizontally  and  vertically)  into  <b>2^N</b>  rows  and
       columns, for a total of <b>4^N</b> tiles, with the tile coordinates ranging from <b>0</b> to <b>2^N+1</b>.

</pre><h4><b>API</b></h4><pre>
       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>2point</b> <u>zoom</u> <u>geobox</u>
              The  command  converts the geographical box <u>geobox</u> to a point box in the canvas, for the specified
              <u>zoom</u> level, and returns that box.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>center</b> <u>geobox</u>
              The command returns the center of the geographical box <u>geobox</u>.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>corners</b> <u>geobox</u>
              This command returns a list containing the four corner locations implied by the  geographical  box
              <u>geobox</u>. The four points are top-left, bottom-left, top-right, and bottom-right, in that order.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>diameter</b> <u>geobox</u>
              The command returns the diameter of the geographical box <u>geobox</u>, in meters.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>dimensions</b> <u>geobox</u>
              The  command  returns  the  dimensions  of  the geographical box <u>geobox</u>, width and height, in this
              order.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>fit</b> <u>geobox</u> <u>canvdim</u> <u>zmax</u> ?<u>zmin</u>?
              This command calculates the zoom level such that the <u>geobox</u> will fit  into  a  viewport  given  by
              <u>canvdim</u> (a 2-element list containing the width and height of said viewport) and returns it.

              The  zoom  level  will be made to fit within the range <u>zmin</u>...<u>zmax</u>.  When <u>zmin</u> is not specified it
              will default to <b>0</b>.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>inside</b> <u>geobox</u> <u>geo</u>
              The command tests if the geographical location <u>geo</u> is contained in the geographical box <u>geobox</u>  or
              not. It returns <b>true</b> if so, and <b>false</b> else.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>limit</b> <u>geobox</u>
              This command limits the geographical box to at most 6 decimals and returns the result.

              For geographical coordinates 6 decimals is roughly equivalent to a grid of 11.1 cm.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>opposites</b> <u>geobox</u>
              This  command  returns  a  list  containing  the  two  principal  corner  locations implied by the
              geographical box <u>geobox</u>. The two points are top-left, and bottom-right, in that order.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>perimeter</b> <u>geobox</u>
              The command returns the perimeter of the geographical box <u>geobox</u>, in meters.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>valid</b> <u>geobox</u>
              This commands  tests  if  the  specified  geographical  box  contains  only  valid  latitudes  and
              longitudes. It returns <b>true</b> if the box is valid, and <b>false</b> else.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>box</b> <b>valid-list</b> <u>geoboxes</u>
              This  commands  tests  if  the  list  of  geographical  boxes  contains  only  valid latitudes and
              longitudes. It returns <b>true</b> if all the boxes are valid, and <b>false</b> else.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>distance</b> <u>geo1</u> <u>geo2</u>
              This command computes the great-circle distance between the two geographical locations  in  meters
              and returns that value.

              The  code  is  based  on  <u>https://wiki.tcl-lang.org/page/geodesy</u>  take  on  the  <u>haversine</u> <u>formula</u>
              [https://en.wikipedia.org/wiki/Haversine_formula].

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>distance*</b> <u>closed</u> <u>geo</u>...
              An extension of <b>map</b> <b>slippy</b> <b>geo</b> <b>distance</b> this command computes the cumulative  distance  along  the
              path specified by the ordered set of geographical locations in meters, and returns it.

              If  the  path  is  marked as <u>closed</u> (i.e. a polygon/loop) the result contains the distance between
              last and first element of the path as well, making the result the length of the perimeter  of  the
              area described by the locations.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>distance-list</b> <u>closed</u> <u>geo-list</u>
              As a variant of <b>map</b> <b>slippy</b> <b>geo</b> <b>distance*</b> this command takes the path to compute the length of as a
              single list of geographical locations, instead of a varying number of arguments.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>limit</b> <u>geo</u>
              This command limits the geographical location to at most 6 decimals and returns the result.

              For geographical coordinates 6 decimals is roughly equivalent to a grid of 11.1 cm.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>bbox</b> <u>geo</u>...

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>bbox-list</b> <u>geo-list</u>
              These  two  commands  compute the bounding box for the specified set of geographical locations and
              return a geographical box.

              When no geographical locations are specified the box is "<b>0</b> <b>0</b> <b>0</b> <b>0</b>".

              The locations are specified as either a varying number of arguments, or as a single list.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>center</b> <u>geo</u>...

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>center-list</b> <u>geo-list</u>
              These two commands compute the center of the bounding box for the specified  set  of  geographical
              locations.

              When no geographical locations are specified the center is "<b>0</b> <b>0</b>".

              The locations are specified as either a varying number of arguments, or as a single list.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>diameter</b> <u>geo</u>...

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>diameter-list</b> <u>geo-list</u>
              These  two  commands  compute  the  diameter  for  the specified set of geographical locations, in
              meters.  The diameter is the maximum of the pair-wise distances between all locations.

              When less than two geographical locations are specified the diameter is "<b>0</b>".

              The locations are specified as either a varying number of arguments, or as a single list.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>2point</b> <u>zoom</u> <u>geo</u>
              This command converts the geographical location <u>geo</u> to a point in the canvas,  for  the  specified
              <u>zoom</u> level, and returns that point.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>2point*</b> <u>zoom</u> <u>geo</u>...

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>2point-list</b> <u>zoom</u> <u>geo-list</u>
              These  two  commands  are  extensions of <b>map</b> <b>slippy</b> <b>geo</b> <b>2point</b> which take a series of geographical
              locations as either a varying number of arguments or a single list, convert them all to points  as
              per the specified <u>zoom</u> level and return a list of the results.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>valid</b> <u>geo</u>
              This  commands  tests  if  the  specified  geographical location contains only valid latitudes and
              longitudes. It returns <b>true</b> if the location is valid, and <b>false</b> else.

       <b>::map</b> <b>slippy</b> <b>geo</b> <b>valid-list</b> <u>geos</u>
              This commands tests if the list of  geographical  locations  contains  only  valid  latitudes  and
              longitudes. It returns <b>true</b> if all the locations are valid, and <b>false</b> else.

       <b>::map</b> <b>slippy</b> <b>length</b> <u>level</u>
              This  command  returns  the  width/height  of  a  slippy-based map at the specified zoom <u>level</u>, in
              pixels. This is, in essence, the result of

              expr { [tiles $level] * [tile size] }

       <b>::map</b> <b>slippy</b> <b>limit2</b> <u>x</u>

       <b>::map</b> <b>slippy</b> <b>limit3</b> <u>x</u>

       <b>::map</b> <b>slippy</b> <b>limit6</b> <u>x</u>
              This command limits the value to at most 2, 3, or 6 decimals and returns the result.

              For geographical coordinates 6 decimals is roughly equivalent to a grid of 11.1 cm.

       <b>::map</b> <b>slippy</b> <b>point</b> <b>box</b> <b>2geo</b> <u>zoom</u> <u>pointbox</u>
              The command converts the point box <u>pointbox</u> to a geographical  box  in  the  canvas,  as  per  the
              specified <u>zoom</u> level, and returns that box.

       <b>::map</b> <b>slippy</b> <b>point</b> <b>box</b> <b>center</b> <u>pointbox</u>
              The command returns the center of the <u>pointbox</u>.

       <b>::map</b> <b>slippy</b> <b>point</b> <b>box</b> <b>corners</b> <u>pointbox</u>
              This  command  returns  a  list  containing  the  four  corner  locations implied by the point box
              <u>pointbox</u>. The four points are top-left, bottom-left, top-right, and bottom-right, in that order.

       <b>::map</b> <b>slippy</b> <b>point</b> <b>box</b> <b>diameter</b> <u>pointbox</u>
              The command returns the diameter of the <u>pointbox</u>, in pixels.

       <b>::map</b> <b>slippy</b> <b>point</b> <b>box</b> <b>dimensions</b> <u>pointbox</u>
              The command returns the dimensions of the <u>pointbox</u>, width and height, in this order.

       <b>::map</b> <b>slippy</b> <b>point</b> <b>box</b> <b>inside</b> <u>pointbox</u> <u>point</u>
              The command tests if the <u>point</u> is contained in the <u>pointbox</u> or not.  It returns <b>true</b>  if  so,  and
              <b>false</b> else.

       <b>::map</b> <b>slippy</b> <b>point</b> <b>box</b> <b>opposites</b> <u>pointbox</u>
              This command returns a list containing the two principal corner locations implied by the point box
              <u>pointbox</u>. The two points are top-left, and bottom-right, in that order.

       <b>::map</b> <b>slippy</b> <b>point</b> <b>box</b> <b>perimeter</b> <u>pointbox</u>
              The command returns the perimeter of the <u>pointbox</u>, in pixels.

       <b>::map</b> <b>slippy</b> <b>point</b> <b>distance</b> <u>point1</u> <u>point2</u>
              This  command  computes  the  euclidena distance between the two points in pixels and returns that
              value.

       <b>::map</b> <b>slippy</b> <b>point</b> <b>distance*</b> <u>closed</u> <u>point</u>...
              An extension of <b>map</b> <b>slippy</b> <b>point</b> <b>distance</b> this command computes the cumulative distance along  the
              path specified by the ordered set of points, and returns it.

              If  the  path  is  marked as <u>closed</u> (i.e. a polygon/loop) the result contains the distance between
              last and first element of the path as well, making the result the length of the perimeter  of  the
              area described by the locations.

       <b>::map</b> <b>slippy</b> <b>point</b> <b>distance-list</b> <u>closed</u> <u>point-list</u>
              As a variant of <b>map</b> <b>slippy</b> <b>point</b> <b>distance*</b> this command takes the path to compute the length of as
              a single list of points, instead of a varying number of arguments.

       <b>::map</b> <b>slippy</b> <b>point</b> <b>bbox</b> <u>point</u>...

       <b>::map</b> <b>slippy</b> <b>point</b> <b>bbox-list</b> <u>point-list</u>
              These  two  commands  compute  the bounding box for the specified set of points and return a point
              box.

              When no points are specified the box is "<b>0</b> <b>0</b> <b>0</b> <b>0</b>".

              The locations are specified as either a varying number of arguments, or as a single list.

       <b>::map</b> <b>slippy</b> <b>point</b> <b>center</b> <u>point</u>...

       <b>::map</b> <b>slippy</b> <b>point</b> <b>center-list</b> <u>point-list</u>
              These two commands compute the center of the bounding box for the specified set of points.

              When no points are specified the center is "<b>0</b> <b>0</b>".

              The locations are specified as either a varying number of arguments, or as a single list.

       <b>::map</b> <b>slippy</b> <b>point</b> <b>diameter</b> <u>point</u>...

       <b>::map</b> <b>slippy</b> <b>point</b> <b>diameter-list</b> <u>point-list</u>
              These two commands compute the diameter for the specified set of points, in pixels.  The  diameter
              is the maximum of the pair-wise distances between all locations.

              When less than two points are specified the diameter is "<b>0</b>".

              The locations are specified as either a varying number of arguments, or as a single list.

       <b>::map</b> <b>slippy</b> <b>point</b> <b>2geo</b> <u>zoom</u> <u>point</u>
              This  command  converts  the  <u>point</u>  in the canvas, for the specified <u>zoom</u> level, to a geograhical
              location, and returns that location.

       <b>::map</b> <b>slippy</b> <b>point</b> <b>2geo*</b> <u>zoom</u> <u>point</u>...

       <b>::map</b> <b>slippy</b> <b>point</b> <b>2geo-list</b> <u>zoom</u> <u>point-list</u>
              These two commands are extensions of <b>map</b> <b>slippy</b> <b>point</b> <b>2geo</b> which take a series of points as either
              a varying number of arguments or a single list, convert them all to geographical locations as  per
              the specified <u>zoom</u> level and return a list of the results.

       <b>::map</b> <b>slippy</b> <b>point</b> <b>simplify</b> <b>radial</b> <u>threshold</u> <u>point-list</u>
              This  command  takes  a  path  of  points (as a single list), simplifies the path using the <u>Radial</u>
              <u>Distance</u> algorithm and returns the simplified path as list of points.

              In essence the algorithm keeps only the first of adjacent points nearer to that first  point  than
              the threshold, and drops the others.

       <b>::map</b> <b>slippy</b> <b>point</b> <b>simplify</b> <b>rdp</b> <u>point-list</u>
              This  command  takes  a patch of points (as a single list), simplifies it using the <u>non-parametric</u>
              <u>Ramer-Douglas-Peucker</u> algorithm and returns the simplified path as list of points.

       <b>::map</b> <b>slippy</b> <b>pretty-distance</b> <u>x</u>
              This methods formats the distance <u>x</u> (in meters) for  display  and  returns  the  resulting  string
              (including the chosen unit).

              Sub-kilometer  distances  are  limited  to  2  decimals,  i.e. centimeters, whereas Kilometers are
              limited to 3 decimals, i.e. meters.

       <b>::map</b> <b>slippy</b> <b>tiles</b> <u>level</u>
              This command returns the width/height of a slippy-based map at the specified zoom <u>level</u>, in <u>tiles</u>.

       <b>::map</b> <b>slippy</b> <b>tile</b> <b>size</b>
              This command returns the width/height of a tile in a slippy-based map, in pixels.

       <b>::map</b> <b>slippy</b> <b>tile</b> <b>valid</b> <u>zoom</u> <u>row</u> <u>column</u> <u>levels</u> ?<u>msgvar</u>?
              This command checks if the tile described by <u>zoom</u>, <u>row</u>, and <u>column</u> is valid for a slippy-based map
              having that many zoom <u>levels</u>, or not.  The result is a boolean value, <b>true</b> if the tile  is  valid,
              and <b>false</b> otherwise.  In the latter case a message is left in the variable named by <u>msgvar</u>, should
              it be specified.

       <b>::map</b> <b>slippy</b> <b>valid</b> <b>latitude</b> <u>x</u>
              This commands tests if the argument <u>x</u> is a valid latitude value, and returns the boolean result of
              that test. I.e. <b>true</b> if the value is valid, and <b>false</b> else.

       <b>::map</b> <b>slippy</b> <b>valid</b> <b>longitude</b> <u>x</u>
              This  commands  tests if the argument <u>x</u> is a valid longitude value, and returns the boolean result
              of that test. I.e. <b>true</b> if the value is valid, and <b>false</b> else.

</pre><h4><b>REFERENCES</b></h4><pre>
       [1]    <u><a href="http://wiki.openstreetmap.org/wiki/Main_Page">http://wiki.openstreetmap.org/wiki/Main_Page</a></u>

</pre><h4><b>KEYWORDS</b></h4><pre>
       geodesy, geography, latitute, location, longitude, map, slippy, zoom

tcllib                                                0.10                                     <u>map::<a href="../man3tcl/slippy.3tcl.html">slippy</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>