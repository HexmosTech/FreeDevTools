<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TSHttpTxnParentSelectionUrlSet - traffic Server Parent Selection consistent hash URL manipulation API</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/trafficserver-dev">trafficserver-dev_9.2.5+ds-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       TSHttpTxnParentSelectionUrlSet - traffic Server Parent Selection consistent hash URL manipulation API

</pre><h4><b>SYNOPSIS</b></h4><pre>
          #include &lt;ts/ts.h&gt;

       <u>TSReturnCode</u> <b>TSHttpTxnParentSelectionUrlSet(</b><u>TSHttpTxn</u> <b>txnp,</b> <u>TSMBuffer</u> <b>bufp,</b> <u>TSMLoc</u> <b>offset)</b>

       <u>TSReturnCode</u> <b>TSHttpTxnParentSelectionUrlGet(</b><u>TSHttpTxn</u> <b>txnp,</b> <u>TSMBuffer</u> <b>bufp,</b> <u>TSMLoc</u> <b>offset)</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  Parent Selection consistent hash feature selects among multiple parent caches based on hashing a URL
       (the HTTP request header URL).

       These API functions allow an over-ride URL to be defined such that the over-ride URL is hashed instead of
       the normal (header request) URL. In addition, any filtering options that may be applied to the normal URL
       (such as qstring) are NOT applied to the over-ride URL since it is  assumed  that  custom  filtering  has
       already been performed prior to explicitly setting the over-ride URL.

       Note  that  the  normal URL is only hashed on the path and query string portion (optionally excluded with
       the qstring option). However, the over-ride URL is hashed  on  the  entire  URL  string  as  returned  by
       URL::string_get_ref().  This includes the scheme and hostname such as "<u><a href="http://hostname">http://hostname</a></u>" which occur prior
       to the path.

       If the non-path URL elements should not be hashed in a meaningful manner, then they should be  normalized
       to  some  value  (if they are required in a valid URL) or excluded (if they are optional) when generating
       the over-ride URL. For example, since the over-ride URL is arbitrary, the URL  scheme  and  hostname  can
       simply be set to "fake://fake.fake" when creating the over-ride URL.

       <u>TSHttpTxnParentSelectionUrlSet()</u> will set the over-ride URL.

       <u>TSHttpTxnParentSelectionUrlGet()</u> will get the over-ride URL.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       All  these  APIs  returns  a  <u>TSReturnCode</u>,  indicating success (<u>TS_SUCCESS</u>) or failure (<u>TS_ERROR</u>) of the
       operation.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3ts/TSAPI.3ts.html">TSAPI</a>(3ts)</b>, <b><a href="../man3ts/TSUrlCreate.3ts.html">TSUrlCreate</a>(3ts)</b>, <b><a href="../man3ts/TSUrlStringGet.3ts.html">TSUrlStringGet</a>(3ts)</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2025, <a href="mailto:dev@trafficserver.apache.org">dev@trafficserver.apache.org</a>

9.2                                               May 22, 2025               <u><a href="../man3ts/TSHTTPTXNPARENTSELECTIONURLSET.3ts.html">TSHTTPTXNPARENTSELECTIONURLSET</a></u>(3ts)
</pre>
 </div>
</div></section>
</div>
</body>
</html>