<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mdraw_text -</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/m17n-docs">m17n-docs_1.8.4-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mdraw_text -

</pre><h4><b>SYNOPSIS</b></h4><pre>
       int <b>mdraw_text</b> (<b>MFrame</b> * <u>frame</u>, <b>MDrawWindow</b> <u>win</u>, int <u>x</u>, int <u>y</u>, <b>MText</b> * <u>mt</u>, int <u>from</u>, int <u>to</u>)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Draw an M-text on a window. The <b>mdraw_text()</b> function draws the text between <b>from</b> and <b>to</b> of M-text <b>mt</b> on
       window <b>win</b> of frame <b>frame</b> at coordinate (<b>x</b>, <b>y</b>).

       The appearance of the text (size, style, color, etc) is specified by the value of the text property whose
       key is Mface. If the M-text or a part of the M-text does not have such a text property, the default face
       of <b>frame</b> is used.

       The font used to draw a character in the M-text is selected from the value of the fontset property of a
       face by the following algorithm:

       1.  Search the text properties given to the character for the one whose key is Mcharset; its value should
           be either a symbol specifying a charset or <b>Mnil</b>. If the value is <b>Mnil</b>, proceed to the next step.
       Otherwise,  search  the mapping table of the fontset for the charset. If no entry is found proceed to the
       next step.

       If an entry is found, use one of the fonts in the entry that

        has a glyph for the character and that matches best with the face properties. If no  such  font  exists,
       proceed to the next step.
       2.  Get  the  character  property  'script' of the character. If it is inherited, get the script property
           from the previous characters. If there is no previous character, or  none  of  them  has  the  script
           property other than inherited, proceed to the next step.
       Search the text properties given to the character for the one whose key is Mlanguage; its value should be
       either a symbol specifying a language or Mnil.
       Search  the  mapping  table of the fontset for the combination of the script and language. If no entry is
       found, proceed to the next step.

       If an entry is found, use one of the fonts in the entry that

        has a glyph for the character and that matches best with the face properties. If no  such  font  exists,
       proceed to the next step.
       3.  Search  the  fall-back  table  of the fontset for a font that has a glyph of the character. If such a
           font is found, use that font.
       If no font is found by the algorithm above, this function draws an empty box for the character.
       This function draws only the glyph foreground. To specify the background color, use <b>mdraw_image_text()</b> or
       <b>mdraw_text_with_control()</b>.
       This function is the counterpart of XDrawString(), XmbDrawString(), and XwcDrawString() functions in  the
       X Window System.
</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
           If  the  operation was successful, <b>mdraw_text()</b> returns 0. If an error is detected, it returns -1 and
           assigns an error code to the external variable <b>merror_code</b>.
</pre><h4><b>ERRORS</b></h4><pre>
           MERROR_RANGE
</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
           <b>mdraw_image_text()</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2001 Information-technology Promotion Agency (IPA)
       Copyright (C) 2001-2011 National Institute of Advanced Industrial Science and Technology (AIST)
       Permission is granted to copy, distribute and/or modify this document under the terms  of  the  GNU  Free
       Documentation License &lt;<a href="http://www.gnu.org/licenses/fdl.html">http://www.gnu.org/licenses/fdl.html</a>&gt;.

Version 1.8.4                                    Mon Sep 25 2023                               <u><a href="../man3m17n/mdraw_text.3m17n.html">mdraw_text</a></u>(3m17n)
</pre>
 </div>
</div></section>
</div>
</body>
</html>