<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dblink_exec - executes a command in a remote database</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/postgresql-doc-17">postgresql-doc-17_17.5-1build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dblink_exec - executes a command in a remote database

</pre><h4><b>SYNOPSIS</b></h4><pre>
       dblink_exec(text connname, text sql [, bool fail_on_error]) returns text
       dblink_exec(text connstr, text sql [, bool fail_on_error]) returns text
       dblink_exec(text sql [, bool fail_on_error]) returns text

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>dblink_exec</b> executes a command (that is, any SQL statement that doesn't return rows) in a remote
       database.

       When two text arguments are given, the first one is first looked up as a persistent connection's name; if
       found, the command is executed on that connection. If not found, the first argument is treated as a
       connection info string as for <b>dblink_connect</b>, and the indicated connection is made just for the duration
       of this command.

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>connname</u>
           Name of the connection to use; omit this parameter to use the unnamed connection.

       <u>connstr</u>
           A connection info string, as previously described for <b>dblink_connect</b>.

       <u>sql</u>
           The SQL command that you wish to execute in the remote database, for example insert into foo
           values(0, 'a', '{"a0","b0","c0"}').

       <u>fail_on_error</u>
           If true (the default when omitted) then an error thrown on the remote side of the connection causes
           an error to also be thrown locally. If false, the remote error is locally reported as a NOTICE, and
           the function's return value is set to ERROR.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Returns status, either the command's status string or ERROR.

</pre><h4><b>EXAMPLES</b></h4><pre>
           SELECT dblink_connect('dbname=dblink_test_standby');
            dblink_connect
           ----------------
            OK
           (1 row)

           SELECT dblink_exec('insert into foo values(21, ''z'', ''{"a0","b0","c0"}'');');
              dblink_exec
           -----------------
            INSERT 943366 1
           (1 row)

           SELECT dblink_connect('myconn', 'dbname=regression');
            dblink_connect
           ----------------
            OK
           (1 row)

           SELECT dblink_exec('myconn', 'insert into foo values(21, ''z'', ''{"a0","b0","c0"}'');');
              dblink_exec
           ------------------
            INSERT 6432584 1
           (1 row)

           SELECT dblink_exec('myconn', 'insert into pg_class values (''foo'')',false);
           NOTICE:  sql error
           DETAIL:  ERROR:  null value in column "relnamespace" violates not-null constraint

            dblink_exec
           -------------
            ERROR
           (1 row)

PostgreSQL 17.5                                       2025                                        <u><a href="../man3/DBLINK_EXEC.3.html">DBLINK_EXEC</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>