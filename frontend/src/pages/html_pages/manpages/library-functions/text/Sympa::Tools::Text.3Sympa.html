<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sympa::Tools::Text - Text-related functions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sympa">sympa_6.2.76~dfsg-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Sympa::Tools::Text - Text-related functions

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This package provides some text-related functions.

   <b>Functions</b>
       addrencode ( $addr, [ $phrase, [ $charset, [ $comment ] ] ] )
           Returns formatted (and encoded) name-addr as RFC5322 3.4.

       canonic_email ( $email )
           <u>Function</u>.  Returns canonical form of e-mail address.

           Leading and trailing white spaces are removed.  Latin letters without accents are lower-cased.

           For malformed inputs returns "undef".

       canonic_message_id ( $message_id )
           Returns canonical form of message ID without trailing or leading whitespaces or "&lt;", "&gt;".

       canonic_text ( $text )
           Canonicalizes  text.   $text  should  be  a binary string encoded by UTF-8 character set or a Unicode
           string.  Forbidden sequences in binary string will be replaced by U+FFFD REPLACEMENT CHARACTERs,  and
           Normalization Form C (NFC) will be applied.

       clip ( $string, $length )
           <u>Function</u>.   Clips  $string  according to $length by bytes, considering boundary of grapheme clusters.
           UTF-8 is assumed for $string as bytestring.

       decode_filesystem_safe ( $str )
           <u>Function</u>.  Decodes a string encoded by <b>encode_filesystem_safe()</b>.

           Parameter:

           $str
               String to be decoded.

           Returns:

           Decoded string, stripped "utf8" flag if any.

       decode_html ( $str )
           <u>Function</u>.  Decodes HTML entities in a string encoded by UTF-8 or a Unicode string.

           Parameter:

           $str
               String to be decoded.

           Returns:

           Decoded string, stripped "utf8" flag if any.

       encode_filesystem_safe ( $str )
           <u>Function</u>.  Encodes a string $str to be suitable for filesystem.

           Parameter:

           $str
               String to be encoded.

           Returns:

           Encoded string, stripped "utf8" flag if any.  All bytes except '-', '+', '.',  '@'  and  alphanumeric
           characters are encoded to sequences '_' followed by two hexdigits.

           Note that '/' will also be encoded.

       encode_html ( $str, [ $additional_unsafe ] )
           <u>Function</u>.   Encodes  characters  in a string $str to HTML entities.  By default '&lt;', '&gt;', '&amp;' and '"'
           are encoded.

           Parameter:

           $str
               String to be encoded.

           $additional_unsafe
               Character or range of characters additionally encoded as entity references.

               This optional parameter was introduced on Sympa 6.2.37b.3.

           Returns:

           Encoded string, <u>not</u> stripping utf8 flag if any.

       encode_uri ( $str, [ omit =&gt; $chars ] )
           <u>Function</u>.  Encodes potentially unsafe characters in the string using "percent" encoding suitable  for
           URIs.

           Parameters:

           $str
               String to be encoded.

           omit =&gt; $chars
               By default, all characters except those defined as "unreserved" in RFC 3986 are encoded, that is,
               "[^-A-Za-z0-9._~]".  If this parameter is given, it will prevent encoding additional characters.

           Returns:

           Encoded string, stripped "utf8" flag if any.

       escape_chars ( $str )
           <b>Deprecated</b>.  Use "encode_filesystem_safe".

           Escape weird characters.

       escape_url ( $str )
           DEPRECATED.  Would be better to use "encode_uri" or "mailtourl".

       foldcase ( $str )
           <u>Function</u>.  Returns "fold-case" string suitable for case-insensitive match.  For example, a code below
           looks for a needle in haystack not regarding case, even if they are non-ASCII UTF-8 strings.

             $haystack = Sympa::Tools::Text::foldcase($HayStack);
             $needle   = Sympa::Tools::Text::foldcase($NeedLe);
             if (index $haystack, $needle &gt;= 0) {
                 ...
             }

           Parameter:

           $str
               A string.

       guessed_to_utf8( $text, [ lang, ... ] )
           <u>Function</u>.  Guesses text charset considering language context and returns the text reencoded by UTF-8.

           Parameters:

           $text
               Text to be reencoded.

           lang, ...
               Language tag(s) which may be given by "implicated_langs" in Sympa::Language.

           Returns:

           Reencoded  text.  If any charsets could not be guessed, "iso-8859-1" will be used as the last resort,
           just because it covers full range of 8-bit.

       mailtourl ( $email, [ decode_html =&gt; 1 ], [ query =&gt; {key =&gt; val, ...} ] )
           <u>Function</u>.  Constructs a "mailto:" URL for given e-mail.

           Parameters:

           $email
               E-mail address.

           decode_html =&gt; 1
               If set, arguments are assumed to include HTML entities.

           query =&gt; {key =&gt; val, ...}
               Optional query.

           Returns:

           Constructed URL.

       pad ( $str, $width )
           Pads space a string so that result will not be narrower than given width.

           Parameters:

           $str
               A string.

           $width
               If $width is false value or width of $str is not less than $width, does nothing.   If  $width  is
               less than 0, pads right.  Otherwise, pads left.

           Returns:

           Padded string.

       permalink_id ( $message_id )
           Calculates permalink ID from mesage ID.

       qdecode_filename ( $filename )
           Q-Decodes web file name.

           ToDo:   This   should   be   obsoleted   in   the   future   release:   Would   be   better   to  use
           "decode_filesystem_safe".

       qencode_filename ( $filename )
           Q-Encodes web file name.

           ToDo:  This   should   be   obsoleted   in   the   future   release:   Would   be   better   to   use
           "encode_filesystem_safe".

       slurp ( $file )
           Get  entire  content  of the file.  Normalization by <b>canonic_text()</b> is applied.  $file is the path to
           text file.

       unescape_chars ( $str )
           <b>Deprecated</b>.  Use "decode_filesystem_safe".

           Unescape weird characters.

       valid_email ( $string )
           Basic check of an email address.

       weburl ( $base, \@paths, [ decode_html =&gt; 1 ], [ fragment =&gt; $fragment ], [ query =&gt; \%query ] )
           Constructs a "http:" or "https:" URL under given base URI.

           Parameters:

           $base
               Base URI.

           \@paths
               Additional path components.

           decode_html =&gt; 1
               If set, arguments are assumed to include HTML entities.  Exception is $base: It is assumed not to
               include entities.

           fragment =&gt; $fragment
               Optional fragment.

           query =&gt; \%query
               Optional query.

           Returns:

           A URI.

       wrap_text ( $text, [ $init_tab, [ $subsequent_tab, [ $cols ] ] ] )
           <u>Function</u>.  Returns line-wrapped text.

           Parameters:

           $text
               The text to be folded.

           $init_tab
               Indentation prepended to the first line of paragraph.  Default is '', no indentation.

           $subsequent_tab
               Indentation  prepended  to  each  subsequent  line  of  folded  paragraph.   Default  is  '',  no
               indentation.

           $cols
               Max number of columns of folded text.  Default is 78.

</pre><h4><b>HISTORY</b></h4><pre>
       Sympa::Tools::Text appeared on Sympa 6.2a.41.

       <b>decode_filesystem_safe()</b> and <b>encode_filesystem_safe()</b> were added on Sympa 6.2.10.

       <b>decode_html()</b>,  <b>encode_html()</b>,  <b>encode_uri()</b> and <b>mailtourl()</b> were added on Sympa 6.2.14, and <b>escape_url()</b>
       was deprecated.

       <b>guessed_to_utf8()</b> and <b>pad()</b> were added on Sympa 6.2.17.

       <b>canonic_text()</b> and <b>slurp()</b> were added on Sympa 6.2.53b.

       <b>clip()</b> was added on Sympa 6.2.61b.

6.2.76                                             2025-02-12                         <u>Sympa::Tools::<a href="../man3Sympa/Text.3Sympa.html">Text</a></u>(3Sympa)
</pre>
 </div>
</div></section>
</div>
</body>
</html>