<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>brlapi_write - Writing on the braille display</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbrlapi-dev">libbrlapi-dev_6.7-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       brlapi_write - Writing on the braille display

        - Write text to the braille display.

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Data</b> <b>Structures</b>
       struct <b>brlapi_writeArguments_t</b>

   <b>Macros</b>
       #define <b>BRLAPI_DISPLAY_DEFAULT</b>   -1
       #define <b>BRLAPI_CURSOR_LEAVE</b>   -1
       #define <b>BRLAPI_CURSOR_OFF</b>   0
       #define <b>BRLAPI_WRITEARGUMENTS_INITIALIZER</b>

   <b>Functions</b>
       int <b>BRLAPI_STDCALL</b> <b>brlapi_writeText</b> (int cursor, const char *text)
       int <b>BRLAPI_STDCALL</b> <b>brlapi__writeText</b> (<b>brlapi_handle_t</b> *handle, int cursor, const char *text)
       int <b>BRLAPI_STDCALL</b> <b>brlapi_writeWText</b> (int cursor, const wchar_t *text)
       int <b>BRLAPI_STDCALL</b> <b>brlapi__writeWText</b> (<b>brlapi_handle_t</b> *handle, int cursor, const wchar_t *text)
       int <b>BRLAPI_STDCALL</b> <b>brlapi_writeDots</b> (const unsigned char *dots)
       int <b>BRLAPI_STDCALL</b> <b>brlapi__writeDots</b> (<b>brlapi_handle_t</b> *handle, const unsigned char *dots)
       int <b>BRLAPI_STDCALL</b> <b>brlapi_write</b> (const <b>brlapi_writeArguments_t</b> *arguments)
       int <b>BRLAPI_STDCALL</b> <b>brlapi__write</b> (<b>brlapi_handle_t</b> *handle, const <b>brlapi_writeArguments_t</b> *arguments)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       After <b>brlapi_enterTtyMode()</b> has been called, the application can call one of these functions to write
       things on the braille display.

       <b>Note</b>
           Be sure to call <b>brlapi_enterTtyMode()</b> <u>before</u> calling <b>brlapi_write()</b>, or else you'll get an error.
           This is particularly not always trivial when writing multithreaded applications.

           Dots are coded as described in ISO/TR 11548-1: a dot pattern is coded by a byte in which bit 0 is set
           iff dot 1 is up, bit 1 is set iff dot 2 is up, ... bit 7 is set iff dot 8 is up. This also
           corresponds to the low-order byte of the coding of unicode's braille row U+2800.

           Text is translated by the server one to one, by just using a simple wchar_t to pattern table, i.e. no
           contraction/expansion is performed, because the client would then have no way to know how wide the
           output would be and thus the quantity of text to feed. If contraction/expansion is desired, the
           client should perform it itself (e.g. thanks to liblouis or gnome-braille) and send the resulting dot
           patterns. This is actually exactly the same problem as font rendering on a graphical display: for
           better control, nowadays all font rasterization is performed on the client side, and mere pixmaps are
           sent to the X server.

           For braille displays with multiple lines, text will be wrapped over the lines.

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>BRLAPI_CURSOR_LEAVE</b>   <b>-1</b>
       Do not change the cursor's state or position.

       <b>See</b> <b>also</b>
           <b>brlapi_writeText()</b> <b>brlapi_write()</b> <b>brlapi_writeArguments_t</b>

   <b>#define</b> <b>BRLAPI_CURSOR_OFF</b>   <b>0</b>
       Do not display the cursor.

       <b>See</b> <b>also</b>
           <b>brlapi_writeText()</b> <b>brlapi_write()</b> <b>brlapi_writeArguments_t</b>

   <b>#define</b> <b>BRLAPI_DISPLAY_DEFAULT</b>   <b>-1</b>
       Write to the default display on the braille device.

       <b>See</b> <b>also</b>
           <b>brlapi_write()</b> <b>brlapi_writeArguments_t</b>

   <b>#define</b> <b>BRLAPI_WRITEARGUMENTS_INITIALIZER</b>
       <b>Value:</b>.PP
         { \
         .displayNumber = BRLAPI_DISPLAY_DEFAULT, \
         .regionBegin = 0, \
         .regionSize = 0, \
         .text = NULL, \
         .textSize = -1, \
         .andMask = NULL, \
         .orMask = NULL, \
         .cursor = BRLAPI_CURSOR_LEAVE, \
         .charset = NULL \
       }
       Allows to initialize a structure of type <b>brlapi_writeArguments_t</b> <b>*</b> <b>with</b> <b>default</b> <b>values:</b> <b>displayNumber</b> <b>=</b>
       <b>BRLAPI_DISPLAY_DEFAULT;</b> <b>(unspecified)</b> <b>regionBegin</b> <b>=</b> <b>regionSize</b> <b>=</b> <b>0;</b> <b>(update</b> <b>the</b> <b>whole</b> <b>display,</b> <b>DEPRECATED</b>
       <b>and</b> <b>will</b> <b>be</b> <b>forbidden</b> <b>in</b> <b>next</b> <b>release.</b> <b>You</b> <b>must</b> <b>always</b> <b>express</b> <b>the</b> <b>region</b> <b>you</b> <b>wish</b> <b>to</b> <b>update)</b> <b>text</b> <b>=</b>
       <b>andMask</b> <b>=</b> <b>orMask</b> <b>=</b> <b>NULL;</b> <b>(no</b> <b>text,</b> <b>no</b> <b>attribute)</b> <b>cursor</b> <b>=</b> <b>BRLAPI_CURSOR_LEAVE;</b> <b>(don't</b> <b>touch</b> <b>cursor)</b>

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b> <b>BRLAPI_STDCALL</b> <b>brlapi__write</b> <b>(brlapi_handle_t</b> <b>*</b> <b>handle,</b> <b>const</b> <b>brlapi_writeArguments_t</b> <b>*</b> <b>arguments)</b>
   <b>int</b> <b>BRLAPI_STDCALL</b> <b>brlapi__writeDots</b> <b>(brlapi_handle_t</b> <b>*</b> <b>handle,</b> <b>const</b> <b>unsigned</b> <b>char</b> <b>*</b> <b>dots)</b>
   <b>int</b> <b>BRLAPI_STDCALL</b> <b>brlapi__writeText</b> <b>(brlapi_handle_t</b> <b>*</b> <b>handle,</b> <b>int</b> <b>cursor,</b> <b>const</b> <b>char</b> <b>*</b> <b>text)</b>
   <b>int</b> <b>BRLAPI_STDCALL</b> <b>brlapi__writeWText</b> <b>(brlapi_handle_t</b> <b>*</b> <b>handle,</b> <b>int</b> <b>cursor,</b> <b>const</b> <b>wchar_t</b> <b>*</b> <b>text)</b>
   <b>int</b> <b>BRLAPI_STDCALL</b> <b>brlapi_write</b> <b>(const</b> <b>brlapi_writeArguments_t</b> <b>*</b> <b>arguments)</b>
       Update a specific region of the braille display and apply and/or masks

       <b>Parameters</b>
           <u>arguments</u> gives information necessary for the update

       regionBegin and regionSize must be filled for specifying which part of the display will be updated, as
       well as the size (in characters, not bytes) of the text, andMask and orMask members.

       If given, the 'text' field holds the text that will be displayed in the region. The char string must hold
       exactly as many characters as the region fields express. For multibyte text, this is the number of
       <u>multibyte</u> caracters. Notably, combining and double-width caracters count for 1.

       The actual length of the text in <u>bytes</u> may be specified thanks to textSize. If -1 is given, it will be
       computed thanks to strlen(), so 'text' must then be a NUL-terminated string.

       The 'andMask' and 'orMask' masks, if present, are then applied on top of the text, one byte per
       character. This hence permits the superimposing of attributes over the text. For instance, setting an
       andMask mask full of <b>BRLAPI_DOTS(1,1,1,1,1,1,0,0)</b> will only keep (logical AND) dots 1-6, hence dropping
       dots 7 and 8. On the contrary, setting an orMask full of BRLAPI_DOT7|BRLAPI_DOT8 will add (logical OR)
       dots 7 and 8.

       The 'charset' field, if present, specifies the charset of the 'text' field. If it is '', the current
       locale's charset (if any) is assumed. Else, the 8-bit charset of the server is assumed.

       A special invocation is with an unmodified initialized structure: this clears the client's whole display,
       letting the display of other applications on the same tty or of applications 'under' the tty appear. See
       Concurrency management section of the BrlAPI documentation for more details.

       <b>Returns</b>
           0 on success, -1 on error.

   <b>int</b> <b>BRLAPI_STDCALL</b> <b>brlapi_writeDots</b> <b>(const</b> <b>unsigned</b> <b>char</b> <b>*</b> <b>dots)</b>
       Write the given dots array to the display

       <b>Parameters</b>
           <u>dots</u> points on an array of dot information, one per character. Its size must hence be the same as
           what <b>brlapi_getDisplaySize()</b> returns.

       <b>Returns</b>
           0 on success, -1 on error.

   <b>int</b> <b>BRLAPI_STDCALL</b> <b>brlapi_writeText</b> <b>(int</b> <b>cursor,</b> <b>const</b> <b>char</b> <b>*</b> <b>text)</b>
       Write the given \0-terminated string to the braille display

       If the string is too long, it is truncated. If it's too short, it is padded with spaces. The text is
       assumed to be in the current application locale charset set by <a href="../man3/setlocale.3.html">setlocale</a>(3) if it was called, or the
       locale charset from the application locale environment variables if <a href="../man3/setlocale.3.html">setlocale</a>(3) was not called.

       <b>Parameters</b>
           <u>cursor</u> gives the cursor position; if equal to <b>BRLAPI_CURSOR_OFF</b>, no cursor is shown at all; if
           cursor==<b>BRLAPI_CURSOR_LEAVE</b>, the cursor is left where it is
           <u>text</u> points to the string to be displayed.

       <b>Returns</b>
           0 on success, -1 on error.

   <b>int</b> <b>BRLAPI_STDCALL</b> <b>brlapi_writeWText</b> <b>(int</b> <b>cursor,</b> <b>const</b> <b>wchar_t</b> <b>*</b> <b>text)</b>
       Write the given \0-terminated unicode string to the braille display

       If the string is too long, it is truncated. If it's too short, it is padded with spaces.

       <b>Parameters</b>
           <u>cursor</u> gives the cursor position; if equal to <b>BRLAPI_CURSOR_OFF</b>, no cursor is shown at all; if
           cursor==<b>BRLAPI_CURSOR_LEAVE</b>, the cursor is left where it is
           <u>text</u> points to the string to be displayed.

       <b>Returns</b>
           0 on success, -1 on error.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for BrlAPI from the source code.

BrlAPI                                             Version 0.8                                   <u><a href="../man3/brlapi_write.3.html">brlapi_write</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>