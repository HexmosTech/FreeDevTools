<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text::MicroMason::Filters - Add Output Filters like "|h" and "|u"</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtext-micromason-perl">libtext-micromason-perl_2.23-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Text::MicroMason::Filters - Add Output Filters like "|h" and "|u"

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Instead of using this class directly, pass its name to be mixed in:

           use Text::MicroMason;
           my $mason = Text::MicroMason-&gt;new( -Filters );

       Use the standard compile and execute methods to parse and evaluate templates:

         print $mason-&gt;compile( text=&gt;$template )-&gt;( @%args );
         print $mason-&gt;execute( text=&gt;$template, @args );

       Enables filtering of template expressions using syntax similar to that available in HTML::Mason v1:

           &lt;%args&gt; $name &lt;/%args&gt;
           Welcome, &lt;% $name |h %&gt;!
           &lt;a href="more.masn?name=&lt;% $name |u %&gt;"&gt;Click for More&lt;/a&gt;

       You can set default filters, and shut them off using the "n" flag:

           my $mason = Text::MicroMason-&gt;new( -Filters, default_filters =&gt; 'h' );

           &lt;%args&gt; $name &lt;/%args&gt;
           Welcome, &lt;% $name %&gt;!
           &lt;a href="more.masn?name=&lt;% $name |nu %&gt;"&gt;Click for More&lt;/a&gt;

       You can tell MicroMason to always override default filters instead of combining them:

           my $mason = Text::MicroMason-&gt;new( -Filters, default_filters =&gt; 'h', default_policy =&gt; 'override' );

           &lt;%args&gt; $name &lt;/%args&gt;
           Welcome, &lt;% $name %&gt;!
           &lt;a href="more.masn?name=&lt;% $name |u %&gt;"&gt;Click for More&lt;/a&gt;

       You can define additional filters and stack them:

           my $mason = Text::MicroMason-&gt;new( -Filters );
           $mason-&gt;filter_functions( myfilter =&gt; \&amp;function );
           $mason-&gt;filter_functions( uc =&gt; sub { return uc( shift ) } );

           &lt;%args&gt; $name &lt;/%args&gt;
           Welcome, &lt;% $name |uc,myfilter %&gt;!

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module enables the filtering of expressions before they are output, using syntax similar to that
       available in HTML::Mason v1.

       Several filter functions come standard with Text::MicroMason. If HTML::Entities available, the "h" filter
       is set up to do HTML encoding. If URI::Escape is available, the "u" filter is set up to provide URI
       escaping. If those modules can not be loaded, no error message is produced but the corresponding filter
       will be unavailable.

       The "p" filter is set up to escape non-ascii characters using Perl backslash notation to make them
       printable. This filter is retained for backwards compatibility, but it is not recommended because it may
       destroy Unicode or other non-ascii byte streams.

       Use "filter_functions()" to define custom filter functions and associate them with filter names.

       Attempting to use an unknown filter name will croak with a message stating "No definition for a filter
       named 'h'".

       When specifying "default_filters()" or using filters in a MicroMason interpolation, there are two ways to
       specify multiple filters. You can only use one of these techinques in a filter specification, but default
       filters and inline filters can be specified differently.

       Up to 5 single character filters can be combined without delimiters:

         &lt;% $name |hu %&gt; Apply the "h" and "u" filters in that order.

       Any number of filter names of any length can be combined with commas and/or spaces:

         &lt;% $name |u,js uc , h %&gt; Apply the "u", "js", "uc", and "h" filters in that order.

       If the "n" filter is specified, all previously specified filters (including default filters) are skipped.

         &lt;% $name |u,h,uc,n,js %&gt; Apply the "js" filter only.
         &lt;% $name |nu %&gt; Skip default filters and apply the "u" filter.

   <b>Public</b> <b>Methods</b>
       filter_functions
           Gets and sets values from the hash mapping filter flags to functions.

           If called with no arguments, returns a hash of all available filter flags and functions:

             %functions = $mason-&gt;filter_functions();

           If  called  with a filter flag returns the associated function, or if provided with a reference to an
           array of flag names returns a list of the functions:

             $function  = $mason-&gt;filter_functions( $flag );
             @functions = $mason-&gt;filter_functions( \@flags );

           If called with one or more pairs of filter flags and associated functions, adds  them  to  the  hash.
           (Any filter that might have existed with the same flag name is overwritten.)

             $mason-&gt;filter_functions( $flag =&gt; $function, ... );

   <b>Supported</b> <b>Attributes</b>
       default_filters
           Optional  comma-separated  string  of  filter  flags  to  be applied to all output expressions unless
           overridden by the "n" flag.

       default_policy
           Optional. Valid values are "combine" and "override"; default is "combine".  This attribute  specifies
           what happens when both default_filters and inline filters are provided.

           If  "default_policy"  is  "combine"  (the  default), then both default filters and inline filters are
           applied (in that order). If "default_policy" is "override", default filters are only applied when  no
           inline filters are specified.

           "combine"  is  the  default for backwards compatibility purposes, but new uses of the module probably
           want to use "override" instead.

   <b>Private</b> <b>Methods</b>
       <b>assemble()</b>
           This method goes through the lexed template tokens looking for uses of filter flags,  which  it  then
           rewrites as appropriate method calls before passing the tokens on to the superclass.

       parse_filters
           Parses  one  or  more strings containing any number of filter flags and returns a list of flags to be
           used.

             @flags = $mason-&gt;parse_filters( @filter_strings );

           Flags should be separated by commas, except that the commas may be omitted when using  a  combination
           of  single-letter  flags. Flags are applied from left to right. Any use of the "n" flag wipes out all
           flags defined to the left of it.

       get_filter_functions
           Accepts filter flags or function references and returns a list of the corresponding  functions.  Dies
           if an unknown filter flag is used.

             @functions = $mason-&gt;get_filter_functions( @flags_or_functions );

       filter
           Applies one or more filters to the provided content string.

             $result = $mason-&gt;filter( @flags_or_functions, $content );

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       For an overview of this templating framework, see Text::MicroMason.

       This is a mixin class intended for use with Text::MicroMason::HTMLMason.

       For     distribution,     installation,    support,    copyright    and    license    information,    see
       Text::MicroMason::Docs::ReadMe.

perl v5.36.0                                       2023-08-10                     <u>Text::MicroMason::<a href="../man3pm/Filters.3pm.html">Filters</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>