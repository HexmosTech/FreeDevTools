<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_MAXCONNECTS - maximum connection cache size</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_MAXCONNECTS - maximum connection cache size

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_MAXCONNECTS, long amount);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Pass  a  long.  The  set  <u>amount</u>  is the maximum number of connections that libcurl may keep alive in its
       connection cache after use. The default is 5, and there is not much point in changing this  value  unless
       you  are  perfectly  aware  of  how this works. This concerns connections using any of the protocols that
       support persistent connections.

       When reaching the maximum limit, curl closes the oldest connection present in the cache  to  prevent  the
       number of connections from increasing.

       If  you  already have performed transfers with this curl handle, setting a smaller <u><a href="../man3/CURLOPT_MAXCONNECTS.3.html">CURLOPT_MAXCONNECTS</a>(3)</u>
       than before may cause open connections to get closed unnecessarily.

       If you add this easy handle to a multi handle, this setting is not acknowledged, and you must instead use
       <u><a href="../man3/curl_multi_setopt.3.html">curl_multi_setopt</a>(3)</u> and the <u><a href="../man3/CURLMOPT_MAXCONNECTS.3.html">CURLMOPT_MAXCONNECTS</a>(3)</u> option.

</pre><h4><b>DEFAULT</b></h4><pre>
       5

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects all supported protocols

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           CURLcode ret;
           curl_easy_setopt(curl, CURLOPT_URL, "https://example.com/");
           /* limit the connection cache for this handle to no more than 3 */
           curl_easy_setopt(curl, CURLOPT_MAXCONNECTS, 3L);
           ret = curl_easy_perform(curl);
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.7

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLMOPT_MAXCONNECTS.3.html">CURLMOPT_MAXCONNECTS</a></b>(3),       <b><a href="../man3/CURLMOPT_MAX_HOST_CONNECTIONS.3.html">CURLMOPT_MAX_HOST_CONNECTIONS</a></b>(3),       <b><a href="../man3/CURLMOPT_MAX_TOTAL_CONNECTIONS.3.html">CURLMOPT_MAX_TOTAL_CONNECTIONS</a></b>(3),
       <b><a href="../man3/CURLOPT_MAXREDIRS.3.html">CURLOPT_MAXREDIRS</a></b>(3)

libcurl                                            2025-06-16                             <u><a href="../man3/CURLOPT_MAXCONNECTS.3.html">CURLOPT_MAXCONNECTS</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>