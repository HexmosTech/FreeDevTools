<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XkbGetUpdatedMap -  Update the client or server map information in an existing keyboard description</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libx11-doc">libx11-doc_1.8.12-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       XkbGetUpdatedMap -  Update the client or server map information in an existing keyboard description

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>Status</b> <b>XkbGetUpdatedMap</b> <b>(Display</b> <b>*</b><u>display</u><b>,</b> <b>unsigned</b> <b>int</b> <u>which</u><b>,</b> <b>XkbDescPtr</b> <u>xkb</u><b>);</b>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>display</u>
              connection to X server

       <u>which</u>  mask selecting subcomponents to populate

       <u>xkb</u>    keyboard description to be updated

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>which</u>  parameter  is a bitwise inclusive OR of the masks in Table 1. If the needed components of the
       <u>xkb</u> structure are not already allocated, <u>XkbGetUpdatedMap</u> allocates them.  <u>XkbGetUpdatedMap</u>  fetches  the
       requested information for the device specified in the XkbDescRec passed in the <u>xkb</u> parameter.

                                     Table 1 Xkb Mapping Component Masks
                                          and Convenience Functions
       ────────────────────────────────────────────────────────────────────────────────────────────────
       Mask                             Value    Map      Fields        Convenience
                                                                        Functions
       ────────────────────────────────────────────────────────────────────────────────────────────────
       XkbKeyTypesMask                  (1&lt;&lt;0)   client   types         XkbGetKeyTypes
                                                          size_types    XkbResizeKeyType
                                                          num_types     XkbCopyKeyType
                                                                        XkbCopyKeyTypes
       XkbKeySymsMask                   (1&lt;&lt;1)   client   syms          XkbGetKeySyms
                                                          size_syms     XkbResizeKeySyms
                                                          num_syms      XkbChangeTypesOfKey
                                                          key_sym_map
       XkbModifierMapMask               (1&lt;&lt;2)   client   modmap        XkbGetKeyModifierMap
       XkbExplicitComponentsMask        (1&lt;&lt;3)   server   explicit      XkbGetKeyExplicitComponents
       XkbKeyActionsMask                (1&lt;&lt;4)   server   key_acts      XkbGetKeyActions
                                                          acts          XkbResizeKeyActions
                                                          num_acts
                                                          size_acts
       XkbKeyBehaviorsMask              (1&lt;&lt;5)   server   behaviors     XkbGetKeyBehaviors
       XkbVirtualModsMask               (1&lt;&lt;6)   server   vmods         XkbGetVirtualMods
       XkbVirtualModMapMask             (1&lt;&lt;7)   server   vmodmap       XkbGetVirtualModMap

       <u>XkbGetUpdatedMap</u>  is  synchronous;  it queries the server for the desired information, waits for a reply,
       and then returns. If successful, <u>XkbGetUpdatedMap</u>  returns  Success.  If  unsuccessful,  <u>XkbGetUpdatedMap</u>
       returns  one  of  the  following:  BadAlloc (unable to allocate a component in the XkbDescRec structure),
       BadValue (some mask bits in <u>which</u> are undefined), BadImplementation (a  compatible  version  of  the  Xkb
       extension is not available in the server or the reply from the server was invalid).

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       Success        The  <u>XkbGetUpdatedMap</u>  function returns Success if a reply is received to the server query
                      for the desired information.

</pre><h4><b>STRUCTURES</b></h4><pre>
       The complete description of an Xkb keyboard is given by an XkbDescRec. The component  structures  in  the
       XkbDescRec represent the major Xkb components.

       typedef struct {
          struct _XDisplay * display;      /* connection to X server */
          unsigned short     flags;        /* private to Xkb, do not modify */
          unsigned short     device_spec;  /* device of interest */
          KeyCode            min_key_code; /* minimum keycode for device */
          KeyCode            max_key_code; /* maximum keycode for device */
          XkbControlsPtr     ctrls;        /* controls */
          XkbServerMapPtr    server;       /* server keymap */
          XkbClientMapPtr    map;          /* client keymap */
          XkbIndicatorPtr    indicators;   /* indicator map */
          XkbNamesPtr        names;        /* names for all components */
          XkbCompatMapPtr    compat;       /* compatibility map */
          XkbGeometryPtr     geom;         /* physical geometry of keyboard */
       } XkbDescRec, *XkbDescPtr;

       The  <u>display</u> field points to an X display structure. The <u>flags</u> field is private to the library: modifying
       <u>flags</u> may yield unpredictable results. The <u>device_spec</u> field  specifies  the  device  identifier  of  the
       keyboard  input device, or XkbUseCoreKeyboard, which specifies the core keyboard device. The <u>min_key_code</u>
       and <u>max_key_code</u> fields specify the least and greatest keycode that can be returned by the keyboard.

       Each structure component has a corresponding mask bit that is used in function calls to indicate that the
       structure should be manipulated in some manner, such as allocating it or  freeing  it.  These  masks  and
       their relationships to the fields in the XkbDescRec are shown in Table 2.
               Table 2 Mask Bits for XkbDescRec
       ──────────────────────────────────────────────────
       Mask Bit               XkbDescRec Field   Value
       ──────────────────────────────────────────────────
       XkbControlsMask        ctrls              (1L&lt;&lt;0)
       XkbServerMapMask       server             (1L&lt;&lt;1)
       XkbIClientMapMask      map                (1L&lt;&lt;2)
       XkbIndicatorMapMask    indicators         (1L&lt;&lt;3)
       XkbNamesMask           names              (1L&lt;&lt;4)
       XkbCompatMapMask       compat             (1L&lt;&lt;5)
       XkbGeometryMask        geom               (1L&lt;&lt;6)
       XkbAllComponentsMask   All Fields         (0x7f)

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       <b>BadAlloc</b>       Unable to allocate storage

       <b>BadImplementation</b>
                      Invalid reply from server

       <b>BadValue</b>       An argument is out of range

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/XkbChangeTypesOfKey.3.html">XkbChangeTypesOfKey</a></b>(3),         <b><a href="../man3/XkbCopyKeyType.3.html">XkbCopyKeyType</a></b>(3),        <b><a href="../man3/XkbCopyKeyTypes.3.html">XkbCopyKeyTypes</a></b>(3),        <b><a href="../man3/XkbGetKeyActions.3.html">XkbGetKeyActions</a></b>(3),
       <b><a href="../man3/XkbGetKeyBehaviors.3.html">XkbGetKeyBehaviors</a></b>(3),   <b><a href="../man3/XkbGetKeyExplicitComponents.3.html">XkbGetKeyExplicitComponents</a></b>(3),    <b><a href="../man3/XkbGetKeyModifierMap.3.html">XkbGetKeyModifierMap</a></b>(3),    <b><a href="../man3/XkbGetKeySyms.3.html">XkbGetKeySyms</a></b>(3),
       <b><a href="../man3/XkbGetKeyTypes.3.html">XkbGetKeyTypes</a></b>(3),        <b><a href="../man3/XkbResizeKeyActions.3.html">XkbResizeKeyActions</a></b>(3),        <b><a href="../man3/XkbResizeKeySyms.3.html">XkbResizeKeySyms</a></b>(3),        <b><a href="../man3/XkbResizeKeyType.3.html">XkbResizeKeyType</a></b>(3),
       <b><a href="../man3/XkbGetVirtualModMap.3.html">XkbGetVirtualModMap</a></b>(3), <b><a href="../man3/XkbGetVirtualMods.3.html">XkbGetVirtualMods</a></b>(3)

X Version 11                                      libX11 1.8.12                              <u><a href="../man3/XkbGetUpdatedMap.3.html">XkbGetUpdatedMap</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>