<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::UPnP::AV::MediaServer - Perl extension for UPnP.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-upnp-perl">libnet-upnp-perl_1.4.6-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::UPnP::AV::MediaServer - Perl extension for UPnP.

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Net::UPnP::ControlPoint;
           use Net::UPnP::AV::MediaServer;

           my $obj = Net::UPnP::ControlPoint-&gt;new();

           @dev_list = $obj-&gt;search(st =&gt;'upnp:rootdevice', mx =&gt; 3);

           $devNum= 0;
           foreach $dev (@dev_list) {
               $device_type = $dev-&gt;getdevicetype();
               if  ($device_type ne 'urn:schemas-upnp-org:device:MediaServer:1') {
                   next;
               }
               print "[$devNum] : " . $dev-&gt;getfriendlyname() . "\n";
               unless ($dev-&gt;getservicebyname('urn:schemas-upnp-org:service:ContentDirectory:1')) {
                   next;
               }
               $mediaServer = Net::UPnP::AV::MediaServer-&gt;new();
               $mediaServer-&gt;setdevice($dev);
               @content_list = $mediaServer-&gt;getcontentlist(ObjectID =&gt; 0);
               foreach $content (@content_list) {
                   print_content($mediaServer, $content, 1);
               }
               $devNum++;
           }

           sub print_content {
               my ($mediaServer, $content, $indent) = @_;
               my $id = $content-&gt;getid();
               my $title = $content-&gt;gettitle();
               for ($n=0; $n&lt;$indent; $n++) {
                   print "\t";
               }
               print "$id = $title";
               if ($content-&gt;isitem()) {
                   print " (" . $content-&gt;geturl();
                   if (length($content-&gt;getdate())) {
                       print " - " . $content-&gt;getdate();
                   }
                   print " - " . $content-&gt;getcontenttype() . ")";
               }
               print "\n";
               unless ($content-&gt;iscontainer()) {
                   return;
               }
               @child_content_list = $mediaServer-&gt;getcontentlist(ObjectID =&gt; $id );
               if (@child_content_list &lt;= 0) {
                   return;
               }
               $indent++;
               foreach my $child_content (@child_content_list) {
                   print_content($mediaServer, $child_content, $indent);
               }
           }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The package is a extension UPnP/AV media server.

</pre><h4><b>METHODS</b></h4><pre>
       <b>new</b> - create new Net::UPnP::AV::MediaServer.
               $mservier = Net::UPnP::AV::MediaServer();

           Creates a new object. Read `perldoc perlboot` if you don't understand that.

           The new object is not associated with any UPnP devices. Please use <b>setdevice()</b> to set the device.

       <b>setdevice</b> - set a UPnP devices
               $mservier-&gt;setdevice($dev);

           Set a device to the object.

       <b>browse</b> - browse the content directory.
               @action_response = $mservier-&gt;browse(
                                                   ObjectID =&gt; $objid, # 0
                                                   BrowseFlag =&gt; $browseFlag, # 'BrowseDirectChildren'
                                                   Filter =&gt; $filter, # "*'
                                                   StartingIndex =&gt; $startIndex, # 0
                                                   RequestedCount =&gt; $reqCount, # 0
                                                   SortCriteria =&gt; $sortCrit # ''
                                                   );

           Browse the content directory and return the action response, Net::UPnP::ActionResponse.

       <b>getcontentlist</b> - get the content list.
               @content_list = $mservier-&gt;getcontentlist(
                                                   ObjectID =&gt; $objid, # 0
                                                   Filter =&gt; $filter, # "*'
                                                   StartingIndex =&gt; $startIndex, # 0
                                                   RequestedCount =&gt; $reqCount, # 0
                                                   SortCriteria =&gt; $sortCrit # ''
                                                   );

           Browse  the  content  directory  and  return  the  content  list.  Please see Net::UPnP::AV::Content,
           Net::UPnP::AV::Item and Net::UPnP::AV::Container.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Net::UPnP::AV::Content

       Net::UPnP::AV::Item

       Net::UPnP::AV::Container

</pre><h4><b>AUTHOR</b></h4><pre>
       Satoshi Konno <a href="mailto:skonno@cybergarage.org">skonno@cybergarage.org</a>

       CyberGarage <a href="http://www.cybergarage.org">http://www.cybergarage.org</a>

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright (C) 2005 by Satoshi Konno

       It may be used, redistributed, and/or modified under the terms of BSD License.

perl v5.36.0                                       2022-12-06                    <u>Net::UPnP::AV::<a href="../man3pm/MediaServer.3pm.html">MediaServer</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>