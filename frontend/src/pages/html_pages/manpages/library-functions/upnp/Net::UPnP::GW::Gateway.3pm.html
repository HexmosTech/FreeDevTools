<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::UPnP::GW::Gateway - Perl extension for UPnP.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-upnp-perl">libnet-upnp-perl_1.4.6-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::UPnP::GW::Gateway - Perl extension for UPnP.

</pre><h4><b>SYNOPSIS</b></h4><pre>
               use Net::UPnP::ControlPoint;
               use Net::UPnP::GW::Gateway;

               my $obj = Net::UPnP::ControlPoint-&gt;new();

               @dev_list = ();
               while (@dev_list &lt;= 0 || $retry_cnt &gt; 5) {
               #       @dev_list = $obj-&gt;search(st =&gt;'urn:schemas-upnp-org:device:InternetGatewayDevice:1', mx =&gt; 10);
                       @dev_list = $obj-&gt;search(st =&gt;'upnp:rootdevice', mx =&gt; 3);
                       $retry_cnt++;
               }

               $devNum= 0;
               foreach $dev (@dev_list) {
                       my $device_type = $dev-&gt;getdevicetype();
                       if  ($device_type ne 'urn:schemas-upnp-org:device:InternetGatewayDevice:1') {
                               next;
                       }
                       print "[$devNum] : " . $dev-&gt;getfriendlyname() . "\n";
                       unless ($dev-&gt;getservicebyname('urn:schemas-upnp-org:service:WANIPConnection:1')) {
                               next;
                       }
                       my $gwdev = Net::UPnP::GW::Gateway-&gt;new();
                       $gwdev-&gt;setdevice($dev);
                       print "\tExternalIPAddress = " . $gwdev-&gt;getexternalipaddress() . "\n";
                       print "\tPortMappingNumberOfEntries = " . $gwdev-&gt;getportmappingnumberofentries() . "\n";
                       @port_mapping = $gwdev-&gt;getportmappingentries();
                       $port_num = 0;
                       foreach $port_entry (@port_mapping) {
                               $port_map_name = $port_entry-&gt;{'NewPortMappingDescription'};
                               if (length($port_map_name) &lt;= 0) {
                                       $port_map_name = "(No name)";
                               }
                               print "  [$port_num] : $port_map_name\n";
                               foreach $name ( keys %{$port_entry} ) {
                                       print "    $name = $port_entry-&gt;{$name}\n";
                               }
                               $port_num++;
                       }
               }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The package is a extension UPnP/GW.

</pre><h4><b>METHODS</b></h4><pre>
       <b>new</b> - create new Net::UPnP::GW::Gateway.
               $mservier = Net::UPnP::GW::Gateway();

           Creates a new object. Read `perldoc perlboot` if you don't understand that.

           The new object is not associated with any UPnP devices. Please use <b>setdevice()</b> to set the device.

       <b>setdevice</b> - set a UPnP devices
               $gw-&gt;setdevice($dev);

           Set a device to the object.

       <b>getexternalipaddress</b> - External IP address
               $gw-&gt;getexternalipaddress();

           Get the external IP address.

       <b>getportmappingnumberofentries</b> - PortMappingNumberOfEntries
               $gw-&gt;getportmappingnumberofentries();

           Get the number of the port mapping entries.

       <b>getportmappingentries</b> - PortMappingEntry
               $gw-&gt;getportmappingentries();

           Get the port mapping entries.

       <b>addportmapping</b> - add new port mapping.
               $result = gw-&gt;addportmapping(
                                         NewRemoteHost # '',
                                         NewExternalPort # '',
                                         NewProtocol # '',
                                         NewInternalPort # '',
                                         NewInternalClient # '',
                                         NewEnabled #1,
                                         NewPortMappingDescription # '',
                                         NewLeaseDuration # 0);

           Add a new specified port mapping.

       <b>deleteportmapping</b> - delete a port mapping.
               $result = gw-&gt;deleteportmapping(
                                         NewRemoteHost # '',
                                         NewExternalPort # '',
                                         NewProtocol # '');

           Delete the specified port mapping.

       <b>gettotalbytesreceived</b> - Total received bytes.
               $gw-&gt;gettotalbytesreceived();

           Get the total received bytes.

</pre><h4><b>AUTHOR</b></h4><pre>
       Satoshi Konno <a href="mailto:skonno@cybergarage.org">skonno@cybergarage.org</a>

       CyberGarage <a href="http://www.cybergarage.org">http://www.cybergarage.org</a>

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright (C) 2005 by Satoshi Konno

       It may be used, redistributed, and/or modified under the terms of BSD License.

perl v5.36.0                                       2022-12-06                        <u>Net::UPnP::GW::<a href="../man3pm/Gateway.3pm.html">Gateway</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>