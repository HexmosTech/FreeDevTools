<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SDLx::Controller::Interface - Interface Physics and Rendering with the Controller with callbacks</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsdl-perl">libsdl-perl_2.548-5build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SDLx::Controller::Interface - Interface Physics and Rendering with the Controller with callbacks

</pre><h4><b>CATEGORY</b></h4><pre>
       Extension, Controller

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use SDL;
        use SDLx::App;
        use SDLx::Controller::Interface;

        #SDLx::App is a controller
        my $app = SDLx::App-&gt;new(width =&gt; 200, height =&gt; 200 );

        my $ball = SDLx::Controller::Interface-&gt;new( x=&gt; 10, y =&gt; 50, v_x =&gt; 10, v_y=&gt; 20 );
        #Set the initial state of the ball's physics, this is optional

        $ball-&gt;set_acceleration(
           sub {
                     my ($time, $current_state) = @_;
                     return( 0, -10, 0 ); # Return accelerations (x,y,rotation)
               }
        );

        my $ball_render = sub {
              my $state = shift;

              $app-&gt;draw_rect( undef, 0 );
              $app-&gt;draw_rect( [$state-&gt;x, $state-&gt;y, 10,10], [255,0,0,255] );
              $app-&gt;update();
        };

        $ball-&gt;attach( $app, $ball_render, @params );

        $app-&gt;run();

        $ball-&gt;detach(); #can be called at anytime (for example when ball 'dies')

</pre><h4><b>DESCRIPTION</b></h4><pre>
</pre><h4><b>METHODS</b></h4><pre>
   <b>set_acceleration</b>
       Allows you to set the acceleration callback for defining the interface's behaviour in terms of x,y and
       rotation.

         $interface-&gt;set_acceleration (
             sub {
                my ($time, $current_state) = @_;

                return ( $accel_x, $accel_y, $torque );
             }
         );

       These accelerations are arbitrary and can be set to any frame of reference.  Your render callback will
       handle how to interpret it.

       The callback will receive the time and the current state as a "SDLx::Controller::State" element.

   <b>attach</b>
       Attaches the interface to a controller with a render callback

         $interface-&gt;attach( $controller, $render, @params );

       Where $render is a callback that receives the interpolated "SDLx::Controller::State".

         my $render = sub {
               my ($state, @params) = @_;
               # draw the current $state.
         };

       The @params are any extra parameters you would like to pass to the $render callback.

   <b>current</b>
         my $current_state = $interface-&gt;current();

       Returns the current state of the interface as a "SDLx::Controller::State".

   <b>previous</b>
         my $previous_state = $interface-&gt;previous();

       Returns the previous state of the interface as a "SDLx::Controller::State".

   <b>detach</b>
         $interface-&gt;detach();

       If $interface has been attach()'ed to any controller it will be detached now.

</pre><h4><b>OTHER</b> <b>METHODS</b></h4><pre>
       Don't use these unless you really really want to.

   <b>acceleration</b>
       Call the acceleration callback once.

   <b>interpolate</b>
       Interpolate the current state

   <b>evaluate</b>
       Evaluate the new current and previous state.

   <b>update</b>
       Update the states by integrating with time.

</pre><h4><b>AUTHORS</b></h4><pre>
       See "AUTHORS" in SDL.

perl v5.40.0                                       2024-10-20             <u>pods::SDLx::Controller::<a href="../man3pm/Interface.3pm.html">Interface</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>