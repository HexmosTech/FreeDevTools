<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MooseX::Getopt - A Moose role for processing command line options</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmoosex-getopt-perl">libmoosex-getopt-perl_0.78-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       MooseX::Getopt - A Moose role for processing command line options

</pre><h4><b>VERSION</b></h4><pre>
       version 0.78

</pre><h4><b>SYNOPSIS</b></h4><pre>
         ## In your class
         package My::App;
         use Moose;

         with 'MooseX::Getopt';

         has 'out' =&gt; (is =&gt; 'rw', isa =&gt; 'Str', required =&gt; 1);
         has 'in'  =&gt; (is =&gt; 'rw', isa =&gt; 'Str', required =&gt; 1);

         # ... rest of the class here

         ## in your script
         #!<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?perl">/usr/bin/perl</a>

         use My::App;

         my $app = My::App-&gt;new_with_options();
         # ... rest of the script here

         ## on the command line
         % perl my_app_script.pl -in file.input -out file.dump

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This is a role which provides an alternate constructor for creating objects using parameters passed in
       from the command line.

</pre><h4><b>METHODS</b></h4><pre>
   <b>"new_with_options</b> <b>(%params)"</b>
       This method will take a set of default %params and then collect parameters from the command line
       (possibly overriding those in %params) and then return a newly constructed object.

       The special parameter "argv", if specified should point to an array reference with an array to use
       instead of @ARGV.

       If "GetOptions" in Getopt::Long fails (due to invalid arguments), "new_with_options" will throw an
       exception.

       If Getopt::Long::Descriptive is installed and any of the following command line parameters are passed,
       the program will exit with usage information (and the option's state will be stored in the help_flag
       attribute). You can add descriptions for each option by including a <b>documentation</b> option for each
       attribute to document.

         -?
         --?
         -h
         --help
         --usage

       If you have Getopt::Long::Descriptive the "usage" parameter is also passed to "new" as the usage option.

   <b>"ARGV"</b>
       This accessor contains a reference to a copy of the @ARGV array as it originally existed at the time of
       "new_with_options".

   <b>"extra_argv"</b>
       This accessor contains an arrayref of leftover @ARGV elements that Getopt::Long did not parse.  Note that
       the real @ARGV is left untouched.

       <b>Important</b>: By default, Getopt::Long will reject unrecognized <u>options</u> (that is, options that do not
       correspond with attributes using the "Getopt" trait). To disable this, and allow options to also be saved
       in "extra_argv" (for example to pass along to another class's "new_with_options"), you can either enable
       the "pass_through" option of Getopt::Long for your class:  "use Getopt::Long qw(:config pass_through);"
       or specify a value for MooseX::Getopt::GLD's "getopt_conf" parameter.

   <b>"usage"</b>
       This accessor contains the Getopt::Long::Descriptive::Usage object (if Getopt::Long::Descriptive is
       used).

   <b>"help_flag"</b>
       This accessor contains the boolean state of the --help, --usage and --?  options (true if any of these
       options were passed on the command line).

   <b>"print_usage_text"</b>
       This method is called internally when the "help_flag" state is true.  It prints the text from the "usage"
       object (see above) to "STDOUT" (and then after this method is called, the program terminates normally).
       You can apply a method modification (see Moose::Manual::MethodModifiers) if different behaviour is
       desired, for example to include additional text.

   <b>"meta"</b>
       This returns the role meta object.

   <b>"process_argv</b> <b>(%params)"</b>
       This does most of the work of "new_with_options", analyzing the parameters and "argv", except for
       actually calling the constructor. It returns a MooseX::Getopt::ProcessedArgv object. "new_with_options"
       uses this method internally, so modifying this method via subclasses/roles will affect
       "new_with_options".

       This module attempts to DWIM as much as possible with the command line parameters by introspecting your
       class's attributes. It will use the name of your attribute as the command line option, and if there is a
       type constraint defined, it will configure Getopt::Long to handle the option accordingly.

       You can use the trait MooseX::Getopt::Meta::Attribute::Trait or the attribute metaclass
       MooseX::Getopt::Meta::Attribute to get non-default command-line option names and aliases.

       You can use the trait MooseX::Getopt::Meta::Attribute::Trait::NoGetopt or the attribute metaclass
       MooseX::Getopt::Meta::Attribute::NoGetopt to have "MooseX::Getopt" ignore your attribute in the command-
       line options.

       By default, attributes which start with an underscore are not given command-line argument support, unless
       the attribute's metaclass is set to MooseX::Getopt::Meta::Attribute. If you don't want your accessors to
       have the leading underscore in their name, you can do this:

         # for read/write attributes
         has '_foo' =&gt; (accessor =&gt; 'foo', ...);

         # or for read-only attributes
         has '_bar' =&gt; (reader =&gt; 'bar', ...);

       This will mean that MooseX::Getopt will not handle a --foo parameter, but your code can still call the
       "foo" method.

       If your class also uses a configfile-loading role based on MooseX::ConfigFromFile, such as
       MooseX::SimpleConfig, MooseX::Getopt's "new_with_options" will load the configfile specified by the
       "--configfile" option (or the default you've given for the configfile attribute) for you.

       Options specified in multiple places follow the following precedence order: command-line overrides
       configfile, which overrides explicit new_with_options parameters.

   <b>Supported</b> <b>Type</b> <b>Constraints</b>
       <u>Bool</u>
           A  <u>Bool</u>  type  constraint  is  set  up  as a boolean option with Getopt::Long. So that this attribute
           description:

             has 'verbose' =&gt; (is =&gt; 'rw', isa =&gt; 'Bool');

           would translate into "verbose!" as a Getopt::Long option descriptor, which would enable the following
           command line options:

             % my_script.pl --verbose
             % my_script.pl --noverbose

       <u>Int</u>, <u>Float</u>, <u>Str</u>
           These type constraints are set up as properly typed options with Getopt::Long, using the  "=i",  "=f"
           and "=s" modifiers as appropriate.

       <u>ArrayRef</u>
           An  <u>ArrayRef</u>  type  constraint  is  set  up  as a multiple value option in Getopt::Long. So that this
           attribute description:

             has 'include' =&gt; (
                 is      =&gt; 'rw',
                 isa     =&gt; 'ArrayRef',
                 default =&gt; sub { [] }
             );

           would translate into "includes=s@" as a  Getopt::Long  option  descriptor,  which  would  enable  the
           following command line options:

             % my_script.pl --include <a href="file:/usr/lib">/usr/lib</a> --include <a href="file:/usr/local/lib">/usr/local/lib</a>

       <u>HashRef</u>
           A  <u>HashRef</u>  type  constraint is set up as a hash value option in Getopt::Long. So that this attribute
           description:

             has 'define' =&gt; (
                 is      =&gt; 'rw',
                 isa     =&gt; 'HashRef',
                 default =&gt; sub { {} }
             );

           would translate into "define=s%"  as  a  Getopt::Long  option  descriptor,  which  would  enable  the
           following command line options:

             % my_script.pl --define os=linux --define vendor=debian

   <b>Custom</b> <b>Type</b> <b>Constraints</b>
       It  is possible to create custom type constraint to option spec mappings if you need them. The process is
       fairly simple (but a little verbose maybe). First you create a custom subtype, like so:

         subtype 'ArrayOfInts'
             =&gt; as 'ArrayRef'
             =&gt; where { scalar (grep { looks_like_number($_) } @$_)  };

       Then you register the mapping, like so:

         MooseX::Getopt::OptionTypeMap-&gt;add_option_type_to_map(
             'ArrayOfInts' =&gt; '=i@'
         );

       Now any attribute declarations using this type constraint will get the custom option spec. So that, this:

         has 'nums' =&gt; (
             is      =&gt; 'ro',
             isa     =&gt; 'ArrayOfInts',
             default =&gt; sub { [0] }
         );

       Will translate to the following on the command line:

         % my_script.pl --nums 5 --nums 88 --nums 199

       This example is fairly  trivial,  but  more  complex  validations  are  easily  possible  with  a  little
       creativity. The trick is balancing the type constraint validations with the Getopt::Long validations.

       Better examples are certainly welcome :)

   <b>Inferred</b> <b>Type</b> <b>Constraints</b>
       If  you  define  a  custom subtype which is a subtype of one of the standard "Supported Type Constraints"
       above, and do not explicitly provide custom support as in "Custom Type Constraints" above, MooseX::Getopt
       will treat it like the parent type for Getopt purposes.

       For example, if you had the same custom "ArrayOfInts" subtype from the examples above, but did not add  a
       new  custom  option type for it to the "OptionTypeMap", it would be treated just like a normal "ArrayRef"
       type for Getopt purposes (that is, "=s@").

   <b>More</b> <b>Customization</b> <b>Options</b>
       See "Configuring Getopt::Long" in Getopt::Long for many other customizations you can make to how  options
       are parsed. Simply "use Getopt::Long qw(:config other_options...)" in your class to set these.

       Note   in   particular  that  the  default  setting  for  case  sensitivity  has  changed  over  time  in
       Getopt::Long::Descriptive, so if you rely on a particular setting,  you  should  set  it  explicitly,  or
       enforce the version of Getopt::Long::Descriptive that you install.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       •   MooseX::Getopt::Usage, an extension to generate man pages, with colour

       •   MooX::Options, similar functionality for Moo

</pre><h4><b>SUPPORT</b></h4><pre>
       Bugs         may        be        submitted        through        the        RT        bug        tracker
       &lt;https://rt.cpan.org/Public/Dist/Display.html?Name=MooseX-Getopt&gt;    (or    <a href="mailto:bug-MooseX-Getopt@rt.cpan.org">bug-MooseX-Getopt@rt.cpan.org</a>
       &lt;<a href="mailto:bug-MooseX-Getopt@rt.cpan.org">mailto:bug-MooseX-Getopt@rt.cpan.org</a>&gt;).

       There    is    also    a    mailing    list    available    for    users   of   this   distribution,   at
       &lt;<a href="http://lists.perl.org/list/moose.html">http://lists.perl.org/list/moose.html</a>&gt;.

       There is also an irc channel available for users of this  distribution,  at  "#moose"  on  "irc.perl.org"
       &lt;irc://irc.perl.org/#moose&gt;.

</pre><h4><b>AUTHOR</b></h4><pre>
       Stevan Little &lt;<a href="mailto:stevan@iinteractive.com">stevan@iinteractive.com</a>&gt;

</pre><h4><b>CONTRIBUTORS</b></h4><pre>
       •   Karen Etheridge &lt;<a href="mailto:ether@cpan.org">ether@cpan.org</a>&gt;

       •   Tomas Doran &lt;<a href="mailto:bobtfish@bobtfish.net">bobtfish@bobtfish.net</a>&gt;

       •   Stevan Little &lt;<a href="mailto:stevan.little@iinteractive.com">stevan.little@iinteractive.com</a>&gt;

       •   Yuval Kogman &lt;<a href="mailto:nothingmuch@woobling.org">nothingmuch@woobling.org</a>&gt;

       •   Florian Ragwitz &lt;<a href="mailto:rafl@debian.org">rafl@debian.org</a>&gt;

       •   Brandon L Black &lt;<a href="mailto:blblack@gmail.com">blblack@gmail.com</a>&gt;

       •   Shlomi Fish &lt;<a href="mailto:shlomif@cpan.org">shlomif@cpan.org</a>&gt;

       •   Hans Dieter Pearcey &lt;<a href="mailto:hdp@weftsoar.net">hdp@weftsoar.net</a>&gt;

       •   Olaf Alders &lt;<a href="mailto:olaf@wundersolutions.com">olaf@wundersolutions.com</a>&gt;

       •   Dave Rolsky &lt;<a href="mailto:autarch@urth.org">autarch@urth.org</a>&gt;

       •   Nelo Onyiah &lt;<a href="mailto:nelo.onyiah@gmail.com">nelo.onyiah@gmail.com</a>&gt;

       •   Ryan D Johnson &lt;<a href="mailto:ryan@innerfence.com">ryan@innerfence.com</a>&gt;

       •   Ricardo SIGNES &lt;<a href="mailto:rjbs@cpan.org">rjbs@cpan.org</a>&gt;

       •   Ævar Arnfjörð Bjarmason &lt;<a href="mailto:avarab@gmail.com">avarab@gmail.com</a>&gt;

       •   Damien Krotkine &lt;<a href="mailto:dkrotkine@weborama.com">dkrotkine@weborama.com</a>&gt;

       •   Hinrik Örn Sigurðsson &lt;<a href="mailto:hinrik.sig@gmail.com">hinrik.sig@gmail.com</a>&gt;

       •   Andreas Koenig &lt;<a href="mailto:andk@cpan.org">andk@cpan.org</a>&gt;

       •   Chris Prather &lt;<a href="mailto:chris@prather.org">chris@prather.org</a>&gt;

       •   Devin Austin &lt;<a href="mailto:dhoss@cpan.org">dhoss@cpan.org</a>&gt;

       •   Gregory Oschwald &lt;<a href="mailto:goschwald@maxmind.com">goschwald@maxmind.com</a>&gt;

       •   Jose Luis Martinez &lt;<a href="mailto:jlmartinez@capside.com">jlmartinez@capside.com</a>&gt;

       •   Todd Hepler &lt;<a href="mailto:thepler@employees.org">thepler@employees.org</a>&gt;

       •   Dagfinn Ilmari Mannsåker &lt;<a href="mailto:ilmari@ilmari.org">ilmari@ilmari.org</a>&gt;

       •   Damyan Ivanov &lt;<a href="mailto:dmn@debian.org">dmn@debian.org</a>&gt;

       •   Drew Taylor &lt;<a href="mailto:drew@drewtaylor.com">drew@drewtaylor.com</a>&gt;

       •   Gordon Irving &lt;<a href="mailto:goraxe@goraxe.me.uk">goraxe@goraxe.me.uk</a>&gt;

       •   Jesse Luehrs &lt;<a href="mailto:doy@tozt.net">doy@tozt.net</a>&gt;

       •   John Goulah &lt;<a href="mailto:jgoulah@cpan.org">jgoulah@cpan.org</a>&gt;

       •   Jonathan Swartz &lt;<a href="mailto:swartz@pobox.com">swartz@pobox.com</a>&gt;

       •   Justin Hunter &lt;<a href="mailto:justin.d.hunter@gmail.com">justin.d.hunter@gmail.com</a>&gt;

       •   Michael Schout &lt;<a href="mailto:mschout@gkg.net">mschout@gkg.net</a>&gt;

       •   Stuart A Johnston &lt;<a href="mailto:saj_git@thecommune.net">saj_git@thecommune.net</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2007 by Infinity Interactive, Inc.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.40.0                                       2025-01-11                                <u>MooseX::<a href="../man3pm/Getopt.3pm.html">Getopt</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>