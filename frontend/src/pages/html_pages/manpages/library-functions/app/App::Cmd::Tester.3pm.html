<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App::Cmd::Tester - for capturing the result of running an app</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libapp-cmd-perl">libapp-cmd-perl_0.337-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       App::Cmd::Tester - for capturing the result of running an app

</pre><h4><b>VERSION</b></h4><pre>
       version 0.337

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Test::More tests =&gt; 4;
         use App::Cmd::Tester;

         use YourApp;

         my $result = test_app(YourApp =&gt; [ qw(command --opt value) ]);

         like($result-&gt;stdout, qr/expected output/, 'printed what we expected');

         is($result-&gt;stderr, '', 'nothing sent to sderr');

         is($result-&gt;error, undef, 'threw no exceptions');

         my $result = test_app(YourApp =&gt; [ qw(command --opt value --quiet) ]);

         is($result-&gt;output, '', 'absolutely no output with --quiet');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       One of the reasons that user-executed programs are so often poorly tested is that they are hard to test.
       App::Cmd::Tester is one of the tools App-Cmd provides to help make it easy to test App::Cmd-based
       programs.

       It provides one routine: test_app.

</pre><h4><b>PERL</b> <b>VERSION</b></h4><pre>
       This library should run on perls released even a long time ago.  It should work on any version of perl
       released in the last five years.

       Although it may work on older versions of perl, no guarantee is made that the minimum required version
       will not be increased.  The version may be increased for any reason, and there is no promise that patches
       will be accepted to lower the minimum required perl.

</pre><h4><b>METHODS</b></h4><pre>
   <b>test_app</b>
       <b>Note</b>: while "test_app" is a method, it is by default exported as a subroutine into the namespace that
       uses App::Cmd::Tester.  In other words: you probably don't need to think about this as a method unless
       you want to subclass App::Cmd::Tester.

         my $result = test_app($app_class =&gt; \@argv_contents);

       This will locally set @ARGV to simulate command line arguments, and will then call the "run" method on
       the given application class (or application).  Output to the standard output and standard error
       filehandles  will be captured.

       $result is an App::Cmd::Tester::Result object, which has methods to access the following data:

         stdout - the output sent to stdout
         stderr - the output sent to stderr
         output - the combined output of stdout and stderr
         error  - the exception thrown by running the application, or undef
         run_rv - the return value of the run method (generally irrelevant)
         exit_code - the numeric exit code that would've been issued (0 is 'okay')

       The output is captured using IO::TieCombine, which <u>can</u> ensure that the ordering is preserved in the
       combined output, but <u>can't</u> capture the output of external programs.  You can reverse these tradeoffs by
       using App::Cmd::Tester::CaptureExternal instead.

</pre><h4><b>AUTHOR</b></h4><pre>
       Ricardo Signes &lt;<a href="mailto:cpan@semiotic.systems">cpan@semiotic.systems</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2024 by Ricardo Signes.

       This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.40.0                                       2025-01-17                              <u>App::Cmd::<a href="../man3pm/Tester.3pm.html">Tester</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>