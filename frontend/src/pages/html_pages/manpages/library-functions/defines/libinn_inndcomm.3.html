<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>inndcomm - Routines for managing innd control commands</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/inn2-dev">inn2-dev_2.7.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       inndcomm - Routines for managing innd control commands

</pre><h4><b>SYNOPSIS</b></h4><pre>
           #include &lt;inn/inndcomm.h&gt;

           #define SC_ADDHIST ...
           #define SC_ALLOW ...
           #define SC_BEGIN ...
           #define SC_CANCEL ...
           #define SC_CHANGEGROUP ...
           #define SC_CHECKFILE ...
           #define SC_DROP ...
           #define SC_FEEDINFO ...
           #define SC_FLUSH ...
           #define SC_FLUSHLOGS ...
           #define SC_GO ...
           #define SC_HANGUP ...
           #define SC_LOGMODE ...
           #define SC_LOWMARK ...
           #define SC_MODE ...
           #define SC_NAME ...
           #define SC_NEWGROUP ...
           #define SC_PARAM ...
           #define SC_PAUSE ...
           #define SC_PERL ...
           #define SC_PYTHON ...
           #define SC_READERS ...
           #define SC_REJECT ...
           #define SC_RELOAD ...
           #define SC_RENUMBER ...
           #define SC_RESERVE ...
           #define SC_RMGROUP ...
           #define SC_SEND ...
           #define SC_SHUTDOWN ...
           #define SC_STATHIST ...
           #define SC_STATUS ...
           #define SC_SIGNAL ...
           #define SC_THROTTLE ...
           #define SC_TIMER ...
           #define SC_TRACE ...
           #define SC_XABORT ...
           #define SC_XEXEC ...

           #define MAX_REASON_LEN ...

           extern int ICCopen(void);
           extern int ICCclose(void);
           extern void ICCsettimeout(int i);
           extern int ICCcommand(char cmd, const char *argv[], char **replyp);
           extern int ICCcancel(const char *msgid);
           extern int ICCpause(const char *why);
           extern int ICCreserve(const char *why);
           extern int ICCgo(const char *why);

           extern const char *ICCfailure;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The routines described in this manual page are part of the InterNetNews library, <a href="../man3/libinn.3.html">libinn</a>(3).  They are
       used to send commands to a running <b>innd</b> daemon on the local host.  The letters "ICC" stand for <b>I</b>nnd
       <b>C</b>ontrol <b>C</b>ommand.

       The <b>ICCopen</b> function creates a Unix-domain datagram socket and binds it to the server's control socket,
       if such sockets are supported.  Otherwise, it creates a named pipe for communicating with the server.  It
       returns "-1" on failure or "0" on success.  This routine must be called before any other routine.

       The <b>ICCclose</b> function closes any descriptors that have been created by <b>ICCopen</b>.  It returns "-1" on
       failure or "0" on success.

       The <b>ICCsettimeout</b> function can be called before any of the following routines to determine how long the
       library should wait before giving up on getting the server's reply.  This is done by setting and catching
       a SIGALRM <a href="../man2/signal.2.html">signal</a>(2).  If the timeout is less than zero, then no reply will be waited for.  The
       <b>SC_SHUTDOWN</b>, <b>SC_XABORT</b>, and <b>SC_XEXEC</b> commands do not get a reply either.  The default, which can be
       obtained by setting the timeout to &lt;0&gt;, is to wait during 2 minutes.

       The <b>ICCcommand</b> function sends the command <u>cmd</u> with parameters <u>argv</u> to the server.  It returns "-1" on
       error.  If the server replies, and <u>replyp</u> is not NULL, it will be filled in with an allocated buffer that
       contains the full text of the server's reply.  This buffer is a string in the form of "<u>digits</u> <u>text</u>" where
       <u>digits</u> is the text value of the recommended exit code (usually "1", followed with <u>text</u>, giving the reason
       of the failure); a "0" value indicates success.  Replies longer than 64KB will be truncated.  The
       possible values of <u>cmd</u> are defined in the <u>inn/inndcomm.h</u> header file, and also in the SYNOPSIS of this
       man page.  The parameters for each command are described in <a href="../man8/ctlinnd.8.html">ctlinnd</a>(8).  This routine returns "-1" on
       communication failure, or the exit status sent by the server which will never be negative.

       The <b>ICCcancel</b> function sends a "cancel" message to the server.  Its <u>msgid</u> argument is the Message-ID of
       the article that should be cancelled.  The return value is the same as for <b>ICCcommand</b>.

       The <b>ICCpause</b>, <b>ICCreserve</b>, and <b>ICCgo</b> functions send a "pause", "reserve", or "go" command to the server,
       respectively.  If <b>ICCreserve</b> is used, then the <u>why</u> value used in the <b>ICCpause</b> invocation must match; the
       value used in the <b>ICCgo</b> invocation must always match the one used in the <b>ICCpause</b> invocation.  The return
       value for all three routines is the same as for <b>ICCcommand</b>.

       If any routine described above fails, the <u>ICCfailure</u> variable will identify the system call that failed.

</pre><h4><b>HISTORY</b></h4><pre>
       Written by Rich $alz &lt;<a href="mailto:rsalz@uunet.uu.net">rsalz@uunet.uu.net</a>&gt; for InterNetNews.  Rewritten into POD by Julien Elie.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/ctlinnd.8.html">ctlinnd</a>(8), <a href="../man8/innd.8.html">innd</a>(8), <a href="../man3/libinn.3.html">libinn</a>(3).

INN 2.7.3                                          2025-05-19                                 <u><a href="../man3/libinn_inndcomm.3.html">libinn_inndcomm</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>