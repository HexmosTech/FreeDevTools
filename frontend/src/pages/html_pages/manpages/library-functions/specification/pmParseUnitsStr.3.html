<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmParseUnitsStr - parse units specification</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpcp3-dev">libpcp3-dev_6.3.8-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmParseUnitsStr</b> - parse units specification

</pre><h4><b>C</b> <b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;pcp/pmapi.h&gt;</b>

       <b>int</b> <b>pmParseUnitsStr(const</b> <b>char</b> <b>*</b><u>string</u><b>,</b> <b>struct</b> <b>pmUnits</b> <b>*</b><u>out</u><b>,</b> <b>double</b> <b>*</b><u>outMult</u><b>,</b> <b>char</b> <b>**</b><u>errMsg</u><b>);</b>

       <b>cc</b> <b>...</b> <b>-lpcp</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pmParseUnitsStr</b> is designed to encapsulate the interpretation of a units (dimension and scale) specifica‐
       tion in command line switches for use by the PCP client tools.

       This function expects to be called with the unit/scale specification as <u>string</u>.  This specification takes
       the general form produced by <b><a href="../man3/pmUnitsStr.3.html">pmUnitsStr</a></b>(3).  Briefly, the format allows <b>/</b>-separated divisor and dividend,
       each  listing  space-separated dimensions/scales along the space, time, and count axes.  There are also a
       few extra possibilities:

       First, multiple equivalent sets of keywords are accepted for the time and space  dimensions,  insensitive
       to  case.  For example, "microseconds", "microsecond", "microsec", "us" are considered synonymous, as are
       "kilobytes", "KB", "KiB", "kiloByte", and so on.

       Second, units may be offered in any order, e.g., <b>ms</b> <b>kb</b> <b>count</b> <b>x</b> <b>10^3</b> or <b>count</b> <b>x</b> <b>10^3</b> <b>kb</b> <b>ms</b>.  They may  not
       be  repeated  within the denominator or within the numerator.  Each scale/unit keyword may be immediately
       followed by positive or negative exponents, e.g., <b>^-4</b>.

       Third, numerical scaling factors may be supplied.  These are factored together with implicit  scale  con‐
       versions into the final <u>outMult</u> result.

       The  <u>out</u>  and <u>outMult</u> values must both be allocated before calling <b><a href="../man3/pmParseUnitsStr.3.html">pmParseUnitsStr</a></b>(3).  If the conversion
       is successful, <b>pmParseUnitsStr</b> returns 0, and fills in <b>out</b> and <b>outMult</b> with the  unit/scales  defined  by
       the input parameter.  If the argument strings could not be parsed, it returns a negative status code.

</pre><h4><b>EXAMPLES</b></h4><pre>
                           ┌───────────────────────────────────┬────────────────┬─────────┐
                           │              string               │      out       │ outMult │
                           ├───────────────────────────────────┼────────────────┼─────────┤
                           │ 2 count                           │ {0,1,0,0,0,0}  │ 0.5     │
                           │ count / 7.5 nanosecond            │ {0,1,-1,0,0,0} │ 7.5     │
                           │ 10 kilobytes / 2.5e2 count x 10^3 │ {1,-1,0,1,3,0} │ 25      │
                           │ millisecond / second^2            │ {0,0,-1,0,0,3} │ 1000    │
                           │ mib/s                             │ {1,0,-1,2,0,3} │ 1       │
                           └───────────────────────────────────┴────────────────┴─────────┘

</pre><h4><b>BUGS</b></h4><pre>
       For  backward  compatibility,  this interface interprets several traditional computer science interpreta‐
       tions of space units incorrectly according to the International System of Units (SI) standard.

       The accepted unit string - in either singular or plural form - and the <b>pmParseUnitsStr</b> interpretation for
       each are: <b>megabyte</b> (is really <b>mebibyte</b>), <b>gigabyte</b> (is really <b>gibibyte</b>), <b>terabyte</b>  (is  really  <b>tebibyte</b>),
       <b>petabyte</b> (is really <b>pebibyte</b>), <b>exabyte</b> (is really <b>exbibyte</b>), <b>zettabyte</b> (is really <b>zebibyte</b>) and <b>yottabyte</b>
       (is really <b>yobibyte</b>).

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       A  zero status indicates success.  A negative status indicates an error, in which case the <u>errMsg</u> pointer
       will contain a textual error message, which the caller should later <b><a href="../man3/free.3.html">free</a></b>(3).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/PMAPI.3.html">PMAPI</a></b>(3), <b><a href="../man3/pmUnitsStr.3.html">pmUnitsStr</a></b>(3), <b><a href="../man3/pmConvScale.3.html">pmConvScale</a></b>(3), and <b><a href="../man3/pmLookupDesc.3.html">pmLookupDesc</a></b>(3).

Performance Co-Pilot                                   PCP                                    <u><a href="../man3/PMPARSEUNITSSTR.3.html">PMPARSEUNITSSTR</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>