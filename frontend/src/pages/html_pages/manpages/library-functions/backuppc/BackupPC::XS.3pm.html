<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BackupPC::XS - Perl extension for BackupPC libraries</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbackuppc-xs-perl">libbackuppc-xs-perl_0.62-2build6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       BackupPC::XS - Perl extension for BackupPC libraries

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use BackupPC::XS;
         use BackupPC::XS qw( :all );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       BackupPC::XS provides various submodules that implement various BackupPC library functions.  The
       following sections describe each submodule.

       This documentation is very terse.  BackupPC::XS is not intended to be a general-purpose module - it is
       closely tied to BackupPC.  Look in the BackupPC code to see examples of using this module.

   <b>BackupPC::XS::FileZIO</b>
       Compressed file I/O using zlib:

           $fd = BackupPC::XS::FileZIO::open($fileName, $writeFlag, $compressLevel);
           $fd = BackupPC::XS::FileZIO::fdopen($stream, $writeFlag, $compressLevel);
           $nWrite   = $fd-&gt;write($dataRef);
           $nRead    = $fd-&gt;read($dataRef, $maxRead);
           $textLine = $fd-&gt;readLine();
           $fd-&gt;rewind();
           $fd-&gt;close();
           $fd-&gt;writeTeeStderr($boolean);

   <b>BackupPC::XS::PoolRefCnt</b>
       Pool file reference counting:

           $countDB = BackupPC::XS::PoolRefCnt::new(initialEntryCnt);
           $refCount = $countDB-&gt;get($digest);
           $countDB-&gt;set($digest, $refCount);
           $countDB-&gt;delete($digest);
           $countDB-&gt;incr($digest, $refIncr);
           ($digest, $refCnt, $idx) = $countDB-&gt;iterate($idx);
           $countDB-&gt;read($fileName);
           $countDB-&gt;write($fileName);
           $countDB-&gt;print();

       Pool file delta accumulation:

           BackupPC::XS::PoolRefCnt::DeltaFileInit($hostDir);
           BackupPC::XS::PoolRefCnt::DeltaFileFlush();
           BackupPC::XS::PoolRefCnt::DeltaUpdate($digest, $refIncr);
           BackupPC::XS::PoolRefCnt::DeltaPrint();

   <b>BackupPC::XS::PoolWrite</b>
       Writing and matching files in the pool:

           $poolWrite = BackupPC::XS::PoolWrite::new($compressLevel [, $digest]);
           $poolWrite-&gt;write($dataRef);
           ($match, $digest, $poolSize, $error) = $poolWrite-&gt;close();
           $poolWrite-&gt;addToPool($fileName, $isV3PoolFile);

   <b>BackupPC::XS::Attrib</b>
       Manipulating a set of files and attributes (typically one directory's worth):

           $a = BackupPC::XS::Attrib::new($compressLevel);
           $attrHash = $a-&gt;get($fileName);
           $a-&gt;set($fileName, $attrHash);
           $numDirEntries = $a-&gt;count();
           $a-&gt;read($dirPath, $attribFileName);
           $a-&gt;write($dirPath, $attribFileName);

           $textType = BackupPC::XS::Attrib::fileType2Text(BPC_FTYPE_....);

   <b>BackupPC::XS::AttribCache</b>
       Maintain a cache of directories, with full share/path semantics.

           $ac = BackupPC::XS::AttribCache::new($host, $backupNum, $shareNameUM, $compress);

           $attrHash = $ac-&gt;get($fileName, $allocateIfMissing, $dontReadInode);
           $ac-&gt;set($fileName, $attrHash, $dontOverwriteInode);
           $ac-&gt;delete($fileName);

           $attrHash = $ac-&gt;getInode($inode, $allocateIfMissing);
           $ac-&gt;setInode($inode, $attrHash);
           $ac-&gt;deleteInode($inode);

           $ac-&gt;getAll($path, $dontReadInode);

           $ac-&gt;flush($all, $path);
           $ac-&gt;getFullMangledPath($path);

   <b>BackupPC::XS::DirOps</b>
           $zeroMeansOk = BackupPC::XS::DirOps::path_create($path);
           $errorCnt = BackupPC::XS::DirOps::path_remove($path, $compress);

           $errorCnt = BackupPC::XS::DirOps::refCountAll($path, $compress);

           $lockFd = BackupPC::XS::DirOps::lockRangeFile($lockFile, $offset, $len, $block);
           BackupPC::XS::DirOps::unlockRangeFile($lockFd);

   <b>BackupPC::XS::Lib</b>
           BackupPC::XS::Lib::ConfInit($topDir, $hardLinkMax, $poolV3Enabled, $logLevel)

           $messageArrayRef = BackupPC::XS::Lib::logMsgGet();
           $errorCnt = BackupPC::XS::Lib::logErrorCntGet;
           BackupPC::XS::Lib::logLevelSet($level);

</pre><h4><b>EXPORTS</b></h4><pre>
       If you specify :all (see SYNOPSIS), then the BPC_FTYPE_ values are exported.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       BackupPC, backuppc.sourceforge.net.

       rsync-bpc.

</pre><h4><b>AUTHOR</b></h4><pre>
       Craig Barratt, &lt;<a href="mailto:cbarratt@users.sourceforge.net">cbarratt@users.sourceforge.net</a>&lt;gt&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       BackupPC code is copyright (C) 2013-2017 Craig Barratt &lt;<a href="mailto:cbarratt@users.sourceforge.net">cbarratt@users.sourceforge.net</a>&gt;.

       bpc_hashTable.c is based on code from rsync.  Rsync is Copyright (C) 1996-2001 by Andrew Tridgell, 1996
       by Paul Mackerras, 2001-2002 by Martin Pool, and 2003-2009 by Wayne Davison, and others.

       The md5 library is from the rsync codebase, and is Copyright (C) 2001-2003 Christophe Devine.  See the
       code for the license.

       The zlib library is from the rsync codebase, and is Copyright (C) 1995-2005 Jean-loup Gailly and Mark
       Adler.  See the code for the license.

       This program is free software; you can redistribute it and/or modify it under the terms of the GNU
       General Public License as published by the Free Software Foundation; either version 3 of the License, or
       (at your option) any later version.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with this program; if not, visit
       the <a href="http://fsf.org">http://fsf.org</a> website.

perl v5.40.0                                       2024-10-20                                  <u>BackupPC::<a href="../man3pm/XS.3pm.html">XS</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>