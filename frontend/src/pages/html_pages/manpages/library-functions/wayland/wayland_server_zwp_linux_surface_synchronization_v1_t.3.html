<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wayland::server::zwp_linux_surface_synchronization_v1_t - per-surface explicit synchronization support</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/waylandpp-dev">waylandpp-dev_1.0.0-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       wayland::server::zwp_linux_surface_synchronization_v1_t - per-surface explicit synchronization support

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;wayland-server-protocol-unstable.hpp&gt;

       Inherits wayland::server::resource_t.

   <b>Public</b> <b>Member</b> <b>Functions</b>
       std::function&lt; void()&gt; &amp; <b>on_destroy</b> ()
           destroy synchronization object
       std::function&lt; void(int)&gt; &amp; <b>on_set_acquire_fence</b> ()
           set the acquire fence
       std::function&lt; void(<b>zwp_linux_buffer_release_v1_t</b>)&gt; &amp; <b>on_get_release</b> ()
           release fence for last-attached buffer
       void <b>post_invalid_fence</b> (std::string const &amp;msg)
           Post error: the fence specified by the client could not be imported.
       void <b>post_duplicate_fence</b> (std::string const &amp;msg)
           Post error: multiple fences added for a single surface commit.
       void <b>post_duplicate_release</b> (std::string const &amp;msg)
           Post error: multiple releases added for a single surface commit.
       void <b>post_no_surface</b> (std::string const &amp;msg)
           Post error: the associated wl_surface was destroyed.
       void <b>post_unsupported_buffer</b> (std::string const &amp;msg)
           Post error: the buffer does not support explicit synchronization.
       void <b>post_no_buffer</b> (std::string const &amp;msg)
           Post error: no buffer was attached.
       bool <b>proxy_has_object</b> () const
           Check whether this wrapper actually wraps an object.
       void <b>post_no_memory</b> () const
       uint32_t <b>get_id</b> () const
       client_t <b>get_client</b> () const
       unsigned int <b>get_version</b> () const
       std::string <b>get_class</b> ()

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       per-surface explicit synchronization support

       This object implements per-surface explicit synchronization.

       Synchronization refers to co-ordination of pipelined operations performed on buffers. Most GPU clients
       will schedule an asynchronous operation to render to the buffer, then immediately send the buffer to the
       compositor to be attached to a surface.

       In implicit synchronization, ensuring that the rendering operation is complete before the compositor
       displays the buffer is an implementation detail handled by either the kernel or userspace graphics
       driver.

       By contrast, in explicit synchronization, dma_fence objects mark when the asynchronous operations are
       complete. When submitting a buffer, the client provides an acquire fence which will be waited on before
       the compositor accesses the buffer. The Wayland server, through a zwp_linux_buffer_release_v1 object,
       will inform the client with an event which may be accompanied by a release fence, when the compositor
       will no longer access the buffer contents due to the specific commit that requested the release event.

       Each surface can be associated with only one object of this interface at any time.

       In version 1 of this interface, explicit synchronization is only guaranteed to be supported for buffers
       created with any version of the wp_linux_dmabuf buffer factory. Version 2 additionally guarantees
       explicit synchronization support for opaque EGL buffers, which is a type of platform specific buffers
       described in the EGL_WL_bind_wayland_display extension. Compositors are free to support explicit
       synchronization for additional buffer types.

       Definition at line <b>2455</b> of file <b>wayland-server-protocol-unstable.hpp</b>.

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>std::string</b> <b>wayland::server::resource_t::get_class</b> <b>()</b> <b>[inherited]</b>
       Retrieve the interface name (class) of a resource object.

       <b>Returns</b>
           Interface name of the resource object.

   <b>client_t</b> <b>wayland::server::resource_t::get_client</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get the associated client

       <b>Returns</b>
           the client that owns the resource.

   <b>uint32_t</b> <b>wayland::server::resource_t::get_id</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get the internal ID of the resource

       <b>Returns</b>
           the internal ID of the resource

   <b>unsigned</b> <b>int</b> <b>wayland::server::resource_t::get_version</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get interface version

       <b>Returns</b>
           Interface version this resource has been constructed with.

   <b>std::function&lt;</b> <b>void()&gt;</b> <b>&amp;</b> <b>zwp_linux_surface_synchronization_v1_t::on_destroy</b> <b>()</b>
       destroy synchronization object Destroy this explicit synchronization object.

       Any fence set by this object with set_acquire_fence since the last commit will be discarded by the
       server. Any fences set by this object before the last commit are not affected.

       zwp_linux_buffer_release_v1 objects created by this object are not affected by this request.

       Definition at line <b>5250</b> of file <b>wayland-server-protocol-unstable.cpp</b>.

   <b>std::function&lt;</b> <b>void(zwp_linux_buffer_release_v1_t)&gt;</b> <b>&amp;</b> <b>zwp_linux_surface_synchronization_v1_t::on_get_release</b>
       <b>()</b>
       release fence for last-attached buffer

       <b>Parameters</b>
           <u>release</u> new zwp_linux_buffer_release_v1 object

       Create a listener for the release of the buffer attached by the client with wl_surface.attach. See
       zwp_linux_buffer_release_v1 documentation for more information.

       The release object is double-buffered state, and will be associated with the buffer that is attached to
       the surface at wl_surface.commit time.

       If a zwp_linux_buffer_release_v1 object has already been requested for the surface in the same commit
       cycle, a DUPLICATE_RELEASE error is raised.

       If the associated wl_surface was destroyed, a NO_SURFACE error is raised.

       If at surface commit time there is no buffer attached, a NO_BUFFER error is raised.

       Definition at line <b>5262</b> of file <b>wayland-server-protocol-unstable.cpp</b>.

   <b>std::function&lt;</b> <b>void(int)&gt;</b> <b>&amp;</b> <b>zwp_linux_surface_synchronization_v1_t::on_set_acquire_fence</b> <b>()</b>
       set the acquire fence

       <b>Parameters</b>
           <u>fd</u> acquire fence fd

       Set the acquire fence that must be signaled before the compositor may sample from the buffer attached
       with wl_surface.attach. The fence is a dma_fence kernel object.

       The acquire fence is double-buffered state, and will be applied on the next wl_surface.commit request for
       the associated surface. Thus, it applies only to the buffer that is attached to the surface at commit
       time.

       If the provided fd is not a valid dma_fence fd, then an INVALID_FENCE error is raised.

       If a fence has already been attached during the same commit cycle, a DUPLICATE_FENCE error is raised.

       If the associated wl_surface was destroyed, a NO_SURFACE error is raised.

       If at surface commit time the attached buffer does not support explicit synchronization, an
       UNSUPPORTED_BUFFER error is raised.

       If at surface commit time there is no buffer attached, a NO_BUFFER error is raised.

       Definition at line <b>5256</b> of file <b>wayland-server-protocol-unstable.cpp</b>.

   <b>void</b> <b>zwp_linux_surface_synchronization_v1_t::post_duplicate_fence</b> <b>(std::string</b> <b>const</b> <b>&amp;</b> <b>msg)</b>
       Post error: multiple fences added for a single surface commit.

       Definition at line <b>5273</b> of file <b>wayland-server-protocol-unstable.cpp</b>.

   <b>void</b> <b>zwp_linux_surface_synchronization_v1_t::post_duplicate_release</b> <b>(std::string</b> <b>const</b> <b>&amp;</b> <b>msg)</b>
       Post error: multiple releases added for a single surface commit.

       Definition at line <b>5278</b> of file <b>wayland-server-protocol-unstable.cpp</b>.

   <b>void</b> <b>zwp_linux_surface_synchronization_v1_t::post_invalid_fence</b> <b>(std::string</b> <b>const</b> <b>&amp;</b> <b>msg)</b>
       Post error: the fence specified by the client could not be imported.

       Definition at line <b>5268</b> of file <b>wayland-server-protocol-unstable.cpp</b>.

   <b>void</b> <b>zwp_linux_surface_synchronization_v1_t::post_no_buffer</b> <b>(std::string</b> <b>const</b> <b>&amp;</b> <b>msg)</b>
       Post error: no buffer was attached.

       Definition at line <b>5293</b> of file <b>wayland-server-protocol-unstable.cpp</b>.

   <b>void</b> <b>wayland::server::resource_t::post_no_memory</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Post 'not enough memory' error to the client

       If the compositor has not enough memory to fulfill a certail request of the client, this function can be
       called to notify the client of this circumstance.

   <b>void</b> <b>zwp_linux_surface_synchronization_v1_t::post_no_surface</b> <b>(std::string</b> <b>const</b> <b>&amp;</b> <b>msg)</b>
       Post error: the associated wl_surface was destroyed.

       Definition at line <b>5283</b> of file <b>wayland-server-protocol-unstable.cpp</b>.

   <b>void</b> <b>zwp_linux_surface_synchronization_v1_t::post_unsupported_buffer</b> <b>(std::string</b> <b>const</b> <b>&amp;</b> <b>msg)</b>
       Post error: the buffer does not support explicit synchronization.

       Definition at line <b>5288</b> of file <b>wayland-server-protocol-unstable.cpp</b>.

   <b>bool</b> <b>wayland::server::resource_t::proxy_has_object</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Check whether this wrapper actually wraps an object.

       <b>Returns</b>
           true if there is an underlying object, false if this wrapper is empty

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for Wayland++ from the source code.

Version 1.0.0                                Wed May 1 2024 1<u>wayland::server::<a href="../man3/zwp_l...ce_synchronization_v1_t.3.html">zwp_l...ce_synchronization_v1_t</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>