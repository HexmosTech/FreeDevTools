<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wayland::data_device_t - data transfer device</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/waylandpp-dev">waylandpp-dev_1.0.0-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       wayland::data_device_t - data transfer device

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;wayland-client-protocol.hpp&gt;

       Inherits <b>wayland::proxy_t</b>.

   <b>Public</b> <b>Types</b>
       enum class <b>wrapper_type</b> { <b>standard</b>, <b>display</b>, <b>foreign</b>, <b>proxy_wrapper</b> }

   <b>Public</b> <b>Member</b> <b>Functions</b>
       void <b>start_drag</b> (<b>data_source_t</b> const &amp;source, <b>surface_t</b> const &amp;origin, <b>surface_t</b> const &amp;icon, uint32_t
           serial)
           start drag-and-drop operation
       void <b>set_selection</b> (<b>data_source_t</b> const &amp;source, uint32_t serial)
           copy data to the selection
       void <b>release</b> ()
           destroy data device
       bool <b>can_release</b> () const
           Check whether the <b>release</b> function is available with the currently bound version of the protocol.
       std::function&lt; void(<b>data_offer_t</b>)&gt; &amp; <b>on_data_offer</b> ()
           introduce a new wl_data_offer
       std::function&lt; void(uint32_t, <b>surface_t</b>, double, double, <b>data_offer_t</b>)&gt; &amp; <b>on_enter</b> ()
           initiate drag-and-drop session
       std::function&lt; void()&gt; &amp; <b>on_leave</b> ()
           end drag-and-drop session
       std::function&lt; void(uint32_t, double, double)&gt; &amp; <b>on_motion</b> ()
           drag-and-drop session motion
       std::function&lt; void()&gt; &amp; <b>on_drop</b> ()
           end drag-and-drop session successfully
       std::function&lt; void(<b>data_offer_t</b>)&gt; &amp; <b>on_selection</b> ()
           advertise new selection
       uint32_t <b>get_id</b> () const
           Get the id of a proxy object.
       std::string <b>get_class</b> () const
           Get the interface name (class) of a proxy object.
       uint32_t <b>get_version</b> () const
           Get the protocol object version of a proxy object.
       <b>wrapper_type</b> <b>get_wrapper_type</b> () const
           Get the type of a proxy object.
       void <b>set_queue</b> (<b>event_queue_t</b> queue)
           Assign a proxy to an event queue.
       wl_proxy * <b>c_ptr</b> () const
           Get a pointer to the underlying C struct.
       bool <b>proxy_has_object</b> () const
           Check whether this wrapper actually wraps an object.
       <b>operator</b> <b>bool</b> () const
           Check whether this wrapper actually wraps an object.
       bool <b>operator==</b> (const <b>proxy_t</b> &amp;right) const
           Check whether two wrappers refer to the same object.
       bool <b>operator!=</b> (const <b>proxy_t</b> &amp;right) const
           Check whether two wrappers refer to different objects.
       void <b>proxy_release</b> ()
           Release the wrapped object (if any), making this an empty wrapper.

   <b>Static</b> <b>Public</b> <b>Attributes</b>
       static constexpr std::uint32_t <b>start_drag_since_version</b> = 1
           Minimum protocol version required for the <b>start_drag</b> function.
       static constexpr std::uint32_t <b>set_selection_since_version</b> = 1
           Minimum protocol version required for the <b>set_selection</b> function.
       static constexpr std::uint32_t <b>release_since_version</b> = 2
           Minimum protocol version required for the <b>release</b> function.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       data transfer device

       There is one wl_data_device per seat which can be obtained from the global wl_data_device_manager
       singleton.

       A wl_data_device provides access to inter-client data transfer mechanisms such as copy-and-paste and
       drag-and-drop.

       Definition at line <b>1202</b> of file <b>wayland-client-protocol.hpp</b>.

</pre><h4><b>Member</b> <b>Enumeration</b> <b>Documentation</b></h4><pre>
   <b>enum</b> <b>class</b> <b>wayland::proxy_t::wrapper_type</b> <b>[strong],</b>  <b>[inherited]</b>
       Underlying wl_proxy type and properties of a <b>proxy_t</b> that affect construction, destruction, and event
       handling

       <b>Enumerator</b>

       <u>standard</u>
              C pointer is a standard type compatible with wl_proxy*. Events are dispatched and it is destructed
              when the <b>proxy_t</b> is destructed. User data is set.

       <u>display</u>
              C  pointer  is  a  wl_display*. No events are dispatched, wl_display_disconnect is called when the
              <b>proxy_t</b> is destructed. User data is set.

       <u>foreign</u>
              C pointer is a standard type compatible with wl_proxy*, but another library owns it and it  should
              not  be  touched  in  a  way  that  could affect the operation of the other library. No events are
              dispatched, wl_proxy_destroy is not called when the  <b>proxy_t</b>  is  destructed,  user  data  is  not
              touched.  Consequently,  there is no reference counting for the <b>proxy_t</b>. Lifetime of such wrappers
              should preferably be short to minimize the chance that the owning library decides to  destroy  the
              wl_proxy.

       <u>proxy_wrapper</u>
              C  pointer  is  a  wl_proxy*  that  was  constructed  with  wl_proxy_create_wrapper. No events are
              dispatched, wl_proxy_wrapper_destroy is called when the <b>proxy_t</b> is destroyed.  Reference  counting
              is  active.  A reference to the <b>proxy_t</b> creating this proxy wrapper is held to extend its lifetime
              until after the proxy wrapper is destroyed.

       Definition at line <b>116</b> of file <b>wayland-client.hpp</b>.

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>wl_proxy</b> <b>*</b> <b>wayland::proxy_t::c_ptr</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get a pointer to the underlying C struct.

       <b>Returns</b>
           The underlying wl_proxy wrapped by this <b>proxy_t</b> if it exists, otherwise an exception is thrown

   <b>bool</b> <b>data_device_t::can_release</b> <b>()</b> <b>const</b>
       Check whether the <b>release</b> function is available with the currently bound version of the protocol.

       Definition at line <b>2288</b> of file <b>wayland-client-protocol.cpp</b>.

   <b>std::string</b> <b>wayland::proxy_t::get_class</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get the interface name (class) of a proxy object.

       <b>Returns</b>
           The interface name of the object associated with the proxy

   <b>uint32_t</b> <b>wayland::proxy_t::get_id</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get the id of a proxy object.

       <b>Returns</b>
           The id the object associated with the proxy

   <b>uint32_t</b> <b>wayland::proxy_t::get_version</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get the protocol object version of a proxy object. Gets the protocol object version of a proxy object, or
       0 if the proxy was created with unversioned API.

       A returned value of 0 means that no version information is  available,  so  the  caller  must  make  safe
       assumptions about the object's real version.

       <b>display_t</b> will always return version 0.

       <b>Returns</b>
           The protocol object version of the proxy or 0

   <b>wrapper_type</b> <b>wayland::proxy_t::get_wrapper_type</b> <b>()</b> <b>const</b> <b>[inline],</b>  <b>[inherited]</b>
       Get the type of a proxy object.

       Definition at line <b>302</b> of file <b>wayland-client.hpp</b>.

   <b>std::function&lt;</b> <b>void(data_offer_t)&gt;</b> <b>&amp;</b> <b>data_device_t::on_data_offer</b> <b>()</b>
       introduce a new wl_data_offer

       <b>Parameters</b>
           <u>id</u> the new data_offer object

       The data_offer event introduces a new wl_data_offer object, which will subsequently be used in either the
       data_device.enter  event  (for  drag-and-drop)  or  the  data_device.selection  event  (for  selections).
       Immediately following  the  data_device.data_offer  event,  the  new  data_offer  object  will  send  out
       data_offer.offer events to describe the mime types it offers.

       Definition at line <b>2294</b> of file <b>wayland-client-protocol.cpp</b>.

   <b>std::function&lt;</b> <b>void()&gt;</b> <b>&amp;</b> <b>data_device_t::on_drop</b> <b>()</b>
       end  drag-and-drop session successfully The event is sent when a drag-and-drop operation is ended because
       the implicit grab is removed.

       The drag-and-drop destination is expected to honor the last action received through wl_data_offer.action,
       if the resulting action is 'copy' or 'move', the  destination  can  still  perform  wl_data_offer.receive
       requests, and is expected to end all transfers with a wl_data_offer.finish request.

       If  the resulting action is 'ask', the action will not be considered final. The drag-and-drop destination
       is expected to perform one last wl_data_offer.set_actions request, or wl_data_offer.destroy in  order  to
       cancel the operation.

       Definition at line <b>2314</b> of file <b>wayland-client-protocol.cpp</b>.

   <b>std::function&lt;</b> <b>void(uint32_t,</b> <b>surface_t,</b> <b>double,</b> <b>double,</b> <b>data_offer_t)&gt;</b> <b>&amp;</b> <b>data_device_t::on_enter</b> <b>()</b>
       initiate drag-and-drop session

       <b>Parameters</b>
           <u>serial</u> serial number of the enter event
           <u>surface</u> client surface entered
           <u>x</u> surface-local x coordinate
           <u>y</u> surface-local y coordinate
           <u>id</u> source data_offer object

       This  event  is  sent  when  an  active  drag-and-drop  pointer enters a surface owned by the client. The
       position of the pointer at enter time is provided by the x and y arguments, in surface-local coordinates.

       Definition at line <b>2299</b> of file <b>wayland-client-protocol.cpp</b>.

   <b>std::function&lt;</b> <b>void()&gt;</b> <b>&amp;</b> <b>data_device_t::on_leave</b> <b>()</b>
       end drag-and-drop session This event is sent when the drag-and-drop pointer leaves the  surface  and  the
       session ends. The client must destroy the wl_data_offer introduced at enter time at this point.

       Definition at line <b>2304</b> of file <b>wayland-client-protocol.cpp</b>.

   <b>std::function&lt;</b> <b>void(uint32_t,</b> <b>double,</b> <b>double)&gt;</b> <b>&amp;</b> <b>data_device_t::on_motion</b> <b>()</b>
       drag-and-drop session motion

       <b>Parameters</b>
           <u>time</u> timestamp with millisecond granularity
           <u>x</u> surface-local x coordinate
           <u>y</u> surface-local y coordinate

       This  event  is  sent  when the drag-and-drop pointer moves within the currently focused surface. The new
       position of the pointer is provided by the x and y arguments, in surface-local coordinates.

       Definition at line <b>2309</b> of file <b>wayland-client-protocol.cpp</b>.

   <b>std::function&lt;</b> <b>void(data_offer_t)&gt;</b> <b>&amp;</b> <b>data_device_t::on_selection</b> <b>()</b>
       advertise new selection

       <b>Parameters</b>
           <u>id</u> selection data_offer object

       The selection event is sent out to notify the client of a new wl_data_offer for the  selection  for  this
       device.  The  data_device.data_offer and the data_offer.offer events are sent out immediately before this
       event to introduce the data offer object. The selection event is sent  to  a  client  immediately  before
       receiving  keyboard  focus  and  when  a  new  selection  is set while the client has keyboard focus. The
       data_offer is valid until a new data_offer or NULL is received or until the client loses keyboard  focus.
       Switching  surface  with keyboard focus within the same client doesn't mean a new selection will be sent.
       The client must destroy the previous selection data_offer, if any, upon receiving this event.

       Definition at line <b>2319</b> of file <b>wayland-client-protocol.cpp</b>.

   <b>wayland::proxy_t::operator</b> <b>bool</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Check whether this wrapper actually wraps an object.

       <b>Returns</b>
           true if there is an underlying object, false if this wrapper is empty

   <b>bool</b> <b>wayland::proxy_t::operator!=</b> <b>(const</b> <b>proxy_t</b> <b>&amp;</b> <b>right)</b> <b>const</b> <b>[inherited]</b>
       Check whether two wrappers refer to different objects.

   <b>bool</b> <b>wayland::proxy_t::operator==</b> <b>(const</b> <b>proxy_t</b> <b>&amp;</b> <b>right)</b> <b>const</b> <b>[inherited]</b>
       Check whether two wrappers refer to the same object.

   <b>bool</b> <b>wayland::proxy_t::proxy_has_object</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Check whether this wrapper actually wraps an object.

       <b>Returns</b>
           true if there is an underlying object, false if this wrapper is empty

   <b>void</b> <b>wayland::proxy_t::proxy_release</b> <b>()</b> <b>[inherited]</b>
       Release the wrapped object (if any), making this an empty wrapper. Note that <b>display_t</b>  instances  cannot
       be released this way. Attempts to do so are ignored.

       <b>Examples</b>
           <b>foreign_display.cpp</b>.

   <b>void</b> <b>data_device_t::release</b> <b>()</b>
       destroy data device This request destroys the data device.

       Definition at line <b>2283</b> of file <b>wayland-client-protocol.cpp</b>.

   <b>void</b> <b>wayland::proxy_t::set_queue</b> <b>(event_queue_t</b> <b>queue)</b> <b>[inherited]</b>
       Assign a proxy to an event queue.

       <b>Parameters</b>
           <u>queue</u> The event queue that will handle this proxy

       Assign  proxy  to  event queue. Events coming from proxy will be queued in queue instead of the display's
       main queue.

       See also: <b>display_t::dispatch_queue()</b>.

       <b>Examples</b>
           <b>proxy_wrapper.cpp</b>.

   <b>void</b> <b>data_device_t::set_selection</b> <b>(data_source_t</b> <b>const</b> <b>&amp;</b> <b>source,</b> <b>uint32_t</b> <b>serial)</b>
       copy data to the selection

       <b>Parameters</b>
           <u>source</u> data source for the selection
           <u>serial</u> serial number of the event that triggered this request

       This request asks the compositor to set the selection to the data  from  the  source  on  behalf  of  the
       client.

       To unset the selection, set the source to NULL.

       Definition at line <b>2277</b> of file <b>wayland-client-protocol.cpp</b>.

   <b>void</b>  <b>data_device_t::start_drag</b>  <b>(data_source_t</b>  <b>const</b>  <b>&amp;</b> <b>source,</b> <b>surface_t</b> <b>const</b> <b>&amp;</b> <b>origin,</b> <b>surface_t</b> <b>const</b> <b>&amp;</b>
       <b>icon,</b> <b>uint32_t</b> <b>serial)</b>
       start drag-and-drop operation

       <b>Parameters</b>
           <u>source</u> data source for the eventual transfer
           <u>origin</u> surface where the drag originates
           <u>icon</u> drag-and-drop icon surface
           <u>serial</u> serial number of the implicit grab on the origin

       This request asks the compositor to start a drag-and-drop operation on behalf of the client.

       The source argument is the data source that provides the data for the eventual data transfer.  If  source
       is  NULL,  enter,  leave  and  motion  events are sent only to the client that initiated the drag and the
       client is expected to handle the data passing internally.  If  source  is  destroyed,  the  drag-and-drop
       session will be cancelled.

       The  origin  surface is the surface where the drag originates and the client must have an active implicit
       grab that matches the serial.

       The icon surface is an optional (can be NULL) surface that provides an icon to be moved around  with  the
       cursor.  Initially,  the  top-left  corner  of  the  icon  surface  is  placed at the cursor hotspot, but
       subsequent wl_surface.attach request can move the relative position. Attach requests  must  be  confirmed
       with  wl_surface.commit as usual. The icon surface is given the role of a drag-and-drop icon. If the icon
       surface already has another role, it raises a protocol error.

       The current and pending input regions of the icon wl_surface are cleared, and wl_surface.set_input_region
       is ignored until the wl_surface is no longer used as the icon surface. When the use as an icon ends,  the
       current and pending input regions become undefined, and the wl_surface is unmapped.

       Definition at line <b>2271</b> of file <b>wayland-client-protocol.cpp</b>.

</pre><h4><b>Member</b> <b>Data</b> <b>Documentation</b></h4><pre>
   <b>constexpr</b> <b>std::uint32_t</b> <b>wayland::data_device_t::release_since_version</b> <b>=</b> <b>2</b> <b>[static],</b>  <b>[constexpr]</b>
       Minimum protocol version required for the <b>release</b> function.

       Definition at line <b>1297</b> of file <b>wayland-client-protocol.hpp</b>.

   <b>constexpr</b> <b>std::uint32_t</b> <b>wayland::data_device_t::set_selection_since_version</b> <b>=</b> <b>1</b> <b>[static],</b>  <b>[constexpr]</b>
       Minimum protocol version required for the <b>set_selection</b> function.

       Definition at line <b>1286</b> of file <b>wayland-client-protocol.hpp</b>.

   <b>constexpr</b> <b>std::uint32_t</b> <b>wayland::data_device_t::start_drag_since_version</b> <b>=</b> <b>1</b> <b>[static],</b>  <b>[constexpr]</b>
       Minimum protocol version required for the <b>start_drag</b> function.

       Definition at line <b>1270</b> of file <b>wayland-client-protocol.hpp</b>.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for Wayland++ from the source code.

Version 1.0.0                                Wed May 1 2024 17:27:19                   <u>wayland::<a href="../man3/data_device_t.3.html">data_device_t</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>