<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wayland::server::viewport_t - crop and scale interface to a wl_surface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/waylandpp-dev">waylandpp-dev_1.0.0-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       wayland::server::viewport_t - crop and scale interface to a wl_surface

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;wayland-server-protocol-extra.hpp&gt;

       Inherits wayland::server::resource_t.

   <b>Public</b> <b>Member</b> <b>Functions</b>
       std::function&lt; void()&gt; &amp; <b>on_destroy</b> ()
           remove scaling and cropping from the surface
       std::function&lt; void(double, double, double, double)&gt; &amp; <b>on_set_source</b> ()
           set the source rectangle for cropping
       std::function&lt; void(int32_t, int32_t)&gt; &amp; <b>on_set_destination</b> ()
           set the surface size for scaling
       void <b>post_bad_value</b> (std::string const &amp;msg)
           Post error: negative or zero values in width or height.
       void <b>post_bad_size</b> (std::string const &amp;msg)
           Post error: destination size is not integer.
       void <b>post_out_of_buffer</b> (std::string const &amp;msg)
           Post error: source rectangle extends outside of the content area.
       void <b>post_no_surface</b> (std::string const &amp;msg)
           Post error: the wl_surface was destroyed.
       bool <b>proxy_has_object</b> () const
           Check whether this wrapper actually wraps an object.
       void <b>post_no_memory</b> () const
       uint32_t <b>get_id</b> () const
       client_t <b>get_client</b> () const
       unsigned int <b>get_version</b> () const
       std::string <b>get_class</b> ()

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       crop and scale interface to a wl_surface

       An additional interface to a wl_surface object, which allows the client to specify the cropping and
       scaling of the surface contents.

       This interface works with two concepts: the source rectangle (src_x, src_y, src_width, src_height), and
       the destination size (dst_width, dst_height). The contents of the source rectangle are scaled to the
       destination size, and content outside the source rectangle is ignored. This state is double-buffered, and
       is applied on the next wl_surface.commit.

       The two parts of crop and scale state are independent: the source rectangle, and the destination size.
       Initially both are unset, that is, no scaling is applied. The whole of the current wl_buffer is used as
       the source, and the surface size is as defined in wl_surface.attach.

       If the destination size is set, it causes the surface size to become dst_width, dst_height. The source
       (rectangle) is scaled to exactly this size. This overrides whatever the attached wl_buffer size is,
       unless the wl_buffer is NULL. If the wl_buffer is NULL, the surface has no content and therefore no size.
       Otherwise, the size is always at least 1x1 in surface local coordinates.

       If the source rectangle is set, it defines what area of the wl_buffer is taken as the source. If the
       source rectangle is set and the destination size is not set, then src_width and src_height must be
       integers, and the surface size becomes the source rectangle size. This results in cropping without
       scaling. If src_width or src_height are not integers and destination size is not set, the bad_size
       protocol error is raised when the surface state is applied.

       The coordinate transformations from buffer pixel coordinates up to the surface-local coordinates happen
       in the following order:

       1.  buffer_transform (wl_surface.set_buffer_transform)

       2.  buffer_scale (wl_surface.set_buffer_scale)

       3.  crop and scale (wp_viewport.set*) This means, that the source rectangle coordinates of crop and scale
           are given in the coordinates after the buffer transform and scale, i.e. in the coordinates that would
           be the surface-local coordinates if the crop and scale was not applied.

       If  src_x  or  src_y  are  negative,  the  bad_value  protocol  error is raised. Otherwise, if the source
       rectangle is partially or completely outside of the non-NULL wl_buffer, then the  out_of_buffer  protocol
       error  is  raised  when  the  surface state is applied. A NULL wl_buffer does not raise the out_of_buffer
       error.

       The x, y arguments of wl_surface.attach are applied as normal to the  surface.  They  indicate  how  many
       pixels  to  remove from the surface size from the left and the top. In other words, they are still in the
       surface-local coordinate system, just like dst_width and dst_height are.

       If the wl_surface associated with the wp_viewport is destroyed, all wp_viewport requests except 'destroy'
       raise the protocol error no_surface.

       If the wp_viewport object is destroyed, the crop and scale state is  removed  from  the  wl_surface.  The
       change will be applied on the next wl_surface.commit.

       Definition at line <b>492</b> of file <b>wayland-server-protocol-extra.hpp</b>.

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>std::string</b> <b>wayland::server::resource_t::get_class</b> <b>()</b> <b>[inherited]</b>
       Retrieve the interface name (class) of a resource object.

       <b>Returns</b>
           Interface name of the resource object.

   <b>client_t</b> <b>wayland::server::resource_t::get_client</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get the associated client

       <b>Returns</b>
           the client that owns the resource.

   <b>uint32_t</b> <b>wayland::server::resource_t::get_id</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get the internal ID of the resource

       <b>Returns</b>
           the internal ID of the resource

   <b>unsigned</b> <b>int</b> <b>wayland::server::resource_t::get_version</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get interface version

       <b>Returns</b>
           Interface version this resource has been constructed with.

   <b>std::function&lt;</b> <b>void()&gt;</b> <b>&amp;</b> <b>viewport_t::on_destroy</b> <b>()</b>
       remove scaling and cropping from the surface The associated wl_surface's crop and scale state is removed.
       The change is applied on the next wl_surface.commit.

       Definition at line <b>848</b> of file <b>wayland-server-protocol-extra.cpp</b>.

   <b>std::function&lt;</b> <b>void(int32_t,</b> <b>int32_t)&gt;</b> <b>&amp;</b> <b>viewport_t::on_set_destination</b> <b>()</b>
       set the surface size for scaling

       <b>Parameters</b>
           <u>width</u> surface width
           <u>height</u> surface height

       Set  the destination size of the associated wl_surface. See wp_viewport for the description, and relation
       to the wl_buffer size.

       If width is -1 and height is -1, the destination size is unset instead. Any  other  pair  of  values  for
       width and height that contains zero or negative values raises the bad_value protocol error.

       The crop and scale state is double-buffered state, and will be applied on the next wl_surface.commit.

       Definition at line <b>860</b> of file <b>wayland-server-protocol-extra.cpp</b>.

   <b>std::function&lt;</b> <b>void(double,</b> <b>double,</b> <b>double,</b> <b>double)&gt;</b> <b>&amp;</b> <b>viewport_t::on_set_source</b> <b>()</b>
       set the source rectangle for cropping

       <b>Parameters</b>
           <u>x</u> source rectangle x
           <u>y</u> source rectangle y
           <u>width</u> source rectangle width
           <u>height</u> source rectangle height

       Set  the source rectangle of the associated wl_surface. See wp_viewport for the description, and relation
       to the wl_buffer size.

       If all of x, y, width and height are -1.0, the source rectangle is unset instead. Any other set of values
       where width or height are zero or negative, or x or y are negative, raise the bad_value protocol error.

       The crop and scale state is double-buffered state, and will be applied on the next wl_surface.commit.

       Definition at line <b>854</b> of file <b>wayland-server-protocol-extra.cpp</b>.

   <b>void</b> <b>viewport_t::post_bad_size</b> <b>(std::string</b> <b>const</b> <b>&amp;</b> <b>msg)</b>
       Post error: destination size is not integer.

       Definition at line <b>871</b> of file <b>wayland-server-protocol-extra.cpp</b>.

   <b>void</b> <b>viewport_t::post_bad_value</b> <b>(std::string</b> <b>const</b> <b>&amp;</b> <b>msg)</b>
       Post error: negative or zero values in width or height.

       Definition at line <b>866</b> of file <b>wayland-server-protocol-extra.cpp</b>.

   <b>void</b> <b>wayland::server::resource_t::post_no_memory</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Post 'not enough memory' error to the client

       If the compositor has not enough memory to fulfill a certail request of the client, this function can  be
       called to notify the client of this circumstance.

   <b>void</b> <b>viewport_t::post_no_surface</b> <b>(std::string</b> <b>const</b> <b>&amp;</b> <b>msg)</b>
       Post error: the wl_surface was destroyed.

       Definition at line <b>881</b> of file <b>wayland-server-protocol-extra.cpp</b>.

   <b>void</b> <b>viewport_t::post_out_of_buffer</b> <b>(std::string</b> <b>const</b> <b>&amp;</b> <b>msg)</b>
       Post error: source rectangle extends outside of the content area.

       Definition at line <b>876</b> of file <b>wayland-server-protocol-extra.cpp</b>.

   <b>bool</b> <b>wayland::server::resource_t::proxy_has_object</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Check whether this wrapper actually wraps an object.

       <b>Returns</b>
           true if there is an underlying object, false if this wrapper is empty

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for Wayland++ from the source code.

Version 1.0.0                                Wed May 1 2024 17:27:19              <u>wayland::server::<a href="../man3/viewport_t.3.html">viewport_t</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>