<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wayland::server::shm_pool_t - a shared memory pool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/waylandpp-dev">waylandpp-dev_1.0.0-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       wayland::server::shm_pool_t - a shared memory pool

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;wayland-server-protocol.hpp&gt;

       Inherits wayland::server::resource_t.

   <b>Public</b> <b>Member</b> <b>Functions</b>
       std::function&lt; void(<b>buffer_t</b>, int32_t, int32_t, int32_t, int32_t, shm_format)&gt; &amp; <b>on_create_buffer</b> ()
           create a buffer from the pool
       std::function&lt; void()&gt; &amp; <b>on_destroy</b> ()
           destroy the pool
       std::function&lt; void(int32_t)&gt; &amp; <b>on_resize</b> ()
           change the size of the pool mapping
       bool <b>proxy_has_object</b> () const
           Check whether this wrapper actually wraps an object.
       void <b>post_no_memory</b> () const
       uint32_t <b>get_id</b> () const
       client_t <b>get_client</b> () const
       unsigned int <b>get_version</b> () const
       std::string <b>get_class</b> ()

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       a shared memory pool

       The wl_shm_pool object encapsulates a piece of memory shared between the compositor and client. Through
       the wl_shm_pool object, the client can allocate shared memory wl_buffer objects. All objects created
       through the same pool share the same underlying mapped memory. Reusing the mapped memory avoids the
       setup/teardown overhead and is useful when interactively resizing a surface or for many small buffers.

       Definition at line <b>327</b> of file <b>wayland-server-protocol.hpp</b>.

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>std::string</b> <b>wayland::server::resource_t::get_class</b> <b>()</b> <b>[inherited]</b>
       Retrieve the interface name (class) of a resource object.

       <b>Returns</b>
           Interface name of the resource object.

   <b>client_t</b> <b>wayland::server::resource_t::get_client</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get the associated client

       <b>Returns</b>
           the client that owns the resource.

   <b>uint32_t</b> <b>wayland::server::resource_t::get_id</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get the internal ID of the resource

       <b>Returns</b>
           the internal ID of the resource

   <b>unsigned</b> <b>int</b> <b>wayland::server::resource_t::get_version</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get interface version

       <b>Returns</b>
           Interface version this resource has been constructed with.

   <b>std::function&lt;</b> <b>void(buffer_t,</b> <b>int32_t,</b> <b>int32_t,</b> <b>int32_t,</b> <b>int32_t,</b> <b>shm_format)&gt;</b> <b>&amp;</b> <b>shm_pool_t::on_create_buffer</b>
       <b>()</b>
       create a buffer from the pool

       <b>Parameters</b>
           <u>id</u> buffer to create
           <u>offset</u> buffer byte offset within the pool
           <u>width</u> buffer width, in pixels
           <u>height</u> buffer height, in pixels
           <u>stride</u> number of bytes from the beginning of one row to the beginning of the next row
           <u>format</u> buffer pixel format

       Create a wl_buffer object from the pool.

       The buffer is created offset bytes into the pool and has width and height as specified. The stride
       argument specifies the number of bytes from the beginning of one row to the beginning of the next. The
       format is the pixel format of the buffer and must be one of those advertised through the wl_shm.format
       event.

       A buffer will keep a reference to the pool it was created from so it is valid to destroy the pool
       immediately after creating a buffer from it.

       Definition at line <b>1692</b> of file <b>wayland-server-protocol.cpp</b>.

   <b>std::function&lt;</b> <b>void()&gt;</b> <b>&amp;</b> <b>shm_pool_t::on_destroy</b> <b>()</b>
       destroy the pool Destroy the shared memory pool.

       The mmapped memory will be released when all buffers that have been created from this pool are gone.

       Definition at line <b>1698</b> of file <b>wayland-server-protocol.cpp</b>.

   <b>std::function&lt;</b> <b>void(int32_t)&gt;</b> <b>&amp;</b> <b>shm_pool_t::on_resize</b> <b>()</b>
       change the size of the pool mapping

       <b>Parameters</b>
           <u>size</u> new size of the pool, in bytes

       This request will cause the server to remap the backing memory for the pool from the file descriptor
       passed when the pool was created, but using the new size. This request can only be used to make the pool
       bigger.

       This request only changes the amount of bytes that are mmapped
       by the server and does not touch the file corresponding to the
       file descriptor passed at creation time. It is the client's
       responsibility to ensure that the file is at least as big as
       the new pool size.

       Definition at line <b>1704</b> of file <b>wayland-server-protocol.cpp</b>.

   <b>void</b> <b>wayland::server::resource_t::post_no_memory</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Post 'not enough memory' error to the client

       If the compositor has not enough memory to fulfill a certail request of the client, this function can be
       called to notify the client of this circumstance.

   <b>bool</b> <b>wayland::server::resource_t::proxy_has_object</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Check whether this wrapper actually wraps an object.

       <b>Returns</b>
           true if there is an underlying object, false if this wrapper is empty

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for Wayland++ from the source code.

Version 1.0.0                                Wed May 1 2024 17:27:19              <u>wayland::server::<a href="../man3/shm_pool_t.3.html">shm_pool_t</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>