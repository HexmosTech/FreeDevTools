<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wayland::server::data_device_t - data transfer device</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/waylandpp-dev">waylandpp-dev_1.0.0-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       wayland::server::data_device_t - data transfer device

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;wayland-server-protocol.hpp&gt;

       Inherits wayland::server::resource_t.

   <b>Public</b> <b>Member</b> <b>Functions</b>
       std::function&lt; void(<b>data_source_t</b>, <b>surface_t</b>, <b>surface_t</b>, uint32_t)&gt; &amp; <b>on_start_drag</b> ()
           start drag-and-drop operation
       std::function&lt; void(<b>data_source_t</b>, uint32_t)&gt; &amp; <b>on_set_selection</b> ()
           copy data to the selection
       std::function&lt; void()&gt; &amp; <b>on_release</b> ()
           destroy data device
       void <b>data_offer</b> (bool post=true)
           introduce a new wl_data_offer
       void <b>enter</b> (uint32_t serial, <b>surface_t</b> const &amp;surface, double x, double y, <b>data_offer_t</b> const &amp;id, bool
           post=true)
           initiate drag-and-drop session
       void <b>leave</b> (bool post=true)
           end drag-and-drop session
       void <b>motion</b> (uint32_t time, double x, double y, bool post=true)
           drag-and-drop session motion
       void <b>drop</b> (bool post=true)
           end drag-and-drop session successfully
       void <b>selection</b> (<b>data_offer_t</b> const &amp;id, bool post=true)
           advertise new selection
       void <b>post_role</b> (std::string const &amp;msg)
           Post error: given wl_surface has another role.
       bool <b>proxy_has_object</b> () const
           Check whether this wrapper actually wraps an object.
       void <b>post_no_memory</b> () const
       uint32_t <b>get_id</b> () const
       client_t <b>get_client</b> () const
       unsigned int <b>get_version</b> () const
       std::string <b>get_class</b> ()

   <b>Static</b> <b>Public</b> <b>Attributes</b>
       static constexpr std::uint32_t <b>data_offer_since_version</b> = 1
           Minimum protocol version required for the <b>data_offer</b> function.
       static constexpr std::uint32_t <b>enter_since_version</b> = 1
           Minimum protocol version required for the <b>enter</b> function.
       static constexpr std::uint32_t <b>leave_since_version</b> = 1
           Minimum protocol version required for the <b>leave</b> function.
       static constexpr std::uint32_t <b>motion_since_version</b> = 1
           Minimum protocol version required for the <b>motion</b> function.
       static constexpr std::uint32_t <b>drop_since_version</b> = 1
           Minimum protocol version required for the <b>drop</b> function.
       static constexpr std::uint32_t <b>selection_since_version</b> = 1
           Minimum protocol version required for the <b>selection</b> function.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       data transfer device

       There is one wl_data_device per seat which can be obtained from the global wl_data_device_manager
       singleton.

       A wl_data_device provides access to inter-client data transfer mechanisms such as copy-and-paste and
       drag-and-drop.

       Definition at line <b>1333</b> of file <b>wayland-server-protocol.hpp</b>.

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>void</b> <b>data_device_t::data_offer</b> <b>(bool</b> <b>post</b> <b>=</b> <b>true)</b>
       introduce a new wl_data_offer

       <b>Returns</b>
           the new data_offer object

       The data_offer event introduces a new wl_data_offer object, which will subsequently be used in either the
       data_device.enter event (for drag-and-drop) or the data_device.selection event (for selections).
       Immediately following the data_device.data_offer event, the new data_offer object will send out
       data_offer.offer events to describe the mime types it offers.

       Definition at line <b>2096</b> of file <b>wayland-server-protocol.cpp</b>.

   <b>void</b> <b>data_device_t::drop</b> <b>(bool</b> <b>post</b> <b>=</b> <b>true)</b>
       end drag-and-drop session successfully The event is sent when a drag-and-drop operation is ended because
       the implicit grab is removed.

       The drag-and-drop destination is expected to honor the last action received through wl_data_offer.action,
       if the resulting action is 'copy' or 'move', the destination can still perform wl_data_offer.receive
       requests, and is expected to end all transfers with a wl_data_offer.finish request.

       If the resulting action is 'ask', the action will not be considered final. The drag-and-drop destination
       is expected to perform one last wl_data_offer.set_actions request, or wl_data_offer.destroy in order to
       cancel the operation.

       Definition at line <b>2116</b> of file <b>wayland-server-protocol.cpp</b>.

   <b>void</b> <b>data_device_t::enter</b> <b>(uint32_t</b> <b>serial,</b> <b>surface_t</b> <b>const</b> <b>&amp;</b> <b>surface,</b> <b>double</b> <b>x,</b> <b>double</b> <b>y,</b> <b>data_offer_t</b> <b>const</b>
       <b>&amp;</b> <b>id,</b> <b>bool</b> <b>post</b> <b>=</b> <b>true)</b>
       initiate drag-and-drop session

       <b>Parameters</b>
           <u>serial</u> serial number of the enter event
           <u>surface</u> client surface entered
           <u>x</u> surface-local x coordinate
           <u>y</u> surface-local y coordinate
           <u>id</u> source data_offer object

       This event is sent when an active drag-and-drop pointer enters a surface owned by the client. The
       position of the pointer at enter time is provided by the x and y arguments, in surface-local coordinates.

       Definition at line <b>2101</b> of file <b>wayland-server-protocol.cpp</b>.

   <b>std::string</b> <b>wayland::server::resource_t::get_class</b> <b>()</b> <b>[inherited]</b>
       Retrieve the interface name (class) of a resource object.

       <b>Returns</b>
           Interface name of the resource object.

   <b>client_t</b> <b>wayland::server::resource_t::get_client</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get the associated client

       <b>Returns</b>
           the client that owns the resource.

   <b>uint32_t</b> <b>wayland::server::resource_t::get_id</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get the internal ID of the resource

       <b>Returns</b>
           the internal ID of the resource

   <b>unsigned</b> <b>int</b> <b>wayland::server::resource_t::get_version</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get interface version

       <b>Returns</b>
           Interface version this resource has been constructed with.

   <b>void</b> <b>data_device_t::leave</b> <b>(bool</b> <b>post</b> <b>=</b> <b>true)</b>
       end drag-and-drop session This event is sent when the drag-and-drop pointer leaves the surface and the
       session ends. The client must destroy the wl_data_offer introduced at enter time at this point.

       Definition at line <b>2106</b> of file <b>wayland-server-protocol.cpp</b>.

   <b>void</b> <b>data_device_t::motion</b> <b>(uint32_t</b> <b>time,</b> <b>double</b> <b>x,</b> <b>double</b> <b>y,</b> <b>bool</b> <b>post</b> <b>=</b> <b>true)</b>
       drag-and-drop session motion

       <b>Parameters</b>
           <u>time</u> timestamp with millisecond granularity
           <u>x</u> surface-local x coordinate
           <u>y</u> surface-local y coordinate

       This event is sent when the drag-and-drop pointer moves within the currently focused surface. The new
       position of the pointer is provided by the x and y arguments, in surface-local coordinates.

       Definition at line <b>2111</b> of file <b>wayland-server-protocol.cpp</b>.

   <b>std::function&lt;</b> <b>void()&gt;</b> <b>&amp;</b> <b>data_device_t::on_release</b> <b>()</b>
       destroy data device This request destroys the data device.

       Definition at line <b>2090</b> of file <b>wayland-server-protocol.cpp</b>.

   <b>std::function&lt;</b> <b>void(data_source_t,</b> <b>uint32_t)&gt;</b> <b>&amp;</b> <b>data_device_t::on_set_selection</b> <b>()</b>
       copy data to the selection

       <b>Parameters</b>
           <u>source</u> data source for the selection
           <u>serial</u> serial number of the event that triggered this request

       This request asks the compositor to set the selection to the data from the source on behalf of the
       client.

       To unset the selection, set the source to NULL.

       Definition at line <b>2084</b> of file <b>wayland-server-protocol.cpp</b>.

   <b>std::function&lt;</b> <b>void(data_source_t,</b> <b>surface_t,</b> <b>surface_t,</b> <b>uint32_t)&gt;</b> <b>&amp;</b> <b>data_device_t::on_start_drag</b> <b>()</b>
       start drag-and-drop operation

       <b>Parameters</b>
           <u>source</u> data source for the eventual transfer
           <u>origin</u> surface where the drag originates
           <u>icon</u> drag-and-drop icon surface
           <u>serial</u> serial number of the implicit grab on the origin

       This request asks the compositor to start a drag-and-drop operation on behalf of the client.

       The source argument is the data source that provides the data for the eventual data transfer. If source
       is NULL, enter, leave and motion events are sent only to the client that initiated the drag and the
       client is expected to handle the data passing internally. If source is destroyed, the drag-and-drop
       session will be cancelled.

       The origin surface is the surface where the drag originates and the client must have an active implicit
       grab that matches the serial.

       The icon surface is an optional (can be NULL) surface that provides an icon to be moved around with the
       cursor. Initially, the top-left corner of the icon surface is placed at the cursor hotspot, but
       subsequent wl_surface.attach request can move the relative position. Attach requests must be confirmed
       with wl_surface.commit as usual. The icon surface is given the role of a drag-and-drop icon. If the icon
       surface already has another role, it raises a protocol error.

       The current and pending input regions of the icon wl_surface are cleared, and wl_surface.set_input_region
       is ignored until the wl_surface is no longer used as the icon surface. When the use as an icon ends, the
       current and pending input regions become undefined, and the wl_surface is unmapped.

       Definition at line <b>2078</b> of file <b>wayland-server-protocol.cpp</b>.

   <b>void</b> <b>wayland::server::resource_t::post_no_memory</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Post 'not enough memory' error to the client

       If the compositor has not enough memory to fulfill a certail request of the client, this function can be
       called to notify the client of this circumstance.

   <b>void</b> <b>data_device_t::post_role</b> <b>(std::string</b> <b>const</b> <b>&amp;</b> <b>msg)</b>
       Post error: given wl_surface has another role.

       Definition at line <b>2126</b> of file <b>wayland-server-protocol.cpp</b>.

   <b>bool</b> <b>wayland::server::resource_t::proxy_has_object</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Check whether this wrapper actually wraps an object.

       <b>Returns</b>
           true if there is an underlying object, false if this wrapper is empty

   <b>void</b> <b>data_device_t::selection</b> <b>(data_offer_t</b> <b>const</b> <b>&amp;</b> <b>id,</b> <b>bool</b> <b>post</b> <b>=</b> <b>true)</b>
       advertise new selection

       <b>Parameters</b>
           <u>id</u> selection data_offer object

       The selection event is sent out to notify the client of a new wl_data_offer for the selection for this
       device. The data_device.data_offer and the data_offer.offer events are sent out immediately before this
       event to introduce the data offer object. The selection event is sent to a client immediately before
       receiving keyboard focus and when a new selection is set while the client has keyboard focus. The
       data_offer is valid until a new data_offer or NULL is received or until the client loses keyboard focus.
       Switching surface with keyboard focus within the same client doesn't mean a new selection will be sent.
       The client must destroy the previous selection data_offer, if any, upon receiving this event.

       Definition at line <b>2121</b> of file <b>wayland-server-protocol.cpp</b>.

</pre><h4><b>Member</b> <b>Data</b> <b>Documentation</b></h4><pre>
   <b>constexpr</b> <b>std::uint32_t</b> <b>wayland::server::data_device_t::data_offer_since_version</b> <b>=</b> <b>1</b> <b>[static],</b>  <b>[constexpr]</b>
       Minimum protocol version required for the <b>data_offer</b> function.

       Definition at line <b>1434</b> of file <b>wayland-server-protocol.hpp</b>.

   <b>constexpr</b> <b>std::uint32_t</b> <b>wayland::server::data_device_t::drop_since_version</b> <b>=</b> <b>1</b> <b>[static],</b>  <b>[constexpr]</b>
       Minimum protocol version required for the <b>drop</b> function.

       Definition at line <b>1506</b> of file <b>wayland-server-protocol.hpp</b>.

   <b>constexpr</b> <b>std::uint32_t</b> <b>wayland::server::data_device_t::enter_since_version</b> <b>=</b> <b>1</b> <b>[static],</b>  <b>[constexpr]</b>
       Minimum protocol version required for the <b>enter</b> function.

       Definition at line <b>1453</b> of file <b>wayland-server-protocol.hpp</b>.

   <b>constexpr</b> <b>std::uint32_t</b> <b>wayland::server::data_device_t::leave_since_version</b> <b>=</b> <b>1</b> <b>[static],</b>  <b>[constexpr]</b>
       Minimum protocol version required for the <b>leave</b> function.

       Definition at line <b>1466</b> of file <b>wayland-server-protocol.hpp</b>.

   <b>constexpr</b> <b>std::uint32_t</b> <b>wayland::server::data_device_t::motion_since_version</b> <b>=</b> <b>1</b> <b>[static],</b>  <b>[constexpr]</b>
       Minimum protocol version required for the <b>motion</b> function.

       Definition at line <b>1483</b> of file <b>wayland-server-protocol.hpp</b>.

   <b>constexpr</b> <b>std::uint32_t</b> <b>wayland::server::data_device_t::selection_since_version</b> <b>=</b> <b>1</b> <b>[static],</b>  <b>[constexpr]</b>
       Minimum protocol version required for the <b>selection</b> function.

       Definition at line <b>1529</b> of file <b>wayland-server-protocol.hpp</b>.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for Wayland++ from the source code.

Version 1.0.0                                Wed May 1 2024 17:27:19           <u>wayland::server::<a href="../man3/data_device_t.3.html">data_device_t</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>