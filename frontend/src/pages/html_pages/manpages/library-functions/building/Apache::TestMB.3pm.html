<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apache::TestMB - Subclass of Module::Build to support Apache::Test</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libapache2-mod-perl2">libapache2-mod-perl2_2.0.13-2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Apache::TestMB - Subclass of Module::Build to support Apache::Test

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Standard process for building &amp; installing modules:

         perl Build.PL
         ./Build
         ./Build test
         ./Build install

       Or, if you're on a platform (like DOS or Windows) that doesn't like the "./" notation, you can do this:

         perl Build.PL
         perl Build
         perl Build test
         perl Build install

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class subclasses "Module::Build" to add support for testing Apache integration with Apache::Test. It
       is broadly based on "Apache::TestMM", and as such adds a number of build actions to a the <u>Build</u> script,
       while simplifying the process of creating <u>Build.PL</u> scripts.

       Here's how to use "Apache::TestMB" in a <u>Build.PL</u> script:

         use Module::Build;

         my $build_pkg = eval { require Apache::TestMB }
             ? 'Apache::TestMB' : 'Module::Build';

         my $build = $build_pkg-&gt;new(
             module_name =&gt; 'My::Module',
         );
         $build-&gt;create_build_script;

       This is identical to how "Module::Build" is used. Not all target systems may have "Apache::Test" (and
       therefore "Apache::TestMB" installed, so we test for it to be installed, first. But otherwise, its use
       can be exactly the same. Consult the Module::Build documentation for more information on how to use it;
       Module::Build::Cookbook may be especially useful for those looking to migrate from "ExtUtils::MakeMaker".

</pre><h4><b>INTERFACE</b></h4><pre>
   <b>Build</b>
       With the above script, users can build your module in the usual "Module::Build" way:

         perl Build.PL
         ./Build
         ./Build test
         ./Build install

       If "Apache::TestMB" is installed, then Apache will be started before tests are run by the "test" action,
       and shut down when the tests complete. Note that "Build.PL" can be called "Apache::Test"-specific options
       in addition to the usual "Module::Build" options. For example:

         perl Build.PL -apxs /usr/local/apache/bin/apxs

       Consult the Apache::Test documentation for a complete list of options.

       In addition to the actions provided by "Module::Build" ("build", "clean", "code", "test", etc.),
       "Apache::TestMB" adds a few extra actions:

       test_clean
           This  action  cleans  out  the files generated by the test script, <u>t/TEST</u>. It is also executed by the
           "clean" action.

       run_tests
           This action actually the tests by executing the test script, <u>t/TEST</u>. It is  executed  by  the  "test"
           action, so most of the time it won't be executed directly.

       testcover
           "Apache::TestMB"  overrides  this  action from "Module::Build" in order to prevent the "Apache::Test"
           preference files from being included in the test coverage.

   <b>Constructor</b>
       <u>new</u>

       The new() constructor takes all the same arguments as its parent in "Module::Build", but  can  optionally
       accept one other parameter:

       apache_test_script
           The  name of the "Apache::Test" test script. The default value is <u>t/TEST</u>, which will work in the vast
           majority of cases. If you wish to specify your own file name, do so with a relative file  name  using
           Unix-style paths; the file name will automatically be converted for the local platform.

       When new() is called it does the following:

       •   Processes  the  "Apache::Test"-specific  options  in  @ARGV. See the Apache::Test documentation for a
           complete list of options.

       •   Sets the name of the "Apache::Test" test script to <u>t/TEST</u>, unless it was explicitly specified by  the
           "apache_test_script" parameter.

       •   Calls generate_script() to generate "Apache::Test" test script, usually <u>t/TEST</u>.

   <b>Instance</b> <b>Methods</b>
       <u>apache_test_args</u>

       Returns  a  hash  reference  containing  all  of the settings specified by options passed to <u>Build.PL</u>, or
       explicitly added to @ARGV in <u>Build.PL</u>. Consult the Apache::Test documentation  for  a  complete  list  of
       options.

       <u>apache_test_script</u>

       Gets or sets the file name of the "Apache::Test" test script.

       <u>generate_script</u>

         $build-&gt;generate_script;
         $build-&gt;generate_script('t/FOO');
         $build-&gt;generate_script(undef, 'Apache::TestRun');

       This  method  is  called by new(), so in most cases it can be ignored. If you'd like it to use other than
       the default arguments, you can call it explicitly in <u>Build.PL</u> and pass it the arguments  you  desire.  It
       takes two optional arguments:

       •   The name of the "Apache::Test" test script. Defaults to the value returned by apache_test_script().

       •   The name of an "Apache::Test" test running class. Defaults to "Apache::TestRunPerl".

       If   there   is   an   existing  <u>t/TEST.PL</u>  (or  a  script  with  the  same  name  as  specified  by  the
       "apache_test_script" parameter but with <u>.PL</u> appended to it),  then  that  script  will  be  used  as  the
       template  for  the test script.  Otherwise, a simple test script will be written similar to what would be
       written by Apache::TestRun::generate_script() (although that function  is  not  aware  of  the  arguments
       passed to <u>Build.PL</u>, so use this one instead!).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Apache::TestRequest
           Demonstrates how to write tests to send requests to the Apache server run by "./Build test".

       Module::Build
           The parent class for "Apache::TestMB"; consult it's documentation for more on its interface.

       &lt;<a href="http://www.perl.com/pub/a/2003/05/22/testing.html">http://www.perl.com/pub/a/2003/05/22/testing.html</a>&gt;
           This article by Geoffrey Young explains how to configure Apache and write tests for your module using
           Apache::Test.  Just  use  "Apache::TestMB"  instead  of  "Apache::TestMM"  to  update it for use with
           "Module::Build".

</pre><h4><b>AUTHOR</b></h4><pre>
       David Wheeler

       Questions  can  be  asked  at  the  test-dev  &lt;at&gt;  httpd.apache.org  list.  For  more  information  see:
       <u><a href="http://httpd.apache.org/test/">http://httpd.apache.org/test/</a></u> and <u><a href="http://perl.apache.org/docs/general/testing/testing.html">http://perl.apache.org/docs/general/testing/testing.html</a></u>.

perl v5.40.0                                       2024-10-20                                <u>Apache::<a href="../man3pm/TestMB.3pm.html">TestMB</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>