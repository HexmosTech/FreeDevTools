<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test::Alien::Build - Tools for testing Alien::Build + alienfile</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libalien-build-perl">libalien-build-perl_2.84-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Test::Alien::Build - Tools for testing Alien::Build + alienfile

</pre><h4><b>VERSION</b></h4><pre>
       version 2.84

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use Test2::V0;
        use Test::Alien::Build;

        # returns an instance of Alien::Build.
        my $build = alienfile_ok q{
          use alienfile;

          plugin 'My::Plugin' =&gt; (
            foo =&gt; 1,
            bar =&gt; 'string',
            ...
          );
        };

        alien_build_ok 'builds okay.';

        done_testing;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides some tools for testing Alien::Build and alienfile.  Outside of Alien::Build core
       development, It is probably most useful for Alien::Build::Plugin developers.

       This module also unsets a number of Alien::Build specific environment variables, in order to make tests
       reproducible even when overrides are set in different environments.  So if you want to test those
       variables in various states you should explicitly set them in your test script.  These variables are
       unset if they defined: "ALIEN_BUILD_PRELOAD" "ALIEN_BUILD_POSTLOAD" "ALIEN_INSTALL_TYPE".

</pre><h4><b>FUNCTIONS</b></h4><pre>
   <b>alienfile</b>
        my $build = alienfile;
        my $build = alienfile q{ use alienfile ... };
        my $build = alienfile filename =&gt; 'alienfile';

       Create a Alien::Build instance from the given alienfile.  The first two forms are abbreviations.

        my $build = alienfile;
        # is the same as
        my $build = alienfile filename =&gt; 'alienfile';

       and

        my $build = alienfile q{ use alienfile ... };
        # is the same as
        my $build = alienfile source =&gt; q{ use alienfile ... };

       Except for the second abbreviated form sets the line number before feeding the source into Alien::Build
       so that you will get diagnostics with the correct line numbers.

       source
           The source for the alienfile as a string.  You must specify one of "source" or "filename".

       filename
           The filename for the alienfile.  You must specify one of "source" or "filename".

       root
           The build root.

       stage
           The staging area for the build.

       prefix
           The install prefix for the build.

   <b>alienfile_ok</b>
        my $build = alienfile_ok;
        my $build = alienfile_ok q{ use alienfile ... };
        my $build = alienfile_ok filename =&gt; 'alienfile';
        my $build = alienfile_ok $build;

       Same  as "alienfile" above, except that it runs as a test, and will not throw an exception on failure (it
       will return undef instead).

       [version 1.49]

       As of version 1.49 you can also pass in an already formed instance of Alien::Build.  This allows  you  to
       do something like this:

        subtest 'a subtest' =&gt; sub {
          my $build = alienfile q{ use alienfile; ... };
          alienfile_skip_if_missing_prereqs; # skip if alienfile prereqs are missing
          alienfile_ok $build;  # delayed pass/fail for the compile of alienfile
        };

   <b>alienfile_skip_if_missing_prereqs</b>
        alienfile_skip_if_missing_prereqs;
        alienfile_skip_if_missing_prereqs $phase;

       Skips  the  test  or  subtest if the prereqs for the alienfile are missing.  If $phase is not given, then
       either "share" or "system" will be detected.

   <b>alien_install_type_is</b>
        alien_install_type_is $type;
        alien_install_type_is $type, $name;

       Simple test to see if the install type is what you expect.  $type should be one of "system" or "share".

   <b>alien_download_ok</b>
        my $file = alien_download_ok;
        my $file = alien_download_ok $name;

       Makes a download attempt and test that a file or directory results.  Returns the  file  or  directory  if
       successful.  Returns "undef" otherwise.

   <b>alien_extract_ok</b>
        my $dir = alien_extract_ok;
        my $dir = alien_extract_ok $archive;
        my $dir = alien_extract_ok $archive, $name;
        my $dir = alien_extract_ok undef, $name;

       Makes  an  extraction  attempt  and  test that a directory results.  Returns the directory if successful.
       Returns "undef" otherwise.

   <b>alien_build_ok</b>
        my $alien = alien_build_ok;
        my $alien = alien_build_ok $name;
        my $alien = alien_build_ok { class =&gt; $class };
        my $alien = alien_build_ok { class =&gt; $class }, $name;

       Runs the download and build stages.  Passes if the build succeeds.  Returns an  instance  of  Alien::Base
       which can be passed into "alien_ok" from Test::Alien.  Returns "undef" if the test fails.

       Options

       class
           The  base  class  to  use  for  your alien.  This is Alien::Base by default.  Should be a subclass of
           Alien::Base, or at least adhere to its API.

   <b>alien_build_clean</b>
        alien_build_clean;

       Removes all files with the current build, except for the runtime prefix.  This helps test that the  final
       install won't depend on the build files.

   <b>alien_clean_install</b>
        alien_clean_install;

       Runs "$build-&gt;clean_install", and verifies it did not crash.

   <b>alien_checkpoint_ok</b>
        alien_checkpoint_ok;
        alien_checkpoint_ok $test_name;

       Test the checkpoint of a build.

   <b>alien_resume_ok</b>
        alien_resume_ok;
        alien_resume_ok $test_name;

       Test a resume a checkpointed build.

   <b>alien_rc</b>
        alien_rc $code;

       Creates "rc.pl" file in a temp directory and sets ALIEN_BUILD_RC.  Useful for testing plugins that should
       be  called  from "<a href="file:~/.alienbuild/rc.pl">~/.alienbuild/rc.pl</a>".  Note that because of the nature of how the "<a href="file:~/.alienbuild/rc.pl">~/.alienbuild/rc.pl</a>"
       file works, you can only use this once!

   <b>alien_subtest</b>
        alien_subtest $test_name =&gt; sub {
          ...
        };

       Clear the build object and clear the build object before and after the subtest.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Alien
       alienfile
       Alien::Build
       Test::Alien

</pre><h4><b>AUTHOR</b></h4><pre>
       Author: Graham Ollis &lt;<a href="mailto:plicease@cpan.org">plicease@cpan.org</a>&gt;

       Contributors:

       Diab Jerius (DJERIUS)

       Roy Storey (KIWIROY)

       Ilya Pavlov

       David Mertens (run4flat)

       Mark Nunberg (mordy, mnunberg)

       Christian Walde (Mithaldu)

       Brian Wightman (MidLifeXis)

       Zaki Mughal (zmughal)

       mohawk (mohawk2, ETJ)

       Vikas N Kumar (vikasnkumar)

       Flavio Poletti (polettix)

       Salvador Fandiño (salva)

       Gianni Ceccarelli (dakkar)

       Pavel Shaydo (zwon, trinitum)

       Kang-min Liu (劉康民, gugod)

       Nicholas Shipp (nshp)

       Juan Julián Merelo Guervós (JJ)

       Joel Berger (JBERGER)

       Petr Písař (ppisar)

       Lance Wicks (LANCEW)

       Ahmad Fatoum (a3f, ATHREEF)

       José Joaquín Atria (JJATRIA)

       Duke Leto (LETO)

       Shoichi Kaji (SKAJI)

       Shawn Laffan (SLAFFAN)

       Paul Evans (leonerd, PEVANS)

       Håkon Hægland (hakonhagland, HAKONH)

       nick nauwelaerts (INPHOBIA)

       Florian Weimer

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2011-2022 by Graham Ollis.

       This is free software; you can redistribute it and/or modify it under  the  same  terms  as  the  Perl  5
       programming language system itself.

perl v5.40.0                                       2024-11-15                            <u>Test::Alien::<a href="../man3pm/Build.3pm.html">Build</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>