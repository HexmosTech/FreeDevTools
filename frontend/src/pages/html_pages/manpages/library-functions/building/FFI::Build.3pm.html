<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FFI::Build - Build shared libraries for use with FFI</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libffi-platypus-perl">libffi-platypus-perl_2.10-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       FFI::Build - Build shared libraries for use with FFI

</pre><h4><b>VERSION</b></h4><pre>
       version 2.10

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use FFI::Platypus 2.00;
        use FFI::Build;

        my $build = FFI::Build-&gt;new(
          'frooble',
          source =&gt; 'ffi/*.c',
        );

        # $lib is an instance of FFI::Build::File::Library
        my $lib = $build-&gt;build;

        my $ffi = FFI::Platypus-&gt;new( api =&gt; 2 );
        # The filename will be platform dependant, but something like libfrooble.so or frooble.dll
        $ffi-&gt;lib($lib-&gt;path);

        ... # use $ffi to attach functions in ffi/*.c

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Using libffi based FFI::Platypus is a great alternative to XS for writing library bindings for Perl.
       Sometimes, however, you need to bundle a little C code with your FFI module, but this has never been that
       easy to use.  Module::Build::FFI was an early attempt to address this use case, but it uses the now out
       of fashion Module::Build.

       This module itself doesn't directly integrate with CPAN installers like ExtUtils::MakeMaker or
       Module::Build, but there is a light weight layer FFI::Build::MM that will allow you to easily use this
       module with ExtUtils::MakeMaker.  If you are using Dist::Zilla as your dist builder, then there is also
       Dist::Zilla::Plugin::FFI::Build, which will help with the connections.

       There is some functional overlap with ExtUtils::CBuilder, which was in fact used by Module::Build::FFI.
       For this iteration I have decided not to use that module because although it will generate dynamic
       libraries that can sometimes be used by FFI::Platypus, it is really designed for building XS modules, and
       trying to coerce it into a more general solution has proved difficult in the past.

       Supported languages out of the box are C, C++ and Fortran.  Rust is supported via a language plugin, see
       FFI::Platypus::Lang::Rust.

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
   <b>new</b>
        my $build = FFI::Build-&gt;new($name, %options);

       Create an instance of this class.  The $name argument is used when computing the file name for the
       library.  The actual name will be something like "lib$name.so" or "$name.dll".  The following options are
       supported:

       alien
           List  of  Aliens  to compile/link against.  FFI::Build will work with any Alien::Base based alien, or
           modules that provide a compatible API.

       buildname
           Directory name that will be used for building intermediate files, such  as  object  files.   This  is
           "_build" by default.

       cflags
           Extra compiler flags to use.  Things like "-I/foo/include" or "-DFOO=1".

       dir The directory where the library will be written.  This is "." by default.

       export
           Functions that should be exported (Windows + Visual C++ only)

       file
           An instance of FFI::Build::File::Library to which the library will be written.  Normally not needed.

       libs
           Extra library flags to use.  Things like "-L/foo/lib -lfoo".

       platform
           An instance of FFI::Build::Platform.  Usually you want to omit this and use the default instance.

       source
           List of source files.  You can use wildcards supported by "bsd_glob" from File::Glob.

       verbose
           By default this class does not print out the actual compiler and linker commands used in building the
           library  unless  there  is  a  failure.  You can alter this behavior with this option.  Set to one of
           these values:

           zero (0)
               Default, quiet unless there is a failure.

           one (1)
               Output the operation (compile, link, etc) and the file, but nothing else

           two (2)
               Output the complete commands run verbatim.

           If the environment variable "V" is set to a true value then the verbosity will be set to 2 regardless
           of what is passed in.

</pre><h4><b>METHODS</b></h4><pre>
   <b>dir</b>
        my $dir = $build-&gt;dir;

       Returns the directory where the library will be written.

   <b>buildname</b>
        my $builddir = $build-&gt;builddir;

       Returns the build name.  This is used in computing a directory to save intermediate files  like  objects.
       For  example,  if  you  specify  a  file  like  "ffi/foo.c",  then  the  object  file  will  be stored in
       "ffi/_build/foo.o" by default.  "_build" in this example (the default) is the build name.

   <b>export</b>
        my $exports = $build-&gt;export;

       Returns a array reference of the exported functions (Windows + Visual C++ only)

   <b>file</b>
        my $file = $build-&gt;file;

       Returns an instance of FFI::Build::File::Library corresponding to the library being built.  This is  also
       returned by the "build" method below.

   <b>platform</b>
        my $platform = $build-&gt;platform;

       An  instance  of  FFI::Build::Platform,  which  contains  information about the platform on which you are
       building.  The default is usually reasonable.

   <b>verbose</b>
        my $verbose = $build-&gt;verbose;

       Returns the verbose flag.

   <b>cflags</b>
        my @cflags = @{ $build-&gt;cflags };

       Returns the compiler flags.

   <b>cflags_I</b>
        my @cflags_I = @{ $build-&gt;cflags_I };

       Returns the "-I" cflags.

   <b>libs</b>
        my @libs = @{ $build-&gt;libs };

       Returns the library flags.

   <b>libs_L</b>
        my @libs = @{ $build-&gt;libs };

       Returns the "-L" library flags.

   <b>alien</b>
        my @aliens = @{ $build-&gt;alien };

       Returns a the list of aliens being used.

   <b>source</b>
        $build-&gt;source(@files);

       Add the @files to the list of source files that will be used in building the library.  The format is  the
       same as with the "source" attribute above.

   <b>build</b>
        my $lib = $build-&gt;build;

       This  compiles  the  source files and links the library.  Files that have already been compiled or linked
       may be reused without recompiling/linking if the timestamps are newer than the source files.  An instance
       of FFI::Build::File::Library is returned which can be used to get the path to the library, which  can  be
       feed into FFI::Platypus or similar.

   <b>clean</b>
        $build-&gt;clean;

       Removes the library and intermediate files.

</pre><h4><b>AUTHOR</b></h4><pre>
       Author: Graham Ollis &lt;<a href="mailto:plicease@cpan.org">plicease@cpan.org</a>&gt;

       Contributors:

       Bakkiaraj Murugesan (bakkiaraj)

       Dylan Cali (calid)

       pipcet

       Zaki Mughal (zmughal)

       Fitz Elliott (felliott)

       Vickenty Fesunov (vyf)

       Gregor Herrmann (gregoa)

       Shlomi Fish (shlomif)

       Damyan Ivanov

       Ilya Pavlov (Ilya33)

       Petr Písař (ppisar)

       Mohammad S Anwar (MANWAR)

       Håkon Hægland (hakonhagland, HAKONH)

       Meredith (merrilymeredith, MHOWARD)

       Diab Jerius (DJERIUS)

       Eric Brine (IKEGAMI)

       szTheory

       José Joaquín Atria (JJATRIA)

       Pete Houston (openstrike, HOUSTON)

       Lukas Mai (MAUKE)

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2015-2022 by Graham Ollis.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.40.0                                       2025-01-11                                    <u>FFI::<a href="../man3pm/Build.3pm.html">Build</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>