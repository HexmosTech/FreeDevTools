<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>init - Coordination of system startup.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/erlang-manpages">erlang-manpages_24.2.1+dfsg-1ubuntu0.5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       init - Coordination of system startup.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  module  is preloaded and contains the code for the <u>init</u> system process that coordinates the startup
       of the system. The first function evaluated at startup is <u>boot(BootArgs)</u>, where <u>BootArgs</u>  is  a  list  of
       command-line arguments supplied to the Erlang runtime system from the local operating system; see <u><a href="../man1/erl.1.html">erl</a>(1)</u>.

       <u>init</u>  reads  the  boot  script,  which  contains  instructions  on  how  to initiate the system. For more
       information about boot scripts, see <u><a href="../man5/script.5.html">script</a>(5)</u>.

       <u>init</u> also contains functions to restart, reboot, and stop the system.

</pre><h4><b>DATA</b> <b>TYPES</b></h4><pre>
       <b>mode()</b> = embedded | interactive

              Code loading mode.

</pre><h4><b>EXPORTS</b></h4><pre>
       <b>boot(BootArgs)</b> <b>-&gt;</b> <b>no_return()</b>

              Types:

                 BootArgs = [binary()]

              Starts the Erlang runtime system. This function  is  called  when  the  emulator  is  started  and
              coordinates system startup.

              <u>BootArgs</u>  are  all  command-line  arguments  except  the  emulator flags, that is, flags and plain
              arguments; see <u><a href="../man1/erl.1.html">erl</a>(1)</u>.

              <u>init</u> interprets some of the flags, see section  Command-Line  Flags  below.  The  remaining  flags
              ("user  flags")  and  plain  arguments are passed to the <u>init</u> loop and can be retrieved by calling
              <u>get_arguments/0</u> and <u>get_plain_arguments/0</u>, respectively.

       <b>get_argument(Flag)</b> <b>-&gt;</b> <b>{ok,</b> <b>Arg}</b> <b>|</b> <b>error</b>

              Types:

                 Flag = atom()
                 Arg = [Values :: [string()]]

              Returns all values associated with the command-line user flag <u>Flag</u>. If <u>Flag</u>  is  provided  several
              times, each <u>Values</u> is returned in preserved order. Example:

              % erl -a b c -a d
              ...
              1&gt; init:get_argument(a).
              {ok,[["b","c"],["d"]]}

              The following flags are defined automatically and can be retrieved using this function:

                <u>root</u>:
                  The installation directory of Erlang/OTP, <u>$ROOT</u>:

                2&gt; init:get_argument(root).
                {ok,[["/usr/local/otp/releases/otp_beam_solaris8_r10b_patched"]]}

                <u>progname</u>:
                  The name of the program which started Erlang:

                3&gt; init:get_argument(progname).
                {ok,[["erl"]]}

                <u>home</u>:
                  The home directory (on Unix, the value of $HOME):

                4&gt; init:get_argument(home).
                {ok,[["/home/harry"]]}

              Returns <u>error</u> if no value is associated with <u>Flag</u>.

       <b>get_arguments()</b> <b>-&gt;</b> <b>Flags</b>

              Types:

                 Flags = [{Flag :: atom(), Values :: [string()]}]

              Returns all command-line flags and the system-defined flags, see <u>get_argument/1</u>.

       <b>get_plain_arguments()</b> <b>-&gt;</b> <b>[Arg]</b>

              Types:

                 Arg = string()

              Returns any plain command-line arguments as a list of strings (possibly empty).

       <b>get_status()</b> <b>-&gt;</b> <b>{InternalStatus,</b> <b>ProvidedStatus}</b>

              Types:

                 InternalStatus = internal_status()
                 ProvidedStatus = term()
                 <b>internal_status()</b> = starting | started | stopping

              The  current  status of the <u>init</u> process can be inspected. During system startup (initialization),
              <u>InternalStatus</u> is <u>starting</u>, and  <u>ProvidedStatus</u>  indicates  how  far  the  boot  script  has  been
              interpreted.  Each  <u>{progress,</u>  <u>Info}</u>  term interpreted in the boot script affects <u>ProvidedStatus</u>,
              that is, <u>ProvidedStatus</u> gets the value of <u>Info</u>.

       <b>reboot()</b> <b>-&gt;</b> <b>ok</b>

              All applications are taken down smoothly, all code is unloaded, and all ports  are  closed  before
              the  system  terminates.  If  command-line  flag  <u>-heart</u> was specified, the <u>heart</u> program tries to
              reboot the system. For more information, see <u><a href="../man3erl/heart.3erl.html">heart</a>(3erl)</u>.

              To limit the shutdown time, the time <u>init</u> is allowed to spend taking down  applications,  command-
              line flag <u>-shutdown_time</u> is to be used.

       <b>restart()</b> <b>-&gt;</b> <b>ok</b>

              The same as <u>restart([])</u>.

       <b>restart(Opts</b> <b>::</b> <b>[{mode,</b> <b>mode()}])</b> <b>-&gt;</b> <b>ok</b>

              The  system  is  restarted  <u>inside</u>  the  running Erlang node, which means that the emulator is not
              restarted. All applications are taken down smoothly, all code  is  unloaded,  and  all  ports  are
              closed before the system is booted again in the same way as initially started.

              The  same  <u>BootArgs</u>  are used when restarting the system unless the <u>mode</u> option is given, allowing
              the code loading mode to be set to either <u>embedded</u> or <u>interactive</u>. All other <u>BootArgs</u>  remain  the
              same.

              To  limit  the shutdown time, the time <u>init</u> is allowed to spend taking down applications, command-
              line flag <u>-shutdown_time</u> is to be used.

       <b>script_id()</b> <b>-&gt;</b> <b>Id</b>

              Types:

                 Id = term()

              Gets the identity of the boot script used to boot the system. <u>Id</u> can be any Erlang  term.  In  the
              delivered boot scripts, <u>Id</u> is <u>{Name,</u> <u>Vsn}</u>. <u>Name</u> and <u>Vsn</u> are strings.

       <b>stop()</b> <b>-&gt;</b> <b>ok</b>

              The same as <u><a href="../man0/stop.0.html">stop</a>(0)</u>.

       <b>stop(Status)</b> <b>-&gt;</b> <b>ok</b>

              Types:

                 Status = integer() &gt;= 0 | string()

              All  applications  are  taken down smoothly, all code is unloaded, and all ports are closed before
              the system terminates by calling <u>halt(Status)</u>. If command-line  flag  <u>-heart</u>  was  specified,  the
              <u>heart</u>  program  is  terminated  before  the  Erlang  node  terminates.  For  more information, see
              <u><a href="../man3erl/heart.3erl.html">heart</a>(3erl)</u>.

              To limit the shutdown time, the time <u>init</u> is allowed to spend taking down  applications,  command-
              line flag <u>-shutdown_time</u> is to be used.

</pre><h4><b>COMMAND-LINE</b> <b>FLAGS</b></h4><pre>
   <b>Warning:</b>
       The  support  for  loading  of  code from archive files is experimental. The only purpose of releasing it
       before it is ready is to obtain early feedback. The file format, semantics, interfaces, and so on, can be
       changed in a future release. The <u>-code_path_choice</u> flag is also experimental.

       The <u>init</u> module interprets the following command-line flags:

         <u>--</u>:
           Everything following <u>--</u> up to the next flag is considered plain arguments and can be retrieved  using
           <u>get_plain_arguments/0</u>.

         <u>-code_path_choice</u> <u>Choice</u>:
           Can  be  set  to  <u>strict</u>  or  <u>relaxed</u>.  It  controls  how  each  directory  in the code path is to be
           interpreted:

           * Strictly as it appears in the <u>boot</u> <u>script</u>, or

           * <u>init</u> is to be more relaxed and try to find a suitable directory if it can  choose  from  a  regular
             <u>ebin</u> directory and an <u>ebin</u> directory in an archive file.

           This  flag  is  particular  useful when you want to elaborate with code loading from archives without
           editing the <u>boot</u> <u>script</u>. For more information about interpretation of boot  scripts,  see  <u><a href="../man5/script.5.html">script</a>(5)</u>.
           The flag has also a similar effect on how the code server works; see <u><a href="../man3erl/code.3erl.html">code</a>(3erl)</u>.

         <u>-epmd_module</u> <u>Module</u>:
           Specifies the module to use for registration and lookup of node names. Defaults to <u>erl_epmd</u>.

         <u>-eval</u> <u>Expr</u>:
           Scans,  parses,  and  evaluates  an arbitrary expression <u>Expr</u> during system initialization. If any of
           these steps fail (syntax error, parse error, or exception during evaluation), Erlang  stops  with  an
           error message. In the following example Erlang is used as a hexadecimal calculator:

         % erl -noshell -eval 'R = 16#1F+16#A0, io:format("~.16B~n", [R])' \\
         -s erlang halt
         BF

           If  multiple <u>-eval</u> expressions are specified, they are evaluated sequentially in the order specified.
           <u>-eval</u> expressions are evaluated sequentially with <u>-s</u> and <u>-run</u> function calls (this also in the  order
           specified).  As  with  <u>-s</u>  and  <u>-run</u>,  an  evaluation  that  does  not  terminate  blocks  the system
           initialization process.

         <u>-extra</u>:
           Everything  following  <u>-extra</u>  is  considered  plain   arguments   and   can   be   retrieved   using
           <u>get_plain_arguments/0</u>.

         <u>-run</u> <u>Mod</u> <u>[Func</u> <u>[Arg1,</u> <u>Arg2,</u> <u>...]]</u>:
           Evaluates  the  specified  function  call during system initialization. <u>Func</u> defaults to <u>start</u>. If no
           arguments are provided, the function is assumed to be of arity 0. Otherwise it is assumed  to  be  of
           arity  1,  taking  the  list  <u>[Arg1,Arg2,...]</u> as argument. All arguments are passed as strings. If an
           exception is raised, Erlang stops with an error message.

           Example:

         % erl -run foo -run foo bar -run foo bar baz 1 2

           This starts the Erlang runtime system and evaluates the following functions:

         foo:start()
         foo:bar()
         foo:bar(["baz", "1", "2"]).

           The functions are executed sequentially in an initialization process, which then terminates  normally
           and  passes  control  to  the  user.  This means that a <u>-run</u> call that does not return blocks further
           processing; to avoid this, use some variant of <u>spawn</u> in such cases.

         <u>-s</u> <u>Mod</u> <u>[Func</u> <u>[Arg1,</u> <u>Arg2,</u> <u>...]]</u>:
           Evaluates the specified function call during system initialization. <u>Func</u> defaults  to  <u>start</u>.  If  no
           arguments  are  provided,  the function is assumed to be of arity 0. Otherwise it is assumed to be of
           arity 1, taking the list <u>[Arg1,Arg2,...]</u> as argument. All  arguments  are  passed  as  atoms.  If  an
           exception is raised, Erlang stops with an error message.

           Example:

         % erl -s foo -s foo bar -s foo bar baz 1 2

           This starts the Erlang runtime system and evaluates the following functions:

         foo:start()
         foo:bar()
         foo:bar([baz, '1', '2']).

           The  functions are executed sequentially in an initialization process, which then terminates normally
           and passes control to the user. This means that a  <u>-s</u>  call  that  does  not  return  blocks  further
           processing; to avoid this, use some variant of <u>spawn</u> in such cases.

           Because of the limited length of atoms, it is recommended to use <u>-run</u> instead.

</pre><h4><b>EXAMPLE</b></h4><pre>
       % erl -- a b -children thomas claire -ages 7 3 -- x y
       ...

       1&gt; init:get_plain_arguments().
       ["a","b","x","y"]
       2&gt; init:get_argument(children).
       {ok,[["thomas","claire"]]}
       3&gt; init:get_argument(ages).
       {ok, [["7","3"]]}
       4&gt; init:get_argument(silly).
       error

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3erl/erl_prim_loader.3erl.html">erl_prim_loader</a>(3erl)</u>, <u><a href="../man3erl/heart.3erl.html">heart</a>(3erl)</u>

Ericsson AB                                        erts 12.2.1                                        <u><a href="../man3erl/init.3erl.html">init</a></u>(3erl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>