<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wiki::Toolkit::Plugin - A base class for Wiki::Toolkit plugins.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libwiki-toolkit-perl">libwiki-toolkit-perl_0.86-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Wiki::Toolkit::Plugin - A base class for Wiki::Toolkit plugins.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Provides methods for accessing the backend store, search and formatter objects of the Wiki::Toolkit
       object that a plugin instance is registered with.

</pre><h4><b>SYNOPSIS</b></h4><pre>
         package Wiki::Toolkit::Plugin::Foo;
         use base qw( Wiki::Toolkit::Plugin);

         # And then in your script:
         my $wiki = Wiki::Toolkit-&gt;new( ... );
         my $plugin = Wiki::Toolkit::Plugin::Foo-&gt;new;
         $wiki-&gt;register_plugin( plugin =&gt; $plugin );
         my $node = $plugin-&gt;datastore-&gt;retrieve_node( "Home" );

</pre><h4><b>POSSIBLE</b> <b>METHODS</b></h4><pre>
       <b>pre_moderate</b>
             Called before moderation is performed.
             Allows changes to the parameters used in moderation.

             my %args = @_;
             my ($name_ref,$version_ref) = @args{ qw( node version ) };
             $$name_ref =~ s/\s/_/g;
             return 0;

       <b>post_moderate</b>
             Called after moderation has been performed.
             Allows additional actions to occur after node moderation.

             my %args = @_;
             my ($node,$node_id,$version) =
                @args{ qw( node node_id version ) };
             &amp;update_pending_list($node,$version);

       <b>pre_rename</b>
             Called before a rename is performed.
             Allows changes to the parameters used by rename.

             my %args = @_;
             my ($old_name_ref,$new_name_ref,$create_new_versions_ref) =
                @args{ qw( old_name new_name create_new_versions ) };
             $$old_name_ref =~ s/\s/_/g;
             $$new_name_ref =~ s/\s/_/g;
             return 0;

       <b>post_rename</b>
             Called after a rename has been performed.
             Allows additional actions to occur after node renames.

             my %args = @_;
             my ($old_name,$new_name,$node_id) =
                @args{ qw( old_name new_name node_id ) };
             &amp;recalculate_category_listings();

       <b>pre_retrieve</b>
             Called before a retrieve is performed.
             Allows changes to the parameters used by retrieve.

             my %args = @_;
             my ($name_ref,$version_ref) = @args{ qw( node version ) };
             return &amp;check_retrive_allowed($$name_ref);

             TODO: Allow declining of the read.

       <b>pre_write</b>
             Called before a write is performed.
             Allows changes to the parameters used by the write;

             my %args = @_;
             my ($node_ref,$content_ref,$metadata_ref) =
                 @args{ qw( node content metadata ) };
             $$content_ref =~ s/\bpub\b/Pub/g;
             return 1;

       <b>post_write</b>
             Called after a write has been performed.
             Allows additional actions to occur after node writes.

             my %args = @_;
             my ($node,$node_id,$version,$content,$metadata) =
                @args{ qw( node node_id version content metadata ) };
             &amp;log_node_write($node,gmtime);

       <b>post_delete</b>
             Called after a delete has been performed.
             Allows additional actions to occur after node deletions.

             my %args = @_;
             my ($node,$node_id,$version) =
                @args{ qw( node node_id version ) };
             &amp;log_node_delete($node,gmtime);

</pre><h4><b>DECLINING</b> <b>ACTIONS</b> <b>FROM</b> <b>PRE_</b> <b>METHODS</b></h4><pre>
         Note: This functionality is missing for pre_retrieve

         It is possible for the pre_ methods (eg C&lt;pre_write&gt;) to
         decline the action. This could be due to an authentication
         check done by the plugin, due to the content, or whatever else
         the plugin fancies. There are three possible return values from
         a pre_ plugin:

         C&lt;-1&gt; - Deny this action
         C&lt;0&gt; or C&lt;undef&gt; - I have no opinion
         C&lt;1&gt; - Allow this action

         If you have only zeros, the action will be allowed. If you have ones
         and zeros, it will also be allowed.

         If you have minus ones and zeros, it will be denied. If you have minus
         ones, ones and zeros, the sum will be used to decide.

         For default deny, have one plugin return -1, and another only return 1
         if the action is explicity allowed)

</pre><h4><b>METHODS</b></h4><pre>
       <b>new</b>
             sub new {
                 my $class = shift;
                 my $self = bless {}, $class;
                 $self-&gt;_init if $self-&gt;can("_init");
                 return $self;
             }

           Generic contructor, just returns a blessed object.

       <b>wiki</b>
           Returns  the Wiki::Toolkit object, or "undef" if the "register_plugin" method hasn't been called on a
           Wiki::Toolkit object yet.

       <b>datastore</b>
           Returns the backend store object, or "undef" if the "register_plugin" method hasn't been called on  a
           Wiki::Toolkit object yet.

       <b>indexer</b>
           Returns the backend search object, or "undef" if the "register_plugin" method hasn't been called on a
           Wiki::Toolkit object yet, or if the wiki object had no search object defined.

       <b>formatter</b>
           Returns  the  backend formatter object, or "undef" if the "register_plugin" method hasn't been called
           on a Wiki::Toolkit object yet.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Wiki::Toolkit

</pre><h4><b>AUTHOR</b></h4><pre>
       Kake Pugh (<a href="mailto:kake@earth.li">kake@earth.li</a>).

</pre><h4><b>COPYRIGHT</b></h4><pre>
            Copyright (C) 2003-4 Kake Pugh.  All Rights Reserved.
            Copyright (C) 2006 the Wiki::Toolkit team. All Rights Reserved.

       This module is free software; you can redistribute it and/or modify it  under  the  same  terms  as  Perl
       itself.

perl v5.32.0                                       2021-01-04                         <u>Wiki::Toolkit::<a href="../man3pm/Plugin.3pm.html">Plugin</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>