<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wiki::Toolkit::Plugin::Locator::Grid - A Wiki::Toolkit plugin to manage co-ordinate data.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libwiki-toolkit-plugin-locator-grid-perl">libwiki-toolkit-plugin-locator-grid-perl_0.05-5.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Wiki::Toolkit::Plugin::Locator::Grid - A Wiki::Toolkit plugin to manage co-ordinate data.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Access to and calculations using co-ordinate metadata supplied to a Wiki::Toolkit wiki when writing a
       node.

       <b>Note:</b> This is <u>read-only</u> access. If you want to write to a node's metadata, you need to do it using the
       "write_node" method of Wiki::Toolkit.

       We assume that the points are located on a flat, square grid with unit squares of side 1 metre.

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Wiki::Toolkit;
         use Wiki::Toolkit::Plugin::Locator::Grid;

         my $wiki = Wiki::Toolkit-&gt;new( ... );
         my $locator = Wiki::Toolkit::Plugin::Locator::Grid-&gt;new;
         $wiki-&gt;register_plugin( plugin =&gt; $locator );

         $wiki-&gt;write_node( "Jerusalem Tavern", "A good pub", $checksum,
                            { x =&gt; 531674, y =&gt; 181950 } ) or die "argh";

         # Just retrieve the co-ordinates.
         my ( $x, $y ) = $locator-&gt;coordinates( node =&gt; "Jerusalem Tavern" );

         # Find the straight-line distance between two nodes, in metres.
         my $distance = $locator-&gt;distance( from_node =&gt; "Jerusalem Tavern",
                                            to_node   =&gt; "Calthorpe Arms" );

         # Find all the things within 200 metres of a given place.
         my @others = $locator-&gt;find_within_distance( node   =&gt; "Albion",
                                                      metres =&gt; 200 );

         # Maybe our wiki calls the x and y co-ordinates something else.
         my $locator = Wiki::Toolkit::Plugin::Locator::Grid-&gt;new(
                                                              x =&gt; "os_x",
                                                              y =&gt; "os_y",
                                                            );

</pre><h4><b>METHODS</b></h4><pre>
       <b>new</b>
             # By default we assume that x and y co-ordinates are stored in
             # metadata called "x" and "y".
             my $locator = Wiki::Toolkit::Plugin::Locator::Grid-&gt;new;

             # But maybe our wiki calls the x and y co-ordinates something else.
             my $locator = Wiki::Toolkit::Plugin::Locator::Grid-&gt;new(
                                                                  x =&gt; "os_x",
                                                                  y =&gt; "os_y",
                                                                );

       <b>x_field</b>
             my $x_field = $locator-&gt;x_field;

           An accessor, returns the name of the metadata field used to store the x-coordinate.

       <b>y_field</b>
             my $y_field = $locator-&gt;y_field;

           An accessor, returns the name of the metadata field used to store the y-coordinate.

       <b>coordinates</b>
             my ($x, $y) = $locator-&gt;coordinates( node =&gt; "Jerusalem Tavern" );

           Returns the x and y co-ordinates stored as metadata last time the node was written.

       <b>distance</b>
             # Find the straight-line distance between two nodes, in metres.
             my $distance = $locator-&gt;distance( from_node =&gt; "Jerusalem Tavern",
                                                to_node   =&gt; "Calthorpe Arms" );

             # Or in kilometres, and between a node and a point.
             my $distance = $locator-&gt;distance( from_x  =&gt; 531467,
                                                from_y  =&gt; 183246,
                                                to_node =&gt; "Duke of Cambridge",
                                                unit    =&gt; "kilometres" );

           Defaults  to  metres if "unit" is not supplied or is not recognised.  Recognised units at the moment:
           "metres", "kilometres".

           Returns "undef" if one of the endpoints does not exist, or does not have both  co-ordinates  defined.
           The  "node"  specification  of  an endpoint overrides the x/y co-ords if both specified (but don't do
           that).

           <b>Note:</b> Works to the nearest metre. Well, actually, calls "int" and rounds down, but  if  anyone  cares
           about that they can send a patch.

       <b>find_within_distance</b>
             # Find all the things within 200 metres of a given place.
             my @others = $locator-&gt;find_within_distance( node   =&gt; "Albion",
                                                          metres =&gt; 200 );

             # Or within 200 metres of a given location.
             my @things = $locator-&gt;find_within_distance( x      =&gt; 530774,
                                                          y      =&gt; 182260,
                                                          metres =&gt; 200 );

           Units  currently  understood:  "metres",  "kilometres".  If both "node" and "x"/"y" are supplied then
           "node" takes precedence. Croaks if insufficient start point data supplied.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       •   Wiki::Toolkit

       •   OpenGuides - an application that uses this plugin.

</pre><h4><b>AUTHOR</b></h4><pre>
       Kake Pugh (<a href="mailto:kake@earth.li">kake@earth.li</a>).  The Wiki::Toolkit team (<a href="http://www.wiki-toolkit.org/">http://www.wiki-toolkit.org/</a>)

</pre><h4><b>COPYRIGHT</b></h4><pre>
            Copyright (C) 2004 Kake L Pugh.  All Rights Reserved.
            Copyright (C) 2006 the Wiki::Toolkit Team. All Rights Reserved.

       This module is free software; you can redistribute it and/or modify it  under  the  same  terms  as  Perl
       itself.

</pre><h4><b>CREDITS</b></h4><pre>
       This module is based heavily on (and is the replacement for) Wiki::Toolkit::Plugin::Locator::UK.

       The following thanks are due to people who helped with Wiki::Toolkit::Plugin::Locator::UK: Nicholas Clark
       found  a  very silly bug in a pre-release version, oops :) Stephen White got me thinking in the right way
       to implement "find_within_distance". Marcel Gruenauer helped me make "find_within_distance" work properly
       with postgres.

</pre><h4><b>POD</b> <b>ERRORS</b></h4><pre>
       Hey! <b>The</b> <b>above</b> <b>document</b> <b>had</b> <b>some</b> <b>coding</b> <b>errors,</b> <b>which</b> <b>are</b> <b>explained</b> <b>below:</b>

       Around line 269:
           You forgot a '=back' before '=head1'

perl v5.34.0                                       2022-06-14             <u>Wiki::Toolkit::...::Locator::<a href="../man3pm/Grid.3pm.html">Grid</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>