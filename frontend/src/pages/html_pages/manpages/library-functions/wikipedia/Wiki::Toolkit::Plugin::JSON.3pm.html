<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wiki::Toolkit::Plugin::JSON - A Wiki::Toolkit plugin to output RecentChanges JSON.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libwiki-toolkit-plugin-json-perl">libwiki-toolkit-plugin-json-perl_0.05-1.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
         Wiki::Toolkit::Plugin::JSON - A Wiki::Toolkit plugin to output RecentChanges JSON.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This is an alternative access to the recent changes of a Wiki::Toolkit wiki. It outputs JSON.

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Wiki::Toolkit;
         use Wiki::Toolkit::Plugin::JSON;

         my $wiki = Wiki::Toolkit-&gt;new( ... );  # See perldoc Wiki::Toolkit

         # Set up the JSON feeder with the mandatory arguments - see
         # C&lt;new()&gt; below for more, optional, arguments.
         my $json = Wiki::Toolkit::Plugin::JSON-&gt;new(
           wiki                =&gt; $wiki,
           site_name           =&gt; 'My Wiki',
           site_url            =&gt; '<a href="http://example.com/">http://example.com/</a>',
           make_node_url       =&gt; sub
                                  {
                                    my ($node_name, $version) = @_;
                                    return '<a href="http://example.com/">http://example.com/</a>?id=' . uri_escape($node_name) . ';version=' . uri_escape($version);
                                  },
           recent_changes_link =&gt; '<a href="http://example.com/">http://example.com/</a>?RecentChanges',
         );

         print "Content-type: application/xml\n\n";
         print $json-&gt;recent_changes;

</pre><h4><b>METHODS</b></h4><pre>
   <b>"new()"</b>
         my $json = Wiki::Toolkit::Plugin::JSON-&gt;new(
           # Mandatory arguments:
           wiki                 =&gt; $wiki,
           site_name            =&gt; 'My Wiki',
           site_url             =&gt; '<a href="http://example.com/">http://example.com/</a>',
           make_node_url        =&gt; sub
                                   {
                                     my ($node_name, $version) = @_;
                                     return '<a href="http://example.com/">http://example.com/</a>?id=' . uri_escape($node_name) . ';version=' . uri_escape($version);
                                   },
           recent_changes_link  =&gt; '<a href="http://example.com/">http://example.com/</a>?RecentChanges',

           # Optional arguments:
           site_description     =&gt; 'My wiki about my stuff',
           interwiki_identifier =&gt; 'MyWiki',
           make_diff_url        =&gt; sub
                                   {
                                     my $node_name = shift;
                                     return '<a href="http://example.com/">http://example.com/</a>?diff=' . uri_escape($node_name)
                                   },
           make_history_url     =&gt; sub
                                   {
                                     my $node_name = shift;
                                     return '<a href="http://example.com/">http://example.com/</a>?hist=' . uri_escape($node_name)
                                   },
         );

       "wiki" must be a Wiki::Toolkit object. "make_node_url", and "make_diff_url" and "make_history_url", if
       supplied, must be coderefs.

       The mandatory arguments are:

       •   wiki

       •   site_name

       •   site_url

       •   make_node_url

       •   recent_changes_link

   <b>"recent_changes()"</b>
         $wiki-&gt;write_node(
                            'About This Wiki',
                            'blah blah blah',
                                        $checksum,
                                  {
                              comment  =&gt; 'Stub page, please update!',
                                          username =&gt; 'Fred',
                            }
         );

         print "Content-type: application/xml\n\n";
         print $json-&gt;recent_changes;

         # Or get something other than the default of the latest 15 changes.
         print $json-&gt;recent_changes( items =&gt; 50 );
         print $json-&gt;recent_changes( days =&gt; 7 );

         # Or ignore minor edits.
         print $json-&gt;recent_changes( ignore_minor_edits =&gt; 1 );

         # Personalise your feed further - consider only changes
         # made by Fred to pages about bookshops.
         print $json-&gt;recent_changes(
                    filter_on_metadata =&gt; {
                                username =&gt; 'Fred',
                                category =&gt; 'Bookshops',
                              },
                     );

       If using "filter_on_metadata", note that only changes satisfying <u>all</u> criteria will be returned.

       <b>Note:</b> Many of the fields emitted by the JSON generator are taken from the node metadata. The form of this
       metadata is <u>not</u> mandated by Wiki::Toolkit. Your wiki application should make sure to store some or all of
       the following metadata when calling "write_node":

       <b>comment</b> - a brief comment summarising the edit that has just been made.  Defaults to the empty string.
       <b>username</b> - an identifier for the person who made the edit; will be used as the Dublin Core contributor
       for this item.  Defaults to the empty string.
       <b>host</b> - the hostname or IP address of the computer used to make the edit; if no username is supplied then
       this will be used as the Dublin Core contributor for this item.  Defaults to the empty string.
       <b>major_change</b> - true if the edit was a major edit and false if it was a minor edit; used for the
       importance of the item.  Defaults to true (ie if "major_change" was not defined or was explicitly stored
       as "undef").

   <b>"rss_timestamp()"</b>
         print $json-&gt;rss_timestamp();

       Returns  the  timestamp  of the feed in POSIX::strftime style ("Tue, 29 Feb 2000 12:34:56 GMT"), which is
       equivalent to the timestamp  of  the  most  recent  item  in  the  feed.  Takes  the  same  arguments  as
       <b>recent_changes()</b>.  You will most likely need this to print a Last-Modified HTTP header so user-agents can
       determine whether they need to reload the feed or not.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       •   Wiki::Toolkit

       •   &lt;<a href="http://web.resource.org/rss/1.0/spec">http://web.resource.org/rss/1.0/spec</a>&gt;

       •   &lt;<a href="http://www.usemod.com/cgi-bin/mb.pl">http://www.usemod.com/cgi-bin/mb.pl</a>?ModWiki&gt;

</pre><h4><b>MAINTAINER</b></h4><pre>
       Earle Martin &lt;<a href="mailto:EMARTIN@cpan.org">EMARTIN@cpan.org</a>&gt;. Originally by Kake Pugh &lt;<a href="mailto:kake@earth.li">kake@earth.li</a>&gt;.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright 2003-4 Kake Pugh. Subsequent modifications copyright 2005 Earle Martin.

       Copyright 2008 the Wiki::Toolkit team

       This module is free software; you can redistribute it and/or modify it  under  the  same  terms  as  Perl
       itself.

</pre><h4><b>THANKS</b></h4><pre>
       The  members  of  the Semantic Web Interest Group channel on irc.freenode.net, #swig, were very useful in
       the development of this module.

perl v5.32.0                                       2021-01-08                   <u>Wiki::Toolkit::Plugin::<a href="../man3pm/JSON.3pm.html">JSON</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>