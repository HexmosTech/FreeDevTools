<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XQueryDeviceState - query the state of an extension input device.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libxi-dev">libxi-dev_1.8.2-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       XQueryDeviceState - query the state of an extension input device.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;X11/extensions/XInput.h&gt;

       XDeviceState* XQueryDeviceState( Display *display,
                                        XDevice *device);

       display
              Specifies the connection to the X server.

       device
              Specifies the device whose state is to be queried.

</pre><h4><b>DESCRIPTION</b></h4><pre>
           The XQueryDeviceState request queries the state of an input
           device. The current state of keys and buttons (up or down), and
           valuators (current value) on the device is reported by this
           request. Each key or button is represented by a bit in the
           XDeviceState structure that is returned. Valuators on the
           device report 0 if they are reporting relative information, and
           the current value if they are reporting absolute information.

           XQueryDeviceState can generate a BadDevice error.

           Structures:

           The XDeviceState structure contains:

           typedef struct {
               XID device_id;
               int num_classes;
               XInputClass *data;
           } XDeviceState;

           The XValuatorState structure contains:

           typedef struct {
               unsigned char class;
               unsigned char length;
               unsigned char num_valuators;
               unsigned char mode;
               int *valuators;
           } XValuatorState;

           The XKeyState structure contains:

           typedef struct {
               unsigned char class;
               unsigned char length;
               short     num_keys;
               char keys[32];
           } XKeyState;

           The XButtonState structure contains:

           typedef struct {
               unsigned char class;
               unsigned char length;
               short     num_buttons;
               char buttons[32];
           } XButtonState;

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
           BadDevice
                  An invalid device was specified. The specified device
                  does not exist or has not been opened by this client via
                  XOpenInputDevice. This error may also occur if some
                  other client has caused the specified device to become
                  the X keyboard or X pointer device via the
                  XChangeKeyboardDevice or XChangePointerDevice requests.

                                                   09/05/2024                               <u><a href="../man3/XQUERYDEVICESTATE.3.html">XQUERYDEVICESTATE</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>