<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sd_event_source_set_floating, sd_event_source_get_floating - Set or retrieve 'floating' state of event</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsystemd-dev">libsystemd-dev_257.7-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sd_event_source_set_floating, sd_event_source_get_floating - Set or retrieve 'floating' state of event
       sources

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;systemd/sd-event.h&gt;</b>

       <b>int</b> <b>sd_event_source_set_floating(sd_event_source</b> <b>*</b><u>source</u><b>,</b> <b>int</b> <u>floating</u><b>);</b>

       <b>int</b> <b>sd_event_source_get_floating(sd_event_source</b> <b>*</b><u>source</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sd_event_source_set_floating()</b> takes a boolean and sets the 'floating' state of the specified event
       source object. This is used to change the direction of reference counts for the object and the event loop
       it is associated with. In non-floating mode, the event source object holds a reference to the event loop
       object, but not vice versa. The creator of the event source object must hold a reference to it as long as
       the source should exist. In floating mode, the event loop holds a reference to the source object, and
       will decrease the reference count when being freed. This means that a reference to the event loop should
       be held to prevent both from being destroyed.

       Various calls that allocate event source objects (i.e.  <b><a href="../man3/sd_event_add_io.3.html">sd_event_add_io</a></b>(3), <b><a href="../man3/sd_event_add_time.3.html">sd_event_add_time</a></b>(3) and
       similar) will automatically set an event source object to 'floating' mode if the caller passed <b>NULL</b> in
       the parameter used to return a reference to the event source object. Nevertheless, it may be necessary to
       gain temporary access to the source object, for example to adjust event source properties after
       allocation (e.g. its priority or description string). In those cases the object may be created in
       non-floating mode, and the returned reference used to adjust the properties, and the object marked as
       floating afterwards, and the reference in the caller dropped.

       <b>sd_event_source_get_floating()</b> may be used to query the current 'floating' state of the event source
       object <u>source</u>. It returns zero if 'floating' mode is off, positive if it is on.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, <b>sd_event_source_set_floating()</b> and <b>sd_event_source_get_floating()</b> return a non-negative
       integer. On failure, they return a negative errno-style error code.

   <b>Errors</b>
       Returned errors may indicate the following problems:

       <b>-EINVAL</b>
           <u>source</u> is not a valid pointer to an sd_event_source object.

           Added in version 244.

       <b>-ECHILD</b>
           The event loop has been created in a different process, library or module instance.

           Added in version 244.

</pre><h4><b>NOTES</b></h4><pre>
       Functions described here are available as a shared library, which can be compiled against and linked to
       with the <b>libsystemd</b> <b><a href="../man1/pkg-config.1.html">pkg-config</a></b>(1) file.

       The code described here uses <b><a href="../man3/getenv.3.html">getenv</a></b>(3), which is declared to be not multi-thread-safe. This means that
       the code calling the functions described here must not call <b><a href="../man3/setenv.3.html">setenv</a></b>(3) from a parallel thread. It is
       recommended to only do calls to <b>setenv()</b> from an early phase of the program when no other threads have
       been started.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>sd_event_source_set_floating()</b> and <b>sd_event_source_get_floating()</b> were added in version 244.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/sd-event.3.html">sd-event</a></b>(3), <b><a href="../man3/sd_event_add_io.3.html">sd_event_add_io</a></b>(3), <b><a href="../man3/sd_event_add_time.3.html">sd_event_add_time</a></b>(3), <b><a href="../man3/sd_event_add_signal.3.html">sd_event_add_signal</a></b>(3), <b><a href="../man3/sd_event_add_child.3.html">sd_event_add_child</a></b>(3),
       <b><a href="../man3/sd_event_add_inotify.3.html">sd_event_add_inotify</a></b>(3), <b><a href="../man3/sd_event_add_defer.3.html">sd_event_add_defer</a></b>(3), <b><a href="../man3/sd_event_source_set_description.3.html">sd_event_source_set_description</a></b>(3),
       <b><a href="../man3/sd_event_source_set_priority.3.html">sd_event_source_set_priority</a></b>(3)

systemd 257.7                                                                    <u><a href="../man3/SD_EVENT_SOURCE_SET_FLOATING.3.html">SD_EVENT_SOURCE_SET_FLOATING</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>