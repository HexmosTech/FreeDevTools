<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sd_event_source_set_enabled, sd_event_source_get_enabled, SD_EVENT_ON, SD_EVENT_OFF, SD_EVENT_ONESHOT -</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsystemd-dev">libsystemd-dev_257.7-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sd_event_source_set_enabled, sd_event_source_get_enabled, SD_EVENT_ON, SD_EVENT_OFF, SD_EVENT_ONESHOT -
       Enable or disable event sources

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;systemd/sd-event.h&gt;</b>

       <b>enum</b> <b>{</b>
               <b>SD_EVENT_OFF</b> = 0,
               <b>SD_EVENT_ON</b> = 1,
               <b>SD_EVENT_ONESHOT</b> = -1,
       };

       <b>int</b> <b>sd_event_source_set_enabled(sd_event_source</b> <b>*</b><u>source</u><b>,</b> <b>int</b> <u>enabled</u><b>);</b>

       <b>int</b> <b>sd_event_source_get_enabled(sd_event_source</b> <b>*</b><u>source</u><b>,</b> <b>int</b> <b>*</b><u>ret</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sd_event_source_set_enabled()</b> may be used to enable or disable the event source object specified as
       <u>source</u>. The <u>enabled</u> parameter takes one of <b>SD_EVENT_ON</b> (to enable), <b>SD_EVENT_OFF</b> (to disable) or
       <b>SD_EVENT_ONESHOT</b>. If invoked with <b>SD_EVENT_ONESHOT</b> the event source will be enabled but automatically
       reset to <b>SD_EVENT_OFF</b> after one dispatch. For <b>SD_EVENT_OFF</b>, the event source <u>source</u> may be <b>NULL</b>, in which
       case the function does nothing. Otherwise, <u>source</u> must be a valid pointer to an sd_event_source object.

       Event sources that are disabled will not result in event loop wakeups and will not be dispatched, until
       they are enabled again.

       <b>sd_event_source_get_enabled()</b> may be used to query whether the event source object <u>source</u> is currently
       enabled or not. If both the <u>source</u> and the output parameter <u>ret</u> are <b>NULL</b>, this function returns false.
       Otherwise, <u>source</u> must be a valid pointer to an sd_event_source object. If the output parameter <u>ret</u> is
       not <b>NULL</b>, it is set to the enablement state (one of <b>SD_EVENT_ON</b>, <b>SD_EVENT_OFF</b>, <b>SD_EVENT_ONESHOT</b>). The
       function also returns true if the event source is not disabled.

       Event source objects are enabled when they are first created with calls such as <b><a href="../man3/sd_event_add_io.3.html">sd_event_add_io</a></b>(3),
       <b><a href="../man3/sd_event_add_time.3.html">sd_event_add_time</a></b>(3). However, depending on the event source type they are enabled continuously
       (<b>SD_EVENT_ON</b>) or only for a single invocation of the event source handler (<b>SD_EVENT_ONESHOT</b>). For details
       see the respective manual pages.

       As event source objects stay active and may be dispatched as long as there is at least one reference to
       them, in many cases it is a good idea to combine a call to <b><a href="../man3/sd_event_source_unref.3.html">sd_event_source_unref</a></b>(3) with a prior call to
       <b>sd_event_source_set_enabled()</b> with <b>SD_EVENT_OFF</b>, to ensure the event source is not dispatched again until
       all other remaining references are dropped.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, <b>sd_event_source_set_enabled()</b> returns a non-negative integer.  <b>sd_event_source_get_enabled()</b>
       returns zero if the source is disabled (<b>SD_EVENT_OFF</b>) and a positive integer otherwise. On failure, they
       return a negative errno-style error code.

   <b>Errors</b>
       Returned errors may indicate the following problems:

       <b>-EINVAL</b>
           <u>source</u> is not a valid pointer to an sd_event_source object.

       <b>-ENOMEM</b>
           Not enough memory.

       <b>-ECHILD</b>
           The event loop has been created in a different process, library or module instance.

</pre><h4><b>NOTES</b></h4><pre>
       Functions described here are available as a shared library, which can be compiled against and linked to
       with the <b>libsystemd</b> <b><a href="../man1/pkg-config.1.html">pkg-config</a></b>(1) file.

       The code described here uses <b><a href="../man3/getenv.3.html">getenv</a></b>(3), which is declared to be not multi-thread-safe. This means that
       the code calling the functions described here must not call <b><a href="../man3/setenv.3.html">setenv</a></b>(3) from a parallel thread. It is
       recommended to only do calls to <b>setenv()</b> from an early phase of the program when no other threads have
       been started.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>sd_event_source_set_enabled()</b> and <b>sd_event_source_get_enabled()</b> were added in version 229.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/sd-event.3.html">sd-event</a></b>(3), <b><a href="../man3/sd_event_add_io.3.html">sd_event_add_io</a></b>(3), <b><a href="../man3/sd_event_add_time.3.html">sd_event_add_time</a></b>(3), <b><a href="../man3/sd_event_add_signal.3.html">sd_event_add_signal</a></b>(3), <b><a href="../man3/sd_event_add_child.3.html">sd_event_add_child</a></b>(3),
       <b><a href="../man3/sd_event_add_inotify.3.html">sd_event_add_inotify</a></b>(3), <b><a href="../man3/sd_event_add_defer.3.html">sd_event_add_defer</a></b>(3), <b><a href="../man3/sd_event_source_unref.3.html">sd_event_source_unref</a></b>(3),
       <b><a href="../man3/sd_event_source_set_ratelimit.3.html">sd_event_source_set_ratelimit</a></b>(3)

systemd 257.7                                                                     <u><a href="../man3/SD_EVENT_SOURCE_SET_ENABLED.3.html">SD_EVENT_SOURCE_SET_ENABLED</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>