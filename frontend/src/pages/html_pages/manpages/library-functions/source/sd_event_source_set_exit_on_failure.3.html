<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sd_event_source_set_exit_on_failure, sd_event_source_get_exit_on_failure - Set or retrieve the</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsystemd-dev">libsystemd-dev_257.7-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sd_event_source_set_exit_on_failure, sd_event_source_get_exit_on_failure - Set or retrieve the
       exit-on-failure feature of event sources

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;systemd/sd-event.h&gt;</b>

       <b>int</b> <b>sd_event_source_set_exit_on_failure(sd_event_source</b> <b>*</b><u>source</u><b>,</b> <b>int</b> <u>b</u><b>);</b>

       <b>int</b> <b>sd_event_source_get_exit_on_failure(sd_event_source</b> <b>*</b><u>source</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sd_event_source_set_exit_on_failure()</b> may be used to set/unset the exit-on-failure flag of the event
       source object specified as <u>source</u>. The flag defaults to off. If on and the callback function set for the
       event source returns a failure code (i.e. a negative value) the event loop is exited too, using the
       callback return code as the exit code for <b><a href="../man3/sd_event_exit.3.html">sd_event_exit</a></b>(3). If off, the event source is disabled but the
       event loop continues to run. Setting this flag is useful for "dominant" event sources that define the
       purpose and reason for the event loop, and whose failure hence should propagate to the event loop itself
       â€” as opposed to "auxiliary" event sources whose failures should remain local and affect the event source,
       but not propagate further.

       <b>sd_event_source_get_exit_on_failure()</b> may be used to query the flag currently set for the event source
       object <u>source</u>.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, <b>sd_event_source_set_exit_on_failure()</b> returns a non-negative integer.
       <b>sd_event_source_get_exit_on_failure()</b> returns 0 if the flag is off, &gt; 0 if the flag is on. On failure,
       both return a negative errno-style error code.

   <b>Errors</b>
       Returned errors may indicate the following problems:

       <b>-EINVAL</b>
           <u>source</u> is not a valid pointer to an sd_event_source object.

           Added in version 247.

       <b>-EDOM</b>
           The event source refers to an exit event source (as created with <b><a href="../man3/sd_event_add_exit.3.html">sd_event_add_exit</a></b>(3)), for which
           this functionality is not supported.

           Added in version 247.

</pre><h4><b>NOTES</b></h4><pre>
       Functions described here are available as a shared library, which can be compiled against and linked to
       with the <b>libsystemd</b> <b><a href="../man1/pkg-config.1.html">pkg-config</a></b>(1) file.

       The code described here uses <b><a href="../man3/getenv.3.html">getenv</a></b>(3), which is declared to be not multi-thread-safe. This means that
       the code calling the functions described here must not call <b><a href="../man3/setenv.3.html">setenv</a></b>(3) from a parallel thread. It is
       recommended to only do calls to <b>setenv()</b> from an early phase of the program when no other threads have
       been started.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>sd_event_source_set_exit_on_failure()</b> and <b>sd_event_source_get_exit_on_failure()</b> were added in version
       247.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/sd-event.3.html">sd-event</a></b>(3), <b><a href="../man3/sd_event_add_io.3.html">sd_event_add_io</a></b>(3), <b><a href="../man3/sd_event_add_time.3.html">sd_event_add_time</a></b>(3), <b><a href="../man3/sd_event_add_signal.3.html">sd_event_add_signal</a></b>(3), <b><a href="../man3/sd_event_add_child.3.html">sd_event_add_child</a></b>(3),
       <b><a href="../man3/sd_event_add_inotify.3.html">sd_event_add_inotify</a></b>(3), <b><a href="../man3/sd_event_add_defer.3.html">sd_event_add_defer</a></b>(3)

systemd 257.7                                                             <u><a href="../man3/SD_EVENT_SOURCE_SET_EXIT_ON_FAILURE.3.html">SD_EVENT_SOURCE_SET_EXIT_ON_FAILURE</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>