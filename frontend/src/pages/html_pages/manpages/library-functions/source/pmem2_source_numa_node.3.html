<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmem2_source_numa_node() - returns data source numa node</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpmem2-dev">libpmem2-dev_1.13.1-1.1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmem2_source_numa_node</b>() - returns data source numa node

</pre><h4><b>SYNOPSIS</b></h4><pre>
              #include &lt;libpmem2.h&gt;

              struct pmem2_source;
              int pmem2_source_numa_node(const struct pmem2_source *source, int *numa_node);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>pmem2_source_numa_node</b>()  function  retrieves the numa node of the given data source.  The numa node
       can be used to, e.g., pin threads to near-memory cores.  The numa node is stored in  <u>*numa_node</u>.   It  is
       the same value that is shown as numa_node in ndctl list -v.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       The  <b>pmem2_source_numa_node</b>() function returns 0 on success.  If the function fails, the <u>*numa_node</u> vari‐
       able is left unmodified and a negative error code is returned.

</pre><h4><b>ERRORS</b></h4><pre>
       The <b>pmem2_source_numa_node</b>() can fail with the following errors:

       On all systems:

       • <b>PMEM2_E_NOSUPP</b> - source type or operating system not supported (see #caveats for details.)

       on Linux:

       • <b>PMEM2_E_DAX_REGION_NOT_FOUND</b> - no <b>ndctl_region</b> could be determined for the source.

       • <b>PMEM2_E_INVALID_FILE_TYPE</b> - if the source points to a directory.

       • -<b>errno</b> set by failing <b>ndctl_new</b>, while trying to create a new context.

</pre><h4><b>CAVEATS</b></h4><pre>
       This call requires <b>libndctl</b> to retrieve the numa information.  It only works for sources that are actual‐
       ly located on persistent memory, i.e., devdax or fsdax.  As anonymous sources are not backed by files  on
       persistent memory, this method is not supported for them.  It also does not work under Windows or systems
       without <b>libndctl</b>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/errno.3.html">errno</a></b>(3),  <b><a href="../man3/ndctl_new.3.html">ndctl_new</a></b>(3),  <b><a href="../man3/pmem2_source_from_handle.3.html">pmem2_source_from_handle</a></b>(3),  <b><a href="../man3/pmem2_source_from_fd.3.html">pmem2_source_from_fd</a></b>(3), <b><a href="../man7/libpmem2.7.html">libpmem2</a></b>(7), <b><a href="../man7/libndctl.7.html">libndctl</a></b>(7)
       and <b>&lt;https://pmem.io&gt;</b>
</pre>
 </div>
</div></section>
</div>
</body>
</html>