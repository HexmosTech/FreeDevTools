<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TAP::Parser::Source - a TAP source & meta data about it</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/perl-doc">perl-doc_5.40.1-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       TAP::Parser::Source - a TAP source &amp; meta data about it

</pre><h4><b>VERSION</b></h4><pre>
       Version 3.48

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use TAP::Parser::Source;
         my $source = TAP::Parser::Source-&gt;new;
         $source-&gt;raw( \'reference to raw TAP source' )
                -&gt;config( \%config )
                -&gt;merge( $boolean )
                -&gt;switches( \@switches )
                -&gt;test_args( \@args )
                -&gt;assemble_meta;

         do { ... } if $source-&gt;meta-&gt;{is_file};
         # see assemble_meta for a full list of data available

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A TAP <u>source</u> is something that produces a stream of TAP for the parser to consume, such as an executable
       file, a text file, an archive, an IO handle, a database, etc.  "TAP::Parser::Source"s encapsulate these
       <u>raw</u> sources, and provide some useful meta data about them.  They are used by TAP::Parser::SourceHandlers,
       which do whatever is required to produce &amp; capture a stream of TAP from the <u>raw</u> source, and package it up
       in a TAP::Parser::Iterator for the parser to consume.

       Unless you're writing a new TAP::Parser::SourceHandler, a plugin or subclassing TAP::Parser, you probably
       won't need to use this module directly.

</pre><h4><b>METHODS</b></h4><pre>
   <b>Class</b> <b>Methods</b>
       <u>"new"</u>

        my $source = TAP::Parser::Source-&gt;new;

       Returns a new "TAP::Parser::Source" object.

   <b>Instance</b> <b>Methods</b>
       <u>"raw"</u>

         my $raw = $source-&gt;raw;
         $source-&gt;raw( $some_value );

       Chaining getter/setter for the raw TAP source.  This is a reference, as it may contain large amounts of
       data (eg: raw TAP).

       <u>"meta"</u>

         my $meta = $source-&gt;meta;
         $source-&gt;meta({ %some_value });

       Chaining getter/setter for meta data about the source.  This defaults to an empty hashref.  See
       "assemble_meta" for more info.

       <u>"has_meta"</u>

       True if the source has meta data.

       <u>"config"</u>

         my $config = $source-&gt;config;
         $source-&gt;config({ %some_value });

       Chaining getter/setter for the source's configuration, if any has been provided by the user.  How it's
       used is up to you.  This defaults to an empty hashref.  See "config_for" for more info.

       <u>"merge"</u>

         my $merge = $source-&gt;merge;
         $source-&gt;config( $bool );

       Chaining getter/setter for the flag that dictates whether STDOUT and STDERR should be merged (where
       appropriate).  Defaults to undef.

       <u>"switches"</u>

         my $switches = $source-&gt;switches;
         $source-&gt;config([ @switches ]);

       Chaining getter/setter for the list of command-line switches that should be passed to the source (where
       appropriate).  Defaults to undef.

       <u>"test_args"</u>

         my $test_args = $source-&gt;test_args;
         $source-&gt;config([ @test_args ]);

       Chaining getter/setter for the list of command-line arguments that should be passed to the source (where
       appropriate).  Defaults to undef.

       <u>"assemble_meta"</u>

         my $meta = $source-&gt;assemble_meta;

       Gathers meta data about the "raw" source, stashes it in "meta" and returns it as a hashref.  This is done
       so that the TAP::Parser::SourceHandlers don't have to repeat common checks.  Currently this includes:

           is_scalar =&gt; $bool,
           is_hash   =&gt; $bool,
           is_array  =&gt; $bool,

           # for scalars:
           length =&gt; $n
           has_newlines =&gt; $bool

           # only done if the scalar looks like a filename
           is_file =&gt; $bool,
           is_dir  =&gt; $bool,
           is_symlink =&gt; $bool,
           file =&gt; {
               # only done if the scalar looks like a filename
               basename =&gt; $string, # including ext
               dir      =&gt; $string,
               ext      =&gt; $string,
               lc_ext   =&gt; $string,
               # system checks
               exists  =&gt; $bool,
               stat    =&gt; [ ... ], # perldoc -f stat
               empty   =&gt; $bool,
               size    =&gt; $n,
               text    =&gt; $bool,
               binary  =&gt; $bool,
               read    =&gt; $bool,
               write   =&gt; $bool,
               execute =&gt; $bool,
               setuid  =&gt; $bool,
               setgid  =&gt; $bool,
               sticky  =&gt; $bool,
               is_file =&gt; $bool,
               is_dir  =&gt; $bool,
               is_symlink =&gt; $bool,
               # only done if the file's a symlink
               lstat      =&gt; [ ... ], # perldoc -f lstat
               # only done if the file's a readable text file
               shebang =&gt; $first_line,
           }

         # for arrays:
         size =&gt; $n,

       <u>"shebang"</u>

       Get the shebang line for a script file.

         my $shebang = TAP::Parser::Source-&gt;shebang( $some_script );

       May be called as a class method

       <u>"config_for"</u>

         my $config = $source-&gt;config_for( $class );

       Returns "config" for the $class given.  Class names may be fully qualified or abbreviated, eg:

         # these are equivalent
         $source-&gt;config_for( 'Perl' );
         $source-&gt;config_for( 'TAP::Parser::SourceHandler::Perl' );

       If a fully qualified $class is given, its abbreviated version is checked first.

</pre><h4><b>AUTHORS</b></h4><pre>
       Steve Purkis.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       TAP::Object, TAP::Parser, TAP::Parser::IteratorFactory, TAP::Parser::SourceHandler

perl v5.40.1                                       2025-07-03                         <u>TAP::Parser::<a href="../man3perl/Source.3perl.html">Source</a></u>(3perl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>