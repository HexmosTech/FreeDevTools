<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>transfer::data::source - Data source</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       transfer::data::source - Data source

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.5</b> <b>9</b>

       package require <b>snit</b> <b>?1.0?</b>

       package require <b>transfer::copy</b> <b>?0.3?</b>

       package require <b>transfer::data::source</b> <b>?0.3?</b>

       <b>transfer::data::source</b> <u>objectName</u> ?<u>options</u>...?

       <u>objectName</u> <b>method</b> ?<u>arg</u> <u>arg</u> <u>...</u>?

       <u>objectName</u> <b>destroy</b>

       <u>objectName</u> <b>type</b>

       <u>objectName</u> <b>data</b>

       <u>objectName</u> <b>size</b>

       <u>objectName</u> <b>valid</b> <u>msgvar</u>

       <u>objectName</u> <b>transmit</b> <u>channel</u> <u>blocksize</u> <u>done</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  package  provides objects mainly describing the origin of some data to transfer. They are also able
       to  initiate  transfers  of  the  described  information  to  a  channel  using  the  foundation  package
       <b>transfer::copy</b>.

</pre><h4><b>API</b></h4><pre>
   <b>PACKAGE</b> <b>COMMANDS</b>
       <b>transfer::data::source</b> <u>objectName</u> ?<u>options</u>...?
              This  command  creates  a  new  data  source  object  with an associated Tcl command whose name is
              <u>objectName</u>.  This <u>object</u> command is explained in full detail in the sections  <b>Object</b>  <b>command</b>  and
              <b>Object</b> <b>methods</b>. The set of supported <u>options</u> is explained in section <b>Options</b>.

              The  object  command  will  be  created under the current namespace if the <u>objectName</u> is not fully
              qualified, and in the specified namespace otherwise.  The  fully  qualified  name  of  the  object
              command is returned as the result of the command.

   <b>OBJECT</b> <b>COMMAND</b>
       All objects created by the <b>::transfer::data::source</b> command have the following general form:

       <u>objectName</u> <b>method</b> ?<u>arg</u> <u>arg</u> <u>...</u>?
              The  method  <b>method</b>  and  its <u>arg</u>'uments determine the exact behavior of the command.  See section
              <b>Object</b> <b>methods</b> for the detailed specifications.

   <b>OBJECT</b> <b>METHODS</b>
       <u>objectName</u> <b>destroy</b>
              This method destroys the object. Doing so while a transfer initiated by the object  is  active  is
              safe  as  all data required for the transfer itself was copied, and the completion of the transfer
              will not try to access the initiating object anymore. i.e. the  transfer  is  completely  separate
              from the source object itself.

       <u>objectName</u> <b>type</b>
              This  method  returns  a  string  describing  the  type of the data the object is refering to. The
              possible values and their meanings are:

              <b>undefined</b>
                     No data was specified at all, or it was specified incompletely. The object  does  not  know
                     the type.

              <b>string</b> The data to transfer is contained in a string.

              <b>channel</b>
                     The data to transfer is contained in a channel.

       <u>objectName</u> <b>data</b>
              This  method returns a value depending on the type of the data the object refers to, through which
              the data can be accessed.  The method throws an error if the type is <b>undefined</b>.  For  type  <b>string</b>
              the returned result is the data itself, whereas for type <b>channel</b> the returned result is the handle
              of the channel containing the data.

       <u>objectName</u> <b>size</b>
              This  method  returns  a value depending on the type of the data the object refers to, the size of
              the data.  The method throws an error if the type is <b>undefined</b>. Return of a negative value signals
              that the object is unable to determine an absolute size upfront (like for data in a channel).

       <u>objectName</u> <b>valid</b> <u>msgvar</u>
              This method checks the configuration of the object for validity. It  returns  a  boolean  flag  as
              result,  whose  value  is <b>True</b> if the object is valid, and <b>False</b> otherwise. In the latter case the
              variable whose name is stored in <u>msgvar</u> is set to an error message describing  the  problem  found
              with the configuration. Otherwise this variable is not touched.

       <u>objectName</u> <b>transmit</b> <u>channel</u> <u>blocksize</u> <u>done</u>
              This  method  initiates  a  transfer  of  the  referenced data to the specified <u>channel</u>.  When the
              transfer completes the command prefix <u>done</u> is invoked, per the rules for the  option  <b>-command</b>  of
              command <b>transfer::copy::do</b> in the package <b>transfer::copy</b>.  The <u>blocksize</u> specifies the size of the
              chunks  to  transfer  in  one  go.  See the option <b>-blocksize</b> of command <b>transfer::copy::do</b> in the
              package <b>transfer::copy</b>.

   <b>OPTIONS</b>
       All data sources support the options listed below. It should be noted that the  first  four  options  are
       semi-exclusive,  each specifying a different type of data source and associated content. If these options
       are specified more than once then the last option specified is used to actually configure the object.

       <b>-string</b> <u>text</u>
              This option specifies that the source of the data is  an  immediate  string,  and  its  associated
              argument contains the string in question.

       <b>-channel</b> <u>handle</u>
              This option specifies that the source of the data is a channel, and its associated argument is the
              handle of the channel containing the data.

       <b>-file</b> <u>path</u>
              This  option  specifies  that the source of the data is a file, and its associated argument is the
              path of the file containing the data.

       <b>-variable</b> <u>varname</u>
              This option specifies that the source of the data is a  string  stored  in  a  variable,  and  its
              associated  argument  contains the name of the variable in question. The variable is assumed to be
              global or namespaced, anchored at the global namespace.

       <b>-size</b> <u>int</u>
              This option specifies the size of the data transfer. It is  optional  and  defaults  to  -1.  This
              value, and any other value less than zero signals to transfer all the data from the source.

       <b>-progress</b> <u>command</u>
              This  option,  if  specified, defines a command to be invoked for each chunk of bytes transmitted,
              allowing the user to monitor the progress of the transmission of the data. The callback is  always
              invoked with one additional argument, the number of bytes transmitted so far.

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This  document,  and  the package it describes, will undoubtedly contain bugs and other problems.  Please
       report such in the category  <u>transfer</u>  of  the  <u>Tcllib</u>  <u>Trackers</u>  [<a href="http://core.tcl.tk/tcllib/reportlist">http://core.tcl.tk/tcllib/reportlist</a>].
       Please also report any ideas for enhancements you may have for either package and/or documentation.

       When proposing code changes, please provide <u>unified</u> <u>diffs</u>, i.e the output of <b>diff</b> <b>-u</b>.

       Note  further  that  <u>attachments</u>  are strongly preferred over inlined patches. Attachments can be made by
       going to the <b>Edit</b> form of the ticket immediately after its creation, and then using the left-most  button
       in the secondary navigation bar.

</pre><h4><b>KEYWORDS</b></h4><pre>
       channel, copy, data source, transfer

</pre><h4><b>CATEGORY</b></h4><pre>
       Transfer module

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2006-2009 Andreas Kupries &lt;<a href="mailto:andreas_kupries@users.sourceforge.net">andreas_kupries@users.sourceforge.net</a>&gt;

tcllib                                                 0.3                          <u>transfer::data::<a href="../man3tcl/source.3tcl.html">source</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>