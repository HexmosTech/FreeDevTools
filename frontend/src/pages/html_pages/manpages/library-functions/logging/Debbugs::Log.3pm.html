<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debbugs::Log - an interface to debbugs .log files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Debbugs::Log - an interface to debbugs .log files

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The Debbugs::Log module provides a convenient way for scripts to read and write the .log files used by
       debbugs to store the complete textual records of all bug transactions.

       Debbugs::Log does not decode utf8 into perl's internal encoding or encode into utf8 from perl's internal
       encoding. For html records and all recips, this should probably be done. For other records, this should
       not be needed.

   <b>The</b> <b>.log</b> <b>File</b> <b>Format</b>
       .log files consist of a sequence of records, of one of the following four types. ^A, ^B, etc. represent
       those control characters.

       incoming-recv
             ^G
             [mail]
             ^C

           "[mail]" must start with /^Received: \(at \S+\) by \S+;/, and is copied to the output.

       autocheck
           Auto-forwarded messages are recorded like this:

             ^A
             [mail]
             ^C

           "[mail]"  must  contain  /^X-Debian-Bugs(-\w+)?:  This  is  an  autoforward from \S+<a href="file:/.">/.</a> The first line
           matching that is removed; all lines in the message body that begin with 'X' will  be  copied  to  the
           output, minus the 'X'.

           Nothing  in debbugs actually generates this record type any more, but it may still be in old .logs at
           some sites.

       recips
             ^B
             [recip]^D[recip]^D[...] OR -t
             ^E
             [mail]
             ^C

           Each [recip] is output after "Message sent"; "-t" represents the  same  sendmail  option,  indicating
           that the recipients are taken from the headers of the message itself.

       html
             ^F
             [html]
             ^C

           [html]  is  copied  unescaped  to the output. The record immediately following this one is considered
           "boring" and only shown in certain output modes.

           (This is a design flaw in the log format, since it makes it difficult to change the HTML presentation
           later, or to present the data in an entirely different format.)

       No other types of records are permitted, and the file must end with a ^C line.

   <b>Perl</b> <b>Record</b> <b>Representation</b>
       Each record is a hash. The "type" field is "incoming-recv", "autocheck", "recips", or  "html"  as  above;
       "text"  contains  text  from  "[mail]"  or  "[html]"  as  above;  "recips"  is a reference to an array of
       recipients (strings), or undef for "-t".

</pre><h4><b>FUNCTIONS</b></h4><pre>
       new Creates a new log reader based on a .log filehandle.

                 my $log = Debbugs::Log-&gt;new($logfh);
                 my $log = Debbugs::Log-&gt;new(bug_num =&gt; $nnn);
                 my $log = Debbugs::Log-&gt;new(logfh =&gt; $logfh);

           Parameters

           bug_num -- bug number
           logfh -- log filehandle
           log_name -- name of log

           One of the above options must be passed.

       read_record
           Reads and returns a single record from a log reader object. At end of  file,  returns  undef.  Throws
           exceptions using <b>die()</b>, so you may want to wrap this in an <b>eval()</b>.

       read_log_records
           Takes a .log filehandle as input, and returns an array of all records in that file. Throws exceptions
           using <b>die()</b>, so you may want to wrap this in an <b>eval()</b>.

           Uses exactly the same options as Debbugs::Log::new

       write_log_records
           Takes a filehandle and a list of records as input, and prints the .log format representation of those
           records to that filehandle.

   <b>escape_log</b>
            print {$log} escape_log(@log)

       Applies the log escape regex to the passed logfile.

</pre><h4><b>CAVEATS</b></h4><pre>
       This  module  does none of the formatting that bugreport.cgi et al do. It's simply a means for extracting
       and rewriting raw records.

perl v5.40.1                                       2025-02-24                                  <u>Debbugs::<a href="../man3pm/Log.3pm.html">Log</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>