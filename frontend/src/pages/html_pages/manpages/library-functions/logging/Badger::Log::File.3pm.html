<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Badger::Log::File - writes log messages to a log file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbadger-perl">libbadger-perl_0.16-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Badger::Log::File - writes log messages to a log file

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Badger::Log::File;

           my $log = Badger::Log::File-&gt;new({
               filename  =&gt; '/var/log/badger.log',
               keep_open =&gt; 1,
           });

           $log-&gt;log('a debug message');
           $log-&gt;info('an info message');
           $log-&gt;warn('a warning message');
           $log-&gt;error('an error message');
           $log-&gt;fatal('a fatal error message');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module is a subclass of Badger::Log that implements a simple mechanism for logging messages to a
       file.  It uses Badger::Filesystem for all the underlying file operations.

</pre><h4><b>CONFIGURATION</b> <b>OPTIONS</b></h4><pre>
       The following configuration options are available in addition to those inherited form the Badger::Log
       base class.

   <b>filename</b>
       The name of the log file which you want messages appended to.  Either this or the filename_format option
       must be provided.

   <b>filename_format</b>
       A format which can be used to generate a filename to write messages to.  This can include any of the
       "strftime()" character sequences, e.g.  %Y for the four digit year, %m for a two digit month number, %d
       for a two digit day of the month, etc.

           my $log = Badger::Log::File-&gt;new({
               filename_format  =&gt; '/var/log/badger-%Y-%m-%d.log',
               keep_open =&gt; 1,
           });

       If, like me, you find it hard to remember the "strftime()" character sequences, then you can use an
       alternate format where the elements of the date and/or time are encoded as upper case words embedded in
       angle brackets.  e.g. "badger-&lt;DATE&gt;.log", or "badger-&lt;YEAR&gt;-&lt;MONTH&gt;.log".

       The words that can be embedded this way, and their corresponding "strftime()" character sequences are:

           DATE    =&gt; '%Y-%m-%d'       # e.g. 2022-08-24
           TIME    =&gt; '%H-%M-%S'       # e.g. 13:54:07
           YEAR    =&gt; '%Y'             # e.g. 2022
           MONTH   =&gt; '%m'             # e.g. 08
           DAY     =&gt; '%d'             # e.g. 24
           HOURS   =&gt; '%H'             # e.g. 13
           MINUTES =&gt; '%M'             # e.g. 54
           SECONDS =&gt; '%S'             # e.g. 07

       The module will automatically create a new logfile when the "filename_format" generates a filename that
       is different to any previous value.

   <b>filesystem</b>
       An optional reference to a Badger::Filesystem object, or the name of a filesystem class having a <b>file()</b>
       method similar to that in Badger::Filesystem. This defaults to the Badger::Filesystem class.

   <b>keep_open</b>
       A flag indicating if the log file should be kept open between calls to logging methods.  The default
       value is 0 meaning that the file will be opened for each message and closed again afterwards.  Set it to
       any true value to have the file kept open.

</pre><h4><b>METHODS</b></h4><pre>
       The following methods are implemented in addition to those inherited from Badger::Log and its base
       classes.

   <b>log($level,$message)</b>
       This method redefines the <b>log()</b> method in Badger::Log to write logging messages to the log file.

   <b>INTERNAL</b> <b>METHODS</b>
   <b>init(\%config)</b>
       Custom initialiser method which calls the base class <b>init_log()</b> method followed by the <b>init_file()</b>
       method.

   <b>init_file(\%config)</b>
       Custom initialiser method which handles the configuration and initialisation of the file-specific parts
       of the logger.

   <b>expand_filename()</b>
       Expands the format defined by the "filename_format" configuration option to a filename using the current
       date and time.

       If "filename_format" has not been specified then it returns the value of the "filename" configuration
       option.

   <b>filename_changed()</b>
       Calls <b>expand_filename()</b> to expand any "filename_format" and compares it to the current "filename" (which
       may have been generated by a previous call to this method).

       If they are the same then it returns "undef".  Otherwise it saves the new filename to the internal
       "filename" value and returns it.

   <b>file()</b>
       Returns a reference to a Badger::Filesystem::File object based on the "filename" which can either be
       defined as a static configuration option or will be generated by the <b>expand_filename()</b> method from the
       "filename_format" configuration option.

   <b>filehandle()</b>
       Returns a filehandle for the current logfile.  If the filename has changed since the last call this
       method (determined by calling <b>filename_changed()</b>) then any existing filehandle is closed (by calling
       <b>release()</b>) and the new file is opened to return a new filehandle (by calling <b>acquire()</b>).

   <b>acquire()</b>
       This method acquires a file handle (an IO::File object) for the specified filename, opened ready for
       appending log messages.

   <b>release()</b>
       The method releases a previously acquired file handle.  i.e. it closes the log file.

</pre><h4><b>AUTHOR</b></h4><pre>
       Andy Wardley &lt;<a href="http://wardley.org/">http://wardley.org/</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2005-2022 Andy Wardley.  All Rights Reserved.

       This module is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Badger::Log

perl v5.36.0                                       2023-08-28                             <u>Badger::Log::<a href="../man3pm/File.3pm.html">File</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>