<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mojo::Log - Simple logger</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmojolicious-perl">libmojolicious-perl_9.39+dfsg-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mojo::Log - Simple logger

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Mojo::Log;

         # Log to STDERR
         my $log = Mojo::Log-&gt;new;

         # Customize log file location and minimum log level
         my $log = Mojo::Log-&gt;new(path =&gt; '/var/log/mojo.log', level =&gt; 'warn');

         # Log messages
         $log-&gt;trace('Doing stuff');
         $log-&gt;debug('Not sure what is happening here');
         $log-&gt;info('FYI: it happened again');
         $log-&gt;warn('This might be a problem');
         $log-&gt;error('Garden variety error');
         $log-&gt;fatal('Boom');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Mojo::Log is a simple logger for Mojo projects.

</pre><h4><b>EVENTS</b></h4><pre>
       Mojo::Log inherits all events from Mojo::EventEmitter and can emit the following new ones.

   <b>message</b>
         $log-&gt;on(message =&gt; sub ($log, $level, @lines) {...});

       Emitted when a new message gets logged.

         $log-&gt;on(message =&gt; sub ($log, $level, @lines) { say "$level: ", @lines });

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       Mojo::Log implements the following attributes.

   <b>color</b>
         my $bool = $log-&gt;color;
         $log     = $log-&gt;color($bool);

       Colorize log messages with the levels "warn", "error" and "fatal" using Term::ANSIColor, defaults to the
       value of the "MOJO_LOG_COLOR" environment variables. Note that this attribute is <b>EXPERIMENTAL</b> and might
       change without warning!

   <b>format</b>
         my $cb = $log-&gt;format;
         $log   = $log-&gt;format(sub {...});

       A callback for formatting log messages.

         $log-&gt;format(sub ($time, $level, @lines) { "[2018-11-08 14:20:13.77168] [28320] [info] I ♥ Mojolicious\n" });

   <b>handle</b>
         my $handle = $log-&gt;handle;
         $log       = $log-&gt;handle(IO::Handle-&gt;new);

       Log filehandle used by default "message" event, defaults to opening "path" or "STDERR".

   <b>history</b>
         my $history = $log-&gt;history;
         $log        = $log-&gt;history([[time, 'debug', 'That went wrong']]);

       The last few logged messages.

   <b>level</b>
         my $level = $log-&gt;level;
         $log      = $log-&gt;level('debug');

       Active log level, defaults to "trace". Available log levels are "trace", "debug", "info", "warn", "error"
       and "fatal", in that order.

   <b>max_history_size</b>
         my $size = $log-&gt;max_history_size;
         $log     = $log-&gt;<a href="../man5/max_history_size.5.html">max_history_size</a>(5);

       Maximum number of logged messages to store in "history", defaults to 10.

   <b>path</b>
         my $path = $log-&gt;path
         $log     = $log-&gt;path('/var/log/mojo.log');

       Log file path used by "handle".

   <b>short</b>
         my $bool = $log-&gt;short;
         $log     = $log-&gt;short($bool);

       Generate short log messages without a timestamp but with journald log level prefix, suitable for systemd
       environments, defaults to the value of the "MOJO_LOG_SHORT" environment variables.

</pre><h4><b>METHODS</b></h4><pre>
       Mojo::Log inherits all methods from Mojo::EventEmitter and implements the following new ones.

   <b>append</b>
         $log-&gt;append("[2018-11-08 14:20:13.77168] [28320] [info] I ♥ Mojolicious\n");

       Append message to "handle".

   <b>capture</b>
         my $messages = $log-&gt;capture;
         my $messages = $log-&gt;capture('debug');

       Capture log messages for as long as the returned object exists, useful for testing log messages.

         # Test your log messages
         my $messages = $log-&gt;capture('trace');
         $log-&gt;fatal('Something very bad happened');
         $log-&gt;trace('Just some debug information');
         like $messages, qr/Something very bad happened/, 'logs contain fatal message';
         like $messages-&gt;[-1], qr/Just some debug information/, 'trace message was last';
         undef $messages;

   <b>context</b>
         my $new = $log-&gt;context('[extra]', '[information]');

       Construct a new child Mojo::Log object that will include context information with every log message.

         # Log with context
         my $log = Mojo::Log-&gt;new;
         my $context = $log-&gt;context('[17a60115]');
         $context-&gt;debug('This is a log message with context information');
         $context-&gt;info('And another');

   <b>debug</b>
         $log = $log-&gt;debug('You screwed up, but that is ok');
         $log = $log-&gt;debug('All', 'cool');
         $log = $log-&gt;debug(sub {...});

       Emit "message" event and log "debug" message.

   <b>error</b>
         $log = $log-&gt;error('You really screwed up this time');
         $log = $log-&gt;error('Wow', 'seriously');
         $log = $log-&gt;error(sub {...});

       Emit "message" event and log "error" message.

   <b>fatal</b>
         $log = $log-&gt;fatal('Its over...');
         $log = $log-&gt;fatal('Bye', 'bye');
         $log = $log-&gt;fatal(sub {...});

       Emit "message" event and log "fatal" message.

   <b>info</b>
         $log = $log-&gt;info('You are bad, but you prolly know already');
         $log = $log-&gt;info('Ok', 'then');
         $log = $log-&gt;info(sub {...});

       Emit "message" event and log "info" message.

   <b>is_level</b>
         my $bool = $log-&gt;is_level('debug');

       Check active log "level".

         # True
         $log-&gt;level('debug')-&gt;is_level('debug');
         $log-&gt;level('debug')-&gt;is_level('info');

         # False
         $log-&gt;level('info')-&gt;is_level('debug');
         $log-&gt;level('fatal')-&gt;is_level('warn');

   <b>new</b>
         my $log = Mojo::Log-&gt;new;
         my $log = Mojo::Log-&gt;new(level =&gt; 'warn');
         my $log = Mojo::Log-&gt;new({level =&gt; 'warn'});

       Construct a new Mojo::Log object and subscribe to "message" event with default logger.

   <b>trace</b>
         $log = $log-&gt;trace('Whatever');
         $log = $log-&gt;trace('Who', 'cares');
         $log = $log-&gt;trace(sub {...});

       Emit "message" event and log "trace" message.

   <b>warn</b>
         $log = $log-&gt;warn('Dont do that Dave...');
         $log = $log-&gt;warn('No', 'really');
         $log = $log-&gt;warn(sub {...});

       Emit "message" event and log "warn" message.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mojolicious, Mojolicious::Guides, &lt;https://mojolicious.org&gt;.

perl v5.40.0                                       2024-12-07                                     <u>Mojo::<a href="../man3pm/Log.3pm.html">Log</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>