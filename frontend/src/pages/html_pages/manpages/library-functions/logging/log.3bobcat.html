<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FBB::Log - std::ostream handling log messages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbobcat-dev">libbobcat-dev_6.07.01-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       FBB::Log - <u>std::ostream</u> handling log messages

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;bobcat/log&gt;</b>
       Linking option: <u>-lbobcat</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  class  <b>FBB::Log</b>  defines  an  <u>std::ostream</u>  using  an <u>FBB::LogBuf</u> <u>std::streambuf</u>. It is used to send
       log-messages to the (r)syslog stream or to a (configurable) file. Refer to the  <b><a href="../man3bobcat/logbuf.3bobcat.html">logbuf</a></b>(3bobcat)  man-page
       for details about <u>LogBuf</u>.

       Which  (parts of) messages are actually logged can be configured using <b>FBB::level</b> in combination with the
       <u>Log</u> member <u>setLevel</u> or using the function operator in combination  with  the  <u>str</u>  member  (see  the  the
       members <u>operator()</u> and <u>str</u>). By default all information that is inserted into a <u>Log</u> object is logged.

       Objects  of  the  <u>level</u>  class (cf. <b><a href="../man3bobcat/level.3bobcat.html">level</a></b>(3bobcat)) can be inserted specifying insertion `forces’ for the
       information that is subsequently inserted into <u>Log</u> objects. Only if these`forces’ exceed the <u>Log</u> object’s
       insertion `resistances’ (see the member <u>setLevel</u>) then the information is logged.

       A single log-insertion statement may contain multiple <u>level</u> calls. If so, then each  <u>level</u>  call  updates
       the `force’ of insertions following the <u>level</u> call.

       Information  inserted into <u>Log</u> objects without inserting <u>level</u> objects (or before the first <u>level</u> object)
       is always logged (see also the <b>Examples</b> section).

       Alternatively information may be logged using category-selector characters.  The  member  <u>str(std::string</u>
       <u>const</u>  <u>&amp;active)</u>  defines  the  characters  that can be used to define a non-hierarchical logging process.
       E.g., <u>str("abc")</u> defines the log-identifying characters <u>’a’,</u> <u>’b’,</u> and <u>’c’</u>  which  can  then  be  used  to
       define  log-statements  for  each of those categories. These log-identifying characters may be redefined,
       activating only those log-statements whose identifying characters were specified in the last call of  the
       <u>str</u> member.

       Although  hierarchical and non-hierarchical logging can both be used in a single program, they operate in
       a mutually exclusive way: once hierarchical  logging  is  defined  the  non-hierarchical  categories  are
       erased,  and once non-hierarchical categories are defined the hierarchical resistance level is set to its
       maximum value, effectively suppressing hierarchical logging.

       By default logged messages are prepended by time stamps.  Following  the  time  stamps  a  delimiter  (by
       default  a  single  space  character) is inserted. Delimiters are immediately appended to time stamps and
       inserted messages are immediately appended to delimiters. When specifying  text  as  delimiters  consider
       starting  and  ending  the delimiter’s text with space characters to visually separate the delimiter from
       the time stamp and from the subsequently inserted information.

</pre><h4><b>NAMESPACE</b></h4><pre>
       <b>FBB</b>
       All constructors, members, operators and manipulators, mentioned in this man-page,  are  defined  in  the
       namespace <b>FBB</b>.

</pre><h4><b>INHERITS</b> <b>FROM</b></h4><pre>
       <u>std::ostream</u>

</pre><h4><b>ENUMERATIONS</b></h4><pre>
       The  enumeration  <u>TimeStamps</u>  is  defined  in  the  namespace <u>FBB</u>, primarily for initializing <u>FBB::LogBuf</u>
       objects. It is used with <u>Log</u> members as well. It has the following values:

       o      <b>NOTIMESTAMPS</b>:
              Log-messages will not have timestamps prepended to them.

       o      <b>TIMESTAMPS</b>:
              Log-messages will have timestamps prepended to them.

       o      <b>UTCTIMESTAMPS</b>:
              Log-messages will have timestamps showing the UTC time prepended to them.

       The enumeration <u>LogManipulator</u> is used to handle special or exceptional situations through  manipulators.
       It is defined in the namespace <u>FBB</u> and has the following two values:

       o      <b>FATAL</b>:
              When  inserting  <u>FATAL</u>  into  a  <u>Log</u>  object an <u>FBB::Exception</u> exception is thrown (see <u>operator&lt;&lt;</u>
              below);

       o      <b>nl</b>:
              When inserting <u>nl</u> into a <u>Log</u> object a <u>\n</u> character is inserted into  the  current  line.  If  time
              stamps  are  requested  the  the next line will not begin with a time stamp. It is used to allow a
              single log message to occupy multiple textual lines. The next logged line is not indented over the
              width of the omitted time stamp. If  that’s  preferred:  the  time  stamp  occupies  15  character
              positions  (not  counting  the  width  of the delimiter, see the <b>CONSTRUCTORS</b> section below). If a
              <u>level</u> specification is active, it remains active at insertions following <u>nl</u>.

       o      <b>fnl</b>:
              When inserting <u>fnl</u> (forced new line) into a <u>Log</u> object the current line ends even if the currently
              active insertion `force’ (set by <u>level</u>) is lower than the <u>Log</u> object’s `resistance’  level.  If  a
              <u>level</u> specification is active, it remains active at insertions following <u>fnl</u>.

       o      <b>endl</b> or <b>\n</b>:
              When  inserting  <u>endl</u>  or  <u>\n</u>  the  current  line  is ended and the next logged line starts with a
              timestamp (unless timestamps are  suppressed).  The  <u>endl</u>  manipulator  is  the  standard  <u>ostream</u>
              manipulator:  when  inserted  into  a  <u>Log</u>  object  its  buffer  is  flushed. The scope of a <u>level</u>
              specification ends at <u>\n</u> or <u>endl</u>. E.g.,

              <a href="../man2/log.setLevel.2.html">log.setLevel</a>(2);
              log &lt;&lt; <a href="../man1/level.1.html">level</a>(1) &lt;&lt; "first line\n"
                     "second line\n";

              results in <u>second</u> <u>line</u> (preceded by a timestamp) being logged.

</pre><h4><b>CONSTRUCTORS</b></h4><pre>
       o      <b>Log()</b>:
              The default constructor creates a <u>Log</u> object which isn’t yet  associated  with  a  stream  to  log
              messages  on.  The  member  <u>open</u> (see below) may be used to define such a stream.  By default, all
              messages are preceded by a time stamp (see the description of the member <u>setTimestamp</u> below),  and
              a  single  space  character is inserted as delimiter immediately beyond the time stamp. The member
              <u>open</u> can be used to modify the default delimiter.

       o      <b>Log(std::ostream</b> <b>&amp;out,</b> <b>char</b> <b>const</b> <b>*delim</b> <b>=</b> <b>"</b> <b>")</b>:
              This constructor creates a <u>Log</u> object logging its messages to the provided <u>std::ostream</u> object. By
              default, all messages are preceded by a time stamp (see the description of the member <u>setTimestamp</u>
              below).  The parameter <u>delim</u> is inserted immediately beyond the time stamp. If a delimiter  should
              not be used an empty string or a 0-pointer may be specified.

       o      <b>FBB::Log(std::string</b>  <b>const</b>  <b>&amp;filename,</b>  <b>std::ios::openmode</b>  <b>mode</b> <b>=</b> <b>std::ios::out</b> <b>|</b> <b>std::ios::app,</b>
              <b>char</b> <b>const</b> <b>*delim</b> <b>=</b> <b>"</b> <b>")</b>:
              This constructor creates a <u>Log</u> object logging its messages to the named file. If <u>filename</u> <u>==</u>  <u>"&amp;1"</u>
              logmessages are written to the standard output stream. If <u>filename</u> <u>==</u> <u>"&amp;2"</u> logmessages are written
              to  the  standard  error stream.  By default the file is created if not existing, and all messages
              are appended to the stream. Also by default all messages are preceded  by  time  stamps  (see  the
              description of the member <u>setTimestamp</u> below).  The parameter <u>delim</u> is inserted immediately beyond
              the  time  stamp.   If  a  delimiter  should  not  be  used  an empty string or a 0-pointer may be
              specified.

       Copy and move constructors (and assignment operators) are not available.

</pre><h4><b>MEMBER</b> <b>FUNCTIONS</b></h4><pre>
       All members of <u>std::ostream</u> are available, as <u>Log</u> inherits from this class.

       o      <b>size_t</b> <b>level()</b> <b>const</b>:
              This member returns the currently set log level (i.e., the value  set  at  the  latest  <u>setLevel()</u>
              call). By default, the level is set to zero, meaning that all information is inserted into the log
              stream;

       o      <b>std::ostream</b> <b>&amp;level(size_t</b> <b>useLevel)</b>:
              This member defines the log-level of messages that are going to be inserted. Messages are inserted
              when  <u>useLevel</u>  is  at  least  equal  to  the  level  specified  by <u>setLevel</u>. The maximum level is
              <u>std::numeric_limits&lt;size_t&gt;::max()</u>. If not even such messages should be inserted into the <u>ostream</u>,
              then the stream should be deactivated, using <u>off()</u> (see below). The level  that  is  specified  by
              this  member  remains  active  until  another  <u>level</u>  call changes it. Alternatively, the level of
              inserted messages may be specified by inserting a <u>FBB::level</u> manipulator into a  <u>Log</u>  object  (see
              <b><a href="../man3bobcat/level.3bobcat.html">level</a></b>(3bobcat));

       o      <b>void</b> <b>off()</b>:
              Prevents log messages from being generated. It is cancelled by calling <u>on</u> (see below);

       o      <b>void</b> <b>on(size_t</b> <b>logLevel</b> <b>=</b> <b>0)</b>:
              Reactivates  logging  (e.g.,  after  <u>off</u>  was  previously  called) setting the level that inserted
              information must at least have (to <u>logLevel</u>). Following <u>on</u> and unless specified  otherwise  (e.g.,
              by using <u>level</u>) all inserted information is accpted by the <u>Log</u> object;

       o      <b>void</b>  <b>open(std::string</b>  <b>const</b>  <b>&amp;filename,</b> <b>std::ios::openmode</b> <b>mode</b> <b>=</b> <b>std::ios::out</b> <b>|</b> <b>std::ios::app,</b>
              <b>char</b> <b>const</b> <b>*delim</b> <b>=</b> <b>"</b> <b>")</b>:
              This member (re)associates a <u>Log</u> object with the named file. If <u>filename</u> <u>==</u> <u>"&amp;1"</u>  the  logmessages
              will be written to the standard output stream. If <u>filename</u> <u>==</u> <u>"&amp;2"</u> the logmessages will be written
              to  the  standard  error stream.  By default the file is created if not existing, and all messages
              are appended to the stream. Also by default all messages are preceded  by  time  stamps  (see  the
              description of the member <u>setTimestamp</u> below).  The parameter <u>delim</u> is inserted immediately beyond
              the  time  stamp.   If  a  delimiter  should  not  be  used  an empty string or a 0-pointer may be
              specified;

       o      <b>void</b> <b>setLevel(size_t</b> <b>resistance)</b>:
              Defines the `resistance’ when inserting information into a <u>Log</u> object. Information is inserted  if
              the  level set by the <u>level</u> member is at least equal to <u>resistance</u>.  Following <u>setLevel</u> and unless
              specified otherwise (e.g., by using <u>level</u>) all inserted information is accpted by the <u>Log</u>  object.
              <u>setLevel</u> does not reactivate logging after calling <u>off</u>. To reactivate logging after calling <u>off</u> <u>on</u>
              must be called;

       o      <b>void</b> <b>setTimestamp(FBB::TimeStamps</b> <b>stamp,</b> <b>char</b> <b>const</b> <b>*delim</b> <b>=</b> <b>"</b> <b>")</b>:
              The  member function (de)activates time stamp prepending. Use the value <u>FBB::TIMESTAMPS</u> to prepend
              time stamps, <u>FBB::NOTIMESTAMPS</u> suppresses time stamps.  A  timestamp  consists  of  15  characters
              showing  the  abbreviated month’s name, two-digits specifying the day number of the month, and the
              (local or UTC) time of the current message, as usually appearing in messages  in  <u><a href="file:/var/log">/var/log</a></u>  files.
              E.g.,  <u>Aug</u>  <u>05</u>  <u>13:52:23</u>.  The parameter <u>delim</u> is inserted immediately beyond the time stamp. If a
              delimiter is inappropriate, an empty string or a  0-pointer  may  be  specified.  When  specifying
              <u>stamps</u> as <u>FBB::NOTIMESTAMPS</u> <u>delim</u> also is ignored.

       o      <b>std::string</b> <b>const</b> <b>&amp;str()</b> <b>const</b>:
              The  currently set of characters that can be specified by <u>Log’s</u> function call operator to insert a
              log-entry is returned. By default no characters are specified;

       o      <b>void</b> <b>str(std::string</b> <b>const</b> <b>&amp;chars)</b>:
              The argument to this member is a <u>std::string</u> defining the characters  that  can  be  specified  by
              <u>Log’s</u>  function  call  operator  to  insert a log-entry. If the function call operator specifies a
              character which is not specified in <u>chars</u> then  that  log  message  is  ignored.   By  default  no
              characters are specified.

</pre><h4><b>STATIC</b> <b>MEMBERS</b></h4><pre>
       o      <b>FBB::Log</b>  <b>&amp;initialize(std::string</b>  <b>const</b>  <b>&amp;filename,</b>  <b>std::ios::openmode</b>  <b>mode</b>  <b>=</b>  <b>std::ios::out</b> <b>|</b>
              <b>std::ios::app,</b> <b>char</b> <b>const</b> <b>*delim</b> <b>=</b> <b>"</b> <b>")</b>:
              Returns a reference to a static <u>Log</u> object. It may only  be  called  once,  or  an  <u>FBB::Exception</u>
              exception is thrown. It associates a static <u>Log</u> object with the named file.

              If  <u>filename</u>  <u>==</u>  <u>"&amp;1"</u>  logmessages are written to the standard output stream. If <u>filename</u> <u>==</u> <u>"&amp;2"</u>
              logmessages are written to the standard error stream.  By default  the  file  is  created  if  not
              existing,  and  all messages are appended to the stream. Also by default all messages are preceded
              by time stamps (see the description of the member <u>setTimestamp</u> below).   The  parameter  <u>delim</u>  is
              inserted  immediately beyond the time stamp.  If a delimiter should not be used an empty string or
              a 0-pointer may be specified;

       o      <b>FBB::Log</b> <b>&amp;instance()</b>:
              Returns a reference to a static <u>Log</u> object, available after  calling  <u>Log::initialize</u>.  If  called
              before <u>Log::initialize()</u> an <u>FBB::Exception</u> exception is thrown.

</pre><h4><b>OVERLOADED</b> <b>OPERATORS</b></h4><pre>
       o      <b>Log</b> <b>&amp;operator()(char</b> <b>ch)</b>:
              If  the  function’s  argument  is  found  in the characters specified at the <u>str</u> member subsequent
              insertions until (including) inserting <u>std::endl</u> or the <u>fnl</u> or <u>FATAL</u> <u>LogManipulator</u> are logged. If
              the function’s argument is not found in the characters specified at the <u>str</u> member then subsequent
              insertions are ignored. By calling this member hierarchical insertions are  suppressed  until  the
              <u>setLevel</u> member is called;

       o      <b>Log</b> <b>&amp;operator&lt;&lt;(Log</b> <b>&amp;,</b> <b>LogManipulator)</b>:
              This  operator  inserts  a  <u>LogManipulator</u>  into  a  <u>Log</u>  object.  When  inserting  <u>FBB::FATAL</u>  an
              <u>FBB::Exception</u> is thrown; when inserting <u>FBB::nl</u> the line is terminated, and  the  next  insertion
              won’t  start  with  a  time  stamp;  when  inserting <u>FBB::fnl</u> the line is terminated, and the next
              insertion will start with a time stamp (if applicable). After calling this insertion operator with
              the <u>FATAL</u>  or  <u>fnl</u>  <u>LogManipulator</u>  value  category-based  insertions  are  suppressed  until  the
              function-call operator is called;

       o      <b>Log</b> <b>&amp;operator&lt;&lt;(Log</b> <b>&amp;log,</b> <b>Type</b> <b>const</b> <b>&amp;type)</b>:
              This operator is defined as a template, where <u>Type</u> represents any type that can be inserted into a
              <u>std::ostream</u>. The value <u>type</u> is inserted into the <u>Log</u> object;

       o      <b>Log</b> <b>&amp;operator&lt;&lt;(Log</b> <b>&amp;log,</b> <b>Type</b> <b>&amp;(*fun)(Type</b> <b>&amp;type))</b>:
              In  this  operator  <u>fun</u>  represents  the  standard <u>ostream</u> and <u>ios_base</u> manipulators, allowing the
              insertion of manipulators like <u>std::endl</u> and <u>std::setw</u> into <u>Log</u> objects;

       o      <b>std::ostream</b> <b>&amp;::operator&lt;&lt;(std::ostream</b> <b>&amp;str,</b> <b>FBB::LogManipulator)</b>:
              This operator is defined outside of the <u>FBB</u> namespace. It is kept for backward compatibility  with
              previous  <b>bobcat</b>  versions,  and calls <u>operator&lt;&lt;(Log,</u> <u>LogManipulatr)</u> when <u>&amp;str</u> can dynamically be
              casted to a <u>Log</u> <u>*</u>.  If not, then the operator performs no actions.

</pre><h4><b>EXAMPLE</b></h4><pre>
       #include &lt;iostream&gt;
       #include &lt;iomanip&gt;

       #include &lt;bobcat/log&gt;
       #include &lt;bobcat/level&gt;

       using namespace std;
       using namespace FBB;

       int main()
       {
       //    Log &amp;log = Log::initialize("&amp;1"); // uses the static Log object
           Log log;                        // explicitly defining a Log object
       //    log.open("/tmp/out");           // or at once: Log log{ "/tmp/out" }

           log &lt;&lt; "This message is written to cout" &lt;&lt; nl &lt;&lt;
                  <a href="../man16/setw.16.html">setw</a>(16) &lt;&lt; ’ ’ &lt;&lt; "occupying multiple lines\n";

           log.off();
           log &lt;&lt; "This message is not shown\n";
           log &lt;&lt; "This message is not shown\n";
           log &lt;&lt; fnl;
           log &lt;&lt; "This message is not shown\n";

           <a href="../man2/log.on.2.html">log.on</a>(2);
           log &lt;&lt; "This message is shown\n";

           log &lt;&lt; <a href="../man0/level.0.html">level</a>(0) &lt;&lt; "not shown" &lt;&lt; <a href="../man2/level.2.html">level</a>(2) &lt;&lt; "shown at level 2\n";
           log &lt;&lt; <a href="../man3/level.3.html">level</a>(3) &lt;&lt; "at <a href="../man3/level.3.html">level</a>(3)" &lt;&lt; <a href="../man1/level.1.html">level</a>(1) &lt;&lt; "not shown" &lt;&lt; fnl;

           log &lt;&lt; "separate new line\n";

           log &lt;&lt; <a href="../man2/level.2.html">level</a>(2) &lt;&lt; "in business again\n";
           log &lt;&lt; "final line\n";

           log.str("ab");

           log(’a’) &lt;&lt; "hello a!" &lt;&lt; endl;
           log(’b’) &lt;&lt; "hello b!" &lt;&lt; nl &lt;&lt;
                       <a href="../man16/setw.16.html">setw</a>(16) &lt;&lt; ’ ’ &lt;&lt; "so far, so good" &lt;&lt; endl;

           log &lt;&lt; "not shown" &lt;&lt; endl;

           log(’c’) &lt;&lt; "not shown\n";
           log &lt;&lt; "not shown\n";

           <a href="../man2/log.setLevel.2.html">log.setLevel</a>(2);
           log &lt;&lt; <a href="../man2/level.2.html">level</a>(2) &lt;&lt; "in business again\n";
       }

</pre><h4><b>FILES</b></h4><pre>
       <u>bobcat/log</u> - defines the class interface

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/bobcat.7.html">bobcat</a></b>(7), <b><a href="../man3bobcat/exception.3bobcat.html">exception</a></b>(3bobcat), <b><a href="../man3bobcat/level.3bobcat.html">level</a></b>(3bobcat), <b><a href="../man3bobcat/logbuf.3bobcat.html">logbuf</a></b>(3bobcat), <b><a href="../man3bobcat/syslogstream.3bobcat.html">syslogstream</a></b>(3bobcat)

</pre><h4><b>BUGS</b></h4><pre>
       The <u>nl</u> and <u>fnl</u> manipulators are received by the <u>Log</u> objects’ <u>LogBufs</u> as, respectively, characters  0  and
       1. Since log files in practice only received printable characters this should not cause any problems.

</pre><h4><b>BOBCAT</b> <b>PROJECT</b> <b>FILES</b></h4><pre>
       o      <u>https://fbb-git.gitlab.io/bobcat/</u>: gitlab project page;

       Debian Bobcat project files:

       o      <u>libbobcat6</u>: debian package containing the shared library, changelog and copyright note;

       o      <u>libbobcat-dev</u>:  debian package containing the static library, headers, manual pages, and developer
              info;

</pre><h4><b>BOBCAT</b></h4><pre>
       Bobcat is an acronym of `Brokken’s Own Base Classes And Templates’.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This is free software, distributed under the terms of the GNU General Public License (GPL).

</pre><h4><b>AUTHOR</b></h4><pre>
       Frank B. Brokken (<b><a href="mailto:f.b.brokken@rug.nl">f.b.brokken@rug.nl</a></b>).

libbobcat-dev_6.07.01                               2005-2025                                  <u>FBB::<a href="../man3bobcat/Log.3bobcat.html">Log</a></u>(3bobcat)
</pre>
 </div>
</div></section>
</div>
</body>
</html>