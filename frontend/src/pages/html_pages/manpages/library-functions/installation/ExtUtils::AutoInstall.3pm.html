<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExtUtils::AutoInstall - Automatic install of dependencies via CPAN</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libextutils-autoinstall-perl">libextutils-autoinstall-perl_0.64-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ExtUtils::AutoInstall - Automatic install of dependencies via CPAN

</pre><h4><b>VERSION</b></h4><pre>
       This document describes version 0.63 of <b>ExtUtils::AutoInstall</b>, released September 12, 2005.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       In <u>Makefile.PL</u>, with Module::Install available on the author's system:

           use inc::Module::Install;

           name        ('Joe-Hacker');
           abstract    ('Perl Interface to Joe Hacker');
           author      ('Joe Hacker &lt;<a href="mailto:joe@hacker.org">joe@hacker.org</a>&gt;');
           include     ('ExtUtils::AutoInstall');

           requires    ('Module0');            # mandatory modules
           features    (
               -config         =&gt; {
                   make_args   =&gt; '--hello',   # option(s) for CPAN::Config
                   force       =&gt; 1,           # pseudo-option to force install
                   do_once     =&gt; 1,           # skip previously failed modules
               },
               'Feature1' =&gt; [
                   'Module2'   =&gt; '0.1',
               ],
               'Feature2' =&gt; [
                   'Module3'   =&gt; '1.0',
               ],
           );
           auto_install();
           &amp;WriteAll;

       Invoking the resulting <u>Makefile.PL</u>:

           % perl Makefile.PL                  # interactive behaviour
           % perl Makefile.PL --defaultdeps    # accept default value on prompts
           % perl Makefile.PL --checkdeps      # check only, no Makefile produced
           % perl Makefile.PL --skipdeps       # ignores all dependencies
           % perl Makefile.PL --testonly       # don't write installation targets

       Note that the trailing 'deps' of arguments may be omitted, too.

       Using "--defaultdeps" will make <u>Makefile.PL</u> behave similarly to a regular Makefile.PL file with
       "PREREQ_PM" dependencies.

       One can use environment variables (see "ENVIRONMENT") below to set a default behavior instead of
       specifying it in the command line for every invocation of <u>Makefile.PL</u>.

       Using <u>make</u> (or <u>nmake</u>):

           % make [all|test|install]           # install dependencies first
           % make checkdeps                    # same as the --checkdeps above
           % make installdeps                  # install dependencies only

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ExtUtils::AutoInstall</b> lets module writers to specify a more sophisticated form of dependency information
       than the "PREREQ_PM" option offered by <b>ExtUtils::MakeMaker</b>.

       This module works best with the <b>Module::Install</b> framework, a drop-in replacement for MakeMaker.  However,
       this module also supports <u>Makefile.PL</u> files based on MakeMaker; see "EXAMPLES" for instructions.

   <b>Prerequisites</b> <b>and</b> <b>Features</b>
       Prerequisites are grouped into <b>features</b>, and the user could choose yes/no on each one's dependencies; the
       module writer may also supply a boolean value via "-default" to specify the default choice.

       The <b>Core</b> <b>Features</b> marked by the name "-core" will double-check with the user, if the user chooses not to
       install the mandatory modules.  This differs from the pre-0.26 'silent install' behaviour.

       Starting from version 0.27, if "-core" is set to the string "all" (case-insensitive), every feature will
       be considered mandatory.

       The dependencies are expressed as pairs of "Module" =&gt; "version" inside an array reference.  If the order
       does not matter, and there are no "-default", "-tests" or "-skiptests" directives for that feature, you
       may also use a hash reference.

   <b>The</b> <b>Installation</b> <b>Process</b>
       Once <b>ExtUtils::AutoInstall</b> has determined which module(s) are needed, it checks whether it's running
       under the <b>CPAN</b> shell and should therefore let <b>CPAN</b> handle the dependency.

       Finally, the "WriteMakefile()" is overridden to perform some additional checks, as well as skips tests
       associated with disabled features by the "-tests" option.

       The actual installation happens at the end of the "make config" target; both "make test" and "make
       install" will trigger the installation of required modules.

       If it's not running under <b>CPAN</b>, the installer will probe for an active connection by trying to resolve
       the domain "cpan.org", and check for the user's permission to use <b>CPAN</b>.  If all went well, a separate
           <b>CPAN</b> instance is created to install the required modules.

       If you have the <b>CPANPLUS</b> package installed in your system, it is preferred by default over <b>CPAN</b>; it also
       accepts some extra options (e.g. "-target =&gt; 'skiptest', -skiptest =&gt; 1" to skip testing).

       All modules scheduled to be installed will be deleted from %INC first, so <b>ExtUtils::MakeMaker</b> will check
       the newly installed modules.

       Additionally, you could use the "make installdeps" target to install the modules, and the "make
       checkdeps" target to check dependencies without actually installing them; the "perl Makefile.PL
       --checkdeps" command has an equivalent effect.

       If the <u>Makefile.PL</u> itself needs to use an independent module (e.g.  <b>Acme::KillarApp</b>, v1.21 or greater),
       then use something like below:

           BEGIN {
               require ExtUtils::AutoInstall;
               # the first argument is an arrayref of the -config flags
               ExtUtils::AutoInstall-&gt;install([], 'Acme::KillerApp' =&gt; 1.21);
           }
           use Acme::KillerApp 1.21;

           ExtUtils::AutoInstall-&gt;import(
               # ... arguments as usual ...
           );

       Note the version test in the use clause; if you are so close to the cutting edge that <b>Acme::KillerApp</b>
       1.20 is the latest version on CPAN, this will prevent your module from going awry.

   <b>User-Defined</b> <b>Hooks</b>
       User-defined <u>pre-installation</u> and <u>post-installation</u> hooks are available via "MY::preinstall" and
       "MY::postinstall" subroutines, as shown below:

           # pre-install handler; takes $module_name and $version
           sub MY::preinstall  { return 1; } # return false to skip install

           # post-install handler; takes $module_name, $version, $success
           sub MY::postinstall { return; }   # the return value doesn't matter

       Note that since <b>ExtUtils::AutoInstall</b> performs installation at the time of "use" (i.e. before perl parses
       the remainder of <u>Makefile.PL</u>), you have to declare those two handlers <u>before</u> the "use" statement for them
       to take effect.

       If the user did not choose to install a module or it already exists on the system, neither of the
       handlers is invoked.  Both handlers are invoked exactly once for each module when installation is
       attempted.

       "MY::preinstall" takes two arguments, $module_name and $version; if it returns a false value,
       installation for that module will be skipped, and "MY::postinstall" won't be called at all.

       "MY::postinstall" takes three arguments, $module_name, $version and $success.  The last one denotes
       whether the installation succeeded or not: 1 means installation completed successfully, 0 means failure
       during install, and "undef" means that the installation was not attempted at all, possibly due to
       connection problems, or that module does not exist on CPAN at all.

   <b>Customized</b> <b>"MY::postamble"</b>
       Starting from version 0.43, <b>ExtUtils::AutoInstall</b> supports modules that require a "MY::postamble"
       subroutine in their <u>Makefile.PL</u>.  The user-defined "MY::postamble", if present, is responsible for
       calling "ExtUtils::AutoInstall::postamble" and include the output in its return value.

       For example, the <b>DBD::*</b> (database driver) modules for the Perl DBI are required to include the postamble
       generated by the function "dbd_postamble", so their <u>Makefile.PL</u> may contain lines like this:

           sub MY::postamble {
               return &amp;ExtUtils::AutoInstall::postamble . &amp;dbd_postamble;
           }

       Note that the <b>ExtUtils::AutoInstall</b> module does not export the "postamble" function, so the name should
       always be fully qualified.

</pre><h4><b>CAVEATS</b></h4><pre>
       <b>ExtUtils::AutoInstall</b> will add "UNINST=1" to your <b>make</b> <b>install</b> flags if your effective uid is 0 (root),
       unless you explicitly disable it by setting <b>CPAN</b>'s "make_install_arg" configuration option (or the
       "makeflags" option of <b>CPANPLUS</b>) to include "UNINST=0".  This <u>may</u> cause dependency problems if you are
       using a fine-tuned directory structure for your site.  Please consult "FAQ" in CPAN for an explanation in
       detail.

       If either <b>version</b> or <b>Sort::Versions</b> is available, they will be used to compare the required version with
       the existing module's version and the CPAN module's.  Otherwise it silently falls back to use <u>cmp</u>.  This
       may cause inconsistent behaviours in pathetic situations.

</pre><h4><b>NOTES</b></h4><pre>
       Since this module is needed before writing <u>Makefile</u>, it makes little use as a CPAN module; hence each
       distribution must include it in full.  The only alternative I'm aware of, namely prompting in <u>Makefile.PL</u>
       to force user install it (cf. the <b>Template</b> <b>Toolkit</b>'s dependency on <b>AppConfig</b>) is not very desirable
       either.

       The current compromise is to add the bootstrap code listed in the "SYNOPSIS" before every script, but
       that does not look pretty, and will not work without an Internet connection.

       Since we do not want all future options of <b>ExtUtils::AutoInstall</b> to be painfully detected manually like
       above, this module provides a <u>bootstrapping</u> mechanism via the "-version" flag.  If a newer version is
       needed by the <u>Makefile.PL</u>, it will go ahead to fetch a new version, reload it into memory, and pass the
       arguments forward.

       If you have any suggestions, please let me know.  Thanks.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>ExtUtils::AutoInstall</b> uses a single environment variable, "PERL_EXTUTILS_AUTOINSTALL".  It is taken as
       the command line argument passed to <u>Makefile.PL</u>; you could set it to either "--defaultdeps" or
       "--skipdeps" to avoid interactive behaviour.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Using</b> <b>MakeMaker</b> <b>with</b> <b>AutoInstall</b>
       To use this module with ExtUtils::MakeMaker, first make a <u>inc/ExtUtils/</u> subdirectory in the directory
       containing your Makefile.PL, and put a copy this module under it as <u>inc/ExtUtils/AutoInstall.pm</u>.  You can
       find out where this module has been installed by typing "perldoc -l ExtUtils::AutoInstall" in the command
       line.

       Your <u>Makefile.PL</u> should look like this:

           # pull in ExtUtils/AutoInstall.pm from 'inc'
           use lib 'inc';
           use ExtUtils::AutoInstall (
               -core           =&gt; [            # mandatory modules
                   'Module0'   =&gt; '',          # any version would suffice
               ],
               'Feature1'      =&gt; [
                   # do we want to install this feature by default?
                   -default    =&gt; ( system('feature1 --version') == 0 ),
                   Module1     =&gt; '0.01',
               ],
               'Feature2'      =&gt; [
                   # associate tests to be disabled if this feature is missing
                   -tests      =&gt; [ &lt;t/feature2*.t&gt; ],
                   # associate tests to be disabled if this feature is present
                   -skiptests  =&gt; [ &lt;t/nofeature2*.t&gt; ],
                   Module2     =&gt; '0.02',
               ],
               'Feature3'      =&gt; {            # hash reference works, too
                   # force installation even if tests fail
                   Module2     =&gt; '0.03',
               }
           );

           WriteMakefile(
               AUTHOR          =&gt; 'Joe Hacker &lt;<a href="mailto:joe@hacker.org">joe@hacker.org</a>&gt;',
               ABSTRACT        =&gt; 'Perl Interface to Joe Hacker',
               NAME            =&gt; 'Joe::Hacker',
               VERSION_FROM    =&gt; 'Hacker.pm',
               DISTNAME        =&gt; 'Joe-Hacker',
           );

   <b>Self-Download</b> <b>Code</b>
       If you do not wish to put a copy of ExtUtils::AutoInstall under <u>inc/</u>, and are confident that users will
       have internet access, you may replace the "use lib 'inc';" line with this block of code:

           # ExtUtils::AutoInstall Bootstrap Code, version 7.
           BEGIN{my$p='ExtUtils::AutoInstall';my$v=0.45;$p-&gt;VERSION||0&gt;=$v
           or+eval"use $p $v;1"or+do{my$e=$ENV{PERL_EXTUTILS_AUTOINSTALL};
           (!defined($e)||$e!~m/--(?:default|skip|testonly)/and-t STDIN or
           eval"use ExtUtils::MakeMaker;WriteMakefile(PREREQ_PM=&gt;{'$p',$v}
           );1"and exit)and print"==&gt; $p $v required. Install it from CP".
           "AN? [Y/n] "and&lt;STDIN&gt;!~/^n/i and print"*** Installing $p\n"and
           do{if (eval '$&gt;' and lc(`sudo -V`) =~ /version/){system('sudo',
           $^X,"-MCPANPLUS","-e","CPANPLUS::install $p");eval"use $p $v;1"
           ||system('sudo', $^X, "-MCPAN", "-e", "CPAN::install $p")}eval{
           require CPANPLUS;CPANPLUS::install$p};eval"use $p $v;1"or eval{
           require CPAN;CPAN::install$p};eval"use $p $v;1"||die"*** Please
           manually install $p $v from cpan.org first...\n"}}}

       If the user did not have ExtUtils::AutoInstall installed, the block of code above will automatically
       download and install it.

       However, due to its space-compressed (and obfuscated) nature, you should think twice before employing
       this block of code; it is usually much more desirable to just use Module::Install instead.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       perlmodlib, ExtUtils::MakeMaker, Sort::Versions, CPAN, CPANPLUS, Module::Install

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
       The test script included in the <b>ExtUtils::AutoInstall</b> distribution contains code adapted from Michael
       Schwern's <b>Test::More</b> under the <u>Perl</u> <u>License</u>.  Please consult to <u>t/AutoInstall.t</u> for details.

       See the <u>AUTHORS</u> file in this module's source distribution for the list of contributors.

</pre><h4><b>AUTHORS</b></h4><pre>
       Autrijus Tang &lt;<a href="mailto:autrijus@autrijus.org">autrijus@autrijus.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2001, 2002, 2003, 2004, 2005, 2016 by Autrijus Tang &lt;<a href="mailto:autrijus@autrijus.org">autrijus@autrijus.org</a>&gt;.

       This program is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

       See &lt;<a href="http://www.perl.com/perl/misc/Artistic.html">http://www.perl.com/perl/misc/Artistic.html</a>&gt;

perl v5.32.0                                       2021-01-20                         <u>ExtUtils::<a href="../man3pm/AutoInstall.3pm.html">AutoInstall</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>