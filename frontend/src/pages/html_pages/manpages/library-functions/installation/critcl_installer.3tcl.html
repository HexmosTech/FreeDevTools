<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>critcl_install_guide - Critcl - The Installer's Guide</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/critcl">critcl_3.1.18.1+dfsg-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       critcl_install_guide - Critcl - The Installer's Guide

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>C</u>  <u>Runtime</u>  <u>In</u>  <u>Tcl</u>,  or  <u>CriTcl</u> , is a system for compiling C code embedded in Tcl on the fly and either
       loading the resulting objects into Tcl for immediate use or packaging them for distribution.  Use  <u>CriTcl</u>
       to improve performance by rewriting in C those routines that are performance bottlenecks.

       The audience of this document is anyone wishing to build the packages, for either themselves, or others.

       For a developer intending to extend or modify the packages we additionally provide

       [1]    <u>Critcl</u> <u>-</u> <u>License</u>.

       [2]    <u>Critcl</u> <u>-</u> <u>The</u> <u>Developer's</u> <u>Guide</u>.

       Please  read <u>Critcl</u> <u>-</u> <u>How</u> <u>To</u> <u>Get</u> <u>The</u> <u>Sources</u> first, if that was not done already. Here we assume that the
       sources are already available in a directory of your choice.

</pre><h4><b>REQUISITES</b></h4><pre>
       Before Critcl can be build and used a number of requisites must be installed. These are:

       [1]    The scripting language Tcl.  For details see <b>Tcl</b>.

       [2]    Various packages from the Tcllib bundle for <b>Tcl</b>.  For details see <b>Tcllib</b>.

       [3]    A working C compiler and development environment.

       This list assumes that the machine where Critcl is to be installed is essentially clean.  Of  course,  if
       parts  of  the dependencies listed below are already installed the associated steps can be skipped. It is
       still recommended to read their sections though, to validate that the dependencies they  talk  about  are
       indeed installed.

   <b>TCL</b>
       As  we  are  building a Tcl package that should be pretty much obvious that a working Tcl installation is
       needed, and I will not belabor the point.

       Out of the many use whatever you are comfortable with, as long as it provides Tcl 8.5, or higher, and  Tk
       8.5 or higher.

       This  may  a  Tcl  installation  provided  by  your  operating  system distribution, from a distribution-
       independent vendor, or built by yurself.

       Myself, I used <u>ActiveState's</u> [<a href="http://www.activestate.com">http://www.activestate.com</a>] ActiveTcl 8.5 distribution  during  development
       of the binding, as I am most familiar with it.

       <u>(Disclosure:</u> <u>I,</u> <u>Andreas</u> <u>Kupries,</u> <u>work</u> <u>for</u> <u>ActiveState,</u> <u>maintaining</u> <u>ActiveTcl</u> <u>and</u> <u>TclDevKit</u> <u>for</u> <u>them).</u>

       This distribution can be found at <u><a href="http://www.activestate.com/activetcl">http://www.activestate.com/activetcl</a></u>. Retrieve the archive of ActiveTcl
       8.5 for your platform and install it as directed by ActiveState.

       Assuming that ActiveTcl got installed I usually run the command

                  teacup update

       to  install  all  packages  ActiveState provides, and the kitchensink, as the distribution itself usually
       contains only the ost important set of packages. This ensures that the dependencies for  Critcl  are  all
       present, and more.

       If  that  is  not  to  your liking you have to read the sections for Critcl to determine the exact set of
       packages required, and install only these using

                  teacup install $packagename

       Both <b>teacup</b> commands above assume that ActiveState's TEApot repository  at  <u><a href="http://teapot.activestate.com">http://teapot.activestate.com</a></u>
       is  in  the  list  of  repositories accessible to <b>teacup</b>. This is automatically ensured for the ActiveTcl
       distribution. Others may have to run

                  teacup archive add <a href="http://teapot.activestate.com">http://teapot.activestate.com</a>

       to make this happen.

       For those wishing to build Tcl/Tk on their own, their sources can be found at

       Tcl    <u><a href="http://core.tcl.tk/tcl/">http://core.tcl.tk/tcl/</a></u>

       Tk     <u><a href="http://core.tcl.tk/tk/">http://core.tcl.tk/tk/</a></u>

   <b>TCLLIB</b>
       To use Critcl a few packages found in the Tcllib bundle are required. These packages are:

       [1]    <b>cmdline</b>

       [2]    <b>md5</b>.

              And to accelerate this package, it is recommend to get and install one of

              [1]    <b>tcllibc</b>

              [2]    <b>md5c</b>

              [3]    <b>Trf</b>

              The system will work without them, but can become quite slow, especially when handling large  code
              blocks.

       [3]    <b>snit</b>

       Assuming  that  ActiveTcl  is  installed, or some other Tcl installation with <b>teacup</b> available, most (not
       md5c) of these packages can be installed via

                  teacup install $packagename

       The <b>teacup</b> command above assumes that ActiveState's TEApot repository at <u><a href="http://teapot.activestate.com">http://teapot.activestate.com</a></u> is
       in the list of repositories accessible to  <b>teacup</b>.  This  is  automatically  ensured  for  the  ActiveTcl
       distribution. Others may have to run

                  teacup archive add <a href="http://teapot.activestate.com">http://teapot.activestate.com</a>

       to make this happen.

       Now, for those wishing to install the packages from source, the fossil repository for the two bundles can
       be found at <u>https://core.tcl.tk/tcllib</u> and <u>https://core.tcl.tk/tklib</u>.

       Releases  of  Tcllib  and  Tklib  can be found there as well, or <b>fossil</b> can be used to check out specific
       revisions.

       Tcl- and Tklib come with their own installation instructions.  These will not be repeated here. If  there
       are problems with their directions please file a bug against the Tcllib project at the above url, and not
       CriTcl.

   <b>C</b> <b>COMPILER</b>
       To actually build packages based on critcl we need a working C compiler.

       How to install such and all the associated header files, libraries, etc. is heavily platform- and system-
       dependent, and thus outside of the scope of this document.  Note that I am willing to extend this section
       with links of interest to tutorials, howtos and references for the various platforms.

       The important pieces of information are this:

       [1]    The  path  to  the C compiler binary must be found in the environment variable <b>PATH</b>, for critcl to
              find it.

       [2]    On Windows(tm) the environment variable  <b>LIB</b>  must  be  present  and  contain  the  paths  of  the
              directories  holding  Microsoft's  libraries.  The standard critcl configuration for this platform
              searches these paths to fine-tune its settings based on available libraries and compiler version.

       Links of interest:

       <u><a href="http://www.tldp.org/HOWTO/HOWTO-INDEX/programming.html">http://www.tldp.org/HOWTO/HOWTO-INDEX/programming.html</a></u>

</pre><h4><b>BUILD</b> <b>&amp;</b> <b>INSTALLATION</b> <b>INSTRUCTIONS</b></h4><pre>
   <b>BUILD</b> <b>&amp;</b> <b>INSTALLATION</b> <b>(UNIX)</b>
       This section describes the actions required to install CriTcl on Unix systems (Linux, BSD,  and  related,
       including  OS  X).   If  you have to install CriTcl on a Windows machine see section <b>Build</b> <b>&amp;</b> <b>Installation</b>
       <b>(Windows)</b> instead.  To install Critcl simply run

                  /path/to/tclsh /path/to/critcl/build.tcl install

       where "<u>/path/to/tclsh</u>" is the tclsh of your Tcl installation, and "<u>/path/to/critcl</u>" the location  of  the
       Critcl sources on your system.

       This builds all packages and then places them in a directory where the <b>tclsh</b> will find them.

       It  further  creates  a  "<u>critcl</u>"  application  script and places it into the directory <b>tclsh</b> resides in,
       making it a sibling of that executable.  Note that the installed critcl application is  modified  to  use
       the chosen tclsh instead of searching for one on the <b>PATH</b>.

       On  Windows  you can invoke the file "<u>build.tcl</u>" with a double-click.  This will pop up a small graphical
       interface for entering the destination and performing the installation. This handling of  a  double-click
       is restricted to Windows only however.

       The  build  system  provides  a  small  GUI for those not comfortable with the command line.  This GUI is
       accessible by invoking "<u>build.tcl</u>" without any arguments.

       To get help about the methods of  "<u>build.tcl</u>",  and  their  complete  syntax,  invoke   "<u>build.tcl</u>"  with
       argument <b>help</b>, i.e., like

                  /path/to/tclsh /path/to/critcl/build.tcl help

   <b>BUILD</b> <b>&amp;</b> <b>INSTALLATION</b> <b>(WINDOWS)</b>
       This  section  describes  the  actions required to install CriTcl on Windows(tm) systems.  If you have to
       install CriTcl on a Unix machine  (Linux,  BSD,  and  related,  including  OS  X)  see  section  <b>Build</b>  <b>&amp;</b>
       <b>Installation</b> <b>(Unix)</b> instead.  To install Critcl simply run

                  /path/to/tclsh /path/to/critcl/build.tcl install

       where  "<u>/path/to/tclsh</u>"  is the tclsh of your Tcl installation, and "<u>/path/to/critcl</u>" the location of the
       Critcl sources on your system.

       This builds all packages and then places them in a directory where the <b>tclsh</b> will find them.

       It further creates a "<u>critcl</u>" application script and places it  into  the  directory  <b>tclsh</b>  resides  in,
       making it a sibling of that executable.

       <u>Attention!</u>  Note  that while the installed critcl application is modified to use the chosen tclsh instead
       of searching for one on the <b>PATH</b> this is useless for Windows, which  associates  executables  with  files
       through their extension.

       <u>Attention!</u>  The  current  installer does not put an extension on the <b>critcl</b> application, forcing users to
       either explicitly choose the <b>tclsh</b> to run the application, or  manually  rename  the  installed  file  to
       "<u>critcl.tcl</u>", if an association for "<u>.tcl</u>" is available, to either <b>tclsh</b>, or <b>wish</b>.

       On  Windows  you can invoke the file "<u>build.tcl</u>" with a double-click.  This will pop up a small graphical
       interface for entering the destination and performing the installation. This handling of  a  double-click
       is restricted to Windows only however.

       This GUI is also accessible by invoking "<u>build.tcl</u>" without any arguments.

       To  get  help  about  the  methods  of  "<u>build.tcl</u>",  and their complete syntax, invoke  "<u>build.tcl</u>" with
       argument <b>help</b>, i.e., like

                  /path/to/tclsh /path/to/critcl/build.tcl help

   <b>FIRST</b> <b>USE,</b> <b>TESTING</b> <b>THE</b> <b>INSTALLATION</b>
       With critcl installed it is now the time to try at least one of the examples distributed  with  it.  This
       will also test if the installation was successful.

       Below  I  show  the  steps  to generate and then use the low- and high-level stack example packages. I am
       intentionally bypassing the "<u>build.tcl</u>" file the example is coming  with,  to  show  the  use  of  <b>critcl</b>
       itself.

       Some more explanations before running the example:

       •      Here  "<u>path/to/critcl</u>"  is  the  path  to  the installed critcl application, not the critcl source
              directory.

              Also, on Windows(tm) this part of the example must be replaced with

               /path/to/tclsh /path/to/critcl

              as the installed application has no extension and thus Windows will not know how  to  execute  the
              script.

              Only  if  the  installed  application  was manually renamed to "<u>critcl.tcl</u>" and the machine has an
              association for "<u>.tcl</u>" to either <b>tclsh</b> or <b>wish</b> then the "<u>/path/to/tclsh</u>" can be left out.

       •      The example shows only the commands entered on the shell (and tclsh) command line. Their responses
              are left out.

              If any command throws an error, i.e. has a problem, then all following commands will run into some
              other error as well, as a consequence of the first problem.

       •      Use of option <b>-keep</b> causes critcl to  leave  the  generated  .c  files  behind,  for  edification.
              Normally this happens only in case of trouble.

       •      Use  of option <b>-cache</b> redirects the location of the directory to hold generated and build files to
              a local directory with a known name, for an easy look after.

       •      Both <b>cstack</b> and <b>stackc</b> have to use the <u>same</u> <b>-cache</b> so that <b>stackc</b> will find the stub table headers
              exported by <b>cstack</b>.

                  &gt; cd examples/stack
                  &gt; /path/to/critcl -keep -cache B -pkg cstack.tcl
                  &gt; /path/to/critcl -keep -cache B -pkg stackc.tcl

                  &gt; tclsh
                  % lappend auto_path [pwd]<a href="file:/lib">/lib</a>
                  % package require stackc
                  % join [info loaded] \n
                  % stackc S
                  % S push FOO
                  % S size
                  % S destroy
                  % exit
                  &gt;

</pre><h4><b>AUTHORS</b></h4><pre>
       Jean Claude Wippler, Steve Landers, Andreas Kupries

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This document, and the package it describes, will undoubtedly contain bugs and  other  problems.   Please
       report them at <u>https://github.com/andreas-kupries/critcl/issues</u>.  Ideas for enhancements you may have for
       either  package,  application,  and/or  the documentation are also very welcome and should be reported at
       <u>https://github.com/andreas-kupries/critcl/issues</u> as well.

</pre><h4><b>KEYWORDS</b></h4><pre>
       C code, Embedded C Code, code generator, compile  &amp;  run,  compiler,  dynamic  code  generation,  dynamic
       compilation, generate package, linker, on demand compilation, on-the-fly compilation

</pre><h4><b>CATEGORY</b></h4><pre>
       Glueing/Embedded C code

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) Jean-Claude Wippler
       Copyright (c) Steve Landers
       Copyright (c) 2011-2018 Andreas Kupries

doc                                                 3.1.18.1                          <u><a href="../man3tcl/critcl_install_guide.3tcl.html">critcl_install_guide</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>