<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>al_init_user_event_source - Allegro 5 API</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/allegro5-doc">allegro5-doc_5.2.10.1+dfsg-1build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       al_init_user_event_source - Allegro 5 API

</pre><h4><b>SYNOPSIS</b></h4><pre>
              #include &lt;allegro5/allegro.h&gt;

              void al_init_user_event_source(ALLEGRO_EVENT_SOURCE *src)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Initialise  an  event  source for emitting user events.  The space for the event source must already have
       been allocated.

       One possible way of creating custom event sources is to derive other structures with ALLEGRO_EVENT_SOURCE
       at the head, e.g.

              typedef struct THING THING;

              struct THING {
                  ALLEGRO_EVENT_SOURCE event_source;
                  int field1;
                  int field2;
                  /* etc. */
              };

              THING *create_thing(void)
              {
                  THING *thing = malloc(sizeof(THING));

                  if (thing) {
                      al_init_user_event_source(&amp;thing-&gt;event_source);
                      thing-&gt;field1 = 0;
                      thing-&gt;field2 = 0;
                  }

                  return thing;
              }

       The advantage here is that the THING pointer will  be  the  same  as  the  ALLEGRO_EVENT_SOURCE  pointer.
       Events emitted by the event source will have the event source pointer as the source field, from which you
       can get a pointer to a THING by a simple cast (after ensuring checking the event is of the correct type).

       However, it is only one technique and you are not obliged to use it.

       The  user  event  source  will  never  be  destroyed  automatically.   You  must destroy it manually with
       <a href="../man3alleg5/al_destroy_user_event_source.3alleg5.html">al_destroy_user_event_source</a>(3alleg5).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3alleg5/ALLEGRO_EVENT_SOURCE.3alleg5.html">ALLEGRO_EVENT_SOURCE</a>(3alleg5),    <a href="../man3alleg5/al_destroy_user_event_source.3alleg5.html">al_destroy_user_event_source</a>(3alleg5),     <a href="../man3alleg5/al_emit_user_event.3alleg5.html">al_emit_user_event</a>(3alleg5),
       <a href="../man3alleg5/ALLEGRO_USER_EVENT.3alleg5.html">ALLEGRO_USER_EVENT</a>(3alleg5)

Allegro reference manual                                                      <u><a href="../man3alleg5/al_init_user_event_source.3alleg5.html">al_init_user_event_source</a></u>(3alleg5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>