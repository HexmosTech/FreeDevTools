<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>install_int_ex - Adds or modifies a timer. Allegro game programming library.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/allegro4-doc">allegro4-doc_4.4.3.1-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       install_int_ex - Adds or modifies a timer. Allegro game programming library.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;allegro.h&gt;</b>

       <b>int</b> <b>install_int_ex(void</b> <b>(*proc)(),</b> <b>int</b> <b>speed);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Adds  a function to the list of user timer handlers or, if it is already installed, retroactively adjusts
       its speed (i.e makes as though the speed change occurred precisely at the last tick). The speed is  given
       in  hardware clock ticks, of which there are 1193181 a second. You can convert from other time formats to
       hardware clock ticks with the macros:

          SECS_TO_TIMER(secs)  - give the number of seconds between
                                 each tick
          <a href="../manmsec/MSEC_TO_TIMER.msec.html">MSEC_TO_TIMER</a>(msec)  - give the number of milliseconds
                                 between ticks
          BPS_TO_TIMER(bps)    - give the number of ticks each second
          BPM_TO_TIMER(bpm)    - give the number of ticks per minute

       There can only be sixteen timers in use at a time, and some other parts of Allegro  (the  GUI  code,  the
       mouse  pointer display routines, rest(), the FLI player, and the MIDI player) need to install handlers of
       their own, so you should avoid using too many at the same time. If you call this routine  without  having
       first installed the timer module, install_timer() will be called automatically.

       Your  function  will  be called by the Allegro interrupt handler and not directly by the processor, so it
       can be a normal C function and does not need a special wrapper. You should be  aware,  however,  that  it
       will  be called in an interrupt context, which imposes a lot of restrictions on what you can do in it. It
       should not use large amounts of stack, it must not make any calls to the operating system, use C  library
       functions,  or contain any floating point code, and it must execute very quickly. Don't try to do lots of
       complicated code in a timer handler: as a general rule you should just set  some  flags  and  respond  to
       these later in your main control loop.

       In  a DOS protected mode environment like DJGPP, memory is virtualised and can be swapped to disk. Due to
       the non-reentrancy of DOS, if a disk swap occurs inside an  interrupt  handler  the  system  will  die  a
       painful  death,  so  you  need  to make sure you lock all the memory (both code and data) that is touched
       inside timer routines. Allegro will lock everything it uses, but you are  responsible  for  locking  your
       handler    functions.    The    macros   LOCK_VARIABLE   (variable),   END_OF_FUNCTION   (function_name),
       END_OF_STATIC_FUNCTION (function_name), and LOCK_FUNCTION (function_name) can be used  to  simplify  this
       task. For example, if you want an interrupt handler that increments a counter variable, you should write:

          volatile int counter;

          void my_timer_handler()
          {
             counter++;
          }

          <a href="../manmy_timer_handler/END_OF_FUNCTION.my_timer_handler.html">END_OF_FUNCTION</a>(my_timer_handler)

       and in your initialisation code you should lock the memory:

          LOCK_VARIABLE(counter);
          <a href="../manmy_timer_handler/LOCK_FUNCTION.my_timer_handler.html">LOCK_FUNCTION</a>(my_timer_handler);

       Obviously  this  can  get  awkward  if  you use complicated data structures and call other functions from
       within your handler, so you should try to keep your interrupt routines as simple as possible.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Returns zero on success, or a negative number if there is no room to add a new user timer.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3alleg4/install_timer.3alleg4.html">install_timer</a></b>(3alleg4),   <b><a href="../man3alleg4/remove_int.3alleg4.html">remove_int</a></b>(3alleg4),    <b><a href="../man3alleg4/install_int.3alleg4.html">install_int</a></b>(3alleg4),    <b><a href="../man3alleg4/install_param_int_ex.3alleg4.html">install_param_int_ex</a></b>(3alleg4),
       <b><a href="../man3alleg4/excamera.3alleg4.html">excamera</a></b>(3alleg4), <b><a href="../man3alleg4/exsprite.3alleg4.html">exsprite</a></b>(3alleg4), <b><a href="../man3alleg4/extimer.3alleg4.html">extimer</a></b>(3alleg4), <b><a href="../man3alleg4/exunicod.3alleg4.html">exunicod</a></b>(3alleg4), <b><a href="../man3alleg4/exupdate.3alleg4.html">exupdate</a></b>(3alleg4)

Allegro                                           version 4.4.3                          <u><a href="../man3alleg4/install_int_ex.3alleg4.html">install_int_ex</a></u>(3alleg4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>