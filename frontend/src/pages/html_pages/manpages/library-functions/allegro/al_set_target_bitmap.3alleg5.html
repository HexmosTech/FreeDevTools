<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>al_set_target_bitmap - Allegro 5 API</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/allegro5-doc">allegro5-doc_5.2.10.1+dfsg-1build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       al_set_target_bitmap - Allegro 5 API

</pre><h4><b>SYNOPSIS</b></h4><pre>
              #include &lt;allegro5/allegro.h&gt;

              void al_set_target_bitmap(ALLEGRO_BITMAP *bitmap)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  function  selects  the bitmap to which all subsequent drawing operations in the calling thread will
       draw to.  To return to drawing to a display, set the backbuffer of the  display  as  the  target  bitmap,
       using <a href="../man3alleg5/al_get_backbuffer.3alleg5.html">al_get_backbuffer</a>(3alleg5).  As a convenience, you may also use <a href="../man3alleg5/al_set_target_backbuffer.3alleg5.html">al_set_target_backbuffer</a>(3alleg5).

       Each allegro bitmap maintains two transformation matrices associated with it for drawing onto the bitmap.
       There  is  a view matrix and a projection matrix.  When you call al_set_target_bitmap, these will be made
       current for the bitmap, affecting global OpenGL and DirectX states depending on the driver in use.

       Each video bitmap is tied to a display.  When a video bitmap is set to as the target bitmap, the  display
       that  the  bitmap belongs to is automatically made “current” for the calling thread (if it is not current
       already).  Then drawing other bitmaps which are tied to the same display can be hardware accelerated.

       A single display cannot be current for multiple  threads  simultaneously.   If  you  need  to  release  a
       display, so it is not current for the calling thread, call al_set_target_bitmap(NULL);

       Setting  a  memory  bitmap  as the target bitmap will not change which display is current for the calling
       thread.

       On some platforms, Allegro automatically backs up the contents of  video  bitmaps  because  they  may  be
       occasionally  lost  (see  discussion in <a href="../man3alleg5/al_create_bitmap.3alleg5.html">al_create_bitmap</a>(3alleg5)’s documentation).  If you’re completely
       recreating the bitmap contents often (e.g.  every frame) then you will get  much  better  performance  by
       creating the target bitmap with ALLEGRO_NO_PRESERVE_TEXTURE flag.

       OpenGL note:

       Framebuffer  objects (FBOs) allow OpenGL to directly draw to a bitmap, which is very fast.  When using an
       OpenGL display, if all of the following conditions are met an FBO  will  be  created  for  use  with  the
       bitmap:

       • The GL_EXT_framebuffer_object OpenGL extension is available.

       • The bitmap is not a memory bitmap.

       • The bitmap is not currently locked.

       In  Allegro  5.0.0, you had to be careful as an FBO would be kept around until the bitmap is destroyed or
       you explicitly called <a href="../man3alleg5/al_remove_opengl_fbo.3alleg5.html">al_remove_opengl_fbo</a>(3alleg5) on the bitmap, wasting resources.  In newer versions,
       FBOs will be freed automatically when the bitmap is no longer the target bitmap, <u>unless</u> you  have  called
       <a href="../man3alleg5/al_get_opengl_fbo.3alleg5.html">al_get_opengl_fbo</a>(3alleg5) to retrieve the FBO id.

       In the following example, no FBO will be created:

              lock = al_lock_bitmap(bitmap);
              al_set_target_bitmap(bitmap);
              al_put_pixel(x, y, color);
              al_unlock_bitmap(bitmap);

       The above allows using <a href="../man3alleg5/al_put_pixel.3alleg5.html">al_put_pixel</a>(3alleg5) on a locked bitmap without creating an FBO.

       In this example an FBO is created however:

              al_set_target_bitmap(bitmap);
              al_draw_line(x1, y1, x2, y2, color, 0);

       An OpenGL command will be used to directly draw the line into the bitmap’s associated texture.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3alleg5/al_get_target_bitmap.3alleg5.html">al_get_target_bitmap</a>(3alleg5), <a href="../man3alleg5/al_set_target_backbuffer.3alleg5.html">al_set_target_backbuffer</a>(3alleg5)

Allegro reference manual                                                           <u><a href="../man3alleg5/al_set_target_bitmap.3alleg5.html">al_set_target_bitmap</a></u>(3alleg5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>