<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>load_datafile_callback  -  Loads  a  datafile  into  memory,  calling  a  hook  per  object. Allegro game</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/allegro4-doc">allegro4-doc_4.4.3.1-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       load_datafile_callback  -  Loads  a  datafile  into  memory,  calling  a  hook  per  object. Allegro game
       programming library.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;allegro.h&gt;</b>

       <b>DATAFILE</b> <b>*load_datafile_callback(const</b> <b>char</b> <b>*filename,</b> <b>void</b> <b>(*callback)(DATAFILE</b> <b>*d));</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Loads a datafile into memory, calling the specified hook function once  for  each  object  in  the  file,
       passing  it  a pointer to the object just read. You can use this to implement very simple loading screens
       where every time the hook is called, the screen is updated to let the user know  your  program  is  still
       loading from disk:

          void load_callback(DATAFILE *dat_obj)
          {
             static const char indicator[] = "-\\|/-.oOXOo.";
             static int current = 0;

             /* Show a different character every time. */
             textprintf_ex(screen, font, 0, 0, makecol(0, 0, 0),
                           makecol(255, 255, 255), "%c Loading %c",
                           indicator[current], indicator[current]);
             /* Increase index and check if we need to reset it. */
             current++;
             if (!indicator[current])
                current = 0;
          }
             ...
             dat = load_datafile_callback("data.dat", load_callback);

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Returns  a pointer to the DATAFILE or NULL on error. Remember to free this DATAFILE later to avoid memory
       leaks.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3alleg4/load_datafile.3alleg4.html">load_datafile</a></b>(3alleg4),             <b><a href="../man3alleg4/unload_datafile.3alleg4.html">unload_datafile</a></b>(3alleg4),              <b><a href="../man3alleg4/load_datafile_object.3alleg4.html">load_datafile_object</a></b>(3alleg4),
       <b><a href="../man3alleg4/set_color_conversion.3alleg4.html">set_color_conversion</a></b>(3alleg4),            <b><a href="../man3alleg4/fixup_datafile.3alleg4.html">fixup_datafile</a></b>(3alleg4),            <b><a href="../man3alleg4/packfile_password.3alleg4.html">packfile_password</a></b>(3alleg4),
       <b><a href="../man3alleg4/find_datafile_object.3alleg4.html">find_datafile_object</a></b>(3alleg4), <b><a href="../man3alleg4/register_datafile_object.3alleg4.html">register_datafile_object</a></b>(3alleg4)

Allegro                                           version 4.4.3                  <u><a href="../man3alleg4/load_datafile_callback.3alleg4.html">load_datafile_callback</a></u>(3alleg4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>