<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALLEGRO_AUDIO_STREAM - Allegro 5 API</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/allegro5-doc">allegro5-doc_5.2.10.1+dfsg-1build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ALLEGRO_AUDIO_STREAM - Allegro 5 API

</pre><h4><b>SYNOPSIS</b></h4><pre>
              #include &lt;allegro5/allegro_audio.h&gt;

              typedef struct ALLEGRO_AUDIO_STREAM ALLEGRO_AUDIO_STREAM;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       An ALLEGRO_AUDIO_STREAM object is used to stream generated audio to the sound device, in real-time.  This
       is  done  by  reading  from a buffer, which is split into a number of fragments.  Whenever a fragment has
       finished playing, the user can refill it with new data.

       As with <a href="../man3alleg5/ALLEGRO_SAMPLE_INSTANCE.3alleg5.html">ALLEGRO_SAMPLE_INSTANCE</a>(3alleg5) objects, streams store information necessary  for  playback,  so
       you  may  not play the same stream multiple times simultaneously.  Streams also need to be attached to an
       <a href="../man3alleg5/ALLEGRO_MIXER.3alleg5.html">ALLEGRO_MIXER</a>(3alleg5), which, eventually, reaches an <a href="../man3alleg5/ALLEGRO_VOICE.3alleg5.html">ALLEGRO_VOICE</a>(3alleg5) object.

       While playing, you must periodically fill fragments with new audio data.  To know when a new fragment  is
       ready  to be filled, you can either directly check with <a href="../man3alleg5/al_get_available_audio_stream_fragments.3alleg5.html">al_get_available_audio_stream_fragments</a>(3alleg5),
       or listen to events from the stream.

       You    can    register    an    audio    stream    event    source    to    an    event    queue;     see
       <a href="../man3alleg5/al_get_audio_stream_event_source.3alleg5.html">al_get_audio_stream_event_source</a>(3alleg5).    An  <a href="../man3alleg5/ALLEGRO_EVENT_AUDIO_STREAM_FRAGMENT.3alleg5.html">ALLEGRO_EVENT_AUDIO_STREAM_FRAGMENT</a>(3alleg5)  event  is
       generated   whenever   a   new   fragment   is   ready.     When    you    receive    an    event,    use
       <a href="../man3alleg5/al_get_audio_stream_fragment.3alleg5.html">al_get_audio_stream_fragment</a>(3alleg5)  to  obtain  a  pointer to the fragment to be filled.  The size and
       format are determined by the parameters passed to <a href="../man3alleg5/al_create_audio_stream.3alleg5.html">al_create_audio_stream</a>(3alleg5).

       If you’re late with supplying new data, the stream will be silent until new data is provided.   You  must
       call <a href="../man3alleg5/al_drain_audio_stream.3alleg5.html">al_drain_audio_stream</a>(3alleg5) when you’re finished with supplying data to the stream.

       It    is    often    a    good    idea    to    prefill    the    audio    stream    with   data   before
       <a href="../man3alleg5/ALLEGRO_EVENT_AUDIO_STREAM_FRAGMENT.3alleg5.html">ALLEGRO_EVENT_AUDIO_STREAM_FRAGMENT</a>(3alleg5) events arrive.  Here is a snippet that will fill the  stream
       buffers with silence:

              ALLEGRO_AUDIO_STREAM *stream = al_create_audio_stream(num_buffers,
                 samples_per_buffer, freq, depth, channel_conf);
              void *buf;
              while ((buf = al_get_audio_stream_fragment(stream))) {
                 al_fill_silence(buf, samples_per_buffer, depth, channel_conf);
                 al_set_audio_stream_fragment(stream, buf);
              }

       If  the  stream is created by <a href="../man3alleg5/al_load_audio_stream.3alleg5.html">al_load_audio_stream</a>(3alleg5) or <a href="../man3alleg5/al_play_audio_stream.3alleg5.html">al_play_audio_stream</a>(3alleg5) then it will
       also generate an <a href="../man3alleg5/ALLEGRO_EVENT_AUDIO_STREAM_FINISHED.3alleg5.html">ALLEGRO_EVENT_AUDIO_STREAM_FINISHED</a>(3alleg5) event if it reaches the end of the file and
       is not set to loop.

Allegro reference manual                                                           <u><a href="../man3alleg5/ALLEGRO_AUDIO_STREAM.3alleg5.html">ALLEGRO_AUDIO_STREAM</a></u>(3alleg5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>