<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>oo::singleton - a class that does only allows one instance of itself</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl9.0-doc">tcl9.0-doc_9.0.1+dfsg-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       oo::singleton - a class that does only allows one instance of itself

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require tcl::oo

       <b>oo::singleton</b> <u>method</u> ?<u>arg</u> <u>...</u>?

</pre><h4><b>CLASS</b> <b>HIERARCHY</b></h4><pre>
       <b>oo::object</b>
          → <b>oo::class</b>
              → <b>oo::singleton</b>
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Singleton classes are classes that only permit at most one instance of themselves to exist. They unexport
       the  <b>create</b> and <b>createWithNamespace</b> methods entirely, and override the <b>new</b> method so that it only makes a
       new instance if there is no existing instance.  It is not recommended to inherit from a singleton  class;
       singleton-ness  is  <u>not</u>  inherited.  It  is not recommended that a singleton class's constructor take any
       arguments.

       Instances have their <b>destroy</b> method overridden with a method that always returns an  error  in  order  to
       discourage  destruction  of  the object, but destruction remains possible if strictly necessary (e.g., by
       destroying the class or using <b>rename</b> to delete it). They  also  have  a  (non-exported)  <b>&lt;cloned&gt;</b>  method
       defined  on them that similarly always returns errors to make attempts to use the singleton instance with
       <b>oo::copy</b> fail.

   <b>CONSTRUCTOR</b>
       The <b>oo::singleton</b> class does not define an explicit constructor; this means that it  is  effectively  the
       same as the constructor of the <b>oo::class</b> class.

   <b>DESTRUCTOR</b>
       The <b>oo::singleton</b> class does not define an explicit destructor; destroying an instance of it is just like
       destroying an ordinary class (and will destroy the singleton object).

   <b>EXPORTED</b> <b>METHODS</b>
       <u>cls</u> <b>new</b> ?<u>arg</u> <u>...</u>?
              This  returns  the  current  instance  of  the  singleton  class, if one exists, and creates a new
              instance only if there is no existing instance. The additional arguments, <u>arg</u> <u>...</u>, are  only  used
              if  a  new  instance  is actually manufactured; that construction is via the <b>oo::class</b> class's <b>new</b>
              method.

              This is an override of the behaviour of a superclass's method with an identical call signature  to
              the superclass's implementation.

   <b>NON-EXPORTED</b> <b>METHODS</b>
       The  <b>oo::singleton</b>  class  explicitly  states that <b>create</b> and <b>createWithNamespace</b> are unexported; callers
       should not assume that they have control over either the name or the  namespace  name  of  the  singleton
       instance.

</pre><h4><b>EXAMPLE</b></h4><pre>
       This  example  demonstrates  that  there  is only one instance even though the <b>new</b> method is called three
       times.

              <b>oo::singleton</b> create Highlander {
                  method say {} {
                      puts "there can be only one"
                  }
              }

              set h1 [Highlander new]
              set h2 [Highlander new]
              if {$h1 eq $h2} {
                  puts "equal objects"    <u>→</u> <u>prints</u> <u>"equal</u> <u>objects"</u>
              }
              set h3 [Highlander new]
              if {$h1 eq $h3} {
                  puts "equal objects"    <u>→</u> <u>prints</u> <u>"equal</u> <u>objects"</u>
              }

       Note that the name of the instance of the singleton is not guaranteed to be anything in particular.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       oo::<a href="../man3tcl/class.3tcl.html">class</a>(3tcl)

</pre><h4><b>KEYWORDS</b></h4><pre>
       class, metaclass, object, single instance

TclOO                                                  0.3                                       <u><a href="../man3tcl/singleton.3tcl.html">singleton</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>