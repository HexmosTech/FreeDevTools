<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eval::Closure - safely and cleanly create closures via string eval</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libeval-closure-perl">libeval-closure-perl_0.14-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Eval::Closure - safely and cleanly create closures via string eval

</pre><h4><b>VERSION</b></h4><pre>
       version 0.14

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Eval::Closure;

         my $code = eval_closure(
             source      =&gt; 'sub { $foo++ }',
             environment =&gt; {
                 '$foo' =&gt; \1,
             },
         );

         warn $code-&gt;(); # 1
         warn $code-&gt;(); # 2

         my $code2 = eval_closure(
             source =&gt; 'sub { $code-&gt;() }',
         ); # dies, $code isn't in scope

</pre><h4><b>DESCRIPTION</b></h4><pre>
       String eval is often used for dynamic code generation. For instance, "Moose" uses it heavily, to generate
       inlined versions of accessors and constructors, which speeds code up at runtime by a significant amount.
       String eval is not without its issues however - it's difficult to control the scope it's used in (which
       determines which variables are in scope inside the eval), and it's easy to miss compilation errors, since
       eval catches them and sticks them in $@ instead.

       This module attempts to solve these problems. It provides an "eval_closure" function, which evals a
       string in a clean environment, other than a fixed list of specified variables. Compilation errors are
       rethrown automatically.

</pre><h4><b>FUNCTIONS</b></h4><pre>
   <b>eval_closure(%args)</b>
       This function provides the main functionality of this module. It is exported by default. It takes a hash
       of parameters, with these keys being valid:

       source
           The  string  to  be  evaled.  It should end by returning a code reference. It can access any variable
           declared in the "environment" parameter (and only those variables). It can be either a string, or  an
           arrayref of lines (which will be joined with newlines to produce the string).

       environment
           The  environment  to provide to the eval. This should be a hashref, mapping variable names (including
           sigils) to references of the appropriate type. For instance, a valid value for environment  would  be
           "{  '@foo' =&gt; [] }" (which would allow the generated function to use an array named @foo). Generally,
           this is used to allow the generated function to access externally defined  variables  (so  you  would
           pass in a reference to a variable that already exists).

           In  perl  5.18 and greater, the environment hash can contain variables with a sigil of "&amp;". This will
           create a lexical sub in the evaluated code (see "The 'lexical_subs' feature" in feature). Using a "&amp;"
           sigil on perl versions before lexical subs were available will throw an error.

       alias
           If set to true, the coderef returned closes over the variables referenced in the environment hashref.
           (This feature requires Devel::LexAlias.) If set to false, the coderef closes over a <u>shallow</u>  <u>copy</u>  of
           the variables.

           If  this  argument  is  omitted,  Eval::Closure  will currently assume false, but this assumption may
           change in a future version.

       description
           This lets you provide a bit more information in  backtraces.  Normally,  when  a  function  that  was
           generated  through string eval is called, that stack frame will show up as "(eval n)", where 'n' is a
           sequential identifier for every string eval that has happened  so  far  in  the  program.  Passing  a
           "description"  parameter  lets  you  override  that  to  something  more  useful (for instance, Moose
           overrides the description for accessors to something like "accessor foo at MyClass.pm, line 123").

       line
           This lets you override the  particular  line  number  that  appears  in  backtraces,  much  like  the
           "description" option. The default is 1.

       terse_error
           Normally, this function appends the source code that failed to compile, and prepends some explanatory
           text. Setting this option to true suppresses that behavior so you get only the compilation error that
           Perl actually reported.

</pre><h4><b>BUGS</b></h4><pre>
       No known bugs.

       Please report any bugs to GitHub Issues at &lt;https://github.com/doy/eval-closure/issues&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       •   Class::MOP::Method::Accessor

           This module is a factoring out of code that used to live here

</pre><h4><b>SUPPORT</b></h4><pre>
       You can find this documentation for this module with the perldoc command.

           perldoc Eval::Closure

       You can also look for information at:

       •   MetaCPAN

           &lt;https://metacpan.org/release/Eval-Closure&gt;

       •   Github

           &lt;https://github.com/doy/eval-closure&gt;

       •   RT: CPAN's request tracker

           &lt;<a href="http://rt.cpan.org/NoAuth/Bugs.html">http://rt.cpan.org/NoAuth/Bugs.html</a>?Dist=Eval-Closure&gt;

       •   CPAN Ratings

           &lt;<a href="http://cpanratings.perl.org/d/Eval-Closure">http://cpanratings.perl.org/d/Eval-Closure</a>&gt;

</pre><h4><b>NOTES</b></h4><pre>
       Based on code from Class::MOP::Method::Accessor, by Stevan Little and the Moose Cabal.

</pre><h4><b>AUTHOR</b></h4><pre>
       Jesse Luehrs &lt;<a href="mailto:doy@tozt.net">doy@tozt.net</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2016 by Jesse Luehrs.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.36.0                                       2022-11-19                                 <u>Eval::<a href="../man3pm/Closure.3pm.html">Closure</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>