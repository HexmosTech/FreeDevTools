<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tcl_DetachPids, Tcl_ReapDetachedProcs, Tcl_WaitPid - manage child processes in background</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl9.0-doc">tcl9.0-doc_9.0.1+dfsg-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tcl_DetachPids, Tcl_ReapDetachedProcs, Tcl_WaitPid - manage child processes in background

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;tcl.h&gt;</b>

       <b>Tcl_DetachPids</b>(<u>numPids,</u> <u>pidPtr</u>)

       <b>Tcl_ReapDetachedProcs</b>()

       Tcl_Pid
       <b>Tcl_WaitPid</b>(<u>pid,</u> <u>statusPtr,</u> <u>options</u>)

</pre><h4><b>ARGUMENTS</b></h4><pre>
       Tcl_Size <u>numPids</u> (in)            Number of process ids contained in the array pointed to by <u>pidPtr</u>.

       int <u>*pidPtr</u> (in)                 Address of array containing <u>numPids</u> process ids.

       Tcl_Pid <u>pid</u> (in)                 The id of the process (pipe) to wait for.

       int <u>*statusPtr</u> (out)             The result of waiting on a process (pipe). Either 0 or ECHILD.

       int <u>options</u> (in)                 The  options  controlling  the  wait. WNOHANG specifies not to wait when
                                        checking the process.
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Tcl_DetachPids</b> and <b>Tcl_ReapDetachedProcs</b> provide a mechanism for managing subprocesses that  are  running
       in  background.   These  procedures are needed because the parent of a process must eventually invoke the
       <b>waitpid</b> kernel call (or one of a few other similar kernel calls) to wait for the child  to  exit.   Until
       the  parent  waits  for  the child, the child's state cannot be completely reclaimed by the system.  If a
       parent continually creates children and doesn't wait on them, the system's process table will  eventually
       overflow, even if all the children have exited.

       <b>Tcl_DetachPids</b>  may  be  called to ask Tcl to take responsibility for one or more processes whose process
       ids are contained in the <u>pidPtr</u> array passed as  argument.   The  caller  presumably  has  started  these
       processes running in background and does not want to have to deal with them again.

       <b>Tcl_ReapDetachedProcs</b>  invokes  the  <b>waitpid</b>  kernel call on each of the background processes so that its
       state can be cleaned up if it has exited.  If the process has not exited yet, <b>Tcl_ReapDetachedProcs</b>  does
       not  wait  for  it  to  exit;   it will check again the next time it is invoked.  Tcl automatically calls
       <b>Tcl_ReapDetachedProcs</b> each time the <b>exec</b> command is executed, so in most cases it is  not  necessary  for
       any  code  outside  of  Tcl  to  invoke  <b>Tcl_ReapDetachedProcs</b>.   However,  if you call <b>Tcl_DetachPids</b> in
       situations where the <b>exec</b> command may never get executed, you may wish to call <b>Tcl_ReapDetachedProcs</b> from
       time to time so that background processes can be cleaned up.

       <b>Tcl_WaitPid</b> is a thin wrapper around the facilities provided by the operating system to wait on  the  end
       of  a  spawned  process  and  to  check  a  whether  spawned  process  is  still  running.  It is used by
       <b>Tcl_ReapDetachedProcs</b> and the channel system to portably access the operating system.

</pre><h4><b>KEYWORDS</b></h4><pre>
       background, child, detach, process, wait

Tcl                                                                                         <u><a href="../man3tcl/Tcl_DetachPids.3tcl.html">Tcl_DetachPids</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>