<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bio::Graphics::Glyph::stackedplot - The stackedplot glyph</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbio-graphics-perl">libbio-graphics-perl_2.40-6_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Bio::Graphics::Glyph::stackedplot - The stackedplot glyph

</pre><h4><b>SYNOPSIS</b></h4><pre>
         See L&lt;Bio::Graphics::Panel&gt; and L&lt;Bio::Graphics::Glyph&gt;.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The stackedplot glyph can be used to draw quantitative feature data using a stacked column plot. It
       differs from the xyplot glyph in that the plot applies to a single top level feature, not a group of
       subfeatures. The data to be graphed is derived from an attribute called "data_series."

       The data to be graphed is represented as a list of arrays:

        (
        [1, 2, 8],
        [6, 1, 1],
        [10,8, 0],
        [1, 1, 1],
        )

       Each array is a column in the stacked plot. Its values become the subdivisions of the column. In this
       example, there are four columns, each of which has three subdivisions.

       You can add labels to the columns and change the colors of the subdivisions.

       To assign data to a feature, you can add a "series" tag:

        $snp1    = Bio::SeqFeature::Generic -&gt;new (-start     =&gt; 500,-end=&gt;501,
                                                   -display_name =&gt;'example',
                                                   -tag=&gt; { series =&gt; [
                                                                    [10,20,30],
                                                                    [30,30,0],
                                                                    [5,45,10],
                                                                    [5,45,10],
                                                                    [5,45,10],
                                                                    [50,0,50],
                                                                   ],
                                                            }
                                                      );

       Note that the series tag must consist of an array of arrays.

       If you are using a gff3 representation, you can load a database with data that looks like this:

        chr1 test feature 1 1000 . . . series=10 20 30;series=30 30 0;series=5 45 10...

       If you are using a gff2 representation, you can load a database with data that looks like this:

        chr1 test feature 1 1000 . . . series 10 20 30; series 30 30 0 series 5 45 10...

       Or you can pass a callback to the -series option:

        $panel-&gt;add_track(\@data,
                         -glyph     =&gt; 'stackedplot',
                         -series       =&gt; sub {
                                         my $feature = shift;
                                    return [
                                       [10,20,30],
                                       [30,30,0],
                                       [5,45,10],
                                   ]
                                 }
                        );

   <b>OPTIONS</b>
       The following options are standard among all Glyphs.  See Bio::Graphics::Glyph for a full explanation.

         Option      Description                      Default
         ------      -----------                      -------

         -fgcolor      Foreground color               black

         -outlinecolor Synonym for -fgcolor

         -bgcolor      Background color               turquoise

         -fillcolor    Synonym for -bgcolor

         -linewidth    Line width                     1

         -height       Height of glyph                10

         -font         Glyph font                     gdSmallFont

         -label        Whether to draw a label        0 (false)

         -description  Whether to draw a description  0 (false)

         -hilite       Highlight color                undef (no color)

       In addition, the alignment glyph recognizes all the options of the xyplot glyph, as well as the following
       glyph-specific option:

         Option         Description                  Default
         ------         -----------                  -------

        -fixed_gap     Vertical distance between      8
                       the rectangle that shows
                       the start:end range of
                       the feature and the fixed
                       width stacked plot.

        -series_colors A list giving a series of     red,blue,green,orange,
                       color names for the data      brown,grey,black
                       series (the values inside
                       each stacked column).

        -column_labels A list of labels to print     -none-
                       underneath each column.

        -column_width  The width of each column.     8

        -column_spacing Spacing between each         2
                       column.

        -min_score     Minimum score for the         0.0
                       sum of the members of
                       each data series.

        -max_score     Maximum score for the         1.0
                       sum of the members of each
                       data series.

        -scale_font    Font to use for the scale.    gdTinyFont

        -column_font   Font to use for the column    gdSmallFont
                       labels.

        -draw_scale    Whether to draw a scale to    true
                       right of the columns.

       Note that -min_score and -max_score represent the minimum and maximum SUM of all the values in the data
       series. For example, if your largest column contains the series (10,20,30), then the -max_score is 60.

</pre><h4><b>EXAMPLE</b></h4><pre>
       To understand how this glyph works, try running and modifying the following example:

        #!<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?perl">/usr/bin/perl</a>

        use strict;
        use warnings;

        use Bio::Graphics;
        use Bio::SeqFeature::Generic;

        my $segment  = Bio::Graphics::Feature-&gt;new(-start=&gt;1,-end=&gt;700);

        my $snp1     = Bio::SeqFeature::Generic -&gt;new (-start     =&gt; 500,-end=&gt;590,
                                                       -display_name =&gt;'fred',
                                                       -tag=&gt; { series =&gt; [
                                                                            [10,20,30],
                                                                            [30,30,0],
                                                                            [5,45,10],
                                                                            [5,45,10],
                                                                            [5,45,10],
                                                                            [50,0,50],
                                                                           ],
                                                             },
                                                       -source=&gt;'A test',
                                                       );

        my $snp2     = Bio::SeqFeature::Generic-&gt;new(-start     =&gt; 300,
                                                     -end       =&gt; 301,
                                                     -display_name  =&gt; 'rs12345',
                                                     -tag=&gt; {
                                                            series =&gt; [
                                                                            [30,20,10 ],
                                                                            [80,10,10 ],
                                                                      ],
                                                           },
                                                     -source=&gt;'Another test',
                                                   );

        my $panel = Bio::Graphics::Panel-&gt;new(-segment=&gt;$segment,-width=&gt;800);

        $panel-&gt;add_track($segment,-glyph=&gt;'arrow',-double=&gt;1,-tick=&gt;2);
        $panel-&gt;add_track([$snp1,$snp2],
                          -height    =&gt; 50,
                          -glyph     =&gt; 'stackedplot',
                          -fixed_gap =&gt; 12,
                          -series_colors    =&gt; [qw(red blue lavender)],
                          -column_labels =&gt; [qw(a b c d e f g)],
                          -min_score =&gt; 0,
                          -max_score =&gt; 100,
                          -column_width =&gt; 8,
                          -column_font  =&gt; 'gdMediumBoldFont',
                          -scale_font   =&gt; 'gdTinyFont',
                          -label    =&gt; 1,
                          -description=&gt;1,
                         );
        print $panel-&gt;png;

</pre><h4><b>BUGS</b></h4><pre>
       Please report them.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Bio::Graphics::Panel, Bio::Graphics::Track, Bio::Graphics::Glyph::transcript2,
       Bio::Graphics::Glyph::anchored_arrow, Bio::Graphics::Glyph::arrow, Bio::Graphics::Glyph::box,
       Bio::Graphics::Glyph::primers, Bio::Graphics::Glyph::segments, Bio::Graphics::Glyph::toomany,
       Bio::Graphics::Glyph::transcript,

</pre><h4><b>AUTHOR</b></h4><pre>
       Lincoln Stein &lt;<a href="mailto:lstein@cshl.org">lstein@cshl.org</a>&gt;

       Copyright (c) 2006 Cold Spring Harbor Laboratory

       This library is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.  See DISCLAIMER.txt for disclaimers of warranty.

perl v5.30.0                                       2019-11-25             <u>Bio::Graphics::Glyph::<a href="../man3pm/stackedplot.3pm.html">stackedplot</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>