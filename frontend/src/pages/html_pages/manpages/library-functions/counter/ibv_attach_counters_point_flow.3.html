<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ibv_attach_counters_point_flow - attach individual counter definition to a flow object</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libibverbs-dev">libibverbs-dev_56.1-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>ibv_attach_counters_point_flow</b> - attach individual counter definition to a flow object

</pre><h4><b>SYNOPSIS</b></h4><pre>
              #include &lt;infiniband/verbs.h&gt;

              int ibv_attach_counters_point_flow(struct ibv_counters *counters,
                                                 struct ibv_counter_attach_attr *counter_attach_attr,
                                                 struct ibv_flow *flow);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Attach  counters point are a family of APIs to attach individual counter description definition to a verb
       object at a specific index location.

       Counters object will start collecting values after it is bound to the verb object resource.

       A static attach can be created when NULL is provided instead of the reference to the verbs object  (e.g.:
       in  case  of  flow  providing  NULL instead of <u>flow</u>).  In this case, this counters object will only start
       collecting values after it is bound to the verbs resource, for flow this is when referencing the counters
       handle when creating a flow with <b>ibv_create_flow</b>().

       Once an ibv_counters is bound statically to a verbs resource, no additional attach is  allowed  till  the
       counter object is not bound to any verb object.

       The argument counter_desc specifies which counter value should be collected.  It is defined in verbs.h as
       one of the enum ibv_counter_description options.

       Supported  capabilities  of  specific  counter_desc values per verbs object can be tested by checking the
       return value for success or ENOTSUP errno.

       Attaching a counters handle to multiple objects of the same type will accumulate the values into a single
       index.  e.g.: creating several ibv_flow(s) with the same ibv_counters handle will collect the values from
       all relevant flows into the relevant index location when reading  the  values  from  <b>ibv_read_counters</b>(),
       setting  the  index more than once with different or same counter_desc will aggregate the values from all
       relevant counters into the relevant index location.

       The runtime values of counters can be read from the hardware by calling <b>ibv_read_counters</b>().

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>counters</u>
              Existing counters to attach new counter point on.

       <u>counter_attach_attr</u>
              An ibv_counter_attach_attr struct, as defined in verbs.h.

       <u>flow</u>   Existing flow to attach a new counters point on (in static mode it must be NULL).

   <u><b>counter_attach_attr</b></u> Argument
              struct ibv_counter_attach_attr {
                  enum ibv_counter_description counter_desc;
                  uint32_t index;
                  uint32_t comp_mask;
              };

   <u><b>counter_desc</b></u> Argument
              enum ibv_counter_description {
                  IBV_COUNTER_PACKETS,
                  IBV_COUNTER_BYTES,
              };

       <u>index</u>  Desired location of the specific counter at the counters object.

       <u>comp_mask</u>
              Bitmask specifying what fields in the structure are valid.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>ibv_attach_counters_point_flow</b>() returns 0 on success, or the value of errno on failure (which  indicates
       the failure reason)

</pre><h4><b>ERRORS</b></h4><pre>
       EINVAL invalid argument(s) passed

       ENOTSUP
              <u>counter_desc</u> is not supported on the requested object

       EBUSY  the  counter  object is already bound to a flow, additional attach calls is not allowed (valid for
              static attach only)

       ENOMEM not enough memory

</pre><h4><b>NOTES</b></h4><pre>
       Counter values in each index location are  cleared  upon  creation  when  calling  <b>ibv_create_counters</b>().
       Attaching counters points will only increase these values accordingly.

</pre><h4><b>EXAMPLE</b></h4><pre>
       An example of use of <b>ibv_attach_counters_point_flow</b>() is shown in <b>ibv_read_counters</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>ibv_create_counters</b>, <b>ibv_destroy_counters</b>, <b>ibv_read_counters</b>, <b>ibv_create_flow</b>

</pre><h4><b>AUTHORS</b></h4><pre>
       Raed Salem <a href="mailto:raeds@mellanox.com">raeds@mellanox.com</a>

       Alex Rosenbaum <a href="mailto:alexr@mellanox.com">alexr@mellanox.com</a>

libibverbs                                         2018-04-02                  <u><a href="../man3/ibv_attach_counters_point_flow.3.html">ibv_attach_counters_point_flow</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>