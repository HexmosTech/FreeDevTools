<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_FTP_USE_EPSV - use EPSV for FTP</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_FTP_USE_EPSV - use EPSV for FTP

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_FTP_USE_EPSV, long epsv);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Pass  <u>epsv</u>  as  a  long.  If the value is 1, it tells curl to use the EPSV command when doing passive FTP
       downloads (which it does by default). Using EPSV means that  libcurl  first  attempts  to  use  the  EPSV
       command before using PASV. If you pass zero to this option, it does not use EPSV, only plain PASV.

       The  EPSV command is a slightly newer addition to the FTP protocol than PASV and is the preferred command
       to use since it enables IPv6 to be used. Old FTP servers might not support it, which is why libcurl has a
       fallback mechanism.  Sometimes that fallback is not enough and then this option might come handy.

       If the server is an IPv6 host, this option has no effect.

</pre><h4><b>DEFAULT</b></h4><pre>
       1

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects ftp only

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           CURLcode res;
           curl_easy_setopt(curl, CURLOPT_URL,
                            "<a href="ftp://example.com/old-server/file.txt">ftp://example.com/old-server/file.txt</a>");

           /* let's shut off this modern feature */
           curl_easy_setopt(curl, CURLOPT_FTP_USE_EPSV, 0L);

           res = curl_easy_perform(curl);

           curl_easy_cleanup(curl);
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.9.2

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLOPT_FTPPORT.3.html">CURLOPT_FTPPORT</a></b>(3), <b><a href="../man3/CURLOPT_FTP_USE_EPRT.3.html">CURLOPT_FTP_USE_EPRT</a></b>(3)

libcurl                                            2025-06-16                            <u><a href="../man3/CURLOPT_FTP_USE_EPSV.3.html">CURLOPT_FTP_USE_EPSV</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>