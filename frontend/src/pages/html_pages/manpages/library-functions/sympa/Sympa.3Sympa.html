<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sympa - Future base class of Sympa functional objects</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sympa">sympa_6.2.76~dfsg-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Sympa - Future base class of Sympa functional objects

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module aims to be the base class for functional objects of Sympa: Site, Robot, Family and List.

   <b>Functions</b>
       <u>Finding</u> <u>config</u> <u>files</u> <u>and</u> <u>templates</u>

       search_fullpath ( $that, $name, [ opt =&gt; val, ...] )
               # To get file name for global site
               $file = Sympa::search_fullpath('*', $name);
               # To get file name for a robot
               $file = Sympa::search_fullpath($robot_id, $name);
               # To get file name for a family
               $file = Sympa::search_fullpath($family, $name);
               # To get file name for a list
               $file = Sympa::search_fullpath($list, $name);

           Look for a file in the list &gt; robot &gt; site &gt; default locations.

           Possible values for options:
               order     =&gt; 'all'
               subdir    =&gt; directory ending each path
               lang      =&gt; language
               lang_only =&gt; if paths without lang subdirectory would be omitted

           Returns full path of target file "<u>root</u>/<u>subdir</u>/<u>lang</u>/<u>name</u>" or "<u>root</u>/<u>subdir</u>/<u>name</u>".  <u>root</u> is the location
           determined  by  target  object  $that.   <u>subdir</u> and <u>lang</u> are optional.  If "lang_only" option is set,
           paths without <u>lang</u> subdirectory is omitted.

       get_search_path ( $that, [ opt =&gt; val, ... ] )
               # To make include path for global site
               @path = @{Sympa::get_search_path('*')};
               # To make include path for a robot
               @path = @{Sympa::get_search_path($robot_id)};
               # To make include path for a family
               @path = @{Sympa::get_search_path($family)};
               # To make include path for a list
               @path = @{Sympa::get_search_path($list)};

           make an array of include path for tt2 parsing

           IN :
                 -$that(+) : ref(Sympa::List) | ref(Sympa::Family) | Robot | "*"
                 -%options : options

           Possible values for options:
               subdir    =&gt; directory ending each path
               lang      =&gt; language
               lang_only =&gt; if paths without lang subdirectory would be omitted

           OUT : ref(ARRAY) of tt2 include path

       <u>Sending</u> <u>Notifications</u>

       send_dsn ( $that, $message, [ { key =&gt; val, ... }, [ $status, [ $diag ] ] ] )
               # To send site-wide DSN
               Sympa::send_dsn('*', $message, {'recipient' =&gt; $rcpt},
                   '5.1.2', 'Unknown robot');
               # To send DSN related to a robot
               Sympa::send_dsn($robot, $message, {'listname' =&gt; $name},
                   '5.1.1', 'Unknown list');
               # To send DSN specific to a list
               Sympa::send_dsn($list, $message, {}, '2.1.5', 'Success');

           Sends a delivery status notification (DSN)  to  SENDER  by  parsing  delivery_status_notification.tt2
           template.

       send_file ( $that, $tpl, $who, [ $context, [ options... ] ] )
               # To send site-global (not relative to a list or a robot)
               # message
               Sympa::send_file('*', $template, $who, ...);
               # To send global (not relative to a list, but relative to a
               # robot) message
               Sympa::send_file($robot, $template, $who, ...);
               # To send message relative to a list
               Sympa::send_file($list, $template, $who, ...);

           Send  a  message  to user(s).  Find the tt2 file according to $tpl, set up $data for the next parsing
           (with $context and configuration) Message is signed if the list has a key and a certificate

           Note: <b>List::send_global_file()</b> was deprecated.

       send_notify_to_listmaster ( $that, $operation, $data )
               # To send notify to super listmaster(s)
               Sympa::send_notify_to_listmaster('*', 'css_updated', ...);
               # To send notify to normal (per-robot) listmaster(s)
               Sympa::send_notify_to_listmaster($robot, 'web_tt2_error', ...);
               # To send notify to normal listmaster(s) of robot the list belongs to.
               Sympa::send_notify_to_listmaster($list, 'request_list_creation', ...);

           Sends a notice to (super or normal) listmaster by parsing listmaster_notification.tt2 template.

           Parameters:

           $self
               Sympa::List, Robot or Site.

           $operation
               Notification type.

           $param
               Hashref or arrayref.  Values for template parsing.

           Returns:

           1 or "undef".

       send_notify_to_user ( $that, $operation, $user, $param )
           Send a notice to a user  (sender,  subscriber  or  another  user)  by  parsing  user_notification.tt2
           template.

           Parameters:

           $that
               Sympa::List, Robot or Site.

           $operation
               Notification type.

           $user
               E-mail of notified user.

           $param
               Hashref or arrayref.  Values for template parsing.

           Returns:

           1 or "undef".

       <u>Internationalization</u>

       best_language ( LANG, ... )
               # To get site-wide best language.
               $lang = Sympa::best_language('*', 'de', 'en-US;q=0.9');
               # To get robot-wide best language.
               $lang = Sympa::best_language($robot, 'de', 'en-US;q=0.9');
               # To get list-specific best language.
               $lang = Sympa::best_language($list, 'de', 'en-US;q=0.9');

           Chooses  best  language  under the context of List, Robot or Site.  Arguments are language codes (see
           Language) or ones with quality value.  If no arguments are given, the value of "HTTP_ACCEPT_LANGUAGE"
           environment variable will be used.

           Returns language tag or, if negotiation failed, lang of object.

       get_supported_languages ( $that )
           <u>Function</u>.  Gets supported languages, canonicalized.  In array context,  returns  array  of  supported
           languages.  In scalar context, returns arrayref to them.

       <u>Addresses</u> <u>and</u> <u>users</u>

       These are accessors derived from configuration parameters.

       get_address ( $that, [ $type ] )
               # Get address bound for super listmaster(s).
               Sympa::get_address('*', 'listmaster');     # &lt;listmaster@DEFAULT_HOST&gt;
               # Get address for command robot and robot listmaster(s).
               Sympa::get_address($robot, 'sympa');       # &lt;sympa@HOST&gt;
               Sympa::get_address($robot, 'listmaster');  # &lt;listmaster@HOST&gt;
               # Get address for command robot and robot listmaster(s).
               Sympa::get_address($family, 'sympa');      # &lt;sympa@HOST&gt;
               Sympa::get_address($family, 'listmaster'); # listmaster@HOST&gt;
               # Get address bound for the list and its owner(s) etc.
               Sympa::get_address($list);                 # &lt;NAME@HOST&gt;
               Sympa::get_address($list, 'owner');        # &lt;NAME-request@HOST&gt;
               Sympa::get_address($list, 'editor');       # &lt;NAME-editor@HOST&gt;
               Sympa::get_address($list, 'return_path');  # &lt;NAME-owner@HOST&gt;

           Site or robot: Returns the site or robot email address of type $type: email command address (default,
           &lt;sympa&gt; address), "sympaowner" (&lt;sympa-request&gt; address) or "listmaster".

           List:   Returns   the   list  email  address  of  type  $type:  posting  address  (default),  "owner"
           (&lt;LIST-request&gt; address), "editor", non-VERP "return_path"  (&lt;LIST-owner&gt;  address),  "subscribe"  or
           "unsubscribe".

           Note:

           •   %Conf::Conf or <b>Conf::get_robot_conf()</b> may return &lt;sympa&gt; and &lt;sympa-request&gt; addresses by "sympa"
               and "request" arguments, respectively.  They are obsoleted.  Use this function instead.

           •   "sympaowner"  with  robot context was introduced on 6.2.57b.2.  "owner" and "request" may also be
               used for convenience.

       get_listmasters_email ( $that )
               # To get addresses of super-listmasters.
               @addrs = Sympa::get_listmasters_email('*');
               # To get addresses of normal listmasters of a robot.
               @addrs = Sympa::get_listmasters_email($robot);
               # To get addresses of normal listmasters of the robot of a family.
               @addrs = Sympa::get_listmasters_email($family);
               # To get addresses of normal listmasters of the robot of a list.
               @addrs = Sympa::get_listmasters_email($list);

           Gets valid email addresses of listmasters. In array context, returns array of  addresses.  In  scalar
           context, returns arrayref to them.

       get_url ( $that, $action, [ nomenu =&gt; 1 ], [ paths =&gt; \@paths ], [ authority =&gt; $mode ], [ options... ] )
           Returns URL for web interface.

           Parameters:

           $action
               Name of action.  This is inserted into URL intact.

           authority =&gt; $mode
               'default'  respects  "wwsympa_url"  parameter.   'local' is similar but may replace host name and
               script path.  'omit' omits scheme and authority, i.e. returns relative URI.

               Note that 'local' mode works correctly only under CGI environment.  See also a note below.

           nomenu =&gt; 1
               Adds "nomenu" modifier.

           paths =&gt; \@paths
               Additional path components.  Note that they are percent-encoded as necessity.

           options...
               See "weburl" in Sympa::Tools::Text.

           Returns:

           A string.

           Note: If $mode is 'local', result is that Sympa server recognizes locally.  In other cases, result is
           the URI that is used by end users to access to web interface.   When,  for  example,  the  server  is
           placed  behind  a  reverse-proxy,  "Location:"  field  in HTTP response to cause redirection would be
           better to contain 'local' URI.

       is_listmaster ( $that, $who )
           Is the user listmaster?

       unique_message_id ( $that )
           Generates a unique message ID enclosed by "&lt;" and "&gt;", then returns it.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Sympa::Site (not yet available), Sympa::Robot (not yet available), Sympa::Family, Sympa::List.

6.2.76                                             2025-02-12                                      <u><a href="../man3Sympa/Sympa.3Sympa.html">Sympa</a></u>(3Sympa)
</pre>
 </div>
</div></section>
</div>
</body>
</html>