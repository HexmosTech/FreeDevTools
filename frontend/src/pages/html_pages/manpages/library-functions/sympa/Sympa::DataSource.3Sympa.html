<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sympa::DataSource - Base class of Sympa data source subclasses</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sympa">sympa_6.2.76~dfsg-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Sympa::DataSource - Base class of Sympa data source subclasses

</pre><h4><b>SYNOPSIS</b></h4><pre>
         # To implemnt Sympa::DataSource::Foo:

         package Sympa::DataSource::Foo;

         use base qw(Sympa::DataSource);

         sub _open {
             my $self = shift;
             ...
             return $handle;
         }

         sub _next {
             my $self = shift;
             ...
             return [$email, $gecos];
         }

         1;

         # To use Sympa::DataSource::Foo:

         usr Sympa::DataSource;

         $ds = Sympa::DataSource-&gt;new('Foo', 'member', context =&gt; $list,
             key =&gt; val, ...);
         if ($ds and $ds-&gt;open) {
             while (my $member = $ds-&gt;next) {
                 ...
             }
             $ds-&gt;close;
         }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       TBD.

   <b>Methods</b>
       new ( $type, $role, context =&gt; $that, [ <u>key</u> =&gt; <u>val</u>, ... ] )
           <u>Constructor</u>.  Creates a new instance of Sympa::DataSource.

           Parameters:

           $type
               Type of data source.  This corresponds to implemented subclasses.

           $role
               Role of data source.  'member', 'owner', 'editor' or 'custom_attribute'.

           context =&gt; $that
               Context. Sympa::List instance and so on.

           <u>key</u> =&gt; <u>val</u>, ...
               Optional or mandatory parameters.

           Returns:

           A new instance, or "undef" on failure.

       close ( )
           <u>Instance</u> <u>method</u>.  Closes backend and does cleanup.

       is_external ( )
           <u>Instance</u>  <u>method</u>.   Returns  true value if the data source is external data source.  "External" means
           that it is not "include_sympa_list" (the instance of Sympa::DataSource::List) or  not  including  any
           lists on local domain.

           Known bug:

           â€¢   If  a  data  source  is  a list included from the other external data source(s), this method will
               treat it as non-external so that some requests not allowed for external  data  sources,  such  as
               "move_user" request, on corresponding users may be allowed.

       next ( )
           <u>Instance</u> <u>method</u>.  Returns the next entry in data source.  Data source should have been opened.

       open ( )
           <u>Instance</u> <u>method</u>.  Opens backend and returns handle.

       get_id ( )
           <u>Instance</u> <u>method</u>.  Gets unique ID of the instance.

       get_short_id ( )
           <u>Instance</u> <u>method</u>.  Gets data source ID, a hexadecimal string with 8 columns.

       name ( )
           <u>Instance</u> <u>method</u>.  Gets human-readable name of data source.  Typically it is value of {name} attribute
           or result of <b>get_short_id()</b>.

       role ( )
           <u>Instance</u> <u>method</u>.  Returns $role set by <b>new()</b>.

       __dsh ( )
           <u>Instance</u>  <u>method</u>,  <u>protected</u>.   Returns native query handle which _open() returned.  This may be used
           only at inside of each subclass.

   <b>Methods</b> <b>subclass</b> <b>should</b> <b>implement</b>
       required_modules
           <u>Class</u> <u>or</u> <u>instance</u> <u>method</u>.  TBD.

       _open ( [ options... ] )
           <u>Instance</u> <u>mthod</u>.  TBD.

       _next ( [ options... ] )
           <u>Instance</u> <u>method</u>, <u>mandatory</u>.  TBD.

       _next_ca ( [ options... ] )
           <u>Instance</u> <u>method</u>, <u>mandatory</u> if the data source supports custom attribute.  TBD.

       _close (  )
           <u>Instance</u> <u>method</u>.  TBD.

   <b>Attributes</b>
       {context}
           Context of the data source set by <b>new()</b>.

       Others
           The other options set by <b>new()</b> may be accessed as attributes.

</pre><h4><b>HISTORY</b></h4><pre>
       Sympa::DataSource appeared on Sympa 6.2.45b.  See also "HISTORY" in Sympa::Request::Handler::include.

6.2.76                                             2025-02-12                          <u>Sympa::<a href="../man3Sympa/DataSource.3Sympa.html">DataSource</a></u>(3Sympa)
</pre>
 </div>
</div></section>
</div>
</body>
</html>