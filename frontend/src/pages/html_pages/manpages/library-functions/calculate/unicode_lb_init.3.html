<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>unicode_lb_init, unicode_lb_set_opts, unicode_lb_next, unicode_lb_next_cnt, unicode_lb_end,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/libcourier-unicode-dev">libcourier-unicode-dev_2.3.1+really2.1.2-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       unicode_lb_init, unicode_lb_set_opts, unicode_lb_next, unicode_lb_next_cnt, unicode_lb_end,
       unicode_lbc_init, unicode_lbc_set_opts, unicode_lbc_next, unicode_lbc_next_cnt, unicode_lbc_end -
       calculate mandatory or allowed line breaks

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;courier-unicode.h&gt;</b>

       <b>unicode_lb_info_t</b> <b>unicode_lb_init(int</b> <b>(*</b><u>cb_func</u><b>)(int,</b> <b>void</b> <b>*),</b> <b>void</b> <b>*</b><u>cb_arg</u><b>);</b>

       <b>void</b> <b>unicode_lb_set_opts(unicode_lb_info_t</b> <u>lb</u><b>,</b> <b>int</b> <u>opts</u><b>);</b>

       <b>int</b> <b>unicode_lb_next(unicode_lb_info_t</b> <u>lb</u><b>,</b> <b>char32_t</b> <u>c</u><b>);</b>

       <b>int</b> <b>unicode_lb_next_cnt(unicode_lb_info_t</b> <u>lb</u><b>,</b> <b>const</b> <b>char32_t</b> <b>*</b><u>cptr</u><b>,</b> <b>size_t</b> <u>cnt</u><b>);</b>

       <b>int</b> <b>unicode_lb_end(unicode_lb_info_t</b> <u>lb</u><b>);</b>

       <b>unicode_lbc_info_t</b> <b>unicode_lbc_init(</b> <b>int</b> <b>(*</b><u>cb_func</u><b>)(int,</b> <b>char32_t,</b> <b>void</b> <b>*),</b> <b>void</b> <b>*</b><u>cb_arg</u><b>);</b>

       <b>void</b> <b>unicode_lbc_set_opts(unicode_lbc_info_t</b> <u>lb</u><b>,</b> <b>int</b> <u>opts</u><b>);</b>

       <b>int</b> <b>unicode_lbc_next(unicode_lb_info_t</b> <u>lb</u><b>,</b> <b>char32_t</b> <u>c</u><b>);</b>

       <b>int</b> <b>unicode_lbc_next_cnt(unicode_lb_info_t</b> <u>lb</u><b>,</b> <b>const</b> <b>char32_t</b> <b>*</b><u>cptr</u><b>,</b> <b>size_t</b> <u>cnt</u><b>);</b>

       <b>int</b> <b>unicode_lbc_end(unicode_lb_info_t</b> <u>lb</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These functions implement the unicode line breaking algorithm. Invoke <b>unicode_lb_init</b>() to initialize the
       line breaking algorithm. The first parameter is a callback function. The second parameter is an opaque
       pointer. The callback function gets invoked with two parameters. The first parameter is one of three
       values: UNICODE_LB_MANDATORY, UNICODE_LB_NONE, or UNICODE_LB_ALLOWED, as described below. The second
       parameter is the opaque pointer that was passed to <b>unicode_lb_init</b>(); the opaque pointer is not subject
       to any further interpretation by these functions.

       <b>unicode_lb_init</b>() returns an opaque handle. Repeated invocations of <b>unicode_lb_next</b>(), passing the handle
       and one unicode character at a time, defines a sequence of unicode characters over which the line
       breaking algorithm calculation takes place.  <b>unicode_lb_next_cnt</b>() is a shortcut for invoking
       <b>unicode_lb_next</b>() repeatedly over an array cptr containing cnt unicode characters.

       <b>unicode_lb_end</b>() denotes the end of the unicode character sequence. After the call to <b>unicode_lb_end</b>()
       the line breaking unicode_lb_info_t handle is no longer valid.

       Between the call to <b>unicode_lb_init</b>() and <b>unicode_lb_end</b>(), the callback function gets invoked exactly
       once for each unicode character given to <b>unicode_lb_next</b>() or <b>unicode_lb_next_cnt</b>(). Usually each call to
       <b>unicode_lb_next</b>() results in the callback function getting invoked immediately, but it does not have to
       be. It's possible that a call to <b>unicode_lb_next</b>() returns without invoking the callback function, and
       some subsequent call to <b>unicode_lb_next</b>() (or <b>unicode_lb_end</b>()) invokes the callback function more than
       once, to catch up. The contract is that before <b>unicode_lb_end</b>() returns, the callback function gets
       invoked the exact number of times as the number of characters in the unicode sequence defined by the
       intervening calls to <b>unicode_lb_next</b>() and <b>unicode_lb_next_cnt</b>(), unless an error occurs.

       Each call to the callback function reports the calculated line breaking status of the corresponding
       character in the unicode character sequence:

       UNICODE_LB_MANDATORY
           A line break is MANDATORY <u>before</u> the corresponding character.

       UNICODE_LB_NONE
           A line break is PROHIBITED <u>before</u> the corresponding character.

       UNICODE_LB_ALLOWED
           A line break is OPTIONAL <u>before</u> the corresponding character.

       The callback function should return 0. A non-zero value indicates to the line breaking algorithm that an
       error has occurred.  <b>unicode_lb_next</b>() and <b>unicode_lb_next_cnt</b>() return zero either if they never invoked
       the callback function, or if each call to the callback function returned zero. A non zero return from the
       callback function results in <b>unicode_lb_next</b>() and <b>unicode_lb_next_cnt</b>() immediately returning the same
       value.

       <b>unicode_lb_end</b>() must be invoked to destroy the line breaking handle even if <b>unicode_lb_next</b>() and
       <b>unicode_lb_next_cnt</b>() returned an error indication. It's also possible that, under normal circumstances,
       <b>unicode_lb_end</b>() invokes the callback function one or more times. The return value from <b>unicode_lb_end</b>()
       has the same meaning as from <b>unicode_lb_next</b>() and <b>unicode_lb_next_cnt</b>(); however in all cases after
       <b>unicode_lb_end</b>() returns the line breaking handle is no longer valid.

   <b>Alternative</b> <b>callback</b> <b>function</b>
       <b>unicode_lbc_init</b>(), <b>unicode_lbc_next</b>(), <b>unicode_lbc_next_cnt</b>(), <b>unicode_lbc_end</b>() are alternative
       functions that implement the same algorithm. The only difference is that the callback function receives
       an extra parameter, the unicode character value to which the line breaking status applies to, passed
       through from the input unicode character sequence.

   <b>Options</b>
       <b>unicode_lb_set_opts</b>() and <b>unicode_lbc_set_opts</b>() enable non-default options for the line breaking
       algorithm. These functions must be called immediately after <b>unicode_lb_init</b>() or <b>unicode_lbc_init</b>(), and
       before any other function.  <u>opts</u> is a bitmask that can contain the following values:

       UNICODE_LB_OPT_PRBREAK
           Enables a modified LB24 rule. This prevents plus signs, as in “C++” from breaking. This flag adds the
           following rules to the LB24 rule:

                              PR x PR

                              AL x PR

                                 ID x PR

       UNICODE_LB_OPT_SYBREAK
           Tailored breaking rules for the “/” character. This prevents breaking after the “/” character (think
           URLs); including an exception to the “x SY” rule in LB13. This flag adds the following rules to the
           LB24 rule:

                              SY x EX

                              SY x AL

                              SY x ID

                                 SP ÷ SY, which takes precedence over "x SY".

       UNICODE_LB_OPT_DASHWJ
           This flag reclassifies U+2013 and U+2014 as class WJ, prohibiting breaks before and after the m-dash
           and the n-dash unicode characters.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/courier-unicode.7.html">courier-unicode</a></b>(7), <b>unicode::<a href="../man3/linebreak.3.html">linebreak</a></b>(3), <b>TR-14</b>[1]

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>Sam</b> <b>Varshavchik</b>
           Author

</pre><h4><b>NOTES</b></h4><pre>
        1. TR-14
           <a href="http://www.unicode.org/reports/tr14/tr14-35.html">http://www.unicode.org/reports/tr14/tr14-35.html</a>

Courier Unicode Library                            11/25/2020                              <u><a href="../man3/UNICODE_LINE_BREAK.3.html">UNICODE_LINE_BREAK</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>