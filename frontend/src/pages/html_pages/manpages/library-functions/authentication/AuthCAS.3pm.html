<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AuthCAS - Client library for JA-SIG CAS 2.0 authentication server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libauthcas-perl">libauthcas-perl_1.7-1.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       AuthCAS - Client library for JA-SIG CAS 2.0 authentication server

</pre><h4><b>VERSION</b></h4><pre>
       Version 1.7

</pre><h4><b>DESCRIPTION</b></h4><pre>
       AuthCAS aims at providing a Perl API to JA-SIG Central Authentication System (CAS).  Only a basic Perl
       library is provided with CAS whereas AuthCAS is a full object-oriented library.

</pre><h4><b>PREREQUISITES</b></h4><pre>
       This script requires IO::Socket::SSL and LWP::UserAgent

</pre><h4><b>SYNOPSIS</b></h4><pre>
         A simple example with a direct CAS authentication

         use AuthCAS;
         my $cas = new AuthCAS(casUrl =&gt; 'https://cas.myserver,
                           CAFile =&gt; '/etc/httpd/conf/ssl.crt/ca-bundle.crt',
                           );

         my $login_url = $cas-&gt;getServerLoginURL('<a href="http://myserver/app.cgi">http://myserver/app.cgi</a>');

         ## The user should be redirected to the $login_url
         ## When coming back from the CAS server a ticket is provided in the QUERY_STRING

         ## $ST should contain the receaved Service Ticket
         my $user = $cas-&gt;validateST('<a href="http://myserver/app.cgi">http://myserver/app.cgi</a>', $ST);

         printf "User authenticated as %s\n", $user;

         In the following example a proxy is requesting a Proxy Ticket for the target application

         $cas-&gt;proxyMode(pgtFile =&gt; '/tmp/pgt.txt',
                         pgtCallbackUrl =&gt; 'https://myserver/proxy.cgi?callback=1
                         );

         ## Same as before but the URL is the proxy URL
         my $login_url = $cas-&gt;getServerLoginURL('<a href="http://myserver/proxy.cgi">http://myserver/proxy.cgi</a>');

         ## Like in the previous example we should receave a $ST

         my $user = $cas-&gt;validateST('<a href="http://myserver/proxy.cgi">http://myserver/proxy.cgi</a>', $ST);

         ## Process errors
         printf STDERR "Error: %s\n", &amp;AuthCAS::get_errors() unless (defined $user);

         ## Now we request a Proxy Ticket for the target application
         my $PT = $cas-&gt;retrievePT('<a href="http://myserver/app.cgi">http://myserver/app.cgi</a>');

         ## This piece of code is executed by the target application
         ## It received a Proxy Ticket from the proxy
         my ($user, @proxies) = $cas-&gt;validatePT('<a href="http://myserver/app.cgi">http://myserver/app.cgi</a>', $PT);

         printf "User authenticated as %s via %s proxies\n", $user, join(',',@proxies);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Jasig CAS is Yale University's web authentication system, heavily inspired by Kerberos.  Release 2.0 of
       CAS provides "proxied credential" feature that allows authentication tickets to be carried by
       intermediate applications (Portals for instance), they are called proxy.

       This AuthCAS Perl module provides required subroutines to validate and retrieve CAS tickets.

   <b>new</b>
         my $cas = new AuthCAS(
                           casUrl =&gt; 'https://cas.myserver',
                           CAFile =&gt; '/etc/httpd/conf/ssl.crt/ca-bundle.crt',
                           );

       The "new" constructor lets you create a new <b>AuthCAS</b> object.

       casUrl - REQUIRED
       CAFile
       CAPath
       loginPath - '/login'
       logoutPath - '/logout'
       serviceValidatePath - '/serviceValidate'
       proxyPath - '/proxy'
       proxyValidatePath - '/proxyValidate'
       SSL_version - unset
           Sets  the version of the SSL protocol used to transmit data. If the default causes connection issues,
           setting it to 'SSLv3' may help.  see the documentation for  "METHODS"  in  IO::Socket::SSL  for  more
           information see &lt;<a href="http://www.perlmonks.org/">http://www.perlmonks.org/</a>?node_id=746493&gt; for more details.

       Returns a new <b>AuthCAS</b> or dies on error.

   <b>get_errors</b>
       Return module errors

   <b>proxyMode</b>
       Use the CAS object as a proxy

       pgtFile =item pgtCallbackUrl

   <b>dump_var</b>
   <b>getServerLoginURL($service)</b>
       Returns a URL that you can redirect the browser to, which includes the URL to return to

       TODO: it escapes the return URL, but I've noticed some issues with more complicated URL's

   <b>getServerLoginGatewayURL($service)</b>
       Returns  non-blocking  login URL ie: if user is logged in, return the ticket, otherwise do not prompt for
       login

   <b>getServerLogoutURL($service)</b>
       Return logout URL After logout user is redirected back to the application

   <b>getServerServiceValidateURL($service,</b> <b>$ticket,</b> <b>$pgtUrl)</b>
       Returns

   <b>getServerProxyURL($targetService,</b> <b>$pgt)</b>
       Returns

   <b>getServerProxyValidateURL($service,</b> <b>$ticket)</b>
       Returns

   <b>validateST($service,</b> <b>$ticket)</b>
       Validate a Service Ticket Also used to get a PGT

       Returns the login that created the ticket, if the ticket is valid for that $service URL

       returns undef if the ticket is not valid.

   <b>validatePT($service,</b> <b>$ticket)</b>
       Validate a Proxy Ticket

       Returns the login that created the ticket, if the ticket is valid for that $service URL,
           and a list of Proxies used.

           user returned == undef if its not a valid ticket

   <b>callCAS($url)</b>
       ## Access a CAS URL and parses received XML

       Returns

   <b>storePGT($pgtIou,</b> <b>$pgtId)</b>
   <b>retrievePT($service)</b>
       Returns

   <b>get_https2</b>
       request a document using https, return status and content

       Sven suspects this is intended to be private.

       Returns

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       JA-SIG Central Authentication Service &lt;<a href="http://www.jasig.org/cas">http://www.jasig.org/cas</a>&gt;

       was Yale Central Authentication Service &lt;<a href="http://www.yale.edu/tp/auth/">http://www.yale.edu/tp/auth/</a>&gt;

       phpCAS &lt;<a href="http://esup-phpcas.sourceforge.net/">http://esup-phpcas.sourceforge.net/</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright  (C)   2003,   2005,2006,2007,2009   Olivier   Salaun   -   Comite   Reseau   des   Universites
       &lt;<a href="http://www.cru.fr">http://www.cru.fr</a>&gt;
                     2012 Sven Dowideit - &lt;<a href="mailto:SvenDowideit@fosiki.com">mailto:SvenDowideit@fosiki.com</a>&gt;

       This  library  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

</pre><h4><b>AUTHORS</b></h4><pre>
         Olivier Salaun
         Sven Dowideit

perl v5.32.0                                       2021-01-07                                       <u><a href="../man3pm/AuthCAS.3pm.html">AuthCAS</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>