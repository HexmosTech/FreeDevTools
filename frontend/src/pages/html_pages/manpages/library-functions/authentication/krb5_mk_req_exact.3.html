<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>krb5_mk_req,    krb5_mk_req_exact,    krb5_mk_req_extended,    krb5_rd_req,    krb5_rd_req_with_keyblock,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/heimdal-dev">heimdal-dev_7.8.git20221117.28daf24+dfsg-9ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       krb5_mk_req,    krb5_mk_req_exact,    krb5_mk_req_extended,    krb5_rd_req,    krb5_rd_req_with_keyblock,
       krb5_mk_rep, krb5_mk_rep_exact, krb5_mk_rep_extended, krb5_rd_rep, krb5_build_ap_req,  krb5_verify_ap_req
       â€” create and read application authentication request

</pre><h4><b>LIBRARY</b></h4><pre>
       Kerberos 5 Library (libkrb5, -lkrb5)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;krb5.h&gt;</b>

       <u>krb5_error_code</u>
       <b>krb5_mk_req</b>(<u>krb5_context</u> <u>context</u>,    <u>krb5_auth_context</u> <u>*auth_context</u>,    <u>const</u> <u>krb5_flags</u> <u>ap_req_options</u>,
           <u>const</u> <u>char</u> <u>*service</u>,       <u>const</u> <u>char</u> <u>*hostname</u>,       <u>krb5_data</u> <u>*in_data</u>,        <u>krb5_ccache</u> <u>ccache</u>,
           <u>krb5_data</u> <u>*outbuf</u>);

       <u>krb5_error_code</u>
       <b>krb5_mk_req_extended</b>(<u>krb5_context</u> <u>context</u>,                               <u>krb5_auth_context</u> <u>*auth_context</u>,
           <u>const</u> <u>krb5_flags</u> <u>ap_req_options</u>, <u>krb5_data</u> <u>*in_data</u>, <u>krb5_creds</u> <u>*in_creds</u>, <u>krb5_data</u> <u>*outbuf</u>);

       <u>krb5_error_code</u>
       <b>krb5_rd_req</b>(<u>krb5_context</u> <u>context</u>,        <u>krb5_auth_context</u> <u>*auth_context</u>,         <u>const</u> <u>krb5_data</u> <u>*inbuf</u>,
           <u>krb5_const_principal</u> <u>server</u>, <u>krb5_keytab</u> <u>keytab</u>, <u>krb5_flags</u> <u>*ap_req_options</u>, <u>krb5_ticket</u> <u>**ticket</u>);

       <u>krb5_error_code</u>
       <b>krb5_build_ap_req</b>(<u>krb5_context</u> <u>context</u>,  <u>krb5_enctype</u> <u>enctype</u>,  <u>krb5_creds</u> <u>*cred</u>,  <u>krb5_flags</u> <u>ap_options</u>,
           <u>krb5_data</u> <u>authenticator</u>, <u>krb5_data</u> <u>*retdata</u>);

       <u>krb5_error_code</u>
       <b>krb5_verify_ap_req</b>(<u>krb5_context</u> <u>context</u>,      <u>krb5_auth_context</u> <u>*auth_context</u>,       <u>krb5_ap_req</u> <u>*ap_req</u>,
           <u>krb5_const_principal</u> <u>server</u>,  <u>krb5_keyblock</u> <u>*keyblock</u>,  <u>krb5_flags</u> <u>flags</u>, <u>krb5_flags</u> <u>*ap_req_options</u>,
           <u>krb5_ticket</u> <u>**ticket</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The functions documented in this manual page document the functions that facilitates the exchange between
       a Kerberos client and server.  They are the core functions used in the  authentication  exchange  between
       the client and the server.

       The  <b>krb5_mk_req</b>  and  <b>krb5_mk_req_extended</b> creates the Kerberos message KRB_AP_REQ that is sent from the
       client to the server as the first packet in a client/server exchange.  The result that should be sent  to
       server is stored in <u>outbuf</u>.

       <u>auth_context</u>  should  be  allocated with <b>krb5_auth_con_init</b>() or NULL passed in, in that case, it will be
       allocated and freed internally.

       The input data <u>in_data</u> will have a checksum calculated over it and checksum will be  transported  in  the
       message to the server.

       <u>ap_req_options</u> can be set to one or more of the following flags:

       AP_OPTS_USE_SESSION_KEY
               Use the session key when creating the request, used for user to user authentication.

       AP_OPTS_MUTUAL_REQUIRED
               Mark  the  request  as  mutual  authenticate  required  so  that  the  receiver  returns a mutual
               authentication packet.

       The <b>krb5_rd_req</b> read the AP_REQ in <u>inbuf</u> and verify and extract the content.   If  <u>server</u>  is  specified,
       that server will be fetched from the <u>keytab</u> and used unconditionally.  If <u>server</u> is NULL, the <u>keytab</u> will
       be search for a matching principal.

       The   <u>keytab</u>  argument  specifies  what  keytab  to  search  for  receiving  principals.   The  arguments
       <u>ap_req_options</u> and <u>ticket</u> returns the content.

       When the AS-REQ is a user to user request, neither of <u>keytab</u> or <u>principal</u> are used, instead <b>krb5_rd_req</b>()
       expects the session key to be set in <u>auth_context</u>.

       The <b>krb5_verify_ap_req</b> and <b>krb5_build_ap_req</b> both constructs and verify the AP_REQ message, should not be
       used by external code.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/krb5.3.html">krb5</a></u>(3), <u><a href="../man5/krb5.conf.5.html">krb5.conf</a></u>(5)

HEIMDAL                                          August 27, 2005                                  <u><a href="../man3/KRB5_MK_REQ.3.html">KRB5_MK_REQ</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>