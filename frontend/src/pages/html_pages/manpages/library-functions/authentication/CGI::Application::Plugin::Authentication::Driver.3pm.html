<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CGI::Application::Plugin::Authentication::Driver - Base module for building driver classes for</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcgi-application-plugin-authentication-perl">libcgi-application-plugin-authentication-perl_0.25+~cs0.5-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CGI::Application::Plugin::Authentication::Driver - Base module for building driver classes for
       CGI::Application::Plugin::Authentication

</pre><h4><b>SYNOPSIS</b></h4><pre>
        package CGI::Application::Plugin::Authentication::Driver::MyDriver;
        use base qw(CGI::Application::Plugin::Authentication::Driver);

         sub verify_credentials {
             my $self = shift;
             my @credentials = @_;

             if ( &gt;&gt;&gt; Validate Credentials &lt;&lt;&lt; ) {
                 return $credentials[0];
             }
             return;
         }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module is a base class for all driver classes for the CGI::Application::Plugin::Authentication
       plugin.  Each driver class is required to provide only one method to validate the given credentials.
       Normally only two credentials will be passed in (username and password), but you can configure the plugin
       to handle any number of credentials (for example you may require the user to enter a group name, or
       domain name as well as a username and password).

</pre><h4><b>FIELD</b> <b>FILTERS</b></h4><pre>
       It is quite common for passwords to be stored using some form of one way encryption.  Unix crypt being
       the old standard in the Unix community, however MD5 or SHA1 hashes are more popular today.  In order to
       simplify the validation routines some methods have been provided to help test these passwords.  When
       configuring a Driver (and if the driver supports it), you can specify which fields are encoded, and which
       method is used for the encoding by specifying a filter on the field in question.

        CREDENTIALS =&gt; ['authen_username', 'authen_password'],
        DRIVERS     =&gt; [ 'DBI',
                           DSN         =&gt; '...',
                           TABLE       =&gt; 'users',
                           CONSTRAINTS =&gt; {
                               username       =&gt; '__CREDENTIAL_1__',
                               'MD5:password' =&gt; '__CREDENTIAL_2__',
                           }
                       ],

       Here we are saying that the password field is encoded using an MD5 hash, and should be checked
       accordingly.

   <b>Filter</b> <b>options</b>
       Some of the filters may have multiple forms.  For example there are three forms of MD5 hashes:  binary,
       base64 and hex.  You can specify these extra options by using an underscore to separate it from the
       filter name.

        'MD5_base64:password'

   <b>Chained</b> <b>Filters</b>
       it is possible to chain multiple filters.  This can be useful if your MD5 strings are stored in hex
       format.  Hex numbers are case insensitive, so the may be stored in either upper or lower case.  To make
       this consistent, you can MD5 encode the password first, and then upper case the results.  The filters are
       applied from the inside out:

        'uc:MD5_hex:password'

   <b>Custom</b> <b>Filters</b>
       If your field is encoded using a custom technique, then you can provide a custom filter function.  This
       can be be done by providing a FILTERS option that contains a hash of filter subroutines that are keyed by
       their name.  You can then use the filter name on any of the fields as if it was a builtin filter.

        CREDENTIALS =&gt; ['authen_username', 'authen_password'],
        DRIVERS     =&gt; [ 'DBI',
                           DSN      =&gt; '...',
                           TABLE    =&gt; 'users',
                           CONSTRAINTS =&gt; {
                               username         =&gt; '__CREDENTIAL_1__',
                               'rot13:password' =&gt; '__CREDENTIAL_2__',
                           }
                           FILTERS =&gt; { rot13 =&gt; \&amp;rot13_filter },
                       ],

        sub rot13_filter {
            my $param = shift;
            my $value = shift;
            $value =~ tr/A-Za-z/N-ZA-Mn-za-m/;
            return $value;
        }

       Please see the documentation for the driver that you are using to make sure that it supports encoded
       fields.

   <b>Builtin</b> <b>Filters</b>
       Here is a list of the filters that are provided with this module:

       crypt - provided by perl "crypt" function
       MD5 - requires Digest::MD5
       SHA1 - requires Digest::SHA1
       uc - provided by the perl "uc" function
       lc - provided by the perl "lc" function
       trim - removed whitespace from the start and end of the field

</pre><h4><b>METHODS</b></h4><pre>
   <b>new</b>
       This  is  a constructor that can create a new Driver object.  It requires an Authentication object as its
       first parameter, and any number of other parameters that will be  used  as  options  depending  on  which
       Driver  object is being created.  You shouldn't need to call this as the Authentication plugin takes care
       of creating Driver objects.

   <b>initialize</b>
       This method will be called right after a new Driver object is created.  So any startup customizations can
       be dealt with here.

   <b>options</b>
       This will return a list of options that were provided when this driver was configured by the user.

   <b>authen</b>
       This will return the underlying CGI::Application::Plugin::Authentication object.  In most cases  it  will
       not be necessary to access this.

   <b>find_option</b>
       This method will search the Driver options for a specific key and return the value it finds.

   <b>verify_credentials</b>
       This  method  needs  to  be provided by the driver class.  It needs to be an object method that accepts a
       list of credentials, and will verify that the credentials are valid, and return a username that  will  be
       used  to identify this login (usually you will just return the value of the first credential, however you
       are not bound to that)..

   <b>filter</b>
       This method can be used to filter a field (usually password fields) using a number of standard or  custom
       encoding  techniques.   See  the  section on Builtin Filters above to see what filters are available When
       using a custom filter, you will need to provide a FILTERS option in the configuration of the DRIVER  (See
       the  section  on  FIELD  FILTERS  above  for  an  example).  By default, if no filter is specified, it is
       returned as is.  This means that you can run all fields through this function even if they don't have any
       filters to simplify the driver code.

        my $filtered = $self-&gt;filter('MD5_hex:password', 'foobar');

        - or -

        # custom filter
        my $filtered = $self-&gt;filter('foobar:password', 'foo');

        - or -

        # effectively a noop
        my $filtered = $self-&gt;filter('username', 'foo');

   <b>check_filtered</b>
       This method can be used to test filtered fields (usually password fields) against a number of standard or
       custom encoding techniques.  The following encoding techniques are provided:  plain,  MD5,  SHA1,  crypt.
       When  using  a  custom  encoder, you will need to provide it in the configuration of the DRIVERS (See the
       section on ENCODED PASSWORDS above for an example).  By default, if  no  encoding  is  specified,  it  is
       assumed  to  be 'plain'.  This means that you can run all fields through this function even if they don't
       have any encoding to simplify the driver code.

        my $verified = $self-&gt;check_filtered('MD5:password', 'foobar', 'OFj2IjCsPJFfMAxmQxLGPw');

        - or -

        # custom encoder
        my $verified = $self-&gt;check_filtered('foobar:password', 'foo', 'bar');

        - or -

        # a field that isn't filtered (effectively just checks for equality on second and third args)
        my $verified = $self-&gt;check_filtered('username', 'foobar', 'foobar');
        my $verified = $self-&gt;check_filtered('plain:username', 'foobar', 'foobar');

   <b>strip_field_names</b>
       This method will take a field name (or list of names) and strip  off  the  leading  encoding  type.   For
       example if you passed in 'MD5:password' the method would return 'password'.

        my $fieldname = $self-&gt;strip_field_names('MD5:password');

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       CGI::Application::Plugin::Authentication, <b><a href="../man1/perl.1.html">perl</a></b>(1)

</pre><h4><b>AUTHOR</b></h4><pre>
       Cees Hek &lt;<a href="mailto:ceeshek@gmail.com">ceeshek@gmail.com</a>&gt;

</pre><h4><b>LICENCE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2005, SiteSuite. All rights reserved.

       This  module  is  free  software;  you  can redistribute it and/or modify it under the same terms as Perl
       itself.

</pre><h4><b>DISCLAIMER</b> <b>OF</b> <b>WARRANTY</b></h4><pre>
       BECAUSE THIS SOFTWARE IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY FOR THE SOFTWARE,  TO  THE  EXTENT
       PERMITTED  BY  APPLICABLE LAW. EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER
       PARTIES PROVIDE THE SOFTWARE "AS  IS"  WITHOUT  WARRANTY  OF  ANY  KIND,  EITHER  EXPRESSED  OR  IMPLIED,
       INCLUDING,  BUT  NOT  LIMITED  TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
       PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF  THE  SOFTWARE  IS  WITH  YOU.  SHOULD  THE
       SOFTWARE PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR, OR CORRECTION.

       IN  NO  EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR ANY
       OTHER PARTY WHO MAY MODIFY AND/OR REDISTRIBUTE THE SOFTWARE AS PERMITTED BY THE ABOVE LICENCE, BE  LIABLE
       TO  YOU  FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES ARISING OUT OF
       THE USE OR INABILITY TO USE THE SOFTWARE (INCLUDING BUT NOT  LIMITED  TO  LOSS  OF  DATA  OR  DATA  BEING
       RENDERED  INACCURATE  OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE SOFTWARE TO OPERATE
       WITH ANY OTHER SOFTWARE), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF  SUCH
       DAMAGES.

perl v5.38.2                                       2024-06-29             <u>CGI::Applicatio...ication::<a href="../man3pm/Driver.3pm.html">Driver</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>