<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalyst::Authentication::Credential::HTTP - HTTP Basic and Digest authentication for Catalyst</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcatalyst-authentication-credential-http-perl">libcatalyst-authentication-credential-http-perl_1.018-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Catalyst::Authentication::Credential::HTTP - HTTP Basic and Digest authentication for Catalyst

</pre><h4><b>VERSION</b></h4><pre>
       version 1.018

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Catalyst qw/
               Authentication
           /;

           __PACKAGE__-&gt;config( authentication =&gt; {
               default_realm =&gt; 'example',
               realms =&gt; {
                   example =&gt; {
                       credential =&gt; {
                           class =&gt; 'HTTP',
                           type  =&gt; 'any', # or 'digest' or 'basic'
                           password_type  =&gt; 'clear',
                           password_field =&gt; 'password'
                       },
                       store =&gt; {
                           class =&gt; 'Minimal',
                           users =&gt; {
                               Mufasa =&gt; { password =&gt; "Circle Of Life", },
                           },
                       },
                   },
               }
           });

           sub foo : Local {
               my ( $self, $c ) = @_;

               $c-&gt;authenticate({}, "example");
               # either user gets authenticated or 401 is sent
               # Note that the authentication realm sent to the client (in the
               # RFC 2617 sense) is overridden here, but this *does not*
               # effect the Catalyst::Authentication::Realm used for
               # authentication - to do that, you need
               # $c-&gt;authenticate({}, 'otherrealm')

               do_stuff();
           }

           sub always_auth : Local {
               my ( $self, $c ) = @_;

               # Force authorization headers onto the response so that the user
               # is asked again for authentication, even if they successfully
               # authenticated.
               my $realm = $c-&gt;get_auth_realm('example');
               $realm-&gt;credential-&gt;authorization_required_response($c, $realm);
           }

           # with ACL plugin
           __PACKAGE__-&gt;deny_access_unless("/path", sub { $_[0]-&gt;authenticate });

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module lets you use HTTP authentication with Catalyst::Plugin::Authentication. Both basic and digest
       authentication are currently supported.

       When authentication is required, this module sets a status of 401, and the body of the response to
       'Authorization required.'. To override this and set your own content, check for the $c-&gt;res-&gt;status ==
       401 in your "end" action, and change the body accordingly.

   <b>TERMS</b>
       Nonce
           A  nonce  is  a  one-time  value  sent with each digest authentication request header. The value must
           always be unique, so per default the last value of the nonce is kept  using  Catalyst::Plugin::Cache.
           To     change     this     behaviour,    override    the    "store_digest_authorization_nonce"    and
           "get_digest_authorization_nonce" methods as shown below.

</pre><h4><b>METHODS</b></h4><pre>
       new $config, $c, $realm
           Simple constructor.

       init
           Validates that $config is ok.

       authenticate $c, $realm, \%auth_info
           Tries to authenticate the  user,  and  if  that  fails  calls  "authorization_required_response"  and
           detaches the current action call stack.

           Looks  inside  "$c-&gt;request-&gt;headers"  and processes the digest and basic (badly named) authorization
           header.

           This will only try the methods set in the configuration. First digest, then basic.

           The %auth_info hash can contain a number of keys which control the authentication behaviour:

           realm
               Sets the HTTP authentication realm presented  to  the  client.  Note  this  does  not  alter  the
               Catalyst::Authentication::Realm object used for the authentication.

           domain
               Array reference to domains used to build the authorization headers.

               This  list  of  domains defines the protection space. If a domain URI is an absolute path (starts
               with /), it is relative to the root URL of the server being accessed.  An absolute  URI  in  this
               list may refer to a different server than the one being accessed.

               The  client  will  use  this  list to determine the set of URIs for which the same authentication
               information may be sent.

               If this is omitted or its value is empty, the  client  will  assume  that  the  protection  space
               consists of all URIs on the responding server.

               Therefore,  if your application is not hosted at the root of this domain, and you want to prevent
               the authentication credentials for this application being sent to any other  applications.   then
               you should use the <u>use_uri_for</u> configuration option, and pass a domain of <u>/</u>.

       authenticate_basic $c, $realm, \%auth_info
           Performs HTTP basic authentication.

       authenticate_digest $c, $realm, \%auth_info
           Performs HTTP digest authentication.

           The  password_type  <b>must</b>  be <u>clear</u> for digest authentication to succeed.  If you do not want to store
           your user passwords as clear text, you may instead  store  the  MD5  digest  in  hex  of  the  string
           '$username:$realm:$password'.

           Catalyst::Plugin::Cache is used for persistent storage of the nonce values (see "Nonce").  It must be
           loaded   in   your  application,  unless  you  override  the  "store_digest_authorization_nonce"  and
           "get_digest_authorization_nonce" methods as shown below.

           Takes an additional parameter of <u>algorithm</u>, the possible values of which are 'MD5' (the default)  and
           'MD5-sess'. For more information about 'MD5-sess', see section 3.2.2.2 in RFC 2617.

       authorization_required_response $c, $realm, \%auth_info
           Sets  "$c-&gt;response" to the correct status code, and adds the correct header to demand authentication
           data from the user agent.

           Typically used by "authenticate", but may be invoked manually.

           %opts can contain "domain" and "algorithm", which are used to build %the digest header.

       store_digest_authorization_nonce $c, $key, $nonce
       get_digest_authorization_nonce $c, $key
           Set or get the $nonce object used by the digest auth mode.

           You may override these methods. By default they will call "get" and "set" on "$c-&gt;cache".

       authentication_failed
           Sets the 401 response and calls "$ctx-&gt;detach".

</pre><h4><b>CONFIGURATION</b></h4><pre>
       All configuration is stored in "YourApp-&gt;config('Plugin::Authentication' =&gt; { yourrealm =&gt;  {  credential
       =&gt; { class =&gt; 'HTTP', %config } } }".

       This should be a hash, and it can contain the following entries:

       type
           Can be either "any" (the default), "basic" or "digest".

           This controls "authorization_required_response" and "authenticate", but not the "manual" methods.

       authorization_required_message
           Set  this to a string to override the default body content "Authorization required.", or set to undef
           to suppress body content being generated.

       password_type
           The   type    of    password    returned    by    the    user    object.    Same    usage    as    in
           Catalyst::Authentication::Credential::Password

       password_field
           The  name  of  accessor  used  to retrieve the value of the password field from the user object. Same
           usage as in Catalyst::Authentication::Credential::Password

       username_field
           The field name that the user's username is mapped into when finding the user from the realm. Defaults
           to 'username'.

       use_uri_for
           If this configuration key has a true value, then the domain(s) for the authorization header  will  be
           run  through  $c-&gt;<b>uri_for()</b>.  Use this configuration option if your application is not running at the
           root of your domain, and you want to ensure that authentication credentials from your application are
           not shared with other applications on the same server.

       require_ssl
           If this configuration key has a true value then authentication will be denied (and a  401  issued  in
           normal circumstances) unless the request is via https.

       no_unprompted_authorization_required
           Causes authentication to fail as normal modules do, without calling "$c-&gt;detach". This means that the
           basic auth credential can be used as part of the progressive realm.

           However  use  like  this is probably not optimum it also means that users in browsers ill never get a
           HTTP authenticate dialogue box (unless you manually return a 401 response in your  application),  and
           even  some  automated  user agents (for APIs) will not send the Authorization header without specific
           manipulation of the request headers.

       broken_dotnet_digest_without_query_string
           Enables support for .NET (or other similarly broken clients), which fails to include the query string
           in the uri in the digest Authorization header, contrary to rfc2617.

           This option has no effect on clients that include the query string; they will  continue  to  work  as
           normal.

</pre><h4><b>RESTRICTIONS</b></h4><pre>
       When  using  digest  authentication, this module will only work together with authentication stores whose
       User objects have a "password" method that returns the plain-text password. It  will  not  work  together
       with  Catalyst::Authentication::Store::Htpasswd,  or  Catalyst::Authentication::Store::DBIC  stores whose
       "password" methods return a hashed or salted version of the password.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       RFC 2617 (or its successors), Catalyst::Plugin::Cache, Catalyst::Plugin::Authentication

</pre><h4><b>SUPPORT</b></h4><pre>
       Bugs        may        be        submitted        through        the        RT        bug         tracker
       &lt;https://rt.cpan.org/Public/Dist/Display.html?Name=Catalyst-Authentication-Credential-HTTP&gt;           (or
       <a href="mailto:bug-Catalyst-Authentication-Credential-HTTP@rt.cpan.org">bug-Catalyst-Authentication-Credential-HTTP@rt.cpan.org</a>   &lt;mailto:bug-Catalyst-Authentication-Credential-
       <a href="mailto:HTTP@rt.cpan.org">HTTP@rt.cpan.org</a>&gt;).

       There    is    also    a    mailing    list    available    for    users   of   this   distribution,   at
       &lt;<a href="http://lists.scsys.co.uk/cgi-bin/mailman/listinfo/catalyst">http://lists.scsys.co.uk/cgi-bin/mailman/listinfo/catalyst</a>&gt;.

       There is also an irc channel available for users of this distribution, at "#catalyst"  on  "irc.perl.org"
       &lt;irc://irc.perl.org/#catalyst&gt;.

</pre><h4><b>AUTHOR</b></h4><pre>
       יובל קוג'מן (Yuval Kogman) &lt;<a href="mailto:nothingmuch@woobling.org">nothingmuch@woobling.org</a>&gt;

</pre><h4><b>CONTRIBUTORS</b></h4><pre>
       •   Tomas Doran &lt;<a href="mailto:bobtfish@bobtfish.net">bobtfish@bobtfish.net</a>&gt;

       •   Karen Etheridge &lt;<a href="mailto:ether@cpan.org">ether@cpan.org</a>&gt;

       •   Sascha Kiefer &lt;<a href="mailto:esskar@cpan.org">esskar@cpan.org</a>&gt;

       •   Devin Austin &lt;<a href="mailto:devin.austin@gmail.com">devin.austin@gmail.com</a>&gt;

       •   Ronald J Kimball &lt;<a href="mailto:rjk@linguist.dartmouth.edu">rjk@linguist.dartmouth.edu</a>&gt;

       •   Jess Robinson &lt;<a href="mailto:cpan@desert-island.me.uk">cpan@desert-island.me.uk</a>&gt;

       •   Ronald J Kimball &lt;<a href="mailto:rjk@tamias.net">rjk@tamias.net</a>&gt;

       •   Tomas Doran &lt;<a href="mailto:tdoran@yelp.com">tdoran@yelp.com</a>&gt;

       •   Ton Voon &lt;<a href="mailto:ton.voon@opsera.com">ton.voon@opsera.com</a>&gt;

       •   J. Shirley &lt;jshirley+<a href="mailto:cpan@gmail.com">cpan@gmail.com</a>&gt;

       •   Brian Cassidy &lt;<a href="mailto:bricas@cpan.org">bricas@cpan.org</a>&gt;

       •   Jonathan Rockway &lt;<a href="mailto:jon@jrock.us">jon@jrock.us</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENCE</b></h4><pre>
       This software is copyright (c) 2006 by יובל קוג'מן (Yuval Kogman).

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.38.2                                       2024-03-04             <u>Catalyst::Authe...redential::<a href="../man3pm/HTTP.3pm.html">HTTP</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>