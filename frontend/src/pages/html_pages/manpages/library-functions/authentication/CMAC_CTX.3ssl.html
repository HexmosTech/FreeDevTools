<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CMAC_CTX, CMAC_CTX_new, CMAC_CTX_cleanup, CMAC_CTX_free, CMAC_CTX_get0_cipher_ctx, CMAC_CTX_copy,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CMAC_CTX, CMAC_CTX_new, CMAC_CTX_cleanup, CMAC_CTX_free, CMAC_CTX_get0_cipher_ctx, CMAC_CTX_copy,
       CMAC_Init, CMAC_Update, CMAC_Final, CMAC_resume - create cipher-based message authentication codes

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/cmac.h&gt;

       The following functions have been deprecated since OpenSSL 3.0, and can be disabled entirely by defining
       <b>OPENSSL_API_COMPAT</b> with a suitable version value, see <b><a href="../man7/openssl_user_macros.7.html">openssl_user_macros</a></b>(7).

        typedef struct CMAC_CTX_st CMAC_CTX;

        CMAC_CTX *CMAC_CTX_new(void);
        void CMAC_CTX_cleanup(CMAC_CTX *ctx);
        void CMAC_CTX_free(CMAC_CTX *ctx);
        EVP_CIPHER_CTX *CMAC_CTX_get0_cipher_ctx(CMAC_CTX *ctx);
        int CMAC_CTX_copy(CMAC_CTX *out, const CMAC_CTX *in);
        int CMAC_Init(CMAC_CTX *ctx, const void *key, size_t keylen,
                      const EVP_CIPHER *cipher, ENGINE *impl);
        int CMAC_Update(CMAC_CTX *ctx, const void *data, size_t dlen);
        int CMAC_Final(CMAC_CTX *ctx, unsigned char *out, size_t *poutlen);
        int CMAC_resume(CMAC_CTX *ctx);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The low-level MAC functions documented on this page are deprecated.  Applications should use the new
       <b><a href="../man3/EVP_MAC.3.html">EVP_MAC</a></b>(3) interface.  Specifically, utilize the following functions for MAC operations:

       <b><a href="../man3/EVP_MAC_CTX_new.3.html">EVP_MAC_CTX_new</a></b>(3) to create a new MAC context.
       <b><a href="../man3/EVP_MAC_CTX_free.3.html">EVP_MAC_CTX_free</a></b>(3) to free the MAC context.
       <b><a href="../man3/EVP_MAC_init.3.html">EVP_MAC_init</a></b>(3) to initialize the MAC context.
       <b><a href="../man3/EVP_MAC_update.3.html">EVP_MAC_update</a></b>(3) to update the MAC with data.
       <b><a href="../man3/EVP_MAC_final.3.html">EVP_MAC_final</a></b>(3) to finalize the MAC and retrieve the output.

       Alternatively, for a single-step MAC computation, use the <b><a href="../man3/EVP_Q_mac.3.html">EVP_Q_mac</a></b>(3) function.

       The  <b>CMAC_CTX</b>  type  is  a  structure used for the provision of CMAC (Cipher-based Message Authentication
       Code) operations.

       <b>CMAC_CTX_new()</b> creates a new <b>CMAC_CTX</b> structure and returns a pointer to it.

       <b>CMAC_CTX_cleanup()</b> resets the <b>CMAC_CTX</b>  structure,  clearing  any  internal  data  but  not  freeing  the
       structure itself.

       <b>CMAC_CTX_free()</b>  frees  the <b>CMAC_CTX</b> structure and any associated resources.  If the argument is NULL, no
       action is taken.

       <b>CMAC_CTX_get0_cipher_ctx()</b> returns  a  pointer  to  the  internal  <b>EVP_CIPHER_CTX</b>  structure  within  the
       <b>CMAC_CTX</b>.

       <b>CMAC_CTX_copy()</b> copies the state from one <b>CMAC_CTX</b> structure to another.

       <b>CMAC_Init()</b>  initializes  the  <b>CMAC_CTX</b>  structure for a new CMAC calculation with the specified key, key
       length, and cipher type.  Optionally, an <b>ENGINE</b> can be provided.

       <b>CMAC_Update()</b> processes data to be included in  the  CMAC  calculation.   This  function  can  be  called
       multiple times to update the context with additional data.

       <b>CMAC_Final()</b>  finalizes  the CMAC calculation and retrieves the resulting MAC value. The output is stored
       in the provided buffer, and the length is stored in the variable pointed to by <u>poutlen</u>. To determine  the
       required  buffer  size,  call  with  <u>out</u> set to NULL, which stores only the length in <u>poutlen</u>. Allocate a
       buffer of this size and call <b>CMAC_Final()</b> again with the allocated buffer to retrieve the MAC.

       <b>CMAC_resume()</b> resumes a previously finalized CMAC calculation, allowing additional data to  be  processed
       and a new MAC to be generated.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>CMAC_CTX_new()</b> returns a pointer to a new <b>CMAC_CTX</b> structure or NULL if an error occurs.

       <b>CMAC_CTX_get0_cipher_ctx()</b>  returns  a  pointer  to  the internal <b>EVP_CIPHER_CTX</b> structure, or NULL if an
       error occurs.

       <b>CMAC_CTX_copy()</b>, <b>CMAC_Init()</b>, <b>CMAC_Update()</b>, <b>CMAC_Final()</b> and <b>CMAC_resume()</b> return 1 for success or 0  if
       an error occurs.

</pre><h4><b>HISTORY</b></h4><pre>
       All  functions  described  here were deprecated in OpenSSL 3.0. For replacements, see <b><a href="../man3/EVP_MAC_CTX_new.3.html">EVP_MAC_CTX_new</a></b>(3),
       <b><a href="../man3/EVP_MAC_CTX_free.3.html">EVP_MAC_CTX_free</a></b>(3), <b><a href="../man3/EVP_MAC_init.3.html">EVP_MAC_init</a></b>(3), <b><a href="../man3/EVP_MAC_update.3.html">EVP_MAC_update</a></b>(3), and <b><a href="../man3/EVP_MAC_final.3.html">EVP_MAC_final</a></b>(3).

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2024 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file  except  in  compliance
       with  the  License.   You  can  obtain  a  copy  in  the  file  LICENSE  in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                                     <u><a href="../man3SSL/CMAC_CTX.3SSL.html">CMAC_CTX</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>