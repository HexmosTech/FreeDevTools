<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalyst::Authentication::Store - All about authentication stores</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcatalyst-plugin-authentication-perl">libcatalyst-plugin-authentication-perl_0.10024-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Catalyst::Authentication::Store - All about authentication stores

</pre><h4><b>MULTIPLE</b> <b>BACKENDS</b></h4><pre>
       <b>NOTE</b> This is documentation for the old store system used in versions of Catalyst::Plugin::Authentication
       prior to 0.10.  This is NOT how the new realm-based stores work. This is here for reference only.

       See Catalyst::Plugin::Authentication::Internals instead.

</pre><h4><b>OLD</b> <b>STORE</b> <b>DOCUMENTATION</b> <b>BELOW</b></h4><pre>
       A key issue to understand about authentication stores is that there are potentially many of them. Each
       one is registered into the application, and has a name.

       For most applications, there is only one, and in this framework it is called 'default'.

       When you use a plugin, like

           use Catalyst qw/
               Authentication
               Authentication::Store::Foo
           /;

       the Store plugins typically only act at setup time. They rarely do more than check out the configuration,
       and register e.g. Store::Foo, and set it as the default store.

           __PACKAGE__-&gt;default_auth_store( $store );

           # the same as

           __PACKAGE__-&gt;register_auth_stores( default =&gt; $store );

</pre><h4><b>WORKING</b> <b>WITH</b> <b>USERS</b></h4><pre>
       All credential verifiers should accept either a user object, or a user ID.

       If a user ID is provided, then they will fetch the user object from the default store, and check against
       it.

       This should be pretty much DWIM all the time.

       When you need multiple authentication backends per application then you must fetch things yourself. For
       example:

           my $user = $c-&gt;get_auth_store("other_store")-&gt;get_user($id);

           $c-&gt;login( $user, $supplied_password );

       Instead of just:

           $c-&gt;login( $id, $supplied_password );

       which will go to the default store.

</pre><h4><b>WRITING</b> <b>A</b> <b>BACKEND</b></h4><pre>
       Writing an authentication storage backend is a very simple matter.

       The only method you really need to support is "get_user".

       This method should accept an arbitrary list of parameters (determined by you or the credential verifyer),
       and return an object inheriting Catalyst::Authentication::User.

       For introspection purposes you can also define the "user_supports" method. See below for optional
       features. This is not necessary, but might be in the future.

   <b>Integrating</b> <b>with</b> <b>Catalyst::Plugin::Session</b>
       If your users support sessions, your store should also define the "from_session" method. When the user
       object is saved in the session the "for_session" method is called, and that is used as the value in the
       session (typically a user id). The store is also saved in the hash. If "$user-&gt;store" returns something
       registered, that store's name is used. If not, the user's class is used as if it were a store (and must
       also support "from_session").

   <b>Optional</b> <b>Features</b>
       Each user has the "supports" method. For example:

           $user-&gt;supports(qw/password clear/);

       should return a true value if this specific user has a clear text password.

       This is on a per user (not necessarily a per store) basis. To make assumptions about the store as a
       whole,

           $store-&gt;user_supports(qw/password clear/);

       is supposed to be the lowest common denominator.

       The standardization of these values is to be goverened by the community, typically defined by the
       credential verification plugins.

   <b>Stores</b> <b>implying</b> <b>certain</b> <b>credentials</b>
       Sometimes a store is agnostic to the credentials (DB storage, for example), but sometimes it isn't (like
       an Htpasswd file).

       If you are writing a backend that wraps around a module, like Catalyst::Authentication::Store::Htpasswd
       wraps around Authen::Htpasswd, it makes sense to delegate the credential checks.

       This particular example caused the following "feature" to be added:

           $user-&gt;supports(qw/password self_check/);

   <b>Writing</b> <b>a</b> <b>plugin</b> <b>to</b> <b>go</b> <b>with</b> <b>the</b> <b>backend</b>
       Typically the backend will do the heavy lifting, by registering a store.

       These plugins should look something like this:

           sub setup {
               my $c = shift;

               $c-&gt;default_auth_store(
                   # a store can be an object or a class
                   Catalyst::Authentication::Store::Foo::Backend-&gt;new(
                       ...
                   )
               );

               $c-&gt;NEXT::setup(@_);
           }

perl v5.40.0                                       2024-10-28               <u>Catalyst::Authentication::<a href="../man3pm/Store.3pm.html">Store</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>