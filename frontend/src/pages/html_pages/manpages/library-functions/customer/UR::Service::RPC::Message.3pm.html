<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UR::Service::RPC::Message - Serializable object appropriate for sending RPC messages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libur-perl">libur-perl_0.470+ds-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       UR::Service::RPC::Message - Serializable object appropriate for sending RPC messages

</pre><h4><b>SYNOPSIS</b></h4><pre>
         my $msg = UR::Service::RPC::Message-&gt;create(
                                  target_class =&gt; 'URT::RPC::Thingy',
                                  method_name  =&gt; 'join',
                                  params       =&gt; ['-', @join_args],
                                  'wantarray'  =&gt; 0,
                                );
         $msg-&gt;send($fh);

         my $resp = UR::Service::RPC::Message-&gt;recv($fh, 5);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class is used as a message-passing interface by the RPC service modules.

</pre><h4><b>PROPERTIES</b></h4><pre>
       These properties should be filled in by the initiating caller

       method_name =&gt; Text
           The name of the subroutine the initiator whishes to call.

       target_class =&gt; Text
           The namespace the initiator wants the subroutine to be called in

       params =&gt; ARRAY
           List of parameters to pass to the subroutine

       wantarray =&gt; Boolean
           What <b>wantarray()</b> context the subroutine should be called in.

       These properties are assigned after the RPC call to the subroutine

       return_values =&gt; ARRAY
           List of values returned by the subroutine

       exception
           On  the  receiving  side,  the  subroutine  is  called  within  an  eval.  If there was an exception,
           "exception" stores the value of $@, or the empty string.  The  receiving  side  should  also  fill-in
           "exception" if there was an authentication failure.

       fh  "recv" fills this in with the file handle the message was read from.

</pre><h4><b>METHODS</b></h4><pre>
       send
             $bytes = $msg-&gt;send($fh);

           Serializes the Message object with FreezeThaw and writes the data to the filehandle $fh.  Returns the
           number of bytes written.  $bytes will be false if there was an error.

       recv
             $response = UR::Service::RPC::Message-&gt;recv($fh,$timeout);

             $response = $msg-&gt;recv();

           Reads  a serialized Message from the filehandle and constructs a Message object that is then returned
           to the caller.  In the first case, it reads from the given filehandle, waiting a maximum of  $timeout
           seconds  with  select  before  giving  up.   In the second case, it reads from whatever filehandle is
           stored in $msg to read data from.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       UR::Service::RPC::Server, UR::Service::RPC::Executor

perl v5.38.2                                       2024-06-15                     <u>UR::Service::RPC::<a href="../man3pm/Message.3pm.html">Message</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>