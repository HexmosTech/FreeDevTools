<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Munin::Node::Service - Methods related to handling of Munin services</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/munin-doc">munin-doc_2.0.76-5ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Munin::Node::Service - Methods related to handling of Munin services

</pre><h4><b>SYNOPSIS</b></h4><pre>
        my $services = Munin::Node::Service-&gt;new(timeout =&gt; 30);
        $services-&gt;prepare_plugin_environment;
        if ($services-&gt;is_a_runnable_service($file_name)) {
           $services-&gt;fork_service($file_name);
        }

</pre><h4><b>METHODS</b></h4><pre>
       <b>new</b>
            my $services = Munin::Node::Service-&gt;new(%args);

           Constructor.  All arguments are optional.  Valid arguments are:

           "servicedir"
                   The directory that will be searched for services.

           "defuser", "defgroup"
                   The  default  uid  and  gid  that  services  will  run  as.   Service-specific user and group
                   directives (as set by the service configuration files) will override this.

           "timeout"
                   The default timeout for services.  Services taking longer than this to run  will  be  killed.
                   Service-specific timeouts will (as set in the service configuration files) will override this
                   value.

       <b>is_a_runnable_service</b>
            my $bool = $services-&gt;is_a_runnable_service($file_name);

           Runs miscellaneous tests on $file_name in the service directory, to try and establish whether it is a
           runnable service.

       <b>list</b>
             my @services = $services-&gt;list;

           Returns a list of all the runnable services in the directory.

       <b>prepare_plugin_environment</b>
            $services-&gt;prepare_plugin_environment(@services);

           Carries  out  various  tasks  that  plugins  require  before  being  run,  such  as  loading  service
           configurations and exporting common environment variables.

       <b>export_service_environment</b>
            $services-&gt;export_service_enviromnent($service);

           Exports all the environment variables specific to service $service.

       <b>change_real_and_effective_user_and_group</b>
            $service-&gt;change_real_and_effective_user_and_group($service);

           Changes the current process' effective group and user IDs to those specified in the configuration, or
           the default user or group otherwise.  Also changes the real group  and  user  IDs  if  the  operating
           system supports it.

           On failure, causes the process to exit.

       <b>exec_service</b>
            $service-&gt;exec_service($service, [@arguments]);

           Replaces  the  current  process  with an instance of service $service in $directory, running with the
           correct environment and privileges.

           This function never returns.  The process will <b><a href="../man2/exit.2.html">exit</a></b>(2) if the service to be run failed  the  paranoia
           check.

       <b>fork_service</b>
            $result = $service-&gt;fork_service($service, [$argument]);

           Identical to <b>exec_service()</b>, except it runs the service in a subprocess.  If the service takes longer
           than the timeout, it will be terminated.

           Returns  a  hash reference containing (among other things) the service's output and exit value.  (See
           documentation for <b>run_as_child()</b> in Munin::Node::Service for a comprehensive description.)

perl v5.40.1                                       2025-05-20                          <u>Munin::Node::<a href="../man3pm/Service.3pm.html">Service</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>