<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mojo::WebSocket - The WebSocket protocol</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmojolicious-perl">libmojolicious-perl_9.39+dfsg-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mojo::WebSocket - The WebSocket protocol

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Mojo::WebSocket qw(WS_TEXT build_frame parse_frame);

         my $bytes = build_frame 0, 1, 0, 0, 0, WS_TEXT, 'Hello World!';
         my $frame = parse_frame \$bytes, 262144;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Mojo::WebSocket implements the WebSocket protocol as described in RFC 6455
       &lt;https://tools.ietf.org/html/rfc6455&gt;.  Note that 64-bit frames require a Perl with support for quads or
       they are limited to 32-bit.

</pre><h4><b>FUNCTIONS</b></h4><pre>
       Mojo::WebSocket implements the following functions, which can be imported individually.

   <b>build_frame</b>
         my $bytes = build_frame $masked, $fin, $rsv1, $rsv2, $rsv3, $op, $payload;

       Build WebSocket frame.

         # Masked binary frame with FIN bit and payload
         say build_frame 1, 1, 0, 0, 0, WS_BINARY, 'Hello World!';

         # Text frame with payload but without FIN bit
         say build_frame 0, 0, 0, 0, 0, WS_TEXT, 'Hello ';

         # Continuation frame with FIN bit and payload
         say build_frame 0, 1, 0, 0, 0, WS_CONTINUATION, 'World!';

         # Close frame with FIN bit and without payload
         say build_frame 0, 1, 0, 0, 0, WS_CLOSE, '';

         # Ping frame with FIN bit and payload
         say build_frame 0, 1, 0, 0, 0, WS_PING, 'Test 123';

         # Pong frame with FIN bit and payload
         say build_frame 0, 1, 0, 0, 0, WS_PONG, 'Test 123';

   <b>challenge</b>
         my $bool = challenge Mojo::Transaction::WebSocket-&gt;new;

       Check WebSocket handshake challenge.

   <b>client_handshake</b>
         my $tx = client_handshake Mojo::Transaction::HTTP-&gt;new;

       Perform WebSocket handshake client-side.

   <b>parse_frame</b>
         my $frame = parse_frame \$bytes, $limit;

       Parse WebSocket frame.

         # Parse single frame and remove it from buffer
         my $frame = parse_frame \$buffer, 262144;
         say "FIN: $frame-&gt;[0]";
         say "RSV1: $frame-&gt;[1]";
         say "RSV2: $frame-&gt;[2]";
         say "RSV3: $frame-&gt;[3]";
         say "Opcode: $frame-&gt;[4]";
         say "Payload: $frame-&gt;[5]";

   <b>server_handshake</b>
         my $tx = server_handshake Mojo::Transaction::HTTP-&gt;new;

       Perform WebSocket handshake server-side.

</pre><h4><b>CONSTANTS</b></h4><pre>
       Mojo::WebSocket implements the following constants, which can be imported individually.

   <b>WS_BINARY</b>
       Opcode for "Binary" frames.

   <b>WS_CLOSE</b>
       Opcode for "Close" frames.

   <b>WS_CONTINUATION</b>
       Opcode for "Continuation" frames.

   <b>WS_PING</b>
       Opcode for "Ping" frames.

   <b>WS_PONG</b>
       Opcode for "Pong" frames.

   <b>WS_TEXT</b>
       Opcode for "Text" frames.

</pre><h4><b>DEBUGGING</b></h4><pre>
       You can set the "MOJO_WEBSOCKET_DEBUG" environment variable to get some advanced diagnostics information
       printed to "STDERR".

         MOJO_WEBSOCKET_DEBUG=1

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mojolicious, Mojolicious::Guides, &lt;https://mojolicious.org&gt;.

perl v5.40.0                                       2024-12-07                               <u>Mojo::<a href="../man3pm/WebSocket.3pm.html">WebSocket</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>