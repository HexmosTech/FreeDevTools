<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>getcchar, setcchar - convert between a wide-character string and a curses complex character</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ncurses-doc">ncurses-doc_6.5+20250216-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>getcchar</b>, <b>setcchar</b> - convert between a wide-character string and a <u>curses</u> complex character

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;curses.h&gt;</b>

       <b>int</b> <b>gettchar(const</b> <b>cchar_t</b> <b>*</b> <u>wch</u><b>,</b> <b>wchar_t</b> <b>*</b> <u>wc</u><b>,</b>
             <b>attr_t</b> <b>*</b> <u>attrs</u><b>,</b> <b>short</b> <b>*</b> <u>pair</u><b>,</b> <b>void</b> <b>*</b> <u>opts</u><b>);</b>
       <b>int</b> <b>settchar(cchar_t</b> <b>*</b> <u>wch</u><b>,</b> <b>const</b> <b>wchar_t</b> <b>*</b> <u>wc</u><b>,</b>
             <b>const</b> <b>attr_t</b> <u>attrs</u><b>,</b> <b>short</b> <u>pair</u><b>,</b> <b>const</b> <b>void</b> <b>*</b> <u>opts</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>curses</u> complex character data type <u>cchar_t</u> is a structure type comprising a wide-character string, a
       set of attributes, and a color pair identifier.  The <u>cchar_t</u> structure  is  opaque;  do  not  attempt  to
       access its members directly.  The library provides functions to manipulate this type.

   <b>getcchar</b>
       <b>getcchar</b> destructures a <u>cchar_t</u> into its components.

       If <u>wc</u> is not a null pointer, <b>getcchar</b>:

       •   stores the wide-character string in the <u>curses</u> complex character <u>wch</u> into <u>wc</u>;

       •   stores the attributes in <u>attrs</u>; and

       •   stores the color pair identifier in <u>pair</u>.

       If  <u>wc</u>  is  a  null  pointer, <b>getcchar</b> counts the <u>wchar_t</u> wide characters in <u>wch</u>, returns that value, and
       leaves <u>attrs</u> and <u>pair</u> unchanged.

   <b>setcchar</b>
       <b>setcchar</b> constructs a <u>curses</u> complex character <u>wch</u> from the components <u>wc</u>, <u>attrs</u>, and  <u>pair</u>.   The  wide-
       character  string  <u>wch</u>  must  be terminated with a null wide character <b>L'\0'</b> and must contain at most one
       spacing character, which, if present, must be the first wide character in the string.

       Up to <b>CCHARW_MAX</b> - 1 non-spacing characters may follow (see <b><a href="../man3NCURSES/curses_variables.3NCURSES.html">curses_variables</a></b>(3NCURSES)).  <u>ncurses</u> ignores
       any additional non-spacing characters.

       The string may contain a single control character instead.  In that case, no non-spacing  characters  are
       allowed.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       If  <b>getcchar</b>  is passed a null pointer as its <u>wc</u> argument, it returns the number of wide characters for a
       given <u>wch</u> that it would store in <u>wc</u>, counting a trailing null wide character.  If <b>getcchar</b> is not  passed
       a null pointer as its <u>wc</u> argument, it returns <b>OK</b> on success and <b>ERR</b> on failure.

       In <u>ncurses</u>, <b>getcchar</b> returns <b>ERR</b> if either <u>attrs</u> or <u>pair</u> is a null pointer and <u>wc</u> is not.

       <b>setcchar</b> returns <b>OK</b> on success and <b>ERR</b> on failure.

       In <u>ncurses</u>, <b>setcchar</b> returns <b>ERR</b> if

       •   <u>wch</u> is a null pointer,

       •   <u>wc</u> starts with a (wide) control character and contains any other wide characters, or

       •   <u>pair</u> has a negative value.

</pre><h4><b>NOTES</b></h4><pre>
       <u>wch</u>  may  be  a value stored by <b>setcchar</b> or another <u>curses</u> function with a writable <u>cchar_t</u> argument.  If
       <u>wch</u> is constructed by any other means, the library's behavior is unspecified.

</pre><h4><b>EXTENSIONS</b></h4><pre>
       X/Open Curses documents the <u>opts</u> argument as reserved for future use, saying  that  it  must  be  a  null
       pointer.   The  <u>ncurses</u> 6 ABI uses it with functions that have a color pair parameter to support extended
       color pairs.

       •   In functions that assign colors, such as <b>setcchar</b>, if <u>opts</u> is not a null pointer, <u>ncurses</u>  treats  it
           as  a  pointer  to  <u>int</u>,  and  interprets  it  instead  of  the  <u>short</u> <u>pair</u> parameter as a color pair
           identifier.

       •   In functions that retrieve colors, such as <b>getcchar</b>, if <u>opts</u> is not a null pointer, <u>ncurses</u> treats it
           as a pointer to <u>int</u>, and stores the retrieved color pair identifier there as well  as  in  the  <u>short</u>
           <u>pair</u> parameter (which may therefore undergo a narrowing conversion).

</pre><h4><b>PORTABILITY</b></h4><pre>
       Applications  employing  <u>ncurses</u>  extensions  should  condition  their  use  on  the  visibility  of  the
       <b>NCURSES_VERSION</b> preprocessor macro.

       These functions are described in X/Open Curses Issue 4.  It specifies no error conditions for them.

       X/Open Curses does not detail the layout of the <u>cchar_t</u> structure, describing only its  minimal  required
       contents:

       •   a spacing wide character (<u>wchar_t</u>),

       •   at least five non-spacing wide characters (<u>wchar_t</u>; see below),

       •   attributes (at least 15 bits' worth, inferred from the count of specified <u>WA</u><b>_</b> constants),

       •   a color pair identifier (at least 16 bits, inferred from the <u>short</u> type used to encode it).

       Non-spacing  characters  are  optional,  in  the  sense  that  zero  or  more may be stored in a <u>cchar_t</u>.
       XOpen/Curses specifies a limit:

           Implementations may limit the number of non-spacing characters that can be associated with a  spacing
           character, provided any limit is at least 5.

       Then-contemporary Unix implementations adhered to that limit.

       •   AIX 4  and OSF/1 4 used the same declaration with a single spacing wide character <u>c</u> and an array of 5
           non-spacing wide characters <u>z</u>.

       •   HP-UX 10 used an opaque structure of 28 bytes, large enough for 6 <u>wchar_t</u> values.

       •   Solaris <u>xcurses</u> uses a single array of 6 <u>wchar_t</u> values.

       <u>ncurses</u> defined its <u>cchar_t</u> in  1995  using  5  as  the  <u>total</u>  of  spacing  and  non-spacing  characters
       (<b>CCHARW_MAX</b>).  That was probably due to a misreading of the AIX 4 header files, because the X/Open Curses
       document was not generally available at that time.  Later (in 2002), this detail was overlooked when work
       began to implement the functions using the structure.

       In  practice,  a  mere  four  non-spacing characters may seem adequate.  X/Open Curses documents possible
       applications of non-spacing characters, including their  use  as  ligatures  (a  feature  apparently  not
       supported  by  any  <u>curses</u>  implementation).   Unicode does not limit the (analogous) number of combining
       characters in a grapheme cluster; some applications may be affected.  <u>ncurses</u>  can  be  compiled  with  a
       different <b>CCHARW_MAX</b> value; doing so alters the library's ABI.

</pre><h4><b>HISTORY</b></h4><pre>
       X/Open Curses Issue 4 (1995) initially specified these functions.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3NCURSES/ncurses.3NCURSES.html">ncurses</a></b>(3NCURSES), <b><a href="../man3NCURSES/attr.3NCURSES.html">attr</a></b>(3NCURSES), <b><a href="../man3NCURSES/color.3NCURSES.html">color</a></b>(3NCURSES), <b><a href="../man3/wcwidth.3.html">wcwidth</a></b>(3)

ncurses 6.5                                        2025-02-01                                 <u><a href="../man3NCURSES/getcchar.3NCURSES.html">getcchar</a></u>(3NCURSES)
</pre>
 </div>
</div></section>
</div>
</body>
</html>