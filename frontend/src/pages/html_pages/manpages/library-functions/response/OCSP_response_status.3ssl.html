<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OCSP_response_status, OCSP_response_get1_basic, OCSP_response_create, OCSP_RESPONSE_free,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       OCSP_response_status, OCSP_response_get1_basic, OCSP_response_create, OCSP_RESPONSE_free,
       OCSP_RESPID_set_by_name, OCSP_RESPID_set_by_key_ex, OCSP_RESPID_set_by_key, OCSP_RESPID_match_ex,
       OCSP_RESPID_match, OCSP_basic_sign, OCSP_basic_sign_ctx - OCSP response functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/ocsp.h&gt;

        int OCSP_response_status(OCSP_RESPONSE *resp);
        OCSP_BASICRESP *OCSP_response_get1_basic(OCSP_RESPONSE *resp);
        OCSP_RESPONSE *OCSP_response_create(int status, OCSP_BASICRESP *bs);
        void OCSP_RESPONSE_free(OCSP_RESPONSE *resp);

        int OCSP_RESPID_set_by_name(OCSP_RESPID *respid, X509 *cert);
        int OCSP_RESPID_set_by_key_ex(OCSP_RESPID *respid, X509 *cert,
                                      OSSL_LIB_CTX *libctx, const char *propq);
        int OCSP_RESPID_set_by_key(OCSP_RESPID *respid, X509 *cert);
        int OCSP_RESPID_match_ex(OCSP_RESPID *respid, X509 *cert, OSSL_LIB_CTX *libctx,
                                 const char *propq);
        int OCSP_RESPID_match(OCSP_RESPID *respid, X509 *cert);

        int OCSP_basic_sign(OCSP_BASICRESP *brsp, X509 *signer, EVP_PKEY *key,
                            const EVP_MD *dgst, STACK_OF(X509) *certs,
                            unsigned long flags);
        int OCSP_basic_sign_ctx(OCSP_BASICRESP *brsp, X509 *signer, EVP_MD_CTX *ctx,
                                STACK_OF(X509) *certs, unsigned long flags);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>OCSP_response_status()</b> returns the OCSP response status of <u>resp</u>. It returns one of the values:
       <u>OCSP_RESPONSE_STATUS_SUCCESSFUL</u>, <u>OCSP_RESPONSE_STATUS_MALFORMEDREQUEST</u>,
       <u>OCSP_RESPONSE_STATUS_INTERNALERROR</u>, <u>OCSP_RESPONSE_STATUS_TRYLATER</u> <u>OCSP_RESPONSE_STATUS_SIGREQUIRED</u>, or
       <u>OCSP_RESPONSE_STATUS_UNAUTHORIZED</u>.

       <b>OCSP_response_get1_basic()</b> decodes and returns the <u>OCSP_BASICRESP</u> structure contained in <u>resp</u>.

       <b>OCSP_response_create()</b> creates and returns an <u>OCSP_RESPONSE</u> structure for <u>status</u> and optionally including
       basic response <u>bs</u>.

       <b>OCSP_RESPONSE_free()</b> frees up OCSP response <u>resp</u>.  If the argument is NULL, nothing is done.

       <b>OCSP_RESPID_set_by_name()</b> sets the name of the OCSP_RESPID to be the same as the subject name in the
       supplied X509 certificate <u>cert</u> for the OCSP responder.

       <b>OCSP_RESPID_set_by_key_ex()</b> sets the key of the OCSP_RESPID to be the same as the key in the supplied
       X509 certificate <u>cert</u> for the OCSP responder. The key is stored as a SHA1 hash. To calculate the hash the
       SHA1 algorithm is fetched using the library ctx <u>libctx</u> and the property query string <u>propq</u> (see
       "ALGORITHM FETCHING" in <b><a href="../man7/crypto.7.html">crypto</a></b>(7) for further information).

       <b>OCSP_RESPID_set_by_key()</b> does the same as <b>OCSP_RESPID_set_by_key_ex()</b> except that the default library
       context is used with an empty property query string.

       Note that an OCSP_RESPID can only have one of the name, or the key set. Calling <b>OCSP_RESPID_set_by_name()</b>
       or <b>OCSP_RESPID_set_by_key()</b> will clear any existing setting.

       <b>OCSP_RESPID_match_ex()</b> tests whether the OCSP_RESPID given in <u>respid</u> matches with the X509 certificate
       <u>cert</u> based on the SHA1 hash. To calculate the hash the SHA1 algorithm is fetched using the library ctx
       <u>libctx</u> and the property query string <u>propq</u> (see "ALGORITHM FETCHING" in <b><a href="../man7/crypto.7.html">crypto</a></b>(7) for further
       information).

       <b>OCSP_RESPID_match()</b> does the same as <b>OCSP_RESPID_match_ex()</b> except that the default library context is
       used with an empty property query string.

       <b>OCSP_basic_sign()</b> signs OCSP response <u>brsp</u> using certificate <u>signer</u>, private key <u>key</u>, digest <u>dgst</u> and
       additional certificates <u>certs</u>. If the <u>flags</u> option <u>OCSP_NOCERTS</u> is set then no certificates will be
       included in the response. If the <u>flags</u> option <u>OCSP_RESPID_KEY</u> is set then the responder is identified by
       key ID rather than by name. <b>OCSP_basic_sign_ctx()</b> also signs OCSP response <u>brsp</u> but uses the parameters
       contained in digest context <u>ctx</u>.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>OCSP_RESPONSE_status()</b> returns a status value.

       <b>OCSP_response_get1_basic()</b> returns an <u>OCSP_BASICRESP</u> structure pointer or <u>NULL</u> if an error occurred.

       <b>OCSP_response_create()</b> returns an <u>OCSP_RESPONSE</u> structure pointer or <u>NULL</u> if an error occurred.

       <b>OCSP_RESPONSE_free()</b> does not return a value.

       <b>OCSP_RESPID_set_by_name()</b>, <b>OCSP_RESPID_set_by_key()</b>, <b>OCSP_basic_sign()</b>, and <b>OCSP_basic_sign_ctx()</b> return
       1 on success or 0 on failure.

       <b>OCSP_RESPID_match()</b> returns 1 if the OCSP_RESPID and the X509 certificate match or 0 otherwise.

</pre><h4><b>NOTES</b></h4><pre>
       <b>OCSP_response_get1_basic()</b> is only called if the status of a response is <u>OCSP_RESPONSE_STATUS_SUCCESSFUL</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/crypto.7.html">crypto</a></b>(7) <b><a href="../man3/OCSP_cert_to_id.3.html">OCSP_cert_to_id</a></b>(3) <b><a href="../man3/OCSP_request_add1_nonce.3.html">OCSP_request_add1_nonce</a></b>(3) <b><a href="../man3/OCSP_REQUEST_new.3.html">OCSP_REQUEST_new</a></b>(3) <b><a href="../man3/OCSP_resp_find_status.3.html">OCSP_resp_find_status</a></b>(3)
       <b><a href="../man3/OCSP_sendreq_new.3.html">OCSP_sendreq_new</a></b>(3) <b><a href="../man3/OCSP_RESPID_new.3.html">OCSP_RESPID_new</a></b>(3) <b><a href="../man3/OCSP_RESPID_free.3.html">OCSP_RESPID_free</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>OCSP_RESPID_set_by_name()</b>, <b>OCSP_RESPID_set_by_key()</b> and <b>OCSP_RESPID_match()</b> functions were added in
       OpenSSL 1.1.0a.

       The <b>OCSP_basic_sign_ctx()</b> function was added in OpenSSL 1.1.1.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2015-2024 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                         <u><a href="../man3SSL/OCSP_RESPONSE_STATUS.3SSL.html">OCSP_RESPONSE_STATUS</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>