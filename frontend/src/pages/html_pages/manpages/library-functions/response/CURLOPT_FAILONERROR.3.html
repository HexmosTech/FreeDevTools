<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_FAILONERROR - request failure on HTTP response >= 400</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_FAILONERROR - request failure on HTTP response &gt;= 400

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_FAILONERROR, long fail);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A  long parameter set to 1 tells the library to fail the request if the HTTP code returned is equal to or
       larger than 400. The default action would be to return the page normally, ignoring that code.

       This method is not fail-safe and there are occasions where non-successful response  codes  slip  through,
       especially when authentication is involved (response codes 401 and 407).

       You  might  get  some  amounts  of  headers  transferred  before  this situation is detected, like when a
       "100-continue" is received as a response to  a  POST/PUT  and  a  401  or  407  is  received  immediately
       afterwards.

       When  this  option  is  used  and  an  error  is  detected,  it  causes  the connection to get closed and
       <u>CURLE_HTTP_RETURNED_ERROR</u> is returned.

</pre><h4><b>DEFAULT</b></h4><pre>
       0, do not fail on error

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects http only

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           CURLcode ret;
           curl_easy_setopt(curl, CURLOPT_URL, "https://example.com/");
           curl_easy_setopt(curl, CURLOPT_FAILONERROR, 1L);
           ret = curl_easy_perform(curl);
           if(ret == CURLE_HTTP_RETURNED_ERROR) {
             /* an HTTP response error problem */
           }
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.1

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLINFO_RESPONSE_CODE.3.html">CURLINFO_RESPONSE_CODE</a></b>(3), <b><a href="../man3/CURLOPT_HTTP200ALIASES.3.html">CURLOPT_HTTP200ALIASES</a></b>(3), <b><a href="../man3/CURLOPT_KEEP_SENDING_ON_ERROR.3.html">CURLOPT_KEEP_SENDING_ON_ERROR</a></b>(3)

libcurl                                            2025-06-16                             <u><a href="../man3/CURLOPT_FAILONERROR.3.html">CURLOPT_FAILONERROR</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>