<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FFI::Platypus::Closure - Platypus closure object</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libffi-platypus-perl">libffi-platypus-perl_2.10-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       FFI::Platypus::Closure - Platypus closure object

</pre><h4><b>VERSION</b></h4><pre>
       version 2.10

</pre><h4><b>SYNOPSIS</b></h4><pre>
       create closure with OO interface

        use FFI::Platypus::Closure;
        my $closure = FFI::Platypus::Closure-&gt;new(sub { print "hello world\n" });

       create closure from Platypus object

        use FFI::Platypus 2.00;
        my $ffi = FFI::Platypus-&gt;new( api =&gt; 2 );
        my $closure = $ffi-&gt;closure(sub { print "hello world\n" });

       use closure

        $ffi-&gt;function(foo =&gt; ['()-&gt;void'] =&gt; 'void')-&gt;call($closure);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class represents a Perl code reference that can be called from compiled code.  When you create a
       closure object, you can pass it into any function that expects a function pointer.  Care needs to be
       taken with closures because compiled languages typically have a different way of handling lifetimes of
       objects.  You have to make sure that if the compiled code is going to call a closure that the closure
       object is still in scope somewhere, or has been made sticky, otherwise you may get a segment violation or
       other mysterious crash.

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
   <b>new</b>
        my $closure = FFI::Platypus::Closure-&gt;new($coderef);

       Create a new closure object; $coderef must be a subroutine code reference.

</pre><h4><b>METHODS</b></h4><pre>
   <b>call</b>
        $closure-&gt;call(@arguments);
        $closure-&gt;(@arguments);

       Call the closure from Perl space.  May also be invoked by treating the closure object as a code
       reference.

   <b>sticky</b>
        $closure-&gt;sticky;

       Mark the closure sticky, meaning that it won't be free'd even if all the reference of the object fall out
       of scope.

   <b>unstick</b>
        $closure-&gt;unstick;

       Unmark the closure as sticky.

</pre><h4><b>AUTHOR</b></h4><pre>
       Author: Graham Ollis &lt;<a href="mailto:plicease@cpan.org">plicease@cpan.org</a>&gt;

       Contributors:

       Bakkiaraj Murugesan (bakkiaraj)

       Dylan Cali (calid)

       pipcet

       Zaki Mughal (zmughal)

       Fitz Elliott (felliott)

       Vickenty Fesunov (vyf)

       Gregor Herrmann (gregoa)

       Shlomi Fish (shlomif)

       Damyan Ivanov

       Ilya Pavlov (Ilya33)

       Petr Písař (ppisar)

       Mohammad S Anwar (MANWAR)

       Håkon Hægland (hakonhagland, HAKONH)

       Meredith (merrilymeredith, MHOWARD)

       Diab Jerius (DJERIUS)

       Eric Brine (IKEGAMI)

       szTheory

       José Joaquín Atria (JJATRIA)

       Pete Houston (openstrike, HOUSTON)

       Lukas Mai (MAUKE)

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2015-2022 by Graham Ollis.

       This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.40.0                                       2025-01-11                        <u>FFI::Platypus::<a href="../man3pm/Closure.3pm.html">Closure</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>