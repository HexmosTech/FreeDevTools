<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>globus_gram_client_callback - Job state callbacks</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libglobus-gram-client-doc">libglobus-gram-client-doc_14.6-3build2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       globus_gram_client_callback - Job state callbacks

        - Job state callbacks.

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Data</b> <b>Structures</b>
       struct <b>globus_gram_client_job_info_s</b>
           Extensible job information structure.

   <b>Typedefs</b>
       typedef void(* <b>globus_gram_client_callback_func_t</b>) (void *user_callback_arg, char *job_contact, int
           state, int errorcode)
           Signature for GRAM state notification callback functions.
       typedef struct <b>globus_gram_client_job_info_s</b> <b>globus_gram_client_job_info_t</b>
           Extensible job information structure.
       typedef void(* <b>globus_gram_client_info_callback_func_t</b>) (void *user_callback_arg, const char
           *job_contact, <b>globus_gram_client_job_info_t</b> *job_info)
           Signature for GRAM state notification callback functions with extension support.
       typedef void(* <b>globus_gram_client_nonblocking_func_t</b>) (void *user_callback_arg,
           globus_gram_protocol_error_t operation_failure_code, const char *job_contact,
           globus_gram_protocol_job_state_t job_state, globus_gram_protocol_error_t job_failure_code)
           Signature for callbacks signalling completion of non-blocking GRAM requests.

   <b>Functions</b>
       int <b>globus_gram_client_callback_allow</b> (<b>globus_gram_client_callback_func_t</b> callback_func, void
           *user_callback_arg, char **callback_contact)
           Begin listening for job state change callbacks.
       int <b>globus_gram_client_info_callback_allow</b> (<b>globus_gram_client_info_callback_func_t</b> callback_func, void
           *user_callback_arg, char **callback_contact)
           Begin listening for job state change callbacks.
       int <b>globus_gram_client_callback_disallow</b> (char *callback_contact)
           Stop listening for job state change callbacks.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Job state callbacks.

</pre><h4><b>Typedef</b> <b>Documentation</b></h4><pre>
   <b>typedef</b> <b>void(*</b> <b>globus_gram_client_callback_func_t)</b> <b>(void</b> <b>*user_callback_arg,</b> <b>char</b> <b>*job_contact,</b> <b>int</b> <b>state,</b>
       <b>int</b> <b>errorcode)</b>
       Signature for GRAM state notification callback functions. The globus_gram_client_callback_func_t type
       describes the function signature for job state callbacks. A pointer to a function of this type is passed
       to the <b>globus_gram_client_callback_allow()</b> function to create a callback contact. The contact string can
       be passed to <b>globus_gram_client_job_request()</b> or <b>globus_gram_client_job_callback_register()</b> to let the
       job management service know to where to send information on GRAM job state changes.

       <b>Parameters</b>
           <u>user_callback_arg</u> A pointer to application-specific data.
           <u>job_contact</u> A string containing the job contact. This string indicates which job this callback is
           referring to. It should in most cases match the return value <u>job_contact</u> from a call to
           <b>globus_gram_client_job_request()</b> or in the <u>job_contact</u> parameter to the
           globus_gram_client_nonblocking_func_t used with <b>globus_gram_client_register_job_request()</b>. However,
           in some cases, the port number in the job contact URL may change if the job manager is restarted.
           <u>state</u> The new state (one of the #globus_gram_protocol_job_state_t values) of the job.
           <u>errorcode</u> The error code if the <u>state</u> parameter is equal to GLOBUS_GRAM_PROTOCOL_JOB_STATE_FAILED.

   <b>typedef</b> <b>void(*</b> <b>globus_gram_client_info_callback_func_t)</b> <b>(void</b> <b>*user_callback_arg,</b> <b>const</b> <b>char</b> <b>*job_contact,</b>
       <b>globus_gram_client_job_info_t</b> <b>*job_info)</b>
       Signature for GRAM state notification callback functions with extension support. The
       <b>globus_gram_client_info_callback_func_t</b> type describes the function signature for job state callbacks
       that carry any GRAM protocol extensions beyond the set used in GRAM2. A pointer to a function of this
       type is passed to the <b>globus_gram_client_info_callback_allow()</b> function to create a callback contact that
       can handle extensions. The contact string can be passed to <b>globus_gram_client_job_request()</b> or
       <b>globus_gram_client_job_callback_register()</b> to let the job management service know to where to send
       information on GRAM job state changes.

       <b>Parameters</b>
           <u>user_callback_arg</u> Application-specific callback information.
           <u>job_contact</u> Job this information is related to
           <u>job_info</u> Job state and extensions

       <b>See</b> <b>also</b>
           <b>globus_gram_client_info_callback_allow()</b>

   <b>typedef</b> <b>struct</b> <b>globus_gram_client_job_info_s</b> <b>globus_gram_client_job_info_t</b>
       Extensible job information structure. The <b>globus_gram_client_job_info_t</b> data type is used to pass
       protocol extensions along with the standard job status information included in the GRAM2 protocol. This
       structure contains the information returned in job state callbacks plus a hash table of extension entries
       that contain #globus_gram_protocol_extension_t name-value pairs.

   <b>typedef</b> <b>void(*</b> <b>globus_gram_client_nonblocking_func_t)</b> <b>(void</b> <b>*user_callback_arg,</b> <b>globus_gram_protocol_error_t</b>
       <b>operation_failure_code,</b> <b>const</b> <b>char</b> <b>*job_contact,</b> <b>globus_gram_protocol_job_state_t</b> <b>job_state,</b>
       <b>globus_gram_protocol_error_t</b> <b>job_failure_code)</b>
       Signature for callbacks signalling completion of non-blocking GRAM requests. The
       <b>globus_gram_client_info_callback_func_t</b> type describes the function signature for callbacks which
       indicate that a GRAM operation has completed. A pointer to a function of this type is passed to the
       following functions:

       • <b>globus_gram_client_register_job_request()</b>

       • <b>globus_gram_client_register_job_cancel()</b>

       • <b>globus_gram_client_register_job_status()</b>

       • <b>globus_gram_client_register_job_refresh_credentials()</b>

       • <b>globus_gram_client_register_job_signal()</b>

       • <b>globus_gram_client_register_job_callback_registration()</b>

       • <b>globus_gram_client_register_job_callback_unregistration()</b>

       • <b>globus_gram_client_register_ping()</b>

       <b>Parameters</b>
           <u>user_callback_arg</u> Application-specific callback information.
           <u>operation_failure_code</u> The result of the nonblocking operation , indicating whether the operation was
           processed by the job manager successfully or not.
           <u>job_contact</u> A string containing the job contact associated with this non-blocking operation.
           <u>job_state</u>  The state (one of the #globus_gram_protocol_job_state_t values) of the job related to this
           non-blocking operation.
           <u>job_failure_code</u>  The  error  code   of   the   job   request   if   the   job_state   parameter   is
           GLOBUS_GRAM_PROTOCOL_JOB_STATE_FAILED. Otherwise, its value is undefined.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b>    <b>globus_gram_client_callback_allow</b>    <b>(globus_gram_client_callback_func_t</b>    <b>callback_func,</b>    <b>void</b>   <b>*</b>
       <b>user_callback_arg,</b> <b>char</b> <b>**</b> <b>callback_contact)</b>
       Begin  listening  for  job  state  change  callbacks.  The  <b>globus_gram_client_callback_allow()</b>  function
       initializes a GRAM protocol service in the current process which will process job state updates from GRAM
       Job   Managers.   The   URL   to   contact   this   service   is  returned  and  may  be  used  with  the
       <b>globus_gram_client_job_request()</b> or globus_gram_client_callback_register() family of functions.

       <b>Parameters</b>
           <u>callback_func</u> A pointer to a function to call when a new job state update is received.
           <u>user_callback_arg</u> A pointer to application-specific data which is passed to the function  pointed  to
           by <u>callback_func</u> as its <u>user_callback_arg</u> parameter.
           <u>callback_contact</u>  An  output  parameter that points to a string that will be allocated and set to the
           URL that the GRAM callback listener is waiting on.

       <b>Returns</b>
           Upon success, <b>globus_gram_client_callback_allow()</b> returns <u>GLOBUS_SUCCESS</u> opens a TCP port  to  accept
           job  state  updates  and modifies the value pointed to by the <u>callback_contact</u> parameter as described
           above. If an error occurs, <b>globus_gram_client_callback_allow()</b> returns an integer error code.

       <b>Return</b> <b>values</b>
           <u>GLOBUS_SUCCESS</u> Success
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_NULL_PARAMETER</u> Null parameter
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST</u> Invalid request
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED</u> Out of memory
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_NO_RESOURCES</u> No resources

   <b>int</b> <b>globus_gram_client_callback_disallow</b> <b>(char</b> <b>*</b> <b>callback_contact)</b>
       Stop listening for job state change callbacks. The <b>globus_gram_client_callback_disallow()</b> function  stops
       the  GRAM protocol handler associated with a callback contact from receiving further messages. After this
       function returns, no further callbacks for this contact will be called.  Furthermore,  the  network  port
       associated with the protocol handler will be released.

       This function can only be used to disable a callback contact created in the current process.

       <b>Parameters</b>
           <u>callback_contact</u> A callback contact string that refers to a protocol handler in the current process.

       <b>Returns</b>
           Upon  success, <b>globus_gram_client_callback_disallow()</b> returns <u>GLOBUS_SUCCESS</u>, closes the network port
           associated with the <u>callback_contact</u> parameter and stops further  callbacks  from  occurring.  If  an
           error occurs, <b>globus_gram_client_callback_disallow()</b> returns an integer error code.

       <b>Return</b> <b>values</b>
           <u>GLOBUS_SUCCESS</u> Success
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_CALLBACK_NOT_FOUND</u> Callback not found

   <b>int</b>  <b>globus_gram_client_info_callback_allow</b>  <b>(globus_gram_client_info_callback_func_t</b>  <b>callback_func,</b>  <b>void</b> <b>*</b>
       <b>user_callback_arg,</b> <b>char</b> <b>**</b> <b>callback_contact)</b>
       Begin listening for job state change  callbacks.  The  <b>globus_gram_client_info_callback_allow()</b>  function
       initializes a GRAM protocol service in the current process which will process job state updates from GRAM
       Job   Managers.   The   URL   to   contact   this   service   is  returned  and  may  be  used  with  the
       <b>globus_gram_client_job_request_with_info()</b> or  <b>globus_gram_client_register_job_status_with_info()</b>  family
       of functions.

       <b>Parameters</b>
           <u>callback_func</u>  A  pointer to a function to call when a new job state update is received. The function
           signature of this parameter supports GRAM protocol extensions.
           <u>user_callback_arg</u> A pointer to application-specific data which is passed to the function  pointed  to
           by <u>callback_func</u> as its <u>user_callback_arg</u> parameter.
           <u>callback_contact</u>  An  output  parameter that points to a string that will be allocated and set to the
           URL that the GRAM callback listener is waiting on.

       <b>Returns</b>
           Upon success, <b>globus_gram_client_callback_allow()</b> returns <u>GLOBUS_SUCCESS</u> opens a TCP port  to  accept
           job  state  updates  and modifies the value pointed to by the <u>callback_contact</u> parameter as described
           above. If an error occurs, <b>globus_gram_client_callback_allow()</b> returns an integer error code.

       <b>Return</b> <b>values</b>
           <u>GLOBUS_SUCCESS</u> Success
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_NULL_PARAMETER</u> Null parameter
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST</u> Invalid request
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED</u> Out of memory
           <u>GLOBUS_GRAM_PROTOCOL_ERROR_NO_RESOURCES</u> No resources

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for globus_gram_client from the source code.

globus_gram_client                                Version 14.6                    <u><a href="../man3/globus_gram_client_callback.3.html">globus_gram_client_callback</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>