<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tcl_SaveInterpState,  Tcl_RestoreInterpState,  Tcl_DiscardInterpState - save and restore an interpreter's</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl9.0-doc">tcl9.0-doc_9.0.1+dfsg-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tcl_SaveInterpState,  Tcl_RestoreInterpState,  Tcl_DiscardInterpState - save and restore an interpreter's
       state

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;tcl.h&gt;</b>

       Tcl_InterpState
       <b>Tcl_SaveInterpState</b>(<u>interp,</u> <u>status</u>)

       int
       <b>Tcl_RestoreInterpState</b>(<u>interp,</u> <u>state</u>)

       <b>Tcl_DiscardInterpState</b>(<u>state</u>)

</pre><h4><b>ARGUMENTS</b></h4><pre>
       Tcl_Interp <u>*interp</u> (in)                Interpreter for which state should be saved.

       int <u>status</u> (in)                        Return code value to save as part of interpreter state.

       Tcl_InterpState <u>state</u> (in)             Saved state token to be restored or discarded.
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These routines allows a C procedure to take a snapshot of the current state of an interpreter so that  it
       can be restored after a call to <b>Tcl_Eval</b> or some other routine that modifies the interpreter state.

       <b>Tcl_SaveInterpState</b>  stores  a  snapshot  of  the  interpreter  state  in  an  opaque  token  returned by
       <b>Tcl_SaveInterpState</b>.  That token value may then be  passed  back  to  one  of  <b>Tcl_RestoreInterpState</b>  or
       <b>Tcl_DiscardInterpState</b>,  depending  on whether the interp state is to be restored.  So long as one of the
       latter two routines is called, Tcl will take care of memory management.

       <b>Tcl_SaveInterpState</b> takes a snapshot of those portions of interpreter state that make up the full  result
       of  script  evaluation.   This  include  the interpreter result, the return code (passed in as the <u>status</u>
       argument, and any return options, including <b>-errorinfo</b> and <b>-errorcode</b> when an error is in progress.  This
       snapshot is returned as an opaque token of type <b>Tcl_InterpState</b>.  The call  to  <b>Tcl_SaveInterpState</b>  does
       not itself change the state of the interpreter.

       <b>Tcl_RestoreInterpState</b>  accepts  a  <b>Tcl_InterpState</b>  token previously returned by <b>Tcl_SaveInterpState</b> and
       restores  the  state  of  the  interp  to  the  state  held  in  that  snapshot.   The  return  value  of
       <b>Tcl_RestoreInterpState</b>  is  the  status  value originally passed to <b>Tcl_SaveInterpState</b> when the snapshot
       token was created.

       <b>Tcl_DiscardInterpState</b>  is  called  to  release  a   <b>Tcl_InterpState</b>   token   previously   returned   by
       <b>Tcl_SaveInterpState</b> when that snapshot is not to be restored to an interp.

       The   <b>Tcl_InterpState</b>  token  returned  by  <b>Tcl_SaveInterpState</b>  must  eventually  be  passed  to  either
       <b>Tcl_RestoreInterpState</b> or <b>Tcl_DiscardInterpState</b> to avoid a memory leak.  Once the <b>Tcl_InterpState</b>  token
       is passed to one of them, the token is no longer valid and should not be used anymore.

</pre><h4><b>KEYWORDS</b></h4><pre>
       result, state, interp

Tcl                                                    8.1                             <u><a href="../man3tcl/Tcl_SaveInterpState.3tcl.html">Tcl_SaveInterpState</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>