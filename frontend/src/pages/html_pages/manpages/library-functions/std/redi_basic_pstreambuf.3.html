<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>redi::basic_pstreambuf - Class template for stream buffer</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpstreams-dev">libpstreams-dev_1.0.3-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       redi::basic_pstreambuf - Class template for stream buffer

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;pstream.h&gt;

       Inherits basic_streambuf&lt; CharT, std::char_traits&lt; CharT &gt; &gt;, and <b>redi::pstreams</b>.

   <b>Public</b> <b>Types</b>
       typedef CharT <b>char_type</b>
       typedef Traits <b>traits_type</b>
       typedef traits_type::int_type <b>int_type</b>
       typedef traits_type::off_type <b>off_type</b>
       typedef traits_type::pos_type <b>pos_type</b>
       typedef <b>fd_type</b> <b>fd_t</b>
       typedef std::ios_base::openmode <b>pmode</b>
           Type used to specify how to connect to the process.
       typedef std::vector&lt; std::string &gt; <b>argv_type</b>
           Type used to hold the arguments for a command.
       typedef int <b>fd_type</b>
           Type used for file descriptors.

   <b>Public</b> <b>Member</b> <b>Functions</b>
       <b>basic_pstreambuf</b> ()
           Default constructor.
       <b>basic_pstreambuf</b> (const std::string &amp;cmd, <b>pmode</b> mode)
           Constructor that initialises the buffer with <u>cmd</u>.
       <b>basic_pstreambuf</b> (const std::string &amp;file, const <b>argv_type</b> &amp;argv, <b>pmode</b> mode)
           Constructor that initialises the buffer with <u>file</u> and <u>argv</u>.
       <b>~basic_pstreambuf</b> ()
           Destructor.
       <b>basic_pstreambuf</b> * <b>open</b> (const std::string &amp;cmd, <b>pmode</b> mode)
           Initialise the stream buffer with <u>cmd</u>.
       <b>basic_pstreambuf</b> * <b>open</b> (const std::string &amp;file, const <b>argv_type</b> &amp;argv, <b>pmode</b> mode)
           Initialise the stream buffer with <u>file</u> and <u>argv</u>.
       <b>basic_pstreambuf</b> * <b>close</b> ()
           Close the stream buffer and wait for the process to exit.
       <b>basic_pstreambuf</b> * <b>kill</b> (int signal=SIGTERM)
           Send a signal to the process.
       <b>basic_pstreambuf</b> * <b>killpg</b> (int signal=SIGTERM)
           Send a signal to the process' process group.
       void <b>peof</b> ()
           Close the pipe connected to the process' stdin.
       bool <b>read_err</b> (bool readerr=true)
           Change active input source.
       bool <b>is_open</b> () const
           Report whether the stream buffer has been initialised.
       bool <b>exited</b> ()
           Report whether the process has exited.
       int <b>status</b> () const
           Return the exit status of the process.
       int <b>error</b> () const
           Return the error number (errno) for the most recent failed operation.

   <b>Static</b> <b>Public</b> <b>Attributes</b>
       static const <b>pmode</b> <b>pstdin</b> = std::ios_base::out
           Write to stdin.
       static const <b>pmode</b> <b>pstdout</b> = std::ios_base::in
           Read from stdout.
       static const <b>pmode</b> <b>pstderr</b> = std::ios_base::app
           Read from stderr.
       static const <b>pmode</b> <b>newpg</b> = std::ios_base::trunc
           Create a new process group for the child process.

   <b>Protected</b> <b>Types</b>
       enum <b>buf_read_src</b> { <b>rsrc_out</b> = 0, <b>rsrc_err</b> = 1 }
           Enumerated type to indicate whether stdout or stderr is to be read.
       enum { <b>bufsz</b> = 32 }
       enum { <b>pbsz</b> = 2 }

   <b>Protected</b> <b>Member</b> <b>Functions</b>
       int_type <b>overflow</b> (int_type c)
           Transfer characters to the pipe when character buffer overflows.
       int_type <b>underflow</b> ()
           Transfer characters from the pipe when the character buffer is empty.
       int_type <b>pbackfail</b> (int_type c=traits_type::eof())
           Make a character available to be returned by the next extraction.
       int <b>sync</b> ()
           Write any buffered characters to the stream.
       std::streamsize <b>xsputn</b> (const char_type *s, std::streamsize n)
           Insert multiple characters into the pipe.
       std::streamsize <b>write</b> (const char_type *s, std::streamsize n)
           Insert a sequence of characters into the pipe.
       std::streamsize <b>read</b> (char_type *s, std::streamsize n)
           Extract a sequence of characters from the pipe.
       std::streamsize <b>showmanyc</b> ()
           Report how many characters can be read from active input without blocking.
       pid_t <b>fork</b> (<b>pmode</b> mode)
           Initialise pipes and fork process.
       int <b>wait</b> (bool nohang=false)
           Wait for the child process to exit.
       <b>fd_type</b> &amp; <b>wpipe</b> ()
           Return the file descriptor for the output pipe.
       <b>fd_type</b> &amp; <b>rpipe</b> ()
           Return the file descriptor for the active input pipe.
       <b>fd_type</b> &amp; <b>rpipe</b> (<b>buf_read_src</b> which)
           Return the file descriptor for the specified input pipe.
       void <b>create_buffers</b> (<b>pmode</b> mode)
       void <b>destroy_buffers</b> (<b>pmode</b> mode)
       bool <b>empty_buffer</b> ()
           Writes buffered characters to the process' stdin pipe.
       bool <b>fill_buffer</b> (bool non_blocking=false)
       char_type * <b>rbuffer</b> ()
           Return the active input buffer.
       <b>buf_read_src</b> <b>switch_read_buffer</b> (<b>buf_read_src</b>)

   <b>Related</b> <b>Functions</b>
       (Note that these are not member functions.)
       void <b>close_fd</b> (<b>pstreams::fd_type</b> &amp;fd)
           Helper function to close a file descriptor.
       template&lt;int N&gt; void <b>close_fd_array</b> (<b>pstreams::fd_type</b>(&amp;fds)[N])
           Helper function to close an array of file descriptors.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
   <b>template&lt;typename</b> <b>CharT,</b> <b>typename</b> <b>Traits</b> <b>=</b> <b>std::char_traits&lt;CharT&gt;&gt;</b>
       class redi::basic_pstreambuf&lt; CharT, Traits &gt;" Class template for stream buffer.

       Provides underlying streambuf functionality for the PStreams classes.

</pre><h4><b>Member</b> <b>Typedef</b> <b>Documentation</b></h4><pre>
   <b>template&lt;typename</b> <b>CharT</b> <b>,</b> <b>typename</b> <b>Traits</b>  <b>=</b> <b>std::char_traits&lt;CharT&gt;&gt;</b> <b>typedef</b> <b>fd_type</b> <b>redi::basic_pstreambuf&lt;</b>
       <b>CharT,</b> <b>Traits</b> <b>&gt;::fd_t</b>
       <b>Deprecated</b>
           use <b>pstreams::fd_type</b> instead.

</pre><h4><b>Constructor</b> <b>&amp;</b> <b>Destructor</b> <b>Documentation</b></h4><pre>
   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::basic_pstreambuf</b> <b>[inline]</b>
       Default constructor. Creates an uninitialised stream buffer.

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::basic_pstreambuf</b> <b>(const</b> <b>std::string</b> <b>&amp;</b> <b>cmd,</b>
       <b>pmode</b> <b>mode)</b> <b>[inline]</b>
       Constructor that initialises the buffer with <u>cmd</u>. Initialises the stream buffer by calling <b>open()</b> with
       the supplied arguments.

       <b>Parameters</b>
           <u>cmd</u> a string containing a shell command.
           <u>mode</u> the I/O mode to use when opening the pipe.

       <b>See</b> <b>also</b>
           <b>open()</b>

       References redi::basic_pstreambuf&lt; CharT, Traits &gt;::open().

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::basic_pstreambuf</b> <b>(const</b> <b>std::string</b> <b>&amp;</b>
       <b>file,</b> <b>const</b> <b>argv_type</b> <b>&amp;</b> <b>argv,</b> <b>pmode</b> <b>mode)</b> <b>[inline]</b>
       Constructor that initialises the buffer with <u>file</u> and <u>argv</u>. Initialises the stream buffer by calling
       <b>open()</b> with the supplied arguments.

       <b>Parameters</b>
           <u>file</u> a string containing the name of a program to execute.
           <u>argv</u> a vector of argument strings passsed to the new program.
           <u>mode</u> the I/O mode to use when opening the pipe.

       <b>See</b> <b>also</b>
           <b>open()</b>

       References redi::basic_pstreambuf&lt; CharT, Traits &gt;::open().

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::~basic_pstreambuf</b> <b>[inline]</b>
       Destructor. Closes the stream by calling <b>close()</b>.

       <b>See</b> <b>also</b>
           <b>close()</b>

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;</b> <b>*</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::close</b>
       Close the stream buffer and wait for the process to exit. Closes all pipes and calls <b>wait()</b> to wait for
       the process to finish. If an error occurs the error code will be set to one of the possible errors for
       waitpid(). See your system's documentation for these errors.

       <b>Returns</b>
           this on successful close or NULL if there is no process to close or if an error occurs.

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>bool</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::empty_buffer</b> <b>[protected]</b>
       Writes buffered characters to the process' stdin pipe.

       <b>Returns</b>
           true if the buffer was emptied, false otherwise.

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>int</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::error</b> <b>[inline]</b>
       Return the error number (errno) for the most recent failed operation.

       <b>Returns</b>
           The error code of the most recently failed operation, or zero.

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>bool</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::exited</b> <b>[inline]</b>
       Report whether the process has exited. This function can call <b>pstreambuf::wait()</b> and so may change the
       object's state if the child process has already exited.

       <b>Returns</b>
           True if the associated process has exited, false otherwise.

       <b>See</b> <b>also</b>
           <b>basic_pstreambuf&lt;C,T&gt;::wait()</b>

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>bool</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::fill_buffer</b> <b>(bool</b> <b>non_blocking</b> <b>=</b>
       <b>false)</b> <b>[protected]</b>
       <b>Returns</b>
           true if the buffer was filled, false otherwise.

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>pid_t</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::fork</b> <b>(pmode</b> <b>mode)</b> <b>[protected]</b>
       Initialise pipes and fork process. Creates pipes as specified by <u>mode</u> and calls <b>fork()</b> <b>to</b> <b>create</b> <b>a</b> <b>new</b>
       <b>process.</b> <b>If</b> <b>the</b> <b>fork</b> <b>is</b> <b>successful</b> <b>the</b> <b>parent</b> <b>process</b> <b>stores</b> <b>the</b> <b>child's</b> <b>PID</b> <b>and</b> <b>the</b> <b>opened</b> <b>pipes</b> <b>and</b> <b>the</b>
       <b>child</b> <b>process</b> <b>replaces</b> <b>its</b> <b>standard</b> <b>streams</b> <b>with</b> <b>the</b> <b>opened</b> <b>pipes.</b>

       If an error occurs the error code will be set to one of the possible errors for pipe() or <b>fork().</b> <b>See</b>
       <b>your</b> <b>system's</b> <b>documentation</b> <b>for</b> <b>these</b> <b>error</b> <b>codes.</b>

       <b>Parameters</b>
           <u>mode</u> an OR of pmodes specifying which of the child's standard streams to connect to.

       <b>Returns</b>
           On success the PID of the child is returned in the parent's context and zero is returned in the
           child's context. On error -1 is returned and the error code is set appropriately.

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>bool</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::is_open</b> <b>[inline]</b>
       Report whether the stream buffer has been initialised. Unlike <b>pstreambuf::exited()</b>, this function will
       not call <b>wait()</b> and so will not change the object's state. This means that once a child process is
       executed successfully this function will continue to return true even after the process exits (until
       <b>wait()</b> is called.)

       <b>Returns</b>
           true if a previous call to <b>open()</b> succeeded and <b>wait()</b> has not been called and determined that the
           process has exited, false otherwise.

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;</b> <b>*</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::kill</b> <b>(int</b>
       <b>signal</b> <b>=</b> <b>SIGTERM)</b> <b>[inline]</b>
       Send a signal to the process. Sends the specified signal to the process. A signal can be used to
       terminate a child process that would not exit otherwise.

       If an error occurs the error code will be set to one of the possible errors for <b>kill().</b> <b>See</b> <b>your</b> <b>system's</b>
       <b>documentation</b> <b>for</b> <b>these</b> <b>errors.</b>

       <b>Parameters</b>
           <u>signal</u> A signal to send to the child process.

       <b>Returns</b>
           this or NULL if <b>kill()</b> <b>fails.</b>

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;</b> <b>*</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::killpg</b> <b>(int</b>
       <b>signal</b> <b>=</b> <b>SIGTERM)</b> <b>[inline]</b>
       Send a signal to the process' process group. Sends the specified signal to the process group of the child
       process. A signal can be used to terminate a child process that would not exit otherwise, or to kill the
       process and its own children.

       If an error occurs the error code will be set to one of the possible errors for getpgid() or <b>kill().</b> <b>See</b>
       <b>your</b> <b>system's</b> <b>documentation</b> <b>for</b> <b>these</b> <b>errors.</b> <b>If</b> <b>the</b> <b>child</b> <b>is</b> <b>in</b> <b>the</b> <b>current</b> <b>process</b> <b>group</b> <b>then</b> <b>NULL</b> <b>will</b>
       <b>be</b> <b>returned</b> <b>and</b> <b>the</b> <b>error</b> <b>code</b> <b>set</b> <b>to</b> <b>EPERM.</b>

       <b>Parameters</b>
           <u>signal</u> A signal to send to the child process.

       <b>Returns</b>
           this on success or NULL on failure.

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;</b> <b>*</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::open</b> <b>(const</b>
       <b>std::string</b> <b>&amp;</b> <b>command,</b> <b>pmode</b> <b>mode)</b>
       Initialise the stream buffer with <u>cmd</u>. Starts a new process by passing <u>command</u> to the shell (<a href="file:/bin/sh">/bin/sh</a>) and
       opens pipes to the process with the specified <u>mode</u>.

       If <u>mode</u> contains pstdout the initial read source will be the child process' stdout, otherwise if <u>mode</u>
       contains pstderr the initial read source will be the child's stderr.

       Will duplicate the actions of the shell in searching for an executable file if the specified file name
       does not contain a slash (/) character.

       <b>Warning</b>
           There is no way to tell whether the shell command succeeded, this function will always succeed unless
           resource limits (such as memory usage, or number of processes or open files) are exceeded. This means
           <b>is_open()</b> will return true even if <u>command</u> cannot be executed. Use <b>pstreambuf::open(const</b>
           <b>std::string&amp;,</b> <b>const</b> <b>argv_type&amp;,</b> <b>pmode)</b> if you need to know whether the command failed to execute.

       <b>Parameters</b>
           <u>command</u> a string containing a shell command.
           <u>mode</u> a bitwise OR of one or more of out, in, err.

       <b>Returns</b>
           NULL if the shell could not be started or the pipes could not be opened, this otherwise.

       <b>See</b> <b>also</b>
           <b><a href="../man3/execl.3.html">execl</a></b>(3)

       Referenced by redi::basic_pstreambuf&lt; CharT, Traits &gt;::basic_pstreambuf().

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;</b> <b>*</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::open</b> <b>(const</b>
       <b>std::string</b> <b>&amp;</b> <b>file,</b> <b>const</b> <b>argv_type</b> <b>&amp;</b> <b>argv,</b> <b>pmode</b> <b>mode)</b>
       Initialise the stream buffer with <u>file</u> and <u>argv</u>. Starts a new process by executing <u>file</u> with the
       arguments in <u>argv</u> and opens pipes to the process with the specified <u>mode</u>.

       By convention argv[0] should be the file name of the file being executed.

       If <u>mode</u> contains pstdout the initial read source will be the child process' stdout, otherwise if <u>mode</u>
       contains pstderr the initial read source will be the child's stderr.

       Will duplicate the actions of the shell in searching for an executable file if the specified file name
       does not contain a slash (/) character.

       Iff <u>file</u> is successfully executed then <b>is_open()</b> will return true. Otherwise, <b>pstreambuf::error()</b> can be
       used to obtain the value of errno that was set by <b><a href="../man3/execvp.3.html">execvp</a></b>(3) in the child process.

       The exit status of the new process will be returned by <b>pstreambuf::status()</b> after <b>pstreambuf::exited()</b>
       returns true.

       <b>Parameters</b>
           <u>file</u> a string containing the pathname of a program to execute.
           <u>argv</u> a vector of argument strings passed to the new program.
           <u>mode</u> a bitwise OR of one or more of out, in and err.

       <b>Returns</b>
           NULL if a pipe could not be opened or if the program could not be executed, this otherwise.

       <b>See</b> <b>also</b>
           <b><a href="../man3/execvp.3.html">execvp</a></b>(3)

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::int_type</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b>
       <b>&gt;::overflow</b> <b>(int_type</b> <b>c)</b> <b>[protected]</b>
       Transfer characters to the pipe when character buffer overflows. Called when the internal character
       buffer is not present or is full, to transfer the buffer contents to the pipe.

       <b>Parameters</b>
           <u>c</u> a character to be written to the pipe.

       <b>Returns</b>
           traits_type::eof() if an error occurs, otherwise if <u>c</u> is not equal to traits_type::eof() it will be
           buffered and a value other than traits_type::eof() returned to indicate success.

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::int_type</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b>
       <b>&gt;::pbackfail</b> <b>(int_type</b> <b>c</b> <b>=</b> <b>traits_type::eof())</b> <b>[protected]</b>
       Make a character available to be returned by the next extraction. Attempts to make <u>c</u> available as the
       next character to be read by sgetc().

       <b>Parameters</b>
           <u>c</u> a character to make available for extraction.

       <b>Returns</b>
           <u>c</u> if the character can be made available, traits_type::eof() otherwise.

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>void</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::peof</b> <b>[inline]</b>
       Close the pipe connected to the process' stdin. Closes the output pipe, causing the child process to
       receive the end-of-file indicator on subsequent reads from its stdin stream.

       Referenced by redi::basic_opstream&lt; CharT, Traits &gt;::peof().

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::char_type</b> <b>*</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b>
       <b>&gt;::rbuffer</b> <b>[inline],</b>  <b>[protected]</b>
       Return the active input buffer.

       <b>Returns</b>
           a pointer to the start of the active input buffer area.

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>std::streamsize</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::read</b> <b>(char_type</b> <b>*</b> <b>s,</b>
       <b>std::streamsize</b> <b>n)</b> <b>[inline],</b>  <b>[protected]</b>
       Extract a sequence of characters from the pipe. Reads up to <u>n</u> characters from the pipe to the buffer <u>s</u>.

       <b>Parameters</b>
           <u>s</u> character buffer.
           <u>n</u> buffer length.

       <b>Returns</b>
           the number of characters read.

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>bool</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::read_err</b> <b>(bool</b> <b>readerr</b> <b>=</b> <b>true)</b>
       <b>[inline]</b>
       Change active input source. Toggle the stream used for reading. If <u>readerr</u> is true then the process'
       stderr output will be used for subsequent extractions, if <u>readerr</u> is false the the process' stdout will
       be used.

       <b>Parameters</b>
           <u>readerr</u> true to read stderr, false to read stdout.

       <b>Returns</b>
           true if the requested stream is open and will be used for subsequent extractions, false otherwise.

       Referenced by redi::basic_ipstream&lt; CharT, Traits &gt;::err(), redi::basic_pstream&lt; CharT, Traits &gt;::err(),
       redi::basic_rpstream&lt; CharT, Traits &gt;::err(), redi::basic_ipstream&lt; CharT, Traits &gt;::out(),
       redi::basic_pstream&lt; CharT, Traits &gt;::out(), and redi::basic_rpstream&lt; CharT, Traits &gt;::out().

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>pstreams::fd_type</b> <b>&amp;</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::rpipe</b> <b>[inline],</b>
       <b>[protected]</b>
       Return the file descriptor for the active input pipe.

       <b>Returns</b>
           a reference to the active input file descriptor

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>pstreams::fd_type</b> <b>&amp;</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::rpipe</b> <b>(buf_read_src</b>
       <b>which)</b> <b>[inline],</b>  <b>[protected]</b>
       Return the file descriptor for the specified input pipe.

       <b>Returns</b>
           a reference to the specified input file descriptor

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>int</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::status</b> <b>[inline]</b>
       Return the exit status of the process.

       <b>Returns</b>
           The exit status of the child process, or -1 if <b>wait()</b> has not yet been called to wait for the child
           to exit.

       <b>See</b> <b>also</b>
           <b>basic_pstreambuf&lt;C,T&gt;::wait()</b>

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::int_type</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b>
       <b>&gt;::underflow</b> <b>[protected]</b>
       Transfer characters from the pipe when the character buffer is empty. Called when the internal character
       buffer is is empty, to re-fill it from the pipe.

       <b>Returns</b>
           The first available character in the buffer, or traits_type::eof() in case of failure.

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>int</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::wait</b> <b>(bool</b> <b>nohang</b> <b>=</b> <b>false)</b> <b>[protected]</b>

       Wait for the child process to exit. Suspends execution and waits for the associated process to exit, or
       until a signal is delivered whose action is to terminate the current process or to call a signal handling
       function. If the process has already exited (i.e. it is a 'zombie' process) then <b>wait()</b> returns
       immediately. Waiting for the child process causes all its system resources to be freed.

       <b>error()</b> will return EINTR if <b>wait()</b> is interrupted by a signal.

       <b>Parameters</b>
           <u>nohang</u> true to return immediately if the process has not exited.

       <b>Returns</b>
           1 if the process has exited and <b>wait()</b> has not yet been called. 0 if <u>nohang</u> is true and the process
           has not exited yet. -1 if no process has been started or if an error occurs, in which case the error
           can be found using <b>error()</b>.

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>pstreams::fd_type</b> <b>&amp;</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::wpipe</b> <b>[inline],</b>
       <b>[protected]</b>
       Return the file descriptor for the output pipe.

       <b>Returns</b>
           a reference to the output file descriptor

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>std::streamsize</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::write</b> <b>(const</b> <b>char_type</b> <b>*</b>
       <b>s,</b> <b>std::streamsize</b> <b>n)</b> <b>[inline],</b>  <b>[protected]</b>
       Insert a sequence of characters into the pipe. Writes up to <u>n</u> characters to the pipe from the buffer <u>s</u>.

       <b>Parameters</b>
           <u>s</u> character buffer.
           <u>n</u> buffer length.

       <b>Returns</b>
           the number of characters written.

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>std::streamsize</b> <b>redi::basic_pstreambuf&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::xsputn</b> <b>(const</b> <b>char_type</b> <b>*</b>
       <b>s,</b> <b>std::streamsize</b> <b>n)</b> <b>[protected]</b>
       Insert multiple characters into the pipe.

       <b>Parameters</b>
           <u>s</u> character buffer.
           <u>n</u> buffer length.

       <b>Returns</b>
           the number of characters written.

</pre><h4><b>Friends</b> <b>And</b> <b>Related</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>template&lt;typename</b> <b>CharT</b> <b>,</b> <b>typename</b> <b>Traits</b>  <b>=</b> <b>std::char_traits&lt;CharT&gt;&gt;</b> <b>void</b> <b>close_fd</b> <b>(pstreams::fd_type</b> <b>&amp;</b> <b>fd)</b>
       <b>[related]</b>
       Helper function to close a file descriptor. Inspects <u>fd</u> and calls <b><a href="../man3/close.3.html">close</a></b>(3) if it has a non-negative
       value.

       <b>Parameters</b>
           <u>fd</u> a file descriptor.

   <b>template&lt;int</b> <b>N&gt;</b> <b>void</b> <b>close_fd_array</b> <b>(pstreams::fd_type(&amp;)</b> <b>fds[N])</b> <b>[related]</b>
       Helper function to close an array of file descriptors. Calls <b>close_fd()</b> <b>on</b> <b>each</b> <b>member</b> <b>of</b> <b>the</b> <b>array.</b> <b>The</b>
       <b>length</b> <b>of</b> <b>the</b> <b>array</b> <b>is</b> <b>determined</b> <b>automatically</b> <b>by</b> <b>template</b> <b>argument</b> <b>deduction</b> <b>to</b> <b>avoid</b> <b>errors.</b>

       <b>Parameters</b>
           <u>fds</u> an array of file descriptors.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for PStreams from the source code.

PStreams                                         Sun Dec 13 2020      <u>redi::basic_pstreambuf&lt;</u> <u>CharT,</u> <u>Traits</u> <u>&gt;</u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>