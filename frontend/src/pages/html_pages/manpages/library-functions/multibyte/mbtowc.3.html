<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mbtowc - convert a multibyte sequence to a wide character</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mbtowc - convert a multibyte sequence to a wide character

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;</b>

       <b>int</b> <b>mbtowc(wchar_t</b> <b>*restrict</b> <u>pwc</u><b>,</b> <b>const</b> <b>char</b> <u>s</u><b>[restrict</b> <b>.</b><u>n</u><b>],</b> <b>size_t</b> <u>n</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  main  case  for this function is when <u>s</u> is not NULL and <u>pwc</u> is not NULL.  In this case, the <b>mbtowc</b>()
       function inspects at most <u>n</u> bytes of the multibyte string starting  at  <u>s</u>,  extracts  the  next  complete
       multibyte character, converts it to a wide character and stores it at <u>*pwc</u>.  It updates an internal shift
       state  known  only  to  the <b>mbtowc</b>() function.  If <u>s</u> does not point to a null byte ('\0'), it returns the
       number of bytes that were consumed from <u>s</u>, otherwise it returns 0.

       If the <u>n</u> bytes starting at <u>s</u> do not contain a complete multibyte character, or if they contain an invalid
       multibyte sequence, <b>mbtowc</b>() returns -1.  This can happen even if  <u>n</u>  &gt;=  <u>MB_CUR_MAX</u>,  if  the  multibyte
       string contains redundant shift sequences.

       A  different  case is when <u>s</u> is not NULL but <u>pwc</u> is NULL.  In this case, the <b>mbtowc</b>() function behaves as
       above, except that it does not store the converted wide character in memory.

       A third case is when <u>s</u> is NULL.  In this case, <u>pwc</u> and <u>n</u> are ignored.  The <b>mbtowc</b>() function  resets  the
       shift  state,  only known to this function, to the initial state, and returns nonzero if the encoding has
       nontrivial shift state, or zero if the encoding is stateless.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       If <u>s</u> is not NULL, the <b>mbtowc</b>() function returns the number of consumed bytes starting at <u>s</u>,  or  0  if  <u>s</u>
       points to a null byte, or -1 upon failure.

       If  <u>s</u>  is NULL, the <b>mbtowc</b>() function returns nonzero if the encoding has nontrivial shift state, or zero
       if the encoding is stateless.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       For an explanation of the terms used in this section, see <b><a href="../man7/attributes.7.html">attributes</a></b>(7).
       ┌──────────────────────────────────────────────────────────────────────┬───────────────┬────────────────┐
       │ <b>Interface</b>                                                            │ <b>Attribute</b>     │ <b>Value</b>          │
       ├──────────────────────────────────────────────────────────────────────┼───────────────┼────────────────┤
       │ <b>mbtowc</b>()                                                             │ Thread safety │ MT-Unsafe race │
       └──────────────────────────────────────────────────────────────────────┴───────────────┴────────────────┘

</pre><h4><b>VERSIONS</b></h4><pre>
       This function is not multithread safe.  The function <b><a href="../man3/mbrtowc.3.html">mbrtowc</a></b>(3) provides a better interface to  the  same
       functionality.

</pre><h4><b>STANDARDS</b></h4><pre>
       C11, POSIX.1-2008.

</pre><h4><b>HISTORY</b></h4><pre>
       POSIX.1-2001, C99.

</pre><h4><b>NOTES</b></h4><pre>
       The behavior of <b>mbtowc</b>() depends on the <b>LC_CTYPE</b> category of the current locale.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/MB_CUR_MAX.3.html">MB_CUR_MAX</a></b>(3), <b><a href="../man3/mblen.3.html">mblen</a></b>(3), <b><a href="../man3/mbrtowc.3.html">mbrtowc</a></b>(3), <b><a href="../man3/mbstowcs.3.html">mbstowcs</a></b>(3), <b><a href="../man3/wcstombs.3.html">wcstombs</a></b>(3), <b><a href="../man3/wctomb.3.html">wctomb</a></b>(3)

Linux man-pages 6.9.1                              2024-06-15                                          <u><a href="../man3/mbtowc.3.html">mbtowc</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>