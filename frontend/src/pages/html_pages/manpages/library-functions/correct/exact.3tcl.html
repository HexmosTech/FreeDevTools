<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>math::exact - Exact Real Arithmetic</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       math::exact - Exact Real Arithmetic

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.6</b> <b>9</b>

       package require <b>grammar::aycock</b> <b>1.0</b>

       package require <b>math::exact</b> <b>1.0.2</b>

       <b>::math::exact::exactexpr</b> <u>expr</u>

       <u>number</u> <b>ref</b>

       <u>number</u> <b>unref</b>

       <u>number</u> <b>asPrint</b> <u>precision</u>

       <u>number</u> <b>asFloat</b> <u>precision</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>exactexpr</b>  command in the <b>math::exact</b> package allows for exact computations over the computable real
       numbers.  These are not arbitrary-precision calculations; rather they are exact, with numbers represented
       by algorithms that produce successive approximations. At the end of a calculation, the caller can request
       a given precision for the end result, and intermediate results are  computed  to  whatever  precision  is
       necessary to satisfy the request.

</pre><h4><b>PROCEDURES</b></h4><pre>
       The following procedure is the primary entry into the <b>math::exact</b> package.

       <b>::math::exact::exactexpr</b> <u>expr</u>
              Accepts a mathematical expression in Tcl syntax, and returns an object that represents the program
              to  calculate  successive approximations to the expression's value. The result will be referred to
              as an exact real number.

       <u>number</u> <b>ref</b>
              Increases the reference count of a given exact real number.

       <u>number</u> <b>unref</b>
              Decreases the reference count of a given exact  real  number,  and  destroys  the  number  if  the
              reference count is zero.

       <u>number</u> <b>asPrint</b> <u>precision</u>
              Formats the given <u>number</u> for printing, with the specified <u>precision</u>.  (See below for how <u>precision</u>
              is interpreted). Numbers that are known to be rational are formatted as fractions.

       <u>number</u> <b>asFloat</b> <u>precision</u>
              Formats the given <u>number</u> for printing, with the specified <u>precision</u>.  (See below for how <u>precision</u>
              is interpreted). All numbers are formatted in floating-point E format.

</pre><h4><b>PARAMETERS</b></h4><pre>
       <u>expr</u>   Expression  to  evaluate.  The  syntax for expressions is the same as it is in Tcl, but the set of
              operations is smaller. See <b>Expressions</b> below for details.

       <u>number</u> The object returned by an earlier invocation of <b>math::exact::exactexpr</b>

       <u>precision</u>
              The requested 'precision' of the result. The precision is (approximately) the  absolute  value  of
              the  binary  exponent  plus  the number of bits of the binary significand. For instance, to return
              results to IEEE-754 double precision, 56 bits plus the exponent are required. Numbers between  1/2
              and  2 will require a precision of 57; numbers between 1/4 and 1/2 or between 2 and 4 will require
              58; numbers between 1/8 and 1/4 or between 4 and 8 will require 59; and so on.

</pre><h4><b>EXPRESSIONS</b></h4><pre>
       The <b>math::exact::exactexpr</b> command accepts expressions  in  a  subset  of  Tcl's  syntax.  The  following
       components may be used in an expression.

       •      Decimal integers.

       •      Variable  references  with  the  dollar sign (<b>$</b>).  The value of the variable must be the result of
              another call to <b>math::exact::exactexpr</b>. The reference count of the value will be increased by  one
              for each position at which it appears in the expression.

       •      The exponentiation operator (<b>**</b>).

       •      Unary plus (<b>+</b>) and minus (<b>-</b>) operators.

       •      Multiplication (<b>*</b>) and division (<b>/</b>) operators.

       •      Parentheses used for grouping.

       •      Functions. See <b>Functions</b> below for the functions that are available.

</pre><h4><b>FUNCTIONS</b></h4><pre>
       The following functions are available for use within exact real expressions.

       <b>acos(</b><u>x</u><b>)</b>
              The inverse cosine of <u>x</u>. The result is expressed in radians.  The absolute value of <u>x</u> must be less
              than 1.

       <b>acosh(</b><u>x</u><b>)</b>
              The inverse hyperbolic cosine of <u>x</u>.  <u>x</u> must be greater than 1.

       <b>asin(</b><u>x</u><b>)</b>
              The  inverse  sine of <u>x</u>. The result is expressed in radians.  The absolute value of <u>x</u> must be less
              than 1.

       <b>asinh(</b><u>x</u><b>)</b>
              The inverse hyperbolic sine of <u>x</u>.

       <b>atan(</b><u>x</u><b>)</b>
              The inverse tangent of <u>x</u>. The result is expressed in radians.

       <b>atanh(</b><u>x</u><b>)</b>
              The inverse hyperbolic tangent of <u>x</u>.  The absolute value of <u>x</u> must be less than 1.

       <b>cos(</b><u>x</u><b>)</b> The cosine of <u>x</u>. <u>x</u> is expressed in radians.

       <b>cosh(</b><u>x</u><b>)</b>
              The hyperbolic cosine of <u>x</u>.

       <b>e()</b>    The base of the natural logarithms = <b>2.71828...</b>

       <b>exp(</b><u>x</u><b>)</b> The exponential function of <u>x</u>.

       <b>log(</b><u>x</u><b>)</b> The natural logarithm of <u>x</u>. <u>x</u> must be positive.

       <b>pi()</b>   The value of pi = <b>3.15159...</b>

       <b>sin(</b><u>x</u><b>)</b> The sine of <u>x</u>. <u>x</u> is expressed in radians.

       <b>sinh(</b><u>x</u><b>)</b>
              The hyperbolic sine of <u>x</u>.

       <b>sqrt(</b><u>x</u><b>)</b>
              The square root of <u>x</u>. <u>x</u> must be positive.

       <b>tan(</b><u>x</u><b>)</b> The tangent of <u>x</u>. <u>x</u> is expressed in radians.

       <b>tanh(</b><u>x</u><b>)</b>
              The hyperbolic tangent of <u>x</u>.

</pre><h4><b>SUMMARY</b></h4><pre>
       The <b>math::exact::exactexpr</b> command provides a system that performs exact arithmetic over computable  real
       numbers,  representing  the  numbers  as  algorithms  for  successive  approximation.   An example, which
       implements the high-school quadratic formula, is shown below.

              namespace import math::exact::exactexpr
              proc exactquad {a b c} {
                  set d [[exactexpr {sqrt($b*$b - 4*$a*$c)}] ref]
                  set r0 [[exactexpr {(-$b - $d) / (2 * $a)}] ref]
                  set r1 [[exactexpr {(-$b + $d) / (2 * $a)}] ref]
                  $d unref
                  return [list $r0 $r1]
              }

              set a [[exactexpr 1] ref]
              set b [[exactexpr 200] ref]
              set c [[exactexpr {(-3/2) * 10**-12}] ref]
              lassign [exactquad $a $b $c] r0 r1
              $a unref; $b unref; $c unref
              puts [list [$r0 asFloat 70] [$r1 asFloat 110]]
              $r0 unref; $r1 unref

       The program prints the result:

              -2.000000000000000075e2 7.499999999999999719e-15

       Note that if IEEE-754 floating point had been used, a catastrophic roundoff error would yield  a  smaller
       root that is a factor of two too high:

              -200.0 1.4210854715202004e-14

       The  invocations  of <b>exactexpr</b> should be fairly self-explanatory.  The other commands of note are <b>ref</b> and
       <b>unref</b>. It is necessary for the caller to keep track of references to exact  expressions  -  to  call  <b>ref</b>
       every  time  an  exact  expression  is stored in a variable and <b>unref</b> every time the variable goes out of
       scope or is overwritten.  The <b>asFloat</b> method emits decimal digits as  long  as  the  requested  precision
       supports  them. It terminates when the requested precision yields an uncertainty of more than one unit in
       the least significant digit.

</pre><h4><b>CATEGORY</b></h4><pre>
       Mathematics

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2015 Kevin B. Kenny &lt;<a href="mailto:kennykb@acm.org">kennykb@acm.org</a>&gt;
       Redistribution permitted under the terms of the Open Publication License &lt;<a href="http://www.opencontent.org/openpub/">http://www.opencontent.org/openpub/</a>&gt;

tcllib                                                1.0.2                                    <u>math::<a href="../man3tcl/exact.3tcl.html">exact</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>