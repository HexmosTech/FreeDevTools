<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mason::Manual::RequestDispatch - How request paths get mapped to page components</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmason-perl">libmason-perl_2.24-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mason::Manual::RequestDispatch - How request paths get mapped to page components

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Given the request path

           /news/sports/hockey

       Mason searches for the following components in order, setting $m-&gt;path_info as noted.

           /news/sports/hockey.{mp,mc}
           /news/sports/hockey/index.{mp,mc}
           /news/sports/hockey/dhandler.{mp,mc}
           /news/sports/dhandler.{mp,mc}  # $m-&gt;path_info = hockey
           /news/sports.{mp,mc}           # $m-&gt;path_info = hockey (but see next section)
           /news/dhandler.{mp,mc}         # $m-&gt;path_info = sports/hockey
           /news.{mp,mc}                  # $m-&gt;path_info = sports/hockey (but see next section)
           /dhandler.{mp,mc}              # $m-&gt;path_info = news/sports/hockey

       where ".{mp,mc}" means either ".mp" (indicating a <u>pure-perl</u> component). or ".mc" (indicating a <u>top-level</u>
       component).

       The following sections describe these elements in more detail.

   <b>Autoextended</b> <b>path</b>
       The request path is suffixed with ".mp" and ".mc" to translate it to a component path.

           /news/sports/hockey.{mp,mc}

   <b>Index</b>
       An index matches its exact directory, nothing underneath.

           /news/sports/hockey/index.{mp,mc}

   <b>Dhandlers</b>
       A dhandler matches its directory as well as anything underneath, setting "$m-&gt;path_info" to the
       remainder.

           /news/sports/hockey/dhandler.{mp,mc}
           /news/sports/dhandler.{mp,mc}  # $m-&gt;path_info = hockey
           /news/dhandler.{mp,mc}         # $m-&gt;path_info = sports/hockey
           /dhandler.{mp,mc}              # $m-&gt;path_info = news/sports/hockey

   <b>Partial</b> <b>paths</b>
       A component can match an initial part of the URL, setting "$m-&gt;path_info" to the remainder:

           /news/sports.{mp,mc}           # $m-&gt;path_info = hockey
           /news.{mp,mc}                  # $m-&gt;path_info = sports/hockey

       Since this isn't always desirable behavior, it must be explicitly enabled for the component. Mason will
       call method "allow_path_info" on the component class, and will only allow the match if it returns true:

           &lt;%class&gt;
           method allow_path_info { 1 }
           &lt;/%class&gt;

       The default "allow_path_info" returns false.

       "allow_path_info" is not checked on dhandlers, since the whole point of dhandlers is to match partial
       paths.

   <b>Trailing</b> <b>slash</b>
       If the request URL has a trailing slash (ends with "/"), we remove it before the match process begins and
       add it to the "$m-&gt;path_info". Components that should match must have "allow_path_info" return true.

       For example:

           ## request URL /news/
           /news/index.{mp,mc}     # $m-&gt;path_info = / if index.{mp,mc} has
                                   # allow_path_info =&gt; true
           /news/dhandler.{mp,mc}  # $m-&gt;path_info = /
           /news.{mp,mc}           # $m-&gt;path_info = / if news.{mp,mc} has
                                   # allow_path_info =&gt; true

           ## request URL /news/sports/
           /news/sports/index.{mp,mc}     # $m-&gt;path_info = / if index.{mp,mc} has
                                          # allow_path_info =&gt; true
           /news/sports/dhandler.{mp,mc}  # $m-&gt;path_info = /
           /news/sports.{mp,mc}           # $m-&gt;path_info = / if sports.{mp,mc}
                                          # has allow_path_info =&gt; true
           /news/dhandler.{mp,mc}         # $m-&gt;path_info = sports/
           /news.{mp,mc}                  # $m-&gt;path_info = /sports/ if news.{mp,mc}
                                          # has allow_path_info =&gt; true

   <b>Routes</b>
       It is possible to use route syntax to more elegantly parse "$m-&gt;path_info" for dhandlers and partial
       paths, e.g.

           &lt;%class&gt;
           route "{year:[0-9]+}/{month:[0-9]{2}}";
           &lt;/%class&gt;

       See Mason::Plugin::RouterSimple.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mason

</pre><h4><b>AUTHOR</b></h4><pre>
       Jonathan Swartz &lt;<a href="mailto:swartz@pobox.com">swartz@pobox.com</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2012 by Jonathan Swartz.

       This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.34.0                                       2022-05-27                <u>Mason::Manual::<a href="../man3pm/RequestDispatch.3pm.html">RequestDispatch</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>