<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TAP::Parser::Aggregator - Aggregate TAP::Parser results</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtest-harness-perl">libtest-harness-perl_3.50-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       TAP::Parser::Aggregator - Aggregate TAP::Parser results

</pre><h4><b>VERSION</b></h4><pre>
       Version 3.50

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use TAP::Parser::Aggregator;

           my $aggregate = TAP::Parser::Aggregator-&gt;new;
           $aggregate-&gt;add( 't/00-load.t', $load_parser );
           $aggregate-&gt;add( 't/10-lex.t',  $lex_parser  );

           my $summary = &lt;&lt;'END_SUMMARY';
           Passed:  %s
           Failed:  %s
           Unexpectedly succeeded: %s
           END_SUMMARY
           printf $summary,
                  scalar $aggregate-&gt;passed,
                  scalar $aggregate-&gt;failed,
                  scalar $aggregate-&gt;todo_passed;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       "TAP::Parser::Aggregator" collects parser objects and allows reporting/querying their aggregate results.

</pre><h4><b>METHODS</b></h4><pre>
   <b>Class</b> <b>Methods</b>
       <u>"new"</u>

        my $aggregate = TAP::Parser::Aggregator-&gt;new;

       Returns a new "TAP::Parser::Aggregator" object.

   <b>Instance</b> <b>Methods</b>
       <u>"add"</u>

         $aggregate-&gt;add( $description =&gt; $parser );

       The $description is usually a test file name (but only by convention.)  It is used as a unique identifier
       (see e.g.  "parsers".)  Reusing a description is a fatal error.

       The $parser is a TAP::Parser object.

       <u>"parsers"</u>

         my $count   = $aggregate-&gt;parsers;
         my @parsers = $aggregate-&gt;parsers;
         my @parsers = $aggregate-&gt;parsers(@descriptions);

       In scalar context without arguments, this method returns the number of parsers aggregated.  In list
       context without arguments, returns the parsers in the order they were added.

       If @descriptions is given, these correspond to the keys used in each call to the <b>add()</b> method.  Returns
       an array of the requested parsers (in the requested order) in list context or an array reference in
       scalar context.

       Requesting an unknown identifier is a fatal error.

       <u>"descriptions"</u>

       Get an array of descriptions in the order in which they were added to the aggregator.

       <u>"start"</u>

       Call "start" immediately before adding any results to the aggregator.  Among other times it records the
       start time for the test run.

       <u>"stop"</u>

       Call "stop" immediately after adding all test results to the aggregator.

       <u>"elapsed"</u>

       Elapsed returns a Benchmark object that represents the running time of the aggregated tests. In order for
       "elapsed" to be valid you must call "start" before running the tests and "stop" immediately afterwards.

       <u>"elapsed_timestr"</u>

       Returns a formatted string representing the runtime returned by elapsed().  This lets the caller not
       worry about Benchmark.

       <u>"all_passed"</u>

       Return true if all the tests passed and no parse errors were detected.

       <u>"get_status"</u>

       Get a single word describing the status of the aggregated tests.  Depending on the outcome of the tests
       returns 'PASS', 'FAIL' or 'NOTESTS'. This token is understood by CPAN::Reporter.

   <b>Summary</b> <b>methods</b>
       Each of the following methods will return the total number of corresponding tests if called in scalar
       context.  If called in list context, returns the descriptions of the parsers which contain the
       corresponding tests (see "add" for an explanation of description.

       •   failed

       •   parse_errors

       •   passed

       •   planned

       •   skipped

       •   todo

       •   todo_passed

       •   wait

       •   exit

       For  example,  to  find  out  how  many  tests  unexpectedly succeeded (TODO tests which passed when they
       shouldn't):

        my $count        = $aggregate-&gt;todo_passed;
        my @descriptions = $aggregate-&gt;todo_passed;

       Note that "wait" and "exit" are the totals of the wait and exit statuses of  each  of  the  tests.  These
       values are totalled only to provide a true value if any of them are non-zero.

       <u>"total"</u>

         my $tests_run = $aggregate-&gt;total;

       Returns the total number of tests run.

       <u>"has_problems"</u>

         if ( $parser-&gt;has_problems ) {
             ...
         }

       Identical  to "has_errors", but also returns true if any TODO tests unexpectedly succeeded.  This is more
       akin to "warnings".

       <u>"has_errors"</u>

         if ( $parser-&gt;has_errors ) {
             ...
         }

       Returns true if <u>any</u> of the parsers failed.  This includes:

       •   Failed tests

       •   Parse errors

       •   Bad exit or wait status

       <u>"todo_failed"</u>

         # deprecated in favor of 'todo_passed'.  This method was horribly misnamed.

       This was a badly misnamed method.  It indicates which TODO tests unexpectedly succeeded.  Will now  issue
       a warning and call "todo_passed".

</pre><h4><b>See</b> <b>Also</b></h4><pre>
       TAP::Parser

       TAP::Harness

perl v5.40.0                                       2024-08-17                       <u>TAP::Parser::<a href="../man3pm/Aggregator.3pm.html">Aggregator</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>