<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hwlocality_cpubinding - CPU binding</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libhwloc-doc">libhwloc-doc_2.12.0-4build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       hwlocality_cpubinding - CPU binding

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Enumerations</b>
       enum <b>hwloc_cpubind_flags_t</b> { <b>HWLOC_CPUBIND_PROCESS</b>, <b>HWLOC_CPUBIND_THREAD</b>, <b>HWLOC_CPUBIND_STRICT</b>,
           <b>HWLOC_CPUBIND_NOMEMBIND</b> }

   <b>Functions</b>
       int <b>hwloc_set_cpubind</b> (<b>hwloc_topology_t</b> topology, <b>hwloc_const_cpuset_t</b> set, int flags)
       int <b>hwloc_get_cpubind</b> (<b>hwloc_topology_t</b> topology, <b>hwloc_cpuset_t</b> set, int flags)
       int <b>hwloc_set_proc_cpubind</b> (<b>hwloc_topology_t</b> topology, hwloc_pid_t pid, <b>hwloc_const_cpuset_t</b> set, int
           flags)
       int <b>hwloc_get_proc_cpubind</b> (<b>hwloc_topology_t</b> topology, hwloc_pid_t pid, <b>hwloc_cpuset_t</b> set, int flags)
       int <b>hwloc_set_thread_cpubind</b> (<b>hwloc_topology_t</b> topology, hwloc_thread_t thread, <b>hwloc_const_cpuset_t</b> set,
           int flags)
       int <b>hwloc_get_thread_cpubind</b> (<b>hwloc_topology_t</b> topology, hwloc_thread_t thread, <b>hwloc_cpuset_t</b> set, int
           flags)
       int <b>hwloc_get_last_cpu_location</b> (<b>hwloc_topology_t</b> topology, <b>hwloc_cpuset_t</b> set, int flags)
       int <b>hwloc_get_proc_last_cpu_location</b> (<b>hwloc_topology_t</b> topology, hwloc_pid_t pid, <b>hwloc_cpuset_t</b> set, int
           flags)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Some operating systems only support binding threads or processes to a single PU. Others allow binding to
       larger sets such as entire Cores or Packages or even random sets of individual PUs. In such operating
       system, the scheduler is free to run the task on one of these PU, then migrate it to another PU, etc. It
       is often useful to call <b>hwloc_bitmap_singlify()</b> on the target CPU set before passing it to the binding
       function to avoid these expensive migrations. See the documentation of <b>hwloc_bitmap_singlify()</b> for
       details.

       Some operating systems do not provide all hwloc-supported mechanisms to bind processes, threads, etc.
       <b>hwloc_topology_get_support()</b> may be used to query about the actual CPU binding support in the currently
       used operating system.

       When the requested binding operation is not available and the <b>HWLOC_CPUBIND_STRICT</b> flag was passed, the
       function returns -1. errno is set to ENOSYS when it is not possible to bind the requested kind of object
       processes/threads. errno is set to EXDEV when the requested cpuset can not be enforced (e.g. some systems
       only allow one CPU, and some other systems only allow one NUMA node).

       If <b>HWLOC_CPUBIND_STRICT</b> was not passed, the function may fail as well, or the operating system may use a
       slightly different operation (with side-effects, smaller binding set, etc.) when the requested operation
       is not exactly supported.

       The most portable version that should be preferred over the others, whenever possible, is the following
       one which just binds the current program, assuming it is single-threaded:

       hwloc_set_cpubind(topology, set, 0),

       If the program may be multithreaded, the following one should be preferred to only bind the current
       thread:

       hwloc_set_cpubind(topology, set, HWLOC_CPUBIND_THREAD),

       <b>See</b> <b>also</b>
           Some example codes are available under doc/examples/ in the source tree.

       <b>Note</b>
           To unbind, just call the binding function with either a full cpuset or a cpuset equal to the system
           cpuset.

           On some operating systems, CPU binding may have effects on memory binding, see
           <b>HWLOC_CPUBIND_NOMEMBIND</b>

           Running lstopo --top or hwloc-ps can be a very convenient tool to check how binding actually
           happened.

</pre><h4><b>Enumeration</b> <b>Type</b> <b>Documentation</b></h4><pre>
   <b>enum</b> <b>hwloc_cpubind_flags_t</b>
       Process/Thread binding flags. These bit flags can be used to refine the binding policy.

       The default (0) is to bind the current process, assumed to be single-threaded, in a non-strict way. This
       is the most portable way to bind as all operating systems usually provide it.

       <b>Note</b>
           Not all systems support all kinds of binding. See the 'Detailed Description' section of <b>CPU</b> <b>binding</b>
           for a description of errors that can occur.

       <b>Enumerator</b>

       <u>HWLOC_CPUBIND_PROCESS</u>
              Bind all threads of the current (possibly) multithreaded process.

       <u>HWLOC_CPUBIND_THREAD</u>
              Bind current thread of current process.

       <u>HWLOC_CPUBIND_STRICT</u>
              Request  for  strict  binding from the OS. By default, when the designated CPUs are all busy while
              other CPUs are idle, operating systems may execute the thread/process on those other CPUs  instead
              of  the designated CPUs, to let them progress anyway. Strict binding means that the thread/process
              will _never_ execute on other CPUs than the designated CPUs, even when those are busy  with  other
              tasks and other CPUs are idle.

       <b>Note</b>
           Depending  on  the  operating  system,  strict  binding  may  not  be possible (e.g., the OS does not
           implement it) or not allowed (e.g., for an administrative reasons), and the  function  will  fail  in
           that case.

       When retrieving the binding of a process, this flag checks whether all its threads actually have the same
       binding. If the flag is not given, the binding of each thread will be accumulated.

       <b>Note</b>
           This flag is meaningless when retrieving the binding of a thread.

       <u>HWLOC_CPUBIND_NOMEMBIND</u>
              Avoid  any  effect  on  memory binding. On some operating systems, some CPU binding function would
              also bind the memory on  the  corresponding  NUMA  node.  It  is  often  not  a  problem  for  the
              application,  but  if it is, setting this flag will make hwloc avoid using OS functions that would
              also bind memory. This will however reduce the support of CPU bindings, i.e. potentially return -1
              with errno set to ENOSYS in some cases.

       This flag is only meaningful when used with functions that set the CPU binding. It is ignored  when  used
       with functions that get CPU binding information.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b> <b>hwloc_get_cpubind</b> <b>(hwloc_topology_t</b> <b>topology,</b> <b>hwloc_cpuset_t</b> <b>set,</b> <b>int</b> <b>flags)</b>
       Get  current  process  or  thread binding. The CPU-set set (previously allocated by the caller) is filled
       with the list of PUs which the process or thread (according to <u>flags</u>) was last bound to.

       <b>Returns</b>
           0 on success, -1 on error.

   <b>int</b> <b>hwloc_get_last_cpu_location</b> <b>(hwloc_topology_t</b> <b>topology,</b> <b>hwloc_cpuset_t</b> <b>set,</b> <b>int</b> <b>flags)</b>
       Get the last physical CPU where the current process or thread ran. The CPU-set set (previously  allocated
       by  the  caller) is filled with the list of PUs which the process or thread (according to <u>flags</u>) last ran
       on.

       The operating system may move some tasks from one processor to another at any  time  according  to  their
       binding, so this function may return something that is already outdated.

       flags  can  include  either  <b>HWLOC_CPUBIND_PROCESS</b>  or  <b>HWLOC_CPUBIND_THREAD</b> to specify whether the query
       should be for the whole process (union of all CPUs on which all threads are running), or only the current
       thread. If the process is single-threaded, flags can be set to zero to let hwloc use whichever method  is
       available on the underlying OS.

       <b>Returns</b>
           0 on success, -1 on error.

   <b>int</b> <b>hwloc_get_proc_cpubind</b> <b>(hwloc_topology_t</b> <b>topology,</b> <b>hwloc_pid_t</b> <b>pid,</b> <b>hwloc_cpuset_t</b> <b>set,</b> <b>int</b> <b>flags)</b>
       Get  the current physical binding of process pid. The CPU-set set (previously allocated by the caller) is
       filled with the list of PUs which the process was last bound to.

       <b>Returns</b>
           0 on success, -1 on error.

       <b>Note</b>
           hwloc_pid_t is pid_t on Unix platforms, and HANDLE on native Windows platforms.

           As a special case on Linux, if a tid (thread ID) is supplied  instead  of  a  pid  (process  ID)  and
           HWLOC_CPUBIND_THREAD is passed in flags, the binding for that specific thread is returned.

           On non-Linux systems, HWLOC_CPUBIND_THREAD can not be used in flags.

   <b>int</b>  <b>hwloc_get_proc_last_cpu_location</b>  <b>(hwloc_topology_t</b>  <b>topology,</b>  <b>hwloc_pid_t</b> <b>pid,</b> <b>hwloc_cpuset_t</b> <b>set,</b> <b>int</b>
       <b>flags)</b>
       Get the last physical CPU where a process ran. The CPU-set set (previously allocated by  the  caller)  is
       filled with the list of PUs which the process last ran on.

       The  operating  system  may  move some tasks from one processor to another at any time according to their
       binding, so this function may return something that is already outdated.

       <b>Returns</b>
           0 on success, -1 on error.

       <b>Note</b>
           hwloc_pid_t is pid_t on Unix platforms, and HANDLE on native Windows platforms.

           As a special case on Linux, if a tid (thread ID) is supplied  instead  of  a  pid  (process  ID)  and
           <b>HWLOC_CPUBIND_THREAD</b> is passed in flags, the last CPU location of that specific thread is returned.

           On non-Linux systems, <b>HWLOC_CPUBIND_THREAD</b> can not be used in flags.

   <b>int</b>  <b>hwloc_get_thread_cpubind</b>  <b>(hwloc_topology_t</b>  <b>topology,</b>  <b>hwloc_thread_t</b>  <b>thread,</b>  <b>hwloc_cpuset_t</b> <b>set,</b> <b>int</b>
       <b>flags)</b>
       Get the current physical binding of thread tid. The CPU-set set (previously allocated by the  caller)  is
       filled with the list of PUs which the thread was last bound to.

       <b>Returns</b>
           0 on success, -1 on error.

       <b>Note</b>
           hwloc_thread_t is pthread_t on Unix platforms, and HANDLE on native Windows platforms.

           <b>HWLOC_CPUBIND_PROCESS</b> can not be used in flags.

   <b>int</b> <b>hwloc_set_cpubind</b> <b>(hwloc_topology_t</b> <b>topology,</b> <b>hwloc_const_cpuset_t</b> <b>set,</b> <b>int</b> <b>flags)</b>
       Bind current process or thread on CPUs given in physical bitmap set.

       <b>Returns</b>
           0 on success.

           -1 with errno set to ENOSYS if the action is not supported.

           -1 with errno set to EXDEV if the binding cannot be enforced.

   <b>int</b> <b>hwloc_set_proc_cpubind</b> <b>(hwloc_topology_t</b> <b>topology,</b> <b>hwloc_pid_t</b> <b>pid,</b> <b>hwloc_const_cpuset_t</b> <b>set,</b> <b>int</b> <b>flags)</b>
       Bind a process pid on CPUs given in physical bitmap set.

       <b>Returns</b>
           0 on success, -1 on error.

       <b>Note</b>
           hwloc_pid_t is pid_t on Unix platforms, and HANDLE on native Windows platforms.

           As  a  special  case  on  Linux,  if  a tid (thread ID) is supplied instead of a pid (process ID) and
           <b>HWLOC_CPUBIND_THREAD</b> is passed in flags, the binding is applied to that specific thread.

           On non-Linux systems, <b>HWLOC_CPUBIND_THREAD</b> can not be used in flags.

   <b>int</b> <b>hwloc_set_thread_cpubind</b> <b>(hwloc_topology_t</b> <b>topology,</b> <b>hwloc_thread_t</b> <b>thread,</b> <b>hwloc_const_cpuset_t</b> <b>set,</b> <b>int</b>
       <b>flags)</b>
       Bind a thread thread on CPUs given in physical bitmap set.

       <b>Returns</b>
           0 on success, -1 on error.

       <b>Note</b>
           hwloc_thread_t is pthread_t on Unix platforms, and HANDLE on native Windows platforms.

           <b>HWLOC_CPUBIND_PROCESS</b> can not be used in flags.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for Hardware Locality (hwloc) from the source code.

Hardware Locality (hwloc)                        Version 2.12.0                         <u><a href="../man3/hwlocality_cpubinding.3.html">hwlocality_cpubinding</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>