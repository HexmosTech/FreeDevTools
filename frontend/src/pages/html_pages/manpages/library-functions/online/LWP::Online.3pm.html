<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LWP::Online - Does your process have access to the web</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liblwp-online-perl">liblwp-online-perl_1.08-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       LWP::Online - Does your process have access to the web

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use LWP::Online 'online';

         # "Is the internet working?"
         die "NO INTARWWEB!!!" unless online();

         # The above means something like this
         unless ( online('http') ) {
             die "No basic http access to the web";
         }

         # Special syntax for use in test scripts that need
         # "real" access to the internet. Scripts will automatically
         # skip if connection fails.
         use LWP::Online ':skip_all';
         use Test::More tests =&gt; 4; #after LWP::Online

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module attempts to answer, as accurately as it can, one of the nastiest technical questions there
       is.

       <b>Am</b> <b>I</b> <b>on</b> <b>the</b> <b>internet?</b>

       The answer is useful in a wide range of decisions. For example...

       <u>Should</u> <u>my</u> <u>test</u> <u>scripts</u> <u>run</u> <u>the</u> <u>online</u> <u>portion</u> <u>of</u> <u>the</u> <u>tests</u> <u>or</u> <u>just</u> <u>skip</u> <u>them?</u>

       <u>Do</u> <u>I</u> <u>try</u> <u>to</u> <u>fetch</u> <u>fresh</u> <u>data</u> <u>from</u> <u>the</u> <u>server?</u>

       <u>If</u> <u>my</u> <u>request</u> <u>to</u> <u>the</u> <u>server</u> <u>breaks,</u> <u>is</u> <u>it</u> <u>because</u> <u>I'm</u> <u>offline,</u> <u>or</u> <u>because</u> <u>the</u> <u>server</u> <u>is</u> <u>offline?</u>

       And so on, and so forth.

       But a host of networking and security issues make this problem very difficult. There are firewalls,
       proxies (both well behaved and badly behaved). We might not have DNS. We might not have a network card at
       all!

       You might have network access, but only to a for-money wireless network that responds to ever HTTP
       request with a page asking you to enter your credit card details for paid access. Which means you don't
       "REALLY" have access.

       The mere nature of the question makes it practically unsolvable.

       But with the answer being so useful, and the only other alternative being to ask the user "duh... are you
       online?" (when you might not have a user at all) it's my gut feeling that it is worthwhile at least
       making an attempt to solve the problem, if only in a limited way.

   <b>Why</b> <b>LWP::Online?</b> <b>Why</b> <b>not</b> <b>Net::Online?</b>
       The nice thing about LWP::Online is that LWP deals with a whole range of different transports, and is
       very commonly installed. HTTP, HTTPS, FTP, and so on and so forth.

       Attempting to do a more generalised Net::Online that might also check for SSH and so on would end up most
       likely having to install a whole bunch of modules that you most likely will never use.

       So LWP forms a nice base on which to write a module that covers most of the situations in which you might
       care, while keeping the dependency overhead down to a minimum.

   <b>Scope</b>
       "Am I online?" is inherently an Open Problem.

       That is, it's a problem that had no clean permanent solution, and for which you could just keep writing
       more and more functionality indefinitely, asymtotically approaching 100% correctness but never reaching
       it.

       And so this module is intended to do as good a job as possible, without having to resort to asking any
       human questions (who may well get it wrong anyway), and limiting itself to a finite amount of programming
       work and a reasonable level of memory overhead to load the code.

       It is thus understood the module will <b>never</b> be perfect, and that if any new functionality is desired, it
       needs to be able to implemented by the person that desires the new behaviour, and in a reasonably small
       amount of additional code.

       This module is also <b>not</b> intended to compensate for malicious behaviour of any kind, it is quite possible
       that some malicious person might proxy fake versions of sites that pass our content checks and then
       proceed to show you other bad pages.

   <b>Test</b> <b>Mode</b>
         use LWP::Online ':skip_all';

       As a convenience when writing tests scripts base on Test::More, the special ':skip_all' param can be
       provided when loading <b>LWP::Online</b>.

       This implements the functional equivalent of the following.

         BEGIN {
           require Test::More;
           unless ( LWP::Online::online() ) {
             Test::More-&gt;import(
               skip_all =&gt; 'Test requires a working internet connection'
             );
           }
         }

       The :skip_all special import flag can be mixed with regular imports.

</pre><h4><b>FUNCTIONS</b></h4><pre>
   <b>online</b>
         # Default check (uses http)
         online() or die "No Internet";

         # The above is equivalent to
         online('http') or die "No Internet";

       The importable <b>online</b> function is the main functionality provided by <b>LWP::Online</b>. It takes a single
       optional transport name ('http' by default) and checks that LWP connectivity is available for that
       transport.

       Because it is intended as a Do What You Mean function, it checks not only that a network connection is
       available, and http requests return content, but also that it returns the CORRECT content instead of
       unexpected content supplied by a man in the middle.

       For example, many wireless connections require login or payment, and will return a service provider page
       for any URI that you attempt to fetch.

       The set of websites used for the testing is the Google, Amazon, Yahoo and CNN websites. The check is for
       a copyright statement on their homepage, and the function returns true as soon as two of the website
       return correctly, making the method relatively redundant.

       Returns true if the computer is "online" (has a working connection via LWP) or false if not.

   <b>offline</b>
       The importable <b>offline</b> function is provided as a convenience.

       It provides a simple pass-through (including any params) to the <b>online</b> function, but with a negated
       result.

</pre><h4><b>TO</b> <b>DO</b></h4><pre>
       - Add more transport types that can be checked, somehow keeping the code growth under control.

</pre><h4><b>SUPPORT</b></h4><pre>
       This module is stored in an Open Repository at the following address.

       &lt;<a href="http://svn.ali.as/cpan/trunk/LWP-Online">http://svn.ali.as/cpan/trunk/LWP-Online</a>&gt;

       Write access to the repository is made available automatically to any published CPAN author, and to most
       other volunteers on request.

       If you are able to submit your bug report in the form of new (failing) unit tests (which for this module
       will be extremely difficult), or can apply your fix directly instead of submitting a patch, you are
       <b>strongly</b> encouraged to do so as the author currently maintains over 100 modules and it can take some time
       to deal with non-Critical bug reports or patches.

       This will guarantee that your issue will be addressed in the next release of the module.

       If you cannot provide a direct test or fix, or don't have time to do so, then regular bug reports are
       still accepted and appreciated via the CPAN bug tracker.

       &lt;<a href="http://rt.cpan.org/NoAuth/ReportBug.html">http://rt.cpan.org/NoAuth/ReportBug.html</a>?Queue=LWP-Online&gt;

       For other issues, for commercial enhancement or support, or to have your write access enabled for the
       repository, contact the author at the email address above.

</pre><h4><b>AUTHOR</b></h4><pre>
       Adam Kennedy &lt;<a href="mailto:adamk@cpan.org">adamk@cpan.org</a>&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       LWP::Simple

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2006 - 2011 Adam Kennedy.

       This program is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

       The full text of the license can be found in the LICENSE file included with this module.

perl v5.36.0                                       2022-12-04                                   <u>LWP::<a href="../man3pm/Online.3pm.html">Online</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>