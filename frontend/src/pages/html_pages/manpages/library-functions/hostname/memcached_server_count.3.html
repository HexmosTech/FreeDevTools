<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>memcached_server_count - libmemcached Documentation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmemcached-dev">libmemcached-dev_1.1.4-1.1build3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       memcached_server_count - libmemcached Documentation

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;libmemcached/memcached.h&gt;</b>
              Compile and link with -lmemcached

       <b>uint32_t</b> <b>memcached_server_count(</b><u>memcached_st</u> <b>*ptr)</b>

              <b>Parameters</b>
                     <b>ptr</b> -- pointer to initialized <u>memcached_st</u> struct

              <b>Returns</b>
                     number of configured servers

       <u>memcached_return_t</u> <b>memcached_server_add(</b><u>memcached_st</u> <b>*ptr,</b> <b>const</b> <b>char</b> <b>*hostname,</b> <b>in_port_t</b> <b>port)</b>

              <b>Parameters</b>

                     • <b>ptr</b> -- pointer to initialized <u>memcached_st</u> struct

                     • <b>hostname</b> -- hostname or IP address of the TCP server to add

                     • <b>port</b> -- port of the TCP server

              <b>Returns</b>
                     <u>memcached_return_t</u> indicating success

       <u>memcached_return_t</u> <b>memcached_server_add_udp(</b><u>memcached_st</u> <b>*ptr,</b> <b>const</b> <b>char</b> <b>*hostname,</b> <b>in_port_t</b> <b>port)</b>

              <b>Parameters</b>

                     • <b>ptr</b> -- pointer to initialized <u>memcached_st</u> struct

                     • <b>hostname</b> -- hostname or IP address of the UDP server to add

                     • <b>port</b> -- port of the UDP server

              <b>Returns</b>
                     <u>memcached_return_t</u> indicating success

       <u>memcached_return_t</u> <b>memcached_server_add_unix_socket(</b><u>memcached_st</u> <b>*ptr,</b> <b>const</b> <b>char</b> <b>*socket)</b>

              <b>Parameters</b>

                     • <b>ptr</b> -- pointer to initialized <u>memcached_st</u> struct

                     • <b>socket</b> -- path to the UNIX socket of the server to add

              <b>Returns</b>
                     <u>memcached_return_t</u> indicating success

       <u>memcached_return_t</u> <b>memcached_server_push(</b><u>memcached_st</u> <b>*ptr,</b> <b>const</b> <b>memcached_server_st</b> <b>*list)</b>

              <b>Parameters</b>

                     • <b>ptr</b> -- pointer to initialized <u>memcached_st</u> struct

                     • <b>list</b> -- pre-configured list of servers to push

              <b>Returns</b>
                     <u>memcached_return_t</u> indicating success

       <b>const</b> <b>memcached_instance_st</b> <b>*memcached_server_by_key(</b><u>memcached_st</u> <b>*ptr,</b> <b>const</b> <b>char</b> <b>*key,</b> <b>size_t</b>
       <b>key_length,</b> <u>memcached_return_t</u> <b>*error)</b>

              <b>Parameters</b>

                     • <b>ptr</b> -- pointer to initialized <u>memcached_st</u> struct

                     • <b>key</b> -- key to hash and lookup a server

                     • <b>key_length</b> -- length of <u>key</u> without any terminating zero

                     • <b>error</b> -- pointer to <u>memcached_return_t</u> indicating success

              <b>Returns</b>
                     the server instance to be used for storing/retrieving <u>key</u>

       <b>const</b> <b>memcached_instance_st</b> <b>*memcached_server_get_last_disconnect(const</b> <u>memcached_st</u> <b>*ptr)</b>

              <b>Parameters</b>
                     <b>ptr</b> -- pointer to initialized <u>memcached_st</u> struct

              <b>Returns</b>
                     the instance of the last server for which there was a connection problem

       <u>memcached_return_t</u> <b>memcached_server_cursor(const</b> <u>memcached_st</u> <b>*ptr,</b> <b>const</b> <u>memcached_server_fn</u> <b>*callback,</b>
       <b>void</b> <b>*context,</b> <b>uint32_t</b> <b>number_of_callbacks)</b>

              <b>Parameters</b>

                     • <b>ptr</b> -- pointer to initialized <u>memcached_st</u> struct

                     • <b>callback</b> -- list of <u>memcached_server_fn</u> to be called for each server instance

                     • <b>context</b> -- pointer to user supplied context for the callback

                     • <b>number_of_callbacks</b> -- number of callbacks supplied

              <b>Returns</b>
                     <u>memcached_return_t</u> indicating success

       <b>typedef</b> <u>memcached_return_t</u> <b>(*memcached_server_fn)(const</b> <u>memcached_st</u> <b>*ptr,</b> <b>const</b> <b>memcached_instance_st</b>
       <b>*server,</b> <b>void</b> <b>*context)</b>

              <b>Param</b> <b>ptr</b>
                     pointer to the <u>memcached_st</u> struct

              <b>Param</b> <b>server</b>
                     pointer to <b>memcached_instance_st</b>

              <b>Param</b> <b>context</b>
                     pointer to user supplied context

              <b>Returns</b>
                     <u>memcached_return_t</u> indicating success

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>libmemcached</b>  performs operations on a list of hosts. The order of these hosts determine routing to keys.
       Functions are provided to add keys to  <u>memcached_st</u>  structures.  To  manipulate  lists  of  servers  see
       <b>memcached_server_st</b>.

       <u>memcached_server_count()</u>  provides  you  a  count  of  the  current  number  of  servers  being used by a
       <u>memcached_st</u> structure.

       <u>memcached_server_add()</u> pushes a single TCP server into the <u>memcached_st</u> structure. This  server  will  be
       placed at the end.  Duplicate servers are allowed, so duplication is not checked. Executing this function
       with the <u>MEMCACHED_BEHAVIOR_USE_UDP</u> behavior set will result in a <u>MEMCACHED_INVALID_HOST_PROTOCOL</u>.

       <u>memcached_server_add_udp()</u>  pushes  a single UDP server into the <u>memcached_st</u> structure. This server will
       be placed at the end. Duplicate servers are allowed,  so  duplication  is  not  checked.  Executing  this
       function    without    setting    the    <u>MEMCACHED_BEHAVIOR_USE_UDP</u>    behavior    will   result   in   a
       <u>MEMCACHED_INVALID_HOST_PROTOCOL</u>.

       <u>memcached_server_add_unix_socket()</u> pushes a single UNIX socket into the <u>memcached_st</u> structure. This UNIX
       socket will be placed at the end.  Duplicate servers are allowed, so  duplication  is  not  checked.  The
       length of the filename must be one character less than <b>MEMCACHED_MAX_HOST_LENGTH</b>.

       <u>memcached_server_push()</u>  pushes  an  array  of <b>memcached_server_st</b> into the <u>memcached_st</u> structure. These
       servers will be placed at the end. Duplicate servers are allowed, so duplication is not checked.  A  copy
       is made of structure so the list provided (and any operations on the list) are not saved.

       <u>memcached_server_by_key()</u>  allows  you  to  provide a key and retrieve the server which would be used for
       assignment.

       <u>memcached_server_get_last_disconnect()</u> returns a pointer to  the  last  server  for  which  there  was  a
       connection  problem.  It  does  not  mean  this particular server is currently dead but if the library is
       reporting a server is, the returned server is a very good candidate.

       <u>memcached_server_cursor()</u> takes a memcached_st and loops through the  list  of  hosts  currently  in  the
       cursor  calling  the  list of callback functions provided. You can optionally pass in a value via context
       which will be provided to each callback function. An error return from any callback  will  terminate  the
       loop.  <u>memcached_server_cursor()</u> is passed the original caller <u>memcached_st</u> in its current state.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Varies, see particular functions.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/memcached.1.html">memcached</a>(1)</b> <b><a href="../man3/libmemcached.3.html">libmemcached</a>(3)</b> <b><a href="../man3/memcached_server_st.3.html">memcached_server_st</a>(3)</b> <b><a href="../man3/memcached_strerror.3.html">memcached_strerror</a>(3)</b>

1.1                                               Mar 31, 2024                         <u><a href="../man3/MEMCACHED_SERVER_COUNT.3.html">MEMCACHED_SERVER_COUNT</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>