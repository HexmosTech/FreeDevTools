<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class::Default - Static calls apply to a default instantiation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libclass-default-perl">libclass-default-perl_1.51-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Class::Default - Static calls apply to a default instantiation

</pre><h4><b>SYNOPSIS</b></h4><pre>
         # Create the defaulted class
         package Foo::Base;

         use base 'Class::Default';

         sub new { bless {}, $_[0] }

         sub show {
             my $self = shift-&gt;_self;
             "$self";
         }

         # Do something to the default object

         package main;

         print Foo::Bar-&gt;show;

         # Prints 'Foo::Bar=<a href="../man0x80d22f8/HASH.0x80d22f8.html">HASH</a>(0x80d22f8)'

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Class::Default provides a mechanism to allow your class to take static method calls and apply it to a
       default instantiation of an object. It provides a flexibility to an API that allows it to be used more
       confortably in different situations.

       A good example of this technique in use is CGI.pm. When you use a static method, like "CGI-"header&gt;, your
       call is being applied to a default instantiation of a CGI object.

       This technique appears to be especially useful when writing modules that you want to be used in either a
       single use or a persistent environment. In a CGI like environment, you want the simplicity of a static
       interface. You can call "Class-"method&gt; directly, without having to pass an instantiation around
       constantly.

</pre><h4><b>USING</b> <b>THE</b> <b>MODULES</b></h4><pre>
       Class::Default provides a couple of levels of control. They start with simple enabling the method to
       apply to the default instantation, and move on to providing some level of control over the creation of
       the default object.

   <b>Inheriting</b> <b>from</b> <b>Class::Default</b>
       To start, you will need to inherit from Class::Default. You do this in the normal manner, using something
       like "use base 'Class::Default'", or setting the @ISA value directly. "Class::Default" does not have a
       default constructor or any public methods, so you should be able to use it a multiple inheritance
       situation without any implications.

   <b>Making</b> <b>method</b> <b>work</b>
       To make your class work with Class::Default you need to make a small adjustment to each method that you
       would like to be able to access the default object.

       A typical method will look something like the following

         sub foobar {
             my $self = shift;

             # Do whatever the method does
         }

       To make the method work with Class::Default, you should change it to the following

         sub foobar {
             my $self = shift-&gt;_self;

             # Do whatever the method does
         }

       This change is very low impact, easy to use, and will not make any other differences to the way your code
       works.

   <b>Control</b> <b>over</b> <b>the</b> <b>default</b> <b>object</b>
       When needed, Class::Default will make a new instantation of your class and cache it to be used whenever a
       static call is made. It does this in the simplest way possible, by calling "Class-"<b>new()</b>&gt; with no
       arguments.

       This is fine if you have a very pure class that can handle creating a new object without any arguments,
       but many classes expect some sort of argument to the the constructor, and indeed that the constructor
       that should be used it the "new" method.

       Enter the "_create_default_object" method. By overloading the "_create_default_object" method in your
       class, you can custom create the default object. This will used to create the default object on demand,
       the first time a method is called. For example, the following class demonstrate the use of
       "_create_default_object" to set some values in the default object.

         package Slashdot::User;

         use base 'Class::Default';

         # Constructor
         sub new {
               my $class = shift;
               my $name = shift;

               my $self = {
                       name =&gt; $name,
                       favourite_color =&gt; '',
               };

               return bless $self, $class;
         }

         # Default constructor
         sub _create_default_object {
               my $class = shift;

               my $self = $class-&gt;new( 'Anonymous Coward' );
               $self-&gt;{favourite_color} = 'Orange';

               return $self;
         }

         sub name {
               $_[0]-&gt;_self-&gt;{name};
         }

         sub favourite_color {
               $_[0]-&gt;_self-&gt;{favourite_color};
         }

       That provides a statically accessible default object that could be used as in the following manner.

         print "The default slashdot user is " . Slashdot::User-&gt;name
             . " and they like the colour " . Slashdot::User-&gt;favourite_color;

       Remember that the default object is persistent, so changes made to the statically accessible object can
       be recovered later.

   <b>Getting</b> <b>access</b> <b>to</b> <b>the</b> <b>default</b> <b>object</b>
       There are a few ways to do this, but the easiest way is to simple do the following

         my $default = Slashdot::User-&gt;_get_default;

</pre><h4><b>METHODS</b></h4><pre>
   <b>_self</b>
       Used by methods to make the method apply to the default object if called statically without affecting
       normal object methods.

   <b>_class</b>
       The "_class" method provides the opposite of the "_self" method. Instead of always getting an object,
       "_class" will always get the class name, so a method can be guaranteed to run in a static context. This
       is not essential to the use of a "Class::Default" module, but is provided as a convenience.

   <b>_get_default</b>
       Used to get the default object directly.

   <b>_create_default_object</b>
       To be overloaded by your class to set any properties to the default object at creation time.

</pre><h4><b>BUGS</b></h4><pre>
       No known bugs, but suggestions are welcome

</pre><h4><b>SUPPORT</b></h4><pre>
       Bugs should be reported via the CPAN bug tracker at

       &lt;<a href="http://rt.cpan.org/NoAuth/ReportBug.html">http://rt.cpan.org/NoAuth/ReportBug.html</a>?Queue=Class-Default&gt;

       For other issues, contact the author

</pre><h4><b>AUTHOR</b></h4><pre>
       Adam Kennedy &lt;<a href="mailto:adamk@cpan.org">adamk@cpan.org</a>&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       &lt;<a href="http://ali.as/">http://ali.as/</a>&gt;, Class::Singleton

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2002 - 2006 Adam Kennedy.

       This program is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

       The full text of the license can be found in the LICENSE file included with this module.

perl v5.36.0                                       2022-10-15                                <u>Class::<a href="../man3pm/Default.3pm.html">Default</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>