<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::SPF::Mod - SPF record modifier base class</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-spf-perl">libmail-spf-perl_3.20250505-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::SPF::Mod - SPF record modifier base class

</pre><h4><b>VERSION</b></h4><pre>
       version 3.20250505

</pre><h4><b>DESCRIPTION</b></h4><pre>
       An object of class <b>Mail::SPF::Mod</b> represents a modifier within an SPF record.  Mail::SPF::Mod cannot be
       instantiated directly.  Create an instance of a concrete sub-class instead.

   <b>Constructors</b>
       The following constructors are provided:

       <b>new(%options)</b>: returns <u>Mail::SPF::Mod</u>
           <u>Abstract</u>.  Creates a new SPF record modifier object.

           %options is a list of key/value pairs representing any of the following options:

           <b>text</b>
               A <u>string</u> denoting the unparsed text of the modifier.

           <b>name</b>
               A  <u>string</u>  denoting  the  name  of the modifier.  <u>Required</u> if a generic <u>Mail::SPF::Mod</u> object (as
               opposed to a specific sub-class) is being constructed.

           <b>domain_spec</b>
               Either a plain <u>string</u> or a  <u>Mail::SPF::MacroString</u>  object  denoting  an  optional  "domain-spec"
               parameter of the mechanism.

       <b>new_from_string($text,</b> <b>%options)</b>: returns <u>Mail::SPF::Mod</u>; throws <u>Mail::SPF::ENothingToParse</u>,
       <u>Mail::SPF::EInvalidMod</u>
           <u>Abstract</u>.  Creates a new SPF record modifier object by parsing the string and any options given.

   <b>Class</b> <b>methods</b>
       The following class methods are provided:

       <b>name_pattern</b>: returns <u>Regexp</u>
           Returns a regular expression that matches any legal modifier name.

   <b>Instance</b> <b>methods</b>
       The following instance methods are provided:

       <b>text</b>: returns <u>string</u>; throws <u>Mail::SPF::ENoUnparsedText</u>
           Returns  the  unparsed  text  of  the modifier.  Throws a <u>Mail::SPF::ENoUnparsedText</u> exception if the
           modifier was created synthetically instead of being parsed, and no text was provided.

       <b>name</b>: returns <u>string</u>
           Returns the name of the modifier.

       <b>params</b>: returns <u>string</u>
           <u>Abstract</u>.  Returns the modifier's parameters formatted as a string.

           A sub-class of Mail::SPF::Mod does not have to implement this method if it  supports  no  parameters,
           although this is highly unlikely.

       <b>stringify</b>: returns <u>string</u>
           Formats  the  modifier's  name  and  parameters  as  a  string  and returns it.  You can simply use a
           Mail::SPF::Mod object as a string for the same effect, see "OVERLOADING".

       <b>process</b>: throws <u>Mail::SPF::Result</u>, <u>Mail::SPF::Result::Error</u>, <u>Mail::SPF::Exception</u>
           <u>Abstract</u>.  Processes the modifier.  What that means depends on  the  actual  implementation  in  sub-
           classes.  See "MODIFIER TYPES" below.

           This method is abstract and must be implemented by sub-classes of Mail::SPF::Mod.

</pre><h4><b>MODIFIER</b> <b>TYPES</b></h4><pre>
       There are different basic types of modifiers, which are described below.  All of them are provided by the
       <b>Mail::SPF::Mod</b> module.

   <b>Global</b> <b>modifiers</b> <b>-</b> <b>Mail::SPF::GlobalMod</b>
       <b>SPFv1</b>  (RFC 4408) only knows "global" modifiers.  A global modifier may appear anywhere in an SPF record,
       but only once.  During evaluation of the record, global modifiers are processed after the last  mechanism
       has been evaluated and an SPF result has been determined.

       The following additional class method is provided by <b>Mail::SPF::GlobalMod</b>:

       <b>precedence</b>: returns <u>real</u>
           <u>Abstract</u>.   Returns  a  <u>real</u> number between <b>0</b> and <b>1</b> denoting the precedence of the type of the global
           modifier.  Global modifiers present in an SPF record are processed in the order of  their  precedence
           values, <b>0</b> meaning "first".

           This method is abstract and must be implemented by sub-classes of Mail::SPF::GlobalMod.

       The following specific instance method is provided by <b>Mail::SPF::GlobalMod</b>:

       <b>process($server,</b> <b>$request,</b> <b>$result)</b>: throws <u>Mail::SPF::Result</u>
           <u>Abstract</u>.   Processes  the  modifier.   What  that means depends on the actual implementation in sub-
           classes.  Takes both a <u>Mail::SPF::Server</u> and a <u>Mail::SPF::Request</u> object.  As  global  modifiers  are
           generally  processed  <u>after</u>  an  SPF  result  has  already  been  determined,  takes also the current
           <u>Mail::SPF::Result</u>.  If the modifier wishes to modify  the  SPF  result,  it  may  throw  a  different
           <u>Mail::SPF::Result</u> object.

           This method is abstract and must be implemented by sub-classes of Mail::SPF::GlobalMod.

   <b>Positional</b> <b>modifiers</b> <b>-</b> <b>Mail::SPF::PositionalMod</b>
       <b>Sender</b>  <b>ID</b>  (RFC  4406)  introduces  the  concept  of  "positional"  modifiers.  According to RFC 4406, a
       positional modifier must follow a mechanism and applies to that,  and  only  that,  mechanism.   However,
       because  this  definition is not very useful, and because no positional modifiers have been defined based
       on it as of yet, <b>Mail::SPF</b> deviates from RFC 4406 as follows:

       A positional modifier may appear anywhere in an SPF record, and it is stateful, i.e. it  applies  to  all
       mechanisms  and  modifiers  that  follow  it.  Positional modifiers are generally multiple, i.e. they may
       appear any number of times throughout the record.  During evaluation of the record, positional  modifiers
       are  processed  at  exactly  the  time  when  they  are  encountered by the evaluator.  Consequently, all
       positional modifiers are processed before an SPF result is determined.

       The following specific instance method is provided by <b>Mail::SPF::PositionalMod</b>:

       <b>process($server,</b> <b>$request)</b>: throws <u>Mail::SPF::Result::Error</u>, <u>Mail::SPF::Exception</u>
           <u>Abstract</u>.  Processes the modifier.  What that means depends on  the  actual  implementation  in  sub-
           classes.   Takes  both  a <u>Mail::SPF::Server</u> and a <u>Mail::SPF::Request</u> object.  As global modifiers are
           generally processed <u>before</u> an SPF result has been determined, no result object is  available  to  the
           modifier.  The modifier can (at least at this time) not directly modify the final SPF result, however
           it may throw an exception to signal an error condition.

           This method is abstract and must be implemented by sub-classes of Mail::SPF::PositionalMod.

   <b>Unknown</b> <b>modifiers</b> <b>-</b> <b>Mail::SPF::UnknownMod</b>
       Both <b>SPFv1</b> and <b>Sender</b> <b>ID</b> allow unknown modifiers to appear in SPF records in order to allow new modifiers
       to  be  introduced  without  breaking existing implementations.  Obviously, unknown modifiers are neither
       global nor positional, but they may appear any number of times  throughout  the  record  and  are  simply
       ignored during evaluation of the record.

       Also obviously, <b>Mail::SPF::UnknownMod</b> does not support a "process" method.

       The following specific instance method is provided by <b>Mail::SPF::UnknownMod</b>:

       <b>params</b>: returns <u>string</u>
           Returns the modifier's unparsed value as a string.

</pre><h4><b>OVERLOADING</b></h4><pre>
       If a Mail::SPF::Mod object is used as a <u>string</u>, the "stringify" method is used to convert the object into
       a string.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mail::SPF::Mod::Redirect, Mail::SPF::Mod::Exp

       Mail::SPF, Mail::SPF::Record, Mail::SPF::Term

       &lt;<a href="http://tools.ietf.org/html/rfc4408">http://tools.ietf.org/html/rfc4408</a>&gt;

       For availability, support, and license information, see the README file included with Mail::SPF.

</pre><h4><b>AUTHORS</b></h4><pre>
       Julian Mehnle &lt;<a href="mailto:julian@mehnle.net">julian@mehnle.net</a>&gt;, Shevek &lt;<a href="mailto:cpan@anarres.org">cpan@anarres.org</a>&gt;

perl v5.40.1                                       2025-05-10                                <u>Mail::SPF::<a href="../man3pm/Mod.3pm.html">Mod</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>