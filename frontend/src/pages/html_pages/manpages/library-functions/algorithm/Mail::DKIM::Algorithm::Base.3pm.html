<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::DKIM::Algorithm::Base - base class for DKIM "algorithms"</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-dkim-perl">libmail-dkim-perl_1.20230212-1ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::DKIM::Algorithm::Base - base class for DKIM "algorithms"

</pre><h4><b>VERSION</b></h4><pre>
       version 1.20230212

</pre><h4><b>SYNOPSIS</b></h4><pre>
         my $algorithm = new Mail::DKIM::Algorithm::rsa_sha1(
                             Signature =&gt; $dkim_signature
                         );

         # add headers
         $algorithm-&gt;add_header("Subject: this is the subject\015\012");
         $algorithm-&gt;finish_header;

         # add body
         $algorithm-&gt;add_body("This is the body.\015\012");
         $algorithm-&gt;add_body("Another line of the body.\015\012");
         $algorithm-&gt;finish_body;

         # now sign or verify...
         # TODO...

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
       You should not create an object of this class directly. Instead, use one of the DKIM algorithm
       implementation classes, such as rsa_sha1:

         my $algorithm = new Mail::DKIM::Algorithm::rsa_sha1(
                             Signature =&gt; $dkim_signature
                         );

</pre><h4><b>METHODS</b></h4><pre>
   <b>add_body()</b> <b>-</b> <b>feeds</b> <b>part</b> <b>of</b> <b>the</b> <b>body</b> <b>into</b> <b>the</b> <b>algorithm/canonicalization</b>
         $algorithm-&gt;add_body("This is the body.\015\012");
         $algorithm-&gt;add_body("Another line of the body.\015\012");

       The body should be fed one "line" at a time.

   <b>add_header()</b> <b>-</b> <b>feeds</b> <b>a</b> <b>header</b> <b>field</b> <b>into</b> <b>the</b> <b>algorithm/canonicalization</b>
         $algorithm-&gt;add_header("Subject: this is the subject\015\012");

       The header must start with the header field name and continue through any folded lines (including the
       embedded &lt;CRLF&gt; sequences). It terminates with the &lt;CRLF&gt; at the end of the header field.

   <b>finish_body()</b> <b>-</b> <b>signals</b> <b>the</b> <b>end</b> <b>of</b> <b>the</b> <b>message</b> <b>body</b>
         $algorithm-&gt;finish_body

       Call this method when all lines from the body have been submitted.  After calling this method, use <b>sign()</b>
       or <b>verify()</b> to get the results from the algorithm.

   <b>finish_header()</b> <b>-</b> <b>signals</b> <b>the</b> <b>end</b> <b>of</b> <b>the</b> <b>header</b> <b>field</b> <b>block</b>
         $algorithm-&gt;finish_header;

       Call this method when all the headers have been submitted.

   <b>sign()</b> <b>-</b> <b>generates</b> <b>a</b> <b>signature</b> <b>using</b> <b>a</b> <b>private</b> <b>key</b>
         $base64 = $algorithm-&gt;sign($private_key);

   <b>signature()</b> <b>-</b> <b>get/set</b> <b>the</b> <b>signature</b> <b>worked</b> <b>on</b> <b>by</b> <b>this</b> <b>algorithm</b>
         my $old_signature = $algorithm-&gt;signature;
         $algorithm-&gt;signature($new_signature);

   <b>verify()</b> <b>-</b> <b>verifies</b> <b>a</b> <b>signature</b>
         $result = $algorithm-&gt;verify();

       Must be called after <b>finish_body()</b>.

       The result is a true/false value: true indicates the signature data is valid, false indicates it is
       invalid.

       For an invalid signature, details may be obtained from $algorithm-&gt;{verification_details} or $@.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mail::DKIM

</pre><h4><b>AUTHORS</b></h4><pre>
       •   Jason Long &lt;<a href="mailto:jason@long.name">jason@long.name</a>&gt;

       •   Marc Bradshaw &lt;<a href="mailto:marc@marcbradshaw.net">marc@marcbradshaw.net</a>&gt;

       •   Bron Gondwana &lt;<a href="mailto:brong@fastmailteam.com">brong@fastmailteam.com</a>&gt; (ARC)

</pre><h4><b>THANKS</b></h4><pre>
       Work  on  ensuring  that  this  module  passes  the  ARC  test suite was generously sponsored by Valimail
       (https://www.valimail.com/)

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       •   Copyright (C) 2013 by Messiah College

       •   Copyright (C) 2010 by Jason Long

       •   Copyright (C) 2017 by Standcore LLC

       •   Copyright (C) 2020 by FastMail Pty Ltd

       This library is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself, either Perl version 5.8.6 or, at your option, any later version of Perl 5 you may have available.

perl v5.38.2                                       2024-02-27                   <u>Mail::DKIM::Algorithm::<a href="../man3pm/Base.3pm.html">Base</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>