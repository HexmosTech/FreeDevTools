<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON::RPC::Server - Perl implementation of JSON-RPC sever</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libjson-rpc-perl">libjson-rpc-perl_1.06-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       JSON::RPC::Server - Perl implementation of JSON-RPC sever

</pre><h4><b>SYNOPSIS</b></h4><pre>
        # CGI version
        use JSON::RPC::Legacy::Server::CGI;

        my $server = JSON::RPC::Legacy::Server::CGI-&gt;new;

        $server-&gt;dispatch_to('MyApp')-&gt;handle();

        # Apache version
        # In apache conf

        PerlRequire /your/path/start.pl
        PerlModule MyApp

        &lt;Location /jsonrpc/API&gt;
             SetHandler perl-script
             PerlResponseHandler JSON::RPC::Legacy::Server::Apache
             PerlSetVar dispatch "MyApp"
             PerlSetVar return_die_message 0
        &lt;/Location&gt;

        # Daemon version
        use JSON::RPC::Legacy::Server::Daemon;

        JSON::RPC::Legacy::Server::Daemon-&gt;new(LocalPort =&gt; 8080);
                                 -&gt;dispatch({'/jsonrpc/API' =&gt; 'MyApp'})
                                 -&gt;handle();

        # FastCGI version
        use JSON::RPC::Legacy::Server::FastCGI;

        my $server = JSON::RPC::Legacy::Server::FastCGI-&gt;new;

           $server-&gt;dispatch_to('MyApp')-&gt;handle();

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Gets a client request.

       Parses its JSON data.

       Passes the server object and the object decoded from the JSON data to your procedure (method).

       Takes your returned value (scalar or arrayref or hashref).

       Sends a response.

       Well, you write your procedure code only.

</pre><h4><b>METHODS</b></h4><pre>
       new Creates new JSON::RPC::Legacy::Server object.

       dispatch($package)
       dispatch([$package1, $package1, ...])
       dispatch({$path =&gt; $package, ...})
           Sets  your  procedure module using package name list or arrayref or hashref.  Hashref version is used
           for path_info access.

       dispatch_to
           An alias to "dispatch".

       handle
           Runs server object and returns a response.

       raise_error(%hash)
            return $server-&gt;raise_error(
               code =&gt; 501,
               message =&gt; "This is error in my procedure."
            );

           Sets an error.  An error code number in your procedure is an integer between 501 and 899.

       json
           Setter/Getter to json encoder/decoder object.  The default value is JSON object in the below way:

            JSON-&gt;new-&gt;utf8

           In your procedure, changes its behaviour.

            $server-&gt;json-&gt;<a href="../man0/utf8.0.html">utf8</a>(0);

           The JSON coder creating method is  "create_json_coder".

       version
           Setter/Getter to JSON-RPC protocol version used by  a  client.   If  version  is  1.1,  returns  1.1.
           Otherwise returns 0.

       charset
           Setter/Getter to charset.  Default is 'UTF-8'.

       content_type
           Setter/Getter to content type.  Default is 'application/json'.

       return_die_message
           When  your program dies in your procedure, sends a return object with error message 'Procedure error'
           by default.

           If this option is set, uses "die" message.

            sub your_procedure {
                my ($s) = @_;
               $s-&gt;<a href="../man1/return_die_message.1.html">return_die_message</a>(1);
               die "This is test.";
            }

       retrieve_json_from_post
           It is used by JSON::RPC::Legacy::Server subclass.

       retrieve_json_from_get
           In the protocol v1.1, 'GET' request method is also allowable.

           It is used by JSON::RPC::Legacy::Server subclass.

       response
           It is used by JSON::RPC::Legacy::Server subclass.

       request
           Returns HTTP::Request object.

       path_info
           Returns PATH_INFO.

       max_length
           Returns max content-length to your application.

       translate_error_message
           Implemented in your subclass.  Three arguments (server object, error  code  and  error  message)  are
           passed.  It must return a message.

            sub translate_error_message {
                my ($s, $code, $message) = @_;
                return $translation_jp_message{$code};
            }

       create_json_coder
           (Class  method)  Returns  a  JSON de/encoder in "new".  You can override it to use your favorite JSON
           de/encode.

</pre><h4><b>RESERVED</b> <b>PROCEDURE</b></h4><pre>
       When a  client  call  a  procedure  (method)  name  'system.foobar',  JSON::RPC::Legacy::Server  look  up
       MyApp::system::foobar.

       &lt;<a href="http://json-rpc.org/wd/JSON-RPC-1-1-WD-20060807.html">http://json-rpc.org/wd/JSON-RPC-1-1-WD-20060807.html</a>#ProcedureCall&gt;

       &lt;<a href="http://json-rpc.org/wd/JSON-RPC-1-1-WD-20060807.html">http://json-rpc.org/wd/JSON-RPC-1-1-WD-20060807.html</a>#ServiceDescription&gt;

       There is JSON::RPC::Legacy::Server::system::describe for default response of 'system.describe'.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       JSON

       &lt;<a href="http://json-rpc.org/wd/JSON-RPC-1-1-WD-20060807.html">http://json-rpc.org/wd/JSON-RPC-1-1-WD-20060807.html</a>&gt;

       &lt;<a href="http://json-rpc.org/wiki/specification">http://json-rpc.org/wiki/specification</a>&gt;

</pre><h4><b>AUTHOR</b></h4><pre>
       Makamaka Hannyaharamitu, &lt;makamaka[at]cpan.org&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright 2007-2008 by Makamaka Hannyaharamitu

       This  library  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.40.0                                       2024-09-25                     <u>JSON::RPC::Legacy::<a href="../man3pm/Server.3pm.html">Server</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>