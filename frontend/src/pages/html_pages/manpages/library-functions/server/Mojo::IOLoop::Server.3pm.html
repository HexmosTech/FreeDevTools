<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mojo::IOLoop::Server - Non-blocking TCP and UNIX domain socket server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmojolicious-perl">libmojolicious-perl_9.39+dfsg-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mojo::IOLoop::Server - Non-blocking TCP and UNIX domain socket server

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Mojo::IOLoop::Server;

         # Create listen socket
         my $server = Mojo::IOLoop::Server-&gt;new;
         $server-&gt;on(accept =&gt; sub ($server, $handle) {...});
         $server-&gt;listen(port =&gt; 3000);

         # Start and stop accepting connections
         $server-&gt;start;
         $server-&gt;stop;

         # Start reactor if necessary
         $server-&gt;reactor-&gt;start unless $server-&gt;reactor-&gt;is_running;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Mojo::IOLoop::Server accepts TCP/IP and UNIX domain socket connections for Mojo::IOLoop.

</pre><h4><b>EVENTS</b></h4><pre>
       Mojo::IOLoop::Server inherits all events from Mojo::EventEmitter and can emit the following new ones.

   <b>accept</b>
         $server-&gt;on(accept =&gt; sub ($server, $handle) {...});

       Emitted for each accepted connection.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       Mojo::IOLoop::Server implements the following attributes.

   <b>reactor</b>
         my $reactor = $server-&gt;reactor;
         $server     = $server-&gt;reactor(Mojo::Reactor::Poll-&gt;new);

       Low-level event reactor, defaults to the "reactor" attribute value of the global Mojo::IOLoop singleton.
       Note that this attribute is weakened.

</pre><h4><b>METHODS</b></h4><pre>
       Mojo::IOLoop::Server inherits all methods from Mojo::EventEmitter and implements the following new ones.

   <b>generate_port</b>
         my $port = Mojo::IOLoop::Server-&gt;generate_port;

       Find a free TCP port, primarily used for tests.

   <b>handle</b>
         my $handle = $server-&gt;handle;

       Get handle for server, usually an IO::Socket::IP object.

   <b>is_accepting</b>
         my $bool = $server-&gt;is_accepting;

       Check if connections are currently being accepted.

   <b>listen</b>
         $server-&gt;listen(port =&gt; 3000);
         $server-&gt;listen({port =&gt; 3000});

       Create a new listen socket. Note that TLS support depends on IO::Socket::SSL (2.009+).

       These options are currently available:

       address
           address =&gt; '127.0.0.1'

         Local address to listen on, defaults to 0.0.0.0.

       backlog
           backlog =&gt; 128

         Maximum backlog size, defaults to "SOMAXCONN".

       fd
           fd =&gt; 3

         File descriptor with an already prepared listen socket.

       path
           path =&gt; '/tmp/myapp.sock'

         Path for UNIX domain socket to listen on.

       port
           port =&gt; 80

         Port to listen on, defaults to a random port.

       reuse
           reuse =&gt; 1

         Allow multiple servers to use the same port with the "SO_REUSEPORT" socket option.

       single_accept
           single_accept =&gt; 1

         Only accept one connection at a time.

       tls
           tls =&gt; 1

         Enable TLS.

       tls_ca
           tls_ca =&gt; '/etc/tls/ca.crt'

         Path to TLS certificate authority file.

       tls_cert
           tls_cert =&gt; '/etc/tls/server.crt'
           tls_cert =&gt; {'mojolicious.org' =&gt; '/etc/tls/mojo.crt'}

         Path to the TLS cert file, defaults to a built-in test certificate.

       tls_key
           tls_key =&gt; '/etc/tls/server.key'
           tls_key =&gt; {'mojolicious.org' =&gt; '/etc/tls/mojo.key'}

         Path to the TLS key file, defaults to a built-in test key.

       tls_options
           tls_options =&gt; {SSL_alpn_protocols =&gt; ['foo', 'bar'], SSL_verify_mode =&gt; 0x00}

         Additional options for IO::Socket::SSL.

   <b>port</b>
         my $port = $server-&gt;port;

       Get port this server is listening on.

   <b>start</b>
         $server-&gt;start;

       Start or resume accepting connections.

   <b>stop</b>
         $server-&gt;stop;

       Stop accepting connections.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mojolicious, Mojolicious::Guides, &lt;https://mojolicious.org&gt;.

perl v5.40.0                                       2024-12-07                          <u>Mojo::IOLoop::<a href="../man3pm/Server.3pm.html">Server</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>