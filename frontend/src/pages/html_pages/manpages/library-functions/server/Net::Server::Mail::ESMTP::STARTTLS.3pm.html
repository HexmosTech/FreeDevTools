<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::Server::Mail::ESMTP::STARTTLS - A module to support the STARTTLS command in Net::Server::Mail::ESMTP</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-server-mail-perl">libnet-server-mail-perl_0.28-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::Server::Mail::ESMTP::STARTTLS - A module to support the STARTTLS command in Net::Server::Mail::ESMTP

</pre><h4><b>SYNOPSIS</b></h4><pre>
          use strict;
          use Net::Server::Mail::ESMTP;

          my @local_domains = qw(example.com example.org);
          my $server = IO::Socket::INET-&gt;new( Listen =&gt; 1, LocalPort =&gt; 25 );

          my $conn;
          while($conn = $server-&gt;accept)
          {
              my $esmtp = Net::Server::Mail::ESMTP-&gt;new(
                   socket =&gt; $conn,
                   SSL_config =&gt; {
                       SSL_cert_file =&gt; 'your_cert.pem',
                       SSL_key_file =&gt; 'your_key.key',
                       # Any other options taken by IO::Socket::SSL
                   }
              );

              # activate some extensions
              $esmtp-&gt;register('Net::Server::Mail::ESMTP::STARTTLS');

              # adding optional STARTTLS handler
              $esmtp-&gt;set_callback(STARTTLS =&gt; \&amp;tls_started);
              $esmtp-&gt;process();
              $conn-&gt;close();
          }

          sub tls_started {
              my ($session) = @_;

              # Now, allow authentication
              $session-&gt;register('Net::Server::Mail::ESMTP::AUTH');
          }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module conducts a TLS handshake with the client upon receiving the STARTTLS command. It uses
       IO::Socket::SSL, requiring 1.831+, to perform the handshake and secure traffic.

       An additional option, SSL_config, is passed to Net::Server::Mail::ESMTP's constructor. It contains
       options for IO::Socket::SSL's constructor. Please refer to IO::Socket::SSL's perldoc for details.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Please, see Net::Server::Mail

</pre><h4><b>AUTHOR</b></h4><pre>
       This module has been written by Xavier Guimard &lt;<a href="mailto:x.guimard@free.fr">x.guimard@free.fr</a>&gt; using libs written by:

       Mytram &lt;<a href="mailto:rmytram@gmail.com">rmytram@gmail.com</a>&gt;
       Dan Moore "&lt;dan at moore.cx&gt;"

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Available on CPAN.

       anonymous Git repository:

       git clone git://github.com/rs/net-server-mail.git

       Git repository on the web:

       &lt;https://github.com/rs/net-server-mail&gt;

</pre><h4><b>BUGS</b></h4><pre>
       Please use CPAN system to report a bug (<a href="http://rt.cpan.org/">http://rt.cpan.org/</a>).

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2009 - Dan Moore &lt;dan at moore.cx&gt;
       Copyright (C) 2013 - Mytram &lt;<a href="mailto:rmytram@gmail.com">rmytram@gmail.com</a>&gt;
       Copyright (C) 2013 - Xavier Guimard &lt;<a href="mailto:x.guimard@free.fr">x.guimard@free.fr</a>&gt;

       This  program  is  free software; you can redistribute it and/or modify it under the terms of either: the
       GNU General Public License as published by the Free Software Foundation; or the Artistic License.

       See <a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a> for more information.

perl v5.34.0                                       2022-05-26             <u>Net::Server::Ma...ESMTP::<a href="../man3pm/STARTTLS.3pm.html">STARTTLS</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>