<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>globus_ftp_control_server - GridFTP Server Control</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libglobus-ftp-control-doc">libglobus-ftp-control-doc_9.10-3build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       globus_ftp_control_server - GridFTP Server Control

        - Manage GridFTP Server Control Connections.

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Typedefs</b>
       typedef void(* <b>globus_ftp_control_server_callback_t</b>) (void *callback_arg, struct
           globus_ftp_control_server_s *server_handle, globus_object_t *error)
           Server callback.

   <b>Functions</b>
       globus_result_t <b>globus_ftp_control_server_handle_init</b> (globus_ftp_control_server_t *handle)
           Initialize a GridFTP server handle.
       globus_result_t <b>globus_ftp_control_server_handle_destroy</b> (globus_ftp_control_server_t *handle)
           Destroy a GridFTP server handle.
       globus_result_t <b>globus_ftp_control_server_listen</b> (globus_ftp_control_server_t *server_handle, unsigned
           short *port, <b>globus_ftp_control_server_callback_t</b> callback, void *callback_arg)
           Listen on for FTP Client Connections.
       globus_result_t <b>globus_ftp_control_server_listen_ex</b> (globus_ftp_control_server_t *server_handle,
           globus_io_attr_t *attr, unsigned short *port, <b>globus_ftp_control_server_callback_t</b> callback, void
           *callback_arg)
           Listen on for FTP Client Connections.
       globus_result_t <b>globus_ftp_control_command_init</b> (globus_ftp_control_command_t *command, char
           *raw_command, <b>globus_ftp_control_auth_info_t</b> *auth_info)
           Initialize a GridFTP command.
       globus_result_t <b>globus_ftp_control_command_destroy</b> (globus_ftp_control_command_t *command)
           Destroy a GridFTP command.
       globus_result_t <b>globus_ftp_control_command_copy</b> (globus_ftp_control_command_t *dest,
           globus_ftp_control_command_t *src)
           Copy of GridFTP command.
       globus_result_t <b>globus_ftp_control_server_stop</b> (globus_ftp_control_server_t *listener,
           <b>globus_ftp_control_server_callback_t</b> callback, void *callback_arg)
           Stop listening for GridFTP client connections.
       globus_result_t <b>globus_ftp_control_server_accept</b> (globus_ftp_control_server_t *listener,
           globus_ftp_control_handle_t *handle, <b>globus_ftp_control_callback_t</b> callback, void *callback_arg)
           Accept a Client Connection.
       globus_result_t <b>globus_ftp_control_server_authenticate</b> (globus_ftp_control_handle_t *handle,
           <b>globus_ftp_control_auth_requirements_t</b> auth_requirements, <b>globus_ftp_control_auth_callback_t</b>
           callback, void *callback_arg)
           Authenticate a GridFTP Client Connection.
       globus_result_t <b>globus_ftp_control_read_commands</b> (globus_ftp_control_handle_t *handle,
           <b>globus_ftp_control_command_callback_t</b> callback, void *callback_arg)
           Read GridFTP commands.
       globus_result_t <b>globus_ftp_control_send_response</b> (globus_ftp_control_handle_t *handle, const char
           *respspec, <b>globus_ftp_control_callback_t</b> callback, void *callback_arg,...)
           Send a GridFTP response.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Manage GridFTP Server Control Connections.

</pre><h4><b>Typedef</b> <b>Documentation</b></h4><pre>
   <b>typedef</b> <b>void(*</b> <b>globus_ftp_control_server_callback_t)</b> <b>(void</b> <b>*callback_arg,</b> <b>struct</b> <b>globus_ftp_control_server_s</b>
       <b>*server_handle,</b> <b>globus_object_t</b> <b>*error)</b>
       Server callback. A function with this signature can be used as general callbacks for the GridFTP server
       API.

       <b>Parameters</b>
           <u>server_handle</u> The server handle associated with callback.
           <u>error</u> Indicates if the operation completed successfully or if a failure occurred.
           <u>callback_arg</u> The user argument passed to the callback function.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>globus_result_t</b> <b>globus_ftp_control_command_copy</b> <b>(globus_ftp_control_command_t</b> <b>*</b> <b>dest,</b>
       <b>globus_ftp_control_command_t</b> <b>*</b> <b>src)</b>
       Copy of GridFTP command. This function should be called when the user needs to make a copy of a command
       structure.

       <b>Parameters</b>
           <u>dest</u> The area of memory that the command structure is copied to.
           <u>src</u> The command structure to be copied.

   <b>globus_result_t</b> <b>globus_ftp_control_command_destroy</b> <b>(globus_ftp_control_command_t</b> <b>*</b> <b>command)</b>
       Destroy a GridFTP command. This function frees up the memory allocated to the command argument.

       <b>Parameters</b>
           <u>command</u> The command structure whose associated memory is to be freed

   <b>globus_result_t</b> <b>globus_ftp_control_command_init</b> <b>(globus_ftp_control_command_t</b> <b>*</b> <b>command,</b> <b>char</b> <b>*</b> <b>raw_command,</b>
       <b>globus_ftp_control_auth_info_t</b> <b>*</b> <b>auth_info)</b>
       Initialize a GridFTP command. This function initializes a command structure based on a null terminated
       string representing one line of input from the client. The command structure is used as a convenience to
       determine what command the client issued. This function parses a command string sent by a client and
       populates the command argument appropriately. In the GSSAPI case it will also decode and unwrap the
       command before parsing it.

       <b>Parameters</b>
           <u>command</u> A pointer to the command structure to be initialized
           <u>raw_command</u> A null terminated line of client input. Should contain one command.
           <u>auth_info</u> Authentication information needed for unwrapping a command

   <b>globus_result_t</b> <b>globus_ftp_control_read_commands</b> <b>(globus_ftp_control_handle_t</b> <b>*</b> <b>handle,</b>
       <b>globus_ftp_control_command_callback_t</b> <b>callback,</b> <b>void</b> <b>*</b> <b>callback_arg)</b>
       Read GridFTP commands. This function begins reading control commands on a globus_ftp_control_handle_t.
       When a command is read the callback function is called.

       <b>Parameters</b>
           <u>handle</u> The control connection handle that commands will be read from. Prior to calling this the
           function globus_ftp_control_handle_t must be populated via a call to globus_ftp_control_accept().
           <u>callback</u> The user callback that will be called when commands are read.
           <u>callback_arg</u> The user argument passed to the callback.

   <b>globus_result_t</b> <b>globus_ftp_control_send_response</b> <b>(globus_ftp_control_handle_t</b> <b>*</b> <b>handle,</b> <b>const</b> <b>char</b> <b>*</b>
       <b>respspec,</b> <b>globus_ftp_control_callback_t</b> <b>callback,</b> <b>void</b> <b>*</b> <b>callback_arg,</b>  <b>...)</b>
       Send a GridFTP response. This function sends a GridFTP formatted response to the client.
        When a command callback is received the user calls this function to respond to the clients request.

       <b>Parameters</b>
           <u>handle</u> The control connection to send the response across.
           <u>respspec</u> A formatted string representing the users response.
           <u>callback</u> The user callback that will be called when the response has been sent.
           <u>callback_arg</u> The user argument passed to the callback.

   <b>globus_result_t</b> <b>globus_ftp_control_server_accept</b> <b>(globus_ftp_control_server_t</b> <b>*</b> <b>listener,</b>
       <b>globus_ftp_control_handle_t</b> <b>*</b> <b>handle,</b> <b>globus_ftp_control_callback_t</b> <b>callback,</b> <b>void</b> <b>*</b> <b>callback_arg)</b>
       Accept a Client Connection. This function is called to accept a connection request from a client.

       When the listen callback is called (see globus_ftp_control_server_listen) a client has requested a
       connection. This function must be called to accept that user connection request. Once the connection is
       established or if a error occurs, the callback function is called.

       <b>Parameters</b>
           <u>listener</u> The server object that received the connection request.
           <u>handle</u> The control connection object. This structure will be populated and passed to the callback
           when the client is authorized. This structure represents the control connection between the server
           and client. It will be used to read commands from the client and send responses to the client.]
           <u>callback</u> The function called when the client connection has been accepted.
           <u>callback_arg</u> The user argument passed to the callback.

       <b>Note</b>
           This functions assumes the server and control handles have been initialized prior to calling this
           function.

   <b>globus_result_t</b> <b>globus_ftp_control_server_authenticate</b> <b>(globus_ftp_control_handle_t</b> <b>*</b> <b>handle,</b>
       <b>globus_ftp_control_auth_requirements_t</b> <b>auth_requirements,</b> <b>globus_ftp_control_auth_callback_t</b> <b>callback,</b>
       <b>void</b> <b>*</b> <b>callback_arg)</b>
       Authenticate a GridFTP Client Connection. This function is called to authenticate a connection from a
       client.

       After a client connection has been accepted (using the globus_ftp_control_server_accept call), this
       function should be called to authenticate the client. The caller of this function may specify certain
       authentication requirements using the auth_requirements parameter.

       <b>Parameters</b>
           <u>handle</u> The control connection object. This structure will be populated and passed to the callback
           when the client is authorized. This structure represents the control connection between the server
           and client. It will be used to read commands from the client and send responses to the client.]
           <u>auth_requirements</u> This structure represents the authentication requirements that the user has for a
           given connection. For example GridFTP user name, password, and account.
           <u>callback</u> The function called when the client authentication has been accepted or rejected.
           <u>callback_arg</u> The user argument passed to the callback.

       <b>Note</b>
           It is up to the user of this function to send the reply to the last command of the authentication
           sequence.

           This functions assumes the server and control handles have been initialized prior to calling this
           function.

   <b>globus_result_t</b> <b>globus_ftp_control_server_handle_destroy</b> <b>(globus_ftp_control_server_t</b> <b>*</b> <b>handle)</b>
       Destroy a GridFTP server handle. This function will free up all dynamically allocated memory associated
       with a given globus ftp server handle. It will also remove the handle from a list used by the module
       activation/deactivation functions. This function should only be called after a call to
       globus_ftp_control_server_stop.

       <b>Parameters</b>
           <u>handle</u> The handle to destroy.

       <b>Returns</b>

           • success

           • invalid handle

           • handle is still in listening state

   <b>globus_result_t</b> <b>globus_ftp_control_server_handle_init</b> <b>(globus_ftp_control_server_t</b> <b>*</b> <b>handle)</b>
       Initialize a GridFTP server handle. This function will set up (i.e. initialize all mutexes and variables)
       a   globus   ftp  server  handle.  It  will  also  enter  the  handle  in  a  list  used  by  the  module
       activation/deactivation functions.

       <b>Parameters</b>
           <u>handle</u> The handle to initialize.

       <b>Returns</b>

           • GLOBUS_SUCCESS

           • invalid handle

   <b>globus_result_t</b> <b>globus_ftp_control_server_listen</b> <b>(globus_ftp_control_server_t</b> <b>*</b> <b>server_handle,</b> <b>unsigned</b> <b>short</b>
       <b>*</b> <b>port,</b> <b>globus_ftp_control_server_callback_t</b> <b>callback,</b> <b>void</b> <b>*</b> <b>callback_arg)</b>
       Listen on for FTP Client Connections. This function starts the listening on *port  for  connections  from
       ftp  clients.  When  a connection request is made callback is called and passed callback_arg. Upon return
       from this function the server_handle structure is initialized.

       <b>Parameters</b>
           <u>server_handle</u> A pointer to a initialized server handle.
           <u>port</u> A pointer to the port to listen on. If the initial value is zero it will be set to  the  default
           value.
           <u>callback</u> The callback function called when connection requests are made.
           <u>callback_arg</u> The user argument passed to the callback function when connection requests are made.

       <b>Note</b>
           I'm  not  providing  any  mechanism  for  making sure that this function is only called once. Is this
           needed?

   <b>globus_result_t</b>    <b>globus_ftp_control_server_listen_ex</b>    <b>(globus_ftp_control_server_t</b>    <b>*</b>    <b>server_handle,</b>
       <b>globus_io_attr_t</b>  <b>*</b>  <b>attr,</b>  <b>unsigned</b>  <b>short</b> <b>*</b> <b>port,</b> <b>globus_ftp_control_server_callback_t</b> <b>callback,</b> <b>void</b> <b>*</b>
       <b>callback_arg)</b>
       Listen on for FTP Client Connections. This function starts the listening on *port  for  connections  from
       ftp  clients.  When  a connection request is made callback is called and passed callback_arg. Upon return
       from this function the server_handle structure is initialized.

       This is an extendend version of <b>globus_ftp_control_server_listen()</b> that provides additional control  over
       the listening socket.

       <b>Parameters</b>
           <u>server_handle</u> A pointer to a initialized server handle.
           <u>attr</u> A pointer to a globus_io_attr_t providing additional attributes for the listening socket.
           <u>port</u>  A  pointer to the port to listen on. If the initial value is zero it will be set to the default
           value.
           <u>callback</u> The callback function called when connection requests are made.
           <u>callback_arg</u> The user argument passed to the callback function when connection requests are made.

       <b>Note</b>
           I'm not providing any mechanism for making sure that this function  is  only  called  once.  Is  this
           needed?

   <b>globus_result_t</b>       <b>globus_ftp_control_server_stop</b>       <b>(globus_ftp_control_server_t</b>      <b>*</b>      <b>listener,</b>
       <b>globus_ftp_control_server_callback_t</b> <b>callback,</b> <b>void</b> <b>*</b> <b>callback_arg)</b>
       Stop listening for GridFTP client connections. This function stops listening on the given listener object
       for client connections. All existing client connections are left open.

       <b>Parameters</b>
           <u>listener</u> the globus_ftp_control_server_t object that should no longer listen for connections.
           <u>callback</u> The user callback that will be called when the server structure is no longer listening.
           <u>callback_arg</u> The user argument that is passed into callback.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for globus_ftp_control from the source code.

globus_ftp_control                                Version 9.10                      <u><a href="../man3/globus_ftp_control_server.3.html">globus_ftp_control_server</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>