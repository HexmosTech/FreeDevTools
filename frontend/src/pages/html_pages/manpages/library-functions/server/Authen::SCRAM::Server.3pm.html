<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authen::SCRAM::Server - RFC 5802 SCRAM Server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libauthen-scram-perl">libauthen-scram-perl_0.011-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Authen::SCRAM::Server - RFC 5802 SCRAM Server

</pre><h4><b>VERSION</b></h4><pre>
       version 0.011

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Authen::SCRAM::Server;
           use Try::Tiny;

           $server = Authen::SCRAM::Server-&gt;new(
               credential_cb =&gt; \&amp;get_credentials,
           );

           $username = try {
               # get client-first-message

               $server_first = $server-&gt;first_msg( $client_first );

               # send to client and get client-final-message

               $server_final = $server-&gt;final_msg( $client_final );

               # send to client

               return $server-&gt;authorization_id; # returns valid username
           }
           catch {
               die "Authentication failed!"
           };

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module implements the server-side SCRAM algorithm.

</pre><h4><b>NAME</b></h4><pre>
       Authen::SCRAM::Server - RFC 5802 SCRAM Server

</pre><h4><b>VERSION</b></h4><pre>
       version 0.011

</pre><h4><b>ATTRIBUTES</b></h4><pre>
   <b>credential_cb</b> <b>(required)</b>
       This attribute must contain a code reference that takes a username (as a character string normalized by
       SASLprep) and returns the four user-credential parameters required by SCRAM: "salt", "StoredKey",
       "ServerKey", and "iteration count".  The "salt", "StoredKey" and "ServerKey" must be provided as octets
       (i.e. <b>NOT</b> base64 encoded).

       If the username is unknown, it should return an empty list.

           ($salt, $stored_key, $server_key, $iterations) =
               $server-&gt;credential_cb-&gt;( $username );

       See RFC 5802: SCRAM Algorithm Overview &lt;<a href="http://tools.ietf.org/html/rfc5802">http://tools.ietf.org/html/rfc5802</a>#section-3&gt; for details.

   <b>auth_proxy_cb</b>
       If provided, this attribute must contain a code reference that takes an <b>authentication</b> username and a
       <b>authorization</b> username (both as character strings), and return a true value if the authentication
       username is permitted to act as the authorization username:

           $bool = $server-&gt;auth_proxy_cb-&gt;(
               $authentication_user, $authorization_user
           );

       It will only be all called if the authentication username has successfully authenticated.  Both usernames
       will have been normalized via "SASLprep" with any transport encoding removed before being passed to this
       function.

   <b>digest</b>
       Name of a digest function available via PBKDF2::Tiny.  Valid values are SHA-1, SHA-224, SHA-256, SHA-384,
       or SHA-512.  Defaults to SHA-1.

   <b>nonce_size</b>
       Size of the client-generated nonce, in bits.  Defaults to 192.  The server-nonce will be appended, so the
       final nonce size will be substantially larger.

   <b>skip_saslprep</b>
       A boolean that defaults to false.  If set to true, usernames and passwords will not be normalized through
       SASLprep.  This is a deviation from the RFC5802 spec and is not recommended.

</pre><h4><b>METHODS</b></h4><pre>
   <b>first_msg</b>
           $server_first_msg = $server-&gt;first_msg( $client_first_msg );

       This takes the "client-first-message" received from the client and returns the "server-first-message"
       string to be sent to the client to continue a SCRAM session.  Calling this again will reset the internal
       state and initiate a new session.  This will throw an exception should an error occur.

   <b>final_msg</b>
           $server_final_msg = $server-&gt;final_msg( $client_final_msg );

       This takes the "client-final-message" received from the client and returns the "server-final-message"
       string containing the verification signature to be sent to the client.

       If an authorization identity was provided by the client, it will confirm that the authenticating username
       is authorized to act as the authorization id using the "auth_proxy_cb" attribute.

       If the client credentials do not match or the authentication name is not authorized to act as the
       authorization name, then an exception will be thrown.

   <b>authorization_id</b>
           $username = $client-&gt;authorization_id();

       This takes no arguments and returns the authorization identity resulting from the SCRAM exchange.  This
       is the client-supplied authorization identity (if one was provided and validated) or else the
       successfully authenticated identity.

</pre><h4><b>CHARACTER</b> <b>ENCODING</b> <b>CAVEAT</b></h4><pre>
       The SCRAM protocol mandates UTF-8 interchange.  However, all methods in this module take and return
       <b>character</b> strings.  You must encode to UTF-8 before sending and decode from UTF-8 on receiving according
       to whatever transport mechanism you are using.

       This is done to avoid double encoding/decoding problems if your transport is already doing UTF-8 encoding
       or decoding as it constructs outgoing messages or parses incoming messages.

</pre><h4><b>AUTHOR</b></h4><pre>
       David Golden &lt;<a href="mailto:dagolden@cpan.org">dagolden@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2014 by David Golden.

       This is free software, licensed under:

         The Apache License, Version 2.0, January 2004

</pre><h4><b>AUTHOR</b></h4><pre>
       David Golden &lt;<a href="mailto:dagolden@cpan.org">dagolden@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2014 by David Golden.

       This is free software, licensed under:

         The Apache License, Version 2.0, January 2004

perl v5.36.0                                       2022-12-11                         <u>Authen::SCRAM::<a href="../man3pm/Server.3pm.html">Server</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>