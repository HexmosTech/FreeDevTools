<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mojo::Server - HTTP/WebSocket server base class</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmojolicious-perl">libmojolicious-perl_9.39+dfsg-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mojo::Server - HTTP/WebSocket server base class

</pre><h4><b>SYNOPSIS</b></h4><pre>
         package Mojo::Server::MyServer;
         use Mojo::Base 'Mojo::Server', -signatures;

         sub run ($self) {

           # Get a transaction
           my $tx = $self-&gt;build_tx;

           # Emit "request" event
           $self-&gt;emit(request =&gt; $tx);
         }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Mojo::Server is an abstract base class for HTTP/WebSocket servers and server interfaces, like
       Mojo::Server::CGI, Mojo::Server::Daemon, Mojo::Server::Hypnotoad, Mojo::Server::Morbo,
       Mojo::Server::Prefork and Mojo::Server::PSGI.

</pre><h4><b>EVENTS</b></h4><pre>
       Mojo::Server inherits all events from Mojo::EventEmitter and can emit the following new ones.

   <b>request</b>
         $server-&gt;on(request =&gt; sub ($server, $tx) {...});

       Emitted when a request is ready and needs to be handled.

         $server-&gt;on(request =&gt; sub ($server, $tx) {
           $tx-&gt;res-&gt;<a href="../man200/code.200.html">code</a>(200);
           $tx-&gt;res-&gt;headers-&gt;content_type('text/plain');
           $tx-&gt;res-&gt;body('Hello World!');
           $tx-&gt;resume;
         });

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       Mojo::Server implements the following attributes.

   <b>app</b>
         my $app = $server-&gt;app;
         $server = $server-&gt;app(MojoSubclass-&gt;new);

       Application this server handles, defaults to a Mojo::HelloWorld object.

   <b>reverse_proxy</b>
         my $bool = $server-&gt;reverse_proxy;
         $server  = $server-&gt;reverse_proxy($bool);

       This server operates behind a reverse proxy, defaults to the value of the "MOJO_REVERSE_PROXY"
       environment variable or true if "trusted_proxies" is not empty.

   <b>trusted_proxies</b>
         my $proxies = $server-&gt;trusted_proxies;
         $server     = $server-&gt;trusted_proxies(['10.0.0.0/8', '127.0.0.1', '172.16.0.0/12', '192.168.0.0/16', 'fc00::/7']);

       This server expects requests from trusted reverse proxies, defaults to the value of the
       "MOJO_TRUSTED_PROXIES" environment variable split on commas with optional whitespace. These proxies
       should be addresses or networks in CIDR form.

</pre><h4><b>METHODS</b></h4><pre>
       Mojo::Server inherits all methods from Mojo::EventEmitter and implements the following new ones.

   <b>build_app</b>
         my $app = $server-&gt;build_app('MyApp');
         my $app = $server-&gt;build_app('MyApp', log =&gt; Mojo::Log-&gt;new);
         my $app = $server-&gt;build_app('MyApp', {log =&gt; Mojo::Log-&gt;new});

       Build application from class and assign it to "app".

   <b>build_tx</b>
         my $tx = $server-&gt;build_tx;

       Let application build a transaction.

   <b>daemonize</b>
         $server-&gt;daemonize;

       Daemonize server process.

   <b>load_app</b>
         my $app = $server-&gt;load_app('/home/sri/myapp.pl');
         my $app = $server-&gt;load_app('/home/sri/myapp.pl', log =&gt; Mojo::Log-&gt;new);
         my $app = $server-&gt;load_app('/home/sri/myapp.pl', {log =&gt; Mojo::Log-&gt;new});

       Load application from script and assign it to "app".

         say Mojo::Server-&gt;new-&gt;load_app('./myapp.pl')-&gt;home;

   <b>new</b>
         my $server = Mojo::Server-&gt;new;
         my $server = Mojo::Server-&gt;new(reverse_proxy =&gt; 1);
         my $server = Mojo::Server-&gt;new({reverse_proxy =&gt; 1});

       Construct a new Mojo::Server object and subscribe to "request" event with default request handling.

   <b>run</b>
         $server-&gt;run;

       Run server. Meant to be overloaded in a subclass.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mojolicious, Mojolicious::Guides, &lt;https://mojolicious.org&gt;.

perl v5.40.0                                       2024-12-07                                  <u>Mojo::<a href="../man3pm/Server.3pm.html">Server</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>