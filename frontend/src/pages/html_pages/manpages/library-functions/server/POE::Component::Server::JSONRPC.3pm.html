<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POE::Component::Server::JSONRPC - POE tcp or http based JSON-RPC server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpoe-component-server-jsonrpc-perl">libpoe-component-server-jsonrpc-perl_0.06-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       POE::Component::Server::JSONRPC - POE tcp or http based JSON-RPC server

</pre><h4><b>SYNOPSIS</b></h4><pre>
           #http version:
           POE::Component::Server::JSONRPC::Http-&gt;new(
               # consider using something like JSON::MaybeXS for better performance
               json    =&gt; JSON::MaybeXS-&gt;new-&gt;utf8-&gt;allow_nonref,
               Port    =&gt; 3000,
               Handler =&gt; {
                   'echo' =&gt; 'echo',
                   'sum'  =&gt; 'sum',
               },
               SslKey  =&gt; '/path/to/the/server.key',
               SslCert =&gt; '/path/to/the/server.crt',
               Authenticate =&gt; \&amp;authentication_handler,
               # authentication_handler must be a function that takes two parameters login and password,
               # and returns true if connection is successful, false otherwise
           );

           #tcp version:
           POE::Component::Server::JSONRPC::Tcp-&gt;new(
               Port    =&gt; 3000,
               Handler =&gt; {
                   'echo' =&gt; 'echo',
                   'sum'  =&gt; 'sum',
               },
           );

           sub echo {
               my ($kernel, $jsonrpc, $id, @params) = @_[KERNEL, ARG0..$#_ ];

               $kernel-&gt;post( $jsonrpc =&gt; 'result' =&gt; $id, @params );
           }

           sub sum {
               my ($kernel, $jsonrpc, $id, @params) = @_[KERNEL, ARG0..$#_ ];

               $kernel-&gt;post( $jsonrpc =&gt; 'result' =&gt; $id, $params[0] + $params[1] );
           }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module is a POE component for tcp or http based JSON-RPC Server.

       The specification is defined on <a href="http://json-rpc.org/">http://json-rpc.org/</a> and this module use JSON-RPC 1.0 spec (1.1 does not
       cover tcp streams)

</pre><h4><b>METHODS</b></h4><pre>
   <b>new</b>
       Create JSONRPC component session and return the session id.

       Parameters:

       Port
           Port number for listen.

       Handler
           Hash variable contains handler name as key, handler poe state name as value.

           Handler name (key) is used as JSON-RPC method name.

           So if you send {"method":"echo"}, this module call the poe state named "echo".

</pre><h4><b>HANDLER</b> <b>PARAMETERS</b></h4><pre>
       ARG0
           A session id of PoCo::Server::JSONRPC itself.

       ARG1
           The id of the client you're treating, send that back in result/error.

       ARG2 .. ARGN
           JSONRPC argguments

       ex) If you send following request

           {"method":"echo", "params":["foo", "bar"]}

       then,  "echo"  handler  is called and parameters is that ARG0 is component session id, ARG1 is client id,
       ARG2 "foo", ARG3 "bar".

</pre><h4><b>HANDLER</b> <b>RESPONSE</b></h4><pre>
       You must call either "result" or "error" state in your handlers to response result or error.

       ex:

          $kernel-&gt;post( $component_session_id =&gt; "result" =&gt; $client_id, "result value" )

       $component_session_id is ARG0 in handler. If you do above, response is:

          {"result":"result value", "error":""}

</pre><h4><b>POE</b> <b>METHODS</b></h4><pre>
       Inner method for POE states.

   <b>poe__start</b>
   <b>poe_init_server</b>
       Should be defined in Http or Tcp

   <b>poe_input_handler</b>
   <b>poe_result</b>
   <b>poe_error</b>
   <b>poe_send</b>
       Should be defined in Http or Tcp

       CÃ´me Chilliet &lt;<a href="mailto:mcmic@cpan.org">mcmic@cpan.org</a>&gt; Daisuke Murase &lt;<a href="mailto:typester@cpan.org">typester@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This program is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

       The full text of the license can be found in the LICENSE file included with this module.

perl v5.28.1                                       2019-01-06               <u>POE::Component::Server::<a href="../man3pm/JSONRPC.3pm.html">JSONRPC</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>