<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test::HTTP::Server::Simple::StashWarnings - catch your forked server's warnings</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtest-http-server-simple-stashwarnings-perl">libtest-http-server-simple-stashwarnings-perl_0.04-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Test::HTTP::Server::Simple::StashWarnings - catch your forked server's warnings

</pre><h4><b>SYNOPSIS</b></h4><pre>
           package My::Webserver::Test;
           use base qw/Test::HTTP::Server::Simple::StashWarnings My::Webserver/;

           sub test_warning_path { "/__test_warnings" }

           package main;
           use Test::More tests =&gt; 42;

           my $s = My::WebServer::Test-&gt;new;

           my $url_root = $s-&gt;started_ok("start up my web server");

           my $mech = WWW::Mechanize-&gt;new;

           $mech-&gt;get("$url_root/some_action");

           $mech-&gt;get("/__test_warnings");
           my @warnings = My::WebServer::Test-&gt;decode_warnings($mech-&gt;content);
           is(@warnings, 0, "some_action gave no warnings");

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Warnings are an important part of any application. Your web application should warn the user when
       something is amiss.

       Almost as importantly, we want to be able to test that the web application gracefully copes with bad
       input, the back button, and all other aspects of the user experience.

       Unfortunately, tests seldom cover what happens when things go poorly. Are you "sure" that your
       application checks authorization for that action? Are you "sure" it will tomorrow?

       This module lets you retrieve the warnings that your forked server throws. That way you can test that
       your application continues to throw warnings when it makes sense. Catching the warnings also keeps your
       test output tidy. Finally, you'll be able to see when your application throws new, unexpected warnings.

</pre><h4><b>SETUP</b></h4><pre>
       The way this module works is it catches warnings and makes them available on a special URL (which must be
       defined by you in the "test_warning_path" method).  You can use "WWW::Mechanize" (or whichever HTTP agent
       you prefer) to download the warnings. The warnings will be serialized. Use decode_warnings to get the
       list of warnings seen so far (since last request anyway).

       Warnings are encoded using Storable by default, but your subclass may override the "encode_warnings" and
       "decode_warnings" methods.

</pre><h4><b>TIPS</b></h4><pre>
       Setting the "TEST_VERBOSE" environment variable to a true value will cause warnings to be displayed
       immediately, even if they would be captured and tested later.

</pre><h4><b>AUTHOR</b></h4><pre>
       Shawn M Moore, "&lt;sartak at bestpractical.com&gt;"

</pre><h4><b>BUGS</b></h4><pre>
       Please report any bugs or feature requests to "bug-test-http-server-simple-stashwarnings at rt.cpan.org",
       or through the web interface at
       &lt;<a href="http://rt.cpan.org/NoAuth/ReportBug.html">http://rt.cpan.org/NoAuth/ReportBug.html</a>?Queue=test-http-server-simple-stashwarnings&gt;.

</pre><h4><b>COPYRIGHT</b> <b>&amp;</b> <b>LICENSE</b></h4><pre>
       Copyright 2008 Best Practical Solutions.

       This program is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.34.0                                       2022-06-17              <u>Test::HTTP::Se...::<a href="../man3pm/StashWarnings.3pm.html">StashWarnings</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>