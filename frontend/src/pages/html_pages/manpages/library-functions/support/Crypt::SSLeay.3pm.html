<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypt::SSLeay - OpenSSL support for LWP</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcrypt-ssleay-perl">libcrypt-ssleay-perl_0.73.06-2build6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Crypt::SSLeay - OpenSSL support for LWP

</pre><h4><b>HEARTBLEED</b> <b>WARNING</b></h4><pre>
       "perl Makefile.PL" will display a warning if it thinks your OpenSSL might be vulnerable to the
       Heartbleed Bug &lt;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-0160&gt;. You can, of course, go
       ahead and install the module, but you should be aware that your system might be exposed to an extremely
       serious vulnerability. This is just a heuristic based on the version reported by OpenSSL. It is entirely
       possible that your distrbution actually pushed a patched library, so if you have concerns, you should
       investigate further.

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Net::SSL;
           use LWP::UserAgent;

           my $ua  = LWP::UserAgent-&gt;new(
               ssl_opts =&gt; { verify_hostname =&gt; 0 },
           );

           my $response = $ua-&gt;get('https://www.example.com/');
           print $response-&gt;content, "\n";

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This Perl module provides support for the HTTPS protocol under LWP, to allow an LWP::UserAgent object to
       perform GET, HEAD, and POST requests over encrypted socket connections. Please see LWP for more
       information on POST requests.

       The "Crypt::SSLeay" package provides "Net::SSL", which, if requested, is loaded by "LWP::Protocol::https"
       for https requests and provides the necessary SSL glue.

       This distribution also makes following deprecated modules available:

           Crypt::SSLeay::CTX
           Crypt::SSLeay::Conn
           Crypt::SSLeay::X509

</pre><h4><b>DO</b> <b>YOU</b> <b>NEED</b> <b>Crypt::SSLeay?</b></h4><pre>
       Starting with version 6.02 of LWP, "https" support was unbundled into LWP::Protocol::https. This module
       specifies as one of its prerequisites IO::Socket::SSL which is automatically used by LWP::UserAgent
       unless this preference is overridden separately. "IO::Socket::SSL" is a more complete implementation,
       and, crucially, it allows hostname verification.  "Crypt::SSLeay" does not support this. At this point,
       "Crypt::SSLeay" is maintained to support existing software that already depends on it.  However, it is
       possible that your software does not really depend on "Crypt::SSLeay", only on the ability of
       "LWP::UserAgent" class to communicate with sites over SSL/TLS.

       If are using version "LWP" 6.02 or later, and therefore have installed "LWP::Protocol::https" and its
       dependencies, and do not explicitly "use" "Net::SSL" before loading "LWP::UserAgent", or override the
       default socket class, you are probably using "IO::Socket::SSL" and do not really need "Crypt::SSLeay".

       If you have both "Crypt::SSLeay" and "IO::Socket::SSL" installed, and would like to force
       "LWP::UserAgent" to use "Crypt::SSLeay", you can use:

           use Net::HTTPS;
           $Net::HTTPS::SSL_SOCKET_CLASS = 'Net::SSL';
           use LWP::UserAgent;

       or

           local $ENV{PERL_NET_HTTPS_SSL_SOCKET_CLASS} = 'Net::SSL';
           use LWP::UserAgent;

       or

           use Net::SSL;
           use LWP::UserAgent;

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       Specify SSL Socket Class
           $ENV{PERL_NET_HTTPS_SSL_SOCKET_CLASS}  can be used to instruct "LWP::UserAgent" to use "Net::SSL" for
           HTTPS support rather than "IO::Socket::SSL".

       Proxy Support
               $ENV{HTTPS_PROXY} = '<a href="http://proxy_hostname_or_ip">http://proxy_hostname_or_ip</a>:port';

       Proxy Basic Authentication
               $ENV{HTTPS_PROXY_USERNAME} = 'username';
               $ENV{HTTPS_PROXY_PASSWORD} = 'password';

       SSL diagnostics and Debugging
               $ENV{HTTPS_DEBUG} = 1;

       Default SSL Version
               $ENV{HTTPS_VERSION} = '3';

       Client Certificate Support
               $ENV{HTTPS_CERT_FILE} = 'certs/notacacert.pem';
               $ENV{HTTPS_KEY_FILE}  = 'certs/notacakeynopass.pem';

       CA cert Peer Verification
               $ENV{HTTPS_CA_FILE}   = 'certs/ca-bundle.crt';
               $ENV{HTTPS_CA_DIR}    = 'certs/';

       Client PKCS12 cert support
               $ENV{HTTPS_PKCS12_FILE}     = 'certs/pkcs12.pkcs12';
               $ENV{HTTPS_PKCS12_PASSWORD} = 'PKCS12_PASSWORD';

</pre><h4><b>INSTALL</b></h4><pre>
   <b>OpenSSL</b>
       You must have OpenSSL installed before compiling this module. You can get the latest OpenSSL package from
       &lt;https://www.openssl.org/source/&gt;. We no longer support pre-2000 versions of OpenSSL.

       If you are building OpenSSL from source, please follow the directions included in the source package.

   <b>Crypt::SSLeay</b> <b>via</b> <b>Makefile.PL</b>
       "Makefile.PL" accepts the following command line arguments:

       "incpath"
           Path to OpenSSL headers. Can also be  specified  via  $ENV{OPENSSL_INCLUDE}.   If  the  command  line
           argument  is  provided, it overrides any value specified via the environment variable. Of course, you
           can ignore both the command line argument and the environment variable, and just add the path to your
           compiler specific environment variable such as "CPATH" or "INCLUDE" etc.

       "libpath"
           Path to OpenSSL libraries. Can also be specified via $ENV{OPENSSL_LIB}.  If the command line argument
           is provided, it overrides any value specified by the environment variable. Of course, you can  ignore
           both  the  command  line argument and the environment variable and just add the path to your compiler
           specific environment variable such as "LIBRARY_PATH" or "LIB" etc.

       "live-tests"
           Use  "--live-tests"  to  request  tests  that  try  to  connect  to  an  external   web   site,   and
           "--no-live_tests"  to  prevent  such  tests from running. If you run "Makefile.PL" interactively, and
           this argument is not specified on the command line, you will be prompted for a value.

           Default is false.

       "static"
           Boolean. Default is false. <b>TODO</b>: Does it work?

       "verbose"
           Boolean. Default is false. If you pass "--verbose" on the command line,  both  "Devel::CheckLib"  and
           "ExtUtils::CBuilder" instances will be configured to echo what they are doing.

       If  everything builds OK, but you get failures when during tests, ensure that "LD_LIBRARY_PATH" points to
       the location where the correct shared libraries are located.

       If you are using a custom OpenSSL build, please keep in mind that "Crypt::SSLeay" must be built using the
       same compiler and build tools used to build "perl" and OpenSSL. This can be more of an issue on  Windows.
       If  you  are  using  Active  State Perl, install the MinGW package distributed by them, and build OpenSSL
       using that before trying to build this module. If you have built your own Perl using Microsoft SDK  tools
       or IDEs, make sure you build OpenSSL using the same tools.

       Depending  on your OS, pre-built OpenSSL packages may be available. To get the require headers and import
       libraries, you may need to install a development version  of  your  operating  system's  OpenSSL  library
       package.  The  key  is  that  "Crypt::SSLeay"  makes  calls  to  the OpenSSL library, and how to do so is
       specified in the C header files that come with the library. Some systems break out the header files  into
       a  separate  package  from  that  of  the  libraries. Once the program has been built, you don't need the
       headers any more.

   <b>Crypt::SSLeay</b>
       The   latest   Crypt::SSLeay   can   be   found   at   your   nearest   CPAN   mirror,   as    well    as
       &lt;https://metacpan.org/pod/Crypt::SSLeay&gt;.

       Once you have downloaded it, "Crypt::SSLeay" installs easily using the standard build process:

           $ perl Makefile.PL
           $ make
           $ make test
           $ make install

       or

           $ cpanm Crypt::SSLeay

       If you have OpenSSL headers and libraries in nonstandard locations, you can use

           $ perl Makefile.PL --incpath=... --libpath=...

       If you would like to use "cpanm" with such custom locations, you can do

           $ OPENSSL_INCLUDE=... OPENSSL_LIB=... cpanm Crypt::SSLeay

       For example, on OS X (Mac) with Homebrew:

           $ brew install openssl
           $ OPENSSL_INCLUDE=$(brew --prefix openssl)/include OPENSSL_LIB=$(brew --prefix openssl)<a href="file:/lib">/lib</a> cpanm Crypt::SSLeay

       or, on Windows,

           &gt; set OPENSSL_INCLUDE=...
           &gt; set OPENSSL_LIB=...
           &gt; cpanm Crypt::SSLeay

       If  you  are on Windows, and using a MinGW distribution bundled with ActiveState Perl or Strawberry Perl,
       you would use "dmake" rather than "make". If you  are  using  Microsoft's  build  tools,  you  would  use
       "nmake".

       For  unattended  (batch)  installations,  to  be  absolutely certain that <u>Makefile.PL</u> does not prompt for
       questions on STDIN, set the environment variable "PERL_MM_USE_DEFAULT=1" as with any  CPAN  module  built
       using ExtUtils::MakeMaker.

       <u>VMS</u>

       I  do  not  have  any experience with VMS. If OpenSSL headers and libraries are not in standard locations
       searched by your build system by default, please set things up so that they  are.  If  you  have  generic
       instructions  on  how  to  do it, please open a ticket on RT with the information so I can add it to this
       document.

</pre><h4><b>PROXY</b> <b>SUPPORT</b></h4><pre>
       LWP::UserAgent and Crypt::SSLeay have their own versions of proxy support. Please read these sections  to
       see which one is appropriate.

   <b>LWP::UserAgent</b> <b>proxy</b> <b>support</b>
       "LWP::UserAgent"  has its own methods of proxying which may work for you and is likely to be incompatible
       with "Crypt::SSLeay" proxy support.  To use "LWP::UserAgent" proxy support, try something like:

           my $ua = LWP::UserAgent-&gt;new;
           $ua-&gt;proxy([qw( https http )], "$proxy_ip:$proxy_port");

       At the time of this writing, libwww v5.6 seems to proxy https requests  fine  with  an  Apache  <u>mod_proxy</u>
       server.  It sends a line like:

           GET https://www.example.com HTTP/1.1

       to  the  proxy server, which is not the "CONNECT" request that some proxies would expect, so this may not
       work with other proxy servers than <u>mod_proxy</u>. The "CONNECT" method is used by "Crypt::SSLeay"'s  internal
       proxy support.

   <b>Crypt::SSLeay</b> <b>proxy</b> <b>support</b>
       For  native  "Crypt::SSLeay"  proxy  support  of https requests, you need to set the environment variable
       "HTTPS_PROXY" to your proxy server and port, as in:

           # proxy support
           $ENV{HTTPS_PROXY} = '<a href="http://proxy_hostname_or_ip">http://proxy_hostname_or_ip</a>:port';
           $ENV{HTTPS_PROXY} = '127.0.0.1:8080';

       Use of the "HTTPS_PROXY" environment variable in this way  is  similar  to  "LWP::UserAgent-"<b>env_proxy()</b>&gt;
       usage,  but  calling that method will likely override or break the "Crypt::SSLeay" support, so do not mix
       the two.

       Basic auth credentials to the proxy server can be provided this way:

           # proxy_basic_auth
           $ENV{HTTPS_PROXY_USERNAME} = 'username';
           $ENV{HTTPS_PROXY_PASSWORD} = 'password';

       For an example  of  LWP  scripting  with  "Crypt::SSLeay"  native  proxy  support,  please  look  at  the
       <u>eg/lwp-ssl-test</u> script in the "Crypt::SSLeay" distribution.

</pre><h4><b>CLIENT</b> <b>CERTIFICATE</b> <b>SUPPORT</b></h4><pre>
       Client certificates are supported. PEM encoded certificate and private key files may be used like this:

           $ENV{HTTPS_CERT_FILE} = 'certs/notacacert.pem';
           $ENV{HTTPS_KEY_FILE}  = 'certs/notacakeynopass.pem';

       You  may  test  your  files with the <u>eg/net-ssl-test</u> program, bundled with the distribution, by issuing a
       command like:

           perl eg/net-ssl-test -cert=certs/notacacert.pem \
               -key=certs/notacakeynopass.pem -d GET $HOST_NAME

       Additionally, if you would like to tell the client where the CA file is, you may set these.

           $ENV{HTTPS_CA_FILE} = "some_file";
           $ENV{HTTPS_CA_DIR}  = "some_dir";

       Note that, if specified, $ENV{HTTPS_CA_FILE}  must  point  to  the  actual  certificate  file.  That  is,
       $ENV{HTTPS_CA_DIR} is *not* the path were $ENV{HTTPS_CA_FILE} is located.

       For    certificates   in   $ENV{HTTPS_CA_DIR}   to   be   picked   up,   follow   the   instructions   on
       &lt;<a href="http://www.openssl.org/docs/ssl/SSL_CTX_load_verify_locations.html">http://www.openssl.org/docs/ssl/SSL_CTX_load_verify_locations.html</a>&gt;

       There is no sample CA cert file at this time for testing, but you may configure  <u>eg/net-ssl-test</u>  to  use
       your CA cert with the -CAfile option.

       (TODO: then what is the <u>./certs</u> directory in the distribution?)

   <b>Creating</b> <b>a</b> <b>test</b> <b>certificate</b>
       To create simple test certificates with OpenSSL, you may run the following command:

           openssl req -config /usr/local/openssl/openssl.cnf \
               -new -days 365 -newkey rsa:1024 -x509 \
               -keyout notacakey.pem -out notacacert.pem

       To remove the pass phrase from the key file, run:

           openssl rsa -in notacakey.pem -out notacakeynopass.pem

   <b>PKCS12</b> <b>support</b>
       The directives for enabling use of PKCS12 certificates is:

           $ENV{HTTPS_PKCS12_FILE}     = 'certs/pkcs12.pkcs12';
           $ENV{HTTPS_PKCS12_PASSWORD} = 'PKCS12_PASSWORD';

       Use of this type of certificate takes precedence over previous certificate settings described.

       (TODO: unclear? Meaning "the presence of this type of certificate"?)

</pre><h4><b>SSL</b> <b>versions</b></h4><pre>
       "Crypt::SSLeay"  tries  very  hard to connect to <u>any</u> SSL web server accommodating servers that are buggy,
       old or simply not standards-compliant.  To this effect, this module will  try  SSL  connections  in  this
       order:

       SSL v23
           should allow v2 and v3 servers to pick their best type

       SSL v3
           best connection type

       SSL v2
           old connection type

       Unfortunately, some servers seem not to handle a reconnect to SSL v3 after a failed connect of SSL v23 is
       tried, so you may set before using LWP or Net::SSL:

           $ENV{HTTPS_VERSION} = 3;

       to  force  a  version  3 SSL connection first. At this time only a version 2 SSL connection will be tried
       after this, as the connection attempt order remains unchanged by this setting.

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
       Many thanks to the following individuals who helped improve "Crypt-SSLeay":

       <u>Gisle</u> <u>Aas</u> for writing this module and many others including libwww, for perl. The web will never  be  the
       same :)

       <u>Ben</u>  <u>Laurie</u>  deserves  kudos  for  his  excellent  patches  for  better  error  handling, SSL information
       inspection, and random seeding.

       <u>Dongqiang</u> <u>Bai</u> for host name resolution fix when using a proxy.

       <u>Stuart</u> <u>Horner</u> of Core Communications, Inc. who found the need for building "--shared" OpenSSL libraries.

       <u>Pavel</u> <u>Hlavnicka</u> for a patch for freeing memory when using a pkcs12 file, and for  inspiring  more  robust
       read() behavior.

       <u>James</u>  <u>Woodyatt</u>  is  a  champ  for  finding  a  ridiculous  memory  leak that has been the bane of many a
       Crypt::SSLeay user.

       <u>Bryan</u> <u>Hart</u> for his patch adding proxy support, and  thanks  to  <u>Tobias</u>  <u>Manthey</u>  for  submitting  another
       approach.

       <u>Alex</u> <u>Rhomberg</u> for Alpha linux ccc patch.

       <u>Tobias</u> <u>Manthey</u> for his patches for client certificate support.

       <u>Daisuke</u> <u>Kuroda</u> for adding PKCS12 certificate support.

       <u>Gamid</u> <u>Isayev</u> for CA cert support and insights into error messaging.

       <u>Jeff</u> <u>Long</u> for working through a tricky CA cert SSLClientVerify issue.

       <u>Chip</u> <u>Turner</u> for a patch to build under perl 5.8.0.

       <u>Joshua</u> <u>Chamas</u> for the time he spent maintaining the module.

       <u>Jeff</u> <u>Lavallee</u> for help with alarms on read failures (CPAN bug #12444).

       <u>Guenter</u>  <u>Knauf</u>  for  significant  improvements  in  configuring things in Win32 and Netware lands and Jan
       Dubois for various suggestions for improvements.

       and <u>many</u> <u>others</u> who provided bug reports, suggestions, fixes and patches.

       If you have reported a bug or provided feedback, and you would like to  be  mentioned  by  name  in  this
       section, please file request on rt.cpan.org &lt;<a href="http://rt.cpan.org/NoAuth/Bugs.html">http://rt.cpan.org/NoAuth/Bugs.html</a>?Dist=Crypt-SSLeay&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Net::SSL
           If  you  have  downloaded this distribution as of a dependency of another distribution, it's probably
           due to this module (which is included in this distribution).

       Net::SSLeay
           Net::SSLeay    provides    access    to    the    OpenSSL    API    directly    from    Perl.     See
           &lt;https://metacpan.org/pod/Net::SSLeay/&gt;.

       Building OpenSSL on 64-bit Windows 8.1 Pro using SDK tools
           My  blog  post  &lt;<a href="http://blog.nu42.com/2014/04/building-openssl-101g-on-64-bit-windows.html">http://blog.nu42.com/2014/04/building-openssl-101g-on-64-bit-windows.html</a>&gt;  might be
           helpful.

</pre><h4><b>SUPPORT</b></h4><pre>
       For issues related to using of "Crypt::SSLeay" &amp;  "Net::SSL"  with  Perl's  LWP,  please  send  email  to
       "<a href="mailto:libwww@perl.org">libwww@perl.org</a>".

       For  OpenSSL  or general SSL support, including issues associated with building and installing OpenSSL on
       your  system,  please  email  the  OpenSSL  users  mailing  list  at   "<a href="mailto:openssl-users@openssl.org">openssl-users@openssl.org</a>".   See
       &lt;<a href="http://www.openssl.org/support/community.html">http://www.openssl.org/support/community.html</a>&gt; for other mailing lists and archives.

       Please report all bugs using rt.cpan.org &lt;<a href="http://rt.cpan.org/NoAuth/Bugs.html">http://rt.cpan.org/NoAuth/Bugs.html</a>?Dist=Crypt-SSLeay&gt;.

</pre><h4><b>AUTHORS</b></h4><pre>
       This  module was originally written by Gisle Aas, and was subsequently maintained by Joshua Chamas, David
       Landgren, brian d foy and Sinan Unur.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2010-2014 A. Sinan Unur

       Copyright (c) 2006-2007 David Landgren

       Copyright (c) 1999-2003 Joshua Chamas

       Copyright (c) 1998 Gisle Aas

</pre><h4><b>LICENSE</b></h4><pre>
       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  Artistic
       License 2.0 (see &lt;<a href="http://www.perlfoundation.org/artistic_license_2_0">http://www.perlfoundation.org/artistic_license_2_0</a>&gt;).

perl v5.40.0                                       2024-10-20                                        <u><a href="../man3pm/SSLeay.3pm.html">SSLeay</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>