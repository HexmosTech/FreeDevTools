<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSSL_ENCODER_CTX, OSSL_ENCODER_CTX_new, OSSL_ENCODER_settable_ctx_params, OSSL_ENCODER_CTX_set_params,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       OSSL_ENCODER_CTX, OSSL_ENCODER_CTX_new, OSSL_ENCODER_settable_ctx_params, OSSL_ENCODER_CTX_set_params,
       OSSL_ENCODER_CTX_free, OSSL_ENCODER_CTX_set_selection, OSSL_ENCODER_CTX_set_output_type,
       OSSL_ENCODER_CTX_set_output_structure, OSSL_ENCODER_CTX_add_encoder, OSSL_ENCODER_CTX_add_extra,
       OSSL_ENCODER_CTX_get_num_encoders, OSSL_ENCODER_INSTANCE, OSSL_ENCODER_INSTANCE_get_encoder,
       OSSL_ENCODER_INSTANCE_get_encoder_ctx, OSSL_ENCODER_INSTANCE_get_output_type,
       OSSL_ENCODER_INSTANCE_get_output_structure, OSSL_ENCODER_CONSTRUCT, OSSL_ENCODER_CLEANUP,
       OSSL_ENCODER_CTX_set_construct, OSSL_ENCODER_CTX_set_construct_data, OSSL_ENCODER_CTX_set_cleanup -
       Encoder context routines

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/encoder.h&gt;

        typedef struct ossl_encoder_ctx_st OSSL_ENCODER_CTX;

        OSSL_ENCODER_CTX *OSSL_ENCODER_CTX_new();
        const OSSL_PARAM *OSSL_ENCODER_settable_ctx_params(OSSL_ENCODER *encoder);
        int OSSL_ENCODER_CTX_set_params(OSSL_ENCODER_CTX *ctx,
                                        const OSSL_PARAM params[]);
        void OSSL_ENCODER_CTX_free(OSSL_ENCODER_CTX *ctx);

        int OSSL_ENCODER_CTX_set_selection(OSSL_ENCODER_CTX *ctx, int selection);
        int OSSL_ENCODER_CTX_set_output_type(OSSL_ENCODER_CTX *ctx,
                                             const char *output_type);
        int OSSL_ENCODER_CTX_set_output_structure(OSSL_ENCODER_CTX *ctx,
                                                  const char *output_structure);

        int OSSL_ENCODER_CTX_add_encoder(OSSL_ENCODER_CTX *ctx, OSSL_ENCODER *encoder);
        int OSSL_ENCODER_CTX_add_extra(OSSL_ENCODER_CTX *ctx,
                                       OSSL_LIB_CTX *libctx, const char *propq);
        int OSSL_ENCODER_CTX_get_num_encoders(OSSL_ENCODER_CTX *ctx);

        typedef struct ossl_encoder_instance_st OSSL_ENCODER_INSTANCE;
        OSSL_ENCODER *
        OSSL_ENCODER_INSTANCE_get_encoder(OSSL_ENCODER_INSTANCE *encoder_inst);
        void *
        OSSL_ENCODER_INSTANCE_get_encoder_ctx(OSSL_ENCODER_INSTANCE *encoder_inst);
        const char *
        OSSL_ENCODER_INSTANCE_get_output_type(OSSL_ENCODER_INSTANCE *encoder_inst);
        const char *
        OSSL_ENCODER_INSTANCE_get_output_structure(OSSL_ENCODER_INSTANCE *encoder_inst);

        typedef const void *OSSL_ENCODER_CONSTRUCT(OSSL_ENCODER_INSTANCE *encoder_inst,
                                                   void *construct_data);
        typedef void OSSL_ENCODER_CLEANUP(void *construct_data);

        int OSSL_ENCODER_CTX_set_construct(OSSL_ENCODER_CTX *ctx,
                                           OSSL_ENCODER_CONSTRUCT *construct);
        int OSSL_ENCODER_CTX_set_construct_data(OSSL_ENCODER_CTX *ctx,
                                                void *construct_data);
        int OSSL_ENCODER_CTX_set_cleanup(OSSL_ENCODER_CTX *ctx,
                                         OSSL_ENCODER_CLEANUP *cleanup);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Encoding an input object to the desired encoding may be done with a chain of encoder implementations,
       which means that the output from one encoder may be the input for the next in the chain.  The
       <b>OSSL_ENCODER_CTX</b> holds all the data about these encoders.  This allows having generic format encoders
       such as DER to PEM, as well as more specialized encoders like RSA to DER.

       The final output type must be given, and a chain of encoders must end with an implementation that
       produces that output type.

       At the beginning of the encoding process, a constructor provided by the caller is called to ensure that
       there is an appropriate provider-side object to start with.  The constructor is set with
       <b>OSSL_ENCODER_CTX_set_construct()</b>.

       <b>OSSL_ENCODER_INSTANCE</b> is an opaque structure that contains data about the encoder that is going to be
       used, and that may be useful for the constructor.  There are some functions to extract data from this
       type, described in "Constructor" below.

   <b>Functions</b>
       <b>OSSL_ENCODER_CTX_new()</b> creates a <b>OSSL_ENCODER_CTX</b>.

       <b>OSSL_ENCODER_settable_ctx_params()</b> returns an <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3) array of parameter descriptors.

       <b>OSSL_ENCODER_CTX_set_params()</b> attempts to set parameters specified with an <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3) array <u>params</u>.
       Parameters that the implementation doesn't recognise should be ignored.

       <b>OSSL_ENCODER_CTX_free()</b> frees the given context <u>ctx</u>.  If the argument is NULL, nothing is done.

       <b>OSSL_ENCODER_CTX_add_encoder()</b> populates the <b>OSSL_ENCODER_CTX</b> <u>ctx</u> with a encoder, to be used to encode an
       input object.

       <b>OSSL_ENCODER_CTX_add_extra()</b> finds encoders that further encodes output from already added encoders, and
       adds them as well.  This is used to build encoder chains.

       <b>OSSL_ENCODER_CTX_set_output_type()</b> sets the ending output type.  This must be specified, and determines
       if a complete encoder chain is available.

       <b>OSSL_ENCODER_CTX_set_output_structure()</b> sets the desired output structure.  This may be used to
       determines what encoder implementations may be used.  Depending on the type of object being encoded, the
       output structure may not be relevant.

       <b>OSSL_ENCODER_CTX_get_num_encoders()</b> gets the number of encoders currently added to the context <u>ctx</u>.

       <b>OSSL_ENCODER_CTX_set_construct()</b> sets the constructor <u>construct</u>.

       <b>OSSL_ENCODER_CTX_set_construct_data()</b> sets the constructor data that is passed to the constructor every
       time it's called.

       <b>OSSL_ENCODER_CTX_set_cleanup()</b> sets the constructor data <u>cleanup</u> function.  This is called by
       <b><a href="../man3/OSSL_ENCODER_CTX_free.3.html">OSSL_ENCODER_CTX_free</a></b>(3).

   <b>Constructor</b>
       A <b>OSSL_ENCODER_CONSTRUCT</b> gets the following arguments:

       <u>encoder_inst</u>
           The <b>OSSL_ENCODER_INSTANCE</b> for the encoder from which the constructor gets its data.

       <u>construct_data</u>
           The pointer that was set with <b>OSSL_ENCODE_CTX_set_construct_data()</b>.

       The  constructor is expected to return a valid (non-NULL) pointer to a provider-native object that can be
       used as first input of an encoding chain, or NULL to indicate that an error has occurred.

       These utility functions may be used by a constructor:

       <b>OSSL_ENCODER_INSTANCE_get_encoder()</b> can be used to get the encoder implementation of the encoder instance
       <u>encoder_inst</u>.

       <b>OSSL_ENCODER_INSTANCE_get_encoder_ctx()</b> can be used to get the encoder implementation's provider  context
       of the encoder instance <u>encoder_inst</u>.

       <b>OSSL_ENCODER_INSTANCE_get_output_type()</b> can be used to get the output type for the encoder implementation
       of the encoder instance <u>encoder_inst</u>.  This will never be NULL.

       <b>OSSL_ENCODER_INSTANCE_get_output_structure()</b>  can  be  used  to  get the output structure for the encoder
       implementation of the encoder instance <u>encoder_inst</u>.  This may be NULL.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>OSSL_ENCODER_CTX_new()</b> returns a pointer to a <b>OSSL_ENCODER_CTX</b>, or NULL if the context structure couldn't
       be allocated.

       <b>OSSL_ENCODER_settable_ctx_params()</b> returns an <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3) array, or NULL if none is available.

       <b>OSSL_ENCODER_CTX_set_params()</b> returns 1 if all recognised parameters were valid, or 0 if one of them  was
       invalid or caused some other failure in the implementation.

       <b>OSSL_ENCODER_CTX_add_encoder()</b>,      <b>OSSL_ENCODER_CTX_add_extra()</b>,      <b>OSSL_ENCODER_CTX_set_construct()</b>,
       <b>OSSL_ENCODER_CTX_set_construct_data()</b> and <b>OSSL_ENCODER_CTX_set_cleanup()</b> return 1 on  success,  or  0  on
       failure.

       <b>OSSL_ENCODER_CTX_get_num_encoders()</b> returns the current number of encoders.  It returns 0 if <u>ctx</u> is NULL.

       <b>OSSL_ENCODER_INSTANCE_get_encoder()</b> returns an <b>OSSL_ENCODER</b> pointer on success, or NULL on failure.

       <b>OSSL_ENCODER_INSTANCE_get_encoder_ctx()</b>  returns  a  provider  context  pointer  on  success,  or NULL on
       failure.

       <b>OSSL_ENCODER_INSTANCE_get_output_type()</b> returns a string with the name of the input  type,  if  relevant.
       NULL is a valid returned value.

       <b>OSSL_ENCODER_INSTANCE_get_output_type()</b> returns a string with the name of the output type.

       <b>OSSL_ENCODER_INSTANCE_get_output_structure()</b> returns a string with the name of the output structure.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/provider.7.html">provider</a></b>(7), <b><a href="../man3/OSSL_ENCODER.3.html">OSSL_ENCODER</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       The functions described here were added in OpenSSL 3.0.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2019-2024 The OpenSSL Project Authors. All Rights Reserved.

       Licensed  under  the  Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain  a  copy  in  the  file  LICENSE  in  the  source  distribution  or  at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                             <u><a href="../man3SSL/OSSL_ENCODER_CTX.3SSL.html">OSSL_ENCODER_CTX</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>