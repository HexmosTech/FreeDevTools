<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kcapi_handle_reinit - re-initialize a new kernel interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libkcapi-dev">libkcapi-dev_1.4.0-1ubuntu4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       kcapi_handle_reinit - re-initialize a new kernel interface

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>int</b> <b>kcapi_handle_reinit(struct</b> <b>kcapi_handle</b> <b>**</b> <u>newhandle</u><b>,</b> <b>struct</b> <b>kcapi_handle</b> <b>*</b> <u>existing</u><b>,</b>
                               <b>uint32_t</b> <u>flags</u><b>);</b>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>newhandle</u>
           [out] cipher handle filled during the call

       <u>existing</u>
           [in] existing cipher handle from which a new handle shall be re-initialized

       <u>flags</u>
           [in] flags specifying the type of cipher handle

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The kernel crypto API interface operates with two types of file descriptors, the TFM file descriptor and
       the OP file descriptor.

       The TFM file descriptor receives the cipher-operation static information: the key, and the AEAD tag size.

       The OP file descriptor receives the volatile data, such as the plaintext / ciphertext, the IV, or the
       AEAD AD size.

       The kernel crypto API AF_ALG interface supports the concept that one TFM file descriptor can operate with
       multiple OP file descriptors. The different OP file descriptors can perform completely separate cipher
       operations using the same key which can execute in parallel. The parallel execution can be performed in
       the same or different process threads.

       <b>kcapi_handle_reinit</b> function allows the allocation of a new cipher handle with a new OP file descriptor
       but using the same TFM file descriptor. To obtain a reference to the TFM file descriptor, an <u>existing</u>
       cipher handle is used as source.  <b>kcapi_handle_reinit</b> can be invoked multiple times. Each resulting
       cipher handle must be deallocated with <b>kcapi_cipher_destroy</b>. The deallocation ensures that the TFM
       resource is only released if the last handle using this TFM resource is released.

       <u>return</u> 0 upon success; -EINVAL - accept syscall failed -ENOMEM - cipher handle cannot be allocated

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>Stephan</b> <b>Mueller</b> &lt;<a href="mailto:smueller@chronox.de">smueller@chronox.de</a>&gt;
           Author.

</pre><h4><b>COPYRIGHT</b></h4><pre>
libkcapi Manual 1.5.0                              April 2024                             <u><a href="../man3/KCAPI_HANDLE_REINIT.3.html">KCAPI_HANDLE_REINIT</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>