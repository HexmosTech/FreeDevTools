<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FBB::Redirector - Redirects a file descriptor to another descriptor</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbobcat-dev">libbobcat-dev_6.07.01-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       FBB::Redirector - Redirects a file descriptor to another descriptor

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;bobcat/redirector&gt;</b>
       Linking option: <u>-lbobcat</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Objects  of  the  class  <b>FBB::Redirector</b>  set  up a system level file redirection, using file descriptors
       rather than streams. <u>Redirector</u> objects are effectively <u>wrappers</u> around the <b><a href="../man2/dup2.2.html">dup2</a></b>(2) system  call.  System
       level  redirection  allows  the  programmer  to  send  output to, e.g., the standard output stream, which
       actually appears at another stream (e.g., the standard error).

       <u>Redirector</u> objects are used to redirect the output sent to a stream having file descriptor <u>x</u>  to  another
       stream  having  file descriptor <u>y</u>, much like the shell’s <u>&gt;</u> operator redirects the standard output to some
       file.

       <u>Redirector</u> objects can also be used to extract the information from a stream having file descriptor <u>x</u>  in
       fact  from  another stream having file descriptor <u>y</u>, much like the shell’s <u>&lt;</u> operator is used to read the
       information in some file from the standard input.

       Redirection using <u>Redirector</u> objects represents a stronger form of redirection than  redirection  offered
       by  <b>C++</b>  itself,  which  uses  <u>std::streambuf</u>  redirection,  and  which is, because of that, bound to the
       program’s scope. System level redirection, on the other hand, is applied at the  system  level,  allowing
       the  programmer  to redirect standard streams when starting a program. For example, the standard error is
       commonly written to the standard output using an invocation like <u>program</u> <u>2&gt;&amp;1</u>.

       When constructing <u>Redirector</u> objects a file descriptor is required. The file descriptor specified at  the
       constructor  is  the  file  descriptor  that  is used by the program to read information from or to write
       information to.  Another file descriptor is required to set up the redirection: the file descriptor  used
       here is the file descriptor of the stream that actually holds the information which is extracted from the
       file  descriptor  that  was  passed  to the <u>Redirector</u>’s constructor; or it is the file descriptor of the
       stream receiving the information which is written to the stream  having  the  file  descriptor  that  was
       passed to the <u>Redirector</u>’s constructor.

       When  a <u>Redirector</u> object goes out of scope, its file descriptor are left as-is. In particular, note that
       no <b><a href="../man2/close.2.html">close</a></b>(2) operation is performed on the <u>Redirector’s</u> file descriptors.  After  setting  up  redirection
       using  the  <u>Redirector’s</u> member functions and passing the <u>Redirector’s</u> file descriptors to code that uses
       the <u>Redirector’s</u> descriptors, the <u>Redirector</u> object could in fact safely be destroyed.

       Formally, file descriptors are not defined in <b>C++</b>, but they are available  in  many  types  of  operating
       systems.  In  those systems each `file’ has an associated `file descriptor’. A file descriptor is an <b>int</b>,
       which is an index into the program’s file allocation table, maintained by the  system.  Another  type  of
       well-known entities which are file descriptors are <u>sockets</u>.

       Well-known filedescriptors (defined in, e.g., <u>unistd.h</u>) having fixed values are
        0 (<u>STDIN_FILENO</u>), representing the standard input stream (<u>std::cin</u>);
        1, (<u>STDOUT_FILENO</u>), representing the standard output stream (<u>std::cout</u>);
        2, (<u>STDERR_FILENO</u>), representing the standard error stream (<u>cerr</u>); Notes:

       o      System-level redirections are kept during system calls of the <b><a href="../man3/exec.3.html">exec</a></b>(3) family.

       o      Destroying a <u>Redirector</u> object does <u>not</u> undo the redirection set up by that object.

</pre><h4><b>NAMESPACE</b></h4><pre>
       <b>FBB</b>
       All  constructors,  members,  operators  and manipulators, mentioned in this man-page, are defined in the
       namespace <b>FBB</b>.

</pre><h4><b>INHERITS</b> <b>FROM</b></h4><pre>
       -

</pre><h4><b>ENUM</b></h4><pre>
       The enumeration <b>StandardFileno</b> holds the following values:

       o      <u>STDIN</u> (0)

       o      <u>STDOUT</u> (1)

       o      <u>STDERR</u> (2) These values may be used to set up a redirection instead of the plain numbers.

</pre><h4><b>CONSTRUCTORS</b></h4><pre>
       o      <b>Redirector(int</b> <b>fd)</b>:
              This constructor expects the file descriptor of the file that will  be  used  by  the  program  to
              access  (read,  write) another file. The file descriptor that is passed to the constructor is used
              by the program, and will often be <u>STDIN,</u> <u>STDOUT</u>, or <u>STDERR</u>, allowing the program to use <u>cin,</u> <u>cout</u>,
              or <u>cerr</u> to extract information from, or insert information into other streams using  its  standard
              input and output streams.

       Copy and move constructors (and assignment operators) are available.

</pre><h4><b>MEMBER</b> <b>FUNCTIONS</b></h4><pre>
       o      <b>void</b> <b>swallow(int</b> <b>otherFd)</b> <b>const</b>:
              This  member function expects a file descriptor which should become a synonym of the constructor’s
              file descriptor. The constructor’s file descriptor is redirected to <u>otherFd</u>.

              After successfully calling <u>swallow</u> information written to  <u>otherFd</u>  is  in  fact  written  to  the
              constructor’s  file  descriptor.  E.g.,  if the constructor’s file descriptor represents a file on
              disk and <u>otherFd</u> is <u>STDOUT_FILENO</u> then all information sent  to  the  standard  output  stream  is
              actually sent to the file on disk:

                  information sent to otherFd -&gt; is received at the constructor’s Fd
                  (e.g., otherFd = STDOUT_FILENO)

              Conversely,  if  the  constructor’s  file  descriptor  represents  a  file  on disk and <u>otherFd</u> is
              <u>STDIN_FILENO</u> then all information extracted from the standard input stream is actually  read  from
              the file on disk.

                  information extracted from otherFd &lt;- is read from the constructor’s Fd
                  (e.g., otherFd = STDIN_FILENO)

              Following <u>swallow</u> both file descriptors are open, and refer to the constructor’s file descriptor.

              Before  setting  up the redirection, the original <u>otherFd</u> is closed by <b><a href="../man2/close.2.html">close</a></b>(2). Following <u>swallow</u>
              both file descriptors can be used, and refer  to  the  constructor’s  file  descriptor.  If  after
              calling <u>swallow</u> <b><a href="../man2/close.2.html">close</a></b>(2) is called for one of them, then the other one remains open.

              If  redirection  fails an <b>FBB::Exception</b> object is thrown, whose <u>which()</u> member shows the system’s
              <u>errno</u> value set by the failing <b><a href="../man2/dup2.2.html">dup2</a></b>(2) function.

       o      <b>void</b> <b>through(int</b> <b>otherFd)</b> <b>const</b>:
              This member function expects a file descriptor which should become a synonym of the  constructor’s
              file  descriptor.  The  constructor’s  file descriptor is redirected to <u>otherFd</u>. The constructor’s
              file descriptor can no longer be used, as it is closed by <b><a href="../man2/close.2.html">close</a></b>(2).

              After successfully calling <u>through</u> information written to  <u>otherFd</u>  is  in  fact  written  to  the
              constructor’s  file  descriptor.  E.g.,  if the constructor’s file descriptor represents a file on
              disk and <u>otherFd</u> is <u>STDOUT_FILENO</u> then all information sent  to  the  standard  output  stream  is
              actually sent to the file on disk:

                  information sent to otherFd -&gt; is received at the constructor’s Fd
                  (e.g., otherFd = STDOUT_FILENO)

              Conversely,  if  the  constructor’s  file  descriptor  represents  a  file  on disk and <u>otherFd</u> is
              <u>STDIN_FILENO</u> then all information extracted from the standard input stream is actually  read  from
              the file on disk.

                  information extracted from otherFd &lt;- is read from the constructor’s Fd
                  (e.g., otherFd = STDIN_FILENO)

              Before  setting  up the redirection, the original <u>otherFd</u> is closed by <b><a href="../man2/close.2.html">close</a></b>(2). Following <u>through</u>
              only <u>otherFd</u> can be used, and it  refers  to  (i.e.,  reads  or  writes)  the  constructor’s  file
              descriptor.

              If  redirection  fails an <b>FBB::Exception</b> object is thrown, whose <u>which()</u> member shows the system’s
              <u>errno</u> value set by the failing <b><a href="../man2/dup2.2.html">dup2</a></b>(2) function.

</pre><h4><b>EXAMPLE</b></h4><pre>
           #include &lt;iostream&gt;
           #include &lt;bobcat/redirector&gt;

           using namespace std;
           using namespace FBB;

           int main()
           {
               Redirector redirector(Redirector::STDOUT);
               redirector.swallow(Redirector::STDERR);

               cerr &lt;&lt; "This appears at the standard output stream\n"
                       "use `a.out &gt; /dev/null’ to suppress this message" &lt;&lt; endl;
           }

</pre><h4><b>FILES</b></h4><pre>
       <u>bobcat/redirector</u> - defines the class interface

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/bobcat.7.html">bobcat</a></b>(7), <b><a href="../man2/dup2.2.html">dup2</a></b>(2), <b><a href="../man3/execl.3.html">execl</a></b>(3)

</pre><h4><b>BUGS</b></h4><pre>
       None Reported.

</pre><h4><b>BOBCAT</b> <b>PROJECT</b> <b>FILES</b></h4><pre>
       o      <u>https://fbb-git.gitlab.io/bobcat/</u>: gitlab project page;

       Debian Bobcat project files:

       o      <u>libbobcat6</u>: debian package containing the shared library, changelog and copyright note;

       o      <u>libbobcat-dev</u>: debian package containing the static library, headers, manual pages, and  developer
              info;

</pre><h4><b>BOBCAT</b></h4><pre>
       Bobcat is an acronym of `Brokken’s Own Base Classes And Templates’.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This is free software, distributed under the terms of the GNU General Public License (GPL).

</pre><h4><b>AUTHOR</b></h4><pre>
       Frank B. Brokken (<b><a href="mailto:f.b.brokken@rug.nl">f.b.brokken@rug.nl</a></b>).

libbobcat-dev_6.07.01                               2005-2025                           <u>FBB::<a href="../man3bobcat/Redirector.3bobcat.html">Redirector</a></u>(3bobcat)
</pre>
 </div>
</div></section>
</div>
</body>
</html>