<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ares_getsock - get socket descriptors to wait on (deprecated)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libc-ares-dev">libc-ares-dev_1.34.5-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ares_getsock - get socket descriptors to wait on (deprecated)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;ares.h&gt;

       int ares_getsock(const ares_channel_t *<u>channel</u>, ares_socket_t *<u>socks</u>,
                        int <u>numsocks</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>ares_getsock</b>  function  retrieves the set of socket descriptors which the calling application should
       wait on for reading and/or writing for the processing of name service queries pending on the name service
       channel identified by <u>channel</u>.  Socket descriptors will be set in the socket descriptor array pointed  to
       by <u>socks</u>.  <u>numsocks</u> is the size of the given array in number of ints.

       This  function  can  only  return  information  up to 16 sockets. If more are in use, they are simply not
       reported back.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>ares_getsock</b> returns a bitmask for what actions to wait for on the different sockets. The  ares.h  header
       file provides these convenience macros to extract the information appropriately:

       #define ARES_GETSOCK_MAXNUM 16 /* ares_getsock() can return info about
                                         this many sockets */
       #define ARES_GETSOCK_READABLE(bits,num) (bits &amp; (1&lt;&lt; (num)))
       #define ARES_GETSOCK_WRITABLE(bits,num) (bits &amp; (1 &lt;&lt; ((num) +                                          ARES_GETSOCK_MAXNUM)))

</pre><h4><b>NOTES</b></h4><pre>
       This  function  was  added  in  c-ares 1.3.1 and deprecated in c-ares 1.20.0 due to the implementation of
       <b>ARES_OPT_MAX_UDP_QUERIES</b> which makes it likely to exceed 16 open file descriptors.

       It is recommended to use <b>ARES_OPT_EVENT_THREAD</b> passed to <u><a href="../man3/ares_init_options.3.html">ares_init_options</a>(3)</u>  or  to  use  socket  state
       callbacks (<b>ARES_OPT_SOCK_STATE_CB</b>) registered via <b><a href="../man3/ares_init_options.3.html">ares_init_options</a>(3)</b>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ares_init_options.3.html">ares_init_options</a></b>(3), <b><a href="../man3/ares_timeout.3.html">ares_timeout</a></b>(3), <b><a href="../man3/ares_fds.3.html">ares_fds</a></b>(3), <b><a href="../man3/ares_process.3.html">ares_process</a></b>(3)

                                                  11 March 2010                                  <u><a href="../man3/ARES_GETSOCK.3.html">ARES_GETSOCK</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>