<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>io_uring_prep_close - prepare a file descriptor close request</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liburing-dev">liburing-dev_2.11-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       io_uring_prep_close - prepare a file descriptor close request

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;liburing.h&gt;</b>

       <b>void</b> <b>io_uring_prep_close(struct</b> <b>io_uring_sqe</b> <b>*</b><u>sqe</u><b>,</b>
                                 <b>int</b> <u>fd</u><b>);</b>

       <b>void</b> <b>io_uring_prep_close_direct(struct</b> <b>io_uring_sqe</b> <b>*</b><u>sqe</u><b>,</b>
                                       <b>unsigned</b> <u>file_index</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b><a href="../man3/io_uring_prep_close.3.html">io_uring_prep_close</a></b>(3) function prepares a close request. The submission queue entry <u>sqe</u> is setup to
       close the file descriptor indicated by <u>fd</u>.

       For a direct descriptor close request, the offset is specified by the <u>file_index</u> argument instead of  the
       <u>fd</u>.   This  is  identical  to unregistering the direct descriptor, and is provided as a convenience. Note
       that even though it's closing a direct descriptor, the application must not set <b>IOSQE_FIXED_FILE</b>  on  the
       SQE. Otherwise the request will complete with <b>-EBADF</b> as the result.

       These functions prepare an async <b><a href="../man2/close.2.html">close</a></b>(2) request. See that man page for details.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       None

</pre><h4><b>ERRORS</b></h4><pre>
       The  CQE  <u>res</u>  field  will  contain  the result of the operation. See the related man page for details on
       possible values. For closing of a direct descriptor, the  only  failure  cases  are  the  kernel  running
       completely  out  of  memory,  or if the application has specified an invalid direct descriptor. Note that
       where synchronous system calls will return <b>-1</b> on failure  and  set  <u>errno</u>  to  the  actual  error  value,
       io_uring never uses <u>errno</u>.  Instead it returns the negated <u>errno</u> directly in the CQE <u>res</u> field.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/io_uring_get_sqe.3.html">io_uring_get_sqe</a></b>(3), <b><a href="../man3/io_uring_submit.3.html">io_uring_submit</a></b>(3), <b><a href="../man2/close.2.html">close</a></b>(2)

liburing-2.2                                     March 13, 2022                           <u><a href="../man3/io_uring_prep_close.3.html">io_uring_prep_close</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>