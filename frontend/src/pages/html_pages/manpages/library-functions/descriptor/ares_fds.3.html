<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ares_fds - return file descriptors to select on (deprecated)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libc-ares-dev">libc-ares-dev_1.34.5-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ares_fds - return file descriptors to select on (deprecated)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;ares.h&gt;

       int ares_fds(const ares_channel_t *<u>channel</u>,
                    fd_set *<u>read_fds</u>,
                    fd_set *<u>write_fds</u>)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       See the <b>NOTES</b> section on issues with this function and alternatives.

       The  <b><a href="../man3/ares_fds.3.html">ares_fds</a>(3)</b>  function  retrieves  the  set  of file descriptors which the calling application should
       <b><a href="../man2/select.2.html">select</a>(2)</b> on for reading and writing for the processing of name  service  queries  pending  on  the  name
       service  channel  identified  by  <u>channel</u>.   Should  not  be used with <b>ARES_OPT_EVENT_THREAD</b> is passed to
       <u><a href="../man3/ares_init_options.3.html">ares_init_options</a>(3)</u>.

       File descriptors will be set in the file  descriptor  sets  pointed  to  by  <u>read_fds</u>  and  <u>write_fds</u>  as
       appropriate.   File  descriptors already set in <u>read_fds</u> and <u>write_fds</u> will remain set; initialization of
       the file descriptor sets (using <b>FD_ZERO</b>) is the responsibility of the caller.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b><a href="../man3/ares_fds.3.html">ares_fds</a>(3)</b> returns a value that is one greater than the number of  the  highest  socket  set  in  either
       <u>read_fds</u> or <u>write_fds</u>.  If no queries are active, <b><a href="../man3/ares_fds.3.html">ares_fds</a>(3)</b> returns 0.

</pre><h4><b>NOTES</b></h4><pre>
       The  <b><a href="../man2/select.2.html">select</a>(2)</b>  call which takes the <u>fd_set</u> parameter has significant limitations which can impact modern
       systems.  The limitations can vary from system to system, but in general if  the  file  descriptor  value
       itself  is  greater  than 1024 (not the count but the actual value), this can lead to <b><a href="../man3/ares_fds.3.html">ares_fds</a>(3)</b> writing
       out of bounds which will cause a system crash.  In modern networking clients, it is not unusual  to  have
       file  descriptor  values above 1024, especially when a library is pulled in as a dependency into a larger
       project.

       c-ares does not attempt to detect this condition to prevent crashes due  to  both  implementation-defined
       behavior in the OS as well as integrator-controllable tunables which may impact the limits.

       It  is recommended to use <b>ARES_OPT_EVENT_THREAD</b> passed to <u><a href="../man3/ares_init_options.3.html">ares_init_options</a>(3)</u>, or socket state callbacks
       (<b>ARES_OPT_SOCK_STATE_CB</b>) registered via <u><a href="../man3/ares_init_options.3.html">ares_init_options</a>(3)</u> and use more modern  methods  to  check  for
       socket readable/writable state such as <u><a href="../man2/poll.2.html">poll</a>(2)</u>, <u><a href="../man2/epoll.2.html">epoll</a>(2)</u>, or <u><a href="../man2/kqueue.2.html">kqueue</a>(2)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ares_init_options.3.html">ares_init_options</a></b>(3), <b><a href="../man3/ares_timeout.3.html">ares_timeout</a></b>(3), <b><a href="../man3/ares_process.3.html">ares_process</a></b>(3)

                                                  23 July 1998                                       <u><a href="../man3/ARES_FDS.3.html">ARES_FDS</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>