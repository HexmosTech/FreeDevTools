<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       posix_typed_mem_open — open a typed memory object (<b>ADVANCED</b> <b>REALTIME</b>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;sys/mman.h&gt;

       int posix_typed_mem_open(const char *<u>name</u>, int <u>oflag</u>, int <u>tflag</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>posix_typed_mem_open</u>()  function  shall  establish  a  connection  between  the  typed memory object
       specified by the string pointed to by  <u>name</u>  and  a  file  descriptor.  It  shall  create  an  open  file
       description  that  refers  to the typed memory object and a file descriptor that refers to that open file
       description. The file descriptor shall be  allocated  as  described  in  <u>Section</u>  <u>2.14</u>,  <u>File</u>  <u>Descriptor</u>
       <u>Allocation</u>  and  can  be  used by other functions to refer to that typed memory object. It is unspecified
       whether the name appears in the file system and is visible to other  functions  that  take  pathnames  as
       arguments.  The  <u>name</u>  argument  conforms  to  the  construction  rules  for  a pathname, except that the
       interpretation of &lt;slash&gt; characters other than the leading &lt;slash&gt; character in <u>name</u> is  implementation-
       defined,  and that the length limits for the <u>name</u> argument are implementation-defined and need not be the
       same as the pathname limits {PATH_MAX} and {NAME_MAX}.  If <u>name</u> begins with the &lt;slash&gt;  character,  then
       processes calling <u>posix_typed_mem_open</u>() with the same value of <u>name</u> shall refer to the same typed memory
       object. If <u>name</u> does not begin with the &lt;slash&gt; character, the effect is implementation-defined.

       Each typed memory object supported in a system shall be identified by a name which specifies not only its
       associated  typed memory pool, but also the path or port by which it is accessed. That is, the same typed
       memory pool accessed via several different ports shall have several different  corresponding  names.  The
       binding between names and typed memory objects is established in an implementation-defined manner. Unlike
       shared memory objects, there is no way within POSIX.1‐2008 for a program to create a typed memory object.

       The  value of <u>tflag</u> shall determine how the typed memory object behaves when subsequently mapped by calls
       to <u>mmap</u>().  At most, one of the following flags defined in <u>&lt;sys/mman.h&gt;</u> may be specified:

       POSIX_TYPED_MEM_ALLOCATE
             Allocate on <u>mmap</u>().

       POSIX_TYPED_MEM_ALLOCATE_CONTIG
             Allocate contiguously on <u>mmap</u>().

       POSIX_TYPED_MEM_MAP_ALLOCATABLE
             Map on <u>mmap</u>(), without affecting allocatability.

       If <u>tflag</u> has the flag POSIX_TYPED_MEM_ALLOCATE  specified,  any  subsequent  call  to  <u>mmap</u>()  using  the
       returned  file descriptor shall result in allocation and mapping of typed memory from the specified typed
       memory pool. The allocated memory may be a contiguous previously unallocated area  of  the  typed  memory
       pool  or  several  non-contiguous  previously  unallocated  areas  (mapped to a contiguous portion of the
       process address space). If <u>tflag</u> has the flag POSIX_TYPED_MEM_ALLOCATE_CONTIG specified,  any  subsequent
       call  to  <u>mmap</u>()  using  the  returned file descriptor shall result in allocation and mapping of a single
       contiguous previously unallocated area of the typed memory pool (also mapped to a contiguous  portion  of
       the   process   address   space).   If   <u>tflag</u>   has   none  of  the  flags  POSIX_TYPED_MEM_ALLOCATE  or
       POSIX_TYPED_MEM_ALLOCATE_CONTIG specified,  any  subsequent  call  to  <u>mmap</u>()  using  the  returned  file
       descriptor  shall  map  an  application-chosen  area  from the specified typed memory pool such that this
       mapped area becomes unavailable for allocation until unmapped by all processes. If  <u>tflag</u>  has  the  flag
       POSIX_TYPED_MEM_MAP_ALLOCATABLE  specified,  any  subsequent  call  to  <u>mmap</u>()  using  the  returned file
       descriptor shall map an application-chosen area from the specified typed memory pool without an effect on
       the availability of that area for allocation; that is, mapping such an object leaves  each  byte  of  the
       mapped area unallocated if it was unallocated prior to the mapping or allocated if it was allocated prior
       to   the  mapping.  Appropriate  privileges  to  specify  the  POSIX_TYPED_MEM_MAP_ALLOCATABLE  flag  are
       implementation-defined.

       If successful, <u>posix_typed_mem_open</u>() shall return a file descriptor for the typed  memory  object.   The
       open  file  description  is  new,  and  therefore  the  file descriptor shall not share it with any other
       processes. It is unspecified whether the  file  offset  is  set.  The  FD_CLOEXEC  file  descriptor  flag
       associated with the new file descriptor shall be cleared.

       The  behavior  of  <u>msync</u>(),  <u>ftruncate</u>(),  and all file operations other than <u>mmap</u>(), <u>posix_mem_offset</u>(),
       <u>posix_typed_mem_get_info</u>(), <u>fstat</u>(), <u>dup</u>(), <u>dup2</u>(), and  <u>close</u>(),  is  unspecified  when  passed  a  file
       descriptor connected to a typed memory object by this function.

       The  file  status  flags  of  the  open  file  description  shall be set according to the value of <u>oflag</u>.
       Applications shall specify exactly one of the three access mode values described below and defined in the
       <u>&lt;fcntl.h&gt;</u> header, as the value of <u>oflag</u>.

       O_RDONLY    Open for read access only.

       O_WRONLY    Open for write access only.

       O_RDWR      Open for read or write access.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon successful completion, the <u>posix_typed_mem_open</u>()  function  shall  return  a  non-negative  integer
       representing the file descriptor. Otherwise, it shall return -1 and set <u>errno</u> to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <u>posix_typed_mem_open</u>() function shall fail if:

       <b>EACCES</b> The typed memory object exists and the permissions specified by <u>oflag</u> are denied.

       <b>EINTR</b>  The <u>posix_typed_mem_open</u>() operation was interrupted by a signal.

       <b>EINVAL</b> The flags specified in <u>tflag</u> are invalid (more than one of POSIX_TYPED_MEM_ALLOCATE,
              POSIX_TYPED_MEM_ALLOCATE_CONTIG, or POSIX_TYPED_MEM_MAP_ALLOCATABLE is specified).

       <b>EMFILE</b> All file descriptors available to the process are currently open.

       <b>ENFILE</b> Too many file descriptors are currently open in the system.

       <b>ENOENT</b> The named typed memory object does not exist.

       <b>EPERM</b>  The caller lacks appropriate privileges to specify the POSIX_TYPED_MEM_MAP_ALLOCATABLE flag in the
              <u>tflag</u> argument.

       The <u>posix_typed_mem_open</u>() function may fail if:

       <b>ENAMETOOLONG</b>
              The  length  of the <u>name</u> argument exceeds {_POSIX_PATH_MAX} on systems that do not support the XSI
              option or exceeds {_XOPEN_PATH_MAX} on XSI systems, or has a pathname  component  that  is  longer
              than   {_POSIX_NAME_MAX}   on  systems  that  do  not  support  the  XSI  option  or  longer  than
              {_XOPEN_NAME_MAX} on XSI systems.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       None.

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       None.

</pre><h4><b>RATIONALE</b></h4><pre>
       None.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>Section</u> <u>2.14</u>, <u>File</u> <u>Descriptor</u> <u>Allocation</u>, <u>close</u>(), <u>dup</u>(), <u>exec</u>, <u>fcntl</u>(),  <u>fstat</u>(),  <u>ftruncate</u>(),  <u>mmap</u>(),
       <u>msync</u>(), <u>posix_mem_offset</u>(), <u>posix_typed_mem_get_info</u>(), <u>umask</u>()

       The Base Definitions volume of POSIX.1‐2017, <b>&lt;fcntl.h&gt;</b>, <b>&lt;sys_mman.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for  Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group Base
       Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical  and  Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE  and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any typographical or formatting errors that appear in this page are most likely to have  been  introduced
       during   the   conversion  of  the  source  files  to  man  page  format.  To  report  such  errors,  see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                          <u><a href="../man3POSIX/POSIX_TYPED_MEM_OPEN.3POSIX.html">POSIX_TYPED_MEM_OPEN</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>