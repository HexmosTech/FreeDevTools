<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ibv_bind_mw - post a request to bind a type 1 memory window to a memory region</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libibverbs-dev">libibverbs-dev_56.1-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ibv_bind_mw - post a request to bind a type 1 memory window to a memory region

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;infiniband/verbs.h&gt;</b>

       <b>int</b> <b>ibv_bind_mw(struct</b> <b>ibv_qp</b> <u>*qp</u><b>,</b> <b>struct</b> <b>ibv_mw</b> <u>*mw</u><b>,</b>
                       <b>struct</b> <b>ibv_mw_bind</b> <u>*mw_bind</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ibv_bind_mw()</b>  posts to the queue pair <u>qp</u> a request to bind the memory window <u>mw</u> according to the details
       in <u>mw_bind</u>.

       The argument <u>mw_bind</u> is an ibv_mw_bind struct, as defined in &lt;infiniband/verbs.h&gt;.

       struct ibv_mw_bind {
               uint64_t                     wr_id;           /* User defined WR ID */
               unsigned int                 send_flags;      /* Use ibv_send_flags */
               struct ibv_mw_bind_info      bind_info;       /* MW bind information */
       }

       struct ibv_mw_bind_info {
               struct ibv_mr                *mr;             /* The MR to bind the MW to */
               uint64_t                     addr;            /* The address the MW should start at */
               uint64_t                     length;          /* The length (in bytes) the MW should span */
               unsigned int                 mw_access_flags; /* Access flags to the MW. Use ibv_access_flags */
       };

       The QP Transport Service Type must be either UC, RC or XRC_SEND for bind operations.

       The attribute send_flags describes the properties of the WR. It is either 0 or the bitwise OR of  one  or
       more of the following flags:

       <b>IBV_SEND_FENCE</b>  Set the fence indicator.

       <b>IBV_SEND_SIGNALED</b>  Set the completion notification indicator. Relevant only if QP was created with
       sq_sig_all=0

       The  mw_access_flags  define  the  allowed  access to the MW after the bind completes successfully. It is
       either 0 or the bitwise OR of one or more of the following flags:

       <b>IBV_ACCESS_REMOTE_WRITE</b>  Enable Remote Write Access. Requires local write access to the MR.

       <b>IBV_ACCESS_REMOTE_READ</b> Enable Remote Read Access

       <b>IBV_ACCESS_REMOTE_ATOMIC</b> Enable Remote Atomic Operation Access (if supported). Requires local write
       access to the MR.

       <b>IBV_ACCESS_ZERO_BASED</b> If set, the address set on the 'remote_addr' field on the WR will be an offset from
       the MW's start address.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>ibv_bind_mw()</b> returns 0 on success, or the value  of  errno  on  failure  (which  indicates  the  failure
       reason).   In  case  of  a  success,  the  R_key  of  the memory window after the bind is returned in the
       mw_bind-&gt;mw-&gt;rkey field.

</pre><h4><b>NOTES</b></h4><pre>
       The bind does not complete when the function return - it is merely posted to the QP. The user should keep
       a copy of the old R_key, and fix the mw structure if the subsequent CQE for the bind operation  indicates
       a  failure. The user may safely send the R_key using a send request on the same QP, (based on QP ordering
       rules: a send after a bind request on the same QP are always ordered), but must not transfer  it  to  the
       remote in any other manner before reading a successful CQE.

       Note that for type 2 MW, one should directly post bind WR to the QP, using ibv_post_send.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ibv_alloc_mw.3.html">ibv_alloc_mw</a></b>(3), <b><a href="../man3/ibv_post_send.3.html">ibv_post_send</a></b>(3), <b><a href="../man3/ibv_poll_cq.3.html">ibv_poll_cq</a></b>(3) <b><a href="../man3/ibv_reg_mr.3.html">ibv_reg_mr</a></b>(3),

</pre><h4><b>AUTHORS</b></h4><pre>
       Majd Dibbiny &lt;<a href="mailto:majd@mellanox.com">majd@mellanox.com</a>&gt;

       Yishai Hadas &lt;<a href="mailto:yishaih@mellanox.com">yishaih@mellanox.com</a>&gt;

libibverbs                                         2016-02-02                                     <u><a href="../man3/IBV_BIND_MW.3.html">IBV_BIND_MW</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>