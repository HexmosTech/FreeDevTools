<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ost::MemPager - The memory pager is used to allocate cumulative memory pages for storing object specific</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libcommoncpp2-doc">libcommoncpp2-doc_1.8.1-10_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ost::MemPager - The memory pager is used to allocate cumulative memory pages for storing object specific
       'persistant' data that is presumed to persist during the life of a given derived object.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;misc.h&gt;

       Inherited by <b>ost::Keydata</b> [protected], <b>ost::SharedMemPager</b>, and <b>ost::StackPager</b> [protected].

   <b>Public</b> <b>Member</b> <b>Functions</b>
       int <b>getPages</b> (void)
           Return the total number of pages that have been allocated for this memory pool.

   <b>Protected</b> <b>Member</b> <b>Functions</b>
       virtual void * <b>first</b> (size_t size)
           Allocate first workspace from paged memory.
       virtual void * <b>alloc</b> (size_t size)
           Allocate memory from either the currently active page, or allocate a new page for the object.
       char * <b>first</b> (char *str)
           Allocate a string from the memory pager pool and copy the string into it's new memory area.
       char * <b>alloc</b> (const char *str)
           Allocate a string from the memory pager pool and copy the string inti it's new memory area.
       <b>MemPager</b> (size_t pagesize=4096)
           Create a paged memory pool for cumulative storage.
       void <b>purge</b> (void)
           purge the current memory pool.
       void <b>clean</b> (void)
           Clean for memory cleanup before exiting.
       virtual <b>~MemPager</b> ()
           Delete the memory pool and all allocated memory.

   <b>Friends</b>
       class <b>String</b>
       class <b>MemPagerObject</b>

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       The memory pager is used to allocate cumulative memory pages for storing object specific 'persistant'
       data that is presumed to persist during the life of a given derived object.

       When the object is destroyed, all accumulated data is automatically purged.

       There are a number of odd and specialized utility classes found in Common C++. The most common of these
       is the 'MemPager' class. This is basically a class to enable page-grouped 'cumulative' memory allocation;
       all accumulated allocations are dropped during the destructor. This class has found it's way in a lot of
       other utility classes in Common C++.

       <b>Author</b>
           David Sugar <a href="mailto:dyfet@ostel.com">dyfet@ostel.com</a>

       Accumulative object memory allocator.

</pre><h4><b>Constructor</b> <b>&amp;</b> <b>Destructor</b> <b>Documentation</b></h4><pre>
   <b>ost::MemPager::MemPager</b> <b>(size_t</b> <b>pagesize</b> <b>=</b> <b>4096)</b> <b>[protected]</b>
       Create a paged memory pool for cumulative storage. This pool allocates memory in fixed 'pagesize' chunks.
       Ideal performance is achived when the pool size matches the system page size. This pool can only exist in
       derived objects.

       <b>Parameters</b>
           <u>pagesize</u> page size to allocate chunks.

   <b>virtual</b> <b>ost::MemPager::~MemPager</b> <b>()</b> <b>[protected],</b>  <b>[virtual]</b>
       Delete the memory pool and all allocated memory.

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>char*</b> <b>ost::MemPager::alloc</b> <b>(const</b> <b>char</b> <b>*</b> <b>str)</b> <b>[protected]</b>
       Allocate a string from the memory pager pool and copy the string inti it's new memory area. This checks
       only the last active page for available space before allocating a new page.

       <b>Parameters</b>
           <u>str</u> string to allocate and copy into paged memory pool.

       <b>Returns</b>
           copy of string from allocated memory.

   <b>virtual</b> <b>void*</b> <b>ost::MemPager::alloc</b> <b>(size_t</b> <b>size)</b> <b>[protected],</b>  <b>[virtual]</b>
       Allocate memory from either the currently active page, or allocate a new page for the object.

       <b>Parameters</b>
           <u>size</u> size of memory to allocate.

       <b>Returns</b>
           pointer to allocated memory.

       Reimplemented in <b>ost::SharedMemPager</b>.

   <b>void</b> <b>ost::MemPager::clean</b> <b>(void)</b> <b>[protected]</b>
       Clean for memory cleanup before exiting.

   <b>char*</b> <b>ost::MemPager::first</b> <b>(char</b> <b>*</b> <b>str)</b> <b>[protected]</b>
       Allocate a string from the memory pager pool and copy the string into it's new memory area. This method
       allocates memory by first searching for an available page, and then allocating a new page if no space is
       found.

       <b>Parameters</b>
           <u>str</u> string to allocate and copy into paged memory pool.

       <b>Returns</b>
           copy of string from allocated memory.

   <b>virtual</b> <b>void*</b> <b>ost::MemPager::first</b> <b>(size_t</b> <b>size)</b> <b>[protected],</b>  <b>[virtual]</b>
       Allocate first workspace from paged memory. This method scans all currently allocated blocks for
       available space before adding new pages and hence is both slower and more efficient.

       <b>Parameters</b>
           <u>size</u> size of memory to allocate.

       <b>Returns</b>
           pointer to allocated memory.

       Reimplemented in <b>ost::SharedMemPager</b>.

   <b>int</b> <b>ost::MemPager::getPages</b> <b>(void)</b> <b>[inline]</b>
       Return the total number of pages that have been allocated for this memory pool.

       <b>Returns</b>
           number of pages allocated.

   <b>void</b> <b>ost::MemPager::purge</b> <b>(void)</b> <b>[protected]</b>
       purge the current memory pool.

</pre><h4><b>Friends</b> <b>And</b> <b>Related</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>friend</b> <b>class</b> <b>MemPagerObject</b> <b>[friend]</b>
   <b>friend</b> <b>class</b> <b>String</b> <b>[friend]</b>
</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for GNU CommonC++ from the source code.

GNU CommonC++                                    Sun Dec 27 2020                                <u>ost::<a href="../man3/MemPager.3.html">MemPager</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>