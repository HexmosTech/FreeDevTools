<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>posix_madvise - give advice about patterns of memory usage</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       posix_madvise - give advice about patterns of memory usage

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/mman.h&gt;</b>

       <b>int</b> <b>posix_madvise(void</b> <u>addr</u><b>[.</b><u>len</u><b>],</b> <b>size_t</b> <u>len</u><b>,</b> <b>int</b> <u>advice</u><b>);</b>

   Feature Test Macro Requirements for glibc (see <b><a href="../man7/feature_test_macros.7.html">feature_test_macros</a></b>(7)):

       <b>posix_madvise</b>():
           _POSIX_C_SOURCE &gt;= 200112L

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>posix_madvise</b>()  function  allows an application to advise the system about its expected patterns of
       usage of memory in the address range starting at <u>addr</u> and continuing for <u>len</u> bytes.  The system  is  free
       to  use  this  advice  in  order  to  improve the performance of memory accesses (or to ignore the advice
       altogether), but calling <b>posix_madvise</b>() shall not affect the  semantics  of  access  to  memory  in  the
       specified range.

       The <u>advice</u> argument is one of the following:

       <b>POSIX_MADV_NORMAL</b>
              The  application  has  no  special  advice  regarding  its memory usage patterns for the specified
              address range.  This is the default behavior.

       <b>POSIX_MADV_SEQUENTIAL</b>
              The application expects to access the specified address range  sequentially,  running  from  lower
              addresses  to  higher  addresses.  Hence, pages in this region can be aggressively read ahead, and
              may be freed soon after they are accessed.

       <b>POSIX_MADV_RANDOM</b>
              The application expects to access the specified address range randomly.  Thus, read ahead  may  be
              less useful than normally.

       <b>POSIX_MADV_WILLNEED</b>
              The  application  expects  to  access  the specified address range in the near future.  Thus, read
              ahead may be beneficial.

       <b>POSIX_MADV_DONTNEED</b>
              The application expects that it will not access the specified address range in the near future.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, <b>posix_madvise</b>() returns 0.  On failure, it returns a positive error number.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>EINVAL</b> <u>addr</u> is not a multiple of the system page size or <u>len</u> is negative.

       <b>EINVAL</b> <u>advice</u> is invalid.

       <b>ENOMEM</b> Addresses in the specified range are partially or completely outside the caller's address space.

</pre><h4><b>VERSIONS</b></h4><pre>
       POSIX.1 permits an implementation to generate an error if <u>len</u> is 0.  On Linux, specifying  <u>len</u>  as  0  is
       permitted (as a successful no-op).

       In  glibc,  this function is implemented using <b><a href="../man2/madvise.2.html">madvise</a></b>(2).  However, since glibc 2.6, <b>POSIX_MADV_DONTNEED</b>
       is treated as a no-op,  because  the  corresponding  <b><a href="../man2/madvise.2.html">madvise</a></b>(2)  value,  <b>MADV_DONTNEED</b>,  has  destructive
       semantics.

</pre><h4><b>STANDARDS</b></h4><pre>
       POSIX.1-2008.

</pre><h4><b>HISTORY</b></h4><pre>
       glibc 2.2.  POSIX.1-2001.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/madvise.2.html">madvise</a></b>(2), <b><a href="../man2/posix_fadvise.2.html">posix_fadvise</a></b>(2)

Linux man-pages 6.9.1                              2024-05-02                                   <u><a href="../man3/posix_madvise.3.html">posix_madvise</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>