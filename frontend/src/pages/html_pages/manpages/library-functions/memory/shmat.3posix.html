<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       shmat — XSI shared memory attach operation

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;sys/shm.h&gt;

       void *shmat(int <u>shmid</u>, const void *<u>shmaddr</u>, int <u>shmflg</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>shmat</u>()  function  operates  on  XSI shared memory (see the Base Definitions volume of POSIX.1‐2017,
       <u>Section</u> <u>3.346</u>, <u>Shared</u> <u>Memory</u> <u>Object</u>).  It is unspecified whether this  function  interoperates  with  the
       realtime interprocess communication facilities defined in <u>Section</u> <u>2.8</u>, <u>Realtime</u>.

       The  <u>shmat</u>()  function  attaches  the  shared memory segment associated with the shared memory identifier
       specified by <u>shmid</u> to the address space of the calling process. The segment is attached  at  the  address
       specified by one of the following criteria:

        *  If  <u>shmaddr</u>  is a null pointer, the segment is attached at the first available address as selected by
           the system.

        *  If <u>shmaddr</u> is not a null pointer and (<u>shmflg</u> &amp;SHM_RND) is non-zero, the segment is  attached  at  the
           address  given  by  (<u>shmaddr</u>  -((<u>uintptr_t</u>)<u>shmaddr</u>  %SHMLBA)).  The  character  <b>'%'</b> is the C-language
           remainder operator.

        *  If <u>shmaddr</u> is not a null pointer and (<u>shmflg</u> &amp;SHM_RND) is 0, the segment is attached at  the  address
           given by <u>shmaddr</u>.

        *  The  segment  is attached for reading if (<u>shmflg</u> &amp;SHM_RDONLY) is non-zero and the calling process has
           read permission; otherwise, if it is 0 and the calling process has read  and  write  permission,  the
           segment is attached for reading and writing.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon  successful  completion,  <u>shmat</u>()  shall  increment  the  value  of <u>shm_nattch</u> in the data structure
       associated with the shared memory ID of the attached shared memory segment and return the segment's start
       address.  Also, the <u>shm_atime</u> timestamp shall be set to the current time, as described in <u>Section</u>  <u>2.7.1</u>,
       <u>IPC</u> <u>General</u> <u>Description</u>.

       Otherwise,  the  shared  memory segment shall not be attached, <u>shmat</u>() shall return (<b>void</b> <b>*</b>)-1, and <u>errno</u>
       shall be set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <u>shmat</u>() function shall fail if:

       <b>EACCES</b> Operation permission is  denied  to  the  calling  process;  see  <u>Section</u>  <u>2.7</u>,  <u>XSI</u>  <u>Interprocess</u>
              <u>Communication</u>.

       <b>EINVAL</b> The value of <u>shmid</u> is not a valid shared memory identifier, the <u>shmaddr</u> is not a null pointer, and
              the  value  of  (<u>shmaddr</u> -((<u>uintptr_t</u>)<u>shmaddr</u> %SHMLBA)) is an illegal address for attaching shared
              memory; or the <u>shmaddr</u> is not a null pointer, (<u>shmflg</u> &amp;SHM_RND) is 0, and the value of <u>shmaddr</u>  is
              an illegal address for attaching shared memory.

       <b>EMFILE</b> The  number  of  shared  memory  segments attached to the calling process would exceed the system-
              imposed limit.

       <b>ENOMEM</b> The available data space is not large enough to accommodate the shared memory segment.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       None.

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       The POSIX Realtime Extension defines alternative interfaces for interprocess  communication.  Application
       developers  who  need  to use IPC should design their applications so that modules using the IPC routines
       described in <u>Section</u> <u>2.7</u>, <u>XSI</u> <u>Interprocess</u> <u>Communication</u> can be easily modified to  use  the  alternative
       interfaces.

</pre><h4><b>RATIONALE</b></h4><pre>
       None.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>Section</u>  <u>2.7</u>,  <u>XSI</u>  <u>Interprocess</u>  <u>Communication</u>,  <u>Section</u>  <u>2.8</u>, <u>Realtime</u>, <u>exec</u>, <u>exit</u>(), <u>fork</u>(), <u>shmctl</u>(),
       <u>shmdt</u>(), <u>shmget</u>(), <u>shm_open</u>(), <u>shm_unlink</u>()

       The Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>3.346</u>, <u>Shared</u> <u>Memory</u> <u>Object</u>, <b>&lt;sys_shm.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                         <u><a href="../man3POSIX/SHMAT.3POSIX.html">SHMAT</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>