<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tcl_CreateMathFunc,  Tcl_GetMathFuncInfo,  Tcl_ListMathFuncs - Define, query and enumerate math functions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl8.6-doc">tcl8.6-doc_8.6.16+dfsg-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tcl_CreateMathFunc,  Tcl_GetMathFuncInfo,  Tcl_ListMathFuncs - Define, query and enumerate math functions
       for expressions

</pre><h4><b>NOTICE</b> <b>OF</b> <b>EVENTUAL</b> <b>DEPRECATION</b></h4><pre>
       The <b>Tcl_CreateMathFunc</b> and <b>Tcl_GetMathFuncInfo</b> functions are rendered somewhat obsolete by the ability to
       create functions for expressions by placing commands in the <b>tcl::mathfunc</b> namespace, as described in  the
       <b>mathfunc</b> manual page; the API described on this page is not expected to be maintained indefinitely.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;tcl.h&gt;</b>

       void
       <b>Tcl_CreateMathFunc</b>(<u>interp,</u> <u>name,</u> <u>numArgs,</u> <u>argTypes,</u> <u>proc,</u> <u>clientData</u>)

       int
       <b>Tcl_GetMathFuncInfo</b>(<u>interp,</u> <u>name,</u> <u>numArgsPtr,</u> <u>argTypesPtr,</u> <u>procPtr,</u>
                           <u>clientDataPtr</u>)

       Tcl_Obj *
       <b>Tcl_ListMathFuncs</b>(<u>interp,</u> <u>pattern</u>)

</pre><h4><b>ARGUMENTS</b></h4><pre>
       Tcl_Interp <u>*interp</u> (in)                    Interpreter in which new function will be defined.

       const char <u>*name</u> (in)                      Name for new function.

       int <u>numArgs</u> (in)                           Number  of  arguments  to  new  function;   also gives size of
                                                  <u>argTypes</u> array.

       Tcl_ValueType <u>*argTypes</u> (in)               Points to an array  giving  the  permissible  types  for  each
                                                  argument to function.

       Tcl_MathProc <u>*proc</u> (in)                    Procedure that implements the function.

       ClientData <u>clientData</u> (in)                 Arbitrary one-word value to pass to <u>proc</u> when it is invoked.

       int <u>*numArgsPtr</u> (out)                      Points to a variable that will be set to contain the number of
                                                  arguments to the function.

       Tcl_ValueType <u>**argTypesPtr</u> (out)          Points  to a variable that will be set to contain a pointer to
                                                  an array giving the permissible types for each argument to the
                                                  function which will need to be freed up using <u>Tcl_Free</u>.

       Tcl_MathProc <u>**procPtr</u> (out)               Points to a variable that will be set to contain a pointer  to
                                                  the  implementation  code  for  the  function  (or NULL if the
                                                  function is implemented directly in bytecode).

       ClientData <u>*clientDataPtr</u> (out)            Points  to  a  variable  that  will  be  set  to  contain  the
                                                  clientData  argument  passed  to  <u>Tcl_CreateMathFunc</u>  when the
                                                  function was  created  if  the  function  is  not  implemented
                                                  directly in bytecode.

       const char <u>*pattern</u> (in)                   Pattern  to  match against function names so as to filter them
                                                  (by passing to <u>Tcl_StringMatch</u>), or  NULL  to  not  apply  any
                                                  filter.
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Tcl  allows  a  number  of mathematical functions to be used in expressions, such as <b>sin</b>, <b>cos</b>, and <b>hypot</b>.
       These functions are represented by commands in  the  namespace,  <b>tcl::mathfunc</b>.   The  <b>Tcl_CreateMathFunc</b>
       function is an obsolete way for applications to add additional functions to those already provided by Tcl
       or  to  replace  existing functions.  It should not be used by new applications, which should create math
       functions using <b>Tcl_CreateObjCommand</b> to create a command in the <b>tcl::mathfunc</b> namespace.

       In the <b>Tcl_CreateMathFunc</b> interface, <u>Name</u> is the name of the function as it will appear  in  expressions.
       If  <u>name</u>  does  not already exist in the <b>::tcl::mathfunc</b> namespace, then a new command is created in that
       namespace.  If <u>name</u> does exist, then the existing function is replaced.  <u>NumArgs</u>  and  <u>argTypes</u>  describe
       the  arguments  to  the  function.   Each entry in the <u>argTypes</u> array must be one of <b>TCL_INT</b>, <b>TCL_DOUBLE</b>,
       <b>TCL_WIDE_INT</b>, or <b>TCL_EITHER</b> to indicate whether the corresponding argument must be an integer, a  double-
       precision floating value, a wide (64-bit) integer, or any, respectively.

       Whenever  the  function is invoked in an expression Tcl will invoke <u>proc</u>.  <u>Proc</u> should have arguments and
       result that match the type <b>Tcl_MathProc</b>:

              typedef int <b>Tcl_MathProc</b>(
                      ClientData <u>clientData</u>,
                      Tcl_Interp *<u>interp</u>,
                      Tcl_Value *<u>args</u>,
                      Tcl_Value *<u>resultPtr</u>);

       When <u>proc</u> is invoked  the  <u>clientData</u>  and  <u>interp</u>  arguments  will  be  the  same  as  those  passed  to
       <b>Tcl_CreateMathFunc</b>.   <u>Args</u>  will  point  to  an array of <u>numArgs</u> Tcl_Value structures, which describe the
       actual arguments to the function:

              typedef struct Tcl_Value {
                  Tcl_ValueType <u>type</u>;
                  long <u>intValue</u>;
                  double <u>doubleValue</u>;
                  Tcl_WideInt <u>wideValue</u>;
              } <b>Tcl_Value</b>;

       The <u>type</u> field indicates the type of the argument and is one of <b>TCL_INT</b>, <b>TCL_DOUBLE</b> or <b>TCL_WIDE_INT</b>.   It
       will  match  the  <u>argTypes</u> value specified for the function unless the <u>argTypes</u> value was <b>TCL_EITHER</b>. Tcl
       converts the argument supplied in the expression to the type requested in <u>argTypes</u>, if that is necessary.
       Depending on the value of the <u>type</u> field, the <u>intValue</u>, <u>doubleValue</u> or <u>wideValue</u> field will  contain  the
       actual value of the argument.

       <u>Proc</u>  should compute its result and store it either as an integer in <u>resultPtr-&gt;intValue</u> or as a floating
       value in <u>resultPtr-&gt;doubleValue</u>.  It should set also <u>resultPtr-&gt;type</u> to one  of  <b>TCL_INT</b>,  <b>TCL_DOUBLE</b>  or
       <b>TCL_WIDE_INT</b>  to indicate which value was set.  Under normal circumstances <u>proc</u> should return <b>TCL_OK</b>.  If
       an error occurs while executing the function, <u>proc</u> should return <b>TCL_ERROR</b> and leave an error message  in
       the interpreter's result.

       <b>Tcl_GetMathFuncInfo</b>  retrieves  the  values associated with function <u>name</u> that were passed to a preceding
       <b>Tcl_CreateMathFunc</b> call.  Normally, the return code is <b>TCL_OK</b> but if the named function does  not  exist,
       <b>TCL_ERROR</b> is returned and an error message is placed in the interpreter's result.

       If  an error did not occur, the array reference placed in the variable pointed to by <u>argTypesPtr</u> is newly
       allocated, and should be  released  by  passing  it  to  <b>Tcl_Free</b>.   Some  functions  (the  standard  set
       implemented  in  the  core,  and those defined by placing commands in the <b>tcl::mathfunc</b> namespace) do not
       have argument type information; attempting to retrieve values for them causes a NULL to be stored in  the
       variable  pointed  to  by <u>procPtr</u> and the variable pointed to by <u>clientDataPtr</u> will not be modified.  The
       variable pointed to by <u>numArgsPointer</u> will contain -1, and no  argument  types  will  be  stored  in  the
       variable pointed to by <u>argTypesPointer</u>.

       <b>Tcl_ListMathFuncs</b>  returns  a  Tcl  value  containing  a  list  of  all the math functions defined in the
       interpreter whose name matches <u>pattern</u>.  The returned value has a reference count of zero.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3tcl/expr.3tcl.html">expr</a>(3tcl), <a href="../man3tcl/info.3tcl.html">info</a>(3tcl), <a href="../man3tcl/Tcl_CreateObjCommand.3tcl.html">Tcl_CreateObjCommand</a>(3tcl), <a href="../man3tcl/Tcl_Free.3tcl.html">Tcl_Free</a>(3tcl), <a href="../man3tcl/Tcl_NewListObj.3tcl.html">Tcl_NewListObj</a>(3tcl)

</pre><h4><b>KEYWORDS</b></h4><pre>
       expression, mathematical function

Tcl                                                    8.4                              <u><a href="../man3tcl/Tcl_CreateMathFunc.3tcl.html">Tcl_CreateMathFunc</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>