<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SDL::Cookbook::OpenGL - Using SDL with OpenGL</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsdl-perl">libsdl-perl_2.548-5build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SDL::Cookbook::OpenGL - Using SDL with OpenGL

</pre><h4><b>CATEGORY</b></h4><pre>
       Cookbook

</pre><h4><b>DESCRIPTION</b></h4><pre>
       As of release 2.5 SDL no longer maintains it's own bindings of OpenGL. Support for OpenGL has been moved
       over to a more mature implementation.

       This implementation is the POGL project. OpenGL is faster and more complete; and works with SDL
       seamlessly.

   <b>EXAMPLE</b>
       Expanded from Floyd-ATC's OpenGL example.

               use strict;
               use warnings;
               use SDL;
               use SDLx::App;
               use SDL::Mouse;
               use SDL::Video;
               use SDL::Events;
               use SDL::Event;
               use OpenGL qw(:all);

       You can use OpenGL as needed here.

               my ($SDLAPP, $WIDTH, $HEIGHT, $SDLEVENT);

               $| = 1;
               $WIDTH = 1024;
               $HEIGHT = 768;
               $SDLAPP = SDLx::App-&gt;new(title =&gt; "OpenGL App", width =&gt; $WIDTH, height =&gt; $HEIGHT, gl =&gt; 1);
               $SDLEVENT = SDL::Event-&gt;new;

       SDLx::App can start an OpenGL application with the parameter gl =&gt; 1.

               glEnable(GL_DEPTH_TEST);
               glMatrixMode(GL_PROJECTION);
               glLoadIdentity;
               gluPerspective(60, $WIDTH / $HEIGHT, 1, 1000);
               glTranslatef(0, 0, -20);

       Above we enable GL and set the correct perspective

               while (1) {
                 &amp;handlepolls;
                 glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);
                 glRotatef(.1, 1, 1, 1);
                 &amp;drawscene;
                 $SDLAPP-&gt;sync;
               }

       For SDLx::App sync handles the GL buffer clean.

               sub drawscene {
                 my ($color, $x, $y, $z);

                 for (-2 .. 2) {
                   glPushMatrix;
                   glTranslatef($_ * 3, 0, 0);
                   glColor3d(1, 0, 0);
                   &amp;draw_cube;
                   glPopMatrix;
                 }

                 return "";
               }

               sub draw_cube {
                 my (@indices, @vertices, $face, $vertex, $index, $coords);

                 @indices = qw(4 5 6 7   1 2 6 5   0 1 5 4
                               0 3 2 1   0 4 7 3   2 3 7 6);
                 @vertices = ([-1, -1, -1], [ 1, -1, -1],
                              [ 1,  1, -1], [-1,  1, -1],
                              [-1, -1,  1], [ 1, -1,  1],
                              [ 1,  1,  1], [-1,  1,  1]);

                 glBegin(GL_QUADS);

                 foreach my $face (0..5) {
                   foreach my $vertex (0..3) {
                     $index  = $indices[4 * $face + $vertex];
                     $coords = $vertices[$index];

                     glVertex3d(@$coords);
                   }
                 }

                 glEnd;

                 return "";
               }

       Below we can use SDL::Events as normal:

               sub handlepolls {
                 my ($type, $key);

                 SDL::Events::pump_events();

                 while (SDL::Events::poll_event($SDLEVENT)) {
                   $type = $SDLEVENT-&gt;type();
                   $key = ($type == 2 or $type == 3) ? $SDLEVENT-&gt;key_sym : "";

                   if ($type == 4) { printf("You moved the mouse! x=%s y=%s xrel=%s yrel=%s\n", $SDLEVENT-&gt;motion_x, $SDLEVENT-&gt;motion_y, $SDLEVENT-&gt;motion_xrel, $SDLEVENT-&gt;motion_yrel) }
                   elsif ($type == 2) { print "You are pressing $key\n" }
                   elsif ($type == 3) { print "You released $key\n" }
                   elsif ($type == 12) { exit }
                   else { print "TYPE $type UNKNOWN!\n" }

                   if ($type == 2) {
                     if ($key eq "q" or $key eq "escape") { exit }
                   }
                 }

                 return "";
               }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       perl SDLx::App OpenGL

</pre><h4><b>AUTHORS</b></h4><pre>
       See "AUTHORS" in SDL.

perl v5.40.0                                       2024-10-20                   <u>pods::SDL::Cookbook::<a href="../man3pm/OpenGL.3pm.html">OpenGL</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>