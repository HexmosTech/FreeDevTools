<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tk_GetColormap, Tk_PreserveColormap, Tk_FreeColormap - allocate and free colormaps</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tk9.0-doc">tk9.0-doc_9.0.1-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tk_GetColormap, Tk_PreserveColormap, Tk_FreeColormap - allocate and free colormaps

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;tk.h&gt;</b>

       Colormap
       <b>Tk_GetColormap</b>(<u>interp,</u> <u>tkwin,</u> <u>string</u>)

       <b>Tk_PreserveColormap</b>(<u>display,</u> <u>colormap</u>)

       <b>Tk_FreeColormap</b>(<u>display,</u> <u>colormap</u>)

</pre><h4><b>ARGUMENTS</b></h4><pre>
       Tcl_Interp <u>*interp</u> (in)         Interpreter to use for error reporting.

       Tk_Window <u>tkwin</u> (in)            Token for window in which colormap will be used.

       const char <u>*string</u> (in)         Selects  a  colormap:   either  <b>new</b> or the name of a window with the same
                                       screen and visual as <u>tkwin</u>.

       Display <u>*display</u> (in)           Display for which <u>colormap</u> was allocated.

       Colormap <u>colormap</u> (in)          Colormap to free or preserve;  must have been returned by a previous call
                                       to <b>Tk_GetColormap</b> or <b>Tk_GetVisual</b>.
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These procedures are used to manage colormaps.  <b>Tk_GetColormap</b> returns a colormap  suitable  for  use  in
       <u>tkwin</u>.   If its <u>string</u> argument is <b>new</b> then a new colormap is created;  otherwise <u>string</u> must be the name
       of another window with the same screen and visual  as  <u>tkwin</u>,  and  the  colormap  from  that  window  is
       returned.  If <u>string</u> does not make sense, or if it refers to a window on a different screen from <u>tkwin</u> or
       with  a  different  visual  than  <u>tkwin</u>,  then <b>Tk_GetColormap</b> returns <b>None</b> and leaves an error message in
       <u>interp</u>'s result.

       <b>Tk_PreserveColormap</b> increases the  internal  reference  count  for  a  colormap  previously  returned  by
       <b>Tk_GetColormap</b>,  which  allows the colormap to be stored in several locations without knowing which order
       they will be released.

       <b>Tk_FreeColormap</b> should be called when a colormap returned by <b>Tk_GetColormap</b>  is  no  longer  needed.   Tk
       maintains  a  reference count for each colormap returned by <b>Tk_GetColormap</b>, so there should eventually be
       one call to <b>Tk_FreeColormap</b> for each call to <b>Tk_GetColormap</b> and each call to <b>Tk_PreserveColormap</b>.  When a
       colormap's reference count becomes zero, Tk releases the X colormap.

       <b>Tk_GetVisual</b> and <b>Tk_GetColormap</b> work together, in that a new colormap created by <b>Tk_GetVisual</b>  may  later
       be  returned by <b>Tk_GetColormap</b>.  The reference counting mechanism for colormaps includes both procedures,
       so callers of <b>Tk_GetVisual</b> must also call <b>Tk_FreeColormap</b> to release the colormap.  If <b>Tk_GetColormap</b>  is
       called  with  a  <u>string</u>  value of <b>new</b> then the resulting colormap will never be returned by <b>Tk_GetVisual</b>;
       however, it can be used in other windows by calling <b>Tk_GetColormap</b> with the  original  window's  name  as
       <u>string</u>.

</pre><h4><b>KEYWORDS</b></h4><pre>
       colormap, visual

Tk                                                     4.0                                   <u><a href="../man3tk/Tk_GetColormap.3tk.html">Tk_GetColormap</a></u>(3tk)
</pre>
 </div>
</div></section>
</div>
</body>
</html>