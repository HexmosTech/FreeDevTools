<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>my, myclass - invoke any method of current object or its class</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl9.0-doc">tcl9.0-doc_9.0.1+dfsg-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       my, myclass - invoke any method of current object or its class

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require tcl::oo

       <b>my</b> <u>methodName</u> ?<u>arg</u> <u>...</u>?
       <b>myclass</b> <u>methodName</u> ?<u>arg</u> <u>...</u>?
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>my</b>  command  is used to allow methods of objects to invoke methods of the object (or its class), and 2
       the <b>myclass</b> command is used to allow methods of objects to invoke methods of the  current  class  of  the 2
       object  <u>as</u>  <u>an</u>  <u>object</u>.   In particular, the set of valid values for <u>methodName</u> is the set of all methods
       supported by an object and its superclasses, including those that are not exported and private methods of 2
       the object or class when used within another method defined by that object or class.

       The object upon which the method is invoked via <b>my</b> is the one that owns the namespace that the <b>my</b> command
       is contained in initially (<b>NB:</b> the link remains if the  command  is  renamed),  which  is  the  currently
       invoked  object  by  default.   Similarly,  the  object on which the method is invoked via <b>myclass</b> is the 2
       object that is the current class of the object that owns  the  namespace  that  the  <b>myclass</b>  command  is 2
       contained  in  initially.  As  with  <b>my</b>,  the  link  remains  even if the command is renamed into another 2
       namespace, and defaults to being the manufacturing class of the current object.

       Each object has its own <b>my</b> and <b>myclass</b> commands, contained in its instance namespace.

</pre><h4><b>EXAMPLES</b></h4><pre>
       This example shows basic use of <b>my</b> to use the <b>variables</b> method of the  <b>oo::object</b>  class,  which  is  not
       publicly visible by default:

              oo::class create c {
                  method count {} {
                      <b>my</b> variable counter
                      puts [incr counter]
                  }
              }

              c create o
              o count              <u>→</u> <u>prints</u> <u>"1"</u>
              o count              <u>→</u> <u>prints</u> <u>"2"</u>
              o count              <u>→</u> <u>prints</u> <u>"3"</u>

       This  example shows how you can use <b>my</b> to make callbacks to private methods from outside the object (from
       a <b>trace</b>), using <b>namespace</b> <b>code</b>  to  enter  the  correct  context.  (See  the  <b>callback</b>  command  for  the
       recommended way of doing this.)

              oo::class create HasCallback {
                  method makeCallback {} {
                      return [namespace code {
                          <b>my</b> Callback
                      }]
                  }

                  method Callback {args} {
                      puts "callback: $args"
                  }
              }

              set o [HasCallback new]
              trace add variable xyz write [$o makeCallback]
              set xyz "called"     <u>→</u> <u>prints</u> <u>"callback:</u> <u>xyz</u> <u>{}</u> <u>write"</u>

       This  example  shows  how  to access a private method of a class from an instance of that class. (See the 2
       <b>classmethod</b> declaration in <b>oo::define</b> for a higher level interface for doing this.)                       2

              oo::class create CountedSteps {                                                                    2
                  self {                                                                                         2
                      variable count                                                                             2
                      method Count {} {                                                                          2
                          return [incr count]                                                                    2
                      }                                                                                          2
                  }                                                                                              2
                  method advanceTwice {} {                                                                       2
                      puts "in [self] step A: [<b>myclass</b> Count]"                                                   2
                      puts "in [self] step B: [<b>myclass</b> Count]"                                                   2
                  }                                                                                              2
              }                                                                                                  2

              CountedSteps create x                                                                              2
              CountedSteps create y                                                                              2
              x advanceTwice       <u>→</u> <u>prints</u> <u>"in</u> <u>::x</u> <u>step</u> <u>A:</u> <u>1"</u>                                                   2
                                   <u>→</u> <u>prints</u> <u>"in</u> <u>::x</u> <u>step</u> <u>B:</u> <u>2"</u>                                                   2
              y advanceTwice       <u>→</u> <u>prints</u> <u>"in</u> <u>::y</u> <u>step</u> <u>A:</u> <u>3"</u>                                                   2
                                   <u>→</u> <u>prints</u> <u>"in</u> <u>::y</u> <u>step</u> <u>B:</u> <u>4"</u>                                                   2
              x advanceTwice       <u>→</u> <u>prints</u> <u>"in</u> <u>::x</u> <u>step</u> <u>A:</u> <u>5"</u>                                                   2
                                   <u>→</u> <u>prints</u> <u>"in</u> <u>::x</u> <u>step</u> <u>B:</u> <u>6"</u>                                                   2
              y advanceTwice       <u>→</u> <u>prints</u> <u>"in</u> <u>::y</u> <u>step</u> <u>A:</u> <u>7"</u>                                                   2
                                   <u>→</u> <u>prints</u> <u>"in</u> <u>::y</u> <u>step</u> <u>B:</u> <u>8"</u>                                                   2

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3tcl/next.3tcl.html">next</a>(3tcl), oo::<a href="../man3tcl/object.3tcl.html">object</a>(3tcl), <a href="../man3tcl/self.3tcl.html">self</a>(3tcl)

</pre><h4><b>KEYWORDS</b></h4><pre>
       method, method visibility, object, private method, public method

TclOO                                                  0.1                                              <u><a href="../man3tcl/my.3tcl.html">my</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>