<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XMLTV::Grab_XML - Perl extension to fetch raw XMLTV data from a site</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libxmltv-perl">libxmltv-perl_1.4.0-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       XMLTV::Grab_XML - Perl extension to fetch raw XMLTV data from a site

</pre><h4><b>SYNOPSIS</b></h4><pre>
           package Grab_XML_rur;
           use base 'XMLTV::Grab_XML';
           sub urls_by_date( $ ) { my $pkg = shift; ... }
           sub country( $ ) { my $pkg = shift; return 'Ruritania' }
           # Maybe override a couple of other methods as described below...
           Grab_XML_rur-&gt;go();

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module helps to write grabbers which fetch pages in XMLTV format from some website and output the
       data.  It is not used for grabbers which scrape human-readable sites.

       It consists of several class methods (package methods).  The way to use it is to subclass it and override
       some of these.

</pre><h4><b>METHODS</b></h4><pre>
       XMLTV::Grab_XML-&gt;<b>date_init()</b>
           Called  at  the  start  of the program to set up Date::Manip.  You might want to override this with a
           method that sets the timezone.

       XMLTV::Grab_XML-&gt;<b>urls_by_date()</b>
           Returns a hash mapping YYYYMMDD dates to a URL where listings for that date can be downloaded.   This
           method is abstract, you must override it.

           Arguments: the command line options for --config-file and --quiet.

       XMLTV::Grab_XML-&gt;xml_from_data(data)
           Given  page data for a particular day, turn it into XML.  The default implementation just returns the
           data unchanged, but you might override it if you need to decompress the data or patch it up.

       XMLTV::Grab_XML-&gt;<b>configure()</b>
           Configure the grabber if needed.  Arguments are --config-file option (or undef) and --quiet flag  (or
           undef).

           This  method  is not provided in the base class; if you don't provide it then attempts to --configure
           will give a message that configuration is not necessary.

       XMLTV::Grab_XML-&gt;nextday(day)
           Bump a YYYYMMDD date by one.  You probably shouldn't override this.

       XMLTV::Grab_XML-&gt;<b>country()</b>
           Return the name of the country you're grabbing for, used in usage messages.  Abstract.

       XMLTV::Grab_XML-&gt;<b>usage_msg()</b>
           Return a command-line usage message.  This calls country(), so you probably  need  to  override  only
           that method.

       XMLTV::Grab_XML-&gt;<b>get()</b>
           Given   a   URL,   fetch   the   content   at   that   URL.    The   default   implementation   calls
           <b>XMLTV::Get_nice::get_nice()</b> but you might want to override it if you need to  do  wacky  things  with
           http requests, like cookies.

           Note that while this method fetches a page, xml_from_data() does any further processing of the result
           to turn it into XML.

       XMLTV::Grab_XML-&gt;<b>go()</b>
           The main program.  Parse command line options, fetch and write data.

           Most of the options are fairly self-explanatory but this routine also calls the XMLTV::Memoize module
           to look for a <b>--cache</b> argument.  The functions memoized are those given by the cachables() method.

       XMLTV::Grab_XML-&gt;<b>cachables()</b>
           Returns  a  list  of  names  of functions which could reasonably be memoized between runs.  This will
           normally be whatever function fetches the web pages - you memoize that to save on repeated downloads.
           A subclass might want to add things to this list if it has its own way of fetching web pages.

       XMLTV::Grab_XML-&gt;<b>remove_early_stop_times()</b>
           Checks each stop time and removes it if it's before the start time.

           Argument: the XML to correct Returns: the corrected XML

</pre><h4><b>AUTHOR</b></h4><pre>
       Ed Avis, <a href="mailto:ed@membled.com">ed@membled.com</a>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/perl.1.html">perl</a></b>(1), <b><a href="../man3/XMLTV.3.html">XMLTV</a></b>(3).

perl v5.40.1                                       2025-04-19                                <u>grab::<a href="../man3pm/Grab_XML.3pm.html">Grab_XML</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>