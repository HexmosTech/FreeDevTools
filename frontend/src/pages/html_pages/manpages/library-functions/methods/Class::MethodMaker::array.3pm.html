<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class::Method::array - Create methods for handling an array value.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libclass-methodmaker-perl">libclass-methodmaker-perl_2.25-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Class::Method::array - Create methods for handling an array value.

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Class::MethodMaker
           [ array =&gt; [qw/ x /] ];

         $instance-&gt;x;                # empty
         $instance-&gt;x(1, 1, 2, 3, 5, 8);
         $instance-&gt;x_count == 6;     # true
         $instance-&gt;x = (13, 21, 34);
         $instance-&gt;<a href="../man1/x_index.1.html">x_index</a>(1) == 21; # true

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Creates methods to handle array values in an object.  For a component named "x", by default creates
       methods "x", "x_reset", "x_clear", "x_isset", "x_count", "x_index", "x_push", "x_pop", "x_unshift",
       "x_shift", "x_splice".

       Methods available are:

       <u>"*"</u>

       <u>Created</u> <u>by</u> <u>default.</u> This method returns the list of values stored in the slot.  If any arguments are
       provided to this method, they <b>replace</b> the current list contents.  In an array context it returns the
       values as an array and in a scalar context as a reference to an array.  Note that this reference is no
       longer a direct reference to the storage, in contrast to Class::MethodMaker v1.  This is to protect
       encapsulation.  See x_ref if you need that functionality (and are prepared to take the associated risk.)
       This function no longer auto-expands arrayrefs input as arguments, since that makes it awkward to set
       individual values to arrayrefs.  See x_setref for that functionality.

       If a default value is in force, then that value will be auto-vivified (and therefore set) for each
       otherwise <u>unset</u> (not <u>not</u> <u>defined</u>) value up to the array max (so new items will not be appended)

       <u>*_reset</u>

       <u>Created</u> <u>by</u> <u>default.</u> Called without an argument, this resets the component as a whole; deleting any
       associated storage, and returning the component to its default state.  Normally, this means that *_isset
       will return false, and "*" will return undef.  If "-default" is in effect, then the component will be set
       to the default value, and *_isset will return true.  If "-default_ctor" is in effect, then the default
       subr will be invoked, and its return value used to set the value of the component, and *_isset will
       return true.

       If called with arguments, these arguments are treated as indexes into the component, and the individual
       elements thus referenced are reset (their storage deleted, so that *_isset(n) will return false for
       appropriate <u>n</u>, except where "-default" or "-default_ctor" are in force, as above).  As with perl arrays,
       resetting the highest set value implicitly decreases the count (but x_reset(n) never unsets the aggregate
       itself, even if all the elements are not set).

       <u>*_clear</u>

         package MyClass;
         use Class::MethodMaker
           [ scalar =&gt; [{'*_clear' =&gt; '*_clear'}, 'a'],
             new    =&gt; new, ];

         package main;
         my $m = MyClass-&gt;new;
         $m-&gt;<a href="../man5/a.5.html">a</a>(5);
         $a = $m-&gt;a;       # 5
         $x = $m-&gt;a_isset; # true
         $m-&gt;a_clear;
         $a = $m-&gt;a;       # *undef*
         $x = $m-&gt;a_isset; # true

       <u>Created</u> <u>on</u> <u>request</u>.  A shorthand for setting to undef.  Note that the component will be set to undef, not
       reset, so *_isset will return true.

       <u>*_isset</u>

       <u>Created</u> <u>by</u> <u>default.</u> Whether the component is currently set.  This is different from being defined;
       initially, the component is not set (and if read, will return undef); it can be set to undef (which is a
       set value, which also returns undef).  Having been set, the only way to unset the component is with
       &lt;*_reset&gt;.

       If a default value is in effect, then &lt;*_isset&gt; will always return true.

       *_isset() tests the component as a whole.  *_isset(a) tests the element indexed by <u>a</u>.  "*_isset(a,b)"
       tests the elements indexed by <u>a</u>, <u>b</u>, and returns the logical conjunction (<u>and</u>) of the tests.

       <u>*_count</u>

       <u>Created</u> <u>by</u> <u>default.</u> Returns the number of elements in this component.  This is not affected by presence
       (or lack) of a "default" (or "default_ctor").  Returns "undef" if whole component not set (as per
       *_isset).

       <u>*_index</u>

       <u>Created</u> <u>by</u> <u>default.</u> Takes a list of indices, returns a list of the corresponding values.

       If a default (or a default ctor) is in force, then a lookup by index will vivify &amp; set to the default the
       respective elements (and therefore the aggregate data-structure also, if it's not already).

       Beware of a bug in perl 5.6.1 that will sometimes invent values in previously unset slots of arrays that
       previously contained a value.  So, vivifying a value (e.g. by <b><a href="../man2/x_index.2.html">x_index</a></b>(2)) where <b><a href="../man1/x_index.1.html">x_index</a></b>(1) was previously
       unset might cause <b><a href="../man1/x_index.1.html">x_index</a></b>(1) to be set spuriously.  This is fixed in 5.8.0.

       <u>*_push</u>

       <u>Created</u> <u>by</u> <u>default.</u> Push item(s) onto the end of the list.  No return value.

       <u>*_pop</u>

       <u>Created</u> <u>by</u> <u>default.</u> Given a number, pops that many items off the end of the list, and returns them (as a
       ref in scalar context, as a list in list context).  Without an arg, always returns a single element.
       Given a number, returns them in array order (not in reverse order as multiple pops would).

       <u>*_unshift</u>

       <u>Created</u> <u>by</u> <u>default.</u> Push item(s) onto the start of the list.  No return value.

       <u>*_shift</u>

       <u>Created</u> <u>by</u> <u>default.</u> Given a number, shifts that many items off the start of the list, and returns them
       (as a ref in scalar context, as a list in list context).  Without an arg, always returns a single
       element.  Given a number, returns them in array order.

       <u>*_splice</u>

       <u>Created</u> <u>by</u> <u>default.</u> Arguments as for perldoc perlfunc splice.  Returns an arrayref in scalar context
       (even if a single item is spliced), and a list in list context.

       <u>*_get</u>

       <u>Created</u> <u>on</u> <u>request</u>.  Retrieves the value of the component without setting (ignores any arguments passed).

       <u>*_set</u>

         @n = $x-&gt;a; # (1,2,3)
         $x-&gt;a_set(1=&gt;4,3=&gt;7);
         @n = $x-&gt;a; # (1,4,3,7)

       <u>Created</u> <u>by</u> <u>default.</u> Takes a list, treated as pairs of index =&gt; value; each given index is set to the
       corresponding value.  No return.

       If two arguments are given, of which the first is an arrayref, then it is treated as a list of indices of
       which the second argument (which must also be an arrayref) are the corresponding values.  Thus the
       following two commands are equivalent:

         $x-&gt;a_set(1=&gt;4,3=&gt;7);
         $x-&gt;a_set([1,3],[4,7]);

perl v5.40.0                                       2024-11-15                     <u>Class::MethodMaker::<a href="../man3pm/array.3pm.html">array</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>