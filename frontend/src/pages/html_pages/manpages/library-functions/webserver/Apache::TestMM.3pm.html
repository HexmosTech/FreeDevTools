<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apache::TestMM - Provide MakeMaker Wrapper Methods</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libapache2-mod-perl2">libapache2-mod-perl2_2.0.13-2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Apache::TestMM - Provide MakeMaker Wrapper Methods

</pre><h4><b>SYNOPSIS</b></h4><pre>
         require Apache::TestMM;

         # import MY::test and MY::clean overrides for MM
         Apache::TestMM-&gt;import(qw(test clean));

         # parse command line args
         Apache::TestMM::filter_args();

         # autogenerate the script
         Apache::TestMM::generate_script('t/TEST');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       "Apache::TestMM" provides wrappers for the "ExtUtils::MakeMaker" craft, making it easier to extend the
       autogenerated <u>Makefile</u> with "Apache::Test".

</pre><h4><b>FUNCTIONS</b></h4><pre>
   <b>"import"</b>
         use Apache::TestMM qw(test clean);

       or:

         Apache::TestMM-&gt;import(qw(test clean));

       Imports "MY::" overrides for the default "ExtUtils::MakeMaker" <u>test</u> and <u>clean</u> targets, as if you have
       defined:

         sub MY::test {...}
         sub MY::clean {...}

       in <u>Makefile.PL</u>. "Apache::TestMM" does this for you so that these Makefile targets will run the Apache
       server and the tests for it, and clean up after its mess.

   <b>"filter_args"</b>
         push @ARGV, '-apxs', $apxs_path;
         Apache::TestMM::filter_args();
         WriteMakefile(...);

       When WriteMakefile() is called it parses @ARGV, hoping to find special options like
       "PREFIX=/home/stas/perl". "Apache::Test" accepts a lot of configuration options of its own. When
       Apache::TestMM::filter_args() is called, it removes any "Apache::Test"-specific options from @ARGV and
       stores them internally, so when WriteMakefile() is called they aren't in @ARGV and thus won't be
       processed by WriteMakefile().

       The options can be set when <u>Makefile.PL</u> is called:

         % perl Makefile.PL -apxs /path/to/apxs

       Or you can push them manually to @ARGV from the code:

         push @ARGV, '-apxs', $apxs_path;

       When:

         Apache::TestMM::generate_script('t/TEST');

       is called, "Apache::Test"-specific options extracted by Apache::TestMM::filter_args() are written to the
       autogenerated file. In our example, the autogenerated <u>t/TEST</u> will include:

         %Apache::TestConfig::Argv = qw(apxs /path/to/apxs);

       which is going to be used by the "Apache::Test" runtime.

       The other frequently used options are: "-httpd", telling where to find the httpd (usually when the
       "-apxs" option is not used), "-libmodperl" to use a specific mod_perl shared object (if your mod_perl is
       built as DSO), "-maxclients" to change the default number of the configured "MaxClients" directive,
       "-port" to start the server on a specific port, etc. To get the complete list of available configuration
       options and their purpose and syntax, run:

         % perl -MApache::TestConfig -le 'Apache::TestConfig::usage()'

       You may wish to document some of these in your application's <u>README</u> file, especially the "-apxs" and
       "-httpd" options.

   <b>"generate_script"</b>
         Apache::TestMM::generate_script('t/TEST');

       generate_script() accepts the name of the script to generate and will look for a template with the same
       name and suffix <u>.PL</u>. So in our example it'll look for <u>t/TEST.PL</u>. The autogenerated script <u>t/TEST</u> will
       include the contents of <u>t/TEST.PL</u>, and special directives, including any configuration options passed via
       filter_args() called from <u>Makefile.PL</u>, special fixup code, etc.

perl v5.40.0                                       2024-10-20                                <u>Apache::<a href="../man3pm/TestMM.3pm.html">TestMM</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>