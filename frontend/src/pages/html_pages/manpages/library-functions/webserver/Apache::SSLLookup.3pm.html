<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apache::SSLLookup - hooks for various mod_ssl functions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libapache-ssllookup-perl">libapache-ssllookup-perl_2.00-04-4build5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Apache::SSLLookup - hooks for various mod_ssl functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
       in httpd.conf:

         # pre-loading via PerlModule or startup.pl is REQUIRED!!!
         PerlModule Apache::SSLLookup

       in any handler:

         sub handler {
           my $r = Apache::SSLLookup-&gt;new(shift);

           my $request_is_over_ssl = $r-&gt;is_https;

           my $value = $r-&gt;lookup_var('SSL_CLIENT_VERIFY');

           ...
         }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Apache::SSLLookup is a glue layer between Perl handlers and the mod_ssl public API.  under normal
       circumstances, you would use "$r&gt;subprocess_env()" to glean information about mod_ssl.  for example,

         my $request_is_over_ssl = $r-&gt;subprocess_env('HTTPS');

       however, this is only possible after mod_ssl runs its fixups - that is, Perl handlers can only accurately
       check the "subprocess_env" table for mod_ssl information in the PerlResponsePhase or later.

       this module allows you to query mod_ssl directly via its public C API at any point in the request cycle.
       but without using C, of course.

</pre><h4><b>METHODS</b></h4><pre>
       there are only three methods you need to be concerned with.

       <b>new()</b>
           to  use  this  class  you create an "Apache::SSLLookup" object.  "Apache::SSLLookup" is a subclass of
           "Apache::RequestRec" so you can simply call new() and get on with your business.

             my $r = Apache::SSLLookup-&gt;new($r);

       <b>is_https()</b>
           returns true if mod_ssl considers the request to be under SSL.

             my $request_is_over_ssl = $r-&gt;is_https;

           you can call this function any  time  during  the  request,  specifically  before  mod_ssl  populates
           subprocess_env('HTTPS') in the fixup phase.

           you  must  be  using Apache 2.0.51 or greater for this method to accurately reflect the SSL status of
           the request.

       <b>lookup_var()</b>
           returns the value of various mod_ssl environment variables.

             my $value = $r-&gt;lookup_var('SSL_CLIENT_VERIFY');

           you can call this function any  time  during  the  request,  specifically  before  mod_ssl  populates
           subprocess_env() in the fixup phase.

</pre><h4><b>NOTES</b></h4><pre>
       this module is for Apache 2.0 exclusively.  it will not work with Apache 1.3.

       you  MUST  MUST  MUST  preload this module with PerlModule or from a startup.pl.  what if you don't?  the
       short answer is that this module will do nothing for you.  the long answer is that unless you preload the
       module it will not be able to glean the optional function definitions from mod_ssl.  I'm still trying  to
       figure out why not...

</pre><h4><b>AUTHOR</b></h4><pre>
       Geoffrey Young &lt;<a href="mailto:geoff@modperlcookbook.org">geoff@modperlcookbook.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2004, Geoffrey Young

       All rights reserved.

       This module is free software.  It may be used, redistributed and/or modified under the same terms as Perl
       itself.

perl v5.40.0                                       2024-10-20                                     <u><a href="../man3pm/SSLLookup.3pm.html">SSLLookup</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>