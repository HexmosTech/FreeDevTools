<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>popen, pclose - pipe stream to or from a process</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       popen, pclose - pipe stream to or from a process

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;</b>

       <b>FILE</b> <b>*popen(const</b> <b>char</b> <b>*</b><u>command</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>type</u><b>);</b>
       <b>int</b> <b>pclose(FILE</b> <b>*</b><u>stream</u><b>);</b>

   Feature Test Macro Requirements for glibc (see <b><a href="../man7/feature_test_macros.7.html">feature_test_macros</a></b>(7)):

       <b>popen</b>(), <b>pclose</b>():
           _POSIX_C_SOURCE &gt;= 2
               || /* glibc &lt;= 2.19: */ _BSD_SOURCE || _SVID_SOURCE

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>popen</b>()  function opens a process by creating a pipe, forking, and invoking the shell.  Since a pipe
       is by definition unidirectional, the <u>type</u> argument may specify only reading or  writing,  not  both;  the
       resulting stream is correspondingly read-only or write-only.

       The  <u>command</u>  argument  is  a  pointer to a null-terminated string containing a shell command line.  This
       command is passed to <u><a href="file:/bin/sh">/bin/sh</a></u> using the <b>-c</b> flag; interpretation, if any, is performed by the shell.

       The <u>type</u> argument is a pointer to a null-terminated string which must contain either the letter  'r'  for
       reading  or  the  letter  'w'  for  writing.  Since glibc 2.9, this argument can additionally include the
       letter 'e', which causes the close-on-exec flag (<b>FD_CLOEXEC</b>) to be set on the underlying file descriptor;
       see the description of the <b>O_CLOEXEC</b> flag in <b><a href="../man2/open.2.html">open</a></b>(2) for reasons why this may be useful.

       The return value from <b>popen</b>() is a normal standard I/O stream in all respects save that it must be closed
       with <b>pclose</b>() rather than <b><a href="../man3/fclose.3.html">fclose</a></b>(3).  Writing to such a stream  writes  to  the  standard  input  of  the
       command;  the  command's  standard  output is the same as that of the process that called <b>popen</b>(), unless
       this is altered by the command itself.  Conversely, reading from the stream reads the command's  standard
       output, and the command's standard input is the same as that of the process that called <b>popen</b>().

       Note that output <b>popen</b>() streams are block buffered by default.

       The  <b>pclose</b>()  function  waits for the associated process to terminate and returns the exit status of the
       command as returned by <b><a href="../man2/wait4.2.html">wait4</a></b>(2).

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>popen</b>(): on success, returns a pointer to an open stream that can be used to read or write to  the  pipe;
       if the <b><a href="../man2/fork.2.html">fork</a></b>(2) or <b><a href="../man2/pipe.2.html">pipe</a></b>(2) calls fail, or if the function cannot allocate memory, NULL is returned.

       <b>pclose</b>(): on success, returns the exit status of the command; if <b><a href="../man2/wait4.2.html">wait4</a></b>(2) returns an error, or some other
       error is detected, -1 is returned.

       On failure, both functions set <u>errno</u> to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <b>popen</b>() function does not set <u>errno</u> if memory allocation fails.  If the underlying <b><a href="../man2/fork.2.html">fork</a></b>(2) or <b><a href="../man2/pipe.2.html">pipe</a></b>(2)
       fails,  <u>errno</u>  is  set  to  indicate  the  error.  If the <u>type</u> argument is invalid, and this condition is
       detected, <u>errno</u> is set to <b>EINVAL</b>.

       If <b>pclose</b>() cannot obtain the child status, <u>errno</u> is set to <b>ECHILD</b>.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       For an explanation of the terms used in this section, see <b><a href="../man7/attributes.7.html">attributes</a></b>(7).
       ┌─────────────────────────────────────────────────────────────────────────────┬───────────────┬─────────┐
       │ <b>Interface</b>                                                                   │ <b>Attribute</b>     │ <b>Value</b>   │
       ├─────────────────────────────────────────────────────────────────────────────┼───────────────┼─────────┤
       │ <b>popen</b>(), <b>pclose</b>()                                                           │ Thread safety │ MT-Safe │
       └─────────────────────────────────────────────────────────────────────────────┴───────────────┴─────────┘

</pre><h4><b>VERSIONS</b></h4><pre>
       The 'e' value for <u>type</u> is a Linux extension.

</pre><h4><b>STANDARDS</b></h4><pre>
       POSIX.1-2008.

</pre><h4><b>HISTORY</b></h4><pre>
       POSIX.1-2001.

</pre><h4><b>CAVEATS</b></h4><pre>
       Carefully read Caveats in <b><a href="../man3/system.3.html">system</a></b>(3).

</pre><h4><b>BUGS</b></h4><pre>
       Since the standard input of a command opened for reading shares its seek offset  with  the  process  that
       called <b>popen</b>(), if the original process has done a buffered read, the command's input position may not be
       as  expected.   Similarly, the output from a command opened for writing may become intermingled with that
       of the original process.  The latter can be avoided by calling <b><a href="../man3/fflush.3.html">fflush</a></b>(3) before <b>popen</b>().

       Failure to execute the shell is indistinguishable from the shell's failure to execute the command, or  an
       immediate exit of the command.  The only hint is an exit status of 127.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/sh.1.html">sh</a></b>(1), <b><a href="../man2/fork.2.html">fork</a></b>(2), <b><a href="../man2/pipe.2.html">pipe</a></b>(2), <b><a href="../man2/wait4.2.html">wait4</a></b>(2), <b><a href="../man3/fclose.3.html">fclose</a></b>(3), <b><a href="../man3/fflush.3.html">fflush</a></b>(3), <b><a href="../man3/fopen.3.html">fopen</a></b>(3), <b><a href="../man3/stdio.3.html">stdio</a></b>(3), <b><a href="../man3/system.3.html">system</a></b>(3)

Linux man-pages 6.9.1                              2024-05-02                                           <u><a href="../man3/popen.3.html">popen</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>