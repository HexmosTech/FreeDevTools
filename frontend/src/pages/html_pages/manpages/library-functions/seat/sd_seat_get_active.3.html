<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sd_seat_get_active, sd_seat_get_sessions, sd_seat_can_tty, sd_seat_can_graphical - Determine state of a</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsystemd-dev">libsystemd-dev_257.7-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sd_seat_get_active, sd_seat_get_sessions, sd_seat_can_tty, sd_seat_can_graphical - Determine state of a
       specific seat

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;systemd/sd-login.h&gt;</b>

       <b>int</b> <b>sd_seat_get_active(const</b> <b>char</b> <b>*</b><u>seat</u><b>,</b> <b>char</b> <b>**</b><u>session</u><b>,</b> <b>uid_t</b> <b>*</b><u>uid</u><b>);</b>

       <b>int</b> <b>sd_seat_get_sessions(const</b> <b>char</b> <b>*</b><u>seat</u><b>,</b> <b>char</b> <b>***</b><u>ret_sessions</u><b>,</b> <b>uid_t</b> <b>**</b><u>ret_uids</u><b>,</b>
                                <b>unsigned</b> <b>int</b> <b>*</b><u>ret_n_uids</u><b>);</b>

       <b>int</b> <b>sd_seat_can_tty(const</b> <b>char</b> <b>*</b><u>seat</u><b>);</b>

       <b>int</b> <b>sd_seat_can_graphical(const</b> <b>char</b> <b>*</b><u>seat</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sd_seat_get_active()</b> may be used to determine which session is currently active on a seat, if there is
       any. Returns the session identifier and the user identifier of the Unix user the session is belonging to.
       Either the session or the user identifier parameter can be passed <b>NULL</b>, in case only one of the
       parameters shall be queried. The returned string needs to be freed with the libc <b><a href="../man3/free.3.html">free</a></b>(3) call after use.

       <b>sd_seat_get_sessions()</b> may be used to determine all sessions on the specified seat. Returns two arrays,
       one (<b>NULL</b> terminated) with the session identifiers of the sessions and one with the user identifiers of
       the Unix users the sessions belong to. An additional parameter may be used to return the number of
       entries in the latter array. This value is the same as the return value if the return value is
       nonnegative. The output parameters may be passed as <b>NULL</b> in case these output values are not needed. The
       arrays and the strings referenced by them need to be freed with the libc <b><a href="../man3/free.3.html">free</a></b>(3) call after use. Note
       that instead of an empty array <b>NULL</b> may be returned and should be considered equivalent to an empty
       array.

       <b>sd_seat_can_tty()</b> may be used to determine whether a specific seat provides TTY functionality, i.e. is
       useful as a text console.

       <b>sd_seat_can_graphical()</b> may be used to determine whether a specific seat provides graphics functionality,
       i.e. is useful as a graphics display.

       If the <u>seat</u> parameter of any of these functions is passed as <b>NULL</b>, the operation is executed for the seat
       of the session of the calling process, if there is any.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, <b>sd_seat_get_active()</b> returns 0 or a positive integer. On success, <b>sd_seat_get_sessions()</b>
       returns the number of entries in the session identifier array. If the test succeeds, <b>sd_seat_can_tty()</b>
       and <b>sd_seat_can_graphical()</b> return a positive integer, if it fails 0. On failure, these calls return a
       negative errno-style error code.

   <b>Errors</b>
       Returned errors may indicate the following problems:

       <b>-ENODATA</b>
           The given field is not specified for the described seat.

       <b>-ENXIO</b>
           The specified seat is unknown.

       <b>-EINVAL</b>
           An input parameter was invalid (out of range, or <b>NULL</b>, where that is not accepted).

       <b>-ENOMEM</b>
           Memory allocation failed.

</pre><h4><b>NOTES</b></h4><pre>
       Functions described here are available as a shared library, which can be compiled against and linked to
       with the <b>libsystemd</b> <b><a href="../man1/pkg-config.1.html">pkg-config</a></b>(1) file.

       The code described here uses <b><a href="../man3/getenv.3.html">getenv</a></b>(3), which is declared to be not multi-thread-safe. This means that
       the code calling the functions described here must not call <b><a href="../man3/setenv.3.html">setenv</a></b>(3) from a parallel thread. It is
       recommended to only do calls to <b>setenv()</b> from an early phase of the program when no other threads have
       been started.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>sd_seat_can_tty()</b> and <b>sd_seat_can_graphical()</b> were added in version 186.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man3/sd-login.3.html">sd-login</a></b>(3), <b><a href="../man3/sd_session_get_seat.3.html">sd_session_get_seat</a></b>(3)

systemd 257.7                                                                              <u><a href="../man3/SD_SEAT_GET_ACTIVE.3.html">SD_SEAT_GET_ACTIVE</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>