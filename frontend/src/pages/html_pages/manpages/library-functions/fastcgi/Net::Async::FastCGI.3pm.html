<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>"Net::Async::FastCGI" - use FastCGI with IO::Async</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-async-fastcgi-perl">libnet-async-fastcgi-perl_0.26-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       "Net::Async::FastCGI" - use FastCGI with IO::Async

</pre><h4><b>SYNOPSIS</b></h4><pre>
       As an adapter:

          use Net::Async::FastCGI;
          use IO::Async::Loop;

          my $loop = IO::Async::Loop-&gt;new();

          my $fastcgi = Net::Async::FastCGI-&gt;new(
             on_request =&gt; sub {
                my ( $fastcgi, $req ) = @_;

                # Handle the request here
             }
          );

          $loop-&gt;add( $fastcgi );

          $fastcgi-&gt;listen(
             service =&gt; 1234,
             on_resolve_error =&gt; sub { die "Cannot resolve - $_[-1]\n" },
             on_listen_error  =&gt; sub { die "Cannot listen - $_[-1]\n" },
          );

          $loop-&gt;run;

       As a subclass:

          package MyFastCGIResponder;
          use base qw( Net::Async::FastCGI );

          sub on_request
          {
             my $self = shift;
             my ( $req ) = @_;

             # Handle the request here
          }

          ...

          use IO::Async::Loop;

          my $loop = IO::Async::Loop-&gt;new();

          my $fastcgi;
          $loop-&gt;add( $fastcgi = MyFastCGIResponder-&gt;new( service =&gt; 1234 ) );

          $fastcgi-&gt;listen(
             service =&gt; 1234,
             on_resolve_error =&gt; sub { die "Cannot resolve - $_[-1]\n" },
             on_listen_error  =&gt; sub { die "Cannot listen - $_[-1]\n" },
          );

          $loop-&gt;run;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module allows a program to respond asynchronously to FastCGI requests, as part of a program based on
       IO::Async. An object in this class represents a single FastCGI responder that the webserver is configured
       to communicate with. It can handle multiple outstanding requests at a time, responding to each as data is
       provided by the program. Individual outstanding requests that have been started but not yet finished, are
       represented by instances of Net::Async::FastCGI::Request.

</pre><h4><b>EVENTS</b></h4><pre>
       The following events are invoked, either using subclass methods or CODE references in parameters:

   <b>on_request</b> <b>$req</b>
       Invoked when a new FastCGI request is received. It will be passed a new Net::Async::FastCGI::Request
       object.

</pre><h4><b>PARAMETERS</b></h4><pre>
       The following named parameters may be passed to "new" or "configure":

       on_request =&gt; CODE
               CODE references for "on_request" event handler.

       default_encoding =&gt; STRING
               Sets the default encoding used by all new requests. If not supplied then "UTF-8" will apply.

       stream_stdin =&gt; BOOL
               If true, requests will expect to handling streaming of stdin data. In this mode, the "on_request"
               event  handler  will be invoked once parameters for a new request have been received, even if the
               stdin stream is not yet complete.

</pre><h4><b>METHODS</b></h4><pre>
   <b>listen</b>
          $fcgi-&gt;listen( %args );

       Start listening for connections on a socket, creating it first if necessary.

       This method may be called in either of the following ways. To listen on an existing socket filehandle:

       handle =&gt; IO
           An IO handle referring to a listen-mode socket. This is now deprecated; use the "handle" key  to  the
           "new" or "configure" methods instead.

       Or, to create the listening socket or sockets:

       service =&gt; STRING
           Port number or service name to listen on.

       host =&gt; STRING
           Optional.  If  supplied,  the  hostname  will  be resolved into a set of addresses, and one listening
           socket will be created for each address. If not, then all available addresses will be used.

       This method may also require "on_listen_error" or "on_resolve_error" callbacks for error handling  -  see
       IO::Async::Listener for more detail.

</pre><h4><b>Limits</b> <b>in</b> <b>FCGI_GET_VALUES</b></h4><pre>
       The  "FCGI_GET_VALUES"  FastCGI request can enquire of the responder the maximum number of connections or
       requests it can support. Because this module puts no fundamental limit on these values,  it  will  return
       some arbitrary numbers. These are given in package variables:

          $Net::Async::FastCGI::MAX_CONNS = 1024;
          $Net::Async::FastCGI::MAX_REQS  = 1024;

       These  variables  are  provided  in  case  the  containing  application wishes to make the library return
       different values in the request. These values are not actually used by the library, other than to fill in
       the values in response of "FCGI_GET_VALUES".

</pre><h4><b>Using</b> <b>a</b> <b>socket</b> <b>on</b> <b>STDIN</b></h4><pre>
       When running a local FastCGI responder, the webserver will create a new  INET  socket  connected  to  the
       script's STDIN file handle. To use the socket in this case, it should be passed as the "handle" argument.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       •   CGI::Fast - Fast CGI drop-in replacement of CGI; single-threaded, blocking mode.

       •   &lt;<a href="http://hoohoo.ncsa.uiuc.edu/cgi/interface.html">http://hoohoo.ncsa.uiuc.edu/cgi/interface.html</a>&gt; - The Common Gateway Interface Specification

       •   &lt;<a href="http://www.fastcgi.com/devkit/doc/fcgi-spec.html">http://www.fastcgi.com/devkit/doc/fcgi-spec.html</a>&gt; - FastCGI Specification

</pre><h4><b>AUTHOR</b></h4><pre>
       Paul Evans &lt;<a href="mailto:leonerd@leonerd.org.uk">leonerd@leonerd.org.uk</a>&gt;

perl v5.38.2                                       2024-07-29                           <u>Net::Async::<a href="../man3pm/FastCGI.3pm.html">FastCGI</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>