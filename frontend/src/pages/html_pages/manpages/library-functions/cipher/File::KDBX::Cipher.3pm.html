<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File::KDBX::Cipher - A block cipher mode or cipher stream</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libfile-kdbx-perl">libfile-kdbx-perl_0.906-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       File::KDBX::Cipher - A block cipher mode or cipher stream

</pre><h4><b>VERSION</b></h4><pre>
       version 0.906

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use File::KDBX::Cipher;

           my $cipher = File::KDBX::Cipher-&gt;new(uuid =&gt; $uuid, key =&gt; $key, iv =&gt; $iv);

           my $ciphertext = $cipher-&gt;encrypt('plaintext');
           $ciphertext .= $cipher-&gt;encrypt('more plaintext');
           $ciphertext .= $cipher-&gt;finish;

           my $plaintext = $cipher-&gt;decrypt('ciphertext');
           $plaintext .= $cipher-&gt;decrypt('more ciphertext');
           $plaintext .= $cipher-&gt;finish;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A cipher is used to encrypt and decrypt KDBX files. The File::KDBX distribution comes with several pre-
       registered ciphers ready to go:

       •   "61AB05A1-9464-41C3-8D74-3A563DF8DD35" - AES128 (legacy)

       •   "31C1F2E6-BF71-4350-BE58-05216AFC5AFF" - AES256

       •   "D6038A2B-8B6F-4CB5-A524-339A31DBB59A" - ChaCha20

       •   "716E1C8A-EE17-4BDC-93AE-A977B882833A" - Salsa20

       •   "098563FF-DDF7-4F98-8619-8079F6DB897A" - Serpent

       •   "AD68F29F-576F-4BB9-A36A-D47AF965346C" - Twofish

       <b>NOTE:</b> If you want your KDBX file to be readable by other KeePass implementations, you must use a UUID and
       algorithm  that  they  support.  From  the list above, AES256 and ChaCha20 are well-supported. You should
       avoid AES128 for new databases.

       You can also "register" your own cipher. Here is a skeleton:

           package File::KDBX::Cipher::MyCipher;

           use parent 'File::KDBX::Cipher';

           File::KDBX::Cipher-&gt;register(
               # $uuid, $package, %args
               "\x12\x34\x56\x78\x9a\xbc\xde\xfg\x12\x34\x56\x78\x9a\xbc\xde\xfg" =&gt; __PACKAGE__,
           );

           sub init { ... } # optional

           sub encrypt { ... }
           sub decrypt { ... }
           sub finish  { ... }

           sub key_size   { ... }
           sub iv_size    { ... }
           sub block_size { ... }

</pre><h4><b>ATTRIBUTES</b></h4><pre>
   <b>uuid</b>
           $uuid = $cipher-&gt;uuid;

       Get the UUID if the cipher was constructed with one.

   <b>stream_id</b>
           $stream_id = $cipher-&gt;stream_id;

       Get the stream ID if the cipher was constructed with one.

   <b>key</b>
           $key = $cipher-&gt;key;

       Get the raw encryption key.

   <b>iv</b>
           $iv = $cipher-&gt;iv;

       Get the initialization vector.

   <b>iv_size</b>
           $size = $cipher-&gt;iv_size;

       Get the expected size of the initialization vector, in bytes.

   <b>key_size</b>
           $size = $cipher-&gt;key_size;

       Get the size the mode or stream expects the key to be, in bytes.

   <b>block_size</b>
           $size = $cipher-&gt;block_size;

       Get the block size, in bytes.

   <b>algorithm</b>
       Get the symmetric cipher algorithm.

</pre><h4><b>METHODS</b></h4><pre>
   <b>new</b>
   <b>new_from_uuid</b>
   <b>new_from_stream_id</b>
           $cipher = File::KDBX::Cipher-&gt;new(uuid =&gt; $uuid, key =&gt; $key, iv =&gt; $iv);
           # OR
           $cipher = File::KDBX::Cipher-&gt;new_from_uuid($uuid, key =&gt; $key, iv =&gt; $iv);

           $cipher = File::KDBX::Cipher-&gt;new(stream_id =&gt; $id, key =&gt; $key);
           # OR
           $cipher = File::KDBX::Cipher-&gt;new_from_stream_id($id, key =&gt; $key);

       Construct a new File::KDBX::Cipher.

       This is a factory method which returns a subclass.

   <b>init</b>
           $self-&gt;init;

       Called by "new" to set attributes. You normally shouldn't call  this.  Returns  itself  to  allow  method
       chaining.

   <b>encrypt</b>
           $ciphertext = $cipher-&gt;encrypt($plaintext, ...);

       Encrypt some data.

   <b>decrypt</b>
           $plaintext = $cipher-&gt;decrypt($ciphertext, ...);

       Decrypt some data.

   <b>finish</b>
           $ciphertext .= $cipher-&gt;finish; # if encrypting
           $plaintext  .= $cipher-&gt;finish; # if decrypting

       Finish the stream.

   <b>encrypt_finish</b>
           $ciphertext = $cipher-&gt;encrypt_finish($plaintext, ...);

       Encrypt and finish a stream in one call.

   <b>decrypt_finish</b>
           $plaintext = $cipher-&gt;decrypt_finish($ciphertext, ...);

       Decrypt and finish a stream in one call.

   <b>register</b>
           File::KDBX::Cipher-&gt;register($uuid =&gt; $package, %args);

       Register  a cipher. Registered ciphers can be used to encrypt and decrypt KDBX databases. A cipher's UUID
       <b>must</b> be unique and <b>musn't</b> <b>change</b>. A cipher UUID is written into each KDBX file and the associated  cipher
       must be registered with the same UUID in order to decrypt the KDBX file.

       $package  should  be  a Perl package relative to "File::KDBX::Cipher::" or prefixed with a "+" if it is a
       fully-qualified package. %args are passed as-is to the cipher's "init" method.

   <b>unregister</b>
           File::KDBX::Cipher-&gt;unregister($uuid);

       Unregister a cipher. Unregistered ciphers can no longer be used to encrypt and  decrypt  KDBX  databases,
       until reregistered (see "register").

</pre><h4><b>BUGS</b></h4><pre>
       Please     report     any     bugs     or     feature     requests     on    the    bugtracker    website
       &lt;https://github.com/chazmcgarvey/File-KDBX/issues&gt;

       When submitting a bug or request, please include a test-file or a patch to  an  existing  test-file  that
       illustrates the bug or desired feature.

</pre><h4><b>AUTHOR</b></h4><pre>
       Charles McGarvey &lt;<a href="mailto:ccm@cpan.org">ccm@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2022 by Charles McGarvey.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.40.1                                       2025-05-04                            <u>File::KDBX::<a href="../man3pm/Cipher.3pm.html">Cipher</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>