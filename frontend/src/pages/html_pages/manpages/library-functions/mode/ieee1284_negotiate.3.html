<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ieee1284_negotiate, ieee1284_terminate - IEEE 1284 negotiation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libieee1284-3-dev">libieee1284-3-dev_0.2.11-14.1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ieee1284_negotiate, ieee1284_terminate - IEEE 1284 negotiation

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;ieee1284.h&gt;</b>

       <b>int</b> <b>ieee1284_negotiate(struct</b> <b>parport</b> <b>*</b><u>port</u><b>,</b> <b>int</b> <u>mode</u><b>);</b>

       <b>void</b> <b>ieee1284_terminate(struct</b> <b>parport</b> <b>*</b><u>port</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These functions are for negotiating to and terminating from IEEE 1284 data transfer modes. The default
       mode is called compatibility mode, or in other words normal printer protocol. It is a host-to-peripheral
       mode only. There are special modes that allow peripheral-to-host transfer as well, which may be
       negotiated to using <b>ieee1284_negotiate</b>. IEEE 1284 negotiation is a process by which the host requests a
       transfer mode and the peripheral accepts or rejects it. An IEEE 1284-compliant device will require a
       successful negotiation to a particular mode before it is used for data transfer (but simpler devices may
       not if they only speak one transfer mode).

       To terminate the special mode and go back to compatilibity mode use <b>ieee1284_terminate</b>.

       These functions act on the parallel port associated with <u>port</u>, which must be claimed.

       With a device strictly complying to IEEE 1284 you will need to call <b>ieee1284_terminate</b> in between any two
       calls to <b>ieee1284_negotiate</b> for modes other than <b>M1284_COMPAT</b>.

</pre><h4><b>AVAILABLE</b> <b>MODES</b></h4><pre>
   <b>Uni-directional</b> <b>modes</b>
       •   <b>M1284_COMPAT</b>: Compatibility mode. Normal printer protocol. This is not a negotiated mode, but is the
           default mode in absence of negotiation.  <b>ieee1284_negotiate(port,</b> <b>M1284_COMPAT)</b> is equivalent to
           <b>ieee1284_terminate(port)</b>. This host-to-peripheral mode is used for sending data to printers, and is
           historically the mode that has been used for that before IEEE 1284.
       •   <b>M1284_NIBBLE</b>: Nibble mode. This peripheral-to-host mode uses the status lines to read data from the
           peripheral four bits at a time.
       •   <b>M1284_BYTE</b>: Byte mode. This peripheral-to-host mode uses the data lines in reverse mode to read data
           from the peripheral a byte at a time.

   <b>Bi-directional</b> <b>modes</b>
       •   <b>M1284_ECP</b>: ECP mode. On entry to ECP mode it is a host-to-peripheral (i.e. forward) mode, but it may
           be set to reverse mode using <b><a href="../man3/ieee1284_ecp_fwd_to_rev.3.html">ieee1284_ecp_fwd_to_rev</a></b>(3). It is common for PC hardware to provide
           assistance with this mode by the use of a FIFO which the host (or, in reverse mode, the peripheral)
           may fill, so that the hardware can do the handshaking itself.
       •   <b>M1284_EPP</b>: EPP mode. In this bi-directional mode the direction of data transfer is signalled at each
           byte.

   <b>Mode</b> <b>variations</b>
       •   <b>M1284_FLAG_DEVICEID</b>: Device ID retrieval. This flag may be combined with a nibble, byte, or ECP mode
           to notify the device that it should send its IEEE 1284 Device ID when asked for data.
       •   <b>M1284_BECP</b>: Bounded ECP is a modification to ECP that makes it more robust at the point that the
           direction is changed. (Unfortunately it is not yet implemented in the Linux kernel driver.)
       •   <b>M1284_ECPRLE</b>: ECP with run length encoding. In this mode, consecutive data bytes of the same value
           may be transferred in only a few cycles.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>E1284_OK</b>
           The negotiation was successful.

       <b>E1284_NOTAVAIL</b>
           Negotiation is not available with this port type.

       <b>E1284_REJECTED</b>
           Negotiation was rejected by the peripheral.

       <b>E1284_NEGFAILED</b>
           Negotiation failed for some reason. Perhaps the device is not IEEE 1284 compliant.

       <b>E1284_SYS</b>
           A system error occured during negotiation.

       <b>E1284_INVALIDPORT</b>
           The <u>port</u> parameter is invalid (for instance, perhaps the <u>port</u> is not claimed).

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>Tim</b> <b>Waugh</b> &lt;<a href="mailto:twaugh@redhat.com">twaugh@redhat.com</a>&gt;
           Author.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright © 2001-2003 Tim Waugh

                                                   09/18/2007                            <u><a href="../man3/IEEE1284_NEGOTIATION.3.html">IEEE1284_NEGOTIATION</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>