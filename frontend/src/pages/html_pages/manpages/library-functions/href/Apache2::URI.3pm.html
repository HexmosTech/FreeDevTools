<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apache2::URI - Perl API for manipulating URIs</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libapache2-mod-perl2">libapache2-mod-perl2_2.0.13-2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Apache2::URI - Perl API for manipulating URIs

</pre><h4><b>Synopsis</b></h4><pre>
         use Apache2::URI ();

         $hostport = $r-&gt;construct_server();
         $hostport = $r-&gt;construct_server($hostname);
         $hostport = $r-&gt;construct_server($hostname, $port);
         $hostport = $r-&gt;construct_server($hostname, $port, $pool);

         $url = $r-&gt;construct_url();
         $url = $r-&gt;construct_url($rel_uri);
         $url = $r-&gt;construct_url($rel_uri, $pool);

         $parsed_uri = $r-&gt;parse_uri($uri);

         $parsed_uri = $r-&gt;parsed_uri();

         $url = join '%20', qw(one two three);
         Apache2::URI::unescape_url($url);

</pre><h4><b>Description</b></h4><pre>
       While "APR::URI" provides a generic API to dissect, adjust and put together any given URI string,
       "Apache2::URI" provides an API specific to Apache, by taking the information directly from the $r object.
       Therefore when manipulating the URI of the current HTTP request usually methods from both classes are
       used.

</pre><h4><b>API</b></h4><pre>
       "Apache2::URI" provides the following functions and methods:

   <b>"construct_server"</b>
       Construct a string made of hostname and port

         $hostport = $r-&gt;construct_server();
         $hostport = $r-&gt;construct_server($hostname);
         $hostport = $r-&gt;construct_server($hostname, $port);
         $hostport = $r-&gt;construct_server($hostname, $port, $pool);

       obj: $r ( "Apache2::RequestRec object" )
           The current request object

       opt arg1: $hostname ( string )
           The hostname of the server.

           If that argument is not passed, "$r-&gt;get_server_name" is used.

       opt arg2: $port ( string )
           The port the server is running on.

           If that argument is not passed, "$r-&gt;get_server_port" is used.

       opt arg3: $pool ( "APR::Pool object" )
           The pool to allocate the string from.

           If that argument is not passed, "$r-&gt;pool" is used.

       ret: $hostport ( string )
           The server's hostport string

       since: 2.0.00

       Examples:

       •   Assuming that:

             $r-&gt;get_server_name == "localhost";
             $r-&gt;get_server_port == 8001;

           The code:

             $hostport = $r-&gt;construct_server();

           returns a string:

             localhost:8001

       •   The following code sets the values explicitly:

             $hostport = $r-&gt;construct_server("my.example.com", 8888);

           and it returns a string:

             my.example.com:8888

   <b>"construct_url"</b>
       Build a fully qualified URL from the uri and information in the request rec:

         $url = $r-&gt;construct_url();
         $url = $r-&gt;construct_url($rel_uri);
         $url = $r-&gt;construct_url($rel_uri, $pool);

       obj: $r ( "Apache2::RequestRec object" )
           The current request object

       opt arg1: $rel_uri ( string )
           The  path  to  the  requested  file  (it  may  include  a  concatenation  of <u>path</u>, <u>query</u> and <u>fragment</u>
           components).

           If that argument is not passed, "$r-&gt;uri" is used.

       opt arg2: $pool ( "APR::Pool object" )
           The pool to allocate the URL from

           If that argument is not passed, "$r-&gt;pool" is used.

       ret: $url ( string )
           A fully qualified URL

       since: 2.0.00

       Examples:

       •   Assuming that the request was

             <a href="http://localhost.localdomain">http://localhost.localdomain</a>:8529/test?args

           The code:

             my $url = $r-&gt;construct_url;

           returns the string:

             <a href="http://localhost.localdomain">http://localhost.localdomain</a>:8529/test

           notice that the query (args) component is not in the string. You need to append it manually  if  it's
           needed.

       •   Assuming that the request was

             <a href="http://localhost.localdomain">http://localhost.localdomain</a>:8529/test?args

           The code:

             my $rel_uri = "/foo/bar?tar";
             my $url = $r-&gt;construct_url($rel_uri);

           returns the string:

             <a href="http://localhost.localdomain">http://localhost.localdomain</a>:8529/foo/bar?tar

   <b>"parse_uri"</b>
       Break apart URI (affecting the current request's uri components)

         $r-&gt;parse_uri($uri);

       obj: $r ( "Apache2::RequestRec object" )
           The current request object

       arg1: $uri ( string )
           The uri to break apart

       ret: no return value
       warning:
           This method has several side-effects explained below

       since: 2.0.00

       This method call has the following side-effects:

       1.  sets  "$r-&gt;args"  to  the  rest  after  '?'  if  such exists in the passed $uri, otherwise sets it to
           "undef".

       2.  sets "$r-&gt;uri" to the passed $uri without the "$r-&gt;args" part.

       3.  sets "$r-&gt;hostname" (if not set already) using the ("scheme://host:port") parts of the passed $uri.

   <b>"parsed_uri"</b>
       Get the current request's parsed uri object

         my $uri = $r-&gt;parsed_uri();

       obj: $r ( "Apache2::RequestRec object" )
           The current request object

       ret: $uri ( "APR::URI object" )
           The parsed uri

       since: 2.0.00
           This object is suitable for using with "APR::URI::rpath"

   <b>"unescape_url"</b>
       Unescape URLs

         Apache2::URI::unescape_url($url);

       obj: $url ( string )
           The URL to unescape

       ret: no return value
           The argument $url is now unescaped

       since: 2.0.00

       Example:

         my $url = join '%20', qw(one two three);
         Apache2::URI::unescape_url($url);

       $url now contains the string:

         "one two three";

</pre><h4><b>See</b> <b>Also</b></h4><pre>
       "APR::URI", mod_perl 2.0 documentation.

</pre><h4><b>Copyright</b></h4><pre>
       mod_perl 2.0 and its core modules are copyrighted under The Apache Software License, Version 2.0.

</pre><h4><b>Authors</b></h4><pre>
       The mod_perl development team and numerous contributors.

perl v5.40.0                                       2024-10-20             <u>libapache2-mod-...i::Apache2::<a href="../man3pm/URI.3pm.html">URI</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>