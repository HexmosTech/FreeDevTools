<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>af_transaction, af_commit, af_abort - a simple transaction mechanism for AtFS</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/atfs-dev">atfs-dev_1.4pl6-16.1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       af_transaction, af_commit, af_abort - a simple transaction mechanism for AtFS

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;atfs.h&gt;

       int af_transaction (void)

       int af_commit (void)

       int af_abort (void)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These  functions  implement  a  simple transaction mechanism for AtFS.  A transaction starts with calling
       <u>af_transaction</u>. All changes to existing ASOs performed hereafter  have  no  immediate  permanent  effect.
       They  rather get into effect, when the transaction is ended.  Calling <u>af_commit</u> ends the transactions and
       causes all changes to be saved to disk. <u>af_abort</u> aborts the transaction without saving the changes. These
       will then be discarded.

       Only modification of the state of existing source ASOs will be deferred. Creation  or  deletion  of  ASOs
       have  immediate  effect, regardless if a transaction is in effect or not. Additionally, all operations on
       derived ASOs (all operations on the derived object cache) are not affected by the transaction.

       All archive files that are to be changed when the transaction is finished are locked until the end of the
       transaction.  The lock prevents all other applications to perform any modifications on the archive  file.
       You  should  make sure, that ending a transaction should never be dependent on the successful termination
       of another application (deadlock danger).

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Upon error, -1 is returned and <u>af_errno</u> is set to the corresponding error number.

</pre><h4><b>BUGS</b></h4><pre>
       Changes to the contents of busy versions have immediate effect.

AtFS-1.71                                   Fri Jun 25 14:33:21 1993                              <u><a href="../man3/af_transact.3.html">af_transact</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>