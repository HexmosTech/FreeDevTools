<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI_METHOD, UI_create_method, UI_destroy_method, UI_method_set_opener, UI_method_set_writer,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       UI_METHOD, UI_create_method, UI_destroy_method, UI_method_set_opener, UI_method_set_writer,
       UI_method_set_flusher, UI_method_set_reader, UI_method_set_closer, UI_method_set_data_duplicator,
       UI_method_set_prompt_constructor, UI_method_set_ex_data, UI_method_get_opener, UI_method_get_writer,
       UI_method_get_flusher, UI_method_get_reader, UI_method_get_closer, UI_method_get_data_duplicator,
       UI_method_get_data_destructor, UI_method_get_prompt_constructor, UI_method_get_ex_data - user interface
       method creation and destruction

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/ui.h&gt;

        typedef struct ui_method_st UI_METHOD;

        UI_METHOD *UI_create_method(const char *name);
        void UI_destroy_method(UI_METHOD *ui_method);
        int UI_method_set_opener(UI_METHOD *method, int (*opener) (UI *ui));
        int UI_method_set_writer(UI_METHOD *method,
                                 int (*writer) (UI *ui, UI_STRING *uis));
        int UI_method_set_flusher(UI_METHOD *method, int (*flusher) (UI *ui));
        int UI_method_set_reader(UI_METHOD *method,
                                 int (*reader) (UI *ui, UI_STRING *uis));
        int UI_method_set_closer(UI_METHOD *method, int (*closer) (UI *ui));
        int UI_method_set_data_duplicator(UI_METHOD *method,
                                          void *(*duplicator) (UI *ui, void *ui_data),
                                          void (*destructor)(UI *ui, void *ui_data));
        int UI_method_set_prompt_constructor(UI_METHOD *method,
                                             char *(*prompt_constructor) (UI *ui,
                                                                          const char
                                                                          *object_desc,
                                                                          const char
                                                                          *object_name));
        int UI_method_set_ex_data(UI_METHOD *method, int idx, void *data);
        int (*UI_method_get_opener(const UI_METHOD *method)) (UI *);
        int (*UI_method_get_writer(const UI_METHOD *method)) (UI *, UI_STRING *);
        int (*UI_method_get_flusher(const UI_METHOD *method)) (UI *);
        int (*UI_method_get_reader(const UI_METHOD *method)) (UI *, UI_STRING *);
        int (*UI_method_get_closer(const UI_METHOD *method)) (UI *);
        char *(*UI_method_get_prompt_constructor(const UI_METHOD *method))
            (UI *, const char *, const char *);
        void *(*UI_method_get_data_duplicator(const UI_METHOD *method)) (UI *, void *);
        void (*UI_method_get_data_destructor(const UI_METHOD *method)) (UI *, void *);
        const void *UI_method_get_ex_data(const UI_METHOD *method, int idx);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A method contains a few functions that implement the low-level of the User Interface.  These functions
       are:

       an opener
           This  function  takes a reference to a UI and starts a session, for example by opening a channel to a
           tty, or by creating a dialog box.

       a writer
           This function takes a reference to a UI and a UI String, and writes  the  string  where  appropriate,
           maybe  to the tty, maybe added as a field label in a dialog box.  Note that this gets fed all strings
           associated with a UI, one after the other, so care must be taken which ones it actually uses.

       a flusher
           This function takes a reference to a UI, and flushes everything that has been  output  so  far.   For
           example,  if the method builds up a dialog box, this can be used to actually display it and accepting
           input ended with a pressed button.

       a reader
           This function takes a reference to a UI and a UI string and reads off the given  prompt,  maybe  from
           the  tty,  maybe from a field in a dialog box.  Note that this gets fed all strings associated with a
           UI, one after the other, so care must be taken which ones it actually uses.

       a closer
           This function takes a reference to a UI, and closes the session, maybe by closing the channel to  the
           tty, maybe by destroying a dialog box.

       All of these functions are expected to return 0 on error, 1 on success, or -1 on out-off-band events, for
       example  if some prompting has been cancelled (by pressing Ctrl-C, for example).  Only the flusher or the
       reader are expected to return -1.  If returned by another of the functions, it's  treated  as  if  0  was
       returned.

       Regarding  the  writer  and  the  reader,  don't assume the former should only write and don't assume the
       latter should only read.  This depends on the needs of the method.

       For example, a typical tty reader wouldn't write the prompts in the write, but would rather do so in  the
       reader, because of the sequential nature of prompting on a tty.  This is how the <b>UI_OpenSSL()</b> method does
       it.

       In contrast, a method that builds up a dialog box would add all prompt text in the writer, have all input
       read  in  the  flusher  and  store the results in some temporary buffer, and finally have the reader just
       fetch those results.

       The central function that uses these method functions is <b>UI_process()</b>, and it does it in five steps:

       1.  Open the session using the opener function if that one's defined.  If an error occurs, jump to 5.

       2.  For every UI String associated with the UI, call the writer function if that one's  defined.   If  an
           error occurs, jump to 5.

       3.  Flush everything using the flusher function if that one's defined.  If an error occurs, jump to 5.

       4.  For  every  UI  String associated with the UI, call the reader function if that one's defined.  If an
           error occurs, jump to 5.

       5.  Close the session using the closer function if that one's defined.

       <b>UI_create_method()</b> creates a new UI method with a given <b>name</b>.

       <b>UI_destroy_method()</b> destroys the given UI method <b>ui_method</b>.

       <b>UI_method_set_opener()</b>,  <b>UI_method_set_writer()</b>,  <b>UI_method_set_flusher()</b>,   <b>UI_method_set_reader()</b>   and
       <b>UI_method_set_closer()</b> set the five main method function to the given function pointer.

       <b>UI_method_set_data_duplicator()</b> sets the user data duplicator and destructor.  See <b><a href="../man3/UI_dup_user_data.3.html">UI_dup_user_data</a></b>(3).

       <b>UI_method_set_prompt_constructor()</b> sets the prompt constructor.  See <b><a href="../man3/UI_construct_prompt.3.html">UI_construct_prompt</a></b>(3).

       <b>UI_method_set_ex_data()</b>   sets   application   specific   data   with   a   given   EX_DATA  index.   See
       <b><a href="../man3/CRYPTO_get_ex_new_index.3.html">CRYPTO_get_ex_new_index</a></b>(3) for general information on how to get that index.

       <b>UI_method_get_opener()</b>,    <b>UI_method_get_writer()</b>,    <b>UI_method_get_flusher()</b>,    <b>UI_method_get_reader()</b>,
       <b>UI_method_get_closer()</b>,      <b>UI_method_get_data_duplicator()</b>,     <b>UI_method_get_data_destructor()</b>     and
       <b>UI_method_get_prompt_constructor()</b> return the different method functions.

       <b>UI_method_get_ex_data()</b> returns the application data previously stored with <b>UI_method_set_ex_data()</b>.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>UI_create_method()</b> returns a UI_METHOD pointer on success, NULL on error.

       <b>UI_method_set_opener()</b>,    <b>UI_method_set_writer()</b>,    <b>UI_method_set_flusher()</b>,    <b>UI_method_set_reader()</b>,
       <b>UI_method_set_closer()</b>,  <b>UI_method_set_data_duplicator()</b>  and <b>UI_method_set_prompt_constructor()</b> return 0
       on success, -1 if the given <b>method</b> is NULL.

       <b>UI_method_set_ex_data()</b> returns 1 on success and 0 on error (because <b>CRYPTO_set_ex_data()</b> does so).

       <b>UI_method_get_opener()</b>,    <b>UI_method_get_writer()</b>,    <b>UI_method_get_flusher()</b>,    <b>UI_method_get_reader()</b>,
       <b>UI_method_get_closer()</b>,      <b>UI_method_get_data_duplicator()</b>,     <b>UI_method_get_data_destructor()</b>     and
       <b>UI_method_get_prompt_constructor()</b> return the requested function pointer  if  it's  set  in  the  method,
       otherwise NULL.

       <b>UI_method_get_ex_data()</b> returns a pointer to the application specific data associated with the method.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/UI.3.html">UI</a></b>(3), <b><a href="../man3/CRYPTO_get_ex_data.3.html">CRYPTO_get_ex_data</a></b>(3), <b><a href="../man3/UI_STRING.3.html">UI_STRING</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       The  <b>UI_method_set_data_duplicator()</b>, <b>UI_method_get_data_duplicator()</b> and <b>UI_method_get_data_destructor()</b>
       functions were added in OpenSSL 1.1.1.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2001-2020 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file  except  in  compliance
       with  the  License.   You  can  obtain  a  copy  in  the  file  LICENSE  in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                             <u><a href="../man3SSL/UI_CREATE_METHOD.3SSL.html">UI_CREATE_METHOD</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>