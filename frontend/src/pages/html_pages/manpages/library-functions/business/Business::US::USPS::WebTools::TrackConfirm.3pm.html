<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business::US::USPS::WebTools::TrackConfirm - track a shipment using the USPS Web Tools</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbusiness-us-usps-webtools-perl">libbusiness-us-usps-webtools-perl_1.125-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Business::US::USPS::WebTools::TrackConfirm - track a shipment using the USPS Web Tools

</pre><h4><b>SYNOPSIS</b></h4><pre>
               use Business::US::USPS::WebTools::TrackConfirm;

               my $tracker = Business::US::USPS::WebTools::TrackConfirm-&gt;new( {
                       UserID   =&gt; $ENV{USPS_WEBTOOLS_USERID},
                       Password =&gt; $ENV{USPS_WEBTOOLS_PASSWORD},
                       Testing  =&gt; 1,
                       } );

               my $array_of_hashes = $tracker-&gt;track( TrackID =&gt; $tracking_number );

               if( $tracker-&gt;is_error ) {
                       warn "Oh No! $tracker-&gt;{error}{description}\n";
                       }
               else {
                       foreach my $hash ( reverse $hash-&gt;{TrackDetail}-&gt;@* ) {
                               say '-' x 50;
                               say join "\n", map { "$_: $hash-&gt;{$_}" }
                                       qw(Event EventCity EventDate EventTime);
                               }
                       }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       *** THIS IS ALPHA SOFTWARE ***

       This module implements the Track &amp; Confirm web service from the US Postal Service. It is a subclass of
       Business::US::USPS::WebTools.

       track( TrackID =&gt; VALUE )
           Although  the  USPS  API allows to make multiple queries in a single request, this method one queries
           only one.

           The "track" method takes the following keys, which come directly from the USPS web service interface:

                   TrackID   The tracking number

           It returns an anonymous array of hashes with the data from the response.  Each  hash  represents  one
           step  in the tracking and is blessed into Hash::AsObject. The array is in reverse chronological order
           (so the oldest detail is the last element). The first element is the latest status (and is mostly the
           same as TrackSummary from the API).

           If you want to see if something went wrong, check:

                   $tracker-&gt;is_error;

           See  the  "is_error"  documentation  in  Business::US::USPS::WebTools  for  more  details  on   error
           information.

       tracking_number_regex
           Returns  the  regex  that  checks  a  tracking  number. I have it in its own method so you can easily
           override it if I got it wrong.

           The USPS shows the valid forms at

                   https://tools.usps.com/go/TrackConfirmAction!input.action

                   USPS Tracking®                        9400 1000 0000 0000 0000 00
                   Priority Mail®                        9205 5000 0000 0000 0000 00
                   Certified Mail®                       9407 3000 0000 0000 0000 00
                   Collect on Delivery                       9303 3000 0000 0000 0000 00
                   Global Express Guaranteed®                82 000 000 00
                   Priority Mail Express International™  EC 000 000 000 US
                   Priority Mail Express™                9270 1000 0000 0000 0000 00
                                                     EA 000 000 000 US
                   Priority Mail International®          CP 000 000 000 US
                   Registered Mail™                      9208 8000 0000 0000 0000 00
                   Signature Confirmation™               9202 1000 0000 0000 0000 00

       is_valid_tracking_number( ID )
           Returns a normalized version of the tracking number if ID looks like a tracking number, based on  the
           regex from "tracking_number_regex".  Returns false otherwise.

           Normalizing ID merely removes all whitespace. Sometimes the USPS shows the numbers with whitespace.

       service_type( ID )
           Returns   the   service   type,   based   on   the   examples   shown   by  the  USPS  and  shown  in
           "tracking_number_regex". I know this is wrong because I have tracking numbers  that  don't  have  the
           same leading characters for Priority Mail International.

                   &lt;TrackSummary&gt;
                   &lt;EventTime&gt;8:34 pm&lt;/EventTime&gt;
                   &lt;EventDate&gt;September 25, 2018&lt;/EventDate&gt;
                   &lt;Event&gt;Departed&lt;/Event&gt;
                   &lt;EventCity&gt;NEWARK&lt;/EventCity&gt;
                   &lt;EventState /&gt;&lt;EventZIPCode /&gt;
                   &lt;EventCountry&gt;UNITED STATES&lt;/EventCountry&gt;
                   &lt;FirmName /&gt;
                   &lt;Name /&gt;
                   &lt;AuthorizedAgent&gt;false&lt;/AuthorizedAgent&gt;
                   &lt;EventCode&gt;AT&lt;/EventCode&gt;
                   &lt;/TrackSummary&gt;"

       test_server_host
           The testing API uses stg-production.shippingapis.com instead of the usual testing server.

</pre><h4><b>TO</b> <b>DO</b></h4><pre>
</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Business::US::USPS::WebTools

       The WebTools API is documented on the US Postal Service's website:

               https://www.usps.com/business/web-tools-apis/track-and-confirm-api.htm

</pre><h4><b>SOURCE</b> <b>AVAILABILITY</b></h4><pre>
       This source is in GitHub:

               https://github.com/ssimms/business-us-usps-webtools

</pre><h4><b>AUTHOR</b></h4><pre>
       brian d foy

</pre><h4><b>MAINTAINER</b></h4><pre>
       Steve Simms

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright © 2020, Steve Simms. All rights reserved.

       This  program  is free software; you can redistribute it and/or modify it under the terms of the Artistic
       License 2.0.

perl v5.36.0                                       2022-08-28             <u>Business::US::U...s::<a href="../man3pm/TrackConfirm.3pm.html">TrackConfirm</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>