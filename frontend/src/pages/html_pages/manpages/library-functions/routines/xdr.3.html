<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xdr - library routines for external data representation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       xdr - library routines for external data representation

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b> <b>AND</b> <b>DESCRIPTION</b></h4><pre>
       These  routines  allow  C  programmers  to  describe  arbitrary  data structures in a machine-independent
       fashion.  Data for remote procedure calls are transmitted using these routines.

       The prototypes below are declared in <u>&lt;rpc/xdr.h&gt;</u> and make use of the following types:

           <b>typedef</b> <b>int</b> <u>bool_t</u><b>;</b>

           <b>typedef</b> <b>bool_t</b> <b>(*</b><u>xdrproc_t</u><b>)(XDR</b> <b>*,</b> <b>void</b> <b>*,...);</b>

       For the declaration of the <u>XDR</u> type, see <u>&lt;rpc/xdr.h&gt;</u>.

       <b>bool_t</b> <b>xdr_array(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>char</b> <b>**</b><u>arrp</u><b>,</b> <b>unsigned</b> <b>int</b> <b>*</b><u>sizep</u><b>,</b>
                        <b>unsigned</b> <b>int</b> <u>maxsize</u><b>,</b> <b>unsigned</b> <b>int</b> <u>elsize</u><b>,</b>
                        <b>xdrproc_t</b> <u>elproc</u><b>);</b>

              A filter primitive that translates between variable-length arrays and their corresponding external
              representations.  The argument <u>arrp</u> is the address of the pointer to the array, while <u>sizep</u> is the
              address of the element count of the array; this element count cannot exceed <u>maxsize</u>.  The argument
              <u>elsize</u> is the <u>sizeof</u> each of the array's elements, and <u>elproc</u> is an  XDR  filter  that  translates
              between  the  array elements' C form, and their external representation.  This routine returns one
              if it succeeds, zero otherwise.

       <b>bool_t</b> <b>xdr_bool(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>bool_t</b> <b>*</b><u>bp</u><b>);</b>

              A  filter  primitive  that  translates  between  booleans  (C   integers)   and   their   external
              representations.   When  encoding  data,  this filter produces values of either one or zero.  This
              routine returns one if it succeeds, zero otherwise.

       <b>bool_t</b> <b>xdr_bytes(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>char</b> <b>**</b><u>sp</u><b>,</b> <b>unsigned</b> <b>int</b> <b>*</b><u>sizep</u><b>,</b>
                        <b>unsigned</b> <b>int</b> <u>maxsize</u><b>);</b>

              A  filter  primitive  that  translates  between  counted   byte   strings   and   their   external
              representations.   The argument <u>sp</u> is the address of the string pointer.  The length of the string
              is located at address <u>sizep</u>; strings cannot be longer than <u>maxsize</u>.  This routine returns  one  if
              it succeeds, zero otherwise.

       <b>bool_t</b> <b>xdr_char(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>char</b> <b>*</b><u>cp</u><b>);</b>

              A  filter primitive that translates between C characters and their external representations.  This
              routine returns one if it succeeds, zero otherwise.  Note: encoded characters are not packed,  and
              occupy  4  bytes  each.   For  arrays  of  characters,  it  is worthwhile to consider <b>xdr_bytes</b>(),
              <b>xdr_opaque</b>(), or <b>xdr_string</b>().

       <b>void</b> <b>xdr_destroy(XDR</b> <b>*</b><u>xdrs</u><b>);</b>

              A macro that invokes the destroy routine  associated  with  the  XDR  stream,  <u>xdrs</u>.   Destruction
              usually  involves  freeing  private  data structures associated with the stream.  Using <u>xdrs</u> after
              invoking <b>xdr_destroy</b>() is undefined.

       <b>bool_t</b> <b>xdr_double(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>double</b> <b>*</b><u>dp</u><b>);</b>

              A filter primitive  that  translates  between  C  <u>double</u>  precision  numbers  and  their  external
              representations.  This routine returns one if it succeeds, zero otherwise.

       <b>bool_t</b> <b>xdr_enum(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>enum_t</b> <b>*</b><u>ep</u><b>);</b>

              A  filter  primitive  that  translates  between  C  <u>enum</u>s  (actually  integers) and their external
              representations.  This routine returns one if it succeeds, zero otherwise.

       <b>bool_t</b> <b>xdr_float(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>float</b> <b>*</b><u>fp</u><b>);</b>

              A filter primitive that translates between C <u>float</u>s  and  their  external  representations.   This
              routine returns one if it succeeds, zero otherwise.

       <b>void</b> <b>xdr_free(xdrproc_t</b> <u>proc</u><b>,</b> <b>char</b> <b>*</b><u>objp</u><b>);</b>

              Generic  freeing  routine.  The first argument is the XDR routine for the object being freed.  The
              second argument is a pointer to the object itself.  Note: the pointer passed to  this  routine  is
              <u>not</u> freed, but what it points to <u>is</u> freed (recursively).

       <b>unsigned</b> <b>int</b> <b>xdr_getpos(XDR</b> <b>*</b><u>xdrs</u><b>);</b>

              A  macro  that invokes the get-position routine associated with the XDR stream, <u>xdrs</u>.  The routine
              returns an unsigned integer, which indicates the position of the XDR  byte  stream.   A  desirable
              feature  of  XDR streams is that simple arithmetic works with this number, although the XDR stream
              instances need not guarantee this.

       <b>long</b> <b>*xdr_inline(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>int</b> <u>len</u><b>);</b>

              A macro that invokes the inline routine associated with the XDR stream, <u>xdrs</u>.  The routine returns
              a pointer to a contiguous piece of the stream's buffer; <u>len</u> is the  byte  length  of  the  desired
              buffer.  Note: pointer is cast to <u>long</u> <u>*</u>.

              Warning:  <b>xdr_inline</b>()  may  return NULL (0) if it cannot allocate a contiguous piece of a buffer.
              Therefore the behavior may vary among stream instances; it exists for the sake of efficiency.

       <b>bool_t</b> <b>xdr_int(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>int</b> <b>*</b><u>ip</u><b>);</b>

              A filter primitive that translates between C integers and their  external  representations.   This
              routine returns one if it succeeds, zero otherwise.

       <b>bool_t</b> <b>xdr_long(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>long</b> <b>*</b><u>lp</u><b>);</b>

              A  filter  primitive  that  translates between C <u>long</u> integers and their external representations.
              This routine returns one if it succeeds, zero otherwise.

       <b>void</b> <b>xdrmem_create(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>char</b> <b>*</b><u>addr</u><b>,</b> <b>unsigned</b> <b>int</b> <u>size</u><b>,</b>
                          <b>enum</b> <b>xdr_op</b> <u>op</u><b>);</b>

              This routine initializes the XDR stream object pointed to by <u>xdrs</u>.  The stream's data  is  written
              to, or read from, a chunk of memory at location <u>addr</u> whose length is no more than <u>size</u> bytes long.
              The <u>op</u> determines the direction of the XDR stream (either <b>XDR_ENCODE</b>, <b>XDR_DECODE</b>, or <b>XDR_FREE</b>).

       <b>bool_t</b> <b>xdr_opaque(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>char</b> <b>*</b><u>cp</u><b>,</b> <b>unsigned</b> <b>int</b> <u>cnt</u><b>);</b>

              A filter primitive that translates between fixed size opaque data and its external representation.
              The  argument  <u>cp</u> is the address of the opaque object, and <u>cnt</u> is its size in bytes.  This routine
              returns one if it succeeds, zero otherwise.

       <b>bool_t</b> <b>xdr_pointer(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>char</b> <b>**</b><u>objpp</u><b>,</b>
                          <b>unsigned</b> <b>int</b> <u>objsize</u><b>,</b> <b>xdrproc_t</b> <u>xdrobj</u><b>);</b>

              Like <b>xdr_reference</b>() except that it serializes null pointers, whereas  <b>xdr_reference</b>()  does  not.
              Thus, <b>xdr_pointer</b>() can represent recursive data structures, such as binary trees or linked lists.

       <b>void</b> <b>xdrrec_create(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>unsigned</b> <b>int</b> <u>sendsize</u><b>,</b>
                          <b>unsigned</b> <b>int</b> <u>recvsize</u><b>,</b> <b>char</b> <b>*</b><u>handle</u><b>,</b>
                          <b>int</b> <b>(*</b><u>readit</u><b>)(char</b> <b>*,</b> <b>char</b> <b>*,</b> <b>int),</b>
                          <b>int</b> <b>(*</b><u>writeit</u><b>)(char</b> <b>*,</b> <b>char</b> <b>*,</b> <b>int));</b>

              This  routine  initializes the XDR stream object pointed to by <u>xdrs</u>.  The stream's data is written
              to a buffer of size <u>sendsize</u>; a value of zero indicates the system should use a suitable  default.
              The  stream's data is read from a buffer of size <u>recvsize</u>; it too can be set to a suitable default
              by passing a zero value.  When a stream's output buffer is full, <u>writeit</u>  is  called.   Similarly,
              when  a  stream's  input buffer is empty, <u>readit</u> is called.  The behavior of these two routines is
              similar to the system calls <b><a href="../man2/read.2.html">read</a></b>(2) and <b><a href="../man2/write.2.html">write</a></b>(2), except that  <u>handle</u>  is  passed  to  the  former
              routines as the first argument.  Note: the XDR stream's <u>op</u> field must be set by the caller.

              Warning:  to  read from an XDR stream created by this API, you'll need to call <b>xdrrec_skiprecord</b>()
              first before calling any other XDR APIs.  This inserts additional bytes in the stream  to  provide
              record  boundary  information.   Also, XDR streams created with different <b>xdr*_create</b> APIs are not
              compatible for the same reason.

       <b>bool_t</b> <b>xdrrec_endofrecord(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>int</b> <u>sendnow</u><b>);</b>

              This routine can be invoked only on streams created by <b>xdrrec_create</b>().  The data  in  the  output
              buffer is marked as a completed record, and the output buffer is optionally written out if <u>sendnow</u>
              is nonzero.  This routine returns one if it succeeds, zero otherwise.

       <b>bool_t</b> <b>xdrrec_eof(XDR</b> <b>*</b><u>xdrs</u><b>);</b>

              This  routine can be invoked only on streams created by <b>xdrrec_create</b>().  After consuming the rest
              of the current record in the stream, this routine returns one if the stream  has  no  more  input,
              zero otherwise.

       <b>bool_t</b> <b>xdrrec_skiprecord(XDR</b> <b>*</b><u>xdrs</u><b>);</b>

              This  routine  can  be  invoked  only  on  streams  created  by <b>xdrrec_create</b>().  It tells the XDR
              implementation that the rest of the  current  record  in  the  stream's  input  buffer  should  be
              discarded.  This routine returns one if it succeeds, zero otherwise.

       <b>bool_t</b> <b>xdr_reference(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>char</b> <b>**</b><u>pp</u><b>,</b> <b>unsigned</b> <b>int</b> <u>size</u><b>,</b>
                            <b>xdrproc_t</b> <u>proc</u><b>);</b>

              A  primitive  that  provides pointer chasing within structures.  The argument <u>pp</u> is the address of
              the pointer; <u>size</u> is the <u>sizeof</u> the structure that <u>*pp</u> points to; and <u>proc</u>  is  an  XDR  procedure
              that  filters  the  structure  between  its  C form and its external representation.  This routine
              returns one if it succeeds, zero otherwise.

              Warning: this routine does not understand null pointers.  Use <b>xdr_pointer</b>() instead.

       <b>xdr_setpos(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>unsigned</b> <b>int</b> <u>pos</u><b>);</b>

              A macro that invokes the set position routine associated with the XDR stream <u>xdrs</u>.   The  argument
              <u>pos</u>  is  a  position value obtained from <b>xdr_getpos</b>().  This routine returns one if the XDR stream
              could be repositioned, and zero otherwise.

              Warning: it is difficult to reposition some types of XDR streams, so this routine  may  fail  with
              one type of stream and succeed with another.

       <b>bool_t</b> <b>xdr_short(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>short</b> <b>*</b><u>sp</u><b>);</b>

              A  filter  primitive  that translates between C <u>short</u> integers and their external representations.
              This routine returns one if it succeeds, zero otherwise.

       <b>void</b> <b>xdrstdio_create(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>FILE</b> <b>*</b><u>file</u><b>,</b> <b>enum</b> <b>xdr_op</b> <u>op</u><b>);</b>

              This routine initializes the XDR stream object pointed to by <u>xdrs</u>.  The XDR stream data is written
              to, or read from, the <u>stdio</u> stream <u>file</u>.  The argument <u>op</u> determines  the  direction  of  the  XDR
              stream (either <b>XDR_ENCODE</b>, <b>XDR_DECODE</b>, or <b>XDR_FREE</b>).

              Warning:  the destroy routine associated with such XDR streams calls <b><a href="../man3/fflush.3.html">fflush</a></b>(3) on the <u>file</u> stream,
              but never <b><a href="../man3/fclose.3.html">fclose</a></b>(3).

       <b>bool_t</b> <b>xdr_string(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>char</b> <b>**</b><u>sp</u><b>,</b> <b>unsigned</b> <b>int</b> <u>maxsize</u><b>);</b>

              A  filter  primitive  that  translates  between  C  strings  and  their   corresponding   external
              representations.   Strings cannot be longer than <u>maxsize</u>.  Note: <u>sp</u> is the address of the string's
              pointer.  This routine returns one if it succeeds, zero otherwise.

       <b>bool_t</b> <b>xdr_u_char(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>unsigned</b> <b>char</b> <b>*</b><u>ucp</u><b>);</b>

              A  filter  primitive  that  translates  between  <u>unsigned</u>  C   characters   and   their   external
              representations.  This routine returns one if it succeeds, zero otherwise.

       <b>bool_t</b> <b>xdr_u_int(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>unsigned</b> <b>int</b> <b>*</b><u>up</u><b>);</b>

              A filter primitive that translates between C <u>unsigned</u> integers and their external representations.
              This routine returns one if it succeeds, zero otherwise.

       <b>bool_t</b> <b>xdr_u_long(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>unsigned</b> <b>long</b> <b>*</b><u>ulp</u><b>);</b>

              A  filter  primitive  that  translates  between  C  <u>unsigned</u>  <u>long</u>  integers  and  their  external
              representations.  This routine returns one if it succeeds, zero otherwise.

       <b>bool_t</b> <b>xdr_u_short(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>unsigned</b> <b>short</b> <b>*</b><u>usp</u><b>);</b>

              A filter  primitive  that  translates  between  C  <u>unsigned</u>  <u>short</u>  integers  and  their  external
              representations.  This routine returns one if it succeeds, zero otherwise.

       <b>bool_t</b> <b>xdr_union(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>enum_t</b> <b>*</b><u>dscmp</u><b>,</b> <b>char</b> <b>*</b><u>unp</u><b>,</b>
                        <b>const</b> <b>struct</b> <b>xdr_discrim</b> <b>*</b><u>choices</u><b>,</b>
                        <b>xdrproc_t</b> <u>defaultarm</u><b>);</b>     <b>/*</b> <b>may</b> <b>equal</b> <b>NULL</b> <b>*/</b>

              A  filter primitive that translates between a discriminated C <u>union</u> and its corresponding external
              representation.  It first translates the  discriminant  of  the  union  located  at  <u>dscmp</u>.   This
              discriminant  is  always  an  <u>enum_t</u>.   Next the union located at <u>unp</u> is translated.  The argument
              <u>choices</u> is a pointer to an array of <b>xdr_discrim</b>() structures.  Each structure contains an  ordered
              pair of [<u>value</u>,<u>proc</u>].  If the union's discriminant is equal to the associated <u>value</u>, then the <u>proc</u>
              is  called  to  translate the union.  The end of the <b>xdr_discrim</b>() structure array is denoted by a
              routine of value NULL.  If the discriminant is not found in the <u>choices</u> array, then the <u>defaultarm</u>
              procedure is called (if it is not NULL).  Returns one if it succeeds, zero otherwise.

       <b>bool_t</b> <b>xdr_vector(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>char</b> <b>*</b><u>arrp</u><b>,</b> <b>unsigned</b> <b>int</b> <u>size</u><b>,</b>
                         <b>unsigned</b> <b>int</b> <u>elsize</u><b>,</b> <b>xdrproc_t</b> <u>elproc</u><b>);</b>

              A filter primitive that translates between fixed-length arrays and  their  corresponding  external
              representations.   The argument <u>arrp</u> is the address of the pointer to the array, while <u>size</u> is the
              element count of the array.  The argument <u>elsize</u> is the <u>sizeof</u> each of the array's  elements,  and
              <u>elproc</u>  is  an  XDR  filter that translates between the array elements' C form, and their external
              representation.  This routine returns one if it succeeds, zero otherwise.

       <b>bool_t</b> <b>xdr_void(void);</b>

              This routine always returns one.  It may be  passed  to  RPC  routines  that  require  a  function
              argument, where nothing is to be done.

       <b>bool_t</b> <b>xdr_wrapstring(XDR</b> <b>*</b><u>xdrs</u><b>,</b> <b>char</b> <b>**</b><u>sp</u><b>);</b>

              A  primitive  that calls <b>xdr_string(xdrs,</b> <b>sp,MAXUN.UNSIGNED</b> <b>);</b> where <b>MAXUN.UNSIGNED</b> is the maximum
              value of an unsigned integer.  <b>xdr_wrapstring</b>() is handy because the RPC package passes a  maximum
              of  two  XDR  routines as arguments, and <b>xdr_string</b>(), one of the most frequently used primitives,
              requires three.  Returns one if it succeeds, zero otherwise.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       For an explanation of the terms used in this section, see <b><a href="../man7/attributes.7.html">attributes</a></b>(7).
       ┌─────────────────────────────────────────────────────────────────────────────┬───────────────┬─────────┐
       │ <b>Interface</b>                                                                   │ <b>Attribute</b>     │ <b>Value</b>   │
       ├─────────────────────────────────────────────────────────────────────────────┼───────────────┼─────────┤
       │ <b>xdr_array</b>(), <b>xdr_bool</b>(), <b>xdr_bytes</b>(), <b>xdr_char</b>(), <b>xdr_destroy</b>(),            │ Thread safety │ MT-Safe │
       │ <b>xdr_double</b>(), <b>xdr_enum</b>(), <b>xdr_float</b>(), <b>xdr_free</b>(), <b>xdr_getpos</b>(),            │               │         │
       │ <b>xdr_inline</b>(), <b>xdr_int</b>(), <b>xdr_long</b>(), <b>xdrmem_create</b>(), <b>xdr_opaque</b>(),         │               │         │
       │ <b>xdr_pointer</b>(), <b>xdrrec_create</b>(), <b>xdrrec_eof</b>(), <b>xdrrec_endofrecord</b>(),         │               │         │
       │ <b>xdrrec_skiprecord</b>(), <b>xdr_reference</b>(), <b>xdr_setpos</b>(), <b>xdr_short</b>(),            │               │         │
       │ <b>xdrstdio_create</b>(), <b>xdr_string</b>(), <b>xdr_u_char</b>(), <b>xdr_u_int</b>(), <b>xdr_u_long</b>(),   │               │         │
       │ <b>xdr_u_short</b>(), <b>xdr_union</b>(), <b>xdr_vector</b>(), <b>xdr_void</b>(), <b>xdr_wrapstring</b>()      │               │         │
       └─────────────────────────────────────────────────────────────────────────────┴───────────────┴─────────┘

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/rpc.3.html">rpc</a></b>(3)

       The following manuals:
              eXternal Data Representation Standard: Protocol Specification
              eXternal Data Representation: Sun Technical Notes
              <u>XDR:</u> <u>External</u> <u>Data</u> <u>Representation</u> <u>Standard</u>, RFC 1014, Sun Microsystems, Inc., USC-ISI.

Linux man-pages 6.9.1                              2024-05-02                                             <u><a href="../man3/xdr.3.html">xdr</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>