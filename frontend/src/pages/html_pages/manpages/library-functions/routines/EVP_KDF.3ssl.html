<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVP_KDF, EVP_KDF_fetch, EVP_KDF_free, EVP_KDF_up_ref, EVP_KDF_CTX, EVP_KDF_CTX_new, EVP_KDF_CTX_free,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       EVP_KDF, EVP_KDF_fetch, EVP_KDF_free, EVP_KDF_up_ref, EVP_KDF_CTX, EVP_KDF_CTX_new, EVP_KDF_CTX_free,
       EVP_KDF_CTX_dup, EVP_KDF_CTX_reset, EVP_KDF_derive, EVP_KDF_CTX_get_kdf_size, EVP_KDF_get0_provider,
       EVP_KDF_CTX_kdf, EVP_KDF_is_a, EVP_KDF_get0_name, EVP_KDF_names_do_all, EVP_KDF_get0_description,
       EVP_KDF_CTX_get_params, EVP_KDF_CTX_set_params, EVP_KDF_do_all_provided, EVP_KDF_get_params,
       EVP_KDF_gettable_params, EVP_KDF_gettable_ctx_params, EVP_KDF_settable_ctx_params,
       EVP_KDF_CTX_gettable_params, EVP_KDF_CTX_settable_params - EVP KDF routines

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/kdf.h&gt;

        typedef struct evp_kdf_st EVP_KDF;
        typedef struct evp_kdf_ctx_st EVP_KDF_CTX;

        EVP_KDF_CTX *EVP_KDF_CTX_new(EVP_KDF *kdf);
        const EVP_KDF *EVP_KDF_CTX_kdf(EVP_KDF_CTX *ctx);
        void EVP_KDF_CTX_free(EVP_KDF_CTX *ctx);
        EVP_KDF_CTX *EVP_KDF_CTX_dup(const EVP_KDF_CTX *src);
        void EVP_KDF_CTX_reset(EVP_KDF_CTX *ctx);
        size_t EVP_KDF_CTX_get_kdf_size(EVP_KDF_CTX *ctx);
        int EVP_KDF_derive(EVP_KDF_CTX *ctx, unsigned char *key, size_t keylen,
                           const OSSL_PARAM params[]);
        int EVP_KDF_up_ref(EVP_KDF *kdf);
        void EVP_KDF_free(EVP_KDF *kdf);
        EVP_KDF *EVP_KDF_fetch(OSSL_LIB_CTX *libctx, const char *algorithm,
                               const char *properties);
        int EVP_KDF_is_a(const EVP_KDF *kdf, const char *name);
        const char *EVP_KDF_get0_name(const EVP_KDF *kdf);
        const char *EVP_KDF_get0_description(const EVP_KDF *kdf);
        const OSSL_PROVIDER *EVP_KDF_get0_provider(const EVP_KDF *kdf);
        void EVP_KDF_do_all_provided(OSSL_LIB_CTX *libctx,
                                     void (*fn)(EVP_KDF *kdf, void *arg),
                                     void *arg);
        int EVP_KDF_names_do_all(const EVP_KDF *kdf,
                                 void (*fn)(const char *name, void *data),
                                 void *data);
        int EVP_KDF_get_params(EVP_KDF *kdf, OSSL_PARAM params[]);
        int EVP_KDF_CTX_get_params(EVP_KDF_CTX *ctx, OSSL_PARAM params[]);
        int EVP_KDF_CTX_set_params(EVP_KDF_CTX *ctx, const OSSL_PARAM params[]);
        const OSSL_PARAM *EVP_KDF_gettable_params(const EVP_KDF *kdf);
        const OSSL_PARAM *EVP_KDF_gettable_ctx_params(const EVP_KDF *kdf);
        const OSSL_PARAM *EVP_KDF_settable_ctx_params(const EVP_KDF *kdf);
        const OSSL_PARAM *EVP_KDF_CTX_gettable_params(const EVP_KDF *kdf);
        const OSSL_PARAM *EVP_KDF_CTX_settable_params(const EVP_KDF *kdf);
        const OSSL_PROVIDER *EVP_KDF_get0_provider(const EVP_KDF *kdf);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The EVP KDF routines are a high-level interface to Key Derivation Function algorithms and should be used
       instead of algorithm-specific functions.

       After creating a <b>EVP_KDF_CTX</b> for the required algorithm using <b>EVP_KDF_CTX_new()</b>, inputs to the algorithm
       are supplied either by passing them as part of the <b>EVP_KDF_derive()</b> call or using calls to
       <b>EVP_KDF_CTX_set_params()</b> before calling <b>EVP_KDF_derive()</b> to derive the key.

   <b>Types</b>
       <b>EVP_KDF</b> is a type that holds the implementation of a KDF.

       <b>EVP_KDF_CTX</b> is a context type that holds the algorithm inputs.

   <b>Algorithm</b> <b>implementation</b> <b>fetching</b>
       <b>EVP_KDF_fetch()</b> fetches an implementation of a KDF <u>algorithm</u>, given a library context <u>libctx</u> and a set of
       <u>properties</u>.  See "ALGORITHM FETCHING" in <b><a href="../man7/crypto.7.html">crypto</a></b>(7) for further information.

       See "Key Derivation Function (KDF)" in <b><a href="../man7/OSSL_PROVIDER-default.7.html">OSSL_PROVIDER-default</a></b>(7) for the lists of algorithms supported by
       the default provider.

       The returned value must eventually be freed with <b><a href="../man3/EVP_KDF_free.3.html">EVP_KDF_free</a></b>(3).

       <b>EVP_KDF_up_ref()</b> increments the reference count of an already fetched KDF.

       <b>EVP_KDF_free()</b> frees a fetched algorithm.  NULL is a valid parameter, for which this function is a no-op.

   <b>Context</b> <b>manipulation</b> <b>functions</b>
       <b>EVP_KDF_CTX_new()</b> creates a new context for the KDF implementation <u>kdf</u>.

       <b>EVP_KDF_CTX_free()</b> frees up the context <u>ctx</u>.  If <u>ctx</u> is NULL, nothing is done.

       <b>EVP_KDF_CTX_kdf()</b> returns the <b>EVP_KDF</b> associated with the context <u>ctx</u>.

   <b>Computing</b> <b>functions</b>
       <b>EVP_KDF_CTX_reset()</b> resets the context to the default state as if the context had just been created.

       <b>EVP_KDF_derive()</b> processes any parameters in <u>Params</u> and then derives <u>keylen</u> bytes of key material and
       places it in the <u>key</u> buffer.  If the algorithm produces a fixed amount of output then an error will occur
       unless the <u>keylen</u> parameter is equal to that output size, as returned by <b>EVP_KDF_CTX_get_kdf_size()</b>.

       <b>EVP_KDF_get_params()</b> retrieves details about the implementation <u>kdf</u>.  The set of parameters given with
       <u>params</u> determine exactly what parameters should be retrieved.  Note that a parameter that is unknown in
       the underlying context is simply ignored.

       <b>EVP_KDF_CTX_get_params()</b> retrieves chosen parameters, given the context <u>ctx</u> and its underlying context.
       The set of parameters given with <u>params</u> determine exactly what parameters should be retrieved.  Note that
       a parameter that is unknown in the underlying context is simply ignored.

       <b>EVP_KDF_CTX_set_params()</b> passes chosen parameters to the underlying context, given a context <u>ctx</u>.  The
       set of parameters given with <u>params</u> determine exactly what parameters are passed down.  Note that a
       parameter that is unknown in the underlying context is simply ignored.  Also, what happens when a needed
       parameter isn't passed down is defined by the implementation.

       <b>EVP_KDF_gettable_params()</b> returns an <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3) array that describes the retrievable and settable
       parameters.  <b>EVP_KDF_gettable_params()</b> returns parameters that can be used with <b>EVP_KDF_get_params()</b>.

       <b>EVP_KDF_gettable_ctx_params()</b> and <b>EVP_KDF_CTX_gettable_params()</b> return constant <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3) arrays that
       describe the retrievable parameters that can be used with <b>EVP_KDF_CTX_get_params()</b>.
       <b>EVP_KDF_gettable_ctx_params()</b> returns the parameters that can be retrieved from the algorithm, whereas
       <b>EVP_KDF_CTX_gettable_params()</b> returns the parameters that can be retrieved in the context's current
       state.

       <b>EVP_KDF_settable_ctx_params()</b> and <b>EVP_KDF_CTX_settable_params()</b> return constant <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3) arrays that
       describe the settable parameters that can be used with <b>EVP_KDF_CTX_set_params()</b>.
       <b>EVP_KDF_settable_ctx_params()</b> returns the parameters that can be retrieved from the algorithm, whereas
       <b>EVP_KDF_CTX_settable_params()</b> returns the parameters that can be retrieved in the context's current
       state.

   <b>Information</b> <b>functions</b>
       <b>EVP_KDF_CTX_get_kdf_size()</b> returns the output size if the algorithm produces a fixed amount of output and
       <b>SIZE_MAX</b> otherwise.  If an error occurs then 0 is returned.  For some algorithms an error may result if
       input parameters necessary to calculate a fixed output size have not yet been supplied.

       <b>EVP_KDF_is_a()</b> returns 1 if <u>kdf</u> is an implementation of an algorithm that's identifiable with <u>name</u>,
       otherwise 0.

       <b>EVP_KDF_get0_provider()</b> returns the provider that holds the implementation of the given <u>kdf</u>.

       <b>EVP_KDF_do_all_provided()</b> traverses all KDF implemented by all activated providers in the given library
       context <u>libctx</u>, and for each of the implementations, calls the given function <u>fn</u> with the implementation
       method and the given <u>arg</u> as argument.

       <b>EVP_KDF_get0_name()</b> return the name of the given KDF.  For fetched KDFs with multiple names, only one of
       them is returned; it's recommended to use <b>EVP_KDF_names_do_all()</b> instead.

       <b>EVP_KDF_names_do_all()</b> traverses all names for <u>kdf</u>, and calls <u>fn</u> with each name and <u>data</u>.

       <b>EVP_KDF_get0_description()</b> returns a description of the <u>kdf</u>, meant for display and human consumption.
       The description is at the discretion of the <u>kdf</u> implementation.

</pre><h4><b>PARAMETERS</b></h4><pre>
       The standard parameter names are:

       "pass" (<b>OSSL_KDF_PARAM_PASSWORD</b>) &lt;octet string&gt;
           Some  KDF  implementations  require  a password.  For those KDF implementations that support it, this
           parameter sets the password.

       "salt" (<b>OSSL_KDF_PARAM_SALT</b>) &lt;octet string&gt;
           Some  KDF  implementations  can  take  a  non-secret  unique  cryptographic  salt.   For  those   KDF
           implementations that support it, this parameter sets the salt.

           The default value, if any, is implementation dependent.

       "iter" (<b>OSSL_KDF_PARAM_ITER</b>) &lt;unsigned integer&gt;
           Some  KDF implementations require an iteration count.  For those KDF implementations that support it,
           this parameter sets the iteration count.

           The default value, if any, is implementation dependent.

       "properties" (<b>OSSL_KDF_PARAM_PROPERTIES</b>) &lt;UTF8 string&gt;
       "mac" (<b>OSSL_KDF_PARAM_MAC</b>) &lt;UTF8 string&gt;
       "digest" (<b>OSSL_KDF_PARAM_DIGEST</b>) &lt;UTF8 string&gt;
       "cipher" (<b>OSSL_KDF_PARAM_CIPHER</b>) &lt;UTF8 string&gt;
           For KDF implementations that use an underlying computation MAC, digest or  cipher,  these  parameters
           set what the algorithm should be.

           The value is always the name of the intended algorithm, or the properties.

           Note that not all algorithms may support all possible underlying implementations.

       "key" (<b>OSSL_KDF_PARAM_KEY</b>) &lt;octet string&gt;
           Some  KDF  implementations  require a key.  For those KDF implementations that support it, this octet
           string parameter sets the key.

       "info" (<b>OSSL_KDF_PARAM_INFO</b>) &lt;octet string&gt;
           Some KDF implementations, such as <b><a href="../man7/EVP_KDF-HKDF.7.html">EVP_KDF-HKDF</a></b>(7), take an 'info' parameter for binding  the  derived
           key  material  to application- and context-specific information.  This parameter sets the info, fixed
           info, other info or shared info argument.  You can specify this parameter multiple  times,  and  each
           instance will be concatenated to form the final value.

       "maclen" (<b>OSSL_KDF_PARAM_MAC_SIZE</b>) &lt;unsigned integer&gt;
           Used  by  implementations  that  use  a  MAC  with  a  variable  output  size  (KMAC).  For those KDF
           implementations that support it, this parameter sets the MAC output size.

           The default value, if any, is implementation dependent.  The length must never  exceed  what  can  be
           given with a <b>size_t</b>.

       "maxmem_bytes" (<b>OSSL_KDF_PARAM_SCRYPT_MAXMEM</b>) &lt;unsigned integer&gt;
           Memory-hard  password-based  KDF  algorithms, such as scrypt, use an amount of memory that depends on
           the load factors provided as input.  For those KDF implementations that  support  it,  this  <b>uint64_t</b>
           parameter  sets  an  upper  limit on the amount of memory that may be consumed while performing a key
           derivation.  If this memory usage limit is exceeded because the load factors are chosen too high, the
           key derivation will fail.

           The default value is implementation dependent.  The memory size must never exceed what can  be  given
           with a <b>size_t</b>.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>EVP_KDF_fetch()</b> returns a pointer to a newly fetched <b>EVP_KDF</b>, or NULL if allocation failed.

       <b>EVP_KDF_get0_provider()</b> returns a pointer to the provider for the KDF, or NULL on error.

       <b>EVP_KDF_up_ref()</b> returns 1 on success, 0 on error.

       <b>EVP_KDF_CTX_new()</b> returns either the newly allocated <b>EVP_KDF_CTX</b> structure or NULL if an error occurred.

       <b>EVP_KDF_CTX_free()</b> and <b>EVP_KDF_CTX_reset()</b> do not return a value.

       <b>EVP_KDF_CTX_get_kdf_size()</b>  returns the output size.  <b>SIZE_MAX</b> is returned to indicate that the algorithm
       produces a variable amount of output; 0 to indicate failure.

       <b>EVP_KDF_get0_name()</b> returns the name of the KDF, or NULL on error.

       <b>EVP_KDF_names_do_all()</b> returns 1 if the callback was called for all names. A return value of 0 means that
       the callback was not called for any names.

       The remaining functions return 1 for success and 0 for failure.

</pre><h4><b>NOTES</b></h4><pre>
       The KDF life-cycle is described in <b><a href="../man7/life_cycle-kdf.7.html">life_cycle-kdf</a></b>(7).  In the future,  the  transitions  described  there
       will be enforced.  When this is done, it will not be considered a breaking change to the API.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       "Key Derivation Function (KDF)" in <b><a href="../man7/OSSL_PROVIDER-default.7.html">OSSL_PROVIDER-default</a></b>(7), <b><a href="../man7/life_cycle-kdf.7.html">life_cycle-kdf</a></b>(7).

</pre><h4><b>HISTORY</b></h4><pre>
       This functionality was added in OpenSSL 3.0.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2019-2024 The OpenSSL Project Authors. All Rights Reserved.

       Licensed  under  the  Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain  a  copy  in  the  file  LICENSE  in  the  source  distribution  or  at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                                      <u><a href="../man3SSL/EVP_KDF.3SSL.html">EVP_KDF</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>