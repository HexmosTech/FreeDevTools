<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ldap_bind,   ldap_bind_s,   ldap_simple_bind,   ldap_simple_bind_s,   ldap_sasl_bind,   ldap_sasl_bind_s,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libldap-dev">libldap-dev_2.6.9+dfsg-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ldap_bind,   ldap_bind_s,   ldap_simple_bind,   ldap_simple_bind_s,   ldap_sasl_bind,   ldap_sasl_bind_s,
       ldap_sasl_interactive_bind_s, ldap_parse_sasl_bind_result, ldap_unbind,  ldap_unbind_s,  ldap_unbind_ext,
       ldap_unbind_ext_s, ldap_set_rebind_proc - LDAP bind routines

</pre><h4><b>LIBRARY</b></h4><pre>
       OpenLDAP LDAP (libldap, -lldap)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;ldap.h&gt;</b>

       <b>int</b> <b>ldap_bind(LDAP</b> <b>*</b><u>ld</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>who</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>cred</u><b>,</b>
              <b>int</b> <u>method</u><b>);</b>

       <b>int</b> <b>ldap_bind_s(LDAP</b> <b>*</b><u>ld</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>who</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>cred</u><b>,</b>
              <b>int</b> <u>method</u><b>);</b>

       <b>int</b> <b>ldap_simple_bind(LDAP</b> <b>*</b><u>ld</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>who</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>passwd</u><b>);</b>

       <b>int</b> <b>ldap_simple_bind_s(LDAP</b> <b>*</b><u>ld</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>who</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>passwd</u><b>);</b>

       <b>int</b> <b>ldap_sasl_bind(LDAP</b> <b>*</b><u>ld</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>dn</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>mechanism</u><b>,</b>
              <b>struct</b> <b>berval</b> <b>*</b><u>cred</u><b>,</b> <b>LDAPControl</b> <b>*</b><u>sctrls</u><b>[],</b>
              <b>LDAPControl</b> <b>*</b><u>cctrls</u><b>[],</b> <b>int</b> <b>*</b><u>msgidp</u><b>);</b>

       <b>int</b> <b>ldap_sasl_bind_s(LDAP</b> <b>*</b><u>ld</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>dn</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>mechanism</u><b>,</b>
              <b>struct</b> <b>berval</b> <b>*</b><u>cred</u><b>,</b> <b>LDAPControl</b> <b>*</b><u>sctrls</u><b>[],</b>
              <b>LDAPControl</b> <b>*</b><u>cctrls</u><b>[],</b> <b>struct</b> <b>berval</b> <b>**</b><u>servercredp</u><b>);</b>

       <b>int</b> <b>ldap_parse_sasl_bind_result(LDAP</b> <b>*</b><u>ld</u><b>,</b> <b>LDAPMessage</b> <b>*</b><u>res</u><b>,</b>
              <b>struct</b> <b>berval</b> <b>**</b><u>servercredp</u><b>,</b> <b>int</b> <u>freeit</u><b>);</b>

       <b>int</b> <b>ldap_sasl_interactive_bind_s(LDAP</b> <b>*</b><u>ld</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>dn</u><b>,</b>
              <b>const</b> <b>char</b> <b>*</b><u>mechs</u><b>,</b>
              <b>LDAPControl</b> <b>*</b><u>sctrls</u><b>[],</b> <b>LDAPControl</b> <b>*</b><u>cctrls</u><b>[],</b>
              <b>unsigned</b> <u>flags</u><b>,</b> <b>LDAP_SASL_INTERACT_PROC</b> <b>*</b><u>interact</u><b>,</b>
              <b>void</b> <b>*</b><u>defaults</u><b>);</b>

       <b>int</b> <b>ldap_sasl_interactive_bind(LDAP</b> <b>*</b><u>ld</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>dn</u><b>,</b>
              <b>const</b> <b>char</b> <b>*</b><u>mechs</u><b>,</b>
              <b>LDAPControl</b> <b>*</b><u>sctrls</u><b>[],</b> <b>LDAPControl</b> <b>*</b><u>cctrls</u><b>[],</b>
              <b>unsigned</b> <u>flags</u><b>,</b> <b>LDAP_SASL_INTERACT_PROC</b> <b>*</b><u>interact</u><b>,</b>
              <b>void</b> <b>*</b><u>defaults</u><b>,</b> <b>LDAPMessage</b> <b>*</b><u>result</u><b>,</b>
              <b>const</b> <b>char</b> <b>**</b><u>rmechp</u><b>,</b> <b>int</b> <b>*</b><u>msgidp</u><b>);</b>

       <b>int</b> <b>(LDAP_SASL_INTERACT_PROC)(LDAP</b> <b>*</b><u>ld</u><b>,</b> <b>unsigned</b> <u>flags</u><b>,</b> <b>void</b> <b>*</b><u>defaults</u><b>,</b> <b>void</b> <b>*</b><u>sasl_interact</u><b>);</b>

       <b>int</b> <b>ldap_unbind(LDAP</b> <b>*</b><u>ld</u><b>);</b>

       <b>int</b> <b>ldap_unbind_s(LDAP</b> <b>*</b><u>ld</u><b>);</b>

       <b>int</b> <b>ldap_unbind_ext(LDAP</b> <b>*</b><u>ld</u><b>,</b> <b>LDAPControl</b> <b>*</b><u>sctrls</u><b>[],</b>
              <b>LDAPControl</b> <b>*</b><u>cctrls</u><b>[]);</b>

       <b>int</b> <b>ldap_unbind_ext_s(LDAP</b> <b>*</b><u>ld</u><b>,</b> <b>LDAPControl</b> <b>*</b><u>sctrls</u><b>[],</b>
              <b>LDAPControl</b> <b>*</b><u>cctrls</u><b>[]);</b>

       <b>int</b> <b>ldap_set_rebind_proc</b> <b>(LDAP</b> <b>*</b><u>ld</u><b>,</b> <b>LDAP_REBIND_PROC</b> <b>*</b><u>ldap_proc</u><b>,</b> <b>void</b> <b>*</b><u>params</u><b>);</b>

       <b>int</b> <b>(LDAP_REBIND_PROC)(LDAP</b> <b>*</b><u>ld</u><b>,</b> <b>LDAP_CONST</b> <b>char</b> <b>*</b><u>url</u><b>,</b> <b>ber_tag_t</b> <u>request</u><b>,</b> <b>ber_int_t</b> <u>msgid</u><b>,</b> <b>void</b> <b>*</b><u>params</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These  routines provide various interfaces to the LDAP bind operation.  After an association with an LDAP
       server is made using <b><a href="../man3/ldap_init.3.html">ldap_init</a></b>(3), an LDAP bind operation should be performed before other operations are
       attempted over the connection.  An LDAP bind is required when using Version 2 of the LDAP protocol; it is
       optional for Version 3 but is usually needed due to security considerations.

       There are three  types  of  bind  calls,  ones  providing  simple  authentication,  ones  providing  SASL
       authentication, and general routines capable of doing either simple or SASL authentication.

       <b>SASL</b>  (Simple  Authentication  and  Security  Layer)  can  negotiate  one  of  many  different  kinds  of
       authentication.  Both synchronous and asynchronous  versions  of  each  variant  of  the  bind  call  are
       provided.  All routines take <u>ld</u> as their first parameter, as returned from <b><a href="../man3/ldap_init.3.html">ldap_init</a></b>(3).

</pre><h4><b>SIMPLE</b> <b>AUTHENTICATION</b></h4><pre>
       The  simplest  form of the bind call is <b>ldap_simple_bind_s()</b>.  It takes the DN to bind as in <u>who</u>, and the
       userPassword  associated  with  the  entry  in  <u>passwd</u>.   It  returns  an  LDAP  error  indication   (see
       <b><a href="../man3/ldap_error.3.html">ldap_error</a></b>(3)).   The  <b>ldap_simple_bind()</b>  call  is  asynchronous,  taking  the  same parameters but only
       initiating the bind operation and returning the message id of the request it sent.   The  result  of  the
       operation  can  be  obtained  by  a  subsequent  call  to  <b><a href="../man3/ldap_result.3.html">ldap_result</a></b>(3).   The  <b>ldap_sasl_bind_s()</b>  and
       asynchronous <b>ldap_sasl_bind()</b> functions can also be used to make a simple bind by using  LDAP_SASL_SIMPLE
       as the SASL mechanism.

</pre><h4><b>GENERAL</b> <b>AUTHENTICATION</b></h4><pre>
       The  <b>ldap_bind()</b> and <b>ldap_bind_s()</b> routines can be used when the authentication method to use needs to be
       selected at runtime.  They both take an extra <u>method</u> parameter selecting  the  authentication  method  to
       use.   It  should  be  set  to LDAP_AUTH_SIMPLE to select simple authentication.  <b>ldap_bind()</b> returns the
       message id of the request it initiates.  <b>ldap_bind_s()</b> returns an LDAP error indication.

</pre><h4><b>SASL</b> <b>AUTHENTICATION</b></h4><pre>
       For SASL binds the server always ignores any provided DN, so the <u>dn</u>  parameter  should  always  be  NULL.
       <b>ldap_sasl_bind_s</b>()  sends a single SASL bind request with the given SASL <u>mechanism</u> and credentials in the
       <u>cred</u> parameter. The format of the credentials depends on  the  particular  SASL  mechanism  in  use.  For
       mechanisms  that  provide  mutual  authentication  the  server's  credentials  will  be  returned  in the
       <u>servercredp</u>  parameter.   The  routine  returns  an  LDAP  error  indication  (see  <b><a href="../man3/ldap_error.3.html">ldap_error</a></b>(3)).   The
       <b>ldap_sasl_bind</b>()  call  is  asynchronous,  taking  the  same  parameters but only sending the request and
       returning the message id of the request it sent. The result  of  the  operation  can  be  obtained  by  a
       subsequent    call    to    <b><a href="../man3/ldap_result.3.html">ldap_result</a></b>(3).     The    result    must    be    additionally   parsed   by
       <b>ldap_parse_sasl_bind_result</b>() to obtain any server credentials sent from the server.

       Any returned server credentials should be freed using <b>ber_bvfree</b>().

       Many  SASL  mechanisms  require  multiple  message  exchanges  to  perform  a  complete   authentication.
       Applications   should   generally  use  <b>ldap_sasl_interactive_bind_s</b>()  rather  than  calling  the  basic
       <b>ldap_sasl_bind</b>() functions directly. The  <u>mechs</u>  parameter  should  contain  a  space-separated  list  of
       candidate  mechanisms  to  use.  If  this  parameter  is  NULL  or  empty  the  library  will  query  the
       supportedSASLMechanisms attribute from the server's rootDSE for the list of SASL  mechanisms  the  server
       supports. The <u>flags</u> parameter controls the interaction used to retrieve any necessary SASL authentication
       parameters and should be one of:

       LDAP_SASL_AUTOMATIC
              use defaults if available, prompt otherwise

       LDAP_SASL_INTERACTIVE
              always prompt

       LDAP_SASL_QUIET
              never prompt

       The  <u>interact</u> function uses the provided <u>defaults</u> to handle requests from the SASL library for particular
       authentication parameters. There is no defined format for the <u>defaults</u>  information;  it  is  up  to  the
       caller  to  use  whatever  format  is  appropriate for the supplied <u>interact</u> function.  The <u>sasl_interact</u>
       parameter comes from the underlying SASL library.  When  used  with  Cyrus  SASL  this  is  an  array  of
       <b>sasl_interact_t</b> structures. The Cyrus SASL library will prompt for a variety of inputs, including:

       SASL_CB_GETREALM
              the realm for the authentication attempt

       SASL_CB_AUTHNAME
              the username to authenticate

       SASL_CB_PASS
              the password for the provided username

       SASL_CB_USER
              the username to use for proxy authorization

       SASL_CB_NOECHOPROMPT
              generic prompt for input with input echoing disabled

       SASL_CB_ECHOPROMPT
              generic prompt for input with input echoing enabled

       SASL_CB_LIST_END
              indicates the end of the array of prompts

       See the Cyrus SASL documentation for more details.

       Applications which need to manage connections asynchronously may use <b>ldap_sasl_interactive_bind</b>() instead
       of  the  synchronous  version.   A  valid mechs parameter must be supplied, otherwise the library will be
       forced to query the server for a  list  of  supported  mechanisms,  and  this  query  will  be  performed
       synchronously.   The other parameters are the same as for the synchronous function, with three additional
       parameters.  The actual SASL mechanism that was used, and the message ID for use with <b>ldap_result</b>()  will
       be  returned  in rmechp and msgidp, respectively.  The value in rmechp must not be modified by the caller
       and must be passed back on each subsequent call. The message obtained from <b>ldap_result</b>() must  be  passed
       in  the  result  parameter.  This parameter must be NULL when initiating a new Bind. The caller must free
       the result message after each  call  using  <b>ldap_msgfree</b>().   The  <b>ldap_sasl_interactive_bind</b>()  function
       returns an LDAP result code. If the code is LDAP_SASL_BIND_IN_PROGRESS then the Bind is not complete yet,
       and this function must be called again with the next result from the server.

</pre><h4><b>REBINDING</b></h4><pre>
       The  <b>ldap_set_rebind_proc</b>  function()  sets  the  process  to use for binding when an operation returns a
       referral. This function is used when an application needs to bind to another server in order to follow  a
       referral or search continuation reference.

       The  function  takes  <u>ld</u>,  the <u>rebind</u> function, and the <u>params</u>, the arbitrary data like state information
       which the client might need to properly rebind.  The LDAP_OPT_REFERRALS option in the <u>ld</u> must be  set  to
       ON for the libraries to use the rebind function. Use the <b>ldap_set_option</b> function to set the value.

       The rebind function parameters are as follows:

       The  <u>ld</u>  parameter must be used by the application when binding to the referred server if the application
       wants the libraries to follow the referral.

       The <u>url</u> parameter points to the URL referral string received from the LDAP server.  The LDAP  application
       can use the <b><a href="../man3/ldap_url_parse.3.html">ldap_url_parse</a></b>(3) function to parse the string into its components.

       The <u>request</u> parameter specifies the type of request that generated the referral.

       The <u>msgid</u> parameter specifies the message ID of the request generating the referral.

       The <u>params</u> parameter is the same value as passed originally to the <b>ldap_set_rebind_proc</b>() function.

       The  LDAP libraries set all the parameters when they call the rebind function. The application should not
       attempt to free either the ld or the url structures in the rebind function.

       The application must supply to the rebind function the required authentication information such as,  user
       name, password, and certificates. The rebind function must use a synchronous bind method.

</pre><h4><b>UNBINDING</b></h4><pre>
       The  <b>ldap_unbind()</b> call is used to unbind from the directory, terminate the current association, and free
       the resources contained in the <u>ld</u> structure.  Once it is called, the connection to  the  LDAP  server  is
       closed,  and  the  <u>ld</u>  structure  is  invalid.   The  <b>ldap_unbind_s()</b>  call  is  just  another  name  for
       <b>ldap_unbind()</b>; both of these calls are synchronous in nature.

       The <b>ldap_unbind_ext()</b> and <b>ldap_unbind_ext_s()</b> allows the operations to specify  controls.

</pre><h4><b>ERRORS</b></h4><pre>
       Asynchronous routines will return -1 in  case  of  error,  setting  the  <u>ld_errno</u>  parameter  of  the  <u>ld</u>
       structure.   Synchronous  routines  return  whatever  <u>ld_errno</u>  is  set  to.   See <b><a href="../man3/ldap_error.3.html">ldap_error</a></b>(3) for more
       information.

</pre><h4><b>NOTES</b></h4><pre>
       If an anonymous bind is sufficient for the application, the rebind process need not be provided. The LDAP
       libraries with the LDAP_OPT_REFERRALS  option  set  to  ON  (default  value)  will  automatically  follow
       referrals using an anonymous bind.

       If  the  application  needs  stronger authentication than an anonymous bind, you need to provide a rebind
       process for that authentication method.  The bind method must be synchronous.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ldap.3.html">ldap</a></b>(3), <b><a href="../man3/ldap_error.3.html">ldap_error</a></b>(3), <b><a href="../man3/ldap_open.3.html">ldap_open</a></b>(3), <b><a href="../man3/ldap_set_option.3.html">ldap_set_option</a></b>(3),  <b><a href="../man3/ldap_url_parse.3.html">ldap_url_parse</a></b>(3)  <b>RFC</b>  <b>4422</b>  (<a href="http://www.rfc">http://www.rfc</a>-
       editor.org), <b>Cyrus</b> <b>SASL</b> (<a href="http://asg.web.cmu.edu/sasl/">http://asg.web.cmu.edu/sasl/</a>)

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
       <b>OpenLDAP</b>  <b>Software</b>  is  developed  and  maintained  by  The  OpenLDAP Project &lt;<a href="http://www.openldap.org/">http://www.openldap.org/</a>&gt;.
       <b>OpenLDAP</b> <b>Software</b> is derived from the University of Michigan LDAP 3.3 Release.

OpenLDAP 2.6.9+dfsg-2ubuntu1                       2024/11/26                                       <u><a href="../man3/LDAP_BIND.3.html">LDAP_BIND</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>