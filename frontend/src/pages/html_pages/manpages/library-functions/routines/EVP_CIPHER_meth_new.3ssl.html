<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVP_CIPHER_meth_new, EVP_CIPHER_meth_dup, EVP_CIPHER_meth_free, EVP_CIPHER_meth_set_iv_length,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       EVP_CIPHER_meth_new, EVP_CIPHER_meth_dup, EVP_CIPHER_meth_free, EVP_CIPHER_meth_set_iv_length,
       EVP_CIPHER_meth_set_flags, EVP_CIPHER_meth_set_impl_ctx_size, EVP_CIPHER_meth_set_init,
       EVP_CIPHER_meth_set_do_cipher, EVP_CIPHER_meth_set_cleanup, EVP_CIPHER_meth_set_set_asn1_params,
       EVP_CIPHER_meth_set_get_asn1_params, EVP_CIPHER_meth_set_ctrl, EVP_CIPHER_meth_get_init,
       EVP_CIPHER_meth_get_do_cipher, EVP_CIPHER_meth_get_cleanup, EVP_CIPHER_meth_get_set_asn1_params,
       EVP_CIPHER_meth_get_get_asn1_params, EVP_CIPHER_meth_get_ctrl - Routines to build up EVP_CIPHER methods

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/evp.h&gt;

       The following functions have been deprecated since OpenSSL 3.0, and can be hidden entirely by defining
       <b>OPENSSL_API_COMPAT</b> with a suitable version value, see <b><a href="../man7/openssl_user_macros.7.html">openssl_user_macros</a></b>(7):

        EVP_CIPHER *EVP_CIPHER_meth_new(int cipher_type, int block_size, int key_len);
        EVP_CIPHER *EVP_CIPHER_meth_dup(const EVP_CIPHER *cipher);
        void EVP_CIPHER_meth_free(EVP_CIPHER *cipher);

        int EVP_CIPHER_meth_set_iv_length(EVP_CIPHER *cipher, int iv_len);
        int EVP_CIPHER_meth_set_flags(EVP_CIPHER *cipher, unsigned long flags);
        int EVP_CIPHER_meth_set_impl_ctx_size(EVP_CIPHER *cipher, int ctx_size);
        int EVP_CIPHER_meth_set_init(EVP_CIPHER *cipher,
                                     int (*init)(EVP_CIPHER_CTX *ctx,
                                                 const unsigned char *key,
                                                 const unsigned char *iv,
                                                 int enc));
        int EVP_CIPHER_meth_set_do_cipher(EVP_CIPHER *cipher,
                                          int (*do_cipher)(EVP_CIPHER_CTX *ctx,
                                                           unsigned char *out,
                                                           const unsigned char *in,
                                                           size_t inl));
        int EVP_CIPHER_meth_set_cleanup(EVP_CIPHER *cipher,
                                        int (*cleanup)(EVP_CIPHER_CTX *));
        int EVP_CIPHER_meth_set_set_asn1_params(EVP_CIPHER *cipher,
                                                int (*set_asn1_parameters)(EVP_CIPHER_CTX *,
                                                                           ASN1_TYPE *));
        int EVP_CIPHER_meth_set_get_asn1_params(EVP_CIPHER *cipher,
                                                int (*get_asn1_parameters)(EVP_CIPHER_CTX *,
                                                                           ASN1_TYPE *));
        int EVP_CIPHER_meth_set_ctrl(EVP_CIPHER *cipher,
                                     int (*ctrl)(EVP_CIPHER_CTX *, int type,
                                                 int arg, void *ptr));

        int (*EVP_CIPHER_meth_get_init(const EVP_CIPHER *cipher))(EVP_CIPHER_CTX *ctx,
                                                                  const unsigned char *key,
                                                                  const unsigned char *iv,
                                                                  int enc);
        int (*EVP_CIPHER_meth_get_do_cipher(const EVP_CIPHER *cipher))(EVP_CIPHER_CTX *ctx,
                                                                       unsigned char *out,
                                                                       const unsigned char *in,
                                                                       size_t inl);
        int (*EVP_CIPHER_meth_get_cleanup(const EVP_CIPHER *cipher))(EVP_CIPHER_CTX *);
        int (*EVP_CIPHER_meth_get_set_asn1_params(const EVP_CIPHER *cipher))(EVP_CIPHER_CTX *,
                                                                             ASN1_TYPE *);
        int (*EVP_CIPHER_meth_get_get_asn1_params(const EVP_CIPHER *cipher))(EVP_CIPHER_CTX *,
                                                                             ASN1_TYPE *);
        int (*EVP_CIPHER_meth_get_ctrl(const EVP_CIPHER *cipher))(EVP_CIPHER_CTX *,
                                                                  int type, int arg,
                                                                  void *ptr);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       All of the functions described on this page are deprecated.  Applications should instead use the
       OSSL_PROVIDER APIs.

       The <b>EVP_CIPHER</b> type is a structure for symmetric cipher method implementation.

       <b>EVP_CIPHER_meth_new()</b> creates a new <b>EVP_CIPHER</b> structure.

       <b>EVP_CIPHER_meth_dup()</b> creates a copy of <b>cipher</b>.

       <b>EVP_CIPHER_meth_free()</b> destroys a <b>EVP_CIPHER</b> structure.  If the argument is NULL, nothing is done.

       <b>EVP_CIPHER_meth_set_iv_length()</b> sets the length of the IV.  This is only needed when the implemented
       cipher mode requires it.

       <b>EVP_CIPHER_meth_set_flags()</b> sets the flags to describe optional behaviours in the particular <b>cipher</b>.
       With the exception of cipher modes, of which only one may be present, several flags can be or'd together.
       The available flags are:

       EVP_CIPH_STREAM_CIPHER, EVP_CIPH_ECB_MODE EVP_CIPH_CBC_MODE, EVP_CIPH_CFB_MODE, EVP_CIPH_OFB_MODE,
       EVP_CIPH_CTR_MODE, EVP_CIPH_GCM_MODE, EVP_CIPH_CCM_MODE, EVP_CIPH_XTS_MODE, EVP_CIPH_WRAP_MODE,
       EVP_CIPH_OCB_MODE, EVP_CIPH_SIV_MODE
           The cipher mode.

       EVP_CIPH_VARIABLE_LENGTH
           This cipher is of variable length.

       EVP_CIPH_CUSTOM_IV
           Storing and initialising the IV is left entirely to the implementation.

       EVP_CIPH_ALWAYS_CALL_INIT
           Set this if the implementation's <b>init()</b> function should be called even if <b>key</b> is <b>NULL</b>.

       EVP_CIPH_CTRL_INIT
           Set this to have the implementation's <b>ctrl()</b> function called with command code <b>EVP_CTRL_INIT</b> early in
           its setup.

       EVP_CIPH_CUSTOM_KEY_LENGTH
           Checking  and  setting  the  key  length after creating the <b>EVP_CIPHER</b> is left to the implementation.
           Whenever someone uses <b>EVP_CIPHER_CTX_set_key_length()</b>  on  a  <b>EVP_CIPHER</b>  with  this  flag  set,  the
           implementation's <b>ctrl()</b> function will be called with the control code <b>EVP_CTRL_SET_KEY_LENGTH</b> and the
           key length in <b>arg</b>.

       EVP_CIPH_NO_PADDING
           Don't use standard block padding.

       EVP_CIPH_RAND_KEY
           Making  a  key  with  random  content  is  left  to  the implementation.  This is done by calling the
           implementation's <b>ctrl()</b> function with the control code <b>EVP_CTRL_RAND_KEY</b> and the pointer to  the  key
           memory storage in <b>ptr</b>.

       EVP_CIPH_CUSTOM_COPY
           Set  this  to have the implementation's <b>ctrl()</b> function called with command code <b>EVP_CTRL_COPY</b> at the
           end of <b>EVP_CIPHER_CTX_copy()</b>.  The intended use  is  for  further  things  to  deal  with  after  the
           implementation  specific data block has been copied.  The destination <b>EVP_CIPHER_CTX</b> is passed to the
           control  with  the  <b>ptr</b>  parameter.   The  implementation  specific  data  block  is   reached   with
           <b>EVP_CIPHER_CTX_get_cipher_data()</b>.

       EVP_CIPH_FLAG_DEFAULT_ASN1
           Use the default EVP routines to pass IV to and from ASN.1.

       EVP_CIPH_FLAG_LENGTH_BITS
           Signals  that  the  length of the input buffer for encryption / decryption is to be understood as the
           number of bits instead of bytes for this implementation.  This is only useful for CFB1 ciphers.

       EVP_CIPH_FLAG_CTS
           Indicates that the cipher uses ciphertext stealing. This is  currently  used  to  indicate  that  the
           cipher is a one shot that only allows a single call to <b>EVP_CipherUpdate()</b>.

       EVP_CIPH_FLAG_CUSTOM_CIPHER
           This  indicates  that  the  implementation takes care of everything, including padding, buffering and
           finalization.  The EVP routines will simply give them control and do nothing more.

       EVP_CIPH_FLAG_AEAD_CIPHER
           This indicates that this is an AEAD cipher implementation.

       EVP_CIPH_FLAG_TLS1_1_MULTIBLOCK
           Allow interleaving of crypto blocks,  a  particular  optimization  only  applicable  to  certain  TLS
           ciphers.

       <b>EVP_CIPHER_meth_set_impl_ctx_size()</b>  sets  the size of the EVP_CIPHER's implementation context so that it
       can be automatically allocated.

       <b>EVP_CIPHER_meth_set_init()</b> sets the cipher init function for <b>cipher</b>.  The cipher init function is  called
       by  <b>EVP_CipherInit()</b>,  <b>EVP_CipherInit_ex()</b>,  <b>EVP_EncryptInit()</b>,  <b>EVP_EncryptInit_ex()</b>, <b>EVP_DecryptInit()</b>,
       <b>EVP_DecryptInit_ex()</b>.

       <b>EVP_CIPHER_meth_set_do_cipher()</b> sets the cipher function for <b>cipher</b>.  The cipher function  is  called  by
       <b>EVP_CipherUpdate()</b>,   <b>EVP_EncryptUpdate()</b>,  <b>EVP_DecryptUpdate()</b>,  <b>EVP_CipherFinal()</b>,  <b>EVP_EncryptFinal()</b>,
       <b>EVP_EncryptFinal_ex()</b>, <b>EVP_DecryptFinal()</b> and <b>EVP_DecryptFinal_ex()</b>.

       <b>EVP_CIPHER_meth_set_cleanup()</b> sets the function for <b>cipher</b>  to  do  extra  cleanup  before  the  method's
       private  data  structure  is  cleaned  out  and  freed.   Note  that  the  cleanup  function  is passed a
       <b>EVP_CIPHER_CTX</b> <b>*</b>, the private data structure is  then  available  with  <b>EVP_CIPHER_CTX_get_cipher_data()</b>.
       This cleanup function is called by <b>EVP_CIPHER_CTX_reset()</b> and <b>EVP_CIPHER_CTX_free()</b>.

       <b>EVP_CIPHER_meth_set_set_asn1_params()</b>  sets  the  function  for  <b>cipher</b>  to  set  the AlgorithmIdentifier
       "parameter" based  on  the  passed  cipher.   This  function  is  called  by  <b>EVP_CIPHER_param_to_asn1()</b>.
       <b>EVP_CIPHER_meth_set_get_asn1_params()</b>  sets the function for <b>cipher</b> that sets the cipher parameters based
       on an ASN.1 AlgorithmIdentifier "parameter".  Both these functions are needed when there is  a  need  for
       custom  data  (more  or  other  than  the  cipher IV).  They are called by <b>EVP_CIPHER_param_to_asn1()</b> and
       <b>EVP_CIPHER_asn1_to_param()</b> respectively if defined.

       <b>EVP_CIPHER_meth_set_ctrl()</b> sets the control function for <b>cipher</b>.

       <b>EVP_CIPHER_meth_get_init()</b>,        <b>EVP_CIPHER_meth_get_do_cipher()</b>,        <b>EVP_CIPHER_meth_get_cleanup()</b>,
       <b>EVP_CIPHER_meth_get_set_asn1_params()</b>,              <b>EVP_CIPHER_meth_get_get_asn1_params()</b>             and
       <b>EVP_CIPHER_meth_get_ctrl()</b>   are   all   used   to   retrieve   the   method   data   given   with    the
       EVP_CIPHER_meth_set_*() functions above.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>EVP_CIPHER_meth_new()</b>  and  <b>EVP_CIPHER_meth_dup()</b> return a pointer to a newly created <b>EVP_CIPHER</b>, or NULL
       on failure.  All EVP_CIPHER_meth_set_*()  functions  return  1.   All  EVP_CIPHER_meth_get_*()  functions
       return pointers to their respective <b>cipher</b> function.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/EVP_EncryptInit.3.html">EVP_EncryptInit</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       All of these functions were deprecated in OpenSSL 3.0.

       The  functions  described  here were added in OpenSSL 1.1.0.  The <b>EVP_CIPHER</b> structure created with these
       functions became reference counted in OpenSSL 3.0.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2016-2024 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file  except  in  compliance
       with  the  License.   You  can  obtain  a  copy  in  the  file  LICENSE  in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                          <u><a href="../man3SSL/EVP_CIPHER_METH_NEW.3SSL.html">EVP_CIPHER_METH_NEW</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>