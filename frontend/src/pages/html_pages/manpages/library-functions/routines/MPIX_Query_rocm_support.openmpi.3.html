<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openmpi-doc">openmpi-doc_5.0.7-1build1_all</a> <br><br><pre>
<b>MPIX_Query_rocm_support</b> - Returns 1 if there is AMD ROCm-aware support and 0 if there is not.

</pre><h4><b>SYNTAX</b></h4><pre>
   <b>C</b> <b>Syntax</b>
          #include &lt;mpi.h&gt;
          #include &lt;mpi-ext.h&gt;

          int MPIX_Query_rocm_support(void)

   <b>Fortran</b> <b>Syntax</b>
       There is no Fortran binding for this function.

   <b>C++</b> <b>Syntax</b>
       There is no C++ binding for this function.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This function is part of an <u>Open</u> <u>MPI</u> <u>extension</u>; it is not part of standard MPI.

       This  routine  returns  1  if  both  the  MPI library was built with the AMD ROCm library and the runtime
       supports ROCm buffers.  Otherwise, it returns 0.  This routine must be called after MPI  is  initialized,
       e.g., by a call to <u><a href="../man3/MPI_Init.3.html">MPI_Init</a>(3)</u> or <u><a href="../man3/MPI_Init_thread.3.html">MPI_Init_thread</a>(3)</u>.

       Including  the  Open MPI-specific file <b>&lt;mpi-ext.h&gt;</b> will define the C preprocessor macro <b>OMPI_HAVE_MPI_EXT</b>
       to <b>1</b>.  Otherwise, it will be undefined.  This macro can be used by applications as  a  sentinel  to  know
       whether <b>&lt;mpi-ext.h&gt;</b> has been included or not.

       The  Open  MPI  ROCm  extension is built by default (regardless of whether or not Open MPI was built with
       ROCm support), but <u>could</u> have been disabled by an administrative action.   It  is  therefore  safest  for
       applications  to  check  that the preprocessor macro <b>OMPI_HAVE_MPI_EXT_ROCM</b> is defined and is set to 1 to
       know whether the <b>MPIX_Query_rocm_support()</b> function is available.  Checking for this macro also  protects
       the  use  of  this  function  when compiling the application with older versions of Open MPI or other MPI
       implementations that do not have this function.

   <b>EXAMPLES</b>
          #include &lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;
          #include &lt;mpi.h&gt;
          #include &lt;mpi-ext.h&gt; /* Needed for ROCm-aware check */

          int main(int argc, char *argv[])
          {
              MPI_Init(&amp;argc, &amp;argv);

              bool happy = false;
          #if defined(OMPI_HAVE_MPI_EXT_ROCM) &amp;&amp; OMPI_HAVE_MPI_EXT_ROCM
              happy = (bool) MPIX_Query_rocm_support();
          #endif

              if (happy) {
                  printf("This Open MPI installation has ROCm-aware support.\n");
              } else {
                  printf("This Open MPI installation does not have ROCm-aware support.\n");
              }

              MPI_Finalize();
              return 0;
          }

       <b>SEE</b> <b>ALSO:</b>

          â€¢ <u>MPIX_Query_cuda_support</u>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2003-2025, The Open MPI Community

                                                  Jun 07, 2025                        <u><a href="../man3/MPIX_QUERY_ROCM_SUPPORT.3.html">MPIX_QUERY_ROCM_SUPPORT</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>