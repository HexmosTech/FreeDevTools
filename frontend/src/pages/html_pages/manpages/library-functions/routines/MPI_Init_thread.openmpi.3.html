<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C Syntax</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openmpi-doc">openmpi-doc_5.0.7-1build1_all</a> <br><br><pre>
</pre><h4><b>SYNTAX</b></h4><pre>
   <b>C</b> <b>Syntax</b>
          #include &lt;mpi.h&gt;

          int MPI_Init_thread(int *argc, char ***argv,
               int required, int *provided)

   <b>Fortran</b> <b>Syntax</b>
          USE MPI
          ! or the older form: INCLUDE 'mpif.h'
          MPI_INIT_THREAD(REQUIRED, PROVIDED, IERROR)
               INTEGER REQUIRED, PROVIDED, IERROR

   <b>Fortran</b> <b>2008</b> <b>Syntax</b>
          USE mpi_f08
          MPI_Init_thread(required, provided, ierror)
               INTEGER, INTENT(IN) :: required
               INTEGER, INTENT(OUT) :: provided
               INTEGER, OPTIONAL, INTENT(OUT) :: ierror

</pre><h4><b>INPUT</b> <b>PARAMETERS</b></h4><pre>
       • <b>argc</b>: C only: Pointer to the number of arguments.

       • <b>argv</b>: C only: Argument vector.

       • <b>required</b>: Desired level of thread support (integer).

</pre><h4><b>OUTPUT</b> <b>PARAMETERS</b></h4><pre>
       • <b>provided</b>: Available level of thread support (integer).

       • <b>ierror</b>: Fortran only: Error status (integer).

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  routine,  or  <u>MPI_Init</u>, must be called before most other MPI routines are called. There are a small
       number of exceptions, such as <u>MPI_Initialized</u> and <u>MPI_Finalized</u>. MPI can be  initialized  at  most  once;
       subsequent calls to <u>MPI_Init</u> or <u>MPI_Init_thread</u> are erroneous.

       <u>MPI_Init_thread</u>, as compared to <u>MPI_Init</u>, has a provision to request a certain level of thread support in
       <u>required</u>:

       <b>MPI_THREAD_SINGLE</b>
              Only one thread will execute.

       <b>MPI_THREAD_FUNNELED</b>
              If the process is multithreaded, only the thread that called <u>MPI_Init_thread</u> will make MPI calls.

       <b>MPI_THREAD_SERIALIZED</b>
              If the process is multithreaded, only one thread will make MPI library calls at one time.

       <b>MPI_THREAD_MULTIPLE</b>
              If the process is multithreaded, multiple threads may call MPI at once with no restrictions.

       The  level  of  thread  support  available  to  the program is set in <u>provided</u>. In Open MPI, the value is
       dependent on how the library was configured and built. Note that there is no guarantee that <u>provided</u> will
       be greater than or equal to <u>required</u>.

       Also note that calling <u>MPI_Init_thread</u> with a  <u>required</u>  value  of  MPI_THREAD_SINGLE  is  equivalent  to
       calling <u>MPI_Init</u>.

       All  MPI  programs  must  contain a call to <u>MPI_Init</u> or <u>MPI_Init_thread</u>.  Open MPI accepts the C <u>argc</u> and
       <u>argv</u> arguments to main, but neither modifies, interprets, nor distributes them:

          /* declare variables */
          MPI_Init_thread(&amp;argc, &amp;argv, req, &amp;prov);
          /* parse arguments */
          /* main program */
          MPI_Finalize();

</pre><h4><b>NOTES</b></h4><pre>
       The Fortran version does not have provisions for <b>argc</b> and <b>argv</b> and takes only <b>IERROR</b>.

       It is the caller’s responsibility to check the value of <b>provided</b>,  as  it  may  be  less  than  what  was
       requested in <b>required</b>.

       The  MPI  Standard does not say what a program can do before an <u>MPI_Init_thread</u> or after an <u>MPI_Finalize</u>.
       In the Open MPI implementation, it should do as little as possible. In particular,  avoid  anything  that
       changes  the  external state of the program, such as opening files, reading standard input, or writing to
       standard output.

   <b>MPI_THREAD_MULTIPLE</b> <b>Support</b>
       <b>MPI_THREAD_MULTIPLE</b> support is included  if  the  environment  in  which  Open  MPI  was  built  supports
       threading. You can check the output of <u><a href="../man1/ompi_info.1.html">ompi_info</a>(1)</u> to see if Open MPI has <b>MPI_THREAD_MULTIPLE</b> support:

          shell$ ompi_info | grep "Thread support"
                    Thread support: posix (MPI_THREAD_MULTIPLE: yes, OPAL support: yes, OMPI progress: no, Event lib: yes)
          shell$

       The  <b>MPI_THREAD_MULTIPLE:</b>  <b>yes</b>  portion  of  the  above  output indicates that Open MPI was compiled with
       <b>MPI_THREAD_MULTIPLE</b> support.

       Note that there is a small performance penalty for using <b>MPI_THREAD_MULTIPLE</b> support; latencies for short
       messages will be higher as compared to when using <b>MPI_THREAD_SINGLE</b>, for example.

</pre><h4><b>ERRORS</b></h4><pre>
       Almost all MPI routines return an error value; C routines as  the  return  result  of  the  function  and
       Fortran routines in the last argument.

       Before  the  error  value  is  returned,  the current MPI error handler associated with the communication
       object (e.g., communicator, window, file) is called.  If no communication object is associated  with  the
       MPI  call,  then  the call is considered attached to MPI_COMM_SELF and will call the associated MPI error
       handler.  When  MPI_COMM_SELF  is  not  initialized   (i.e.,   before   <u>MPI_Init</u>/<u>MPI_Init_thread</u>,   after
       <u>MPI_Finalize</u>,  or  when using the Sessions Model exclusively) the error raises the initial error handler.
       The initial error handler can be changed by calling <u>MPI_Comm_set_errhandler</u> on MPI_COMM_SELF  when  using
       the  World  model,  or the mpi_initial_errhandler CLI argument to mpiexec or info key to <u>MPI_Comm_spawn</u>/‐
       <u>MPI_Comm_spawn_multiple</u>.  If no other appropriate error handler has been set, then the  MPI_ERRORS_RETURN
       error  handler  is  called for MPI I/O functions and the MPI_ERRORS_ABORT error handler is called for all
       other MPI functions.

       Open MPI includes three predefined error handlers that can be used:

       • <b>MPI_ERRORS_ARE_FATAL</b> Causes the program to abort all connected MPI processes.

       • <b>MPI_ERRORS_ABORT</b> An error handler that can be invoked on a communicator, window, file, or session. When
         called on a communicator, it acts as if <u>MPI_Abort</u> was called on  that  communicator.  If  called  on  a
         window  or file, acts as if <u>MPI_Abort</u> was called on a communicator containing the group of processes in
         the corresponding window or file. If called on a session, aborts only the local process.

       • <b>MPI_ERRORS_RETURN</b> Returns an error code to the application.

       MPI applications can also implement their own error handlers by calling:

       • <u>MPI_Comm_create_errhandler</u> then <u>MPI_Comm_set_errhandler</u>

       • <u>MPI_File_create_errhandler</u> then <u>MPI_File_set_errhandler</u>

       • <u>MPI_Session_create_errhandler</u> then <u>MPI_Session_set_errhandler</u> or at <u>MPI_Session_init</u>

       • <u>MPI_Win_create_errhandler</u> then <u>MPI_Win_set_errhandler</u>

       Note that MPI does not guarantee that an MPI program can continue past an error.

       See the <u>MPI</u> <u>man</u> <u>page</u> for a full list of <u>MPI</u> <u>error</u> <u>codes</u>.

       See the Error Handling section of the MPI-3.1 standard for more information.

       <b>SEE</b> <b>ALSO:</b>

          • <u>MPI_Init</u>

          • <u>MPI_Initialized</u>

          • <u>MPI_Finalize</u>

          • <u>MPI_Finalized</u>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2003-2025, The Open MPI Community

                                                  Jun 07, 2025                                <u><a href="../man3/MPI_INIT_THREAD.3.html">MPI_INIT_THREAD</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>