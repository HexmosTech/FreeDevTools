<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIO_get_new_index, BIO_meth_new, BIO_meth_free, BIO_meth_get_read_ex, BIO_meth_set_read_ex,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       BIO_get_new_index, BIO_meth_new, BIO_meth_free, BIO_meth_get_read_ex, BIO_meth_set_read_ex,
       BIO_meth_get_write_ex, BIO_meth_set_write_ex, BIO_meth_get_write, BIO_meth_set_write, BIO_meth_get_read,
       BIO_meth_set_read, BIO_meth_get_puts, BIO_meth_set_puts, BIO_meth_get_gets, BIO_meth_set_gets,
       BIO_meth_get_ctrl, BIO_meth_set_ctrl, BIO_meth_get_create, BIO_meth_set_create, BIO_meth_get_destroy,
       BIO_meth_set_destroy, BIO_meth_get_callback_ctrl, BIO_meth_set_callback_ctrl, BIO_meth_set_sendmmsg,
       BIO_meth_get_sendmmsg, BIO_meth_set_recvmmsg, BIO_meth_get_recvmmsg - Routines to build up BIO methods

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/bio.h&gt;

        int BIO_get_new_index(void);

        BIO_METHOD *BIO_meth_new(int type, const char *name);

        void BIO_meth_free(BIO_METHOD *biom);

        int BIO_meth_set_write_ex(BIO_METHOD *biom,
                                  int (*bwrite)(BIO *, const char *, size_t, size_t *));
        int BIO_meth_set_write(BIO_METHOD *biom,
                               int (*write)(BIO *, const char *, int));

        int BIO_meth_set_read_ex(BIO_METHOD *biom,
                                 int (*bread)(BIO *, char *, size_t, size_t *));
        int BIO_meth_set_read(BIO_METHOD *biom, int (*read)(BIO *, char *, int));

        int BIO_meth_set_puts(BIO_METHOD *biom, int (*puts)(BIO *, const char *));
        int BIO_meth_set_gets(BIO_METHOD *biom,
                              int (*gets)(BIO *, char *, int));

        int BIO_meth_set_ctrl(BIO_METHOD *biom,
                              long (*ctrl)(BIO *, int, long, void *));

        int BIO_meth_set_create(BIO_METHOD *biom, int (*create)(BIO *));
        int BIO_meth_set_destroy(BIO_METHOD *biom, int (*destroy)(BIO *));

        int BIO_meth_set_callback_ctrl(BIO_METHOD *biom,
                                       long (*callback_ctrl)(BIO *, int, BIO_info_cb *));

        int BIO_meth_set_sendmmsg(BIO_METHOD *biom,
                                  ossl_ssize_t (*f) (BIO *, BIO_MSG *, size_t,
                                                     size_t, uint64_t));
        int BIO_meth_set_recvmmsg(BIO_METHOD *biom,
                                  ossl_ssize_t (*f) (BIO *, BIO_MSG *, size_t,
                                                     size_t, uint64_t));

       The following functions have been deprecated since OpenSSL 3.5:

        int (*BIO_meth_get_write_ex(const BIO_METHOD *biom))(BIO *, const char *, size_t,
                                                       size_t *);
        int (*BIO_meth_get_write(const BIO_METHOD *biom))(BIO *, const char *, int);

        int (*BIO_meth_get_read_ex(const BIO_METHOD *biom))(BIO *, char *, size_t, size_t *);
        int (*BIO_meth_get_read(const BIO_METHOD *biom))(BIO *, char *, int);

        int (*BIO_meth_get_puts(const BIO_METHOD *biom))(BIO *, const char *);
        int (*BIO_meth_get_gets(const BIO_METHOD *biom))(BIO *, char *, int);

        long (*BIO_meth_get_ctrl(const BIO_METHOD *biom))(BIO *, int, long, void *);

        int (*BIO_meth_get_create(const BIO_METHOD *bion))(BIO *);
        int (*BIO_meth_get_destroy(const BIO_METHOD *biom))(BIO *);

        long (*BIO_meth_get_callback_ctrl(const BIO_METHOD *biom))(BIO *, int, BIO_info_cb *);

        ossl_ssize_t (*BIO_meth_get_sendmmsg(const BIO_METHOD *biom))(BIO *,
                                                                      BIO_MSG *,
                                                                      size_t,
                                                                      size_t,
                                                                      uint64_t);
        ossl_ssize_t (*BIO_meth_get_recvmmsg(const BIO_METHOD *biom))(BIO *,
                                                                      BIO_MSG *,
                                                                      size_t,
                                                                      size_t,
                                                                      uint64_t);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>BIO_METHOD</b> type is a structure used for the implementation of new BIO types. It provides a set of
       functions used by OpenSSL for the implementation of the various BIO capabilities. See the <b><a href="../man7/bio.7.html">bio</a></b>(7) page for
       more information.

       <b>BIO_meth_new()</b> creates a new <b>BIO_METHOD</b> structure that contains a type identifier <u>type</u> and a string that
       represents its <b>name</b>.  <b>type</b> can be set to either <b>BIO_TYPE_NONE</b> or via <b>BIO_get_new_index()</b> if a unique type
       is required for searching (See <b><a href="../man3/BIO_find_type.3.html">BIO_find_type</a></b>(3))

       Note that <b>BIO_get_new_index()</b> can only be used 127 times before it returns an error.

       The set of standard OpenSSL provided BIO types is provided in <u>&lt;openssl/bio.h&gt;</u>.  Some examples include
       <b>BIO_TYPE_BUFFER</b> and <b>BIO_TYPE_CIPHER</b>. Filter BIOs should have a type which have the "filter" bit set
       (<b>BIO_TYPE_FILTER</b>).  Source/sink BIOs should have the "source/sink" bit set (<b>BIO_TYPE_SOURCE_SINK</b>).  File
       descriptor based BIOs (e.g. socket, fd, connect, accept etc) should additionally have the "descriptor"
       bit set (<b>BIO_TYPE_DESCRIPTOR</b>). See the <b><a href="../man3/BIO_find_type.3.html">BIO_find_type</a></b>(3) page for more information.

       <b>BIO_meth_free()</b> destroys a <b>BIO_METHOD</b> structure and frees up any memory associated with it. If the
       argument is NULL, nothing is done.

       <b>BIO_meth_get_write_ex()</b> and <b>BIO_meth_set_write_ex()</b> get and set the function used for writing arbitrary
       length data to the BIO respectively. This function will be called in response to the application calling
       <b>BIO_write_ex()</b> or <b>BIO_write()</b>. The parameters for the function have the same meaning as for
       <b>BIO_write_ex()</b>. Older code may call <b>BIO_meth_get_write()</b> and <b>BIO_meth_set_write()</b> instead. Applications
       should not call both <b>BIO_meth_set_write_ex()</b> and <b>BIO_meth_set_write()</b> or call <b>BIO_meth_get_write()</b> when
       the function was set with <b>BIO_meth_set_write_ex()</b>.

       <b>BIO_meth_get_read_ex()</b> and <b>BIO_meth_set_read_ex()</b> get and set the function used for reading arbitrary
       length data from the BIO respectively. This function will be called in response to the application
       calling <b>BIO_read_ex()</b> or <b>BIO_read()</b>.  The parameters for the function have the same meaning as for
       <b>BIO_read_ex()</b>.  Older code may call <b>BIO_meth_get_read()</b> and <b>BIO_meth_set_read()</b> instead.  Applications
       should not call both <b>BIO_meth_set_read_ex()</b> and <b>BIO_meth_set_read()</b> or call <b>BIO_meth_get_read()</b> when the
       function was set with <b>BIO_meth_set_read_ex()</b>.

       <b>BIO_meth_get_puts()</b> and <b>BIO_meth_set_puts()</b> get and set the function used for writing a NULL terminated
       string to the BIO respectively. This function will be called in response to the application calling
       <b>BIO_puts()</b>. The parameters for the function have the same meaning as for <b>BIO_puts()</b>.

       <b>BIO_meth_get_gets()</b> and <b>BIO_meth_set_gets()</b> get and set the function typically used for reading a line of
       data from the BIO respectively (see the <b><a href="../man3/BIO_gets.3.html">BIO_gets</a></b>(3) page for more information). This function will be
       called in response to the application calling <b>BIO_gets()</b>. The parameters for the function have the same
       meaning as for <b>BIO_gets()</b>.

       <b>BIO_meth_get_ctrl()</b> and <b>BIO_meth_set_ctrl()</b> get and set the function used for processing ctrl messages in
       the BIO respectively. See the <b><a href="../man3/BIO_ctrl.3.html">BIO_ctrl</a></b>(3) page for more information. This function will be called in
       response to the application calling <b>BIO_ctrl()</b>. The parameters for the function have the same meaning as
       for <b>BIO_ctrl()</b>.

       <b>BIO_meth_get_create()</b> and <b>BIO_meth_set_create()</b> get and set the function used for creating a new instance
       of the BIO respectively. This function will be called in response to the application calling <b>BIO_new()</b>
       and passing in a pointer to the current BIO_METHOD. The <b>BIO_new()</b> function will allocate the memory for
       the new BIO, and a pointer to this newly allocated structure will be passed as a parameter to the
       function. If a create function is set, <b>BIO_new()</b> will not mark the BIO as initialised on allocation.
       <b><a href="../man3/BIO_set_init.3.html">BIO_set_init</a></b>(3) must then be called either by the create function, or later, by a BIO ctrl function, once
       BIO initialisation is complete.

       <b>BIO_meth_get_destroy()</b> and <b>BIO_meth_set_destroy()</b> get and set the function used for destroying an
       instance of a BIO respectively. This function will be called in response to the application calling
       <b>BIO_free()</b>. A pointer to the BIO to be destroyed is passed as a parameter. The destroy function should be
       used for BIO specific clean up. The memory for the BIO itself should not be freed by this function.

       <b>BIO_meth_get_callback_ctrl()</b> and <b>BIO_meth_set_callback_ctrl()</b> get and set the function used for
       processing callback ctrl messages in the BIO respectively. See the <b><a href="../man3/BIO_callback_ctrl.3.html">BIO_callback_ctrl</a></b>(3) page for more
       information. This function will be called in response to the application calling <b>BIO_callback_ctrl()</b>. The
       parameters for the function have the same meaning as for <b>BIO_callback_ctrl()</b>.

       <b>BIO_meth_get_sendmmsg()</b>, <b>BIO_meth_set_sendmmsg()</b>, <b>BIO_meth_get_recvmmsg()</b> and <b>BIO_meth_set_recvmmsg()</b> get
       and set the functions used for handling <b>BIO_sendmmsg()</b> and <b>BIO_recvmmsg()</b> calls respectively. See
       <b><a href="../man3/BIO_sendmmsg.3.html">BIO_sendmmsg</a></b>(3) for more information.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>BIO_get_new_index()</b> returns the new BIO type value or -1 if an error occurred.

       BIO_meth_new(int type, const char *name) returns a valid <b>BIO_METHOD</b> or NULL if an error occurred.

       The <b>BIO_meth_set</b> functions return 1 on success or 0 on error.

       The <b>BIO_meth_get</b> functions return the corresponding function pointers.

</pre><h4><b>BUGS</b></h4><pre>
       It is not safe to use "BIO_meth_get_" functions to reuse the <b>BIO</b> implementation of <b>BIO</b>s implemented by
       OpenSSL itself with application-implemented <b>BIO</b>s. Instead either the applications ought to implement
       these functions themselves or they should implement a filter BIO.

       For more details please see &lt;https://github.com/openssl/openssl/issues/26047&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/bio.7.html">bio</a></b>(7), <b><a href="../man3/BIO_find_type.3.html">BIO_find_type</a></b>(3), <b><a href="../man3/BIO_ctrl.3.html">BIO_ctrl</a></b>(3), <b><a href="../man3/BIO_read_ex.3.html">BIO_read_ex</a></b>(3), <b><a href="../man3/BIO_new.3.html">BIO_new</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       The functions <b>BIO_meth_get_sendmmsg()</b>, <b>BIO_meth_set_sendmmsg()</b>, <b>BIO_meth_get_recvmmsg()</b> and
       <b>BIO_meth_set_recvmmsg()</b> were added in OpenSSL 3.2.

       All the other functions described here were added in OpenSSL 1.1.0.

       The functions <b>BIO_meth_get_read_ex()</b>, <b>BIO_meth_get_write_ex()</b>, <b>BIO_meth_get_write()</b>, <b>BIO_meth_get_read()</b>,
       <b>BIO_meth_get_puts()</b>, <b>BIO_meth_get_gets()</b>, <b>BIO_meth_get_ctrl()</b>, <b>BIO_meth_get_create()</b>,
       <b>BIO_meth_get_destroy()</b>, <b>BIO_meth_get_callback_ctrl()</b>, <b>BIO_meth_get_sendmmsg()</b> and <b>BIO_meth_get_recvmmsg()</b>
       are deprecated since OpenSSL 3.5.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2016-2024 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                                 <u><a href="../man3SSL/BIO_METH_NEW.3SSL.html">BIO_METH_NEW</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>