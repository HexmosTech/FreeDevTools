<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File::Copy - Copy files or filehandles</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/perl-doc">perl-doc_5.40.1-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       File::Copy - Copy files or filehandles

</pre><h4><b>SYNOPSIS</b></h4><pre>
               use File::Copy;

               copy("sourcefile", "destinationfile") or die "Copy failed: $!";
               copy("Copy.pm", \*STDOUT);
               move("/dev1/sourcefile", "/dev2/destinationfile");

               use File::Copy "cp";

               my $n = FileHandle-&gt;new("/a/file", "r");
               cp($n, "x");

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The File::Copy module provides two basic functions, "copy" and "move", which are useful for getting the
       contents of a file from one place to another.

       copy
           The  "copy" function takes two parameters: a file to copy from and a file to copy to. Either argument
           may be a string, a FileHandle reference or a FileHandle glob. Obviously, if the first argument  is  a
           filehandle  of  some  sort,  it  will  be  read  from, and if it is a file <u>name</u> it will be opened for
           reading. Likewise, the second argument will be written to. If the second argument does not exist  but
           the  parent  directory does exist, then it will be created. Trying to copy a file into a non-existent
           directory is an error.  Trying to copy a file on top of itself is also an  error.   "copy"  will  not
           overwrite read-only files.

           If  the  destination  (second  argument)  already  exists  and  is a directory, and the source (first
           argument) is not a filehandle, then the source file will be copied into the  directory  specified  by
           the destination, using the same base name as the source file.  It's a failure to have a filehandle as
           the source when the destination is a directory.

           <b>Note</b>  <b>that</b>  <b>passing</b>  <b>in</b>  <b>files</b>  <b>as</b>  <b>handles</b>  <b>instead</b> <b>of</b> <b>names</b> <b>may</b> <b>lead</b> <b>to</b> <b>loss</b> <b>of</b> <b>information</b> <b>on</b> <b>some</b>
           <b>operating</b> <b>systems;</b> <b>it</b> <b>is</b> <b>recommended</b> <b>that</b> <b>you</b> <b>use</b> <b>file</b> <b>names</b> <b>whenever</b> <b>possible.</b>  Files are opened  in
           binary  mode  where  applicable.   To  get a consistent behaviour when copying from a filehandle to a
           file, use "binmode" on the filehandle.

           An optional third parameter can be used to specify the buffer size used  for  copying.  This  is  the
           number  of  bytes  from  the  first file, that will be held in memory at any given time, before being
           written to the second file. The default buffer size depends upon the file, but will generally be  the
           whole file (up to 2MB), or 1k for filehandles that do not reference files (eg. sockets).

           You  may  use the syntax "use File::Copy "cp"" to get at the "cp" alias for this function. The syntax
           is <u>exactly</u> the same.  The behavior is nearly the same as well: as of version 2.15, "cp" will preserve
           the source file's permission bits like the shell utility <a href="../man1/cp.1.html">cp</a>(1) would do with default  options,  while
           "copy"  uses  the  default permissions for the target file (which may depend on the process' "umask",
           file ownership, inherited ACLs, etc.).  That is, if the destination file already  exists,  "cp"  will
           leave  its  permissions  unchanged;  otherwise  the  permissions  are  taken from the source file and
           modified by the "umask".  If an error occurs in setting permissions, "cp" will return  0,  regardless
           of whether the file was successfully copied.

       move
           The  "move" function also takes two parameters: the current name and the intended name of the file to
           be moved.  If the destination already exists and is a directory, and the source is not  a  directory,
           then the source file will be renamed into the directory specified by the destination.

           If  possible,  <b>move()</b> will simply rename the file.  Otherwise, it copies the file to the new location
           and deletes the original.  If an error occurs during this copy-and-delete process, you  may  be  left
           with a (possibly partial) copy of the file under the destination name.

           You  may  use  the  "mv"  alias for this function in the same way that you may use the "cp" alias for
           "copy".

       syscopy
           File::Copy also provides the "syscopy"  routine,  which  copies  the  file  specified  in  the  first
           parameter  to  the file specified in the second parameter, preserving OS-specific attributes and file
           structure.  For Unix systems, this is equivalent to the simple "copy" routine, which doesn't preserve
           OS-specific attributes.  For VMS systems, this calls the "rmscopy" routine  (see  below).   For  OS/2
           systems, this calls the "syscopy" XSUB directly. For Win32 systems, this calls "Win32::CopyFile".

           <b>Special</b> <b>behaviour</b> <b>if</b> <b>"syscopy"</b> <b>is</b> <b>defined</b> <b>(OS/2,</b> <b>VMS</b> <b>and</b> <b>Win32)</b>:

           If  both  arguments  to  "copy" are not file handles, then "copy" will perform a "system copy" of the
           input file to a new output file, in order to preserve file attributes, indexed file  structure,  <u>etc.</u>
           The  buffer  size  parameter is ignored.  If either argument to "copy" is a handle to an opened file,
           then data is copied using Perl operators, and no effort is made to preserve file attributes or record
           structure.

           The system copy routine may also be called directly under VMS and OS/2 as  "File::Copy::syscopy"  (or
           under VMS as "File::Copy::rmscopy", which is the routine that does the actual work for syscopy).

       rmscopy($from,$to[,$date_flag])
           The  first and second arguments may be strings, typeglobs, typeglob references, or objects inheriting
           from IO::Handle; they are used in all cases to obtain the <u>filespec</u> of the  input  and  output  files,
           respectively.   The  name  and  type  of  the input file are used as defaults for the output file, if
           necessary.

           A new version of the output file is always created, which inherits the structure and  RMS  attributes
           of  the  input file, except for owner and protections (and possibly timestamps; see below).  All data
           from the input file is copied to the output file; if either of the first two parameters to  "rmscopy"
           is  a  file  handle,  its position is unchanged.  (Note that this means a file handle pointing to the
           output file will be associated with an old version of that file  after  "rmscopy"  returns,  not  the
           newly created version.)

           The  third  parameter is an integer flag, which tells "rmscopy" how to handle timestamps.  If it is &lt;
           0, none of the input file's timestamps are propagated to the output file.  If it is &gt; 0, then  it  is
           interpreted as a bitmask: if bit 0 (the LSB) is set, then timestamps other than the revision date are
           propagated; if bit 1 is set, the revision date is propagated.  If the third parameter to "rmscopy" is
           0,  then  it  behaves  much  like  the  DCL  COPY command: if the name or type of the output file was
           explicitly specified, then no timestamps are propagated, but if they were taken implicitly  from  the
           input  filespec,  then all timestamps other than the revision date are propagated.  If this parameter
           is not supplied, it defaults to 0.

           "rmscopy" is VMS specific and cannot be exported; it must be referenced by its full name, e.g.:

             File::Copy::rmscopy($from, $to) or die $!;

           Like "copy", "rmscopy" returns 1 on success.  If an error occurs, it  sets  $!,  deletes  the  output
           file, and returns 0.

</pre><h4><b>RETURN</b></h4><pre>
       All functions return 1 on success, 0 on failure.  $! will be set if an error was encountered.

</pre><h4><b>NOTES</b></h4><pre>
       Before  calling  <b>copy()</b>  or  <b>move()</b> on a filehandle, the caller should close or <b>flush()</b> the file to avoid
       writes being lost. Note that this is the case even for <b>move()</b>, because it may  actually  copy  the  file,
       depending on the OS-specific implementation, and the underlying filesystem(s).

</pre><h4><b>AUTHOR</b></h4><pre>
       File::Copy  was  written  by  Aaron  Sherman  <u>&lt;<a href="mailto:ajs@ajs.com">ajs@ajs.com</a>&gt;</u>  in  1995,  and  updated  by  Charles  Bailey
       <u>&lt;<a href="mailto:bailey@newman.upenn.edu">bailey@newman.upenn.edu</a>&gt;</u> in 1996.

perl v5.40.1                                       2025-07-03                                  <u>File::<a href="../man3perl/Copy.3perl.html">Copy</a></u>(3perl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>