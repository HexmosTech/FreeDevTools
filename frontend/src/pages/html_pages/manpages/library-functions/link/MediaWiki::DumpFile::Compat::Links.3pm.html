<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parse::MediaWikiDump::Links - Object capable of processing link dump files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmediawiki-dumpfile-perl">libmediawiki-dumpfile-perl_0.2.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Parse::MediaWikiDump::Links - Object capable of processing link dump files

</pre><h4><b>ABOUT</b></h4><pre>
       This object is used to access content of the SQL based category dump files by providing an iterative
       interface for extracting the individual article links to the same. Objects returned are an instance of
       Parse::MediaWikiDump::link.

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use MediaWiki::DumpFile::Compat;

         $pmwd = Parse::MediaWikiDump-&gt;new;
         $links = $pmwd-&gt;links('pagelinks.sql');
         $links = $pmwd-&gt;links(\*FILEHANDLE);

         #print the links between articles
         while(defined($link = $links-&gt;next)) {
           print 'from ', $link-&gt;from, ' to ', $link-&gt;namespace, ':', $link-&gt;to, "\n";
         }

</pre><h4><b>METHODS</b></h4><pre>
       Parse::MediaWikiDump::Links-&gt;new
           Create a new instance of a page links dump file parser

       $links-&gt;next
           Return the next available Parse::MediaWikiDump::link object or undef if there is no more data left

</pre><h4><b>EXAMPLE</b></h4><pre>
   <b>List</b> <b>all</b> <b>links</b> <b>between</b> <b>articles</b> <b>in</b> <b>a</b> <b>friendly</b> <b>way</b>
         #!<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?perl">/usr/bin/perl</a>

         use strict;
         use warnings;

         use MediaWiki::DumpFile::Compat;

         my $pmwd = Parse::MediaWikiDump-&gt;new;
         my $links = $pmwd-&gt;links(shift) or die "must specify a pagelinks dump file";
         my $dump = $pmwd-&gt;pages(shift) or die "must specify an article dump file";
         my %id_to_namespace;
         my %id_to_pagename;

         binmode(STDOUT, ':utf8');

         #build a map between namespace ids to namespace names
         foreach (@{$dump-&gt;namespaces}) {
               my $id = $_-&gt;[0];
               my $name = $_-&gt;[1];

               $id_to_namespace{$id} = $name;
         }

         #build a map between article ids and article titles
         while(my $page = $dump-&gt;next) {
               my $id = $page-&gt;id;
               my $title = $page-&gt;title;

               $id_to_pagename{$id} = $title;
         }

         $dump = undef; #cleanup since we don't need it anymore

         while(my $link = $links-&gt;next) {
               my $namespace = $link-&gt;namespace;
               my $from = $link-&gt;from;
               my $to = $link-&gt;to;
               my $namespace_name = $id_to_namespace{$namespace};
               my $fully_qualified;
               my $from_name = $id_to_pagename{$from};

               if ($namespace_name eq '') {
                       #default namespace
                       $fully_qualified = $to;
               } else {
                       $fully_qualified = "$namespace_name:$to";
               }

               print "Article \"$from_name\" links to \"$fully_qualified\"\n";
         }

perl v5.34.0                                       2022-06-15             <u>MediaWiki::Dump...::Compat::<a href="../man3pm/Links.3pm.html">Links</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>