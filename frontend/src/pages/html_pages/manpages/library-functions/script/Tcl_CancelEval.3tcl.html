<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tcl_CancelEval, Tcl_Canceled - cancel Tcl scripts</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl9.0-doc">tcl9.0-doc_9.0.1+dfsg-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tcl_CancelEval, Tcl_Canceled - cancel Tcl scripts

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;tcl.h&gt;</b>
       int
       <b>Tcl_CancelEval</b>(<u>interp,</u> <u>resultObjPtr,</u> <u>clientData,</u> <u>flags</u>)

       int
       <b>Tcl_Canceled</b>(<u>interp,</u> <u>flags</u>)

</pre><h4><b>ARGUMENTS</b></h4><pre>
       Tcl_Interp <u>*interp</u> (in)          Interpreter in which to cancel the script.

       Tcl_Obj <u>*resultObjPtr</u> (in)       Error  message  to  use  in  the  cancellation, or NULL to use a default
                                        message. If  not  NULL,  this  object  will  have  its  reference  count
                                        decremented before <b>Tcl_CancelEval</b> returns.

       int <u>flags</u> (in)                   OR'ed  combination  of  flag  bits that specify additional options.  For
                                        <b>Tcl_CancelEval</b>, only  <b>TCL_CANCEL_UNWIND</b>  is  currently  supported.   For
                                        <b>Tcl_Canceled</b>, only <b>TCL_LEAVE_ERR_MSG</b> and <b>TCL_CANCEL_UNWIND</b> are currently
                                        supported.

       void <u>*clientData</u> (in)            Currently reserved for future use.  It should be set to NULL.
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Tcl_CancelEval</b>  cancels  or unwinds the script in progress soon after the next invocation of asynchronous
       handlers, causing <b>TCL_ERROR</b> to be the return code for that script.  This function is thread-safe and  may
       be called from any thread in the process.

       <b>Tcl_Canceled</b>  checks  if  the  script  in  progress  has  been  canceled and returns <b>TCL_ERROR</b> if it has.
       Otherwise, <b>TCL_OK</b> is returned.  Extensions can use this function to check to see if they should  abort  a
       long  running  command.   This  function  is  thread sensitive and may only be called from the thread the
       interpreter was created in.

   <b>FLAG</b> <b>BITS</b>
       Any OR'ed combination of the following values may be used for the <u>flags</u> argument to  procedures  such  as
       <b>Tcl_CancelEval</b>:

       <b>TCL_CANCEL_UNWIND</b>   This  flag  is  used by <b>Tcl_CancelEval</b> and <b>Tcl_Canceled</b>.  For <b>Tcl_CancelEval</b>, if this
                           flag is set, the script in progress is canceled and  the  evaluation  stack  for  the
                           interpreter  is  unwound.   For  <b>Tcl_Canceled</b>,  if  this  flag  is set, the script in
                           progress is  considered  to  be  canceled  only  if  the  evaluation  stack  for  the
                           interpreter is being unwound.

       <b>TCL_LEAVE_ERR_MSG</b>   This  flag  is  only  used by <b>Tcl_Canceled</b>; it is ignored by other procedures.  If an
                           error is returned and this bit is set in <u>flags</u>, then an error message will be left in
                           the interpreter's  result,  where  it  can  be  retrieved  with  <b>Tcl_GetObjResult</b>  or
                           <b>Tcl_GetStringResult</b>.   If  this flag bit is not set then no error message is left and
                           the interpreter's result will not be modified.

</pre><h4><b>REFERENCE</b> <b>COUNT</b> <b>MANAGEMENT</b></h4><pre>
       <b>Tcl_CancelEval</b> always decrements the reference count of its <u>resultObjPtr</u> argument (if that is  non-NULL).
       It  is  expected  to  be usually called with an object with zero reference count. If the object is shared
       with some other location (including the  Tcl  evaluation  stack)  it  should  have  its  reference  count
       incremented before calling this function.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3tcl/interp.3tcl.html">interp</a>(3tcl), <a href="../man3tcl/Tcl_Eval.3tcl.html">Tcl_Eval</a>(3tcl), TIP 285

</pre><h4><b>KEYWORDS</b></h4><pre>
       cancel, unwind

Tcl                                                    8.6                                      <u><a href="../man3tcl/Tcl_Cancel.3tcl.html">Tcl_Cancel</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>