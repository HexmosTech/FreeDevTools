<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPANPLUS::Backend - programmer's interface to CPANPLUS</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcpanplus-perl">libcpanplus-perl_0.9916-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CPANPLUS::Backend - programmer's interface to CPANPLUS

</pre><h4><b>SYNOPSIS</b></h4><pre>
           my $cb      = CPANPLUS::Backend-&gt;new;
           my $conf    = $cb-&gt;configure_object;

           my $author  = $cb-&gt;author_tree('KANE');
           my $mod     = $cb-&gt;module_tree('Some::Module');
           my $mod     = $cb-&gt;parse_module( module =&gt; 'Some::Module' );

           my @objs    = $cb-&gt;search(  type    =&gt; TYPE,
                                       allow   =&gt; [...] );

           $cb-&gt;flush('all');
           $cb-&gt;reload_indices;
           $cb-&gt;local_mirror;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides the programmer's interface to the "CPANPLUS" libraries.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       When "CPANPLUS::Backend" is loaded, which is necessary for just about every &lt;CPANPLUS&gt; operation, the
       environment variable "PERL5_CPANPLUS_IS_RUNNING" is set to the current process id.

       Additionally, the environment variable "PERL5_CPANPLUS_IS_VERSION" will be set to the version of
       "CPANPLUS::Backend".

       This information might be useful somehow to spawned processes.

</pre><h4><b>METHODS</b></h4><pre>
   <b>$cb</b> <b>=</b> <b>CPANPLUS::Backend-&gt;new(</b> <b>[CONFIGURE_OBJ]</b> <b>)</b>
       This method returns a new "CPANPLUS::Backend" object.  This also initialises the config corresponding to
       this object.  You have two choices in this:

       Provide a valid "CPANPLUS::Configure" object
           This will be used verbatim.

       No arguments
           Your default config will be loaded and used.

       New will return a "CPANPLUS::Backend" object on success and die on failure.

   <b>$href</b> <b>=</b> <b>$cb-&gt;module_tree(</b> <b>[@modules_names_list]</b> <b>)</b>
       Returns a reference to the CPANPLUS module tree.

       If  you give it any arguments, they will be treated as module names and "module_tree" will try to look up
       these module names and return the corresponding module objects instead.

       See CPANPLUS::Module for the operations you can perform on a module object.

   <b>$href</b> <b>=</b> <b>$cb-&gt;author_tree(</b> <b>[@author_names_list]</b> <b>)</b>
       Returns a reference to the CPANPLUS author tree.

       If you give it any arguments, they will be treated as author names and "author_tree" will try to look  up
       these author names and return the corresponding author objects instead.

       See CPANPLUS::Module::Author for the operations you can perform on an author object.

   <b>$conf</b> <b>=</b> <b>$cb-&gt;configure_object;</b>
       Returns a copy of the "CPANPLUS::Configure" object.

       See CPANPLUS::Configure for operations you can perform on a configure object.

   <b>$su</b> <b>=</b> <b>$cb-&gt;selfupdate_object;</b>
       Returns a copy of the "CPANPLUS::Selfupdate" object.

       See the CPANPLUS::Selfupdate manpage for the operations you can perform on the selfupdate object.

   <b>@mods</b> <b>=</b> <b>$cb-&gt;search(</b> <b>type</b> <b>=&gt;</b> <b>TYPE,</b> <b>allow</b> <b>=&gt;</b> <b>AREF,</b> <b>[data</b> <b>=&gt;</b> <b>AREF,</b> <b>verbose</b> <b>=&gt;</b> <b>BOOL]</b> <b>)</b>
       "search"  enables  you to search for either module or author objects, based on their data. The "type" you
       can specify is any of  the  accessors  specified  in  "CPANPLUS::Module::Author"  or  "CPANPLUS::Module".
       "search" will determine by the "type" you specified whether to search by author object or module object.

       You have to specify an array reference of regular expressions or strings to match against. The rules used
       for this array ref are the same as in "Params::Check", so read that manpage for details.

       The search is an "or" search, meaning that if "any" of the criteria match, the search is considered to be
       successful.

       You  can  specify  the  result  of a previous search as "data" to limit the new search to these module or
       author objects, rather than the entire module or author tree.  This is how you do "and" searches.

       Returns a list of module or author objects on success and false on failure.

       See CPANPLUS::Module for the operations you can perform on a module object.  See CPANPLUS::Module::Author
       for the operations you can perform on an author object.

   <b>$backend_rv</b> <b>=</b> <b>$cb-&gt;fetch(</b> <b>modules</b> <b>=&gt;</b> <b>\@mods</b> <b>)</b>
       Fetches a list of  modules.  @mods  can  be  a  list  of  distribution  names,  module  names  or  module
       objects--basically anything that parse_module can understand.

       See the equivalent method in "CPANPLUS::Module" for details on other options you can pass.

       Since  this  is  a multi-module method call, the return value is implemented as a "CPANPLUS::Backend::RV"
       object. Please consult that module's documentation on how to interpret the return value.

   <b>$backend_rv</b> <b>=</b> <b>$cb-&gt;extract(</b> <b>modules</b> <b>=&gt;</b> <b>\@mods</b> <b>)</b>
       Extracts a list of modules.  @mods  can  be  a  list  of  distribution  names,  module  names  or  module
       objects--basically anything that parse_module can understand.

       See the equivalent method in "CPANPLUS::Module" for details on other options you can pass.

       Since  this  is  a multi-module method call, the return value is implemented as a "CPANPLUS::Backend::RV"
       object. Please consult that module's documentation on how to interpret the return value.

   <b>$backend_rv</b> <b>=</b> <b>$cb-&gt;install(</b> <b>modules</b> <b>=&gt;</b> <b>\@mods</b> <b>)</b>
       Installs a list of modules.  @mods  can  be  a  list  of  distribution  names,  module  names  or  module
       objects--basically anything that parse_module can understand.

       See the equivalent method in "CPANPLUS::Module" for details on other options you can pass.

       Since  this  is  a multi-module method call, the return value is implemented as a "CPANPLUS::Backend::RV"
       object. Please consult that module's documentation on how to interpret the return value.

   <b>$backend_rv</b> <b>=</b> <b>$cb-&gt;readme(</b> <b>modules</b> <b>=&gt;</b> <b>\@mods</b> <b>)</b>
       Fetches the readme for a list of modules. @mods can be a list of  distribution  names,  module  names  or
       module objects--basically anything that parse_module can understand.

       See the equivalent method in "CPANPLUS::Module" for details on other options you can pass.

       Since  this  is  a multi-module method call, the return value is implemented as a "CPANPLUS::Backend::RV"
       object. Please consult that module's documentation on how to interpret the return value.

   <b>$backend_rv</b> <b>=</b> <b>$cb-&gt;files(</b> <b>modules</b> <b>=&gt;</b> <b>\@mods</b> <b>)</b>
       Returns a list of files used by these modules if they are installed.  @mods can be a list of distribution
       names, module names or module objects--basically anything that parse_module can understand.

       See the equivalent method in "CPANPLUS::Module" for details on other options you can pass.

       Since this is a multi-module method call, the return value is implemented  as  a  "CPANPLUS::Backend::RV"
       object. Please consult that module's documentation on how to interpret the return value.

   <b>$backend_rv</b> <b>=</b> <b>$cb-&gt;distributions(</b> <b>modules</b> <b>=&gt;</b> <b>\@mods</b> <b>)</b>
       Returns  a  list  of module objects representing all releases for this module on success.  @mods can be a
       list of distribution names, module names or module objects,  basically  anything  that  parse_module  can
       understand.

       See the equivalent method in "CPANPLUS::Module" for details on other options you can pass.

       Since  this  is  a multi-module method call, the return value is implemented as a "CPANPLUS::Backend::RV"
       object. Please consult that module's documentation on how to interpret the return value.

   <b>$mod_obj</b> <b>=</b> <b>$cb-&gt;parse_module(</b> <b>module</b> <b>=&gt;</b> <b>$modname|$distname|$modobj|URI|PATH</b> <b>)</b>
       "parse_module" tries to find a "CPANPLUS::Module" object that  matches  your  query.  Here's  a  list  of
       examples you could give to "parse_module";

       Text::Bastardize
       Text-Bastardize
       Text/Bastardize.pm
       Text-Bastardize-1.06
       AYRNIEU/Text-Bastardize
       AYRNIEU/Text-Bastardize-1.06
       AYRNIEU/Text-Bastardize-1.06.tar.gz
       <a href="http://example.com/Text-Bastardize-1.06.tar.gz">http://example.com/Text-Bastardize-1.06.tar.gz</a>
       file:///tmp/Text-Bastardize-1.06.tar.gz
       /tmp/Text-Bastardize-1.06
       ./Text-Bastardize-1.06
       .

       These  items  would  all come up with a "CPANPLUS::Module" object for "Text::Bastardize". The ones marked
       explicitly as being version 1.06 would give back a "CPANPLUS::Module" object of that  version.   Even  if
       the version on CPAN is currently higher.

       The last three are examples of PATH resolution. In the first, we supply an absolute path to the unwrapped
       distribution. In the second the distribution is relative to the current working directory.  In the third,
       we will use the current working directory.

       If  "parse_module"  is unable to actually find the module you are looking for in its module tree, but you
       supplied it with an author, module and version part in a distribution name or URI, it will create a  fake
       "CPANPLUS::Module" object for you, that you can use just like the real thing.

       See CPANPLUS::Module for the operations you can perform on a module object.

       If  even this fancy guessing doesn't enable "parse_module" to create a fake module object for you to use,
       it will warn about an error and return false.

   <b>$bool</b> <b>=</b> <b>$cb-&gt;reload_indices(</b> <b>[update_source</b> <b>=&gt;</b> <b>BOOL,</b> <b>verbose</b> <b>=&gt;</b> <b>BOOL]</b> <b>);</b>
       This method reloads the source files.

       If "update_source" is set to true, this will fetch new source files from  your  CPAN  mirror.  Otherwise,
       "reload_indices" will do its usual cache checking and only update them if they are out of date.

       By default, "update_source" will be false.

       The verbose setting defaults to what you have specified in your config file.

       Returns true on success and false on failure.

   <b>$bool</b> <b>=</b> <b>$cb-&gt;flush(CACHE_NAME)</b>
       This method allows flushing of caches.  There are several things which can be flushed:

       •   "methods"

           The return status of methods which have been attempted, such as different ways of fetching files.  It
           is recommended that automatic flushing be used instead.

       •   "hosts"

           The  return  status of URIs which have been attempted, such as different hosts of fetching files.  It
           is recommended that automatic flushing be used instead.

       •   "modules"

           Information about modules such as prerequisites and whether installation succeeded,  failed,  or  was
           not attempted.

       •   "lib"

           This resets PERL5LIB, which is changed to ensure that while installing modules they are in our @INC.

       •   "load"

           This  resets the cache of modules we've attempted to load, but failed.  This enables you to load them
           again after a failed load, if they somehow have become available.

       •   "all"

           Flush all of the aforementioned caches.

       Returns true on success and false on failure.

   <b>@mods</b> <b>=</b> <b>$cb-&gt;installed()</b>
       Returns a list of module objects of all your installed modules.  If  an  error  occurs,  it  will  return
       false.

       See CPANPLUS::Module for the operations you can perform on a module object.

   <b>$bool</b> <b>=</b> <b>$cb-&gt;local_mirror([path</b> <b>=&gt;</b> <b>'/dir/to/save/to',</b> <b>index_files</b> <b>=&gt;</b> <b>BOOL,</b> <b>force</b> <b>=&gt;</b> <b>BOOL,</b> <b>verbose</b> <b>=&gt;</b> <b>BOOL]</b> <b>)</b>
       Creates  a  local  mirror  of CPAN, of only the most recent sources in a location you specify. If you set
       this location equal to a custom host in your "CPANPLUS::Config" you can use your local mirror to  install
       from.

       It takes the following arguments:

       path
           The location where to create the local mirror.

       index_files
           Enable/disable fetching of index files. You can disable fetching of the index files if you don't plan
           to use the local mirror as your primary site, or if you'd like up-to-date index files be fetched from
           elsewhere.

           Defaults to true.

       force
           Forces refetching of packages, even if they are there already.

           Defaults to whatever setting you have in your "CPANPLUS::Config".

       verbose
           Prints more messages about what its doing.

           Defaults to whatever setting you have in your "CPANPLUS::Config".

       Returns true on success and false on error.

   <b>$file</b> <b>=</b> <b>$cb-&gt;autobundle([path</b> <b>=&gt;</b> <b>OUTPUT_PATH,</b> <b>force</b> <b>=&gt;</b> <b>BOOL,</b> <b>verbose</b> <b>=&gt;</b> <b>BOOL])</b>
       Writes  out  a  snapshot  of  your  current installation in "CPAN" bundle style. This can then be used to
       install the same modules for a different or on a different machine by issuing the following commands:

           ### using the default shell:
           CPAN Terminal&gt; i file://path/to/Snapshot_XXYY.pm

           ### using the API
           $modobj = $cb-&gt;parse_module( module =&gt; 'file://path/to/Snapshot_XXYY.pm' );
           $modobj-&gt;install;

       It will, by default, write to an 'autobundle' directory under your cpanplus home directory, but  you  can
       override that by supplying a "path" argument.

       It will return the location of the output file on success and false on failure.

   <b>$bool</b> <b>=</b> <b>$cb-&gt;save_state</b>
       Explicit command to save memory state to disk. This can be used to save information to disk about where a
       module  was extracted, the result of "make test", etc. This will then be re-loaded into memory when a new
       session starts.

       The capability of saving state to disk depends on the source engine being  used  (See  "CPANPLUS::Config"
       for the option to choose your source engine). The default storage engine supports this option.

       Most  users will not need this command, but it can handy for automated systems like setting up CPAN smoke
       testers.

       The method will return true if it managed to save the state to disk, or false if it did not.

</pre><h4><b>CUSTOM</b> <b>MODULE</b> <b>SOURCES</b></h4><pre>
       Besides the sources as provided by the general "CPAN" mirrors, it's possible to add your own sources list
       to your "CPANPLUS" index.

       The methodology behind this works much like "Debian's apt-sources".

       The methods below show you how to make use of this functionality. Also note that most  of  these  methods
       are  available through the default shell plugin command "/cs", making them available as shortcuts through
       the shell and via the command line.

   <b>%files</b> <b>=</b> <b>$cb-&gt;list_custom_sources</b>
       Returns a mapping of registered custom sources and their local indices as follows:

           /full/path/to/local/index =&gt; <a href="http://remote/source">http://remote/source</a>

       Note that any file starting with an "#" is being ignored.

   <b>$local_index</b> <b>=</b> <b>$cb-&gt;add_custom_source(</b> <b>uri</b> <b>=&gt;</b> <b>URI,</b> <b>[verbose</b> <b>=&gt;</b> <b>BOOL]</b> <b>);</b>
       Adds  an  "URI"  to  your  own  sources  list  and  mirrors  its  index.   See   the   documentation   on
       "$cb-&gt;update_custom_source" on how this is done.

       Returns the full path to the local index on success, or false on failure.

       Note  that  when  adding  a new "URI", the change to the in-memory tree is not saved until you rebuild or
       save the tree to disk again. You can do this using the "$cb-&gt;reload_indices" method.

   <b>$local_index</b> <b>=</b> <b>$cb-&gt;remove_custom_source(</b> <b>uri</b> <b>=&gt;</b> <b>URI,</b> <b>[verbose</b> <b>=&gt;</b> <b>BOOL]</b> <b>);</b>
       Removes an "URI" from your own sources list and removes its index.

       To find out what "URI"s you have as part of your own sources  list,  use  the  "$cb-&gt;list_custom_sources"
       method.

       Returns the full path to the deleted local index file on success, or false on failure.

   <b>$bool</b> <b>=</b> <b>$cb-&gt;update_custom_source(</b> <b>[remote</b> <b>=&gt;</b> <b>URI]</b> <b>);</b>
       Updates the indexes for all your custom sources. It does this by fetching a file called "packages.txt" in
       the  root  of  the  custom sources' "URI".  If you provide the "remote" argument, it will only update the
       index for that specific "URI".

       Here's an example of how custom sources would resolve into index files:

         file:///path/to/sources       =&gt;  file:///path/to/sources/packages.txt
         <a href="http://example.com/sources">http://example.com/sources</a>    =&gt;  <a href="http://example.com/sources/packages.txt">http://example.com/sources/packages.txt</a>
         <a href="ftp://example.com/sources">ftp://example.com/sources</a>     =&gt;  <a href="ftp://example.com/sources/packages.txt">ftp://example.com/sources/packages.txt</a>

       The file "packages.txt" simply holds a list of packages that can be found under the root  of  the  "URI".
       This  file  can  be  automatically  generated  for  you  when  the  remote source is a "file:// URI". For
       "http://",  "ftp://",  and  similar,  the  administrator  of  that  repository  should  run  the   method
       "$cb-&gt;write_custom_source_index" on the repository to allow remote users to index it.

       For details, see the "$cb-&gt;write_custom_source_index" method below.

       All  packages  that  are added via this mechanism will be attributed to the author with "CPANID" "LOCAL".
       You can use this id to search for all added packages.

   <b>$file</b> <b>=</b> <b>$cb-&gt;write_custom_source_index(</b> <b>path</b> <b>=&gt;</b> <b>/path/to/package/root,</b> <b>[to</b> <b>=&gt;</b> <b>/path/to/index/file,</b> <b>verbose</b> <b>=&gt;</b>
       <b>BOOL]</b> <b>);</b>
       Writes the index for a custom repository root. Most  users  will  not  have  to  worry  about  this,  but
       administrators of a repository will need to make sure their indexes are up to date.

       The  index will be written to a file called "packages.txt" in your repository root, which you can specify
       with the "path" argument. You can override this location by specifying the "to" argument, but  in  normal
       operation, that should not be required.

       Once  the  index file is written, users can then add the "URI" pointing to the repository to their custom
       list of sources and start using it right away. See the "$cb-&gt;add_custom_source" method for user details.

</pre><h4><b>BUG</b> <b>REPORTS</b></h4><pre>
       Please report bugs or other issues to &lt;<a href="mailto:bug-cpanplus@rt.cpan.org">bug-cpanplus@rt.cpan.org</a>&lt;gt&gt;.

</pre><h4><b>AUTHOR</b></h4><pre>
       This module by Jos Boumans &lt;<a href="mailto:kane@cpan.org">kane@cpan.org</a>&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       The CPAN++ interface (of which this module is a part of) is  copyright  (c)  2001  -  2007,  Jos  Boumans
       &lt;<a href="mailto:kane@cpan.org">kane@cpan.org</a>&gt;. All rights reserved.

       This library is free software; you may redistribute and/or modify it under the same terms as Perl itself.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       CPANPLUS::Configure, CPANPLUS::Module, CPANPLUS::Module::Author, CPANPLUS::Selfupdate

perl v5.40.1                                       2025-03-01                             <u>CPANPLUS::<a href="../man3pm/Backend.3pm.html">Backend</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>