<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>snmpa_mib_data - Behaviour module for the SNMP agent mib-server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/erlang-manpages">erlang-manpages_24.2.1+dfsg-1ubuntu0.5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       snmpa_mib_data - Behaviour module for the SNMP agent mib-server
         data module.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  module  defines  the behaviour of the SNMP agent mib-server data module. A <u>snmpa_mib_data</u> compliant
       module must export the following functions:

         * new/1

         * close/1

         * sync/1

         * load_mib/4

         * unload_mib/4

         * lookup/2

         * next/3

         * register_subagent/3

         * unregister_subagent/2

         * which_mib/2

         * which_mibs/1

         * whereis_mib/2

         * dump/2

         * info/1

         * backup/2

         * code_change/4

       The semantics of them and their exact signatures are explained below.

       Note that the data extracted from the imported (loaded) mibs are stored  partly  by  the  mib-server  and
       partly  by  the  symbolic-store  server.  See the default mib-server data module, <u>snmpa_mib_data_tttn</u> for
       details.

</pre><h4><b>CALLBACK</b> <b>FUNCTIONS</b></h4><pre>
       The following functions must be exported from a <u>mib-server</u> data callback module:

</pre><h4><b>EXPORTS</b></h4><pre>
       <b>Module:new(Storage)</b> <b>-&gt;</b> <b>State</b>

              Types:

                 Storage = mib_storage()
                 State = term()

              Create a new mib-server data instance.

       <b>Module:close(State)</b> <b>-&gt;</b> <b>void()</b>

              Types:

                 State = term()

              Close the mib-storage.

       <b>Module:sync(State)</b> <b>-&gt;</b> <b>void()</b>

              Types:

                 State = term()

              Synchronize (write to disc, if possible) the mib-server data.  This  depends  on  the  <u>mib_storage</u>
              option,  and will only have an effect if the mib-storage option has an actual disc component (such
              as dets, or ets with a file).

       <b>Module:load_mib(State,</b> <b>Filename,</b> <b>MeOverride,</b> <b>TeOverride)</b> <b>-&gt;</b> <b>{ok,</b> <b>NewState}</b> <b>|</b> <b>{error,</b> <b>Reason}</b>

              Types:

                 State = NewState = term()
                 Filename = filename()
                 MeOverride = boolean()
                 TeOverride = boolean()
                 Reason = already_loaded | term()

              Load the mib specified by the <u>Filename</u> argument into the mib-server. The <u>MeOverride</u> and <u>TeOverride</u>
              arguments specifies how the mib-server shall handle duplicate mib- and trap- entries.

       <b>Module:unload_mib(State,</b> <b>Filename)</b> <b>-&gt;</b> <b>{ok,</b> <b>NewState}</b> <b>|</b> <b>{error,</b> <b>Reason}</b>

              Types:

                 State = NewState = term()
                 Filename = filename()
                 Reason = not_loaded | term()

              Unload the mib specified by the <u>Filename</u> argument from the mib-server.

       <b>Module:lookup(State,</b> <b>Oid)</b> <b>-&gt;</b> <b>Reply</b>

              Types:

                 State = term()
                 Reply = {variable, ME} | {table_column, ME, TEOid} | {subagent, SAPid, SAOid} | {false, Reason}
                 Oid = TEOid = SAOid = oid()
                 SAPid = pid()
                 ME = me()
                 Reason = term()

              Find the mib-entry corresponding to the <u>Oid</u>. If it is a variable, the <u>Oid</u> must be &lt;Oid for  var&gt;.0
              and if it is a table, <u>Oid</u> must be &lt;table&gt;.&lt;entry&gt;.&lt;col&gt;.&lt;any&gt;.

       <b>Module:next(State,</b> <b>Oid,</b> <b>MibView)</b> <b>-&gt;</b> <b>Reply</b>

              Types:

                 State = term()
                 Reply  =  false  |  endOfTable  |  {subagent,  SAPid, SAOid} | {variable, ME, VarOid} | {table,
                 TableOid, TableRestOid, ME}
                 Oid = SAOid = VarOid = TableOid = TableRestOid = oid()
                 SAPid = pid()
                 ME = me()

              Finds the lexicographically next oid.

       <b>Module:register_subagent(State,</b> <b>Oid,</b> <b>Pid)</b> <b>-&gt;</b> <b>Reply</b>

              Types:

                 State = NewState = term()
                 Reply = {ok, NewState} | {error, Reason}
                 Oid = oid()
                 Pid = pid()
                 Reason = term()

              Register the subagent, process, handling part of the mib-tree.

       <b>Module:unregister_subagent(State,</b> <b>PidOrOid)</b> <b>-&gt;</b> <b>Reply</b>

              Types:

                 State = NewState = term()
                 Reply = {ok, NewState} | {ok, NewState, Pid} | {error, Reason}
                 PidOrOid = pid() | oid()
                 Pid = pid()
                 Reason = term()

              Unregister the subagent, handling part of the  mib-tree,  as  specified  by  the  <u>oid()</u>  or  <u>pid()</u>
              (<u>PidOrOid</u>).

              When  unregister  the  subagent  using an <u>oid()</u>, the <u>pid()</u> of the process handling the sub-tree is
              also returned.

       <b>Module:dump(State,</b> <b>Destination)</b> <b>-&gt;</b> <b>Reply</b>

              Types:

                 State = term()
                 Reply = ok | {error, Reason}
                 Destination = io | filename()
                 Pid = pid()
                 Reason = term()

              Dump the mib-server data to <u>stdio</u> (Destination = <u>io</u>) or the specified file.

       <b>Module:which_mib(State,</b> <b>Oid)</b> <b>-&gt;</b> <b>Reply</b>

              Types:

                 State = term()
                 Reply = {ok, MibFile} | {error, Reason}
                 Oid = oid()
                 MibFile = string()
                 Reason = term()

              Retrieve the mib-file to which an given <u>oid()</u> belongs.

       <b>Module:which_mibs(State)</b> <b>-&gt;</b> <b>Reply</b>

              Types:

                 State = term()
                 Reply = [{MibName, Filename}]
                 MibName = atom()
                 Filename = string()

              Retrieve all loaded mib-files.

       <b>Module:whereis_mib(State,</b> <b>MibName)</b> <b>-&gt;</b> <b>Reply</b>

              Types:

                 State = term()
                 MibName = atom()
                 Reply = {ok, Filename} | {error, Reason}
                 Filename = string()
                 Reason = term()

              Retrieve the mib file for the mib.

       <b>Module:info(State)</b> <b>-&gt;</b> <b>Reply</b>

              Types:

                 State = term()
                 Reply = {ok, Filename} | {error, Reason}
                 Filename = string()
                 Reason = term()

              Retrieve misc info for the mib data.

              This is a utility function used to inspect, for instance, memory usage, in a simple way.

       <b>Module:backup(State,</b> <b>BackupDir)</b> <b>-&gt;</b> <b>Reply</b>

              Types:

                 State = term()
                 Reply = ok | {error, Reason}
                 BackupDir = string()
                 Reason = term()

              Perform a backup of the mib-server data.

              Note that its implementation dependant (and also dependent on mib-storage is used) if a backup  is
              possible.

       <b>Module:code_change(Destination,</b> <b>Vsn,</b> <b>Extra,</b> <b>State)</b> <b>-&gt;</b> <b>NewState</b>

              Types:

                 Destination = up | down
                 Vsn = term()
                 Extra = term()
                 State = NewState = term()

              Perform a code-change (upgrade or downgrade).

              See gen_server for more info regarding the <u>Vsn</u> and <u>Extra</u> arguments.

Ericsson AB                                         snmp 5.11                               <u><a href="../man3erl/snmpa_mib_data.3erl.html">snmpa_mib_data</a></u>(3erl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>