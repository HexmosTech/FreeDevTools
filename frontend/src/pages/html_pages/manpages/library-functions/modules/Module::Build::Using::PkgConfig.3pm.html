<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>"Module::Build::Using::PkgConfig" - extend "Module::Build" to more easily use platform libraries provided</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmodule-build-using-pkgconfig-perl">libmodule-build-using-pkgconfig-perl_0.03-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       "Module::Build::Using::PkgConfig" - extend "Module::Build" to more easily use platform libraries provided
       by pkg-config

</pre><h4><b>SYNOPSIS</b></h4><pre>
       In <u>Build.PL</u>:

          use Module::Build::Using::PkgConfig;

          my $build = Module::Build::Using::PkgConfig-&gt;new(
             module_name =&gt; "Module::Here",
             ... # other arguments as per Module::Build
          );

          # A platform library provided by pkg-config
          $build-&gt;use_pkgconfig( "libfoo" );

          # We need at least a given version
          $build-&gt;use_pkgconfig( "libbar",
             atleast_version =&gt; "0.5",
          );

          # A platform librariy that's also wrapped as an Alien module
          $build-&gt;use_pkgconfig( "libsplot",
             atleast_version =&gt; "1.0",
             alien           =&gt; "Alien::libsplot",
             alien_version   =&gt; "0.05", # Alien::libsplot 0.05 provides libsplot v1.0
          );

          $build-&gt;create_build_script;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This subclass of Module::Build provides some handy methods to assist the <u>Build.PL</u> script of XS-based
       module distributions that make use of platform libraries managed by <u>pkg-config</u>.

       As well as supporting libraries installed on a platform-wide basis and thus visible to <u>pkg-config</u> itself,
       this subclass also assists with "Alien::"-based wrappers of these system libraries, allowing them to be
       dynamically installed at build time if the platform does not provide them.

   <b>RPATH</b> <b>generation</b>
       This module also provides some helper code to generate the required "RPATH" arguments needed to link
       against the libraries found by inspecting the "extra_linker_flags". This attempts to duplicate the same
       logic performed by <u>libtool</u> when it would link a C program or library, as we don't get to use its code
       when linking dynamic libraries for Perl.

</pre><h4><b>PROPERTIES</b></h4><pre>
       no_late_aliens =&gt; BOOL
           If  true,  applies the "no_late_alien" option to every use of "use_pkgconfig" that specifies an Alien
           module.

</pre><h4><b>METHODS</b></h4><pre>
   <b>use_pkgconfig</b>
          $build-&gt;use_pkgconfig( $modname, ... )

       Requires the given <u>pkg-config</u> module of the given version, and extends the compiler and linker  arguments
       sufficient to build from it.

       Takes the following named options:

       atleast_version =&gt; $modver
           If  given,  the  <u>pkg-config</u> module is required to be at least the given version. If unspecified, then
           any version is considered sufficient.

       alien =&gt; $alien
           If given and the <u>pkg-config</u> module does not exist, try to use the given "Alien::" module  to  provide
           it instead.

           If  this  module is not yet available and the "no_late_alien" option is not true, the Alien module is
           added to the "requires" dynamic dependencies and checked again at "build" action time.

       no_late_alien =&gt; BOOL
           If true, suppresses the dynamic "requires" feature of Alien modules described above.

       alien_version =&gt; $version
           If the "Alien::" module is not available, gives the module version of it that  will  be  required  to
           provide the <u>pkg-config</u> module of the required version.  This gets added to "requires".

       If  neither  the  <u>pkg-config</u>  module  and  no  "Alien::"  module  was  requested  (or  none was found and
       "no_late_alien" was set), this method dies with an "OS unsupported" message, which  is  usually  what  is
       required for a <u>Build.PL</u> script.

   <b>try_pkconfig</b>
          $ok = $build-&gt;try_pkconfig( $modname, ... )

       Boolean-returning  version of "use_pkgconfig". If successful, returns true.  If it fails it returns false
       rather than dying, allowing the <u>Build.PL</u> script to take alternative action.

   <b>pkgconfig_atleast_version</b>
          $ok = $build-&gt;pkgconfig_atleast_version( $modname, $modver )

       Returns true if the <u>pkg-config</u> module name exists and has at least the given version.

   <b>add_cflags_libs_from_pkgconfig</b>
          $build-&gt;add_cflags_libs_from_pkgconfig( $modname )

       Extend the "extra_compiler_flags" and "extra_linker_flags" arguments from  the  "--cflags"  and  "--libs"
       from the given <u>pkg-config</u> module name.

   <b>alien_atleast_version</b>
          $ok = $build-&gt;alien_atleast_version( $alien, $modver )

       Returns  true  if  the  given  "Alien::"  module  provides a <u>pkg-config</u> module version at least the given
       version.

   <b>add_cflags_libs_from_alien</b>
          $build-&gt;add_cflags_libs_from_alien( $alien )

       Extend the "extra_compiler_flags" and "extra_linker_flags" arguments from  the  "--cflags"  and  "--libs"
       from the given "Alien::" module name.

   <b>use_late_alien</b>
          $ok = $build-&gt;use_late_alien( $alien, ... )

       Adds  an  Alien  module directly to the "requires" hash, and makes a note to use its cflags and libraries
       later at build time.

       Normally this method would not be necessary as it is automatically called from use_pkgconfig if required,
       but one use-case may be to provide a final last-ditch attempt after trying some other possible  attempts,
       after an earlier call to "use_pkgconfig" with "no_late_alien" set.

   <b>push_extra_compiler_flags</b>
          $build-&gt;push_extra_compiler_flags( @flags )

       Appends more values onto the "extra_compiler_flags".

   <b>push_extra_linker_flags</b>
          $build-&gt;push_extra_linker_flags( @flags )

       Appends more values onto the "extra_linker_flags".

</pre><h4><b>TODO</b></h4><pre>
       •   Consider a "quiet" option to suppress verbose printing

       •   Consider  defining  a  constructor argument, perhaps "build_requires_pkgconfig", to neaten the common
           case of simple requirements.

       •   Consider further stealing the various helper methods from ExtUtils::CChecker and  possibly  splitting
           this class into a lower "C-using XS modules" and higher-level <u>pkg-config</u>+Alien layer.

</pre><h4><b>AUTHOR</b></h4><pre>
       Paul Evans &lt;<a href="mailto:leonerd@leonerd.org.uk">leonerd@leonerd.org.uk</a>&gt;

perl v5.36.0                                       2022-11-30               <u>Module::Build::Using::<a href="../man3pm/PkgConfig.3pm.html">PkgConfig</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>