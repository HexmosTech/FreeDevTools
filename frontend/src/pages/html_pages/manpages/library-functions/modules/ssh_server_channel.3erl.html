<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ssh_server_channel - -behaviour(ssh_server_channel). (Replaces ssh_daemon_channel)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/erlang-manpages">erlang-manpages_24.2.1+dfsg-1ubuntu0.5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ssh_server_channel - -behaviour(ssh_server_channel). (Replaces ssh_daemon_channel)

</pre><h4><b>DESCRIPTION</b></h4><pre>
   <b>Note:</b>
       This module replaces ssh_daemon_channel.

       The  old  module  is  still available for compatibility, but should not be used for new programs. The old
       module will not be maintained except for some error corrections

       SSH services (clients and servers)  are  implemented  as  channels  that  are  multiplexed  over  an  SSH
       connection  and  communicates over the  SSH Connection Protocol. This module provides a callback API that
       takes care of generic channel aspects for daemons, such as flow control and close messages. It  lets  the
       callback functions take care of the service (application) specific parts. This behavior also ensures that
       the  channel  process honors the principal of an OTP-process so that it can be part of a supervisor tree.
       This is a requirement of channel processes implementing a  subsystem  that  will  be  added  to  the  <u>ssh</u>
       applications supervisor tree.

   <b>Note:</b>
       When implementing a client subsystem handler, use -behaviour(ssh_client_channel) instead.

</pre><h4><b>CALLBACK</b> <b>FUNCTIONS</b></h4><pre>
       The following functions are to be exported from a <u>ssh_server_channel</u> callback module.

</pre><h4><b>EXPORTS</b></h4><pre>
       <b>Module:init(Args)</b> <b>-&gt;</b> <b>{ok,</b> <b>State}</b> <b>|</b> <b>{ok,</b> <b>State,</b> <b>timeout()}</b> <b>|</b> <b>{stop,</b> <b>Reason}</b>

              Types:

                 Args = term()
                   Last argument to <u>start_link/4</u>.
                 State = term()
                 Reason = term()

              Makes  necessary  initializations  and  returns  the  initial channel state if the initializations
              succeed.

              The time-out values that can be returned have the same semantics as in a gen_server. If the  time-
              out occurs, handle_msg/2 is called as <u>handle_msg(timeout,</u> <u>State)</u>.

       <b>Module:handle_msg(Msg,</b> <b>State)</b> <b>-&gt;</b> <b>{ok,</b> <b>State}</b> <b>|</b> <b>{stop,</b> <b>ChannelId,</b> <b>State}</b>

              Types:

                 Msg = timeout | term()
                 ChannelId = ssh:channel_id()
                 State = term()

              Handles other messages than SSH Connection Protocol, call, or cast messages sent to the channel.

              Possible  Erlang  'EXIT' messages is to be handled by this function and all channels are to handle
              the following message.

                <u>{ssh_channel_up,</u> ssh:channel_id()<u>,</u> ssh:connection_ref()<u>}</u>:
                  This is the first message that the channel receives. This is especially useful if  the  server
                  wants  to  send  a  message  to  the  client without first receiving a message from it. If the
                  message is not useful for your particular scenario, ignore it by  immediately  returning  <u>{ok,</u>
                  <u>State}</u>.

       <b>Module:handle_ssh_msg(Msg,</b> <b>State)</b> <b>-&gt;</b> <b>{ok,</b> <b>State}</b> <b>|</b> <b>{stop,</b> <b>ChannelId,</b> <b>State}</b>

              Types:

                 Msg = ssh_connection:event()
                 ChannelId = ssh:channel_id()
                 State = term()

              Handles  SSH  Connection  Protocol messages that may need service-specific attention. For details,
              see ssh_connection:event().

              The following message is taken care of by the <u>ssh_server_channel</u> behavior.

                <u>{closed,</u> ssh:channel_id()<u>}</u>:
                  The channel behavior sends a close message to the other  side,  if  such  a  message  has  not
                  already been sent. Then it terminates the channel with reason <u>normal</u>.

       <b>Module:terminate(Reason,</b> <b>State)</b> <b>-&gt;</b> <b>_</b>

              Types:

                 Reason = term()
                 State = term()

              This  function  is called by a channel process when it is about to terminate. Before this function
              is called,  ssh_connection:close/2  is called, if it has not been called  earlier.  This  function
              does  any  necessary  cleaning  up.  When  it  returns, the channel process terminates with reason
              <u>Reason</u>. The return value is ignored.

Ericsson AB                                         ssh 4.13                            <u><a href="../man3erl/ssh_server_channel.3erl.html">ssh_server_channel</a></u>(3erl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>