<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module::AutoInstall - Automatic install of dependencies via CPAN</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmodule-install-perl">libmodule-install-perl_1.21-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Module::AutoInstall - Automatic install of dependencies via CPAN

</pre><h4><b>SYNOPSIS</b></h4><pre>
       In <u>Makefile.PL</u>, with Module::Install available on the author's system:

           use inc::Module::Install;

           name        'Joe-Hacker';
           abstract    'Perl Interface to Joe Hacker';
           author      'Joe Hacker &lt;<a href="mailto:joe@hacker.org">joe@hacker.org</a>&gt;';
           include     'Module::AutoInstall';

           requires    'Module0';          # mandatory modules

           feature     'Feature1',
               -default    =&gt; 0,
               'Module2'   =&gt; '0.1';

           feature     'Feature2',
               -default    =&gt; 0,
               'Module3'   =&gt; '1.0';

           auto_install(
               make_args   =&gt; '--hello',   # option(s) for CPAN::Config
               force       =&gt; 1,           # pseudo-option to force install
               do_once     =&gt; 1,           # skip previously failed modules
           );

           WriteAll;

       Invoking the resulting <u>Makefile.PL</u>:

           % perl Makefile.PL                  # interactive behaviour
           % perl Makefile.PL --defaultdeps    # accept default value on prompts
           % perl Makefile.PL --checkdeps      # check only, no Makefile produced
           % perl Makefile.PL --skipdeps       # ignores all dependencies
           % perl Makefile.PL --testonly       # don't write installation targets

       Note that the trailing 'deps' of arguments may be omitted, too.

       Using "--defaultdeps" will make <u>Makefile.PL</u> behave similarly to a regular Makefile.PL file with
       "PREREQ_PM" dependencies.

       One can use environment variables (see "ENVIRONMENT") below to set a default behavior instead of
       specifying it in the command line for every invocation of <u>Makefile.PL</u>.

       Using <u>make</u> (or <u>nmake</u>):

           % make [all|test|install]           # install dependencies first
           % make checkdeps                    # same as the --checkdeps above
           % make installdeps                  # install dependencies only
           % make installdeps_notest           # same without running tests
           % make upgradedeps                  # upgrade all deps, even if installed
           % make upgradedeps_notest           # same without running tests
           % make listdeps                     # print unsatisifed deps, one per line
           % make listalldeps                  # print all deps, one per line

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Module::AutoInstall</b> lets module writers to specify a more sophisticated form of dependency information
       than the "PREREQ_PM" option offered by <b>ExtUtils::MakeMaker</b>.

       This module works best with the <b>Module::Install</b> framework, a drop-in replacement for MakeMaker.  However,
       this module also supports <u>Makefile.PL</u> files based on MakeMaker; see "EXAMPLES" for instructions.

       Specifying "installdeps_target;" instead of "auto_install;" will not try to install dependencies when
       running "make", but only when running "make installdeps".

   <b>Prerequisites</b> <b>and</b> <b>Features</b>
       Prerequisites are grouped into <b>features</b>, and the user could choose yes/no on each one's dependencies; the
       module writer may also supply a boolean value via "-default" to specify the default choice.

       The <b>Core</b> <b>Features</b> marked by the name "-core" will double-check with the user, if the user chooses not to
       install the mandatory modules.  This differs from the pre-0.26 'silent install' behaviour.

       Starting from version 0.27, if "-core" is set to the string "all" (case-insensitive), every feature will
       be considered mandatory.

       The dependencies are expressed as pairs of "Module" =&gt; "version" inside an array reference.  If the order
       does not matter, and there are no "-default", "-tests" or "-skiptests" directives for that feature, you
       may also use a hash reference.

   <b>The</b> <b>Installation</b> <b>Process</b>
       Once <b>Module::AutoInstall</b> has determined which module(s) are needed, it checks whether it's running under
       the <b>CPAN</b> shell and should therefore let <b>CPAN</b> handle the dependency.

       Finally, the WriteMakefile() is overridden to perform some additional checks, as well as skips tests
       associated with disabled features by the "-tests" option.

       The actual installation happens at the end of the "make config" target; both "make test" and "make
       install" will trigger the installation of required modules.

       If it's not running under <b>CPAN</b>, the installer will probe for an active connection by trying to resolve
       the domain "cpan.org", and check for the user's permission to use <b>CPAN</b>.  If all went well, a separate
           <b>CPAN</b> instance is created to install the required modules.

       If you have the <b>CPANPLUS</b> package installed in your system, it is preferred by default over <b>CPAN</b>; it also
       accepts some extra options (e.g. "-target =&gt; 'skiptest', -skiptest =&gt; 1" to skip testing).

       All modules scheduled to be installed will be deleted from %INC first, so <b>ExtUtils::MakeMaker</b> will check
       the newly installed modules.

       Additionally, you could use the "make installdeps" target to install the modules, and the "make
       checkdeps" target to check dependencies without actually installing them; the "perl Makefile.PL
       --checkdeps" command has an equivalent effect.

       If the <u>Makefile.PL</u> itself needs to use an independent module (e.g.  <b>Acme::KillarApp</b>, v1.21 or greater),
       then use something like below:

           BEGIN {
               require Module::AutoInstall;
               # the first argument is an arrayref of the -config flags
               Module::AutoInstall-&gt;install([], 'Acme::KillerApp' =&gt; 1.21);
           }
           use Acme::KillerApp 1.21;

           Module::AutoInstall-&gt;import(
               # ... arguments as usual ...
           );

       Note the version test in the use clause; if you are so close to the cutting edge that <b>Acme::KillerApp</b>
       1.20 is the latest version on CPAN, this will prevent your module from going awry.

   <b>User-Defined</b> <b>Hooks</b>
       User-defined <u>pre-installation</u> and <u>post-installation</u> hooks are available via "MY::preinstall" and
       "MY::postinstall" subroutines, as shown below:

           # pre-install handler; takes $module_name and $version
           sub MY::preinstall  { return 1; } # return false to skip install

           # post-install handler; takes $module_name, $version, $success
           sub MY::postinstall { return; }   # the return value doesn't matter

       Note that since <b>Module::AutoInstall</b> performs installation at the time of "use" (i.e. before perl parses
       the remainder of <u>Makefile.PL</u>), you have to declare those two handlers <u>before</u> the "use" statement for them
       to take effect.

       If the user did not choose to install a module or it already exists on the system, neither of the
       handlers is invoked.  Both handlers are invoked exactly once for each module when installation is
       attempted.

       "MY::preinstall" takes two arguments, $module_name and $version; if it returns a false value,
       installation for that module will be skipped, and "MY::postinstall" won't be called at all.

       "MY::postinstall" takes three arguments, $module_name, $version and $success.  The last one denotes
       whether the installation succeeded or not: 1 means installation completed successfully, 0 means failure
       during install, and "undef" means that the installation was not attempted at all, possibly due to
       connection problems, or that module does not exist on CPAN at all.

   <b>Customized</b> <b>"MY::postamble"</b>
       Starting from version 0.43, <b>Module::AutoInstall</b> supports modules that require a "MY::postamble"
       subroutine in their <u>Makefile.PL</u>.  The user-defined "MY::postamble", if present, is responsible for
       calling "Module::AutoInstall::postamble" and include the output in its return value.

       For example, the <b>DBD::*</b> (database driver) modules for the Perl DBI are required to include the postamble
       generated by the function "dbd_postamble", so their <u>Makefile.PL</u> may contain lines like this:

           sub MY::postamble {
               return &amp;Module::AutoInstall::postamble . &amp;dbd_postamble;
           }

       Note that the <b>Module::AutoInstall</b> module does not export the "postamble" function, so the name should
       always be fully qualified.

</pre><h4><b>CAVEATS</b></h4><pre>
       <b>Module::AutoInstall</b> will add "UNINST=1" to your <b>make</b> <b>install</b> flags if your effective uid is 0 (root),
       unless you explicitly disable it by setting <b>CPAN</b>'s "make_install_arg" configuration option (or the
       "makeflags" option of <b>CPANPLUS</b>) to include "UNINST=0".  This <u>may</u> cause dependency problems if you are
       using a fine-tuned directory structure for your site.  Please consult "FAQ" in CPAN for an explanation in
       detail.

       If either <b>version</b> or <b>Sort::Versions</b> is available, they will be used to compare the required version with
       the existing module's version and the CPAN module's.  Otherwise it silently falls back to use <u>cmp</u>.  This
       may cause inconsistent behaviours in pathetic situations.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>Module::AutoInstall</b> uses a single environment variable, "PERL_AUTOINSTALL".  It is taken as the command
       line argument passed to <u>Makefile.PL</u>; you could set it to "--alldeps", "--defaultdeps" or "--skipdeps" to
       avoid all interactive behaviour.

       "--alldeps" will install all features, while "--defaultdeps" will only install features for which the
       default answer is 'y'.

       "--skipdeps" will refrain from loading CPAN and not install anything, unless you're running under CPAN or
       CPANPLUS, in which case required dependencies will be installed.

       It is also read from the "PERL_EXTUTILS_AUTOINSTALL" environment variable if "PERL_AUTOINSTALL" is not
       defined.

       You can also set "PERL_AUTOINSTALL_PREFER_CPAN" to use CPAN to install dependencies. By default CPANPLUS
       is used.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Module::Install

       perlmodlib, ExtUtils::MakeMaker, Sort::Versions, CPAN, CPANPLUS

</pre><h4><b>AUTHORS</b></h4><pre>
       Audrey Tang &lt;<a href="mailto:autrijus@autrijus.org">autrijus@autrijus.org</a>&gt;

       Adam Kennedy &lt;<a href="mailto:adamk@cpan.org">adamk@cpan.org</a>&gt;

       Matt S Trout &lt;<a href="mailto:mst@shadowcat.co.u">mst@shadowcat.co.u</a>&gt;

</pre><h4><b>IF</b> <b>THIS</b> <b>BREAKS</b></h4><pre>
       Report a ticket to bugs-Module-Install &lt;at&gt; rt.cpan.org and cc Matt - I appear to have volunteered as
       primary maintainer for this stuff so if you run into any problems please tell me

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2001, 2002, 2003, 2004, 2005, 2006 by Audrey Tang

       Some parts copyright 2006 Adam Kennedy

       This program is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

       See &lt;<a href="http://www.perl.com/perl/misc/Artistic.html">http://www.perl.com/perl/misc/Artistic.html</a>&gt;

perl v5.38.2                                       2024-03-06                           <u>Module::<a href="../man3pm/AutoInstall.3pm.html">AutoInstall</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>