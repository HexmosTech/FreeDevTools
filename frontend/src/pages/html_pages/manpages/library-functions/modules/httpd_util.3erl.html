<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>httpd_util - Miscellaneous utility functions to be used when implementing</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/erlang-manpages">erlang-manpages_24.2.1+dfsg-1ubuntu0.5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       httpd_util - Miscellaneous utility functions to be used when implementing
         Erlang web server API modules.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides the Erlang web server API module programmer with miscellaneous utility functions.

</pre><h4><b>EXPORTS</b></h4><pre>
       <b>convert_request_date(DateString)</b> <b>-&gt;</b> <b>ErlDate|bad_date</b>

              Types:

                 DateString = string()
                 ErlDate = calendar:datetime()

              <u>convert_request_date/1</u> converts <u>DateString</u> to the Erlang date format. <u>DateString</u> must be in one of
              the three date formats defined in RFC 2616.

       <b>create_etag(FileInfo)</b> <b>-&gt;</b> <b>Etag</b>

              Types:

                 FileInfo = file_info()
                 Etag = string()

              <u>create_etag/1</u>  calculates  the  Etag  for  a  file  from  its size and time for last modification.
              <u>FileInfo</u> is a record defined in <u>kernel/include/file.hrl</u>.

       <b>day(NthDayOfWeek)</b> <b>-&gt;</b> <b>DayOfWeek</b>

              Types:

                 NthDayOfWeek = 1-7
                 DayOfWeek = string()

              <u>day/1</u> converts the day of the week (<u>NthDayOfWeek</u>) from an integer (1-7) to an abbreviated  string,
              that is:

              1 = "Mon", 2 = "Tue", ..., 7 = "Sat".

       <b>decode_hex(HexValue)</b> <b>-&gt;</b> <b>DecValue</b>

              Types:

                 HexValue = DecValue = string()

              Converts the hexadecimal value <u>HexValue</u> into its decimal equivalent (<u>DecValue</u>).

       <b>flatlength(NestedList)</b> <b>-&gt;</b> <b>Size</b>

              Types:

                 NestedList = list()
                 Size = integer()

              <u>flatlength/1</u> computes the size of the possibly nested list <u>NestedList</u>, which can contain binaries.

       <b>hexlist_to_integer(HexString)</b> <b>-&gt;</b> <b>Number</b>

              Types:

                 Number = integer()
                 HexString = string()

              <u>hexlist_to_integer</u> converts the hexadecimal value of <u>HexString</u> to an integer.

       <b>integer_to_hexlist(Number)</b> <b>-&gt;</b> <b>HexString</b>

              Types:

                 Number = integer()
                 HexString = string()

              <u>integer_to_hexlist/1</u> returns a string representing <u>Number</u> in a hexadecimal form.

       <b>lookup(ETSTable,Key)</b> <b>-&gt;</b> <b>Result</b>
       <b>lookup(ETSTable,Key,Undefined)</b> <b>-&gt;</b> <b>Result</b>

              Types:

                 ETSTable = ets_table()
                 Key = term()
                 Result = term() | undefined | Undefined
                 Undefined = term()

              <u>lookup</u>  extracts  <u>{Key,Value}</u>  tuples  from <u>ETSTable</u> and returns the <u>Value</u> associated with <u>Key</u>. If
              <u>ETSTable</u> is of type <u>bag</u>, only the first <u>Value</u> associated with <u>Key</u> is  returned.  <u>lookup/2</u>  returns
              <u>undefined</u> and <u>lookup/3</u> returns <u>Undefined</u> if no <u>Value</u> is found.

       <b>lookup_mime(ConfigDB,Suffix)</b>
       <b>lookup_mime(ConfigDB,Suffix,Undefined)</b> <b>-&gt;</b> <b>MimeType</b>

              Types:

                 ConfigDB = ets_table()
                 Suffix = string()
                 MimeType = string() | undefined | Undefined
                 Undefined = term()

              <u>lookup_mime</u>  returns the MIME type associated with a specific file suffix as specified in the file
              <u>mime.types</u> (located in the config directory).

       <b>lookup_mime_default(ConfigDB,Suffix)</b>
       <b>lookup_mime_default(ConfigDB,Suffix,Undefined)</b> <b>-&gt;</b> <b>MimeType</b>

              Types:

                 ConfigDB = ets_table()
                 Suffix = string()
                 MimeType = string() | undefined | Undefined
                 Undefined = term()

              <u>lookup_mime_default</u> returns the MIME type associated with a specific file suffix as  specified  in
              the <u>mime.types</u> file (located in the config directory). If no appropriate association is found, the
              value of <u>DefaultType</u> is returned.

       <b>message(StatusCode,PhraseArgs,ConfigDB)</b> <b>-&gt;</b> <b>Message</b>

              Types:

                 StatusCode = 301 | 400 | 403 | 404 | 500 | 501 | 504
                 PhraseArgs = term()
                 ConfigDB = ets_table
                 Message = string()

              <u>message/3</u>  returns  an  informative  HTTP  1.1  status  string in HTML. Each <u>StatusCode</u> requires a
              specific <u>PhraseArgs</u>:

                <u>301</u>:
                  <u>string()</u>: A URL pointing at the new document position.

                <u>400</u> <u>|</u> <u>401</u> <u>|</u> <u>500</u>:
                  <u>none</u> (no <u>PhraseArgs</u>).

                <u>403</u> <u>|</u> <u>404</u>:
                  <u>string()</u>: A <u>Request-URI</u> as described in RFC 2616.

                <u>501</u>:
                  <u>{Method,RequestURI,HTTPVersion}</u>: The HTTP <u>Method</u>, <u>Request-URI</u>, and <u>HTTP-Version</u> as defined  in
                  RFC 2616.

                <u>504</u>:
                  <u>string()</u>: A string describing why the service was unavailable.

       <b>month(NthMonth)</b> <b>-&gt;</b> <b>Month</b>

              Types:

                 NthMonth = 1-12
                 Month = string()

              <u>month/1</u> converts the month <u>NthMonth</u> as an integer (1-12) to an abbreviated string, that is:

              1 = "Jan", 2 = "Feb", ..., 12 = "Dec".

       <b>multi_lookup(ETSTable,Key)</b> <b>-&gt;</b> <b>Result</b>

              Types:

                 ETSTable = ets_table()
                 Key = term()
                 Result = [term()]

              <u>multi_lookup</u>  extracts  all  <u>{Key,Value}</u> tuples from an <u>ETSTable</u> and returns <u>all</u> <u>Values</u> associated
              with <u>Key</u> in a list.

       <b>reason_phrase(StatusCode)</b> <b>-&gt;</b> <b>Description</b>

              Types:

                 StatusCode = 100| 200 | 201 | 202 | 204 | 205 | 206 | 300 | 301 | 302 | 303 | 304 | 400 | 401 |
                 402 | 403 | 404 | 405 | 406 | 410 411 | 412 | 413 | 414 415 | 416 | 417 | 500 | 501 | 502 | 503
                 | 504 | 505
                 Description = string()

              <u>reason_phrase</u> returns <u>Description</u> of an HTTP 1.1 <u>StatusCode</u>, for example, 200 is "OK" and  201  is
              "Created". For more information, see RFC 2616.

       <b>rfc1123_date()</b> <b>-&gt;</b> <b>RFC1123Date</b>
       <b>rfc1123_date(Date)</b> <b>-&gt;</b> <b>RFC1123Date</b>

              Types:

                  Date = calendar:datetime()
                 RFC1123Date = string()

              <u>rfc1123_date/0</u>  returns  the  current date in RFC 1123 format. <u>rfc_date/1</u> converts the date in the
              Erlang format to the RFC 1123 date format.

       <b>split(String,RegExp,N)</b> <b>-&gt;</b> <b>SplitRes</b>

              Types:

                 String = RegExp = string()
                 SplitRes = {ok, FieldList} | {error, errordesc()}
                 Fieldlist = [string()]
                 N = integer

              <u>split/3</u> splits <u>String</u> in <u>N</u> chunks using <u>RegExp</u>. <u>split/3</u> is equivalent to <u>regexp:split/2</u>  with  the
              exception that <u>N</u> defines the maximum number of fields in <u>FieldList</u>.

       <b>split_script_path(RequestLine)</b> <b>-&gt;</b> <b>Splitted</b>

              Types:

                 RequestLine = string()
                 Splitted = not_a_script | {Path, PathInfo, QueryString}
                 Path = QueryString = PathInfo = string()

              <u>split_script_path/1</u> is equivalent to <u>split_path/1</u> with one exception. If the longest possible path
              is not a regular, accessible, and executable file, then <u>not_a_script</u> is returned.

       <b>split_path(RequestLine)</b> <b>-&gt;</b> <b>{Path,QueryStringOrPathInfo}</b>

              Types:

                 RequestLine = Path = QueryStringOrPathInfo = string()

              <u>split_path/1</u> splits <u>RequestLine</u> in a file reference (<u>Path</u>), and a <u>QueryString</u> or a <u>PathInfo</u> string
              as  specified  in  RFC  2616.  A  <u>QueryString</u>  is  isolated from <u>Path</u> with a question mark (<u>?</u>) and
              <u>PathInfo</u> with a slash (/). In the case of a  <u>QueryString</u>,  everything  before  <u>?</u>  is  a  <u>Path</u>  and
              everything  after <u>?</u> is a <u>QueryString</u>. In the case of a <u>PathInfo</u>, <u>RequestLine</u> is scanned from left-
              to-right on the hunt for longest possible <u>Path</u> being a file or a directory. Everything  after  the
              longest  possible  <u>Path</u>, isolated with a <u>/</u>, is regarded as <u>PathInfo</u>. The resulting <u>Path</u> is decoded
              using <u>decode_hex/1</u> before delivery.

       <b>strip(String)</b> <b>-&gt;</b> <b>Stripped</b>

              Types:

                 String = Stripped = string()

              <u>strip/1</u> removes any leading or trailing linear white space from the string. Linear white space  is
              to be read as horizontal tab or space.

       <b>suffix(FileName)</b> <b>-&gt;</b> <b>Suffix</b>

              Types:

                 FileName = Suffix = string()

              <u>suffix/1</u>  is equivalent to <u>filename:extension/1</u> with the exception that <u>Suffix</u> is returned without
              a leading dot (<u>.</u>).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3erl/httpd.3erl.html">httpd</a>(3erl)

Ericsson AB                                         inets 7.5                                   <u><a href="../man3erl/httpd_util.3erl.html">httpd_util</a></u>(3erl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>