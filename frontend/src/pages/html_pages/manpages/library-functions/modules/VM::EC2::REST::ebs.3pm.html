<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VM::EC2::REST::ebs - Modules for EC2 EBS volumes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libvm-ec2-perl">libvm-ec2-perl_1.28-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       VM::EC2::REST::ebs - Modules for EC2 EBS volumes

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use VM::EC2 ':standard';

</pre><h4><b>METHODS</b></h4><pre>
       The methods in this section allow you to query and manipulate EC2 EBS volumes and snapshots. See
       VM::EC2::Volume and VM::EC2::Snapshot for additional functionality provided through the object interface.

       Implemented:
        AttachVolume
        CopySnapshot
        CreateSnapshot
        CreateVolume
        DeleteSnapshot
        DeleteVolume
        DescribeSnapshotAttribute
        DescribeSnapshots
        DescribeVolumes
        DescribeVolumeAttribute
        DescribeVolumeStatus
        DetachVolume
        EnableVolumeIO
        ModifySnapshotAttribute
        ModifyVolumeAttribute
        ResetSnapshotAttribute

       Unimplemented:
        (none)

   <b>@v</b> <b>=</b> <b>$ec2-&gt;describe_volumes(-volume_id=&gt;\@ids,-filter=&gt;\%filters)</b>
   <b>@v</b> <b>=</b> <b>$ec2-&gt;describe_volumes(@volume_ids)</b>
       Return a series of VM::EC2::Volume objects. Optional arguments:

        -volume_id    The id of the volume to fetch, either a string
                      scalar or an arrayref.

        -filter       One or more filters to apply to the search

       The -filter argument name can be omitted if there are no other arguments you wish to pass.

       The full list of volume filters can be found at:
       <a href="http://docs.amazonwebservices.com/AWSEC2/latest/APIReference/ApiReference-query-DescribeVolumes.html">http://docs.amazonwebservices.com/AWSEC2/latest/APIReference/ApiReference-query-DescribeVolumes.html</a>

   <b>$v</b> <b>=</b>
       <b>$ec2-&gt;create_volume(-availability_zone=&gt;$zone,-snapshot_id=&gt;$snapshotId,-size=&gt;$size,-volume_type=&gt;$type,-iops=&gt;$iops,-encrypted=&gt;$boolean)</b>

       Create a volume in the specified availability zone and return information about it.

       Arguments:

        -availability_zone    -- An availability zone from
                                 describe_availability_zones (required)

        -snapshot_id          -- ID of a snapshot to use to build volume from.

        -size                 -- Size of the volume, in GB (between 1 and 1024).

       One or both of -snapshot_id or -size are required. For convenience, you may abbreviate -availability_zone
       as -zone, and -snapshot_id as -snapshot.

       Optional Arguments:

        -volume_type          -- The volume type.  "standard", "io1", or "gp2"
                                 Default is "standard"

        -iops                 -- The number of I/O operations per second (IOPS) that
                                 the volume supports.  Range is 100 to 4000.  Required
                                 when volume type is io1.  IOPS must be 30-to-1 ratio
                                 to size.  ie: 3000 IOPS volume must be at least 100GB.

        -encrypted            -- Specifies whether the volume should be encrypted.
                                 Encrypted Amazon EBS volumes may only be attached to
                                 instances that support them. Volumes created from
                                 encrypted snapshots are also encrypted using the same
                                 key as the original volume.
                                 See: <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSEncryption.html">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSEncryption.html</a>

       The returned object is a VM::EC2::Volume object.

   <b>$result</b> <b>=</b> <b>$ec2-&gt;delete_volume($volume_id);</b>
       Deletes the specified volume. Returns a boolean indicating success of the delete operation. Note that a
       volume will remain in the "deleting" state for some time after this call completes.

   <b>$attachment</b> <b>=</b> <b>$ec2-&gt;attach_volume($volume_id,$instance_id,$device);</b>
   <b>$attachment</b> <b>=</b> <b>$ec2-&gt;attach_volume(-volume_id=&gt;$volume_id,-instance_id=&gt;$instance_id,-device=&gt;$device);</b>
       Attaches the specified volume to the instance using the indicated device. All arguments are required:

        -volume_id      -- ID of the volume to attach. The volume must be in
                           "available" state.
        -instance_id    -- ID of the instance to attach to. Both instance and
                           attachment must be in the same availability zone.
        -device         -- How the device is exposed to the instance, e.g.
                           '/dev/sdg'.

       The result is a VM::EC2::BlockDevice::Attachment object which you can monitor by calling
       <b>current_status()</b>:

           my $a = $ec2-&gt;attach_volume('vol-12345','i-12345','/dev/sdg');
           while ($a-&gt;current_status ne 'attached') {
              sleep 2;
           }
           print "volume is ready to go\n";

       or more simply

           my $a = $ec2-&gt;attach_volume('vol-12345','i-12345','/dev/sdg');
           $ec2-&gt;wait_for_attachments($a);

   <b>$attachment</b> <b>=</b> <b>$ec2-&gt;detach_volume($volume_id)</b>
   <b>$attachment</b> <b>=</b> <b>$ec2-&gt;detach_volume(-volume_id=&gt;$volume_id,-instance_id=&gt;$instance_id,</b> <b>-device=&gt;$device,</b>
       <b>-force=&gt;$force);</b>
       Detaches the specified volume from an instance.

        -volume_id      -- ID of the volume to detach. (required)
        -instance_id    -- ID of the instance to detach from. (optional)
        -device         -- How the device is exposed to the instance. (optional)
        -force          -- Force detachment, even if previous attempts were
                           unsuccessful. (optional)

       The result is a VM::EC2::BlockDevice::Attachment object which you can monitor by calling
       <b>current_status()</b>:

           my $a = $ec2-&gt;detach_volume('vol-12345');
           while ($a-&gt;current_status ne 'detached') {
              sleep 2;
           }
           print "volume is ready to go\n";

       Or more simply:

           my $a = $ec2-&gt;detach_volume('vol-12345');
           $ec2-&gt;wait_for_attachments($a);
           print "volume is ready to go\n" if $a-&gt;current_status eq 'detached';

   <b>$ec2-&gt;wait_for_attachments(@attachment)</b>
       Wait for all members of the provided list of VM::EC2::BlockDevice::Attachment objects to reach some
       terminal state ("attached" or "detached"), and then return a hash reference that maps each attachment to
       its final state.

       Typical usage:

           my $i = 0;
           my $instance = 'i-12345';
           my @attach;
           foreach (@volume) {
               push @attach,$_-&gt;attach($instance,'/dev/sdf'.$i++;
           }
           my $s = $ec2-&gt;wait_for_attachments(@attach);
           my @failed = grep($s-&gt;{$_} ne 'attached'} @attach;
           warn "did not attach: ",join ', ',@failed;

       If no terminal state is reached within a set timeout, then this method returns undef and sets
       $ec2-&gt;<b>error_str()</b> to a suitable message. The timeout, which defaults to 10 minutes (600 seconds), can be
       get or set with $ec2-&gt;<b>wait_for_timeout()</b>.

   <b>@v</b> <b>=</b> <b>$ec2-&gt;describe_volume_status(@volume_ids)</b>
   <b>@v</b> <b>=</b> <b>$ec2-&gt;describe_volume_status(\%filters)</b>
   <b>@v</b> <b>=</b> <b>$ec2-&gt;describe_volume_status(-volume_id=&gt;\@ids,-filter=&gt;\%filters)</b>
       Return a series of VM::EC2::Volume::StatusItem objects. Optional arguments:

        -volume_id    The id of the volume to fetch, either a string
                      scalar or an arrayref.

        -filter       One or more filters to apply to the search

        -max_results  Maximum number of items to return (must be more than
                       5).

       The -filter argument name can be omitted if there are no other arguments you wish to pass.

       The full list of volume filters can be found at:
       <a href="http://docs.amazonwebservices.com/AWSEC2/latest/APIReference/ApiReference-query-DescribeVolumeStatus.html">http://docs.amazonwebservices.com/AWSEC2/latest/APIReference/ApiReference-query-DescribeVolumeStatus.html</a>

       If -max_results is specified, then the call will return at most the number of volume status items you
       requested. You may see whether there are additional results by calling <b>more_volume_status()</b>, and then
       retrieve the next set of results with additional call(s) to <b>describe_volume_status()</b>:

        my @results = $ec2-&gt;describe_volume_status(-max_results =&gt; 10);
        do_something(\@results);
        while ($ec2-&gt;more_volume_status) {
           @results = $ec2-&gt;describe_volume_status;
           do_something(\@results);
        }

   <b>$ec2-&gt;wait_for_volumes(@volumes)</b>
       Wait for all members of the provided list of volumes to reach some terminal state ("available", "in-use",
       "deleted" or "error"), and then return a hash reference that maps each volume ID to its final state.

       If no terminal state is reached within a set timeout, then this method returns undef and sets
       $ec2-&gt;<b>error_str()</b> to a suitable message. The timeout, which defaults to 10 minutes (600 seconds), can be
       get or set with $ec2-&gt;<b>wait_for_timeout()</b>.

   <b>@data</b> <b>=</b> <b>$ec2-&gt;describe_volume_attribute($volume_id,$attribute)</b>
       This method returns volume attributes.  Only one attribute can be retrieved at a time. The following is
       the list of attributes that can be retrieved:

        autoEnableIO                      -- boolean
        productCodes                      -- list of scalar

       These values can be retrieved more conveniently from the VM::EC2::Volume object returned from
       <b>describe_volumes()</b>:

        $volume-&gt;<a href="../man1/auto_enable_io.1.html">auto_enable_io</a>(1);
        @codes = $volume-&gt;product_codes;

   <b>$boolean</b> <b>=</b> <b>$ec2-&gt;enable_volume_io($volume_id)</b>
   <b>$boolean</b> <b>=</b> <b>$ec2-&gt;enable_volume_io(-volume_id=&gt;$volume_id)</b>
       Given the ID of a volume whose I/O has been disabled (e.g. due to hardware degradation), this method will
       re-enable the I/O and return true if successful.

   <b>@snaps</b> <b>=</b> <b>$ec2-&gt;describe_snapshots(@snapshot_ids)</b>
   <b>@snaps</b> <b>=</b> <b>$ec2-&gt;describe_snapshots(-snapshot_id=&gt;\@ids,%other_args)</b>
       Returns a series of VM::EC2::Snapshot objects. All arguments are optional:

        -snapshot_id     ID of the snapshot

        -owner           Filter by owner ID

        -restorable_by   Filter by IDs of a user who is allowed to restore
                          the snapshot

        -filter          Tags and other filters

       The -filter argument name can be omitted if there are no other arguments you wish to pass.

       The full list of applicable filters can be found at
       <a href="http://docs.amazonwebservices.com/AWSEC2/latest/APIReference/ApiReference-query-DescribeSnapshots.html">http://docs.amazonwebservices.com/AWSEC2/latest/APIReference/ApiReference-query-DescribeSnapshots.html</a>

   <b>@data</b> <b>=</b> <b>$ec2-&gt;describe_snapshot_attribute($snapshot_id,$attribute)</b>
       This method returns snapshot attributes. The first argument is the snapshot ID, and the second is the
       name of the attribute to fetch. Currently Amazon defines two attributes:

        createVolumePermission   -- return a list of user Ids who are
                                    allowed to create volumes from this snapshot.
        productCodes             -- product codes for this snapshot

       The result is a raw hash of attribute values. Please see VM::EC2::Snapshot for a more convenient way of
       accessing and modifying snapshot attributes.

   <b>$boolean</b> <b>=</b> <b>$ec2-&gt;modify_snapshot_attribute($snapshot_id,-$argument=&gt;$value)</b>
       This method changes snapshot attributes. The first argument is the snapshot ID, and this is followed by
       an attribute modification command and the value to change it to.

       Currently the only attribute that can be changed is the createVolumeAttribute. This is done through the
       following arguments

        -createvol_add_user         -- scalar or arrayref of UserIds to grant create volume permissions to
        -createvol_add_group        -- scalar or arrayref of Groups to remove create volume permissions from
                                      (only currently valid value is "all")
        -createvol_remove_user      -- scalar or arrayref of UserIds to remove from create volume permissions
        -createvol_remove_group     -- scalar or arrayref of Groups to remove from create volume permissions

       You can abbreviate these to -add_user, -add_group, -remove_user, -remove_group, etc.

       See VM::EC2::Snapshot for more convenient methods for interrogating and modifying the create volume
       permissions.

   <b>$boolean</b> <b>=</b> <b>$ec2-&gt;reset_snapshot_attribute($snapshot_id,$attribute)</b>
       This method resets an attribute of the given snapshot to its default value. The only valid attribute at
       this time is "createVolumePermission."

   <b>$snapshot</b> <b>=</b> <b>$ec2-&gt;create_snapshot($volume_id)</b>
   <b>$snapshot</b> <b>=</b> <b>$ec2-&gt;create_snapshot(-volume_id=&gt;$vol,-description=&gt;$desc)</b>
       Snapshot the EBS volume and store it to S3 storage. To ensure a consistent snapshot, the volume should be
       unmounted prior to initiating this operation.

       Arguments:

        -volume_id    -- ID of the volume to snapshot (required)

        -description  -- A description to add to the snapshot (optional)

       The return value is a VM::EC2::Snapshot object that can be queried through its <b>current_status()</b> interface
       to follow the progress of the snapshot operation.

       Another way to accomplish the same thing is through the VM::EC2::Volume interface:

         my $volume = $ec2-&gt;describe_volumes(-filter=&gt;{'tag:Name'=&gt;'AccountingData'});
         $s = $volume-&gt;create_snapshot("Backed up at ".localtime);
         while ($s-&gt;current_status eq 'pending') {
            print "Progress: ",$s-&gt;progress,"% done\n";
         }
         print "Snapshot status: ",$s-&gt;current_status,"\n";

   <b>$boolean</b> <b>=</b> <b>$ec2-&gt;delete_snapshot($snapshot_id)</b>
       Delete the indicated snapshot and return true if the request was successful.

   <b>$snapshot</b> <b>=</b> <b>$ec2-&gt;copy_snapshot(-source_region=&gt;$region,-source_snapshot_id=&gt;$id,-description=&gt;$desc)</b>
   <b>$snapshot</b> <b>=</b> <b>$ec2-&gt;copy_snapshot(-region=&gt;$region,-snapshot_id=&gt;$id,-description=&gt;$desc)</b>
       Copies an existing snapshot within the same region or from one region to another.

       Required arguments:

        -source_region       -- The region the existing snapshot to copy resides in
        -source_snapshot_id  -- The snapshot ID of the snapshot to copy

        -region              -- Alias for -source_region
        -snapshot_id         -- Alias for -source_snapshot_id

       Currently, the DestinationRegion and PresignedUrl API arguments are not supported.  Therefore, copying
       encrypted snapshots between regions is not yet possible.

       Optional arguments:

        -description         -- A description of the new snapshot

       The return value is a VM::EC2::Snapshot object that can be queried through its <b>current_status()</b> interface
       to follow the progress of the snapshot operation.

   <b>$ec2-&gt;wait_for_snapshots(@snapshots)</b>
       Wait for all members of the provided list of snapshots to reach some terminal state ("completed",
       "error"), and then return a hash reference that maps each snapshot ID to its final state.

       This method may potentially wait forever. It has no set timeout. Wrap it in an eval{} and set <b>alarm()</b> if
       you wish to timeout.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       VM::EC2

</pre><h4><b>AUTHOR</b></h4><pre>
       Lincoln Stein &lt;<a href="mailto:lincoln.stein@gmail.com">lincoln.stein@gmail.com</a>&gt;.

       Copyright (c) 2011 Ontario Institute for Cancer Research

       This package and its accompanying libraries is free software; you can redistribute it and/or modify it
       under the terms of the GPL (either version 1, or at your option, any later version) or the Artistic
       License 2.0.  Refer to LICENSE for the full license text. In addition, please see DISCLAIMER.txt for
       disclaimers of warranty.

perl v5.38.2                                       2024-08-10                            <u>VM::EC2::REST::<a href="../man3pm/ebs.3pm.html">ebs</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>