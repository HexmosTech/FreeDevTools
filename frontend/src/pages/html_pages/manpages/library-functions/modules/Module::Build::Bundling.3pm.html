<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module::Build::Bundling - How to bundle Module::Build with a distribution</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmodule-build-perl">libmodule-build-perl_0.423400-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Module::Build::Bundling - How to bundle Module::Build with a distribution

</pre><h4><b>SYNOPSIS</b></h4><pre>
         # Build.PL
         use inc::latest 'Module::Build';

         Module::Build-&gt;new(
           module_name =&gt; 'Foo::Bar',
           license =&gt; 'perl',
         )-&gt;create_build_script;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>WARNING</b> <b>--</b> <b>THIS</b> <b>IS</b> <b>AN</b> <b>EXPERIMENTAL</b> <b>FEATURE</b>

       In order to install a distribution using Module::Build, users must have Module::Build available on their
       systems.  There are two ways to do this.  The first way is to include Module::Build in the
       "configure_requires" metadata field.  This field is supported by recent versions CPAN and CPANPLUS and is
       a standard feature in the Perl core as of Perl 5.10.1.  Module::Build now adds itself to
       "configure_requires" by default.

       The second way supports older Perls that have not upgraded CPAN or CPANPLUS and involves bundling an
       entire copy of Module::Build into the distribution's "inc/" directory.  This is the same approach used by
       Module::Install, a modern wrapper around ExtUtils::MakeMaker for Makefile.PL based distributions.

       The "trick" to making this work for Module::Build is making sure the highest version Module::Build is
       used, whether this is in "inc/" or already installed on the user's system.  This ensures that all
       necessary features are available as well as any new bug fixes.  This is done using the experimental
       inc::latest module, available on CPAN.

       A "normal" Build.PL looks like this (with only the minimum required fields):

         use Module::Build;

         Module::Build-&gt;new(
           module_name =&gt; 'Foo::Bar',
           license     =&gt; 'perl',
         )-&gt;create_build_script;

       A "bundling" Build.PL replaces the initial "use" line with a nearly transparent replacement:

         use inc::latest 'Module::Build';

         Module::Build-&gt;new(
           module_name =&gt; 'Foo::Bar',
           license =&gt; 'perl',
         )-&gt;create_build_script;

       For <u>authors</u>, when "Build dist" is run, Module::Build will be automatically bundled into "inc" according
       to the rules for inc::latest.

       For <u>users</u>, inc::latest will load the latest Module::Build, whether installed or bundled in "inc/".

</pre><h4><b>BUNDLING</b> <b>OTHER</b> <b>CONFIGURATION</b> <b>DEPENDENCIES</b></h4><pre>
       The same approach works for other configuration dependencies -- modules that <u>must</u> be available for
       Build.PL to run.  All other dependencies can be specified as usual in the Build.PL and CPAN or CPANPLUS
       will install them after Build.PL finishes.

       For example, to bundle the Devel::AssertOS::Unix module (which ensures a "Unix-like" operating system),
       one could do this:

         use inc::latest 'Devel::AssertOS::Unix';
         use inc::latest 'Module::Build';

         Module::Build-&gt;new(
           module_name =&gt; 'Foo::Bar',
           license =&gt; 'perl',
         )-&gt;create_build_script;

       The "inc::latest" module creates bundled directories based on the packlist file of an installed
       distribution.  Even though "inc::latest" takes module name arguments, it is better to think of it as
       bundling and making available entire <u>distributions</u>.  When a module is loaded through "inc::latest", it
       looks in all bundled distributions in "inc/" for a newer module than can be found in the existing @INC
       array.

       Thus, the module-name provided should usually be the "top-level" module name of a distribution, though
       this is not strictly required.  For example, Module::Build has a number of heuristics to map module names
       to packlists, allowing users to do things like this:

         use inc::latest 'Devel::AssertOS::Unix';

       even though Devel::AssertOS::Unix is contained within the Devel-CheckOS distribution.

       At the current time, packlists are required.  Thus, bundling dual-core modules, <u>including</u> <u>Module::Build</u>,
       may require a 'forced install' over versions in the latest version of perl in order to create the
       necessary packlist for bundling.  This limitation will hopefully be addressed in a future version of
       Module::Build.

   <b>WARNING</b> <b>--</b> <b>How</b> <b>to</b> <b>Manage</b> <b>Dependency</b> <b>Chains</b>
       Before bundling a distribution you must ensure that all prerequisites are also bundled and load in the
       correct order.  For Module::Build itself, this should not be necessary, but it is necessary for any other
       distribution.  (A future release of Module::Build will hopefully address this deficiency.)

       For example, if you need "Wibble", but "Wibble" depends on "Wobble", your Build.PL might look like this:

         use inc::latest 'Wobble';
         use inc::latest 'Wibble';
         use inc::latest 'Module::Build';

         Module::Build-&gt;new(
           module_name =&gt; 'Foo::Bar',
           license =&gt; 'perl',
         )-&gt;create_build_script;

       Authors are strongly suggested to limit the bundling of additional dependencies if at all possible and to
       carefully test their distribution tarballs on older versions of Perl before uploading to CPAN.

</pre><h4><b>AUTHOR</b></h4><pre>
       David Golden &lt;<a href="mailto:dagolden@cpan.org">dagolden@cpan.org</a>&gt;

       Development questions, bug reports, and patches should be sent to the Module-Build mailing list at
       &lt;<a href="mailto:module-build@perl.org">module-build@perl.org</a>&gt;.

       Bug reports are also welcome at &lt;<a href="http://rt.cpan.org/NoAuth/Bugs.html">http://rt.cpan.org/NoAuth/Bugs.html</a>?Dist=Module-Build&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/perl.1.html">perl</a></b>(1), inc::latest, Module::<a href="../man3/Build.3.html">Build</a>(3), Module::Build::<a href="../man3/API.3.html">API</a>(3), Module::Build::<a href="../man3/Cookbook.3.html">Cookbook</a>(3),

perl v5.40.1                                       2025-04-13                       <u>Module::Build::<a href="../man3pm/Bundling.3pm.html">Bundling</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>