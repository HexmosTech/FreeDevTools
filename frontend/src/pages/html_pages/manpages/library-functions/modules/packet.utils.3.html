<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>packet.utils - Pktt utilities module</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/nfstest">nfstest_3.2-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       packet.utils - Pktt utilities module

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  Packet  trace  utilities  module  has  classes  which augment functionality of basic data types like
       displaying integers as their hex equivalent.  It also includes an Enum  base  class  which  displays  the
       integer as its string representation given by a mapping dictionary. There is also a class to be used as a
       base  class  for  an  RPC  payload object.  This module also includes some module variables to change how
       certain objects are displayed.

</pre><h4><b>CLASSES</b></h4><pre>
   <b>class</b> <b>BitmapInval(builtins.Exception)</b>
       Exception for an invalid bit number

   <b>class</b> <b>ByteHex(builtins.int)</b>
       Byte integer object which is displayed in hex

       <b>Methods</b> <b>defined</b> <b>here:</b>
       ---------------------

       <b>__repr__</b> <b>=</b> <b>__str__(self)</b>

       <b>__str__(self)</b>
       Return str(self).

   <b>class</b> <b>DateStr(builtins.float)</b>
       Floating point object which is displayed as a date

       <b>Methods</b> <b>defined</b> <b>here:</b>
       ---------------------

       <b>__str__(self)</b>
       Return str(self).

   <b>class</b> <b>Enum(builtins.int)</b>
       Enum base object
       This should only be used as a base class where the class attributes
       should be initialized

       <b>Methods</b> <b>defined</b> <b>here:</b>
       ---------------------

       <b>__repr__(self)</b>
       Official string representation, display value using the mapping
       dictionary provided as a class attribute when ENUM_REPR is False

       <b>__str__(self)</b>
       Informal string representation, display value using the mapping
       dictionary provided as a class attribute

       <b>Static</b> <b>methods</b> <b>defined</b> <b>here:</b>
       ----------------------------

       <b>__new__(cls,</b> <b>unpack)</b>
       Constructor which checks if integer is a valid enum value

   <b>class</b> <b>EnumInval(builtins.Exception)</b>
       Exception for an invalid enum value

   <b>class</b> <b>IntHex(builtins.int)</b>
       Integer object which is displayed in hex

       <b>Methods</b> <b>defined</b> <b>here:</b>
       ---------------------

       <b>__repr__</b> <b>=</b> <b>__str__(self)</b>

       <b>__str__(self)</b>
       Return str(self).

   <b>class</b> <b>LongHex(builtins.int)</b>
       Long integer object which is displayed in hex

       <b>Methods</b> <b>defined</b> <b>here:</b>
       ---------------------

       <b>__repr__</b> <b>=</b> <b>__str__(self)</b>

       <b>__str__(self)</b>
       Return str(self).

   <b>class</b> <b>OptionFlags(baseobj.BaseObj)</b>
       OptionFlags base object

       This base class is used to have a set of raw flags represented by an
       integer and splits every bit into an object attribute according to the
       class attribute _bitnames where the key is the bit number and the value
       is the attribute name.

       This should only be used as a base class where the class attribute
       _bitnames should be initialized. The class attribute _reversed can
       also be initialized to reverse the _bitnames so the first bit becomes
       the last, e.g., _reversed = 31, bits are reversed on a 32 bit integer
       so 0 becomes 31, 1 becomes 30, etc.

       Usage:
           from packet.utils import OptionFlags

           class MyFlags(OptionFlags):
               _bitnames = {0:"bit0", 1:"bit1", 2:"bit2", 3:"bit3"}

           x = <a href="../man10/MyFlags.10.html">MyFlags</a>(10) # 10 = 0b1010

           The attributes of object are:
               x.rawflags = 10, # Original raw flags
               x.bit0     = 0,
               x.bit1     = 1,
               x.bit2     = 0,
               x.bit3     = 1,

       <b>Methods</b> <b>defined</b> <b>here:</b>
       ---------------------

       <b>__init__(self,</b> <b>options)</b>
       Initialize object's private data.

              <b>options:</b>
                     Unsigned integer of raw flags

       <b>str_flags(self)</b>
       Display the flag names which are set, e.g., in the above example
       the output will be "bit1,bit3" (bit1=1, bit3=1)
       Use "__str__ = OptionFlags.str_flags" to have it as the default
       string representation

   <b>class</b> <b>RDMAbase(baseobj.BaseObj)</b>
       RDMA base object

       Base class for an RDMA reduced payload object having RDMA write
       chunks. An application having a DDP (direct data placement) item
       must inherit this class and use the rdma_opaque method as a
       dissecting function.

       Usage:
           from packet.utils import RDMAbase

           # For an original class definition with DDP items
           class APPobj(BaseObj):
               def __init__(self, unpack):
                   self.test = nfs_bool(unpack)
                   self.data = unpack.unpack_opaque()

           # Class definition to access RDMA chunk writes
           class APPobj(RDMAbase):
               def __init__(self, unpack):
                   self.test = self.rdma_opaque(nfs_bool, unpack)
                   self.data = self.rdma_opaque(unpack.unpack_opaque)

       <b>Methods</b> <b>defined</b> <b>here:</b>
       ---------------------

       <b>rdma_opaque(self,</b> <b>func,</b> <b>*kwts,</b> <b>**kwds)</b>
           Dissecting method for a DDP item
           The first positional argument is the original dissecting
           function to be called when there is no RDMA write chunks.
           The rest of the arguments (positional or named) are passed
           directly to the dissecting function.

       Data and other attributes defined here:

       rdma_write_chunks = []

   <b>class</b> <b>RPCload(baseobj.BaseObj)</b>
       RPC load base object
       This is used as a base class for an RPC payload object

       <b>Methods</b> <b>defined</b> <b>here:</b>
       ---------------------

       <b>__str__(self)</b>
       Informal string representation

       <b>main_op(self)</b>
       Get the main NFS operation

       <b>rpc_str(self,</b> <b>name=None)</b>
       Display RPC string

   <b>class</b> <b>ShortHex(builtins.int)</b>
       Short integer object which is displayed in hex

       <b>Methods</b> <b>defined</b> <b>here:</b>
       ---------------------

       <b>__repr__</b> <b>=</b> <b>__str__(self)</b>

       <b>__str__(self)</b>
       Return str(self).

   <b>class</b> <b>StrHex(builtins.bytes)</b>
       String object which is displayed in hex

       <b>Methods</b> <b>defined</b> <b>here:</b>
       ---------------------

       <b>__str__(self)</b>
       Return str(self).

</pre><h4><b>FUNCTIONS</b></h4><pre>
       <b>bitmap_info(unpack,</b> <b>bitmap,</b> <b>key_enum=None,</b> <b>func_map=None)</b>
       Returns a list of bits set on the bitmap or a dictionary where the
       key is the bit number given by bitmap and the value is the decoded
       value by evaluating the function used for that specific bit number

              <b>unpack:</b>
                     Unpack object

              <b>bitmap:</b>
                     Unsigned integer where a value must be decoded for every bit that
                     is set, starting from the least significant bit

              <b>key_enum:</b>
                     Use Enum for bit number so the key could be displayed as the bit
                     name instead of the bit number [default: None]

              <b>func_map:</b>
                     Dictionary which maps a bit number to the function to be used for
                     decoding the value for that bit number. The function must have
                     the "unpack" object as the only argument. If this is None a list
                     of bit attributes is returned instead [default: None]

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/baseobj.3.html">baseobj</a>(3),</b> <b><a href="../man3/packet.unpack.3.html">packet.unpack</a>(3)</b>

</pre><h4><b>BUGS</b></h4><pre>
       No known bugs.

</pre><h4><b>AUTHOR</b></h4><pre>
       Jorge Mora (<a href="mailto:mora@netapp.com">mora@netapp.com</a>)

NFStest 3.2                                       21 March 2023                                         <u><a href="../man3/UTILS.3.html">UTILS</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>