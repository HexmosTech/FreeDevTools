<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XChangeKeyboardControl,   XGetKeyboardControl,   XAutoRepeatOn,   XAutoRepeatOff,   XBell,  XQueryKeymap,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libx11-doc">libx11-doc_1.8.12-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       XChangeKeyboardControl,   XGetKeyboardControl,   XAutoRepeatOn,   XAutoRepeatOff,   XBell,  XQueryKeymap,
       XKeyboardControl - manipulate keyboard settings and keyboard control structure

</pre><h4><b>SYNTAX</b></h4><pre>

       int XChangeKeyboardControl(Display *<u>display</u>, unsigned long <u>value_mask</u>, XKeyboardControl *<u>values</u>);

       int XGetKeyboardControl(Display *<u>display</u>, XKeyboardState *<u>values_return</u>);

       int XAutoRepeatOn(Display *<u>display</u>);

       int XAutoRepeatOff(Display *<u>display</u>);

       int XBell(Display *<u>display</u>, int <u>percent</u>);

       int XQueryKeymap(Display *<u>display</u>, char <u>keys_return</u>[32]);

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>display</u>   Specifies the connection to the X server.

       <u>keys_return</u>
                 Returns an array of bytes that identifies which keys are pressed down.  Each bit represents one
                 key of the keyboard.

       <u>percent</u>   Specifies the volume for the bell, which can range from -100 to 100 inclusive.

       <u>value_mask</u>
                 Specifies which controls to change.  This mask is the bitwise inclusive OR of the valid control
                 mask bits.

       <u>values</u>    Specifies one value for each bit set to 1 in the mask.

       <u>values_return</u>
                 Returns the current keyboard controls in the specified <b>XKeyboardState</b> structure.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>XChangeKeyboardControl</b> function controls the keyboard characteristics defined by the <b>XKeyboardControl</b>
       structure.  The value_mask argument specifies which values are to be changed.

       <b>XChangeKeyboardControl</b> can generate <b>BadMatch</b> and <b>BadValue</b> errors.

       The  <b>XGetKeyboardControl</b>  function  returns  the  current  control  values  for  the  keyboard   to   the
       <b>XKeyboardState</b> structure.

       The <b>XAutoRepeatOn</b> function turns on auto-repeat for the keyboard on the specified display.

       The <b>XAutoRepeatOff</b> function turns off auto-repeat for the keyboard on the specified display.

       The  <b>XBell</b>  function rings the bell on the keyboard on the specified display, if possible.  The specified
       volume is relative to the base volume for the keyboard.  If the value for the percent argument is not  in
       the  range  -100 to 100 inclusive, a <b>BadValue</b> error results.  The volume at which the bell rings when the
       percent argument is nonnegative is:

              base - [(base * percent) / 100] + percent

       The volume at which the bell rings when the percent argument is negative is:

              base + [(base * percent) / 100]

       To change the base volume of the bell, use <b>XChangeKeyboardControl</b>.

       <b>XBell</b> can generate a <b>BadValue</b> error.

       The <b>XQueryKeymap</b> function returns a bit vector for the logical state of the keyboard, where each bit  set
       to  1  indicates  that  the corresponding key is currently pressed down.  The vector is represented as 32
       bytes.  Byte N (from 0) contains the bits for keys 8N to 8N + 7 with the least  significant  bit  in  the
       byte representing key 8N.

       Note  that  the  logical state of a device (as seen by client applications) may lag the physical state if
       device event processing is frozen.

</pre><h4><b>STRUCTURES</b></h4><pre>
       The <b>XKeyboardControl</b> structure contains:

       /* Mask bits for ChangeKeyboardControl */
       #define   <b>KBKeyClickPercent</b>           (1L&lt;&lt;0)
       #define   <b>KBBellPercent</b>               (1L&lt;&lt;1)
       #define   <b>KBBellPitch</b>                 (1L&lt;&lt;2)
       #define   <b>KBBellDuration</b>              (1L&lt;&lt;3)
       #define   <b>KBLed</b>                       (1L&lt;&lt;4)
       #define   <b>KBLedMode</b>                   (1L&lt;&lt;5)
       #define   <b>KBKey</b>                       (1L&lt;&lt;6)
       #define   <b>KBAutoRepeatMode</b>            (1L&lt;&lt;7)
       /* Values */

       typedef struct {
               int key_click_percent;
               int bell_percent;
               int bell_pitch;
               int bell_duration;
               int led;
               int led_mode;   /* LedModeOn, LedModeOff */
               int key;
               int auto_repeat_mode;   /* AutoRepeatModeOff, AutoRepeatModeOn,
                                       AutoRepeatModeDefault */
       } XKeyboardControl;

       The key_click_percent member sets the volume for key clicks between 0 (off) and 100 (loud) inclusive,  if
       possible.  A setting of -1 restores the default.  Other negative values generate a <b>BadValue</b> error.

       The bell_percent sets the base volume for the bell between 0 (off) and 100 (loud) inclusive, if possible.
       A  setting  of -1 restores the default.  Other negative values generate a <b>BadValue</b> error.  The bell_pitch
       member sets the pitch (specified in Hz) of the bell, if possible.  A setting of -1 restores the  default.
       Other  negative values generate a <b>BadValue</b> error.  The bell_duration member sets the duration of the bell
       specified in milliseconds, if possible.  A setting of -1 restores the  default.   Other  negative  values
       generate a <b>BadValue</b> error.

       If  both  the led_mode and led members are specified, the state of that LED is changed, if possible.  The
       led_mode member can be set to <b>LedModeOn</b> or <b>LedModeOff</b>.  If only led_mode is specified, the state  of  all
       LEDs  are  changed,  if  possible.   At  most  32  LEDs  numbered  from  one  are supported.  No standard
       interpretation of LEDs is defined.  If led is specified without led_mode, a <b>BadMatch</b> error results.

       If both the auto_repeat_mode and key members are specified, the auto_repeat_mode of that key  is  changed
       (according  to  <b>AutoRepeatModeOn</b>,  <b>AutoRepeatModeOff</b>,  or  <b>AutoRepeatModeDefault</b>),  if possible.  If only
       auto_repeat_mode is specified, the global  auto_repeat_mode  for  the  entire  keyboard  is  changed,  if
       possible, and does not affect the per-key settings.  If a key is specified without an auto_repeat_mode, a
       <b>BadMatch</b>  error  results.   Each key has an individual mode of whether or not it should auto-repeat and a
       default setting for the mode.  In addition, there is a global  mode  of  whether  auto-repeat  should  be
       enabled  or  not  and a default setting for that mode.  When global mode is <b>AutoRepeatModeOn</b>, keys should
       obey their individual auto-repeat modes.  When global mode is <b>AutoRepeatModeOff</b>,  no  keys  should  auto-
       repeat.   An auto-repeating key generates alternating <b>KeyPress</b> and <b>KeyRelease</b> events.  When a key is used
       as a modifier, it is desirable for the key not to auto-repeat, regardless of its auto-repeat setting.

       The <b>XKeyboardState</b> structure contains:

       typedef struct {
               int key_click_percent;
               int bell_percent;
               unsigned int bell_pitch, bell_duration;
               unsigned long led_mask;
               int global_auto_repeat;
               char auto_repeats[32];
       } XKeyboardState;

       For the LEDs, the least significant bit of led_mask corresponds to LED one, and each  bit  set  to  1  in
       led_mask  indicates  an LED that is lit.  The global_auto_repeat member can be set to <b>AutoRepeatModeOn</b> or
       <b>AutoRepeatModeOff</b>.  The auto_repeats member is a bit vector.  Each bit set  to  1  indicates  that  auto-
       repeat  is  enabled  for  the corresponding key.  The vector is represented as 32 bytes.  Byte N (from 0)
       contains the bits for keys 8N to 8N + 7 with the least significant bit in the byte representing key 8N.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       <b>BadMatch</b>  Some argument or pair of arguments has the correct type and range but fails to  match  in  some
                 other way required by the request.

       <b>BadValue</b>  Some  numeric  value  falls  outside  the  range  of  values accepted by the request.  Unless a
                 specific range is specified for an argument, the full range defined by the argument's  type  is
                 accepted.  Any argument defined as a set of alternatives can generate this error.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3/XChangeKeyboardMapping.3.html">XChangeKeyboardMapping</a>(3),   <a href="../man3/XkbChangeEnabledControls.3.html">XkbChangeEnabledControls</a>(3),   <a href="../man3/XkbBell.3.html">XkbBell</a>(3),  <a href="../man3/XkbDeviceBell.3.html">XkbDeviceBell</a>(3),  <a href="../man3/XkbGetMap.3.html">XkbGetMap</a>(3),
       <a href="../man3/XSetPointerMapping.3.html">XSetPointerMapping</a>(3)
       <u>Xlib</u> <u>-</u> <u>C</u> <u>Language</u> <u>X</u> <u>Interface</u>

X Version 11                                      libX11 1.8.12                        <u><a href="../man3/XChangeKeyboardControl.3.html">XChangeKeyboardControl</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>