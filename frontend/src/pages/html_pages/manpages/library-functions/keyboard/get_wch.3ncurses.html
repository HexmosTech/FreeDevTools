<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>get_wch,  wget_wch,  mvget_wch,  mvwget_wch,  unget_wch - get (or push back) a wide character from curses</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ncurses-doc">ncurses-doc_6.5+20250216-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>get_wch</b>,  <b>wget_wch</b>,  <b>mvget_wch</b>,  <b>mvwget_wch</b>,  <b>unget_wch</b> - get (or push back) a wide character from <u>curses</u>
       terminal keyboard buffer

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;curses.h&gt;</b>

       <b>int</b> <b>get_wch(wint_t</b> <b>*</b> <u>wch</u><b>);</b>
       <b>int</b> <b>wget_wch(WINDOW</b> <b>*</b> <u>win</u><b>,</b> <b>wint_t</b> <b>*</b> <u>wch</u><b>);</b>
       <b>int</b> <b>mvget_wch(int</b> <u>y</u><b>,</b> <b>int</b> <u>x</u><b>,</b> <b>wint_t</b> <b>*</b> <u>wch</u><b>);</b>
       <b>int</b> <b>mvwget_wch(WINDOW</b> <b>*</b> <u>win</u><b>,</b> <b>int</b> <u>y</u><b>,</b> <b>int</b> <u>x</u><b>,</b> <b>wint_t</b> <b>*</b> <u>wch</u><b>);</b>

       <b>int</b> <b>unget_wch(const</b> <b>wchar_t</b> <u>wc</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
   <b>Reading</b> <b>Characters</b>
       <b>wget_wch</b> gathers a key event from the terminal keyboard associated with a <u>curses</u> window <u>win</u>, returning <b>OK</b>
       if a wide character is read, <b>KEY_CODE_YES</b> if a function  key  is  read,  and  <b>ERR</b>  if  no  key  event  is
       available.  <b><a href="../man3NCURSES/ncurses.3NCURSES.html">ncurses</a></b>(3NCURSES) describes the variants of this function.

       When  input is pending, <b>wget_wch</b> stores an integer identifying the key event in <u>wch</u>; for alphanumeric and
       punctuation keys, this value corresponds to the character encoding used by  the  terminal.   Use  of  the
       control  key as a modifier, by holding it down while pressing and releasing another key, often results in
       a distinct code.  The behavior of other keys depends on whether <u>win</u> is in keypad  mode;  see  subsections
       “Keypad Mode” and “Predefined Key Codes” in <b><a href="../man3NCURSES/getch.3NCURSES.html">getch</a></b>(3NCURSES).

       If  no  input  is  pending,  then  if the no-delay flag is set in the window (see <b><a href="../man3NCURSES/nodelay.3NCURSES.html">nodelay</a></b>(3NCURSES)), the
       function returns <b>ERR</b>; otherwise, <u>curses</u> waits until the  terminal  has  input.   If  <b><a href="../man3NCURSES/cbreak.3NCURSES.html">cbreak</a></b>(3NCURSES)  or
       <b><a href="../man3NCURSES/raw.3NCURSES.html">raw</a></b>(3NCURSES)  has  been  called,  this  happens  after  one character is read.  If <b><a href="../man3NCURSES/nocbreak.3NCURSES.html">nocbreak</a></b>(3NCURSES) or
       <b><a href="../man3NCURSES/noraw.3NCURSES.html">noraw</a></b>(3NCURSES) has been called, it occurs when the  next  newline  is  read.   (Because  the  terminal's
       canonical  or  “cooked” mode is line-buffered, multiple <b>wget_wch</b> calls may then be necessary to empty the
       input queue.)  If <b><a href="../man3NCURSES/halfdelay.3NCURSES.html">halfdelay</a></b>(3NCURSES) has been called, <u>curses</u> waits  until  input  is  available  or  the
       specified delay elapses.

       If <b><a href="../man3NCURSES/echo.3NCURSES.html">echo</a></b>(3NCURSES) has been called, and the window is not a pad, <u>curses</u> writes the wide character from the
       input queue to the window (at the cursor position) per the following rules.

       •   If  the  wide character matches the terminal's erase character (see <b><a href="../man3NCURSES/erasewchar.3NCURSES.html">erasewchar</a></b>(3NCURSES)), the cursor
           moves leftward one  position  and  the  new  position  is  erased  as  if  <b><a href="../man3NCURSES/wmove.3NCURSES.html">wmove</a></b>(3NCURSES)  and  then
           <b><a href="../man3NCURSES/wdelch.3NCURSES.html">wdelch</a></b>(3NCURSES)  were  called.   When  the window's keypad mode is enabled (see below), <b>KEY_LEFT</b> and
           <b>KEY_BACKSPACE</b> are handled the same way.

       •   <u>curses</u> writes any other wide character to the window, as with <b><a href="../man3NCURSES/wecho_wchar.3NCURSES.html">wecho_wchar</a></b>(3NCURSES).

       •   If the window <u>win</u> has been moved or modified since the last call to <b><a href="../man3NCURSES/wrefresh.3NCURSES.html">wrefresh</a></b>(3NCURSES), <u>curses</u>  calls
           <b>wrefresh</b> on it.

       If  the  wide  character  is a carriage return and <b><a href="../man3NCURSES/nl.3NCURSES.html">nl</a></b>(3NCURSES) has been called, <b>wget_wch</b> stores the wide
       character code for line feed in <u>wch</u> instead.

   <b>Ungetting</b> <b>Characters</b>
       <b>unget_wch</b> places <u>wc</u> into the input queue to be retrieved by the next call to <b>wget_wch</b>.   A  single  input
       queue serves all windows associated with the screen.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>wget_wch</b>  returns  <b>OK</b> when it reads a wide character, <b>KEY_CODE_YES</b> when it reads a function key code, and
       <b>ERR</b> on failure.  <b>wget_wch</b> fails if

       •   its timeout expires without any data arriving, or

       •   execution was interrupted by a signal, in which case <u>errno</u> is set to <u>EINTR</u>.

       Functions taking a <u>WINDOW</u> pointer argument fail if <u>win</u> is a null pointer.

       Functions prefixed with “mv” first perform cursor movement and fail if the position (<u>y</u>, <u>x</u>) is outside the
       window boundaries.

       <b>unget_wch</b> returns <b>OK</b> on success and <b>ERR</b> if there is no more room in the input queue.

</pre><h4><b>NOTES</b></h4><pre>
       See the “NOTES” section of <b><a href="../man3NCURSES/wgetch.3NCURSES.html">wgetch</a></b>(3NCURSES).

       All of these functions except <b>wget_wch</b> and <b>unget_wch</b> may be implemented as macros.

       Unlike <b><a href="../man3NCURSES/wgetch.3NCURSES.html">wgetch</a></b>(3NCURSES), <b>wget_wch</b> and its  variants  store  the  value  of  the  input  character  in  an
       additional <u>wch</u> parameter instead of the return value.

       Unlike  <b>ungetch</b>,  <b>unget_wch</b>  cannot distinguish function key codes from conventional character codes.  An
       application can overcome this limitation by pushing function key  codes  with  <b>ungetch</b>  and  subsequently
       checking the return value of <b>wget_wch</b> for a match with <b>KEY_CODE_YES</b>.

</pre><h4><b>EXTENSIONS</b></h4><pre>
       See the “EXTENSIONS” section of <b><a href="../man3NCURSES/wgetch.3NCURSES.html">wgetch</a></b>(3NCURSES).

</pre><h4><b>PORTABILITY</b></h4><pre>
       Applications  employing  <u>ncurses</u>  extensions  should  condition  their  use  on  the  visibility  of  the
       <b>NCURSES_VERSION</b> preprocessor macro.

       X/Open Curses Issue 4 describes these functions.  It specifies no error conditions for them.

       See the “PORTABILITY” section of <b><a href="../man3NCURSES/wgetch.3NCURSES.html">wgetch</a></b>(3NCURSES) regarding  the  interaction  of  <u>wget_wch</u>  with  signal
       handlers.

</pre><h4><b>HISTORY</b></h4><pre>
       X/Open  Curses  Issue 4  (1995)  initially  specified these functions.  The System V Interface Definition
       Version 4 of the same year specified functions named <u>wgetwch</u> (with its variants)  <u>ungetwch</u>.   These  were
       later  additions  to  SVr4.<u>x</u>,  not  appearing  in the first SVr4 (1989).  They differ from X/Open's later
       <u>wget_wch</u> and <u>unget_wch</u> in that <u>wgetwch</u> takes no <u>wch</u> argument, but returns the (wide) key code as  an  <u>int</u>
       (with  no  provision  for distinguishing a character code from a function key code); and <u>ungetwch</u> takes a
       non-<u>const</u> <u>int</u> argument.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3NCURSES/getch.3NCURSES.html">getch</a></b>(3NCURSES)  describes  comparable  functions  of  the  <u>ncurses</u>  library  in  its  non-wide-character
       configuration.

       <b><a href="../man3NCURSES/ncurses.3NCURSES.html">ncurses</a></b>(3NCURSES), <b><a href="../man3NCURSES/add_wch.3NCURSES.html">add_wch</a></b>(3NCURSES), <b><a href="../man3NCURSES/inopts.3NCURSES.html">inopts</a></b>(3NCURSES), <b><a href="../man3NCURSES/move.3NCURSES.html">move</a></b>(3NCURSES), <b><a href="../man3NCURSES/refresh.3NCURSES.html">refresh</a></b>(3NCURSES)

ncurses 6.5                                        2025-02-15                                  <u><a href="../man3NCURSES/get_wch.3NCURSES.html">get_wch</a></u>(3NCURSES)
</pre>
 </div>
</div></section>
</div>
</body>
</html>