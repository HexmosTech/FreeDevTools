<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math::Vector::Real::kdTree - kd-Tree implementation on top of Math::Vector::Real</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmath-vector-real-kdtree-perl">libmath-vector-real-kdtree-perl_0.15-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Math::Vector::Real::kdTree - kd-Tree implementation on top of Math::Vector::Real

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Math::Vector::Real::kdTree;

         use Math::Vector::Real;
         use Math::Vector::Real::Random;

         my @v = map Math::Vector::Real-&gt;<a href="../man4/random_normal.4.html">random_normal</a>(4), 1..1000;

         my $tree = Math::Vector::Real::kdTree-&gt;new(@v);

         my $ix = $tree-&gt;find_nearest_vector(V(0, 0, 0, 0));

         say "nearest vector is $ix, $v[$ix]";

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module implements a kd-Tree data structure in Perl and common algorithms on top of it.

   <b>Methods</b>
       The following methods are provided:

       $t = Math::Vector::Real::kdTree-&gt;new(@points)
           Creates a new kd-Tree containing the given points.

       $t2 = $t-&gt;clone
           Creates  a  duplicate of the tree. The two trees will share internal read only data so this method is
           more efficient in terms of memory usage than others performing a deep copy.

       my $ix = $t-&gt;insert($p0, $p1, ...)
           Inserts the given points into the kd-Tree.

           Returns the index assigned to the first point inserted.

       $s = $t-&gt;size
           Returns the number of points inside the tree.

       $p = $t-&gt;at($ix)
           Returns the point at the given index inside the tree.

       $t-&gt;move($ix, $p)
           Moves the point at index $ix to the new given position readjusting the tree structure accordingly.

       ($ix, $d) = $t-&gt;find_nearest_vector($p, $max_d, @but_ix)
       ($ix, $d) = $t-&gt;find_nearest_vector($p, $max_d, \%but_ix)
           Find the nearest vector for the given point $p and returns its index and the distance between the two
           points (in scalar context the index is returned).

           If $max_d is defined, the search is limited to the points within that distance

           Optionally, a list of point indexes to be excluded from the search can be passed or, alternatively, a
           reference to a hash containing the indexes of the points to be excluded.

       @ix = $t-&gt;find_nearest_vector_all_internal
           Returns the index of the nearest vector from the tree.

           It is equivalent to the following code (though, it uses a better algorithm):

             @ix = map {
                       scalar $t-&gt;nearest_vector($t-&gt;at($_), undef, $_)
                   } 0..($t-&gt;size - 1);

       $ix = $t-&gt;find_nearest_vector_in_box($p, $a, $b, $max_d, @but_ix)
       $ix = $t-&gt;find_nearest_vector_in_box($p, $a, $b, $max_d, \%but_ix)
           Returns the nearest vector for the given point from those that are also inside the box defined by  $a
           and $b.

           The other arguments have the same meaning as for the method "find_nearest_vector".

       $ix = $t-&gt;find_nearest_vector_in_box_chebyshev($p, $a, $b, $max_d, @but_ix)
       $ix = $t-&gt;find_nearest_vector_in_box_chebyshev($p, $a, $b, $max_d, \%but_ix)
           This method is similar to "find_nearest_vector_in_box" but using the Chebyshev metric.

       $ix = $t-&gt;find_farthest_vector($p, $min_d, @but_ix)
           Find the point from the tree farthest from the given $p.

           The  optional argument $min_d specifies a minimal distance. Undef is returned when not point farthest
           that it is found.

           @but_ix specifies points that should not be considered when looking for the farthest point.

       $ix = $t-&gt;find_farthest_vector_internal($ix, $min_d, @but_ix)
           Given the index of a point on the tree this method returns the index of the farthest vector also from
           the tree.

       ($ix0, $ix1, $d) = $t-&gt;find_two_nearest_vectors
           This method returns the indexes of two vectors from the three such that the distance between them  is
           minimal. The distance is returned as the third output value.

           In scalar context, just the distance is returned.

       @k = $t-&gt;k_means_seed($n)
           This method uses the internal tree structure to generate a set of point that can be used as seeds for
           other "k_means" methods.

           There  isn't  any  guarantee  on  the quality of the generated seeds, but the used algorithm seems to
           perform well in practice.

       @k = $t-&gt;k_means_step(@k)
           Performs a step  of  the  Lloyd's  algorithm  &lt;<a href="http://en.wikipedia.org/wiki/Lloyd">http://en.wikipedia.org/wiki/Lloyd</a>%27s_algorithm&gt;  for
           k-means calculation.

       @k = $t-&gt;k_means_loop(@k)
           Iterates until the Lloyd's algorithm converges and returns the final means.

       @ix = $t-&gt;k_means_assign(@k)
           Returns for every point in the three the index of the cluster it belongs to.

       @ix = $t-&gt;find_in_ball($z, $d, $but)
       $n = $t-&gt;find_in_ball($z, $d, $but)
           Finds the points inside the tree contained in the hypersphere with center $z and radius $d.

           In  scalar  context  returns  the  number of points found. In list context returns the indexes of the
           points.

           If the extra argument $but is provided. The point with that index is ignored.

       @ix = $t-&gt;find_in_box($a, $b, $but)
       $n = $t-&gt;find_in_box($a, $b, $but)
           Finds the points inside the tree contained in the axis-aligned box defined by two  opposite  vertices
           $a and $b.

           In  scalar  context  returns  the  number of points found. In list context returns the indexes of the
           points.

           If the extra argument $but is provided. The point with that index is ignored.

       @ix = $t-&gt;ordered_by_proximity
           Returns the indexes of the points in an ordered where is likely that the indexes of near vectors  are
           also in near positions in the list.

   <b>k-means</b>
       The module can be used to calculate the k-means of a set of vectors as follows:

         # inputs
         my @v = ...; my $k = ...;

         # k-mean calculation
         my $t = Math::Vector::Real::kdTree-&gt;new(@v);
         my @means = $t-&gt;k_means_seed($k);
         @means = $t-&gt;k_means_loop(@means);
         @assign = $t-&gt;k_means_assign(@means);
         my @cluster = map [], 1..$k;
         for (0..$#assign) {
           my $cluster_ix = $assign[$_];
           my $cluster = $cluster[$cluster_ix];
           push @$cluster, $t-&gt;at($_);
         }

         use Data::Dumper;
         print Dumper \@cluster;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Wikipedia k-d Tree entry &lt;<a href="http://en.wikipedia.org/wiki/K-d_tree">http://en.wikipedia.org/wiki/K-d_tree</a>&gt;.

       K-means filtering algorithm &lt;https://www.cs.umd.edu/~mount/Projects/KMeans/pami02.pdf&gt;.

       Math::Vector::Real

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright (C) 2011-2015 by Salvador Fandi√±o &lt;<a href="mailto:sfandino@yahoo.com">sfandino@yahoo.com</a>&gt;

       This  library  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself, either Perl version 5.12.3 or, at your  option,  any  later  version  of  Perl  5  you  may  have
       available.

perl v5.34.0                                       2022-06-15                    <u>Math::Vector::Real::<a href="../man3pm/kdTree.3pm.html">kdTree</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>