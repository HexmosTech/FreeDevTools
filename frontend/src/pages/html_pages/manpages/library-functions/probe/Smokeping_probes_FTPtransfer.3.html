<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smokeping::probes::FTPtransfer - intrusive bandwidth probe</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/smokeping">smokeping_2.8.2+ds-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Smokeping::probes::FTPtransfer - intrusive bandwidth probe

</pre><h4><b>OVERVIEW</b></h4><pre>
       This probe send and retrieve files to or from an ftp server. It will plot the bandwidth it could use.

</pre><h4><b>SYNOPSIS</b></h4><pre>
        *** Probes ***

        +FTPtransfer

        destfile = path/to/destinationfile.xxx
        forks = 5
        min_interval = 1
        mode = get # mandatory
        offset = 50%
        passwordfile = /some/place/secret
        srcfile = src/path/mybig.pdf # mandatory
        step = 300
        timeout = 15 # mandatory

        # The following variables can be overridden in each target section
        /^influx_.+/ = influx_location = In the basement
        localaddr = myhost-nat-if
        passive = yes
        password = test-password
        pings = 5
        port = 3255
        timeout = 10
        username = test-user

        # [...]

        *** Targets ***

        probe = FTPtransfer # if this should be the default probe

        # [...]

        + mytarget
        # probe = FTPtransfer # if the default probe is something else
        host = my.host
        /^influx_.+/ = influx_location = In the basement
        localaddr = myhost-nat-if
        passive = yes
        password = test-password
        pings = 5
        port = 3255
        timeout = 10
        username = test-user

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The probe uses the Net::FTP perl client to run performance tests using an FTP server as a target. This
       probe is <b>intrusive</b> as it transfers real data. By using real data we get a fair shot at figuring out what
       a link is capable of when it comes to transferring actual files.

       The password can be specified either (in order of precedence, with the latter overriding the former) in
       the probe-specific variable `password', in an external file or in the target-specific variable
       `password'.  The location of this external file is given in the probe-specific variable `passwordfile'.
       See <b>Smokeping::probes::<a href="../man3pm/passwordchecker.3pm.html">passwordchecker</a></b>(3pm) for the format of this file (summary: colon-separated
       triplets of the form `&lt;host&gt;:&lt;username&gt;:&lt;password&gt;')

       The probe tries to be nice to the server and waits at least X seconds between starting filetransfers,
       where X is the value of the probe specific `min_interval' variable (1 by default).

       Many variables can be specified either in the probe or in the target definition, the target-specific
       variable will override the prove-specific variable.

       If your transfer takes a lot of time, you may want to make sure to set the <b>timeout</b> and <b>max_rtt</b> properly
       so that smokeping does not abort the transfers of limit the graph size.

</pre><h4><b>VARIABLES</b></h4><pre>
       Supported probe-specific variables:

       destfile
           Normally  the destination filename is the same as the source filename (without the path). If you want
           keep files in different directories this may not work, and you have to specify destfile as well.

           Example value: path/to/destinationfile.xxx

       forks
           Run this many concurrent processes at maximum

           Example value: 5

           Default value: 5

       min_interval
           The minimum interval between each starting ftp sessions in seconds.

           Default value: 1

       mode
           The ftp probe can be in either put or get mode. If it is in put mode then it will send a file to  the
           ftp server. In get mode it will retrieve a file from the ftp server.

           Example value: get

           This setting is mandatory.

       offset
           If you run many probes concurrently you may want to prevent them from hitting your network all at the
           same time. Using the probe-specific offset parameter you can change the point in time when each probe
           will be run. Offset is specified in % of total interval, or alternatively as 'random', and the offset
           from  the  'General'  section is used if nothing is specified here. Note that this does NOT influence
           the rrds itself, it is just a matter of when data acquisition is initiated.  (This variable  is  only
           applicable if the variable 'concurrentprobes' is set in the 'General' section.)

           Example value: 50%

       passwordfile
           Location of the file containing usernames and passwords.

           Example value: /some/place/secret

       srcfile
           The  name  of the source file. If the probe is in <b>put</b> mode, this file has to be on the local machine,
           if the probe is in <b>get</b> mode then this file should sit in the remote ftp account.

           Example value: src/path/mybig.pdf

           This setting is mandatory.

       step
           Duration of the base interval that this probe should use, if different from the one specified in  the
           'Database'  section. Note that the step in the RRD files is fixed when they are originally generated,
           and if you change the step parameter afterwards, you'll have to delete the old RRD files  or  somehow
           convert  them.  (This  variable  is  only applicable if the variable 'concurrentprobes' is set in the
           'General' section.)

           Example value: 300

       timeout
           The timeout is the maximum amount of time you will allow the probe to transfer the file. If the probe
           does not succeed to transfer in the time specified, it will get killed and a 'loss' will be logged.

           Since FTPtransfer is an invasive probe you should make sure you do not load the link for more than  a
           few seconds anyway. Smokeping currently has a hard limit of 180 seconds for any RTT.

           Example value: 15

           This setting is mandatory.

       Supported target-specific variables:

       /^influx_.+/
           This  is a tag that will be sent to influxdb and has no impact on the probe measurement. The tag name
           will be sent without the "influx_" prefix, which will be replaced with "tag_" instead.  Tags  can  be
           used for filtering.

           Example value: influx_location = In the basement

       localaddr
           The local address to be used when making connections

           Example value: myhost-nat-if

       passive
           Use passive FTP protocol

           Example value: yes

       password
           The password for the user, if not present in the password file.

           Example value: test-password

       pings
           How  many  pings  should  be sent to each target, if different from the global value specified in the
           Database section. Note that the number of pings in the RRD files is fixed when  they  are  originally
           generated,  and  if  you change this parameter afterwards, you'll have to delete the old RRD files or
           somehow convert them.

           Example value: 5

       port
           A non-standard FTP port to be used

           Example value: 3255

       timeout
           Timeout in seconds for the FTP transfer to complete.

           Example value: 10

       username
           The username to be tested.

           Example value: test-user

</pre><h4><b>AUTHORS</b></h4><pre>
       Tobias Oetiker &lt;<a href="mailto:tobi@oetiker.ch">tobi@oetiker.ch</a>&gt; sponsored by Virtela

</pre><h4><b>BUGS</b></h4><pre>
       This probe has the capability for saturating your links, so don't use it unless you  know  what  you  are
       doing.

       The  FTPtransfer  probe  measures  bandwidth, but we report the number of seconds it took to transfer the
       'reference' file. This is because currently the notion  of  <u>Round</u>  <u>Trip</u>  <u>Time</u>  is  at  the  core  of  the
       application. It would take some re-engineering to split this out in plugins and thus make it configurable
       ...

2.8.2                                              2024-02-04                    <u><a href="../man3/Smokeping_probes_FTPtransfer.3.html">Smokeping_probes_FTPtransfer</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>