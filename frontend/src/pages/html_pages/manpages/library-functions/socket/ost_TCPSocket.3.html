<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ost::TCPSocket - TCP sockets are used for stream based connected sessions between two sockets.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libcommoncpp2-doc">libcommoncpp2-doc_1.8.1-10_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ost::TCPSocket - TCP sockets are used for stream based connected sessions between two sockets.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;socket.h&gt;

       Inherits <b>ost::Socket</b>.

   <b>Public</b> <b>Member</b> <b>Functions</b>
       virtual bool <b>onAccept</b> (const <b>IPV4Host</b> &amp;ia, <b>tpport_t</b> port)
           A method to call in a derived <b>TCPSocket</b> class that is acting as a server when a connection request is
           being accepted.
       <b>SOCKET</b> <b>getSocket</b> (void)
           Fetch out the socket.
       int <b>getSegmentSize</b> (void)
           Get the buffer size for servers.
       <b>TCPSocket</b> (const <b>IPV4Address</b> &amp;bind, <b>tpport_t</b> port, unsigned backlog=5, unsigned mss=536)
           A TCP 'server' is created as a TCP socket that is bound to a hardware address and port number on the
           local machine and that has a backlog queue to listen for remote connection requests.
       <b>TCPSocket</b> (const char *name, unsigned backlog=5, unsigned mss=536)
           Create a named tcp socket by service and/or interface id.
       <b>IPV4Host</b> <b>getRequest</b> (<b>tpport_t</b> *port=NULL) const
           Return address and port of next connection request.
       void <b>reject</b> (void)
           Used to reject the next incoming connection request.
       <b>IPV4Host</b> <b>getLocal</b> (<b>tpport_t</b> *port=NULL) const
           Used to get local bound address.
       bool <b>isPendingConnection</b> (<b>timeout_t</b> timeout=<b>TIMEOUT_INF</b>)
           Used to wait for pending connection requests.
       virtual <b>~TCPSocket</b> ()
           Use base socket handler for ending this socket.

   <b>Protected</b> <b>Member</b> <b>Functions</b>
       void <b>setSegmentSize</b> (unsigned mss)

   <b>Protected</b> <b>Attributes</b>
       int <b>segsize</b>

   <b>Additional</b> <b>Inherited</b> <b>Members</b>
</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       TCP sockets are used for stream based connected sessions between two sockets.

       Both error recovery and flow control operate transparently for a TCP socket connection. The TCP socket
       base class is primary used to bind a TCP 'server' for accepting TCP streams.

       An implicit and unique <b>TCPSocket</b> object exists in Common C++ to represent a bound TCP socket acting as a
       'server' for receiving connection requests. This class is not part of <b>TCPStream</b> because such objects
       normally perform no physical I/O (read or write operations) other than to specify a listen backlog queue
       and perform 'accept' operations for pending connections. The Common C++ <b>TCPSocket</b> offers a Peek method to
       examine where the next pending connection is coming from, and a Reject method to flush the next request
       from the queue without having to create a session.

       The <b>TCPSocket</b> also supports a 'OnAccept' method which can be called when a <b>TCPStream</b> related object is
       created from a <b>TCPSocket</b>. By creating a <b>TCPStream</b> from a <b>TCPSocket</b>, an accept operation automatically
       occurs, and the <b>TCPSocket</b> can then still reject the client connection through the return status of it's
       OnAccept method.

       <b>Author</b>
           David Sugar <a href="mailto:dyfet@tycho.com">dyfet@tycho.com</a>

       bound server for TCP streams and sessions.

       <b>Examples</b>
           <b>tcp.cpp</b>, <b>tcpservice.cpp</b>, <b>tcpstr1.cpp</b>, and <b>tcpthread.cpp</b>.

</pre><h4><b>Constructor</b> <b>&amp;</b> <b>Destructor</b> <b>Documentation</b></h4><pre>
   <b>ost::TCPSocket::TCPSocket</b> <b>(const</b> <b>IPV4Address</b> <b>&amp;</b> <b>bind,</b> <b>tpport_t</b> <b>port,</b> <b>unsigned</b> <b>backlog</b> <b>=</b> <b>5,</b> <b>unsigned</b> <b>mss</b> <b>=</b> <b>536)</b>

       A TCP 'server' is created as a TCP socket that is bound to a hardware address and port number on the
       local machine and that has a backlog queue to listen for remote connection requests. If the server cannot
       be created, an exception is thrown.

       <b>Parameters</b>
           <u>bind</u> local ip address or interface to use.
           <u>port</u> number to bind socket under.
           <u>backlog</u> size of connection request queue.
           <u>mss</u> maximum segment size for accepted streams.

   <b>ost::TCPSocket::TCPSocket</b> <b>(const</b> <b>char</b> <b>*</b> <b>name,</b> <b>unsigned</b> <b>backlog</b> <b>=</b> <b>5,</b> <b>unsigned</b> <b>mss</b> <b>=</b> <b>536)</b>
       Create a named tcp socket by service and/or interface id. For IPV4 we use [host:]svc or [host/]svc for
       the string. If we have getaddrinfo, we use that to obtain the addr to bind for.

       <b>Parameters</b>
           <u>name</u> of host interface and service port to bind.
           <u>backlog</u> size of connection request queue.
           <u>mss</u> maximum segment size for streaming buffers.

   <b>virtual</b> <b>ost::TCPSocket::~TCPSocket</b> <b>()</b> <b>[virtual]</b>
       Use base socket handler for ending this socket.

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>IPV4Host</b> <b>ost::TCPSocket::getLocal</b> <b>(tpport_t</b> <b>*</b> <b>port</b> <b>=</b> <b>NULL)</b> <b>const</b> <b>[inline]</b>
       Used to get local bound address.

       References ost::Socket::getIPV4Local().

   <b>IPV4Host</b> <b>ost::TCPSocket::getRequest</b> <b>(tpport_t</b> <b>*</b> <b>port</b> <b>=</b> <b>NULL)</b> <b>const</b> <b>[inline]</b>
       Return address and port of next connection request. This can be used instead of OnAccept() to pre-
       evaluate connection requests.

       <b>Returns</b>
           host requesting a connection.

       <b>Parameters</b>
           <u>port</u> number of requestor.

       References ost::Socket::getIPV4Sender().

   <b>int</b> <b>ost::TCPSocket::getSegmentSize</b> <b>(void)</b> <b>[inline]</b>
       Get the buffer size for servers.

   <b>SOCKET</b> <b>ost::TCPSocket::getSocket</b> <b>(void)</b> <b>[inline]</b>
       Fetch out the socket.

   <b>bool</b> <b>ost::TCPSocket::isPendingConnection</b> <b>(timeout_t</b> <b>timeout</b> <b>=</b> <b>TIMEOUT_INF)</b> <b>[inline]</b>
       Used to wait for pending connection requests.

       <b>Returns</b>
           true if data packets available.

       <b>Parameters</b>
           <u>timeout</u> in milliseconds. TIMEOUT_INF if not specified.

       <b>Examples</b>
           <b>tcpstr1.cpp</b>, and <b>tcpthread.cpp</b>.

       References ost::Socket::isPending(), and ost::Socket::pendingInput.

   <b>virtual</b> <b>bool</b> <b>ost::TCPSocket::onAccept</b> <b>(const</b> <b>IPV4Host</b> <b>&amp;</b> <b>ia,</b> <b>tpport_t</b> <b>port)</b> <b>[virtual]</b>
       A method to call in a derived <b>TCPSocket</b> class that is acting as a server when a connection request is
       being accepted. The server can implement protocol specific rules to exclude the remote socket from being
       accepted by returning false. The Peek method can also be used for this purpose.

       <b>Returns</b>
           true if client should be accepted.

       <b>Parameters</b>
           <u>ia</u> internet host address of the client.
           <u>port</u> number of the client.

   <b>void</b> <b>ost::TCPSocket::reject</b> <b>(void)</b>
       Used to reject the next incoming connection request.

   <b>void</b> <b>ost::TCPSocket::setSegmentSize</b> <b>(unsigned</b> <b>mss)</b> <b>[protected]</b>
</pre><h4><b>Member</b> <b>Data</b> <b>Documentation</b></h4><pre>
   <b>int</b> <b>ost::TCPSocket::segsize</b> <b>[protected]</b>
</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for GNU CommonC++ from the source code.

GNU CommonC++                                    Sun Dec 27 2020                               <u>ost::<a href="../man3/TCPSocket.3.html">TCPSocket</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>