<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ost::SocketPort - The socket port is an internal class which is attached to and then serviced by a</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libcommoncpp2-doc">libcommoncpp2-doc_1.8.1-10_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ost::SocketPort - The socket port is an internal class which is attached to and then serviced by a
       specific <b>SocketService</b> 'object'.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;socketport.h&gt;

       Inherits <b>ost::Socket</b>, and <b>ost::TimerPort</b>.

   <b>Public</b> <b>Member</b> <b>Functions</b>
       void <b>setTimer</b> (<b>timeout_t</b> timeout=0)
           Derived setTimer to notify the service thread pool of change in expected timeout.
       void <b>incTimer</b> (<b>timeout_t</b> timeout)
           Derived incTimer to notify the service thread pool of a change in expected timeout.

   <b>Protected</b> <b>Member</b> <b>Functions</b>
       <b>SocketPort</b> (<b>SocketService</b> *svc, <b>TCPSocket</b> &amp;tcp)
           Construct an accepted TCP socket connection from a specific bound TCP server.
       <b>SocketPort</b> (<b>SocketService</b> *svc, <b>TCPV6Socket</b> &amp;tcp)
       <b>SocketPort</b> (<b>SocketService</b> *svc, const <b>IPV4Address</b> &amp;ia, <b>tpport_t</b> port)
           Construct a bound UDP socket for use in deriving realtime UDP streaming protocols handled by thread
           pool objects.
       <b>SocketPort</b> (<b>SocketService</b> *svc, const <b>IPV6Address</b> &amp;ia, <b>tpport_t</b> port)
       <b>SocketPort</b> (<b>SocketService</b> *svc, const <b>IPV4Host</b> &amp;ih, <b>tpport_t</b> port)
           A non-blocking constructor for outbound tcp connections.
       <b>SocketPort</b> (<b>SocketService</b> *svc, const <b>IPV6Host</b> &amp;ih, <b>tpport_t</b> port)
       void <b>attach</b> (<b>SocketService</b> *svc)
           Attach yourself to the service pool thread object.
       virtual <b>~SocketPort</b> ()
           Disconnect the socket from the service thread pool and the remote connection.
       void <b>setDetectPending</b> (bool)
           Used to indicate if the service thread should monitor pending data for us.
       bool <b>getDetectPending</b> (void) const
           Get the current state of the DetectPending flag.
       void <b>setDetectOutput</b> (bool)
           Used to indicate if output ready monitoring should be performed by the service thread.
       bool <b>getDetectOutput</b> (void) const
           Get the current state of the DetectOutput flag.
       virtual void <b>expired</b> (void)
           Called by the service thread pool when the objects timer has expired.
       virtual void <b>pending</b> (void)
           Called by the service thread pool when input data is pending for this socket.
       virtual void <b>output</b> (void)
           Called by the service thread pool when output data is pending for this socket.
       virtual void <b>disconnect</b> (void)
           Called by the service thread pool when a disconnect has occured.
       <b>Error</b> <b>connect</b> (const <b>IPV4Address</b> &amp;ia, <b>tpport_t</b> port)
           Connect a <b>Socket</b> Port to a known peer host.
       <b>Error</b> <b>connect</b> (const <b>IPV6Address</b> &amp;ia, <b>tpport_t</b> port)
       ssize_t <b>send</b> (const void *buf, size_t len)
           Transmit 'send' data to a connected peer host.
       ssize_t <b>receive</b> (void *buf, size_t len)
           Receive a message from any host.
       ssize_t <b>peek</b> (void *buf, size_t len)
           Examine the content of the next packet.

   <b>Friends</b>
       class <b>SocketService</b>

   <b>Additional</b> <b>Inherited</b> <b>Members</b>
</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       The socket port is an internal class which is attached to and then serviced by a specific <b>SocketService</b>
       'object'.

       Derived versions of this class offer specific functionality for specific protocols. Both Common C++
       supporting frameworks and application objects may be derived from related protocol specific base classes.

       A special set of classes, 'SocketPort' and 'SocketService', exist for building realtime streaming media
       servers on top of UDP and TCP protocols. The 'SocketPort' is used to hold a connected or associated TCP
       or UDP socket which is being 'streamed' and which offers callback methods that are invoked from a
       'SocketService' thread. <b>SocketService</b>'s can be pooled into logical thread pools that can service a group
       of SocketPorts. A millisecond accurate 'timer' is associated with each <b>SocketPort</b> and can be used to time
       synchronize <b>SocketPort</b> I/O operations.

       <b>Author</b>
           David Sugar <a href="mailto:dyfet@ostel.com">dyfet@ostel.com</a>

       base class for realtime and thread pool serviced protocols.

       <b>Examples</b>
           <b>tcpservice.cpp</b>.

</pre><h4><b>Constructor</b> <b>&amp;</b> <b>Destructor</b> <b>Documentation</b></h4><pre>
   <b>ost::SocketPort::SocketPort</b> <b>(SocketService</b> <b>*</b> <b>svc,</b> <b>TCPSocket</b> <b>&amp;</b> <b>tcp)</b> <b>[protected]</b>
       Construct an accepted TCP socket connection from a specific bound TCP server. This is meant to derive
       advanced application specific TCP servers that can be thread pooled.

       <b>Parameters</b>
           <u>svc</u> pool thread object.
           <u>tcp</u> socket object to accept.

   <b>ost::SocketPort::SocketPort</b> <b>(SocketService</b> <b>*</b> <b>svc,</b> <b>TCPV6Socket</b> <b>&amp;</b> <b>tcp)</b> <b>[protected]</b>
   <b>ost::SocketPort::SocketPort</b> <b>(SocketService</b> <b>*</b> <b>svc,</b> <b>const</b> <b>IPV4Address</b> <b>&amp;</b> <b>ia,</b> <b>tpport_t</b> <b>port)</b> <b>[protected]</b>
       Construct a bound UDP socket for use in deriving realtime UDP streaming protocols handled by thread pool
       objects.

       <b>Parameters</b>
           <u>svc</u> pool thread object.
           <u>ia</u> address of interface to bind.
           <u>port</u> number to bind to.

   <b>ost::SocketPort::SocketPort</b> <b>(SocketService</b> <b>*</b> <b>svc,</b> <b>const</b> <b>IPV6Address</b> <b>&amp;</b> <b>ia,</b> <b>tpport_t</b> <b>port)</b> <b>[protected]</b>
   <b>ost::SocketPort::SocketPort</b> <b>(SocketService</b> <b>*</b> <b>svc,</b> <b>const</b> <b>IPV4Host</b> <b>&amp;</b> <b>ih,</b> <b>tpport_t</b> <b>port)</b> <b>[protected]</b>
       A non-blocking constructor for outbound tcp connections. To detect when the connection is established,
       overload <b>SocketPort::output()</b>. <b>SocketPort::output()</b> get's called by the <b>SocketService</b> when the connection
       is ready, <b>SocketPort::disconnect()</b> when the connect failed. at the moment you should set the socket state
       to 'CONNECTED' when <b>SocketPort::output()</b> get's called for the first time.

       <b>Parameters</b>
           <u>svc</u> pool thread object.
           <u>ih</u> addess to connect to.
           <u>port</u> number to connect to.

   <b>ost::SocketPort::SocketPort</b> <b>(SocketService</b> <b>*</b> <b>svc,</b> <b>const</b> <b>IPV6Host</b> <b>&amp;</b> <b>ih,</b> <b>tpport_t</b> <b>port)</b> <b>[protected]</b>
   <b>virtual</b> <b>ost::SocketPort::~SocketPort</b> <b>()</b> <b>[protected],</b>  <b>[virtual]</b>
       Disconnect the socket from the service thread pool and the remote connection.

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>void</b> <b>ost::SocketPort::attach</b> <b>(SocketService</b> <b>*</b> <b>svc)</b> <b>[protected]</b>
       Attach yourself to the service pool thread object. The later version.

       <b>Parameters</b>
           <u>svc</u> pool thread object

   <b>Error</b> <b>ost::SocketPort::connect</b> <b>(const</b> <b>IPV4Address</b> <b>&amp;</b> <b>ia,</b> <b>tpport_t</b> <b>port)</b> <b>[protected]</b>
       Connect a <b>Socket</b> Port to a known peer host. This is normally used with the UDP constructor. This is also
       performed as a non-blocking operation under Posix systems to prevent delays in a callback handler.

       <b>Returns</b>
           0 if successful.

       <b>Parameters</b>
           <u>ia</u> address of remote host or subnet.
           <u>port</u> number of remote peer(s).

   <b>Error</b> <b>ost::SocketPort::connect</b> <b>(const</b> <b>IPV6Address</b> <b>&amp;</b> <b>ia,</b> <b>tpport_t</b> <b>port)</b> <b>[protected]</b>
   <b>virtual</b> <b>void</b> <b>ost::SocketPort::disconnect</b> <b>(void)</b> <b>[protected],</b>  <b>[virtual]</b>
       Called by the service thread pool when a disconnect has occured.

   <b>virtual</b> <b>void</b> <b>ost::SocketPort::expired</b> <b>(void)</b> <b>[protected],</b>  <b>[virtual]</b>
       Called by the service thread pool when the objects timer has expired. Used for timed events.

   <b>bool</b> <b>ost::SocketPort::getDetectOutput</b> <b>(void)</b> <b>const</b> <b>[inline],</b>  <b>[protected]</b>
       Get the current state of the DetectOutput flag.

   <b>bool</b> <b>ost::SocketPort::getDetectPending</b> <b>(void)</b> <b>const</b> <b>[inline],</b>  <b>[protected]</b>
       Get the current state of the DetectPending flag.

   <b>void</b> <b>ost::SocketPort::incTimer</b> <b>(timeout_t</b> <b>timeout)</b>
       Derived incTimer to notify the service thread pool of a change in expected timeout. This allows
       <b>SocketService</b> to reschedule all timers. Otherwise same as <b>TimerPort</b>.

       <b>Parameters</b>
           <u>timeout</u> in milliseconds.

   <b>virtual</b> <b>void</b> <b>ost::SocketPort::output</b> <b>(void)</b> <b>[protected],</b>  <b>[virtual]</b>
       Called by the service thread pool when output data is pending for this socket.

   <b>ssize_t</b> <b>ost::SocketPort::peek</b> <b>(void</b> <b>*</b> <b>buf,</b> <b>size_t</b> <b>len)</b> <b>[inline],</b>  <b>[protected]</b>
       Examine the content of the next packet. This can be used to build 'smart' line buffering for derived TCP
       classes.

       <b>Parameters</b>
           <u>buf</u> pointer to packet buffer to examine.
           <u>len</u> of packet buffer to examine.

       <b>Returns</b>
           number of bytes actually available.

       References _IOLEN64.

   <b>virtual</b> <b>void</b> <b>ost::SocketPort::pending</b> <b>(void)</b> <b>[protected],</b>  <b>[virtual]</b>
       Called by the service thread pool when input data is pending for this socket.

   <b>ssize_t</b> <b>ost::SocketPort::receive</b> <b>(void</b> <b>*</b> <b>buf,</b> <b>size_t</b> <b>len)</b> <b>[inline],</b>  <b>[protected]</b>
       Receive a message from any host. This is used in derived classes to build protocols.

       <b>Parameters</b>
           <u>buf</u> pointer to packet buffer to receive.
           <u>len</u> of packet buffer to receive.

       <b>Returns</b>
           number of bytes received.

       References _IOLEN64.

   <b>ssize_t</b> <b>ost::SocketPort::send</b> <b>(const</b> <b>void</b> <b>*</b> <b>buf,</b> <b>size_t</b> <b>len)</b> <b>[inline],</b>  <b>[protected]</b>
       Transmit 'send' data to a connected peer host. This is not public by default since an overriding protocol
       is likely to be used in a derived class.

       <b>Returns</b>
           number of bytes sent.

       <b>Parameters</b>
           <u>buf</u> address of buffer to send.
           <u>len</u> of bytes to send.

       References _IOLEN64.

   <b>void</b> <b>ost::SocketPort::setDetectOutput</b> <b>(bool)</b> <b>[protected]</b>
       Used to indicate if output ready monitoring should be performed by the service thread.

   <b>void</b> <b>ost::SocketPort::setDetectPending</b> <b>(bool)</b> <b>[protected]</b>
       Used to indicate if the service thread should monitor pending data for us.

   <b>void</b> <b>ost::SocketPort::setTimer</b> <b>(timeout_t</b> <b>timeout</b> <b>=</b> <b>0)</b>
       Derived setTimer to notify the service thread pool of change in expected timeout. This allows
       <b>SocketService</b> to reschedule all timers. Otherwise same as <b>TimerPort</b>.

       <b>Parameters</b>
           <u>timeout</u> in milliseconds.

</pre><h4><b>Friends</b> <b>And</b> <b>Related</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>friend</b> <b>class</b> <b>SocketService</b> <b>[friend]</b>
</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for GNU CommonC++ from the source code.

GNU CommonC++                                    Sun Dec 27 2020                              <u>ost::<a href="../man3/SocketPort.3.html">SocketPort</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>