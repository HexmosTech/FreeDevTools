<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       recvfrom — receive a message from a socket

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;sys/socket.h&gt;

       ssize_t recvfrom(int <u>socket</u>, void *restrict <u>buffer</u>, size_t <u>length</u>,
           int <u>flags</u>, struct sockaddr *restrict <u>address</u>,
           socklen_t *restrict <u>address_len</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>recvfrom</u>() function shall receive a message from a connection-mode or connectionless-mode socket. It
       is normally used with connectionless-mode sockets because it permits  the  application  to  retrieve  the
       source address of received data.

       The <u>recvfrom</u>() function takes the following arguments:

       <u>socket</u>      Specifies the socket file descriptor.

       <u>buffer</u>      Points to the buffer where the message should be stored.

       <u>length</u>      Specifies the length in bytes of the buffer pointed to by the <u>buffer</u> argument.

       <u>flags</u>       Specifies  the  type  of  message  reception. Values of this argument are formed by logically
                   OR'ing zero or more of the following values:

                   MSG_PEEK    Peeks at an incoming message.  The  data  is  treated  as  unread  and  the  next
                               <u>recvfrom</u>() or similar function shall still return this data.

                   MSG_OOB     Requests out-of-band data. The significance and semantics of out-of-band data are
                               protocol-specific.

                   MSG_WAITALL On  SOCK_STREAM  sockets  this  requests  that  the function block until the full
                               amount of data can be returned. The function may return  the  smaller  amount  of
                               data  if  the  socket  is  a  message-based socket, if a signal is caught, if the
                               connection is terminated, if MSG_PEEK was specified, or if an  error  is  pending
                               for the socket.

       <u>address</u>     A  null  pointer,  or  points  to  a <b>sockaddr</b> structure in which the sending address is to be
                   stored. The length and format of the address depend on the address family of the socket.

       <u>address_len</u> Either a null pointer, if <u>address</u> is a null pointer, or a pointer to a <b>socklen_t</b> object which
                   on input specifies the length of the supplied <b>sockaddr</b> structure, and on output specifies the
                   length of the stored address.

       The <u>recvfrom</u>() function shall return the length of the message written to the buffer pointed  to  by  the
       <u>buffer</u>  argument. For message-based sockets, such as SOCK_RAW, SOCK_DGRAM, and SOCK_SEQPACKET, the entire
       message shall be read in a single operation. If a message is too long to fit in the supplied buffer,  and
       MSG_PEEK is not set in the <u>flags</u> argument, the excess bytes shall be discarded. For stream-based sockets,
       such  as  SOCK_STREAM,  message  boundaries shall be ignored. In this case, data shall be returned to the
       user as soon as it becomes available, and no data shall be discarded.

       If the MSG_WAITALL flag is not set, data shall be returned only up to the end of the first message.

       Not all protocols provide the source address for messages. If the <u>address</u> argument is not a null  pointer
       and  the  protocol  provides  the  source address of messages, the source address of the received message
       shall be stored in the <b>sockaddr</b> structure pointed to by the <u>address</u> argument,  and  the  length  of  this
       address shall be stored in the object pointed to by the <u>address_len</u> argument.

       If  the  actual  length of the address is greater than the length of the supplied <b>sockaddr</b> structure, the
       stored address shall be truncated.

       If the <u>address</u> argument is not a null pointer and the protocol does not provide  the  source  address  of
       messages, the value stored in the object pointed to by <u>address</u> is unspecified.

       If  no  messages  are  available at the socket and O_NONBLOCK is not set on the socket's file descriptor,
       <u>recvfrom</u>() shall block until a message arrives. If no messages are available at the socket and O_NONBLOCK
       is set on the socket's file descriptor, <u>recvfrom</u>() shall fail and set <u>errno</u> to <b>[EAGAIN]</b> or <b>[EWOULDBLOCK]</b>.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon successful completion, <u>recvfrom</u>() shall return the length of the message in bytes.  If  no  messages
       are  available  to be received and the peer has performed an orderly shutdown, <u>recvfrom</u>() shall return 0.
       Otherwise, the function shall return -1 and set <u>errno</u> to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <u>recvfrom</u>() function shall fail if:

       <b>EAGAIN</b> or <b>EWOULDBLOCK</b>
              The socket's file descriptor is marked O_NONBLOCK and no  data  is  waiting  to  be  received;  or
              MSG_OOB  is  set  and  no out-of-band data is available and either the socket's file descriptor is
              marked O_NONBLOCK or the socket does not support blocking to await out-of-band data.

       <b>EBADF</b>  The <u>socket</u> argument is not a valid file descriptor.

       <b>ECONNRESET</b>
              A connection was forcibly closed by a peer.

       <b>EINTR</b>  A signal interrupted <u>recvfrom</u>() before any data was available.

       <b>EINVAL</b> The MSG_OOB flag is set and no out-of-band data is available.

       <b>ENOTCONN</b>
              A receive is attempted on a connection-mode socket that is not connected.

       <b>ENOTSOCK</b>
              The <u>socket</u> argument does not refer to a socket.

       <b>EOPNOTSUPP</b>
              The specified flags are not supported for this socket type.

       <b>ETIMEDOUT</b>
              The connection timed out during connection establishment, or due  to  a  transmission  timeout  on
              active connection.

       The <u>recvfrom</u>() function may fail if:

       <b>EIO</b>    An I/O error occurred while reading from or writing to the file system.

       <b>ENOBUFS</b>
              Insufficient resources were available in the system to perform the operation.

       <b>ENOMEM</b> Insufficient memory was available to fulfill the request.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       None.

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       The <u>select</u>() and <u>poll</u>() functions can be used to determine when data is available to be received.

</pre><h4><b>RATIONALE</b></h4><pre>
       None.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>poll</u>(), <u>pselect</u>(), <u>read</u>(), <u>recv</u>(), <u>recvmsg</u>(), <u>send</u>(), <u>sendmsg</u>(), <u>sendto</u>(), <u>shutdown</u>(), <u>socket</u>(), <u>write</u>()

       The Base Definitions volume of POSIX.1‐2017, <b>&lt;sys_socket.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for  Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group Base
       Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical  and  Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE  and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any typographical or formatting errors that appear in this page are most likely to have  been  introduced
       during   the   conversion  of  the  source  files  to  man  page  format.  To  report  such  errors,  see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                      <u><a href="../man3POSIX/RECVFROM.3POSIX.html">RECVFROM</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>