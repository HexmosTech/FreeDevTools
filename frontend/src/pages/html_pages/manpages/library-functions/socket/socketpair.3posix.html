<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       socketpair — create a pair of connected sockets

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;sys/socket.h&gt;

       int socketpair(int <u>domain</u>, int <u>type</u>, int <u>protocol</u>,
           int <u>socket_vector</u>[2]);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>socketpair</u>()  function shall create an unbound pair of connected sockets in a specified <u>domain</u>, of a
       specified <u>type</u>, under the protocol optionally specified by the <u>protocol</u> argument. The two  sockets  shall
       be  identical.  The  file  descriptors  used  in  referencing  the  created  sockets shall be returned in
       <u>socket_vector</u>[0] and <u>socket_vector</u>[1].  The file descriptors shall be allocated as described  in  <u>Section</u>
       <u>2.14</u>, <u>File</u> <u>Descriptor</u> <u>Allocation</u>.

       The <u>socketpair</u>() function takes the following arguments:

       <u>domain</u>      Specifies the communications domain in which the sockets are to be created.

       <u>type</u>        Specifies the type of sockets to be created.

       <u>protocol</u>    Specifies  a  particular  protocol  to  be used with the sockets.  Specifying a <u>protocol</u> of 0
                   causes <u>socketpair</u>() to use an unspecified default  protocol  appropriate  for  the  requested
                   socket type.

       <u>socket_vector</u>
                   Specifies a 2-integer array to hold the file descriptors of the created socket pair.

       The  <u>type</u>  argument  specifies the socket type, which determines the semantics of communications over the
       socket. The following socket types are defined; implementations may specify additional socket types:

       SOCK_STREAM   Provides sequenced, reliable, bidirectional, connection-mode byte streams, and may  provide
                     a transmission mechanism for out-of-band data.

       SOCK_DGRAM    Provides  datagrams,  which  are  connectionless-mode, unreliable messages of fixed maximum
                     length.

       SOCK_SEQPACKET
                     Provides  sequenced,  reliable,  bidirectional,  connection-mode  transmission  paths   for
                     records. A record can be sent using one or more output operations and received using one or
                     more input operations, but a single operation never transfers part of more than one record.
                     Record boundaries are visible to the receiver via the MSG_EOR flag.

       If  the  <u>protocol</u>  argument  is  non-zero,  it  shall specify a protocol that is supported by the address
       family. If the <u>protocol</u> argument is zero, the default protocol for this address family and type shall  be
       used. The protocols supported by the system are implementation-defined.

       The  process  may  need to have appropriate privileges to use the <u>socketpair</u>() function or to create some
       sockets.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon successful completion, this function shall return 0; otherwise, -1 shall be returned and  <u>errno</u>  set
       to indicate the error, no file descriptors shall be allocated, and the contents of <u>socket_vector</u> shall be
       left unmodified.

</pre><h4><b>ERRORS</b></h4><pre>
       The <u>socketpair</u>() function shall fail if:

       <b>EAFNOSUPPORT</b>
              The implementation does not support the specified address family.

       <b>EMFILE</b> All, or all but one, of the file descriptors available to the process are currently open.

       <b>ENFILE</b> No more file descriptors are available for the system.

       <b>EOPNOTSUPP</b>
              The specified protocol does not permit creation of socket pairs.

       <b>EPROTONOSUPPORT</b>
              The  protocol  is  not  supported  by  the address family, or the protocol is not supported by the
              implementation.

       <b>EPROTOTYPE</b>
              The socket type is not supported by the protocol.

       The <u>socketpair</u>() function may fail if:

       <b>EACCES</b> The process does not have appropriate privileges.

       <b>ENOBUFS</b>
              Insufficient resources were available in the system to perform the operation.

       <b>ENOMEM</b> Insufficient memory was available to fulfill the request.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       None.

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       The documentation for specific address families specifies which protocols each address  family  supports.
       The documentation for specific protocols specifies which socket types each protocol supports.

       The  <u>socketpair</u>() function is used primarily with UNIX domain sockets and need not be supported for other
       domains.

</pre><h4><b>RATIONALE</b></h4><pre>
       None.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>Section</u> <u>2.14</u>, <u>File</u> <u>Descriptor</u> <u>Allocation</u>, <u>socket</u>()

       The Base Definitions volume of POSIX.1‐2017, <b>&lt;sys_socket.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                    <u><a href="../man3POSIX/SOCKETPAIR.3POSIX.html">SOCKETPAIR</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>