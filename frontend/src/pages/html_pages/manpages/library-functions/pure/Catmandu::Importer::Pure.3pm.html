<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catmandu::Importer::Pure - Package that imports Pure data.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcatmandu-pure-perl">libcatmandu-pure-perl_0.05-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
         Catmandu::Importer::Pure - Package that imports Pure data.

</pre><h4><b>SYNOPSIS</b></h4><pre>
         # From the command line
         $ catmandu convert Pure \
               --base https://host/ws/api/... \
               --endpoint research-outputs \
               --apiKey "..."

         # In Perl
         use Catmandu;

         my %attrs = (
           base     =&gt; 'https://host/path',
           endpoint =&gt; 'research-outputs',
           apiKey   =&gt; '...',
           options  =&gt; { 'fields' =&gt; 'title,type,authors.*' }
         );

         my $importer = Catmandu-&gt;importer('Pure', %attrs);

         my $n = $importer-&gt;each(sub {
           my $hashref = $_[0];
           # ...
         });

         # get number of validated and approved publications
         my $count = Catmandu-&gt;importer(
           'Pure',
           base         =&gt; 'https://host/path',
           endpoint     =&gt; 'research-outputs',
           apiKey       =&gt; '...',
           fullResponse =&gt; 1,
           post_xml =&gt; '&lt;?xml version="1.0" encoding="utf-8"?&gt;'
             . '&lt;researchOutputsQuery&gt;'
             . '&lt;size&gt;0&lt;/size&gt;'
             . '&lt;workflowSteps&gt;'
             . '  &lt;workflowStep&gt;approved&lt;/workflowStep&gt;'
             . '  &lt;workflowStep&gt;validated&lt;/workflowStep&gt;'
             . '&lt;/workflowSteps&gt;'
             . '&lt;/researchOutputsQuery&gt;'
         )-&gt;first-&gt;{count};

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Catmandu::Importer::Pure is a Catmandu package that seamlessly imports data from Elsevier's Pure system
       using its REST service.  In order to use the Pure Web Service you need an API key. List of all available
       endpoints and further documentation can currently be found under /ws on a webserver that is running Pure.
       Note that this version of the importer is tested with Pure API version 5.18 and might not work with later
       versions.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       base
           Base URL for the REST service is required, for example '<a href="http://purehost.com/ws/api/518">http://purehost.com/ws/api/518</a>'

       endpoint
           Valid endpoint is required, like 'research-outputs'

       apiKey
           Valid API key is required for access

       path
           Path after the endpoint

       user
           User name if basic authentication is used

       password
           Password if basic authentication is used

       options
           Options passed as parameters to the REST service, for example: {
               'size' =&gt; 20,
               'fields' =&gt; 'title,type,authors.*'  }

       post_xml
           xml containing a query that will be submitted with a POST request

       fullResponse
           Optional  flag. If true delivers the complete results as a single item (record), corresponding to the
           XML response received. Only one request to the REST service is made in this case. Default is false.

           If the flag is false then the items are set to child elements of the element 'result' or in case  the
           'result' element does not exist they are set to child elements of the root element for each response.

       handler( sub {} | $object | 'NAME' | '+NAME' )
           Handler to transform each record from XML DOM (XML::LibXML::Element) into Perl hash.

           Handlers  can  be  provided  as  function  reference,  an  instance of a Perl package that implements
           'parse', or by  a  package  NAME.  Package  names  should  be  prepended  by  "+"  or  prefixed  with
           "Catmandu::Importer::Pure::Parser".         E.g         "foobar"         will         create        a
           "Catmandu::Importer::Pure::Parser::foobar" instance.

           By default the handler Catmandu::Importer::Pure::Parser::simple is used.  It provides  a  simple  XML
           parsing, using XML::LibXML::Simple,

           Other  possible  values are  Catmandu::Importer::Pure::Parser::struct for XML::Struct based structure
           that preserves order and Catmandu::Importer::Pure::Parser::raw that returns the XML as it is.

       userAgent
           HTTP user agent string, set to "Mozilla/5.0" by default.

       furl
           Instance of Furl or compatible class to fetch URLs with.

       timeout
           Timeout for HTTP requests in seonds. Defaults to 50.

       trim_text
           Optional flag. If true then all text nodes in the REST response are trimmed so that any  leading  and
           trailing  whitespace  is  removed  before  parsing.  This is useful if you don't want to risk getting
           leading and trailing whitespace in your data, since Pure  doesn't  currently  clean  leading/trailing
           white  space  from user input. Note that there is a small performance penalty when using this option.
           Default is false.

       filter( sub {} )
           Optional reference to function that processes the XML response before it is parsed. The  argument  to
           the function is a reference to the XML text, which is then used to modify it. This option is normally
           not  needed  but  can  helpful  if  there  is a problem parsing the response due to a bug in the REST
           service.

</pre><h4><b>METHODS</b></h4><pre>
       In addition to methods inherited from Catmandu::Iterable,  this  module  provides  the  following  public
       methods:

       <b>url</b> Return the current Pure REST request URL (useful for debugging).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Catmandu

       Catmandu::Importer

       Catmandu::Iterable

       Furl

</pre><h4><b>AUTHOR</b></h4><pre>
       Snorri Briem &lt;<a href="mailto:briem@cpan.org">briem@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2017- Lund University Library

</pre><h4><b>LICENSE</b></h4><pre>
       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.36.0                                       2023-02-04                      <u>Catmandu::Importer::<a href="../man3pm/Pure.3pm.html">Pure</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>