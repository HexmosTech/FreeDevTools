<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalyst::ActionRole::ACL - User role-based authorization action class</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcatalyst-actionrole-acl-perl">libcatalyst-actionrole-acl-perl_0.07-1.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Catalyst::ActionRole::ACL - User role-based authorization action class

</pre><h4><b>SYNOPSIS</b></h4><pre>
        package MyApp::Controller::Foo;
        use Moose;
        use namespace::autoclean;

        BEGIN { extends 'Catalyst::Controller' }

        sub foo
        :Local
        :Does(ACL)
        :RequiresRole(admin)
        :ACLDetachTo(denied)
        {
            my ($self, $c) = @_;
            ...
        }

        sub denied :Private {
            my ($self, $c) = @_;

            $c-&gt;res-&gt;status('403');
            $c-&gt;res-&gt;body('Denied!');
        }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Provides a reusable action role for user role-based authorization.  ACLs are applied via the assignment
       of attributes to application action subroutines.

</pre><h4><b>REQUIRED</b> <b>ATTRIBUTES</b></h4><pre>
       Failure to include the following required attributes will result in an exception when the ACL::Role
       action's constructor is called.

   <b>ACLDetachTo</b>
       The name of an action to which the request should be detached if it is determined that ACLs are not
       satisfied for this user and the resource he is attempting to access.

   <b>RequiresRole</b> <b>and</b> <b>AllowedRole</b>
       The action must include at least one of these attributes, otherwise the Role::ACL constructor will throw
       an exception.

</pre><h4><b>Processing</b> <b>of</b> <b>ACLs</b></h4><pre>
       One or more roles may be associated with an action.

       User roles are fetched via the invocation of the context "user" object's "roles" method.

       Roles specified with the RequiresRole attribute are checked before roles specified with the AllowedRole
       attribute.

       The mandatory ACLDetachTo attribute specifies the name of the action to which execution will detach on
       access violation.

       ACLs may be applied to chained actions so that different roles are required or allowed for each link in
       the chain (or no roles at all).

       ACLDetachTo allows us to short-circuit traversal of an action chain as soon as access is denied to one of
       the actions in the chain by its ACL.

   <b>Examples</b>
        # this is an invalid action
        sub broken
        :Local
        :Does(ACL)
        {
            my ($self, $c) = @_;
            ...
        }

        This action will cause an exception because it's missing the ACLDetachTo attribute
        and has neither a RequiresRole nor an AllowedRole attribute. A Role::ACL action
        must include at least one RequiresRole or AllowedRole attribute.

        sub foo
        :Local
        :Does(ACL)
        :RequiresRole(admin)
        :ACLDetachTo(denied)
        {
            my ($self, $c) = @_;
            ...
        }

       This action may only be executed by users with the 'admin' role.

        sub bar :Local
        :Does(ACL)
        :RequiresRole(admin)
        :AllowedRole(editor)
        :AllowedRole(writer)
        :ACLDetachTo(denied)
        {
            my ($self, $c) = @_;
            ...
        }

       This action requires that the user has the 'admin' role and either the 'editor' or 'writer' role (or
       both).

        sub easy :Local
        :Does(ACL)
        :AllowedRole(admin)
        :AllowedRole(user)
        :ACLDetachTo(denied)
        {
            my ($self, $c) = @_;
            ...
        }

       Any user with either the 'admin' or 'user' role may execute this action.

</pre><h4><b>WRAPPED</b> <b>METHODS</b></h4><pre>
   <b>"BUILD(</b> <b>$args</b> <b>)"</b>
       Throws an exception if parameters are missing or invalid.

   <b>"execute(</b> <b>$controller,</b> <b>$c</b> <b>)"</b>
       Overrides &amp;Catalyst::Action::execute.

       In order for delegation to occur, the context 'user' object must exist (authenticated user) and the
       "can_visit" method must return a true value.

       See Catalyst::Action

   <b>"can_visit(</b> <b>$c</b> <b>)"</b>
       Return true if the authenticated user can visit this action.

       This method is useful for determining in advance if a user can execute a given action.

</pre><h4><b>AUTHOR</b></h4><pre>
       David P.C. Wollmann &lt;<a href="mailto:converter42@gmail.com">converter42@gmail.com</a>&gt;

</pre><h4><b>CONTRIBUTORS</b></h4><pre>
       Converted from an action class to an action role by Tomas Doran (t0m)

</pre><h4><b>BUGS</b></h4><pre>
       This is new code. Find the bugs and report them, please.

</pre><h4><b>COPYRIGHT</b> <b>&amp;</b> <b>LICENSE</b></h4><pre>
       Copyright 2009 by David P.C. Wollmann

       This program is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.32.0                                       2021-01-06                     <u>Catalyst::ActionRole::<a href="../man3pm/ACL.3pm.html">ACL</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>