<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalyst::Manual::Deployment::nginx::FastCGI - Deploying Catalyst with nginx</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcatalyst-manual-perl">libcatalyst-manual-perl_5.9013-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Catalyst::Manual::Deployment::nginx::FastCGI - Deploying Catalyst with nginx

</pre><h4><b>nginx</b></h4><pre>
       Catalyst runs under nginx via FastCGI in a similar fashion as the lighttpd standalone server.

       nginx does not have its own internal FastCGI process manager, so you must run the FastCGI service
       separately.

   <b>Configuration</b>
       To configure nginx, you must configure the FastCGI parameters and also the socket your FastCGI daemon is
       listening on.  It can be either a TCP socket or a Unix file socket.

       The server configuration block should look roughly like:

           server {
               listen $port;

               location / {
                   fastcgi_param  QUERY_STRING       $query_string;
                   fastcgi_param  REQUEST_METHOD     $request_method;
                   fastcgi_param  CONTENT_TYPE       $content_type;
                   fastcgi_param  CONTENT_LENGTH     $content_length;

                   fastcgi_param  SCRIPT_NAME        '';
                   fastcgi_param  PATH_INFO          $fastcgi_script_name;
                   fastcgi_param  REQUEST_URI        $request_uri;
                   fastcgi_param  DOCUMENT_URI       $document_uri;
                   fastcgi_param  DOCUMENT_ROOT      $document_root;
                   fastcgi_param  SERVER_PROTOCOL    $server_protocol;

                   fastcgi_param  GATEWAY_INTERFACE  CGI/1.1;
                   fastcgi_param  SERVER_SOFTWARE    nginx/$nginx_version;

                   fastcgi_param  REMOTE_ADDR        $remote_addr;
                   fastcgi_param  REMOTE_PORT        $remote_port;
                   fastcgi_param  SERVER_ADDR        $server_addr;
                   fastcgi_param  SERVER_PORT        $server_port;
                   fastcgi_param  SERVER_NAME        $server_name;

                   # Adjust the socket for your applications!
                   fastcgi_pass   unix:$docroot/myapp.socket;
               }
           }

       It is the standard convention of nginx to include the fastcgi_params in a separate file (usually
       something like "<a href="file:/etc/nginx/fastcgi_params">/etc/nginx/fastcgi_params</a>") and simply include that file.

       If you include the "<a href="file:/etc/nginx/fastcgi_params">/etc/nginx/fastcgi_params</a>" that comes with your distribution, e.g. Debian, you need
       to adjust a couple of parameters for PSGI compatibility, use something like this:

               include <a href="file:/etc/nginx/fastcgi_params">/etc/nginx/fastcgi_params</a>;
               fastcgi_param SCRIPT_NAME '';
               fastcgi_param PATH_INFO   $fastcgi_script_name;

   <b>Non-root</b> <b>configuration</b>
       If you properly specify the PATH_INFO and SCRIPT_NAME parameters your application will be accessible at
       any path. The SCRIPT_NAME variable is the prefix of your application, and PATH_INFO would be everything
       in addition.

       As an example, if your application is rooted at /myapp, you would configure:

           rewrite ^/myapp$ /myapp/ permanent;
           location /myapp/ {
               include <a href="file:/etc/nginx/fastcgi_params">/etc/nginx/fastcgi_params</a>;
               fastcgi_param SCRIPT_NAME /myapp/;
               fastcgi_param PATH_INFO   $fastcgi_script_name;
               fastcgi_pass unix:/tmp/myapp.socket;
           }

       $fastcgi_script_name would be "/myapp/path/of/the/action".  Catalyst will process this accordingly and
       setup the application base as expected.

       This behavior is somewhat different from Apache and lighttpd, but is still functional.

       Note that the rewrite may not be needed with newer versions of nginx, and the paths must be exactly as
       specified - the trailing slash in the location block and the SCRIPT_NAME are important.

   <b>SSL</b>
       Make sure that nginx passes this to your fastcgi. To ensure this, you need the following in your nginx
       config for the SSL vhost:

           fastcgi_param  HTTPS on

</pre><h4><b>MORE</b> <b>INFO</b></h4><pre>
       For more information on nginx, visit: &lt;https://www.nginx.com/&gt;

</pre><h4><b>AUTHORS</b></h4><pre>
       Catalyst Contributors, see Catalyst.pm

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This library is free software. You can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.38.2                                       2024-03-30             <u>Catalyst::Manua...:nginx::<a href="../man3pm/FastCGI.3pm.html">FastCGI</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>