<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algorithm::Backoff - Various backoff strategies for retry</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libalgorithm-backoff-perl">libalgorithm-backoff-perl_0.010-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Algorithm::Backoff - Various backoff strategies for retry

</pre><h4><b>VERSION</b></h4><pre>
       This document describes version 0.010 of Algorithm::Backoff (from Perl distribution Algorithm-Backoff),
       released on 2024-02-24.

</pre><h4><b>SYNOPSIS</b></h4><pre>
        # 1. pick a strategy and instantiate

        use Algorithm::Backoff::Constant;
        my $ab = Algorithm::Backoff::Constant-&gt;new(
            delay             =&gt; 2, # required
            #delay_on_success =&gt; 0, # optional, default 0
        );

        # 2. log success/failure and get a new number of seconds to delay. if you don't
        # want to log for the current time, you can pass a timestamp (number of seconds
        # passed since some reference value, like a Unix epoch) as the argument, which
        # should be monotonically increasing.

        my $secs = $ab-&gt;failure(); # =&gt; 2
        my $secs = $ab-&gt;success(); # =&gt; 0
        my $secs = $ab-&gt;failure(); # =&gt; 2

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This distribution provides several classes that implement various backoff strategies for setting delay
       between retry attempts.

       This class ("Algorithm::Backoff") is a base class only.

       Algorithm::Backoff does not actually provide a function/method to retry a piece of code. It only contains
       the backoff strategies and splits the actual delaying to another module (e.g. Retry::Backoff). This
       allows for things like printing/returning all the retries and their delay amounts without actually doing
       the delay (e.g. in show-backoff-delays script).

</pre><h4><b>METHODS</b></h4><pre>
   <b>new</b>
       Usage:

        new(%args) -&gt; obj

       This function is not exported.

       Arguments ('*' denotes required arguments):

       •   <b>jitter_factor</b> =&gt; <u>float</u>

           How much to add randomness.

           If  you  set  this to a value larger than 0, the actual delay will be between a random number between
           original_delay * (1-jitter_factor) and original_delay * (1+jitter_factor). Jitters are usually  added
           to avoid so-called "thundering herd" problem.

           The jitter will be applied to delay on failure as well as on success.

       •   <b>max_attempts</b> =&gt; <u>uint</u> (default: 0)

           Maximum number consecutive failures before giving up.

           0 means to retry endlessly without ever giving up. 1 means to give up after a single failure (i.e. no
           retry  attempts).  2  means  to retry once after a failure.  Note that after a success, the number of
           attempts is reset (as expected). So if max_attempts is 3, and if you fail twice then succeed, then on
           the next failure the algorithm will retry again for a maximum of 3 times.

       Return value:  (obj)

   <b>success</b>
       Usage:

        my $secs = $obj-&gt;success([ $timestamp ]);

       Log a successful attempt. If not specified, $timestamp defaults to current Unix  timestamp.  Will  return
       the suggested number of seconds to wait before doing another attempt.

   <b>failure</b>
       Usage:

        my $secs = $obj-&gt;failure([ $timestamp ]);

       Log  a  failed  attempt. If not specified, $timestamp defaults to current Unix timestamp. Will return the
       suggested number of seconds to wait before doing another attempt, or -1 if it suggests that one gives  up
       (e.g. if "max_attempts" parameter has been exceeded).

</pre><h4><b>HOMEPAGE</b></h4><pre>
       Please visit the project's homepage at &lt;https://metacpan.org/release/Algorithm-Backoff&gt;.

</pre><h4><b>SOURCE</b></h4><pre>
       Source repository is at &lt;https://github.com/perlancar/perl-Algorithm-Backoff&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Retry::Backoff  -  an  application  of  Algorithm::Backoff to retry a piece of code using various backoff
       strategies.

       App::AlgorithmBackoffUtils - various CLI's related to Algorithm::Backoff.

       Action::Retry - A prior art for Algorithm::Backoff. Somehow I didn't  find  this  module  before  writing
       Algorithm::Backoff. But Algorithm::Backoff offers an alternative interface (a split of actual sleep/retry
       vs  the  algorithm),  and some additional parameters (like delay on success and jitter factor), a lighter
       footprint (no Moo), and a couple more strategies.

</pre><h4><b>AUTHOR</b></h4><pre>
       perlancar &lt;<a href="mailto:perlancar@cpan.org">perlancar@cpan.org</a>&gt;

</pre><h4><b>CONTRIBUTORS</b></h4><pre>
       •   Brendan Byrd &lt;<a href="mailto:brendan.byrd@grantstreet.com">brendan.byrd@grantstreet.com</a>&gt;

       •   SineSwiper &lt;<a href="mailto:GitHub@ResonatorSoft.org">GitHub@ResonatorSoft.org</a>&gt;

</pre><h4><b>CONTRIBUTING</b></h4><pre>
       To contribute, you can send patches by email/via RT, or send pull requests on GitHub.

       Most of the time, you don't need to build the distribution yourself. You can simply modify the code, then
       test via:

        % prove -l

       If you want to build the distribution (e.g. to try to install it locally on your system), you can install
       Dist::Zilla, Dist::Zilla::PluginBundle::Author::PERLANCAR,  Pod::Weaver::PluginBundle::Author::PERLANCAR,
       and  sometimes  one  or  two other Dist::Zilla- and/or Pod::Weaver plugins. Any additional steps required
       beyond that are considered a bug and can be reported to me.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2024, 2019 by perlancar &lt;<a href="mailto:perlancar@cpan.org">perlancar@cpan.org</a>&gt;.

       This is free software; you can redistribute it and/or modify it under  the  same  terms  as  the  Perl  5
       programming language system itself.

</pre><h4><b>BUGS</b></h4><pre>
       Please     report     any     bugs     or     feature     requests     on    the    bugtracker    website
       &lt;https://rt.cpan.org/Public/Dist/Display.html?Name=Algorithm-Backoff&gt;

       When submitting a bug or request, please include a test-file or a patch to  an  existing  test-file  that
       illustrates the bug or desired feature.

perl v5.40.1                                       2025-05-04                            <u>Algorithm::<a href="../man3pm/Backoff.3pm.html">Backoff</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>