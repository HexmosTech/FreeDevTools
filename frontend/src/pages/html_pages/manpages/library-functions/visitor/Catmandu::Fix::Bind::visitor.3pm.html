<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catmandu::Fix::Bind::visitor - a binder that computes Fix-es for every element in record</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcatmandu-perl">libcatmandu-perl_1.2024-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Catmandu::Fix::Bind::visitor - a binder that computes Fix-es for every element in record

</pre><h4><b>SYNOPSIS</b></h4><pre>
        # If data is like:

          numbers:
             - one
             - two
             - three
          person:
             name: jennie
             age: 44
             color:
                - green
                - purple
                - brown
                - more:
                   foo: bar

        do visitor()
           upcase(scalar)  # upcase every scalar value in the record
        end

        # will produce

          numbers:
             - ONE
             - TWO
             - THREE
          person:
             name: JENNIE
             age: 44
             color:
                - GREEN
                - PURPLE
                - BROWN
                - more:
                   foo: BAR

         do visitor()
           # upcase all the 'name' fields in the record
           if all_match(key,name)
             upcase(scalar)
           end
         end

         do visitor()
           # upcase all the field names in the record
           upcase(key)
         end

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The visitor binder will iterate over all the elements in a record and perform fixes on them.

       Special node names are available to process every visited element:

       scalar
           Process a Fix on every scalar value. E.g.

              upcase(scalar)
              replace_all(scalar,'$','tested')

       array
           Process a Fix on every array value. E.g.

              sort_field(array)

           Values  need  to  be  put  in  the 'array' field to be available for fixes. The scope of the array is
           limited to the array visited.

       hash
           Process a Fix on every hash value. E.g.

              copy_field(hash.age,hash.age2)

           Values need to be put in the 'hash' field to be available for fixes. The scope of the hash is limited
           to the hash visited.

       key Provides access to the key on which the scalar,array or hash value is found. Eg.

              # Upcase all 'name' fields in the record
              if all_match(key,name)
                 upcase(scalar)
              end

</pre><h4><b>CONFIGURATION</b></h4><pre>
   <b>path</b>
       A path in the data to visit:

         # Visit any field
         do visitor()
           ...
         end

         # Visit only the fields at my.deep.field
         do visitor(path: my.deep.field)
           ...
         end

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Catmandu::Fix::Bind

perl v5.40.0                                       2025-01-17                  <u>Catmandu::Fix::Bind::<a href="../man3pm/visitor.3pm.html">visitor</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>