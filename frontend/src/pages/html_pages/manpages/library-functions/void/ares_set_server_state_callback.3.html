<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ares_set_server_state_callback - Function for setting a server state callback</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libc-ares-dev">libc-ares-dev_1.34.5-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ares_set_server_state_callback - Function for setting a server state callback

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;ares.h&gt;

       typedef void (*ares_server_state_callback)(const char *<u>server_string</u>,
                                                  ares_bool_t <u>success</u>,
                                                  int <u>flags</u>,
                                                  void *<u>data</u>);

       void ares_set_server_state_callback(ares_channel_t *<u>channel</u>,
                                           ares_server_state_callback <u>callback</u>,
                                           void *<u>user_data</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b><a href="../man3/ares_set_server_state_callback.3.html">ares_set_server_state_callback</a>(3)</b>  function  sets  a  callback  function  <u>callback</u> in the given ares
       channel handle <u>channel</u> that is invoked whenever a query on the  channel  completes.  This  includes  both
       successful  and  unsuccessful  queries  (including  hard  errors  and timeouts). The callback function is
       invoked with a number of parameters describing the query, as follows.

       The <u>server_string</u> parameter indicates the DNS server that was used for the query, given as a string  with
       the same format returned by <b><a href="../man3/ares_get_servers_csv.3.html">ares_get_servers_csv</a>(3)</b>.

       The <u>success</u> parameter indicates whether the query succeeded or not. It is set to <b>ARES_TRUE</b> on success and
       <b>ARES_FALSE</b> on failure.

       The  <u>flags</u>  parameter  is a bitmask of flags describing various aspects of the query (for example whether
       the query used UDP or TCP). These are described below.

       The  <u>data</u>  parameter  is  a  reference  to  the  custom  user  data  <u>user_data</u>   that   was   passed   to
       <b><a href="../man3/ares_set_server_state_callback.3.html">ares_set_server_state_callback</a>(3)</b> when setting the server state callback.

       The  server state callback can be used by applications to monitor the state of the DNS servers used by an
       ares channel. For example, it can be used to track metrics about the numbers and types of queries sent to
       each server or to detect when a server is uncontactable or unhealthy.

</pre><h4><b>FLAGS</b></h4><pre>
       <b>ARES_SERV_STATE_UDP</b>
            Indicates that the query was tried over UDP.

       <b>ARES_SERV_STATE_TCP</b>
            Indicates that the query was tried over TCP.

</pre><h4><b>AVAILABILITY</b></h4><pre>
       This function was first introduced in c-ares version 1.29.0.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ares_get_servers_csv.3.html">ares_get_servers_csv</a></b>(3)

                                                   26 Apr 2024                 <u><a href="../man3/ARES_SET_SERVER_STATE_CALLBACK.3.html">ARES_SET_SERVER_STATE_CALLBACK</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>