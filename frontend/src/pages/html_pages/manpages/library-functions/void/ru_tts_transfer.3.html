<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ru_tts_transfer - transfer specified Russian text to speech</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/librutts-dev">librutts-dev_6.2.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ru_tts_transfer - transfer specified Russian text to speech

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;ru_tts.h&gt;</b>

       <b>typedef</b> <b>int</b> <b>(*ru_tts_callback)(void</b> <b>*buffer,</b> <b>size_t</b> <b>size,</b> <b>void</b> <b>*user_data);</b>

       <b>void</b> <b>ru_tts_transfer(ru_tts_conf_t</b> <b>*</b><u>config</u><b>,</b> <b>char</b> <b>*</b><u>text</u><b>,</b> <b>void</b> <b>*</b><u>wave_buffer</u><b>,</b> <b>size_t</b> <u>wave_buffer_size</u><b>,</b> <b>ru_tts_callback</b> <u>wave_consumer</u><b>,</b> <b>void</b> <b>*</b><u>user_data);</u>

       <b>void</b> <b>ru_tts_config_init(ru_tts_conf_t</b> <b>*</b><u>config);</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>ru_tts_transfer</b>()  function  transfers text pointed by <u>text</u> argument into digitized sound in the raw
       linear signed 8-bit 10 kHz format. The source  text  should  be  represented  by  zero-terminated  string
       containing  Russian  text in <b>koi8-r</b> charset. Symbols ‘+’ and ‘=’ immediately after a vowel are treated as
       strong and weak stress sign respectively. The resulting data are fed to the callback function  referenced
       by  <u>wave_consumer</u>  argument  chunk  by  chunk  via  buffer  specified by <u>wave_buffer</u> and <u>wave_buffer_size</u>
       arguments. The <u>user_data</u> argument is passed to the callback as a pointer to any additional data specified
       by user.

       Various speech synthesis control options can be passed via <u>ru_tts_conf_t</u> data structure  pointed  by  the
       <u>config</u> argument that contains the following fields:

           typedef struct {
               int speech_rate;
               int voice_pitch;
               int intonation;
               int general_gap_factor;
               int comma_gap_factor;
               int dot_gap_factor;
               int semicolon_gap_factor;
               int colon_gap_factor;
               int question_gap_factor;
               int exclamation_gap_factor;
               int intonational_gap_factor;
               int flags;
           } ru_tts_conf_t;

       This  structure  should  be initialized by the <b>ru_tts_config_init</b>() function that fills it by the default
       values.

       All numeric values represent a percentage of the corresponding parameter normal level. Initially they are
       set to 100. Each parameter has its own reasonable value range, but out of range values do not  cause  any
       problem since they are treated as the nearest boundary of the acceptable range.

       <u>speech_rate</u>
              Speech rate in percents of the normal level. Reasonable value range is from 20 up to 500.

       <u>voice_pitch</u>
              Voice pitch in percents of the normal level. Reasonable value range is from 50 up to 300.

       <u>intonation</u>
              Voice  pitch  variation  range.  It can vary from 0 (absolutely monotonic speech) up to 140 (a bit
              more expressive than normal).

       <u>general_gap_factor</u>
              Percentage factor applied to all interclause gaps. Its lower boundary is 0 that means no  gaps  at
              all.  The  maximum  proportionally  depends on the speech rate. On normal rate it is approximately
              312.

       <u>comma_gap_factor</u>
              Relative duration of the gap implied by comma encountering. Reasonable value range is from 0 up to
              750.

       <u>dot_gap_factor</u>
              Relative duration of the gap implied by dot encountering. Reasonable value range is from 0  up  to
              500.

       <u>semicolon_gap_factor</u>
              Relative  duration  of the gap implied by semicolon encountering. Reasonable value range is from 0
              up to 600.

       <u>colon_gap_factor</u>
              Relative duration of the gap implied by colon encountering. Reasonable value range is from 0 up to
              600.

       <u>question_gap_factor</u>
              Relative duration of the gap implied by question mark encountering. Reasonable value range is from
              0 up to 375.

       <u>exclamation_gap_factor</u>
              Relative duration of the gap implied by exclamation mark encountering. Reasonable value  range  is
              from 0 up to 300.

       <u>intonational_gap_factor</u>
              Relative  duration of purely intonational gaps not caused by a punctuation. Reasonable value range
              is from 0 up to 1000.

       <u>flags</u>  Additional flags. The following flag constants being bitwise-<u>or</u>'d may be used here.

       <b>DEC_SEP_POINT</b>
              Treat point inside a number as decimal separator. Initially this flag is set.

       <b>DEC_SEP_COMMA</b>
              Treat comma inside a number as decimal separator. Initially this flag is set.

       <b>USE_ALTERNATIVE_VOICE</b>
              Use alternative (female) voice instead of the default (male) one. Initially this flag is not set.

       It is suggested that the user provided callback function takes further responsibility  on  the  generated
       data.  It  may  play  it  immediately or store somewhere or do whatever it is designed for. This function
       should return 0 in usual circumstances. Non-zero return value causes immediate transfer stop.

</pre><h4><b>AUTHOR</b></h4><pre>
       Igor B. Poretsky &lt;<a href="mailto:poretsky@mlbox.ru">poretsky@mlbox.ru</a>&gt;.

                                                January 11, 2023                              <u><a href="../man3/RU_TTS_TRANSFER.3.html">RU_TTS_TRANSFER</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>