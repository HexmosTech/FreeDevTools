<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>globus_xio_driver - Globus XIO Driver</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libglobus-xio-doc">libglobus-xio-doc_6.6-3build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       globus_xio_driver - Globus XIO Driver

        - Globus XIO Driver.

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Modules</b>
       <b>Driver</b> <b>Programming:</b> <b>String</b> <b>options</b>
           Driver Programming: String options.

   <b>Typedefs</b>
       typedef void(* <b>globus_xio_driver_callback_t</b>) (globus_xio_operation_t op, globus_result_t result, void
           *user_arg)
           Open and Close Callback Signature.
       typedef void(* <b>globus_xio_driver_data_callback_t</b>) (globus_xio_operation_t op, globus_result_t result,
           globus_size_t nbytes, void *user_arg)
       typedef globus_result_t(* <b>globus_xio_driver_attr_init_t</b>) (void **out_driver_attr)
       typedef globus_result_t(* <b>globus_xio_driver_attr_copy_t</b>) (void **dst, void *src)
       typedef globus_result_t(* <b>globus_xio_driver_attr_destroy_t</b>) (void *driver_attr)
       typedef globus_result_t(* <b>globus_xio_driver_attr_cntl_t</b>) (void *driver_attr, int cmd, va_list ap)
       typedef globus_result_t(* <b>globus_xio_driver_server_init_t</b>) (void *driver_attr, const globus_xio_contact_t
           *contact_info, globus_xio_operation_t op)
       typedef globus_result_t(* <b>globus_xio_driver_server_destroy_t</b>) (void *driver_server)
       typedef globus_result_t(* <b>globus_xio_driver_server_accept_t</b>) (void *driver_server, globus_xio_operation_t
           op)
       typedef globus_result_t(* <b>globus_xio_driver_server_cntl_t</b>) (void *driver_server, int cmd, va_list ap)
       typedef globus_result_t(* <b>globus_xio_driver_link_destroy_t</b>) (void *driver_link)
       typedef globus_result_t(* <b>globus_xio_driver_transform_open_t</b>) (const globus_xio_contact_t *contact_info,
           void *driver_link, void *driver_attr, globus_xio_operation_t op)
           Open a handle.
       typedef globus_result_t(* <b>globus_xio_driver_transport_open_t</b>) (const globus_xio_contact_t *contact_info,
           void *driver_link, void *driver_attr, globus_xio_operation_t op)
           Open a handle.
       typedef globus_result_t(* <b>globus_xio_driver_handle_cntl_t</b>) (void *handle, int cmd, va_list ap)
       typedef globus_result_t(* <b>globus_xio_driver_close_t</b>) (void *driver_specific_handle, void *driver_attr,
           globus_xio_operation_t op)
           Close a handle.
       typedef globus_result_t(* <b>globus_xio_driver_read_t</b>) (void *driver_specific_handle, const
           globus_xio_iovec_t *iovec, int iovec_count, globus_xio_operation_t op)
       typedef globus_result_t(* <b>globus_xio_driver_write_t</b>) (void *driver_specific_handle, const
           globus_xio_iovec_t *iovec, int iovec_count, globus_xio_operation_t op)

   <b>Functions</b>
       globus_result_t <b>globus_xio_driver_set_server_pre_init</b> (globus_xio_driver_t driver,
           <b>globus_xio_driver_server_init_t</b> server_pre_init_func)
           Server Pre-Init.
       globus_result_t <b>globus_xio_driver_handle_cntl</b> (globus_xio_driver_handle_t handle, globus_xio_driver_t
           driver, int cmd,...)
       void <b>globus_xio_driver_finished_accept</b> (globus_xio_operation_t op, void *driver_link, globus_result_t
           result)
       globus_result_t <b>globus_xio_driver_pass_open</b> (globus_xio_operation_t op, const globus_xio_contact_t
           *contact_info, <b>globus_xio_driver_callback_t</b> cb, void *user_arg)
       void <b>globus_xio_driver_finished_open</b> (void *driver_handle, globus_xio_operation_t op, globus_result_t
           result)
       globus_result_t <b>globus_xio_driver_operation_create</b> (globus_xio_operation_t *operation,
           globus_xio_driver_handle_t handle)
       globus_bool_t <b>globus_xio_driver_operation_is_blocking</b> (globus_xio_operation_t operation)
       globus_result_t <b>globus_xio_driver_pass_close</b> (globus_xio_operation_t op, <b>globus_xio_driver_callback_t</b> cb,
           void *callback_arg)
           Pass the close operation down the driver stack.
       void <b>globus_xio_driver_finished_close</b> (globus_xio_operation_t op, globus_result_t result)
       globus_result_t <b>globus_xio_driver_pass_read</b> (globus_xio_operation_t op, globus_xio_iovec_t *iovec, int
           iovec_count, globus_size_t wait_for, <b>globus_xio_driver_data_callback_t</b> cb, void *user_arg)
       void <b>globus_xio_driver_finished_read</b> (globus_xio_operation_t op, globus_result_t result, globus_size_t
           nread)
       void <b>globus_xio_driver_set_eof_received</b> (globus_xio_operation_t op)
       globus_bool_t <b>globus_xio_driver_eof_received</b> (globus_xio_operation_t op)
       globus_result_t <b>globus_xio_driver_pass_write</b> (globus_xio_operation_t op, globus_xio_iovec_t *iovec, int
           iovec_count, globus_size_t wait_for, <b>globus_xio_driver_data_callback_t</b> cb, void *user_arg)
       void <b>globus_xio_driver_finished_write</b> (globus_xio_operation_t op, globus_result_t result, globus_size_t
           nwritten)
       globus_result_t <b>globus_xio_driver_merge_operation</b> (globus_xio_operation_t top_op, globus_xio_operation_t
           bottom_op)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Globus XIO Driver.

       Globus XIO introduces a notion of a driver stack to its API. Within globus_xio every I/O operation must
       occur on a globus_xio handle. Associated with each handle is a stack of drivers. A driver is a modulular
       piece of code that implements the globus_xio driver interface. The purpose of a driver is manipulate data
       passed in by the user in someway. Each driver in a stack will serve its own unique purpose.

       I/O operations pass from driver to driver, starting at the top of the stack and ending at the bottom.
       When the bottom layer driver finishes with the operation it signals globus_xio that it has completed.
        Completion notification then flows up to the top of the driver stack.

</pre><h4><b>Driver</b> <b>Types</b></h4><pre>
       <b>Transport</b> <b>driver:</b>
           A  transport  driver  is  one  that  is responsible for data communication. For example, a TCP or UDP
           driver would transmit data via network sockets, or a file driver would write data to a file.

       There must be exactly one transport driver in a stack, at its bottom. A transport driver never passes  an
       operation  to  another  driver  in  the  stack.  Instead, this type of driver relies on globus_xio system
       functions to implement data operations.

       <b>Transform</b> <b>driver:</b>
           A transform driver is any intermediate driver in the stack. A transform driver relies on  some  other
           drivers on the driver stack to perform the data transport operation. An example of a transform driver
           would  one  which  implements  a  network  protocol  such  as http. This driver would frame and parse
           messages, but would rely on other drivers in the XIO stack.

       This allows additional transforms to happen in the XIO stack, such as layering the http protocol  on  top
       of an SSL protocol driver before transmitting the data via TCP.

</pre><h4><b>Driver</b> <b>API</b></h4><pre>
       The  Globus  XIO  Driver  API  is a set of functions and interfaces to allow a developer to create an XIO
       driver. To create a driver the user  must  implement  all  of  the  interface  functions  in  the  driver
       specification.  There  is  also a set of functions provided to assist the driver author in implementing a
       driver.

   <b>Quick</b> <b>Start</b>
       For basic driver needs, the developer will have to pay attention to a few structures and concepts.

       <b>globus_xio_operation_t</b>
           This structure represents a request for an operation. If the driver can service the operation it does
           so and the calls the appropriate <u>finished</u> function. If  the  driver  cannot  completely  service  the
           operation  it  can  <u>pass</u>  it  to  the next driver in the stack. As soon as the operation structure is
           either finished or passed it is no longer valid for use in any other function.

       <b>globus_xio_driver_handle_t</b>
           A globus_xio_driver_handle_t represents an open handle to  the  driver  stack  for  XIO.  The  driver
           obtains a driver_handle by calling globus_xio_operation_get_driver_handle(). The driver_handle allows
           the user to do some complex things that will be described later.

   <b>Typical</b> <b>Sequence:</b>
       Here  is  a  typical  sequence  of events for a globus_xio transform driver. All operations are initiated
       either by the application calling a function in the Globus XIO API, or from a driver above the  transform
       driver in the stack passing an operation to this driver.

       <b>Open</b>
           XIO  calls  the  globus_xio_driver_transform_open_t  function of the driver, passing it the operation
           and, in the case of a passive open, the link from a server accept. The driver typically  allocates  a
           private  data structure containing the state it wishes to associate with this handle, and passes this
           along with a callback function  pointer  to  <b>globus_xio_driver_pass_open()</b>.  This  allows  the  other
           drivers in the XIO stack to continue to process the operation.

       After   the   lower   drivers   in  the  stack  have  completed  processing  the  open,  they  will  call
       <b>globus_xio_driver_finished_open()</b>, which will in turn call the callback function which the driver  passed
       as a parameter to <b>globus_xio_driver_pass_open()</b>. The driver then does any post-open operation needed, and
       then  finishes the operation by calling <b>globus_xio_driver_finished_open()</b>, passing the private state data
       as the <u>driver_handle</u> parameter. This state data will be passed to future operation  implementations  done
       with this handle.

       <b>Read/Write</b>
           XIO  calls  the  driver's  globus_xio_driver_read_t  or  globus_xio_driver_write_t  function  with an
           operation as a parameter and the state date  from  the  <b>globus_xio_driver_finished_open()</b>  call.  The
           driver  then  transforms  the  data  if necessary and then calls the <b>globus_xio_driver_pass_read()</b> or
           <b>globus_xio_driver_pass_write()</b> which passes the operation down the XIO driver stack. When the  driver
           below      it     on     the     XIO     stack     calls     <b>globus_xio_driver_finished_read()</b>     or
           <b>globus_xio_driver_finished_write()</b>, the callback which was passed is invoked. In that  callback,  the
           driver  should itself call <b>globus_xio_driver_finished_read()</b> or <b>globus_xio_driver_finished_write()</b> to
           indicate completion.

       <b>Close</b>
           XIO calls the close interface function, passing an operation and the private driver state. The driver
           will call <b>globus_xio_driver_pass_close()</b> passing  it  the  operation.  When  the  close  callback  is
           received the driver calls <b>globus_xio_driver_finished_close()</b> passing it the operation. At this point,
           the driver typically frees its private data, as the handle is no longer valid.

</pre><h4><b>Globus</b> <b>XIO</b> <b>Attributes</b></h4><pre>
       Attributes  provide a way to pass additional metadata to driver operations. Most Globus XIO API functions
       include an attribute parameter. Each driver implements its own set of  attribute  handling  function.  To
       implement attributes, a driver must provide functions of these types:

       • globus_xio_driver_attr_init_t

       • globus_xio_driver_attr_copy_t

       • globus_xio_driver_attr_cntl_t

       • globus_xio_driver_attr_destroy_t

       Pointers to these functions are associated with the driver by calling globus_xio_driver_set_attr

</pre><h4><b>Advanced</b> <b>Driver</b> <b>Programming</b></h4><pre>
       The  typical driver implementation is describe above. However globus_xio allows driver authors to do more
       advanced things such as initiating operations on their own.

       <b>Read</b> <b>Ahead</b>
           Once a handle is open, a driver can create operation structures from it. A driver  can  then  request
           I/O  from the driver stack before it receives a call to its own I/O interface functions, implementing
           read-ahead functionality. This can be done as follows:

       1.  Obtain a driver handle from the open operation by calling globus_xio_operation_get_driver_handle()
       2.  Create an operation by calling <b>globus_xio_driver_operation_create()</b> and  pass  it  the  driver_handle
           from the previous step
       3.  call  <b>globus_xio_driver_pass_read()</b>  using  this  operation.  When the read callback is received, the
           driver saves the returned data in its private data and then  calls  <b>globus_xio_driver_finished_read()</b>
           on the operation.
       4.  When   XIO   calls   the   driver's   read  interface  function,  the  driver  can  immediately  call
           <b>globus_xio_driver_finished_read()</b> function after updating the iovec structure with the  data  it  had
           previously read.
</pre><h4><b>Typedef</b> <b>Documentation</b></h4><pre>
   <b>typedef</b> <b>globus_result_t(*</b> <b>globus_xio_driver_attr_cntl_t)</b> <b>(void</b> <b>*driver_attr,</b> <b>int</b> <b>cmd,</b> <b>va_list</b> <b>ap)</b>
       get or set information in an attr.
       The  cmd  parameter  determines  what functionality the user is requesting. The driver is responsible for
       providing documentation to the user on all the possible values that cmd can be.
       <b>Parameters</b>
           <u>driver_attr</u> The driver specific attr, created by globus_xio_driver_attr_init_t.
           <u>cmd</u> An integer representing what functionality the user is requesting.
           <u>ap</u> variable arguments. These are determined by the driver and the value of cmd.
   <b>typedef</b> <b>globus_result_t(*</b> <b>globus_xio_driver_attr_copy_t)</b> <b>(void</b> <b>**dst,</b> <b>void</b> <b>*src)</b>
       Copy a driver attr.
       When this function is called the driver will create a copy of the attr in parameter src and place  it  in
       the parameter dst.
   <b>typedef</b> <b>globus_result_t(*</b> <b>globus_xio_driver_attr_destroy_t)</b> <b>(void</b> <b>*driver_attr)</b>
       Destroy the driver attr.
       Clean up all resources associate with the attr.
   <b>typedef</b> <b>globus_result_t(*</b> <b>globus_xio_driver_attr_init_t)</b> <b>(void</b> <b>**out_driver_attr)</b>
       Create a driver specific attribute.
       The  driver  should  implement  this function to create a driver specific attribute and return it via the
       out_attr parameter.
   <b>typedef</b>  <b>void(*</b>  <b>globus_xio_driver_callback_t)</b>  <b>(globus_xio_operation_t</b>  <b>op,</b>  <b>globus_result_t</b>  <b>result,</b>   <b>void</b>
       <b>*user_arg)</b>
       Open   and   Close   Callback   Signature.   This   is  the  function  signature  of  callbacks  for  the
       globus_xio_pass_open() and globus_xio_pass_close() functions.
       <b>Parameters</b>
           <u>op</u> The operation structure associated with the open or the  close  requested  operation.  The  driver
           should call the appropriate finished operation to clean up this structure.
           <u>result</u> The result of the requested data operation
           <u>user_arg</u> The user pointer that is threaded through to the callback.
   <b>typedef</b>   <b>globus_result_t(*</b>  <b>globus_xio_driver_close_t)</b>  <b>(void</b>  <b>*driver_specific_handle,</b>  <b>void</b>  <b>*driver_attr,</b>
       <b>globus_xio_operation_t</b> <b>op)</b>
       Close a handle. This closes a handle. Driver implementations should pass the close to the  other  drivers
       in the stack by calling globus_xio_pass_close().
       In the close callback, the driver should clean up the data associated with driver_handle.
       <b>Parameters</b>
           <u>driver_specific_handle</u> The driver handle to be closed.
           <u>driver_attr</u>  A driver specific attr which may be used to alter how a close is performed (e.g. caching
           drivers)
           <u>op</u> The open  operation.  When  the  driver  is  finished  opening  the  handle,  it  passes  this  to
           <b>globus_xio_driver_finished_close()</b> to return status up the driver stack to the application.
   <b>typedef</b>   <b>void(*</b>   <b>globus_xio_driver_data_callback_t)</b>  <b>(globus_xio_operation_t</b>  <b>op,</b>  <b>globus_result_t</b>  <b>result,</b>
       <b>globus_size_t</b> <b>nbytes,</b> <b>void</b> <b>*user_arg)</b>
       Data Callback interface
       This is the function signature of read and write operation callbacks.
       <b>Parameters</b>
           <u>op</u> The operation structure associated with the read or write operation  request.  The  driver  should
           call the appropriate finished operation when it receives this operation.
           <u>result</u> The result of the requested data operation
           <u>nbytes</u> the number of bytes read or written
           <u>user_arg</u> The user pointer that is threaded through to the callback.
   <b>typedef</b> <b>globus_result_t(*</b> <b>globus_xio_driver_handle_cntl_t)</b> <b>(void</b> <b>*handle,</b> <b>int</b> <b>cmd,</b> <b>va_list</b> <b>ap)</b>
       this   call  <u>must</u>  return  an  GLOBUS_XIO_ERROR_COMMAND  error  for  unsupported  command  numbers.  (use
       GlobusXIOErrorInvalidCommand(cmd))
       Drivers that have reason to support the commands listed at <b>globus_xio_handle_cmd_t</b> should accept the  xio
       generic  cmd numbers and their driver specific command number. Do NOT implement those handle cntls unless
       you really are the definitive source.
   <b>typedef</b> <b>globus_result_t(*</b> <b>globus_xio_driver_link_destroy_t)</b> <b>(void</b> <b>*driver_link)</b>
       destroy a link
       The driver should clean up all resources associated with the link when this function is called.
       <b>Parameters</b>
           <u>driver_link</u> The link to be destroyed.
   <b>typedef</b> <b>globus_result_t(*</b> <b>globus_xio_driver_read_t)</b> <b>(void</b> <b>*driver_specific_handle,</b>  <b>const</b>  <b>globus_xio_iovec_t</b>
       <b>*iovec,</b> <b>int</b> <b>iovec_count,</b> <b>globus_xio_operation_t</b> <b>op)</b>
       Read data from an open handle.
       This  function  is  called  when  the  user  requests to read data from a handle. The driver author shall
       implement all code needed to for there driver to complete a read operations.
       <b>Parameters</b>
           <u>driver_specific_handle</u> The driver handle from which data should be read.
           <u>iovec</u> An io vector pointing to the buffers to be read into.
           <u>iovec_count</u> The number if entries in the io vector.
           <u>op</u> The requested operation. When the driver is finished fulfilling the requested  read  operation  it
           must use this structure to signal globus_xio that the operation is completed. This is done by calling
           globus_xio_driver_finished_operation().
   <b>typedef</b> <b>globus_result_t(*</b> <b>globus_xio_driver_server_accept_t)</b> <b>(void</b> <b>*driver_server,</b> <b>globus_xio_operation_t</b> <b>op)</b>

       Accept a server connection
       The  driver  developer should implement this function if their driver handles server operations. Once the
       accept operation completes, the connection is established. The user still has an opportunity to open  the
       link  or  destroy it. They can query the link for additional information on which to base the decision to
       open.
       <b>Parameters</b>
           <u>driver_server</u> The server object from which the link connection will be accepted.
           <u>op</u> The requested operation. When the driver is finished accepting the server connection it uses  this
           structure to signal globus_xio that it has completed the operation.
   <b>typedef</b> <b>globus_result_t(*</b> <b>globus_xio_driver_server_cntl_t)</b> <b>(void</b> <b>*driver_server,</b> <b>int</b> <b>cmd,</b> <b>va_list</b> <b>ap)</b>
       Query a server for information.
       This function allows a user to request information from a driver specific server handle.
       <b>Parameters</b>
           <u>driver_server</u> the server handle.
           <u>cmd</u> An integer telling the driver what operation to preform on this server handle.
           <u>ap</u> variable args.
   <b>typedef</b> <b>globus_result_t(*</b> <b>globus_xio_driver_server_destroy_t)</b> <b>(void</b> <b>*driver_server)</b>
       destroy a server.
       When this function is called the driver should free up all resources associated with a server.
       <b>Parameters</b>
           <u>driver_server</u>  The reference to the internal server that is being declared invalid with this function
           call.
   <b>typedef</b> <b>globus_result_t(*</b> <b>globus_xio_driver_server_init_t)</b>  <b>(void</b>  <b>*driver_attr,</b>  <b>const</b>  <b>globus_xio_contact_t</b>
       <b>*contact_info,</b> <b>globus_xio_operation_t</b> <b>op)</b>
       Initialize a server object
       The  driver  developer  should implement this function if their driver handles server operations (passive
       opens). In the TCP driver this function creates a TCP socket and calls listen() on it. Unlike  all  other
       XIO  driver  implementation  functions,  the  <b>globus_xio_server_create()</b>  function  begins  at the bottom
       (transport driver) of the stack, and the  globus_xio_driver_pass_server_init()  acts  like  a  finished()
       operation.
       <b>Parameters</b>
           <u>driver_attr</u> A driver-specific attribute. This may be NULL.
           <u>contact_info</u>  Contact  information  from  the stack below this driver. This is NULL for the transport
           driver.
           <u>op</u> An op which must be passed to globus_xio_driver_pass_server_init()  to  pass  the  server  contact
           information up the XIO driver stack.
       <b>Returns</b>
           Returning  GLOBUS_SUCCESS for this means that globus_xio_driver_pass_server_init returned success and
           the driver's server-specific data is initialized.
   <b>typedef</b> <b>globus_result_t(*</b> <b>globus_xio_driver_transform_open_t)</b> <b>(const</b> <b>globus_xio_contact_t</b> <b>*contact_info,</b> <b>void</b>
       <b>*driver_link,</b> <b>void</b> <b>*driver_attr,</b> <b>globus_xio_operation_t</b> <b>op)</b>
       Open a handle. This is called when a user opens a handle.
       <b>Parameters</b>
           <u>contact_info</u> Contains information  about  the  requested  resource.  Its  members  may  all  be  null
           (especially when link is not null). XIO will destroy this contact info upon return from the interface
           function
           <u>driver_link</u>  Comes from server accept. Used to link an accepted connection to an xio handle. XIO will
           destroy this object upon the return of this interface call.
           <u>driver_attr</u> A attribute describing how to open. This points to a  piece  of  memory  created  by  the
           globus_xio_driver_attr_init_t interface function.
           <u>op</u>  The  open  operation.  When  the  driver  is  finished  opening  the  handle,  it  passes this to
           <b>globus_xio_driver_finished_open()</b> to return status up the driver stack to the application.
   <b>typedef</b> <b>globus_result_t(*</b> <b>globus_xio_driver_transport_open_t)</b> <b>(const</b> <b>globus_xio_contact_t</b> <b>*contact_info,</b> <b>void</b>
       <b>*driver_link,</b> <b>void</b> <b>*driver_attr,</b> <b>globus_xio_operation_t</b> <b>op)</b>
       Open a handle.   This is called when a user opens a handle.
       <b>Parameters</b>
           <u>contact_info</u> Contains information  about  the  requested  resource.  Its  members  may  all  be  null
           (especially when link is not null). XIO will destroy this contact info upon return from the interface
           function
           <u>driver_link</u>  Comes from server accept. Used to link an accepted connection to an xio handle. XIO will
           destroy this object upon the return of this interface call.
           <u>driver_attr</u> A attribute describing how to open. This points to a  piece  of  memory  created  by  the
           globus_xio_driver_attr_init_t interface function.
           <u>op</u>  The  open  operation.  When  the  driver  is  finished  opening  the  handle,  it  passes this to
           <b>globus_xio_driver_finished_open()</b> to return status up the driver stack to the application.
   <b>typedef</b> <b>globus_result_t(*</b> <b>globus_xio_driver_write_t)</b> <b>(void</b> <b>*driver_specific_handle,</b> <b>const</b>  <b>globus_xio_iovec_t</b>
       <b>*iovec,</b> <b>int</b> <b>iovec_count,</b> <b>globus_xio_operation_t</b> <b>op)</b>
       Write data from an open handle.
       This  function  is  called  when  the  user  requests  to write data to a handle. The driver author shall
       implement all code needed to for there driver to complete write operations.
       <b>Parameters</b>
           <u>driver_specific_handle</u> The driver handle to which data should be written.
           <u>iovec</u> An io vector pointing to the buffers to be written.
           <u>iovec_count</u> The number if entries in the io vector.
           <u>op</u> The requested operation. When the driver is finished fulfilling the requested  read  operation  it
           must use this structure to signal globus_xio that the operation is completed. This is done by calling
           globus_xio_driver_finished_operation().
</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>globus_bool_t</b> <b>globus_xio_driver_eof_received</b> <b>(globus_xio_operation_t</b> <b>op)</b>
       EOF state checking
       This  function  is used by drivers that allow multiple outstanding reads at a time. It can only be called
       on behalf of a read operation (while in the read interface call or the pass_read callback).
       Typical use for this would  be  to  hold  a  driver  specific  lock  (the  same  one  used  when  calling
       <b>globus_xio_driver_set_eof_received()</b>)  and  call  this  to  see  if  an EOF has been received. If so, the
       operation should immediately be finished with an EOF error (do not <u>return</u> an EOF error).
       This call will typically only be used in the read interface call.
       <b>Parameters</b>
           <u>op</u> The operation structure representing the requested read operation.
       <b>Returns</b>
           GLOBUS_TRUE if EOF received, GLOBUS_FALSE otherwise.
   <b>void</b>  <b>globus_xio_driver_finished_accept</b>  <b>(globus_xio_operation_t</b>  <b>op,</b>  <b>void</b>  <b>*</b>  <b>driver_link,</b>  <b>globus_result_t</b>
       <b>result)</b>
       Driver API finished accept
       This  function should be called to signal globus_xio that it has completed the accept operation requested
       of it. It will free up resources associated with the accept_op and  potentially  cause  xio  to  pop  the
       signal up the driver stack.
       <b>Parameters</b>
           <u>op</u> The requested accept operation that has completed.
           <u>driver_link</u>  This  is  the  initialized driver link that is that will be passed to the open interface
           when this handle is opened.
           <u>result</u> Return status of the completed operation
   <b>void</b> <b>globus_xio_driver_finished_close</b> <b>(globus_xio_operation_t</b> <b>op,</b> <b>globus_result_t</b> <b>result)</b>
       Driver API finished_close
       The driver calls this function after completing a close operation on a driver_handle. Once this  function
       returns the driver_handle is no longer valid.
       <b>Parameters</b>
           <u>op</u> The close operation that has completed.
           <u>result</u> Return status of the completed operation
   <b>void</b>  <b>globus_xio_driver_finished_open</b>  <b>(void</b>  <b>*</b>  <b>driver_handle,</b>  <b>globus_xio_operation_t</b>  <b>op,</b>  <b>globus_result_t</b>
       <b>result)</b>
       Driver API finished open
       This function should be called to signal globus_xio that it has completed the open operation requested of
       it. It will free up resources associated with the op and potentially cause xio to pop the signal  up  the
       driver stack.
       <b>Parameters</b>
           <u>driver_handle</u>  The  driver  specific  handle pointer that will be passed to future interface function
           calls.
           <u>op</u> The requested open operation that has completed.
           <u>result</u> Return status of the completed operation
   <b>void</b> <b>globus_xio_driver_finished_read</b> <b>(globus_xio_operation_t</b> <b>op,</b> <b>globus_result_t</b> <b>result,</b> <b>globus_size_t</b> <b>nread)</b>

       Finished Read
       This function is called to signal globus_xio that the requested read operation has been completed.
       <b>Parameters</b>
           <u>op</u> The operation structure representing the requested read operation.
           <u>result</u> Return status of the completed operation
           <u>nread</u> The number of bytes read
   <b>void</b>  <b>globus_xio_driver_finished_write</b>  <b>(globus_xio_operation_t</b>  <b>op,</b>  <b>globus_result_t</b>  <b>result,</b>  <b>globus_size_t</b>
       <b>nwritten)</b>
       Finished Write
       This function is called to signal globus_xio that the requested write operation has been completed.
       <b>Parameters</b>
           <u>op</u> The operation structure representing the requested write operation.
           <u>result</u> Return status of the completed operation
           <u>nwritten</u> The number of bytes written
   <b>globus_result_t</b> <b>globus_xio_driver_handle_cntl</b> <b>(globus_xio_driver_handle_t</b> <b>handle,</b> <b>globus_xio_driver_t</b> <b>driver,</b>
       <b>int</b> <b>cmd,</b>  <b>...)</b>
       Touch driver specific information in a handle object.
       pass  the  driver  to  control  a  specific  driver  pass  NULL  for  driver  for XIO specific cntls pass
       GLOBUS_XIO_QUERY for driver to try each driver (below current) in order
   <b>globus_result_t</b>  <b>globus_xio_driver_merge_operation</b>  <b>(globus_xio_operation_t</b>  <b>top_op,</b>   <b>globus_xio_operation_t</b>
       <b>bottom_op)</b>
       Finishes an operation and merge two op structures. (XXX not implemented yet)
       This  function  will  join to operations together and signal globus_xio that it has completed. This is an
       advanced function. Most drivers will not require its use. This  function  takes  an  operation  that  was
       created  by  this driver and passed on to drivers lower on the stack and an operation that came in on the
       interface function (that has seen the top half of the stack) and joins them together. The purpose of this
       function is to join data descriptors that were pre-staged and cached with those that have later  come  in
       at the users request. See the read ahead doc for more information.
       <b>Parameters</b>
           <u>top_op</u> The operation that has seen the top part of the driver stack.
           <u>bottom_op</u> The operation that has seen the bottom part of the driver stack.
       (result is always success in this case. if there is an error, use the other finish() call)
   <b>globus_result_t</b>       <b>globus_xio_driver_operation_create</b>       <b>(globus_xio_operation_t</b>      <b>*</b>      <b>operation,</b>
       <b>globus_xio_driver_handle_t</b> <b>handle)</b>
       Driver API Create Operation
       This function will create an operation from an initialized handle This operation can then be used for  io
       operations related to the handle that created them.
       <b>Parameters</b>
           <u>operation</u>  The  operation  to be created. When this function returns this structure will be populated
           and available for use for the driver.
           <u>handle</u> The initialized handle representing the user handle from which the operation will be created.
   <b>globus_bool_t</b> <b>globus_xio_driver_operation_is_blocking</b> <b>(globus_xio_operation_t</b> <b>operation)</b>
       Is Operation blocking.
       If the operation is blocking the driver developer may be able to make certain optimizations. The function
       returns true if the given operation was created via a user call to a blocking function.
   <b>globus_result_t</b> <b>globus_xio_driver_pass_close</b>  <b>(globus_xio_operation_t</b>  <b>op,</b>  <b>globus_xio_driver_callback_t</b>  <b>cb,</b>
       <b>void</b> <b>*</b> <b>callback_arg)</b>
       Pass  the  close operation down the driver stack. This function will pass a close request down the driver
       stack. Upon completion of the close operation globus_xio will call the function  pointed  to  by  the  cb
       parameter.
       <b>Parameters</b>
           <u>op</u> The close operation.
           <u>cb</u> A pointer to the function to be called once all drivers lower in the stack have closed.
           <u>callback_arg</u> A pointer that will be passed to the callback.
   <b>globus_result_t</b>   <b>globus_xio_driver_pass_open</b>   <b>(globus_xio_operation_t</b>   <b>op,</b>  <b>const</b>  <b>globus_xio_contact_t</b>  <b>*</b>
       <b>contact_info,</b> <b>globus_xio_driver_callback_t</b> <b>cb,</b> <b>void</b> <b>*</b> <b>user_arg)</b>
       Driver API Open
       This function will pass an open request down the driver stack. Upon  completion  of  the  open  operation
       globus_xio  will  call  the  <u>cb</u>  function,  at  which  point the handle structure will be initialized and
       available for use.
       As soon as the function returns the handle is valid for creating other operations.
       <b>Parameters</b>
           <u>op</u> The operation from which the handle will be established. This parameter is used to determine  what
           drivers are in the stack and other such information.
           <u>contact_info</u>  The  contact  info  describing  the  resource  the  driver below should open. This will
           normally be the same contact info that was passed in on the open interface.
           <u>cb</u> The function to be called when the open operation is complete.
           <u>user_arg</u> a user pointer that will be threaded through to the callback.
   <b>globus_result_t</b> <b>globus_xio_driver_pass_read</b>  <b>(globus_xio_operation_t</b>  <b>op,</b>  <b>globus_xio_iovec_t</b>  <b>*</b>  <b>iovec,</b>  <b>int</b>
       <b>iovec_count,</b> <b>globus_size_t</b> <b>wait_for,</b> <b>globus_xio_driver_data_callback_t</b> <b>cb,</b> <b>void</b> <b>*</b> <b>user_arg)</b>
       Driver read
       This  function  passes  a  read  operation  down  the  driver stack. After this function is called the op
       structure is no longer valid. However when the driver stack finishes servicing the read request  it  will
       pass  a  new  operation  structure in the function pointed to by cb. Finish read can be called on the new
       operation received.
       <b>Parameters</b>
           <u>op</u> The operation structure representing this requested io operation.
           <u>iovec</u> A pointer to the array of iovecs.
           <u>iovec_count</u> The number of iovecs in the array.
           <u>wait_for</u> The minimum number of  bytes  to  read  before  returning.  if  a  driver  has  no  specific
           requirement, he should use the user's request available via GlobusXIOOperationMinimumRead(op)
           <u>cb</u> The function to be called when the operation request is completed.
           <u>user_arg</u> A user pointer that will be threaded through to the callback.
   <b>globus_result_t</b>  <b>globus_xio_driver_pass_write</b>  <b>(globus_xio_operation_t</b>  <b>op,</b>  <b>globus_xio_iovec_t</b>  <b>*</b> <b>iovec,</b> <b>int</b>
       <b>iovec_count,</b> <b>globus_size_t</b> <b>wait_for,</b> <b>globus_xio_driver_data_callback_t</b> <b>cb,</b> <b>void</b> <b>*</b> <b>user_arg)</b>
       Driver write
       This function passes a write operation down the driver stack.  After  this  function  is  called  the  op
       structure  is no longer valid. However when the driver stack finishes servicing the write request it will
       pass a new operation structure in the function pointed to by cb. Finished write can be called on the  new
       operation received.
       <b>Parameters</b>
           <u>op</u> The operation structure representing this requested io operation.
           <u>iovec</u> A pointer to the array of iovecs.
           <u>iovec_count</u> The number of iovecs in the array.
           <u>wait_for</u>  The  minimum  number  of  bytes  to  write  before  returning.  If a driver has no specific
           requirement, he should use the user's request available via GlobusXIOOperationMinimumWrite(op)
           <u>cb</u> The function to be called when the operation request is completed.
           <u>user_arg</u> A user pointer that will be threaded through to the callback.
   <b>void</b> <b>globus_xio_driver_set_eof_received</b> <b>(globus_xio_operation_t</b> <b>op)</b>
       EOF state manipulation
       This function is used by drivers that allow multiple outstanding reads at a time. It can only  be  called
       on behalf of a read operation (while in the read interface call or the pass_read callback).
       Typical  use for this would be to hold a driver specific lock and call this when an internal EOF has been
       received. The read operation this is called on behalf of must be  finished  with  an  EOF  error  or  the
       results are undefined.
       In   general,   you   should   not   have   an   EOF   flag   in   your   driver.   Use   this  call  and
       <b>globus_xio_driver_eof_received()</b> instead. This is necessary to support XIO's automatic EOF resetting.  If
       your driver absolutely can not be read after an EOF has been set, then you will need your own EOF flag.
       This call will typically only be used just before a finished_read() call.
       <b>Parameters</b>
           <u>op</u> The operation structure representing the requested read operation.
   <b>globus_result_t</b>          <b>globus_xio_driver_set_server_pre_init</b>          <b>(globus_xio_driver_t</b>          <b>driver,</b>
       <b>globus_xio_driver_server_init_t</b> <b>server_pre_init_func)</b>
       Server Pre-Init. This function adds a callback to a driver that will be called before a server handle  is
       created by XIO. This function has the same signature as the server_init_func in the driver, but is always
       called  with  a  NULL contact string. There is no support for calling a pass() or finished() function for
       this interface. It may inspect and modify its attributes and operation, but can not directly  return  any
       data  or  set a driver-specific server handle value. If this function returns an error result, the server
       create will be aborted.
       <b>Parameters</b>
           <u>driver</u> Driver to associate the function with
           <u>server_pre_init_func</u> Function to call prior to creating a server
       <b>Return</b> <b>values</b>
           <u>GLOBUS_SUCCESS</u> Success
           <u>GLOBUS_XIO_ERROR_PARAMETER</u> Invalid parameter
</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for globus_xio from the source code.

globus_xio                                         Version 6.6                              <u><a href="../man3/globus_xio_driver.3.html">globus_xio_driver</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>