<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>libwget-hashmap - Hashmap functions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/wget2-dev">wget2-dev_2.2.0+ds-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       libwget-hashmap - Hashmap functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Functions</b>
       <b>wget_hashmap_iterator</b> * <b>wget_hashmap_iterator_alloc</b> (<b>wget_hashmap</b> *h)
       void <b>wget_hashmap_iterator_free</b> (<b>wget_hashmap_iterator</b> **iter)
       void * <b>wget_hashmap_iterator_next</b> (<b>wget_hashmap_iterator</b> *iter, void **value)
       <b>wget_hashmap</b> * <b>wget_hashmap_create</b> (int max, <b>wget_hashmap_hash_fn</b> *hash, <b>wget_hashmap_compare_fn</b> *cmp)
       int <b>wget_hashmap_put</b> (<b>wget_hashmap</b> *h, const void *key, const void *value)
       int <b>wget_hashmap_contains</b> (const <b>wget_hashmap</b> *h, const void *key)
       int <b>wget_hashmap_get</b> (const <b>wget_hashmap</b> *h, const void *key, void **value)
       int <b>wget_hashmap_remove</b> (<b>wget_hashmap</b> *h, const void *key)
       int <b>wget_hashmap_remove_nofree</b> (<b>wget_hashmap</b> *h, const void *key)
       void <b>wget_hashmap_free</b> (<b>wget_hashmap</b> **h)
       void <b>wget_hashmap_clear</b> (<b>wget_hashmap</b> *h)
       int <b>wget_hashmap_size</b> (const <b>wget_hashmap</b> *h)
       int <b>wget_hashmap_browse</b> (const <b>wget_hashmap</b> *h, <b>wget_hashmap_browse_fn</b> *browse, void *ctx)
       void <b>wget_hashmap_setcmpfunc</b> (<b>wget_hashmap</b> *h, <b>wget_hashmap_compare_fn</b> *cmp)
       int <b>wget_hashmap_sethashfunc</b> (<b>wget_hashmap</b> *h, <b>wget_hashmap_hash_fn</b> *hash)
       void <b>wget_hashmap_set_key_destructor</b> (<b>wget_hashmap</b> *h, <b>wget_hashmap_key_destructor</b> *destructor)
       void <b>wget_hashmap_set_value_destructor</b> (<b>wget_hashmap</b> *h, <b>wget_hashmap_value_destructor</b> *destructor)
       void <b>wget_hashmap_set_load_factor</b> (<b>wget_hashmap</b> *h, float factor)
       void <b>wget_hashmap_set_resize_factor</b> (<b>wget_hashmap</b> *h, float factor)
       typedef struct <b>wget_hashmap_st</b> <b>wget_hashmap</b>
           Type of the hashmap.
       typedef int <b>wget_hashmap_compare_fn</b>(const void *key1, const void *key2)
           Type of the hashmap compare function.
       typedef unsigned int <b>wget_hashmap_hash_fn</b>(const void *key)
           Type of the hashmap hash function.
       typedef int <b>wget_hashmap_browse_fn</b>(void *ctx, const void *key, void *value)
           Type of the hashmap browse callback function.
       typedef void <b>wget_hashmap_key_destructor</b>(void *key)
           Type of the hashmap key destructor function.
       typedef void <b>wget_hashmap_value_destructor</b>(void *value)
           Type of the hashmap value destructor function.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Hashmaps are key/value stores that perform at <a href="../man1/O.1.html">O</a>(1) for insertion, searching and removing.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>wget_hashmap_iterator</b> <b>*</b> <b>wget_hashmap_iterator_alloc</b> <b>(wget_hashmap</b> <b>*</b> <b>h)</b>
       <b>Parameters</b>
           <u>h</u> Hashmap

       <b>Returns</b>
           New iterator instance for h

       Creates a hashmap iterator for h.

   <b>void</b> <b>wget_hashmap_iterator_free</b> <b>(wget_hashmap_iterator</b> <b>**</b> <b>iter)</b>
       <b>Parameters</b>
           <u>iter</u> Hashmap iterator

       Free the given iterator iter.

   <b>void</b> <b>*</b> <b>wget_hashmap_iterator_next</b> <b>(wget_hashmap_iterator</b> <b>*</b> <b>iter,</b> <b>void</b> <b>**</b> <b>value)</b>
       <b>Parameters</b>
           <u>iter</u> Hashmap iterator
           <u>value</u> Pointer to the value belonging to the returned key

       <b>Returns</b>
           Pointer to the key or NULL if no more elements left

       Returns the next key / value in the hashmap. If all key/value pairs have been iterated over the function
       returns NULL and value is untouched.

       When iterating over a hashmap, the order of returned key/value pairs is not defined.

   <b>wget_hashmap</b> <b>*</b> <b>wget_hashmap_create</b> <b>(int</b> <b>max,</b> <b>wget_hashmap_hash_fn</b> <b>*</b> <b>hash,</b> <b>wget_hashmap_compare_fn</b> <b>*</b> <b>cmp)</b>
       <b>Parameters</b>
           <u>max</u> Initial number of pre-allocated entries
           <u>hash</u> Hash function to build hashes from elements
           <u>cmp</u> Comparison function used to find elements

       <b>Returns</b>
           New hashmap instance

       Create a new hashmap instance with initial size max. It should be free'd after use with
       <b>wget_hashmap_free()</b>.

       Before the first insertion of an element, hash and cmp must be set. So if you use NULL values here, you
       have to call <b>wget_hashmap_setcmpfunc()</b> and/or wget_hashmap_hashcmpfunc() with appropriate function
       pointers. No doing so will result in undefined behavior (likely you'll see a segmentation fault).

   <b>int</b> <b>wget_hashmap_put</b> <b>(wget_hashmap</b> <b>*</b> <b>h,</b> <b>const</b> <b>void</b> <b>*</b> <b>key,</b> <b>const</b> <b>void</b> <b>*</b> <b>value)</b>
       <b>Parameters</b>
           <u>h</u> Hashmap to put data into
           <u>key</u> Key to insert into h
           <u>value</u> Value to insert into h

       <b>Returns</b>
           0 if inserted a new entry, 1 if entry existed, WGET_E_MEMORY if internal allocation failed

       Insert a key/value pair into hashmap h.

       key and value are <u>not</u> cloned, the hashmap takes 'ownership' of both.

       If key already exists and the pointer values the old and the new key differ, the old key will be
       destroyed by calling the key destructor function (default is free()).

       To realize a hashset (just keys without values), value may be NULL.

       Neither h nor key must be NULL, else the return value will always be 0.

   <b>int</b> <b>wget_hashmap_contains</b> <b>(const</b> <b>wget_hashmap</b> <b>*</b> <b>h,</b> <b>const</b> <b>void</b> <b>*</b> <b>key)</b>
       <b>Parameters</b>
           <u>h</u> Hashmap
           <u>key</u> Key to search for

       <b>Returns</b>
           1 if key has been found, 0 if not found

       Check if key exists in h.

   <b>int</b> <b>wget_hashmap_get</b> <b>(const</b> <b>wget_hashmap</b> <b>*</b> <b>h,</b> <b>const</b> <b>void</b> <b>*</b> <b>key,</b> <b>void</b> <b>**</b> <b>value)</b>
       <b>Parameters</b>
           <u>h</u> Hashmap
           <u>key</u> Key to search for
           <u>value</u> Value to be returned

       <b>Returns</b>
           1 if key has been found, 0 if not found

       Get the value for a given key.

       Neither h nor key must be NULL.

   <b>int</b> <b>wget_hashmap_remove</b> <b>(wget_hashmap</b> <b>*</b> <b>h,</b> <b>const</b> <b>void</b> <b>*</b> <b>key)</b>
       <b>Parameters</b>
           <u>h</u> Hashmap
           <u>key</u> Key to be removed

       <b>Returns</b>
           1 if key has been removed, 0 if not found

       Remove key from hashmap h.

       If key is found, the key and value destructor functions are called when removing the entry from the
       hashmap.

   <b>int</b> <b>wget_hashmap_remove_nofree</b> <b>(wget_hashmap</b> <b>*</b> <b>h,</b> <b>const</b> <b>void</b> <b>*</b> <b>key)</b>
       <b>Parameters</b>
           <u>h</u> Hashmap
           <u>key</u> Key to be removed

       <b>Returns</b>
           1 if key has been removed, 0 if not found

       Remove key from hashmap h.

       Key and value destructor functions are <u>not</u> called when removing the entry from the hashmap.

   <b>void</b> <b>wget_hashmap_free</b> <b>(wget_hashmap</b> <b>**</b> <b>h)</b>
       <b>Parameters</b>
           <u>h</u> Hashmap to be free'd

       Remove all entries from hashmap h and free the hashmap instance.

       Key and value destructor functions are called for each entry in the hashmap.

   <b>void</b> <b>wget_hashmap_clear</b> <b>(wget_hashmap</b> <b>*</b> <b>h)</b>
       <b>Parameters</b>
           <u>h</u> Hashmap to be cleared

       Remove all entries from hashmap h.

       Key and value destructor functions are called for each entry in the hashmap.

   <b>int</b> <b>wget_hashmap_size</b> <b>(const</b> <b>wget_hashmap</b> <b>*</b> <b>h)</b>
       <b>Parameters</b>
           <u>h</u> Hashmap

       <b>Returns</b>
           Number of entries in hashmap h

       Return the number of entries in the hashmap h.

   <b>int</b> <b>wget_hashmap_browse</b> <b>(const</b> <b>wget_hashmap</b> <b>*</b> <b>h,</b> <b>wget_hashmap_browse_fn</b> <b>*</b> <b>browse,</b> <b>void</b> <b>*</b> <b>ctx)</b>
       <b>Parameters</b>
           <u>h</u> Hashmap
           <u>browse</u> Function to be called for each element of h
           <u>ctx</u> Context variable use as param to browse

       <b>Returns</b>
           Return value of the last call to browse

       Call function browse for each element of hashmap h or until browse returns a value not equal to zero.

       browse is called with ctx and the pointer to the current element.

       The return value of the last call to browse is returned or 0 if either h or browse is NULL.

   <b>void</b> <b>wget_hashmap_setcmpfunc</b> <b>(wget_hashmap</b> <b>*</b> <b>h,</b> <b>wget_hashmap_compare_fn</b> <b>*</b> <b>cmp)</b>
       <b>Parameters</b>
           <u>h</u> Hashmap
           <u>cmp</u> Comparison function used to find keys

       Set the comparison function.

   <b>int</b> <b>wget_hashmap_sethashfunc</b> <b>(wget_hashmap</b> <b>*</b> <b>h,</b> <b>wget_hashmap_hash_fn</b> <b>*</b> <b>hash)</b>
       <b>Parameters</b>
           <u>h</u> Hashmap
           <u>hash</u> Hash function used to hash keys

       <b>Returns</b>
           WGET_E_SUCCESS if set successfully, else WGET_E_MEMORY or WGET_E_INVALID

       Set the key hash function.

       The keys of all entries in the hashmap will be hashed again. This includes a memory allocation, so there
       is a possibility of failure.

   <b>void</b> <b>wget_hashmap_set_key_destructor</b> <b>(wget_hashmap</b> <b>*</b> <b>h,</b> <b>wget_hashmap_key_destructor</b> <b>*</b> <b>destructor)</b>
       <b>Parameters</b>
           <u>h</u> Hashmap
           <u>destructor</u> Destructor function for keys

       Set the key destructor function.

       Default is free().

   <b>void</b> <b>wget_hashmap_set_value_destructor</b> <b>(wget_hashmap</b> <b>*</b> <b>h,</b> <b>wget_hashmap_value_destructor</b> <b>*</b> <b>destructor)</b>
       <b>Parameters</b>
           <u>h</u> Hashmap
           <u>destructor</u> Destructor function for values

       Set the value destructor function.

       Default is free().

   <b>void</b> <b>wget_hashmap_set_load_factor</b> <b>(wget_hashmap</b> <b>*</b> <b>h,</b> <b>float</b> <b>factor)</b>
       <b>Parameters</b>
           <u>h</u> Hashmap
           <u>factor</u> The load factor

       Set the load factor function.

       The load factor is determines when to resize the internal memory. 0.75 means 'resize if 75% or more of
       all slots are used'.

       The resize strategy is set by wget_hashmap_set_growth_policy().

       The resize (and rehashing) occurs earliest on the next insertion of a new key.

       Default is 0.75.

   <b>void</b> <b>wget_hashmap_set_resize_factor</b> <b>(wget_hashmap</b> <b>*</b> <b>h,</b> <b>float</b> <b>factor)</b>
       <b>Parameters</b>
           <u>h</u> Hashmap
           <u>factor</u> Hashmap growth factor

       Set the factor for resizing the hashmap when it's load factor is reached.

       The new size is 'factor * oldsize'. If the new size is less or equal 0, the involved put function will do
       nothing and the internal state of the hashmap will not change.

       Default is 2.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for wget2 from the source code.

wget2                                             Version 2.2.0                               <u><a href="../man3/libwget-hashmap.3.html">libwget-hashmap</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>