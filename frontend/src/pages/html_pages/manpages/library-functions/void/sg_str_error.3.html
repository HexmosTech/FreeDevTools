<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sg_get_error,  sg_get_error_arg,  sg_get_error_errno,  sg_str_error, sg_get_error_details, sg_strperror -</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libstatgrab-dev">libstatgrab-dev_0.92.1-1.2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sg_get_error,  sg_get_error_arg,  sg_get_error_errno,  sg_str_error, sg_get_error_details, sg_strperror -
       get last error status

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;statgrab.h&gt;

       sg_error <b>sg_get_error</b> (void);

       const char *<b>sg_get_error_arg</b> (void);

       int <b>sg_get_error_errno</b> (void);

       sg_error <b>sg_get_error_details</b> (sg_error_details *<u>err_details</u>);

       const char *<b>sg_str_error</b> (sg_error <u>code</u>);

       char *<b>sg_strperror</b> (char **<u>buf</u>, const sg_error_details * const <u>err_details</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       There are four functions to get information about  the  last  occurred  error:  <b>sg_get_error</b>,  <b>sg_get_er‐</b>
       <b>ror_arg</b>, <b>sg_get_error_errno</b> and <b>sg_get_error_details</b>. The remaining functions are intended to improve the
       machine-human-interface  (e.g.   the  error log or a message box): <b>sg_str_error</b> delivers a human readable
       error name and <b>sg_strperror</b> prepares a full blown error message for printing.

       The error argument (<b>sg_get_error_arg</b>) is stored thread local and is reused every time an  error  occures.
       If  a  later  usage  is intended, duplicating it is a suitable strategy. Same for the error_arg of sg_er‐
       ror_details delivered by <b>sg_get_error_details</b>.

       When someone calls the function <b>sg_get_error_details</b> with a NULL pointer, the last  error  is  overridden
       with a new one describing that <b>sg_get_error_details</b> is called with invalid arguments. Please be careful.

       The  function  <b>sg_strperror</b> is allowed to be called with or without (err_details is NULL) collected error
       details. In the latter case, the last occurred error of this thread is used to prepare the error message.
       Be aware, the the buffer pointer must be non-NULL (points to an existing char * lvalue), but the  char  *
       lvalue  it points to, must be NULL.  When invoked correctly, there are only two possible error conditions
       let <b>sg_strperror</b> fail: ENOMEM (out of memory) and EINVAL (invalid error code).

       <b>Example</b>

       if( NULL == sg_get_cpu_stats() ) {
           char *buf = NULL;
           if( NULL != sg_strperror( &amp;buf, NULL ) ) {
               fprintf( stderr, "error getting CPU stats: %s\n", buf );
               free(buf);
               <a href="../man255/exit.255.html">exit</a>(255);
           }
           else {
               fprintf( stderr, "error getting CPU stats and error information\n" );
               <a href="../man255/exit.255.html">exit</a>(255);
           }
       }

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The error details contains following information:

       typedef struct sg_error_details {
               sg_error error;
               int errno_value;
               const char *error_arg;
       } sg_error_details;

       error  The statgrab library error code.

       errno_value
              The operating system error code.

       error_arg
              Additional information set when the error was reported.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/statgrab.3.html">statgrab</a></b>(3)

</pre><h4><b>WEBSITE</b></h4><pre>
       ⟨https://libstatgrab.org/⟩

libstatgrab                                        2019-03-08                                    <u><a href="../man3/sg_get_error.3.html">sg_get_error</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>