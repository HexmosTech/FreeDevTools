<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nng_aio_defer - defer asynchronous I/O operation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnng-dev">libnng-dev_1.10.1-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nng_aio_defer - defer asynchronous I/O operation

</pre><h4><b>SYNOPSIS</b></h4><pre>
           #include &lt;nng/nng.h&gt;

           typedef void (*nng_aio_cancelfn)(nng_aio *aio, void *arg, int err);

           void nng_aio_defer(nng_aio *aio, nng_aio_cancelfn fn, void *arg);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The nng_aio_defer() function marks operation associated with <u>aio</u> as being deferred for asynchronous
       completion, and also registers a cancellation function <u>fn</u> and associated argument <u>arg</u>, thereby permitting
       the operation to be canceled.

       If the <u>aio</u> is being canceled, the cancellation routine <u>fn</u> will be called with the <u>aio</u>, the <u>arg</u> specified
       by nng_aio_defer(), and an error value in <u>err</u>, which is the reason that the operation is being canceled.

       The operation may not be cancelable; for example it may have already been completed, or be in a state
       where it is no longer possible to unschedule it. In this case, the <u>cancelfn</u> should just return without
       making any changes.

       If the cancellation routine successfully canceled the operation, it should ensure that nng_aio_finish()
       is called, with the error code specified by <u>err</u>.

           <b>Important</b>

           It is mandatory that I/O providers call nng_aio_finish() <b>EXACTLY</b> <b>ONCE</b> when they are finished with the
           operation.

           <b>Note</b>

           This function is only for I/O providers (those actually performing the operation such as HTTP handler
           functions or transport providers); ordinary users of the <u>aio</u> should not call this function.

           <b>Note</b>

           Care must be taken to ensure that cancellation and completion of the routine are multi-thread safe;
           this will usually involve the use of locks or other synchronization primitives.

           <b>Tip</b>

           For operations that complete synchronously, without any need to be deferred, the provider should not
           bother to call nng_aio_defer(), although it is harmless if it does.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       None.

</pre><h4><b>ERRORS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3/nng_aio_alloc.3.html">nng_aio_alloc</a>(3), <a href="../man3/nng_aio_cancel.3.html">nng_aio_cancel</a>(3), <a href="../man3/nng_aio_finish.3.html">nng_aio_finish</a>(3), <a href="../man3/nng_aio_result.3.html">nng_aio_result</a>(3), <a href="../man5/nng_aio.5.html">nng_aio</a>(5), <a href="../man7/nng.7.html">nng</a>(7)

                                                   2025-04-20                                   <u><a href="../man3/NNG_AIO_DEFER.3.html">NNG_AIO_DEFER</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>