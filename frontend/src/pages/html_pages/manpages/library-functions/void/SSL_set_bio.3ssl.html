<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSL_set_bio, SSL_set0_rbio, SSL_set0_wbio - connect the SSL object with a BIO</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SSL_set_bio, SSL_set0_rbio, SSL_set0_wbio - connect the SSL object with a BIO

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/ssl.h&gt;

        void SSL_set_bio(SSL *ssl, BIO *rbio, BIO *wbio);
        void SSL_set0_rbio(SSL *s, BIO *rbio);
        void SSL_set0_wbio(SSL *s, BIO *wbio);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>SSL_set0_rbio()</b> connects the BIO <b>rbio</b> for the read operations of the <b>ssl</b> object. The SSL engine inherits
       the behaviour of <b>rbio</b>. If the BIO is nonblocking then the <b>ssl</b> object will also have nonblocking
       behaviour. This function transfers ownership of <b>rbio</b> to <b>ssl</b>. It will be automatically freed using
       <b><a href="../man3/BIO_free_all.3.html">BIO_free_all</a></b>(3) when the <b>ssl</b> is freed. On calling this function, any existing <b>rbio</b> that was previously
       set will also be freed via a call to <b><a href="../man3/BIO_free_all.3.html">BIO_free_all</a></b>(3) (this includes the case where the <b>rbio</b> is set to the
       same value as previously).

       If using a custom BIO, <b>rbio</b> must implement either <b><a href="../man3/BIO_meth_set_read_ex.3.html">BIO_meth_set_read_ex</a></b>(3) or <b><a href="../man3/BIO_meth_set_read.3.html">BIO_meth_set_read</a></b>(3).

       <b>SSL_set0_wbio()</b> works in the same as <b>SSL_set0_rbio()</b> except that it connects the BIO <b>wbio</b> for the write
       operations of the <b>ssl</b> object. Note that if the rbio and wbio are the same then <b>SSL_set0_rbio()</b> and
       <b>SSL_set0_wbio()</b> each take ownership of one reference. Therefore, it may be necessary to increment the
       number of references available using <b><a href="../man3/BIO_up_ref.3.html">BIO_up_ref</a></b>(3) before calling the set0 functions.

       If using a custom BIO, <b>wbio</b> must implement <b><a href="../man3/BIO_meth_set_write_ex.3.html">BIO_meth_set_write_ex</a></b>(3) or <b><a href="../man3/BIO_meth_set_write.3.html">BIO_meth_set_write</a></b>(3). It
       additionally must implement <b><a href="../man3/BIO_flush.3.html">BIO_flush</a></b>(3) using <b>BIO_CTRL_FLUSH</b> and <b><a href="../man3/BIO_meth_set_ctrl.3.html">BIO_meth_set_ctrl</a></b>(3).  If flushing is
       unnecessary with <b>wbio</b>, <b><a href="../man3/BIO_flush.3.html">BIO_flush</a></b>(3) should return one and do nothing.

       <b>SSL_set_bio()</b> is similar to <b>SSL_set0_rbio()</b> and <b>SSL_set0_wbio()</b> except that it connects both the <b>rbio</b> and
       the <b>wbio</b> at the same time, and transfers the ownership of <b>rbio</b> and <b>wbio</b> to <b>ssl</b> according to the following
       set of rules:

       • If neither the <b>rbio</b> or <b>wbio</b> have changed from their previous values then nothing is done.

       • If  the  <b>rbio</b>  and  <b>wbio</b> parameters are different and both are different to their previously set values
         then one reference is consumed for the rbio and one reference is consumed for the wbio.

       • If the <b>rbio</b> and <b>wbio</b> parameters are the same and the <b>rbio</b> is not the same as the previously  set  value
         then one reference is consumed.

       • If the <b>rbio</b> and <b>wbio</b> parameters are the same and the <b>rbio</b> is the same as the previously set value, then
         no additional references are consumed.

       • If the <b>rbio</b> and <b>wbio</b> parameters are different and the <b>rbio</b> is the same as the previously set value then
         one reference is consumed for the <b>wbio</b> and no references are consumed for the <b>rbio</b>.

       • If  the <b>rbio</b> and <b>wbio</b> parameters are different and the <b>wbio</b> is the same as the previously set value and
         the old <b>rbio</b> and <b>wbio</b> values were the same as each other then one reference is consumed  for  the  <b>rbio</b>
         and no references are consumed for the <b>wbio</b>.

       • If  the <b>rbio</b> and <b>wbio</b> parameters are different and the <b>wbio</b> is the same as the previously set value and
         the old <b>rbio</b> and <b>wbio</b> values were different to each other, then one reference is consumed for the  <b>rbio</b>
         and one reference is consumed for the <b>wbio</b>.

       Because  of  this  complexity,  this  function should be avoided; use <b>SSL_set0_rbio()</b> and <b>SSL_set0_wbio()</b>
       instead.

       Where a new BIO is set on a QUIC connection SSL object, blocking mode will be disabled on that SSL object
       if the BIO cannot support blocking mode. If another BIO is subsequently set on the SSL object  which  can
       support  blocking  mode,  blocking  mode  will not be automatically re-enabled. For more information, see
       <b><a href="../man3/SSL_set_blocking_mode.3.html">SSL_set_blocking_mode</a></b>(3).

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>SSL_set_bio()</b>, <b>SSL_set0_rbio()</b> and <b>SSL_set0_wbio()</b> cannot fail.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/SSL_get_rbio.3.html">SSL_get_rbio</a></b>(3), <b><a href="../man3/SSL_connect.3.html">SSL_connect</a></b>(3), <b><a href="../man3/SSL_accept.3.html">SSL_accept</a></b>(3), <b><a href="../man3/SSL_shutdown.3.html">SSL_shutdown</a></b>(3), <b><a href="../man7/ssl.7.html">ssl</a></b>(7), <b><a href="../man7/bio.7.html">bio</a></b>(7)

</pre><h4><b>HISTORY</b></h4><pre>
       <b>SSL_set0_rbio()</b> and <b>SSL_set0_wbio()</b> were added in OpenSSL 1.1.0.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2000-2023 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file  except  in  compliance
       with  the  License.   You  can  obtain  a  copy  in  the  file  LICENSE  in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                                  <u><a href="../man3SSL/SSL_SET_BIO.3SSL.html">SSL_SET_BIO</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>