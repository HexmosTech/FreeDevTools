<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rte_thread.h</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dpdk-doc">dpdk-doc_24.11.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rte_thread.h

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/stdint.h">stdint.h</a>&gt;
       #include &lt;rte_os.h&gt;
       #include &lt;rte_compat.h&gt;

   <b>Data</b> <b>Structures</b>
       struct <b>rte_thread_t</b>
       struct <b>rte_thread_attr_t</b>

   <b>Macros</b>
       #define <b>RTE_THREAD_NAME_SIZE</b>   16
       #define <b>RTE_THREAD_INTERNAL_PREFIX</b>   'dpdk-'
       #define <b>RTE_THREAD_INTERNAL_NAME_SIZE</b>   11

   <b>Typedefs</b>
       <b>typedef</b> uint32_t(* <b>rte_thread_func</b>) (void *arg)
       <b>typedef</b> struct eal_tls_key * <b>rte_thread_key</b>

   <b>Enumerations</b>
       enum <b>rte_thread_priority</b> { <b>RTE_THREAD_PRIORITY_NORMAL</b> = 0, <b>RTE_THREAD_PRIORITY_REALTIME_CRITICAL</b> = 1 }

   <b>Functions</b>
       int <b>rte_thread_create</b> (<b>rte_thread_t</b> *thread_id, const <b>rte_thread_attr_t</b> *thread_attr, <b>rte_thread_func</b>
           thread_func, void *arg)
       int <b>rte_thread_create_control</b> (<b>rte_thread_t</b> *thread, const char *name, <b>rte_thread_func</b> thread_func, void
           *arg)
       __rte_internal int <b>rte_thread_create_internal_control</b> (<b>rte_thread_t</b> *id, const char *name,
           <b>rte_thread_func</b> func, void *arg)
       int <b>rte_thread_join</b> (<b>rte_thread_t</b> thread_id, uint32_t *value_ptr)
       int <b>rte_thread_detach</b> (<b>rte_thread_t</b> thread_id)
       <b>rte_thread_t</b> <b>rte_thread_self</b> (void)
       void <b>rte_thread_set_name</b> (<b>rte_thread_t</b> thread_id, const char *thread_name)
       __rte_internal void <b>rte_thread_set_prefixed_name</b> (<b>rte_thread_t</b> id, const char *name)
       int <b>rte_thread_equal</b> (<b>rte_thread_t</b> t1, <b>rte_thread_t</b> t2)
       int <b>rte_thread_attr_init</b> (<b>rte_thread_attr_t</b> *attr)
       int <b>rte_thread_attr_set_priority</b> (<b>rte_thread_attr_t</b> *thread_attr, enum <b>rte_thread_priority</b> priority)
       int <b>rte_thread_attr_set_affinity</b> (<b>rte_thread_attr_t</b> *thread_attr, rte_cpuset_t *cpuset)
       int <b>rte_thread_attr_get_affinity</b> (<b>rte_thread_attr_t</b> *thread_attr, rte_cpuset_t *cpuset)
       int <b>rte_thread_set_affinity_by_id</b> (<b>rte_thread_t</b> thread_id, const rte_cpuset_t *cpuset)
       int <b>rte_thread_get_affinity_by_id</b> (<b>rte_thread_t</b> thread_id, rte_cpuset_t *cpuset)
       int <b>rte_thread_set_affinity</b> (rte_cpuset_t *cpusetp)
       void <b>rte_thread_get_affinity</b> (rte_cpuset_t *cpusetp)
       int <b>rte_thread_get_priority</b> (<b>rte_thread_t</b> thread_id, enum <b>rte_thread_priority</b> *priority)
       int <b>rte_thread_set_priority</b> (<b>rte_thread_t</b> thread_id, enum <b>rte_thread_priority</b> priority)
       int <b>rte_thread_key_create</b> (<b>rte_thread_key</b> *key, void(*destructor)(void *))
       int <b>rte_thread_key_delete</b> (<b>rte_thread_key</b> key)
       int <b>rte_thread_value_set</b> (<b>rte_thread_key</b> key, const void *value)
       void * <b>rte_thread_value_get</b> (<b>rte_thread_key</b> key)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Threading functions

       Simple threads functionality supplied by EAL.

       Definition in file <b>rte_thread.h</b>.

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>RTE_THREAD_NAME_SIZE</b>   <b>16</b>
       Maximum thread name length (including '\0').

       Definition at line <b>27</b> of file <b>rte_thread.h</b>.

   <b>#define</b> <b>RTE_THREAD_INTERNAL_PREFIX</b>   <b>'dpdk-'</b>
       Thread name prefix automatically added to all internal threads.

       Definition at line <b>32</b> of file <b>rte_thread.h</b>.

   <b>#define</b> <b>RTE_THREAD_INTERNAL_NAME_SIZE</b>   <b>11</b>
       Maximum internal thread name length (including '\0').

       Definition at line <b>34</b> of file <b>rte_thread.h</b>.

</pre><h4><b>Typedef</b> <b>Documentation</b></h4><pre>
   <b>typedef</b> <b>uint32_t(*</b> <b>rte_thread_func)</b> <b>(void</b> <b>*arg)</b>
       Thread function

       Function pointer to thread start routine.

       <b>Parameters</b>
           <u>arg</u> Argument passed to <b>rte_thread_create()</b>.

       <b>Returns</b>
           Thread function exit value.

       Definition at line <b>53</b> of file <b>rte_thread.h</b>.

   <b>typedef</b> <b>struct</b> <b>eal_tls_key*</b> <b>rte_thread_key</b>
       TLS key type, an opaque pointer.

       Definition at line <b>78</b> of file <b>rte_thread.h</b>.

</pre><h4><b>Enumeration</b> <b>Type</b> <b>Documentation</b></h4><pre>
   <b>enum</b> <b>rte_thread_priority</b>
       Thread priority values.

       <b>Enumerator</b>

       <u>RTE_THREAD_PRIORITY_NORMAL</u>
              normal thread priority, the default

       <u>RTE_THREAD_PRIORITY_REALTIME_CRITICAL</u>
              highest thread priority allowed

       Definition at line <b>58</b> of file <b>rte_thread.h</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b>  <b>rte_thread_create</b>  <b>(rte_thread_t</b>  <b>*</b>  <b>thread_id,</b>  <b>const</b>  <b>rte_thread_attr_t</b> <b>*</b> <b>thread_attr,</b> <b>rte_thread_func</b>
       <b>thread_func,</b> <b>void</b> <b>*</b> <b>arg)</b>
       Create a new thread that will invoke the 'thread_func' routine.

       <b>Parameters</b>
           <u>thread_id</u> A pointer that will store the id of the newly created thread.
           <u>thread_attr</u> Attributes that are used at the creation of the new thread.
           <u>thread_func</u> The routine that the new thread will invoke when starting execution.
           <u>arg</u> Argument to be passed to the 'thread_func' routine.

       <b>Returns</b>
           On success, return 0. On failure, return a positive errno-style error number.

   <b>int</b> <b>rte_thread_create_control</b> <b>(rte_thread_t</b> <b>*</b> <b>thread,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b> <b>rte_thread_func</b> <b>thread_func,</b> <b>void</b>  <b>*</b>
       <b>arg)</b>
       Create a control thread.

       Creates  a  control thread with the given name and attributes. The affinity of the new thread is based on
       the CPU affinity retrieved at the time <b>rte_eal_init()</b> was called, the EAL threads are then  excluded.  If
       setting the name of the thread fails, the error is ignored and a debug message is logged.

       <b>Parameters</b>
           <u>thread</u> Filled with the thread id of the new created thread.
           <u>name</u> The name of the control thread (max RTE_THREAD_NAME_SIZE characters including '\0').
           <u>thread_func</u> Function to be executed by the new thread.
           <u>arg</u> Argument passed to thread_func.

       <b>Returns</b>
           On success, returns 0; on error, it returns a negative value corresponding to the error number.

   <b>__rte_internal</b>  <b>int</b> <b>rte_thread_create_internal_control</b> <b>(rte_thread_t</b> <b>*</b> <b>id,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b> <b>rte_thread_func</b>
       <b>func,</b> <b>void</b> <b>*</b> <b>arg)</b>
       Create an internal control thread.

       Creates a control thread with the given name prefixed. If setting the name of the thread fails, the error
       is ignored and logged.

       The affinity of the new thread is based on the CPU affinity retrieved  at  the  time  <b>rte_eal_init()</b>  was
       called, the EAL threads are then excluded.

       <b>Parameters</b>
           <u>id</u> Filled with the thread ID of the new created thread.
           <u>name</u>  The  name of the control thread. See RTE_THREAD_INTERNAL_NAME_SIZE for maximum length. The name
           of the driver or library should be first, then followed by a hyphen and  more  details.  It  will  be
           prefixed with RTE_THREAD_INTERNAL_PREFIX by this function.
           <u>func</u> Function to be executed by the new thread.
           <u>arg</u> Argument passed to func.

       <b>Returns</b>
           On success, returns 0; a negative value otherwise.

   <b>int</b> <b>rte_thread_join</b> <b>(rte_thread_t</b> <b>thread_id,</b> <b>uint32_t</b> <b>*</b> <b>value_ptr)</b>
       Waits for the thread identified by 'thread_id' to terminate

       <b>Parameters</b>
           <u>thread_id</u> The identifier of the thread.
           <u>value_ptr</u> Stores the exit status of the thread.

       <b>Returns</b>
           On success, return 0. On failure, return a positive errno-style error number.

   <b>int</b> <b>rte_thread_detach</b> <b>(rte_thread_t</b> <b>thread_id)</b>
       Indicate  that  the  return  value of the thread is not needed and all thread resources should be release
       when the thread terminates.

       <b>Parameters</b>
           <u>thread_id</u> The id of the thread to be detached.

       <b>Returns</b>
           On success, return 0. On failure, return a positive errno-style error number.

   <b>rte_thread_t</b> <b>rte_thread_self</b> <b>(void)</b>
       Get the id of the calling thread.

       <b>Returns</b>
           Return the thread id of the calling thread.

   <b>void</b> <b>rte_thread_set_name</b> <b>(rte_thread_t</b> <b>thread_id,</b> <b>const</b> <b>char</b> <b>*</b> <b>thread_name)</b>
       Set the name of the thread.

       This API is a noop if the underlying platform does not support setting the thread name or  the  platform-
       specific API used to set the thread name fails.

       <b>Parameters</b>
           <u>thread_id</u> The id of the thread to set name.
           <u>thread_name</u>  The  name  to  set.  Truncated  to  RTE_THREAD_NAME_SIZE,  including  terminating NUL if
           necessary.

   <b>__rte_internal</b> <b>void</b> <b>rte_thread_set_prefixed_name</b> <b>(rte_thread_t</b> <b>id,</b> <b>const</b> <b>char</b> <b>*</b> <b>name)</b>
       Set the name of an internal thread with the common prefix.

       This API is a noop if the underlying platform does not support setting the thread name, or if it fails.

       <b>Parameters</b>
           <u>id</u> The ID of the thread to set name.
           <u>name</u> The name to set after being prefixed. See RTE_THREAD_INTERNAL_NAME_SIZE for maximum length.  The
           name of the driver or library should be first, then followed by a hyphen and more details. It will be
           prefixed with RTE_THREAD_INTERNAL_PREFIX by this function.

   <b>int</b> <b>rte_thread_equal</b> <b>(rte_thread_t</b> <b>t1,</b> <b>rte_thread_t</b> <b>t2)</b>
       Check if 2 thread ids are equal.

       <b>Parameters</b>
           <u>t1</u> First thread id.
           <u>t2</u> Second thread id.

       <b>Returns</b>
           If the ids are equal, return nonzero. Otherwise, return 0.

   <b>int</b> <b>rte_thread_attr_init</b> <b>(rte_thread_attr_t</b> <b>*</b> <b>attr)</b>
       Initialize the attributes of a thread. These attributes can be passed to the <b>rte_thread_create()</b> function
       that will create a new thread and set its attributes according to attr.

       <b>Parameters</b>
           <u>attr</u> Thread attributes to initialize.

       <b>Returns</b>
           On success, return 0. On failure, return a positive errno-style error number.

   <b>int</b> <b>rte_thread_attr_set_priority</b> <b>(rte_thread_attr_t</b> <b>*</b> <b>thread_attr,</b> <b>enum</b> <b>rte_thread_priority</b> <b>priority)</b>
       Set the thread priority value in the thread attributes pointed to by 'thread_attr'.

       <b>Parameters</b>
           <u>thread_attr</u> Points to the thread attributes in which priority will be updated.
           <u>priority</u> Points to the value of the priority to be set.

       <b>Returns</b>
           On success, return 0. On failure, return a positive errno-style error number.

   <b>int</b> <b>rte_thread_attr_set_affinity</b> <b>(rte_thread_attr_t</b> <b>*</b> <b>thread_attr,</b> <b>rte_cpuset_t</b> <b>*</b> <b>cpuset)</b>
       Set the CPU affinity value in the thread attributes pointed to by 'thread_attr'.

       <b>Parameters</b>
           <u>thread_attr</u> Points to the thread attributes in which affinity will be updated.
           <u>cpuset</u> Points to the value of the affinity to be set.

       <b>Returns</b>
           On success, return 0. On failure, return a positive errno-style error number.

   <b>int</b> <b>rte_thread_attr_get_affinity</b> <b>(rte_thread_attr_t</b> <b>*</b> <b>thread_attr,</b> <b>rte_cpuset_t</b> <b>*</b> <b>cpuset)</b>
       Get the value of CPU affinity that is set in the thread attributes pointed to by 'thread_attr'.

       <b>Parameters</b>
           <u>thread_attr</u> Points to the thread attributes from which affinity will be retrieved.
           <u>cpuset</u> Pointer to the memory that will store the affinity.

       <b>Returns</b>
           On success, return 0. On failure, return a positive errno-style error number.

   <b>int</b> <b>rte_thread_set_affinity_by_id</b> <b>(rte_thread_t</b> <b>thread_id,</b> <b>const</b> <b>rte_cpuset_t</b> <b>*</b> <b>cpuset)</b>
       Set the affinity of thread 'thread_id' to the cpu set specified by 'cpuset'.

       <b>Parameters</b>
           <u>thread_id</u> Id of the thread for which to set the affinity.
           <u>cpuset</u> Pointer to CPU affinity to set.

       <b>Returns</b>
           On success, return 0. On failure, return a positive errno-style error number.

   <b>int</b> <b>rte_thread_get_affinity_by_id</b> <b>(rte_thread_t</b> <b>thread_id,</b> <b>rte_cpuset_t</b> <b>*</b> <b>cpuset)</b>
       Get the affinity of thread 'thread_id' and store it in 'cpuset'.

       <b>Parameters</b>
           <u>thread_id</u> Id of the thread for which to get the affinity.
           <u>cpuset</u> Pointer for storing the affinity value.

       <b>Returns</b>
           On success, return 0. On failure, return a positive errno-style error number.

   <b>int</b> <b>rte_thread_set_affinity</b> <b>(rte_cpuset_t</b> <b>*</b> <b>cpusetp)</b>
       Set core affinity of the current thread. Support both EAL and non-EAL thread and update TLS.

       <b>Parameters</b>
           <u>cpusetp</u> Pointer to CPU affinity to set.

       <b>Returns</b>
           On success, return 0; otherwise return -1;

   <b>void</b> <b>rte_thread_get_affinity</b> <b>(rte_cpuset_t</b> <b>*</b> <b>cpusetp)</b>
       Get core affinity of the current thread.

       <b>Parameters</b>
           <u>cpusetp</u> Pointer to CPU affinity of current thread. It presumes input is not NULL, otherwise it causes
           panic.

   <b>int</b> <b>rte_thread_get_priority</b> <b>(rte_thread_t</b> <b>thread_id,</b> <b>enum</b> <b>rte_thread_priority</b> <b>*</b> <b>priority)</b>
       Get the priority of a thread.

       <b>Parameters</b>
           <u>thread_id</u> Id of the thread for which to get priority.
           <u>priority</u> Location to store the retrieved priority.

       <b>Returns</b>
           On success, return 0. On failure, return a positive errno-style error number.

   <b>int</b> <b>rte_thread_set_priority</b> <b>(rte_thread_t</b> <b>thread_id,</b> <b>enum</b> <b>rte_thread_priority</b> <b>priority)</b>
       Set the priority of a thread.

       <b>Parameters</b>
           <u>thread_id</u> Id of the thread for which to set priority.
           <u>priority</u> Priority value to be set.

       <b>Returns</b>
           On success, return 0. On failure, return a positive errno-style error number.

   <b>int</b> <b>rte_thread_key_create</b> <b>(rte_thread_key</b> <b>*</b> <b>key,</b> <b>void(*)(void</b> <b>*)</b> <b>destructor)</b>
       Create  a  TLS data key visible to all threads in the process. the created key is later used to get/set a
       value. and optional destructor can be set to be called when a thread exits.

       <b>Parameters</b>
           <u>key</u> Pointer to store the allocated key.
           <u>destructor</u> The function to be called when the thread exits. Ignored on Windows OS.

       <b>Returns</b>
           On success, zero. On failure, a negative number and an error number is set  in  rte_errno.  rte_errno
           can be: ENOMEM - Memory allocation error. ENOEXEC - Specific OS error.

   <b>int</b> <b>rte_thread_key_delete</b> <b>(rte_thread_key</b> <b>key)</b>
       Delete a TLS data key visible to all threads in the process.

       <b>Parameters</b>
           <u>key</u> The key allocated by <b>rte_thread_key_create()</b>.

       <b>Returns</b>
           On  success,  zero.  On failure, a negative number and an error number is set in rte_errno. rte_errno
           can be: EINVAL - Invalid parameter passed. ENOEXEC - Specific OS error.

   <b>int</b> <b>rte_thread_value_set</b> <b>(rte_thread_key</b> <b>key,</b> <b>const</b> <b>void</b> <b>*</b> <b>value)</b>
       Set value bound to the TLS key on behalf of the calling thread.

       <b>Parameters</b>
           <u>key</u> The key allocated by <b>rte_thread_key_create()</b>.
           <u>value</u> The value bound to the rte_thread_key key for the calling thread.

       <b>Returns</b>
           On success, zero. On failure, a negative number and an error number is set  in  rte_errno.  rte_errno
           can be: EINVAL - Invalid parameter passed. ENOEXEC - Specific OS error.

   <b>void</b> <b>*</b> <b>rte_thread_value_get</b> <b>(rte_thread_key</b> <b>key)</b>
       Get value bound to the TLS key on behalf of the calling thread.

       <b>Parameters</b>
           <u>key</u> The key allocated by <b>rte_thread_key_create()</b>.

       <b>Returns</b>
           On  success,  value  data  pointer (can also be NULL). On failure, NULL and an error number is set in
           rte_errno. rte_errno can be: EINVAL - Invalid parameter passed. ENOEXEC - Specific OS error.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for DPDK from the source code.

DPDK                                             Version 24.11.2                                 <u><a href="../man3/rte_thread.h.3.html">rte_thread.h</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>