<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ares_library_init - c-ares library initialization</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libc-ares-dev">libc-ares-dev_1.34.5-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ares_library_init - c-ares library initialization

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;ares.h&gt;

       int ares_library_init(int <u>flags</u>)

       int ares_library_init_mem(int <u>flags</u>,
                                 void *(*<u>amalloc</u>)(size_t),
                                 void (*<u>afree</u>)(void *ptr),
                                 void (*<u>arealloc</u>)(void *ptr, size_t size))

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>ares_library_init</b>  function  performs initializations internally required by the c-ares library that
       must take place before any other function provided by c-ares can be used in a program.

       This function must be called at least once within the life of a  program,  before  the  program  actually
       executes any other c-ares library function.  Initializations done by this function remain effective until
       a number of calls to <u><a href="../man3/ares_library_cleanup.3.html">ares_library_cleanup</a>(3)</u> equal to the number of calls to this function are performed.

       Successive  calls  to  this  function  do  nothing further, only the first call done when c-ares is in an
       uninitialized state is actually effective.

       The <u>flags</u> parameter is a bit pattern that tells c-ares exactly which features should be  initialized,  as
       described  below.  Set  the  desired  bits  by  ORing the values together. In normal operation you should
       specify <u>ARES_LIB_INIT_ALL</u>. Don't use any other value unless you  are  familiar  with  it  and  trying  to
       control some internal c-ares feature.

       The  <b>ares_library_init_mem</b>  function allows the caller to provide memory management functions that the c-
       ares library will be use instead of <u><a href="../man3/malloc.3.html">malloc</a>(3)</u>, <u><a href="../man3/free.3.html">free</a>(3)</u> and <u><a href="../man3/realloc.3.html">realloc</a>(3)</u>.

       <b>This</b> <b>function</b> <b>is</b> <b>not</b> <b>thread</b> <b>safe.</b>  You have to call it once the program has started, but this  call  must
       be  done  before the program starts any other thread. This is required to avoid potential race conditions
       in library initialization, and also due to the fact that <u><a href="../man3/ares_library_init.3.html">ares_library_init</a>(3)</u> might call  functions  from
       other  libraries  that  are thread unsafe, and could conflict with any other thread that is already using
       these other libraries.

       On Windows platforms, the library user should ensure  that  <u>WSAStartup()</u>  is  called  before  the  c-ares
       library is initialized and used.

       Win32/64  application  DLLs  shall not call <u><a href="../man3/ares_library_init.3.html">ares_library_init</a>(3)</u> from the DllMain function. Doing so will
       produce deadlocks and other problems.

</pre><h4><b>FLAGS</b></h4><pre>
       <b>ARES_LIB_INIT_ALL</b>
            Initialize everything possible. This sets all known bits.

       <b>ARES_LIB_INIT_WIN32</b>
            Initialize Win32/64 specific libraries.  As of c-ares 1.19.0,  this  is  ignored  as  there  are  no
            currently dynamically loaded libraries.

       <b>ARES_LIB_INIT_NONE</b>
            Initialize nothing extra. This sets no bit.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon  successful  completion,  <u><a href="../man3/ares_library_init.3.html">ares_library_init</a>(3)</u>  returns  0.   Otherwise,  a non-zero error number is
       returned to indicate the error. Except for <u><a href="../man3/ares_strerror.3.html">ares_strerror</a>(3)</u>, you shall not call any other c-ares function
       upon <u><a href="../man3/ares_library_init.3.html">ares_library_init</a>(3)</u> failure.

</pre><h4><b>AVAILABILITY</b></h4><pre>
       This function was first introduced in c-ares version 1.7.0 along  with  the  definition  of  preprocessor
       symbol  <u>CARES_HAVE_ARES_LIBRARY_INIT</u> as an indication of the availability of this function. Its recursive
       behavior, which requires a matching number of calls to <u><a href="../man3/ares_library_cleanup.3.html">ares_library_cleanup</a>(3)</u> in order  to  deinitialize
       the  library,  is present since c-ares version 1.10.0. Earlier versions would deinitialize the library on
       the first call to <u><a href="../man3/ares_library_cleanup.3.html">ares_library_cleanup</a>(3)</u>.

       Since the introduction of this function it is absolutely mandatory to call it for  any  Win32/64  program
       using c-ares.

       Non-Win32/64  systems  can still use c-ares version 1.7.0 without calling <u><a href="../man3/ares_library_init.3.html">ares_library_init</a>(3)</u> due to the
       fact that <u>currently</u> it is nearly a do-nothing function on non-Win32/64 platforms at this point.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ares_library_cleanup.3.html">ares_library_cleanup</a></b>(3), <b><a href="../man3/ares_strerror.3.html">ares_strerror</a></b>(3)

                                                   19 May 2009                              <u><a href="../man3/ARES_LIBRARY_INIT.3.html">ARES_LIBRARY_INIT</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>