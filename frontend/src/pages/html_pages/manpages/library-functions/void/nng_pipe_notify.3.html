<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nng_pipe_notify - register pipe notification callback</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnng-dev">libnng-dev_1.10.1-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nng_pipe_notify - register pipe notification callback

</pre><h4><b>SYNOPSIS</b></h4><pre>
           #include &lt;nng/nng.h&gt;

           typedef enum {
                   NNG_PIPE_EV_ADD_PRE,
                   NNG_PIPE_EV_ADD_POST,
                   NNG_PIPE_EV_REM_POST,
           } nng_pipe_ev;

           typedef void (*nng_pipe_cb)(nng_pipe, nng_pipe_ev, void *);

           int nng_pipe_notify(nng_socket s, nng_pipe_ev ev, nng_pipe_cb cb, void *arg);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The nng_pipe_notify() function registers the callback function <u>cb</u> to be called whenever a pipe the pipe
       event specified by <u>ev</u> occurs on the socket <u>s</u>. The callback <u>cb</u> will be passed <u>arg</u> as its final argument.

       A different callback may be supplied for each event. Each event may have at most one callback registered.
       Registering a callback implicitly unregisters any previously registered.

       The following pipe events are supported:

       NNG_PIPE_EV_ADD_PRE
           This event occurs after a connection and negotiation has completed, but before the pipe is added to
           the socket. If the pipe is closed (using nng_pipe_close()) at this point, the socket will never see
           the pipe, and no further events will occur for the given pipe.

       NNG_PIPE_EV_ADD_POST
           This event occurs after the pipe is fully added to the socket. Prior to this time, it is not possible
           to communicate over the pipe with the socket.

       NNG_PIPE_EV_REM_POST
           This event occurs after the pipe has been removed from the socket. The underlying transport may be
           closed at this point, and it is not possible communicate using this pipe.

           <b>Warning</b>

           The callback <u>cb</u> function must <b>not</b> attempt to perform any accesses to the socket, as it is called with
           a lock on the socket held! Doing so would thus result in a deadlock.

           <b>Tip</b>

           The callback <u>cb</u> may close a pipe for any reason by simply closing it using nng_pipe_close(). This
           might be done before the pipe is added to the socket (during NNG_PIPE_EV_ADD_PRE), for example, if
           the remote peer is not authorized.

           <b>Tip</b>

           It is possible to register the same <u>cb</u> and <u>arg</u> for different events by calling this function
           separately for different values of <u>ev</u>.

           <b>Note</b>

           This function ignores invalid values for <u>ev</u>.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       This function returns 0 on success, and non-zero otherwise.

</pre><h4><b>ERRORS</b></h4><pre>
       NNG_ECLOSED
           The socket <u>s</u> does not refer to an open socket.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3/nng_pipe_close.3.html">nng_pipe_close</a>(3), <a href="../man3/nng_pipe_getopt.3.html">nng_pipe_getopt</a>(3), <a href="../man5/nng_pipe.5.html">nng_pipe</a>(5), <a href="../man5/nng_socket.5.html">nng_socket</a>(5), <a href="../man7/nng.7.html">nng</a>(7)

                                                   2025-04-20                                 <u><a href="../man3/NNG_PIPE_NOTIFY.3.html">NNG_PIPE_NOTIFY</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>