<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kcapi_cipher_stream_op - obtain processed data (stream)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libkcapi-dev">libkcapi-dev_1.4.0-1ubuntu4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       kcapi_cipher_stream_op - obtain processed data (stream)

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>ssize_t</b> <b>kcapi_cipher_stream_op(struct</b> <b>kcapi_handle</b> <b>*</b> <u>handle</u><b>,</b> <b>struct</b> <b>iovec</b> <b>*</b> <u>iov</u><b>,</b> <b>size_t</b> <u>iovlen</u><b>);</b>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>handle</u>
           [in] cipher handle

       <u>iov</u>
           [out] scatter/gather list pointing to buffers to be filled with the resulting data from a cipher
           operation.

       <u>iovlen</u>
           [in] number of scatter/gather list elements.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This call can be called interleaved with <b>kcapi_cipher_stream_update</b> to fetch the processed data.

       This function may cause the caller to sleep if the kernel buffer holding the data is empty. The process
       will be woken up once more data is sent by calling <b>kcapi_cipher_stream_update</b>.

       Note, when supplying buffers that are not multiple of block size, the buffers will only be filled up to
       the maximum number of full block sizes that fit into the buffer.

       The kernel supports multithreaded applications where one or more threads send data via the
       <b>kcapi_cipher_stream_update</b> function and another thread collects the processed data via
       kcapi_cipher_stream_op. The kernel, however, will return data via <b>kcapi_cipher_stream_op</b> as soon as it
       has some data available. For example, one thread sends 1000 bytes to be encrypted and another thread
       already waits for the ciphertext. The kernel may send only, say, 500 bytes back to the waiting process
       during one <b>kcapi_cipher_stream_op</b> call. In a subsequent calls to <b>kcapi_cipher_stream_op</b> more ciphertext
       is returned. This implies that when the receiving thread shall collect all data there is,
       <b>kcapi_cipher_stream_op</b> must be called in a loop until all data is received.

       <u>return</u> number of bytes obtained from the kernel upon success; a negative errno-style error code if an
       error occurred

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>Stephan</b> <b>Mueller</b> &lt;<a href="mailto:smueller@chronox.de">smueller@chronox.de</a>&gt;
           Author.

</pre><h4><b>COPYRIGHT</b></h4><pre>
libkcapi Manual 1.5.0                              April 2024                            <u>KCAPI_CIPHER_STREAM</u><b><a href="../man3/_.3.html">_</a></b>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>