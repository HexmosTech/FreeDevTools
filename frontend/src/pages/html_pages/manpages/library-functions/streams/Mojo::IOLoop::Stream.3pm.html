<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mojo::IOLoop::Stream - Non-blocking I/O stream</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmojolicious-perl">libmojolicious-perl_9.39+dfsg-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mojo::IOLoop::Stream - Non-blocking I/O stream

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Mojo::IOLoop::Stream;

         # Create stream
         my $stream = Mojo::IOLoop::Stream-&gt;new($handle);
         $stream-&gt;on(read =&gt; sub ($stream, $bytes) {...});
         $stream-&gt;on(close =&gt; sub ($stream) {...});
         $stream-&gt;on(error =&gt; sub ($stream, $err) {...});

         # Start and stop watching for new data
         $stream-&gt;start;
         $stream-&gt;stop;

         # Start reactor if necessary
         $stream-&gt;reactor-&gt;start unless $stream-&gt;reactor-&gt;is_running;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Mojo::IOLoop::Stream is a container for I/O streams used by Mojo::IOLoop.

</pre><h4><b>EVENTS</b></h4><pre>
       Mojo::IOLoop::Stream inherits all events from Mojo::EventEmitter and can emit the following new ones.

   <b>close</b>
         $stream-&gt;on(close =&gt; sub ($stream) {...});

       Emitted if the stream gets closed.

   <b>drain</b>
         $stream-&gt;on(drain =&gt; sub ($stream) {...});

       Emitted once all data has been written.

   <b>error</b>
         $stream-&gt;on(error =&gt; sub ($stream, $err) {...});

       Emitted if an error occurs on the stream, fatal if unhandled.

   <b>read</b>
         $stream-&gt;on(read =&gt; sub ($stream, $bytes) {...});

       Emitted if new data arrives on the stream.

   <b>timeout</b>
         $stream-&gt;on(timeout =&gt; sub ($stream) {...});

       Emitted if the stream has been inactive for too long and will get closed automatically.

   <b>write</b>
         $stream-&gt;on(write =&gt; sub ($stream, $bytes) {...});

       Emitted if new data has been written to the stream.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       Mojo::IOLoop::Stream implements the following attributes.

   <b>high_water_mark</b>
         my $size = $msg-&gt;high_water_mark;
         $msg     = $msg-&gt;<a href="../man1024/high_water_mark.1024.html">high_water_mark</a>(1024);

       Maximum size of "write" buffer in bytes before "can_write" returns false, defaults to 1048576 (1MiB).

   <b>reactor</b>
         my $reactor = $stream-&gt;reactor;
         $stream     = $stream-&gt;reactor(Mojo::Reactor::Poll-&gt;new);

       Low-level event reactor, defaults to the "reactor" attribute value of the global Mojo::IOLoop singleton.
       Note that this attribute is weakened.

</pre><h4><b>METHODS</b></h4><pre>
       Mojo::IOLoop::Stream inherits all methods from Mojo::EventEmitter and implements the following new ones.

   <b>bytes_read</b>
         my $num = $stream-&gt;bytes_read;

       Number of bytes received.

   <b>bytes_waiting</b>
         my $num = $stream-&gt;bytes_waiting;

       Number of bytes that have been enqueued with "write" and are waiting to be written.

   <b>bytes_written</b>
         my $num = $stream-&gt;bytes_written;

       Number of bytes written.

   <b>can_write</b>
         my $bool = $stream-&gt;can_write;

       Returns true if calling "write" is safe.

   <b>close</b>
         $stream-&gt;close;

       Close stream immediately.

   <b>close_gracefully</b>
         $stream-&gt;close_gracefully;

       Close stream gracefully.

   <b>handle</b>
         my $handle = $stream-&gt;handle;

       Get handle for stream, usually an IO::Socket::IP or IO::Socket::SSL object.

   <b>is_readable</b>
         my $bool = $stream-&gt;is_readable;

       Quick non-blocking check if stream is readable, useful for identifying tainted sockets.

   <b>is_writing</b>
         my $bool = $stream-&gt;is_writing;

       Check if stream is writing.

   <b>new</b>
         my $stream = Mojo::IOLoop::Stream-&gt;new($handle);

       Construct a new Mojo::IOLoop::Stream object.

   <b>start</b>
         $stream-&gt;start;

       Start or resume watching for new data on the stream.

   <b>steal_handle</b>
         my $handle = $stream-&gt;steal_handle;

       Steal "handle" and prevent it from getting closed automatically.

   <b>stop</b>
         $stream-&gt;stop;

       Stop watching for new data on the stream.

   <b>timeout</b>
         my $timeout = $stream-&gt;timeout;
         $stream     = $stream-&gt;<a href="../man45/timeout.45.html">timeout</a>(45);

       Maximum amount of time in seconds stream can be inactive before getting closed automatically, defaults to
       15.  Setting the value to 0 will allow this stream to be inactive indefinitely.

   <b>write</b>
         $stream = $stream-&gt;write($bytes);
         $stream = $stream-&gt;write($bytes =&gt; sub {...});

       Enqueue data to be written to the stream as soon as possible, the optional drain callback will be
       executed once all data has been written.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mojolicious, Mojolicious::Guides, &lt;https://mojolicious.org&gt;.

perl v5.40.0                                       2024-12-07                          <u>Mojo::IOLoop::<a href="../man3pm/Stream.3pm.html">Stream</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>