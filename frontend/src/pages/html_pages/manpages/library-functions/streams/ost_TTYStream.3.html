<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ost::TTYStream - TTY streams are used to represent serial connections that are fully 'streamable' objects</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libcommoncpp2-doc">libcommoncpp2-doc_1.8.1-10_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ost::TTYStream - TTY streams are used to represent serial connections that are fully 'streamable' objects
       using C++ stream classes and friends.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;serial.h&gt;

       Inherits streambuf, <b>ost::Serial</b>, and iostream.

       Inherited by <b>ost::TTYSession</b>, and <b>ost::ttystream</b>.

   <b>Public</b> <b>Member</b> <b>Functions</b>
       <b>TTYStream</b> (const char *filename, <b>timeout_t</b> to=0)
           Create and open a tty serial port.
       virtual <b>~TTYStream</b> ()
           End the tty stream and cleanup.
       void <b>setTimeout</b> (<b>timeout_t</b> to)
           Set the timeout control.
       void <b>interactive</b> (bool flag)
           Set tty mode to buffered or 'interactive'.
       int <b>sync</b> (void)
           Flushes the stream input and out buffers, writes pending output.
       bool <b>isPending</b> (<b>Pending</b> pend, <b>timeout_t</b> <b>timeout</b>=<b>TIMEOUT_INF</b>)
           Get the status of pending operations.

   <b>Protected</b> <b>Member</b> <b>Functions</b>
       <b>TTYStream</b> ()
           This constructor is used to derive 'ttystream', a more C++ style version of the <b>TTYStream</b> class.
       void <b>allocate</b> (void)
           Used to allocate the buffer space needed for iostream operations.
       void <b>endStream</b> (void)
           Used to terminate the buffer space and clean up the tty connection.
       int <b>underflow</b> (void)
           This streambuf method is used to load the input buffer through the established tty serial port.
       int <b>uflow</b> (void)
           This streambuf method is used for doing unbuffered reads through the establish tty serial port when
           in interactive mode.
       int <b>overflow</b> (int ch)
           This streambuf method is used to write the output buffer through the established tty port.

   <b>Protected</b> <b>Attributes</b>
       char * <b>gbuf</b>
       char * <b>pbuf</b>
       <b>timeout_t</b> <b>timeout</b>

   <b>Friends</b>
       <b>TTYStream</b> &amp; <b>crlf</b> (<b>TTYStream</b> &amp;)
       <b>TTYStream</b> &amp; <b>lfcr</b> (<b>TTYStream</b> &amp;)

   <b>Additional</b> <b>Inherited</b> <b>Members</b>
</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       TTY streams are used to represent serial connections that are fully 'streamable' objects using C++ stream
       classes and friends.

       The first application relevant serial I/O class is the <b>TTYStream</b> class. <b>TTYStream</b> offers a linearly
       buffered 'streaming' I/O session with the serial device. Furthermore, traditional C++ 'stream' operators
       (&lt;&lt; and &gt;&gt;) may be used with the serial device. A more 'true' to ANSI C++ library format 'ttystream' is
       also available, and this supports an 'open' method in which one can pass initial serial device parameters
       immediately following the device name in a single string, as in '/dev/tty3a:9600,7,e,1', as an example.

       The <b>TTYSession</b> aggragates a <b>TTYStream</b> and a Common C++ <b>Thread</b> which is assumed to be the execution
       context that will be used to perform actual I/O operations. This class is very anagolous to <b>TCPSession</b>.

       <b>Author</b>
           David Sugar <a href="mailto:dyfet@ostel.com">dyfet@ostel.com</a>

       streamable tty serial I/O class.

</pre><h4><b>Constructor</b> <b>&amp;</b> <b>Destructor</b> <b>Documentation</b></h4><pre>
   <b>ost::TTYStream::TTYStream</b> <b>()</b> <b>[protected]</b>
       This constructor is used to derive 'ttystream', a more C++ style version of the <b>TTYStream</b> class.

   <b>ost::TTYStream::TTYStream</b> <b>(const</b> <b>char</b> <b>*</b> <b>filename,</b> <b>timeout_t</b> <b>to</b> <b>=</b> <b>0)</b>
       Create and open a tty serial port.

       <b>Parameters</b>
           <u>filename</u> char name of device to open.
           <u>to</u> default timeout.

   <b>virtual</b> <b>ost::TTYStream::~TTYStream</b> <b>()</b> <b>[virtual]</b>
       End the tty stream and cleanup.

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>void</b> <b>ost::TTYStream::allocate</b> <b>(void)</b> <b>[protected]</b>
       Used to allocate the buffer space needed for iostream operations. This is based on MAX_INPUT.

   <b>void</b> <b>ost::TTYStream::endStream</b> <b>(void)</b> <b>[protected]</b>
       Used to terminate the buffer space and clean up the tty connection. This function is called by the
       destructor.

   <b>void</b> <b>ost::TTYStream::interactive</b> <b>(bool</b> <b>flag)</b>
       Set tty mode to buffered or 'interactive'. When interactive, all streamed I/O is directly sent to the
       serial port immediately.

       <b>Parameters</b>
           <u>flag</u> bool set to true to make interactive.

   <b>bool</b> <b>ost::TTYStream::isPending</b> <b>(Pending</b> <b>pend,</b> <b>timeout_t</b> <b>timeout</b> <b>=</b> <b>TIMEOUT_INF)</b> <b>[virtual]</b>
       Get the status of pending operations. This can be used to examine if input or output is waiting, or if an
       error has occured on the serial device. If read buffer contains data then input is ready and if write
       buffer contains data it is first flushed then checked.

       <b>Returns</b>
           true if ready, false if timeout.

       <b>Parameters</b>
           <u>pend</u> ready check to perform.
           <u>timeout</u> in milliseconds.

       Reimplemented from <b>ost::Serial</b>.

   <b>int</b> <b>ost::TTYStream::overflow</b> <b>(int</b> <b>ch)</b> <b>[protected]</b>
       This streambuf method is used to write the output buffer through the established tty port.

       <b>Parameters</b>
           <u>ch</u> char to push through.

       <b>Returns</b>
           char pushed through.

   <b>void</b> <b>ost::TTYStream::setTimeout</b> <b>(timeout_t</b> <b>to)</b> <b>[inline]</b>
       Set the timeout control.

       <b>Parameters</b>
           <u>to</u> timeout to use.

   <b>int</b> <b>ost::TTYStream::sync</b> <b>(void)</b>
       Flushes the stream input and out buffers, writes pending output.

       <b>Returns</b>
           0 on success.

   <b>int</b> <b>ost::TTYStream::uflow</b> <b>(void)</b> <b>[protected]</b>
       This streambuf method is used for doing unbuffered reads through the establish tty serial port when in
       interactive mode. Also this method will handle proper use of buffers if not in interative mode.

       <b>Returns</b>
           char from tty serial port, EOF also possible.

   <b>int</b> <b>ost::TTYStream::underflow</b> <b>(void)</b> <b>[protected]</b>
       This streambuf method is used to load the input buffer through the established tty serial port.

       <b>Returns</b>
           char from get buffer, EOF also possible.

</pre><h4><b>Friends</b> <b>And</b> <b>Related</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>TTYStream&amp;</b> <b>crlf</b> <b>(TTYStream</b> <b>&amp;)</b> <b>[friend]</b>
   <b>TTYStream&amp;</b> <b>lfcr</b> <b>(TTYStream</b> <b>&amp;)</b> <b>[friend]</b>
</pre><h4><b>Member</b> <b>Data</b> <b>Documentation</b></h4><pre>
   <b>char*</b> <b>ost::TTYStream::gbuf</b> <b>[protected]</b>
   <b>char</b> <b>*</b> <b>ost::TTYStream::pbuf</b> <b>[protected]</b>
   <b>timeout_t</b> <b>ost::TTYStream::timeout</b> <b>[protected]</b>
</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for GNU CommonC++ from the source code.

GNU CommonC++                                    Sun Dec 27 2020                               <u>ost::<a href="../man3/TTYStream.3.html">TTYStream</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>