<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSL_get_stream_read_state, SSL_get_stream_write_state, SSL_get_stream_read_error_code,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SSL_get_stream_read_state, SSL_get_stream_write_state, SSL_get_stream_read_error_code,
       SSL_get_stream_write_error_code, SSL_STREAM_STATE_NONE, SSL_STREAM_STATE_OK, SSL_STREAM_STATE_WRONG_DIR,
       SSL_STREAM_STATE_FINISHED, SSL_STREAM_STATE_RESET_LOCAL, SSL_STREAM_STATE_RESET_REMOTE,
       SSL_STREAM_STATE_CONN_CLOSED - get QUIC stream state

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/ssl.h&gt;

        #define SSL_STREAM_STATE_NONE
        #define SSL_STREAM_STATE_OK
        #define SSL_STREAM_STATE_WRONG_DIR
        #define SSL_STREAM_STATE_FINISHED
        #define SSL_STREAM_STATE_RESET_LOCAL
        #define SSL_STREAM_STATE_RESET_REMOTE
        #define SSL_STREAM_STATE_CONN_CLOSED

        int SSL_get_stream_read_state(SSL *ssl);
        int SSL_get_stream_write_state(SSL *ssl);

        int SSL_get_stream_read_error_code(SSL *ssl, uint64_t *app_error_code);
        int SSL_get_stream_write_error_code(SSL *ssl, uint64_t *app_error_code);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>SSL_get_stream_read_state()</b> and <b>SSL_get_stream_write_state()</b> retrieve the overall state of the receiving
       and sending parts of a QUIC stream, respectively.

       They both return one of the following values:

       <b>SSL_STREAM_STATE_NONE</b>
           This value is returned if called on a non-QUIC SSL object, or on a QUIC connection SSL object without
           a default stream attached.

       <b>SSL_STREAM_STATE_OK</b>
           This value is returned on a stream which has not been concluded and remains healthy.

       <b>SSL_STREAM_STATE_WRONG_DIR</b>
           This  value  is  returned  if  <b>SSL_get_stream_read_state()</b> is called on a locally-initiated (and thus
           send-only) unidirectional stream, or, conversely, if  <b>SSL_get_stream_write_state()</b>  is  called  on  a
           remotely-initiated (and thus receive-only) unidirectional stream.

       <b>SSL_STREAM_STATE_FINISHED</b>
           For <b>SSL_get_stream_read_state()</b>, this value is returned when the remote peer has signalled the end of
           the  receiving  part  of the stream. Note that there may still be residual data available to read via
           <b><a href="../man3/SSL_read.3.html">SSL_read</a></b>(3) when this state is returned.

           For <b>SSL_get_stream_write_state()</b>, this value is returned when the local application has concluded the
           stream using <b><a href="../man3/SSL_stream_conclude.3.html">SSL_stream_conclude</a></b>(3). Future <b><a href="../man3/SSL_write.3.html">SSL_write</a></b>(3) calls will not succeed.

       <b>SSL_STREAM_STATE_RESET_LOCAL</b>
           This value is returned when the applicable stream part was reset by the local application.

           For <b>SSL_get_stream_read_state()</b>, this means that the receiving part of the stream was aborted using a
           locally transmitted QUIC <b>STOP_SENDING</b> frame. It may or may  not  still  be  possible  to  obtain  any
           residual data which remains to be read by calling <b><a href="../man3/SSL_read.3.html">SSL_read</a></b>(3).

           For  <b>SSL_get_stream_write_state()</b>,  this  means  that the sending part of the stream was aborted, for
           example because the application called <b><a href="../man3/SSL_stream_reset.3.html">SSL_stream_reset</a></b>(3), or because a QUIC stream SSL object  with
           an un-concluded sending part was freed using <b><a href="../man3/SSL_free.3.html">SSL_free</a></b>(3). Calls to <b><a href="../man3/SSL_write.3.html">SSL_write</a></b>(3) will fail.

           When  this  value  is  returned,  the  application  error code which was signalled can be obtained by
           calling <b>SSL_get_stream_read_error_code()</b> or <b>SSL_get_stream_write_error_code()</b> as appropriate.

       <b>SSL_STREAM_STATE_RESET_REMOTE</b>
           This value is returned when the applicable stream part was reset by the remote peer.

           For <b>SSL_get_stream_read_state()</b>, this means that the peer sent a  QUIC  <b>RESET_STREAM</b>  frame  for  the
           receiving part of the stream; the receiving part of the stream was logically aborted by the peer.

           For  <b>SSL_get_stream_write_state()</b>,  this  means  that the peer sent a QUIC <b>STOP_SENDING</b> frame for the
           sending part of the stream; the peer has indicated that it does not wish to receive further  data  on
           the sending part of the stream.  Calls to <b><a href="../man3/SSL_write.3.html">SSL_write</a></b>(3) will fail.

           When  this  value  is  returned,  the  application  error code which was signalled can be obtained by
           calling <b>SSL_get_stream_read_error_code()</b> or <b>SSL_get_stream_write_error_code()</b> as appropriate.

       <b>SSL_STREAM_STATE_CONN_CLOSED</b>
           The QUIC connection to which the stream belongs was closed. You  can  obtain  information  about  the
           circumstances  of  this  closure  using  <b><a href="../man3/SSL_get_conn_close_info.3.html">SSL_get_conn_close_info</a></b>(3). There may still be residual data
           available to read via <b><a href="../man3/SSL_read.3.html">SSL_read</a></b>(3) when this state is  returned.  Calls  to  <b><a href="../man3/SSL_write.3.html">SSL_write</a></b>(3)  will  fail.
           <b>SSL_get_stream_read_state()</b>  will  return this state if and only if <b>SSL_get_stream_write_state()</b> will
           also return this state.

       <b>SSL_get_stream_read_error_code()</b> and <b>SSL_get_stream_write_error_code()</b> provide the application error code
       which was signalled during non-normal termination  of  the  receiving  or  sending  parts  of  a  stream,
       respectively. On success, the application error code is written to <u>*app_error_code</u>.

</pre><h4><b>NOTES</b></h4><pre>
       If   a   QUIC   connection   is   closed,   the   stream   state   for   all   streams   transitions   to
       <b>SSL_STREAM_STATE_CONN_CLOSED</b>,   but   no   application   error    code    can    be    retrieved    using
       <b>SSL_get_stream_read_error_code()</b>  or  <b>SSL_get_stream_write_error_code()</b>,  as  the QUIC connection closure
       process does not cause an application error code to be  associated  with  each  individual  stream  still
       existing  at  the  time  of connection closure. However, you can obtain the overall error code associated
       with the connection closure using <b><a href="../man3/SSL_get_conn_close_info.3.html">SSL_get_conn_close_info</a></b>(3).

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>SSL_get_stream_read_state()</b> and <b>SSL_get_stream_write_state()</b> return one of the  <b>SSL_STREAM_STATE</b>  values.
       If  called  on  a  non-QUIC  SSL  object,  or  a  QUIC  connection  SSL  object without a default stream,
       <b>SSL_STREAM_STATE_NONE</b> is returned.

       <b>SSL_get_stream_read_error_code()</b> and <b>SSL_get_stream_write_error_code()</b> return 1 on success and 0  if  the
       stream  was terminated normally. They return -1 on error, for example if the stream is still healthy, was
       still healthy at the time of connection closure, if called on a stream for which  the  respective  stream
       part  does  not  exist  (e.g.  on  a  unidirectional stream), or if called on a non-QUIC object or a QUIC
       connection SSL object without a default stream attached.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/SSL_stream_conclude.3.html">SSL_stream_conclude</a></b>(3),       <b><a href="../man3/SSL_stream_reset.3.html">SSL_stream_reset</a></b>(3),        <b><a href="../man3/SSL_new_stream.3.html">SSL_new_stream</a></b>(3),        <b><a href="../man3/SSL_accept_stream.3.html">SSL_accept_stream</a></b>(3),
       <b><a href="../man3/SSL_get_conn_close_info.3.html">SSL_get_conn_close_info</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       These functions were added in OpenSSL 3.2.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2002-2023 The OpenSSL Project Authors. All Rights Reserved.

       Licensed  under  the  Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain  a  copy  in  the  file  LICENSE  in  the  source  distribution  or  at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                    <u><a href="../man3SSL/SSL_GET_STREAM_READ_STATE.3SSL.html">SSL_GET_STREAM_READ_STATE</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>