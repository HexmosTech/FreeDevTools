<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Return::Type - specify a return type for a function (optionally with coercion)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libreturn-type-perl">libreturn-type-perl_0.007-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Return::Type - specify a return type for a function (optionally with coercion)

</pre><h4><b>SYNOPSIS</b></h4><pre>
          use Return::Type;
          use Types::Standard qw(Int);

          sub first_item :ReturnType(Int) {
             return $_[0];
          }

          my $answer = first_item(42, 43, 44);     # returns 42
          my $pie    = first_item(3.141592);       # throws an error!

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Return::Type allows you to specify a return type for your subs. Type constraints from any Type::Tiny,
       MooseX::Types or MouseX::Types type library are supported.

       The simple syntax for specifying a type constraint is shown in the "SYNOPSIS". If the attribute is passed
       a single type constraint as shown, this will be applied to the return value if called in scalar context,
       and to each item in the returned list if called in list context. (If the sub is called in void context,
       type constraints are simply ignored.)

       It is possible to specify different type constraints for scalar and list context:

          sub foo :ReturnType(scalar =&gt; Int, list =&gt; HashRef[Num]) {
             if (wantarray) {
                return (pie =&gt; 3.141592);
             }
             else {
                return 42;
             }
          }

       The return value is not type checked if the function is called in void context.

          # Note that the ~Any type is the opposite of Any.
          # So all values will fail the type check.
          # That means that the following function can only
          # be called in void context.
          #
          sub foo :ReturnType(scalar =&gt; ~Any, list =&gt; ~Any) {
             ...;
          }

          # Shortcut for the above.
          #
          sub foo :ReturnType(Void) {
             ...;
          }

       Note that because type constraint libraries are really aimed at validating scalars, the type constraint
       for the list is specified as a <u>hashref</u> of numbers and not a hash of numbers! For the purposes of
       validation against the type constraint, we slurp the returned list into a temporary arrayref or hashref.

       For type constraints with coercions, you can also pass the option "coerce =&gt; 1":

          use Return::Type;
          use Types::Standard qw( Int Num );

          # Define a subtype of "Int" at compile time, which can
          # coerce from "Num" by rounding to nearest integer.
          use constant Rounded =&gt; Int-&gt;plus_coercions(Num, sub { int($_) });

          sub first_item :ReturnType(scalar =&gt; Rounded, coerce =&gt; 1) {
             return $_[0];
          }

          my $answer = first_item(42, 43, 44);     # returns 42
          my $pie    = first_item(3.141592);       # returns 3

       The options "coerce_scalar" and "coerce_list" are also available if you wish to enable coercion only in
       particular contexts.

   <b>Power-user</b> <b>Inferface</b>
       Rather than using the ":ReturnType" attribute, it's possible to wrap a coderef like this:

          my $wrapped = Return::Type-&gt;wrap_sub($orig, %options);

       The accepted options are "scalar", "list", "coerce", "coerce_list", and "coerce_scalar", as per the
       attribute-based interface.

       There is an additional option "scope_upper" which will load and use Scope::Upper so that things like
       "caller" used within the wrapped sub are unaware of being wrapped. This behaviour was the default prior
       to Return::Type 0.004, but is now optional and disabled by default.

</pre><h4><b>BUGS</b></h4><pre>
       Please report any bugs to &lt;<a href="http://rt.cpan.org/Dist/Display.html">http://rt.cpan.org/Dist/Display.html</a>?Queue=Return-Type&gt;.

</pre><h4><b>SUPPORT</b></h4><pre>
       <b>IRC:</b> support is available through in the <u>#moops</u> channel on irc.perl.org
       &lt;<a href="http://www.irc.perl.org/channels.html">http://www.irc.perl.org/channels.html</a>&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Attribute::Contract, Sub::Filter, Sub::Contract.

</pre><h4><b>AUTHOR</b></h4><pre>
       Toby Inkster &lt;<a href="mailto:tobyink@cpan.org">tobyink@cpan.org</a>&gt;.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENCE</b></h4><pre>
       This software is copyright (c) 2013-2014 by Toby Inkster.

       This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5
       programming language system itself.

</pre><h4><b>DISCLAIMER</b> <b>OF</b> <b>WARRANTIES</b></h4><pre>
       THIS PACKAGE IS PROVIDED "AS IS" AND WITHOUT ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, WITHOUT
       LIMITATION, THE IMPLIED WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.

perl v5.32.1                                       2021-09-12                                  <u>Return::<a href="../man3pm/Type.3pm.html">Type</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>