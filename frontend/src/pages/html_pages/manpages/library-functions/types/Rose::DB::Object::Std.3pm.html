<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rose::DB::Object::Std - Standardized object representation of a single row in a database table.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/librose-db-object-perl">librose-db-object-perl_0.820-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Rose::DB::Object::Std - Standardized object representation of a single row in a database table.

</pre><h4><b>SYNOPSIS</b></h4><pre>
         package Category;

         use base 'Rose::DB::Object::Std';

         __PACKAGE__-&gt;meta-&gt;setup
         (
           table =&gt; 'categories',

           columns =&gt;
           [
             id          =&gt; { type =&gt; 'int', primary_key =&gt; 1 },
             name        =&gt; { type =&gt; 'varchar', length =&gt; 255 },
             description =&gt; { type =&gt; 'text' },
           ],

           unique_key =&gt; 'name',
         );

         ...

         package Product;

         use base 'Rose::DB::Object::Std';

         __PACKAGE__-&gt;meta-&gt;setup
         (
           table =&gt; 'products',

           columns =&gt;
           [
             id          =&gt; { type =&gt; 'int', primary_key =&gt; 1 },
             name        =&gt; { type =&gt; 'varchar', length =&gt; 255 },
             description =&gt; { type =&gt; 'text' },
             category_id =&gt; { type =&gt; 'int' },

             status =&gt;
             {
               type      =&gt; 'varchar',
               check_in  =&gt; [ 'active', 'inactive' ],
               default   =&gt; 'inactive',
             },

             start_date  =&gt; { type =&gt; 'datetime' },
             end_date    =&gt; { type =&gt; 'datetime' },

             date_created     =&gt; { type =&gt; 'timestamp', default =&gt; 'now' },
             last_modified    =&gt; { type =&gt; 'timestamp', default =&gt; 'now' },
           ],

           unique_key =&gt; 'name',

           foreign_keys =&gt;
           [
             category =&gt;
             {
               class       =&gt; 'Category',
               key_columns =&gt; { category_id =&gt; 'id' },
             },
           ],
         );

         ...

         $product = Product-&gt;new(name        =&gt; 'GameCube',
                                 status      =&gt; 'active',
                                 start_date  =&gt; '11/5/2001',
                                 end_date    =&gt; '12/1/2007',
                                 category_id =&gt; 5);

         $product-&gt;save or die $product-&gt;error;

         $id = $product-&gt;id; # auto-generated on save

         ...

         $product = Product-&gt;new(id =&gt; $id);
         $product-&gt;load or die $product-&gt;error;

         print $product-&gt;category-&gt;name;

         $product-&gt;end_date-&gt;add(days =&gt; 45);

         $product-&gt;save or die $product-&gt;error;

         ...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Rose::DB::Object::Std is a subclass of Rose::DB::Object that imposes a few more constraints on the tables
       it fronts.  In addition to the constraints described in the Rose::DB::Object documentation, tables
       fronted by Rose::DB::Object::Std objects must also fulfill the following requirements:

       •   The table must have a single primary key column named "id"

       •   The value of the "id" column must be auto-generated if absent.

       Different  databases  provide  for auto-generated column values in different ways.  Some provide a native
       "auto-increment" or "serial" data type, others use sequences behind the scenes.

       Rose::DB::Object::Std (in cooperation with Rose::DB and Rose::DB::Object::Std::Metadata) attempts to hide
       these details from you.  All you have to do is omit the value for the primary key  entirely.   After  the
       object is "save()"ed, you can retrieve the auto-selected primary key by calling the "id()" method.

       You  do  have to correctly define the "id" column in the database, however.  Here are examples of primary
       key column definitions that provide auto-generated values, one for each of  the  databases  supported  by
       Rose::DB.

       •   PostgreSQL

               CREATE TABLE mytable
               (
                 id   SERIAL NOT NULL PRIMARY KEY,
                 ...
               );

       •   MySQL

               CREATE TABLE mytable
               (
                 id   INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
                 ...
               );

       •   Informix

               CREATE TABLE mytable
               (
                 id   SERIAL NOT NULL PRIMARY KEY,
                 ...
               );

       Other  data  definitions  are  possible,  of  course,  but  the  three  definitions above are used in the
       Rose::DB::Object::Std test suite and are  therefore  guaranteed  to  work.   If  you  have  success  with
       alternative approaches, patches and/or new tests are welcome.

       To  achieve  much  of  this  functionality,  Rose::DB::Object::Std  uses  Rose::DB::Object::Std::Metadata
       objects.  The "meta()" method will create these form you.  You should not need to do anything special  if
       you use the idiomatic approach to defining metadata as shown in the synopsis.

</pre><h4><b>METHODS</b></h4><pre>
       Only the methods that are overridden are documented here.  See the Rose::DB::Object documentation for the
       rest.

       <b>meta</b>
           Returns the Rose::DB::Object::Std::Metadata object associated with this class.  This object describes
           the  database  table whose rows are fronted by this class: the name of the table, its columns, unique
           keys, foreign keys, etc.  See the Rose::DB::Object::Std::Metadata documentation for more information.

           This can be used as both a class method and an object method.

</pre><h4><b>AUTHOR</b></h4><pre>
       John C. Siracusa (<a href="mailto:siracusa@gmail.com">siracusa@gmail.com</a>)

</pre><h4><b>LICENSE</b></h4><pre>
       Copyright (c) 2010 by John C. Siracusa.  All rights reserved.  This program is  free  software;  you  can
       redistribute it and/or modify it under the same terms as Perl itself.

perl v5.36.0                                       2022-10-14                         <u>Rose::DB::Object::<a href="../man3pm/Std.3pm.html">Std</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>