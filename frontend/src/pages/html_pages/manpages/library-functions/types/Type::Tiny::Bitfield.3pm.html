<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Type::Tiny::Bitfield - bitfield/bitflag type constraints</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtype-tiny-perl">libtype-tiny-perl_2.004000-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Type::Tiny::Bitfield - bitfield/bitflag type constraints

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Using Type::Tiny::Bitfield's export feature:

         package LightSource {
           use Moo;

           use Type::Tiny::Bitfield LedSet =&gt; {
             RED   =&gt; 1,
             GREEN =&gt; 2,
             BLUE  =&gt; 4,
           };

           has leds =&gt; ( is =&gt; 'ro', isa =&gt; LedSet, default =&gt; 0, coerce =&gt; 1 );

           sub new_red {
             my $class = shift;
             return $class-&gt;new( leds =&gt; LEDSET_RED );
           }

           sub new_green {
             my $class = shift;
             return $class-&gt;new( leds =&gt; LEDSET_GREEN );
           }

           sub new_yellow {
             my $class = shift;
             return $class-&gt;new( leds =&gt; LEDSET_RED | LEDSET_GREEN );
           }
         }

       Using Type::Tiny::Bitfield's object-oriented interface:

         package LightSource {
           use Moo;
           use Type::Tiny::Bitfield;

           my $LedSet = Type::Tiny::Bitfield-&gt;new(
             name   =&gt; 'LedSet',
             values =&gt; {
               RED   =&gt; 1,
               GREEN =&gt; 2,
               BLUE  =&gt; 4,
             },
             coercion =&gt; 1,
           );

           has leds =&gt; ( is =&gt; 'ro', isa =&gt; $LedSet, default =&gt; 0, coerce =&gt; 1 );

           sub new_red {
             my $class = shift;
             return $class-&gt;new( leds =&gt; $LedSet-&gt;RED );
           }

           sub new_green {
             my $class = shift;
             return $class-&gt;new( leds =&gt; $LedSet-&gt;GREEN );
           }

           sub new_yellow {
             my $class = shift;
             return $class-&gt;new( leds =&gt; $LedSet-&gt;coerce('red|green') );
           }
         }

</pre><h4><b>STATUS</b></h4><pre>
       This module is covered by the Type-Tiny stability policy.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Bitfield type constraints.

       This package inherits from Type::Tiny; see that for most documentation.  Major differences are listed
       below:

   <b>Attributes</b>
       "values"
           Hashref  of  bits  allowed  in  the  bitfield. Keys must be UPPER_SNAKE_CASE strings.  Values must be
           positive integers which are powers of two. The same number cannot be used multiple times.

       "constraint"
           Unlike Type::Tiny, you <u>cannot</u> pass a constraint coderef to the  constructor.   Instead  rely  on  the
           default.

       "inlined"
           Unlike  Type::Tiny,  you  <u>cannot</u>  pass  an  inlining coderef to the constructor.  Instead rely on the
           default.

       "parent"
           Parent is always <b>Types::Common::Numeric::PositiveOrZeroInt</b>, and cannot be passed to the constructor.

       "coercion"
           If "coercion =&gt; 1" is passed to the constructor, the type will have an automatic coercion  from  <b>Str</b>.
           Types built by the "import" method will always have "coercion =&gt; 1".

           In the SYNOPSIS example, the coercion from <b>Str</b> will accept strings like:

             "RED"
             "red"
             "Red Green"
             "Red+Blue"
             "blue | GREEN"
             "LEDSET_RED + LeDsEt_green"

   <b>Methods</b>
       This  class  uses  "AUTOLOAD" to allow the names of each bit in the bitfield to be used as methods. These
       method names will always be UPPER_SNAKE_CASE.

       For example, in the synopsis, "LedSet-&gt;GREEN" would return 2.

       Other methods it provides:

       from_string( $str )
           Provides the standard coercion from a string, even if this type constraint doesn't have a coercion.

       to_string( $int )
           Does the reverse coercion.

       constant_names()
           This is a convenience to allow for:

             use base 'Exporter::Tiny';
             push our @EXPORT_OK, LineStyle-&gt;constant_names;

   <b>Exports</b>
       Type::Tiny::Bitfield can be used as an exporter.

         use Type::Tiny::Bitfield LedSet =&gt; {
           RED    =&gt; 1,
           GREEN  =&gt; 2,
           BLUE   =&gt; 4,
         };

       This will export the following functions into your namespace:

       "LedSet"
       is_LedSet( $value )
       assert_LedSet( $value )
       to_LedSet( $string )
       LedSet_to_Str( $value )
       "LEDSET_RED"
       "LEDSET_GREEN"
       "LEDSET_BLUE"

       Multiple bitfield types can be exported at once:

         use Type::Tiny::Enum (
           LedSet     =&gt; { RED =&gt; 1, GREEN =&gt; 2, BLUE =&gt; 4 },
           LedPattern =&gt; { FLASHING =&gt; 1 },
         );

   <b>Overloading</b>
       It is possible to combine two Bitfield types using the "+" operator.

         use Type::Tiny::Enum (
           LedSet     =&gt; { RED =&gt; 1, GREEN =&gt; 2, BLUE =&gt; 4 },
           LedPattern =&gt; { FLASHING =&gt; 8 },
         );

         has leds =&gt; (
           is      =&gt; 'ro',
           isa     =&gt; LedSet + LedPattern,
           default =&gt; 0,
           coerce  =&gt; 1
         );

       This will allow values like "11" (LEDSET_RED|LEDSET_GREEN|LEDPATTERN_FLASHING).

       An exception will be thrown if any of the names in the two types being combined conflict.

</pre><h4><b>BUGS</b></h4><pre>
       Please report any bugs to &lt;https://github.com/tobyink/p5-type-tiny/issues&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Type::Tiny::Manual.

       Type::Tiny.

</pre><h4><b>AUTHOR</b></h4><pre>
       Toby Inkster &lt;<a href="mailto:tobyink@cpan.org">tobyink@cpan.org</a>&gt;.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENCE</b></h4><pre>
       This software is copyright (c) 2023 by Toby Inkster.

       This is free software; you can redistribute it and/or modify it under  the  same  terms  as  the  Perl  5
       programming language system itself.

</pre><h4><b>DISCLAIMER</b> <b>OF</b> <b>WARRANTIES</b></h4><pre>
       THIS  PACKAGE  IS  PROVIDED  "AS  IS"  AND  WITHOUT ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, WITHOUT
       LIMITATION, THE IMPLIED WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.

perl v5.40.1                                       2025-05-06                          <u>Type::Tiny::<a href="../man3pm/Bitfield.3pm.html">Bitfield</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>