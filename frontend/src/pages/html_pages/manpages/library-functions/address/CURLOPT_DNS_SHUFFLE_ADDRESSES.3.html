<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_DNS_SHUFFLE_ADDRESSES - shuffle IP addresses for hostname</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_DNS_SHUFFLE_ADDRESSES - shuffle IP addresses for hostname

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_DNS_SHUFFLE_ADDRESSES, long onoff);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Pass a long set to 1 to enable this option.

       When a name is resolved and more than one IP address is returned, this function shuffles the order of all
       returned  addresses  so that they are used in a random order. This is similar to the ordering behavior of
       the legacy gethostbyname function which is no longer used on most platforms.

       Addresses   are   not   reshuffled   if   name   resolution   is   completed   using   the   DNS   cache.
       <u><a href="../man3/CURLOPT_DNS_CACHE_TIMEOUT.3.html">CURLOPT_DNS_CACHE_TIMEOUT</a>(3)</u> can be used together with this option to reduce DNS cache timeout or disable
       caching entirely if frequent reshuffling is needed.

       Since  the addresses returned are randomly reordered, the order is not in accordance with RFC 3484 or any
       other deterministic order that may be generated by the system's name resolution implementation. This  may
       have performance impacts and may cause IPv4 to be used before IPv6 or vice versa.

</pre><h4><b>DEFAULT</b></h4><pre>
       0 (disabled)

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects all supported protocols

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           curl_easy_setopt(curl, CURLOPT_URL, "https://example.com");
           curl_easy_setopt(curl, CURLOPT_DNS_SHUFFLE_ADDRESSES, 1L);

           curl_easy_perform(curl);

           /* always cleanup */
           curl_easy_cleanup(curl);
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.60.0

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       CURLE_OK or an error such as CURLE_UNKNOWN_OPTION.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLOPT_DNS_CACHE_TIMEOUT.3.html">CURLOPT_DNS_CACHE_TIMEOUT</a></b>(3), <b><a href="../man3/CURLOPT_IPRESOLVE.3.html">CURLOPT_IPRESOLVE</a></b>(3)

libcurl                                            2025-06-16                   <u><a href="../man3/CURLOPT_DNS_SHUFFLE_ADDRESSES.3.html">CURLOPT_DNS_SHUFFLE_ADDRESSES</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>