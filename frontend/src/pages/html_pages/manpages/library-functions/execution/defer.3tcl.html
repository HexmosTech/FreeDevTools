<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>defer - Defered execution</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       defer - Defered execution

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.6</b> <b>9</b>

       package require <b>defer</b> <b>?1.1?</b>

       <b>::defer::defer</b> ?<u>command</u>? ?<u>arg1</u>? ?<u>arg2</u>? ?<u>argN...</u>?

       <b>::defer::with</b> <u>variableList</u> <u>script</u>

       <b>::defer::autowith</b> <u>script</u>

       <b>::defer::cancel</b> ?<u>id...</u>?

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>defer</b> commands allow a developer to schedule actions to happen as part of the current variable scope
       terminating.  This is most useful for dealing with cleanup activities.  Since the defered actions  always
       execute,  and always execute in the reverse order from which the defer statements themselves execute, the
       programmer can schedule the cleanup of a resource (for example, a channel) as soon as  that  resource  is
       acquired.   Then,  later  if the procedure or lambda ends, either due to an error, or an explicit return,
       the cleanup of that resource will always occur.

</pre><h4><b>COMMANDS</b></h4><pre>
       <b>::defer::defer</b> ?<u>command</u>? ?<u>arg1</u>? ?<u>arg2</u>? ?<u>argN...</u>?
              Defers execution  of  some  code  until  the  current  variable  scope  ends.   Each  argument  is
              concatencated  together  to form the script to execute at deferal time.  Multiple defer statements
              may be used, they are executed in the order  of  last-in,  first-out.   The  return  value  is  an
              identifier which can be used later with <b>defer::cancel</b>

       <b>::defer::with</b> <u>variableList</u> <u>script</u>
              Defers  execution  of  a  script  while  copying  the current value of some variables, whose names
              specified in <u>variableList</u>, into the script.  The script acts like a lambda  but  executes  at  the
              same level as the <b>defer::with</b> call.  The return value is the same as <b>::defer::defer</b>

       <b>::defer::autowith</b> <u>script</u>
              The same as <b>::defer::with</b> but uses all local variables in the variable list.

       <b>::defer::cancel</b> ?<u>id...</u>?
              Cancels  the  execution  of  a  defered  action.   The  <u>id</u>  argument is the identifier returned by
              <b>::defer::defer</b>, <b>::defer::with</b>, or <b>::defer::autowith</b>.  Any number of arguments may be supplied, and
              all of the IDs supplied will be cancelled.

</pre><h4><b>EXAMPLES</b></h4><pre>
                package require defer 1
                apply {{} {
                   set fd [open /dev/null]
                   defer::defer close $fd
                }}

</pre><h4><b>REFERENCES</b></h4><pre>
       [1]

</pre><h4><b>AUTHORS</b></h4><pre>
       Roy Keene

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This document, and the package it describes, will undoubtedly contain bugs and  other  problems.   Please
       report  such in the category <u>defer</u> of the <u>Tcllib</u> <u>Trackers</u> [<a href="http://core.tcl.tk/tcllib/reportlist">http://core.tcl.tk/tcllib/reportlist</a>].  Please
       also report any ideas for enhancements you may have for either package and/or documentation.

       When proposing code changes, please provide <u>unified</u> <u>diffs</u>, i.e the output of <b>diff</b> <b>-u</b>.

       Note further that <u>attachments</u> are strongly preferred over inlined patches. Attachments  can  be  made  by
       going  to the <b>Edit</b> form of the ticket immediately after its creation, and then using the left-most button
       in the secondary navigation bar.

</pre><h4><b>KEYWORDS</b></h4><pre>
       cleanup, golang

</pre><h4><b>CATEGORY</b></h4><pre>
       Utility

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2017, Roy Keene

tcllib                                                 1.1                                           <u><a href="../man3tcl/defer.3tcl.html">defer</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>