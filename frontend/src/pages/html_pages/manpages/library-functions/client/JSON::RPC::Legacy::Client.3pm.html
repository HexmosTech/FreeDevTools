<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON::RPC::Legacy::Client - Perl implementation of JSON-RPC client</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libjson-rpc-perl">libjson-rpc-perl_1.06-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       JSON::RPC::Legacy::Client - Perl implementation of JSON-RPC client

</pre><h4><b>SYNOPSIS</b></h4><pre>
          use JSON::RPC::Legacy::Client;

          my $client = new JSON::RPC::Legacy::Client;
          my $url    = '<a href="http://www.example.com/jsonrpc/API">http://www.example.com/jsonrpc/API</a>';

          my $callobj = {
             method  =&gt; 'sum',
             params  =&gt; [ 17, 25 ], # ex.) params =&gt; { a =&gt; 20, b =&gt; 10 } for JSON-RPC v1.1
          };

          my $res = $client-&gt;call($uri, $callobj);

          if($res) {
             if ($res-&gt;is_error) {
                 print "Error : ", $res-&gt;error_message;
             }
             else {
                 print $res-&gt;result;
             }
          }
          else {
             print $client-&gt;status_line;
          }

          # Easy access

          $client-&gt;prepare($uri, ['sum', 'echo']);
          print $client-&gt;sum(10, 23);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This is JSON-RPC Client.  See &lt;<a href="http://json-rpc.org/wd/JSON-RPC-1-1-WD-20060807.html">http://json-rpc.org/wd/JSON-RPC-1-1-WD-20060807.html</a>&gt;.

       Gets a perl object and convert to a JSON request data.

       Sends the request to a server.

       Gets a response returned by the server.

       Converts the JSON response data to the perl object.

</pre><h4><b>JSON::RPC::Legacy::Client</b></h4><pre>
   <b>METHODS</b>
       $client = JSON::RPC::Legacy::Client-&gt;new
           Creates new JSON::RPC::Legacy::Client object.

       $response = $client-&gt;call($uri, $procedure_object)
           Calls  to  $uri  with  $procedure_object.   The  request method is usually "POST".  If $uri has query
           string, method is "GET".

           About 'GET' method, see to &lt;<a href="http://json-rpc.org/wd/JSON-RPC-1-1-WD-20060807.html">http://json-rpc.org/wd/JSON-RPC-1-1-WD-20060807.html</a>#GetProcedureCall&gt;.

           Return value is "JSON::RPC::Legacy::ReturnObject".

       $client-&gt;prepare($uri, $arrayref_of_procedure)
           Allow to call methods in contents of $arrayref_of_procedure.  Then you can call the prepared  methods
           with an array reference or a list.

           The return value is a result part of JSON::RPC::Legacy::ReturnObject.

              $client-&gt;prepare($uri, ['sum', 'echo']);

              $res = $client-&gt;echo('foobar');  # $res is 'foobar'.

              $res = $client-&gt;sum(10, 20);     # sum up
              $res = $client-&gt;sum( [10, 20] ); # same as above

           If you call a method which is not prepared, it will "croak".

           Currently, <b>can't</b> <b>call</b> <b>any</b> <b>method</b> <b>names</b> <b>as</b> <b>same</b> <b>as</b> <b>built-in</b> <b>methods</b>.

       version
           Sets the JSON-RPC protocol version.  1.1 by default.

       id  Sets a request identifier.  In JSON-RPC 1.1, it is optional.

           If you set "version" 1.0 and don't set id, the module sets 'JSON::RPC::Legacy::Client' to it.

       ua  Setter/getter to LWP::UserAgent object.

       json
           Setter/getter to the JSON coder object.  Default is JSON, likes this:

              $self-&gt;json( JSON-&gt;new-&gt;allow_nonref-&gt;utf8 );

              $json = $self-&gt;json;

           This object serializes/deserializes JSON data.  By default, returned JSON data assumes UTF-8 encoded.

       status_line
           Returns status code; After "call" a remote procedure, the status code is set.

       create_json_coder
           (Class  method)  Returns  a  JSON de/encoder in "new".  You can override it to use your favorite JSON
           de/encoder.

</pre><h4><b>JSON::RPC::Legacy::ReturnObject</b></h4><pre>
       "call" method or the methods set by "prepared" returns this object.  (The returned JSON data  is  decoded
       by the JSON coder object which was passed by the client object.)

   <b>METHODS</b>
       is_success
           If the call is successful, returns a true, otherwise a false.

       is_error
           If the call is not successful, returns a true, otherwise a false.

       error_message
           If the response contains an error message, returns it.

       result
           Returns the result part of a data structure returned by the called server.

       content
           Returns the whole data structure returned by the called server.

       jsontext
           Returns the row JSON data.

       version
           Returns the version of this response data.

</pre><h4><b>JSON::RPC::Legacy::ServiceObject</b></h4><pre>
</pre><h4><b>RESERVED</b> <b>PROCEDURE</b></h4><pre>
       When  a  client  call  a  procedure  (method)  name  'system.foobar',  JSON::RPC::Legacy::Server  look up
       MyApp::system::foobar.

       &lt;<a href="http://json-rpc.org/wd/JSON-RPC-1-1-WD-20060807.html">http://json-rpc.org/wd/JSON-RPC-1-1-WD-20060807.html</a>#ProcedureCall&gt;

       &lt;<a href="http://json-rpc.org/wd/JSON-RPC-1-1-WD-20060807.html">http://json-rpc.org/wd/JSON-RPC-1-1-WD-20060807.html</a>#ServiceDescription&gt;

       There is JSON::RPC::Legacy::Server::system::describe for default response of 'system.describe'.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       &lt;<a href="http://json-rpc.org/wd/JSON-RPC-1-1-WD-20060807.html">http://json-rpc.org/wd/JSON-RPC-1-1-WD-20060807.html</a>&gt;

       &lt;<a href="http://json-rpc.org/wiki/specification">http://json-rpc.org/wiki/specification</a>&gt;

</pre><h4><b>AUTHOR</b></h4><pre>
       Makamaka Hannyaharamitu, &lt;makamaka[at]cpan.org&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright 2007-2008 by Makamaka Hannyaharamitu

       This library is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

perl v5.40.0                                       2024-09-25                     <u>JSON::RPC::Legacy::<a href="../man3pm/Client.3pm.html">Client</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>