<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnyEvent::Connection - Base class for tcp connectful clients</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libanyevent-connection-perl">libanyevent-connection-perl_0.06-6_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       AnyEvent::Connection - Base class for tcp connectful clients

</pre><h4><b>SYNOPSIS</b></h4><pre>
           package MyTCPClient;
           use base 'AnyEvent::Connection';

           package main;
           my $client = MyTCPClient-&gt;new(
               host =&gt; 'localhost',
               port =&gt; 12345,
           );
           $client-&gt;reg_cb(
               connected =&gt; sub {
                   my ($client,$connection,$host,$port) = @_;
                   # ...
                   $client-&gt;after(
                       $interval, sub {
                           # Called after interval, if connection still alive
                       }
                   );
               }
               connfail = sub {
                   my ($client,$reason) = @_;
                   # ...
               },
               disconnect =&gt; sub {
                   my ($client,$reason) = @_;
               },
               error =&gt; sub {
                   my ($client,$error) = @_;
                   # Called in error conditions for callbackless methods
               },
           );
           $client-&gt;connect;

</pre><h4><b>EVENTS</b></h4><pre>
       connected ($connobject, $host, $port)
           Called when client get connected.

       connfail
           Called, when client fails to connect

       disconnect
           Called whenever client disconnects

       error
           Called in error conditions for callbackless methods (for ex: when calling push_write on non-connected
           client)

</pre><h4><b>OPTIONS</b></h4><pre>
       host
           Host to connect to

       port
           Port to connect to

       timeout [ = 3 ]
           Connect/read/write timeout in seconds

       reconnect [ = 1 ]
           If true, automatically reconnect after disconnect/connfail after delay $reconnect seconds

       rawcon [ = AnyEvent::Connection::Raw ]
           Class that implements low-level connection

</pre><h4><b>OPERATION</b> <b>METHODS</b></h4><pre>
       new Cleates connection object (see OPTIONS)

       connect
           Begin connection

       disconnect ($reason)
           Close current connection. reason is optional

       reconnect
           Close current connection and establish a new one

       after($interval, $cb-&gt;())
           Helper method. AE::timer(after), associated with current connection

           Will be destroyed if connection is destroyed, so no timer invocation after connection destruction.

       periodic($interval, $cb-&gt;())
           Helper method. AE::timer(periodic), associated with current connection

           Will be destroyed if connection is destroyed, so no timer invocation after connection destruction.

       <b>periodic_stop()</b>
           If called within periodic callback, periodic will be stopped.

               my $count;
               $client-&gt;periodic(1,sub {
                   $client-&gt;periodic_stop if ++$count &gt; 10;
               });

               # callback will be called only 10 times;

       destroy
           Close connection, destroy all associated objects and timers, clean self

</pre><h4><b>CONNECT</b> <b>METHODS</b></h4><pre>
       When connected, there are some methods, that proxied to raw connection or to AE::Handle

       push_write
           See AE::Handle::push_write

       push_read
           See AE::Handle::push_read

       unshift_read
           See AE::Handle::unshift_read

       say Same as push_write + newline

       reply
           Same as push_write + newline

       For next methods there is a feature.  Callback will be called in any way, either by successful processing
       or by error or object destruction

       recv($bytes, %args, cb =&gt; $cb-&gt;())
           Similar to

               $fh-&gt;push_read(chunk =&gt; $bytes, $cb-&gt;());

       command($data, %args, cb =&gt; $cb-&gt;());
           Similar to

               $fh-&gt;push_write($data);
               $fh-&gt;push_read(line =&gt; $cb-&gt;());

</pre><h4><b>AUTHOR</b></h4><pre>
       Mons Anderson, "&lt;mons at cpan.org&gt;"

</pre><h4><b>BUGS</b></h4><pre>
       Please  report  any  bugs or feature requests to "bug-anyevent-connection at rt.cpan.org", or through the
       web  interface  at  &lt;<a href="http://rt.cpan.org/NoAuth/ReportBug.html">http://rt.cpan.org/NoAuth/ReportBug.html</a>?Queue=AnyEvent-Connection&gt;.   I   will   be
       notified, and then you'll automatically be notified of progress on your bug as I make changes.

</pre><h4><b>SUPPORT</b></h4><pre>
       You can find documentation for this module with the perldoc command.

           perldoc AnyEvent::Connection

       You can also look for information at:

       •   RT: CPAN's request tracker

           &lt;<a href="http://rt.cpan.org/NoAuth/Bugs.html">http://rt.cpan.org/NoAuth/Bugs.html</a>?Dist=AnyEvent-Connection&gt;

       •   AnnoCPAN: Annotated CPAN documentation

           &lt;<a href="http://annocpan.org/dist/AnyEvent-Connection">http://annocpan.org/dist/AnyEvent-Connection</a>&gt;

       •   CPAN Ratings

           &lt;<a href="http://cpanratings.perl.org/d/AnyEvent-Connection">http://cpanratings.perl.org/d/AnyEvent-Connection</a>&gt;

       •   Search CPAN

           &lt;<a href="http://search.cpan.org/dist/AnyEvent-Connection/">http://search.cpan.org/dist/AnyEvent-Connection/</a>&gt;

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
</pre><h4><b>COPYRIGHT</b> <b>&amp;</b> <b>LICENSE</b></h4><pre>
       Copyright 2009 Mons Anderson, all rights reserved.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.34.0                                       2022-06-05                          <u>AnyEvent::<a href="../man3pm/Connection.3pm.html">Connection</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>