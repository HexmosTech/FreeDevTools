<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>"Tangence::Client" - mixin class for building a "Tangence" client</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtangence-perl">libtangence-perl_0.33-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       "Tangence::Client" - mixin class for building a "Tangence" client

</pre><h4><b>SYNOPSIS</b></h4><pre>
       This class is a mixin, it cannot be directly constructed

          package Example::Client;
          use base qw( Base::Client Tangence::Client );

          sub connect
          {
             my $self = shift;
             $self-&gt;SUPER::connect( @_ );

             $self-&gt;tangence_connected;

             wait_for { defined $self-&gt;rootobj };
          }

          sub tangence_write
          {
             my $self = shift;
             $self-&gt;write( $_[0] );
          }

          sub on_read
          {
             my $self = shift;
             $self-&gt;tangence_readfrom( $_[0] );
          }

          package main;

          my $client = Example::Client-&gt;new;
          $client-&gt;connect( "server.location.here" );

          my $rootobj = $client-&gt;rootobj;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides mixin to implement a "Tangence" client connection. It should be mixed in to an
       object used to represent a single connection to a server. It provides a central location in the client to
       store object proxies, including to the root object and the registry, and coordinates passing messages
       between the server and the object proxies it contains.

       This is a subclass of Tangence::Stream which provides implementations of the required "handle_request_"
       methods. A class mixing in "Tangence::Client" must still provide the "tangence_write" method required for
       sending data to the server.

       For an example of a class that uses this mixin, see Net::Async::Tangence::Client.

</pre><h4><b>PROVIDED</b> <b>METHODS</b></h4><pre>
       The following methods are provided by this mixin.

   <b>rootobj</b>
          $rootobj = $client-&gt;rootobj;

       Returns a Tangence::ObjectProxy to the server's root object

   <b>registry</b>
          $registry = $client-&gt;registry;

       Returns a Tangence::ObjectProxy to the server's object registry if one has been received, or "undef" if
       not.

       This method is now deprecated in favour of "get_registry". Additionally note that currently the client
       will attempt to request the registry at connection time, but a later version of this module will stop
       doing that, so users who need access to it should call "get_registry".

   <b>get_registry</b>
          $registry = await $client-&gt;get_registry;

       Returns a Future that will yield a Tangence::ObjectProxy to the server's registry object.

       Note that not all servers may permit access to the registry.

   <b>tangence_connected</b>
          $client-&gt;tangence_connected( %args );

       Once the base connection to the server has been established, this method should be called to perform the
       initial work of requesting the root object and the registry.

       It takes the following named arguments:

       do_init =&gt; BOOL
               Ignored. Maintained for compatibility with previous version that allowed this to be disabled.

       on_root =&gt; CODE
               Optional  callback  to  be  invoked  once  the root object has been returned. It will be passed a
               Tangence::ObjectProxy to the root object.

                  $on_root-&gt;( $rootobj );

       on_registry =&gt; CODE
               Optional callback to be invoked once the  registry  has  been  returned.  It  will  be  passed  a
               Tangence::ObjectProxy to the registry.

                  $on_registry-&gt;( $registry );

               Note  that  in the case that the server does not permit access to the registry or an error occurs
               while requesting it, this is invoked with an empty list.

                  $on_registry-&gt;();

       version_minor_min =&gt; INT
               Optional minimum minor version to negotiate with the server. This can be used to require a higher
               minimum version than the client module itself supports, in case the application requires features
               in a newer version than that.

</pre><h4><b>SUBCLASSING</b> <b>METHODS</b></h4><pre>
       These methods are intended for implementation classes to override.

   <b>new_future</b>
          $f = $client-&gt;new_future;

       Returns a new Future instance for basing asynchronous operations on.

</pre><h4><b>AUTHOR</b></h4><pre>
       Paul Evans &lt;<a href="mailto:leonerd@leonerd.org.uk">leonerd@leonerd.org.uk</a>&gt;

perl v5.40.0                                       2024-09-13                              <u>Tangence::<a href="../man3pm/Client.3pm.html">Client</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>