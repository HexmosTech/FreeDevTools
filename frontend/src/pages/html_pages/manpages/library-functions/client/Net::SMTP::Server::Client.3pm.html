<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::SMTP::Server::Client - Client session handling for Net::SMTP::Server.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-smtp-server-perl">libnet-smtp-server-perl_1.1-7_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::SMTP::Server::Client - Client session handling for Net::SMTP::Server.

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Carp;
         use Net::SMTP::Server;
         use Net::SMTP::Server::Client;
         use Net::SMTP::Server::Relay;

         $server = new Net::SMTP::Server('localhost', 25) ||
           croak("Unable to handle client connection: $!\n");

         while($conn = $server-&gt;accept()) {
           # We can perform all sorts of checks here for spammers, ACLs,
           # and other useful stuff to check on a connection.

           # Handle the client's connection and spawn off a new parser.
           # This can/should be a fork() or a new thread,
           # but for simplicity...
           my $client = new Net::SMTP::Server::Client($conn) ||
               croak("Unable to handle client connection: $!\n");

           # Process the client.  This command will block until
           # the connecting client completes the SMTP transaction.
           $client-&gt;process || next;

           # In this simple server, we're just relaying everything
           # to a server.  If a real server were implemented, you
           # could save email to a file, or perform various other
           # actions on it here.
           my $relay = new Net::SMTP::Server::Relay($client-&gt;{FROM},
                                                    $client-&gt;{TO},
                                                    $client-&gt;{MSG});
         }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The Net::SMTP::Server::Client module implements all the session handling required for a
       Net::SMTP::Server::Client connection.  The above example demonstrates how to use
       Net::SMTP::Server::Client with Net::SMTP::Server to handle SMTP connections.

       $client = new Net::SMTP::Server::Client($conn)

       Net::SMTP::Server::Client accepts one argument that must be a handle to a connection that will be used
       for communication.

       Once you have a new client session, simply call:

       $client-&gt;process

       This processes an SMTP transaction.  THIS MAY APPEAR TO HANG -- ESPECIALLY IF THERE IS A LARGE AMOUNT OF
       DATA BEING SENT.  Once this method returns, the server will have processed an entire SMTP transaction,
       and is ready to continue.

       Once $client-&gt;process returns, various fields have been filled in.  Those are:

         $client-&gt;{TO}    -- This is an array containing the intended
                             recipients for this message.  There may be
                             multiple recipients for any given message.

         $client-&gt;{FROM}  -- This is the sender of the given message.
         $client-&gt;{MSG}   -- The actual message data. :)

</pre><h4><b>AUTHOR</b> <b>AND</b> <b>COPYRIGHT</b> <b>Net::SMTP::Server</b> <b>/</b> <b>SMTP::Server</b> <b>is</b> <b>Copyright(C)</b> <b>1999,</b> <b>MacGyver</b> <b>(aka</b> <b>Habeeb</b> <b>J.</b> <b>Dihu)</b></h4><pre>
       <b>&lt;<a href="mailto:macgyver@tos.net">macgyver@tos.net</a>&gt;.</b>  <b>ALL</b> <b>RIGHTS</b> <b>RESERVED.</b>
       You may distribute this package under the terms of either the GNU General Public License or the Artistic
       License, as specified in the Perl README file.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Net::SMTP::Server::Server, Net::SMTP::Server::Relay

perl v5.34.0                                       2022-06-30                                <u>Server::<a href="../man3pm/Client.3pm.html">Client</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>