<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tls_init, tls_config_new, tls_config_free, tls_config_error — initialize TLS client and server API</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtls-dev">libtls-dev_3.8.1-2.1build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       tls_init, tls_config_new, tls_config_free, tls_config_error — initialize TLS client and server API

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;tls.h&gt;</b>

       <u>int</u>
       <b>tls_init</b>(<u>void</u>);

       <u>struct</u> <u>tls_config</u> <u>*</u>
       <b>tls_config_new</b>(<u>void</u>);

       <u>void</u>
       <b>tls_config_free</b>(<u>struct</u> <u>tls_config</u> <u>*config</u>);

       <u>const</u> <u>char</u> <u>*</u>
       <b>tls_config_error</b>(<u>struct</u> <u>tls_config</u> <u>*config</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>tls</b>  family  of functions establishes a secure communications channel using the TLS socket protocol.
       Both clients and servers are supported.

       The <b>tls_init</b>() function initializes global data structures.  It is  no  longer  necessary  to  call  this
       function  directly, since it is invoked internally when needed.  It may be called more than once, and may
       be called concurrently.

       Before a connection  is  created,  a  configuration  must  be  created.   The  <b>tls_config_new</b>()  function
       allocates,  initializes,  and  returns  a  new  default  configuration object that can be used for future
       connections.   Several  functions   exist   to   change   the   options   of   the   configuration;   see
       <u><a href="../man3/tls_config_set_protocols.3.html">tls_config_set_protocols</a></u>(3),       <u><a href="../man3/tls_load_file.3.html">tls_load_file</a></u>(3),       <u><a href="../man3/tls_config_ocsp_require_stapling.3.html">tls_config_ocsp_require_stapling</a></u>(3),       and
       <u><a href="../man3/tls_config_verify.3.html">tls_config_verify</a></u>(3).

       The <b>tls_config_error</b>() function may be used to retrieve a string containing more  information  about  the
       most recent error relating to a configuration.

       A   TLS   connection   object   is   created  by  <u><a href="../man3/tls_client.3.html">tls_client</a></u>(3)  or  <u><a href="../man3/tls_server.3.html">tls_server</a></u>(3)  and  configured  with
       <u><a href="../man3/tls_configure.3.html">tls_configure</a></u>(3).

       A client connection is initiated after configuration by calling <u><a href="../man3/tls_connect.3.html">tls_connect</a></u>(3).  A server  can  accept  a
       new client connection by calling <u><a href="../man3/tls_accept_socket.3.html">tls_accept_socket</a></u>(3) on an already established socket connection.

       Two  functions  are  provided  for  input  and  output, <u><a href="../man3/tls_read.3.html">tls_read</a></u>(3) and <u><a href="../man3/tls_write.3.html">tls_write</a></u>(3).  Both automatically
       perform the <u><a href="../man3/tls_handshake.3.html">tls_handshake</a></u>(3) when needed.

       The properties of  established  TLS  connections  can  be  inspected  with  the  functions  described  in
       <u><a href="../man3/tls_conn_version.3.html">tls_conn_version</a></u>(3) and <u><a href="../man3/tls_ocsp_process_response.3.html">tls_ocsp_process_response</a></u>(3).

       After use, a TLS connection should be closed with <u><a href="../man3/tls_close.3.html">tls_close</a></u>(3) and then freed by calling <u><a href="../man3/tls_free.3.html">tls_free</a></u>(3).

       When  no  more  contexts  are  to  be  configured,  the  configuration  object should be freed by calling
       <b>tls_config_free</b>().  It is safe to call <b>tls_config_free</b>() as soon as the final call to <b>tls_configure</b>() has
       been made.  If <u>config</u> is NULL, no action occurs.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>tls_init</b>() returns 0 on success or -1 on error.

       <b>tls_config_new</b>() returns NULL on error or an out of memory condition.

       <b>tls_config_error</b>() returns NULL if no error occurred with <u>config</u> at all, or if memory  allocation  failed
       while trying to assemble the string describing the most recent error related to <u>config</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/tls_accept_socket.3.html">tls_accept_socket</a></u>(3),  <u><a href="../man3/tls_client.3.html">tls_client</a></u>(3),  <u><a href="../man3/tls_config_ocsp_require_stapling.3.html">tls_config_ocsp_require_stapling</a></u>(3),  <u><a href="../man3/tls_config_set_protocols.3.html">tls_config_set_protocols</a></u>(3),
       <u><a href="../man3/tls_config_verify.3.html">tls_config_verify</a></u>(3),          <u><a href="../man3/tls_conn_version.3.html">tls_conn_version</a></u>(3),           <u><a href="../man3/tls_connect.3.html">tls_connect</a></u>(3),           <u><a href="../man3/tls_load_file.3.html">tls_load_file</a></u>(3),
       <u><a href="../man3/tls_ocsp_process_response.3.html">tls_ocsp_process_response</a></u>(3), <u><a href="../man3/tls_read.3.html">tls_read</a></u>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       The  <b>tls</b> API first appeared in OpenBSD 5.6 as a response to the unnecessary challenges other APIs present
       in order to use them safely.

       All functions were renamed from <b>ressl_*</b>() to <b>tls_*</b>() for OpenBSD 5.7.

       <b>tls_config_error</b>() appeared in OpenBSD 6.0.

</pre><h4><b>AUTHORS</b></h4><pre>
       Joel Sing &lt;<u><a href="mailto:jsing@openbsd.org">jsing@openbsd.org</a></u>&gt;
       Ted Unangst &lt;<u><a href="mailto:tedu@openbsd.org">tedu@openbsd.org</a></u>&gt;

       Many others contributed to various parts of the  library;  see  the  individual  manual  pages  for  more
       information.

</pre><h4><b>CAVEATS</b></h4><pre>
       The function <b>tls_config_error</b>() returns an internal pointer.  It must not be freed by the application, or
       a  double free error will occur.  The pointer will become invalid when the next error occurs with <u>config</u>.
       Consequently, if the application may need the message at a later time, it has to copy the  string  before
       calling  the  next <b>libtls</b> function involving <u>config</u>, or a segmentation fault or read access to unintended
       data is the likely result.

Debian                                            July 9, 2018                                       <u><a href="../man3/TLS_INIT.3.html">TLS_INIT</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>