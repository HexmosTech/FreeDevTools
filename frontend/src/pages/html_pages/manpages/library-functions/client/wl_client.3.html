<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wl_client</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libwayland-doc">libwayland-doc_1.24.0-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       wl_client

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Public</b> <b>Member</b> <b>Functions</b>
       void <b>wl_client_flush</b> (struct <b>wl_client</b> *client)
       struct <b>wl_display</b> * <b>wl_client_get_display</b> (struct <b>wl_client</b> *client)
       void <b>wl_client_get_credentials</b> (const struct <b>wl_client</b> *client, pid_t *<b>pid</b>, uid_t *<b>uid</b>, gid_t *<b>gid</b>)
       int <b>wl_client_get_fd</b> (struct <b>wl_client</b> *client)
       struct <b>wl_resource</b> * <b>wl_client_get_object</b> (struct <b>wl_client</b> *client, uint32_t id)
       void <b>wl_client_post_implementation_error</b> (struct <b>wl_client</b> *client, char const *msg,...)
       void <b>wl_client_add_destroy_listener</b> (struct <b>wl_client</b> *client, struct <b>wl_listener</b> *listener)
       void <b>wl_client_add_destroy_late_listener</b> (struct <b>wl_client</b> *client, struct <b>wl_listener</b> *listener)
       struct <b>wl_list</b> * <b>wl_client_get_link</b> (struct <b>wl_client</b> *client)
       struct <b>wl_client</b> * <b>wl_client_from_link</b> (struct <b>wl_list</b> *<b>link</b>)
       void <b>wl_client_add_resource_created_listener</b> (struct <b>wl_client</b> *client, struct <b>wl_listener</b> *listener)
       void <b>wl_client_for_each_resource</b> (struct <b>wl_client</b> *client, <b>wl_client_for_each_resource_iterator_func_t</b>
           iterator, void *user_data)
       void <b>wl_client_set_max_buffer_size</b> (struct <b>wl_client</b> *client, size_t max_buffer_size)

   <b>Data</b> <b>Fields</b>
       struct wl_connection * <b>connection</b>
       struct <b>wl_event_source</b> * <b>source</b>
       struct <b>wl_display</b> * <b>display</b>
       struct <b>wl_resource</b> * <b>display_resource</b>
       struct <b>wl_list</b> <b>link</b>
       struct wl_map <b>objects</b>
       struct wl_priv_signal <b>destroy_signal</b>
       struct wl_priv_signal <b>destroy_late_signal</b>
       pid_t <b>pid</b>
       uid_t <b>uid</b>
       gid_t <b>gid</b>
       bool <b>error</b>
       struct wl_priv_signal <b>resource_created_signal</b>
       void * <b>data</b>
       <b>wl_user_data_destroy_func_t</b> <b>data_dtor</b>

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>void</b> <b>wl_client_add_destroy_late_listener</b> <b>(struct</b> <b>wl_client</b> <b>*</b> <b>client,</b> <b>struct</b> <b>wl_listener</b> <b>*</b> <b>listener)</b>
       Add a listener to be called at the end of <b>wl_client</b> destruction

       The listener provided will be called when <b>wl_client</b> destroy is nearly complete, after all of that
       client's resources have been destroyed.

       There is no requirement to remove the link of the <b>wl_listener</b> when the signal is emitted.

       <b>Since</b>
           1.22.0

   <b>void</b> <b>wl_client_add_destroy_listener</b> <b>(struct</b> <b>wl_client</b> <b>*</b> <b>client,</b> <b>struct</b> <b>wl_listener</b> <b>*</b> <b>listener)</b>
       Add a listener to be called at the beginning of <b>wl_client</b> destruction

       The listener provided will be called when <b>wl_client</b> destroy has begun, before any of that client's
       resources have been destroyed.

       There is no requirement to remove the link of the <b>wl_listener</b> when the signal is emitted.

   <b>void</b> <b>wl_client_add_resource_created_listener</b> <b>(struct</b> <b>wl_client</b> <b>*</b> <b>client,</b> <b>struct</b> <b>wl_listener</b> <b>*</b> <b>listener)</b>
       Add a listener for the client's resource creation signal

       <b>Parameters</b>
           <u>client</u> The client object
           <u>listener</u> The listener to be added

       When a new resource is created for this client the listener will be notified, carrying the new resource
       as the data argument.

   <b>void</b> <b>wl_client_flush</b> <b>(struct</b> <b>wl_client</b> <b>*</b> <b>client)</b>
       Flush pending events to the client

       <b>Parameters</b>
           <u>client</u> The client object

       Events sent to clients are queued in a buffer and written to the socket later - typically when the
       compositor has handled all requests and goes back to block in the event loop. This function flushes all
       queued up events for a client immediately.

   <b>void</b> <b>wl_client_for_each_resource</b> <b>(struct</b> <b>wl_client</b> <b>*</b> <b>client,</b> <b>wl_client_for_each_resource_iterator_func_t</b>
       <b>iterator,</b> <b>void</b> <b>*</b> <b>user_data)</b>
       Iterate over all the resources of a client

       <b>Parameters</b>
           <u>client</u> The client object
           <u>iterator</u> The iterator function
           <u>user_data</u> The user data pointer

       The function pointed by <u>iterator</u> will be called for each resource owned by the client. The <u>user_data</u> will
       be passed as the second argument of the iterator function. If the <u>iterator</u> function returns
       <u>WL_ITERATOR_CONTINUE</u> the iteration will continue, if it returns <u>WL_ITERATOR_STOP</u> it will stop.

       Creating and destroying resources while iterating is safe, but new resources may or may not be picked up
       by the iterator.

       <b>See</b> <b>also</b>
           <b>wl_iterator_result</b>

   <b>struct</b> <b>wl_client</b> <b>*</b> <b>wl_client_from_link</b> <b>(struct</b> <b>wl_list</b> <b>*</b> <b>link)</b>
       Get a <b>wl_client</b> by its link

       <b>Parameters</b>
           <u>link</u> The link of a <b>wl_client</b>

       <b>See</b> <b>also</b>
           <b>wl_client_for_each()</b>

           <b>wl_display_get_client_list()</b>

           <b>wl_client_get_link()</b>

   <b>void</b> <b>wl_client_get_credentials</b> <b>(const</b> <b>struct</b> <b>wl_client</b> <b>*</b> <b>client,</b> <b>pid_t</b> <b>*</b> <b>pid,</b> <b>uid_t</b> <b>*</b> <b>uid,</b> <b>gid_t</b> <b>*</b> <b>gid)</b>
       Return Unix credentials for the client

       <b>Parameters</b>
           <u>client</u> The display object
           <u>pid</u> Returns the process ID
           <u>uid</u> Returns the user ID
           <u>gid</u> Returns the group ID

       This function returns the process ID, the user ID and the group ID for the given client. The credentials
       come from getsockopt() with SO_PEERCRED, on the client socket fd. All the pointers can be NULL, if the
       caller is not interested in a particular ID.

       Note, process IDs are subject to race conditions and are not a reliable way to identify a client.

       Be aware that for clients that a compositor forks and execs and then connects using socketpair(), this
       function will return the credentials for the compositor. The credentials for the socketpair are set at
       creation time in the compositor.

   <b>struct</b> <b>wl_display</b> <b>*</b> <b>wl_client_get_display</b> <b>(struct</b> <b>wl_client</b> <b>*</b> <b>client)</b>
       Get the display object for the given client

       <b>Parameters</b>
           <u>client</u> The client object

       <b>Returns</b>
           The display object the client is associated with.

   <b>int</b> <b>wl_client_get_fd</b> <b>(struct</b> <b>wl_client</b> <b>*</b> <b>client)</b>
       Get the file descriptor for the client

       <b>Parameters</b>
           <u>client</u> The display object

       <b>Returns</b>
           The file descriptor to use for the connection

       This function returns the file descriptor for the given client.

       Be sure to use the file descriptor from the client for inspection only. If the caller does anything to
       the file descriptor that changes its state, it will likely cause problems.

       See also <b>wl_client_get_credentials()</b>. It is recommended that you evaluate whether
       <b>wl_client_get_credentials()</b> can be applied to your use case instead of this function.

       If you would like to distinguish just between the client and the compositor itself from the client's
       request, it can be done by getting the client credentials and by checking the PID of the client and the
       compositor's PID. Regarding the case in which the socketpair() is being used, you need to be careful.
       Please note the documentation for <b>wl_client_get_credentials()</b>.

       This function can be used for a compositor to validate a request from a client if there are additional
       information provided from the client's file descriptor. For instance, suppose you can get the security
       contexts from the client's file descriptor. The compositor can validate the client's request with the
       contexts and make a decision whether it permits or deny it.

   <b>struct</b> <b>wl_list</b> <b>*</b> <b>wl_client_get_link</b> <b>(struct</b> <b>wl_client</b> <b>*</b> <b>client)</b>
       Get the link by which a client is inserted in the client list

       <b>Parameters</b>
           <u>client</u> The client object

       <b>See</b> <b>also</b>
           <b>wl_client_for_each()</b>

           <b>wl_display_get_client_list()</b>

           <b>wl_client_from_link()</b>

   <b>struct</b> <b>wl_resource</b> <b>*</b> <b>wl_client_get_object</b> <b>(struct</b> <b>wl_client</b> <b>*</b> <b>client,</b> <b>uint32_t</b> <b>id)</b>
       Look up an object in the client name space

       <b>Parameters</b>
           <u>client</u> The client object
           <u>id</u> The object id

       <b>Returns</b>
           The object or NULL if there is not object for the given ID

       This looks up an object in the client object name space by its object ID.

   <b>void</b> <b>wl_client_post_implementation_error</b> <b>(struct</b> <b>wl_client</b> <b>*</b> <b>client,</b> <b>char</b> <b>const</b> <b>*</b> <b>msg,</b>  <b>...)</b>
       Report an internal server error

       <b>Parameters</b>
           <u>client</u> The client object
           <u>msg</u> A printf-style format string
           <u>...</u> Format string arguments

       Report an unspecified internal implementation error and disconnect the client.

   <b>void</b> <b>wl_client_set_max_buffer_size</b> <b>(struct</b> <b>wl_client</b> <b>*</b> <b>client,</b> <b>size_t</b> <b>max_buffer_size)</b>
       Adjust the maximum size of the client connection buffers

       <b>Parameters</b>
           <u>client</u> The client object
           <u>max_buffer_size</u> The maximum size of the connection buffers

       The actual size of the connection buffers is a power of two, the requested <u>max_buffer_size</u> is therefore
       rounded up to the nearest power of two value.

       Lowering the maximum size may not take effect immediately if the current content of the buffer does not
       fit within the new size limit.

       The minimum buffer size is 4096. The default buffers size can be set using
       <b>wl_display_set_default_max_buffer_size()</b>.

       <b>See</b> <b>also</b>
           <b>wl_display_set_default_max_buffer_size()</b>

       <b>Since</b>
           1.22.90

</pre><h4><b>Field</b> <b>Documentation</b></h4><pre>
   <b>struct</b> <b>wl_connection*</b> <b>wl_client::connection</b>
   <b>void*</b> <b>wl_client::data</b>
   <b>wl_user_data_destroy_func_t</b> <b>wl_client::data_dtor</b>
   <b>struct</b> <b>wl_priv_signal</b> <b>wl_client::destroy_late_signal</b>
   <b>struct</b> <b>wl_priv_signal</b> <b>wl_client::destroy_signal</b>
   <b>struct</b> <b>wl_display*</b> <b>wl_client::display</b>
   <b>struct</b> <b>wl_resource*</b> <b>wl_client::display_resource</b>
   <b>bool</b> <b>wl_client::error</b>
   <b>gid_t</b> <b>wl_client::gid</b>
   <b>struct</b> <b>wl_list</b> <b>wl_client::link</b>
   <b>struct</b> <b>wl_map</b> <b>wl_client::objects</b>
   <b>pid_t</b> <b>wl_client::pid</b>
   <b>struct</b> <b>wl_priv_signal</b> <b>wl_client::resource_created_signal</b>
   <b>struct</b> <b>wl_event_source*</b> <b>wl_client::source</b>
   <b>uid_t</b> <b>wl_client::uid</b>
</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for Wayland from the source code.

Version 1.24.0                              Mon Jul 28 2025 16:07:33                                <u><a href="../man3/wl_client.3.html">wl_client</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>