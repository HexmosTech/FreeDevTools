<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File::KDBX::Safe - Keep strings encrypted while in memory</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libfile-kdbx-perl">libfile-kdbx-perl_0.906-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       File::KDBX::Safe - Keep strings encrypted while in memory

</pre><h4><b>VERSION</b></h4><pre>
       version 0.906

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use File::KDBX::Safe;

           $safe = File::KDBX::Safe-&gt;new;

           my $msg = 'Secret text';
           $safe-&gt;add(\$msg);
           # $msg is now undef, the original message no longer in RAM

           my $obj = { value =&gt; 'Also secret' };
           $safe-&gt;add($obj);
           # $obj is now { value =&gt; undef }

           say $safe-&gt;peek($msg);  # Secret text

           $safe-&gt;unlock;
           say $msg;               # Secret text
           say $obj-&gt;{value};      # Also secret

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides memory protection functionality. It keeps strings encrypted in memory and decrypts
       them as-needed. Encryption and decryption is done using a File::KDBX::Cipher::Stream.

       A safe can protect one or more (possibly many) strings. When a string is added to a safe, it gets added
       to an internal list so it will be decrypted when the entire safe is unlocked.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
   <b>cipher</b>
           $cipher = $safe-&gt;cipher;

       Get the File::KDBX::Cipher::Stream protecting a safe.

</pre><h4><b>METHODS</b></h4><pre>
   <b>new</b>
           $safe = File::KDBX::Safe-&gt;new(%attributes);
           $safe = File::KDBX::Safe-&gt;new(\@strings, %attributes);

       Create a new safe for storing secret strings encrypted in memory.

       If a cipher is passed, its stream will be reset.

   <b>clear</b>
           $safe = $safe-&gt;clear;

       Clear a safe, removing all store contents permanently. Returns itself to allow method chaining.

   <b>lock</b>
   <b>add</b>
           $safe = $safe-&gt;lock(@strings);
           $safe = $safe-&gt;lock(\@strings);

       Add one or more strings to the memory protection stream. Returns itself to allow method chaining.

   <b>lock_protected</b>
   <b>add_protected</b>
           $safe = $safe-&gt;lock_protected(@strings);
           $safe = $safe-&gt;lock_protected(\@strings);

       Add strings that are already encrypted. Returns itself to allow method chaining.

       <b>WARNING:</b> The cipher must be the same as was used to originally encrypt the strings. You must add already-
       encrypted strings in the order in which they were original encrypted or they will not decrypt correctly.
       You almost certainly do not want to add both unprotected and protected strings to a safe.

   <b>unlock</b>
           $safe = $safe-&gt;unlock;

       Decrypt all the strings. Each stored string is set to its original value, potentially overwriting any
       value that might have been set after locking the string (so you probably should avoid modification to
       strings while locked). The safe is implicitly cleared. Returns itself to allow method chaining.

       This happens automatically when the safe is garbage-collected.

   <b>peek</b>
           $string_value = $safe-&gt;peek($string);
           ...
           erase $string_value;

       Peek into the safe at a particular string without decrypting the whole safe. A copy of the string is
       returned, and in order to ensure integrity of the memory protection you should erase the copy when you're
       done.

       Returns "undef" if the given $string is not in memory protection.

</pre><h4><b>BUGS</b></h4><pre>
       Please report any bugs or feature requests on the bugtracker website
       &lt;https://github.com/chazmcgarvey/File-KDBX/issues&gt;

       When submitting a bug or request, please include a test-file or a patch to an existing test-file that
       illustrates the bug or desired feature.

</pre><h4><b>AUTHOR</b></h4><pre>
       Charles McGarvey &lt;<a href="mailto:ccm@cpan.org">ccm@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2022 by Charles McGarvey.

       This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.40.1                                       2025-05-04                              <u>File::KDBX::<a href="../man3pm/Safe.3pm.html">Safe</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>