<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmStore, pmStoreHighRes - modify values of performance metrics</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpcp3-dev">libpcp3-dev_6.3.8-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmStore</b>, <b>pmStoreHighRes</b> - modify values of performance metrics

</pre><h4><b>C</b> <b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;pcp/pmapi.h&gt;</b>

       <b>int</b> <b>pmStore(const</b> <b>pmResult</b> <b>*</b><u>result</u><b>);</b>
       <b>int</b> <b>pmStoreHighRes(const</b> <b>pmHighResResult</b> <b>*</b><u>result</u><b>);</b>

       <b>cc</b> <b>...</b> <b>-lpcp</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       In  some  special  cases  it  may be helpful to modify the current values of performance metrics, e.g. to
       reset a counter to zero, or to modify a ``metric'' which is a control variable for some agent  collecting
       performance metrics.

       The  routines  <b>pmStore</b>  and  <b>pmStoreHighRes</b>  are lightweight inverses of <b><a href="../man3/pmFetch.3.html">pmFetch</a></b>(3) and <b><a href="../man3/pmFetchHighRes.3.html">pmFetchHighRes</a></b>(3)
       respectively.

       The caller must build the <u>result</u> data structure (of course, this could have been returned from an earlier
       <b><a href="../man3/pmFetch.3.html">pmFetch</a></b>(3) or <b><a href="../man3/pmFetchHighRes.3.html">pmFetchHighRes</a></b>(3) call).

       It is an error to pass a <u>result</u> to <b>pmStore</b> or <b>pmStoreHighRes</b> in which the <u>numval</u> field within any of  the
       <b>pmValueSet</b> structures has a value less than one.

       The current Performance Metrics Application Programming Interface (PMAPI) context must be one with a host
       as  the  source of metrics, and the current value of the nominated metrics will be changed, i.e.  <b>pmStore</b>
       and <b>pmStoreHighRes</b> cannot be used to make retrospective changes to information in either the archives, or
       in the recent past for real-time sources of metrics.

       The return code from <b>pmStore</b> and <b>pmStoreHighRes</b> is zero for success.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       <b>PM_ERR_GENERIC</b>
              At least one of the modifications was rejected.  No other status is available from below the PMAPI
              (this is the lightweight part of the functionality!).  In cases where the outcome of storing  into
              individual  metrics  is  important,  the  caller  should  make  one  call  to  either  <b>pmStore</b>  or
              <b>pmStoreHighRes</b> for each metric.  On the other hand, a bulk modification  can  be  performed  in  a
              single call for situations in which the outcome is not critical.

       <b>PM_ERR_NOTHOST</b>
              The current PMAPI context is an archive rather than a host, or it is a host that is not set to the
              current   time,   i.e.   has   been   ``rewound''   to  the  recent  past  using  <b><a href="../man3/pmSetMode.3.html">pmSetMode</a></b>(3)  or
              <b><a href="../man3/pmSetModeHighRes.3.html">pmSetModeHighRes</a></b>(3).

       <b>PM_ERR_TOOSMALL</b>
              The number of metrics specified in <u>result</u> is less than one.

       <b>PM_ERR_VALUE</b>
              One or more of the <u>pmValueSet</u>s in <u>result</u> has a <u>numval</u> field with a value less than one.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/PMAPI.3.html">PMAPI</a></b>(3), <b><a href="../man3/pmFetch.3.html">pmFetch</a></b>(3), <b><a href="../man3/pmFetchHighRes.3.html">pmFetchHighRes</a></b>(3), <b><a href="../man3/pmSetModeHighRes.3.html">pmSetModeHighRes</a></b>(3) and <b><a href="../man3/pmSetMode.3.html">pmSetMode</a></b>(3).

Performance Co-Pilot                                   PCP                                            <u><a href="../man3/PMSTORE.3.html">PMSTORE</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>