<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmiAddMetric - add a new metric definition to a LOGIMPORT context</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpcp3-dev">libpcp3-dev_6.3.8-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmiAddMetric</b> - add a new metric definition to a LOGIMPORT context

</pre><h4><b>C</b> <b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;pcp/pmapi.h&gt;</b>
       <b>#include</b> <b>&lt;pcp/import.h&gt;</b>

       <b>int</b> <b>pmiAddMetric(const</b> <b>char</b> <b>*</b><u>name</u><b>,</b> <b>pmID</b> <u>pmid</u><b>,</b> <b>int</b> <u>type</u><b>,</b> <b>pmInDom</b> <u>indom</u><b>,</b> <b>int</b> <u>sem</u><b>,</b> <b>pmUnits</b> <u>units</u><b>);</b>

       <b>cc</b> <b>...</b> <b>-lpcp_import</b> <b>-lpcp</b>

</pre><h4><b>Perl</b> <b>SYNOPSIS</b></h4><pre>
       <b>use</b> <b>PCP::LogImport;</b>

       <b>pmiAddMetric($</b><u>name</u><b>,</b> <b>$</b><u>pmid</u><b>,</b> <b>$</b><u>type</u><b>,</b> <b>$</b><u>indom</u><b>,</b> <b>$</b><u>sem</u><b>,</b> <b>$</b><u>units</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       As  part  of the Performance Co-Pilot Log Import API (see <b><a href="../man3/LOGIMPORT.3.html">LOGIMPORT</a></b>(3)), <b>pmiAddMetric</b> is used to define a
       new metric.  The metric's <u>name</u> must follow the naming conventions described in <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1) and should  be
       unique for each LOGIMPORT context.

       The  other arguments are in effect the fields of a <b>pmDesc</b> structure.  Refer to <b><a href="../man3/pmLookupDesc.3.html">pmLookupDesc</a></b>(3) for a com‐
       plete description of the values and semantics of the components of this structure, and  hence  the  valid
       argument values for <b>pmiAddMetric</b>.

       The  internal  identifier for the metric may be given using the <u>pmid</u> argument and must be unique for each
       LOGIMPORT context.  The value for <u>pmid</u> which would typically be constructed using the  <b>pmID_build</b>  macro,
       e.g.  pmID_build(PMI_DOMAIN,  0,  3) for the fourth metric in first ``cluster'' of metrics in the Perfor‐
       mance Metrics Domain PMI_DOMAIN (which is the default for all meta data  created  by  the  LOGIMPORT  li‐
       brary).   Alternatively, <u>pmid</u> may be <b>PM_IN_NULL</b> and <b>pmiAddMetric</b> will assign a unique <u>pmid</u> (although this
       means the <u>pmid</u> remains opaque and the application must use  <b><a href="../man3/pmiPutValue.3.html">pmiPutValue</a></b>(3)  or  <b><a href="../man3/pmiPutValueHandle.3.html">pmiPutValueHandle</a></b>(3)  and
       cannot use <b><a href="../man3/pmiPutResult.3.html">pmiPutResult</a></b>(3) to add data values to the PCP archive).

       <u>type</u>  defines  the data type of the metric and must be one of the <b>PM_TYPE_...</b>  values defined in <b>&lt;pcp/im‐</b>
       <b>port.h&gt;</b>.

       The instance domain for the metric is defined by <u>indom</u> and may be <b>PM_INDOM_NULL</b> for a metric with a  sin‐
       gular  value,  else the value for <u>indom</u> would normally be constructed using the <b>pmInDom_build</b> macro, e.g.
       pmInDom_build(LOGIMPORT,0) for the first instance domain in  the  Performance  Metrics  Domain  LOGIMPORT
       (which  is  the  default for all meta data created by the LOGIMPORT library).  Multiple metrics can share
       the same instance domain if they have values for a similar (or more usually, identical) set of instances.

       The semantics of the metric (counter, instantaneous value, etc.) is specified by the <u>sem</u>  argument  which
       would normally be the result of a call to the convenience constructor method <b><a href="../man3/pmiUnits.3.html">pmiUnits</a></b>(3).

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       <b>pmiAddMetric</b>  returns  zero  on success else a negative value that can be turned into an error message by
       calling <b><a href="../man3/pmiErrStr.3.html">pmiErrStr</a></b>(3).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), <b><a href="../man3/LOGIMPORT.3.html">LOGIMPORT</a></b>(3), <b><a href="../man3/pmiErrStr.3.html">pmiErrStr</a></b>(3), <b><a href="../man3/pmiPutResult.3.html">pmiPutResult</a></b>(3), <b><a href="../man3/pmiPutValue.3.html">pmiPutValue</a></b>(3),  <b><a href="../man3/pmiPutValueHandle.3.html">pmiPutValueHandle</a></b>(3),  <b>pmiPut‐</b>
       <b><a href="../man3/Text.3.html">Text</a></b>(3), <b><a href="../man3/pmiPutLabel.3.html">pmiPutLabel</a></b>(3), <b><a href="../man3/pmiUnits.3.html">pmiUnits</a></b>(3) and <b><a href="../man3/pmLookupDesc.3.html">pmLookupDesc</a></b>(3).

Performance Co-Pilot                                                                             <u><a href="../man3/PMIADDMETRIC.3.html">PMIADDMETRIC</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>