<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       mprotect — set protection of memory mapping

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;sys/mman.h&gt;

       int mprotect(void *<u>addr</u>, size_t <u>len</u>, int <u>prot</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>mprotect</u>() function shall change the access protections to be that specified by <u>prot</u> for those whole
       pages containing any part of the address space of the process starting at address <u>addr</u> and continuing for
       <u>len</u> bytes. The parameter <u>prot</u> determines whether read, write, execute, or some  combination  of  accesses
       are  permitted  to  the  data  being mapped. The <u>prot</u> argument should be either PROT_NONE or the bitwise-
       inclusive OR of one or more of PROT_READ, PROT_WRITE, and PROT_EXEC.

       If an implementation cannot support the combination of access  types  specified  by  <u>prot</u>,  the  call  to
       <u>mprotect</u>() shall fail.

       An  implementation  may  permit  accesses  other than those specified by <u>prot</u>; however, no implementation
       shall permit a write to succeed where PROT_WRITE has not been  set  or  shall  permit  any  access  where
       PROT_NONE  alone  has  been  set.  Implementations  shall  support at least the following values of <u>prot</u>:
       PROT_NONE, PROT_READ, PROT_WRITE, and the bitwise-inclusive OR of PROT_READ and PROT_WRITE. If PROT_WRITE
       is specified, the application shall ensure that it has opened the mapped objects in the specified address
       range with write permission, unless MAP_PRIVATE was specified in  the  original  mapping,  regardless  of
       whether the file descriptors used to map the objects have since been closed.

       The implementation may require that <u>addr</u> be a multiple of the page size as returned by <u>sysconf</u>().

       The behavior of this function is unspecified if the mapping was not established by a call to <u>mmap</u>().

       When  <u>mprotect</u>() fails for reasons other than <b>[EINVAL]</b>, the protections on some of the pages in the range
       [<u>addr</u>,<u>addr</u>+<u>len</u>) may have been changed.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon successful completion, <u>mprotect</u>() shall return 0; otherwise, it shall return -1  and  set  <u>errno</u>  to
       indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <u>mprotect</u>() function shall fail if:

       <b>EACCES</b> The  <u>prot</u>  argument  specifies a protection that violates the access permission the process has to
              the underlying memory object.

       <b>EAGAIN</b> The <u>prot</u> argument specifies PROT_WRITE over a  MAP_PRIVATE  mapping  and  there  are  insufficient
              memory resources to reserve for locking the private page.

       <b>ENOMEM</b> Addresses  in the range [<u>addr</u>,<u>addr</u>+<u>len</u>) are invalid for the address space of a process, or specify
              one or more pages which are not mapped.

       <b>ENOMEM</b> The <u>prot</u> argument specifies PROT_WRITE on a MAP_PRIVATE mapping, and it would require  more  space
              than the system is able to supply for locking the private pages, if required.

       <b>ENOTSUP</b>
              The implementation does not support the combination of accesses requested in the <u>prot</u> argument.

       The <u>mprotect</u>() function may fail if:

       <b>EINVAL</b> The <u>addr</u> argument is not a multiple of the page size as returned by <u>sysconf</u>().

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       None.

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       Most implementations require that <u>addr</u> is a multiple of the page size as returned by <u>sysconf</u>().

</pre><h4><b>RATIONALE</b></h4><pre>
       None.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>mmap</u>(), <u>sysconf</u>()

       The Base Definitions volume of POSIX.1‐2017, <b>&lt;sys_mman.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for  Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group Base
       Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical  and  Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE  and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any typographical or formatting errors that appear in this page are most likely to have  been  introduced
       during   the   conversion  of  the  source  files  to  man  page  format.  To  report  such  errors,  see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                      <u><a href="../man3POSIX/MPROTECT.3POSIX.html">MPROTECT</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>