<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sympa::Spool::Outgoing - Spool for outgoing messages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sympa">sympa_6.2.76~dfsg-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Sympa::Spool::Outgoing - Spool for outgoing messages

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Sympa::Spool::Outgoing;
         my $bulk = Sympa::Spool::Outgoing-&gt;new;

         $bulk-&gt;store($message, ['<a href="mailto:user@dom.ain">user@dom.ain</a>', '<a href="mailto:user@other.dom.ain">user@other.dom.ain</a>']);

         my ($message, $handle) = $bulk-&gt;next;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Sympa::Spool::Outgoing implements the spool for outgoing messages.

   <b>Methods</b>
       new ( )
           <u>Constructor</u>.  Creates new instance of Sympa::Spool::Outgoing.

       next ( [ no_filter =&gt; 1 ] )
           <u>Instance</u>  <u>method</u>.   Gets  next  packet  to  process, order is controlled by message priority, then by
           packet priority, then by delivery date, then by reception date.  Packets with  future  delivery  date
           are ignored (if "no_filter" option is <u>not</u> set).  Packet will be locked to prevent multiple processing
           of a single packet.

           Parameters:

           None.

           Returns:

           Two-elements list of Sympa::Message instance and filehandle locking a packet.

       quarantine ( $handle )
           <u>Instance</u> <u>method</u>.  Quarantines a packet.  Packet will be moved into bad/ subdirectory of the spool.

           Parameter:

           $handle
               Filehandle, Sympa::LockedFile instance, locking packet.

           Returns:

           True value if packet could be quarantined.  Otherwise false value.

       remove ( $handle )
           <u>Instance</u>  <u>method</u>.   Removes  a  packet.  If the packet is the last one of bulk sending, corresponding
           message will also be removed from spool.

           Parameter:

           $handle
               Filehandle, Sympa::LockedFile instance, locking packet.

           Returns:

           True value if packet could be removed.  Otherwise false value.

       store ( $message, $rcpt, [ original =&gt; $original ], [ tag =&gt; $tag ] )
           <u>Instance</u> <u>method</u>.  Stores the message into message spool.  Recipients  will  be  split  into  multiple
           packets and stored into packet spool.

           Parameters:

           $message
               Message to be stored.  Following attributes and metadata are referred:

               {envelope_sender}
                   SMTP "MAIL FROM:" field.

               {priority}
                   Message priority.

               {packet_priority}
                   Packet priority, assigned as "sympa_packet_priority" parameter by each robot.

               {date}
                   Unix time when the message would be delivered.

               {time}
                   Unix time in floating point number when the message was stored.

           $rcpt
               Scalar, scalarref or arrayref, for SMTP "RCPT TO:" field(s).

           original =&gt; $original
               If the message was decrypted, stores original encrypted form.

           tag =&gt; $tag
               TBD.

           Returns:

           If storing succeeded, marshalled metadata (file name) of the message.  Otherwise "undef".

       too_much_remaining_packets ( )
           <u>Instance</u>  <u>method</u>.   Returns  true  value  if the number of remaining packets exceeds the value of the
           "bulk_fork_threshold" config parameter.

</pre><h4><b>CONFIGURATION</b> <b>PARAMETERS</b></h4><pre>
       Following site configuration parameters in sympa.conf will be referred.

       queuebulk
           Directory path of outgoing spool.

           Note: Named such by historical reason.  Don't confuse with "queueoutgoing"  for  archive  spool  (see
           Sympa::Spool::Archive).

       umask
           The umask to make directory.

</pre><h4><b>CAVEAT</b></h4><pre>
       Sympa::Spool::Outgoing is not a real subsclass of Sympa::Spool.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/bulk.8.html">bulk</a></b>(8), Sympa::Mailer, Sympa::Message.

</pre><h4><b>HISTORY</b></h4><pre>
       Bulk  module  initially  written by Serge Aumont appeared on Sympa 6.0.  It used database tables to store
       and fetch packets and messages.

       Support for DKIM signing was added on Sympa 6.1.

       Rewritten Sympa::Bulk appeared on Sympa 6.2, using  spools  based  on  filesystem.   It  was  renamed  to
       Sympa::Spool::Outgoing on Sympa 6.2.45b.3.

6.2.76                                             2025-02-12                     <u>Sympa::Spool::<a href="../man3Sympa/Outgoing.3Sympa.html">Outgoing</a></u>(3Sympa)
</pre>
 </div>
</div></section>
</div>
</body>
</html>