<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perl::Critic::Policy::Miscellanea::TextDomainPlaceholders - check placeholder names in Locale::TextDomain</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libperl-critic-pulp-perl">libperl-critic-pulp-perl_99-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Perl::Critic::Policy::Miscellanea::TextDomainPlaceholders - check placeholder names in Locale::TextDomain
       calls

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This policy is part of the "Perl::Critic::Pulp" add-on.  It checks the placeholder arguments in format
       strings to the following functions from "Locale::TextDomain".

           __x __nx __xn __px __npx

       Calls with a key missing from the args or args unused by the format are reported.

           print __x('Searching for {data}',  # bad
                     datum =&gt; 123);

           print __nx('Read one file',
                      'Read {num} files',     # bad
                      $n,
                      count =&gt; 123);

       This is normally a mistake, so this policy is under the "bugs" theme (see "POLICY THEMES" in
       Perl::Critic).  An error can easily go unnoticed because (as of Locale::TextDomain version 1.16) a
       placeholder without a corresponding arg goes through unexpanded and any extra args are ignored.

       The way Locale::TextDomain parses the format string allows anything between "{ }" as a key, but for the
       purposes of this policy only symbols (alphanumeric plus "_") are taken to be a key.  This is almost
       certainly what you'll want to use, and it's then possible to include literal braces in a format string
       without tickling this policy all the time.  (Symbol characters are per Perl "\w", so non-ASCII is
       supported, though the Gettext manual in node "Charset conversion" recommends message-IDs should be ASCII-
       only.)

</pre><h4><b>Partial</b> <b>Checks</b></h4><pre>
       If the format string is not a literal then it might use any args, so all are considered used.

           # ok, 'datum' might be used
           __x($my_format, datum =&gt; 123);

       Literal portions of the format are still checked.

           # bad, 'foo' not present in args
           __x("{foo} $bar", datum =&gt; 123);

       Conversely if the args have some non-literals then they could be anything, so everything in the format
       string is considered present.

           # ok, $something might be 'world'
           __x('hello {world}', $something =&gt; 123);

       But again if some args are literals they can be checked.

           # bad, 'blah' is not used
           __x('hello {world}', $something =&gt; 123, blah =&gt; 456);

       If there's non-literals both in the format and in the args then nothing is checked, since it could all
       match up fine at runtime.

   <b>"__nx"</b> <b>Count</b> <b>Argument</b>
       A missing count argument to "__nx", "__xn" and "__npx" is sometimes noticed by this policy.  For example,

           print __nx('Read one file',
                      'Read {numfiles} files',
                      numfiles =&gt; $numfiles);   # bad

       If the count argument looks like a key then it's reported as a probable mistake.  This is not the main
       aim of this policy but it's done because otherwise no violations would be reported at all.  (The next
       argument would be the key, and normally being an expression it would be assumed to fulfill the format
       strings at runtime.)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Perl::Critic::Pulp, Perl::Critic, Locale::TextDomain, Perl::Critic::Policy::Miscellanea::TextDomainUnused

</pre><h4><b>HOME</b> <b>PAGE</b></h4><pre>
       &lt;<a href="http://user42.tuxfamily.org/perl-critic-pulp/index.html">http://user42.tuxfamily.org/perl-critic-pulp/index.html</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2019, 2021 Kevin Ryde

       Perl-Critic-Pulp is free software; you can redistribute it and/or modify it under the terms of the GNU
       General Public License as published by the Free Software Foundation; either version 3, or (at your
       option) any later version.

       Perl-Critic-Pulp is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without
       even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General
       Public License for more details.

       You should have received a copy of the GNU General Public License along with Perl-Critic-Pulp.  If not,
       see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.

perl v5.32.1                                       2021-02-28              <u>Perl::Critic::...<a href="../man3pm/ainPlaceholders.3pm.html">ainPlaceholders</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>