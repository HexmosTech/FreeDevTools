<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MARC::MIR::Tutorial - Tutorial for MARC::MIR DSL</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmarc-mir-perl">libmarc-mir-perl_0.4-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       MARC::MIR::Tutorial - Tutorial for MARC::MIR DSL

   <b>the</b> <b>DSL</b>
       to make things more readable and less error prone, we also add a DSL. Every keywords of this DSL works
       the same way. FIXME : explain.

       also, iso2709_records_of is an helper that stream the records of an ISO2709 formatted file.

   <b>some</b> <b>examples</b>
       the perfect boilerplate

           use autodie;
           use Modern::Perl;
           use Perlude;
           use MARC::MIR;

       print all the ids of the records (assuming the id is in 001, the common case)

           now    { say record_id from_iso2709 } iso2709_records_of "biblio.marc";

       or

           marawk { say $ID } "biblio.marc";

       remove every 9.. fields

           now {
               $_ = from_iso2709;
               with_fields { @$_ = grep { (tag) !~ /^9/ } @$_ };
               print to_iso2709;
           } iso2709_records_of "biblio.marc";

       every 856$q must be jpeg

           now {
               $_ = from_iso2709;
               map_fields {
                   tag eq '856' and map_subfields {
                       (tag) eq 'z' and with_value { $_ = 'jpeg' }
                   }
               }
               with_fields { @$_ = grep_fields { (tag) !~ /^9/ } @$_ };
           } iso2709_records_of "biblio.marc";

       or

           marawk { map_values { $_ = 'jpeg' } [qw&lt; 856 z &gt;] } "biblio.marc"

       collect every 856$z by id

           use Modern::Perl;
           use YAML;
           use MARC::MIR;

           my %seen;
           marawk {
               map_values { push @{ $seen{$ID} }, $_ } [qw&lt; 856 z &gt;]
           } "data/*.RAW";
           say YAML::Dump \%seen;

   <b>marawk</b>
       # TODO:

perl v5.36.0                                       2023-02-09                           <u>MARC::MIR::<a href="../man3pm/Tutorial.3pm.html">Tutorial</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>