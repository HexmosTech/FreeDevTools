<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tirex::Manager - Rendering manager</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tirex">tirex_0.7.1-3build4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tirex::Manager - Rendering manager

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use Tirex::Manager;
        my $queue = Tirex::Queue-&gt;new();
        my $rm = Tirex::Manager-&gt;new( queue =&gt; $queue );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The rendering manager takes jobs from the queue and runs them. It takes into account how many parallel
       renderings are allowed, the priority of the jobs etc.

</pre><h4><b>METHODS</b></h4><pre>
   <b>Tirex::Manager-&gt;new(</b> <b>queue</b> <b>=&gt;</b> <b>$queue</b> <b>)</b>
       Create a new rendering manager. Parameters are:

        queue   the queue with the rendering requests (see Tirex::Queue)

   <b>$rm-&gt;add_bucket(name</b> <b>=&gt;</b> <b>$name,</b> <b>minprio</b> <b>=&gt;</b> <b>$minprio,</b> <b>maxproc</b> <b>=&gt;</b> <b>$maxproc,</b> <b>maxload</b> <b>=&gt;</b> <b>$maxload)</b>
       Creates and adds a bucket with the given config. It always keeps buckets sorted according to minprio.

       Returns the created bucket or undef on error.

   <b>$rm-&gt;set_active_flag_on_bucket($active,</b> <b>$bucketname)</b>
       Returns true if successful, ie. the bucket did exists, false if unsuccessful.

   <b>$rm-&gt;get_socket()</b>
       Return socket where the rendering manager expects responses from the rendering backends. This should be
       added to select calls in main loop.

   <b>$rm-&gt;schedule()</b>
       Runs as many jobs as there are in the queue (as long as the resources don't run out).

       This will also check for timeouts on the jobs that are currently rendering.

   <b>$rm-&gt;run()</b>
       Check whether there is a job that can be rendered and that there are enough resources and then render the
       job.

       Returns

        undef if there is no job to run
        0     if there aren't enough resources
        1     if a job was started
        2     if a job was expired

   <b>$rm-&gt;send($job)</b>
       Send a job to the rendering daemon.

   <b>$rm-&gt;done($msg)</b>
       This is called when a message comes back from the backend that a job was rendered.

       Returns the job or undef if the job was not found.

   <b>$rm-&gt;log_stats()</b>
       Write statistics to log file.

   <b>$rm-&gt;status()</b>
       Return status of the rendering manager.

   <b>$rm-&gt;get_load_from_uptime()</b>
       Get system load by calling the 'uptime' command. This is called by <b>get_load()</b> if <a href="file:/proc/loadavg">/proc/loadavg</a> is not
       available.

   <b>$rm-&gt;get_load()</b>
       Get current load on the machine. If <a href="file:/proc/loadavg">/proc/loadavg</a> is not readable for some reason, it always returns 0.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Tirex::Manager::Test

perl v5.40.1                                       2025-08-07                                <u>Tirex::<a href="../man3pm/Manager.3pm.html">Manager</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>