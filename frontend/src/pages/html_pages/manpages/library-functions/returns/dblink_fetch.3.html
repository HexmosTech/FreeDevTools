<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dblink_fetch - returns rows from an open cursor in a remote database</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/postgresql-doc-17">postgresql-doc-17_17.5-1build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dblink_fetch - returns rows from an open cursor in a remote database

</pre><h4><b>SYNOPSIS</b></h4><pre>
       dblink_fetch(text cursorname, int howmany [, bool fail_on_error]) returns setof record
       dblink_fetch(text connname, text cursorname, int howmany [, bool fail_on_error]) returns setof record

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>dblink_fetch</b> fetches rows from a cursor previously established by <b>dblink_open</b>.

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>connname</u>
           Name of the connection to use; omit this parameter to use the unnamed connection.

       <u>cursorname</u>
           The name of the cursor to fetch from.

       <u>howmany</u>
           The maximum number of rows to retrieve. The next <u>howmany</u> rows are fetched, starting at the current
           cursor position, moving forward. Once the cursor has reached its end, no more rows are produced.

       <u>fail_on_error</u>
           If true (the default when omitted) then an error thrown on the remote side of the connection causes
           an error to also be thrown locally. If false, the remote error is locally reported as a NOTICE, and
           the function returns no rows.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       The function returns the row(s) fetched from the cursor. To use this function, you will need to specify
       the expected set of columns, as previously discussed for <b>dblink</b>.

</pre><h4><b>NOTES</b></h4><pre>
       On a mismatch between the number of return columns specified in the FROM clause, and the actual number of
       columns returned by the remote cursor, an error will be thrown. In this event, the remote cursor is still
       advanced by as many rows as it would have been if the error had not occurred. The same is true for any
       other error occurring in the local query after the remote <b>FETCH</b> has been done.

</pre><h4><b>EXAMPLES</b></h4><pre>
           SELECT dblink_connect('dbname=postgres options=-csearch_path=');
            dblink_connect
           ----------------
            OK
           (1 row)

           SELECT dblink_open('foo', 'select proname, prosrc from pg_proc where proname like ''bytea%''');
            dblink_open
           -------------
            OK
           (1 row)

           SELECT * FROM dblink_fetch('foo', 5) AS (funcname name, source text);
            funcname |  source
           ----------+----------
            byteacat | byteacat
            byteacmp | byteacmp
            byteaeq  | byteaeq
            byteage  | byteage
            byteagt  | byteagt
           (5 rows)

           SELECT * FROM dblink_fetch('foo', 5) AS (funcname name, source text);
            funcname  |  source
           -----------+-----------
            byteain   | byteain
            byteale   | byteale
            bytealike | bytealike
            bytealt   | bytealt
            byteane   | byteane
           (5 rows)

           SELECT * FROM dblink_fetch('foo', 5) AS (funcname name, source text);
             funcname  |   source
           ------------+------------
            byteanlike | byteanlike
            byteaout   | byteaout
           (2 rows)

           SELECT * FROM dblink_fetch('foo', 5) AS (funcname name, source text);
            funcname | source
           ----------+--------
           (0 rows)

PostgreSQL 17.5                                       2025                                       <u><a href="../man3/DBLINK_FETCH.3.html">DBLINK_FETCH</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>