<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sd_device_get_syspath, sd_device_get_devpath, sd_device_get_sysname, sd_device_get_sysnum,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsystemd-dev">libsystemd-dev_257.7-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sd_device_get_syspath, sd_device_get_devpath, sd_device_get_sysname, sd_device_get_sysnum,
       sd_device_get_subsystem, sd_device_get_driver_subsystem, sd_device_get_devtype, sd_device_get_devname,
       sd_device_get_devnum, sd_device_get_ifindex, sd_device_get_driver, sd_device_get_diskseq,
       sd_device_get_device_id - Returns various fields of device objects

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;systemd/sd-device.h&gt;</b>

       <b>int</b> <b>sd_device_get_syspath(sd_device</b> <b>*</b><u>device</u><b>,</b> <b>const</b> <b>char</b> <b>**</b><u>ret</u><b>);</b>

       <b>int</b> <b>sd_device_get_devpath(sd_device</b> <b>*</b><u>device</u><b>,</b> <b>const</b> <b>char</b> <b>**</b><u>ret</u><b>);</b>

       <b>int</b> <b>sd_device_get_sysname(sd_device</b> <b>*</b><u>device</u><b>,</b> <b>const</b> <b>char</b> <b>**</b><u>ret</u><b>);</b>

       <b>int</b> <b>sd_device_get_sysnum(sd_device</b> <b>*</b><u>device</u><b>,</b> <b>const</b> <b>char</b> <b>**</b><u>ret</u><b>);</b>

       <b>int</b> <b>sd_device_get_subsystem(sd_device</b> <b>*</b><u>device</u><b>,</b> <b>const</b> <b>char</b> <b>**</b><u>ret</u><b>);</b>

       <b>int</b> <b>sd_device_get_driver_subsystem(sd_device</b> <b>*</b><u>device</u><b>,</b> <b>const</b> <b>char</b> <b>**</b><u>ret</u><b>);</b>

       <b>int</b> <b>sd_device_get_devtype(sd_device</b> <b>*</b><u>device</u><b>,</b> <b>const</b> <b>char</b> <b>**</b><u>ret</u><b>);</b>

       <b>int</b> <b>sd_device_get_devname(sd_device</b> <b>*</b><u>device</u><b>,</b> <b>const</b> <b>char</b> <b>**</b><u>ret</u><b>);</b>

       <b>int</b> <b>sd_device_get_devnum(sd_device</b> <b>*</b><u>device</u><b>,</b> <b>dev_t</b> <b>*</b><u>ret</u><b>);</b>

       <b>int</b> <b>sd_device_get_ifindex(sd_device</b> <b>*</b><u>device</u><b>,</b> <b>int</b> <b>*</b><u>ret</u><b>);</b>

       <b>int</b> <b>sd_device_get_driver(sd_device</b> <b>*</b><u>device</u><b>,</b> <b>const</b> <b>char</b> <b>**</b><u>ret</u><b>);</b>

       <b>int</b> <b>sd_device_get_diskseq(sd_device</b> <b>*</b><u>device</u><b>,</b> <b>uint64_t</b> <b>*</b><u>ret</u><b>);</b>

       <b>int</b> <b>sd_device_get_device_id(sd_device</b> <b>*</b><u>device</u><b>,</b> <b>const</b> <b>char</b> <b>**</b><u>ret</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sd_device_get_syspath()</b> returns the sysfs path of the specified device record, including the <a href="file:/sys">/sys</a> prefix.
       Example: <a href="file:/sys/devices/virtual/tty/tty7">/sys/devices/virtual/tty/tty7</a>

       <b>sd_device_get_devpath()</b> returns the sysfs path of the specified device record, excluding the <a href="file:/sys">/sys</a> prefix.
       Example: /devices/virtual/tty/tty7

       <b>sd_device_get_sysname()</b> returns the sysfs name of the specified device record, i.e. the last component of
       the sysfs path. Example: "tty7" for the device <a href="file:/sys/devices/virtual/tty/tty7">/sys/devices/virtual/tty/tty7</a>

       <b>sd_device_get_sysnum()</b> returns the sysfs device number of the specified device record, i.e. the numeric
       suffix of the last component of the sysfs path. Example: "7" for the device <a href="file:/sys/devices/virtual/tty/tty7">/sys/devices/virtual/tty/tty7</a>

       <b>sd_device_get_subsystem()</b> returns the kernel subsystem of the specified device record. This is a short
       string fitting into a filename, and thus does not contain a slash and cannot be empty. Example: "tty",
       "block" or "net".

       <b>sd_device_get_driver_subsystem()</b> returns the connected bus type of the devices loaded by the specified
       driver device record. For example, when "iwlwifi" driver device is specified, which is used by the
       wireless network interfaces connected to PCI bus, this function returns "pci". This function only
       succeeds when <b>sd_device_get_subsystem()</b> returns "drivers". Example: "pci", "i2c", or "hid".

       <b>sd_device_get_devtype()</b> returns the device type of the specified device record, if the subsystem manages
       multiple types of devices. Example: for devices of the "block" subsystem this can be "disk" or
       "partition"

       <b>sd_device_get_devname()</b> returns the device node path of the specified device record if the device has a
       device node. Example: for <a href="file:/sys/devices/virtual/tty/tty7">/sys/devices/virtual/tty/tty7</a> the string /dev/tty7 is typically returned.

       <b>sd_device_get_devnum()</b> returns the device node major/minor (i.e.  <b>dev_t</b>) of the specified device record
       if the device has a device node (i.e. the one returned by <b>sd_device_get_devname()</b>). For devices belonging
       to the "block" subsystem this refers to a block device node, in all other cases to a character device
       node. Example: for the <a href="file:/sys/devices/virtual/tty/tty7">/sys/devices/virtual/tty/tty7</a> device this typically returns the device number with
       major/minor "4:7".

       <b>sd_device_get_ifindex()</b> returns the network interface index of the specified device record, if the device
       encapsulates a network interface device, i.e. belongs to the "net" subsystem. Example: the "lo" interface
       typically has interface index 1.

       <b>sd_device_get_driver()</b> returns the kernel driver name attached to the device. Note that the driver field
       is set on the devices consumed by the driver, not on the device created by it. Example: a PCI device
       /sys/bus/pci/devices/0000:00:1f.6 might be attached to a driver "e1000e".

       <b>sd_device_get_diskseq()</b> returns the kernel disk sequence number of the block device. This number
       monotonically increases whenever a backing medium of a block device changes without the device name
       changing, and is relevant for block devices encapsulating devices with changing media (e.g. floppy or
       CD-ROM), or loopback block devices. Only defined for block devices, i.e. those of subsystem "block".

       <b>sd_device_get_device_id()</b> returns the short string that identifies the device record. When the device ID
       obtained by the function for a specified device record is passed to <b>sd_device_new_from_device_id()</b>, a new
       instance of the same device record will be gained. When a block or character device is specified, which
       has corresponding device node, this returns "b" or "c", respectively, followed by the device node major
       and minor numbers separated with a colon. Example: "b259:1" or "c10:121". When a network interface device
       is specified, this returns "n" followed by the interface index, which can be obtained by
       <b>sd_device_get_ifindex()</b>. Example: "n1". When a device in the "driver" subsystem is specified, this
       returns "+drivers:" followed by its driver subsystem and sysfs name separated with a colon. Example:
       "+drivers:pci:iwlwifi" for a driver device record whose driver subsystem is "pci" and sysfs name is
       "iwlwifi", When another type of device is specified, this function returns "+" followed by its subsystem
       and sysfs name separated with a colon. Example: "+acpi:ACPI0003:00", "+input:input16", or
       "+pci:0000:00:1f.6".

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, these calls return 0 or a positive integer. On failure, they return a negative errno-style
       error code.

   <b>Errors</b>
       Returned errors may indicate the following problems:

       <b>-EINVAL</b>
           A specified parameter is invalid.

           Added in version 251.

       <b>-ENOENT</b>
           The requested field is not present in the device record.

           Added in version 251.

</pre><h4><b>NOTES</b></h4><pre>
       Functions described here are available as a shared library, which can be compiled against and linked to
       with the <b>libsystemd</b> <b><a href="../man1/pkg-config.1.html">pkg-config</a></b>(1) file.

       The code described here uses <b><a href="../man3/getenv.3.html">getenv</a></b>(3), which is declared to be not multi-thread-safe. This means that
       the code calling the functions described here must not call <b><a href="../man3/setenv.3.html">setenv</a></b>(3) from a parallel thread. It is
       recommended to only do calls to <b>setenv()</b> from an early phase of the program when no other threads have
       been started.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>sd_device_get_syspath()</b>, <b>sd_device_get_devpath()</b>, <b>sd_device_get_sysname()</b>, <b>sd_device_get_sysnum()</b>,
       <b>sd_device_get_subsystem()</b>, <b>sd_device_get_devtype()</b>, <b>sd_device_get_devname()</b>, <b>sd_device_get_devnum()</b>,
       <b>sd_device_get_ifindex()</b>, <b>sd_device_get_driver()</b>, and <b>sd_device_get_diskseq()</b> were added in version 251.

       <b>sd_device_get_driver_subsystem()</b> and <b>sd_device_get_device_id()</b> were added in version 257.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man3/sd-device.3.html">sd-device</a></b>(3)

systemd 257.7                                                                           <u><a href="../man3/SD_DEVICE_GET_SYSPATH.3.html">SD_DEVICE_GET_SYSPATH</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>