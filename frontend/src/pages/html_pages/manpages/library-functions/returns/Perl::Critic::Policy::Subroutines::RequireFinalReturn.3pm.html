<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perl::Critic::Policy::Subroutines::RequireFinalReturn - End every path through a subroutine with an</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libperl-critic-perl">libperl-critic-perl_1.156-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Perl::Critic::Policy::Subroutines::RequireFinalReturn - End every path through a subroutine with an
       explicit "return" statement.

</pre><h4><b>AFFILIATION</b></h4><pre>
       This Policy is part of the core Perl::Critic distribution.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Require all subroutines to terminate explicitly with one of the following: "return", "carp", "croak",
       "die", "exec", "exit", "goto", or "throw".

       Subroutines without explicit return statements at their ends can be confusing.  It can be challenging to
       deduce what the return value will be.

       Furthermore, if the programmer did not mean for there to be a significant return value, and omits a
       return statement, some of the subroutine's inner data can leak to the outside.  Consider this case:

           package Password;
           # every time the user guesses the password wrong, its value
           # is rotated by one character
           my $password;
           sub set_password {
               $password = shift;
           }
           sub check_password {
               my $guess = shift;
               if ($guess eq $password) {
                   unlock_secrets();
               } else {
                   $password = (substr $password, 1).(substr $password, 0, 1);
               }
           }
           1;

       In this case, the last statement in <b>check_password()</b> is the assignment.  The result of that assignment is
       the implicit return value, so a wrong guess returns the right password!  Adding a "return;" at the end of
       that subroutine solves the problem.

       The only exception allowed is an empty subroutine.

       Be careful when fixing problems identified by this Policy; don't blindly put a "return;" statement at the
       end of every subroutine.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       If you've created your own terminal functions that behave like "die" or "exit", then you can configure
       Perl::Critic to recognize those functions as well.  Just put something like this in your <u>.perlcriticrc</u>:

           [Subroutines::RequireFinalReturn]
           terminal_funcs = quit abort bailout

       If you've created your own terminal methods, then you can configure Perl::Critic to recognize those
       methods as well, but the class won't be considered.  For example if you define throw_exception as
       terminal, then any method of that name will be terminal, regardless of class.  Just put something like
       this in your <u>.perlcriticrc</u>:

           [Subroutines::RequireFinalReturn]
           terminal_methods = throw_exception

</pre><h4><b>BUGS</b></h4><pre>
       We do not look for returns inside ternary operators.  That construction is too complicated to analyze
       right now.  Besides, a better form is the return outside of the ternary like this: "return foo ? 1 : bar
       ? 2 : 3"

</pre><h4><b>AUTHOR</b></h4><pre>
       Chris Dolan &lt;<a href="mailto:cdolan@cpan.org">cdolan@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2005-2023 Chris Dolan.

       This program is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.  The full text of this license can be found in the LICENSE file included with this module.

perl v5.40.0                                       2024-10-28              <u>Perl::Critic::...<a href="../man3pm/uireFinalReturn.3pm.html">uireFinalReturn</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>