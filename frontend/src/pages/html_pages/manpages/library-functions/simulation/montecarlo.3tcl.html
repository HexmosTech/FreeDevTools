<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>simulation::montecarlo - Monte Carlo simulations</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       simulation::montecarlo - Monte Carlo simulations

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>?8.5</b> <b>9?</b>

       package require <b>simulation::montecarlo</b> <b>0.2</b>

       package require <b>simulation::random</b>

       package require <b>math::statistics</b>

       <b>::simulation::montecarlo::getOption</b> <u>keyword</u>

       <b>::simulation::montecarlo::hasOption</b> <u>keyword</u>

       <b>::simulation::montecarlo::setOption</b> <u>keyword</u> <u>value</u>

       <b>::simulation::montecarlo::setTrialResult</b> <u>values</u>

       <b>::simulation::montecarlo::setExpResult</b> <u>values</u>

       <b>::simulation::montecarlo::getTrialResults</b>

       <b>::simulation::montecarlo::getExpResult</b>

       <b>::simulation::montecarlo::transposeData</b> <u>values</u>

       <b>::simulation::montecarlo::integral2D</b> <u>...</u>

       <b>::simulation::montecarlo::singleExperiment</b> <u>args</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The technique of <u>Monte</u> <u>Carlo</u> <u>simulations</u> is basically simple:

       •      generate random values for one or more parameters.

       •      evaluate  the  model  of  some system you are interested in and record the interesting results for
              each realisation of these parameters.

       •      after a suitable number of such trials, deduce an overall characteristic of the model.

       You can think of a model of a network of computers, an ecosystem of some kind or in  fact  anything  that
       can be quantitatively described and has some stochastic element in it.

       The package <u>simulation::montecarlo</u> offers a basic framework for such a modelling technique:

              #
              # MC experiments:
              # Determine the mean and median of a set of points and compare them
              #
              ::simulation::montecarlo::singleExperiment -init {
                  package require math::statistics

                  set prng [::simulation::random::prng_Normal 0.0 1.0]
              } -loop {
                  set numbers {}
                  for { set i 0 } { $i &lt; [getOption samples] } { incr i } {
                      lappend numbers [$prng]
                  }
                  set mean   [::math::statistics::mean $numbers]
                  set median [::math::statistics::median $numbers] ;# ? Exists?
                  setTrialResult [list $mean $median]
              } -final {
                  set result [getTrialResults]
                  set means   {}
                  set medians {}
                  foreach r $result {
                      foreach {m M} $r break
                      lappend means   $m
                      lappend medians $M
                  }
                  puts [getOption reportfile] "Correlation: [::math::statistics::corr $means $medians]"

              } -trials 100 -samples 10 -verbose 1 -columns {Mean Median}

       This  example attemps to find out how well the median value and the mean value of a random set of numbers
       correlate. Sometimes a median value is a more robust characteristic than a mean value - especially if you
       have a statistical distribution with "fat" tails.

</pre><h4><b>PROCEDURES</b></h4><pre>
       The package defines the following auxiliary procedures:

       <b>::simulation::montecarlo::getOption</b> <u>keyword</u>
              Get the value of an option given as part of the <u>singleExperiment</u> command.

              string <u>keyword</u>
                     Given keyword (without leading minus)

       <b>::simulation::montecarlo::hasOption</b> <u>keyword</u>
              Returns 1 if the option is available, 0 if not.

              string <u>keyword</u>
                     Given keyword (without leading minus)

       <b>::simulation::montecarlo::setOption</b> <u>keyword</u> <u>value</u>
              Set the value of the given option.

              string <u>keyword</u>
                     Given keyword (without leading minus)

              string <u>value</u>
                     (New) value for the option

       <b>::simulation::montecarlo::setTrialResult</b> <u>values</u>
              Store the results of the trial for later analysis

              list <u>values</u>
                     List of values to be stored

       <b>::simulation::montecarlo::setExpResult</b> <u>values</u>
              Set the results of the entire experiment (typically used in the final phase).

              list <u>values</u>
                     List of values to be stored

       <b>::simulation::montecarlo::getTrialResults</b>
              Get the results of all individual trials for analysis (typically used in the final phase or  after
              completion of the command).

       <b>::simulation::montecarlo::getExpResult</b>
              Get  the  results  of  the  entire  experiment  (typically  used  in the final phase or even after
              completion of the <u>singleExperiment</u> command).

       <b>::simulation::montecarlo::transposeData</b> <u>values</u>
              Interchange columns and rows of a list of lists and return the result.

              list <u>values</u>
                     List of lists of values

       There are two main procedures: <u>integral2D</u> and <u>singleExperiment</u>.

       <b>::simulation::montecarlo::integral2D</b> <u>...</u>
              Integrate a function over a two-dimensional region using a Monte Carlo approach.

              Arguments PM

       <b>::simulation::montecarlo::singleExperiment</b> <u>args</u>
              Iterate code over a number of trials  and  store  the  results.  The  iteration  is  gouverned  by
              parameters given via a list of keyword-value pairs.

              int <u>n</u>  List  of  keyword-value  pairs,  all  of  which  are available during the execution via the
                     <u>getOption</u> command.

       The <u>singleExperiment</u> command predefines the following options:

       •      <u>-init</u> <u>code</u>: code to be run at start up

       •      <u>-loop</u> <u>body</u>: body of code that defines the computation to be run time and again.  The  code  should
              use  <u>setTrialResult</u>  to  store  the  results  of  each trial (typically a list of numbers, but the
              interpretation is up to the implementation). Note: Required keyword.

       •      <u>-final</u> <u>code</u>: code to be run at the end

       •      <u>-trials</u> <u>n</u>: number of trials in the experiment (required)

       •      <u>-reportfile</u> <u>file</u>: opened file to send the output to (default: stdout)

       •      <u>-verbose</u>: write the intermediate results (1) or not (0) (default: 0)

       •      <u>-analysis</u> <u>proc</u>: either "none" (no automatic analysis), standard (basic  statistics  of  the  trial
              results and a correlation matrix) or the name of a procedure that will take care of the analysis.

       •      <u>-columns</u> <u>list</u>: list of column names, useful for verbose output and the analysis

       Any other options can be used via the getOption procedure in the body.

</pre><h4><b>TIPS</b></h4><pre>
       The  procedure <u>singleExperiment</u> works by constructing a temporary procedure that does the actual work. It
       loops for the given number of trials.

       As it constructs a temporary procedure, local variables defined at the start continue  to  exist  in  the
       loop.

</pre><h4><b>KEYWORDS</b></h4><pre>
       math, montecarlo simulation, stochastic modelling

</pre><h4><b>CATEGORY</b></h4><pre>
       Mathematics

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2008 Arjen Markus &lt;<a href="mailto:arjenmarkus@users.sourceforge.net">arjenmarkus@users.sourceforge.net</a>&gt;

tcllib                                                 0.2                          <u>simulation::<a href="../man3tcl/montecarlo.3tcl.html">montecarlo</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>