<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apache::Session::Lock::Semaphore - Provides mutual exclusion through semaphores</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libapache-session-perl">libapache-session-perl_1.94-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Apache::Session::Lock::Semaphore - Provides mutual exclusion through semaphores

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use Apache::Session::Lock::Semaphore;

        my $locker = Apache::Session::Lock::Semaphore-&gt;new;
        die "no semaphores" unless $locker;

        $locker-&gt;acquire_read_lock($ref);
        $locker-&gt;acquire_write_lock($ref);
        $locker-&gt;release_read_lock($ref);
        $locker-&gt;release_write_lock($ref);
        $locker-&gt;release_all_locks($ref);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Apache::Session::Lock::semaphore fulfills the locking interface of Apache::Session.  Mutual exclusion is
       achieved through system semaphores and the IPC::Semaphore module.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       The module must know how many semaphores to use, and what semaphore key to use. The number of semaphores
       has an impact on performance.  More semaphores means less lock contention. You should use the maximum
       number of semaphores that your platform will allow. On stock NetBSD, OpenBSD, and Solaris systems, this
       is probably 16. On Linux 2.2, this is 32. This module tries to guess the number based on your operating
       system, but it is safer to configure it yourself.

       To set the number of semaphores, you need to pass an argument in the usual Apache::Session style. The
       name of the argument is NSems, and the value is an integer power of 2. For example:

        tie %s, 'Apache::Session::Blah', $id, {NSems =&gt; 16};

       You may also need to configure the semaphore key that this package uses. By default, it uses key 31818.
       You can change this using the argument SemaphoreKey:

        tie %s, 'Apache::Session::Blah', $id, {NSems =&gt; 16, SemaphoreKey =&gt; 42};

</pre><h4><b>PROBLEMS</b></h4><pre>
       There are a few problems that people frequently encounter when using this package.

       If you get an invalid argument message, that usually means that the system is unhappy with the number of
       semaphores that you requested.  Try decreasing the number of semaphores.  The semaphore blocks that this
       package creates are persistent until the system is rebooted, so if you request 8 semaphores one time and
       16 semaphores the next, it won't work.  Use the system commands ipcs and ipcrm to inspect and remove
       unwanted semphore blocks.

   <b>Cygwin</b>
       IPC on Cygwin requires running cygserver. Without it, program will exit with "Bad System call" message.
       It cannot be intercepted with eval.

       Read /usr/share/doc/Cygwin/cygserver.README for more information.

   <b>Darwin/MacOS</b> <b>X</b>
       Darwin and MacOS X may not have semaphores, see &lt;<a href="http://sysnet.ucsd.edu/~bellardo/darwin/sysvsem.html">http://sysnet.ucsd.edu/~bellardo/darwin/sysvsem.html</a>&gt;

   <b>*BSD</b>
       Error "No space left on device" means that maximum number of semaphores is reached.  See
       &lt;<a href="http://www.postgresql.org/docs/7.3/static/kernel-resources.html">http://www.postgresql.org/docs/7.3/static/kernel-resources.html</a>&gt; for more information.

</pre><h4><b>AUTHOR</b></h4><pre>
       This module was written by Jeffrey William Baker &lt;<a href="mailto:jwbaker@acm.org">jwbaker@acm.org</a>&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Apache::Session

perl v5.36.0                                       2022-11-19              <u>Apache::Session::Lock::<a href="../man3pm/Semaphore.3pm.html">Semaphore</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>