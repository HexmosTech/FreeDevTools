<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IPC::Semaphore - SysV Semaphore IPC object class</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/perl-doc">perl-doc_5.40.1-6_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       IPC::Semaphore - SysV Semaphore IPC object class

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use IPC::SysV qw(IPC_PRIVATE S_IRUSR S_IWUSR IPC_CREAT);
           use IPC::Semaphore;

           $sem = IPC::Semaphore-&gt;new(IPC_PRIVATE, 10, S_IRUSR | S_IWUSR | IPC_CREAT);

           $sem-&gt;setall( (0) x 10);

           @sem = $sem-&gt;getall;

           $ncnt = $sem-&gt;getncnt;

           $zcnt = $sem-&gt;getzcnt;

           $ds = $sem-&gt;stat;

           $sem-&gt;remove;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A class providing an object based interface to SysV IPC semaphores.

</pre><h4><b>METHODS</b></h4><pre>
       new ( KEY , NSEMS , FLAGS )
           Create  a  new semaphore set associated with "KEY". "NSEMS" is the number of semaphores in the set. A
           new set is created if

           •   "KEY" is equal to "IPC_PRIVATE"

           •   "KEY" does not already have a semaphore identifier associated with it, and "<u>FLAGS</u> &amp; IPC_CREAT" is
               true.

           On creation of a new semaphore set "FLAGS" is used to set the permissions.  Be careful not to set any
           flags that the Sys V IPC implementation does not allow: in some systems setting  execute  bits  makes
           the operations fail.

       getall
           Returns the values of the semaphore set as an array.

       getncnt ( SEM )
           Returns  the  number  of processes waiting for the semaphore "SEM" to become greater than its current
           value

       getpid ( SEM )
           Returns the process id of the last process that performed an operation on the semaphore "SEM".

       getval ( SEM )
           Returns the current value of the semaphore "SEM".

       getzcnt ( SEM )
           Returns the number of processes waiting for the semaphore "SEM" to become zero.

       id  Returns the system identifier for the semaphore set.

       op ( OPLIST )
           "OPLIST" is a list of operations to pass to "semop". "OPLIST" is a concatenation  of  smaller  lists,
           each  which  has three values. The first is the semaphore number, the second is the operation and the
           last is a flags value. See <b><a href="../man2/semop.2.html">semop</a></b>(2) for more details. For example

               $sem-&gt;op(
                   0, -1, IPC_NOWAIT,
                   1,  1, IPC_NOWAIT
               );

       remove
           Remove and destroy the semaphore set from the system.

       set ( STAT )
       set ( NAME =&gt; VALUE [, NAME =&gt; VALUE ...] )
           "set" will set the following values of the "stat" structure associated with the semaphore set.

               uid
               gid
               mode (only the permission bits)

           "set" accepts either a stat object, as returned by the "stat" method, or a list of <u>name</u>-<u>value</u> pairs.

       setall ( VALUES )
           Sets all values in the semaphore set to those given on the "VALUES" list.  "VALUES" must contain  the
           correct number of values.

       setval ( N , VALUE )
           Set the "N"th value in the semaphore set to "VALUE"

       stat
           Returns an object of type "IPC::Semaphore::stat" which is a sub-class of "Class::Struct". It provides
           the following fields. For a description of these fields see your system documentation.

               uid
               gid
               cuid
               cgid
               mode
               ctime
               otime
               nsems

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       IPC::SysV, Class::Struct, <b><a href="../man2/semget.2.html">semget</a></b>(2), <b><a href="../man2/semctl.2.html">semctl</a></b>(2), <b><a href="../man2/semop.2.html">semop</a></b>(2)

</pre><h4><b>AUTHORS</b></h4><pre>
       Graham Barr &lt;<a href="mailto:gbarr@pobox.com">gbarr@pobox.com</a>&gt;, Marcus Holland-Moritz &lt;<a href="mailto:mhx@cpan.org">mhx@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Version 2.x, Copyright (C) 2007-2013, Marcus Holland-Moritz.

       Version 1.x, Copyright (c) 1997, Graham Barr.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.40.1                                       2025-07-27                              <u>IPC::<a href="../man3perl/Semaphore.3perl.html">Semaphore</a></u>(3perl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>