<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sem_open - initialize and open a named semaphore</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sem_open - initialize and open a named semaphore

</pre><h4><b>LIBRARY</b></h4><pre>
       POSIX threads library (<u>libpthread</u>, <u>-lpthread</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/fcntl.h">fcntl.h</a>&gt;</b>           /* For O_* constants */
       <b>#include</b> <b>&lt;sys/stat.h&gt;</b>        /* For mode constants */
       <b>#include</b> <b>&lt;<a href="file:/usr/include/semaphore.h">semaphore.h</a>&gt;</b>

       <b>sem_t</b> <b>*sem_open(const</b> <b>char</b> <b>*</b><u>name</u><b>,</b> <b>int</b> <u>oflag</u><b>);</b>
       <b>sem_t</b> <b>*sem_open(const</b> <b>char</b> <b>*</b><u>name</u><b>,</b> <b>int</b> <u>oflag</u><b>,</b>
                       <b>mode_t</b> <u>mode</u><b>,</b> <b>unsigned</b> <b>int</b> <u>value</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sem_open</b>()  creates a new POSIX semaphore or opens an existing semaphore.  The semaphore is identified by
       <u>name</u>.  For details of the construction of <u>name</u>, see <b><a href="../man7/sem_overview.7.html">sem_overview</a></b>(7).

       The <u>oflag</u> argument specifies flags that control the operation of the call.   (Definitions  of  the  flags
       values  can be obtained by including <u>&lt;fcntl.h&gt;</u>.)  If <b>O_CREAT</b> is specified in <u>oflag</u>, then the semaphore is
       created if it does not already exist.  The owner (user ID) of the semaphore is set to the effective  user
       ID  of  the  calling  process.   The  group  ownership (group ID) is set to the effective group ID of the
       calling process.  If both <b>O_CREAT</b> and <b>O_EXCL</b> are specified in <u>oflag</u>, then  an  error  is  returned  if  a
       semaphore with the given <u>name</u> already exists.

       If  <b>O_CREAT</b>  is  specified  in  <u>oflag</u>, then two additional arguments must be supplied.  The <u>mode</u> argument
       specifies the permissions to be placed on the new semaphore, as for <b><a href="../man2/open.2.html">open</a></b>(2).  (Symbolic  definitions  for
       the  permissions  bits  can  be obtained by including <u>&lt;sys/stat.h&gt;</u>.)  The permissions settings are masked
       against the process umask.  Both read and write permission should be granted to each class of  user  that
       will  access  the  semaphore.   The <u>value</u> argument specifies the initial value for the new semaphore.  If
       <b>O_CREAT</b> is specified, and a semaphore with the given  <u>name</u>  already  exists,  then  <u>mode</u>  and  <u>value</u>  are
       ignored.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On  success, <b>sem_open</b>() returns the address of the new semaphore; this address is used when calling other
       semaphore-related functions.  On error, <b>sem_open</b>() returns <b>SEM_FAILED</b>, with <u>errno</u>  set  to  indicate  the
       error.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>EACCES</b> The semaphore exists, but the caller does not have permission to open it.

       <b>EEXIST</b> Both <b>O_CREAT</b> and <b>O_EXCL</b> were specified in <u>oflag</u>, but a semaphore with this <u>name</u> already exists.

       <b>EINVAL</b> <u>value</u> was greater than <b>SEM_VALUE_MAX</b>.

       <b>EINVAL</b> <u>name</u> consists of just "/", followed by no other characters.

       <b>EMFILE</b> The per-process limit on the number of open file descriptors has been reached.

       <b>ENAMETOOLONG</b>
              <u>name</u> was too long.

       <b>ENFILE</b> The system-wide limit on the total number of open files has been reached.

       <b>ENOENT</b> The  <b>O_CREAT</b>  flag  was not specified in <u>oflag</u> and no semaphore with this <u>name</u> exists; or, <b>O_CREAT</b>
              was specified, but <u>name</u> wasn't well formed.

       <b>ENOMEM</b> Insufficient memory.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       For an explanation of the terms used in this section, see <b><a href="../man7/attributes.7.html">attributes</a></b>(7).
       ┌─────────────────────────────────────────────────────────────────────────────┬───────────────┬─────────┐
       │ <b>Interface</b>                                                                   │ <b>Attribute</b>     │ <b>Value</b>   │
       ├─────────────────────────────────────────────────────────────────────────────┼───────────────┼─────────┤
       │ <b>sem_open</b>()                                                                  │ Thread safety │ MT-Safe │
       └─────────────────────────────────────────────────────────────────────────────┴───────────────┴─────────┘

</pre><h4><b>STANDARDS</b></h4><pre>
       POSIX.1-2008.

</pre><h4><b>HISTORY</b></h4><pre>
       POSIX.1-2001.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/sem_close.3.html">sem_close</a></b>(3), <b><a href="../man3/sem_getvalue.3.html">sem_getvalue</a></b>(3), <b><a href="../man3/sem_post.3.html">sem_post</a></b>(3), <b><a href="../man3/sem_unlink.3.html">sem_unlink</a></b>(3), <b><a href="../man3/sem_wait.3.html">sem_wait</a></b>(3), <b><a href="../man7/sem_overview.7.html">sem_overview</a></b>(7)

Linux man-pages 6.9.1                              2024-05-02                                        <u><a href="../man3/sem_open.3.html">sem_open</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>