<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ost::Semaphore - A semaphore is generally used as a synchronization object between multiple threads or to</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libcommoncpp2-doc">libcommoncpp2-doc_1.8.1-10_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ost::Semaphore - A semaphore is generally used as a synchronization object between multiple threads or to
       protect a limited and finite resource such as a memory or thread pool.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;thread.h&gt;

       Inherited by <b>ost::ThreadQueue</b>.

   <b>Public</b> <b>Member</b> <b>Functions</b>
       <b>Semaphore</b> (unsigned resource=0)
           The initial value of the semaphore can be specified.
       virtual <b>~Semaphore</b> ()
           Destroying a semaphore also removes any system resources associated with it.
       bool <b>wait</b> (<b>timeout_t</b> timeout=0)
           Wait is used to keep a thread held until the semaphore counter is greater than 0.
       void <b>post</b> (void)
           Posting to a semaphore increments its current value and releases the first thread waiting for the
           semaphore if it is currently at 0.
       void <b>force_unlock_after_cancellation</b> ()
           Call it after a deferred cancellation to avoid deadlocks.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       A semaphore is generally used as a synchronization object between multiple threads or to protect a
       limited and finite resource such as a memory or thread pool.

       The semaphore has a counter which only permits access by one or more threads when the value of the
       semaphore is non-zero. Each access reduces the current value of the semaphore by 1. One or more threads
       can wait on a semaphore until it is no longer 0, and hence the semaphore can be used as a simple thread
       synchronization object to enable one thread to pause others until the thread is ready or has provided
       data for them. Semaphores are typically used as a counter for protecting or limiting concurrent access to
       a given resource, such as to permitting at most 'x' number of threads to use resource 'y', for example.

       <b>Author</b>
           David Sugar <a href="mailto:dyfet@ostel.com">dyfet@ostel.com</a>

       <b>Semaphore</b> counter for thread synchronization.

       <b>Examples</b>
           <b>tcpservice.cpp</b>.

</pre><h4><b>Constructor</b> <b>&amp;</b> <b>Destructor</b> <b>Documentation</b></h4><pre>
   <b>ost::Semaphore::Semaphore</b> <b>(unsigned</b> <b>resource</b> <b>=</b> <b>0)</b>
       The initial value of the semaphore can be specified. An initial value is often used When used to lock a
       finite resource or to specify the maximum number of thread instances that can access a specified
       resource.

       <b>Parameters</b>
           <u>resource</u> specify initial resource count or 0 default.

   <b>virtual</b> <b>ost::Semaphore::~Semaphore</b> <b>()</b> <b>[virtual]</b>
       Destroying a semaphore also removes any system resources associated with it. If a semaphore has threads
       currently waiting on it, those threads will all continue when a semaphore is destroyed.

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>void</b> <b>ost::Semaphore::force_unlock_after_cancellation</b> <b>()</b>
       Call it after a deferred cancellation to avoid deadlocks. From <a href="../man3P/PTHREAD_COND_TIMEDWAIT.3P.html">PTHREAD_COND_TIMEDWAIT</a>(3P): A condition
       wait (whether timed or not) is a cancellation point. When the cancelability enable state of a thread is
       set to PTHREAD_CANCEL_DEFERRED, a side effect of acting upon a cancellation request while in a condition
       wait is that the mutex is (in effect) re-acquired before calling the first cancellation cleanup handler.

   <b>void</b> <b>ost::Semaphore::post</b> <b>(void)</b>
       Posting to a semaphore increments its current value and releases the first thread waiting for the
       semaphore if it is currently at 0. Interestingly, there is no support to increment a semaphore by any
       value greater than 1 to release multiple waiting threads in either pthread or the win32 API. Hence, if
       one wants to release a semaphore to enable multiple threads to execute, one must perform multiple post
       operations.

       <b>See</b> <b>also</b>
           <b>wait</b>

       <b>Examples</b>
           <b>tcpservice.cpp</b>.

       Referenced by ost::SemaphoreLock::~SemaphoreLock().

   <b>bool</b> <b>ost::Semaphore::wait</b> <b>(timeout_t</b> <b>timeout</b> <b>=</b> <b>0)</b>
       Wait is used to keep a thread held until the semaphore counter is greater than 0. If the current thread
       is held, then another thread must increment the semaphore. Once the thread is accepted, the semaphore is
       automatically decremented, and the thread continues execution.

       The pthread semaphore object does not support a timed 'wait', and hence to maintain consistancy, neither
       the posix nor win32 source trees support 'timed' semaphore objects.

       <b>Returns</b>
           false if timed out

       <b>Parameters</b>
           <u>timeout</u> period in milliseconds to wait

       <b>See</b> <b>also</b>
           <b>post</b>

       Referenced by ost::SemaphoreLock::SemaphoreLock().

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for GNU CommonC++ from the source code.

GNU CommonC++                                    Sun Dec 27 2020                               <u>ost::<a href="../man3/Semaphore.3.html">Semaphore</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>