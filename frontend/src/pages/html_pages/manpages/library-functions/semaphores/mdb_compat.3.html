<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>compat - Compatibility Macros</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/lmdb-doc">lmdb-doc_0.9.31-1build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       compat - Compatibility Macros

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Macros</b>
       #define <b>MDB_DEVEL</b>   0
       #define <b>mdb_func_</b>   '&lt;mdb_unknown&gt;'
       #define <b>MDB_NO_ROOT</b>   (<b>MDB_LAST_ERRCODE</b> + 10)
       #define <b>MDB_USE_ROBUST</b>   1
       #define <b>THREAD_RET</b>   void *
       #define <b>THREAD_CREATE</b>(thr,  start,  arg)   pthread_create(&amp;thr,NULL,start,arg)
       #define <b>THREAD_FINISH</b>(thr)   pthread_join(thr,NULL)
       #define <b>Z</b>   'z'
       #define <b>MDB_PIDLOCK</b>   1
       #define <b><a href="../manmutex/LOCK_MUTEX0.mutex.html">LOCK_MUTEX0</a></b>(mutex)   <a href="../manmutex/pthread_mutex_lock.mutex.html">pthread_mutex_lock</a>(mutex)
       #define <b><a href="../manmutex/UNLOCK_MUTEX.mutex.html">UNLOCK_MUTEX</a></b>(mutex)   <a href="../manmutex/pthread_mutex_unlock.mutex.html">pthread_mutex_unlock</a>(mutex)
       #define <b><a href="../manmutex/mdb_mutex_consistent.mutex.html">mdb_mutex_consistent</a></b>(mutex)   <a href="../manmutex/pthread_mutex_consistent.mutex.html">pthread_mutex_consistent</a>(mutex)
       #define <b>ErrCode</b>()   errno
       #define <b>HANDLE</b>   int
       #define <b>INVALID_HANDLE_VALUE</b>   (-1)
       #define <b>GET_PAGESIZE</b>(x)   ((x) = sysconf(_SC_PAGE_SIZE))
       #define <b>MNAME_LEN</b>   (sizeof(pthread_mutex_t))

   <b>Typedefs</b>
       typedef pthread_mutex_t <b>mdb_mutex_t</b>[1]
       typedef pthread_mutex_t * <b>mdb_mutexref_t</b>

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       A bunch of macros to minimize the amount of platform-specific ifdefs needed throughout the rest of the
       code. When the features this library needs are similar enough to POSIX to be hidden in a one-or-two line
       replacement, this macro approach is used.

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>MDB_DEVEL</b>   <b>0</b>
       Features under development

   <b>#define</b> <b>mdb_func_</b>   <b>'&lt;mdb_unknown&gt;'</b>
       Wrapper around <b>func</b>, which is a C99 feature

   <b>#define</b> <b>MDB_USE_ROBUST</b>   <b>1</b>
       Some platforms define the EOWNERDEAD error code even though they don't support Robust Mutexes. Compile
       with -DMDB_USE_ROBUST=0, or use some other mechanism like -DMDB_USE_POSIX_SEM instead of
       -DMDB_USE_POSIX_MUTEX. (Posix semaphores are not robust.)

   <b>#define</b> <b>Z</b>   <b>'z'</b>
       printf format modifier for size_t

   <b>#define</b> <b>MDB_PIDLOCK</b>   <b>1</b>
       For MDB_LOCK_FORMAT: True if readers take a pid lock in the lockfile

   <b>#define</b> <b><a href="../manmutex/LOCK_MUTEX0.mutex.html">LOCK_MUTEX0</a>(mutex)</b>   <b><a href="../manmutex/pthread_mutex_lock.mutex.html">pthread_mutex_lock</a>(mutex)</b>
       Lock the reader or writer mutex. Returns 0 or a code to give mdb_mutex_failed(), as in LOCK_MUTEX().

   <b>#define</b> <b><a href="../manmutex/UNLOCK_MUTEX.mutex.html">UNLOCK_MUTEX</a>(mutex)</b>   <b><a href="../manmutex/pthread_mutex_unlock.mutex.html">pthread_mutex_unlock</a>(mutex)</b>
       Unlock the reader or writer mutex.

   <b>#define</b> <b><a href="../manmutex/mdb_mutex_consistent.mutex.html">mdb_mutex_consistent</a>(mutex)</b>   <b><a href="../manmutex/pthread_mutex_consistent.mutex.html">pthread_mutex_consistent</a>(mutex)</b>
       Mark mutex-protected data as repaired, after death of previous owner.

   <b>#define</b> <b>ErrCode()</b>   <b>errno</b>
       Get the error code for the last failed system function.

   <b>#define</b> <b>HANDLE</b>   <b>int</b>
       An abstraction for a file handle. On POSIX systems file handles are small integers. On Windows they're
       opaque pointers.

   <b>#define</b> <b>INVALID_HANDLE_VALUE</b>   <b>(-1)</b>
       A value for an invalid file handle. Mainly used to initialize file variables and signify that they are
       unused.

   <b>#define</b> <b>GET_PAGESIZE(x)</b>   <b>((x)</b> <b>=</b> <b>sysconf(_SC_PAGE_SIZE))</b>
       Get the size of a memory page for the system. This is the basic size that the platform's memory manager
       uses, and is fundamental to the use of memory-mapped files.

</pre><h4><b>Typedef</b> <b>Documentation</b></h4><pre>
   <b>typedef</b> <b>pthread_mutex_t</b> <b>mdb_mutex_t[1]</b>
       Shared mutex/semaphore as the original is stored.

       Not for copies. Instead it can be assigned to an <b>mdb_mutexref_t</b>. When mdb_mutexref_t is a pointer and
       mdb_mutex_t is not, then it is array[size 1] so it can be assigned to the pointer.

   <b>typedef</b> <b>pthread_mutex_t*</b> <b>mdb_mutexref_t</b>
       Reference to an <b>mdb_mutex_t</b>

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for LMDB from the source code.

                                                      LMDB                                             <u><a href="../man3/compat.3.html">compat</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>