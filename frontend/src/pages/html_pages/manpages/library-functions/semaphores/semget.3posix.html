<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       semget — get set of XSI semaphores

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;sys/sem.h&gt;

       int semget(key_t <u>key</u>, int <u>nsems</u>, int <u>semflg</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>semget</u>()  function  operates  on  XSI  semaphores  (see the Base Definitions volume of POSIX.1‐2017,
       <u>Section</u> <u>4.17</u>, <u>Semaphore</u>).  It is unspecified  whether  this  function  interoperates  with  the  realtime
       interprocess communication facilities defined in <u>Section</u> <u>2.8</u>, <u>Realtime</u>.

       The <u>semget</u>() function shall return the semaphore identifier associated with <u>key</u>.

       A  semaphore  identifier  with  its  associated  <b>semid_ds</b>  data structure and its associated set of <u>nsems</u>
       semaphores (see <u>&lt;sys/sem.h&gt;</u>) is created for <u>key</u> if one of the following is true:

        *  The argument <u>key</u> is equal to IPC_PRIVATE.

        *  The argument <u>key</u> does not already  have  a  semaphore  identifier  associated  with  it  and  (<u>semflg</u>
           &amp;IPC_CREAT) is non-zero.

       Upon creation, the <b>semid_ds</b> data structure associated with the new semaphore identifier is initialized as
       follows:

        *  In  the  operation permissions structure <u>sem_perm.cuid</u>, <u>sem_perm.uid</u>, <u>sem_perm.cgid</u>, and <u>sem_perm.gid</u>
           shall be set to the effective user ID and effective group ID, respectively, of the calling process.

        *  The low-order 9 bits of <u>sem_perm.mode</u> shall be set to the low-order 9 bits of <u>semflg</u>.

        *  The variable <u>sem_nsems</u> shall be set to the value of <u>nsems</u>.

        *  The variable <u>sem_otime</u> shall be set to 0 and <u>sem_ctime</u> shall be set to the current time, as described
           in <u>Section</u> <u>2.7.1</u>, <u>IPC</u> <u>General</u> <u>Description</u>.

        *  The data structure associated with each semaphore in the set need not be  initialized.  The  <u>semctl</u>()
           function with the command SETVAL or SETALL can be used to initialize each semaphore.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon  successful completion, <u>semget</u>() shall return a non-negative integer, namely a semaphore identifier;
       otherwise, it shall return -1 and set <u>errno</u> to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <u>semget</u>() function shall fail if:

       <b>EACCES</b> A semaphore identifier exists for <u>key</u>, but operation permission as specified by  the  low-order  9
              bits of <u>semflg</u> would not be granted; see <u>Section</u> <u>2.7</u>, <u>XSI</u> <u>Interprocess</u> <u>Communication</u>.

       <b>EEXIST</b> A  semaphore identifier exists for the argument <u>key</u> but ((<u>semflg</u> &amp;IPC_CREAT) &amp;&amp;(<u>semflg</u> &amp;IPC_EXCL))
              is non-zero.

       <b>EINVAL</b> The value of <u>nsems</u> is either less than or equal to 0 or greater than the system-imposed limit,  or
              a  semaphore  identifier  exists  for  the  argument  <u>key</u>, but the number of semaphores in the set
              associated with it is less than <u>nsems</u> and <u>nsems</u> is not equal to 0.

       <b>ENOENT</b> A semaphore identifier does not exist for the argument <u>key</u> and (<u>semflg</u> &amp;IPC_CREAT) is equal to 0.

       <b>ENOSPC</b> A semaphore identifier is to be created but the system-imposed limit  on  the  maximum  number  of
              allowed semaphores system-wide would be exceeded.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       Refer to <u>semop</u>().

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       The  POSIX  Realtime Extension defines alternative interfaces for interprocess communication. Application
       developers who need to use IPC should design their applications so that modules using  the  IPC  routines
       described  in  <u>Section</u>  <u>2.7</u>, <u>XSI</u> <u>Interprocess</u> <u>Communication</u> can be easily modified to use the alternative
       interfaces.

</pre><h4><b>RATIONALE</b></h4><pre>
       None.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       A future version may require that the value of the <u>semval</u>, <u>sempid</u>, <u>semncnt</u>, and <u>semzcnt</u>  members  of  all
       semaphores  in  a  semaphore  set be initialized to zero when a call to <u>semget</u>() creates a semaphore set.
       Many semaphore implementations already do this and it greatly simplifies what an application must  do  to
       initialize a semaphore set.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>Section</u>   <u>2.7</u>,  <u>XSI</u>  <u>Interprocess</u>  <u>Communication</u>,  <u>Section</u>  <u>2.8</u>,  <u>Realtime</u>,  <u>ftok</u>(),  <u>semctl</u>(),  <u>semop</u>(),
       <u>sem_close</u>(),  <u>sem_destroy</u>(),   <u>sem_getvalue</u>(),   <u>sem_init</u>(),   <u>sem_open</u>(),   <u>sem_post</u>(),   <u>sem_trywait</u>(),
       <u>sem_unlink</u>()

       The Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>4.17</u>, <u>Semaphore</u>, <b>&lt;sys_sem.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for  Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group Base
       Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical  and  Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE  and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any typographical or formatting errors that appear in this page are most likely to have  been  introduced
       during   the   conversion  of  the  source  files  to  man  page  format.  To  report  such  errors,  see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                        <u><a href="../man3POSIX/SEMGET.3POSIX.html">SEMGET</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>