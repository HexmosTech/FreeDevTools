<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       newlocale — create or modify a locale object

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/locale.h">locale.h</a>&gt;

       locale_t newlocale(int <u>category_mask</u>, const char *<u>locale</u>,
           locale_t <u>base</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>newlocale</u>()  function  shall  create  a  new  locale  object or modify an existing one.  If the <u>base</u>
       argument is (<b>locale_t</b>)0, a new locale object shall be created.  It  is  unspecified  whether  the  locale
       object pointed to by <u>base</u> shall be modified, or freed and a new locale object created.

       The  <u>category_mask</u>  argument  specifies  the  locale  categories  to  be  set  or  modified.   Values for
       <u>category_mask</u> shall be constructed by a bitwise-inclusive OR of  the  symbolic  constants  <u>LC_CTYPE_MASK</u>,
       <u>LC_NUMERIC_MASK</u>,  <u>LC_TIME_MASK</u>,  <u>LC_COLLATE_MASK</u>,  <u>LC_MONETARY_MASK</u>,  and <u>LC_MESSAGES_MASK</u>, or any of the
       implementation-defined mask values defined in <u>&lt;locale.h&gt;</u>.

       For each category with the corresponding bit set in <u>category_mask</u> the  data  from  the  locale  named  by
       <u>locale</u>  shall be used. In the case of modifying an existing locale object, the data from the locale named
       by <u>locale</u> shall replace the existing data within the locale object. If a completely new locale object  is
       created, the data for all sections not requested by <u>category_mask</u> shall be taken from the default locale.

       The following preset values of <u>locale</u> are defined for all settings of <u>category_mask</u>:

       "POSIX"     Specifies the minimal environment for C-language translation called the POSIX locale.

       "C"         Equivalent to <b>"POSIX"</b>.

       ""          Specifies  an implementation-defined native environment. This corresponds to the value of the
                   associated environment  variables,  <u>LC_*</u>  and  <u>LANG</u>;  see  the  Base  Definitions  volume  of
                   POSIX.1‐2017, <u>Chapter</u> <u>7</u>, <u>Locale</u> and <u>Chapter</u> <u>8</u>, <u>Environment</u> <u>Variables</u>.

       If  the <u>base</u> argument is not (<b>locale_t</b>)0 and the <u>newlocale</u>() function call succeeds, the contents of <u>base</u>
       are unspecified. Applications shall ensure that they stop using <u>base</u> as a locale  object  before  calling
       <u>newlocale</u>().   If  the function call fails and the <u>base</u> argument is not (<b>locale_t</b>)0, the contents of <u>base</u>
       shall remain valid and unchanged.

       The behavior is undefined if the <u>base</u> argument is the special locale object LC_GLOBAL_LOCALE, or is not a
       valid locale object handle and is not (<b>locale_t</b>)0.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon successful completion, the <u>newlocale</u>() function shall return a handle which the caller  may  use  on
       subsequent calls to <u>duplocale</u>(), <u>freelocale</u>(), and other functions taking a <b>locale_t</b> argument.

       Upon failure, the <u>newlocale</u>() function shall return (<b>locale_t</b>)0 and set <u>errno</u> to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <u>newlocale</u>() function shall fail if:

       <b>ENOMEM</b> There is not enough memory available to create the locale object or load the locale data.

       <b>EINVAL</b> The <u>category_mask</u> contains a bit that does not correspond to a valid category.

       <b>ENOENT</b> For any of the categories in <u>category_mask</u>, the locale data is not available.

       The <u>newlocale</u>() function may fail if:

       <b>EINVAL</b> The <u>locale</u> argument is not a valid string pointer.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Constructing</b> <b>a</b> <b>Locale</b> <b>Object</b> <b>from</b> <b>Different</b> <b>Locales</b>
       The  following  example  shows the construction of a locale where the <u>LC_CTYPE</u> category data comes from a
       locale <u>loc1</u> and the <u>LC_TIME</u> category data from a locale <u>loc2</u>:

           #include &lt;<a href="file:/usr/include/locale.h">locale.h</a>&gt;
           ...
           locale_t loc, new_loc;

           /* Get the "loc1" data. */

           loc = newlocale (LC_CTYPE_MASK, "loc1", (locale_t)0);
           if (loc == (locale_t) 0)
               abort ();

           /* Get the "loc2" data. */

           new_loc = newlocale (LC_TIME_MASK, "loc2", loc);
           if (new_loc != (locale_t) 0)
               /* We don t abort if this fails. In this case this
                  simply used to unchanged locale object. */
               loc = new_loc;

           ...

   <b>Freeing</b> <b>up</b> <b>a</b> <b>Locale</b> <b>Object</b>
       The following example shows a code fragment to free a locale object created by <u>newlocale</u>():

           #include &lt;<a href="file:/usr/include/locale.h">locale.h</a>&gt;
           ...

           /* Every locale object allocated with newlocale() should be
            * freed using freelocale():
            */

           locale_t loc;

           /* Get the locale. */

           loc = newlocale (LC_CTYPE_MASK | LC_TIME_MASK, "locname", (locale_t)0);

           /* ... Use the locale object ... */
           ...

           /* Free the locale object resources. */
           freelocale (loc);

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       Handles for locale  objects  created  by  the  <u>newlocale</u>()  function  should  either  be  released  by  a
       corresponding call to <u>freelocale</u>(), or be used as a base locale to another <u>newlocale</u>() call.

       The  special  locale object LC_GLOBAL_LOCALE must not be passed for the <u>base</u> argument, even when returned
       by the <u>uselocale</u>() function.

</pre><h4><b>RATIONALE</b></h4><pre>
       None.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>duplocale</u>(), <u>freelocale</u>(), <u>uselocale</u>()

       The Base Definitions volume of  POSIX.1‐2017,  <u>Chapter</u>  <u>7</u>,  <u>Locale</u>,  <u>Chapter</u>  <u>8</u>,  <u>Environment</u>  <u>Variables</u>,
       <b>&lt;locale.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for  Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group Base
       Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical  and  Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE  and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any typographical or formatting errors that appear in this page are most likely to have  been  introduced
       during   the   conversion  of  the  source  files  to  man  page  format.  To  report  such  errors,  see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                     <u><a href="../man3POSIX/NEWLOCALE.3POSIX.html">NEWLOCALE</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>