<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Locale::Util - Portable l10n and i10n functions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libintl-perl">libintl-perl_1.35-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Locale::Util - Portable l10n and i10n functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Locale::Util;

         my @linguas = parse_http_accept_language $ENV{HTTP_ACCEPT_LANGUAGE};

         my @charsets = parse_http_accept_charset $ENV{HTTP_ACCEPT_CHARSET};

         # Trie to set the locale to Brasilian Portuguese in UTF-8.
         my $set_locale = set_locale LC_ALL, 'pt', 'BR', 'utf-8';

         set_locale_cache $last_cache;

         my $cache = get_locale_cache;

         web_set_locale ($ENV{HTTP_ACCEPT_LANGUAGE}, $ENV_ACCEPT_CHARSET);

         web_set_locale (['fr-BE', 'fr', 'it'], ['cp1252', 'utf-8']);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides portable functions dealing with localization (l10n) and internationalization(i10n).
       It doesn't export anything by default, you have to specify each function you need in the import list, or
       use the fully qualified name.

       The functions here have a focus on web development, although they are general enough to have them in the
       Locale:: namespace.

       This module is considered alpha code.  The interface is not stable.  Please contact the author if you
       want to use it in production code.

       This module was introduced in libintl-perl 1.17.

</pre><h4><b>FUNCTIONS</b></h4><pre>
       <b>parse_http_accept_language</b> <b>STRING</b>
           Parses  a  string as passed in the HTTP header "Accept-Language".  It returns a list of tokens sorted
           by the quality value, see RFC 2616 for details.

           Example:

             parse_http_accept ("fr-fr, fr; q=0.7, de; q=0.3");

           This means: Give me French for France with a quality value of 1.0 (the maximum).   Otherwise  I  will
           take any other French version (quality 0.7), German has a quality of 0.3 for me.

           The function will return a list of tokens in the order of their quality values, in this case "fr-fr",
           "fr" and "de".

           The  function  is  more forgiving than RFC 2616.  It accepts quality values greater than 1.0 and with
           more than 3 decimal places.  It also accepts languages and country names with more than 8 characters.
           The language "*" is translated into "C".

       <b>parse_http_accept_charset</b> <b>STRING</b>
           Parses a string as passed in the HTTP header "Accept-Charset".  It returns a list of tokens sorted by
           the quality value, see RFC 2616 for details.

           The special character set "*" (means all character sets) will be translated to the undefined value.

       <b>set_locale</b> <b>CATEGORY,</b> <b>LANGUAGE[,</b> <b>COUNTRY,</b> <b>CHARSET]</b>
           Tries to set  the  user  locale  by  means  of  <b>POSIX::setlocale()</b>.   The  latter  function  has  the
           disadvantage, that its second argument (the locale description string) is completely non-standard and
           system-dependent.   This  function  tries  its  best  at  guessing  the  system's  notion of a locale
           dientifier, with the arguments supplied:

           <b>CATEGORY</b>
                   An integer argument for a valid locale category.   These  are  the  LC_*  constants  (LC_ALL,
                   LC_CTIME, LC_COLLATE, ...) defined in both <b>Locale::<a href="../man3pm/Messages.3pm.html">Messages</a></b>(3pm) and <b><a href="../man3pm/POSIX.3pm.html">POSIX</a></b>(3pm).

           <b>LANGUAGE</b>
                   A 2-letter language identifier as per ISO 639.  Case doesn't matter, but an unchanged version
                   (ie. not lower-cased) of the language you provided will always be tried to.

           <b>COUNTRY</b> A 2-letter language identifier as per ISO 639.  Case doesn't matter, but an unchanged version
                   (ie. not lower-cased) of the language you provided will always be tried to.

                   This  parameter  is  optional.   If  it  is  not  defined,  the function will try to guess an
                   appropriate country, otherwise leave it to the operating system.

           <b>CHARSET</b> A valid charset name.  Valid means valid!  The charset "utf8" is not valid (it  is  "utf-8").
                   Charset  names  that  are  accepted  by  the  guessing algorithms in <b><a href="../man3pm/Encode.3pm.html">Encode</a></b>(3pm) are also not
                   necessarily valid.

                   If the parameter is undefined, it is ignored.  It is always ignored under Windows.

           The function tries to approach the desired locale in loops, refining it on every  success.   It  will
           first try to set the language (for any country), then try to select the correct language, and finally
           try to select the correct charset.

           The   return   value   is  false  in  case  of  failure,  or  the  return  value  of  the  underlying
           <b>POSIX::setlocale()</b> call in case of success.

           In array context, the function returns the country name that was passed in  the  successful  call  to
           <b>POSIX::setlocale()</b>.   If  this string is equal to the country name you passed as an argument, you can
           be reasonably sure that the settings for this country are really used.   If  it  is  not  equal,  the
           function  has  taken a guess at the country (it has a list of "default" countries for each language).
           It seems that under Windows, <b>POSIX::setlocale()</b> also succeeds, if you pass a  country  name  that  is
           actually not supported.  Therefore, the information is not completely reliable.

           Please  note  that  this function is intended for server processes (especially web applications) that
           need to switch in a portable way to a certain locale.  It is <b>not</b>  the  recommended  way  to  set  the
           program locale for a regular application.  In a regular application you should do the following:

               use POSIX qw (setlocale LC_ALL);
               setlocale LC_ALL, '';

           The  empty  string  as the second argument means, that the system should switch to the user's default
           locale.

       <b>get_locale_cache</b>
           The function <b>set_locale()</b> is potentially expansive, especially when it fails, because it  can  try  a
           lot  of  different combinations, and the system may have to load a lot of locale definitions from its
           internal database.

           In order to speed up things, results are internally cached in a hash, keys are the languages, subkeys
           countries, subsubkeys the charsets.  You can get a reference to this hash with <b>get_locale_cache()</b>.

           The function cannot fail.

       <b>set_locale_cache</b> <b>HASH</b>
           Sets the internal cache.  You can either pass a hash or a hash reference.  The function will use this
           as its cache, discarding its old cache.  This allows you to keep the hash persistent.

           The function cannot fail.

       <b>web_set_locale</b> <b>(ACCEPT_LANGUAGE,</b> <b>ACCEPT_CHARSET,</b> <b>CATEGORY,</b> <b>AVAILABLE)</b>
           Try to change the locale to the settings described by ACCEPT_LANGUAGE and ACCEPT_CHARSET.   For  each
           argument you can either pass a string as in the corresponding http header, or a reference to an array
           of language resp. charset identifiers.

           Currently  only the first charset passed is used as an argument.  You are strongly encouraged to pass
           a hard-coded value here, so that you have control about your output.

           The  argument  <b>CATEGORY</b>  specifies  the  category  (one  of  the  LC_*  constants   as   defined   in
           <b>Locale::<a href="../man3pm/Messages.3pm.html">Messages</a></b>(3pm) or in <b><a href="../man3pm/POSIX.3pm.html">POSIX</a></b>(3pm)).  The category defaults to LC_ALL.

           You  can  pass  an  optional reference to a list of locales in XPG4 format that are available in your
           application.  This is useful if you know which languages are supported by your application.  In fact,
           only the language part of the values in the list are considered (for example for "en_US",  only  "en"
           is used).  The country or other parts are ignored.

           The function returns the return value of the underlying <b>set_locale()</b> call, or false on failure.

           The  function  returns  false  on  failure.  On success it returns the return value of the underlying
           <b>set_locale()</b> call.  This value can be used directly in subsequent calls  to  <b>POSIX::setlocale()</b>.   In
           array context, it additionally returns the identifiers for the language, the country, and the charset
           actually used.

</pre><h4><b>BUGS</b></h4><pre>
       The  function <b>set_locale()</b> probably fails to guess the correct locale identifier on a lot of systems.  If
       you have found such a case, please submit it as a bug report.

       The bug tracking system for this packags is at <a href="http://rt.cpan.org/NoAuth/Bugs.html">http://rt.cpan.org/NoAuth/Bugs.html</a>?libintl-perl

       Please note that this module is considered alpha code, and the interface is not stable.   Please  contact
       the author, if you want to use it in production code.

</pre><h4><b>AUTHOR</b></h4><pre>
       Copyright  (C)  2002-2017  Guido Flohr &lt;<a href="http://www.guido-flohr.net/">http://www.guido-flohr.net/</a>&gt; (&lt;<a href="mailto:guido.flohr@cantanea.com">mailto:guido.flohr@cantanea.com</a>&gt;),
       all rights reserved.  See the source code for details!code for details!

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3pm/POSIX.3pm.html">POSIX</a></b>(3pm), <b><a href="../man1/perl.1.html">perl</a></b>(1)

perl v5.40.0                                       2025-02-15                                  <u>Locale::<a href="../man3pm/Util.3pm.html">Util</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>