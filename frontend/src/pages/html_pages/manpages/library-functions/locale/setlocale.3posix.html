<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       setlocale — set program locale

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/locale.h">locale.h</a>&gt;

       char *setlocale(int <u>category</u>, const char *<u>locale</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  functionality  described  on  this  reference  page is aligned with the ISO C standard. Any conflict
       between the requirements described  here  and  the  ISO C  standard  is  unintentional.  This  volume  of
       POSIX.1‐2017 defers to the ISO C standard.

       The <u>setlocale</u>() function selects the appropriate piece of the global locale, as specified by the <u>category</u>
       and  <u>locale</u>  arguments,  and can be used to change or query the entire global locale or portions thereof.
       The value LC_ALL for <u>category</u> names the entire global locale; other values for <u>category</u> name only a  part
       of the global locale:

       LC_COLLATE  Affects the behavior of regular expressions and the collation functions.

       LC_CTYPE    Affects  the  behavior of regular expressions, character classification, character conversion
                   functions, and wide-character functions.

       LC_MESSAGES Affects the affirmative and negative response expressions returned by <u>nl_langinfo</u>()  and  the
                   way message catalogs are located. It may also affect the behavior of functions that return or
                   write message strings.

       LC_MONETARY Affects the behavior of functions that handle monetary values.

       LC_NUMERIC  Affects the behavior of functions that handle numeric values.

       LC_TIME     Affects the behavior of the time conversion functions.

       The  <u>locale</u> argument is a pointer to a character string containing the required setting of <u>category</u>.  The
       contents of this string are implementation-defined. In addition, the following preset  values  of  <u>locale</u>
       are defined for all settings of <u>category</u>:

       "POSIX"     Specifies  the  minimal  environment  for C-language translation called the POSIX locale. The
                   POSIX locale is the default global locale at entry to <u>main</u>().

       "C"         Equivalent to <b>"POSIX"</b>.

       ""          Specifies an implementation-defined native environment.  The determination of the name of the
                   new locale for the specified category depends on the  value  of  the  associated  environment
                   variables,  <u>LC_*</u> and <u>LANG</u>; see the Base Definitions volume of POSIX.1‐2017, <u>Chapter</u> <u>7</u>, <u>Locale</u>
                   and <u>Chapter</u> <u>8</u>, <u>Environment</u> <u>Variables</u>.

       A null pointer
                   Directs <u>setlocale</u>() to query the current global locale setting and return  the  name  of  the
                   locale if <u>category</u> is not LC_ALL, or a string which encodes the locale name(s) for all of the
                   individual categories if <u>category</u> is LC_ALL.

       Setting  all  of  the  categories of the global locale is similar to successively setting each individual
       category of the global locale, except that all error checking is done before any actions  are  performed.
       To set all the categories of the global locale, <u>setlocale</u>() can be invoked as:

           setlocale(LC_ALL, "");

       In  this  case,  <u>setlocale</u>() shall first verify that the values of all the environment variables it needs
       according to the precedence rules (described in the Base Definitions volume of POSIX.1‐2017,  <u>Chapter</u>  <u>8</u>,
       <u>Environment</u>  <u>Variables</u>)  indicate  supported  locales.  If the value of any of these environment variable
       searches yields a locale that is not supported (and non-null), <u>setlocale</u>() shall return  a  null  pointer
       and  the  global  locale  shall  not  be  changed.  If  all environment variables name supported locales,
       <u>setlocale</u>() shall proceed as if it had been called for each category, using the  appropriate  value  from
       the associated environment variable or from the implementation-defined default if there is no such value.

       The global locale established using <u>setlocale</u>() shall only be used in threads for which no current locale
       has  been  set  using  <u>uselocale</u>()  or  whose  current  locale  has  been  set to the global locale using
       <u>uselocale</u>(LC_GLOBAL_LOCALE)<u>.</u>

       The implementation shall behave  as  if  no  function  defined  in  this  volume  of  POSIX.1‐2017  calls
       <u>setlocale</u>().

       The <u>setlocale</u>() function need not be thread-safe.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon  successful  completion,  <u>setlocale</u>() shall return the string associated with the specified category
       for the new locale. Otherwise, <u>setlocale</u>() shall return a null pointer and the global locale shall not be
       changed.

       A null pointer for <u>locale</u> shall cause <u>setlocale</u>() to return a pointer to the string associated  with  the
       specified <u>category</u> for the current global locale. The global locale shall not be changed.

       The  string  returned  by  <u>setlocale</u>() is such that a subsequent call with that string and its associated
       <u>category</u> shall restore that part of the global locale.  The  application  shall  not  modify  the  string
       returned.  The returned string pointer might be invalidated or the string content might be overwritten by
       a  subsequent  call to <u>setlocale</u>().  The returned pointer might also be invalidated if the calling thread
       is terminated.

</pre><h4><b>ERRORS</b></h4><pre>
       No errors are defined.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       None.

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       The following code illustrates how a  program  can  initialize  the  international  environment  for  one
       language,  while  selectively  modifying  the  global  locale  such  that  regular expressions and string
       operations can be applied to text recorded in a different language:

           setlocale(LC_ALL, "De");
           setlocale(LC_COLLATE, "Fr@dict");

       Internationalized programs can initiate language operation according  to  environment  variable  settings
       (see the Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>8.2</u>, <u>Internationalization</u> <u>Variables</u>) by calling
       <u>setlocale</u>() as follows:

           setlocale(LC_ALL, "");

       Changing  the  setting of <u>LC_MESSAGES</u> has no effect on catalogs that have already been opened by calls to
       <u>catopen</u>().

       In order to make use of different locale settings while multiple threads are running, applications should
       use <u>uselocale</u>() in preference to <u>setlocale</u>().

</pre><h4><b>RATIONALE</b></h4><pre>
       References to the international environment or locale in the following text relate to the  global  locale
       for the process. This can be overridden for individual threads using <u>uselocale</u>().

       The  ISO C  standard  defines a collection of functions to support internationalization.  One of the most
       significant aspects of these functions is a facility to set and query the <u>international</u> <u>environment</u>.  The
       international  environment  is  a  repository  of  information  that  affects  the  behavior  of  certain
       functionality, namely:

        1. Character handling

        2. Collating

        3. Date/time formatting

        4. Numeric editing

        5. Monetary formatting

        6. Messaging

       The  <u>setlocale</u>()  function  provides  the  application developer with the ability to set all or portions,
       called <u>categories</u>, of the international  environment.   These  categories  correspond  to  the  areas  of
       functionality mentioned above. The syntax for <u>setlocale</u>() is as follows:

           char *setlocale(int <u>category</u>, const char *<u>locale</u>);

       where <u>category</u> is the name of one of following categories, namely:

              LC_COLLATE LC_CTYPE LC_MESSAGES LC_MONETARY LC_NUMERIC LC_TIME

       In addition, a special value called LC_ALL directs <u>setlocale</u>() to set all categories.

       There are two primary uses of <u>setlocale</u>():

        1. Querying the international environment to find out what it is set to

        2. Setting the international environment, or <u>locale</u>, to a specific value

       The  behavior of <u>setlocale</u>() in these two areas is described below. Since it is difficult to describe the
       behavior in words, examples are used to illustrate the behavior of specific uses.

       To query the international environment, <u>setlocale</u>() is invoked with a  specific  category  and  the  null
       pointer  as  the  locale.  The  null pointer is a special directive to <u>setlocale</u>() that tells it to query
       rather than set the international environment.  The following syntax is used to query  the  name  of  the
       international environment:

           setlocale({LC_ALL, LC_COLLATE, LC_CTYPE, LC_MESSAGES, LC_MONETARY, \
               LC_NUMERIC, LC_TIME},(char *) NULL);

       The  <u>setlocale</u>() function shall return the string corresponding to the current international environment.
       This value may be used by a subsequent call to <u>setlocale</u>() to reset the international environment to this
       value. However, it should be noted that the return value from <u>setlocale</u>() may be a pointer  to  a  static
       area  within  the  function  and  is not guaranteed to remain unchanged (that is, it may be modified by a
       subsequent call to <u>setlocale</u>()).  Therefore, if the purpose of calling <u>setlocale</u>() is to save  the  value
       of the current international environment so it can be changed and reset later, the return value should be
       copied to an array of <b>char</b> in the calling program.

       There are three ways to set the international environment with <u>setlocale</u>():

       <u>setlocale</u>(<u>category</u>, <u>string</u>)
             This  usage  sets  a  specific  <u>category</u>  in  the  international  environment  to  a specific value
             corresponding to the value of the <u>string</u>.  A specific example is provided below:

                 setlocale(LC_ALL, "fr_FR.ISO-8859-1");

             In  this  example,  all  categories  of  the  international  environment  are  set  to  the  locale
             corresponding to the string <b>"fr_FR.ISO-8859-1"</b>, or to the French language as spoken in France using
             the ISO/IEC 8859‐1:1998 standard codeset.

             If  the  string  does not correspond to a valid locale, <u>setlocale</u>() shall return a null pointer and
             the international environment is not changed. Otherwise, <u>setlocale</u>() shall return the name  of  the
             locale just set.

       <u>setlocale</u>(<u>category</u>, "C")
             The ISO C standard states that one locale must exist on all conforming implementations. The name of
             the  locale  is  C  and  corresponds to a minimal international environment needed to support the C
             programming language.

       <u>setlocale</u>(<u>category</u>, "")
             This sets a specific category to an implementation-defined default.  This corresponds to the  value
             of the environment variables.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>catopen</u>(), <u>exec</u>, <u>fprintf</u>(), <u>fscanf</u>(), <u>isalnum</u>(), <u>isalpha</u>(), <u>isblank</u>(), <u>iscntrl</u>(), <u>isdigit</u>(), <u>isgraph</u>(),
       <u>islower</u>(), <u>isprint</u>(), <u>ispunct</u>(), <u>isspace</u>(), <u>isupper</u>(), <u>iswalnum</u>(), <u>iswalpha</u>(), <u>iswblank</u>(), <u>iswcntrl</u>(),
       <u>iswctype</u>(), <u>iswdigit</u>(), <u>iswgraph</u>(), <u>iswlower</u>(), <u>iswprint</u>(), <u>iswpunct</u>(), <u>iswspace</u>(), <u>iswupper</u>(),
       <u>iswxdigit</u>(), <u>isxdigit</u>(), <u>localeconv</u>(), <u>mblen</u>(), <u>mbstowcs</u>(), <u>mbtowc</u>(), <u>newlocale</u>(), <u>nl_langinfo</u>(),
       <u>perror</u>(), <u>psiginfo</u>(), <u>strcoll</u>(), <u>strerror</u>(), <u>strfmon</u>(), <u>strsignal</u>(), <u>strtod</u>(), <u>strxfrm</u>(), <u>tolower</u>(),
       <u>toupper</u>(), <u>towlower</u>(), <u>towupper</u>(), <u>uselocale</u>(), <u>wcscoll</u>(), <u>wcstod</u>(), <u>wcstombs</u>(), <u>wcsxfrm</u>(), <u>wctomb</u>()

       The  Base  Definitions  volume  of  POSIX.1‐2017,  <u>Chapter</u>  <u>7</u>,  <u>Locale</u>, <u>Chapter</u> <u>8</u>, <u>Environment</u> <u>Variables</u>,
       <b>&lt;langinfo.h&gt;</b>, <b>&lt;locale.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                     <u><a href="../man3POSIX/SETLOCALE.3POSIX.html">SETLOCALE</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>