<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Locale::Po4a::Po - PO file manipulation module</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/po4a">po4a_0.73-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Locale::Po4a::Po - PO file manipulation module

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Locale::Po4a::Po;
           my $pofile=Locale::Po4a::Po-&gt;new();

           # Read PO file
           $pofile-&gt;read('file.po');

           # Add an entry
           $pofile-&gt;push('msgid' =&gt; 'Hello', 'msgstr' =&gt; 'bonjour',
                         'flags' =&gt; "wrap", 'reference'=&gt;'file.c:46');

           # Extract a translation
           $pofile-&gt;gettext("Hello"); # returns 'bonjour'

           # Write back to a file
           $pofile-&gt;write('otherfile.po');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Locale::Po4a::Po is a module that allows you to manipulate message catalogs. You can load and write
       from/to a file (which extension is often <u>po</u>), you can build new entries on the fly or request for the
       translation of a string.

       For a more complete description of message catalogs in the PO format and their use, please refer to the
       info documentation of the gettext program (node "`PO Files"').

       This module is part of the po4a project, which objective is to use PO files (designed at origin to ease
       the translation of program messages) to translate everything, including documentation (man page, info
       manual), package description, debconf templates, and everything which may benefit from this.

</pre><h4><b>OPTIONS</b> <b>ACCEPTED</b> <b>BY</b> <b>THIS</b> <b>MODULE</b></h4><pre>
       <b>--porefs</b> <u>type</u>
           Specify the reference format. Argument <u>type</u> can be one of <b>never</b> to not produce any reference, <b>file</b> to
           only  specify  the  file  without  the  line  number, <b>counter</b> to replace line number by an increasing
           counter, and <b>full</b> to include complete references (default: full).

       <b>--wrap-po</b> <b>no</b>|<b>newlines</b>|<u>number</u> (default: 76)
           Specify how the po file should be wrapped. This gives the choice between either files that are nicely
           wrapped but could lead to git conflicts, or files that are easier to handle automatically, but harder
           to read for humans.

           Historically, the gettext suite has reformatted the po files at the 77th column for  cosmetics.  This
           option  specifies the behavior of po4a. If set to a numerical value, po4a will wrap the po file after
           this column and after newlines in the content. If set to <b>newlines</b>, po4a will only split the msgid and
           msgstr after newlines in the content. If set to <b>no</b>, po4a will not wrap  the  po  file  at  all.   The
           reference comments are always wrapped by the gettext tools that we use internally.

           Note  that  this  option has no impact on how the msgid and msgstr are wrapped, i.e.  on how newlines
           are added to the content of these strings.

       <b>--msgid-bugs-address</b> <u>email@address</u>
           Set the report address for msgid bugs. By default, the created POT files have no Report-Msgid-Bugs-To
           fields.

       <b>--copyright-holder</b> <u>string</u>
           Set the copyright holder in the POT header. The default value is "Free Software Foundation, Inc."

       <b>--package-name</b> <u>string</u>
           Set the package name for the POT header. The default is "PACKAGE".

       <b>--package-version</b> <u>string</u>
           Set the package version for the POT header. The default is "VERSION".

</pre><h4><b>Functions</b> <b>concerning</b> <b>entire</b> <b>message</b> <b>catalogs</b></h4><pre>
       <b>new()</b>
           Creates a new message catalog. If an argument is provided, it's the name of a PO file we should load.

       read($)
           Reads a PO file (which name is given as argument).  Previously  existing  entries  in  self  are  not
           removed, the new ones are added to the end of the catalog.

       write($)
           Writes the current catalog to the given file.

       write_if_needed($$)
           Like  write, but if the PO or POT file already exists, the object will be written in a temporary file
           which will be compared with the existing file to check if the update is needed (this avoids to change
           a POT just to update a line reference or the POT-Creation-Date field).

       filter($)
           This function extracts a catalog from an existing one. Only the entries having  a  reference  in  the
           given file will be placed in the resulting catalog.

           This  function  parses its argument, converts it to a Perl function definition, evals this definition
           and filters the fields for which this function returns true.

           I love Perl sometimes ;)

</pre><h4><b>Functions</b> <b>to</b> <b>use</b> <b>a</b> <b>message</b> <b>catalog</b> <b>for</b> <b>translations</b></h4><pre>
       gettext($%)
           Request the translation of the string given as argument in the current catalog.  The function returns
           the original (untranslated) string if the string was not found.

           After the string to translate, you can pass a hash of extra arguments. Here are the valid entries:

           <b>wrap</b>
               boolean indicating whether we can consider that whitespaces in string are not important. If  yes,
               the function canonizes the string before looking for a translation, and wraps the result.

           <b>wrapcol</b>
               the column at which we should wrap (default: 76).

       <b>stats_get()</b>
           Returns  statistics about the hit ratio of gettext since the last time that <b>stats_clear()</b> was called.
           Please note that it's not the same statistics than the one printed by msgfmt --statistic. Here,  it's
           statistics  about  recent usage of the PO file, while msgfmt reports the status of the file.  Example
           of use:

               [some use of the PO file to translate stuff]

               ($percent,$hit,$queries) = $pofile-&gt;stats_get();
               print "So far, we found translations for $percent\%  ($hit of $queries) of strings.\n";

       <b>stats_clear()</b>
           Clears the statistics about gettext hits.

</pre><h4><b>Functions</b> <b>to</b> <b>build</b> <b>a</b> <b>message</b> <b>catalog</b></h4><pre>
       push(%)
           Push a new entry at the end of the current catalog. The arguments should form a hash table. The valid
           keys are:

           <b>msgid</b>
               the string in original language.

           <b>msgstr</b>
               the translation.

           <b>reference</b>
               an indication of where this string was found. Example: file.c:46 (meaning  in  'file.c'  at  line
               46). It can be a space-separated list in case of multiple occurrences.

           <b>comment</b>
               a comment added here manually (by the translators). The format here is free.

           <b>automatic</b>
               a  comment which was automatically added by the string extraction program. See the <b>--add-comments</b>
               option of the <b>xgettext</b> program for more information.

           <b>flags</b>
               space-separated list of all defined flags for this entry.

               Valid flags are: <b>c-text</b>, <b>python-text</b>, <b>lisp-text</b>, <b>elisp-text</b>, <b>librep-text</b>,  <b>smalltalk-text</b>,  <b>java-</b>
               <b>text</b>, <b>awk-text</b>, <b>object-pascal-text</b>, <b>ycp-text</b>, <b>tcl-text</b>, <b>wrap</b>, <b>no-wrap</b> and <b>fuzzy</b>.

               See the gettext documentation for their meaning.

           <b>type</b>
               this is mostly an internal argument: it is used while gettextizing documents. The idea here is to
               parse  both  the original and the translation into a PO object, and merge them, using one's msgid
               as msgid and the other's msgid as msgstr. To make sure that things  get  ok,  each  msgid  in  PO
               objects  are  given  a  type,  based  on their structure (like "chapt", "sect1", "p" and so on in
               DocBook). If the types of strings are not the same, that means that both files do not  share  the
               same structure, and the process reports an error.

               This  information  is written as automatic comment in the PO file since this gives to translators
               some context about the strings to translate.

           <b>wrap</b>
               boolean indicating whether whitespaces can be mangled in cosmetic  reformattings.  If  true,  the
               string is canonized before use.

               This information is written to the PO file using the <b>wrap</b> or <b>no-wrap</b> flag.

           <b>wrapcol</b>
               ignored; the key is kept for backward computability.

</pre><h4><b>Miscellaneous</b> <b>functions</b></h4><pre>
       <b>count_entries()</b>
           Returns the number of entries in the catalog (without the header).

       <b>count_entries_doc()</b>
           Returns  the  number  of  entries in document. If a string appears multiple times in the document, it
           will be counted multiple times.

       msgid($)
           Returns the msgid of the given number.

       msgid_doc($)
           Returns the msgid with the given position in the document.

       type_doc($)
           Returns the type of the msgid with the given position in the document. This is probably  only  useful
           to gettextization, and it's stored separately from {$msgid}{'type'} because the later location may be
           overwritten by another type when the $msgid is duplicated in the master document.

       <b>get_charset()</b>
           Returns the character set specified in the PO header. If it hasn't been set, it will return "UTF-8".

</pre><h4><b>AUTHORS</b></h4><pre>
        Denis Barbier &lt;<a href="mailto:barbier@linuxfr.org">barbier@linuxfr.org</a>&gt;
        Martin Quinson (mquinson#debian.org)

perl v5.38.2                                       2024-08-28                            <u>LOCALE::PO4A::<a href="../man1/PO.3PM.1.html">PO.3PM</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>