<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Locale::XGettext - Extract Strings To PO Files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liblocale-xgettext-perl">liblocale-xgettext-perl_0.7-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Locale::XGettext - Extract Strings To PO Files

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use base 'Locale::XGettext';

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Locale::XGettext</b> is the base class for various string extractors.  These string extractors can be used as
       standalone programs on the command-line or as a module as a part of other software.

       See &lt;https://github.com/gflohr/Locale-XGettext&gt; for an overall picture of the software.

</pre><h4><b>USAGE</b></h4><pre>
       This section describes the usage of extractors based on this library.  See "SUBCLASSING" and the sections
       following it for the API documentation!

           xgettext-LANG [OPTIONS] [INPUTFILE]...

       <b>LANG</b> will be replaced by an identifier for the language that a specific extractor was written for, for
       example "xgettext-txt" for plain text files or "xgettext-tt2" for templates for the Template Toolkit
       version 2 (see Template).

       By default, string extractors based on this module extract strings from one or more <b>INPUTFILES</b> and write
       the output to a file "messages.po" if any strings had been found.

</pre><h4><b>OPTIONS</b></h4><pre>
       The command line options are mostly compatible to <u>xgettext</u> from GNU Gettext
       &lt;https://www.gnu.org/software/gettext/manual/html_node/xgettext-Invocation.html&gt;.

   <b>INPUT</b> <b>FILE</b> <b>LOCATION</b>
       <b>INPUTFILE...</b>
           All  non-option  arguments are interpreted as input files containing strings to be extracted.  If the
           input file is "-", standard input is read.

       <b>-f</b> <b>FILE</b>
       <b>--files-from=FILE</b>
           Read the names of the input files from <b>FILE</b> instead of getting them from the command line.

           <b>Note!</b> Unlike xgettext from GNU Gettext, extractors  based  on  <b>Locale::XGettext</b>  accept  this  option
           multiple times, so that you can read the list of input files from multiple files.

       <b>-D</b> <b>DIRECTORY</b>
       <b>--directory=DIRECTORY</b>
           Add  <b>DIRECTORY</b>  to  the  list  of  directories.  Source  files  are searched relative to this list of
           directories. The resulting .po file will be written relative to the current directory, though.

   <b>OUTPUT</b> <b>FILE</b> <b>LOCATION</b>
       <b>-d</b> <b>NAME</b>
       <b>--default-domain=NAME</b>
           Use <b>NAME</b>.po for output (instead of <u>messages.po</u>).

       <b>-o</b> <b>FILE</b>
       <b>--output=FILE</b>
           Write output to specified <u><b>FILE</b></u> (instead of <u><b>NAME</b>.po</u> or <u>messages.po</u>).

       <b>-p</b> <b>DIR</b>
       <b>--output-dir=DIR</b>
           Output files will be placed in directory <b>DIR</b>.

           If the output file is <b>-</b> or <u>/dev/stdout</u>, the output is written to standard output.

   <b>INPUT</b> <b>FILE</b> <b>INTERPRETATION</b>
       <b>--from-code=NAME</b>
           Specifies the encoding of the input files. This option is needed only if  some  untranslated  message
           strings or their corresponding comments contain non-ASCII characters.

           By default the input files are assumed to be in ASCII.

           <b>Note!</b> Some extractors have a fixed input set, UTF-8 most of the times.

   <b>OPERATION</b> <b>MODE</b>
       <b>-j</b>
       <b>--join-existing</b>
           Join  messages  with  existing  files.   This is a shortcut for adding the output file to the list of
           input files.  The output file is read, and then all messages from other input files are added.

           For obvious reasons, you cannot use this option if output is written to standard output.

       <b>-x</b> <b>FILE.po</b>
       <b>--exclude-file=FILE.po</b>
           PO entries that are present in <u>FILE.po</u> are not extracted.

       <b>-c</b> <b>TAG</b>
       <b>--add-comments=TAG</b>
           Place comment blocks starting with <b>TAG</b> in the output if they precede a keyword line.

       <b>-c</b>
       <b>--add-comments</b>
           Place all comment blocks that precede a keyword line in the output.

   <b>LANGUAGE-SPECIFIC-OPTIONS</b>
       <b>-a</b>
       <b>--extract-all</b>
           Extract <b>all</b> strings, not just the ones marked with keywords.

           <b>Not</b> <b>all</b> <b>extractors</b> <b>support</b> <b>this</b> <b>option!</b>

       <b>-k</b> <b>WORD</b>
       <b>--keyword=WORD</b>
           Use <b>WORD</b> as an additional keyword.

           <b>Not</b> <b>all</b> <b>extractors</b> <b>support</b> <b>this</b> <b>option!</b>

       <b>-k</b>
       <b>--keyword</b>
           Do not use default keywords!  If you define your own  keywords,  you  use  usually  give  the  option
           '--keyword'  first  without  an  argument  to  reset  the  keyword list to empty, and then you give a
           '--keyword' option for everyt keyword wanted.

           <b>Not</b> <b>all</b> <b>extractors</b> <b>support</b> <b>this</b> <b>option!</b>

       <b>--flag=WORD:ARG:FLAG</b>
           Original explanation from GNU gettext:

               Specifies additional flags for strings occurring as part of the <u>arg</u>th argument  of  the  function
               <u>word</u>. The possible flags are the possible format string indicators, such as Xc-formatX, and their
               negations, such as Xno-c-formatX, possibly prefixed with Xpass-X.

               The  meaning  of --flag=<u>function:arg:lang-format</u> is that in language <u>lang</u>, the specified <u>function</u>
               expects as <u>arg</u>th argument a format  string.   (For  those  of  you  familiar  with  GCC  function
               attributes,  --flag=<u>function:arg</u>:c-format is roughly equivalent to the declaration X__attribute__
               ((__format__ (__printf__, <u>arg</u>, ...)))X attached to <u>function</u> in a C source file.) For example,  if
               you   use   the   XerrorX  function  from  GNU  libc,  you  can  specify  its  behaviour  through
               --flag=error:3:c-format.  The effect of this specification is that xgettext will mark  as  format
               strings  all  gettext  invocations that occur as <u>arg</u>th argument of <u>function</u>.  This is useful when
               such strings contain no format string directives: together with the checks done by Xmsgfmt -cX it
               will ensure that translators cannot accidentally use format string directives that would lead  to
               a crash at runtime.

               The  meaning  of  --flag=<u>function:arg</u>:pass-<u>lang</u>-format  is that in language <u>lang</u>, if the <u>function</u>
               call occurs in a position that must yield a format string, then its <u>arg</u>th argument must  yield  a
               format   string   of  the  same  type  as  well.  (If  you  know  GCC  function  attributes,  the
               --flag=<u>function:arg</u>:pass-c-format option is roughly equivalent to the declaration  X__attribute__
               ((__format_arg__  (<u>arg</u>)))X  attached to function in a C source file.) For example, if you use the
               X_X shortcut for the gettext function, you should use  --flag=_:1:pass-c-format.  The  effect  of
               this  specification is that xgettext will propagate a format string requirement for a _("string")
               call to its first argument, the literal "string", and thus mark it as a format  string.  This  is
               useful  when  such  strings contain no format string directives: together with the checks done by
               Xmsgfmt -cX it will ensure that translators cannot accidentally use format string directives that
               would lead to a crash at runtime.

           Note that  <b>Locale::XGettext</b>  ignores  the  prefix  <u>pass-</u>  and  therefore  most  extractors  based  on
           <b>Locale::XGettext</b> will also ignore it.

       Individual extractors may define more language-specific options.

   <b>Output</b> <b>Details</b>
       <b>--force-po</b>
           Write PO file even if empty.  Normally, empty PO files are not written, and existing output files are
           not overwritten if they would be empty.

       <b>--no-location</b>
           Do not write '#: filename:line' lines into the output PO files.

       <b>-n</b>
       <b>--add-location</b>
           Generate '#: filename:line' lines in the output PO files.  This is the default.

       <b>-s</b>
       <b>--sort-output</b>
           Sort output entries alphanumerically.

       <b>-F</b>
       <b>--sort-by-file</b>
           Sort output entries by source file location.

       <b>--omit-header</b>
           Do  not  write  header  with  meta  information.   The  meta  information is normally included as the
           "translation" for the empty string.

           If you want to hava a translation for  an  empty  string  you  should  also  consider  using  message
           contexts.

       <b>--copyright-holder=STRING</b>
           Set the copyright holder to <b>STRING</b> in the output PO file.

       <b>--foreign-user</b>
           Omit FSF copyright in output for foreign user.

       <b>--package-name=PACKAGE</b>
           Set package name in output

       <b>--package-version=VERSION</b>
           Set package version in output.

       <b>--msgid-bugs-address=EMAIL@ADDRESS</b>
           Set report address for msgid bugs.

       <b>-m[STRING]</b>
       <b>--msgstr-prefix[=STRING]</b>
           Use STRING or "" as prefix for msgstr values.

       <b>-M[STRING]</b>
       <b>--msgstr-suffix[=STRING]</b>
           Use STRING or "" as suffix for msgstr values.

   <b>INFORMATIVE</b> <b>OUTPUT</b>
       <b>-h</b>
       <b>--help</b>
           Display short help and exit.

       <b>-V</b>
       <b>--version</b>
           Output version information and exit.

</pre><h4><b>SUBCLASSING</b></h4><pre>
       Writing a complete extractor script in Perl with <b>Locale::XGettext</b> is as simple as:

           #! <a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?env">/usr/bin/env</a> perl

           use Locale::Messages qw(setlocale LC_MESSAGES);
           use Locale::TextDomain qw(YOURTEXTDOMAIN);

           use Locale::XGettext::YOURSUBCLASS;

           Locale::Messages::setlocale(LC_MESSAGES, "");
           Locale::XGettext::YOURSUBCLASS-&gt;newFromArgv(\@ARGV)-&gt;run-&gt;output;

       Writing the extractor class is also trivial:

           package Locale::XGettext::YOURSUBCLASS;

           use base 'Locale::XGettext';

           sub readFile {
               my ($self, $filename) = @_;

               foreach my $found (search_for_strings_in $filename) {
                   $self-&gt;addEntry({
                       msgid =&gt; $found-&gt;{string},
                       # More possible fields following, see
                       # addEntry() below!
                   }, $found-&gt;{possible_comment});
               }

               # The return value is actually ignored.
               return $self;
           }

       All  the  heavy  lifting happens in the method <b>readFile()</b> that you have to implement yourself.  All other
       methods are optional.

       See the section "METHODS" below  for  information  on  how  to  additionally  modify  the  behavior  your
       extractor.

</pre><h4><b>CONSTRUCTORS</b></h4><pre>
       <b>new</b> <b>$OPTIONS,</b> <b>@FILES</b>
           <b>OPTIONS</b>  is a hash reference containing the above command-line options but with every hyphen replaced
           by an underscore.  You should normally not use this constructor!

       <b>newFromArgv</b> <b>$ARGV</b>
           <b>ARGV</b>  is  a  reference  to  a  an  array  of  command-line  arguments  that  is  passed  verbatim  to
           <b>Getopt::Long::GetOptionsFromArray</b>.  After processing all options and arguments, the constructor <b>new()</b>
           above is then invoked with the cooked command-line arguments.

           This is the constructor that you should normally use in custom extractors that you write.

</pre><h4><b>METHODS</b></h4><pre>
       <b>Locale::XGettext</b>  is  an  abstract  base  class.   All  public  methods  may  be overridden by subclassed
       extractors.

       <b>readFile</b> <b>FILENAME</b>
           You have to implement this method yourself.  In it, read <b>FILENAME</b>, extract all relevant entries,  and
           call <b>addEntry()</b> for each entry found.

           The  method  is  not  invoked  for filenames ending in ".po" or ".pot"!  For those files, <b>readPO()</b> is
           invoked instead.

           This method is the only one that you have to implement!

       <b>addEntry</b> <b>ENTRY[,</b> <b>COMMENT]</b>
           You should invoke this  method for every entry found.

           <b>COMMENT</b> is an optional comment that you may  have  extracted  along  with  the  message.   Note  that
           <b>addEntry()</b>  checks  whether  this  comment  should make it into the output.  Therefore, just pass any
           comment that you have found preceding the keyword.

           <b>ENTRY</b> should be a reference to a hash with these possible keys:

           <b>msgid</b>   The entry's message id.

           <b>msgid_plural</b>
                   A possible plural form.

           <b>msgctxt</b> A possible message context.

           <b>reference</b>
                   A source reference in the form "FILENAME: LINENO".

           <b>flags</b>   Set a flag for this entry, for example "perl-brace-format"  or  "no-perl-brace-format".   You
                   can comma-separate multiple flags.

           <b>keyword</b> The  keyword  that  triggered the entry.  If you set this property and the keyword definition
                   contained an automatic comment, the comment will be added.  You can try this out like this:

                       xgettext-my.pl --keyword=greet:1,'"Hello, world!"'

                   If you set <b>keyword</b> to "greet", the comment "Hello, world"  will  be  added.   Note  that  the
                   "double quotes" are part of the command-line argument!

                   Likewise,  if  "--flag" was specified on the command-line or the extractor ships with default
                   flags, entries matching the flag definition will automatically have this flag.

                   You can try this out with:

                       xgettext-my.pl --keyword="greet:1" --flag=greet:1:hello-format

                   Now all PO entries for the keyword "greet" will have the flag "hello-format"

           <b>fuzzy</b>   True if the entry is fuzzy.  There is no reason to use this in string extractors because they
                   typically product .pot files without translations.

           <b>automatic</b>
                   Sets an automatic comment, not recommended.  Rather set  the  keyword  (see  above)  and  let
                   <b>Locale::XGettext</b> set the comment as appropriate.

           Instead  of  a hash you can currently also pass a <b>Locale::PO</b> object.  This may no longer be supported
           in the future.  Do not use!

       <b>keywords</b>
           Return a hash reference with all keyword definitions as Locale::XGettext::Util::Keyword objects.

       <b>keywordOptionStrings</b>
           Return a reference to an array with all keyword  definitions  as  option  strings  suitable  for  the
           command-line option "--keyword".

       <b>flags</b>
           Return an array reference with all flag definitions as Locale::XGettext::Util::Flag objects.

       <b>flagOptionStrings</b>
           Return  a reference to an array with all flag definitions as option strings suitable for the command-
           line option "--flag".

       <b>options</b>
           Get all command-line options as a hash reference.

       <b>option</b> <b>OPTION</b>
           Get the value for command line option <b>OPTION</b>.

       <b>setOption</b> <b>OPTION,</b> <b>VALUE</b>
           Set the value for command line option <b>OPTION</b> to <b>VALUE</b>.

       <b>languageSpecificOptions</b>
           The default representation returns nothing.

           Your own implementation can return an reference to an array of arrays, each of  them  containing  one
           option specification consisting of four items:

           •       The  option  specification  for  <b>Getopt::<a href="../man3pm/Long.3pm.html">Long</a></b>(3pm),  for example "f|filename=s" for an option
                   expecting a mandatory string argument.

           •       The name of the option.  This is what gets passed to <b>option()</b> above.  It should generally  be
                   the long option name with hyphens converted to underscores.

           •       The  option  description  for  the  usage  information,  for example "-f, --files=STRING" for
                   options taking arguments or something like "    --verbose" for long-only  options.   This  is
                   printed in the left column, when you invoke your extractor with "--help".

           •       The  description  of  this option.  This is printed in the right column, when you invoke your
                   extractor with "--help".

       <b>printLanguageSpecificOptions</b>
           Prints all language-specific options to standard output, calls <b>languageSpecificOptions()</b>  internally.
           This is used for the output for the option "--help".

       <b>fileInformation</b>
           Returns  nothing  by  default.   You  can  return a string describing the expected input format, when
           invoked with "--help".

       <b>versionInformation</b>
           Returns nothing by default.  You can return a string that is printed, when invoked with "--version".

       <b>bugTrackingAddress</b>
           Returns nothing by default.  You can return a  string  describing  the  bug  tracking  address,  when
           invoked with "--help".

       <b>canExtractAll</b>
           Returns   false   by  default.   Return  a  truthy  value  if  your  extractor  supports  the  option
           "--extract-all".

       <b>canKeywords</b>
           Returns true by default.  Return a false  value  if  your  extractor  does  not  support  the  option
           "--keyword".

       <b>canFlags</b>
           Returns  true  by  default.   Return  a  false  value  if  your extractor does not support the option
           "--flag".

       <b>needInputFiles</b>
           Returns true by default.  Return a false value if your extractor does not support input  from  files.
           In this case you should implement <b>readFromNonFiles()</b>.

       <b>programName</b>
           Return  the  name  of  the  program  for usage and help information.  Defaults to just $0 but you can
           return another value here.

       <b>run</b> Runs the extractor once.  The default implementation scans all input sources for translatable strings
           and collects them.

       <b>output</b>
           Print the output as a PO file to the specified output location.

       <b>extractFromNonFiles</b>
           This method is invoked after all input files have been processed.  The  default  implementation  does
           nothing.  You may use the method for extracting strings from additional sources like a database.

       <b>resolveFilename</b> <b>FILENAME</b>
           Given  an  input filename <b>FILENAME</b> the method returns the absolute location of the file.  The default
           implementation honors the option "-D, --directory".

       <b>defaultKeywords</b>
           Returns a reference to an empty array.

           Subclasses may return a reference to an array with  default  keyword  definitions  for  the  specific
           language.   The  default  keywords (actually just a subset for it) for the language C would look like
           this (expressed in JSON):

               [
                   "gettext:1",
                   "ngettext:1,2",
                   "pgettext:1c,2",
                   "npgettext:1c,2,3"
               ]

           See above the description of the command-line option  "--keyword"  for  more  information  about  the
           meaning of these strings.

       <b>defaultFlags</b>
           Returns a reference to an empty array.

           Subclasses  may  return  a  reference  to  an array with default flag specifications for the specific
           language.  An example may look like this (expressed in JSON):

               [
                   "gettextx:1:perl-brace-format",
                   "ngettextx:1:perl-brace-format",
                   "ngettextx:2:perl-brace-format",
               ]

           We assume that "<b>gettextx()</b>" and "<b>gettextx()</b> are keywords for the language  in  question.   The  above
           default  flag  definition  would  mean  that in all invocations of the function "<b>gettextx()</b>", the 1st
           argument would get the flag "perl-brace-format".  In all invocations of "<b>ngettextx()</b>",  the  1st  and
           2nd argument would get the flag "perl-brace-format".

           You can prefix the format with "no-" which tells the GNU gettext tools that the particular never uses
           that format.

           You  can additionally prefix the format with "pass-" but this is ignored by Locale::XGettext.  If you
           want to implemnt the GNU xgettext behavior for the "pass-" prefix, you have to implement it  yourself
           in your extractor.

       <b>recodeEntry</b> <b>ENTRY</b>
           Gets  invoked  for  every  PO  entry but <u>after</u> it has been promoted to a <b>Locale::<a href="../man3pm/PO.3pm.html">PO</a>(3pm)</b> object.  The
           implementation of this method is likely to be changed in the future.

           Do not use!

       <b>readPO</b> <b>FILENAME</b>
           Reads <b>FILENAME</b> as .po or .pot file.  There is no reason  why  you  should  override  or  invoke  this
           method.

       <b>po</b>  Returns a list of PO entries represented by hash references.  Do not use or override this method!

       <b>printLanguageSpecificUsage</b>
           Prints  the  help  for  language-specific  options.   Override  it,  if  you  are  not happy with the
           formatting.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2016-2017 Guido Flohr &lt;<a href="mailto:guido.flohr@cantanea.com">guido.flohr@cantanea.com</a>&gt;, all rights reserved.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Getopt::Long, <b><a href="../man1/xgettext.1.html">xgettext</a></b>(1), perl

perl v5.36.0                                       2023-02-05                              <u>Locale::<a href="../man3pm/XGettext.3pm.html">XGettext</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>