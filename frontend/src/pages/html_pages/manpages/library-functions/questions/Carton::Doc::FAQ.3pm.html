<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carton::Doc::FAQ - Frequently Asked Questions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/carton">carton_1.0.35-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Carton::Doc::FAQ - Frequently Asked Questions

</pre><h4><b>QUESTIONS</b></h4><pre>
   <b>It</b> <b>looks</b> <b>useful,</b> <b>but</b> <b>what</b> <b>is</b> <b>the</b> <b>use</b> <b>case</b> <b>of</b> <b>this</b> <b>tool?</b>
       The particular problem that carton is trying to address is this:

       You develop a Perl-based application, possibly but not limited to webapps, with dozens of CPAN module
       dependencies. You install these modules on your development machine, and describe these dependencies in
       your <u>cpanfile</u>.

       Now you get a production environment, either on PaaS provider or some VPS, you install the dependencies
       using "cpanm --installdeps ." and it will pull all the latest releases from CPAN as of today and
       everything just works.

       A few weeks later, your application becomes more popular, and you think you need another machine to serve
       more requests. You set up another machine with vanilla perl installation and install the dependencies the
       same way. That will pull the <u>latest</u> releases from CPAN <u>on</u> <u>that</u> <u>date</u>, rather than the same as what you
       have today.

       And that is the problem. It's not likely that everything just breaks one day, but there's always a chance
       that one of the dependencies breaks an API compatibility, or just uploaded a buggy version to CPAN on
       that particular day.

       Carton allows you to <u>lock</u> these dependencies into a version controlled system, so that every time you
       deploy from a checkout, it is guaranteed that all the same versions are installed into the local
       environment.

   <b>How</b> <b>is</b> <b>this</b> <b>different</b> <b>from</b> <b>Pinto</b> <b>or</b> <b>CPAN::Mini::Inject?</b>
       carton definitely shares the goal with these private CPAN repository management tool. But the main
       difference is that rather than creating an actual CPAN-like repository that works with any CPAN clients,
       Carton provides a way to install specific versions of distributions from CPAN, or any CPAN-like mirrors
       (as well as git repositories in the future version of Carton).

       Existing tools are designed to work <u>with</u> CPAN clients such as CPAN or CPANPLUS, and have accomplished
       that by working around the CPAN mirror structure.

       carton <u>internally</u> does the same thing, but its user interface is centered around the installer, by
       implementing a wrapper for cpanm, so you can use the same commands in the development mode and deployment
       mode.

       Carton automatically maintains the cpanfile.snapshot file, which is meant to be version controlled,
       inside your application directory. You don't need a separate database, a directory or a web server to
       maintain tarballs outside your application. The <u>cpanfile.snapshot</u> file can always be generated with
       "carton install" command, and "carton install" on another machine can use the version in the snapshot.

   <b>I</b> <b>already</b> <b>use</b> <b>Pinto</b> <b>to</b> <b>create</b> <b>DarkPAN</b> <b>mirror.</b> <b>Can</b> <b>I</b> <b>use</b> <b>Carton</b> <b>with</b> <b>this?</b>
       Yes, by specifying Pinto mirror as your Carton mirror, you can take a snapshot of your dependencies
       including your private modules on Pinto, or whatever DarkPAN mirror.

   <b>I'm</b> <b>already</b> <b>using</b> <b>perlbrew</b> <b>and</b> <b>local::lib.</b> <b>Can</b> <b>I</b> <b>use</b> <b>carton</b> <b>with</b> <b>this?</b>
       If you're using local::lib already with perlbrew perl, possibly with the new "perlbrew lib" command,
       that's great! There are multiple benefits over using perlbrew and local::lib for development and use
       Carton for deployment.

       The best practice and workflow to get your perl environment as clean as possible with lots of modules
       installed for quick development would be this:

       •   Install fresh perl using perlbrew. The version must be the same against the version you'll run on the
           production environment.

       •   Once  the  installation  is  done,  use  "perlbrew lib" command to create a new local lib environment
           (let's call it <u>devel</u>) and always use the library as a default environment. Install as many modules as
           you would like into the <u>devel</u> library path.

           This ensures to have a vanilla "perl" library path as clean as possible.

       •   When you build a new project that you want to manage dependencies via  Carton,  turn  off  the  <u>devel</u>
           local::lib  and create a new one, like <u>myapp</u>. Install Carton and all of its dependencies to the <u>myapp</u>
           local::lib path. Then run "carton install" like you normally do.

           Because <u>devel</u> and <u>myapp</u> are isolated, the modules you installed into <u>devel</u> doesn't affect the process
           when carton builds the dependency tree for your new project at all. This could often be critical when
           you have a conditional dependency in your tree, like Any::Moose.

   <b>I'm</b> <b>using</b> <b>perlbrew,</b> <b>but</b> <b>"carton</b> <b>install"</b> <b>uses</b> <b>system</b> <b>perl,</b> <b>how</b> <b>to</b> <b>fix?</b>
       The issue is most likelly caused by a initial bad install of "cpanm" or "carton" or both, that  ended  up
       with a shebang line pointed to the (wrong) system perl.

       Re-install Carton on you perlbrew environment
           Run  "cpanm  -f  Carton".  This  will force-install Carton, and because your "cpanm" is now using the
           correct "perl", the same will happen with "carton".

       Make sure the shebang (the first line) of your "carton" script points to the right perl path, rather than
       "<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?perl">/usr/bin/perl</a>".

perl v5.34.0                                       2022-05-12                              <u>Carton::Doc::<a href="../man3pm/FAQ.3pm.html">FAQ</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>