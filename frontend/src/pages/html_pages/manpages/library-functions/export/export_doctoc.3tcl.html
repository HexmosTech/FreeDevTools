<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>doctools::toc::export::doctoc - doctoc export plugin</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       doctools::toc::export::doctoc - doctoc export plugin

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.5</b> <b>9</b>

       package require <b>doctools::toc::export::doctoc</b> <b>?0.2.2?</b>

       <b>export</b> <u>serial</u> <u>configuration</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This package implements the doctools table of contents export plugin for the generation of doctoc markup.

       This  is an internal package of doctools, for use by the higher level management packages handling tables
       of contents, especially <b>doctools::toc::export</b>, the export manager.

       Using it from a regular interpreter is possible, however only with contortions, and is  not  recommended.
       The  proper  way  to  use  this functionality is through the package <b>doctools::toc::export</b> and the export
       manager objects it provides.

</pre><h4><b>API</b></h4><pre>
       The API provided by this package satisfies the specification of the doctoc export plugin API version 2.

       <b>export</b> <u>serial</u> <u>configuration</u>
              This command takes the canonical serialization of a table of contents, as specified in section <b>ToC</b>
              <b>serialization</b> <b>format</b>, and contained in <u>serial</u>, the  <u>configuration</u>,  a  dictionary,  and  generates
              doctoc  markup  encoding  the  table.   The  created  string is then returned as the result of the
              command.

</pre><h4><b>[DOCTOC]</b> <b>NOTATION</b> <b>OF</b> <b>TABLES</b> <b>OF</b> <b>CONTENTS</b></h4><pre>
       The doctoc format for tables of contents, also called the <u>doctoc</u> <u>markup</u> <u>language</u>,  is  too  large  to  be
       covered in single section.  The interested reader should start with the document

       [1]    <u>doctoc</u> <u>language</u> <u>introduction</u>

       and then proceed from there to the formal specifications, i.e. the documents

       [1]    <u>doctoc</u> <u>language</u> <u>syntax</u> and

       [2]    <u>doctoc</u> <u>language</u> <u>command</u> <u>reference</u>.

       to get a thorough understanding of the language.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       The  doctoc  export  plugin recognizes the following configuration variables and changes its behaviour as
       they specify.

       string <u>user</u>
              This standard configuration variable contains the name of  the  user  running  the  process  which
              invoked  the  export  plugin.  The plugin puts this information into the provenance comment at the
              beginning of the generated document.

       string <u>file</u>
              This standard configuration variable contains the name of the file  the  table  of  contents  came
              from. This variable may not be set or contain the empty string.  The plugin puts this information,
              if defined, i.e. set and not the empty string, into the provenance comment at the beginning of the
              generated document.

       boolean <u>newlines</u>
              If this flag is set the plugin will break the generated doctoc code across lines, with each markup
              command on a separate line.

              If  this  flag is not set (the default), the whole document will be written on a single line, with
              minimum spacing between all elements.

       boolean <u>indented</u>
              If this flag is set the plugin will indent the markup  commands  according  to  the  structure  of
              tables  of  contents.  To  make  this  work this also implies that <b>newlines</b> is set. This effect is
              independent of the value for <b>aligned</b> however.

              If this flag is not set (the default), the output is formatted as per the value of  <b>newlines</b>,  and
              no indenting is done.

       boolean <u>aligned</u>
              If  this  flag is set the generator ensures that the arguments for the <b>item</b> commands in a division
              are aligned vertically for a nice table effect. To make this work this also implies that  <b>newlines</b>
              is set. This effect is independent of the value for <b>indented</b> however.

              If  this  flag is not set (the default), the output is formatted as per the values of <b>newlines</b> and
              <b>indented</b>, and no alignment is done.

       <u>Note</u> that this plugin ignores the standard configuration variables <b>format</b>, and <b>map</b>, and their values.

</pre><h4><b>TOC</b> <b>SERIALIZATION</b> <b>FORMAT</b></h4><pre>
       Here we specify the format used by the doctools v2 packages to serialize tables of contents as  immutable
       values for transport, comparison, etc.

       We  distinguish  between  <u>regular</u>  and <u>canonical</u> serializations.  While a table of contents may have more
       than one regular serialization only exactly one of them will be <u>canonical</u>.

       regular serialization

              [1]    The serialization of any table of contents is a nested Tcl dictionary.

              [2]    This dictionary holds a single key, <b>doctools::toc</b>, and its  value.  This  value  holds  the
                     contents of the table of contents.

              [3]    The  contents  of the table of contents are a Tcl dictionary holding the title of the table
                     of contents, a label, and its elements. The relevant keys and their values are

                     <b>title</b>  The value is a string containing the title of the table of contents.

                     <b>label</b>  The value is a string containing a label for the table of contents.

                     <b>items</b>  The value is a Tcl list holding the elements of the table, in the order they are  to
                            be shown.

                            Each  element  is  a  Tcl list holding the type of the item, and its description, in
                            this order. An alternative description would be that it is a Tcl dictionary  holding
                            a single key, the item type, mapped to the item description.

                            The two legal item types and their descriptions are

                            <b>reference</b>
                                   This  item  describes  a single entry in the table of contents, referencing a
                                   single document.  To this end its value is a Tcl dictionary containing an  id
                                   for  the referenced document, a label, and a longer textual description which
                                   can be associated with the entry.  The relevant keys and their values are

                                   <b>id</b>     The value is a string containing the id  of  the  document  associated
                                          with the entry.

                                   <b>label</b>  The  value  is a string containing a label for this entry. This string
                                          also  identifies  the  entry,  and  no  two  entries  (references  and
                                          divisions) in the containing list are allowed to have the same label.

                                   <b>desc</b>   The value is a string containing a longer description for this entry.

                            <b>division</b>
                                   This  item  describes a group of entries in the table of contents, inducing a
                                   hierarchy of entries.  To this end its value is a Tcl dictionary containing a
                                   label for the group, an optional id to a document for the  whole  group,  and
                                   the list of entries in the group.  The relevant keys and their values are

                                   <b>id</b>     The  value  is  a  string containing the id of the document associated
                                          with the whole group. This key is optional.

                                   <b>label</b>  The value is a string containing a label for the  group.  This  string
                                          also  identifies  the  entry,  and  no  two  entries  (references  and
                                          divisions) in the containing list are allowed to have the same label.

                                   <b>items</b>  The value is a Tcl list holding the elements  of  the  group,  in  the
                                          order  they  are to be shown.  This list has the same structure as the
                                          value for the keyword <b>items</b>  used  to  describe  the  whole  table  of
                                          contents,  see  above.  This  closes  the  recusrive definition of the
                                          structure, with divisions holding the same type  of  elements  as  the
                                          whole table of contents, including other divisions.

       canonical serialization
              The  canonical  serialization  of  a table of contents has the format as specified in the previous
              item, and then additionally satisfies the constraints below, which make it unique  among  all  the
              possible serializations of this table of contents.

              [1]    The keys found in all the nested Tcl dictionaries are sorted in ascending dictionary order,
                     as generated by Tcl's builtin command <b>lsort</b> <b>-increasing</b> <b>-dict</b>.

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This  document,  and  the package it describes, will undoubtedly contain bugs and other problems.  Please
       report such in the category  <u>doctools</u>  of  the  <u>Tcllib</u>  <u>Trackers</u>  [<a href="http://core.tcl.tk/tcllib/reportlist">http://core.tcl.tk/tcllib/reportlist</a>].
       Please also report any ideas for enhancements you may have for either package and/or documentation.

       When proposing code changes, please provide <u>unified</u> <u>diffs</u>, i.e the output of <b>diff</b> <b>-u</b>.

       Note  further  that  <u>attachments</u>  are strongly preferred over inlined patches. Attachments can be made by
       going to the <b>Edit</b> form of the ticket immediately after its creation, and then using the left-most  button
       in the secondary navigation bar.

</pre><h4><b>KEYWORDS</b></h4><pre>
       doctoc, doctools, export, serialization, table of contents, toc

</pre><h4><b>CATEGORY</b></h4><pre>
       Text formatter plugin

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2009-2019 Andreas Kupries &lt;<a href="mailto:andreas_kupries@users.sourceforge.net">andreas_kupries@users.sourceforge.net</a>&gt;

tcllib                                                0.2.2                  <u>doctools::toc::export::<a href="../man3tcl/doctoc.3tcl.html">doctoc</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>