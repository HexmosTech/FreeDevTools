<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nbd_set_export_name - set the export name</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnbd-dev">libnbd-dev_1.22.2-1build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nbd_set_export_name - set the export name

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;libnbd.h&gt;

        int nbd_set_export_name (
              struct nbd_handle *h, const char *export_name
            );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       For servers which require an export name or can serve different content on different exports, set the
       "export_name" to connect to.  The default is the empty string "".

       This is only relevant when connecting to servers using the newstyle protocol as the oldstyle protocol did
       not support export names.  The NBD protocol limits export names to 4096 bytes, but servers may not
       support the full length.  The encoding of export names is always UTF-8.

       When option mode is not in use, the export name must be set before beginning a connection.  However, when
       <b><a href="../man3/nbd_set_opt_mode.3.html">nbd_set_opt_mode</a></b>(3) has enabled option mode, it is possible to change the export name prior to
       <b><a href="../man3/nbd_opt_go.3.html">nbd_opt_go</a></b>(3).  In particular, the use of <b><a href="../man3/nbd_opt_list.3.html">nbd_opt_list</a></b>(3) during negotiation can be used to determine a
       name the server is likely to accept, and <b><a href="../man3/nbd_opt_info.3.html">nbd_opt_info</a></b>(3) can be used to learn details about an export
       before connecting.

       This call may be skipped if using <b><a href="../man3/nbd_connect_uri.3.html">nbd_connect_uri</a></b>(3) to connect to a URI that includes an export name.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       If the call is successful the function returns 0.

</pre><h4><b>ERRORS</b></h4><pre>
       On error -1 is returned.

       Refer to "ERROR HANDLING" in <b><a href="../man3/libnbd.3.html">libnbd</a></b>(3) for how to get further details of the error.

       The following parameters must not be NULL: "h", "export_name".  For more information see "Non-NULL
       parameters" in <b><a href="../man3/libnbd.3.html">libnbd</a></b>(3).

</pre><h4><b>HANDLE</b> <b>STATE</b></h4><pre>
       nbd_set_export_name can be called when the handle is in the following states:

        ┌─────────────────────────────────────┬─────────────────────────┐
        │ Handle created, before connecting   │ ✅ allowed              │
        │ Connecting                          │ ❌ error                │
        │ Connecting &amp; handshaking (opt_mode) │ ✅ allowed              │
        │ Connected to the server             │ ❌ error                │
        │ Connection shut down                │ ❌ error                │
        │ Handle dead                         │ ❌ error                │
        └─────────────────────────────────────┴─────────────────────────┘

</pre><h4><b>VERSION</b></h4><pre>
       This function first appeared in libnbd 1.0.

       If you need to test if this function is available at compile time check if the following macro is
       defined:

        #define LIBNBD_HAVE_NBD_SET_EXPORT_NAME 1

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/nbd_connect_uri.3.html">nbd_connect_uri</a></b>(3), <b><a href="../man3/nbd_create.3.html">nbd_create</a></b>(3), <b><a href="../man3/nbd_get_export_name.3.html">nbd_get_export_name</a></b>(3), <b><a href="../man3/nbd_opt_go.3.html">nbd_opt_go</a></b>(3), <b><a href="../man3/nbd_opt_info.3.html">nbd_opt_info</a></b>(3),
       <b><a href="../man3/nbd_opt_list.3.html">nbd_opt_list</a></b>(3), <b><a href="../man3/nbd_set_opt_mode.3.html">nbd_set_opt_mode</a></b>(3), <b><a href="../man3/libnbd.3.html">libnbd</a></b>(3).

</pre><h4><b>AUTHORS</b></h4><pre>
       Eric Blake

       Richard W.M. Jones

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Red Hat

</pre><h4><b>LICENSE</b></h4><pre>
       This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser
       General Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser General
       Public License for more details.

       You should have received a copy of the GNU Lesser General Public License along with this library; if not,
       write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA

libnbd-1.22.2                                      2025-06-16                             <u><a href="../man3/nbd_set_export_name.3.html">nbd_set_export_name</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>