<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vpSetVoxelField, vpFieldOffset - define the size and location of a voxel field</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libvolpack1-dev">libvolpack1-dev_1.0b3-10_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       vpSetVoxelField, vpFieldOffset - define the size and location of a voxel field

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;volpack.h&gt;

       vpResult
       <b>vpSetVoxelField(</b><u>vpc,</u> <u>field_num,</u> <u>field_size,</u> <u>field_offset,</u> <u>field_max</u><b>)</b>
           vpContext *<u>vpc;</u>
           int <u>field_num;</u>
           int <u>field_size;</u>
           int <u>field_offset;</u>
           int <u>field_max;</u>

       int
       <b>vpFieldOffset(</b><u>voxel_ptr,</u> <u>field_name</u><b>)</b>
           vpContext *<u>vpc;</u>
           LITERAL <u>field_name;</u>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>vpc</u>    VolPack context from <b>vpCreateContext.</b>

       <u>field_num</u>
              Field number for the field to define (first field is 0).

       <u>field_size</u>
              Size of the field in bytes.

       <u>field_offset</u>
              Number of bytes from the beginning of the voxel to the beginning of the field.

       <u>field_max</u>
              Maximum possible value of the field.

       <u>voxel_ptr</u>
              Pointer to a C structure defining the fields in the voxel.

       <u>field_name</u>
              Literal name of the voxel field in the C structure.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>vpSetVoxelField</b>  is  used to define the size and location of each field in a voxel.  Once you have chosen
       the sizes and order for the voxel fields, call <b>vpSetVoxelSize</b> once and then call <b>vpSetVoxelField</b> once for
       each field.  Each field has a unique field number (the <u>field_num</u> argument); the first  field  is  0,  the
       next  is  1,  and so on, up to one less than the total number of fields defined with <u>VpSetVoxelSize</u>.  The
       <u>field_max</u> argument is used to determine the required size for lookup tables indexed by  the  value  in  a
       particular  field;  the  maximum  field  value  may  be any number from 0 to the maximum unsigned integer
       representable by the field size.

       If you have declared the layout of a voxel using a C structure then you can use the <u>sizeof</u>  operator  and
       the  <b>vpFieldOffset</b>  macro  to  compute  the field sizes and offsets.  <b>vpFieldOffset</b> returns the number of
       bytes from the beginning of a C structure to the beginning of a particular field in the  structure.   For
       example, the following code shows how to declare the size and offset for one voxel field:
       struct voxel {
           char field0;
           char field1;
           short field2;
       } *dummy_voxel;

       #define SIZE_0    sizeof(char)
       #define OFFSET_0  vpFieldOffset(dummy_voxel, field0)
       #define MAX_0     127

       vpSetVoxelField(vpc, 0, SIZE_0, OFFSET_0, MAX_0);

       The size of each field must be 1, 2 or 4 bytes.
       You must also obey any byte-alignment restrictions required by your
       hardware.  On many machines, two-byte fields must begin on a two-byte
       boundary and four-byte fields must begin on a four-byte boundary.
       The total size of a voxel may also need to be padded so that voxels
       packed one after the other still obey the alignment restrictions.
       If you declare your voxel as a C structure and use the <u>sizeof</u>
       operator and the <b>vpFieldOffset</b> macro then you should always get
       correct results.  However, if you do not consider alignment
       restrictions when choosing the voxel field ordering the compiler may
       have to insert padding for you, resulting in wasted memory.

       Some of the VolPack routines require you to declare fields of a
       particular size in order to store their results.  The functions to
       precompute surface normals and gradient magnitudes (see
       <a href="../man3/vpVolumeNormals.3.html">vpVolumeNormals</a>(3), <a href="../man3/vpScanlineNormals.3.html">vpScanlineNormals</a>(3), <a href="../man3/vpClassifyVolume.3.html">vpClassifyVolume</a>(3),
       <a href="../man3/vpClassifyScalars.3.html">vpClassifyScalars</a>(3) and <a href="../man3/vpClassifyScanline.3.html">vpClassifyScanline</a>(3)) can optionally store a
       one-byte scalar value, a one-byte
       gradient magnitude, and a two-byte surface normal value in each voxel.
       The following constants defined in volpack.h give the corresponding
       maximum field values: VP_SCALAR_MAX, VP_GRAD_MAX, and VP_NORM_MAX.
       If you choose not to use these functions then there is no need to
       declare these fields.

       It is usually not necessary to declare a field for the voxel opacity
       if the opacity can be computed from the other voxel fields.  See
       <a href="../man3/vpSetClassifierTable.3.html">vpSetClassifierTable</a>(3) for further discussion.

       If the call to <b>vpSetVoxelSize</b> succeeds, any existing precomputed
       volume data structures in the context are destroyed.

</pre><h4><b>STATE</b> <b>VARIABLES</b></h4><pre>
       The  current  voxel  field  parameters  can  be  retrieved  with  the following state variable codes (see
       <a href="../man3/vpGeti.3.html">vpGeti</a>(3)): VP_FIELD_SIZES, VP_FIELD_OFFSETS, VP_FIELD_MAXES.

</pre><h4><b>ERRORS</b></h4><pre>
       The normal return value is VP_OK.  The following error return value is possible:

       VPERROR_BAD_VALUE
              The field number, size or offset is out of range.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3/VolPack.3.html">VolPack</a>(3), <a href="../man3/vpCreateContext.3.html">vpCreateContext</a>(3), <a href="../man3/vpSetVoxelSize.3.html">vpSetVoxelSize</a>(3)

VolPack                                                                                       <u><a href="../man3/vpSetVoxelField.3.html">vpSetVoxelField</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>