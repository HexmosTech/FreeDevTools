<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vpLoadRawVolume,  vpLoadMinMaxOctree, vpLoadClassifiedVolume, vpLoadContext - load volume data structures</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libvolpack1-dev">libvolpack1-dev_1.0b3-10_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       vpLoadRawVolume,  vpLoadMinMaxOctree, vpLoadClassifiedVolume, vpLoadContext - load volume data structures
       from a file

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;volpack.h&gt;

       vpResult
       <b>vpLoadRawVolume(</b><u>vpc,</u> <u>fd</u><b>)</b>
           vpContext *<u>vpc;</u>
           int <u>fd;</u>

       vpResult
       <b>vpLoadMinMaxOctree(</b><u>vpc,</u> <u>fd</u><b>)</b>
           vpContext *<u>vpc;</u>
           int <u>fd;</u>

       vpResult
       <b>vpLoadClassifiedVolume(</b><u>vpc,</u> <u>fd</u><b>)</b>
           vpContext *<u>vpc;</u>
           int <u>fd;</u>

       vpResult
       <b>vpLoadContext(</b><u>vpc,</u> <u>fd</u><b>)</b>
           vpContext *<u>vpc;</u>
           int <u>fd;</u>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>vpc</u>    VolPack context from <b>vpCreateContext.</b>

       <u>fd</u>     File descriptor from <b><a href="../man2/open.2.html">open</a></b>(2), open for reading.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These functions are used to load volume data structures into a rendering context from files in the format
       written by the VolPack file storing routines (see <a href="../man3/vpStoreRawVolume.3.html">vpStoreRawVolume</a>(3)).

       <b>vpLoadRawVolume</b> loads a 3D voxel array file.  The file includes information about the size of the  volume
       and the layout of the voxels as well as the volume data itself.  A new voxel array is allocated, the data
       is  read  into the array, and the array is stored in the rendering context.  Note that the array will not
       be freed automatically when the context is destroyed; the application  is  responsible  for  freeing  the
       array  when appropriate (by using <b>vpGetp</b> with the VP_VOXEL_DATA state variable code to retrieve the array
       pointer), or for unmapping the voxel array if it has been memory mapped (see below).

       Any existing min-max octree or preclassified volume data is destroyed  when  <b>vpLoadRawVolume</b>  is  called.
       The  information  loaded  from  the  file  includes  all  of  the  parameters  set  with <b>vpSetVolumeSize</b>,
       <b>vpSetVoxelSize</b>, <b>vpSetVoxelField</b> and <b>vpSetRawVoxels</b>.  The data in the file is  automatically  byte-swapped
       if the file was written on an architecture with different byte ordering than the current architecture.  A
       magic  constant  in the file is used to determine if byte-swapping is necessary.  Volume fields that have
       not been explicitly declared (by calling <b>vpSetVoxelField</b> before storing the voxel array file)  cannot  be
       byte-swapped.

       <b>vpLoadMinMaxOctree</b>  loads  a  min-max octree file.  The current 3D voxel array size and voxel layout must
       match the data in the octree file before the file is  loaded;  consistency  checks  are  performed.   Any
       existing  octree  is  destroyed  and the new octree is stored in the rendering context.  Byte-swapping is
       performed if necessary.

       <b>vpLoadClassifiedVolume</b> loads a preclassified volume data file.  The file includes information  about  the
       size of the volume and the layout of the voxels as well as the volume data itself.  If the volume matches
       the  size  and  layout  of  any  existing  volume data in the rendering context then the data in the file
       replaces only the current preclassified volume; otherwise, the old octree  is  destroyed,  the  3D  voxel
       array  parameters  are  zeroed  out,  and the new size and layout parameters are loaded.  The information
       loaded from the file includes  all  of  the  parameters  set  with  <b>vpSetVolumeSize</b>,  <b>vpSetVoxelSize</b>  and
       <b>vpSetVoxelField</b>.  Byte-swapping is performed if necessary.

       <b>vpLoadContext</b>  loads  a rendering context file.  The file includes all rendering parameters except volume
       data and callback functions.  The contents of any lookup tables for shading and classification  are  also
       loaded.  Any existing preclassified volume data or octree are destroyed and the 3D voxel array parameters
       pointer  is  zeroed  out.   The  lookup  tables  are  loaded  into  dynamically allocated arrays, and the
       application is responsible for freeing those array when necessary; the arrays are not automatically freed
       when <b>vpDestroyContext</b> is called.  In the current implementation byte swapping is not performed so context
       files from other architectures cannot be read.

       The function used to read data from the files can be set by calling <b>vpSetCallback</b> with  the  VP_READ_FUNC
       option.   This could be used to implement a file-compression system, for example.  It is also possible to
       memory-map data from files by setting the VP_MMAP_FUNC option.  If this function is set then  large  data
       structures  are  memory  mapped from files instead of being copied into memory, when possible.  Data that
       must be byte-swapped cannot be memory mapped.  Memory mapping has the advantages that less swap space  is
       required and data is loaded into memory only as it is used.

</pre><h4><b>STATE</b> <b>VARIABLES</b></h4><pre>
       The current file I/O parameters can be retrieved with the following state variable codes (see <a href="../man3/vpGeti.3.html">vpGeti</a>(3)):
       VP_READ_FUNC, VP_MMAP_FUNC.

</pre><h4><b>ERRORS</b></h4><pre>
       The normal return value is VP_OK.  The following error return values are possible:

       VPERROR_IO
              The  file  reading  or memory mapping function returned an error value (in which case the external
              variable <b>errno</b> should contain an operating-system specific error code), or the end of the file was
              reached prematurely.

       VPERROR_BAD_FILE
              The data in the file is invalid, usually meaning that it isn't a file written by  the  appropriate
              VolPack function.

       VPERROR_BAD_VOLUME
              The  data  in  a  min-max  octree  file does not match the current volume size (<b>vpLoadMinMaxOctree</b>
              only).

       VPERROR_BAD_VOXEL
              The  data  in  a  min-max  octree  file  does  not  match  the  current  voxel  layout  parameters
              (<b>vpLoadMinMaxOctree</b> only).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3/VolPack.3.html">VolPack</a>(3), <a href="../man3/vpCreateContext.3.html">vpCreateContext</a>(3), <a href="../man3/vpStoreRawVolume.3.html">vpStoreRawVolume</a>(3)

VolPack                                                                                       <u><a href="../man3/vpLoadRawVolume.3.html">vpLoadRawVolume</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>