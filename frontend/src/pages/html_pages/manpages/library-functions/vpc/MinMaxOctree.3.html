<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vpCreateMinMaxOctree,  vpMinMaxOctreeThreshold,  vpDestroyMinMaxOctree  - create/destroy a min-max octree</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libvolpack1-dev">libvolpack1-dev_1.0b3-10_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       vpCreateMinMaxOctree,  vpMinMaxOctreeThreshold,  vpDestroyMinMaxOctree  - create/destroy a min-max octree
       for optimized rendering

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;volpack.h&gt;

       vpResult
       <b>vpCreateMinMaxOctree(</b><u>vpc,</u> <u>root_node_size,</u> <u>base_node_size</u><b>)</b>
           vpContext *<u>vpc;</u>
           int <u>root_node_size,</u> <u>base_node_size;</u>

       vpResult
       <b>vpMinMaxOctreeThreshold(</b><u>vpc,</u> <u>param_num,</u> <u>range</u><b>)</b>
           vpContext *<u>vpc;</u>
           int <u>param_num,</u> <u>range;</u>

       vpResult
       <b>vpDestroyMinMaxOctree(</b><u>vpc</u><b>)</b>
           vpContext *<u>vpc;</u>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>vpc</u>    VolPack context from <b>vpCreateContext.</b>

       <u>root_node_size</u>
              Number of voxels per side in the top level (largest nodes) of the octree.  Not currently used.

       <u>base_node_size</u>
              Number of voxels per side in the bottom level (smallest nodes) of the octree.  Must be a power  of
              2.

       <u>param_num</u>
              Identifying number of one parameter of the opacity transfer function.

       <u>range</u>  Range  threshold  for  one  parameter of the opacity transfer function.  If an octree node spans a
              larger range then it is subdivided.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These routines are used to create and destroy a min-max octree, an internal data structure that  is  used
       to  accelerate  classifying  and rendering volume data in a 3D voxel array.  The octree is a hierarchical
       data structure that contains minimum and maximum values for each voxel field.  It does not duplicate  the
       data in the voxel array.  The octree is not used with preclassified volumes (see <a href="../man3/vpClassifyVolume.3.html">vpClassifyVolume</a>(3)).

       Before   creating   an   octree,   declare  a  3D  voxel  array  using  <b>vpSetVolumeSize,</b>  <b>vpSetVoxelSize,</b>
       <b>vpSetVoxelField</b> and <b>vpSetRawVoxels,</b> and initialize  parameters  for  the  opacity  transfer  function  by
       calling  <b>vpSetClassifierTable</b>.   Then  initialize the voxel data in the array.  The lookup tables for the
       opacity transfer function do not need to be initialized.

       Now call <b>vpMinMaxOctreeThreshold</b> once for each parameter to the opacity transfer function.  The parameter
       number is the same number as the parameter  number  you  would  pass  to  <b>vpClassifierTable.</b>   The  <u>range</u>
       argument  specifies  a  "small"  range of values for the corresponding parameter.  The opacity of a voxel
       should not vary much for voxels within this range of parameter space.  Choosing  a  value  which  is  too
       small  or  too  large  may  result  in  a  reduced  performance  benefit  during rendering.  The function
       <b>vpOctreeMask</b> can be used to visualize the effectiveness of various parameter ranges.  Note that you  must
       choose  the  voxel  field associated with each opacity transfer function parameter in advance of creating
       the octree (by calling <b>vpSetClassiferTable</b>), but the opacity transfer function itself does not need to be
       known since the lookup tables do not need to be initialized.  In the current implementation  all  of  the
       parameters must be one or two-byte voxel fields; four-byte fields are not allowed.

       Finally, call <b>vpCreateMinMaxOctree</b> to actually compute the octree.  The arguments specify the largest and
       smallest  node  size.   These  values  can  be used to trade off storage size of the octree for increased
       resolution.  The octree is stored in the rendering context and is used automatically in subsequent  calls
       to  <b>vpClassifyVolume</b> and <b>vpRenderRawVolume.</b>  Only one octree may be stored in a context at a time.  If an
       octree already exists when <b>vpCreateMinMaxOctree</b> is called then the old octree is destroyed.

       If the data in the voxel array changes then the min-max octree must be explicitly recomputed  by  calling
       <b>vpCreateMinMaxOctree</b> again before the next call to <b>vpClassifyVolume</b> or <b>vpRenderRawVolume.</b>

       <b>vpDestroyMinMaxOctree</b> destroys the current min-max octree and frees the associated storage.

</pre><h4><b>STATE</b> <b>VARIABLES</b></h4><pre>
       The  current  octree parameters can be retrieved with the following state variable codes (see <a href="../man3/vpGeti.3.html">vpGeti</a>(3)):
       VP_CLASSIFY_FIELD_COUNT, VP_CLASSIFY_FIELDS, VP_MMOCTREE_THRESHOLDS, VP_MMOCTREE_SIZE.

</pre><h4><b>ERRORS</b></h4><pre>
       The normal return value for all  three  functions  is  VP_OK.   <b>vpMinMaxOctreeThreshold</b>  can  return  the
       following error value:

       VPERROR_BAD_VALUE
              The parameter number is invalid.

       <b>vpCreateMinMaxOctree</b> can return the following error values:

       VPERROR_BAD_VALUE
              The node size arguments are not a power of two.

       VPERROR_BAD_VOXEL
              The  voxel size or the voxel fields have not been specified or have been incorrectly specified, or
              the number of parameters to the opacity transfer function has been incorrectly specified.

       VPERROR_BAD_VOLUME
              The volume array or volume dimensions have not been specified, or the size  of  the  volume  array
              does not match the volume dimensions.

       VPERROR_BAD_CLASSIFIER
              The  fields  specified  as  parameters to the opacity transfer function are invalid or do not have
              valid sizes.

       VPERROR_LIMIT_EXCEEDED
              The volume is too large, so the maximum size of the octree has been exceeded.  Change the constant
              VP_MAX_OCTREE_LEVELS in volpack.h and recompile the VolPack library.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3/VolPack.3.html">VolPack</a>(3), <a href="../man3/vpCreateContext.3.html">vpCreateContext</a>(3), <a href="../man3/vpClassifyVolume.3.html">vpClassifyVolume</a>(3), <a href="../man3/vpOctreeMask.3.html">vpOctreeMask</a>(3), <a href="../man3/vpRenderRawVolume.3.html">vpRenderRawVolume</a>(3)

VolPack                                                                                  <u><a href="../man3/vpCreateMinMaxOctree.3.html">vpCreateMinMaxOctree</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>