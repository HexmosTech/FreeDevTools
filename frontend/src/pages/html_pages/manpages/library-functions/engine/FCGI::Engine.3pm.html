<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FCGI::Engine - A flexible engine for running FCGI-based applications</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libfcgi-engine-perl">libfcgi-engine-perl_0.22-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       FCGI::Engine - A flexible engine for running FCGI-based applications

</pre><h4><b>SYNOPSIS</b></h4><pre>
         # in scripts/my_web_app_fcgi.pl
         use strict;
         use warnings;

         use FCGI::Engine;

         FCGI::Engine-&gt;new_with_options(
             handler_class  =&gt; 'My::Web::Application',
             handler_method =&gt; 'run',
             pre_fork_init  =&gt; sub {
                 require('my_web_app_startup.pl');
             }
         )-&gt;run;

         # run as normal FCGI script
         perl scripts/my_web_app_fcgi.pl

         # run as standalone FCGI server
         perl scripts/my_web_app_fcgi.pl --nproc 10 --pidfile /tmp/my_app.pid \
                                         --listen /tmp/my_app.socket --daemon

         # see also FCGI::Engine::Manager for managing
         # multiple FastCGI backends under one script

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module helps manage FCGI based web applications by providing a wrapper which handles most of the
       low-level FCGI details for you. It can run FCGI programs as simple scripts or as full standalone socket
       based servers who are managed by FCGI::Engine::ProcManager.

       The code is largely based (*cough* stolen *cough*) on the Catalyst::Engine::FastCGI module, and provides
       a  command line interface which is compatible with that module. But of course it does not require
       Catalyst or anything Catalyst related. So you can use this module with your CGI::Application-based web
       application or any other Random::Web::Framework-based web app.

   <b>Using</b> <b>with</b> <b>Catalyst,</b> <b>Plack</b> <b>or</b> <b>other</b> <b>web</b> <b>frameworks</b>
       This module (FCGI::Engine) is <b>not</b> a replacement for Catalyst::Engine::FastCGI but instead the
       FCGI::Engine::Manager (and all it's configuration tools) can be used to manager Catalyst apps as well as
       FCGI::Engine based applications. For example, at work we have an application which has 6 different FCGI
       backends running.  Three of them use an ancient in-house web framework with simple FCGI::Engine wrappers,
       one which uses CGI::Application and an FCGI::Engine wrapper and then two Catalyst applications. They all
       happily and peacefully coexist and are all managed with the same FCGI::Engine::Manager script.

       As of version 0.11 we now have Plack/PSGI applications support via the
       FCGI::Engine::Manager::Server::Plackup module. See that module for more information about how it can be
       used.

   <b>Note</b> <b>about</b> <b>CGI.pm</b> <b>usage</b>
       This module uses CGI::Simple as a sane replacement for CGI.pm, it will pass in a CGI::Simple instance to
       your chosen "handler_method" for you, so there is no need to create your own instance of it. There have
       been a few cases from users who have had bad interactions with CGI.pm and the instance of CGI::Simple we
       create for you, so before you spend hours looking for bugs in your app, check for this first instead.

       If you want to change this behavior and not use CGI::Simple then you can override this using the
       "handler_args_builder" option, see the docs on that below for more details.

</pre><h4><b>CAVEAT</b></h4><pre>
       This module is *NIX <b>only</b>, it definitely does not work on Windows and I have no intention of making it do
       so. Sorry.

</pre><h4><b>PARAMETERS</b></h4><pre>
   <b>Command</b> <b>Line</b>
       This module uses MooseX::Getopt for command line parameter handling and validation.

       All parameters are currently optional, but some parameters depend on one another.

       <u>--listen</u> <u>-l</u>
           This  should  be  a  file  path  where  the unix domain socket file should live. If this parameter is
           specified, then you <b>must</b> also specify a location for the pidfile.

       <u>--nproc</u> <u>-n</u>
           This should be an integer specifying the number  of  FCGI  processes  that  FCGI::Engine::ProcManager
           should start up. The default is 1.

       <u>--pidfile</u> <u>-p</u>
           This  should be a file path where your pidfile should live. This parameter is only used if the <u>listen</u>
           parameter is specified.

       <u>--daemon</u> <u>-d</u>
           This is a boolean parameter and has no argument, it is either used  or  not.  It  determines  if  the
           script should daemonize itself.  This parameter only used if the <u>listen</u> parameter is specified.

       <u>--manager</u> <u>-m</u>
           This  allows  you  to  pass  the  name  of a FCGI::ProcManager subclass to use. The default is to use
           FCGI::Engine::ProcManager,  and  any  value  passed  to  this  parameter  <b>must</b>  be  a   subclass   of
           FCGI::ProcManager.

   <b>Constructor</b>
       In addition to the command line parameters, there are a couple parameters that the constructor expects.

       <u>handler_class</u>
           This  is expected to be a class name, which will be used inside the request loop to dispatch your web
           application.

       <u>handler_method</u>
           This is the class method to be called on the <u>handler_class</u> to server as a  dispatch  entry  point  to
           your web application. It will default to "handler".

       <u>handler_args_builder</u>
           This  must  be  a  CODE ref that when called produces the arguments to pass to the <u>handler_method</u>. It
           defaults to a sub which returns a CGI::Simple object.

       <u>pre_fork_init</u>
           This is an optional CODE reference which will be executed prior to the request loop, and in a  multi-
           proc context, prior to any forking (so as to take advantage of OS COW features).

</pre><h4><b>METHODS</b></h4><pre>
   <b>Command</b> <b>Line</b> <b>Related</b>
       <b>listen</b>
           Returns  the  value  passed  on the command line with <u>--listen</u>.  This will return a Path::Class::File
           object.

       <b>is_listening</b>
           A predicate used to determine if the <u>--listen</u> parameter was specified.

       <b>nproc</b>
           Returns the value passed on the command line with <u>--nproc</u>.

       <b>pidfile</b>
           Returns the value passed on the command line with <u>--pidfile</u>.  This will  return  a  Path::Class::File
           object.

       <b>has_pidfile</b>
           A predicate used to determine if the <u>--pidfile</u> parameter was specified.

       <b>detach</b>
           Returns the value passed on the command line with <u>--daemon</u>.

       <b>should_detach</b>
           A predicate used to determine if the <u>--daemon</u> parameter was specified.

       <b>manager</b>
           Returns the value passed on the command line with <u>--manager</u>.

   <b>Inspection</b>
       <b>has_pre_fork_init</b>
           A predicate telling you if anything was passed to the <u>pre_fork_init</u> constructor parameter.

   <b>Important</b> <b>Stuff</b>
       <b>run</b> <b>(%addtional_options)</b>
           Call this to start the show.

           It passes the %addtional_options arguments to both the "pre_fork_init" sub and as constructor args to
           the "proc_manager".

   <b>Other</b> <b>Stuff</b>
       <b>BUILD</b>
           This is the Moose BUILD method, it checks some of our parameters to be sure all is sane.

       <b>meta</b>
           This returns the Moose metaclass assocaited with this class.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Catalyst::Engine::FastCGI
           I took all the guts of that module and squished them around a bit and stuffed them in here.

       MooseX::Getopt
       FCGI::ProcManager
           I  refactored  this  module  and  renamed it FCGI::Engine::ProcManager, which is now included in this
           distro.

</pre><h4><b>BUGS</b></h4><pre>
       All complex software has bugs lurking in it, and this module is no exception. If you find  a  bug  please
       either email me, or add the bug to cpan-RT.

</pre><h4><b>AUTHOR</b></h4><pre>
       Stevan Little &lt;<a href="mailto:stevan@iinteractive.com">stevan@iinteractive.com</a>&gt;

       Contributions from:

       Marcus Ramberg

       Bradley C. Bailey

       Brian Cassidy

       Johannes Plunien

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright 2007-2010 by Infinity Interactive, Inc.

       &lt;<a href="http://www.iinteractive.com">http://www.iinteractive.com</a>&gt;

       This  library  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.36.0                                       2022-12-10                                  <u>FCGI::<a href="../man3pm/Engine.3pm.html">Engine</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>