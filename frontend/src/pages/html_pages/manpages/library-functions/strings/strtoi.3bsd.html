<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>strtoi — convert a string value to an intmax_t integer</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbsd-dev">libbsd-dev_0.12.2-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       strtoi — convert a string value to an intmax_t integer

</pre><h4><b>LIBRARY</b></h4><pre>
       Utility functions from BSD systems (libbsd, -lbsd)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/inttypes.h">inttypes.h</a>&gt;</b>
       (See <u><a href="../man7/libbsd.7.html">libbsd</a></u>(7) for include usage.)

       <u>intmax_t</u>
       <b>strtoi</b>(<u>const</u> <u>char</u> <u>*</u> <u>restrict</u> <u>nptr</u>,    <u>char</u> <u>**</u> <u>restrict</u> <u>endptr</u>,    <u>int</u> <u>base</u>,   <u>intmax_t</u> <u>lo</u>,   <u>intmax_t</u> <u>hi</u>,
           <u>int</u> <u>*rstatus</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>strtoi</b>() function converts the string in <u>nptr</u> to an  <u>intmax_t</u>  value.   The  <b>strtoi</b>()  function  uses
       internally  <u><a href="../man3/strtoimax.3.html">strtoimax</a></u>(3) and ensures that the result is always in the range [ <u>lo</u> <u>..</u> <u>hi</u> ].  In addition it
       always places 0 on success or a conversion status in the <u>rstatus</u> argument, avoiding the errno  gymnastics
       the other functions require.  The <u>rstatus</u> argument can be NULL if conversion status is to be ignored.

       The  string may begin with an arbitrary amount of white space (as determined by <u><a href="../man3/isspace.3.html">isspace</a></u>(3)) followed by a
       single optional ‘+’ or ‘-’ sign.  If <u>base</u> is zero or 16, the string may  then  include  a  ‘0x’  or  ‘0X’
       prefix,  and  the  number will be read in base 16; otherwise, a zero <u>base</u> is taken as 10 (decimal) unless
       the next character is ‘0’, in which case it is taken as 8 (octal).

       The remainder of the string is converted to an <u>intmax_t</u> value in the obvious manner, stopping at the  end
       of  the  string  or at the first character which is not a valid digit in the given base.  (In bases above
       10, the letter ‘A’ in either upper or lower case represents 10, ‘B’ represents 11, and so forth, with ‘Z’
       representing 35.)

       If <u>endptr</u> is non-nil, <b>strtoi</b>() stores the address of the first invalid character in  <u>*endptr</u>.   If  there
       were  no  digits at all, however, <b>strtoi</b>() stores the original value of <u>nptr</u> in <u>*endptr</u>.  (Thus, if <u>*nptr</u>
       is not ‘\0’ but <u>**endptr</u> is ‘\0’ on return, the entire string was valid.)

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The <b>strtoi</b>() function always returns the closest value in the range specified by the <u>lo</u> and <u>hi</u> arguments.

       The <u>errno</u> value is guaranteed to be left unchanged.

       Errors are stored as the conversion status in the <u>rstatus</u> argument.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following example will always return a number in [1..99] range no matter what the input is, and  warn
       if the conversion failed.

             int e;
             intmax_t lval = strtoi(buf, NULL, 0, 1, 99, &amp;e);
             if (e)
                     warnc(e, "conversion of `%s' to a number failed, using %jd",
                         buf, lval);

</pre><h4><b>ERRORS</b></h4><pre>
       [ECANCELED]        The string did not contain any characters that were converted.

       [EINVAL]           The <u>base</u> is not between 2 and 36 and does not contain the special value 0.

       [ENOTSUP]          The string contained non-numeric characters that did not get converted.  In this case,
                          <u>endptr</u> points to the first unconverted character.

       [ERANGE]           The  given string was out of range; the value converted has been clamped; or the range
                          given was invalid, i.e.  <u>lo</u> &gt; <u>hi</u>.

       The range check is more important than the unconverted characters check, and it is performed first.  If a
       program needs to know if there were unconverted characters when an out of range number has been provided,
       it needs to supply and test <u>endptr.</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/atof.3.html">atof</a></u>(3), <u><a href="../man3/atoi.3.html">atoi</a></u>(3),  <u><a href="../man3/atol.3.html">atol</a></u>(3),  <u><a href="../man3/atoll.3.html">atoll</a></u>(3),  <u><a href="../man3/strtod.3.html">strtod</a></u>(3),  <u><a href="../man3/strtoimax.3.html">strtoimax</a></u>(3),  <u><a href="../man3/strtol.3.html">strtol</a></u>(3),  <u><a href="../man3/strtoll.3.html">strtoll</a></u>(3),  <u><a href="../man3bsd/strtou.3bsd.html">strtou</a></u>(3bsd),
       <u><a href="../man3/strtoul.3.html">strtoul</a></u>(3), <u><a href="../man3/strtoull.3.html">strtoull</a></u>(3), <u><a href="../man3/strtoumax.3.html">strtoumax</a></u>(3)

</pre><h4><b>STANDARDS</b></h4><pre>
       The <b>strtoi</b>() function is a NetBSD extension.

</pre><h4><b>HISTORY</b></h4><pre>
       The  <b>strtoi</b>()  function first appeared in NetBSD 7.0.  OpenBSD introduced the <u><a href="../man3bsd/strtonum.3bsd.html">strtonum</a></u>(3bsd) function for
       the same purpose, but the interface makes it impossible to properly differentiate illegal returns.

</pre><h4><b>BUGS</b></h4><pre>
       Ignores the current locale.

Debian                                          January 20, 2024                                    <u><a href="../man3bsd/strtoi.3bsd.html">strtoi</a></u>(3bsd)
</pre>
 </div>
</div></section>
</div>
</body>
</html>