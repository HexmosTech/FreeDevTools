<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>strtonum — reliably convert string value to an integer</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbsd-dev">libbsd-dev_0.12.2-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       strtonum — reliably convert string value to an integer

</pre><h4><b>LIBRARY</b></h4><pre>
       Utility functions from BSD systems (libbsd, -lbsd)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/limits.h">limits.h</a>&gt;</b>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;</b>
       (See <u><a href="../man7/libbsd.7.html">libbsd</a></u>(7) for include usage.)

       <u>long</u> <u>long</u>
       <b>strtonum</b>(<u>const</u> <u>char</u> <u>*nptr</u>, <u>long</u> <u>long</u> <u>minval</u>, <u>long</u> <u>long</u> <u>maxval</u>, <u>const</u> <u>char</u> <u>**errstr</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>strtonum</b>() function converts the string in <u>nptr</u> to a <u>long</u> <u>long</u> value.

       The  string  may begin with an arbitrary amount of whitespace (as determined by <u><a href="../man3/isspace.3.html">isspace</a></u>(3)) followed by a
       single optional ‘+’ or ‘-’ sign.

       The remainder of the string is converted to a <u>long</u> <u>long</u> value according to base 10.

       The value obtained is then checked against the provided <u>minval</u> and <u>maxval</u> bounds.  If <u>errstr</u> is non-null,
       <b>strtonum</b>() stores an error string in <u>*errstr</u> indicating the failure.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The <b>strtonum</b>() function returns the result of the conversion, unless the value would exceed the  provided
       bounds  or is invalid.  On error, 0 is returned, <u>errno</u> is set, and <u>errstr</u> will point to an error message.
       On success, <u>*errstr</u> will be set to NULL; this fact can be used to differentiate a successful return of  0
       from an error.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Using <b>strtonum</b>() correctly is meant to be simpler than the alternative functions.

             int iterations;
             const char *errstr;

             iterations = strtonum(optarg, 1, 64, &amp;errstr);
             if (errstr)
                     errx(1, "number of iterations is %s: %s", errstr, optarg);

       The above example will guarantee that the value of iterations is between 1 and 64 (inclusive).

</pre><h4><b>ERRORS</b></h4><pre>
       [EINVAL]           The given string did not consist solely of digit characters; or <u>minval</u> was larger than
                          <u>maxval</u>.

       [ERANGE]           The given string was out of range.

       If an error occurs, <u>errstr</u> will be set to one of the following strings:

       <b>too</b> <b>large</b>  The result was larger than the provided maximum value.
       <b>too</b> <b>small</b>  The result was smaller than the provided minimum value.
       <b>invalid</b>    The string did not consist solely of digit characters.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/atof.3.html">atof</a></u>(3),   <u><a href="../man3/atoi.3.html">atoi</a></u>(3),   <u><a href="../man3/atol.3.html">atol</a></u>(3),  <u><a href="../man3/atoll.3.html">atoll</a></u>(3),  <u><a href="../man3/sscanf.3.html">sscanf</a></u>(3),  <u><a href="../man3/strtod.3.html">strtod</a></u>(3),  <u><a href="../man3bsd/strtoi.3bsd.html">strtoi</a></u>(3bsd),  <u><a href="../man3/strtol.3.html">strtol</a></u>(3),  <u><a href="../man3/strtoll.3.html">strtoll</a></u>(3),
       <u><a href="../man3bsd/strtou.3bsd.html">strtou</a></u>(3bsd), <u><a href="../man3/strtoul.3.html">strtoul</a></u>(3), <u><a href="../man3/strtoull.3.html">strtoull</a></u>(3)

</pre><h4><b>STANDARDS</b></h4><pre>
       <b>strtonum</b>() is a BSD extension.

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>strtonum</b>() function first appeared in OpenBSD 3.6.   <b>strtonum</b>()  was  redesigned  in  NetBSD  8.0  as
       <u><a href="../man3bsd/strtoi.3bsd.html">strtoi</a></u>(3bsd) and <u><a href="../man3bsd/strtou.3bsd.html">strtou</a></u>(3bsd).

</pre><h4><b>CAVEATS</b></h4><pre>
       The <b>strtonum</b>() function was designed to facilitate safe, robust programming and overcome the shortcomings
       of the <u><a href="../man3/atoi.3.html">atoi</a></u>(3) and <u><a href="../man3/strtol.3.html">strtol</a></u>(3) family of interfaces, however there are problems with the <b>strtonum</b>() API:

       <b>-</b>   will  return  0  on failure; 0 might not be in range, so that necessitates an error check even if you
           want to avoid it

       <b>-</b>   does not differentiate 'illegal' returns, so we can't tell the  difference  between  partial  and  no
           conversions

       <b>-</b>   returns english strings

       <b>-</b>   can't set the base, or find where the conversion ended

       <b>-</b>   hardcodes long long integer type
       To overcome the shortcomings of <b>strtonum</b>() NetBSD provides <u><a href="../man3bsd/strtou.3bsd.html">strtou</a></u>(3bsd) and <u><a href="../man3bsd/strtoi.3bsd.html">strtoi</a></u>(3bsd).

Debian                                          January 18, 2015                                  <u><a href="../man3bsd/strtonum.3bsd.html">strtonum</a></u>(3bsd)
</pre>
 </div>
</div></section>
</div>
</body>
</html>