<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>odbx_escape - Prepare strings for inclusion in statements</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libopendbx1-dev">libopendbx1-dev_1.4.6-18build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       odbx_escape - Prepare strings for inclusion in statements

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;opendbx/api.h&gt;

       int <b>odbx_escape</b> (odbx_t* <u>handle</u>, const char* <u>from</u>, unsigned long <u>fromlen</u>, char* <u>to</u>, unsigned long*
                       <u>tolen</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>odbx_escape</b>()  neutralizes  potentially dangerous characters of the string so it can be used as part of a
       statement. For security reasons every user input has to be passed to <b>odbx_escape</b>() to avoid SQL injection
       attacks which can have fatal consequences! It's also a good idea to escape strings returned from database
       fields again if you want to use them in a query because they don't stay escaped once they are returned as
       part of a record.

       Most backends require the buffer to be more than twice as long as the input string. To  be  precise,  the
       output  buffer  must  be  2 * size of input + 1 bytes long. After successfully escaping the characters in
       from, they are written into the memory provided via to and the value/result parameter tolen is updated to
       the new length of to in the end.

       The first parameter handle is the connection object created and returned by <b>odbx_init</b>() which becomes in‐
       valid as soon as it was supplied to <b>odbx_finish</b>().

       from has to point to a character string containing the string which should be used as part  of  a  state‐
       ment. It doesn't have to be zero-terminated because the length of it is also given via fromlen. The back‐
       ends may support variable width character sets like UTF-8 but this function doesn't support the wide char
       type (wchar_t) where each character has a fixed size of two or four bytes.

       The  value  of the parameter fromlen must be the length in bytes of the string which from is pointing to.
       This is also true for variable width character sets like UTF-8 but the wide char type  (wchar_t)  is  not
       supported. The terminating \0 character shouldn't be part of fromlen.

       The  calling  function provides a buffer for storing the escaped string via to. In general, the length of
       the buffer should be more than twice as long as the string passed via from to be able to  store  the  es‐
       caped string even if every character has to be escaped.

       tolen  is  a  value-result parameter which points to an integer variable in the calling function. It must
       contain the original length of the buffer given via to and if  escaping  the  string  in  from  suceeded,
       <b>odbx_escape</b>() will store the new length of the escaped string in this variable.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>odbx_escape</b>()  returns ODBX_ERR_SUCCESS, or an error code whose value is less than zero if one of the op‐
       erations couldn't be completed successfully. Possible error codes are listed in  the  error  section  and
       they can be feed to <b>odbx_error</b>() and <b>odbx_error_type</b>() to get further details.

</pre><h4><b>ERRORS</b></h4><pre>
       -ODBX_ERR_BACKEND
              The native database library returned an error because it wasn't able to escape the given string to
              be suitable for a statement

       -ODBX_ERR_PARAM
              One  of  the  supplied parameters is invalid or is NULL and this isn't allowed in the used backend
              module or in the native database client library

       -ODBX_ERR_SIZE
              The length of the escaped string exceeds or is likely to exeed the available buffer (before  1.1.4
              the name of the label was ODBX_ERR_TOOLONG but the value is still the same)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>odbx_error</b>(), <b>odbx_error_type</b>(), <b>odbx_query</b>()

                                                 8 January 2025                                   <u><a href="../man3/odbx_escape.3.html">odbx_escape</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>