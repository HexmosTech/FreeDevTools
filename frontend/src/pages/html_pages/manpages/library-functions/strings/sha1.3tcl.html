<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sha1 - SHA1 Message-Digest Algorithm</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sha1 - SHA1 Message-Digest Algorithm

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.5</b> <b>9</b>

       package require <b>sha1</b> <b>?2.0.5?</b>

       <b>::sha1::sha1</b> ?<b>-hex|-bin</b>? [ <b>-channel</b> <b>channel</b> | <b>-file</b> <b>filename</b> | ?<b>--</b>? <u>string</u> ]

       <b>::sha1::hmac</b> <u>key</u> <u>string</u>

       <b>::sha1::hmac</b> ?<b>-hex|-bin</b>? <b>-key</b> <b>key</b> [ <b>-channel</b> <b>channel</b> | <b>-file</b> <b>filename</b> | ?<b>--</b>? <u>string</u> ]

       <b>::sha1::SHA1Init</b>

       <b>::sha1::SHA1Update</b> <u>token</u> <u>data</u>

       <b>::sha1::SHA1Final</b> <u>token</u>

       <b>::sha1::HMACInit</b> <u>key</u>

       <b>::sha1::HMACUpdate</b> <u>token</u> <u>data</u>

       <b>::sha1::HMACFinal</b> <u>token</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  package provides an implementation in Tcl of the SHA1 message-digest algorithm as specified by FIPS
       PUB 180-1 (1). This algorithm takes a message and generates a 160-bit digest from  the  input.  The  SHA1
       algorithm  is  related  to  the  MD4  algorithm  (2)  but  has  been strengthend against certain types of
       cryptographic attack. SHA1 should be used in preference to MD4 or MD5 in new applications.

       This package also includes support for creating keyed message-digests using the HMAC algorithm  from  RFC
       2104 (3) with SHA1 as the message-digest.

       <u>BEWARE</u>  The  commands  in  this package expect binary data as their input.  When a <b>-file</b> is provided then
       this is ensured by the commands themselves, as they open  the  referenced  file  in  binary  mode.   When
       literal  data,  or a <b>-channel</b> are provided instead, then the command's <u>caller</u> <u>is</u> <u>responsible</u> for ensuring
       this fact.  The necessary conversion command is <b>encoding</b> <b>convertto</b> <b>utf-8</b> <b>$string</b>.

       <u>ATTENTION</u>, there is a <u>Tcl</u> <u>9</u> <u>COMPATIBILITY</u> <u>ISSUE</u> here.

       <u>Tcl</u> <u>8.x</u> <u>silently</u> <u>mishandles</u> non-binary input by cutting it internally to size. I.e. by only using the low
       byte of a higher unicode point.  No error is thrown, the <u>result</u> <u>is</u> <u>simply</u> <u>wrong</u>.

       <u>Tcl</u> <u>9</u> <u>throws</u> <u>an</u> <u>error</u> instead, i.e.

              expected byte sequence but character &lt;location&gt; was ...

</pre><h4><b>COMMANDS</b></h4><pre>
       <b>::sha1::sha1</b> ?<b>-hex|-bin</b>? [ <b>-channel</b> <b>channel</b> | <b>-file</b> <b>filename</b> | ?<b>--</b>? <u>string</u> ]
              The command takes a message and returns the SHA1 digest of this message as a  hexadecimal  string.
              You may request the result as binary data by giving <u>-bin</u>.

              The  data  to  be hashed can be specified either as a string argument to the <b>sha1</b> command, or as a
              filename or a pre-opened channel. If the <u>-filename</u> argument is given then the file is opened,  the
              data  read  and hashed and the file is closed. If the <u>-channel</u> argument is given then data is read
              from the channel until the end of file. The channel is not closed. <u>NOTE</u>  use  of  the  channel  or
              filename  options  results  in  the  internal  use  of <b>vwait</b>. To avoid nested event loops in Tk or
              tclhttpd applications you should use the incremental programming API (see below).

              Only one of <u>-file</u>, <u>-channel</u> or <u>string</u> should be given.

              If the <u>string</u> to hash can be mistaken for an option (leading dash "-"), use the option  <b>--</b>  before
              it to terminate option processing and force interpretation as a string.

       <b>::sha1::hmac</b> <u>key</u> <u>string</u>

       <b>::sha1::hmac</b> ?<b>-hex|-bin</b>? <b>-key</b> <b>key</b> [ <b>-channel</b> <b>channel</b> | <b>-file</b> <b>filename</b> | ?<b>--</b>? <u>string</u> ]
              Calculate  an  Hashed  Message Authentication digest (HMAC) using the SHA1 digest algorithm. HMACs
              are described in RFC 2104 (3) and provide an SHA1 digest that includes a key.  All  options  other
              than <u>-key</u> are as for the <b>::sha1::sha1</b> command.

              If  the  <u>string</u> to hash can be mistaken for an option (leading dash "-"), use the option <b>--</b> before
              it to terminate option processing and force interpretation as a string.

</pre><h4><b>PROGRAMMING</b> <b>INTERFACE</b></h4><pre>
       For the programmer, the SHA1 hash can be viewed as a bucket into which one  pours  data.  When  you  have
       finished,  you  extract  a  value  that  is  derived  from  the data that was poured into the bucket. The
       programming interface to the SHA1 hash operates on a token (equivalent to the bucket). You call  <b>SHA1Init</b>
       to  obtain a token and then call <b>SHA1Update</b> as many times as required to add data to the hash. To release
       any resources and obtain the hash value, you then call <b>SHA1Final</b>. An equivalent set  of  functions  gives
       you a keyed digest (HMAC).

       If  you  have  <b>critcl</b>  and have built the <b>tcllibc</b> package then the implementation of the hashing function
       will be performed by compiled code. Failing that if you have the  <b>Trf</b>  package  then  this  can  be  used
       otherwise there is a pure-tcl equivalent. The programming interface remains the same in all cases.

       <b>::sha1::SHA1Init</b>
              Begins a new SHA1 hash. Returns a token ID that must be used for the remaining functions.

       <b>::sha1::SHA1Update</b> <u>token</u> <u>data</u>
              Add  data  to  the  hash  identified  by  token. Calling <u>SHA1Update</u> <u>$token</u> <u>"abcd"</u> is equivalent to
              calling <u>SHA1Update</u> <u>$token</u> <u>"ab"</u> followed by <u>SHA1Update</u> <u>$token</u> <u>"cb"</u>. See <b>EXAMPLES</b>.

       <b>::sha1::SHA1Final</b> <u>token</u>
              Returns the hash value and releases any resources held by this token. Once this command  completes
              the token will be invalid. The result is a binary string of 20 bytes representing the 160 bit SHA1
              digest value.

       <b>::sha1::HMACInit</b> <u>key</u>
              This  is  equivalent  to the <b>::sha1::SHA1Init</b> command except that it requires the key that will be
              included in the HMAC.

       <b>::sha1::HMACUpdate</b> <u>token</u> <u>data</u>

       <b>::sha1::HMACFinal</b> <u>token</u>
              These commands are identical to the SHA1 equivalent commands.

</pre><h4><b>EXAMPLES</b></h4><pre>
              % sha1::sha1 "Tcl does SHA1"
              285a6a91c45a9066bf39fcf24425796ef0b2a8bf

              % sha1::hmac Sekret "Tcl does SHA1"
              ae6251fa51b95b18cba2be95eb031d07475ff03c

              % set tok [sha1::SHA1Init]
              ::sha1::1
              % sha1::SHA1Update $tok "Tcl "
              % sha1::SHA1Update $tok "does "
              % sha1::SHA1Update $tok "SHA1"
              % sha1::Hex [sha1::SHA1Final $tok]
              285a6a91c45a9066bf39fcf24425796ef0b2a8bf

</pre><h4><b>REFERENCES</b></h4><pre>
       [1]    "Secure Hash Standard", National  Institute  of  Standards  and  Technology,  U.S.  Department  Of
              Commerce, April 1995.  (<u><a href="http://www.itl.nist.gov/fipspubs/fip180-1.htm">http://www.itl.nist.gov/fipspubs/fip180-1.htm</a></u>)

       [2]    Rivest,  R.,  "The  MD4  Message  Digest  Algorithm",  RFC 1320, MIT, April 1992. (<u><a href="http://www.rfc">http://www.rfc</a>-</u>
              <u>editor.org/rfc/rfc1320.txt</u>)

       [3]    Krawczyk, H., Bellare, M. and Canetti, R. "HMAC: Keyed-Hashing for  Message  Authentication",  RFC
              2104, February 1997.  (<u><a href="http://www.rfc-editor.org/rfc/rfc2104.txt">http://www.rfc-editor.org/rfc/rfc2104.txt</a></u>)

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This  document,  and  the package it describes, will undoubtedly contain bugs and other problems.  Please
       report such in the category <u>sha1</u> of the <u>Tcllib</u> <u>Trackers</u>  [<a href="http://core.tcl.tk/tcllib/reportlist">http://core.tcl.tk/tcllib/reportlist</a>].   Please
       also report any ideas for enhancements you may have for either package and/or documentation.

       When proposing code changes, please provide <u>unified</u> <u>diffs</u>, i.e the output of <b>diff</b> <b>-u</b>.

       Note  further  that  <u>attachments</u>  are strongly preferred over inlined patches. Attachments can be made by
       going to the <b>Edit</b> form of the ticket immediately after its creation, and then using the left-most  button
       in the secondary navigation bar.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       md4, md5, ripemd128, ripemd160

</pre><h4><b>KEYWORDS</b></h4><pre>
       FIPS 180-1, hashing, message-digest, rfc 2104, security, sha1

</pre><h4><b>CATEGORY</b></h4><pre>
       Hashes, checksums, and encryption

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2005, Pat Thoyts &lt;<a href="mailto:patthoyts@users.sourceforge.net">patthoyts@users.sourceforge.net</a>&gt;

tcllib                                                2.0.5                                           <u><a href="../man3tcl/sha1.3tcl.html">sha1</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>