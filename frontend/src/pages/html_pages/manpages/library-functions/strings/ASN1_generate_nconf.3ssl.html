<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASN1_generate_nconf, ASN1_generate_v3 - ASN1 string generation functions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ASN1_generate_nconf, ASN1_generate_v3 - ASN1 string generation functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/asn1.h&gt;

        ASN1_TYPE *ASN1_generate_nconf(const char *str, CONF *nconf);
        ASN1_TYPE *ASN1_generate_v3(const char *str, X509V3_CTX *cnf);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These functions generate the ASN1 encoding of a string in an <b>ASN1_TYPE</b> structure.

       <u>str</u> contains the string to encode. <u>nconf</u> or <u>cnf</u> contains the optional configuration information where
       additional strings will be read from. <u>nconf</u> will typically come from a config file whereas <u>cnf</u> is
       obtained from an <b>X509V3_CTX</b> structure, which will typically be used by X509 v3 certificate extension
       functions. <u>cnf</u> or <u>nconf</u> can be set to NULL if no additional configuration will be used.

</pre><h4><b>GENERATION</b> <b>STRING</b> <b>FORMAT</b></h4><pre>
       The actual data encoded is determined by the string <u>str</u> and the configuration information. The general
       format of the string is:

       [<u>modifier</u>,]<u>type</u>[:<u>value</u>]

       That  is  zero  or  more comma separated modifiers followed by a type followed by an optional colon and a
       value. The formats of <u>type</u>, <u>value</u> and <u>modifier</u> are explained below.

   <b>Supported</b> <b>Types</b>
       The supported types are listed below.  Case is not significant  in  the  type  names.   Unless  otherwise
       specified only the <b>ASCII</b> format is permissible.

       <b>BOOLEAN</b>, <b>BOOL</b>
           This  encodes a boolean type. The <u>value</u> string is mandatory and should be <b>TRUE</b> or <b>FALSE</b>. Additionally
           <b>TRUE</b>, <b>true</b>, <b>Y</b>, <b>y</b>, <b>YES</b>, <b>yes</b>, <b>FALSE</b>, <b>false</b>, <b>N</b>, <b>n</b>, <b>NO</b> and <b>no</b> are acceptable.

       <b>NULL</b>
           Encode the <b>NULL</b> type, the <u>value</u> string must not be present.

       <b>INTEGER</b>, <b>INT</b>
           Encodes an ASN1 <b>INTEGER</b> type. The <u>value</u> string represents  the  value  of  the  integer,  it  can  be
           prefaced  by  a  minus  sign  and  is normally interpreted as a decimal value unless the prefix <b>0x</b> is
           included.

       <b>ENUMERATED</b>, <b>ENUM</b>
           Encodes the ASN1 <b>ENUMERATED</b> type, it is otherwise identical to <b>INTEGER</b>.

       <b>OBJECT</b>, <b>OID</b>
           Encodes an ASN1 <b>OBJECT</b> <b>IDENTIFIER</b>, the <u>value</u> string can be a short name, a  long  name  or  numerical
           format.

       <b>UTCTIME</b>, <b>UTC</b>
           Encodes an ASN1 <b>UTCTime</b> structure, the value should be in the format <b>YYMMDDHHMMSSZ</b>.

       <b>GENERALIZEDTIME</b>, <b>GENTIME</b>
           Encodes an ASN1 <b>GeneralizedTime</b> structure, the value should be in the format <b>YYYYMMDDHHMMSSZ</b>.

       <b>OCTETSTRING</b>, <b>OCT</b>
           Encodes  an  ASN1  <b>OCTET</b>  <b>STRING</b>. <u>value</u> represents the contents of this structure, the format strings
           <b>ASCII</b> and <b>HEX</b> can be used to specify the format of <u>value</u>.

       <b>BITSTRING</b>, <b>BITSTR</b>
           Encodes an ASN1 <b>BIT</b> <b>STRING</b>. <u>value</u> represents the contents  of  this  structure,  the  format  strings
           <b>ASCII</b>, <b>HEX</b> and <b>BITLIST</b> can be used to specify the format of <u>value</u>.

           If the format is anything other than <b>BITLIST</b> the number of unused bits is set to zero.

       <b>UNIVERSALSTRING</b>, <b>UNIV</b>, <b>IA5</b>, <b>IA5STRING</b>, <b>UTF8</b>, <b>UTF8String</b>, <b>BMP</b>, <b>BMPSTRING</b>, <b>VISIBLESTRING</b>, <b>VISIBLE</b>,
       <b>PRINTABLESTRING</b>, <b>PRINTABLE</b>, <b>T61</b>, <b>T61STRING</b>, <b>TELETEXSTRING</b>, <b>GeneralString</b>, <b>NUMERICSTRING</b>, <b>NUMERIC</b>
           These  encode  the  corresponding  string types. <u>value</u> represents the contents of this structure. The
           format can be <b>ASCII</b> or <b>UTF8</b>.

       <b>SEQUENCE</b>, <b>SEQ</b>, <b>SET</b>
           Formats the result as an ASN1 <b>SEQUENCE</b> or <b>SET</b> type. <u>value</u> should be a section name which will contain
           the contents. The field names in the section are ignored and the values are in the  generated  string
           format. If <u>value</u> is absent then an empty SEQUENCE will be encoded.

   <b>Modifiers</b>
       Modifiers  affect  the  following  structure,  they  can be used to add EXPLICIT or IMPLICIT tagging, add
       wrappers or to change the string format of the final type and value. The supported formats are documented
       below.

       <b>EXPLICIT</b>, <b>EXP</b>
           Add an explicit tag to the following structure. This string should be followed by a colon and the tag
           value to use as a decimal value.

           By following the number with <b>U</b>, <b>A</b>, <b>P</b> or <b>C</b> UNIVERSAL, APPLICATION, PRIVATE or CONTEXT SPECIFIC tagging
           can be used, the default is CONTEXT SPECIFIC.

       <b>IMPLICIT</b>, <b>IMP</b>
           This is the same as <b>EXPLICIT</b> except IMPLICIT tagging is used instead.

       <b>OCTWRAP</b>, <b>SEQWRAP</b>, <b>SETWRAP</b>, <b>BITWRAP</b>
           The following structure is surrounded by an  OCTET  STRING,  a  SEQUENCE,  a  SET  or  a  BIT  STRING
           respectively. For a BIT STRING the number of unused bits is set to zero.

       <b>FORMAT</b>
           This  specifies  the  format  of  the ultimate value. It should be followed by a colon and one of the
           strings <b>ASCII</b>, <b>UTF8</b>, <b>HEX</b> or <b>BITLIST</b>.

           If no format specifier is included then <b>ASCII</b> is used. If <b>UTF8</b> is specified  then  the  value  string
           must  be  a valid <b>UTF8</b> string. For <b>HEX</b> the output must be a set of hex digits. <b>BITLIST</b> (which is only
           valid for a BIT STRING) is a comma separated list of the indices of the set bits, all other bits  are
           zero.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>ASN1_generate_nconf()</b> and <b>ASN1_generate_v3()</b> return the encoded data as an <b>ASN1_TYPE</b> structure or NULL if
       an error occurred.

       The error codes that can be obtained by <b><a href="../man3/ERR_get_error.3.html">ERR_get_error</a></b>(3).

</pre><h4><b>EXAMPLES</b></h4><pre>
       A simple IA5String:

        IA5STRING:Hello World

       An IA5String explicitly tagged:

        EXPLICIT:0,IA5STRING:Hello World

       An IA5String explicitly tagged using APPLICATION tagging:

        EXPLICIT:0A,IA5STRING:Hello World

       A BITSTRING with bits 1 and 5 set and all others zero:

        FORMAT:BITLIST,BITSTRING:1,5

       A  more  complex  example  using  a  config  file to produce a SEQUENCE consisting of a BOOL an OID and a
       UTF8String:

        asn1 = SEQUENCE:seq_section

        [seq_section]

        field1 = BOOLEAN:TRUE
        field2 = OID:commonName
        field3 = UTF8:Third field

       This example produces an RSAPrivateKey structure, this is the key contained in the file client.pem in all
       OpenSSL distributions (note: the field names such as  'coeff'  are  ignored  and  are  present  just  for
       clarity):

        asn1=SEQUENCE:private_key
        [private_key]
        version=INTEGER:0

        n=INTEGER:0xBB6FE79432CC6EA2D8F970675A5A87BFBE1AFF0BE63E879F2AFFB93644\
        D4D2C6D000430DEC66ABF47829E74B8C5108623A1C0EE8BE217B3AD8D36D5EB4FCA1D9

        e=INTEGER:0x010001

        d=INTEGER:0x6F05EAD2F27FFAEC84BEC360C4B928FD5F3A9865D0FCAAD291E2A52F4A\
        F810DC6373278C006A0ABBA27DC8C63BF97F7E666E27C5284D7D3B1FFFE16B7A87B51D

        p=INTEGER:0xF3929B9435608F8A22C208D86795271D54EBDFB09DDEF539AB083DA912\
        D4BD57

        q=INTEGER:0xC50016F89DFF2561347ED1186A46E150E28BF2D0F539A1594BBD7FE467\
        46EC4F

        exp1=INTEGER:0x9E7D4326C924AFC1DEA40B45650134966D6F9DFA3A7F9D698CD4ABEA\
        9C0A39B9

        exp2=INTEGER:0xBA84003BB95355AFB7C50DF140C60513D0BA51D637272E355E397779\
        E7B2458F

        coeff=INTEGER:0x30B9E4F2AFA5AC679F920FC83F1F2DF1BAF1779CF989447FABC2F5\
        628657053A

       This example is the corresponding public key in a SubjectPublicKeyInfo structure:

        # Start with a SEQUENCE
        asn1=SEQUENCE:pubkeyinfo

        # pubkeyinfo contains an algorithm identifier and the public key wrapped
        # in a BIT STRING
        [pubkeyinfo]
        algorithm=SEQUENCE:rsa_alg
        pubkey=BITWRAP,SEQUENCE:rsapubkey

        # algorithm ID for RSA is just an OID and a NULL
        [rsa_alg]
        algorithm=OID:rsaEncryption
        parameter=NULL

        # Actual public key: modulus and exponent
        [rsapubkey]
        n=INTEGER:0xBB6FE79432CC6EA2D8F970675A5A87BFBE1AFF0BE63E879F2AFFB93644\
        D4D2C6D000430DEC66ABF47829E74B8C5108623A1C0EE8BE217B3AD8D36D5EB4FCA1D9

        e=INTEGER:0x010001

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ERR_get_error.3.html">ERR_get_error</a></b>(3)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2002-2021 The OpenSSL Project Authors. All Rights Reserved.

       Licensed  under  the  Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain  a  copy  in  the  file  LICENSE  in  the  source  distribution  or  at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                          <u><a href="../man3SSL/ASN1_GENERATE_NCONF.3SSL.html">ASN1_GENERATE_NCONF</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>