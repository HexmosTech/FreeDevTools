<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class::DBI::mysql - Extensions to Class::DBI for MySQL</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libclass-dbi-mysql-perl">libclass-dbi-mysql-perl_1.00-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Class::DBI::mysql - Extensions to Class::DBI for MySQL

</pre><h4><b>SYNOPSIS</b></h4><pre>
         package Film;
         use base 'Class::DBI::mysql';
         __PACKAGE__-&gt;set_db('Main', 'dbi:mysql:dbname', 'user', 'password');
         __PACKAGE__-&gt;set_up_table("film");

         __PACKAGE__-&gt;autoinflate(dates =&gt; 'Time::Piece');

         # Somewhere else ...

         my $type = $class-&gt;column_type('column_name');
         my @allowed = $class-&gt;enum_vals('column_name');

         my $tonights_viewing  = Film-&gt;retrieve_random;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This is an extension to Class::DBI, containing several functions and optimisations for the MySQL
       database. Instead of setting Class::DBI as your base class, use this instead.

</pre><h4><b>METHODS</b></h4><pre>
   <b>set_up_table</b>
               __PACKAGE__-&gt;set_up_table("table_name");

       Traditionally, to use Class::DBI, you have to set up the columns:

               __PACKAGE__-&gt;columns(All =&gt; qw/list of columns/);
               __PACKAGE__-&gt;columns(Primary =&gt; 'column_name');

       Whilst this allows for more flexibility if you're going to arrange your columns into a variety of
       groupings, sometimes you just want to create the 'all columns' list. Well, this information is really
       simple to extract from MySQL itself, so why not just use that?

       This call will extract the list of all the columns, and the primary key and set them up for you. It will
       die horribly if the table contains no primary key, or has a composite primary key.

   <b>autoinflate</b>
         __PACKAGE__-&gt;autoinflate(column_type =&gt; 'Inflation::Class');

         __PACKAGE__-&gt;autoinflate(timestamp =&gt; 'Time::Piece');
         __PACKAGE__-&gt;autoinflate(dates =&gt; 'Time::Piece');

       This will automatically set up <b>has_a()</b> relationships for all columns of the specified type to the given
       class.

       We currently assume that all classess passed will be able to inflate and deflate without needing extra
       has_a arguments, with the example of Time::Piece objects, which we deal with using Time::Piece::mysql
       (which you'll have to have installed!).

       The special type 'dates' will autoinflate all columns of type date, datetime or timestamp.

   <b>create_table</b>
               $class-&gt;create_table(q{
                       name    <a href="../man40/VARCHAR.40.html">VARCHAR</a>(40)     NOT NULL PRIMARY KEY,
                       rank    <a href="../man20/VARCHAR.20.html">VARCHAR</a>(20)     NOT NULL DEFAULT 'Private',
                       serial  INTEGER         NOT NULL
               });

       This creates the table for the class, with the given schema. If the table already exists we do nothing.

       A typical use would be:

               Music::CD-&gt;table('cd');
               Music::CD-&gt;create_table(q{
                 cdid   MEDIUMINT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
                 artist MEDIUMINT UNSIGNED NOT NULL,
                       title  <a href="../man255/VARCHAR.255.html">VARCHAR</a>(255),
                       year   YEAR,
                       INDEX (artist),
                       INDEX (title)
               });
               Music::CD-&gt;set_up_table;

   <b>drop_table</b>
               $class-&gt;drop_table;

       Drops the table for this class, if it exists.

   <b>column_type</b>
               my $type = $class-&gt;column_type('column_name');

       This returns the 'type' of this table (<a href="../man20/VARCHAR.20.html">VARCHAR</a>(20), BIGINT, etc.)

   <b>enum_vals</b>
               my @allowed = $class-&gt;enum_vals('column_name');

       This returns a list of the allowable values for an ENUM column.

   <b>retrieve_random</b>
               my $film = Film-&gt;retrieve_random;

       This will select a random row from the database, and return you the relevant object.

       (MySQL 3.23 and higher only, at this point)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Class::DBI. MySQL (<a href="http://www.mysql.com/">http://www.mysql.com/</a>)

</pre><h4><b>AUTHOR</b></h4><pre>
       Tony Bowden

</pre><h4><b>BUGS</b> <b>and</b> <b>QUERIES</b></h4><pre>
       Please direct all correspondence regarding this module to:
         <a href="mailto:bug-Class-DBI-mysql@rt.cpan.org">bug-Class-DBI-mysql@rt.cpan.org</a>

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
         Copyright (C) 2001-2005 Tony Bowden.

         This program is free software; you can redistribute it and/or modify it under
         the terms of the GNU General Public License; either version 2 of the License,
         or (at your option) any later version.

         This program is distributed in the hope that it will be useful, but WITHOUT
         ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
         FOR A PARTICULAR PURPOSE.

perl v5.36.0                                       2022-12-04                             <u>Class::DBI::<a href="../man3pm/mysql.3pm.html">mysql</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>