<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nameserv::auto - Name service facility, Client Extension</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nameserv::auto - Name service facility, Client Extension

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.5</b> <b>9</b>

       package require <b>nameserv::auto</b> <b>?0.4?</b>

       package require <b>nameserv</b>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Please read the document <u>Name</u> <u>service</u> <u>facility,</u> <u>introduction</u> first.

       This  package  provides  the  <u>exact</u>  same  API  as is provided by package <b>nameserv</b>, i.e. the regular name
       service client. It differs from the former by taking measures to  ensure  that  longer-lived  data,  i.e.
       bound  names,  continuous and unfullfilled async searches, survive the loss of the connection to the name
       server as much as is possible.

       This means that the bound names and continuous and unfullfilled async searches are remembered client-side
       and automatically re-entered into the server when the connection comes back after  its  loss.  For  bound
       names  there  is  one important limitation to such restoration: It is possible that a name of this client
       was bound by a different client while the connection was gone. Such names are fully lost,  and  the  best
       the package can and will do is to inform the user of this.

</pre><h4><b>API</b></h4><pre>
       The  user-visible  API  is  mainly  identical to the API of <b>nameserv</b> and is therefore not described here.
       Please read the documentation of <b>nameserv</b>.

       The differences are explained below, in the sections <b>OPTIONS</b> and <b>EVENTS</b>.

</pre><h4><b>OPTIONS</b></h4><pre>
       This package supports all the options of package <b>nameserv</b>, plus one more. The  additional  option  allows
       the user to specify the time interval between attempts to restore a lost connection.

       <b>-delay</b> <u>milliseconds</u>
              The  value  of  this  option  is an integer value &gt; 0 which specifies the interval to wait between
              attempts to restore a lost connection, in milliseconds.  The  default  value  is  <b>1000</b>,  i.e.  one
              second.

</pre><h4><b>EVENTS</b></h4><pre>
       This  package  generates  all of the events of package <b>nameserv</b>, plus two more. Both events are generated
       for the tag <u>nameserv</u>.

       <u>lost-name</u>
              This event is generated when a bound name is truly lost, i.e. could  not  be  restored  after  the
              temporary  loss  of  the  connection to the name server. It indicates that a different client took
              ownership of the name while this client was out of contact.

              The detail information of the event will be a Tcl dictionary containing two keys, <b>name</b>, and  <b>data</b>.
              Their values hold all the information about the lost name.

       <u>re-connection</u>
              This  event  is  generated  when the connection to the server is restored. The remembered data has
              been restored when the event is posted.

              The event has no detail information.

</pre><h4><b>DESIGN</b></h4><pre>
       The package is implemented on top of the regular nameservice client, i.e. package  <b>nameserv</b>.  It  detects
       the loss of the connection by listening for <u>lost-connection</u> events, on the tag <u>nameserv</u>.

       It  reacts to such events by starting a periodic timer and trying to reconnect to the server whenver this
       timer triggers. On success the timer is canceled,  a  <u>re-connection</u>  event  generated,  and  the  package
       proceeds to re-enter the remembered bound names and continuous searches.

       Another  loss  of  the  connection,  be  it during or after re-entering the remembered information simply
       restarts the timer and subsequent reconnection attempts.

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This document, and the package it describes, will undoubtedly contain bugs and  other  problems.   Please
       report  such  in  the  category  <u>nameserv</u>  of the <u>Tcllib</u> <u>Trackers</u> [<a href="http://core.tcl.tk/tcllib/reportlist">http://core.tcl.tk/tcllib/reportlist</a>].
       Please also report any ideas for enhancements you may have for either package and/or documentation.

       When proposing code changes, please provide <u>unified</u> <u>diffs</u>, i.e the output of <b>diff</b> <b>-u</b>.

       Note further that <u>attachments</u> are strongly preferred over inlined patches. Attachments  can  be  made  by
       going  to the <b>Edit</b> form of the ticket immediately after its creation, and then using the left-most button
       in the secondary navigation bar.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3tcl/nameserv.3tcl.html">nameserv</a>(3tcl)

</pre><h4><b>KEYWORDS</b></h4><pre>
       automatic, client, name service, reconnect, restore

</pre><h4><b>CATEGORY</b></h4><pre>
       Networking

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2007-2008 Andreas Kupries &lt;<a href="mailto:andreas_kupries@users.sourceforge.net">andreas_kupries@users.sourceforge.net</a>&gt;

tcllib                                                 0.4                                  <u>nameserv::<a href="../man3tcl/auto.3tcl.html">auto</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>