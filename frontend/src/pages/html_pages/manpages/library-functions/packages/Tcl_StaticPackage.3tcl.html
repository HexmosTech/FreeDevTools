<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tcl_StaticPackage - make a statically linked package available via the 'load' command</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/tcl8.6-doc">tcl8.6-doc_8.6.12+dfsg-1build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tcl_StaticPackage - make a statically linked package available via the 'load' command

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;tcl.h&gt;</b>

       <b>Tcl_StaticPackage</b>(<u>interp,</u> <u>prefix,</u> <u>initProc,</u> <u>safeInitProc</u>)

</pre><h4><b>ARGUMENTS</b></h4><pre>
       Tcl_Interp <u>*interp</u> (in)                         If  not  NULL,  points  to  an interpreter into which the
                                                       package has already been loaded  (i.e.,  the  caller  has
                                                       already    invoked    the    appropriate   initialization
                                                       procedure).  NULL means the  package  has  not  yet  been
                                                       incorporated into any interpreter.

       const char <u>*prefix</u> (in)                         Prefix  for  library  initialization function;  should be
                                                       properly capitalized (first letter upper-case, all others
                                                       lower-case).

       Tcl_PackageInitProc <u>*initProc</u> (in)              Procedure to invoke to incorporate this  package  into  a
                                                       trusted interpreter.

       Tcl_PackageInitProc <u>*safeInitProc</u> (in)          Procedure to call to incorporate this package into a safe
                                                       interpreter  (one  that  will execute untrusted scripts).
                                                       NULL  means  the  package  cannot   be   used   in   safe
                                                       interpreters.
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  procedure  may  be  invoked  to  announce  that  a  package  has  been linked statically with a Tcl
       application and, optionally, that it has already been loaded into an interpreter.  Once <b>Tcl_StaticPackage</b>
       has  been  invoked  for  a  package,  it  may  be  loaded  into  interpreters  using  the  <b>load</b>  command.
       <b>Tcl_StaticPackage</b>  is  normally  invoked  only  by  the <b>Tcl_AppInit</b> procedure for the application, not by
       packages for themselves (<b>Tcl_StaticPackage</b> should only be invoked for  statically  loaded  packages,  and
       code  in  the  package  itself  should  not need to know whether the package is dynamically or statically
       loaded).

       When the <b>load</b> command is used later to load  the  package  into  an  interpreter,  one  of  <u>initProc</u>  and
       <u>safeInitProc</u>  will  be invoked, depending on whether the target interpreter is safe or not.  <u>initProc</u> and
       <u>safeInitProc</u> must both match the following prototype:

              typedef int <b>Tcl_PackageInitProc</b>(
                      Tcl_Interp *<u>interp</u>);

       The <u>interp</u> argument identifies the interpreter in which the package is to be loaded.  The  initialization
       procedure  must  return  <b>TCL_OK</b> or <b>TCL_ERROR</b> to indicate whether or not it completed successfully; in the
       event of an error it should set the interpreter's result to point to an error  message.   The  result  or
       error  from  the  initialization procedure will be returned as the result of the <b>load</b> command that caused
       the initialization procedure to be invoked.

</pre><h4><b>KEYWORDS</b></h4><pre>
       initialization procedure, package, static linking

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3tcl/load.3tcl.html">load</a>(3tcl), <a href="../man3tcl/package.3tcl.html">package</a>(3tcl), <a href="../man3tcl/Tcl_PkgRequire.3tcl.html">Tcl_PkgRequire</a>(3tcl)

Tcl                                                    7.5                               <u><a href="../man3tcl/Tcl_StaticPackage.3tcl.html">Tcl_StaticPackage</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>