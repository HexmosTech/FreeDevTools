<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ntextIndent - ntext Indentation for the Text Widget</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tklib">tklib_0.9-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ntextIndent - ntext Indentation for the Text Widget

</pre><h4><b>SYNOPSIS</b></h4><pre>

       package require <b>Tcl</b> <b>8.5-</b>

       package require <b>Tk</b> <b>8.5-</b>
       package require <b>ntext</b> <b>?1.0?</b>

       <b>::ntext::new_textCopy</b> <u>pathName</u>

       <b>::ntext::new_textCut</b> <u>pathName</u>

       <b>::ntext::new_textPaste</b> <u>pathName</u>

       <b>::ntext::syncIndentColor</b> <u>pathName</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>ntext</b> package provides a binding tag named <u>Ntext</u> for use by text widgets in place of the default <u>Text</u>
       binding tag.

       Tk's text widget may be configured to wrap lines of text that are longer than the width of the text area,
       a  feature that is familiar from text editors and word processors.  A complete line of text (delimited by
       newlines, or by the beginning or end of the document) is called a "logical line".  When a logical line is
       wrapped onto more than one line of the display area, these fragments  of  the  logical  line  are  called
       "display lines".

       If  a  logical line begins with whitespace, then wrapped display lines begin further to the left than the
       first display line, which can make the text layout untidy and difficult to read.  The <u>Ntext</u>  binding  tag
       provides  facilities  so  that  a  text widget in <u>-wrap</u> <u>word</u> mode will automatically indent display lines
       (other than the first) to match the initial whitespace of the first display line.

       This indentation is available to text widgets only in <u>-wrap</u> <u>word</u> mode.

</pre><h4><b>COMMANDS</b></h4><pre>
       <b>::ntext::new_textCopy</b> <u>pathName</u>
              Replacement for ::tk_textCopy.

       <b>::ntext::new_textCut</b> <u>pathName</u>
              Replacement for ::tk_textCut that also maintains <u>Ntext</u> indentation.

       <b>::ntext::new_textPaste</b> <u>pathName</u>
              Replacement for ::tk_textPaste that also maintains <u>Ntext</u> indentation.

       <b>::ntext::syncIndentColor</b> <u>pathName</u>
              Command to apply the current value of the variable <b>::ntext::indentColor</b> to  existing  lines  in  a
              text  widget.  This command is useful if a text widget has been created, text has been inserted in
              the widget, <u>and</u> <u>then</u> the value of <b>::ntext::indentColor</b> is changed.

</pre><h4><b>CONFIGURATION</b> <b>OPTIONS</b></h4><pre>
       The behavior of <u>Ntext</u> may be configured application-wide by setting the values of a number  of  namespace
       variables:

       <b>::ntext::classicWrap</b>

       •      <b>0</b>  -  selects  <u>Ntext</u> behaviour, i.e. display lines are indented to match the initial whitespace of
              the first display line of a logical line.

              No other action is required if this option, and the text widget's <u>-wrap</u> option, are set before any
              text is entered in the widget, and if text is entered and edited only by the mouse  and  keyboard.
              If,  instead, text is manipulated by the script, or if the text widget's <u>-wrap</u> option or the value
              of <b>::ntext::classicWrap</b> are changed while the widget holds text, then calls to <u>ntext</u> functions are
              needed  to  alter  the  indentation.   See  the  section  <b>INDENTING</b>  <b>DISPLAY</b>  <b>LINES</b>  for  detailed
              instructions.

       •      <b>1</b> - (default value) selects classic <u>Text</u> behaviour, i.e. no indentation.

       <b>::ntext::indentColor</b>

       •      <b>{}</b> - if the value is the empty string, then the indent of wrapped display lines has the same color
              as the widget background.

       •      <u>color</u> - a valid Tk color to use for the indent of wrapped display lines (default value <u>#d9d9d9</u>).

              Coloring  is implemented with the text widget tag option <u>-lmargincolor</u>, which is available from <b>Tk</b>
              8.6.6 onwards.  <u>Ntext</u> indent coloring has no effect in earlier versions of <b>Tk</b>.

              The value of <b>::ntext::indentColor</b> will often be set at startup.  If the value is changed when text
              widgets already exist  and  contain  text,  those  widgets  can  be  updated  by  calling  command
              <b>::ntext::syncIndentColor</b>.

       <u>Advanced</u> <u>Use</u>

       <b>::ntext::newWrapRegexp</b>

       •      the  value  is  a  regexp pattern that determines the character of a logical line to which display
              lines other than the first will be aligned.  The default value,  <b>[^[:space:]]</b>,  ensures  alignment
              with the first non-whitespace character.

</pre><h4><b>INDENTING</b> <b>DISPLAY</b> <b>LINES</b></h4><pre>
       To use <u>Ntext</u> 's display line indentation:

       [1]    Set  the variable <b>::ntext::classicWrap</b> to <b>0</b> (default value is <b>1</b>).  This enables bindings that will
              preserve indentation whenever the user modifies the widget contents using the keyboard and  mouse.
              If the widget already holds text, call <b>::ntext::wrapIndent</b> to initialise indentation.

              Further  instructions  apply  if the program changes the widget's contents, wrap configuration, or
              indent configuration.

       [2]    The program can change the text contents, e.g. by the .text insert command.  Such  a  change  does
              not  trigger  a window binding, so the program should explicitly call function <b>::ntext::wrapIndent</b>
              after inserting text.

       [3]    Auto-indentation occurs only if the widget is in <u>-wrap</u> <u>word</u> mode.  If the program  changes  to  or
              from  <u>-wrap</u>  <u>word</u>  when  the widget is not empty, it should call <b>::ntext::wrapIndent</b> to format the
              widget's text.

       [4]    If indentation is used, and  then  switched  off  by  setting  <b>::ntext::classicWrap</b>  to  <b>1</b>,   call
              <b>::ntext::wrapIndent</b> to remove indentation.

</pre><h4><b>FUNCTIONS</b></h4><pre>
       <b>::ntext::wrapIndent</b> <u>textWidget</u> ?index1? ?index2?

       •      Adjust the indentation of a text widget.  Different cases are discussed below.

       <b>::ntext::wrapIndent</b> <u>textWidget</u>

       •      Adjust the indentation of all the text in text widget <u>textWidget</u>.

       <b>::ntext::wrapIndent</b> <u>textWidget</u> <u>index1</u>

       •      Adjust  the  indentation  of  a single logical line of a text widget - the line of <u>textWidget</u> that
              contains the index <u>index1</u>.

       <b>::ntext::wrapIndent</b> <u>textWidget</u> <u>index1</u> <u>index2</u>

       •      Adjust the indentation of a range of logical lines of a text widget - the lines of <u>textWidget</u> that
              contain indices <u>index1</u> to <u>index2</u>.

       <u>Usage</u>

       •      <b>::ntext::wrapIndent</b> should be called only if the script changes the widget's contents  or  display
              properties.   If the contents of the widget have been modified by the keyboard or mouse, it is not
              necessary for the script to call  <b>::ntext::wrapIndent</b>  because  the  appropriate  calls  are  made
              automatically by the <u>Ntext</u> bindings.

       •      The script should normally call <b>::ntext::wrapIndent</b> if, for example, the script changes one of the
              following  when  the widget is not empty: the value of <b>::ntext::classicWrap</b>, or the widget's <u>-wrap</u>
              status, or the widget's tab spacing, or the font size, or the widget's contents.

       •      A call of the form <b>::ntext::wrapIndent</b> <u>textWidget</u> will always suffice, but if changes  are  needed
              only  to  certain  lines,  it is more efficient to specify those lines with the optional arguments
              ?index1?, ?index2?.

       •      If the widget is in <u>-word</u> <u>wrap</u> mode, and if <b>::ntext::classicWrap</b> is set to <b>0</b>,  <b>::ntext::wrapIndent</b>
              will  apply  indentation  to  the  logical  lines  within  the  range  specified by the function's
              arguments.

       •      In other cases, i.e. if the widget is in <u>-word</u> <u>char</u> or <u>-word</u> <u>none</u> mode, or if <b>::ntext::classicWrap</b>
              is set to <b>1</b>,  <b>::ntext::wrapIndent</b> will remove the indentation of  the  logical  lines  within  the
              range specified by the function's arguments.

</pre><h4><b>BUGS</b></h4><pre>
       This  version  of  <b>ntext</b> is intended to be compatible with all releases of <b>Tk</b> 8.5, 8.6, and 8.7, and with
       the branches <u>core-8-5-branch</u>, <u>core-8-6-branch</u>, and <u>trunk</u> in the  source  code  repository  for  <b>Tk</b>.   Any
       incompatibility  with  any  of  these versions, for any <b>Tk</b> windowing system, should be reported as a bug.
       Please   report   such   in   the   category   <u>ntext</u>   of   the   <u>Tklib</u>    <u>Trackers</u>    [https://core.tcl-
       lang.org/tklib/reportlist].

</pre><h4><b>EXAMPLES</b></h4><pre>
       To switch on <u>Ntext</u> 's indentation and use it in widget .t, using the default indent color <u>#d9d9d9</u>:

              package require ntext
              set ::ntext::classicWrap 0
              text .t -wrap word
              bindtags .t {.t Ntext . all}

       To switch on <u>Ntext</u> 's indentation and use it in widget .t, without colored indents:

              package require ntext
              set ::ntext::classicWrap 0
              set ::ntext::indentColor {}
              text .t -wrap word
              bindtags .t {.t Ntext . all}

       To switch on <u>Ntext</u> 's indentation and use it in widget .t, coloring the indents black:

              package require ntext
              set ::ntext::classicWrap 0
              set ::ntext::indentColor black
              text .t -wrap word
              bindtags .t {.t Ntext . all}

       To decide later to switch off <u>Ntext</u> 's indentation:

              set ::ntext::classicWrap 1
              ::ntext::wrapIndent .t

       To decide later to switch <u>Ntext</u> 's indentation back on:

              set ::ntext::classicWrap 0
              ::ntext::wrapIndent .t 1.0 end

       To inject some text into the widget:

              set foo [.t index end]
              .t insert end {This line was added by the script, not the keyboard!}
              ::ntext::wrapIndent .t $foo end

       To change the indentation color when a widget .t already holds text:

              set ::ntext::indentColor black
              ::ntext::syncIndentColor .t

       To switch to <u>-wrap</u> <u>char</u> mode:

              .t configure -wrap char
              ::ntext::wrapIndent .t

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       bindtags, ntext, re_syntax, regexp, text

</pre><h4><b>KEYWORDS</b></h4><pre>
       bindtags, re_syntax, regexp, text

tklib                                                  1.0                                      <u><a href="../man3tk/ntextIndent.3tk.html">ntextIndent</a></u>(3tk)
</pre>
 </div>
</div></section>
</div>
</body>
</html>