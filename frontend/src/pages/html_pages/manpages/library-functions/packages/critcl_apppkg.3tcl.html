<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>critcl::app - Critcl - Application Package Reference</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/critcl">critcl_3.1.18.1+dfsg-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       critcl::app - Critcl - Application Package Reference

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b>  <b>8.4</b>

       package require <b>critcl::app</b>  <b>?3.1.18?</b>

       package require <b>critcl</b>  <b>?2?</b>

       package require <b>platform</b>  <b>?1.0.2?</b>

       package require <b>cmdline</b>

       <b>::critcl::app::main</b> <u>commandline</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>C</u>  <u>Runtime</u>  <u>In</u>  <u>Tcl</u>,  or  <u>CriTcl</u> , is a system for compiling C code embedded in Tcl on the fly and either
       loading the resulting objects into Tcl for immediate use or packaging them for distribution.  Use  <u>CriTcl</u>
       to improve performance by rewriting in C those routines that are performance bottlenecks.

       This  document is the reference manpage for the <b>critcl::app</b> package. Its intended audience are developers
       working on critcl's internals.  These commands are not needed to simply write a <u>Critcl</u>  <u>script</u>.   If  you
       are in need of an overview of the whole system instead, please go and read the <u>Introduction</u> <u>To</u> <u>CriTcl</u>.

       This package resides in the Application Layer of CriTcl.

       *================*
       |Applications    |
       | critcl         |
       | critcl::app    |
       *================*

       +----------------+
       |Core Packages   |
       | critcl         |
       | critcl::util   |
       +----------------+

       +----------------+
       |Support Packages|
       | stubs::*       |
       | md5, platform  |
       |  ...           |
       +----------------+

       ,  implementing the functionality of the <u>CriTcl</u> <u>Application</u>, and through this, the mode <b>generate</b> <b>package</b>.
       The actual application is (only) a shim wrapping around this package. It itself is build on  top  of  the
       core package <b>critcl</b>.

</pre><h4><b>API</b></h4><pre>
       The package exports a single command

       <b>::critcl::app::main</b> <u>commandline</u>
              The  <u>commandline</u>  is  a list of zero or more options followed by zero or more <u>Critcl</u> <u>script</u> files.
              By default, the <u>Critcl</u> <u>script</u> files are build and the results cached.   This cuts down on the time
              needed to load the package.  The last occurrence of  <b>-pkg</b>  and  <b>-tea</b>,  if  provided,  selects  the
              corresponding  alternative  mode  of  operations.  For a larger set of examples please see section
              "Building Critcl Packages" in the document about <u>Using</u> <u>CriTcl</u>.

       The options are:

</pre><h4><b>OPTIONS</b></h4><pre>
       The following options are understood:

       <b>-v</b>

       <b>--version</b>
              Print the version to <b>stdout</b> and exit.

       <b>-I</b> path
              Arranges for the compiler to search <u>path</u> for headers.  Uses of this option are cumulative.

       Ignored when generating a TEA package (see option <b>-tea</b> below).

       <b>-L</b> path
              Arranges for the linker to search <u>path</u>.  Uses of this option are cumulative.

       Ignored when generating a TEA package (see option <b>-tea</b> below).

       <b>-cache</b> path
              Sets <u>path</u> as the directory to use as the result cache. The default is  "<u><a href="file:~/.critcl/">~/.critcl/</a>&lt;platform&gt;</u>",  or
              "<u><a href="file:~/.critcl/">~/.critcl/</a>&lt;pid&gt;.&lt;epoch&gt;</u>" when generating a package.  See option <b>-pkg</b>, below.

       Ignored when generating a TEA package (see option <b>-tea</b> below).

       <b>-clean</b> Arranges  for  all  files  and  directories  in  the result cache to be deleted before compilation
              begins.

              Ignored when generating a package because this mode starts out with  a  unique  and  empty  result
              cache.  See option <b>-pkg</b>, below.

       Ignored when generating a TEA package (see option <b>-tea</b> below).

       <b>-config</b> path
              Provides  a  custom configuration file.  By default a configuration included in the system core is
              used.  When specified multiple times the last value is used.

       Ignored when generating a TEA package (see option <b>-tea</b> below).

       <b>-debug</b> mode
              Activates one of the following debugging modes:

              <b>memory</b> Track and report memory allocations made by the Tcl core.

              <b>symbols</b>
                     Compile all "<u>.c</u>" files with debugging symbols.

              <b>all</b>    Both <b>memory</b> and <b>symbols</b>.

       Ignored when generating a TEA package (see option <b>-tea</b> below).  Uses of this option are cumulative.

       <b>-disable</b> name
              Sets the value of the custom build configuration option <u>name</u> to <b>false</b>. It is equivalent to "-with-
              <u>name</u> 0".

       Validated only if one of the input files for the <u>Critcl</u> <u>script</u> actually defines and uses a  custom  build
       configuration option with that <u>name</u>.

       Ignored when generating a TEA package (see option <b>-tea</b> below).

       <b>-enable</b> name
              Sets  the value of the custom build configuration option <u>name</u> to <b>true</b>. It is equivalent to "-with-
              <u>name</u> 1".

       Validated only if one of the input files for the <u>Critcl</u> <u>script</u> actually defines and uses a  custom  build
       configuration option with that <u>name</u>.

       Ignored when generating a TEA package (see option <b>-tea</b> below).

       <b>-force</b> Forces  compilation  even  if  a  shared library for the file already exists.  Unlike cleaning the
              cache, this is lazy in the destruction of files and only affects relevant files.

              Ignored when generating a package (see option <b>-pkg</b>, below), which starts out  with  a  unique  and
              empty result cache.

       Ignored when generating a TEA package (see option <b>-tea</b> below).

       <b>-help</b>  Prints a short description of command line syntax and options and then exits the application.

       <b>-keep</b>  Causes  the  system to cache compiled "<u>.c</u>" files.  Also prevents the deletion of the unique result
              cache used by the run when generating a package (see option <b>-pkg</b> below), Intended for debugging of
              <b>critcl</b> itself, where it may be necessary to inspect the generated C code.

       Ignored when generating a TEA package (see option <b>-tea</b> below).

       <b>-libdir</b> directory
              Adds <u>directory</u> to the list of directories the linker searches for libraries in  (like  <b>-L</b>).   With
              <b>-pkg</b>,  generated packages are saved in <u>directory</u>.  When specified multiple times the last value is
              used.  The default is "<u>lib</u>", resolved relative to the current working directory.

       <b>-includedir</b> directory
              Adds <u>directory</u> to the list of directories  the  compiler  searches  for  headers  in.  With  <b>-pkg</b>,
              generated  header  files  are  saved  in <u>directory</u>.  Uses of this option are cumulative.  The last
              value is used as the destination  for  generated  header  files.   The  default  is  the  relative
              directory "<u>include</u>", resolved relative to the current working directory.

       Ignored when generating a TEA package (see option <b>-tea</b> below).

       <b>-pkg</b>   Generates  a  package from the <u>Critcl</u> <u>script</u> files.  Input files are processed first as usual, but
              are then bundled into a single library, with additional generated files to form the library into a
              standard Tcl package.

              generation. If both options, i.e. <b>-pkg</b> and <b>-tea</b> are specified the last one specified wins.

              Options <b>-clean</b> and <b>-force</b> are ignored. <b>-libdir</b> is relevant in both this and <b>-tea</b> mode.

              The basename of the first file is the name of the package  to  generate.  If  its  file  extension
              indicates a shared library ("<u>.so</u>", "<u>.sl</u>", "<u>.dylib</u>", and "<u>.dll</u>") it is also removed from the set of
              input  files. Each <u>Critcl</u> <u>script</u> file is kept as part of the input. A single file without a suffix
              is assumed to be a <u>Critcl</u> <u>script</u>. A file without a suffix, but  other  input  files  following  is
              treated like the name of a shared library proper, and removed from the set of input files.

              Examples:

                ... -pkg ... foo

                =&gt; Package name is: foo
                =&gt; Input file is:   foo.tcl

                ... -pkg ... foo bar.tcl

                =&gt; Package name is: foo
                =&gt; Input file is:   bar.tcl

                ... -pkg ... foo.tcl

                =&gt; Package name is: foo
                =&gt; Input file is:   foo.tcl

                ... -pkg ... foo.so bar.tcl

                =&gt; Package name is: foo
                =&gt; Input file is:   bar.tcl

       <b>-show</b>  Prints the configuration of the chosen target to <b>stdout</b> and then exits.  Set <b>-target</b>, below.

       <b>-showall</b>
              Prints the whole chosen configuration file to <b>stdout</b> and then exits.  See <b>-config</b>, above.

       <b>-target</b> name
              Overrides  the  default  choice of build target.  Only the last occurrence of this option is used.
              The named target must exist in the chosen configuration file.  Use <b>-targets</b> (see below) to  get  a
              list of the acceptable targets.  Use <b>-config</b> to select the configuration file.

       Ignored when generating a TEA package (see option <b>-tea</b> below).

       <b>-targets</b>
              Prints  the list of all known targets from the chosen configuration file to <b>stdout</b> and then exits.
              Use <b>-config</b> to select the configuration file.

       <b>-tea</b>   Like <b>-pkg</b>, except no binaries are generated. Creates a directory hierarchy containing  the  <u>Critcl</u>
              <u>script</u>,  its  companion  files,  and a TEA-conformant build system with most of the needed support
              code, including copies of the critcl packages.

              If both <b>-pkg</b> and <b>-tea</b> are specified the last occurrence wins.

              <b>-I</b>, <b>-L</b>, <b>-clean</b>, <b>-force</b>, <b>-cache</b>, <b>-includedir</b>, <b>-enable</b>, <b>-disable</b>,  and  <b>-with-FOO</b>  are  ignored.  In
              contrast, the option <b>-libdir</b> is relevant in both this and <b>-pkg</b> mode.

              The  basename  of  the  first  file  is the name of the package to generate. If its file extension
              indicates a shared library ("<u>.so</u>", "<u>.sl</u>", "<u>.dylib</u>", and "<u>.dll</u>") it is also removed from the set of
              input files. Each <u>Critcl</u> <u>script</u> file is kept as part of the input. A single file without a  suffix
              is  assumed  to  be  a  <u>Critcl</u> <u>script</u>. A file without a suffix, but other input files following is
              treated like the name of a shared library proper, and removed from the set of input files.

              Examples:

                ... -tea ... foo

                =&gt; Package name is: foo
                =&gt; Input file is:   foo.tcl

                ... -tea ... foo bar.tcl

                =&gt; Package name is: foo
                =&gt; Input file is:   bar.tcl

                ... -tea ... foo.tcl

                =&gt; Package name is: foo
                =&gt; Input file is:   foo.tcl

                ... -tea ... foo.so bar.tcl

                =&gt; Package name is: foo
                =&gt; Input file is:   bar.tcl

       <b>-with-name</b> value
              This option sets the value of the custom build configuration option <u>name</u> to <u>value</u>.

              The information is validated only if one of the "<u>.critcl</u>" input files actually defines and uses  a
              custom build configuration option with that <u>name</u>.

       Ignored when generating a TEA package (see option <b>-tea</b> below).

</pre><h4><b>MODES</b> <b>OF</b> <b>OPERATION/USE</b></h4><pre>
       CriTcl can be used in three different modes of operation, called

       [1]    <u>Compile</u> <u>&amp;</u> <u>Run</u>, and

       [2]    <u>Generate</u> <u>Package</u>

       [3]    <u>Generate</u> <u>TEA</u> <u>Package</u>

       <u>Compile</u> <u>&amp;</u> <u>Run</u> was the original mode and is the default for <u>critcl_pkg</u>.  Collects the C fragments from the
       <u>Critcl</u> <u>script</u>, builds them as needed, and caches the results to improve load times later.

       The  second  mode,  <u>Generate</u>  <u>Package</u>,  was  introduced  to enable the creation of (prebuilt) deliverable
       packages which do not depend on the existence of a build system, i.e. C compiler, on the target  machine.
       This  was  originally  done  through  the  experimental  <b>Critbind</b>  tool, and is now handled by the <u>CriTcl</u>
       <u>Application</u>, also named <b>critcl</b>.

       Newly introduced with Critcl version 3  is  <u>Generate</u>  <u>TEA</u>  <u>Package</u>.  This  mode  constructs  a  directory
       hierarchy from the package which can later be built like a regular TEA package, i.e. using

                .../configure --prefix ...
                make all isntall

</pre><h4><b>PACKAGE</b> <b>STRUCTURE</b></h4><pre>
       Packages generated by critcl have the following basic structure:

              &lt;TOP&gt;
              +- pkgIndex.tcl
              +- critcl-rt.tcl
              +- license.terms (optional)
              |
              +- tcl (optional)
              |  +- &lt;tsources files&gt;
              |
              +- &lt;platform&gt;
                 +- &lt;shared library&gt;

       <u>Notes</u>

       [1]    The  file  "<u>pkgIndex.tcl</u>" is the standard package index file expected by Tcl's package management.
              It is sourced during a search for packages, and declares the package to Tcl with  its  files,  and
              how to handle them.

       [2]    The  file  "<u>critcl-rt.tcl</u>"  is  a helper file containing the common code used by "<u>pkgIndex.tcl</u>" to
              perform its tasks.

       [3]    The file "<u>license.terms</u>" is optional and appears  only  if  the  "<u>.critcl</u>"  file  the  package  is
              generated from used the command <b>critcl::license</b> to declare package author and license.

       [4]    All files declared with the command <b>critcl::tsources</b> are put into the sub-directory "<u>tcl</u>".

       [5]    The shared library generated by critcl is put into a platform-specific sub-directory.

       The  whole  structure,  and especially the last point, enable us to later merge the results (for the same
       package, and version) for multiple target platforms into a single directory structure  without  conflict,
       by simply copying the top directories over each other. The only files which can conflict are in the &lt;TOP&gt;
       and "<u>tcl</u>" directories, and for these we know that they are identical across targets. The result of such a
       merge would look like:

              &lt;TOP&gt;
              +- pkgIndex.tcl
              +- critcl-rt.tcl
              +- license.terms (optional)
              |
              +- tcl (optional)
              |  +- &lt;tsources files&gt;
              |
              +- &lt;platform1&gt;
              |  +- &lt;shared library1&gt;
              +- &lt;platform2&gt;
              |  +- &lt;shared library2&gt;
              ...
              +- &lt;platformN&gt;
                 +- &lt;shared libraryN&gt;

       The latest changes are found at the top.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.18.1</b></h4><pre>
       [1]    <u>Attention</u>:  While  the  overall version (of the bundle) moves to 3.1.18.1 the versions of packages
              <b>critcl</b> and <b>critcl::app</b> are <u>unchanged</u>.

       [2]    <u>Bugfix</u> Generally removed a number of 8.5-isms which slipped into 3.1.18, breaking ability  to  use
              it with Tcl 8.4.

       [3]    <u>Bugfix</u> Corrected broken <u>build.tcl</u> <u>uninstall</u>.

       [4]    <u>Bugfix</u> Package <b>critcl::class</b> bumped to version 1.1.1. Fixed partial template substitution breaking
              compilation of the generated code.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.18</b></h4><pre>
       [1]    Feature  (Developer  support).  Merged  pull  request  #96 from sebres/main-direct-invoke. Enables
              direct invokation of the "<u>main.tcl</u>" file for starkits from within a dev checkout, i.e. outside  of
              a starkit, or starpack.

       [2]    Feature.  Added  channel types to the set of builtin argument and result types. The argument types
              are for simple channel access, access requiring unshared channels, and taking  the  channel  fully
              into  the  C  level,  away from Tcl. The result type comes in variants for newly created channels,
              known channels, and to return taken channels back to Tcl. The first  will  register  the  returned
              value in the interpreter, the second assumes that it already is.

       [3]    Bugfix.  Issue  #96.  Reworked  the documentation around the argument type <b>Tcl_Interp*</b> to make its
              special status more visible, explain uses, and call it out from result types where its use will be
              necessary or at least useful.

       [4]    Feature. Package <b>critcl::class</b> bumped to version 1.1.  Extended with the ability to create a C API
              for classes, and the ability to disable the generation of the Tcl API.

       [5]    Bugfix. Merged pull request #99 from pooryorick/master. Fixes to the target directory calculations
              done by the install code.

       [6]    Merged pull request #94 from andreas-kupries/documentation.  A larger documentation  cleanup.  The
              main work was done by pooryorick, followed by tweaks done by myself.

       [7]    Extended  the  test  suite  with  lots  of  cases  based on the examples for the various generator
              packages. IOW the new test cases replicate/encapsulate  the  examples  and  demonstrate  that  the
              packages used by the examples generate working code.

       [8]    Bugfix. Issue #95. Changed the field <b>critcl_bytes.s</b> to <b>unsigned</b> <b>char*</b> to match Tcl's type. Further
              constified the field to make clear that read-only usage is the common case for it.

       [9]    Bugfix/Feature.  Package  <b>critcl::cutil</b>  bumped to version 0.2.  Fixed missing inclusion of header
              "<u>string.h</u>" in "<u>critcl_alloc.h</u>", needed for <b>memcpy</b> in macro <b>STREP</b>.   Added  macros  <b>ALLOC_PLUS</b>  and
              <b>STRDUP</b>.  Moved documentation of <b>STREP...</b> macros into proper place (alloc section, not assert).

       [10]   Merged  pull  request  #83  from apnadkarni/vc-fixes.  Removed deprecated -Gs for MSVC builds, and
              other Windows fixups.

       [11]   Feature. Package <b>critcl::iassoc</b> bumped to  version  1.1.   Refactored  internals  to  generate  an
              include  header  for  use  by  .c  files.  This now matches what other generator packages do.  The
              template file is inlined and removed.

       [12]   Merged pull request #82 from gahr/home-symlink Modified tests to handle  possibility  of  $HOME  a
              symlink.

       [13]   Merged  pull  request  #81  from gahr/test-not-installed Modified test support to find uninstalled
              critcl packages when running tests. Handles all but critcl::md5.

       [14]   Merged pull request #85 from snoe925/issue-84 to fix Issue #84 breaking installation on OSX.

       [15]   Merged pull request #87 from apnadkarni/tea-fixes to fix Issue #86, broken -tea option, generating
              an incomplete package.

       [16]   Feature. New package <b>critcl::callback</b> providing C-level functions and data  structures  to  manage
              callbacks from C to Tcl.

       [17]   Feature. Package <b>critcl::literals</b> bumped to version 1.3.  Added mode <b>+list</b> enabling the conversion
              of multiple literals into a list of their strings.

       [18]   Feature.  Package  <b>critcl::enum</b>  bumped to version 1.1.  Added basic mode handling, supporting <b>tcl</b>
              (default) and <b>+list</b> (extension enabling the conversion of multiple enum  values  into  a  list  of
              their strings).

       [19]   Feature.  Package  <b>critcl::emap</b> bumped to version 1.2.  Extended existing mode handling with <b>+list</b>
              extension enabling the conversion of multiple emap values into a list of their strings.

       [20]   Feature. Extended the set of available types by applying a few range restrictions  to  the  scalar
              types (<u>int</u>, <u>long</u>, <u>wideint</u>, <u>double</u>, <u>float</u>).

              Example: <u>int</u> <u>&gt;</u> <u>0</u> is now a viable type name.

              This is actually more limited than the description might let you believe.

              See the package reference for the details.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.17</b></h4><pre>
       [1]    Extension: Allow duplicate arg- and result-type definitions if they are fully identical.

       [2]    Bugfix.  The  application mishandled the possibility of identical-named <b>critcl::tsource</b>s. Possible
              because <b>critcl::tsource</b>s can be in subdirectories, a  structure  which  is  <u>not</u>  retained  in  the
              assembled  package,  causing  such  files  to overwrite each other and at least one lost. Fixed by
              adding a serial number to the file names in the assembled package.

       [3]    Bugfix in the static scanner which made it loose requirement information. Further  added  code  to
              generally cleanup results at the end (removal of duplicates, mainly).

       [4]    Bugfix:  Fixed  issue  #76.   Support  installation  directories  which  are not in the <b>auto_path</b>.
              Without the patch the installed <b>critcl</b> will not find its own packages and fail. Thank you to <u>Simon</u>
              <u>Bachmann</u> [https://github.com/lupylucke] for the report and patch, and then his patience with me to
              getting to actually apply it.

       [5]    Bugfix: Fixed issue #75.  Extended <b>critcl::include</b> to now take multiple paths.

       [6]    Added new compatibility package <b>lmap84</b>.

       [7]    Fixed typos in various documentation files.

       [8]    Fixed bug introduced by commit 86f415dd30 (3.1.16 release). The separation of  <b>critcl::ccode</b>  into
              user  and  work  layers means that location retrieval has to go one more level up to find the user
              location.

       [9]    New supporting package <b>critcl::cutil</b>. Provides  common  C  level  facilities  useful  to  packages
              (assertions, tracing, memory allocation shorthands).

       [10]   Modified  package <b>critcl</b> to make use of the new tracing facilities to provide tracing of arguments
              and results for <b>critcl::ccommand</b> and <b>critcl::cproc</b> invokations.

       [11]   Modified packages <b>critcl</b> and <b>critcl::class</b> to provide better function  names  for  (class)  method
              tracing.  Bumped package <b>critcl::class</b> to version 1.0.7.

       [12]   Extended  the  support  package  <b>critcl::literals</b>  with limited configurability. It is now able to
              generate code for C-level access to the pool without Tcl types (Mode <b>c</b>).  The previously  existing
              functionality  is  accesssible  under  mode <b>tcl</b>, which also is the default. Both modes can be used
              together.

       [13]   Extended the support package <b>critcl::emap</b> with limited configurability. It is now able to generate
              code for C-level access to the mapping  without  Tcl  types  (Mode  <b>c</b>).  The  previously  existing
              functionality  is  accessible  under  mode  <b>tcl</b>, which also is the default. Both modes can be used
              together.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.16</b></h4><pre>
       [1]    New feature. Extended <b>critcl::cproc</b>'s argument handling to allow arbitrary mixing of required  and
              optional arguments.

       [2]    New feature.  <u>Potential</u> <u>Incompatibility</u>.

              Extended <b>critcl::cproc</b>'s argument handling to treat an argument <b>args</b> as variadic if it is the last
              argument of the procedure.

       [3]    New  feature.  Added  two  introspection commands, <b>critcl::has-argtype</b> and <b>critcl::has-resulttype</b>.
              These enable a user to test if a specific (named) type conversion is implemented or not.

       [4]    Added new result type <b>Tcl_Obj*0</b>, with  alias  <b>object0</b>.  The  difference  to  <b>Tcl_Obj*</b>  is  in  the
              reference counting.

       [5]    Extended the command <b>critcl::argtypesupport</b> with new optional argument through which to explicitly
              specify the identifier for guarding against multiple definitions.

       [6]    Bugfix:  Fixed  problem  with  the  implementation  of  issue  #54 (See 3.1.14). Always create the
              secondary log  file.  Otherwise  end-of-log  handling  may  break,  unconditionally  assuming  its
              existence.

       [7]    Bugfix:  Fixed  problem  with  the internal change to the hook <b>HandleDeclAfterBuild</b>. Corrected the
              forgotten <b>critcl::cconst</b>.

       [8]    Debugging aid: Added comment holding the name of the result type when emitting result conversions.

       [9]    Bugfix: Fixed issue #60. Unbundled the  package  directories  containing  multiple  packages.  All
              directories under "<u>lib/</u>" now contain exactly one package.

       [10]   Bugfix:  Fixed  issue  #62,  a  few  <b>dict</b> <b>exists</b> commands operating on a fixed string instead of a
              variable.

       [11]   Bugfix: Fixed issue #56. Release builders are reminded to run the tests.

       [12]   Bugfix: Fixed issue #55. For FreeBSD critcl's platform  package  now  identifies  the  Kernel  ABI
              version.  Initialization  of  the cache directory now also uses <b>platform::identify</b> for the default
              path, instead of <b>platform::generic</b>.

       [13]   Bugfix: Fixed issue #58. Simplified the setup and use of md5. Critcl now  makes  use  of  its  own
              package  for  md5, using itself to built it. There is no chicken/egg problem with this as the <b>-pkg</b>
              mode used for this does not use md5. That is limited to mode <u>compile</u> <u>&amp;</u> <u>run</u>.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.15</b></h4><pre>
       [1]    Fixed version number bogosity with <b>3.1.14</b>.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.14</b></h4><pre>
       [1]    Fixed issue #36. Added message to target <b>all</b> of the Makefile generated for TEA mode.  Additionally
              tweaked other parts of the output to be less noisy.

       [2]    Accepted request implied in issue #54. Unconditionally save the compiler/linker build log into key
              <b>log</b>  of  the  dictionary returned by <b>cresults</b>, and save a copy of only the execution output in the
              new key <b>exl</b> ("execution log").

       [3]    Fixed issue #53. Clarified the documentation of  commands  <b>critcl::load</b>  and  <b>critcl::failed</b>  with
              regard to their results and the throwing of errors (does not happen).

       [4]    Fixed  issue  #48. Modified mode "compile &amp; run" to allow new declarations in a file, after it was
              build, instead of erroring out. The  new  decls  are  build  when  needed.  Mode  "precompile"  is
              unchanged and will continue to trap the situation.

       [5]    Fixed issue #52. Updated the local Tcl/Tk headers to 8.4.20, 8.5.13, and 8.6.4.

       [6]    Fixed issue #45. New feature command <b>critcl::cconst</b>.

       [7]    <b>critcl::util</b>:  New  command  <b>locate</b> to find a file across a set of paths, and report an error when
              not found. This is for use in autoconf-like header-searches and similar configuration tests.

       [8]    Modified 'AbortWhenCalledAfterBuild' to dump the entire stack (info frame!). This should  make  it
              easier to determine the location of the troubling declaration.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.13</b></h4><pre>
       [1]    Merged PR #43. Fixed bug loading adjunct Tcl sources.

       [2]    Fixes in documentation and generated code of package "critcl::enum". Bumped to version 1.0.1.

       [3]    Fixes in documentation of package "critcl::bitmap".

       [4]    New  package "critcl::emap". In essence a variant or cross of "critcl::bitmap" with behaviour like
              "critcl::enum".

       [5]    Merged PR #49. Fixed documentation typo.

       [6]    Merged PR #46. Fixed documentation typo.

       [7]    Merged PR #47. Fixes to test results to match the accumulated code  changes.  Also  made  portable
              across Tcl versions (varying error syntax).

       [8]    New predefined argument- and result-type "wideint" mapping to Tcl_WideInt.

       [9]    New  predefined  argument-type  "bytes"  mapping to tuple of byte-array data and length. Note: The
              existing "bytearray" type (and its aliases) was left untouched, to keep backward compatibility.

       [10]   Modified the internal interface between the Tcl shim and  C  function  underneath  "critcl::cproc"
              with  respect to the handling of optional arguments.  An optional argument "X" now induces the use
              of two C arguments, "X" and "has_X".  The new argument "has_X" is of boolean (int) type. It is set
              to true when X is set, and set to false when X has the default value. C  code  which  cares  about
              knowing  if  the  argument  is default or not is now able to check that quickly, without having to
              code the default value inside.  NOTE: This change  is  visible  in  the  output  of  the  advanced
              commands "argcnames", "argcsignature", "argvardecls", and "argconversion".

       [11]   Fixed  issue  #50  and  documented the availability of variable "interp" (type Tcl_Interp*) within
              "critcl::cinit" C code fragments.  Note that while the old, undocumented  name  of  the  variable,
              "ip",  is  still  usable,  it  is  deprecated.  It will be fully removed in two releases, i.e. for
              release 3.1.15.  The variable name was changed to be consistent with other code environments.

       [12]   Fixed issue #51. Disabled the generation of #line directives for "critcl::config lines  0"  coming
              from template files, or code generated with them before the final value of this setting was known.

       [13]   Fixed  issue with handling of namespaced package names in "critcl::iassoc". Equivalent to a bug in
              "critcl::class" fixed for critcl 3.1.1, critcl::class 1.0.1.  Note:  "literals",  "enum",  "emap",
              and "bitmap" do not require a fix as they are all built on top of "iassoc".

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.12</b></h4><pre>
       [1]    Fixed  issue  42.  Clear  ::errorInfo  immediately  after startup to prevent leakage of irrelevant
              (caught) errors into our script and confusing the usage code.

       [2]    Fixed issue 40. Keep the order of libraries, and allow  duplicates.  Both  are  things  which  are
              occasionally required for proper linking.

       [3]    Extended the utility package <b>critcl::literals</b> to declare a cproc result-type for a pool.

              Further fixed the generated header to handle multiple inclusion.

              Bumped version to 1.1.

       [4]    Fixed issue with utility package <b>critcl::bitmap</b>.

              Fixed the generated header to handle multiple inclusion.

              Bumped version to 1.0.1.

       [5]    Created  new utility package <b>critcl::enum</b> for the quick and easy setup and use of mappings between
              C values and Tcl strings.  Built on top of <b>critcl::literals</b>.

       [6]    Added examples demonstrating the use of the utility packages <b>critcl::literals</b>, <b>critcl::bitmap</b>, and
              <b>critcl::enum</b>

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.11</b></h4><pre>
       [1]    Fixed issue #37, via pull request #38, with thanks to Jos DeCoster. Information  was  stored  into
              the  v::delproc  and  v::clientdata  arrays  using  a  different key than when retrieving the same
              information, thus failing the latter.

       [2]    New convenience command <b>critcl::include</b> for easy inclusion of headers and other C files.

       [3]    New command <b>critcl::make</b> to generate a local header of other C files for use by other parts  of  a
              package through inclusion.

       [4]    New  utility  package  <b>critcl::literals</b>  for  quick and easy setup of and access to pools of fixed
              Tcl_Obj* strings.  Built on top of <b>critcl::iassoc</b>.

       [5]    New utility package <b>critcl::bitmap</b> for quick and easy setup and use of mappings between C  bitsets
              and Tcl lists whose string elements represent that set.  Built on top of <b>critcl::iassoc</b>.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.10</b></h4><pre>
       [1]    Fixed code version numbering forgotten with 3.1.9.

       [2]    Fixed  issue #35. In package mode (-pkg) the object cache directory is unique to the process, thus
              we do not need content-hashing to generate unique file names. A simple counter is  sufficient  and
              much faster.

              Note  that mode "compile &amp; run" is not as blessed and still uses content-hasing with md5 to ensure
              unique file names in its per-user object cache.

       [3]    Fixed issue where the <b>ccommand</b> forgot to use its body as  input  for  the  UUID  generation.  Thus
              ignoring  changes  to  it in mode compile &amp; run, and not rebuilding a library for changed sources.
              Bug and fix reported by Peter Spjuth.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.9</b></h4><pre>
       [1]    Fixed issue #27. Added missing platform definitions for various alternate linux and OS X targets.

       [2]    Fixed issue #28. Added missing -mXX flags for linking at the linux-{32,64}-* targets.

       [3]    Fixed issue #29. Replaced the use of raw "cheaders" information in the  processing  of  "cdefines"
              with the proper include directives derived from it.

       [4]    Fixed  the issue behind rejected pull request #30 by Andrew Shadura. Dynamically extract the stubs
              variable declarations from the Tcl header files and generate matching variable definitions for use
              in the package code. The generated code will now be always consistent with the headers, even  when
              critcl's own copy of them is replaced by system headers.

       [5]    Fixed issue #31. Accepted patch by Andrew Shadura, with changes (comments), for easier integration
              of critcl with OS package systems, replacing critcl's copies of Tcl headers with their own.

       [6]    Fixed  issue  #32.  Merged  pull  request  by  Andrew Shadura.  Various typos in documentation and
              comments.

       [7]    Fixed issue #34. Handle files starting with a dot better.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.8</b></h4><pre>
       [1]    Fixed issue with package indices generated for Tcl 8.4.  Join the  list  of  commands  with  semi-
              colon, not newline.

       [2]    Fixed  issue  #26 which brought up use-cases I had forgotten to consider while fixing bug #21 (see
              critcl 3.1.6).

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.7</b></h4><pre>
       [1]    Fixed issue #24. Extract and unconditionally display compiler warnings found  in  the  build  log.
              Prevents  users  from  missing  warnings  which,  while  not  causing the build to fail, may still
              indicate problems.

       [2]    New feature. Output hook. All  non-messaging  user  output  is  now  routed  through  the  command
              <b>critcl::print</b>, and users are allowed to override it when using the critcl application-as-package.

       [3]    New  feature, by Ashok P. Nadkarni. Platform configurations can inherit values from configurations
              defined before them.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.6</b></h4><pre>
       [1]    Fixed issue #21. While the multi-definition of the stub-table pointer variables was  ok  with  for
              all  the  C  linkers seen so far C++ linkers did not like this at all. Reworked the code to ensure
              that this set of variables is generated only once,  in  the  wrapper  around  all  the  pieces  to
              assemble.

       [2]    Fixed   issue  #22,  the  handling  of  the  command  identifier  arguments  of  <b>critcl::ccommand</b>,
              <b>critcl::cproc</b>, and <b>critcl::cdata</b>. We now properly allow any Tcl  identifier  and  generate  proper
              internal C identifiers from them.

              As  part  of this the signature of command <b>critcl::name2c</b> changed. The command now delivers a list
              of four values instead of three. The new value was added at the end.

              Further adapted the implementation of package  <b>critcl::class</b>,  a  user  of  <b>critcl::name2c</b>.   This
              package is now at version 1.0.6 and requires critcl 3.1.6

              Lastly fixed the mis-handling of option <b>-cname</b> in <b>critcl::ccommand</b>, and <b>critcl::cproc</b>.

       [3]    Fixed issue #23.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.5</b></h4><pre>
       [1]    Fixed  issue  #19.  Made the regular expression extracting the MSVC version number more general to
              make it work on german language systems. This may have to be revisited in the  future,  for  other
              Windows locales.

       [2]    Fixed  issue  #20. Made option -tea work on windows, at least in a unix emulation environment like
              msys/mingw.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.4</b></h4><pre>
       [1]    Bugfix in package <b>critcl::class</b>. Generate a dummy field in the class structure if the class has no
              class variables. Without this change the structure would be empty, and a number of  compilers  are
              not able to handle such a type.

       [2]    Fixed a typo which broke the win64 configuration.

       [3]    Fixed issue #16, a typo in the documentation of command <b>critcl::class</b>.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.3</b></h4><pre>
       [1]    Enhancement. In detail:

       [2]    Added  new  argument  type "pstring", for "Pascal String", a counted string, i.e. a combination of
              string pointer and string length.

       [3]    Added new methods <b>critcl::argtypesupport</b> and <b>::critcl::argsupport</b> to  define  and  use  additional
              supporting  code  for  an  argument  type,  here  used  by "pstring" above to define the necessary
              structure.

       [4]    Semi-bugfixes in the packages <b>critcl::class</b> and <b>critcl::iassoc</b>.  Pragmas  for  the  AS  meta  data
              scanner  to ensure that the template files are made part of the package.  Versions bumped to 1.0.4
              and 1.0.1 respectively.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.2</b></h4><pre>
       [1]    Enhancement. In detail:

       [2]    Extended <b>critcl::cproc</b> to be able to  handle  optional  arguments,  in  a  limited  way.  This  is
              automatically available to <b>critcl::class</b> cproc-based methods as well.

       [3]    Bugfix  in  <b>lassign</b>  emulation  for  Tcl  8.4.  Properly set unused variables to the empty string.
              Bumped version of emulation package <b>lassign84</b> to 1.0.1.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1.1</b></h4><pre>
       [1]    Bugfixes all around. In detail:

       [2]    Fixed the generation of wrong#args errors for <b>critcl::cproc</b> and derived code (<b>critcl::class</b> cproc-
              based methods). Use NULL if there are no arguments, and take the offset into account.

       [3]    Fixed the handling of package names by <b>critcl::class</b>.  Forgot  that  they  may  contain  namespace
              separators. Bumped to version 1.0.1.

       [4]    Extended  a  <b>critcl::class</b>  generated  error  message  in instance creation for clarity. Bumped to
              version 1.0.2.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.1</b></h4><pre>
       [1]    Added a new higher-level package <b>critcl::iassoc</b>.

              This package simplifies the creation of code  associating  data  with  an  interpreter  via  Tcl's
              <b>Tcl_(Get|Set)AssocData()</b>  APIs.  The  user  can  concentrate  on  his data while all the necessary
              boilerplate C code to support this is generated by the package.

              This package uses several of the new features which were added to the  core  <b>critcl</b>  package,  see
              below.

       [2]    Added the higher-level package <b>critcl::class</b>.

              This package simplifies the creation of C level objects with class and instance commands. The user
              can  write  a  class definition with class- and instance-variables and -methods similar to a TclOO
              class, with all the necessary boilerplate C code to support this generated by the package.

              This package uses several of the new features which were added to the  core  <b>critcl</b>  package,  see
              below.

       [3]    Extended the API for handling TEApot metadata. Added the command <b>critcl::meta?</b> to query the stored
              information.  Main  use currently envisioned is retrieval of the current package's name by utility
              commands, for use in constructed names. This particular information is always available due to the
              static scan of the package file on execution of the first critcl command.

              The new packages <b>critcl::iassoc</b> and <b>critcl::class</b> (see above) are users of this command.

       [4]    Extended the API with a command, <b>critcl::name2c</b>, exposing the process of  converting  a  Tcl  name
              into  base name, namespace, and C namespace. This enables higher-level code generators to generate
              the same type of C identifiers as <b>critcl</b> itself.

              The new package <b>critcl::class</b> (see above) is a user of this command.

       [5]    Extended the API with a command, <b>critcl::source</b>, executing critcl commands  found  in  a  separate
              file  in  the context of the current file. This enables easier management of larger bodies of code
              as it allows the user to split such up into easier to digest smaller chunks  without  causing  the
              generation of multiple packages.

       [6]    Related  to  the previous item, extended the API with commands to divert collection of generated C
              code into memory. This makes it easier to use the commands for embedded  C  code  in  higher-level
              code generators.

              See the section <b>Advanced:</b> <b>Diversions</b> for details of the provided commands.

              The new package <b>critcl::class</b> (see above) is a user of these facilities.

       [7]    Extended  the  API  with  commands  helping  developers  with  the  generation  of  proper C <u>#line</u>
              directives. This allows higher-level code generators to generate and insert their own  directives,
              ensuring that compile errors in their code are properly attributed.

              See the section <b>Advanced:</b> <b>Location</b> <b>management</b> for details of the provided commands.

              The new packages <b>critcl::iassoc</b> and <b>critcl::class</b> (see above) are users of these facilities.

       [8]    Extended the API with commands giving users the ability to define custom argument and result types
              for <b>::critcl::cproc</b>.

              See the section <b>Advanced:</b> <b>Extending</b> <b>cproc</b> for details of the provided commands.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.0.7</b></h4><pre>
       [1]    Fixed the code generated by <b>critcl::c++command</b>.  The emitted code handed a non-static string table
              to  <b>Tcl_GetIndexFromObj</b>,  in  violation  of the contract, which requires the table to have a fixed
              address. This was a memory smash waiting to happen. Thanks to Brian Griffin for  alrerting  us  to
              the general problem.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.0.6</b></h4><pre>
       [1]    Fixed  github  issue  10.  The  critcl  application  now  delivers a proper exit code (1) on build
              failure, instead of always indicating success (status 0).

       [2]    Fixed github issue 13. Handling of bufferoverflowU.lib for release builds  was  inconsistent  with
              handling for debug builds. It is now identically handled (conditional) by both cases.

       [3]    Documentation cleanup, mainly in the installation guide, and the README.md shown by github

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.0.5</b></h4><pre>
       [1]    Fixed  bug  in  the  new  code  for #line pragmas triggered when specifying C code without leading
              whitespace.

       [2]    Extended the documentation to have manpages for the  license,  source  retrieval,  installer,  and
              developer's guides.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.0.4</b></h4><pre>
       [1]    Fixed  generation  of  the package's initname when the incoming code is read from stdin and has no
              proper path.

       [2]    Fixed github issue 11. Now using /LIBPATH instead  of  -L  on  Windows  (libinclude  configuration
              setting).

       [3]    Extended  critcl  to  handle -l:path format of -l options.  GNU ld 2.22+ handles this by searching
              for the path as is. Good when specifying static libraries, as plain -l looks for shared  libraries
              in  preference over static. critcl handles it now, as older GNU ld's do not understand it, nor the
              various vendor-specific linkers.

       [4]    Fixed github issue #12. Critcl now determines the version of MSVC in use and  uses  it  to  switch
              between  various  link  debug options. Simplified the handling of bufferoverflowU.lib also, making
              use of the same mechanism and collapsing the two configurations sections we had back into one.

       [5]    Reworked the insertion of #line pragmas into the generated C code to avoid limitations on the line
              number argument imposed by various compilers, and be more accurate.

       [6]    Modified argument processing. Option -libdir now also implies -L for its argument.

       [7]    Extended handling of option -show (<b>critcl::showconfig</b>) to list the path of the configuration  file
              the data is coming from. Good for debugging configuration processing.

       [8]    Extended the build script with targets to regenerate the embedded documentation, and diagrams, and
              to generate a release.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.0.3</b></h4><pre>
       [1]    Fixed  github issues 5 and 8, for the example build.tcl scripts. Working around a missing variable
              ::errorInfo. It should always be present, however there seem to be revisions of Tcl  around  which
              violate this assumption.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.0.2</b></h4><pre>
       [1]    Fixed  issue in compile-and-run mode where commands put into the auto_index are not found by Tcl's
              [unknown] command.

       [2]    Fixed an array key mismatch breaking usage of client  data  and  delete  function  for  procedure.
              Reported by Jos DeCoster, with patch.

       [3]    Implemented a command line option <b>-L</b>, an equivalent of option <b>-I</b>, just for library search paths.

       [4]    Fixed  github  issues  5 and 8. Working around a missing variable ::errorInfo. It should always be
              present, however there seem to be revisions of Tcl around which violate this assumption.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3.0.1</b></h4><pre>
       [1]    Bugfixes all around. In detail:

       [2]    Fixed recording of Tcl version requirements. Keep package name and  version  together,  unbreaking
              generated meta data and generated package load command.

       [3]    Fixed the build scripts: When installing, or wrapping for TEA, generate any missing directories

       [4]    Modified the build scripts to properly exit the application when the window of their GUI is closed
              through the (X) button.

       [5]    Removed an 8.5-ism (open wb) which had slipped into the main build script.

       [6]    Modified  the  example  build  scripts  to  separate  the  output  for the different examples (and
              packages) by adding empty lines.

       [7]    stack::c example bugfix: Include API declarations for use in the companion files.

       [8]    Extended the documentation: Noted the need for a working installation of a C compiler.

       [9]    Extended the Windows target definitions and code to handle the manifest files used  by  modern  MS
              development  environments.  Note  that  this  code  handles  both possibilities, environment using
              manifests, and (old(er)) environments without.

       [10]   Extended the Windows 64bit target definitions and code to auto-detect  the  need  for  the  helper
              library  "bufferoverflowU.lib"  and  reconfigure  the  compile and link commands appropriately. We
              assume that the library must be linked when present. This should be no  harm  if  the  library  is
              present, yet not needed. Just superfluous. We search for the library in the paths specified by the
              environment variable LIB.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>3</b></h4><pre>
       [1]    The  command <b>critcl::platform</b> was deprecated in version 2.1, superceded by <b>critcl::targetplatform</b>,
              yet kept for compatibility. Now it has been removed.

       [2]    The command <b>critcl::compiled</b> was kept with in version 2.1 with semantics in contradiction to  its,
              for  compatibility.  This  contradiction  has  been removed, changing the visible semantics of the
              command to be in line with its name.

       [3]    The change to version 3 became necessary because of the two incompatible visible changes above.

       [4]    Extended the application package with code handling a new  option  <b>-tea</b>.  Specifying  this  option
              invokes a special mode where critcl generates a TEA package, i.e. wraps the input into a directory
              hierarchy and support files which provide it TEA-lookalike buildsystem.

              This  new  option,  and <b>-pkg</b>, exclude each other. If both are specified the last used option takes
              precedence.

              The generated package directory hierarchy is mostly self-contained, but not fully. It requires not
              only a working installation of Tcl, but  also  working  installations  of  the  packages  <b>md5</b>  and
              <b>cmdline</b>.  Both  of  these are provided by the <b>Tcllib</b> bundle. Not required, but recommended to have
              installed are any of the packages which can accelerate md5's operation, i.e. <b>cryptkit</b>, <b>tcllibc</b>, or
              <b>Trf</b>.

       [5]    Extended the critcl package with a new command <b>critcl::scan</b> taking the path to a  "<u>.critcl</u>"  file,
              statically  scanning  it,  and  returning license, version, a list of its companion files, list of
              imported APIs, and list of developer-specified custom configuration  options.  This  data  is  the
              foundation for the TEA wrapping described above.

              Note that this is a <u>static</u> scan. While the other build modes can (must) execute the "<u>.critcl</u>" file
              and make platform-specific decisions regarding the assembled C code, companion files, etc. the TEA
              wrap  mode  is  not  in  a position to make platform-specific decisions. It has to wrap everything
              which might conceivably be needed when actually building. Hence the static scan.  This has however
              its own set of problems, namely the inability to figure out any dynamic construction of  companion
              file paths, at least on its own. Thus:

       [6]    Extended  the  API used by critcl-based packages with the command <b>critcl::owns</b>. While this command
              is ignored by the regular build modes the static scanner described above takes  its  arguments  as
              the  names  of  companion  files  which  have  to be wrapped into the TEA package and could not be
              figured  by  the  scanner  otherwise,  like  because  of  dynamic   paths   to   <b>critcl::tsources</b>,
              <b>critcl::csources</b>, getting sourced directly, or simply being adjunct datafiles.

       [7]    Extended  the API used by critcl-based packages with the command <b>critcl::api</b> for the management of
              stubs tables, be it their use, and/or declaration and export.

              Please see section <u>Stubs</u> <u>Table</u> <u>Management</u> of the <b>critcl</b> package documentation for details.

       [8]    Extended the API used by  critcl-based  packages  with  the  command  <b>critcl::userconfig</b>  for  the
              management   of   developer-specified  custom  configuration  options,  be  it  their  use  and/or
              declaration.

              Please see section <u>Custom</u> <u>Build</u> <u>Configuration</u> of the <b>critcl</b> package documentation for details.

       [9]    Extended  the  API  used  by  critcl-based  packages  with   the   commands   <b>critcl::description</b>,
              <b>critcl::summary</b>,  <b>critcl::subject</b>,  <b>critcl::meta</b>, and <b>critcl::buildrequirement</b> for the declaration
              of TEApot meta data for/about the package.

              Please see section <u>Package</u> <u>Meta</u> <u>Data</u> of the <b>critcl</b> package documentation for details.

</pre><h4><b>CHANGES</b> <b>FOR</b> <b>VERSION</b> <b>2.1</b></h4><pre>
       [1]    Fixed bug where <b>critcl::tsources</b> interpreted relative paths as relative  to  the  current  working
              directory  instead  of  relative to the "<u>.critcl</u>" file using the command, as all other commands of
              this type do.

       [2]    Fixed internals, preventing information collected for multiple "<u>.critcl</u>"  files  to  leak  between
              them. Notably, <b>critcl::tk</b> is not a global configuration option anymore.

       [3]    Fixed  the  command  <b>critcl::license</b>  to  be  a null-operation in mode "compile &amp; run", instead of
              throwing an error.

       [4]    Fixed the critcl application's interference with the "compile &amp; run" result cache in <b>-pkg</b> mode  by
              having it use a wholly separate (and by default transient) directory for that mode.

       [5]    Fixed  bug where changes to a "<u>.critcl</u>" file did not result in a rebuild for mode "compile &amp; run".
              All relevant API commands now ensure UUID changes.

       [6]    Fixed bug in the backend handling of <b>critcl::debug</b> where the companion c-sources  of  a  "<u>.critcl</u>"
              file were not compiled with debug options, although the "<u>.critcl</u>" file was.

       [7]    Fixed  bug  in  <b>critcl::debug</b>  which prevented recognition of mode "all" when it was not the first
              argument to the command.

       [8]    Fixed bug in "<u>preload.c</u>" preventing its compilation on non-windows platforms.

       [9]    Fixed long-standing bug in the handling of namespace qualifiers in the command  name  argument  of
              <b>critcl::cproc</b>  and  <b>critcl::ccommand</b>. It is now possible to specify a fully qualified command name
              without issues.

       [10]   Extended/reworked <b>critcl::tsources</b> to be the canonical way of  declaring  "<u>.tcl</u>"  companion  files
              even for mode "compile &amp; run".

       [11]   Extended/reworked  <b>critcl::tsources</b>  to allow the use of a "<u>.critcl</u>" file as its own Tcl companion
              file.

       [12]   Extended <b>critcl::framework</b> to  internally  check  for  OS  X  build  target,  and  to  ignore  the
              declaration if its not.

       [13]   Extended  <b>critcl::failed</b>  to be callable more than once in a "<u>.critcl</u>" file. The first call forces
              the build, if it was not done already, to get the result. Further calls return the  cached  result
              of the first call.

       [14]   Extended  the  handling  of environment variable CC in the code determining the compiler to use to
              deal with (i.e. remove) paths to the compiler, compiler  file  extensions,  and  compiler  options
              specified after the compiler itself, leaving only the bare name of the compiler.

       [15]   Extended  the  code  handling  the  search for preloaded libraries to print the paths it searched,
              making debugging of a search failure easier.

       [16]   A new command <b>critcl::tcl</b> can be used to declare the version of Tcl minimally needed to build  and
              run  the  "<u>.critcl</u>" file and package. Defaults to 8.4 if not declared. Extended critcl to have the
              stubs and headers for all of Tcl 8.4, 8.5, and 8.6.

       [17]   A new command <b>critcl::load</b> forces the build and load of a "<u>.critcl</u>" file. This is the official way
              for overriding critcl's default lazy-build-&amp;-load-on-demand scheme for mode "compile &amp; run".

              <u>Note</u> that after using <b>critcl::load</b> / <b>critcl::failed</b> in a "<u>.critcl</u>" file it is not possible to  use
              critcl commands in that file anymore. Doing so will throw an error.

       [18]   Extended  the  generation  of  '#line'  pragmas  to use <b>info</b> <b>frame</b> (if available) to provide the C
              compiler with exact line numbers into the "<u>.critcl</u>" file for the reporting of warnings and errors.

       [19]   Extended <b>critcl::check</b> with logging to help with debugging build-time checks of  the  environment,
              plus an additional optional argument to provide labeling.

       [20]   Added  a new command <b>critcl::checklink</b> which not only tries to check the environment via compiling
              the code, but also its linkability.

       [21]   Added a new command <b>critcl::msg</b> for messaging, like command <b>critcl::error</b> is for error  reporting.
              Likewise  this is a hook a user of the package is allowed to override. The default implementation,
              used by mode <u>compile</u> <u>&amp;</u> <u>run</u> does nothing. The implementation for mode <u>generate</u> <u>package</u>  prints  the
              message to stdout.

              Envisioned  use  is for the reporting of results determined by <b>critcl::check</b> and <b>critcl::checklink</b>
              during building, to help with debugging when something goes wrong with a check.

       [22]   Exposed the argument processing internals of <b>critcl::proc</b> for  use  by  advanced  users.  The  new
              commands are

              [1]    <b>critcl::argnames</b>

              [2]    <b>critcl::argcnames</b>

              [3]    <b>critcl::argcsignature</b>

              [4]    <b>critcl::argvardecls</b>

              [5]    <b>critcl::argconversion</b>

              Please see section <u>Advanced</u> <u>Embedded</u> <u>C</u> <u>Code</u> of the <b>critcl</b> package documentation for details.

       [23]   Extended  the  critcl  package  to  intercept  <b>package</b> <b>provide</b> and record the file -&gt; package name
              mapping. Plus other internal changes now allow the use of namespaced  package  names  while  still
              using proper path names and init function.

       [24]   Dropped the unused commands <b>critcl::optimize</b> and <b>critcl::include</b>.

       [25]   Dropped <b>-lib</b> mode from the critcl application.

       [26]   Dropped remnants of support for Tcl 8.3 and before.

</pre><h4><b>AUTHORS</b></h4><pre>
       Jean Claude Wippler, Steve Landers, Andreas Kupries

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This  document,  and  the package it describes, will undoubtedly contain bugs and other problems.  Please
       report them at <u>https://github.com/andreas-kupries/critcl/issues</u>.  Ideas for enhancements you may have for
       either package, application, and/or the documentation are also very welcome and  should  be  reported  at
       <u>https://github.com/andreas-kupries/critcl/issues</u> as well.

</pre><h4><b>KEYWORDS</b></h4><pre>
       C  code,  Embedded  C  Code,  code  generator,  compile &amp; run, compiler, dynamic code generation, dynamic
       compilation, generate package, linker, on demand compilation, on-the-fly compilation

</pre><h4><b>CATEGORY</b></h4><pre>
       Glueing/Embedded C code

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) Jean-Claude Wippler
       Copyright (c) Steve Landers
       Copyright (c) 2011-2018 Andreas Kupries

doc                                                  3.1.18                                    <u>critcl::<a href="../man3tcl/app.3tcl.html">app</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>