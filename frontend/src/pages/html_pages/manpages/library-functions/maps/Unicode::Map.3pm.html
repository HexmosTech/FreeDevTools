<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unicode::Map - maps charsets from and to utf16 unicode</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libunicode-map-perl">libunicode-map-perl_0.112-13build5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Unicode::Map - maps charsets from and to utf16 unicode

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use <b>Unicode::Map()</b>;

           <u>$Map</u> = new Unicode::Map("ISO-8859-1");

           <u>$utf16</u> = <u>$Map</u> -&gt; to_unicode ("Hello world!");
             =&gt; $utf16 == "\0H\0e\0l\0l\0o\0 \0w\0o\0r\0l\0d\0!"

           <u>$locale</u> = <u>$Map</u> -&gt; from_unicode (<u>$utf16</u>);
             =&gt; $locale == "Hello world!"

       A more detailed description below.

       2do: short note about perl's Unicode perspectives.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module converts strings from and to 2-byte Unicode UCS2 format.  All mappings happen via 2 byte
       UTF16 encodings, not via 1 byte UTF8 encoding. To transform these use Unicode::String.

       For historical reasons this module coexists with Unicode::Map8.  Please use Unicode::Map8 unless you need
       to care for two byte character sets, e.g. chinese GB2312. Anyway, if you stick to the basic functionality
       (see documentation) you can use both modules equivalently.

       Practically this module will disappear from earth sooner or later as Unicode mapping support needs
       somehow to get into perl's core. If you like to work on this field please don't hesitate contacting Gisle
       Aas!

       This module can't deal directly with utf8. Use Unicode::String to convert utf8 to utf16 and vice versa.

       Character mapping is according to the data of binary mapfiles in Unicode::Map hierarchy. Binary mapfiles
       can also be created with this module, enabling you to install own specific character sets. Refer to
       mkmapfile or file REGISTRY in the Unicode::Map hierarchy.

</pre><h4><b>CONVERSION</b> <b>METHODS</b></h4><pre>
       Probably these are the only methods you will need from this module. Their usage is compatible with
       Unicode::Map8.

       new <u>$Map</u> = new Unicode::Map("GB2312-80")

           Returns a new Map object for GB2312-80 encoding.

       from_unicode
           <u>$dest</u> = <u>$Map</u> -&gt; from_unicode (<u>$src</u>)

           Creates a string in locale charset representation from utf16 encoded string <u>$src</u>.

       to_unicode
           <u>$dest</u>   = <u>$Map</u> -&gt; to_unicode (<u>$src</u>)

           Creates a string in utf16 representation from <u>$src</u>.

       to8 Alias for <u>from_unicode</u>. For compatibility with Unicode::Map8

       to16
           Alias for <u>to_unicode</u>. For compatibility with Unicode::Map8

</pre><h4><b>WARNINGS</b></h4><pre>
       You  can  demand  Unicode::Map  to  issue warnings at deprecated or incompatible usage with the constants
       WARN_DEFAULT, WARN_DEPRECATION or WARN_COMPATIBILITY.  The latter both can be ored together.

       No special warnings:
           $Unicode::Map::WARNINGS = Unicode::Map::WARN_DEFAULT

       Warnings for deprecated usage:
           $Unicode::Map::WARNINGS = Unicode::Map::WARN_DEPRECATION

       Warnings for incompatible usage:
           $Unicode::Map::WARNINGS = Unicode::Map::WARN_COMPATIBILITY

</pre><h4><b>MAINTAINANCE</b> <b>METHODS</b></h4><pre>
       <u>Note:</u> These methods are solely for the maintainance of Unicode::Map.  Using any  of  these  methods  will
       lead to programs incompatible with Unicode::Map8.

       alias
           <u>@list</u> = <u>$Map</u> -&gt; alias (<u>$csid</u>)

           Returns a list of alias names of character set <u>$csid</u>.

       mapping
           <u>$path</u> = <u>$Map</u> -&gt; mapping (<u>$csid</u>)

           Returns  the  absolute path of binary character mapping for character set <u>$csid</u> according to REGISTRY
           file of Unicode::Map.

       id  <u>$real_id</u>||"" = <u>$Map</u> -&gt; id (<u>$test_id</u>)

           Returns a valid character set identifier <u>$real_id</u>, if <u>$test_id</u> is a valid character set name or alias
           name according to REGISTRY file of Unicode::Map.

       ids <u>@ids</u> = <u>$Map</u> -&gt; <b>ids()</b>

           Returns a list of all character set names defined in REGISTRY file.

       read_text_mapping
           1||0 = <u>$Map</u> -&gt; read_text_mapping (<u>$csid</u>, <u>$path</u>, <u>$style</u>)

           Read a text mapping of style <u>$style</u> named <u>$csid</u> from filename <u>$path</u>.  The mapping then can  be  saved
           to a file with method: write_binary_mapping.  &lt;$style&gt; can be:

            style          description

            "unicode"    A text mapping as of <a href="ftp://ftp.unicode.org/MAPPINGS/">ftp://ftp.unicode.org/MAPPINGS/</a>
            ""           Same as "unicode"
            "reverse"    Similar to unicode, but both columns are switched
            "keld"       A text mapping as of <a href="ftp://dkuug.dk/i18n/charmaps/">ftp://dkuug.dk/i18n/charmaps/</a>

       src <u>$path</u> = <u>$Map</u> -&gt; src (<u>$csid</u>)

           Returns  the  path of textual character mapping for character set <u>$csid</u> according to REGISTRY file of
           Unicode::Map.

       style
           <u>$path</u> = <u>$Map</u> -&gt; style (<u>$csid</u>)

           Returns the style of textual character mapping for character set <u>$csid</u> according to REGISTRY file  of
           Unicode::Map.

       write_binary_mapping
           1||0 = <u>$Map</u> -&gt; write_binary_mapping (<u>$csid</u>, <u>$path</u>)

           Stores a mapping that has been loaded via method read_text_mapping in file <u>$path</u>.

</pre><h4><b>DEPRECATED</b> <b>METHODS</b></h4><pre>
       Some functionality is no longer promoted.

       noise
           Deprecated! Don't use any longer.

       reverse_unicode
           Deprecated! Use Unicode::String::byteswap instead.

</pre><h4><b>BINARY</b> <b>MAPPINGS</b></h4><pre>
       Structure of binary Mapfiles

       Unicode  character  mapping  tables  have  sequences  of  sequential key and sequential value codes. This
       property is used to crunch the maps easily.  n (0&lt;n&lt;256)  sequential  characters  are  represented  as  a
       bytecount  n and the first character code key_start. For these subsequences the according value sequences
       are crunched together, also. The value 0 is used to start an extended information  block  (that  is  just
       partially implemented, though).

       One  could think of two ways to make a binary mapfile. First method would be first to write a list of all
       key codes, and then to write a list of all value codes. Second method, used here, appends to all  partial
       key code lists the according crunched value code lists. This makes value codes a little bit closer to key
       codes.

       <b>Note:</b>  <b>the</b>  <b>file</b>  <b>format</b>  <b>is</b> <b>still</b> <b>in</b> <b>a</b> <b>very</b> <b>liquid</b> <b>state.</b> <b>Neither</b> <b>rely</b> <b>on</b> <b>that</b> <b>it</b> <b>will</b> <b>stay</b> <b>as</b> <b>this,</b> <b>nor</b>
       <b>that</b> <b>the</b> <b>description</b> <b>is</b> <b>bugless,</b> <b>nor</b> <b>that</b> <b>all</b> <b>features</b> <b>are</b> <b>implemented.</b>

       STRUCTURE:

       &lt;main&gt;:
              offset  structure     value

              0x00    word          0x27b8   (magic)
              0x02    @(&lt;extended&gt; || &lt;submapping&gt;)

           The mapfile ends with extended mode &lt;end&gt; in main stream.

       &lt;submapping&gt;:
              0x00    byte != 0     charsize1 (bits)
              0x01    byte          n1 number of chars for one entry
              0x02    byte          charsize2 (bits)
              0x03    byte          n2 number of chars for one entry
              0x04    @(&lt;extended&gt; || &lt;key_seq&gt; || &lt;key_val_seq)

              bs1=int((charsize1+7)/8), bs2=int((charsize2+7)/8)

           One submapping ends when &lt;mapend&gt; entry occurs.

       &lt;key_val_seq&gt;:
              0x00    size=0|1|2|4  n, number of sequential characters
              size    bs1           key1
              +bs1    bs2           value1
              +bs2    bs1           key2
              +bs1    bs2           value2
              ...

           key_val_seq ends, if either file ends (n = infinite mode) or n pairs are read.

       &lt;key_seq&gt;:
              0x00    byte          n, number of sequential characters
              0x01    bs1           key_start, first character of sequence
              1+bs1   @(&lt;extended&gt; || &lt;val_seq&gt;)

           A key sequence starts with a byte count telling how long the sequence is. It is followed by  the  key
           start  code.  After this comes a list of value sequences. The list of value sequences ends, if <a href="../manm/sum.m.html">sum</a>(m)
           equals n.

       &lt;val_seq&gt;:
              0x00    byte          m, number of sequential characters
              0x01    bs2           val_start, first character of sequence

       &lt;extended&gt;:
              0x00    byte          0
              0x01    byte          ftype
              0x02    byte          fsize, size of following structure
              0x03    fsize bytes   something

           For future extensions or private use one can insert here 1..255 byte long  streams.  ftype  can  have
           values 30..255, values 0..29 are reserved. Modi are not fully defined now and could change. They will
           be explained later.

</pre><h4><b>TO</b> <b>BE</b> <b>DONE</b></h4><pre>
       -   Something clever, when a character has no translation.

       -   Direct charset -&gt; charset mapping.

       -   Better performance.

       -   Support for mappings according to RFC 1345.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       -   File "REGISTRY" and binary mappings in directory "Unicode/Map" of your perl library path

       -   <b><a href="../man1/recode.1.html">recode</a></b>(1),    <b><a href="../man1/map.1.html">map</a></b>(1),    <b><a href="../man1/mkmapfile.1.html">mkmapfile</a></b>(1),    <b>Unicode::<a href="../man3/Map.3.html">Map</a></b>(3),    <b>Unicode::<a href="../man3/Map8.3.html">Map8</a></b>(3),   <b>Unicode::<a href="../man3/String.3.html">String</a></b>(3),
           <b>Unicode::<a href="../man3/CharName.3.html">CharName</a></b>(3), <b><a href="../man1/mirrorMappings.1.html">mirrorMappings</a></b>(1)

       -   RFC 1345

       -   Mappings at Unicode consortium <a href="ftp://ftp.unicode.org/MAPPINGS/">ftp://ftp.unicode.org/MAPPINGS/</a>

       -   Registrated Internet character sets <a href="ftp://dkuug.dk/i18n/charmaps/">ftp://dkuug.dk/i18n/charmaps/</a>

       -   2do: more references

</pre><h4><b>AUTHOR</b></h4><pre>
       Martin Schwartz &lt;<u><a href="mailto:martin@nacho.de">martin@nacho.de</a></u>&gt;

perl v5.40.0                                       2024-10-20                                           <u><a href="../man3pm/Map.3pm.html">Map</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>