<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Router::Simple::Cookbook - The Router::Simple Cookbook</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/librouter-simple-perl">librouter-simple-perl_0.17-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Router::Simple::Cookbook - The Router::Simple Cookbook

</pre><h4><b>FAQ</b></h4><pre>
   <b>How</b> <b>to</b> <b>create</b> <b>Sinatra-ish</b> <b>framework</b> <b>with</b> <b>Router::Simple?</b>
       Please read the following example code.

           package MySinatraish;
           use Router::Simple;
           use Plack::Request;

           sub import {
               my $pkg = <a href="../man0/caller.0.html">caller</a>(0);
               my $router = Router::Simple-&gt;new();
               my $any = sub ($$;$) {
                   my ($pattern, $dest, $opt) = do {
                       if (@_ == 3) {
                           my ($methods, $pattern, $code) = @_;
                           ($pattern, {code =&gt; $code}, +{method =&gt; [ map { uc $_ } @$methods ]});
                       } else {
                           my ($pattern, $code) = @_;
                           ($pattern, {code =&gt; $code}, +{});
                       }
                   };
                   $router-&gt;connect(
                       $pattern,
                       $dest,
                       $opt,
                   );
               };
               no strict 'refs';
               # any [qw/get post delete/] =&gt; '/bye' =&gt; sub { ... };
               # any '/bye' =&gt; sub { ... };
               *{"${pkg}::any"} = $any;
               *{"${pkg}::get"} = sub {
                   $any-&gt;([qw/GET HEAD/], $_[0], $_[1]);
               };
               *{"${pkg}::post"} = sub {
                   $any-&gt;([qw/POST/], $_[0], $_[1]);
               };
               *{"${pkg}::as_psgi_app"} = sub {
                   return sub {
                       if (my $p = $router-&gt;match($_[0])) {
                           [200, [], [$p-&gt;{code}-&gt;()]];
                       } else {
                           [404, [], ['not found']];
                       }
                   }
               };
           }

           package MyApp;
           use MySinatraish;
           get '/' =&gt; sub {
               'top';
           };
           post '/new' =&gt; sub {
               'posted';
           };
           as_psgi_app;

   <b>How</b> <b>to</b> <b>switch</b> <b>from</b> <b>HTTPx::Dispatcher?</b>
       HTTPx::Dispatcher is class specific declarative router.

           package MyApp::Dispatcher;
           use HTTPx::Dispatcher;
           connect '/', {controller =&gt; 'foo', action =&gt; 'bar'};
           1;

       The following script is same as above.

           package MyApp::Dispatcher;
           use Router::Simple::Declare;

           my $router = router {
               connect '/', {controller =&gt; 'foo', action =&gt; 'bar'};
           };
           sub match { $router-&gt;match() }

   <b>How</b> <b>to</b> <b>use</b> <b>Router::Simple</b> <b>with</b> <b>non-strictly-MVC</b> <b>application?</b>
           use Router::Simple::Declare;
           my $router = router {
               connect '/foo/bar/' =&gt; { 'target' =&gt; '/foobar.asp' };
               connect '/topics/:topic' =&gt; { target =&gt; '/my-topic.asp' };
               connect '/products/{Category:.*}' =&gt; { target =&gt; '/products.asp', Category =&gt; 'All' };
               connect '/zipcode/{zip:[0-9]{5,5}}' =&gt; {target =&gt; '/zipcode.asp' };
           };

       You can pass the target path as destination.

</pre><h4><b>AUTHOR</b></h4><pre>
       Tokuhiro Matsuno &lt;tokuhirom AAJKLFJEF GMAIL COM&gt;

</pre><h4><b>LICENSE</b></h4><pre>
       Copyright (C) Tokuhiro Matsuno

       This library is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Router::Simple

perl v5.36.0                                       2022-11-27                      <u>Router::Simple::<a href="../man3pm/Cookbook.3pm.html">Cookbook</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>