<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>globus_ftp_control_client - GridFTP Control Client</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libglobus-ftp-control-doc">libglobus-ftp-control-doc_9.10-3build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       globus_ftp_control_client - GridFTP Control Client

        - Control Client.

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Functions</b>
       globus_result_t <b>globus_ftp_control_handle_init</b> (globus_ftp_control_handle_t *handle)
           Initialize a globus ftp handle.
       globus_result_t <b>globus_ftp_control_handle_destroy</b> (globus_ftp_control_handle_t *handle)
           Destroy a globus ftp handle.
       globus_result_t <b>globus_ftp_control_connect</b> (globus_ftp_control_handle_t *handle, char *host, unsigned
           short port, <b>globus_ftp_control_response_callback_t</b> callback, void *callback_arg)
           Create a new control connection to an FTP server.
       globus_result_t <b>globus_ftp_control_response_destroy</b> (globus_ftp_control_response_t *response)
           Free the memory associated with a response.
       globus_result_t <b>globus_ftp_control_response_copy</b> (globus_ftp_control_response_t *src,
           globus_ftp_control_response_t *dest)
           Copy a response structure.
       globus_result_t <b>globus_ftp_control_authenticate</b> (globus_ftp_control_handle_t *handle,
           <b>globus_ftp_control_auth_info_t</b> *auth_info, globus_bool_t use_auth,
           <b>globus_ftp_control_response_callback_t</b> callback, void *callback_arg)
           Authenticate the user to the FTP server.
       globus_result_t <b>globus_ftp_control_authenticate_ex</b> (globus_ftp_control_handle_t *handle,
           <b>globus_ftp_control_auth_info_t</b> *auth_info, globus_bool_t use_auth,
           <b>globus_ftp_control_response_callback_t</b> callback, void *callback_arg)
           Authenticate the user to the FTP server.
       globus_result_t <b>globus_ftp_control_send_command</b> (globus_ftp_control_handle_t *handle, const char
           *cmdspec, <b>globus_ftp_control_response_callback_t</b> callback, void *callback_arg,...)
           Send an FTP protocol command.
       globus_result_t <b>globus_ftp_control_abort</b> (globus_ftp_control_handle_t *handle,
           <b>globus_ftp_control_response_callback_t</b> callback, void *callback_arg)
           Send a GridFTP ABORT.
       globus_result_t <b>globus_ftp_control_quit</b> (globus_ftp_control_handle_t *handle,
           <b>globus_ftp_control_response_callback_t</b> callback, void *callback_arg)
           Send a GridFTP QUIT.
       globus_result_t <b>globus_ftp_control_force_close</b> (globus_ftp_control_handle_t *handle,
           <b>globus_ftp_control_response_callback_t</b> callback, void *callback_arg)
           Force a control connection to close.
       globus_result_t <b>globus_ftp_control_auth_info_init</b> (<b>globus_ftp_control_auth_info_t</b> *auth_info,
           gss_cred_id_t credential_handle, globus_bool_t encrypt, char *user, char *password, char *account,
           char *subject)
           Initialize authentication information.
       int <b>globus_ftp_control_auth_info_compare</b> (<b>globus_ftp_control_auth_info_t</b> *auth_info_1,
           <b>globus_ftp_control_auth_info_t</b> *auth_info_2)
           Compare authentication information.
       globus_result_t <b>globus_ftp_control_client_get_connection_info_ex</b> (globus_ftp_control_handle_t *handle,
           globus_ftp_control_host_port_t *local_info, globus_ftp_control_host_port_t *remote_info)
           Not documented yet.
       globus_result_t <b>globus_ftp_control_ipv6_allow</b> (globus_ftp_control_handle_t *handle, globus_bool_t allow)
           Not documented yet.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Control Client.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>globus_result_t</b> <b>globus_ftp_control_abort</b> <b>(globus_ftp_control_handle_t</b> <b>*</b> <b>handle,</b>
       <b>globus_ftp_control_response_callback_t</b> <b>callback,</b> <b>void</b> <b>*</b> <b>callback_arg)</b>
       Send a GridFTP ABORT. This function is used to send the ABORT message to the FTP server. The ABORT
       message is sent out-of-band, and terminates any current data transfer in progress.

       As a result of the ABORT, the data channels used by this control channel will be closed. The data command
       callback will be issued with either a completion reply, or a transfer aborted reply. The ABORT callback
       will also be invoked, with the server's response to the abort command.

       Any attempts to register buffers for read or write after an ABORT has been sent will fail with a 'no
       transfer in progress' error.

       <b>Parameters</b>
           <u>handle</u> A pointer to a GridFTP control handle. The ABORT command is issued to the server over the
           control channel associated with this handle.
           <u>callback</u> The function to be called once the authentication process is complete or when an error
           occurs.
           <u>callback_arg</u> User supplied argument to the callback function

       <b>Returns</b>

           • Success

           • Null handle

           • No transfer in progress

       <b>Callback</b> <b>errors:</b>

           • success

           • protocol error

           • eof

       <b>Expected</b> <b>callback</b> <b>response</b> <b>values:</b>

           • 226 Abort successful.

           • 500 Syntax error, command unrecognized.

       <b>Note</b>
           The server may send other responses.

   <b>int</b>       <b>globus_ftp_control_auth_info_compare</b>       <b>(globus_ftp_control_auth_info_t</b>      <b>*</b>      <b>auth_info_1,</b>
       <b>globus_ftp_control_auth_info_t</b> <b>*</b> <b>auth_info_2)</b>
       Compare authentication information. This is  helper  function  compares  two  authentication  information
       structures and return zero if the two structures are deemed equal and a non-zero value otherwise.

       <b>Parameters</b>
           <u>auth_info_1</u> The first authentication structure
           <u>auth_info_2</u> The second authentication structure

       <b>Returns</b>

           • 0 if the structures are equal

           • !0 if the structures differ or an error occurred

   <b>globus_result_t</b>  <b>globus_ftp_control_auth_info_init</b> <b>(globus_ftp_control_auth_info_t</b> <b>*</b> <b>auth_info,</b> <b>gss_cred_id_t</b>
       <b>credential_handle,</b> <b>globus_bool_t</b> <b>encrypt,</b> <b>char</b> <b>*</b> <b>user,</b> <b>char</b> <b>*</b> <b>password,</b> <b>char</b> <b>*</b> <b>account,</b> <b>char</b> <b>*</b> <b>subject)</b>
       Initialize authentication information. This is helper function initializes a  authentication  information
       structure with the values contained in the second to fifth arguments, which may be GLOBUS_NULL. No memory
       is allocated in this function.

       <b>Parameters</b>
           <u>auth_info</u> The authentication structure to initialize.
           <u>credential_handle</u>  The  credential  to use for authentication. This may be GSS_C_NO_CREDENTIAL to use
           the user's default credential.
           <u>encrypt</u> Boolean whether or not to encrypt the control channel for this handle.
           <u>user</u> The user name
           <u>password</u> The password for the user name
           <u>account</u> The account for the user name/password
           <u>subject</u> The GSSAPI subject name

       <b>Returns</b>

           • Error object

           • GLOBUS_SUCCESS

   <b>globus_result_t</b>      <b>globus_ftp_control_authenticate</b>       <b>(globus_ftp_control_handle_t</b>       <b>*</b>       <b>handle,</b>
       <b>globus_ftp_control_auth_info_t</b>           <b>*</b>           <b>auth_info,</b>          <b>globus_bool_t</b>          <b>use_auth,</b>
       <b>globus_ftp_control_response_callback_t</b> <b>callback,</b> <b>void</b> <b>*</b> <b>callback_arg)</b>
       Authenticate the user to the FTP server. This will perform the  authentication  handshake  with  the  FTP
       server.  Depending on which parameters are non-NULL, the authentication may involve GSSAPI credentials, a
       username, a password, and an account name.

       <b>Note</b>
           Do we want to add attribute arguments for:

           • specifying type of delegation

           • gsswrap control messages for integrity or confidentiality

       <b>Parameters</b>
           <u>handle</u> A pointer to a unauthenticated GridFTP control handle. In the case of GSS  authentication  the
           GSS security context is stored in this structure.
           <u>auth_info</u> This structure is used to pass the following information:

           • user  The  user's  name  for  login  purposes. If this string is 'anonymous', 'ftp', GLOBUS_NULL or
             ':globus-mapping:' then the password argument  is  optional.  If  this  string  is  GLOBUS_NULL  or
             ':globus-mapping:' and gss_auth is true then the users login is looked by the FTP server host.

           • password  The password for the above user argument. If the user argument is 'anonymous' or 'ftp' or
             if gss_auth is true this string may be GLOBUS_NULL.

           • account This parameter is optional. If not used it should be set to GLOBUS_NULL. It might be needed
             by firewalls.

           • auth_gssapi_subject The GSSAPI subject name of the  server  you  are  connecting  to.  If  this  is
             GLOBUS_NULL,  and  the  gss_auth parameter is set to GLOBUS_TRUE, then the name will default to the
             host name.

           <u>use_auth</u> If set to GLOBUS_TRUE the above argument indicates that GSS authentication should  be  used,
           otherwise cleartext user/password authentication is used.
           <u>callback</u>  The  function  to  be  called  once the authentication process is complete or when an error
           occurs.
           <u>callback_arg</u> User supplied argument to the callback function

       <b>Returns</b>

           • success

           • Null handle

           • Invalid handle

           • Handle already authenticated

       <b>Callback</b> <b>errors:</b>

           • success

           • authentication failed

           • protocol error

           • eof

       <b>Expected</b> <b>callback</b> <b>response</b> <b>values:</b>

           • 230 User logged in, proceed.

           • 232 User logged in, authorized by security data exchange.

           • 234 Security data exchange complete.

           • 331 User name okay, need password.

           • 332 Need account for login.

           • 336 Username okay, need password. Challenge is '....'

           • 431 Need some unavailable resource to process security.

           • 500 Syntax error, command unrecognized.

           • 530 Not logged in.

       <b>Note</b>
           The server may send other responses.

           The function <b>globus_ftp_control_authenticate_ex()</b> is identical except that  the  auth_info-&gt;req_flags
           is  used.  If  delegation  flags  or  any  flags other than GSS_C_MUTUAL_FLAG and GSS_C_CONF_FLAG are
           desired, they must be set explicitly. It is the caller's responsibility to ensure that req_flags only
           contains valid flags.

   <b>globus_result_t</b>      <b>globus_ftp_control_authenticate_ex</b>      <b>(globus_ftp_control_handle_t</b>      <b>*</b>      <b>handle,</b>
       <b>globus_ftp_control_auth_info_t</b>           <b>*</b>           <b>auth_info,</b>          <b>globus_bool_t</b>          <b>use_auth,</b>
       <b>globus_ftp_control_response_callback_t</b> <b>callback,</b> <b>void</b> <b>*</b> <b>callback_arg)</b>
       Authenticate the user to the FTP server.   This will perform the authentication handshake  with  the  FTP
       server.  Depending on which parameters are non-NULL, the authentication may involve GSSAPI credentials, a
       username, a password, and an account name.

       <b>Note</b>
           Do we want to add attribute arguments for:

           • specifying type of delegation

           • gsswrap control messages for integrity or confidentiality

       <b>Parameters</b>
           <u>handle</u> A pointer to a unauthenticated GridFTP control handle. In the case of GSS  authentication  the
           GSS security context is stored in this structure.
           <u>auth_info</u> This structure is used to pass the following information:

           • user  The  user's  name  for  login  purposes. If this string is 'anonymous', 'ftp', GLOBUS_NULL or
             ':globus-mapping:' then the password argument  is  optional.  If  this  string  is  GLOBUS_NULL  or
             ':globus-mapping:' and gss_auth is true then the users login is looked by the FTP server host.

           • password  The password for the above user argument. If the user argument is 'anonymous' or 'ftp' or
             if gss_auth is true this string may be GLOBUS_NULL.

           • account This parameter is optional. If not used it should be set to GLOBUS_NULL. It might be needed
             by firewalls.

           • auth_gssapi_subject The GSSAPI subject name of the  server  you  are  connecting  to.  If  this  is
             GLOBUS_NULL,  and  the  gss_auth parameter is set to GLOBUS_TRUE, then the name will default to the
             host name.

           <u>use_auth</u> If set to GLOBUS_TRUE the above argument indicates that GSS authentication should  be  used,
           otherwise cleartext user/password authentication is used.
           <u>callback</u>  The  function  to  be  called  once the authentication process is complete or when an error
           occurs.
           <u>callback_arg</u> User supplied argument to the callback function

       <b>Returns</b>

           • success

           • Null handle

           • Invalid handle

           • Handle already authenticated

       <b>Callback</b> <b>errors:</b>

           • success

           • authentication failed

           • protocol error

           • eof

       <b>Expected</b> <b>callback</b> <b>response</b> <b>values:</b>

           • 230 User logged in, proceed.

           • 232 User logged in, authorized by security data exchange.

           • 234 Security data exchange complete.

           • 331 User name okay, need password.

           • 332 Need account for login.

           • 336 Username okay, need password. Challenge is '....'

           • 431 Need some unavailable resource to process security.

           • 500 Syntax error, command unrecognized.

           • 530 Not logged in.

       <b>Note</b>
           The server may send other responses.

           The function <b>globus_ftp_control_authenticate_ex()</b> is identical except that  the  auth_info-&gt;req_flags
           is  used.  If  delegation  flags  or  any  flags other than GSS_C_MUTUAL_FLAG and GSS_C_CONF_FLAG are
           desired, they must be set explicitly. It is the caller's responsibility to ensure that req_flags only
           contains valid flags.

   <b>globus_result_t</b> <b>globus_ftp_control_connect</b> <b>(globus_ftp_control_handle_t</b> <b>*</b> <b>handle,</b> <b>char</b> <b>*</b> <b>host,</b> <b>unsigned</b> <b>short</b>
       <b>port,</b> <b>globus_ftp_control_response_callback_t</b> <b>callback,</b> <b>void</b> <b>*</b> <b>callback_arg)</b>
       Create a new control connection to an FTP server. This function  is  used  to  initiate  an  FTP  control
       connection.  It  creates the socket to the FTP server. When the connection is made to the server, and the
       server's identification string is received, the callback function will be invoked.

       <b>Parameters</b>
           <u>handle</u> A pointer to a initialized FTP control handle. This handle will be used for all subsequent FTP
           control operations.
           <u>host</u> The hostname of the FTP server.
           <u>port</u> The TCP port number of the FTP server.
           <u>callback</u> A function to be called once the connection to the server is established, and a response has
           been read.
           <u>callback_arg</u> Parameter to the callback function.

       <b>Returns</b>

           • success

           • Null handle

           • Null host

           • Illegal port number

           • Null callback

           • Cannot resolve hostname

           • Cannot create socket

       <b>Callback</b> <b>errors:</b>

           • success

           • connection refused

           • protocol error

           • eof

       <b>Expected</b> <b>callback</b> <b>response</b> <b>values:</b>

           • 120 Service ready in nnn minutes.

           • 220 Service ready for new user.

           • 421 Service not available, closing control connection.

           • 500 Syntax error, command unrecognized.

       <b>Note</b>
           The server may send other responses.

   <b>globus_result_t</b>       <b>globus_ftp_control_force_close</b>       <b>(globus_ftp_control_handle_t</b>       <b>*</b>       <b>handle,</b>
       <b>globus_ftp_control_response_callback_t</b> <b>callback,</b> <b>void</b> <b>*</b> <b>callback_arg)</b>
       Force  a  control  connection  to  close.  Force  a  close  of the control connection without waiting for
       outstanding commands to complete and without sending QUIT.

       This function is used to close the control channel to the FTP server. Once the  final  response  callback
       passed  to  this  function  is  invoked, the control handle can no longer be used for any GridFTP control
       operations.

       <b>Note</b>
           Since this function waits until all other callbacks are completed before calling it's own callback it
           may not be called in a blocking fashion from another callback.

       <b>Parameters</b>
           <u>handle</u> A pointer to a GridFTP control handle. The quit message is  issued  to  the  server  over  the
           control channel associated with this handle.
           <u>callback</u>  The  function  to  be  called  once the authentication process is complete or when an error
           occurs.
           <u>callback_arg</u> User supplied argument to the callback function

       <b>Returns</b>

           • Success

           • Null handle

       <b>Callback</b> <b>errors:</b>

           • success

           • failure

       <b>Expected</b> <b>callback</b> <b>response</b> <b>values:</b>

           • GLOBUS_NULL

   <b>globus_result_t</b> <b>globus_ftp_control_handle_destroy</b> <b>(globus_ftp_control_handle_t</b> <b>*</b> <b>handle)</b>
       Destroy a globus ftp handle. This function will free up all dynamically allocated memory associated  with
       a  given  globus  ftp  handle.  It  will  also  remove  the  handle  from  a  list  used  by  the  module
       activation/deactivation  functions.  This  function  should  only  be  called  after  a  call  to  either
       globus_ftp_control_force_close or globus_ftp_control_quit.

       <b>Parameters</b>
           <u>handle</u> The handle to destroy.

       <b>Returns</b>

           • success

           • invalid handle

           • handle is still in connected state

   <b>globus_result_t</b> <b>globus_ftp_control_handle_init</b> <b>(globus_ftp_control_handle_t</b> <b>*</b> <b>handle)</b>
       Initialize  a  globus ftp handle. This function will set up (i.e. initialize all mutexes and variables) a
       globus ftp handle. It will also enter the handle in a list used  by  the  module  activation/deactivation
       functions.

       <b>Parameters</b>
           <u>handle</u> The handle to initialize.

       <b>Returns</b>

           • GLOBUS_SUCCESS

           • error object

   <b>globus_result_t</b>         <b>globus_ftp_control_quit</b>         <b>(globus_ftp_control_handle_t</b>         <b>*</b>        <b>handle,</b>
       <b>globus_ftp_control_response_callback_t</b> <b>callback,</b> <b>void</b> <b>*</b> <b>callback_arg)</b>
       Send a GridFTP QUIT. This function is used to close the control channel to the FTP server.  There  should
       be  no transfer commands in progress when this is called. Once the final response callback passed to this
       function is invoked, the control handle can no longer be used for any GridFTP control operations.

       <b>Note</b>
           Need to further define behavior for when a QUIT happens during a transfer or command is in progress.

           Since this function waits until all other callbacks are completed before calling it's own callback it
           may not be called in a blocking fashion from another callback.

       <b>Parameters</b>
           <u>handle</u> A pointer to a GridFTP control handle. The quit message is  issued  to  the  server  over  the
           control channel associated with this handle.
           <u>callback</u>  The  function  to  be  called  once the authentication process is complete or when an error
           occurs.
           <u>callback_arg</u> User supplied argument to the callback function

       <b>Returns</b>

           • Success

           • Null handle

           • Command in progress

       <b>Callback</b> <b>errors:</b>

           • success

           • protocol error

           • eof

       <b>Expected</b> <b>callback</b> <b>response</b> <b>values:</b>

           • 221 Service closing control connection.

           • 500 Syntax error, command unrecognized.

       <b>Note</b>
           The server may send other responses.

   <b>globus_result_t</b>      <b>globus_ftp_control_response_copy</b>       <b>(globus_ftp_control_response_t</b>       <b>*</b>       <b>src,</b>
       <b>globus_ftp_control_response_t</b> <b>*</b> <b>dest)</b>
       Copy a response structure. This is a helper function which copies one response structure to another.

       <b>Parameters</b>
           <u>src</u> This parameter indicates the response structure to copy
           <u>dest</u> This parameter specifies the target response structure

       <b>Returns</b>

           • Error object

           • GLOBUS_SUCCESS

   <b>globus_result_t</b> <b>globus_ftp_control_response_destroy</b> <b>(globus_ftp_control_response_t</b> <b>*</b> <b>response)</b>
       Free  the  memory associated with a response. This is a helper function which frees the memory associated
       with a response structure.

       <b>Parameters</b>
           <u>response</u> This parameter indicates the response structure to destroy

       <b>Returns</b>

           • Error object

           • GLOBUS_SUCCESS

   <b>globus_result_t</b> <b>globus_ftp_control_send_command</b> <b>(globus_ftp_control_handle_t</b> <b>*</b> <b>handle,</b> <b>const</b> <b>char</b> <b>*</b>  <b>cmdspec,</b>
       <b>globus_ftp_control_response_callback_t</b> <b>callback,</b> <b>void</b> <b>*</b> <b>callback_arg,</b>  <b>...)</b>
       Send  an  FTP  protocol  command. This function is used to send an FTP command, and register a handler to
       receive the FTP reply (or replies, if an intermediate one is sent).  When  the  control  channel  is  gss
       authenticated, the message and the reply will be automatically gss wrapped/unwrapped.

       <b>Parameters</b>
           <u>handle</u>  A  pointer to a GridFTP control handle. The command described by the cmdspec is issued to the
           server over the control channel associated with this handle.
           <u>cmdspec</u> A printf-style format string containing the text of the command to send to  the  server.  The
           optional  parameters  to  the  format  string  are  passed  after  the  callback_arg  in the function
           invocation.
           <u>callback</u> The function to be called once the authentication process  is  complete  or  when  an  error
           occurs.
           <u>callback_arg</u> User supplied argument to the callback function
           <u>...</u> Parameters which will be substituted into the % escapes in the cmdspec string.

       <b>Returns</b>

           • Success

           • Null handle

           • Command already in progress

       <b>Callback</b> <b>errors:</b>

           • success

           • protocol error

           • eof

       <b>Expected</b> <b>callback</b> <b>response</b> <b>values:</b>
           Any defined in RFC 959, 2228, 2389, draft-ietf-ftpext-mlst-10, or the <b>protocol</b> <b>extensions</b> document.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for globus_ftp_control from the source code.

globus_ftp_control                                Version 9.10                      <u><a href="../man3/globus_ftp_control_client.3.html">globus_ftp_control_client</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>