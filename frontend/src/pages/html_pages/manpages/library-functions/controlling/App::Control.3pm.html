<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App::Control - Perl module for apachectl style control of another script or executable</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libapp-control-perl">libapp-control-perl_1.07-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       App::Control - Perl module for apachectl style control of another script or executable

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use App::Control;
           my $ctl = App::Control-&gt;new(
               EXEC =&gt; $exec,
               ARGS =&gt; \@args,
               PIDFILE =&gt; $pidfile,
               SLEEP =&gt; 1,
               VERBOSE =&gt; 1,
           );
           my $pid = $ctl-&gt;pid;
           if ( $ctl-&gt;running )
           {
               print "$pid is running\n";
           }
           else
           {
               print "$pid is not running\n";
           }
           # or alternatively ...
           print $ctl-&gt;status;
           $ctl-&gt;start;
           # or alternatively ...
           $ctl-&gt;cmd( 'start' );
           $ctl-&gt;stop;
           $ctl-&gt;hup;
           $ctl-&gt;restart;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       App::Control is a simple module to replicate the kind of functionality you get with apachectl to control
       apache, but for any script or executable. There is a very simple OO interface, where the constructor is
       used to specify the executable, command line arguments, and pidfile, and various methods (start, stop,
       etc.) are used to control the executable in the obvious way.

       The module is intended to be used in a simple wrapper control script. Currently the module does a fork
       and exec to start the executable, and sets the signal handler for SIGCHLD to 'IGNORE' to avoid zombie
       processes.

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
       The constructor is called with a hash of options in the standard way. The options are as follows:

   <b>EXEC</b>
       Path to the executable to be controlled. This option is REQUIRED.

   <b>ARGS</b>
       Command line arguments for the executable. This option is OPTIONAL, but if set, should be an ARRAY
       reference.

   <b>PIDFILE</b>
       Path to the pidfile for the executable. This need not exists, but the constructor will die if it thinks
       it can't create it. If the path where the pidfile lives doesn't exist the constructor will try to create
       it. This option is REQUIRED.

   <b>IGNOREFILE</b>
       The ignore file allows you to temporarily disable the control functionality.  Suppose you have a
       chkdaemon / crontab entry that restarts a service; specifying an IGNOREFILE means that you can disable
       this wihtout having to edit the relevant config files.

   <b>CREATE_PIDFILE</b>
       By default, App::Control depends on the application to manage the pid file.  This is consistent will
       analogous utilities (apachectl, chkdaemon, etc.), but if you would like App::Control to create and remove
       pid files for you, then set this option to a true value.

   <b>SLEEP</b>
       Number of seconds to sleep before checking that the process has been started.  If the start fails, the
       control script will loop with a SLEEP delay per iteration until it has (see &lt;"LOOP"&gt;). Default is 1
       second.

       head2 LOOP

       Number of times to loop before giving up on starting the process.

   <b>VERBOSE</b>
       If set to a true value, the module will output verbose messages to STDERR.

</pre><h4><b>METHODS</b></h4><pre>
   <b>start</b>
       Start the executable specified in the constructor. This method waits until it is convinced that the
       executable has started. It then writes the new pid to the pidfile.

   <b>stop</b>
       Stop the executable specified in the constructor. It assumes that the pid listed in the pidfile specified
       in the constructor is the process to kill.  This method waits until it is convinced that the executable
       has stopped.

   <b>hup</b>
       Send a SIGHUP to the executable.

   <b>restart</b>
       Basically; stop if running, and then start.

   <b>status</b>
       Returns a status message along the lines of "$exec ($pid) is / is not running".

   <b>cmd</b>
       All of the above methods can also be invoked using cmd; i.e.:

           $ctl-&gt;start;

       is equivilent to:

           $ctl-&gt;cmd( 'start' );

       give or take a call to AUTOLOAD!

   <b>pid</b>
       Returns the current value of the pid in the pidfile.

   <b>running</b>
       returns true if the pid in the pidfile is running.

</pre><h4><b>AUTHOR</b></h4><pre>
       Ave Wrigley &lt;<a href="mailto:ave.wrigley@gmail.com">ave.wrigley@gmail.com</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2001 Ave Wrigley. All rights reserved. This program is free software; you can redistribute
       it and/or modify it under the same terms as Perl itself.

perl v5.38.2                                       2024-03-04                                       <u><a href="../man3pm/Control.3pm.html">Control</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>