<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>__pmConnectLogger - connect to a performance metrics logger control port</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpcp3-dev">libpcp3-dev_6.3.8-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>__pmConnectLogger</b> - connect to a performance metrics logger control port

</pre><h4><b>C</b> <b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>"pmapi.h"</b>
       <b>#include</b> <b>"libpcp.h"</b>

       <b>int</b> <b>__pmConnectLogger(const</b> <b>char</b> <b>*</b><u>hostname</u><b>,</b> <b>int</b> <u>pid</u><b>);</b>

       <b>cc</b> <b>...</b> <b>-lpcp</b>

</pre><h4><b>CAVEAT</b></h4><pre>
       This documentation is intended for internal Performance Co-Pilot (PCP) developer use.

       These  interfaces  are  not part of the PCP APIs that are guaranteed to remain fixed across releases, and
       they may not work, or may provide different semantics at some point in the future.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Each instance of the Performance Co-Pilot (PCP) archive creation program <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1) supports  a  control
       port  on  which <b><a href="../man3/__pmControlLog.3.html">__pmControlLog</a></b>(3) requests are received, and responses sent.  Optionally, the <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1)
       instance may be designated the ``primary'' logger.

       <b>__pmConnectLogger</b> may be used to  establish  a  control  port  connection  to  the  <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1)  instance
       identified by process id <u>pid</u> on the host <u>hostname</u>.

       One special case is supported; for the reserved <u>pid</u> value of <b>PM_LOG_PRIMARY_PORT</b> the requested connection
       is to the control port for the ``primary'' logger, whatever its process id might be.

       On  success, <b>__pmConnectLogger</b> returns a non-negative integer, that is a file descriptor that may be used
       in subsequent communication with the <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1) instance, e.g. for <b><a href="../man3/__pmControlLog.3.html">__pmControlLog</a></b>(3).

       As the control port to <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1) is not multiplexed, applications using  <b>__pmConnectLogger</b>  should  use
       <b><a href="../man2/close.2.html">close</a></b>(2) to terminate the connection to <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1) as soon as they have finished communicating.

       If  the  application  connects,  and  the  <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1) instance subsequently terminates, e.g. because the
       associated <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1)  instance  is  terminated,  the  application  will  have  to  explicitly  re-establish
       connection to a re-started <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1) instance by calling <b>__pmConnectLogger</b> again.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       <b>PM_ERR_PERMISSION</b>
              no permission to connect to the specified <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1) instance

       <b>-ECONNREFUSED</b>
              the designated <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1) instance does not exist

       <b>-EADDRINUSE</b>
              the requested control port is already in use

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1), <b><a href="../man1/pmlc.1.html">pmlc</a></b>(1), <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1), <b><a href="../man3/PMAPI.3.html">PMAPI</a></b>(3) and <b><a href="../man3/__pmControlLog.3.html">__pmControlLog</a></b>(3).

Performance Co-Pilot                                   PCP                                    <u><a href="../man3/PMCONNECTLOGGER.3.html">PMCONNECTLOGGER</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>