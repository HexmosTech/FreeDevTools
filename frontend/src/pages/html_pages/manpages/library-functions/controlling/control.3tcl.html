<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>control - Procedures for control flow structures.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       control - Procedures for control flow structures.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.5</b> <b>9</b>

       package require <b>control</b> <b>?0.1.4?</b>

       <b>control::control</b> <u>command</u> <u>option</u> ?<u>arg</u> <u>arg</u> <u>...</u>?

       <b>control::assert</b> <u>expr</u> ?<u>arg</u> <u>arg</u> <u>...</u>?

       <b>control::do</b> <u>body</u> ?<u>option</u> <u>test</u>?

       <b>control::no-op</b> ?<u>arg</u> <u>arg</u> <u>...</u>?

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>control</b>  package  provides  a variety of commands that provide additional flow of control structures
       beyond the built-in ones provided by Tcl.  These are commands that in many programming languages might be
       considered <u>keywords</u>, or a part of the language itself.  In Tcl, control flow structures are just commands
       like everything else.

</pre><h4><b>COMMANDS</b></h4><pre>
       <b>control::control</b> <u>command</u> <u>option</u> ?<u>arg</u> <u>arg</u> <u>...</u>?
              The <b>control</b> command is used as a configuration command for customizing the other  public  commands
              of  the  control  package.   The  <u>command</u> argument names the command to be customized.  The set of
              valid <u>option</u> and subsequent arguments are determined by the  command  being  customized,  and  are
              documented with the command.

       <b>control::assert</b> <u>expr</u> ?<u>arg</u> <u>arg</u> <u>...</u>?
              When disabled, the <b>assert</b> command behaves exactly like the <b>no-op</b> command.

              When  enabled,  the  <b>assert</b>  command  evaluates  <u>expr</u>  as an expression (in the same way that <b>expr</b>
              evaluates its argument).  If evaluation reveals that  <u>expr</u>  is  not  a  valid  boolean  expression
              (according  to  [<b>string</b>  <b>is</b>  <b>boolean</b>  <b>-strict</b>]),  an error is raised.  If <u>expr</u> evaluates to a true
              boolean value (as recognized by  <b>if</b>),  then  <b>assert</b>  returns  an  empty  string.   Otherwise,  the
              remaining  arguments to <b>assert</b> are used to construct a message string.  If there are no arguments,
              the message string is "assertion failed: $expr".  If there are arguments, they are joined by  <b>join</b>
              to  form  the  message  string.   The message string is then appended as an argument to a callback
              command, and the completed callback command is evaluated in the global namespace.

              The <b>assert</b> command can be customized by the <b>control</b> command in two ways:

              [<b>control::control</b> <b>assert</b> <b>enabled</b> ?<u>boolean</u>?]  queries or sets whether <b>control::assert</b>  is  enabled.
              When  called  without  a  <u>boolean</u>  argument,  a  boolean  value is returned indicating whether the
              <b>control::assert</b> command is enabled.  When called  with  a  valid  boolean  value  as  the  <u>boolean</u>
              argument,  the  <b>control::assert</b> command is enabled or disabled to match the argument, and an empty
              string is returned.

              [<b>control::control</b> <b>assert</b> <b>callback</b> ?<u>command</u>?]  queries or sets the callback command  that  will  be
              called  by  an  enabled  <b>assert</b> on assertion failure.  When called without a <u>command</u> argument, the
              current callback command is returned.  When called with a <u>command</u> argument, that argument  becomes
              the  new  assertion  failure callback command.  Note that an assertion failure callback command is
              always defined, even when <b>assert</b> is disabled.  The  default  callback  command  is  [<b>return</b>  <b>-code</b>
              <b>error</b>].

              Note  that  <b>control::assert</b> has been written so that in combination with [<b>namespace</b> <b>import</b>], it is
              possible to use enabled <b>assert</b> commands in some namespaces and disabled <b>assert</b> commands  in  other
              namespaces  at  the  same  time.   This  capability  is  useful  so  that debugging efforts can be
              independently controlled module by module.

              % package require control
              % control::control assert enabled 1
              % namespace eval one namespace import ::control::assert
              % control::control assert enabled 0
              % namespace eval two namespace import ::control::assert
              % one::assert {1 == 0}
              assertion failed: 1 == 0
              % two::assert {1 == 0}

       <b>control::do</b> <u>body</u> ?<u>option</u> <u>test</u>?
              The <b>do</b> command evaluates the script <u>body</u> repeatedly <u>until</u> the expression <u>test</u> becomes true  or  as
              long as (<u>while</u>) <u>test</u> is true, depending on the value of <u>option</u> being <b>until</b> or <b>while</b>. If <u>option</u> and
              <u>test</u>  are omitted the body is evaluated exactly once. After normal completion, <b>do</b> returns an empty
              string.  Exceptional return codes (<b>break</b>, <b>continue</b>, <b>error</b>, etc.) during the evaluation of <u>body</u> are
              handled in the same way the <b>while</b> command handles them, except as noted in <b>LIMITATIONS</b>, below.

       <b>control::no-op</b> ?<u>arg</u> <u>arg</u> <u>...</u>?
              The <b>no-op</b> command takes any number of arguments and does nothing.  It returns an empty string.

</pre><h4><b>LIMITATIONS</b></h4><pre>
       Several of the commands provided by  the  <b>control</b>  package  accept  arguments  that  are  scripts  to  be
       evaluated.   Due  to  fundamental  limitations of Tcl's <b>catch</b> and <b>return</b> commands, it is not possible for
       these commands to properly evaluate the command [<b>return</b> <b>-code</b> <b>$code</b>] within one of those script arguments
       for any value of <u>$code</u> other than <u>ok</u>.  In this way, the commands of the <b>control</b> package  are  limited  as
       compared  to  Tcl's  built-in  control  flow  commands  (such  as <b>if</b>, <b>while</b>, etc.) and those control flow
       commands that can be provided by packages coded in C.  An example of this difference:

              % package require control
              % proc a {} {while 1 {return -code error a}}
              % proc b {} {control::do {return -code error b} while 1}
              % catch a
              1
              % catch b
              0

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This document, and the package it describes, will undoubtedly contain bugs and  other  problems.   Please
       report  such  in  the  category  <u>control</u>  of  the <u>Tcllib</u> <u>Trackers</u> [<a href="http://core.tcl.tk/tcllib/reportlist">http://core.tcl.tk/tcllib/reportlist</a>].
       Please also report any ideas for enhancements you may have for either package and/or documentation.

       When proposing code changes, please provide <u>unified</u> <u>diffs</u>, i.e the output of <b>diff</b> <b>-u</b>.

       Note further that <u>attachments</u> are strongly preferred over inlined patches. Attachments  can  be  made  by
       going  to the <b>Edit</b> form of the ticket immediately after its creation, and then using the left-most button
       in the secondary navigation bar.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       break, continue, expr, if, join, namespace, return, string, while

</pre><h4><b>KEYWORDS</b></h4><pre>
       assert, control, do, flow, no-op, structure

</pre><h4><b>CATEGORY</b></h4><pre>
       Programming tools

tcllib                                                0.1.4                                        <u><a href="../man3tcl/control.3tcl.html">control</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>