<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>memcached_fetch_execute - Retrieving data from the server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmemcached-dev">libmemcached-dev_1.1.4-1.1build3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       memcached_fetch_execute - Retrieving data from the server

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;libmemcached/memcached.h&gt;</b>
              Compile and link with -lmemcached

       <u>memcached_result_st</u> <b>*memcached_fetch_result(</b><u>memcached_st</u> <b>*ptr,</b> <u>memcached_result_st</u> <b>*result,</b>
       <u>memcached_return_t</u> <b>*error)</b>

       <b>char</b> <b>*memcached_get(</b><u>memcached_st</u> <b>*ptr,</b> <b>const</b> <b>char</b> <b>*key,</b> <b>size_t</b> <b>key_length,</b> <b>size_t</b> <b>*value_length,</b> <b>uint32_t</b>
       <b>*flags,</b> <u>memcached_return_t</u> <b>*error)</b>

       <u>memcached_return_t</u> <b>memcached_mget(</b><u>memcached_st</u> <b>*ptr,</b> <b>const</b> <b>char</b> <b>*const</b> <b>*keys,</b> <b>const</b> <b>size_t</b> <b>*key_length,</b>
       <b>size_t</b> <b>number_of_keys)</b>

       <b>char</b> <b>*memcached_get_by_key(</b><u>memcached_st</u> <b>*ptr,</b> <b>const</b> <b>char</b> <b>*group_key,</b> <b>size_t</b> <b>group_key_length,</b> <b>const</b> <b>char</b>
       <b>*key,</b> <b>size_t</b> <b>key_length,</b> <b>size_t</b> <b>*value_length,</b> <b>uint32_t</b> <b>*flags,</b> <u>memcached_return_t</u> <b>*error)</b>

       <u>memcached_return_t</u> <b>memcached_mget_by_key(</b><u>memcached_st</u> <b>*ptr,</b> <b>const</b> <b>char</b> <b>*group_key,</b> <b>size_t</b>
       <b>group_key_length,</b> <b>const</b> <b>char</b> <b>*const</b> <b>*keys,</b> <b>const</b> <b>size_t</b> <b>*key_length,</b> <b>size_t</b> <b>number_of_keys)</b>

       <u>memcached_return_t</u> <b>memcached_fetch_execute(</b><u>memcached_st</u> <b>*ptr,</b> <u>memcached_execute_fn</u> <b>*callback,</b> <b>void</b>
       <b>*context,</b> <b>uint32_t</b> <b>number_of_callbacks)</b>

       <u>memcached_return_t</u> <b>memcached_mget_execute(</b><u>memcached_st</u> <b>*ptr,</b> <b>const</b> <b>char</b> <b>*const</b> <b>*keys,</b> <b>const</b> <b>size_t</b>
       <b>*key_length,</b> <b>size_t</b> <b>number_of_keys,</b> <u>memcached_execute_fn</u> <b>*callback,</b> <b>void</b> <b>*context,</b> <b>uint32_t</b>
       <b>number_of_callbacks)</b>

       <u>memcached_return_t</u> <b>memcached_mget_execute_by_key(</b><u>memcached_st</u> <b>*ptr,</b> <b>const</b> <b>char</b> <b>*group_key,</b> <b>size_t</b>
       <b>group_key_length,</b> <b>const</b> <b>char</b> <b>*const</b> <b>*keys,</b> <b>const</b> <b>size_t</b> <b>*key_length,</b> <b>size_t</b> <b>number_of_keys,</b>
       <u>memcached_execute_fn</u> <b>*callback,</b> <b>void</b> <b>*context,</b> <b>uint32_t</b> <b>number_of_callbacks)</b>

       <b>typedef</b> <u>memcached_return_t</u> <b>(*memcached_execute_fn)(const</b> <u>memcached_st</u> <b>*ptr,</b> <u>memcached_result_st</u> <b>*result,</b>
       <b>void</b> <b>*context)</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>memcached_get()</u>  is  used  to  fetch an individual value from the server.  You must pass in a key and its
       length to fetch the object. You must supply three pointer variables which will give you the state of  the
       returned  object.   A  <b>uint32_t</b>  pointer  to  contain  whatever flags you stored with the value, a <b>size_t</b>
       pointer which will be filled with size of of the object, and a <u>memcached_return_t</u>  pointer  to  hold  any
       error. The object will be returned upon success and NULL will be returned on failure. Any object returned
       by <u>memcached_get()</u> must be released by the caller application.

       <u>memcached_mget()</u> is used to select multiple keys at once. For multiple key operations it is always faster
       to use this function.  This function always works asynchronously.

       To   retrieve   data   after   a  successful  execution  of  <u>memcached_mget()</u>,  you  will  need  to  call
       <u>memcached_fetch_result()</u>.  You should continue to call this function until it returns  a  NULL  (i.e.  no
       more  values).  If  you  need  to  quit  in  the  middle  of  a  <u>memcached_mget()</u> call, you can execute a
       <u>memcached_quit()</u>, those this is not required.

       <u>memcached_fetch_result()</u> is used to fetch an individual value  from  the  server.  <u>memcached_mget()</u>  must
       always  be  called  before using this method.  You must pass in a key and its length to fetch the object.
       You must supply three pointer variables which will give you the state of the returned object.  A <b>uint32_t</b>
       pointer to contain whatever flags you stored with the value, a <b>size_t</b> pointer which will be  filled  with
       size  of  of  the object, and a <u>memcached_return_t</u> pointer to hold any error. The object will be returned
       upon success and NULL will be returned on failure. <u>MEMCACHED_END</u> is returned by the *error value when all
       objects that have been found have been returned. The final value upon <u>MEMCACHED_END</u> is null.

       <u>memcached_fetch_result()</u> is used to return a <u>memcached_result_st</u> structure from a memcached  server.  The
       result  object is forward compatible with changes to the server. For more information please refer to the
       <u>memcached_result_st</u> help. This function will dynamically allocate a result structure for you  if  you  do
       not pass one to the function.

       <u>memcached_fetch_execute()</u>  is  a  callback function for result sets.  Instead of returning the results to
       you for processing, it passes each of the result sets to the list of functions you provide. It passes  to
       the  function  a  <u>memcached_st</u>  that  can  be  cloned  for use in the called function (it can not be used
       directly). It also passes a result set which does not need to be freed. Finally it  passes  a  "context".
       This is just a pointer to a memory reference you supply the calling function. Currently only one value is
       being passed to each function call. In the future there will be an option to allow this to be an array.

       <u>memcached_mget_execute()</u>  and  <u>memcached_mget_execute_by_key()</u> is similar to <u>memcached_mget()</u>, but it may
       trigger the supplied callbacks with result sets while sending out the queries. If you try  to  perform  a
       really  large  multiget with <u>memcached_mget()</u> you may encounter a deadlock in the OS kernel (it will fail
       to write data to the socket because the input  buffer  is  full).  <u>memcached_mget_execute()</u>  solves  this
       problem  by  processing some of the results before continuing sending out requests. Please note that this
       function is only available in the binary protocol.

       <u>memcached_get_by_key()</u> and <u>memcached_mget_by_key()</u> behave in a  similar  nature  as  <u>memcached_get()</u>  and
       <u>memcached_mget()</u>.   The  difference  is  that  they  take a master key that is used for determining which
       server an object was stored if key partitioning was used for storage.

       All of the above functions are not tested when the <u>MEMCACHED_BEHAVIOR_USE_UDP</u> has been set. Executing any
       of these functions with this behavior on will result in <u>MEMCACHED_NOT_SUPPORTED</u> being  returned,  or  for
       those  functions  which  do  not return a <u>memcached_return_t</u>, the error function parameter will be set to
       <u>MEMCACHED_NOT_SUPPORTED</u>.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       All objects retrieved via <u>memcached_get()</u> or <u>memcached_get_by_key()</u> must be freed with <b><a href="../man3/free.3.html">free</a>(3)</b>.

       <u>memcached_get()</u> will return NULL on error.  You must look at the value of error  to  determine  what  the
       actual error was.

       <u>memcached_fetch_execute()</u>  return  <u>MEMCACHED_SUCCESS</u> if all keys were successful. <u>MEMCACHED_NOTFOUND</u> will
       be returned if no keys at all were found.

       <u>memcached_fetch_result()</u> sets error to <u>MEMCACHED_END</u> upon successful conclusion.  <u>MEMCACHED_NOTFOUND</u> will
       be returned if no keys at all were found.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/memcached.1.html">memcached</a>(1)</b> <b><a href="../man3/libmemcached.3.html">libmemcached</a>(3)</b> <b><a href="../man3/memcached_strerror.3.html">memcached_strerror</a>(3)</b>

1.1                                               Mar 31, 2024                        <u><a href="../man3/MEMCACHED_FETCH_EXECUTE.3.html">MEMCACHED_FETCH_EXECUTE</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>