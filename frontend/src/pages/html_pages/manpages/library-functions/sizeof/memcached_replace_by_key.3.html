<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>memcached_replace_by_key - Storing and Replacing Data</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmemcached-dev">libmemcached-dev_1.1.4-1.1build3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       memcached_replace_by_key - Storing and Replacing Data

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;libmemcached/memcached.h&gt;</b>
              Compile and link with -lmemcached

       <u>memcached_return_t</u> <b>memcached_set(</b><u>memcached_st</u> <b>*ptr,</b> <b>const</b> <b>char</b> <b>*key,</b> <b>size_t</b> <b>key_length,</b> <b>const</b> <b>char</b>
       <b>*value,</b> <b>size_t</b> <b>value_length,</b> <b>time_t</b> <b>expiration,</b> <b>uint32_t</b> <b>flags)</b>

       <u>memcached_return_t</u> <b>memcached_add(</b><u>memcached_st</u> <b>*ptr,</b> <b>const</b> <b>char</b> <b>*key,</b> <b>size_t</b> <b>key_length,</b> <b>const</b> <b>char</b>
       <b>*value,</b> <b>size_t</b> <b>value_length,</b> <b>time_t</b> <b>expiration,</b> <b>uint32_t</b> <b>flags)</b>

       <u>memcached_return_t</u> <b>memcached_replace(</b><u>memcached_st</u> <b>*ptr,</b> <b>const</b> <b>char</b> <b>*key,</b> <b>size_t</b> <b>key_length,</b> <b>const</b> <b>char</b>
       <b>*value,</b> <b>size_t</b> <b>value_length,</b> <b>time_t</b> <b>expiration,</b> <b>uint32_t</b> <b>flags)</b>

       <u>memcached_return_t</u> <b>memcached_set_by_key(</b><u>memcached_st</u> <b>*ptr,</b> <b>const</b> <b>char</b> <b>*group_key,</b> <b>size_t</b>
       <b>group_key_length,</b> <b>const</b> <b>char</b> <b>*key,</b> <b>size_t</b> <b>key_length,</b> <b>const</b> <b>char</b> <b>*value,</b> <b>size_t</b> <b>value_length,</b> <b>time_t</b>
       <b>expiration,</b> <b>uint32_t</b> <b>flags)</b>

       <u>memcached_return_t</u> <b>memcached_add_by_key(</b><u>memcached_st</u> <b>*ptr,</b> <b>const</b> <b>char</b> <b>*group_key,</b> <b>size_t</b>
       <b>group_key_length,</b> <b>const</b> <b>char</b> <b>*key,</b> <b>size_t</b> <b>key_length,</b> <b>const</b> <b>char</b> <b>*value,</b> <b>size_t</b> <b>value_length,</b> <b>time_t</b>
       <b>expiration,</b> <b>uint32_t</b> <b>flags)</b>

       <u>memcached_return_t</u> <b>memcached_replace_by_key(</b><u>memcached_st</u> <b>*ptr,</b> <b>const</b> <b>char</b> <b>*group_key,</b> <b>size_t</b>
       <b>group_key_length,</b> <b>const</b> <b>char</b> <b>*key,</b> <b>size_t</b> <b>key_length,</b> <b>const</b> <b>char</b> <b>*value,</b> <b>size_t</b> <b>value_length,</b> <b>time_t</b>
       <b>expiration,</b> <b>uint32_t</b> <b>flags)</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>memcached_set()</u>,  <u>memcached_add()</u>,  and  <u>memcached_replace()</u>  are  all  used  to store information on the
       server. All methods take a key, and its length to store the object. Keys are  currently  limited  to  250
       characters  when  using  either  a  version of <b><a href="../man1/memcached.1.html">memcached</a>(1)</b> which is 1.4 or below, or when using the text
       protocol. You must supply both a value and a length. Optionally you store the object. Keys are  currently
       limited  to  250  characters  by  the  <a href="../man1/memcached.1.html">memcached</a>(1)  server.  You  must supply both a value and a length.
       Optionally you may test an expiration time for the object and a 16 byte value (it is meant to be used  as
       a  bitmap).  "flags" is a 4byte space that is stored alongside of the main value. Many sub libraries make
       use of this field, so in most cases users should avoid making use of it.

       <u>memcached_set()</u> will write an object to the server. If an object already exists it will overwrite what is
       in the server. If the object does not exist it will be written. If you are using  the  non-blocking  mode
       this function will always return true unless a network error occurs.

       <u>memcached_replace()</u>  replaces  an object on the server. If the object is not found on the server an error
       occurs.

       <u>memcached_add()</u> adds an object to the server. If the object is found  on  the  server  an  error  occurs,
       otherwise the value is stored.

       <u>memcached_set_by_key()</u>,  <u>memcached_add_by_key()</u>,  and  <u>memcached_replace_by_key()</u> methods all behave in a
       similar method as the non key methods. The difference is that they use their group_key parameter  to  map
       objects to particular servers.

       If you are looking for performance, <u>memcached_set()</u> with non-blocking IO is the fastest way to store data
       on the server.

       All of the above functions are tested with the <u>MEMCACHED_BEHAVIOR_USE_UDP</u> behavior enabled. However, when
       using  these  operations with this behavior on, there are limits to the size of the payload being sent to
       the server.  The reason for these limits is that the  Memcached  Server  does  not  allow  multi-datagram
       requests  and  the  current  server  implementation  sets  a datagram size to 1400 bytes. Due to protocol
       overhead, the actual limit of the user supplied data is less than 1400 bytes and depends on the  protocol
       in   use,   as   well   as  the  operation  being  executed.  When  running  with  the  binary  protocol,
       <u>MEMCACHED_BEHAVIOR_BINARY_PROTOCOL</u>, the size of the key,value, flags and expiry combined may  not  exceed
       1368  bytes. When running with the ASCII protocol, the exact limit fluctuates depending on which function
       is being executed and whether the function is a cas operation or not. For non-cas ASCII  set  operations,
       there  are  at  least  1335  bytes available to split among the key, key_prefix, and value; for cas ASCII
       operations there are at least 1318 bytes available to split among the key, key_prefix and value.  If  the
       total  size  of  the  command,  including overhead, exceeds 1400 bytes, a <u>MEMCACHED_WRITE_FAILURE</u> will be
       returned.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       All methods return a value of type <u>memcached_return_t</u>.

       On success the value will be <u>MEMCACHED_SUCCESS</u>.  Use <u>memcached_strerror()</u> to translate this  value  to  a
       printable string.

       For  <u>memcached_replace()</u>  and <u>memcached_add()</u>, <u>MEMCACHED_NOTSTORED</u> is a legitimate error in the case of a
       collision.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/memcached.1.html">memcached</a>(1)</b>    <b><a href="../man3/libmemcached.3.html">libmemcached</a>(3)</b>    <b><a href="../man3/memcached_strerror.3.html">memcached_strerror</a>(3)</b>     <b><a href="../man3/memcached_prepend.3.html">memcached_prepend</a>(3)</b>     <b><a href="../man3/memcached_append.3.html">memcached_append</a>(3)</b>
       <b><a href="../man3/memcached_cas.3.html">memcached_cas</a>(3)</b>

1.1                                               Mar 31, 2024                       <u><a href="../man3/MEMCACHED_REPLACE_BY_KEY.3.html">MEMCACHED_REPLACE_BY_KEY</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>