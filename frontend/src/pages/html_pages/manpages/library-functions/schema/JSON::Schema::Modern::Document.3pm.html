<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON::Schema::Modern::Document - One JSON Schema document</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libjson-schema-modern-perl">libjson-schema-modern-perl_0.611-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       JSON::Schema::Modern::Document - One JSON Schema document

</pre><h4><b>VERSION</b></h4><pre>
       version 0.611

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use JSON::Schema::Modern::Document;

           my $document = JSON::Schema::Modern::Document-&gt;new(
             canonical_uri =&gt; 'https://example.com/v1/schema',
             metaschema_uri =&gt; 'https://example.com/my/custom/metaschema',
             schema =&gt; $schema,
           );
           my $foo_definition = $document-&gt;get('/$defs/foo');
           my %resource_index = $document-&gt;resource_index;

           my sanity_check = $document-&gt;validate;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class represents one JSON Schema document, to be used by JSON::Schema::Modern.

</pre><h4><b>CONSTRUCTOR</b> <b>ARGUMENTS</b></h4><pre>
       Unless otherwise noted, these are also available as read-only accessors.

   <b>schema</b>
       The actual raw data representing the schema. Required.

   <b>canonical_uri</b>
       As a constructor value, represents the initial URI by which the document should be known, or a base URI
       to use to determine that value. The URI found in the root schema's $id keyword is resolved against this
       URI to determine the final value, which is then stored in this accessor. As such, it can be considered
       the canonical URI for the document as a whole, from which subsequent $ref keywords are resolved.

       The original passed-in value is saved in "original_uri".

   <b>metaschema_uri</b>
       Sets the metaschema that is used to describe the document (or more specifically, any JSON Schemas
       contained within the document), which determines the specification version and vocabularies used during
       evaluation. Does not override any $schema keyword actually present in the schema document.

   <b>specification_version</b>
       Only a constructor argument, not an accessor method.

       Indicates which version of the JSON Schema specification is used during evaluation. This value is
       overridden by the value determined from the $schema keyword in the schema used in evaluation (when
       present), or defaults to the latest version (currently "draft2020-12").

       The use of the $schema keyword in your schema is <u>HIGHLY</u> encouraged to ensure continued correct operation
       of your schema. The current default value will not stay the same over time.

       May be one of:

       •   "draft2020-12" or "2020-12" &lt;https://json-schema.org/specification-links.html#2020-12&gt;, corresponding
           to metaschema "https://json-schema.org/draft/2020-12/schema"

       •   "draft2019-09" or "2019-09" &lt;https://json-schema.org/specification-links.html#2019-09-formerly-known-
           as-draft-8&gt;, corresponding to metaschema "https://json-schema.org/draft/2019-09/schema"

       •   "draft7" or 7 &lt;https://json-schema.org/specification-links.html#draft-7&gt;, corresponding to metaschema
           "<a href="http://json-schema.org/draft-07/schema">http://json-schema.org/draft-07/schema</a>#"

       •   "draft6" or 6 &lt;https://json-schema.org/specification-links.html#draft-6&gt;, corresponding to metaschema
           "<a href="http://json-schema.org/draft-06/schema">http://json-schema.org/draft-06/schema</a>#"

       •   "draft4" or 4 &lt;https://json-schema.org/specification-links.html#draft-4&gt;, corresponding to metaschema
           "<a href="http://json-schema.org/draft-04/schema">http://json-schema.org/draft-04/schema</a>#"

   <b>evaluator</b>
       A JSON::Schema::Modern object. Optional, unless custom metaschemas are used.

</pre><h4><b>METHODS</b></h4><pre>
   <b>errors</b>
       Returns  a  list  of  JSON::Schema::Modern::Error  objects  that  resulted  when  the schema document was
       originally parsed. (If a syntax error occurred, usually there will be just one  error,  as  parse  errors
       halt the parsing process.) Documents with errors cannot be used for evaluation.

   <b>original_uri</b>
       Returns  the  original  value  of  "canonical_uri" that was passed to the document constructor (which $id
       keywords within the document would have been resolved against, if they were not already  absolute).  Some
       subclasses may make use of this value for resolving URIs when matching HTTP requests at runtime.

       This  URI is <b>not</b> added to the document's resource index, so if you want the document to be addressable at
       this location you must add it to the evaluator yourself with the two-argument form of  "add_document"  in
       JSON::Schema::Modern.

       Read-only.

   <b>resource_index</b>
       An  index  of  URIs  to  subschemas  (JSON  pointer  to reach the location, and the canonical URI of that
       location) for all identifiable subschemas found in the document. An entry for URI '' is added  only  when
       no other suitable identifier can be found for the root schema.

       This  attribute  should  only  be  used  by JSON::Schema::Modern and not intended for use externally (you
       should use the public accessors in JSON::Schema::Modern instead).

       When called as  a  method,  returns  the  flattened  list  of  tuples  (path,  uri).  You  can  also  use
       "resource_pairs" which returns a list of tuples as arrayrefs.

   <b>contains</b>
       Check if "schema" contains a value that can be identified with the given JSON Pointer.  See "contains" in
       Mojo::JSON::Pointer.

   <b>get</b>
       Extract value from "schema" identified by the given JSON Pointer.  See "get" in Mojo::JSON::Pointer.

   <b>validate</b>
       Evaluates  the document against its metaschema. See "evaluate" in JSON::Schema::Modern.  For regular JSON
       Schemas this is redundant with creating the document in the first place (which also includes a validation
       check), but for some subclasses of this class, additional things might be checked that are not caught  by
       document creation.

   <b>TO_JSON</b>
       Returns a data structure suitable for serialization. See "schema".

</pre><h4><b>SUBCLASSING</b></h4><pre>
       This class can be subclassed to describe documents of other types, which follow the same basic model (has
       a  document-level  identifier  and  may contain internal referenceable identifiers). The overall document
       itself may not be a JSON Schema, but it may contain JSON Schemas internally. Referenceable  entities  may
       or  may  not  be  JSON  Schemas. As long as the "traverse" method is implemented and the $state object is
       respected, any other functionality may be contained by this subclass.

       To      date,      there       is       one       subclass       of       JSON::Schema::Modern::Document:
       JSON::Schema::Modern::Document::OpenAPI, which contains entities of type "schema" as well as others (e.g.
       "request-body",  "response",  "path-item", etc). An object of this class represents one OpenAPI document,
       used by OpenAPI::Modern to specify application APIs.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       •   JSON::Schema::Modern

       •   Mojo::JSON::Pointer

</pre><h4><b>SUPPORT</b></h4><pre>
       Bugs may be submitted through &lt;https://github.com/karenetheridge/JSON-Schema-Modern/issues&gt;.

       I am also usually active on irc, as 'ether' at "irc.perl.org" and "irc.libera.chat".

       You can also find me on the JSON Schema Slack server &lt;https://json-schema.slack.com&gt;  and  OpenAPI  Slack
       server &lt;https://open-api.slack.com&gt;, which are also great resources for finding help.

</pre><h4><b>AUTHOR</b></h4><pre>
       Karen Etheridge &lt;<a href="mailto:ether@cpan.org">ether@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENCE</b></h4><pre>
       This software is copyright (c) 2020 by Karen Etheridge.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

       Some schema files have their own licence, in share/LICENSE.

perl v5.40.1                                       2025-05-31                <u>JSON::Schema::Modern::<a href="../man3pm/Document.3pm.html">Document</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>