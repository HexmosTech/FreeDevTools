<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON::Validator - Validate data against a JSON schema</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libjson-validator-perl">libjson-validator-perl_5.15+dfsg-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       JSON::Validator - Validate data against a JSON schema

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Using</b> <b>a</b> <b>schema</b> <b>object</b>
       JSON::Validator::Schema or any of the sub classes can be used instead of JSON::Validator. The only reason
       to use JSON::Validator directly is if you don't know the schema version up front.

   <b>Basics</b>
         use JSON::Validator;
         my $jv = JSON::Validator-&gt;new;

         # Define a schema - <a href="http://json-schema.org/learn/miscellaneous-examples.html">http://json-schema.org/learn/miscellaneous-examples.html</a>
         # You can also load schema from disk or web
         $jv-&gt;schema({
           type       =&gt; "object",
           required   =&gt; ["firstName", "lastName"],
           properties =&gt; {
             firstName =&gt; {type =&gt; "string"},
             lastName  =&gt; {type =&gt; "string"},
             age       =&gt; {type =&gt; "integer", minimum =&gt; 0, description =&gt; "Age in years"}
           }
         });

         # Validate your data
         my @errors = $jv-&gt;validate({firstName =&gt; "Jan Henning", lastName =&gt; "Thorsen", age =&gt; -42});

         # Do something if any errors was found
         die "@errors" if @errors;

   <b>Using</b> <b>joi</b>
         # Use joi() to build the schema
         use JSON::Validator::Joi 'joi';

         $jv-&gt;schema(joi-&gt;object-&gt;props({
           firstName =&gt; joi-&gt;string-&gt;required,
           lastName  =&gt; joi-&gt;string-&gt;required,
           age       =&gt; joi-&gt;integer-&gt;<a href="../man0/min.0.html">min</a>(0),
         }));

         # joi() can also validate directly
         my @errors = joi(
           {firstName =&gt; "Jan Henning", lastName =&gt; "Thorsen", age =&gt; -42},
           joi-&gt;object-&gt;props({
             firstName =&gt; joi-&gt;string-&gt;required,
             lastName  =&gt; joi-&gt;string-&gt;required,
             age       =&gt; joi-&gt;integer-&gt;<a href="../man0/min.0.html">min</a>(0),
           }),
         );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       JSON::Validator is a data structure validation library based around JSON Schema &lt;https://json-
       schema.org/&gt;. This module can be used directly with a JSON schema or you can use the elegant DSL schema-
       builder JSON::Validator::Joi to define the schema programmatically.

   <b>Supported</b> <b>schema</b> <b>formats</b>
       JSON::Validator can load JSON schemas in multiple formats: Plain perl data structured (as shown in
       "SYNOPSIS"), JSON or YAML. The JSON parsing is done with Mojo::JSON, while YAML files requires YAML::PP
       or YAML::XS.

   <b>Resources</b>
       Here are some resources that are related to JSON schemas and validation:

       •   &lt;<a href="http://json-schema.org/documentation.html">http://json-schema.org/documentation.html</a>&gt;

       •   &lt;https://json-schema.org/understanding-json-schema/index.html&gt;

       •   &lt;https://github.com/json-schema/json-schema/&gt;

   <b>Bundled</b> <b>specifications</b>
       This  module  comes  with some JSON specifications bundled, so your application don't have to fetch those
       from the web. These specifications should be up to date, but please submit an issue if they are not.

       Files referenced to an URL will automatically be cached if  the  first  element  in  "cache_paths"  is  a
       writable  directory.  Note  that  the  cache  headers  for the remote assets are <b>not</b> honored, so you will
       manually need to remove any cached file, should you need to refresh them.

       To download and cache an online asset, do this:

         JSON_VALIDATOR_CACHE_PATH=/some/writable/directory perl myapp.pl

       Here is the list of the bundled specifications:

       • JSON schema, draft 4, 6, 7, 2019-09.

         Web page: &lt;<a href="http://json-schema.org">http://json-schema.org</a>&gt;

         $ref:       &lt;<a href="http://json-schema.org/draft-04/schema">http://json-schema.org/draft-04/schema</a>#&gt;,       &lt;<a href="http://json-schema.org/draft-06/schema">http://json-schema.org/draft-06/schema</a>#&gt;,
         &lt;<a href="http://json-schema.org/draft-07/schema">http://json-schema.org/draft-07/schema</a>#&gt;.

       • JSON schema for JSONPatch files

         Web page: &lt;<a href="http://jsonpatch.com">http://jsonpatch.com</a>&gt;

         $ref: &lt;<a href="http://json.schemastore.org/json-patch">http://json.schemastore.org/json-patch</a>#&gt;

       • Swagger / OpenAPI specification, version 2

         Web page: &lt;https://openapis.org&gt;

         $ref: &lt;<a href="http://swagger.io/v2/schema.json">http://swagger.io/v2/schema.json</a>#&gt;

       • OpenAPI specification, version 3

         Web page: &lt;https://openapis.org&gt;

         $ref:        https://spec.openapis.org/oas/3.0/schema/2019-04-02       &lt;https://github.com/OAI/OpenAPI-
         Specification/blob/master/schemas/v3.0/schema.json&gt;

         This specification is still EXPERIMENTAL.

       • Swagger Petstore

         This is used for unit tests, and should not be relied on by external users.

   <b>Optional</b> <b>modules</b>
       • Sereal::Encoder

         Installing  Sereal::Encoder  v4.00  (or  later)  will  make  "data_checksum"  in  JSON::Validator::Util
         significantly faster. This function is used both when parsing schemas and validating data.

       • Format validators

         See  the  documentation  in  JSON::Validator::Formats  for  other  optional modules to do validation of
         specific "format", such as "hostname", "ipv4" and others.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
   <b>cache_paths</b>
       Proxy attribute for "cache_paths" in JSON::Validator::Store.

   <b>formats</b>
       This attribute will be used as default value for  "formats"  in  JSON::Validator::Schema.  It  is  highly
       recommended to change this directly on the "schema" instead:

         $jv-&gt;formats(...);         # Legacy
         $jv-&gt;schema-&gt;formats(...); # Recommended way

   <b>recursive_data_protection</b>
       This  attribute will be used as default value for "recursive_data_protection" in JSON::Validator::Schema.
       It is highly recommended to change this directly on the "schema" instead:

         $jv-&gt;recursive_data_protection(...);         # Legacy
         $jv-&gt;schema-&gt;recursive_data_protection(...); # Recommended way

   <b>store</b>
         $store = $jv-&gt;store;

       Holds a JSON::Validator::Store object that caches the retrieved schemas.   This  object  will  be  shared
       amongst different "schema" objects to prevent a schema from having to be downloaded again.

   <b>ua</b>
       Proxy attribute for "ua" in JSON::Validator::Store.

</pre><h4><b>METHODS</b></h4><pre>
   <b>bundle</b>
       This  method  can  be  used to get a bundled version of "schema". It will however return a data-structure
       instead of a new object. See "bundle" in JSON::Validator::Schema for an alternative.

         # These two lines does the same
         $data = $jv-&gt;bundle;
         $data = $jv-&gt;schema-&gt;bundle-&gt;data;

         # Recommended way
         $schema = $jv-&gt;schema-&gt;bundle;

   <b>coerce</b>
       This attribute will be used as default value  for  "coerce"  in  JSON::Validator::Schema.  It  is  highly
       recommended to change this directly on the "schema" instead:

         $jv-&gt;coerce(...);         # Legacy
         $jv-&gt;schema-&gt;coerce(...); # Recommended way

   <b>get</b>
       Proxy method for "get" in JSON::Validator::Schema.

   <b>new</b>
         $jv = JSON::Validator-&gt;new(%attributes);
         $jv = JSON::Validator-&gt;new(\%attributes);

       Creates a new JSON::Validate object.

   <b>load_and_validate_schema</b>
       This method will be deprecated in the future. See "errors" in JSON::Validator::Schema and "is_invalid" in
       JSON::Validator::Schema instead.

   <b>schema</b>
         $jv     = $jv-&gt;schema($json_or_yaml_string);
         $jv     = $jv-&gt;schema($url);
         $jv     = $jv-&gt;schema(\%schema);
         $jv     = $jv-&gt;schema(JSON::Validator::Joi-&gt;new);
         $jv     = $jv-&gt;schema(JSON::Validator::Schema-&gt;new);
         $schema = $jv-&gt;schema;

       Used to set a schema from either a data structure or a URL.

       $schema   will   be   an  instance  of  JSON::Validator::Schema::Draft4,  JSON::Validator::Schema::Draft6
       JSON::Validator::Schema::Draft7,                                    JSON::Validator::Schema::Draft201909,
       JSON::Validator::Schema::OpenAPIv2, JSON::Validator::Schema::OpenAPIv3 or JSON::Validator::Schema.

       The $url can take many forms, but needs to point to a text file in the JSON or YAML format.

       •   file://...

           A  file  on disk. Note that it is required to use the "file" scheme if you want to reference absolute
           paths on your file system.

       •   http://... or https://...

           A web resource will be fetched using the Mojo::UserAgent, stored in "ua".

       •   data://Some::Module/spec.json

           Will load a given "spec.json" file from "Some::Module" using "data_section" in JSON::Validator::Util.

       •   data:///spec.json

           A "data" URL without a module name will use the current package and search  up  the  call/inheritance
           tree.

       •   Any other URL

           An  URL  (without a recognized scheme) will be treated as a path to a file on disk. If the file could
           not be found on disk and the path starts with "/", then the will be loaded from the  app  defined  in
           "ua". Something like this:

             $jv-&gt;ua-&gt;server-&gt;app(MyMojoApp-&gt;new);
             $jv-&gt;ua-&gt;get('/any/other/url.json');

   <b>validate</b>
       Proxy method for "validate" in JSON::Validator::Schema.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       • JSON::Validator::Formats

         JSON::Validator::Formats  contains  utility  functions  for  validating data types. Could be useful for
         validating data without loading a schema.

       • JSON::Validator::Schema

         JSON::Validator::Schema     is     the     base     class     for      JSON::Validator::Schema::Draft4,
         JSON::Validator::Schema::Draft6  JSON::Validator::Schema::Draft7, JSON::Validator::Schema::Draft201909,
         JSON::Validator::Schema::OpenAPIv2 or JSON::Validator::Schema::OpenAPIv3.

       • JSON::Validator::Util

         JSON::Validator::Util contains many useful function when working with schemas.

       • Mojolicious::Plugin::OpenAPI

         Mojolicious::Plugin::OpenAPI is a plugin for Mojolicious that utilize JSON::Validator and  the  OpenAPI
         specification &lt;https://www.openapis.org/&gt; to build routes with input and output validation.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright (C) 2014-2021, Jan Henning Thorsen

       This  program  is free software, you can redistribute it and/or modify it under the terms of the Artistic
       License version 2.0.

</pre><h4><b>AUTHORS</b></h4><pre>
   <b>Project</b> <b>Founder</b>
       Jan Henning Thorsen - "<a href="mailto:jhthorsen@cpan.org">jhthorsen@cpan.org</a>"

   <b>Contributors</b>
       • Aleksandr Orlenko

       • Alexander Hartmaier

       • Alexander Karelas

       • Bernhard Graf

       • Brad Barden

       • Dagfinn Ilmari Mannsåker

       • Daniel Böhmer

       • David Cantrell

       • Ed J

       • Ere Maijala

       • Fabrizio Gennari

       • Ilya Rassadin

       • Jason Cooper

       • Karen Etheridge

       • Kenichi Ishigaki

       • Kevin M. Goess

       • Kirill Matusov

       • Krasimir Berov

       • Lari Taskula

       • Lee Johnson

       • Martin Renvoize

       • Mattias Päivärinta

       • Michael Jemmeson

       • Michael Schout

       • Mohammad S Anwar

       • Nick Morrott

       • Pierre-Aymeric Masse

       • Roy Storey

       • Russell Jenkins

       • Sebastian Riedel

       • Stephan Hradek

       • Tim Stallard

       • Zoffix Znet

perl v5.40.1                                       2025-03-29                               <u>JSON::<a href="../man3pm/Validator.3pm.html">Validator</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>