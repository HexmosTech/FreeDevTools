<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vmod_h2 - Module to control the built-in HTTP2 transport</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/varnish">varnish_7.7.0-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       vmod_h2 - Module to control the built-in HTTP2 transport

</pre><h4><b>SYNOPSIS</b></h4><pre>
          import h2 [as name] [from "path"]

          BOOL is()

          DURATION rapid_reset([DURATION threshold])

          INT rapid_reset_limit([INT number])

          DURATION rapid_reset_period([DURATION duration])

          REAL rapid_reset_budget()

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This VMOD contains functions to control the HTTP2 transport built into Varnish-Cache.

   <b>BOOL</b> <b>is()</b>
       Restricted to: <b>client</b>.

       Returns true when called on a session handled by the built-in HTTP2 transport.

   <b>DURATION</b> <b>rapid_reset([DURATION</b> <b>threshold])</b>
       Restricted to: <b>client</b>.

       Get and optionally set the <b>h2_rapid_reset</b> parameter (See <u><a href="../man1/varnishd.1.html">varnishd</a>(1)</u>) for this HTTP2 session only.

       Returns -1 when used outside the HTTP2 transport. Otherwise returns the previous value.

       If  the  call  leads  to  a  change  in  the  rate  limit  parameters,  the  current budget as retuned by
       h2.rapid_reset_budget() is reset.

   <b>INT</b> <b>rapid_reset_limit([INT</b> <b>number])</b>
       Restricted to: <b>client</b>.

       Get and optionally set the <b>h2_rapid_reset_limit</b> parameter (See <u><a href="../man1/varnishd.1.html">varnishd</a>(1)</u>) for this HTTP2 session only.

       Returns -1 when used outside the HTTP2 transport. Otherwise returns the previous value.

       If the call leads to  a  change  in  the  rate  limit  parameters,  the  current  budget  as  retuned  by
       h2.rapid_reset_budget() is reset.

   <b>DURATION</b> <b>rapid_reset_period([DURATION</b> <b>duration])</b>
       Restricted to: <b>client</b>.

       Get and optionally set the <b>h2_rapid_reset_period</b> parameter (See <u><a href="../man1/varnishd.1.html">varnishd</a>(1)</u>) for this HTTP2 session only.

       Returns -1 when used outside the HTTP2 transport. Otherwise returns the previous value.

       If  the  call  leads  to  a  change  in  the  rate  limit  parameters,  the  current budget as retuned by
       h2.rapid_reset_budget() is reset.

   <b>REAL</b> <b>rapid_reset_budget()</b>
       Restricted to: <b>client</b>.

       Return how many RST frames classified as "rapid" the client is still allowed to send before  the  session
       is going to be closed.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       • <u><a href="../man1/varnishd.1.html">varnishd</a>(1)</u>

       • <u><a href="../man7/vsl.7.html">vsl</a>(7)</u>

</pre><h4><b>COPYRIGHT</b></h4><pre>
          Copyright 2023 UPLEX - Nils Goroll Systemoptimierung
          All rights reserved.

          Author: Nils Goroll &lt;<a href="mailto:nils.goroll@uplex.de">nils.goroll@uplex.de</a>&gt;

          SPDX-License-Identifier: BSD-2-Clause

          Redistribution and use in source and binary forms, with or without
          modification, are permitted provided that the following conditions
          are met:
          1. Redistributions of source code must retain the above copyright
             notice, this list of conditions and the following disclaimer.
          2. Redistributions in binary form must reproduce the above copyright
             notice, this list of conditions and the following disclaimer in the
             documentation and/or other materials provided with the distribution.

          THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
          ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
          IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
          ARE DISCLAIMED.  IN NO EVENT SHALL AUTHOR OR CONTRIBUTORS BE LIABLE
          FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
          DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
          OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
          HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
          LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
          OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
          SUCH DAMAGE.

                                                                                                      <u><a href="../man3/VMOD_H2.3.html">VMOD_H2</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>