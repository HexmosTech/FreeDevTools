<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Str - Regular expressions and high-level string processing</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ocaml-man">ocaml-man_5.3.0-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Str - Regular expressions and high-level string processing

</pre><h4><b>Module</b></h4><pre>
       Module   Str

</pre><h4><b>Documentation</b></h4><pre>
       Module <b>Str</b>
        : <b>sig</b> <b>end</b>

       Regular expressions and high-level string processing

   <b>Regular</b> <b>expressions</b>
       The  <b>Str</b>  library  provides  regular expressions on sequences of bytes.  It is, in general, unsuitable to
       match Unicode characters.

       <u>type</u> <u>regexp</u>

       The type of compiled regular expressions.

       <u>val</u> <u>regexp</u> : <b>string</b> <b>-&gt;</b> <b>regexp</b>

       Compile a regular expression. The following constructs are recognized:

       - <b>.</b>  Matches any character except newline.

       - <b>*</b> (postfix) Matches the preceding expression zero, one or several times

       - <b>+</b> (postfix) Matches the preceding expression one or several times

       - <b>?</b>  (postfix) Matches the preceding expression once or not at all

       - <b>[..]</b>  Character set. Ranges are denoted with <b>-</b> , as in  <b>[a-z]</b>  .   An  initial  <b>^</b>  ,  as  in  <b>[^0-9]</b>  ,
       complements  the  set.   To  include  a  <b>]</b> character in a set, make it the first character of the set. To
       include a <b>-</b> character in a set, make it the first or the last character of the set.

       - <b>^</b> Matches at beginning of line: either at the beginning of the matched string, or  just  after  a  '\n'
       character.

       - <b>$</b> Matches at end of line: either at the end of the matched string, or just before a '\n' character.

       - <b>\|</b> (infix) Alternative between two expressions.

       - <b>\(..\)</b> Grouping and naming of the enclosed expression.

       -  <b>\1</b> The text matched by the first <b>\(...\)</b> expression ( <b>\2</b> for the second expression, and so on up to <b>\9</b>
       ).

       - <b>\b</b> Matches word boundaries.

       - <b>\</b> Quotes special characters.  The special characters are <b>$^\.*+?[]</b> .

       In regular expressions you will often use backslash characters;  it's  easier  to  use  a  quoted  string
       literal <b>{|...|}</b> to avoid having to escape backslashes.

       For example, the following expression:
       <b>let</b> <b>r</b> <b>=</b> <b>Str.regexp</b> <b>{|hello</b> <b>\([A-Za-z]+\)|}</b> <b>in</b>
             <b>Str.replace_first</b> <b>r</b> <b>{|\1|}</b> <b>"hello</b> <b>world"</b>
       returns the string <b>"world"</b> .

       If  you  want  a  regular  expression  that matches a literal backslash character, you need to double it:
       <b>Str.regexp</b> <b>{|\\|}</b> .

       You can use regular string literals <b>"..."</b>  too, however you will have to escape backslashes. The  example
       above can be rewritten with a regular string literal as:
       <b>let</b> <b>r</b> <b>=</b> <b>Str.regexp</b> <b>"hello</b> <b>\\([A-Za-z]+\\)"</b> <b>in</b>
             <b>Str.replace_first</b> <b>r</b> <b>"\\1"</b> <b>"hello</b> <b>world"</b>

       And the regular expression for matching a backslash becomes a quadruple backslash: <b>Str.regexp</b> <b>"\\\\"</b> .

       <u>val</u> <u>regexp_case_fold</u> : <b>string</b> <b>-&gt;</b> <b>regexp</b>

       Same  as  <b>regexp</b>  ,  but the compiled expression will match text in a case-insensitive way: uppercase and
       lowercase letters will be considered equivalent.

       <u>val</u> <u>quote</u> : <b>string</b> <b>-&gt;</b> <b>string</b>

       <b>Str.quote</b> <b>s</b> returns a regexp string that matches exactly <b>s</b> and nothing else.

       <u>val</u> <u>regexp_string</u> : <b>string</b> <b>-&gt;</b> <b>regexp</b>

       <b>Str.regexp_string</b> <b>s</b> returns a regular expression that matches exactly <b>s</b> and nothing else.

       <u>val</u> <u>regexp_string_case_fold</u> : <b>string</b> <b>-&gt;</b> <b>regexp</b>

       <b>Str.regexp_string_case_fold</b>  is  similar  to  <b>Str.regexp_string</b>  ,  but   the   regexp   matches   in   a
       case-insensitive way.

   <b>String</b> <b>matching</b> <b>and</b> <b>searching</b>
       <u>val</u> <u>string_match</u> : <b>regexp</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>int</b> <b>-&gt;</b> <b>bool</b>

       <b>string_match</b>  <b>r</b>  <b>s</b> <b>start</b> tests whether a substring of <b>s</b> that starts at position <b>start</b> matches the regular
       expression <b>r</b> .  The first character of a string has position <b>0</b> , as usual.

       <u>val</u> <u>search_forward</u> : <b>regexp</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>int</b> <b>-&gt;</b> <b>int</b>

       <b>search_forward</b> <b>r</b> <b>s</b> <b>start</b> searches the string <b>s</b> for a substring matching the regular expression  <b>r</b>  .  The
       search  starts  at position <b>start</b> and proceeds towards the end of the string.  Return the position of the
       first character of the matched substring.

       <b>Raises</b> <b>Not_found</b> if no substring matches.

       <u>val</u> <u>search_backward</u> : <b>regexp</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>int</b> <b>-&gt;</b> <b>int</b>

       <b>search_backward</b> <b>r</b> <b>s</b> <b>last</b> searches the string <b>s</b> for a substring matching the regular expression  <b>r</b>  .  The
       search  first  considers  substrings  that  start  at position <b>last</b> and proceeds towards the beginning of
       string. Return the position of the first character of the matched substring.

       <b>Raises</b> <b>Not_found</b> if no substring matches.

       <u>val</u> <u>string_partial_match</u> : <b>regexp</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>int</b> <b>-&gt;</b> <b>bool</b>

       Similar to <b>Str.string_match</b> , but also returns true if the argument string is a prefix of a  string  that
       matches.  This includes the case of a true complete match.

       <u>val</u> <u>matched_string</u> : <b>string</b> <b>-&gt;</b> <b>string</b>

       <b>matched_string</b>  <b>s</b>  returns  the  substring of <b>s</b> that was matched by the last call to one of the following
       matching or searching functions:

       - <b>Str.string_match</b>

       - <b>Str.search_forward</b>

       - <b>Str.search_backward</b>

       - <b>Str.string_partial_match</b>

       - <b>Str.global_substitute</b>

       - <b>Str.substitute_first</b>

       provided that none of the following functions was called in between:

       - <b>Str.global_replace</b>

       - <b>Str.replace_first</b>

       - <b>Str.split</b>

       - <b>Str.bounded_split</b>

       - <b>Str.split_delim</b>

       - <b>Str.bounded_split_delim</b>

       - <b>Str.full_split</b>

       - <b>Str.bounded_full_split</b>

       Note: in the case of <b>global_substitute</b> and <b>substitute_first</b> , a call  to  <b>matched_string</b>  is  only  valid
       within the <b>subst</b> argument, not after <b>global_substitute</b> or <b>substitute_first</b> returns.

       The  user  must  make  sure  that  the  parameter <b>s</b> is the same string that was passed to the matching or
       searching function.

       <u>val</u> <u>match_beginning</u> : <b>unit</b> <b>-&gt;</b> <b>int</b>

       <b>match_beginning()</b> returns the position of the first character of the substring that was  matched  by  the
       last call to a matching or searching function (see <b>Str.matched_string</b> for details).

       <u>val</u> <u>match_end</u> : <b>unit</b> <b>-&gt;</b> <b>int</b>

       <b>match_end()</b>  returns the position of the character following the last character of the substring that was
       matched by the last call to a matching or searching function (see <b>Str.matched_string</b> for details).

       <u>val</u> <u>matched_group</u> : <b>int</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>string</b>

       <b>matched_group</b> <b>n</b> <b>s</b> returns the substring of <b>s</b> that was matched by the <b>n</b> th group <b>\(...\)</b>  of  the  regular
       expression  that was matched by the last call to a matching or searching function (see <b>Str.matched_string</b>
       for details). When <b>n</b> is <b>0</b> , it returns the substring matched by the whole regular expression.   The  user
       must  make  sure  that  the  parameter  <b>s</b> is the same string that was passed to the matching or searching
       function.

       <b>Raises</b> <b>Not_found</b> if the <b>n</b> th group of the regular expression was  not  matched.   This  can  happen  with
       groups  inside alternatives <b>\|</b> , options <b>?</b>  or repetitions <b>*</b> .  For instance, the empty string will match
       <b>\(a\)*</b> , but <b>matched_group</b> <b>1</b> <b>""</b> will raise <b>Not_found</b> because the first group itself was not matched.

       <u>val</u> <u>group_beginning</u> : <b>int</b> <b>-&gt;</b> <b>int</b>

       <b>group_beginning</b> <b>n</b> returns the position of the first character of the substring that was matched by the  <b>n</b>
       th  group of the regular expression that was matched by the last call to a matching or searching function
       (see <b>Str.matched_string</b> for details).

       <b>Raises</b> <b>Not_found</b> if the <b>n</b> th group of the regular expression was not matched.

       <b>Raises</b> <b>Invalid_argument</b> if there are fewer than <b>n</b> groups in the regular expression.

       <u>val</u> <u>group_end</u> : <b>int</b> <b>-&gt;</b> <b>int</b>

       <b>group_end</b> <b>n</b> returns the position of the character following the last  character  of  substring  that  was
       matched  by  the  <b>n</b> th group of the regular expression that was matched by the last call to a matching or
       searching function (see <b>Str.matched_string</b> for details).

       <b>Raises</b> <b>Not_found</b> if the <b>n</b> th group of the regular expression was not matched.

       <b>Raises</b> <b>Invalid_argument</b> if there are fewer than <b>n</b> groups in the regular expression.

   <b>Replacement</b>
       <u>val</u> <u>global_replace</u> : <b>regexp</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>string</b>

       <b>global_replace</b> <b>regexp</b> <b>templ</b> <b>s</b> returns a string identical to <b>s</b> , except that  all  substrings  of  <b>s</b>  that
       match  <b>regexp</b>  have  been  replaced  by <b>templ</b> . The replacement template <b>templ</b> can contain <b>\1</b> , <b>\2</b> , etc;
       these sequences will be replaced  by  the  text  matched  by  the  corresponding  group  in  the  regular
       expression.  <b>\0</b> stands for the text matched by the whole regular expression.

       <u>val</u> <u>replace_first</u> : <b>regexp</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>string</b>

       Same  as  <b>Str.global_replace</b>  ,  except  that only the first substring matching the regular expression is
       replaced.

       <u>val</u> <u>global_substitute</u> : <b>regexp</b> <b>-&gt;</b> <b>(string</b> <b>-&gt;</b> <b>string)</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>string</b>

       <b>global_substitute</b> <b>regexp</b> <b>subst</b> <b>s</b> returns a string identical to <b>s</b> , except that all substrings of  <b>s</b>  that
       match  <b>regexp</b>  have been replaced by the result of function <b>subst</b> . The function <b>subst</b> is called once for
       each matching substring, and receives <b>s</b> (the whole text) as argument.

       <u>val</u> <u>substitute_first</u> : <b>regexp</b> <b>-&gt;</b> <b>(string</b> <b>-&gt;</b> <b>string)</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>string</b>

       Same as <b>Str.global_substitute</b> , except that only the first substring matching the regular  expression  is
       replaced.

       <u>val</u> <u>replace_matched</u> : <b>string</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>string</b>

       <b>replace_matched</b>  <b>repl</b>  <b>s</b>  returns the replacement text <b>repl</b> in which <b>\1</b> , <b>\2</b> , etc. have been replaced by
       the text matched by the corresponding groups in the regular expression that was matched by the last  call
       to a matching or searching function (see <b>Str.matched_string</b> for details).  <b>s</b> must be the same string that
       was passed to the matching or searching function.

   <b>Splitting</b>
       <u>val</u> <u>split</u> : <b>regexp</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>string</b> <b>list</b>

       <b>split</b>  <b>r</b>  <b>s</b>  splits <b>s</b> into substrings, taking as delimiters the substrings that match <b>r</b> , and returns the
       list of substrings.  For instance, <b>split</b> <b>(regexp</b> <b>"[</b> <b>\t]+")</b> <b>s</b> splits <b>s</b>  into  blank-separated  words.   An
       occurrence of the delimiter at the beginning or at the end of the string is ignored.

       <u>val</u> <u>bounded_split</u> : <b>regexp</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>int</b> <b>-&gt;</b> <b>string</b> <b>list</b>

       Same as <b>Str.split</b> , but splits into at most <b>n</b> substrings, where <b>n</b> is the extra integer parameter.

       <u>val</u> <u>split_delim</u> : <b>regexp</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>string</b> <b>list</b>

       Same  as  <b>Str.split</b>  but  occurrences  of the delimiter at the beginning and at the end of the string are
       recognized and returned as empty strings in the result.  For instance, <b>split_delim</b> <b>(regexp</b> <b>"</b> <b>")</b> <b>"</b>  <b>abc</b>  <b>"</b>
       returns <b>["";</b> <b>"abc";</b> <b>""]</b> , while <b>split</b> with the same arguments returns <b>["abc"]</b> .

       <u>val</u> <u>bounded_split_delim</u> : <b>regexp</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>int</b> <b>-&gt;</b> <b>string</b> <b>list</b>

       Same  as  <b>Str.bounded_split</b>  ,  but  occurrences  of the delimiter at the beginning and at the end of the
       string are recognized and returned as empty strings in the result.

       <u>type</u> <u>split_result</u> =
        | Text <b>of</b> <b>string</b>
        | Delim <b>of</b> <b>string</b>

       <u>val</u> <u>full_split</u> : <b>regexp</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>split_result</b> <b>list</b>

       Same as <b>Str.split_delim</b> , but returns  the  delimiters  as  well  as  the  substrings  contained  between
       delimiters.   The former are tagged <b>Delim</b> in the result list; the latter are tagged <b>Text</b> .  For instance,
       <b>full_split</b> <b>(regexp</b> <b>"[{}]")</b> <b>"{ab}"</b> returns <b>[Delim</b> <b>"{";</b> <b>Text</b> <b>"ab";</b> <b>Delim</b> <b>"}"]</b> .

       <u>val</u> <u>bounded_full_split</u> : <b>regexp</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>int</b> <b>-&gt;</b> <b>split_result</b> <b>list</b>

       Same as <b>Str.bounded_split_delim</b> , but returns the delimiters as well as the substrings contained  between
       delimiters.  The former are tagged <b>Delim</b> in the result list; the latter are tagged <b>Text</b> .

   <b>Extracting</b> <b>substrings</b>
       <u>val</u> <u>string_before</u> : <b>string</b> <b>-&gt;</b> <b>int</b> <b>-&gt;</b> <b>string</b>

       <b>string_before</b>  <b>s</b>  <b>n</b>  returns  the substring of all characters of <b>s</b> that precede position <b>n</b> (excluding the
       character at position <b>n</b> ).

       <u>val</u> <u>string_after</u> : <b>string</b> <b>-&gt;</b> <b>int</b> <b>-&gt;</b> <b>string</b>

       <b>string_after</b> <b>s</b> <b>n</b> returns the substring of all characters of <b>s</b>  that  follow  position  <b>n</b>  (including  the
       character at position <b>n</b> ).

       <u>val</u> <u>first_chars</u> : <b>string</b> <b>-&gt;</b> <b>int</b> <b>-&gt;</b> <b>string</b>

       <b>first_chars</b> <b>s</b> <b>n</b> returns the first <b>n</b> characters of <b>s</b> .  This is the same function as <b>Str.string_before</b> .

       <u>val</u> <u>last_chars</u> : <b>string</b> <b>-&gt;</b> <b>int</b> <b>-&gt;</b> <b>string</b>

       <b>last_chars</b> <b>s</b> <b>n</b> returns the last <b>n</b> characters of <b>s</b> .

OCamldoc                                           2025-06-12                                            <u><a href="../man3o/Str.3o.html">Str</a></u>(3o)
</pre>
 </div>
</div></section>
</div>
</body>
</html>