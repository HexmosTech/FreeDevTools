<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log::Report::Domain - administer one text-domain</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liblog-report-perl">liblog-report-perl_1.40-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Log::Report::Domain - administer one text-domain

</pre><h4><b>INHERITANCE</b></h4><pre>
        Log::Report::Domain
          is a Log::Report::Minimal::Domain

        Log::Report::Domain is extended by
          Log::Report::Template::Textdomain

</pre><h4><b>SYNOPSIS</b></h4><pre>
        # internal usage
        use Log::Report::Domain;
        my $domain = Log::Report::Domain-&gt;new(name =&gt; $name);

        # find a ::Domain object
        use Log::Report 'my-domain';
        my $domain = textdomain 'my-domain'; # find domain config
        my $domain = textdomain;             # config of this package

        # explicit domain configuration
        package My::Package;
        use Log::Report 'my-domain';         # set textdomain for package

        textdomain $name, %configure;        # set config, once per program
        (textdomain $name)-&gt;configure(%configure); # same
        textdomain-&gt;configure(%configure);   # same if current package in $name

        # implicit domain configuration
        package My::Package;
        use Log::Report 'my-domain', %configure;

        # external file for configuration (perl or json format)
        use Log::Report 'my-domain', config =&gt; $filename;

        use Log::Report 'my-domain';
        textdomain-&gt;configure(config =&gt; $filename);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Log::Report can handle multiple sets of packages at the same time: in the usual case a program consists
       of more than one software distribution, each containing a number of packages.  Each module in an
       application belongs to one of these sets, by default the domain set 'default'.

       For "Log::Report", those packags sets are differentiated via the text-domain value in the "use"
       statement:

         use Log::Report 'my-domain';

       There are many things you can configure per (text)domain.  This is not only related to translations, but
       also -for instance- for text formatting configuration.  The administration for the configuration is
       managed in this package.

       Extends "DESCRIPTION" in Log::Report::Minimal::Domain.

</pre><h4><b>METHODS</b></h4><pre>
       Extends "METHODS" in Log::Report::Minimal::Domain.

   <b>Constructors</b>
       Extends "Constructors" in Log::Report::Minimal::Domain.

       Log::Report::Domain-&gt;<b>new</b>(%options)
           Create a new Domain object.

            -Option--Defined in                  --Default
             name    Log::Report::Minimal::Domain  &lt;required&gt;

           name =&gt; STRING

   <b>Attributes</b>
       Extends "Attributes" in Log::Report::Minimal::Domain.

       $obj-&gt;<b>configure</b>(%options)
           The  import  is  automatically called when the package is compiled.  For all but one packages in your
           distribution, it will only contain the name  of  the  DOMAIN.   For  one  package,  it  will  contain
           configuration  information.  These %options are used for all packages which use the same DOMAIN.  See
           chapter "Configuring" below.

            -Option         --Defined in                  --Default
             config                                         undef
             context_rules                                  undef
             formatter                                      PRINTI
             native_language                                'en_US'
             translator                                     created internally
             where            Log::Report::Minimal::Domain  &lt;required&gt;

           config =&gt; FILENAME
             Read the settings from the file.  The parameters found in the file are  used  as  default  for  the
             parameters  above.   This  parameter is especially useful for the "context_rules", which need to be
             shared between the running application and <u>xgettext-perl</u>.  See <b>readConfig()</b>

           context_rules =&gt; HASH|OBJECT
             When rules are provided, the translator will use the  "msgctxt"  fields  as  provided  by  PO-files
             (gettext).  This parameter is used to initialize a Log::Report::Translator::Context helper object.

           formatter =&gt; CODE|HASH|'PRINTI'
             Selects  the  formatter  used  for  the  errors  messages.  The default is "PRINTI", which will use
             <b>String::Print::printi()</b>: interpolation with curly braces around the variable names.

           native_language =&gt; CODESET
             This is the language which you have  used  to  write  the  translatable  and  the  non-translatable
             messages  in.   In case no translation is needed, you still wish the system error messages to be in
             the same language as the report.  Of course, each textdomain can define its own.

           translator =&gt; Log::Report::Translator|HASH
             Set the object which will do the translations for this domain.

           where =&gt; ARRAY
       $obj-&gt;<b>contextRules</b>()
       $obj-&gt;<b>defaultContext</b>()
           Returns the current default translation context settings as HASH.  You should not modify the  content
           of that HASH: change it by called <b>setContext()</b> or <b>updateContext()</b>.

       $obj-&gt;<b>isConfigured</b>()
           Inherited, see "Attributes" in Log::Report::Minimal::Domain

       $obj-&gt;<b>name</b>()
           Inherited, see "Attributes" in Log::Report::Minimal::Domain

       $obj-&gt;<b>nativeLanguage</b>()
       $obj-&gt;<b>readConfig</b>($filename)
       Log::Report::Domain-&gt;<b>readConfig</b>($filename)
           Helper  method,  which  simply  parses  the content $filename into a HASH to be used as parameters to
           <b>configure()</b>. The filename must end on '.pl', to indicate that it uses perl syntax (can  be  processed
           with Perl's "do" command) or end on '.json'.  See also chapter "Configuring" below.

           Currently,  this  file can be in Perl native format (when ending on ".pl") or JSON (when it ends with
           ".json").  Various modules may explain parts of what can  be  found  in  these  files,  for  instance
           Log::Report::Translator::Context.

       $obj-&gt;<b>setContext</b>(STRING|HASH|ARRAY|PAIRS)
           Temporary set the default translation context for messages.  This is used when the message is created
           without a "_context" parameter. The context can be retrieved with <b>defaultContext()</b>.

           Contexts  are  totally  ignored  then  there  are no "context_rules".  When you do not wish to change
           settings, you may simply provide a HASH.

           example:

              use Log::Report 'my-domain', context_rules =&gt; {};

       $obj-&gt;<b>translator</b>()
       $obj-&gt;<b>updateContext</b>(STRING|HASH|ARRAY|PAIRS)
           [1.10] Make changes and additions to the active context (see <b>setContext()</b>).

   <b>Action</b>
       Extends "Action" in Log::Report::Minimal::Domain.

       $obj-&gt;<b>interpolate</b>( $msgid, [$args] )
           Inherited, see "Action" in Log::Report::Minimal::Domain

       $obj-&gt;<b>translate</b>($message, $language)
           Translate the $message into the $language.

</pre><h4><b>DETAILS</b></h4><pre>
   <b>Configuring</b>
       Configuration of a domain can happen in many ways: either explicitly or implicitly.  The explicit form:

          package My::Package;
          use Log::Report 'my-domain';

          textdomain 'my-domain', %configuration;
          textdomain-&gt;configure(%configuration);
          textdomain-&gt;configure(\%configuration);

          textdomain-&gt;configure(conf =&gt; $filename);

       The implicit form is (no variables possible, only constants!)

          package My::Package;
          use Log::Report 'my-domain', %configuration;
          use Log::Report 'my-domain', conf =&gt; '/filename';

       You can only configure your domain in one place in your program.  The textdomain setup is then  used  for
       all packages in the same domain.

       This also works for Log::Report::Optional, which is a dressed-down version of Log::Report.

       <u>configuring</u> <u>your</u> <u>own</u> <u>formatter</u>

       [0.91]  The "PRINTI" is a special constants for configure(formatter), and will use String::Print function
       printi(), with the standard tricks.

         textdomain 'some-domain'
           formatter =&gt;
             { class     =&gt; 'String::Print'    # default
             , method    =&gt; 'sprinti'          # default
             , %options    # constructor options for the class
             );

       When you want your own formatter, or configuration of "String::Print", you need to pass a CODE.  Be aware
       that you may loose magic added by Log::Report and other layers, like Log::Report::Template:

         textdomain 'some-domain',
           formatter =&gt; \&amp;my_formatter;

       <u>configuring</u> <u>global</u> <u>values</u>

       Say, you log for a (Dancer) webserver, where you wish to include the website name  in  some  of  the  log
       lines.  For this, (ab)use the translation context:

         ### first, enable translation contexts
         use Log::Report 'my-domain', context_rules =&gt; { ... };
         # or
         use Log::Report 'my-domain';
         textdomain-&gt;configure(context_rules =&gt; { ... });
         # or
         textdomain 'my-domain',
           content_rules =&gt; { ... };

         ### every time you start working for a different virtual host
         (textdomain 'my-domain')-&gt;setContext(host =&gt; $host);

         ### now you can use that in your code
         package My::Package;
         use Log::Report 'my-domain';
         error __x"in {_context.host} not logged-in {user}", user =&gt; $username;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       This  module  is  part  of  Log-Report  distribution  version  1.40,  built  on  April 18, 2025. Website:
       <u><a href="http://perl.overmeer.net/CPAN/">http://perl.overmeer.net/CPAN/</a></u>

</pre><h4><b>LICENSE</b></h4><pre>
       Copyrights 2007-2025 by [Mark Overmeer &lt;<a href="mailto:markov@cpan.org">markov@cpan.org</a>&gt;]. For other contributors see ChangeLog.

       This program is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.  See <u><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></u>

perl v5.40.1                                       2025-04-20                           <u>Log::Report::<a href="../man3pm/Domain.3pm.html">Domain</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>