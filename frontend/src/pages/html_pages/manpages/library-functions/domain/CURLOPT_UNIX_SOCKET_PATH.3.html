<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_UNIX_SOCKET_PATH - Unix domain socket</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_UNIX_SOCKET_PATH - Unix domain socket

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_UNIX_SOCKET_PATH, char *path);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Enables the use of Unix domain sockets as connection endpoint and sets the path to <u>path</u>. If <u>path</u> is NULL,
       then Unix domain sockets are disabled.

       When  enabled,  curl  connects  to the Unix domain socket instead of establishing a TCP connection to the
       host. Since no network connection is created, curl does not resolve the DNS hostname in the URL.

       The maximum path length on Cygwin, Linux and Solaris is 107. On other platforms it might be even less.

       Proxy and  TCP  options  such  as  <u><a href="../man3/CURLOPT_TCP_NODELAY.3.html">CURLOPT_TCP_NODELAY</a>(3)</u>  are  not  supported.  Proxy  options  such  as
       <u><a href="../man3/CURLOPT_PROXY.3.html">CURLOPT_PROXY</a>(3)</u> have no effect either as these are TCP-oriented, and asking a proxy server to connect to
       a certain Unix domain socket is not possible.

       The application does not have to keep the string around after setting this option.

       Using  this option multiple times makes the last set string override the previous ones. Set it to NULL to
       disable its use again.

</pre><h4><b>DEFAULT</b></h4><pre>
       NULL - no Unix domain sockets are used.

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects all supported protocols

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           curl_easy_setopt(curl, CURLOPT_UNIX_SOCKET_PATH, "/tmp/httpd.sock");
           curl_easy_setopt(curl, CURLOPT_URL, "<a href="http://localhost/">http://localhost/</a>");

           curl_easy_perform(curl);
         }
       }

       If you are on Linux and somehow have a need for paths larger  than  107  bytes,  you  can  use  the  <u>proc</u>
       filesystem to bypass the limitation:

         int dirfd = open(long_directory_path_to_socket, O_DIRECTORY | O_RDONLY);
         char path[108];
         snprintf(path, sizeof(path), "<a href="file:/proc/self/fd/">/proc/self/fd/</a>%d/httpd.sock", dirfd);
         curl_easy_setopt(curl_handle, CURLOPT_UNIX_SOCKET_PATH, path);
         /* Be sure to keep dirfd valid until you discard the handle */

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.40.0

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLOPT_ABSTRACT_UNIX_SOCKET.3.html">CURLOPT_ABSTRACT_UNIX_SOCKET</a></b>(3), <b><a href="../man3/CURLOPT_OPENSOCKETFUNCTION.3.html">CURLOPT_OPENSOCKETFUNCTION</a></b>(3), <b><a href="../man7/unix.7.html">unix</a></b>(7)

libcurl                                            2025-06-16                        <u><a href="../man3/CURLOPT_UNIX_SOCKET_PATH.3.html">CURLOPT_UNIX_SOCKET_PATH</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>