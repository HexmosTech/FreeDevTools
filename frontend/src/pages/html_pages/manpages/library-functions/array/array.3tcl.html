<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>array - Manipulate array variables</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl9.0-doc">tcl9.0-doc_9.0.1+dfsg-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       array - Manipulate array variables

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>array</b> <u>option</u> <u>arrayName</u> ?<u>arg</u> <u>arg</u> <u>...</u>?
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  command  performs  one  of several operations on the variable given by <u>arrayName</u>.  Unless otherwise
       specified for individual commands below, <u>arrayName</u> must be the name of an existing array  variable.   The
       <u>option</u>  argument  determines  what action is carried out by the command.  The legal <u>options</u> (which may be
       abbreviated) are:

       <b>array</b> <b>anymore</b> <u>arrayName</u> <u>searchId</u>
              Returns 1 if there are any more elements left to be  processed  in  an  array  search,  0  if  all
              elements  have  already been returned.  <u>SearchId</u> indicates which search on <u>arrayName</u> to check, and
              must have been the return value from a previous invocation of <b>array</b> <b>startsearch</b>.  This  option  is
              particularly  useful  if  an  array has an element with an empty name, since the return value from
              <b>array</b> <b>nextelement</b> will not indicate whether the search has been completed.

       <b>array</b> <b>default</b> <u>subcommand</u> <u>arrayName</u> <u>args...</u>
              Manages the default value of the array. Arrays initially have no default value, but  this  command 2
              allows  you  to  set  one;  the default value will be returned when reading from an element of the 2
              array <u>arrayName</u> if the read would otherwise result in an error.  Note  that  this  may  cause  the 2
              <b>append</b>, <b>dict</b>, <b>incr</b> and <b>lappend</b> commands to change their behavior in relation to non-existing array 2
              elements.                                                                                          2

              The  <u>subcommand</u>  argument  controls what exact operation will be performed on the default value of 2
              <u>arrayName</u>. Supported <u>subcommand</u>s are:

              <b>array</b> <b>default</b> <b>exists</b> <u>arrayName</u>
                     This returns a boolean value indicating whether a default value has been set for the  array 2
                     <u>arrayName</u>.  Returns a false value if <u>arrayName</u> does not exist. Raises an error if <u>arrayName</u> 2
                     is an existing variable that is not an array.

              <b>array</b> <b>default</b> <b>get</b> <u>arrayName</u>
                     This returns the current default value  for  the  array  <u>arrayName</u>.   Raises  an  error  if 2
                     <u>arrayName</u> is an existing variable that is not an array, or if <u>arrayName</u> is an array without 2
                     a default value.

              <b>array</b> <b>default</b> <b>set</b> <u>arrayName</u> <u>value</u>
                     This  sets  the  default value for the array <u>arrayName</u> to <u>value</u>.  Returns the empty string. 2
                     Raises an error if <u>arrayName</u> is an existing variable that is not an array, or if  <u>arrayName</u> 2
                     is an illegal name for an array. If <u>arrayName</u> does not currently exist, it is created as an 2
                     empty array as well as having its default value set.

              <b>array</b> <b>default</b> <b>unset</b> <u>arrayName</u>
                     This  removes  the default value for the array <u>arrayName</u> and returns the empty string. Does 2
                     nothing if <u>arrayName</u> does not have a default value. Raises an  error  if  <u>arrayName</u>  is  an 2
                     existing variable that is not an array.

       <b>array</b> <b>donesearch</b> <u>arrayName</u> <u>searchId</u>
              This  command  terminates  an array search and destroys all the state associated with that search.
              <u>SearchId</u> indicates which search on <u>arrayName</u> to destroy, and must have been the return value  from
              a previous invocation of <b>array</b> <b>startsearch</b>.  Returns an empty string.

       <b>array</b> <b>exists</b> <u>arrayName</u>
              Returns  1 if <u>arrayName</u> is an array variable, 0 if there is no variable by that name or if it is a
              scalar variable.

       <b>array</b> <b>for</b> <b>{</b><u>keyVariable</u> <u>valueVariable</u><b>}</b> <u>arrayName</u> <u>body</u>
              The first argument is a two element list of variable names for the key and value of each entry  in
              the array.  The second argument is the array name to iterate over.  The third argument is the body
              to  execute  for each key and value returned.  The ordering of the returned keys is undefined.  If
              an array element is deleted or a new array element is inserted during the <u>array</u> <u>for</u>  process,  the
              command will terminate with an error.

       <b>array</b> <b>get</b> <u>arrayName</u> ?<u>pattern</u>?
              Returns  a  list  containing  pairs of elements.  The first element in each pair is the name of an
              element in <u>arrayName</u> and the second element of each pair is the value of the array  element.   The
              order  of  the  pairs  is undefined.  If <u>pattern</u> is not specified, then all of the elements of the
              array are included in the result.  If <u>pattern</u> is specified, then only those elements  whose  names
              match  <u>pattern</u>  (using  the matching rules of <b>string</b> <b>match</b>) are included.  If <u>arrayName</u> is not the
              name of an array variable, or if the array contains no elements, then an empty list  is  returned.
              If  traces  on  the  array modify the list of elements, the elements returned are those that exist
              both before and after the call to <b>array</b> <b>get</b>.

       <b>array</b> <b>names</b> <u>arrayName</u> ?<u>mode</u>? ?<u>pattern</u>?
              Returns a list containing the names of all of the elements in the array that match <u>pattern</u>.   <u>Mode</u>
              may  be  one  of <b>-exact</b>, <b>-glob</b>, or <b>-regexp</b>.  If specified, <u>mode</u> designates which matching rules to
              use to match <u>pattern</u> against the names of the elements in  the  array.   If  not  specified,  <u>mode</u>
              defaults to <b>-glob</b>.  See the documentation for <b>string</b> <b>match</b> for information on glob style matching,
              and  the  documentation for <b>regexp</b> for information on regexp matching.  If <u>pattern</u> is omitted then
              the command returns all of the element names in the array.  If there are no (matching) elements in
              the array, or if <u>arrayName</u> is not the name of an array variable, then an empty string is returned.

       <b>array</b> <b>nextelement</b> <u>arrayName</u> <u>searchId</u>
              Returns the name of the next element in <u>arrayName</u>, or an empty string if all elements of <u>arrayName</u>
              have already been returned in this search.  The <u>searchId</u> argument identifies the search, and  must
              have been the return value of an <b>array</b> <b>startsearch</b> command.  Warning:  if elements are added to or
              deleted from the array, then all searches are automatically terminated just as if <b>array</b> <b>donesearch</b>
              had been invoked; this will cause <b>array</b> <b>nextelement</b> operations to fail for those searches.

       <b>array</b> <b>set</b> <u>arrayName</u> <u>list</u>
              Sets the values of one or more elements in <u>arrayName</u>.  <u>list</u> must have a form like that returned by
              <b>array</b> <b>get</b>, consisting of an even number of elements.  Each odd-numbered element in <u>list</u> is treated
              as  an element name within <u>arrayName</u>, and the following element in <u>list</u> is used as a new value for
              that array element.  If the variable <u>arrayName</u> does not already exist and <u>list</u> is empty, <u>arrayName</u>
              is created with an empty array value.

       <b>array</b> <b>size</b> <u>arrayName</u>
              Returns a decimal string giving the number of elements in the array.  If <u>arrayName</u> is not the name
              of an array then 0 is returned.

       <b>array</b> <b>startsearch</b> <u>arrayName</u>
              This command initializes an element-by-element search through the array given by  <u>arrayName</u>,  such
              that invocations of the <b>array</b> <b>nextelement</b> command will return the names of the individual elements
              in the array.  When the search has been completed, the <b>array</b> <b>donesearch</b> command should be invoked.
              The  return  value  is  a  search  identifier  that  must  be  used in <b>array</b> <b>nextelement</b> and <b>array</b>
              <b>donesearch</b> commands; it allows multiple searches to be underway simultaneously for the same array.
              It is currently more efficient and easier to use either the <b>array</b> <b>get</b>  or  <b>array</b>  <b>names</b>,  together
              with  <b>foreach</b>,  to  iterate  over all but very large arrays.  See the examples below for how to do
              this.

       <b>array</b> <b>statistics</b> <u>arrayName</u>
              Returns statistics about the distribution of data within the hashtable that represents the  array.
              This  information  includes  the  number  of  entries in the table, the number of buckets, and the
              utilization of the buckets.

       <b>array</b> <b>unset</b> <u>arrayName</u> ?<u>pattern</u>?
              Unsets all of the elements in the array that match <u>pattern</u> (using the  matching  rules  of  <b>string</b>
              <b>match</b>).   If  <u>arrayName</u>  is not the name of an array variable or there are no matching elements in
              the array, no error will be raised.  If <u>pattern</u> is omitted and <u>arrayName</u>  is  an  array  variable,
              then the command unsets the entire array.  The command always returns an empty string.

</pre><h4><b>EXAMPLES</b></h4><pre>
              <b>array</b> <b>set</b> colorcount {
                  red   1
                  green 5
                  blue  4
                  white 9
              }

              foreach {color count} [<b>array</b> <b>get</b> colorcount] {
                  puts "Color: $color Count: $count"
              }
                <b>→</b> Color: blue Count: 4
                  Color: white Count: 9
                  Color: green Count: 5
                  Color: red Count: 1

              foreach color [<b>array</b> <b>names</b> colorcount] {
                  puts "Color: $color Count: $colorcount($color)"
              }
                <b>→</b> Color: blue Count: 4
                  Color: white Count: 9
                  Color: green Count: 5
                  Color: red Count: 1

              foreach color [lsort [<b>array</b> <b>names</b> colorcount]] {
                  puts "Color: $color Count: $colorcount($color)"
              }
                <b>→</b> Color: blue Count: 4
                  Color: green Count: 5
                  Color: red Count: 1
                  Color: white Count: 9

              <b>array</b> <b>statistics</b> colorcount
                <b>→</b> 4 entries in table, 4 buckets
                  number of buckets with 0 entries: 1
                  number of buckets with 1 entries: 2
                  number of buckets with 2 entries: 1
                  number of buckets with 3 entries: 0
                  number of buckets with 4 entries: 0
                  number of buckets with 5 entries: 0
                  number of buckets with 6 entries: 0
                  number of buckets with 7 entries: 0
                  number of buckets with 8 entries: 0
                  number of buckets with 9 entries: 0
                  number of buckets with 10 or more entries: 0
                  average search distance for entry: 1.2

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3tcl/list.3tcl.html">list</a>(3tcl), <a href="../man3tcl/string.3tcl.html">string</a>(3tcl), <a href="../man3tcl/variable.3tcl.html">variable</a>(3tcl), <a href="../man3tcl/trace.3tcl.html">trace</a>(3tcl), <a href="../man3tcl/foreach.3tcl.html">foreach</a>(3tcl)

</pre><h4><b>KEYWORDS</b></h4><pre>
       array, element names, search

Tcl                                                    9.0                                           <u><a href="../man3tcl/array.3tcl.html">array</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>