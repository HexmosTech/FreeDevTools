<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sd_bus_message_read_array - Access an array of elements in a message</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsystemd-dev">libsystemd-dev_257.7-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sd_bus_message_read_array - Access an array of elements in a message

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;systemd/sd-bus.h&gt;</b>

       <b>int</b> <b>sd_bus_message_read_array(sd_bus_message</b> <b>*</b><u>m</u><b>,</b> <b>char</b> <u>type</u><b>,</b> <b>const</b> <b>void</b> <b>**</b><u>ptr</u><b>,</b> <b>size_t</b> <b>*</b><u>size</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sd_bus_message_read_array()</b> provides access to an array elements in the bus message <u>m</u>. The "read pointer"
       in the message must be right before an array of type <u>type</u>. As a special case, <u>type</u> may be <b>NUL</b>, in which
       case any trivial type is acceptable. A pointer to the array data is returned in the parameter <u>ptr</u> and the
       size of array data (in bytes) is returned in the parameter <u>size</u>. If the returned <u>size</u> parameter is 0, a
       valid non-null pointer will be returned as <u>ptr</u>, but it may not be dereferenced. The data is aligned as
       appropriate for the data type. The data is part of the message â€” it may not be modified and is valid only
       as long as the message is referenced. After this function returns, the "read pointer" points at the next
       element after the array.

       Note that this function only supports arrays of trivial types, i.e. arrays of booleans, the various
       integer types, as well as floating point numbers. In particular it may not be used for arrays of strings,
       structures or similar.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success and when an array was read, <b>sd_bus_message_read_array()</b> returns an integer greater than zero.
       If invoked while inside a container element (such as an array, e.g. when operating on an array of arrays)
       and the final element of the outer container has been read already and the read pointer is thus behind
       the last element of the outer container this call returns 0 (and the returned pointer will be <b>NULL</b> and
       the size will be 0). On failure, it returns a negative errno-style error code.

   <b>Errors</b>
       Returned errors may indicate the following problems:

       <b>-EINVAL</b>
           Specified type is invalid or not a trivial type (see above), or the message parameter or one of the
           output parameters are <b>NULL</b>.

       <b>-EOPNOTSUPP</b>
           The byte order in the message is different than native byte order.

       <b>-EPERM</b>
           The message is not sealed.

       <b>-EBADMSG</b>
           The message cannot be parsed.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>sd_bus_message_read_array()</b> was added in version 240.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man3/sd-bus.3.html">sd-bus</a></b>(3), <b><a href="../man3/sd_bus_message_read.3.html">sd_bus_message_read</a></b>(3), <b><a href="../man3/sd_bus_message_read_strv.3.html">sd_bus_message_read_strv</a></b>(3)

systemd 257.7                                                                       <u><a href="../man3/SD_BUS_MESSAGE_READ_ARRAY.3.html">SD_BUS_MESSAGE_READ_ARRAY</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>