<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JudyHS  -  C  library for creating and accessing a dynamic array, using an array-of-bytes of Length as an</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libjudy-dev">libjudy-dev_1.0.5-5.1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       JudyHS  -  C  library for creating and accessing a dynamic array, using an array-of-bytes of <b>Length</b> as an
       <b>Index</b> and a word as a <b>Value</b>.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>cc</b> <b>[flags]</b> <u>sourcefiles</u> <b>-lJudy</b>

       <b>#include</b> <b>&lt;Judy.h&gt;</b>

       <b>Word_t</b>  <b>*</b> <b>PValue;</b>                           <b>//</b> <b>JudyHS</b> <b>array</b> <b>element</b>
       <b>int</b>       <b>Rc_int;</b>                           <b>//</b> <b>return</b> <b>flag</b>
       <b>Word_t</b>    <b>Rc_word;</b>                          <b>//</b> <b>full</b> <b>word</b> <b>return</b> <b>value</b>
       <b>Pvoid_t</b>   <b>PJHSArray</b> <b>=</b> <b>(Pvoid_t)</b> <b>NULL;</b>       <b>//</b> <b>initialize</b> <b>JudyHS</b> <b>array</b>
       <b>uint8_t</b> <b>*</b> <b>Index;</b>                            <b>//</b> <b>array-of-bytes</b> <b>pointer</b>
       <b>Word_t</b>    <b>Length;</b>                           <b>//</b> <b>number</b> <b>of</b> <b>bytes</b> <b>in</b> <b>Index</b>

       <b>JHSI(</b> <b>PValue,</b>  <b>PJHSArray,</b> <b>Index,</b> <b>Length);</b>   <b>//</b> <b>JudyHSIns()</b>
       <b>JHSD(</b> <b>Rc_int,</b>  <b>PJHSArray,</b> <b>Index,</b> <b>Length);</b>   <b>//</b> <b>JudyHSDel()</b>
       <b>JHSG(</b> <b>PValue,</b>  <b>PJHSArray,</b> <b>Index,</b> <b>Length);</b>   <b>//</b> <b>JudyHSGet()</b>
       <b>JHSFA(Rc_word,</b> <b>PJHSArray);</b>                  <b>//</b> <b>JudyHSFreeArray()</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A JudyHS array is the equivalent of an array of word-sized value/pointers.  An <b>Index</b> is a pointer  to  an
       array-of-bytes of specified length:  <b>Length</b>.  Rather than using a null terminated string, this difference
       from  <u><a href="../man3/JudySL.3.html">JudySL</a></u>(3)  allows strings to contain all bits (specifically the null character).  This new addition
       (May 2004) to Judy arrays is a hybird using the best capabilities of hashing and  Judy  methods.   <b>JudyHS</b>
       does  not  have  a poor performance case where knowledge of the hash algorithm can be used to degrade the
       performance.

       Since JudyHS is based on a hash method, <b>Indexes</b> are not stored in any particular  order.   Therefore  the
       JudyHSFirst(),  JudyHSNext(),  JudyHSPrev() and JudyHSLast() neighbor search functions are not practical.
       The <b>Length</b> of each array-of-bytes can be from 0 to the limits of <u>malloc()</u> (about 2GB).

       The hallmark of <b>JudyHS</b> is speed with scalability, but memory efficiency is excellent.  The speed is  very
       competitive with the best hashing methods.  The memory efficiency is similar to a linked list of the same
       <b>Indexes</b> and <b>Values</b>.  <b>JudyHS</b> is designed to scale from 0 to billions of <b>Indexes</b>.

       A JudyHS array is allocated with a <b>NULL</b> pointer

       Pvoid_t PJHSArray = (Pvoid_t) NULL;

       Because the macro forms of the API have a simpler error handling interface than the equivalent <u>functions</u>,
       they are the preferred way to use JudyHS.

</pre><h4><b>JHSI(PValue,</b> <b>PJHSArray,</b> <b>Index,</b> <b>Length)</b> <b>//</b> <b>JudyHSIns()</b></h4><pre>
       Given  a pointer to a JudyHS array (<b>PJHSArray</b>), insert an <b>Index</b> string of length: <b>Length</b> and a <b>Value</b> into
       the JudyHS array:  <b>PJHSArray</b>.  If the <b>Index</b> is successfully inserted, the <b>Value</b> is initialized to 0.   If
       the <b>Index</b> was already present, the <b>Value</b> is not modified.

       Return  <b>PValue</b>  pointing to <b>Value</b>.  Your program should use this pointer to read or modify the <b>Value</b>, for
       example:

       Value = *PValue;
       *PValue = 1234;

       <b>Note</b>: <b>JHSI()</b> and <b>JHSD</b> can reorganize the JudyHS array.  Therefore, pointers returned from previous <b>JudyHS</b>
       calls become invalid and must be re-acquired (using <b>JHSG()</b>).

</pre><h4><b>JHSD(Rc_int,</b> <b>PJHSArray,</b> <b>Index,</b> <b>Length)</b> <b>//</b> <b>JudyHSDel()</b></h4><pre>
       Given a pointer to a JudyHS array (<b>PJHSArray</b>), delete the specified <b>Index</b> along with the <b>Value</b>  from  the
       JudyHS array.

       Return  <b>Rc_int</b>  set to 1 if successfully removed from the array.  Return <b>Rc_int</b> set to 0 if <b>Index</b> was not
       present.

</pre><h4><b>JHSG(PValue,</b> <b>PJHSArray,</b> <b>Index,</b> <b>Length)</b> <b>//</b> <b>JudyHSGet()</b></h4><pre>
       Given a pointer to a JudyHS array (<b>PJHSArray</b>), find <b>Value</b> associated with <b>Index</b>.

       Return <b>PValue</b> pointing to <b>Index</b>'s <b>Value</b>.  Return <b>PValue</b> set to <b>NULL</b> if the <b>Index</b> was not present.

</pre><h4><b>JHSFA(Rc_word,</b> <b>PJHSArray)</b> <b>//</b> <b>JudyHSFreeArray()</b></h4><pre>
       Given a pointer to a JudyHS array (<b>PJHSArray</b>), free the entire array.

       Return <b>Rc_word</b> set to the number of bytes freed and <b>PJHSArray</b> set to NULL.

<b>ERRORS:</b> <b>See:</b> <u><b>Judy_3.htm#ERRORS</b></u>
</pre><h4><b>EXAMPLES</b></h4><pre>
       Show how to program with the JudyHS macros.  This program will  print  duplicate  lines  and  their  line
       number from <u>stdin</u>.

       #include &lt;<a href="file:/usr/include/unistd.h">unistd.h</a>&gt;
       #include &lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;
       #include &lt;<a href="file:/usr/include/string.h">string.h</a>&gt;
       #include &lt;Judy.h&gt;

       //  Compiled:
       //  cc -O PrintDupLines.c -lJudy -o PrintDupLines

       #define MAXLINE 1000000                 /* max fgets length of line */
       uint8_t   Index[MAXLINE];               // string to check

       int     // Usage:  PrintDupLines &lt; file
       main()
       {
           Pvoid_t   PJArray = (PWord_t)NULL;  // Judy array.
           PWord_t   PValue;                   // Judy array element pointer.
           Word_t    Bytes;                    // size of JudyHS array.
           Word_t    LineNumb = 0;             // current line number
           Word_t    Dups = 0;                 // number of duplicate lines

           while (fgets(Index, MAXLINE, stdin) != (char *)NULL)
           {
               LineNumb++;                     // line number

               // store string into array
               JHSI(PValue, PJArray, Index, strlen(Index));
               if (PValue == PJERR)            // See ERRORS section
               {
                   fprintf(stderr, "Out of memory -- exit\n");
                   <a href="../man1/exit.1.html">exit</a>(1);
               }
               if (*PValue == 0)               // check if duplicate
               {
                   Dups++;
                   printf("Duplicate lines %lu:%lu:%s", *PValue, LineNumb, Index);
               }
               else
               {
                   *PValue = LineNumb;         // store Line number
               }
           }
           printf("%lu Duplicates, free JudyHS array of %lu Lines\n",
                           Dups, LineNumb - Dups);
           JHSFA(Bytes, PJArray);              // free JudyHS array
           printf("JudyHSFreeArray() free'ed %lu bytes of memory\n", Bytes);
           return (0);
       }

</pre><h4><b>AUTHOR</b></h4><pre>
       JudyHS was invented and implemented by Doug Baskins after retiring -Packard.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/Judy.3.html">Judy</a></u>(3), <u><a href="../man3/Judy1.3.html">Judy1</a></u>(3), <u><a href="../man3/JudyL.3.html">JudyL</a></u>(3), <u><a href="../man3/JudySL.3.html">JudySL</a></u>(3),
       <u>malloc()</u>,
       the Judy website, <u><a href="http://judy.sourceforge.net">http://judy.sourceforge.net</a></u>, for further information and Application Notes.

                                                                                                       <u><a href="../man3/JudyHS.3.html">JudyHS</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>