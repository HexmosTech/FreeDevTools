<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C Syntax</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openmpi-doc">openmpi-doc_5.0.7-1build1_all</a> <br><br><pre>
</pre><h4><b>SYNTAX</b></h4><pre>
   <b>C</b> <b>Syntax</b>
          #include &lt;mpi.h&gt;

          int MPI_Type_create_subarray(int ndims, const int array_of_sizes[],
              const int array_of_subsizes[], const int array_of_starts[],
              int order, MPI_Datatype oldtype, MPI_Datatype *newtype)

   <b>Fortran</b> <b>Syntax</b>
          USE MPI
          ! or the older form: INCLUDE 'mpif.h'
          MPI_TYPE_CREATE_SUBARRAY(NDIMS, ARRAY_OF_SIZES, ARRAY_OF_SUBSIZES,
               ARRAY_OF_STARTS, ORDER, OLDTYPE, NEWTYPE, IERROR)

               INTEGER NDIMS, ARRAY_OF_SIZES(*), ARRAY_OF_SUBSIZES(*),
               ARRAY_OF_STARTS(*), ORDER, OLDTYPE, NEWTYPE, IERROR

   <b>Fortran</b> <b>2008</b> <b>Syntax</b>
          USE mpi_f08
          MPI_Type_create_subarray(ndims, array_of_sizes, array_of_subsizes,
                       array_of_starts, order, oldtype, newtype, ierror)
               INTEGER, INTENT(IN) :: ndims, array_of_sizes(ndims),
               array_of_subsizes(ndims), array_of_starts(ndims), order
               TYPE(MPI_Datatype), INTENT(IN) :: oldtype
               TYPE(MPI_Datatype), INTENT(OUT) :: newtype
               INTEGER, OPTIONAL, INTENT(OUT) :: ierror

</pre><h4><b>INPUT</b> <b>PARAMETERS</b></h4><pre>
       • <b>ndims</b>: Number of array dimensions (positive integer).

       • <b>array_of_sizes</b>:  Number  of  elements  of  type  <u>oldtype</u>  in each dimension of the full array (array of
         positive integers).

       • <b>array_of_subsizes</b>: Number of elements of type <u>oldtype</u> in each  dimension  of  the  subarray  (array  of
         positive integers).

       • <b>array_of_starts</b>:  Starting  coordinates  of  the  subarray  in  each  dimension  (array  of nonnegative
         integers).

       • <b>order</b>: Array storage order flag (state).

       • <b>oldtype</b>: Array element data type (handle).

</pre><h4><b>OUTPUT</b> <b>PARAMETERS</b></h4><pre>
       • <b>newtype</b>: New data type (handle).

       • <b>ierror</b>: Fortran only: Error status (integer).

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The subarray type constructor creates an MPI  data  type  describing  an  <u>n</u>-dimensional  subarray  of  an
       <u>n</u>-dimensional  array.  The  subarray  may  be  situated anywhere within the full array, and may be of any
       nonzero size up to the size of the larger array as long as it is confined within this  array.  This  type
       constructor  facilitates  creating file types to access arrays distributed in blocks among processes to a
       single file that contains the global array.

       This type constructor can handle arrays with an arbitrary number of dimensions and works for both C-  and
       Fortran-ordered  matrices  (that  is,  row-major  or column-major). Note that a C program may use Fortran
       order and a Fortran program may use C order.

       The <u>ndims</u> parameter specifies the number of dimensions in the full data array and  gives  the  number  of
       elements in <u>array_of_sizes</u>, <u>array_of_subsizes</u>, and <u>array_of_starts</u>.

       The  number  of  elements  of type <u>oldtype</u> in each dimension of the <u>n</u>-dimensional array and the requested
       subarray are specified by <u>array_of_sizes</u> and <u>array_of_subsizes</u>, respectively. For any dimension <u>i</u>, it  is
       erroneous to specify <u>array_of_subsizes[i]</u> &lt; 1 or <u>array_of_subsizes[i]</u> &gt; <u>array</u> <u>of</u> <u>sizes[i]</u>.

       The  <u>array_of_starts</u>  contains  the  starting  coordinates  of each dimension of the subarray. Arrays are
       assumed to be indexed starting from zero. For any dimension <u>i</u>, it is erroneous to specify

          array_of_starts[i] &lt; 0

       or

          array_of_starts[i] &gt; (array_of_sizes[i] - array_of_subsizes[i]).

       The <u>order</u> argument specifies the storage order for the subarray as well as the full array. It must be set
       to one of the following:

       • <b>MPI_ORDER_C</b>: The ordering used by C arrays, (that is, row-major order)

       • <b>MPI_ORDER_FORTRAN</b>: The ordering used by Fortran arrays, (that is, column-major order)

       A <u>ndims</u>-dimensional subarray (<u>newtype</u>) with no extra padding can be defined by the function Subarray() as
       follows:

          newtype = Subarray(ndims, {size_0, size_1,..., size_ndims-1},
                    {subsize_0, subsize_1, ..., subsize_ndims-1},
                    {start_0, start_1, ..., start_ndims-1}, oldtype)

       Let the typemap of <u>oldtype</u> have the form:

          {(type_0, disp_0), (type_1, disp_1), ..., (type_n-1, disp_n-1)}

       where type<u>i</u> is a predefined MPI data type, and let <u>ex</u> be the extent of <u>oldtype</u>.

       The <b>Subarray()</b> function is defined recursively in three equations on page 72 of the MPI-2 standard.

       For an example use of <u>MPI_Type_create_subarray</u> in the context of I/O, see  Section  9.9.2  of  the  MPI-2
       standard.

</pre><h4><b>NOTES</b></h4><pre>
       In  a  Fortran  program  with  arrays indexed starting from 1, if the starting coordinate of a particular
       dimension of the subarray is <u>n</u>, then the entry in array of starts for that dimension is <u>n</u>-1.

</pre><h4><b>ERRORS</b></h4><pre>
       Almost all MPI routines return an error value; C routines as  the  return  result  of  the  function  and
       Fortran routines in the last argument.

       Before  the  error  value  is  returned,  the current MPI error handler associated with the communication
       object (e.g., communicator, window, file) is called.  If no communication object is associated  with  the
       MPI  call,  then  the call is considered attached to MPI_COMM_SELF and will call the associated MPI error
       handler.  When  MPI_COMM_SELF  is  not  initialized   (i.e.,   before   <u>MPI_Init</u>/<u>MPI_Init_thread</u>,   after
       <u>MPI_Finalize</u>,  or  when using the Sessions Model exclusively) the error raises the initial error handler.
       The initial error handler can be changed by calling <u>MPI_Comm_set_errhandler</u> on MPI_COMM_SELF  when  using
       the  World  model,  or the mpi_initial_errhandler CLI argument to mpiexec or info key to <u>MPI_Comm_spawn</u>/‐
       <u>MPI_Comm_spawn_multiple</u>.  If no other appropriate error handler has been set, then the  MPI_ERRORS_RETURN
       error  handler  is  called for MPI I/O functions and the MPI_ERRORS_ABORT error handler is called for all
       other MPI functions.

       Open MPI includes three predefined error handlers that can be used:

       • <b>MPI_ERRORS_ARE_FATAL</b> Causes the program to abort all connected MPI processes.

       • <b>MPI_ERRORS_ABORT</b> An error handler that can be invoked on a communicator, window, file, or session. When
         called on a communicator, it acts as if <u>MPI_Abort</u> was called on  that  communicator.  If  called  on  a
         window  or file, acts as if <u>MPI_Abort</u> was called on a communicator containing the group of processes in
         the corresponding window or file. If called on a session, aborts only the local process.

       • <b>MPI_ERRORS_RETURN</b> Returns an error code to the application.

       MPI applications can also implement their own error handlers by calling:

       • <u>MPI_Comm_create_errhandler</u> then <u>MPI_Comm_set_errhandler</u>

       • <u>MPI_File_create_errhandler</u> then <u>MPI_File_set_errhandler</u>

       • <u>MPI_Session_create_errhandler</u> then <u>MPI_Session_set_errhandler</u> or at <u>MPI_Session_init</u>

       • <u>MPI_Win_create_errhandler</u> then <u>MPI_Win_set_errhandler</u>

       Note that MPI does not guarantee that an MPI program can continue past an error.

       See the <u>MPI</u> <u>man</u> <u>page</u> for a full list of <u>MPI</u> <u>error</u> <u>codes</u>.

       See the Error Handling section of the MPI-3.1 standard for more information.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2003-2025, The Open MPI Community

                                                  Jun 07, 2025                       <u><a href="../man3/MPI_TYPE_CREATE_SUBARRAY.3.html">MPI_TYPE_CREATE_SUBARRAY</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>