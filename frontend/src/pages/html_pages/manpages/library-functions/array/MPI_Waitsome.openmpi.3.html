<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C Syntax</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openmpi-doc">openmpi-doc_5.0.7-1build1_all</a> <br><br><pre>
</pre><h4><b>SYNTAX</b></h4><pre>
   <b>C</b> <b>Syntax</b>
          #include &lt;mpi.h&gt;

          int MPI_Waitsome(int incount, MPI_Request array_of_requests[],
               int *outcount, int array_of_indices[],
               MPI_Status array_of_statuses[])

   <b>Fortran</b> <b>Syntax</b>
          USE MPI
          ! or the older form: INCLUDE 'mpif.h'
          MPI_WAITSOME(INCOUNT, ARRAY_OF_REQUESTS, OUTCOUNT,
                       ARRAY_OF_INDICES, ARRAY_OF_STATUSES, IERROR)
               INTEGER INCOUNT, ARRAY_OF_REQUESTS(*), OUTCOUNT
               INTEGER ARRAY_OF_INDICES(*)
               INTEGER ARRAY_OF_STATUSES(MPI_STATUS_SIZE*)
               INTEGER IERROR

   <b>Fortran</b> <b>2008</b> <b>Syntax</b>
          USE mpi_f08
          MPI_Waitsome(incount, array_of_requests, outcount, array_of_indices,
                       array_of_statuses, ierror)
               INTEGER, INTENT(IN) :: incount
               TYPE(MPI_Request), INTENT(INOUT) :: array_of_requests(incount)
               INTEGER, INTENT(OUT) :: outcount, array_of_indices(*)
               TYPE(MPI_Status) :: array_of_statuses(*)
               INTEGER, OPTIONAL, INTENT(OUT) :: ierror

</pre><h4><b>INPUT</b> <b>PARAMETERS</b></h4><pre>
       • <b>incount</b>: Length of array_of_requests (integer).

       • <b>array_of_requests</b>: Array of requests (array of handles).

</pre><h4><b>OUTPUT</b> <b>PARAMETERS</b></h4><pre>
       • <b>outcount</b>: Number of completed requests (integer).

       • <b>array_of_indices</b>: Array of indices of operations that completed (array of integers).

       • <b>array_of_statuses</b>: Array of status objects for operations that completed (array of status).

       • <b>ierror</b>: Fortran only: Error status (integer).

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Waits  until  at  least  one of the operations associated with active handles in the list have completed.
       Returns in outcount the number of requests from the list array_of_requests that have  completed.  Returns
       in  the  first  outcount  locations  of the array array_of_indices the indices of these operations (index
       within the array array_of_requests; the array is indexed from 0 in C and from 1 in Fortran).  Returns  in
       the first outcount locations of the array array_of_status the status for these completed operations. If a
       request that completed was allocated by a nonblocking communication call, then it is deallocated, and the
       associated handle is set to MPI_REQUEST_NULL.

       If the list contains no active handles, then the call returns immediately with outcount = MPI_UNDEFINED.

       When  one  or  more of the communications completed by <u>MPI_Waitsome</u> fails, then it is desirable to return
       specific  information  on   each   communication.   The   arguments   outcount,   array_of_indices,   and
       array_of_statuses  will  be  adjusted to indicate completion of all communications that have succeeded or
       failed. The call will return the error code MPI_ERR_IN_STATUS and the error field of each status returned
       will be set to indicate success or to indicate the specific error that occurred.  The  call  will  return
       MPI_SUCCESS if no request resulted in an error, and will return another error code if it failed for other
       reasons (such as invalid arguments). In such cases, it will not update the error fields of the statuses.

       If your application does not need to examine the <u>array_of_statuses</u> field, you can save resources by using
       the  predefined  constant  MPI_STATUSES_IGNORE  can  be used as a special value for the <u>array_of_statuses</u>
       argument.

       <b>Example:</b> Same code as the example in the <u>MPI_Waitany</u> man page, but using <u>MPI_Waitsome</u>.

          CALL MPI_COMM_SIZE(comm, size, ierr)
          CALL MPI_COMM_RANK(comm, rank, ierr)
          IF(rank &gt; 0) THEN         ! client code
              DO
                 CALL MPI_ISEND(a, n, MPI_REAL, 0, tag, comm, request, ierr)
                 CALL MPI_WAIT(request, status, ierr)
              END DO
          ELSE         ! rank=0: server code
              DO i=1, size-1
                 CALL MPI_IRECV(a(1,i), n, MPI_REAL, i, tag, &amp;
                                comm, requests(i), ierr)
              END DO
              DO
                 CALL MPI_WAITSOME(size, request_list, numdone, &amp;
                                  indices, statuses, ierr)
                 DO i=1, numdone
                    CALL DO_SERVICE(a(1, indices(i)))
                    CALL MPI_IRECV(a(1, indices(i)), n, MPI_REAL, i, tag, &amp;
                                 comm, requests(indices(i)), ierr)
                 END DO
              END DO
          END IF

</pre><h4><b>NOTES</b></h4><pre>
       The array of indices are in the range 0 to incount-1 for C and in the range 1 to incount for Fortran.

</pre><h4><b>ERRORS</b></h4><pre>
       Almost all MPI routines return an error value; C routines as  the  return  result  of  the  function  and
       Fortran routines in the last argument.

       Before  the  error  value  is  returned,  the current MPI error handler associated with the communication
       object (e.g., communicator, window, file) is called.  If no communication object is associated  with  the
       MPI  call,  then  the call is considered attached to MPI_COMM_SELF and will call the associated MPI error
       handler.  When  MPI_COMM_SELF  is  not  initialized   (i.e.,   before   <u>MPI_Init</u>/<u>MPI_Init_thread</u>,   after
       <u>MPI_Finalize</u>,  or  when using the Sessions Model exclusively) the error raises the initial error handler.
       The initial error handler can be changed by calling <u>MPI_Comm_set_errhandler</u> on MPI_COMM_SELF  when  using
       the  World  model,  or the mpi_initial_errhandler CLI argument to mpiexec or info key to <u>MPI_Comm_spawn</u>/‐
       <u>MPI_Comm_spawn_multiple</u>.  If no other appropriate error handler has been set, then the  MPI_ERRORS_RETURN
       error  handler  is  called for MPI I/O functions and the MPI_ERRORS_ABORT error handler is called for all
       other MPI functions.

       Open MPI includes three predefined error handlers that can be used:

       • <b>MPI_ERRORS_ARE_FATAL</b> Causes the program to abort all connected MPI processes.

       • <b>MPI_ERRORS_ABORT</b> An error handler that can be invoked on a communicator, window, file, or session. When
         called on a communicator, it acts as if <u>MPI_Abort</u> was called on  that  communicator.  If  called  on  a
         window  or file, acts as if <u>MPI_Abort</u> was called on a communicator containing the group of processes in
         the corresponding window or file. If called on a session, aborts only the local process.

       • <b>MPI_ERRORS_RETURN</b> Returns an error code to the application.

       MPI applications can also implement their own error handlers by calling:

       • <u>MPI_Comm_create_errhandler</u> then <u>MPI_Comm_set_errhandler</u>

       • <u>MPI_File_create_errhandler</u> then <u>MPI_File_set_errhandler</u>

       • <u>MPI_Session_create_errhandler</u> then <u>MPI_Session_set_errhandler</u> or at <u>MPI_Session_init</u>

       • <u>MPI_Win_create_errhandler</u> then <u>MPI_Win_set_errhandler</u>

       Note that MPI does not guarantee that an MPI program can continue past an error.

       See the <u>MPI</u> <u>man</u> <u>page</u> for a full list of <u>MPI</u> <u>error</u> <u>codes</u>.

       See the Error Handling section of the MPI-3.1 standard for more information.

       For each invocation of <u>MPI_Waitsome</u>, if one or more requests generate an MPI error, only  the  <u>first</u>  MPI
       request  that  caused an error will be passed to its corresponding error handler. No other error handlers
       will be invoked (even if multiple requests generated errors). However,  <u>all</u>  requests  that  generate  an
       error  will  have  a  relevant  error  code  set  in  the  corresponding  <b>status.MPI_ERROR</b>  field (unless
       <b>MPI_STATUSES_IGNORE</b> was used).

       If the invoked error handler allows <u>MPI_Waitsome</u> to return to the  caller,  the  value  <b>MPI_ERR_IN_STATUS</b>
       will be returned in the C and Fortran bindings.

       <b>SEE</b> <b>ALSO:</b>

          • <u>MPI_Comm_set_errhandler</u>

          • <u>MPI_File_set_errhandler</u>

          • <u>MPI_Test</u>

          • <u>MPI_Testall</u>

          • <u>MPI_Testany</u>

          • <u>MPI_Testsome</u>

          • <u>MPI_Wait</u>

          • <u>MPI_Waitall</u>

          • <u>MPI_Waitany</u>

          • <u>MPI_Win_set_errhandler</u>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2003-2025, The Open MPI Community

                                                  Jun 07, 2025                                   <u><a href="../man3/MPI_WAITSOME.3.html">MPI_WAITSOME</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>