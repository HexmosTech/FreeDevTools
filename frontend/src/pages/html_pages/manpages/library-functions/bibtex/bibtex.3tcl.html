<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bibtex - Parse bibtex files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       bibtex - Parse bibtex files

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.5</b> <b>9</b>

       package require <b>bibtex</b> <b>?0.8?</b>

       <b>::bibtex::parse</b> ?<u>options</u>? ?<u>text</u>?

       <b>::bibtex::parse</b> <u>text</u>

       <b>::bibtex::parse</b> ?<b>-command</b> <u>cmd</u>? <b>-channel</b> <u>chan</u>

       <b>::bibtex::parse</b>  ?<b>-recordcommand</b>   <u>recordcmd</u>? ?<b>-preamblecommand</b> <u>preamblecmd</u>? ?<b>-stringcommand</b>   <u>stringcmd</u>?
       ?<b>-commentcommand</b>   <u>commentcmd</u>?  ?<b>-progresscommand</b>  <u>progresscmd</u>?  ?<b>-casesensitivestrings</b>  <u>bool</u>?  (<u>text</u>   |
       <b>-channel</b> <u>chan</u>)

       <b>::bibtex::wait</b> <u>token</u>

       <b>::bibtex::destroy</b> <u>token</u>

       <b>::bibtex::addStrings</b> <u>token</u> <u>stringdict</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This package provides commands for the parsing of bibliographies in BibTeX format.

       <b>::bibtex::parse</b> ?<u>options</u>? ?<u>text</u>?
              This  is the general form of the command for parsing a bibliography. Depending on the options used
              to invoke it it will either return a token for the parser, or the  parsed  entries  of  the  input
              bibliography.  Instead  of performing an immediate parse returning a predefined format the command
              can also enter an event-based parsing style where all relevant entries in the input  are  reported
              through callback commands, in the style of SAX.

       <b>::bibtex::parse</b> <u>text</u>
              In  this  form the command will assume that the specified <u>text</u> is a bibliography in BibTeX format,
              parse it, and then return a list containing one element per record found in the bibliography. Note
              that comments, string definitions, preambles, etc. will not show up in the result.   Each  element
              will be a list containing record type, bibliography key and record data, in this order. The record
              data will be a dictionary, its keys the keys of the record, with the associated values.

       <b>::bibtex::parse</b> ?<b>-command</b> <u>cmd</u>? <b>-channel</b> <u>chan</u>
              In  this form the command will reads the bibliography from the specified Tcl channel <u>chan</u> and then
              returns the same data structure as described above.

              If however the option <b>-command</b> is specified the result will be a handle for the parser instead and
              all processing will be incremental and happen in the background. When the input has been exhausted
              the callback <u>cmd</u> will be invoked with the result of  the  parse.  The  exact  definition  for  the
              callback is

              <b>cmd</b> <u>token</u> <u>parseresult</u>
                     The  parse  result  will  have  the structure explained above, for the simpler forms of the
                     parser.

       <u>Note</u> that the parser will  <u>not</u>  close  the  channel  after  it  has  exhausted  it.  This  is  still  the
       responsibility of the user of the parser.

       <b>::bibtex::parse</b> ?<b>-recordcommand</b>   <u>recordcmd</u>? ?<b>-preamblecommand</b> <u>preamblecmd</u>? ?<b>-stringcommand</b>   <u>stringcmd</u>?
       ?<b>-commentcommand</b>  <u>commentcmd</u>? ?<b>-progresscommand</b> <u>progresscmd</u>? ?<b>-casesensitivestrings</b> <u>bool</u>? (<u>text</u> |
       <b>-channel</b> <u>chan</u>)
              This  is  the  most  low-level  form  for the parser. The returned result will be a handle for the
              parser. During processing it will invoke the invoke the specified callback commands for each  type
              of data found in the bibliography.

              The processing will be incremental and happen in the background if, and only if a Tcl channel <u>chan</u>
              is  specified. For a <u>text</u> the processing will happen immediately and all callbacks will be invoked
              before the command itself returns.

              The callbacks, i.e. <u>*cmd</u>, are all command prefixes and will be invoked with  additional  arguments
              appended to them. The meaning of the arguments depends on the callback and is explained below. The
              first argument will however always be the handle of the parser invoking the callback.

              <b>-casesensitivestrings</b>
                     This option takes a boolean value. When set string macro processing becomes case-sensitive.
                     The default is case-insensitive string macro processing.

              <b>recordcmd</b> <u>token</u> <u>type</u> <u>key</u> <u>recorddict</u>
                     This  callback  is  invoked whenever the parser detects a bibliography record in the input.
                     Its arguments are the record type, the bibliography key for the record,  and  a  dictionary
                     containing the keys and values describing the record. Any string macros known to the parser
                     have already been expanded.

              <b>preamblecmd</b> <u>token</u> <u>preambletext</u>
                     This  callback  is invoked whenever the parser detects an @preamble block in the input. The
                     only additional argument is the text found in the preamble block. By default  such  entries
                     are ignored.

              <b>stringcmd</b> <u>token</u> <u>stringdict</u>
                     This  callback  is invoked whenever the parser detects an @string-based macro definition in
                     the input. The argument is a dictionary with the macro names as keys and their  replacement
                     strings  as  values.  By  default such definitions are added to the parser state for use in
                     future bibliography records.

              <b>commentcmd</b> <u>token</u> <u>commenttext</u>
                     This callback is invoked whenever the parser detects a  comment  in  the  input.  The  only
                     additional argument is the comment text. By default such entries are ignored.

              <b>progresscmd</b> <u>token</u> <u>percent</u>
                     This  callback  is  invoked during processing to tell the user about the progress which has
                     been made. Its argument is the percentage of data processed, as integer  number  between  <b>0</b>
                     and  <b>100</b>.   In  the case of incremental processing the perecentage will always be <b>-1</b> as the
                     total number of entries is not known beforehand.

       <b>::bibtex::wait</b> <u>token</u>
              This command waits for the parser represented by the <u>token</u>  to  complete  and  then  returns.  The
              returned result is the empty string.

       <b>::bibtex::destroy</b> <u>token</u>
              This  command  cleans  up  all internal state associated with the parser represented by the handle
              <u>token</u>, effectively destroying it. This command can be called from within the parser  callbacks  to
              terminate processing.

       <b>::bibtex::addStrings</b> <u>token</u> <u>stringdict</u>
              This  command  adds  the  macro  definitions  stored  in  the  dictionary <u>stringdict</u> to the parser
              represented by the handle <u>token</u>.

              The dictionary keys are the macro names and the values their replacement strings. This command has
              the correct signature for use as a  <b>-stringcommand</b>  callback  in  an  invokation  of  the  command
              <b>::bibtex::parse</b>.

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This  document,  and  the package it describes, will undoubtedly contain bugs and other problems.  Please
       report such in the category <u>bibtex</u> of the <u>Tcllib</u> <u>Trackers</u> [<a href="http://core.tcl.tk/tcllib/reportlist">http://core.tcl.tk/tcllib/reportlist</a>].  Please
       also report any ideas for enhancements you may have for either package and/or documentation.

       When proposing code changes, please provide <u>unified</u> <u>diffs</u>, i.e the output of <b>diff</b> <b>-u</b>.

       Note further that <u>attachments</u> are strongly preferred over inlined patches. Attachments  can  be  made  by
       going  to the <b>Edit</b> form of the ticket immediately after its creation, and then using the left-most button
       in the secondary navigation bar.

</pre><h4><b>KEYWORDS</b></h4><pre>
       bibliography, bibtex, parsing, text processing

</pre><h4><b>CATEGORY</b></h4><pre>
       Text processing

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2005 for documentation, Andreas Kupries &lt;<a href="mailto:andreas_kupries@users.sourceforge.net">andreas_kupries@users.sourceforge.net</a>&gt;

tcllib                                                 0.8                                          <u><a href="../man3tcl/bibtex.3tcl.html">bibtex</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>