<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalog - stores and retrieves named objects</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ivtools-dev">ivtools-dev_2.0.11d.a1-3build7_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Catalog - stores and retrieves named objects

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;Unidraw/catalog.h&gt;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A  catalog  provides  independent  name-to-object  mappings  for component subjects, commands, tools, and
       editor info objects.  Once named, an object can be retrieved later, even  if  the  application  has  been
       exited  and  restarted.   The  catalog  thus provides a means for saving objects in non-volatile form for
       subsequent retrieval.

</pre><h4><b>PUBLIC</b> <b>OPERATIONS</b></h4><pre>
       <b>Catalog(const</b> <b>char*</b> <b>domainName,</b> <b>Creator*,</b> <b>float</b> <b>version)</b>
              Construct a catalog, supplying an application-unique domain name, a creator object, and a  version
              number.   Unidraw  objects  may  use the domain name for file type checking purposes, and they may
              rely on the version number to handle evolving storage formats.

       <b>virtual</b> <b>boolean</b> <b>Save(EditorInfo*,</b> <b>const</b> <b>char*)</b>
       <b>virtual</b> <b>boolean</b> <b>Save(Component*,</b> <b>const</b> <b>char*)</b>
       <b>virtual</b> <b>boolean</b> <b>Save(Command*,</b> <b>const</b> <b>char*)</b>
       <b>virtual</b> <b>boolean</b> <b>Save(Tool*,</b> <b>const</b> <b>char*)</b>
              Save an object instance under the specified name.  The catalog stores a textual representation for
              the object in a file with the given name; therefore a name with embedded  slashes  corresponds  to
              the  path  name for the file containing the textual representation.  These operations return <u>false</u>
              if the file could not be written.

       <b>virtual</b> <b>boolean</b> <b>Retrieve(const</b> <b>char*,</b> <b>EditorInfo*&amp;)</b>
       <b>virtual</b> <b>boolean</b> <b>Retrieve(const</b> <b>char*,</b> <b>Component*&amp;)</b>
       <b>virtual</b> <b>boolean</b> <b>Retrieve(const</b> <b>char*,</b> <b>Command*&amp;)</b>
       <b>virtual</b> <b>boolean</b> <b>Retrieve(const</b> <b>char*,</b> <b>Tool*&amp;)</b>
              Retrieve an object instance having the specified name.  The catalog reconstructs  an  instance  of
              the  object  from  the  corresponding  file  when  the  instance  is  first retrieved.  Subsequent
              retrievals with the same name return a  reference  to  the  instance  already  in  memory.   These
              operations return <u>false</u> if the instance could not be reconstructed from the file.

       <b>virtual</b> <b>void</b> <b>Forget(EditorInfo*,</b> <b>const</b> <b>char*</b> <b>=</b> <b>nil)</b>
       <b>virtual</b> <b>void</b> <b>Forget(Component*,</b> <b>const</b> <b>char*</b> <b>=</b> <b>nil)</b>
       <b>virtual</b> <b>void</b> <b>Forget(Command*,</b> <b>const</b> <b>char*</b> <b>=</b> <b>nil)</b>
       <b>virtual</b> <b>void</b> <b>Forget(Tool*,</b> <b>const</b> <b>char*</b> <b>=</b> <b>nil)</b>
              Forget the name-to-object mapping for the given instance.  If the optional string is supplied, the
              catalog forgets a specific name-to-object mapping, which is useful when an instance has been saved
              under different names.

       <b>virtual</b> <b>const</b> <b>char*</b> <b>GetName(EditorInfo*)</b>
       <b>virtual</b> <b>const</b> <b>char*</b> <b>GetName(Component*)</b>
       <b>virtual</b> <b>const</b> <b>char*</b> <b>GetName(Command*)</b>
       <b>virtual</b> <b>const</b> <b>char*</b> <b>GetName(Tool*)</b>
              Get  a  name  associated with an instance.  These operations do not specify which name is returned
              for instances that have been saved under more than one name.

       <b>virtual</b> <b>boolean</b> <b>Valid(const</b> <b>char*,</b> <b>EditorInfo*&amp;)</b>
       <b>virtual</b> <b>boolean</b> <b>Valid(const</b> <b>char*,</b> <b>Component*&amp;)</b>
       <b>virtual</b> <b>boolean</b> <b>Valid(const</b> <b>char*,</b> <b>Command*&amp;)</b>
       <b>virtual</b> <b>boolean</b> <b>Valid(const</b> <b>char*,</b> <b>Tool*&amp;)</b>
              Return whether the given name has an instance already associated with it (i.e., it has been  saved
              or retrieved) and if so return that instance in the second parameter.

       <b>virtual</b> <b>Component*</b> <b>Copy(Component*)</b>
       <b>virtual</b> <b>Command*</b> <b>Copy(Command*)</b>
       <b>virtual</b> <b>Tool*</b> <b>Copy(Tool*)</b>
              Copy  an  instance by saving it under a temporary name, then retrieving it, and finally forgetting
              the temporary name.  A component, command, or tools subclass can use the corresponding function to
              implement their Copy function easily, possibly at the expense of run-time performance.

       <b>virtual</b> <b>boolean</b> <b>Exists(const</b> <b>char*)</b>
              Return whether a file with the given name exists.  A return value of  <u>true</u>  does  not  necessarily
              mean that an object has been saved under the specified name.

       <b>virtual</b> <b>boolean</b> <b>Writable(const</b> <b>char*)</b>
              Return whether it is permitted to save an object under the given name.

       <b>void</b> <b>SetClipboard(Clipboard*)</b>
       <b>Clipboard*</b> <b>GetClipboard()</b>
              Set or get a globally-accessible clipboard object.

       <b>void</b> <b>SetEditorInfo(EditorInfo*)</b>
       <b>EditorInfo*</b> <b>GetEditorInfo()</b>
              Set or get a globally-accessible editor info object.

       <b>const</b> <b>char*</b> <b>GetName()</b>
       <b>Creator*</b> <b>GetCreator()</b>
       <b>float</b> <b>GetVersion()</b>
              Return the values of constructor-specified parameters.

       <b>float</b> <b>FileVersion()</b>
              Return the Unidraw version number of the file being read currently.

       <b>const</b> <b>char*</b> <b>GetAttribute(const</b> <b>char*)</b>
              Return  the  value of a user preference with the given name as stored in the global PropertySheet.
              This operation is equivalent to the World operation of the same name.

       <b>void</b> <b>WriteVersion(int,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteClassId(ClassId,</b> <b>ostream&amp;,</b> <b>int</b> <b>id</b> <b>=</b> <b>0)</b>
       <b>void</b> <b>WriteComponent(Component*,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteCommand(Command*,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteTool(Tool*,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteStateVar(StateVar*,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteTransferFunct(TransferFunct*,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteBgFilled(boolean,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteBrush(PSBrush*,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteColor(PSColor*,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteFont(PSFont*,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WritePattern(PSPattern*,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteTransformer(Transformer*,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteString(const</b> <b>char*,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteControlInfo(ControlInfo*,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteEditorInfo(EditorInfo*,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteBitmap(Bitmap*,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteBitmapData(Bitmap*,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteGraymap(Raster*,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteGraymapData(Raster*,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteRaster(Raster*,</b> <b>ostream&amp;)</b>
       <b>void</b> <b>WriteRasterData(Raster*,</b> <b>ostream&amp;)</b>

       <b>int</b> <b>ReadVersion(istream&amp;)</b>
       <b>ClassId</b> <b>ReadClassId(istream&amp;,</b> <b>int&amp;</b> <b>id)</b>
       <b>Component*</b> <b>ReadComponent(istream&amp;)</b>
       <b>Command*</b> <b>ReadCommand(istream&amp;)</b>
       <b>Tool*</b> <b>ReadTool(istream&amp;)</b>
       <b>StateVar*</b> <b>ReadStateVar(istream&amp;)</b>
       <b>TransferFunct*</b> <b>ReadTransferFunct(istream&amp;)</b>
       <b>int</b> <b>ReadBgFilled(istream&amp;)</b>
       <b>PSBrush*</b> <b>ReadBrush(istream&amp;)</b>
       <b>PSColor*</b> <b>ReadColor(istream&amp;)</b>
       <b>PSFont*</b> <b>ReadFont(istream&amp;)</b>
       <b>PSPattern*</b> <b>ReadPattern(istream&amp;)</b>
       <b>Transformer*</b> <b>ReadTransformer(istream&amp;)</b>
       <b>char*</b> <b>ReadString(istream&amp;)</b>
       <b>ControlInfo*</b> <b>ReadControlInfo(istream&amp;)</b>
       <b>EditorInfo*</b> <b>ReadEditorInfo(istream&amp;)</b>
       <b>Bitmap*</b> <b>ReadBitmap(istream&amp;)</b>
       <b>Bitmap*</b> <b>ReadBitmapData(istream&amp;)</b>
       <b>Raster*</b> <b>ReadGraymap(istream&amp;)</b>
       <b>Raster*</b> <b>ReadGraymapData(istream&amp;)</b>
       <b>Raster*</b> <b>ReadRaster(istream&amp;)</b>
       <b>Raster*</b> <b>ReadRasterData(istream&amp;)</b>
              Write and read information via streams.  Catalog-managed classes use  these  operations  in  their
              Write  and  Read functions to write and read the objects they contain.  The operations for writing
              and reading bitmaps and rasters have accompanying operations that write and read  only  the  ASCII
              data  (i.e.,  omitting  transformation  and other Unidraw format-specific data) that encodes their
              information content.

       <b>PSBrush*</b> <b>ReadBrush(const</b> <b>char*</b> <b>definition,</b> <b>int</b> <b>index)</b>
       <b>PSColor*</b> <b>ReadColor(const</b> <b>char*</b> <b>definition,</b> <b>int</b> <b>index)</b>
       <b>PSFont*</b> <b>ReadFont(const</b> <b>char*</b> <b>definition,</b> <b>int</b> <b>index)</b>
       <b>PSPattern*</b> <b>ReadPattern(const</b> <b>char*,</b> <b>int</b> <b>index)</b>
              Return a PostScript paint object corresponding to the value of a user preference  with  the  given
              definition  and index number as stored in the global PropertySheet.  Each string in the X defaults
              database of the form ``&lt;applicationName&gt;.resource:definition''  sets  a  resource.   The  resource
              names and their definitions are specified as follows:

              <b>brush</b><u>i:</u>  Define  the  <u>i</u>th  brush resource.  The ReadBrush operation retrieves the brush object for
              this resource given a  definition.   The  definition  usually  specifies  two  numbers:  a  16-bit
              hexadecimal  number  to  define  the  brush's  line  style (each 1 bit draws a dash and each 0 bit
              produces a gap), and a decimal integer to define the brush's width in pixels.  For example, ``ffff
              1'' defines a single pixel wide solid line. If the definition specifies only the string  ``none'',
              then it defines the nonexistent brush.

              <b>fgcolor</b><u>i:</u>  Define  the <u>i</u>th foreground color resource.  The ReadColor operation retrieves the color
              object for this resource given a definition.  The definition contains a string defining  the  name
              of  the color, optionally followed by three decimal numbers between 0 and 65535 to define the red,
              green, and blue components of the color's intensity.  The intensities override the name; that  is,
              the  catalog  will  look  the  name  up  in  the  database  of  common colors only if you omit the
              intensities.  For example, ``Indigo 48896 0 65280'' defines a color which is a mixture of red  and
              blue. You can define shades of gray by using equal proportions of each primary color.

              <b>bgcolor</b><u>i:</u>  The  background  color  resource  definition  is  specified  in  the same manner as the
              foreground color.

              <b>font</b><u>i:</u> Define the <u>i</u>th font resource. The ReadFont operation retrieves the  font  object  for  this
              resource  given a definition.  The definition contains three strings separated by whitespace.  The
              first string defines the font's name, the second string the  corresponding  print  font,  and  the
              third  string  the  print  size.  For example, ``8x13bold Courier-Bold 13'' defines the third font
              entry.

              <b>pattern</b><u>i:</u> Define the <u>i</u>th pattern resource. The ReadPattern operation retrieves the pattern  object
              for  this resource given a definition.  The definition can specify the pattern for a 16x16 bitmap,
              a 8x8 bitmap, a 4x4 bitmap, a grayscale number, or the string ``none''.   You  specify  the  16x16
              bitmap  with  sixteen  16-bit  hexadecimal  numbers,  the  8x8 bitmap with eight 8-bit hexadecimal
              numbers, the 4x4 bitmap with a single 16-bit hexadecimal number, and the grayscale number  with  a
              single  floating  point  number.   The  floating point number must contain a period to distinguish
              itself from the single hexadecimal number, and  it  must  lie  between  0.0  and  1.0,  where  0.0
              corresponds  to  a  solid pattern and 1.0 to a clear pattern.  On the printer, the bitmap patterns
              appear as bitmaps, the grayscale patterns appear as halftoned shades, and  the  ``none''  patterns
              never  obscure  underlying  graphics.  For example, ``pattern8:8421'' defines a diagonally hatched
              pattern.

       <b>PSBrush*</b> <b>FindNoneBrush()</b>
       <b>PSBrush*</b> <b>FindBrush(int,</b> <b>int)</b>
       <b>PSColor*</b> <b>FindColor(const</b> <b>char*,</b> <b>int</b> <b>=</b> <b>0,</b> <b>int</b> <b>=</b> <b>0,</b> <b>int</b> <b>=</b> <b>0)</b>
       <b>PSFont*</b> <b>FindFont(const</b> <b>char*,</b> <b>const</b> <b>char*,</b> <b>const</b> <b>char*)</b>
       <b>PSPattern*</b> <b>FindNonePattern()</b>
       <b>PSPattern*</b> <b>FindGrayLevel(float)</b>
       <b>PSPattern*</b> <b>FindPattern(int[],</b> <b>int)</b>
              Return a PostScript paint object with the corresponding attributes.  These operations return a new
              paint object if no object with the given  attributes  already  exists;  otherwise  the  operations
              return an existing instance with matching attributes.

       <b>void</b> <b>Skip(istream&amp;)</b>
       <b>void</b> <b>Mark(ostream&amp;)</b>
              Mark  injects a synchronization sequence defined by MARK (see <a href="../man3U/globals.3U.html">globals</a>(3U)) into the output stream.
              Skip searches for the same sequence in the given input stream and position the stream  immediately
              after that sequence.

</pre><h4><b>PROTECTED</b> <b>OPERATIONS</b></h4><pre>
       <b>void</b> <b>Register(EditorInfo*,</b> <b>const</b> <b>char*)</b>
       <b>void</b> <b>Register(Component*,</b> <b>const</b> <b>char*)</b>
       <b>void</b> <b>Register(Command*,</b> <b>const</b> <b>char*)</b>
       <b>void</b> <b>Register(Tool*,</b> <b>const</b> <b>char*)</b>
              Register  an  object under a particular name in the catalog's internal maps.  Objects are normally
              registered automatically when they are stored or retrieved.

       <b>int</b> <b>GetToken(istream&amp;,</b> <b>char*</b> <b>buf,</b> <b>int</b> <b>buf_size)</b>
              Search an input stream for a sequence of characters defined in the buffer <u>buf</u>  of  size  <u>buf_size</u>.
              GetToken returns the number of characters matched.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3U/Clipboard.3U.html">Clipboard</a>(3U),  <a href="../man3U/Command.3U.html">Command</a>(3U),  <a href="../man3U/Component.3U.html">Component</a>(3U),  <a href="../man3U/ControlInfo.3U.html">ControlInfo</a>(3U),  <a href="../man3U/Creator.3U.html">Creator</a>(3U), <a href="../man3U/EditorInfo.3U.html">EditorInfo</a>(3U), <a href="../man3U/Graphic.3U.html">Graphic</a>(3U),
       <a href="../man3I/PropertySheet.3I.html">PropertySheet</a>(3I), <a href="../man3U/StateVar.3U.html">StateVar</a>(3U),  <a href="../man3U/Tool.3U.html">Tool</a>(3U),  <a href="../man3U/TransferFunct.3U.html">TransferFunct</a>(3U),  <a href="../man3I/World.3I.html">World</a>(3I),  <a href="../man3U/globals.3U.html">globals</a>(3U),  istream(3C++),
       ostream(3C++)

Unidraw                                           11 June 1990                                       <u><a href="../man3U/Catalog.3U.html">Catalog</a></u>(3U)
</pre>
 </div>
</div></section>
</div>
</body>
</html>