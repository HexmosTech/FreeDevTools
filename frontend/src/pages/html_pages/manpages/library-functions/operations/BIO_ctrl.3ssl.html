<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIO_ctrl, BIO_callback_ctrl, BIO_ptr_ctrl, BIO_int_ctrl, BIO_reset, BIO_seek, BIO_tell, BIO_flush,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       BIO_ctrl, BIO_callback_ctrl, BIO_ptr_ctrl, BIO_int_ctrl, BIO_reset, BIO_seek, BIO_tell, BIO_flush,
       BIO_eof, BIO_set_close, BIO_get_close, BIO_pending, BIO_wpending, BIO_ctrl_pending, BIO_ctrl_wpending,
       BIO_get_info_callback, BIO_set_info_callback, BIO_info_cb, BIO_get_ktls_send, BIO_get_ktls_recv,
       BIO_set_conn_mode, BIO_get_conn_mode, BIO_set_tfo - BIO control operations

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/bio.h&gt;

        typedef int BIO_info_cb(BIO *b, int state, int res);

        long BIO_ctrl(BIO *bp, int cmd, long larg, void *parg);
        long BIO_callback_ctrl(BIO *b, int cmd, BIO_info_cb *cb);
        void *BIO_ptr_ctrl(BIO *bp, int cmd, long larg);
        long BIO_int_ctrl(BIO *bp, int cmd, long larg, int iarg);

        int BIO_reset(BIO *b);
        int BIO_seek(BIO *b, int ofs);
        int BIO_tell(BIO *b);
        int BIO_flush(BIO *b);
        int BIO_eof(BIO *b);
        int BIO_set_close(BIO *b, long flag);
        int BIO_get_close(BIO *b);
        int BIO_pending(BIO *b);
        int BIO_wpending(BIO *b);
        size_t BIO_ctrl_pending(BIO *b);
        size_t BIO_ctrl_wpending(BIO *b);

        int BIO_get_info_callback(BIO *b, BIO_info_cb **cbp);
        int BIO_set_info_callback(BIO *b, BIO_info_cb *cb);

        int BIO_get_ktls_send(BIO *b);
        int BIO_get_ktls_recv(BIO *b);

        int BIO_set_conn_mode(BIO *b, int mode);
        int BIO_get_conn_mode(BIO *b);

        int BIO_set_tfo(BIO *b, int onoff);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>BIO_ctrl()</b>, <b>BIO_callback_ctrl()</b>, <b>BIO_ptr_ctrl()</b> and <b>BIO_int_ctrl()</b> are BIO "control" operations taking
       arguments of various types.  These functions are not normally called directly, various macros are used
       instead. The standard macros are described below, macros specific to a particular type of BIO are
       described in the specific BIOs manual page as well as any special features of the standard calls.

       <b>BIO_reset()</b> typically resets a BIO to some initial state, in the case of file related BIOs for example it
       rewinds the file pointer to the start of the file.

       <b>BIO_seek()</b> resets a file related BIO's (that is file descriptor and FILE BIOs) file position pointer to
       <b>ofs</b> bytes from start of file.

       <b>BIO_tell()</b> returns the current file position of a file related BIO.

       <b>BIO_flush()</b> normally writes out any internally buffered data, in some cases it is used to signal EOF and
       that no more data will be written.

       <b>BIO_eof()</b> returns 1 if the BIO has read EOF, the precise meaning of "EOF" varies according to the BIO
       type.

       <b>BIO_set_close()</b> sets the BIO <b>b</b> close flag to <b>flag</b>. <b>flag</b> can take the value BIO_CLOSE or BIO_NOCLOSE.
       Typically BIO_CLOSE is used in a source/sink BIO to indicate that the underlying I/O stream should be
       closed when the BIO is freed.

       <b>BIO_get_close()</b> returns the BIOs close flag.

       <b>BIO_pending()</b>, <b>BIO_ctrl_pending()</b>, <b>BIO_wpending()</b> and <b>BIO_ctrl_wpending()</b> return the number of pending
       characters in the BIOs read and write buffers.  Not all BIOs support these calls. <b>BIO_ctrl_pending()</b> and
       <b>BIO_ctrl_wpending()</b> return a size_t type and are functions, <b>BIO_pending()</b> and <b>BIO_wpending()</b> are macros
       which call <b>BIO_ctrl()</b>.

       <b>BIO_get_ktls_send()</b> returns 1 if the BIO is using the Kernel TLS data-path for sending. Otherwise, it
       returns zero.  <b>BIO_get_ktls_recv()</b> returns 1 if the BIO is using the Kernel TLS data-path for receiving.
       Otherwise, it returns zero.

       <b>BIO_get_conn_mode()</b> returns the BIO connection mode. <b>BIO_set_conn_mode()</b> sets the BIO connection mode.

       <b>BIO_set_tfo()</b> disables TCP Fast Open when <b>onoff</b> is 0, and enables TCP Fast Open when <b>onoff</b> is nonzero.
       Setting the value to 1 is equivalent to setting <b>BIO_SOCK_TFO</b> in <b>BIO_set_conn_mode()</b>.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>BIO_reset()</b> normally returns 1 for success and &lt;=0 for failure. File BIOs are an exception, they return 0
       for success and -1 for failure.

       <b>BIO_seek()</b> and <b>BIO_tell()</b> both return the current file position on success and -1 for failure, except
       file BIOs which for <b>BIO_seek()</b> always return 0 for success and -1 for failure.

       <b>BIO_flush()</b> returns 1 for success and &lt;=0 for failure.

       <b>BIO_eof()</b> returns 1 if EOF has been reached, 0 if not, or negative values for failure.

       <b>BIO_set_close()</b> returns 1 on success or &lt;=0 for failure.

       <b>BIO_get_close()</b> returns the close flag value: BIO_CLOSE or BIO_NOCLOSE. It also returns other negative
       values if an error occurs.

       <b>BIO_pending()</b>, <b>BIO_ctrl_pending()</b>, <b>BIO_wpending()</b> and <b>BIO_ctrl_wpending()</b> return the amount of pending
       data. <b>BIO_pending()</b> and <b>BIO_wpending()</b> return negative value or 0 on error. <b>BIO_ctrl_pending()</b> and
       <b>BIO_ctrl_wpending()</b> return 0 on error.

       <b>BIO_get_ktls_send()</b> returns 1 if the BIO is using the Kernel TLS data-path for sending. Otherwise, it
       returns zero.  <b>BIO_get_ktls_recv()</b> returns 1 if the BIO is using the Kernel TLS data-path for receiving.
       Otherwise, it returns zero.

       <b>BIO_set_conn_mode()</b> returns 1 for success and 0 for failure. <b>BIO_get_conn_mode()</b> returns the current
       connection mode. Which may contain the bitwise-or of the following flags:

        BIO_SOCK_REUSEADDR
        BIO_SOCK_V6_ONLY
        BIO_SOCK_KEEPALIVE
        BIO_SOCK_NONBLOCK
        BIO_SOCK_NODELAY
        BIO_SOCK_TFO

       <b>BIO_set_tfo()</b> returns 1 for success, and 0 for failure.

</pre><h4><b>NOTES</b></h4><pre>
       <b>BIO_flush()</b>, because it can write data may return 0 or -1 indicating that the call should be retried
       later in a similar manner to <b>BIO_write_ex()</b>.  The <b>BIO_should_retry()</b> call should be used and appropriate
       action taken is the call fails.

       The return values of <b>BIO_pending()</b> and <b>BIO_wpending()</b> may not reliably determine the amount of pending
       data in all cases. For example in the case of a file BIO some data may be available in the FILE
       structures internal buffers but it is not possible to determine this in a portably way. For other types
       of BIO they may not be supported.

       Filter BIOs if they do not internally handle a particular <b>BIO_ctrl()</b> operation usually pass the operation
       to the next BIO in the chain.  This often means there is no need to locate the required BIO for a
       particular operation, it can be called on a chain and it will be automatically passed to the relevant
       BIO. However, this can cause unexpected results: for example no current filter BIOs implement <b>BIO_seek()</b>,
       but this may still succeed if the chain ends in a FILE or file descriptor BIO.

       Source/sink BIOs return an 0 if they do not recognize the <b>BIO_ctrl()</b> operation.

</pre><h4><b>BUGS</b></h4><pre>
       Some of the return values are ambiguous and care should be taken. In particular a return value of 0 can
       be returned if an operation is not supported, if an error occurred, if EOF has not been reached and in
       the case of <b>BIO_seek()</b> on a file BIO for a successful operation.

       In older versions of OpenSSL the <b>BIO_ctrl_pending()</b> and <b>BIO_ctrl_wpending()</b> could return values greater
       than INT_MAX on error.

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>BIO_get_ktls_send()</b> and <b>BIO_get_ktls_recv()</b> macros were added in OpenSSL 3.0. They were modified to
       never return -1 in OpenSSL 3.0.4.

       The <b>BIO_get_conn_mode()</b>, <b>BIO_set_conn_mode()</b> and <b>BIO_set_tfo()</b> functions were added in OpenSSL 3.2.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2000-2022 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                                     <u><a href="../man3SSL/BIO_CTRL.3SSL.html">BIO_CTRL</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>