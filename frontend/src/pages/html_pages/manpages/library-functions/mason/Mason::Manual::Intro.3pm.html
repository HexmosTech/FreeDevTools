<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mason::Manual::Intro - Getting started with Mason</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmason-perl">libmason-perl_2.24-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mason::Manual::Intro - Getting started with Mason

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A few quick examples to get your feet wet with Mason.  See Mason::Manual::Setup for how to use Mason to
       generate web sites.

</pre><h4><b>EXAMPLE</b> <b>1</b></h4><pre>
   <b>Hello</b> <b>world</b> <b>(from</b> <b>command-line)</b>
       After installing Mason, you should have a "mason" command in your installation path (e.g.
       "<a href="file:/usr/local/bin">/usr/local/bin</a>"). Try this:

           % mason
           Hello! The local time is &lt;% scalar(localtime) %&gt;.
           ^D

       (where '^D' means ctrl-D or EOF). You should see something like

           Hello! The local time is Wed Mar  2 17:11:54 2011.

       The "mason" command reads in a Mason <u>component</u> (template), runs it, and prints the result to standard
       output. Notice that the tag

           &lt;% scalar(localtime) %&gt;

       was replaced with the value of its expression. This is called a <u>substitution</u> <u>tag</u> and is a central piece
       of Mason syntax.

</pre><h4><b>EXAMPLE</b> <b>2</b></h4><pre>
   <b>Email</b> <b>generator</b> <b>(from</b> <b>script)</b>
       The command line is good for trying quick things, but eventually you're going to want to put your Mason
       components in files.

       In a test directory, create a directory "comps" and create a file "email.mc" with the following:

           &lt;%class&gt;
           has 'amount';
           has 'name';
           &lt;/%class&gt;

           Dear &lt;% $.name %&gt;,

               We are pleased to inform you that you have won $&lt;% sprintf("%.2f", $.amount) %&gt;!

           Sincerely,
           The Lottery Commission

           &lt;%init&gt;
           die "amount must be a positive value!" unless $.amount &gt; 0;
           &lt;/%init&gt;

       In addition to the substitution tag we've seen before, we declare two <u>attributes</u>, "amount" and "name", to
       be passed into the component; and we declare a piece of initialization code to validate the amount.

       In the same test directory, create a script "test.pl" with the following:

            1  #!/usr/local/bin/perl
            2  use Mason;
            3  my $interp = Mason-&gt;new(comp_root =&gt; 'comps', data_dir =&gt; 'data');
            4  print $interp-&gt;run('/email', name =&gt; 'Joe', amount =&gt; '1500')-&gt;output;

       Line 3 creates a <u>Mason</u> <u>interpreter</u>, the main Mason object. It specifies two parameters: a <u>component</u> <u>root</u>,
       indicating the directory hierarchy where your components will live; and a <u>data</u> <u>directory</u>, which Mason
       will use for internal purposes such as class generation and caching.

       Line 4 runs the template - notice that the ".mc" extension is added automatically - passing values for
       the "name" and "amount" attributes.

       Run "test.pl", and you should see

           Dear Joe,

               We are pleased to inform you that you have won $1500.00!

           Sincerely,
           The Lottery Commission

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mason::Manual::Tutorial, Mason::Manual

</pre><h4><b>AUTHOR</b></h4><pre>
       Jonathan Swartz &lt;<a href="mailto:swartz@pobox.com">swartz@pobox.com</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2012 by Jonathan Swartz.

       This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.34.0                                       2022-05-27                          <u>Mason::Manual::<a href="../man3pm/Intro.3pm.html">Intro</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>