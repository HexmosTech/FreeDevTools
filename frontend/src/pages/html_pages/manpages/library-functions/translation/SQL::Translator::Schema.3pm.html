<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL::Translator::Schema - SQL::Translator schema object</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsql-translator-perl">libsql-translator-perl_1.66-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SQL::Translator::Schema - SQL::Translator schema object

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use SQL::Translator::Schema;
         my $schema   =  SQL::Translator::Schema-&gt;new(
             name     =&gt; 'Foo',
             database =&gt; 'MySQL',
         );
         my $table    = $schema-&gt;add_table( name =&gt; 'foo' );
         my $view     = $schema-&gt;add_view( name =&gt; 'bar', sql =&gt; '...' );

</pre><h4><b>DESCSIPTION</b></h4><pre>
       "SQL::Translator::Schema" is the object that accepts, validates, and returns the database structure.

</pre><h4><b>METHODS</b></h4><pre>
   <b>as_graph_pm</b>
       Returns a Graph::Directed object with the table names for nodes.

   <b>add_table</b>
       Add a table object.  Returns the new SQL::Translator::Schema::Table object.  The "name" parameter is
       required.  If you try to create a table with the same name as an existing table, you will get an error
       and the table will not be created.

         my $t1 = $schema-&gt;add_table( name =&gt; 'foo' ) or die $schema-&gt;error;
         my $t2 = SQL::Translator::Schema::Table-&gt;new( name =&gt; 'bar' );
         $t2    = $schema-&gt;add_table( $table_bar ) or die $schema-&gt;error;

   <b>drop_table</b>
       Remove a table from the schema. Returns the table object if the table was found and removed, an error
       otherwise. The single parameter can be either a table name or an SQL::Translator::Schema::Table object.
       The "cascade" parameter can be set to 1 to also drop all triggers on the table, default is 0.

         $schema-&gt;drop_table('mytable');
         $schema-&gt;drop_table('mytable', cascade =&gt; 1);

   <b>add_procedure</b>
       Add a procedure object.  Returns the new SQL::Translator::Schema::Procedure object.  The "name" parameter
       is required.  If you try to create a procedure with the same name as an existing procedure, you will get
       an error and the procedure will not be created.

         my $p1 = $schema-&gt;add_procedure( name =&gt; 'foo' );
         my $p2 = SQL::Translator::Schema::Procedure-&gt;new( name =&gt; 'bar' );
         $p2    = $schema-&gt;add_procedure( $procedure_bar ) or die $schema-&gt;error;

   <b>drop_procedure</b>
       Remove a procedure from the schema. Returns the procedure object if the procedure was found and removed,
       an error otherwise. The single parameter can be either a procedure name or an
       SQL::Translator::Schema::Procedure object.

         $schema-&gt;drop_procedure('myprocedure');

   <b>add_trigger</b>
       Add a trigger object.  Returns the new SQL::Translator::Schema::Trigger object.  The "name" parameter is
       required.  If you try to create a trigger with the same name as an existing trigger, you will get an
       error and the trigger will not be created.

         my $t1 = $schema-&gt;add_trigger( name =&gt; 'foo' );
         my $t2 = SQL::Translator::Schema::Trigger-&gt;new( name =&gt; 'bar' );
         $t2    = $schema-&gt;add_trigger( $trigger_bar ) or die $schema-&gt;error;

   <b>drop_trigger</b>
       Remove a trigger from the schema. Returns the trigger object if the trigger was found and removed, an
       error otherwise. The single parameter can be either a trigger name or an SQL::Translator::Schema::Trigger
       object.

         $schema-&gt;drop_trigger('mytrigger');

   <b>add_view</b>
       Add a view object.  Returns the new SQL::Translator::Schema::View object.  The "name" parameter is
       required.  If you try to create a view with the same name as an existing view, you will get an error and
       the view will not be created.

         my $v1 = $schema-&gt;add_view( name =&gt; 'foo' );
         my $v2 = SQL::Translator::Schema::View-&gt;new( name =&gt; 'bar' );
         $v2    = $schema-&gt;add_view( $view_bar ) or die $schema-&gt;error;

   <b>drop_view</b>
       Remove a view from the schema. Returns the view object if the view was found and removed, an error
       otherwise. The single parameter can be either a view name or an SQL::Translator::Schema::View object.

         $schema-&gt;drop_view('myview');

   <b>database</b>
       Get or set the schema's database.  (optional)

         my $database = $schema-&gt;database('PostgreSQL');

   <b>is_valid</b>
       Returns true if all the tables and views are valid.

         my $ok = $schema-&gt;is_valid or die $schema-&gt;error;

   <b>get_procedure</b>
       Returns a procedure by the name provided.

         my $procedure = $schema-&gt;get_procedure('foo');

   <b>get_procedures</b>
       Returns all the procedures as an array or array reference.

         my @procedures = $schema-&gt;get_procedures;

   <b>get_table</b>
       Returns a table by the name provided.

         my $table = $schema-&gt;get_table('foo');

   <b>get_tables</b>
       Returns all the tables as an array or array reference.

         my @tables = $schema-&gt;get_tables;

   <b>get_trigger</b>
       Returns a trigger by the name provided.

         my $trigger = $schema-&gt;get_trigger('foo');

   <b>get_triggers</b>
       Returns all the triggers as an array or array reference.

         my @triggers = $schema-&gt;get_triggers;

   <b>get_view</b>
       Returns a view by the name provided.

         my $view = $schema-&gt;get_view('foo');

   <b>get_views</b>
       Returns all the views as an array or array reference.

         my @views = $schema-&gt;get_views;

   <b>make_natural_joins</b>
       Creates foreign key relationships among like-named fields in different tables.  Accepts the following
       arguments:

       •   join_pk_only

           A  True  or  False argument which determines whether or not to perform the joins from primary keys to
           fields of the same name in other tables

       •   skip_fields

           A list of fields to skip in the joins

         $schema-&gt;make_natural_joins(
             join_pk_only =&gt; 1,
             skip_fields  =&gt; 'name,department_id',
         );

   <b>name</b>
       Get or set the schema's name.  (optional)

         my $schema_name = $schema-&gt;name('Foo Database');

   <b>translator</b>
       Get the SQL::Translator instance that instantiated the parser.

</pre><h4><b>AUTHOR</b></h4><pre>
       Ken Youens-Clark &lt;<a href="mailto:kclark@cpan.org">kclark@cpan.org</a>&gt;.

perl v5.40.0                                       2024-11-23                       <u>SQL::Translator::<a href="../man3pm/Schema.3pm.html">Schema</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>