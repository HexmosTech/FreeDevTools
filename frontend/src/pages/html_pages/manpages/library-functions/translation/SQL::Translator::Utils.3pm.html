<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL::Translator::Utils - SQL::Translator Utility functions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsql-translator-perl">libsql-translator-perl_1.66-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SQL::Translator::Utils - SQL::Translator Utility functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use SQL::Translator::Utils qw(debug);
         debug("PKG: Bad things happened");

</pre><h4><b>DESCSIPTION</b></h4><pre>
       "SQL::Translator::Utils" contains utility functions designed to be used from the other modules within the
       "SQL::Translator" modules.

       Nothing is exported by default.

</pre><h4><b>EXPORTED</b> <b>FUNCTIONS</b> <b>AND</b> <b>CONSTANTS</b></h4><pre>
   <b>debug</b>
       "debug" takes 0 or more messages, which will be sent to STDERR using "warn".  Occurances of the strings
       <u>PKG</u>, <u>SUB</u>, and <u>LINE</u> will be replaced by the calling package, subroutine, and line number, respectively, as
       reported by <a href="../man1/caller.1.html">caller</a>(1).

       For example, from within "foo" in <u>SQL/Translator.pm</u>, at line 666:

         debug("PKG: Error reading file at SUB/LINE");

       Will warn

         [SQL::Translator: Error reading file at foo/666]

       The entire message is enclosed within "[" and "]" for visual clarity when STDERR is intermixed with
       STDOUT.

   <b>normalize_name</b>
       "normalize_name" takes a string and ensures that it is suitable for use as an identifier.  This means:
       ensure that it starts with a letter or underscore, and that the rest of the string consists of only
       letters, numbers, and underscores.  A string that begins with something other than [a-zA-Z] will be
       prefixer with an underscore, and all other characters in the string will be replaced with underscores.
       Finally, a trailing underscore will be removed, because that's ugly.

         normalize_name("Hello, world");

       Produces:

         Hello_world

       A more useful example, from the "SQL::Translator::Parser::Excel" test suite:

         normalize_name("silly field (with random characters)");

       returns:

         silly_field_with_random_characters

   <b>header_comment</b>
       Create the header comment.  Takes 1 mandatory argument (the producer classname), an optional comment
       character (defaults to $DEFAULT_COMMENT), and 0 or more additional comments, which will be appended to
       the header, prefixed with the comment character.  If additional comments are provided, then a comment
       string must be provided ($DEFAULT_COMMENT is exported for this use).  For example, this:

         package My::Producer;

         use SQL::Translator::Utils qw(header_comment $DEFAULT_COMMENT);

         print header_comment(__PACKAGE__,
                              $DEFAULT_COMMENT,
                              "Hi mom!");

       produces:

         --
         -- Created by My::Prodcuer
         -- Created on Fri Apr 25 06:56:02 2003
         --
         -- Hi mom!
         --

       Note the gratuitous spacing.

   <b>parse_list_arg</b>
       Takes a string, list or arrayref (all of which could contain comma-separated values) and returns an array
       reference of the values.  All of the following will return equivalent values:

         parse_list_arg('id');
         parse_list_arg('id', 'name');
         parse_list_arg( 'id, name' );
         parse_list_arg( [ 'id', 'name' ] );
         parse_list_arg( qw[ id name ] );

   <b>truncate_id_uniquely</b>
       Takes a string ($desired_name) and int ($max_symbol_length). Truncates $desired_name to
       $max_symbol_length by including part of the hash of the full name at the end of the truncated name,
       giving a high probability that the symbol will be unique. For example,

         truncate_id_uniquely( 'a' x 100, 64 )
         truncate_id_uniquely( 'a' x 99 . 'b', 64 );
         truncate_id_uniquely( 'a' x 99,  64 )

       Will give three different results; specifically:

         aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa_7f900025
         aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa_6191e39a
         aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa_8cd96af2

   <b>$DEFAULT_COMMENT</b>
       This is the default comment string, '--' by default.  Useful for "header_comment".

   <b>parse_mysql_version</b>
       Used by both Parser::MySQL and Producer::MySQL in order to provide a consistent format for both
       "parser_args-&gt;{mysql_parser_version}" and "producer_args-&gt;{mysql_version}" respectively. Takes any of the
       following version specifications:

         5.0.3
         4.1
         3.23.2
         5
         5.001005  (perl style)
         30201     (mysql style)

   <b>parse_dbms_version</b>
       Takes a version string (X.Y.Z) or perl style (XX.YYYZZZ) and a target ('perl' or 'native') transforms the
       string to the given target style.  to

   <b>throw</b>
       Throws the provided string as an object that will stringify back to the original string.  This stops it
       from being mangled by Moo's "isa" code.

   <b>ex2err</b>
       Wraps an attribute accessor to catch any exception raised using "throw" and store them in
       "$self-&gt;error()", finally returning undef.  A reference to this function can be passed directly to
       "around" in Moo.

           around foo =&gt; \&amp;ex2err;

           around bar =&gt; sub {
               my ($orig, $self) = (shift, shift);
               return ex2err($orig, $self, @_) if @_;
               ...
           };

   <b>carp_ro</b>
       Takes a field name and returns a reference to a function can be used around a read-only accessor to make
       it carp instead of die when passed an argument.

   <b>batch_alter_table_statements</b>
       Takes diff and argument hashes as passed to batch_alter_table and an optional list of producer functions
       to call on the calling package.  Returns the list of statements returned by the producer functions.

       If no producer functions are specified, the following functions in the calling package are called:

       1. rename_table
       2. alter_drop_constraint
       3. alter_drop_index
       4. drop_field
       5. add_field
       5. alter_field
       6. rename_field
       7. alter_create_index
       8. alter_create_constraint
       9. alter_table

       If  the corresponding array in the hash has any elements, but the caller doesn't implement that function,
       an exception is thrown.

</pre><h4><b>AUTHORS</b></h4><pre>
       Darren Chamberlain &lt;<a href="mailto:darren@cpan.org">darren@cpan.org</a>&gt;, Ken Y. Clark &lt;<a href="mailto:kclark@cpan.org">kclark@cpan.org</a>&gt;.

perl v5.40.0                                       2024-11-23                        <u>SQL::Translator::<a href="../man3pm/Utils.3pm.html">Utils</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>