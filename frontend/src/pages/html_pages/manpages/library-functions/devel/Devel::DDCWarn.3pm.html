<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Devel::DDCWarn - Easy printf-style debugging with Data::Dumper::Compact</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdata-dumper-compact-perl">libdata-dumper-compact-perl_0.006000-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Devel::DDCWarn - Easy printf-style debugging with Data::Dumper::Compact

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Devel::DDCWarn;

         my $x = Dwarn some_sub_call(); # warns and returns value
         my @y = Derr other_sub_call(); # prints to STDERR and returns value

         my $x = DwarnT X =&gt; some_sub_call(); # warns with tag 'X' and returns value
         my @y = DerrT X =&gt; other_sub_call(); # similar

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Devel::DDCWarn is a Devel::Dwarn equivalent for Data::Dumper::Compact.

       The idea, basically, is that it's incredibly annoying to start off with code like this:

         return some_sub_call();

       and then realise you need the value, so you have to write:

         my @ret = some_sub_call();
         warn Dumper [ THE_THING =&gt; @ret ];
         return @ret;

       With Devel::DDCWarn, one can instead write:

         return DwarnT THE_THING =&gt; some_sub_call();

       and expect it to Just Work.

       To integrate with your logging, you can do:

         our $L = sub { $log-&gt;debug("DDC debugging: ".$_[0] };
         ...
         return DtoT $L, THE_THING =&gt; some_sub_call();

       When applying printf debugging style approaches, it's also very useful to be able to do:

         perl -MDevel::DDCwarn ...

       and then within the code being debugged, abusing the fact that a prefix of :: is short for main:: so we
       can add:

         return ::DwarnT THE_THING =&gt; some_sub_call();

       and if we forget to remove them, the lack of command-line Devel::DDCWarn exported into main:: will
       produce a compile time failure. This is exceedingly useful for noticing you forgot to remove a debug
       statement <u>before</u> you commit it along with the test and fix.

</pre><h4><b>EXPORTS</b></h4><pre>
       All of these subroutines are exported by default.

       Data::Dumper::Compact is referred to herein as DDC.

   <b>Dwarn</b>
         my $x = Dwarn make_x();
         my @y = Dwarn make_y_array();

       "warn()"s the "Df" DDC dump of its input, then returns the first element in scalar context or all
       arguments in list context.

   <b>Derr</b>
         my $x = Derr make_x();
         my @y = Derr make_y_array();

       prints the "Df" DDC dump of its input to STDERR, then returns the first element in scalar context or all
       arguments in list context.

   <b>DwarnT</b>
         my $x = Dwarn TAG =&gt; make_x();
         my @y = Dwarn TAG =&gt; make_y_array();

       Like "Dwarn", but passes its first argument, the tag, through to "DfT" but skips it for the return value.

   <b>DerrT</b>
         my $x = Derr TAG =&gt; make_x();
         my @y = Derr TAG =&gt; make_y_array();

       Like "Derr", but accepts a tag argument that is included in the output but is skipped for the return
       value.

   <b>Dto</b>
         Dto(sub { warn $_[0] }, @args);

       Like "Dwarn", but instead of warning, calls the subroutine passed as the first argument - this function
       is low level but still returns the @args.

   <b>DtoT</b>
         DtoT(sub { err $_[0] }, $tag, @args);

       The tagged version of Dto.

   <b>Df</b>
         my $x = Df($thing);
         my $y = Df(@other_things);

       A single value is returned formatted by DDC. Multiple values are transformed to a DDC list.

   <b>DfT</b>
         my $x = Df($tag =&gt; $thing);
         my $y = Df($tag =&gt; @other_things);

       A tag plus a single value is formatted as a two element list. A tag plus multiple values is formatted as
       a list containing the tag and a list of the values.

       If the tag is an arrayref, is assumed to be:

         my $x = Df([ $tag, $tweak ] =&gt; @things);

       and what's dumped is "&lt;$tweak-"(@things)&gt;&gt; instead of @things. This means that e.g. one can write:

         return Dwarn([ foo =&gt; sub { +{ @_ } } ], %things);

       to output the things as a hashref while still returning a flattened hash.

</pre><h4><b>CONFIGURATION</b></h4><pre>
         use Devel::DDCWarn \%options, ...;

         perl -MDevel::DDCWarn=-optname,value,-other,value ...;

         $Devel::DDCWarn::ddc = Data::Dumper::Compact-&gt;new(\%options);

       Options passed as a hashref on a "use" line or using - prefixing on the command line are used to
       initialise the Data::Dumper::Compact object.

       Note that this primarily being a debugging and/or scripting oriented tool, if something initialises us
       again later, this will reset the (single) global $ddc used by this code and change all output through the
       process.

       However, if you need a localised change of formatting style, $ddc is a full fledged global so you are
       absolutely allowed to "local" it:

         my $ddc = Data::Dumper::Compact-&gt;new(\%my_local_options);
         local $Devel::DDCWarn::ddc = $ddc;

       If you have a convincing reason for using this functionality in a way where the globality is a bug rather
       than a feature, please start a conversation with the authors so we can figure out what to do about it.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2019 the "AUTHOR" in Data::Dumper::Compact and "CONTRIBUTORS" in Data::Dumper::Compact as
       listed in Data::Dumper::Compact.

</pre><h4><b>LICENSE</b></h4><pre>
       This library is free software and may be distributed under the same terms as perl itself. See
       &lt;https://dev.perl.org/licenses/&gt;.

perl v5.36.0                                       2022-10-04                                <u>Devel::<a href="../man3pm/DDCWarn.3pm.html">DDCWarn</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>