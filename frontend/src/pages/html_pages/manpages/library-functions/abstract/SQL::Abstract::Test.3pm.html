<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL::Abstract::Test - Helper function for testing SQL::Abstract</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsql-abstract-perl">libsql-abstract-perl_2.000001-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SQL::Abstract::Test - Helper function for testing SQL::Abstract

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use SQL::Abstract;
         use Test::More;
         use SQL::Abstract::Test import =&gt; [qw/
           is_same_sql_bind is_same_sql is_same_bind
           eq_sql_bind eq_sql eq_bind
         /];

         my ($sql, @bind) = SQL::Abstract-&gt;new-&gt;select(%args);

         is_same_sql_bind($given_sql,    \@given_bind,
                          $expected_sql, \@expected_bind, $test_msg);

         is_same_sql($given_sql, $expected_sql, $test_msg);
         is_same_bind(\@given_bind, \@expected_bind, $test_msg);

         my $is_same = eq_sql_bind($given_sql,    \@given_bind,
                                   $expected_sql, \@expected_bind);

         my $sql_same = eq_sql($given_sql, $expected_sql);
         my $bind_same = eq_bind(\@given_bind, \@expected_bind);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module is only intended for authors of tests on SQL::Abstract and related modules; it exports
       functions for comparing two SQL statements and their bound values.

       The SQL comparison is performed on <u>abstract</u> <u>syntax</u>, ignoring differences in spaces or in levels of
       parentheses.  Therefore the tests will pass as long as the semantics is preserved, even if the surface
       syntax has changed.

       <b>Disclaimer</b> : the semantic equivalence handling is pretty limited.  A lot of effort goes into
       distinguishing significant from non-significant parenthesis, including AND/OR operator associativity.
       Currently this module does not support commutativity and more intelligent transformations like De
       Morgan's laws
        &lt;<a href="http://en.wikipedia.org/wiki/De_Morgan">http://en.wikipedia.org/wiki/De_Morgan</a>'s_laws&gt;, etc.

       For a good overview of what this test framework is currently capable of refer to "t/10test.t"

</pre><h4><b>FUNCTIONS</b></h4><pre>
   <b>is_same_sql_bind</b>
         is_same_sql_bind(
           $given_sql, \@given_bind,
           $expected_sql, \@expected_bind,
           $test_msg
         );

         is_same_sql_bind(
           \[$given_sql, @given_bind],
           \[$expected_sql, @expected_bind],
           $test_msg
         );

         is_same_sql_bind(
           $dbic_rs-&gt;as_query
           $expected_sql, \@expected_bind,
           $test_msg
         );

       Compares given and expected pairs of "($sql, \@bind)" by unpacking @_ as shown in the examples above and
       passing the arguments to "eq_sql" and "eq_bind". Calls "ok" in Test::Builder with the combined result,
       with $test_msg as message.  If the test fails, a detailed diagnostic is printed.

   <b>is_same_sql</b>
         is_same_sql(
           $given_sql,
           $expected_sql,
           $test_msg
         );

       Compares given and expected SQL statements via "eq_sql", and calls "ok" in Test::Builder on the result,
       with $test_msg as message.  If the test fails, a detailed diagnostic is printed.

   <b>is_same_bind</b>
         is_same_bind(
           \@given_bind,
           \@expected_bind,
           $test_msg
         );

       Compares given and expected bind values via "eq_bind", and calls "ok" in Test::Builder on the result,
       with $test_msg as message.  If the test fails, a detailed diagnostic is printed.

   <b>eq_sql_bind</b>
         my $is_same = eq_sql_bind(
           $given_sql, \@given_bind,
           $expected_sql, \@expected_bind,
         );

         my $is_same = eq_sql_bind(
           \[$given_sql, @given_bind],
           \[$expected_sql, @expected_bind],
         );

         my $is_same = eq_sql_bind(
           $dbic_rs-&gt;as_query
           $expected_sql, \@expected_bind,
         );

       Unpacks @_ depending on the given arguments and calls "eq_sql" and "eq_bind", returning their combined
       result.

   <b>eq_sql</b>
         my $is_same = eq_sql($given_sql, $expected_sql);

       Compares the abstract syntax of two SQL statements. Similar to "is_same_sql", but it just returns a
       boolean value and does not print diagnostics or talk to Test::Builder. If the result is false, the global
       variable "$sql_differ" will contain the SQL portion where a difference was encountered; this is useful
       for printing diagnostics.

   <b>eq_bind</b>
         my $is_same = eq_sql(\@given_bind, \@expected_bind);

       Compares two lists of bind values, taking into account the fact that some of the values may be arrayrefs
       (see "bindtype" in SQL::Abstract). Similar to "is_same_bind", but it just returns a boolean value and
       does not print diagnostics or talk to Test::Builder.

</pre><h4><b>GLOBAL</b> <b>VARIABLES</b></h4><pre>
   <b>$case_sensitive</b>
       If true, SQL comparisons will be case-sensitive. Default is false;

   <b>$parenthesis_significant</b>
       If true, SQL comparison will preserve and report difference in nested parenthesis. Useful while testing
       "IN (( x ))" vs "IN ( x )".  Defaults to false;

   <b>$order_by_asc_significant</b>
       If true SQL comparison will consider "ORDER BY foo ASC" and "ORDER BY foo" to be different. Default is
       false;

   <b>$sql_differ</b>
       When "eq_sql" returns false, the global variable $sql_differ contains the SQL portion where a difference
       was encountered.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       SQL::Abstract, Test::More, Test::Builder.

</pre><h4><b>AUTHORS</b></h4><pre>
       Laurent Dami &lt;laurent.dami AT etat  geneve  ch&gt;

       Norbert Buchmuller &lt;<a href="mailto:norbi@nix.hu">norbi@nix.hu</a>&gt;

       Peter Rabbitson &lt;<a href="mailto:ribasushi@cpan.org">ribasushi@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright 2008 by Laurent Dami.

       This library is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.32.1                                       2021-09-30                           <u>SQL::Abstract::<a href="../man3pm/Test.3pm.html">Test</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>