<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bio::Index::Abstract - Abstract interface for indexing a flat file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbio-perl-perl">libbio-perl-perl_1.7.8-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Bio::Index::Abstract - Abstract interface for indexing a flat file

</pre><h4><b>SYNOPSIS</b></h4><pre>
       You should not be using this module directly

</pre><h4><b>USING</b> <b>DB_FILE</b></h4><pre>
       To use DB_File and not SDBM for this index, pass the value:

           -dbm_package =&gt; 'DB_File'

       to new (see below).

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This object provides the basic mechanism to associate positions in files with names. The position and
       filenames are stored in DBM which can then be accessed later on. It is the equivalent of flat file
       indexing (eg, SRS or efetch).

       This object is the guts to the mechanism, which will be used by the specific objects inheriting from it.

</pre><h4><b>FEEDBACK</b></h4><pre>
   <b>Mailing</b> <b>Lists</b>
       User feedback is an integral part of the evolution of this and other Bioperl modules. Send your comments
       and suggestions preferably to one of the Bioperl mailing lists.  Your participation is much appreciated.

         <a href="mailto:bioperl-l@bioperl.org">bioperl-l@bioperl.org</a>                  - General discussion
         <a href="http://bioperl.org/wiki/Mailing_lists">http://bioperl.org/wiki/Mailing_lists</a>  - About the mailing lists

   <b>Support</b>
       Please direct usage questions or support issues to the mailing list:

       <u><a href="mailto:bioperl-l@bioperl.org">bioperl-l@bioperl.org</a></u>

       rather than to the module maintainer directly. Many experienced and reponsive experts will be able look
       at the problem and quickly address it. Please include a thorough description of the problem with code and
       data examples if at all possible.

   <b>Reporting</b> <b>Bugs</b>
       Report bugs to the Bioperl bug tracking system to help us keep track the bugs and their resolution.  Bug
       reports can be submitted via the web:

         https://github.com/bioperl/bioperl-live/issues

</pre><h4><b>AUTHOR</b> <b>-</b> <b>Ewan</b> <b>Birney,</b> <b>James</b> <b>Gilbert</b></h4><pre>
       Email - <a href="mailto:birney@sanger.ac.uk">birney@sanger.ac.uk</a>, <a href="mailto:jgrg@sanger.ac.uk">jgrg@sanger.ac.uk</a>

</pre><h4><b>APPENDIX</b></h4><pre>
       The rest of the documentation details each of the object methods. Internal methods are usually preceded
       with an "_" (underscore).

   <b>new</b>
         Usage   : $index = Bio::Index::Abstract-&gt;new(
                       -filename    =&gt; $dbm_file,
                       -write_flag  =&gt; 0,
                       -dbm_package =&gt; 'DB_File',
                       -verbose     =&gt; 0);
         Function: Returns a new index object.  If filename is
                   specified, then open_dbm() is immediately called.
                   Bio::Index::Abstract-&gt;new() will usually be called
                   directly only when opening an existing index.
         Returns : A new index object
         Args    : -filename    The name of the dbm index file.
                   -write_flag  TRUE if write access to the dbm file is
                                needed.
                   -dbm_package The Perl dbm module to use for the
                                index.
                   -verbose     Print debugging output to STDERR if
                                TRUE.

   <b>filename</b>
        Title   : filename
        Usage   : $value = $self-&gt;filename();
                  $self-&gt;filename($value);
        Function: Gets or sets the name of the dbm index file.
        Returns : The current value of filename
        Args    : Value of filename if setting, or none if
                  getting the value.

   <b>write_flag</b>
        Title   : write_flag
        Usage   : $value = $self-&gt;write_flag();
                  $self-&gt;write_flag($value);
        Function: Gets or sets the value of write_flag, which
                  is whether the dbm file should be opened with
                  write access.
        Returns : The current value of write_flag (default 0)
        Args    : Value of write_flag if setting, or none if
                  getting the value.

   <b>dbm_package</b>
        Usage   : $value = $self-&gt;dbm_package();
                  $self-&gt;dbm_package($value);

        Function: Gets or sets the name of the Perl dbm module used.
                  If the value is unset, then it returns the value of
                  the package variable $USE_DBM_TYPE or if that is
                  unset, then it chooses the best available dbm type,
                  choosing 'DB_File' in preference to 'SDBM_File'.
                  Bio::Abstract::Index may work with other dbm file
                  types.

        Returns : The current value of dbm_package
        Args    : Value of dbm_package if setting, or none if
                  getting the value.

   <b>db</b>
         Title   : db
         Usage   : $index-&gt;db
         Function: Returns a ref to the hash which is tied to the dbm
                   file.  Used internally when adding and retrieving
                   data from the database.
         Example : $db = $index-&gt;db();
                   $db-&gt;{ $some_key } = $data
                   $data = $index-&gt;db-&gt;{ $some_key };
         Returns : ref to HASH
         Args    : NONE

   <b>get_stream</b>
        Title   : get_stream
        Usage   : $stream = $index-&gt;get_stream( $id );
        Function: Returns a file handle with the file pointer
                  at the approprite place

                  This provides for a way to get the actual
                  file contents and not an object

                  WARNING: you must parse the record deliminter
                  *yourself*. Abstract won't do this for you
                  So this code

                  $fh = $index-&gt;get_stream($myid);
                  while( &lt;$fh&gt; ) {
                     # do something
                  }
                  will parse the entire file if you don't put in
                  a last statement in, like

                  while( &lt;$fh&gt; ) {
                     /^\/\// &amp;&amp; last; # end of record
                     # do something
                  }

        Returns : A filehandle object
        Args    : string represents the accession number
        Notes   : This method should not be used without forethought

   <b>cachesize</b>
         Usage   : $index-&gt;<a href="../man1000000/cachesize.1000000.html">cachesize</a>(1000000)
         Function: Sets the dbm file cache size for the index.
                   Needs to be set before the DBM file gets opened.
         Example : $index-&gt;<a href="../man1000000/cachesize.1000000.html">cachesize</a>(1000000)
         Returns : size of the curent cache

   <b>ffactor</b>
         Usage   : $index-&gt;<a href="../man1000000/ffactor.1000000.html">ffactor</a>(1000000)
         Function: Sets the dbm file fill factor.
                               Needs to be set before the DBM file gets opened.

         Example : $index-&gt;<a href="../man1000000/ffactor.1000000.html">ffactor</a>(1000000)
         Returns : size of the curent cache

   <b>open_dbm</b>
         Usage   : $index-&gt;open_dbm()
         Function: Opens the dbm file associated with the index
                   object.  Write access is only given if explicitly
                   asked for by calling new(-write =&gt; 1) or having set
                   the <a href="../man1/write_flag.1.html">write_flag</a>(1) on the index object.  The type of
                   dbm file opened is that returned by dbm_package().
                   The name of the file to be is opened is obtained by
                   calling the filename() method.

         Example : $index-&gt;_open_dbm()
         Returns : 1 on success

   <b>_version</b>
         Title   : _version
         Usage   : $type = $index-&gt;_version()
         Function: Returns a string which identifes the version of an
                   index module.  Used to permanently identify an index
                   file as having been created by a particular version
                   of the index module.  Must be provided by the sub class
         Example :
         Returns :
         Args    : none

   <b>_code_base</b>
        Title   : _code_base
        Usage   : $code = $db-&gt;_code_base();
        Function:
        Example :
        Returns : Code package to be used with this
        Args    :

   <b>_type_and_version</b>
         Title   : _type_and_version
         Usage   : Called by _initalize
         Function: Checks that the index opened is made by the same index
                   module and version of that module that made it.  If the
                   index is empty, then it adds the information to the
                   database.
         Example :
         Returns : 1 or exception
         Args    : none

   <b>_check_file_sizes</b>
         Title   : _check_file_sizes
         Usage   : $index-&gt;_check_file_sizes()
         Function: Verifies that the files listed in the database
                   are the same size as when the database was built,
                   or throws an exception.  Called by the new()
                   function.
         Example :
         Returns : 1 or exception
         Args    :

   <b>make_index</b>
         Title   : make_index
         Usage   : $index-&gt;make_index( FILE_LIST )
         Function: Takes a list of file names, checks that they are
                   all fully qualified, and then calls _filename() on
                   each.  It supplies _filename() with the name of the
                   file, and an integer which is stored with each record
                   created by _filename().  Can be called multiple times,
                   and can be used to add to an existing index file.
         Example : $index-&gt;make_index( '/home/seqs1', '/home/seqs2', '/nfs/pub/big_db' );
         Returns : Number of files indexed
         Args    : LIST OF FILES

   <b>pathtype</b>
         Title   : pathtype
         Usage   : $index-&gt;pathtype($pathtype)
         Function: Set the type of the file path
                   Only two values are supported, 'relative' or 'absolute'.
                   If the user does not give any value, it is set to
                   absolute by default. Thus it mimics the default
                   behavior of Bio::Index::Abstract module.
         Example : my $index = Bio::Index::Abstract-&gt;(-pathtype =&gt; 'relative',
                                                      -file     =&gt; $file.inx,
                                                     );
                   or
                   $index-&gt;pathtype('relative');
         Returns : Type of the path.
         Args    : String (relative|absolute)

   <b>_filename</b>
         Title   : _filename
         Usage   : $index-&gt;_filename( FILE INT )
         Function: Indexes the file
         Example :
         Returns :
         Args    :

   <b>_file_handle</b>
         Title   : _file_handle
         Usage   : $fh = $index-&gt;_file_handle( INT )
         Function: Returns an open filehandle for the file
                   index INT.  On opening a new filehandle it
                   caches it in the @{$index-&gt;_filehandle} array.
                   If the requested filehandle is already open,
                   it simply returns it from the array.
         Example : $first_file_indexed = $index-&gt;_file_handle( 0 );
         Returns : ref to a filehandle
         Args    : INT

   <b>_file_count</b>
         Title   : _file_count
         Usage   : $index-&gt;_file_count( INT )
         Function: Used by the index building sub in a sub class to
                   track the number of files indexed.  Sets or gets
                   the number of files indexed when called with or
                   without an argument.
         Example :
         Returns : INT
         Args    : INT

   <b>add_record</b>
         Title   : add_record
         Usage   : $index-&gt;add_record( $id, @stuff );
         Function: Calls pack_record on @stuff, and adds the result
                   of pack_record to the index database under key $id.
                   If $id is a reference to an array, then a new entry
                   is added under a key corresponding to each element
                   of the array.
         Example : $index-&gt;add_record( $id, $fileNumber, $begin, $end )
         Returns : TRUE on success or FALSE on failure
         Args    : ID LIST

   <b>pack_record</b>
         Title   : pack_record
         Usage   : $packed_string = $index-&gt;pack_record( LIST )
         Function: Packs an array of scalars into a single string
                   joined by ASCII 034 (which is unlikely to be used
                   in any of the strings), and returns it.
         Example : $packed_string = $index-&gt;pack_record( $fileNumber, $begin, $end )
         Returns : STRING or undef
         Args    : LIST

   <b>unpack_record</b>
         Title   : unpack_record
         Usage   : $index-&gt;unpack_record( STRING )
         Function: Splits the sting provided into an array,
                   splitting on ASCII 034.
         Example : ( $fileNumber, $begin, $end ) = $index-&gt;unpack_record( $self-&gt;db-&gt;{$id} )
         Returns : A 3 element ARRAY
         Args    : STRING containing ASCII 034

   <b>count_records</b>
        Title   : count_records
        Usage   : $recs = $seqdb-&gt;count_records()
        Function: return count of all recs in the index
        Example :
        Returns : a scalar
        Args    : none

   <b>DESTROY</b>
        Title   : DESTROY
        Usage   : Called automatically when index goes out of scope
        Function: Closes connection to database and handles to
                  sequence files
        Returns : NEVER
        Args    : NONE

perl v5.32.1                                       2021-08-15                          <u>Bio::Index::<a href="../man3pm/Abstract.3pm.html">Abstract</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>