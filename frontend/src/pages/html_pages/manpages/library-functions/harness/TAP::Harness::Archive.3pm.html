<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TAP::Harness::Archive - Create an archive of TAP test results</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtap-harness-archive-perl">libtap-harness-archive-perl_0.18-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       TAP::Harness::Archive - Create an archive of TAP test results

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use TAP::Harness::Archive;
           my $harness = TAP::Harness::Archive-&gt;new(\%args);
           $harness-&gt;runtests(@tests);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module is a direct subclass of TAP::Harness and behaves in exactly the same way except for one
       detail. In addition to outputting a running progress of the tests and an ending summary it can also
       capture all of the raw TAP from the individual test files or streams into an archive file (".tar" or
       ".tar.gz").

</pre><h4><b>METHODS</b></h4><pre>
       All methods are exactly the same as our base TAP::Harness except for the following.

   <b>new</b>
       In addition to the options that TAP::Harness allow to this method, we also allow the following:

       archive
           This  is  the  name of the archive file to generate. We use Archive::Tar in the background so we only
           support ".tar" and ".tar.gz" archive file formats. This can optionally be an existing directory  that
           will  have  the  TAP archive's contents deposited therein without any file archiving (no Archive::Tar
           involved).

       extra_files
           This is an array reference to extra files that you want to include in the TAP archive but  which  are
           not  TAP  files  themselves. This is useful if you want to include some log files that contain useful
           information about the test run.

       extra_properties
           This is a hash reference of extra properties that you've collected during your test run. Some  things
           you might want to include are the Perl version, the system's architecture, the operating system, etc.

   <b>runtests</b>
       Takes  the same arguments as TAP::Harness's version and returns the same thing (a TAP::Parser::Aggregator
       object). The only difference is that in addition to the normal test running and progress output  we  also
       create the TAP Archive when it's all done.

   <b>aggregator_from_archive</b>
       This  class  method  will  return  a  TAP::Parser::Aggregator object when given a TAP Archive to open and
       parse. It's pretty much the reverse of creating a TAP Archive from using "new" and "runtests".

       It takes a hash of arguments which are as follows:

       archive
           The path to the archive file. This can also be a directory if you created the archive as a directory.
           This is required.

       parser_callbacks
           This is a hash ref containing callbacks for the TAP::Parser objects that are  created  while  parsing
           the TAP files. See the TAP::Parser documentation for details about these callbacks.

       made_parser_callback
           This  callback  is executed every time a new TAP::Parser object is created. It will be passed the new
           parser object, the name of the file to be parsed, and also the full (temporary) path of that file.

       meta_yaml_callback
           This is a subroutine that will be called if we find and parse a YAML file containing meta information
           about the test run in the archive.  The structure of the YAML file will be passed in as an argument.

           my $aggregator = TAP::Harness::Archive-&gt;aggregator_from_archive(
               {
                   archive          =&gt; 'my_tests.tar.gz',
                   parser_callbacks =&gt; {
                       plan    =&gt; sub { warn "Nice to see you plan ahead..." },
                       unknown =&gt; sub { warn "Your TAP is bad!" },
                   },
                   made_parser_callback =&gt; sub {
                       my ($parser, $file, $full_path) = @_;
                       warn "$file is temporarily located at $full_path\n";
                   }

               }
           );

</pre><h4><b>AUTHOR</b></h4><pre>
       Michael Peters, "&lt;mpeters at plusthree.com&gt;"

</pre><h4><b>BUGS</b></h4><pre>
       Please report any bugs or feature requests to "bug-tap-harness-archive at rt.cpan.org",  or  through  the
       web   interface   at  &lt;<a href="http://rt.cpan.org/NoAuth/ReportBug.html">http://rt.cpan.org/NoAuth/ReportBug.html</a>?Queue=TAP-Harness-Archive&gt;.   I  will  be
       notified, and then you'll automatically be notified of progress on your bug as I make changes.

</pre><h4><b>SUPPORT</b></h4><pre>
       You can find documentation for this module with the perldoc command.

           perldoc TAP::Harness::Archive

       You can also look for information at:

       •   AnnoCPAN: Annotated CPAN documentation

           &lt;<a href="http://annocpan.org/dist/TAP-Harness-Archive">http://annocpan.org/dist/TAP-Harness-Archive</a>&gt;

       •   CPAN Ratings

           &lt;<a href="http://cpanratings.perl.org/d/TAP-Harness-Archive">http://cpanratings.perl.org/d/TAP-Harness-Archive</a>&gt;

       •   RT: CPAN's request tracker

           &lt;<a href="http://rt.cpan.org/NoAuth/Bugs.html">http://rt.cpan.org/NoAuth/Bugs.html</a>?Dist=TAP-Harness-Archive&gt;

       •   Search CPAN

           &lt;<a href="http://search.cpan.org/dist/TAP-Harness-Archive">http://search.cpan.org/dist/TAP-Harness-Archive</a>&gt;

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
       •   A big thanks to Plus Three, LP (&lt;<a href="http://www.plusthree.com">http://www.plusthree.com</a>&gt;) for sponsoring my work on this module and
           other open source pursuits.

       •   Andy Armstrong

</pre><h4><b>COPYRIGHT</b> <b>&amp;</b> <b>LICENSE</b></h4><pre>
       Copyright 2007 Michael Peters, all rights reserved.

       This program is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

perl v5.36.0                                       2022-11-19                         <u>TAP::Harness::<a href="../man3pm/Archive.3pm.html">Archive</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>