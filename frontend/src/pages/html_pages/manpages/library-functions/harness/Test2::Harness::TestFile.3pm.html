<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test2::Harness::TestFile - Abstraction of a test file and its meta-data.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtest2-harness-perl">libtest2-harness-perl_1.000158-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Test2::Harness::TestFile - Abstraction of a test file and its meta-data.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       When Test2::Harness finds test files to run each one gets an instance of this class to represent it. This
       class will scan test files to find important meta data (binary vs script, inline harness directives,
       etc). The meta-data this class can find helps yath decide when and how to run the test.

       If you write a custom Test2::Harness::Finder or use some Test2::Harness::Plugin callbacks you may have to
       use, or even construct instances of this class.

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Test2::Harness::TestFile;

           my $tf = Test2::Harness::TestFile-&gt;new(file =&gt; "path/to/file.t");

           # For an example 1, 1 works, but normally they are job_name and run_id.
           my $meta_data = $tf-&gt;queue_item(1, 1);

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       $filename = $tf-&gt;file
           Set during object construction, and cannot be changed.

       $bool = $tf-&gt;is_binary
           Automatically set during construction, cannot be changed or set manually.

       $bool = $tf-&gt;non_perl
           Automatically set during construction, cannot be changed or set manually.

       $string = $tf-&gt;comment
       $tf-&gt;set_comment($string)
           Defaults to '#' can be set during construction, or changed if needed.

           This  is  used  to  tell  yath  what character(s) are used to denote a comment. This is necessary for
           finding harness directives. In perl the '#' character is used, and that is the default value. This is
           here to support non-perl tests.

       $class = $tf-&gt;job_class
       $tf-&gt;set_job_class($class)
           Default it undef (let the runner pick). You can change this if you want the test to run with a custom
           job subclass.

       $arrayref = $tf-&gt;queue_args
       $tf-&gt;set_queue_args(\@ARGS)
           Key/Value pairs to append to the <b>queue_item()</b> data.

</pre><h4><b>METHODS</b></h4><pre>
       $cat = $tf-&gt;<b>check_category()</b>
       $tf-&gt;set_category($cat)
           This is how you find the category for a  file.  You  can  use  set_category()  to  assign/override  a
           category.

       $dur = $tf-&gt;<b>check_duration()</b>
       $tf-&gt;set_duration($dur)
           Get the duration of the test file ('LONG', 'MEDIUM', 'SHORT'). You can override with set_duration().

       $stage = $tf-&gt;<b>check_stage()</b>
       $tf-&gt;set_stage($stage)
           Get the preload stage the test file thinks it should be run in. You can override with set_stage().

       $bool = $tf-&gt;check_feature($name)
           This  checks  for the "# HARNESS-NO-NAME" or "# HARNESS-USE-NAME" or "# HARNESS-YES-NAME" directives.
           "NO" will result in a false boolean. "YES" and "USE" will result in a ture boolean. If  no  directive
           is found then "undef" will be returned.

       $arrayref = $tf-&gt;<b>conflicts_list()</b>
           Get a list of conflict markers.

       $seconds = $tf-&gt;<b>event_timeout()</b>
           If they test specifies an event timeout this will return it.

       %headers = $tf-&gt;<b>headers()</b>
           This returns the header data from the test file.

       $bool = $tf-&gt;<b>is_executable()</b>
           Check if the test file is executable or not.

       $data = $tf-&gt;meta($key)
           Get the meta-data for the specific key.

       $seconds = $tf-&gt;<b>post_exit_timeout()</b>
           If the test file has a custom post-exit timeout, this will return it.

       $hashref = $tf-&gt;queue_item($job_name, $run_id)
           This returns the data used to add the test file to the runner queue.

       $int = $tf-&gt;<b>rank()</b>
           Returns an integer value used to sort tests into an efficient run order.

       $path = $tf-&gt;<b>relative()</b>
           Relative path to the test file.

       $tf-&gt;<b>scan()</b>
           Scan the file and populate the header data. Return nothing, takes no arguments.  Automatically run by
           things that require the scan data. Results are cached.

       $tf-&gt;set_smoke($bool)
           Set smoke status. Smoke tests go to the front of the line when tests are sorted.

       $hashref = $tf-&gt;<b>shbang()</b>
           Get data gathered from parsing the tests shbang line.

       $arrayref = $tf-&gt;<b>switches()</b>
           A list of switches passed to perl, usually from the shbang line.

</pre><h4><b>SOURCE</b></h4><pre>
       The source code repository for Test2-Harness can be found at <u><a href="http://github.com/Test-More/Test2-Harness/">http://github.com/Test-More/Test2-Harness/</a></u>.

</pre><h4><b>MAINTAINERS</b></h4><pre>
       Chad Granum &lt;<a href="mailto:exodist@cpan.org">exodist@cpan.org</a>&gt;

</pre><h4><b>AUTHORS</b></h4><pre>
       Chad Granum &lt;<a href="mailto:exodist@cpan.org">exodist@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2020 Chad Granum &lt;<a href="mailto:exodist7@gmail.com">exodist7@gmail.com</a>&gt;.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

       See <u><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></u>

perl v5.40.1                                       2025-05-23                      <u>Test2::Harness::<a href="../man3pm/TestFile.3pm.html">TestFile</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>