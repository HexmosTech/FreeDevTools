<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catmandu::Fix::marc_paste - paste a MARC structured field back into the MARC record</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcatmandu-marc-perl">libcatmandu-marc-perl_1.320-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Catmandu::Fix::marc_paste - paste a MARC structured field back into the MARC record

</pre><h4><b>SYNOPSIS</b></h4><pre>
           # Copy and paste to the end of the record
           marc_copy(001, fixed001)
           set_fieldfixed001.$first.tag,002)
           marc_paste(fixed001)

           # Copy and paste in place (rename a field)
           do marc_each(var:this)
             if all_match(this.tag,001)
               # Change it
               set_field(this.tag,002)

               # Paste it back into the record
               marc_paste(this)
             end
           end

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Paste a MARC stucture created by Catmandu::Fix::marc_struc back at the end of a MARC record.

</pre><h4><b>METHODS</b></h4><pre>
   <b>marc_paste(JSON_PATH,</b> <b>[at:</b> <b>MARC_PATH</b> <b>,</b> <b>[equals:</b> <b>REGEX]])</b>
       Paste a MARC struct PATH back in the MARC record. By default the MARC structure will be pasted at the end
       of the record. Optionally provide an "at" option to set the MARC field after which the structure needs to
       be pasted. Optionally provide a regex that should match the content of the "at" field.

       The "equals" parameter requires an "at" parameter. When both are provided, then the value of JSON_PATH
       will only be pasted if the string value of the MARC_PATH in "at" matches the regular expression "equals".

           # Paste mycopy at the end of the record
           <a href="../manmycopy/marc_paste.mycopy.html">marc_paste</a>(mycopy)

           # Paste mycopy after the last 300 field
           marc_paste(mycopy, at:300)

           # Paste mycopy after the last 300 field with indicator1 = 1
           marc_paste(mycopy, at:300[1])

           # Paste mycopy after the last 300 field which has an 'a' subfield
           marc_paste(mycopy, at:300a)

           # Paste mycopy after the last 300 field which has an 'a' subfield equal to 'ABC'
           marc_paste(mycopy, at:300a, equals:'^ABC$')

           # Paste mycopy after the last 300 field with all concatinated subfields equal to 'ABC'
           marc_paste(mycopy, at:300, equals:'^ABC$')

</pre><h4><b>INLINE</b></h4><pre>
       This Fix can be used inline in a Perl script:

           use Catmandu::Fix::marc_copy as =&gt; 'marc_copy';
           use Catmandu::Fix::marc_paste as =&gt; 'marc_paste';

           my $data = { record =&gt; ['650', ' ', 0, 'a', 'Perl'] };

           $data = marc_copy($data,'650','subject');
           $data = marc_paste($data,'subject');

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       •   Catmandu::Fix::marc_copy

       •   Catmandu::Fix::marc_cut

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       This  program  is  free software; you can redistribute it and/or modify it under the terms of either: the
       GNU General Public License as published by the Free Software Foundation; or the Artistic License.

       See <a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a> for more information.

perl v5.38.2                                       2024-08-03                     <u>Catmandu::Fix::<a href="../man3pm/marc_paste.3pm.html">marc_paste</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>