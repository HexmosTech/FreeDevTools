<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::DKIM::DkimPolicy - represents a DKIM Sender Signing Practices record</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-dkim-perl">libmail-dkim-perl_1.20230212-1ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::DKIM::DkimPolicy - represents a DKIM Sender Signing Practices record

</pre><h4><b>VERSION</b></h4><pre>
       version 1.20230212

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The Sender Signing Practices (SSP) record can be published by any domain to help a receiver know what to
       do when it encounters an unsigned message claiming to originate from that domain.

       The record is published as a DNS TXT record at _policy._domainkey.DOMAIN where DOMAIN is the domain of
       the message's "From" address.

       This record format has been superceded by ADSP. See Mail::DKIM::AuthorDomainPolicy for information about
       ADSP.  It is implemented here because at one time it appeared this is what would be standardized by the
       IETF. It will be removed from Mail::DKIM at some point in the future.  The last version of the SSP
       specification can be found at &lt;<a href="http://tools.ietf.org/html/draft-ietf-dkim-ssp-02">http://tools.ietf.org/html/draft-ietf-dkim-ssp-02</a>&gt;.

</pre><h4><b>CONSTRUCTORS</b></h4><pre>
   <b>fetch()</b>
       Lookup a DKIM signing practices record.

         my $policy = Mail::DKIM::DkimPolicy-&gt;fetch(
                   Protocol =&gt; 'dns',
                   Author =&gt; '<a href="mailto:jsmith@example.org">jsmith@example.org</a>',
                 );

   <b>new()</b>
       Construct a default policy object.

         my $policy = Mail::DKIM::DkimPolicy-&gt;new;

</pre><h4><b>METHODS</b></h4><pre>
   <b>apply()</b>
       Apply the policy to the results of a DKIM verifier.

         my $result = $policy-&gt;apply($dkim_verifier);

       The caller must provide an instance of Mail::DKIM::Verifier, one which has already been fed the message
       being verified.

       Possible results are:

       accept
           The message is approved by the sender signing policy.

       reject
           The message is rejected by the sender signing policy.  It can be considered very suspicious.

       neutral
           The  message  is  neither  approved  nor  rejected by the sender signing policy. It can be considered
           somewhat suspicious.

   <b>flags()</b>
       Get or set the flags (t=) tag.

       A colon-separated list of flags. Flag values are:

       y   The entity is testing signing practices, and the Verifier SHOULD NOT consider  a  message  suspicious
           based on the record.

       s   The signing practices apply only to the named domain, and not to subdomains.

   <b>is_implied_default_policy()</b>
       Is this policy implied?

         my $is_implied = $policy-&gt;is_implied_default_policy;

       If  you  fetch the policy for a particular domain, but that domain does not have a policy published, then
       the "default policy" is in effect. Use this method to detect when that happens.

   <b>location()</b>
       Where the policy was fetched from.

       If the policy is domain-wide, this will be domain where the policy was published.

       If the policy is user-specific, TBD.

       If nothing is published for the domain, and the default policy was returned instead, the location will be
       "undef".

   <b>policy()</b>
       Get or set the outbound signing policy (dkim=) tag.

         my $sp = $policy-&gt;policy;

       Outbound signing policy for the entity. Possible values are:

       "unknown"
           The default. The entity may sign some or all email.

       "all"
           All mail from the entity is signed.  (The DKIM signature can use any domain, not necessarily matching
           the From: address.)

       "strict"
           All mail from the entity is signed with Originator signatures.  (The DKIM  signature  uses  a  domain
           matching the From: address.)

   <b>signall()</b>
       True if policy is "all".

   <b>signall_strict()</b>
       True if policy is "strict".

   <b>testing()</b>
       Checks the testing flag.

         my $testing = $policy-&gt;testing;

       If  nonzero,  the testing flag is set on the signing policy, and the verify should not consider a message
       suspicious based on this policy.

</pre><h4><b>BUGS</b></h4><pre>
       •   If a sender signing policy is not found for a given domain, the  <b>fetch()</b>  method  should  search  the
           parent domains, according to section 4 of the dkim-ssp Internet Draft.

</pre><h4><b>AUTHORS</b></h4><pre>
       •   Jason Long &lt;<a href="mailto:jason@long.name">jason@long.name</a>&gt;

       •   Marc Bradshaw &lt;<a href="mailto:marc@marcbradshaw.net">marc@marcbradshaw.net</a>&gt;

       •   Bron Gondwana &lt;<a href="mailto:brong@fastmailteam.com">brong@fastmailteam.com</a>&gt; (ARC)

</pre><h4><b>THANKS</b></h4><pre>
       Work  on  ensuring  that  this  module  passes  the  ARC  test suite was generously sponsored by Valimail
       (https://www.valimail.com/)

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       •   Copyright (C) 2013 by Messiah College

       •   Copyright (C) 2010 by Jason Long

       •   Copyright (C) 2017 by Standcore LLC

       •   Copyright (C) 2020 by FastMail Pty Ltd

       This library is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself, either Perl version 5.8.6 or, at your option, any later version of Perl 5 you may have available.

perl v5.38.2                                       2024-02-27                        <u>Mail::DKIM::<a href="../man3pm/DkimPolicy.3pm.html">DkimPolicy</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>