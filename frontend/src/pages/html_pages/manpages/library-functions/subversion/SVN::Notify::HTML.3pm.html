<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVN::Notify::HTML - Subversion activity HTML notification</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsvn-notify-perl">libsvn-notify-perl_2.87-2_all</a> <br><br><pre>
</pre><h4><b>Name</b></h4><pre>
       SVN::Notify::HTML - Subversion activity HTML notification

</pre><h4><b>Synopsis</b></h4><pre>
       Use <u>svnnotify</u> in <u>post-commit</u>:

         svnnotify --repos-path "$1" --revision "$2" \
           --to <a href="mailto:developers@example.com">developers@example.com</a> --handler HTML [options]

       Use the class in a custom script:

         use SVN::Notify::HTML;

         my $notifier = SVN::Notify::HTML-&gt;new(%params);
         $notifier-&gt;prepare;
         $notifier-&gt;execute;

</pre><h4><b>Description</b></h4><pre>
       This subclass of SVN::Notify sends HTML formatted email messages for Subversion activity, rather than the
       default plain text.

</pre><h4><b>Prerequisites</b></h4><pre>
       In addition to the modules required by SVN::Notify, this class requires:

       HTML::Entities

</pre><h4><b>Usage</b></h4><pre>
       To  use  SVN::Notify::HTML,  simply  follow  the  instructions  in SVN::Notify, but when using <u>svnnotify</u>,
       specify "--handler HTML".

</pre><h4><b>Class</b> <b>Interface</b></h4><pre>
   <b>Constructor</b>
       <u>new</u>

         my $notifier = SVN::Notify::HTML-&gt;new(%params);

       Constructs and returns a new SVN::Notify object. All parameters supported by  SVN::Notity  are  supported
       here, but SVN::Notify::HTML supports a few additional parameters:

       linkize
             svnnotify --linkize

           A  boolean attribute to specify whether or not to "linkize" the SVN log message--that is, to turn any
           URLs or email addresses in the log message into links.

       css_url
             svnnotify --css-url <a href="http://example.com/svnnotify.css">http://example.com/svnnotify.css</a>

           URL for a CSS file that will can style the HTML output by SVN::Notify::HTML or its  subclasses.  Note
           that  the URL will be added to the output via a "&lt;link rel="stylesheet"&gt;" tag <u>after</u> the CSS generated
           by SVN::Notify::HTML or its subclasses. What that means is that the CSS file specified  by  "css_url"
           need  not  completely  style the HTML, but simply override the default settings. This approach nicely
           takes advantage of the "cascading" abilities of CSS.

       ticket_map
             svnnotify --ticket-map '(BUG-(\d+))=<a href="http://bugs.example.com/">http://bugs.example.com/</a>?show=%s'

           This attribute is inherited from SVN::Notify, but its semantics are slightly different:  the  regular
           expression  passed  as  the  regular expression used for the key should return <u>two</u> matches instead of
           one: the text to link and the ticket ID itself. For example, '(BUG-(\d+))' will match  "BUG-1234567",
           and  "BUG-1234567"  will  be  used  for  the  link  text, while "1234567" will be used to fill in the
           "ticket_url" format string. The first  set  of  parentheses  capture  the  whole  string,  while  the
           parentheses  around "\d+" match the number only. Also note that it is wise to use "\b" on either side
           of the regular expression to insure that you don't get spurious matches.  So a better  version  would
           be '\b(BUG-(\d+))\b'.

           As  a  fallback,  if your regular expression returns only a single match string, it will be used both
           for  the  link  text  and  for  the  the  ticket  URL  generated  from  "ticket_url".  For   example,
           '\bBUG-(\d+)\b'  would  make  a link only of the number in 'BUG-1234567', as only the number has been
           captured by the regular expression. But two matches are of course recommended  (and  likely  to  work
           better, as well).

           You  can  use  more  complicated  regular  expressions if commit messages are likely to format ticket
           numbers in various ways. For example, this regular expression:

             \b\[?\s*(Ticket\s*#\s*(\d+))\s*\]?\b'

           Will match:

              String Matched           Link Text        Ticket Number
             --------------------|--------------------|---------------
              [Ticket#1234]         [Ticket#1234]       1234
              [ Ticket # 1234 ]     [ Ticket # 1234 ]   1234
              Ticket #1234          Ticket #1234        1234
              Ticket # 1234         Ticket  #1234       1234

           In any of these cases, you can see that the match is  successful,  properly  creates  the  link  text
           (simply using the text as typed in by the committer, and correctly extracts the ticket number for use
           in the URL.

           To  learn  more  about  the  power  of  Regular  expressions,  I  highly recommend _Mastering Regular
           Expressions, Second Edition_, by Jeffrey Friedl.

       wrap_log
             svnnotify --wrap-log

           A boolean attribute to specify whether or not to wrap the log message in the output HTML. By default,
           log messages are <u>not</u> wrapped, on the assumption that they should appear  exactly  as  typed.  But  if
           that's not the case, specify this option to wrap the log message.

   <b>Class</b> <b>Methods</b>
       <u>content_type</u>

       Returns  the  content  type of the notification message, "text/html". Used to set the Content-Type header
       for the message.

</pre><h4><b>Instance</b> <b>Interface</b></h4><pre>
   <b>Instance</b> <b>Methods</b>
       <u>start_html</u>

         $notifier-&gt;start_html($file_handle);

       This method starts the HTML of the notification message. It outputs the opening "&lt;html&gt;",  "&lt;head&gt;",  and
       "&lt;body&gt;" tags. Note that if the "language" attribute is set to a value, it will be specified in the
        "&lt;html&gt;" tag.

       All of the HTML will be passed to any "start_html" output filters. See Writing Output Filters for details
       on filters.

       <u>start_body</u>

       This  method  starts  the  body of the HTML notification message. It first calls "start_html()", and then
       outputs the "&lt;style&gt;" tag, calling "output_css()" between them. It then outputs an opening "&lt;div&gt;" tag.

       If the "header" attribute is set, "start_body()" outputs it between "&lt;div&gt;" tags with  the  ID  "header".
       Furthermore,  if  the  header  happens  to  start  with the character "&lt;", "start_body()" assumes that it
       contains valid HTML and therefore will not escape it.

       If a "start_body" output filter has been specified, it will be passed the lines with the "&lt;div&gt;" tag  and
       the header. To filter the CSS, use a "css" filter, and to filter the declaration of the HTML document and
       its "&lt;head&gt;" section, use a "start_html" filter. See Writing Output Filters for details on filters.

       <u>output_css</u>

         $notifier-&gt;output_css($file_handle);

       This  method starts outputs the CSS for the HTML message. It is called by "start_body()", and which wraps
       the output of "output_css()" in the appropriate "&lt;style&gt;" tags.

       An output filter named "css" may be added to modify the output of CSS. The filter subroutine name  should
       be  "css"  and  expect  an  array  reference  of  lines of CSS. See Writing Output Filters for details on
       filters.

       <u>output_metadata</u>

         $notifier-&gt;output_metadata($file_handle);

       This method outputs a definition list containing the meta data of  the  commit,  including  the  revision
       number,  author  (user), and date of the revision. If the "revision_url" attribute has been set, then the
       appropriate URL for the revision will be used to turn the revision number into a link.

       If there are any "log_message" filters, this method  will  do  no  HTML  formatting,  but  redispatch  to
       SVN::Notify::output_metadata. See Writing Output Filters for details on filters.

       <u>output_log_message</u>

         $notifier-&gt;output_log_message($file_handle);

       Outputs  the  commit  log  message  in  "&lt;pre&gt;"  tags, and the label "Log Message" in "&lt;h3&gt;" tags. If the
       "bugzilla_url" attribute is set, then any strings like "Bug 2" or "bug # 567" will be turned into links.

       If there are any "log_message" filters, the filters will be assumed to escape  the  HTML,  create  inline
       links,  and link ticket URLs. Otherwise, this method will do those things. See Writing Output Filters for
       details on filters.

       <u>output_file_lists</u>

         $notifier-&gt;output_log_message($file_handle);

       Outputs the lists of modified, added, deleted, files, as well as the list of files for  which  properties
       were changed as unordered lists. The labels used for each group are pulled in from the "file_label_map()"
       class method and output in "&lt;h3&gt;" tags.

       If  there  are  any  "file_lists"  filters,  this  method  will  do no HTML formatting, but redispatch to
       SVN::Notify::output_file_lists. See Writing Output Filters for details on filters.

       <u>end_body</u>

         $notifier-&gt;end_body($file_handle);

       Closes out the body of the email by outputting the closing "&lt;/body&gt;" and "&lt;/html&gt;" tags. Designed  to  be
       called when the body of the message is complete, and before any call to "output_attached_diff()".

       If  the  "footer"  attribute  is  set, "end_body()" outputs it between "&lt;div&gt;" tags with the ID "footer".
       Furthermore, if the footer happens to end with the character "&lt;", "end_body()" assumes that  it  contains
       valid HTML and therefore will not escape it.

       All  of  the HTML will be passed to any "end_body" output filters. See Writing Output Filters for details
       on filters.

       <u>output_diff</u>

         $notifier-&gt;output_diff($out_file_handle, $diff_file_handle);

       Sends the output of "svnlook diff" to the  specified  file  handle  for  inclusion  in  the  notification
       message.  The  diff  is  output  between  "&lt;pre&gt;"  tags,  and  Each  line  of the diff file is escaped by
       "HTML::Entities::encode_entities()".  The diff data will be read from $diff_file_handle  and  printed  to
       $out_file_handle.

       If  there  are  any  "diff"  filters,  this  method  will  do  no  HTML  formatting,  but  redispatch  to
       SVN::Notify::output_diff. See Writing Output Filters for details on filters.

   <b>Accessors</b>
       In addition to those supported by SVN::Notify, SVN::Notify::HTML supports the following accessors:

       <u>linkize</u>

         my $linkize = $notifier-&gt;linkize;
         $notifier = $notifier-&gt;linkize($linkize);

       Gets or sets the value of the "linkize" attribute.

       <u>css_url</u>

         my $css_url = $notifier-&gt;css_url;
         $notifier = $notifier-&gt;css_url($css_url);

       Gets or sets the value of the "css_url" attribute.

</pre><h4><b>See</b> <b>Also</b></h4><pre>
       SVN::Notify

</pre><h4><b>Author</b></h4><pre>
       David E. Wheeler &lt;<a href="mailto:david@justatheory.com">david@justatheory.com</a>&gt;

</pre><h4><b>Copyright</b> <b>and</b> <b>License</b></h4><pre>
       Copyright (c) 2004-2018 David E. Wheeler. Some Rights Reserved.

       This module is free software; you can redistribute it and/or modify it  under  the  same  terms  as  Perl
       itself.

perl v5.36.0                                       2022-11-20                             <u>SVN::Notify::<a href="../man3pm/HTML.3pm.html">HTML</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>