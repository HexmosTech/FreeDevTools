<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lc_share, lc_unshare - share and unshare files over multicast</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liblibrecast-dev">liblibrecast-dev_0.9.1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lc_share, lc_unshare - share and unshare files over multicast

</pre><h4><b>LIBRARY</b></h4><pre>
       Librecast library (<u>liblibrecast</u>, <u>-llibrecast</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;librecast/net.h&gt;</b>

       <b>lc_share_t</b> <b>*lc_share(lc_ctx_t</b> <u>*lctx</u><b>,</b> <b>mdex_t</b> <u>*mdex</u><b>,</b> <b>unsigned</b> <b>int</b> <u>ifx</u><b>,</b>
                       <b>lc_stat_t</b> <u>*stats</u><b>,</b> <b>lc_sync_options_t</b> <u>*opt</u><b>,</b> <b>int</b> <u>flags</u><b>);</b>
       <b>void</b> <b>lc_unshare(lc_share_t</b> <u>*share</u><b>);</b>

       Compile and link with <u>-llibrecast</u>.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>lc_share</b> function shares the objects indexed in <b>mdex</b> on the interface given by <b>ifx</b>.  If ifx is zero,
       the files are shared on all multicast-capable interfaces.

       lc_share starts MLD snooping (see IETF RFC 3810). When a join on a new IPv6 multicast group is  detected,
       this  is checked against the index provided by <u>mdex</u>.  If a matching object is found, this is added to the
       sending queue, and the data for this object continues to be sent until MLD reports that there are no more
       listeners for this group.

       The data sent is encoded using RaptorQ Forward Error Correction (see  IETF  RFC  6330),  using  the  LCRQ
       library.

       If <u>stats</u> is not NULL, transfer statistics will be returned in this structure.

       <u>opt</u> is not used, at present, and must be NULL for compatibility with future versions.

       The <u>flags</u> argument is the bitwise OR of zero of more of the following flags:

       <b>LC_SHARE_LOOPBACK</b>
              Set the loopback option <u>IPV6_MULTICAST_LOOP</u> on the sending socket.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>lc_share</b>()  returns  a  pointer  to a <u>lc_share_t</u> handle, which should be freed by passing to <b>lc_unshare</b>()
       when done.  On error, NULL is returned, and <u>errno</u> is set to indicate the error.

       The <b>lc_unshare</b>() function returns no value, and preserves <u>errno</u>.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>ENOTSUP</b>
              <b>lc_share</b>() is not supported with your current configuration. This error occurs when the  librecast
              library is built without MLD support.

       <b>ENOMEM</b> Not enough space/cannot allocate memory (POSIX.1-2001).

       <b>EACCES</b> Permission to create a socket of the specified type and/or protocol is denied.

</pre><h4><b>NOTES</b></h4><pre>
       <b>lc_share</b>  uses  MLD  snooping  from  libmld to detect which multicast groups are active, which uses a raw
       socket. On Linux, creating a raw socket requires <b>CAP_NET_RAW</b>.  See <b><a href="../man7/Capabilities.7.html">Capabilities</a></b>(7).  On *BSD the creation
       of a raw socket is restricted to the superuser.  An application can drop these privileges  after  calling
       <b>lc_share</b>.

       To  restrict  syncing  to a particular network interface, call <b><a href="../man3/lc_ctx_ifx.3.html">lc_ctx_ifx</a></b>(3) to set the default interface
       for the Librecast context before calling the appropriate sync function.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/lc_ctx_new.3.html">lc_ctx_new</a></b>(3), <b><a href="../man3/lc_ctx_ifx.3.html">lc_ctx_ifx</a></b>(3), <b><a href="../man3/mdex_init.3.html">mdex_init</a></b>(3), <b><a href="../man3/mdex_get.3.html">mdex_get</a></b>(3), <b><a href="../man3/mdex_put.3.html">mdex_put</a></b>(3), <b><a href="../man3/mdex_del.3.html">mdex_del</a></b>(3), <b><a href="../man7/lcrq.7.html">lcrq</a></b>(7)

LIBRECAST                                          2023-08-02                                        <u><a href="../man3/LC_SHARE.3.html">LC_SHARE</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>