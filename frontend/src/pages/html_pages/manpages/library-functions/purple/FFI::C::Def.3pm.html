<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FFI::C::Def - Data definition for FFI</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libffi-c-perl">libffi-c-perl_0.15-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       FFI::C::Def - Data definition for FFI

</pre><h4><b>VERSION</b></h4><pre>
       version 0.15

</pre><h4><b>SYNOPSIS</b></h4><pre>
       In your C code:

        #include &lt;<a href="file:/usr/include/stdint.h">stdint.h</a>&gt;
        #include &lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;

        typedef struct {
          uint8_t red;
          uint8_t green;
          uint8_t blue;
        } color_t;

        void
        print_color(color_t *c)
        {
          printf("[%02x %02x %02x]\n",
            c-&gt;red,
            c-&gt;green,
            c-&gt;blue
          );
        }

       In your Perl code:

        use FFI::Platypus 1.00;
        use FFI::C::StructDef;

        my $ffi = FFI::Platypus-&gt;new( api =&gt; 1 );
        # See FFI::Platypus::Bundle for how bundle works.
        $ffi-&gt;bundle;

        my $def = FFI::C::StructDef-&gt;new(
          $ffi,
          name  =&gt; 'color_t',
          class =&gt; 'Color',
          members =&gt; [
            red   =&gt; 'uint8',
            green =&gt; 'uint8',
            blue  =&gt; 'uint8',
          ],
        );

        my $red = Color-&gt;new({ red =&gt; 255 });

        my $green = Color-&gt;new({ green =&gt; 255 });

        $ffi-&gt;attach( print_color =&gt; ['color_t'] );

        print_color($red);   # [ff 00 00]
        print_color($green); # [00 ff 00]

        # that red is a tad bright!
        $red-&gt;red( 200 );

        print_color($red);   # [c8 00 00]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class is the base class for all def classes in the FFI::C collection.  The def classes are for
       defining C "struct", "union" and array types that can be used from Perl and passed to C via
       FFI::Platypus.

       You don't create an instance of this class directly, rather one of the subclasses: FFI::C::StructDef,
       FFI::C::UnionDef, FFI::C::ArrayDef.

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
   <b>new</b>
        my $def = FFI::C::StructDef-&gt;new(%opts);
        my $def = FFI::C::StructDef-&gt;new($ffi, %opts);
        my $def = FFI::C::UnionDef-&gt;new(%opts);
        my $def = FFI::C::UnionDef-&gt;new($ffi, %opts);
        my $def = FFI::C::ArrayDef-&gt;new(%opts);
        my $def = FFI::C::ArrayDef-&gt;new($ffi, %opts);

       The constructor for this class shouldn't be invoked directly.  If you try and exception will be thrown.

       For subclasses, the first argument should be the FFI::Platypus instance that you want to use with the
       def.  If you do not provide it, then one will be created internally for you.  All def classes accept
       these standard options:

       name
           The  FFI::Platypus alias for this def.  This name can be used in function signatures when creating or
           attaching functions in FFI::Platypus.

       class
           The Perl class for this def.  The Perl class can be used to create an instance of this def instead of
           invoking the "create" method below.

       members
           This is an array reference, which specifies the member fields for the  def.   How  exactly  it  works
           depends on the subclass, so see the documentation for the specific def class that you are using.

       nullable
           If true, then the type can be "undef" when passed into C.  "undef" will be translated to "NULL".

</pre><h4><b>METHODS</b></h4><pre>
   <b>ffi</b>
        my $ffi = $def-&gt;ffi;

       Returns the FFI::Platypus instance used by this def.

   <b>name</b>
        my $name = $def-&gt;name;

       Return  the FFI::Platypus alias for this def.  This name can be used in function signatures when creating
       or attaching functions in FFI::Platypus.

   <b>class</b>
        my $class = $def-&gt;class;

       Returns the Perl class for this def, if one was specified.  The Perl class  can  be  used  to  create  an
       instance of this def instead of invoking the "create" method below.

   <b>size</b>
        my $size = $def-&gt;size;

       Returns the size of the def in bytes.

   <b>align</b>
        my $align = $def-&gt;align;

       Returns the alignment in bytes of the def.

   <b>nullable</b>
        my $bool = $def-&gt;nullable;

       Returns true if "undef" is allowed to be passed in to C functions.  "undef" will be translated to "NULL".

   <b>create</b>
        my $instance = $def-&gt;create;
        my $instance = $def-&gt;class-&gt;new;  # if class was specified

       Creates an instance of the def.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       FFI::C
       FFI::C::Array
       FFI::C::ArrayDef
       FFI::C::Def
       FFI::C::File
       FFI::C::PosixFile
       FFI::C::Struct
       FFI::C::StructDef
       FFI::C::Union
       FFI::C::UnionDef
       FFI::C::Util
       FFI::Platypus::Record

</pre><h4><b>AUTHOR</b></h4><pre>
       Graham Ollis &lt;<a href="mailto:plicease@cpan.org">plicease@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2020-2022 by Graham Ollis.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.36.0                                       2023-02-06                                   <u>FFI::C::<a href="../man3pm/Def.3pm.html">Def</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>