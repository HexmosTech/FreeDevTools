<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tcldot - graph manipulation in tcl</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libgv-tcl">libgv-tcl_2.42.4-3build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       tcldot - graph manipulation in tcl

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #!/usr/local/bin/tclsh
       package require <b>Tcldot</b>

</pre><h4><b>USAGE</b></h4><pre>
       Requires the dynamic loading facilities of tcl7.6 or later.

</pre><h4><b>INTRODUCTION</b></h4><pre>
       <b>tcldot</b>  is  a tcl dynamically loaded extension that incorporates the directed graph facilities of <b><a href="../man1/dot.1.html">dot</a>(1),</b>
       and the undirected graph facilities of <b><a href="../man1/neato.1.html">neato</a>(1),</b> into tcl and provides a set of commands to control those
       facilities.  <b>tcldot</b> converts <b>dot</b> and <b>neato</b> from batch processing tools to an interpreted and, if  needed,
       interactive set of graph manipulation facilities.

</pre><h4><b>COMMANDS</b></h4><pre>
       <b>tcldot</b>  initially adds only three commands to tcl, namely <b>dotnew,</b> <b>dotread,</b> and <b>dotstring.</b>  These commands
       return a handle for the graph that has just been created and that handle can then be used  as  a  command
       for further actions on the graph.

       All other "commands" are of the form:

              <u>handle</u> <b>&lt;method&gt;</b> <u>parameters</u>

       Many  of the methods return further handles of graphs, nodes of edges, which are themselves registered as
       commands.

       The methods are described in detail below, but in summary:

       Graph methods are:

              <b>addedge,</b> <b>addnode,</b> <b>addsubgraph,</b> <b>countedges,</b> <b>countnodes,</b> <b>layout,</b> <b>listattributes,</b> <b>listedgeattributes,</b>
              <b>listnodeattributes,</b>  <b>listedges,</b>  <b>listnodes,</b>   <b>listnodesrev,</b>   <b>listsubgraphs,</b>   <b>render,</b>   <b>rendergd,</b>
              <b>queryattributes,</b>       <b>queryedgeattributes,</b>       <b>querynodeattributes,</b>       <b>queryattributevalues,</b>
              <b>queryedgeattributevalues,</b>     <b>querynodeattributevalues,</b>     <b>setattributes,</b>      <b>setedgeattributes,</b>
              <b>setnodeattributes,</b> <b>showname,</b> <b>write.</b>

       Node methods are:

              <b>addedge,</b>     <b>listattributes,</b>     <b>listedges,</b>     <b>listinedges,</b>     <b>listoutedges,</b>    <b>queryattributes,</b>
              <b>queryattributevalues,</b> <b>setattributes,</b> <b>showname.</b>

       Edge methods are:

              <b>delete,</b> <b>listattributes,</b> <b>listnodes,</b> <b>queryattributes,</b> <b>queryattributevalues,</b> <b>setattributes,</b> <b>showname.</b>

       <b>dotnew</b> <u>graphType</u> <u>?attributeName</u> <u>attributeValue?</u> <u>?...?</u>

              creates a new empty graph and returns its <u>graphHandle.</u>

              <u>graphType</u>  can  be  any  supported  by  <b><a href="../man1/dot.1.html">dot</a>(1)</b>  namely:  "graph,"  "digraph,"  "graphstrict,"   or
              "digraphstrict."   (In  digraphs  edges  have  a  direction  from tail to head. "Strict" graphs or
              digraphs collapse multiple edges between the same pair of nodes into a single edge.)

              Following the mandatory <u>graphType</u> parameter the <b>dotnew</b> command will accept an arbitrary number  of
              attribute  name/value  pairs for the graph.  Certain special graph attributes and permitted values
              are described in <b><a href="../man1/dot.1.html">dot</a>(1),</b> but the programmer can arbitrarily invent and assign values to additional
              attributes beyond these.  In <b>dot</b> the attribute  name  is  separated  from  the  value  by  an  "="
              character.   In  <b>tcldot</b> the "=" has been replaced by a " " (space)  to be more consistent with <b>tcl</b>
              syntax.  e.g.

                  set g [dotnew digraph rankdir LR]

       <b>dotread</b> <u>fileHandle</u>

              reads in a dot-language description of a graph from a previously opened  file  identified  by  the
              <u>fileHandle.</u>  The command returns the <u>graphHandle</u> of the newly read graph.  e.g.

                  set f [open test.dot r]
                  set g [dotread $f]

       <b>dotstring</b> <u>string</u>

              reads  in  a  dot-language  description  of  a  graph  from  a Tcl string; The command returns the
              <u>graphHandle</u> of the newly read graph.  e.g.

                  set g [dotstring $dotsyntaxstring]

       <u>graphHandle</u> <b>addnode</b> <u>?nodeName?</u> <u>?attributeName</u> <u>attributeValue?</u> <u>?...?</u>

              creates a new node in the graph whose handle is  <u>graphHandle</u>  and  returns  its  <u>nodeHandle.</u>   The
              handle  of  a  node  is a string like: "node0" where the integer value is different for each node.
              There can be an arbitrary number of attribute name/value pairs for the node.  Certain special node
              attributes and permitted values are described in <b><a href="../man1/dot.1.html">dot</a>(1),</b> but the programmer can arbitrarily invent
              and assign values to additional attributes beyond these.  e.g.

                  set n [$g addnode "N" label "Top\nNode" shape triangle eggs easyover]

              A possible cause of confusion in <b>tcldot</b> is the distinction between  handles,  names,  labels,  and
              variables.   The  distinction  is primarily in who owns them.  Handles are owned by tcldot and are
              guaranteed to be unique within  one  interpreter  session.   Typically  handles  are  assigned  to
              variables,  like  "n"  above,  for  manipulation  within a tcl script.  Variables are owned by the
              programmer.  Names are owned by the application that is  using  the  graph,  typically  names  are
              important  when  reading in a graph from an external program or file.  Labels are the text that is
              displayed with the node (or edge) when the graph is displayed, labels are meaningful to the reader
              of the graph.  Only the handles and variables are essential  to  <b>tcldot's</b>  ability  to  manipulate
              abstract  graphs.  If a name is not specified then it defaults to the string representation of the
              handle, if a label is not specified then it defaults to the name.

       <u>graphHandle</u> <b>addedge</b> <u>tailNode</u> <u>headNode</u> <u>?attributeName</u> <u>attributeValue?</u> <u>?...?</u>

              creates a new edge in the graph whose handle is <u>graphHandle</u> and returns its <b>edgeHandle.</b>   <u>tailNode</u>
              and <u>headNode</u> can be specified either by their <u>nodeHandle</u> or by their <u>nodeName.</u>  e.g.

                  set n [$g addnode]
                  set m [$g addnode]
                  $g addedge $n $m label "NM"

                  $g addnode N
                  $g addnode M
                  $g addedge N M label "NM"

              The  argument  is recognized as a handle if possible and so it is best to avoid names like "node6"
              for nodes.  If there is potential for conflict then use  <b>findnode</b>  to  translate  explicitly  from
              names to handles.  e.g.

                  $g addnode "node6"
                  $g addnode "node99"
                  $g addedge [$g findnode "node6"] [$g findnode "node99"]

              There can be an arbitrary number of attribute name/value pairs for the edge.  Certain special edge
              attributes and permitted values are described in <b><a href="../man1/dot.1.html">dot</a>(1),</b> but the programmer can arbitrarily invent
              and assign values to additional attributes beyond these.

       <u>graphHandle</u> <b>addsubgraph</b> <u>?graphName?</u> <u>?attributeName</u> <u>attributeValue?</u> <u>?...?</u>

              creates a new subgraph in the graph and returns its <u>graphHandle.</u>  If the <u>graphName</u> is omitted then
              the  name  of  the  subgraph  defaults  to  it's <u>graphHandle.</u>  There can be an arbitrary number of
              attribute name/value pairs for the subgraph.   Certain  special  graph  attributes  and  permitted
              values  are  described  in  <b><a href="../man1/dot.1.html">dot</a>(1),</b> but the programmer can arbitrarily invent and assign values to
              additional attributes beyond these.  e.g.

                  set sg [$g addsubgraph dinglefactor 6]

              Clusters, as described in <b><a href="../man1/dot.1.html">dot</a>(1),</b> are created by giving the subgraph a name that begins  with  the
              string: "cluster".  Cluster can be labelled by using the <u>label</u> attibute.  e.g.

                  set cg [$g addsubgraph cluster_A label dongle dinglefactor 6]

       <u>nodeHandle</u> <b>addedge</b> <u>headNode</u> <u>?attributeName</u> <u>attributeValue?</u> <u>?...?</u>

              creates  a  new  edge from the tail node identified by tha <u>nodeHandle</u> to the <u>headNode</u> which can be
              specified either by <u>nodeHandle</u> or by <u>nodeName</u> (with preference to recognizing the  argument  as  a
              handle).   The  graph  in which this is drawn is the graph in which both nodes are members.  There
              can be an arbitrary number of attribute name/value pairs for the edge.  These edge attributes  and
              permitted values are described in <b><a href="../man1/dot.1.html">dot</a>(1).</b>  e.g.

                  [$g addnode] addedge [$g addnode] label "NM"

       <u>graphHandle</u> <b>delete</b>

       <u>nodeHandle</u> <b>delete</b>

       <u>edgeHandle</u> <b>delete</b>

              Delete  all  data  structures associated with the graph, node or edge from the internal storage of
              the interpreter.  Deletion of a node also results in the the deletion of all subtending  edges  on
              that  node.   Deletion  of  a graph also results in the deletion of all nodes and subgraphs within
              that graph (and hence all edges too).  The return from these delete commands is a null string.

       <u>graphHandle</u> <b>countnodes</b>

       <u>graphHandle</u> <b>countedges</b>

              Returns the number of nodes, or edges, in the graph.

       <u>graphHandle</u> <b>listedges</b>

       <u>graphHandle</u> <b>listnodes</b>

       <u>graphHandle</u> <b>listnodesrev</b>

       <u>graphHandle</u> <b>listsubgraphs</b>

       <u>nodeHandle</u> <b>listedges</b>

       <u>nodeHandle</u> <b>listinedges</b>

       <u>nodeHandle</u> <b>listoutedges</b>

       <u>edgeHandle</u> <b>listnodes</b>

              Each return a list of handles of graphs, nodes or edges, as appropriate.

       <u>graphHandle</u> <b>findnode</b> <u>nodeName</u>

       <u>graphHandle</u> <b>findedge</b> <u>tailnodeName</u> <u>headNodeName</u>

       <u>nodeHandle</u> <b>findedge</b> <u>nodeName</u>

              Each return the handle of the item if found, or an error if none are found.  For non-strict graphs
              when there are multiple edges between two nodes <b>findedge</b> will return an arbitrary  edge  from  the
              set.

       <u>graphHandle</u> <b>showname</b>

       <u>nodeHandle</u> <b>showname</b>

       <u>edgeHandle</u> <b>showname</b>

              Each  return  the  name of the item.  Edge names are of the form: "a-&gt;b" where "a" and "b" are the
              names of the nodes and the connector "-&gt;" indicates the tail-to-head direction  of  the  edge.  In
              undirected graphs the connector "--" is used.

       <u>graphHandle</u> <b>setnodeattributes</b> <u>attributeName</u> <u>attributeValue</u> <u>?...?</u>

       <u>graphHandle</u> <b>setedgeattributes</b> <u>attributeName</u> <u>attributeValue</u> <u>?...?</u>

              Set  one  or  more  default  attribute  name/values  that are to apply to all nodes (edges) unless
              overridden by subgraphs or per-node (per-edge) attributes.

       <u>graphHandle</u> <b>listnodeattributes</b>

       <u>graphHandle</u> <b>listedgeattributes</b>

              Return a list of attribute names.

       <u>graphHandle</u> <b>querynodeattributes</b> <u>attributeName</u> <u>?...?</u>

       <u>graphHandle</u> <b>queryedgeattributes</b> <u>attributeName</u> <u>?...?</u>

              Return a list of default attribute value, one value for each of the attribute names provided  with
              the command.

       <u>graphHandle</u> <b>querynodeattributes</b> <u>attributeName</u> <u>?...?</u>

       <u>graphHandle</u> <b>queryedgeattributes</b> <u>attributeName</u> <u>?...?</u>

              Return  a  list  of  pairs of attrinute name and default attribute value, one pair for each of the
              attribute names provided with the command.

       <u>graphHandle</u> <b>setattributes</b> <u>attributeName</u> <u>attributeValue</u> <u>?...?</u>

       <u>nodeHandle</u> <b>setattributes</b> <u>attributeName</u> <u>attributeValue</u> <u>?...?</u>

       <u>edgeHandle</u> <b>setattributes</b> <u>attributeName</u> <u>attributeValue</u> <u>?...?</u>

              Set one or more attribute name/value pairs for a specific graph, node, or edge instance.

       <u>graphHandle</u> <b>listattributes</b>

       <u>nodeHandle</u> <b>listattributes</b>

       <u>edgeHandle</u> <b>listattributes</b>

              Return a list of attribute names (attribute values are provided by <b>queryattribute</b>

       <u>graphHandle</u> <b>queryattributes</b> <u>attributeName</u> <u>?...?</u>

       <u>nodeHandle</u> <b>queryattributes</b> <u>attributeName</u> <u>?...?</u>

       <u>edgeHandle</u> <b>queryattributes</b> <u>attributeName</u> <u>?...?</u>

              Return a list of attribute value, one value for each of the  attribute  names  provided  with  the
              command.

       <u>graphHandle</u> <b>queryattributevalues</b> <u>attributeName</u> <u>?...?</u>

       <u>nodeHandle</u> <b>queryattributevalues</b> <u>attributeName</u> <u>?...?</u>

       <u>edgeHandle</u> <b>queryattributevalues</b> <u>attributeName</u> <u>?...?</u>

              Return  a list of pairs or attribute name and attribute value, one value for each of the attribute
              names provided with the command.

       <u>graphHandle</u> <b>layout</b> <b>?dot|neato|circo|twopi|fdp|nop?</b>

              Annotate the graph with layout information.  This commands takes an abstract graph add  shape  and
              position information to it according to the layout engine's rules of eye-pleasing graph layout. If
              the layout engine is unspecified then it defaults to <b>dot</b> for directed graphs, and <b>neato</b> otherwise.
              If  the  <b>nop</b> engine is specified then layout information from the input graph is used.  The result
              of the layout is stored as additional attributes name/value pairs in the graph,  node  and  edges.
              These attributes are intended to be interpreted by subsequent <u>write</u> or <u>render</u> commands.

       <u>graphHandle</u> <b>write</b> <u>fileHandle</u> <u>format</u> <u>?dot|neato|circo|twopi|fdp|nop?</u>

              Write  a  graph to the open file represented by <u>fileHandle</u> in a specific <u>format.</u>  Possible <u>formats</u>
              are: "ps" "mif" "hpgl" "plain" "dot" "gif" "ismap" If the layout hasn't been already done, then it
              will be done as part of this operation using the same rules for selecting the layout engine as for
              the layout command.

       <u>graphHandle</u> <b>rendergd</b> <u>gdHandle</u>

              Generates a rendering of a graph to a new or existing gifImage structure (see <b><a href="../man1/gdTcl.1.html">gdTcl</a>(1)</b> ).  Returns
              the <u>gdHandle</u> of the image.  If the layout hasn't been already done, then it will be done  as  part
              of this operation using the same rules for selecting the layout engine as for the layout command.

       <u>graphHandle</u> <b>render</b> <u>?canvas</u> <u>?dot|neato|circo|twopi|fdp|nop??</u>

              If  no <u>canvas</u> argument is provided then <b>render</b> returns a string of commands which, when evaluated,
              will render the graph to a <b>Tk</b> canvas whose <u>canvasHandle</u> is available in variable <b>$c</b>

              If a <u>canvas</u> argument is provided then <b>render</b> produces a set of commands for <u>canvas</u> instead of $c.

              If the layout hasn't been already done, then it will be done as part of this operation  using  the
              same rules for selecting the layout engine as for the layout command.

                  #!/usr/local/bin/wish
                  package require Tcldot
                  set c [canvas .c]
                  pack $c
                  set g [dotnew digraph rankdir LR]
                  $g setnodeattribute style filled color white
                  [$g addnode Hello] addedge [$g addnode World!]
                  $g layout
                  if {[info exists debug]} {
                      puts [$g render]         ;# see what render produces
                  }
                  eval [$g render]

              <b>Render</b>  generates a series of canvas commands for each graph element, for example a node typically
              consist of two items on the canvas, one for the shape and the other for  the  label.   The  canvas
              items  are  automatically  <u>tagged</u>  (See <b>canvas(n)</b> ) by the commands generated by render.  The tags
              take one of two forms: text items are tagged with 0&lt;handle&gt; and shapes and lines are rendered with
              1&lt;handle&gt;.

              The tagging can be used to recognize when a user wants to interact with a graph element using  the
              mouse.   See  the  script  in <u>examples/disp</u> of the tcldot distribution for a demonstration of this
              facility.

</pre><h4><b>BUGS</b></h4><pre>
       Still batch-oriented.  It would be nice if the layout was maintained incrementally.  (The  intent  is  to
       address this limitation in graphviz_2_0.)

</pre><h4><b>AUTHOR</b></h4><pre>
       John Ellson (<a href="mailto:ellson@graphviz.org">ellson@graphviz.org</a>)

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
       John  Ousterhout,  of  course,  for  <b>tcl</b>  and <b>tk.</b>  Steven North and Eleftherios Koutsofios for <b>dot.</b>  Karl
       Lehenbauer and Mark Diekhans of NeoSoft for the handles.c code which was derived from tclXhandles.c.  Tom
       Boutell of the Quest Center at Cold Spring Harbor Labs for the gif drawing routines.  Spencer  Thomas  of
       the  University of Michigan for gdTcl.c.  Dayatra Shands for coding much of the initial implementation of
       <b>tcldot.</b>

</pre><h4><b>KEYWORDS</b></h4><pre>
       graph, tcl, tk, dot, neato.

                                                 Tcl Extensions                                     <u><a href="../man3tcl/tcldot.3tcl.html">tcldot</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>