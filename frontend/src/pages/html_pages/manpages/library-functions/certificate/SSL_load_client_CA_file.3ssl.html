<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSL_load_client_CA_file_ex, SSL_load_client_CA_file, SSL_add_file_cert_subjects_to_stack,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SSL_load_client_CA_file_ex, SSL_load_client_CA_file, SSL_add_file_cert_subjects_to_stack,
       SSL_add_dir_cert_subjects_to_stack, SSL_add_store_cert_subjects_to_stack - load certificate names

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/ssl.h&gt;

        STACK_OF(X509_NAME) *SSL_load_client_CA_file_ex(const char *file,
                                                        OSSL_LIB_CTX *libctx,
                                                        const char *propq);
        STACK_OF(X509_NAME) *SSL_load_client_CA_file(const char *file);

        int SSL_add_file_cert_subjects_to_stack(STACK_OF(X509_NAME) *stack,
                                                const char *file);
        int SSL_add_dir_cert_subjects_to_stack(STACK_OF(X509_NAME) *stack,
                                               const char *dir);
        int SSL_add_store_cert_subjects_to_stack(STACK_OF(X509_NAME) *stack,
                                                 const char *store);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>SSL_load_client_CA_file_ex()</b> reads certificates from <u>file</u> and returns a STACK_OF(X509_NAME) with the
       subject names found. The library context <u>libctx</u> and property query <u>propq</u> are used when fetching
       algorithms from providers.

       <b>SSL_load_client_CA_file()</b> is similar to <b>SSL_load_client_CA_file_ex()</b> but uses NULL for the library
       context <u>libctx</u> and property query <u>propq</u>.

       <b>SSL_add_file_cert_subjects_to_stack()</b> reads certificates from <u>file</u>, and adds their subject name to the
       already existing <u>stack</u>.

       <b>SSL_add_dir_cert_subjects_to_stack()</b> reads certificates from every file in the directory <u>dir</u>, and adds
       their subject name to the already existing <u>stack</u>.

       <b>SSL_add_store_cert_subjects_to_stack()</b> loads certificates from the <u>store</u> URI, and adds their subject name
       to the already existing <u>stack</u>.

</pre><h4><b>NOTES</b></h4><pre>
       <b>SSL_load_client_CA_file()</b> reads a file of PEM formatted certificates and extracts the X509_NAMES of the
       certificates found. While the name suggests the specific usage as support function for
       <b><a href="../man3/SSL_CTX_set_client_CA_list.3.html">SSL_CTX_set_client_CA_list</a></b>(3), it is not limited to CA certificates.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The following return values can occur for <b>SSL_load_client_CA_file_ex()</b>, and <b>SSL_load_client_CA_file()</b>:

       NULL
           The operation failed, check out the error stack for the reason.

       Pointer to STACK_OF(X509_NAME)
           Pointer to the subject names of the successfully read certificates.

       The     following     return     values     can    occur    for    <b>SSL_add_file_cert_subjects_to_stack()</b>,
       <b>SSL_add_dir_cert_subjects_to_stack()</b>, and <b>SSL_add_store_cert_subjects_to_stack()</b>:

       0 (Failure)
           The operation failed.

       1 (Success)
           The operation succeeded.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Load names of CAs from file and use it as a client CA list:

        SSL_CTX *ctx;
        STACK_OF(X509_NAME) *cert_names;

        ...
        cert_names = SSL_load_client_CA_file("/path/to/CAfile.pem");
        if (cert_names != NULL)
            SSL_CTX_set_client_CA_list(ctx, cert_names);
        else
            /* error */
        ...

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/ssl.7.html">ssl</a></b>(7), <b><a href="../man7/ossl_store.7.html">ossl_store</a></b>(7), <b><a href="../man3/SSL_CTX_set_client_CA_list.3.html">SSL_CTX_set_client_CA_list</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       <b>SSL_load_client_CA_file_ex()</b> and <b>SSL_add_store_cert_subjects_to_stack()</b> were added in OpenSSL 3.0.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2000-2024 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file  except  in  compliance
       with  the  License.   You  can  obtain  a  copy  in  the  file  LICENSE  in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                      <u><a href="../man3SSL/SSL_LOAD_CLIENT_CA_FILE.3SSL.html">SSL_LOAD_CLIENT_CA_FILE</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>