<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>strfmon, strfmon_l - convert monetary value to a string</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       strfmon, strfmon_l - convert monetary value to a string

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/monetary.h">monetary.h</a>&gt;</b>

       <b>ssize_t</b> <b>strfmon(char</b> <u>s</u><b>[restrict</b> <b>.</b><u>max</u><b>],</b> <b>size_t</b> <u>max</u><b>,</b>
                       <b>const</b> <b>char</b> <b>*restrict</b> <u>format</u><b>,</b> <b>...);</b>
       <b>ssize_t</b> <b>strfmon_l(char</b> <u>s</u><b>[restrict</b> <b>.</b><u>max</u><b>],</b> <b>size_t</b> <u>max</u><b>,</b> <b>locale_t</b> <u>locale</u><b>,</b>
                       <b>const</b> <b>char</b> <b>*restrict</b> <u>format</u><b>,</b> <b>...);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>strfmon</b>()  function formats the specified monetary amount according to the current locale and format
       specification <u>format</u> and places the result in the character array <u>s</u> of size <u>max</u>.

       The <b>strfmon_l</b>() function performs the same task, but uses the locale specified by <u>locale</u>.   The  behavior
       of <b>strfmon_l</b>() is undefined if <u>locale</u> is the special locale object <b>LC_GLOBAL_LOCALE</b> (see <b><a href="../man3/duplocale.3.html">duplocale</a></b>(3)) or
       is not a valid locale object handle.

       Ordinary  characters  in <u>format</u> are copied to <u>s</u> without conversion.  Conversion specifiers are introduced
       by a '%' character.  Immediately following it there can be zero or more of the following flags:

       <b>=</b><u>f</u>     The single-byte character <u>f</u> is used as the  numeric  fill  character  (to  be  used  with  a  left
              precision, see below).  When not specified, the space character is used.

       <b>^</b>      Do  not  use  any  grouping  characters that might be defined for the current locale.  By default,
              grouping is enabled.

       <b>(</b> or <b>+</b> The ( flag indicates that negative amounts should be enclosed between  parentheses.   The  +  flag
              indicates  that  signs  should be handled in the default way, that is, amounts are preceded by the
              locale's sign indication, for example, nothing for positive, "-" for negative.

       <b>!</b>      Omit the currency symbol.

       <b>-</b>      Left justify all fields.  The default is right justification.

       Next, there may be a field width: a decimal digit string specifying a minimum field width in bytes.   The
       default  is  0.   A  result  smaller than this width is padded with spaces (on the left, unless the left-
       justify flag was given).

       Next, there may be a left precision of the form "#" followed by a decimal digit string.  If the number of
       digits left of the radix character is smaller than this, the representation is padded on  the  left  with
       the numeric fill character.  Grouping characters are not counted in this field width.

       Next,  there  may  be  a  right precision of the form "." followed by a decimal digit string.  The amount
       being formatted is rounded to the specified number  of  digits  prior  to  formatting.   The  default  is
       specified  in the <u>frac_digits</u> and <u>int_frac_digits</u> items of the current locale.  If the right precision is
       0, no radix character is printed.  (The radix character here is determined by <b>LC_MONETARY</b>, and may differ
       from that specified by <b>LC_NUMERIC</b>.)

       Finally, the conversion specification must be ended with a conversion character.   The  three  conversion
       characters are

       <b>%</b>      (In  this case, the entire specification must be exactly "%%".)  Put a '%' character in the result
              string.

       <b>i</b>      One argument of type <u>double</u> is converted using the locale's international currency format.

       <b>n</b>      One argument of type <u>double</u> is converted using the locale's national currency format.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       The <b>strfmon</b>() function returns the number of  characters  placed  in  the  array  <u>s</u>,  not  including  the
       terminating  null  byte,  provided  the string, including the terminating null byte, fits.  Otherwise, it
       sets <u>errno</u> to <b>E2BIG</b>, returns -1, and the contents of the array is undefined.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       For an explanation of the terms used in this section, see <b><a href="../man7/attributes.7.html">attributes</a></b>(7).
       ┌──────────────────────────────────────────────────────────────────────┬───────────────┬────────────────┐
       │ <b>Interface</b>                                                            │ <b>Attribute</b>     │ <b>Value</b>          │
       ├──────────────────────────────────────────────────────────────────────┼───────────────┼────────────────┤
       │ <b>strfmon</b>()                                                            │ Thread safety │ MT-Safe locale │
       ├──────────────────────────────────────────────────────────────────────┼───────────────┼────────────────┤
       │ <b>strfmon_l</b>()                                                          │ Thread safety │ MT-Safe        │
       └──────────────────────────────────────────────────────────────────────┴───────────────┴────────────────┘

</pre><h4><b>STANDARDS</b></h4><pre>
       POSIX.1-2008.

</pre><h4><b>HISTORY</b></h4><pre>
       POSIX.1-2001.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The call

           strfmon(buf, sizeof(buf), "[%^=*#6n] [%=*#6i]",
                   1234.567, 1234.567);

       outputs

           [€ **1234,57] [EUR **1 234,57]

       in the <u>nl_NL</u> locale.  The <u>de_DE</u>, <u>de_CH</u>, <u>en_AU</u>, and <u>en_GB</u> locales yield

           [ **1234,57 €] [ **1.234,57 EUR]
           [ Fr. **1234.57] [ CHF **1'234.57]
           [ $**1234.57] [ AUD**1,234.57]
           [ £**1234.57] [ GBP**1,234.57]

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/duplocale.3.html">duplocale</a></b>(3), <b><a href="../man3/setlocale.3.html">setlocale</a></b>(3), <b><a href="../man3/sprintf.3.html">sprintf</a></b>(3), <b><a href="../man7/locale.7.html">locale</a></b>(7)

Linux man-pages 6.9.1                              2024-05-02                                         <u><a href="../man3/strfmon.3.html">strfmon</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>