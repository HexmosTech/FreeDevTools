<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>afnix-us-xpe - xml processing environment service</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/afnix">afnix_3.8.0-1.1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       afnix-us-xpe - xml processing environment service

</pre><h4><b>XML</b> <b>PROCESSING</b> <b>ENVIRONMENT</b> <b>SERVICE</b></h4><pre>
       The  XML  Processing  Environment  service  is  an  original implementation that provides the support for
       processing xml document that could be  accessed  locally  or  remotely.  In  particular,  the  processing
       environment supports the XML include facility.

       <b>XML</b> <b>content</b>
       The  XmlContent  class is an extension of the XML document object that provides the service for loading a
       XML document locally or from the Internet. The class operates with an uri, which permits to  selects  the
       appropriate loader from the uri scheme.

       <u>Content</u> <u>creation</u>
       The XmlContent operates with an uri that permits to select the appropriate loader. If the uri scheme is a
       file  scheme,  the  content  is retrieved locally. If the uri scheme is http, the content is retrieved by
       establishing a http connection over the Internet.

       # create a document from a local file
       const xdoc (
         afnix:xpe:XmlContent "file:///home/afnix/file.xml")

       When the uri scheme is a file, the uri authority is empty (hence the double //) and  the  path  indicates
       the file to parse. The XmlContent object is derived from the XmlDocument object which contains the parsed
       tree with the XmlRoot object.

       # create a document from a http connection
       const xdoc (
         afnix:xpe:XmlContent
         "<a href="http://www.afnix.org/index.xht">http://www.afnix.org/index.xht</a>")

       When  the uri scheme is a http scheme, the document is downloaded by establishing an http connection with
       the uri authority. When the http header is received,  the  content  is  parsed  to  create  a  valid  xml
       document.  If  the http response header indicates that the page has moved and a new location is provided,
       the object manages automatically to follow such location.

       <u>Content</u> <u>and</u> <u>document</u> <u>name</u>
       Since the XmlContent object is derived from the XmlContent object, the content object is defined  with  a
       uri  name  and a document name. Under normal circumstances, the document name is derived from the content
       name by normalizing it. The content name is the object constructor name, while the document name  is  the
       normalized document name. The get-name method returns the content name while the get-document-name method
       returns the document name.

       # create a document by name
       const xdoc (afnix:xpe:XmlContent "file" "file.xml")

       In the previous example, a xml content object is created by name with a document name. It is the document
       name  that  gets  normalized. Therefore in the previous example, the file.xml document name is normalized
       into a file uri. The normalization rule always favor the file scheme. This means that without  a  scheme,
       the file scheme is automatically added.

       <u>Content</u> <u>type</u>
       Many  times,  the  content  type cannot be detected from the uri name. Once opened, if the content header
       provides a clue about the content type, the opened input stream get  adjusted  automatically  to  reflect
       this  fact.  However,  this situation does not occurs often and with http scheme, the content type header
       response does not often provides the character encoding associated with the stream. For this reason,  the
       XmlContent constructor provides a mechanism to accept the encoding mode.

       # create a new content by name and encoding mode
       const xdoc (
         afnix:xpe:XmlContent "file" "file.xml" "UTF-8")

</pre><h4><b>XML</b> <b>PROCESSING</b> <b>ENVIRONMENT</b> <b>SERVICE</b> <b>REFERENCE</b></h4><pre>
       <b>XmlContent</b>
       The XmlContent class is an extension of the xml document class that operates at the uri level. If the uri
       is  a local file the xml document is created from an input file stream. If the uri is an url, the content
       is fetched automatically. The class constructors permit to separate the content name  from  the  document
       name and also to specify the content encoding.

       <u>Predicate</u>

              xml-content-p

       <u>Inheritance</u>

              XmlDocumentMime

       <u>Constructors</u>

              <b>XmlContent</b> <b>(String)</b>
              The XmlContent constructor creates a xml document by name. The document name is the normalized uri
              name that always favor a file scheme in the absence of it.

              <b>XmlContent</b> <b>(String</b> <b>String)</b>
              The XmlContent constructor creates a xml document by name. The first argument is the content name.
              The second argument is the document name which is normalized to form the uri name used to load the
              document.

              <b>XmlContent</b> <b>(String</b> <b>String</b> <b>String)</b>
              The XmlContent constructor creates a xml document by name and encoding mode. The first argument is
              the  content  name.  The  second argument is the document name which is normalized to form the uri
              name used to load the document. The third argument is the content character encoding.

       <u>Methods</u>

              <b>get-document-uri</b> <b>-&gt;</b> <b>String</b> <b>(none)</b>
              The get-document-uri method returns the document normalized uri.

              <b>get-document-name</b> <b>-&gt;</b> <b>String</b> <b>(none)</b>
              The get-document-name method returns the object document name. This method  complements  the  get-
              name method which returns the object name.

       <b>XmlFeature</b>
       The  XmlFeature  class  is  a  xml  processor  base class that defines a processing feature. A processing
       feature is defined by name and information with a processing level. The default processing level is null.
       When the processor is called, it calls sequentially and in ascending order all features.

       <u>Predicate</u>

              xhtml-feature-p

       <u>Inheritance</u>

              Nameable

       <u>Methods</u>

              <b>get-info</b> <b>-&gt;</b> <b>String</b> <b>(none)</b>
              The get-info method returns the xml feature information string. The feature name is available from
              the get-name provided by the Nameable base class.

              <b>set-processing-level</b> <b>-&gt;</b> <b>none</b> <b>(Integer)</b>
              The set-processing-level method sets the feature processing level. The  integer  argument  is  the
              level to set.

              <b>get-processing-level</b> <b>-&gt;</b> <b>Integer</b> <b>(none)</b>
              The get-processing-level method returns the feature processing level.

              <b>processing-level-p</b> <b>-&gt;</b> <b>Boolean</b> <b>(Integer)</b>
              The processing-level-p predicate returns true if the integer argument equal the feature processing
              level.

              <b>process</b> <b>-&gt;</b> <b>XmlContent</b> <b>(XmlContent)</b>
              The  process  method  process  the  input xml content and returns a new xml content. The method is
              automatically called by the xml processor.

       <b>XmlProcessor</b>
       The XmlProcessor class is a global class designed to operate on a xml content. The xml processor provides
       several features that can be enabled prior the document processor. Once the  features  are  defined,  the
       'process' method can be called and a new xml content can be produced.

       <u>Predicate</u>

              xml-processor-p

       <u>Inheritance</u>

              Object

       <u>Constructors</u>

              <b>XmlProcessor</b> <b>(none)</b>
              The XmlProcessor constructor creates a default xml processor without any feature.

       <u>Methods</u>

              <b>feature-length</b> <b>-&gt;</b> <b>Integer</b> <b>(none)</b>
              The feature-length method returns the number of features defined in the xml processor.

              <b>add-feature</b> <b>-&gt;</b> <b>none</b> <b>(XmlFeature)</b>
              The  add-feature  method adds a feature object to the processor. The feature processing level does
              not have to be sorted prior the insertion. Adding multiple feature creates a processor chain.

              <b>get-feature</b> <b>-&gt;</b> <b>XmlFeature</b> <b>(Integer)</b>
              The get-feature method return a processor feature by index.

              <b>process</b> <b>-&gt;</b> <b>XmlFeature</b> <b>(XmlFeature)</b>
              The process method create a new xml content by calling processing feature chain. The feature chain
              consists of feature object sorted in ascending order. If the processor contains only one  feature,
              calling the process method is equivalent to call the XmlFeature same method.

       <b>XmlInclude</b>
       The  XmlInclude  class  is  a  xml  processor feature class designed to handle the "XInclude" schema that
       permits to include xml document. The  feature  operates  recursively  by  scanning  the  document  for  a
       "xi:include"  tag  and  replacing  the  content by the appropriate tree. The feature operates recursively
       unless specified otherwise.

       <u>Predicate</u>

              xml-include-p

       <u>Inheritance</u>

              XmlFeature

       <u>Constructors</u>

              <b>XmlInclude</b> <b>(none)</b>
              The XmlInclude constructor creates a default xml include feature. The default  feature  processing
              level is 10.

              <b>XmlInclude</b> <b>(Integer)</b>
              The  XmlInclude  constructor  creates  a  xml include feature with a processing level. The integer
              argument is the feature processing level to set.

AFNIX Service                                         AFNIX                                      <u><a href="../man3/afnix-us-xpe.3.html">afnix-us-xpe</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>