<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       getenv — get value of an environment variable

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;

       char *getenv(const char *<u>name</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  functionality  described  on  this  reference  page is aligned with the ISO C standard. Any conflict
       between the requirements described  here  and  the  ISO C  standard  is  unintentional.  This  volume  of
       POSIX.1‐2017 defers to the ISO C standard.

       The  <u>getenv</u>()  function  shall  search  the  environment of the calling process (see the Base Definitions
       volume of POSIX.1‐2017, <u>Chapter</u> <u>8</u>, <u>Environment</u> <u>Variables</u>) for the environment variable <u>name</u> if it  exists
       and  return  a  pointer  to  the value of the environment variable. If the specified environment variable
       cannot be found, a null pointer shall be returned. The application shall ensure that it does  not  modify
       the string pointed to by the <u>getenv</u>() function.

       The  returned  string  pointer  might  be  invalidated  or  the  string content might be overwritten by a
       subsequent call to <u>getenv</u>(), <u>setenv</u>(), <u>unsetenv</u>(),
       or (if supported) <u>putenv</u>() but they shall not be affected by a call to any other function in this  volume
       of POSIX.1‐2017.

       The returned string pointer might also be invalidated if the calling thread is terminated.

       The <u>getenv</u>() function need not be thread-safe.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon  successful  completion,  <u>getenv</u>()  shall  return a pointer to a string containing the <u>value</u> for the
       specified <u>name</u>.  If the specified <u>name</u> cannot be found in the environment of the calling process, a  null
       pointer shall be returned.

</pre><h4><b>ERRORS</b></h4><pre>
       No errors are defined.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Getting</b> <b>the</b> <b>Value</b> <b>of</b> <b>an</b> <b>Environment</b> <b>Variable</b>
       The following example gets the value of the <u>HOME</u> environment variable.

           #include &lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;
           ...
           const char *name = "HOME";
           char *value;

           value = getenv(name);

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       None.

</pre><h4><b>RATIONALE</b></h4><pre>
       The  <u>clearenv</u>()  function  was  considered  but rejected. The <u>putenv</u>() function has now been included for
       alignment with the Single UNIX Specification.

       The <u>getenv</u>() function is inherently not thread-safe because it returns a value pointing to static data.

       Conforming applications are required not to directly modify the pointers to which <u>environ</u> points, but  to
       use only the <u>setenv</u>(), <u>unsetenv</u>(), and <u>putenv</u>() functions, or assignment to <u>environ</u> itself, to manipulate
       the  process  environment.  This  constraint  allows  the implementation to properly manage the memory it
       allocates. This enables the implementation to free any space it has allocated to strings (and perhaps the
       pointers to them) stored in <u>environ</u> when <u>unsetenv</u>() is called. A C runtime start-up procedure (that which
       invokes <u>main</u>() and perhaps initializes <u>environ</u>) can also initialize a flag indicating that  none  of  the
       environment  has  yet  been  copied  to  allocated  storage,  or that the separate table has not yet been
       initialized. If the application switches to a complete new  environment  by  assigning  a  new  value  to
       <u>environ</u>,  this  can be detected by <u>getenv</u>(), <u>setenv</u>(), <u>unsetenv</u>(), or <u>putenv</u>() and the implementation can
       at that point reinitialize based on the new  environment.  (This  may  include  copying  the  environment
       strings into a new array and assigning <u>environ</u> to point to it.)

       In  fact,  for  higher  performance  of <u>getenv</u>(), implementations that do not provide <u>putenv</u>() could also
       maintain a separate copy of the environment in a data structure that could be searched much more  quickly
       (such as an indexed hash table, or a binary tree), and update both it and the linear list at <u>environ</u> when
       <u>setenv</u>()  or  <u>unsetenv</u>() is invoked. On implementations that do provide <u>putenv</u>(), such a copy might still
       be worthwhile but would need to allow for the fact that applications can directly modify the  content  of
       environment  strings  added  with <u>putenv</u>().  For example, if an environment string found by searching the
       copy is one that was added using <u>putenv</u>(), the implementation would need to  check  that  the  string  in
       <u>environ</u> still has the same name (and value, if the copy includes values), and whenever searching the copy
       produces  no  match  the implementation would then need to search each environment string in <u>environ</u> that
       was added using <u>putenv</u>() in case any of them have changed their names and now match. Thus,  each  use  of
       <u>putenv</u>() to add to the environment would reduce the speed advantage of having the copy.

       Performance  of  <u>getenv</u>()  can  be  important  for  applications  which have large numbers of environment
       variables. Typically, applications like this  use  the  environment  as  a  resource  database  of  user-
       configurable parameters.  The fact that these variables are in the user's shell environment usually means
       that  any  other  program that uses environment variables (such as <u>ls</u>, which attempts to use <u>COLUMNS</u>), or
       really almost any utility (<u>LANG</u>, <u>LC_ALL</u>, and so on) is similarly slowed down by the linear search through
       the variables.

       An implementation that maintains separate data structures,  or  even  one  that  manages  the  memory  it
       consumes, is not currently required as it was thought it would reduce consensus among implementors who do
       not want to change their historical implementations.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       A  future  version  may  add  one or more functions to access and modify the environment in a thread-safe
       manner.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>exec</u>, <u>putenv</u>(), <u>setenv</u>(), <u>unsetenv</u>()

       The Base Definitions volume of POSIX.1‐2017, <u>Chapter</u> <u>8</u>, <u>Environment</u> <u>Variables</u>, <b>&lt;stdlib.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                        <u><a href="../man3POSIX/GETENV.3POSIX.html">GETENV</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>