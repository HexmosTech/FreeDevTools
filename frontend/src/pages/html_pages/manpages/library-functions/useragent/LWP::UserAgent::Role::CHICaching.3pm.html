<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LWP::UserAgent::Role::CHICaching - A role to allow LWP::UserAgent to cache with CHI</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liblwp-useragent-chicaching-perl">liblwp-useragent-chicaching-perl_0.04-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       LWP::UserAgent::Role::CHICaching - A role to allow LWP::UserAgent to cache with CHI

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Compose it into a class, e.g.

         package LWP::UserAgent::MyCacher;
         use Moo;
         extends 'LWP::UserAgent';
         with 'LWP::UserAgent::Role::CHICaching',
              'LWP::UserAgent::Role::CHICaching::SimpleKeyGen',
              'LWP::UserAgent::Role::CHICaching::SimpleMungeResponse';

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This is a role for creating caching user agents. When the client makes a request to the server, sometimes
       the response should be cached, so that no actual request has to be sent at all, or possibly just a
       request to validate the cache. HTTP 1.1 defines how to do this. This role makes it possible to use the
       very flexible CHI module to manage such a cache. See LWP::UserAgent::CHICaching for a finished class you
       can use.

   <b>Attributes</b> <b>and</b> <b>Methods</b>
       "cache"
           Used to set the "CHI" object to be used as cache in the constructor.

       "request_uri"
           The  Request-URI of the request. When set, it will clear the "key", but should probably be left to be
           used internally for now.

       "request"
           Wrapping LWP::UserAgent's request method.

       "is_shared"
           A boolean value to set whether the cache can be shared. The default is that it is.

       "heuristics_opts"
           A hashref that is passed to the "freshness_lifetime" method of HTTP::Response, and used to  determine
           the  behaviour  of  the  heuristic  lifetime.  By  default, heuristic freshness lifetime is off, only
           standards-compliant freshness lifetime (i.e. based on the "Cache-Control" and "Expires" headers)  are
           used.

   <b>Implemented</b> <b>elsewhere</b>
       The     following     are     required     by    this    role,    but    implemented    elsewhere.    See
       LWP::UserAgent::Role::CHICaching::SimpleKeyGen and  LWP::UserAgent::Role::CHICaching::SimpleMungeResponse
       for further explanations.

       "key", "clear_key"
           The key to use for a response.

       cache_vary($response)
           A  method  that returns true if the response may be cached even if it contains a "Vary" header, false
           otherwise. The HTTP::Response object will be passed to it as a parameter.

       "cache_set($response, $expires_in)"
           A method that takes the HTTP::Response from the client and an expires time in  seconds  and  set  the
           actual cache.

       finalize($cached)
           A  method  that  takes the cached entry as an argument, and will return a HTTP::Response to return to
           the client.

</pre><h4><b>LIMITATIONS</b></h4><pre>
       Will only cache "GET" requests, and only successful responses.

       The module does not validate and does not serve stale responses, even when it would be allowed to do  so.
       It nevertheless does most of RFC7234.

</pre><h4><b>BUGS</b></h4><pre>
       Please report any bugs to &lt;https://github.com/kjetilk/p5-lwp-useragent-chicaching/issues&gt;.

</pre><h4><b>AUTHOR</b></h4><pre>
       Kjetil Kjernsmo &lt;<a href="mailto:kjetilk@cpan.org">kjetilk@cpan.org</a>&gt;.

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
       It was really nice looking at the code of LWP::UserAgent::WithCache, when I wrote this.

       Thanks to Matt S. Trout for rewriting this to a Role.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENCE</b></h4><pre>
       This software is copyright (c) 2015, 2016 by Kjetil Kjernsmo.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.40.1                                       2025-08-14              <u>LWP::UserAgent::Role::<a href="../man3pm/CHICaching.3pm.html">CHICaching</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>