<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pt_peg_op - Parser Tools PE Grammar Utility Operations</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pt_peg_op - Parser Tools PE Grammar Utility Operations

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.5</b> <b>9</b>

       package require <b>pt::peg::op</b> <b>?1.2.0?</b>

       <b>::peg::peg::op</b> <b>called</b> <u>container</u>

       <b>::peg::peg::op</b> <b>dechain</b> <u>container</u>

       <b>::peg::peg::op</b> <b>drop</b> <b>unreachable</b> <u>container</u>

       <b>::peg::peg::op</b> <b>drop</b> <b>unrealizable</b> <u>container</u>

       <b>::peg::peg::op</b> <b>flatten</b> <u>container</u>

       <b>::peg::peg::op</b> <b>minimize</b> <u>container</u>

       <b>::peg::peg::op</b> <b>modeopt</b> <u>container</u>

       <b>::peg::peg::op</b> <b>reachable</b> <u>container</u>

       <b>::peg::peg::op</b> <b>realizable</b> <u>container</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Are  you lost ?  Do you have trouble understanding this document ?  In that case please read the overview
       provided by the <u>Introduction</u> <u>to</u> <u>Parser</u> <u>Tools</u>. This document is the entrypoint to  the  whole  system  the
       current package is a part of.

       This package provides a number of utility commands manipulating a PE grammar (container) in various ways.

</pre><h4><b>API</b></h4><pre>
       <b>::peg::peg::op</b> <b>called</b> <u>container</u>
              This  command  determines  the  static  call  structure for the nonterminal symbols of the grammar
              stored in the <u>container</u>.

              The result of the command is a dictionary mapping from each symbol to the symbols  it  calls.  The
              empty string is the key used to represent the start expression of the grammar.

              The grammar in the container is not modified.

              The   <u>container</u>   instance   has   to   expose  a  method  API  as  is  provided  by  the  package
              <b>pt::peg::container</b>.

       <b>::peg::peg::op</b> <b>dechain</b> <u>container</u>
              This command simplifies all symbols which just chain to a different symbol by inlining  the  right
              hand  side  of  the called symbol in its callers. This works if and only the modes match properly,
              per the decision table below.

              caller called | dechain | notes
              --------------+---------+-----------------------
              value  value  |  yes    |  value is passed
              value  leaf   |  yes    |  value is passed
              value  void   |  yes    |  caller is implied void
              leaf   value  |  no     |  generated value was discarded, inlined would not. called may be implied void.
              leaf   leaf   |  no     |  s.a.
              leaf   void   |  no     |  s.a.
              void   value  |  no     |  caller drops value, inlined would not.
              void   leaf   |  no     |  s.a.
              void   void   |  yes    |

       The result of the command is the empty string.

       The grammar in the container is directly modified. If  that  is  not  wanted,  a  copy  of  the  original
       container has to be used.

       The <u>container</u> instance has to expose a method API as is provided by the package <b>pt::peg::container</b>.

       <b>::peg::peg::op</b> <b>drop</b> <b>unreachable</b> <u>container</u>
              This command removes all symbols from the grammar which are not <b>reachable</b>.

              The result of the command is the empty string.

              The  grammar  in the container is directly modified. If that is not wanted, a copy of the original
              container has to be used.

              The  <u>container</u>  instance  has  to  expose  a  method  API  as   is   provided   by   the   package
              <b>pt::peg::container</b>.

       <b>::peg::peg::op</b> <b>drop</b> <b>unrealizable</b> <u>container</u>
              This command removes all symbols from the grammar which are not <b>realizable</b>.

              The result of the command is the empty string.

              The  grammar  in the container is directly modified. If that is not wanted, a copy of the original
              container has to be used.

              The  <u>container</u>  instance  has  to  expose  a  method  API  as   is   provided   by   the   package
              <b>pt::peg::container</b>.

       <b>::peg::peg::op</b> <b>flatten</b> <u>container</u>
              This  command  flattens (see <b>pt::pe::op</b>) all expressions in the grammar, i.e. the start expression
              and the right hand sides of all nonterminal symbols.

              The result of the command is the empty string.

              The grammar in the container is directly modified. If that is not wanted, a copy of  the  original
              container has to be used.

              The   <u>container</u>   instance   has   to   expose  a  method  API  as  is  provided  by  the  package
              <b>pt::peg::container</b>.

       <b>::peg::peg::op</b> <b>minimize</b> <u>container</u>
              This command reduces the provided grammar by applying most of the other methods of this package.

              After flattening the expressions it removes unreachable and  unrealizable  symbols,  flattens  the
              expressions  again,  then  optimizes  the  symbol modes before collapsing symbol chains as much as
              possible.

              The result of the command is the empty string.

              The grammar in the container is directly modified. If that is not wanted, a copy of  the  original
              container has to be used.

              The   <u>container</u>   instance   has   to   expose  a  method  API  as  is  provided  by  the  package
              <b>pt::peg::container</b>.

       <b>::peg::peg::op</b> <b>modeopt</b> <u>container</u>
              This command optimizes the semantic modes of non-terminal  symbols  according  to  the  two  rules
              below.

              [1]    If  a  symbol  X with mode <b>value</b> calls no other symbols, i.e. uses only terminal symbols in
                     whatever combination, then this can be represented simpler by using mode <b>leaf</b>.

              [2]    If a symbol X is only called from symbols with modes <b>leaf</b> or <b>void</b> then this  symbol  should
                     have mode <b>void</b> also, as any AST it could generate will be discarded anyway.

       The result of the command is the empty string.

       The  grammar  in  the  container  is  directly  modified.  If  that is not wanted, a copy of the original
       container has to be used.

       The <u>container</u> instance has to expose a method API as is provided by the package <b>pt::peg::container</b>.

       <b>::peg::peg::op</b> <b>reachable</b> <u>container</u>
              This command computes the set of all nonterminal  symbols  which  are  reachable  from  the  start
              expression of the grammar. This is essentially the transitive closure over <b>called</b> and the symbol's
              right hand sides, beginning with the start expression.

              The result of the command is the list of reachable symbols.

              The grammar in the container is not modified.

              The   <u>container</u>   instance   has   to   expose  a  method  API  as  is  provided  by  the  package
              <b>pt::peg::container</b>.

       <b>::peg::peg::op</b> <b>realizable</b> <u>container</u>
              This command computes the set of all nonterminal symbols which are  realizable,  i.e.  can  derive
              pure terminal phrases. This is done iteratively, starting with state unrealizable for all and any,
              and then updating all symbols which are realizable, propagating changes, until nothing changes any
              more.

              The result of the command is the list of realizable symbols.

              The grammar in the container is not modified.

              The   <u>container</u>   instance   has   to   expose  a  method  API  as  is  provided  by  the  package
              <b>pt::peg::container</b>.

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This document, and the package it describes, will undoubtedly contain bugs and  other  problems.   Please
       report  such  in  the  category <u>pt</u> of the <u>Tcllib</u> <u>Trackers</u> [<a href="http://core.tcl.tk/tcllib/reportlist">http://core.tcl.tk/tcllib/reportlist</a>].  Please
       also report any ideas for enhancements you may have for either package and/or documentation.

       When proposing code changes, please provide <u>unified</u> <u>diffs</u>, i.e the output of <b>diff</b> <b>-u</b>.

       Note further that <u>attachments</u> are strongly preferred over inlined patches. Attachments  can  be  made  by
       going  to the <b>Edit</b> form of the ticket immediately after its creation, and then using the left-most button
       in the secondary navigation bar.

</pre><h4><b>KEYWORDS</b></h4><pre>
       EBNF,  LL(k),  PEG,  TDPL,  context-free  languages,  expression,  grammar,  matching,  parser,   parsing
       expression,  parsing  expression grammar, push down automaton, recursive descent, state, top-down parsing
       languages, transducer

</pre><h4><b>CATEGORY</b></h4><pre>
       Parsing and Grammars

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2009 Andreas Kupries &lt;<a href="mailto:andreas_kupries@users.sourceforge.net">andreas_kupries@users.sourceforge.net</a>&gt;

tcllib                                                1.2.0                                      <u><a href="../man3tcl/pt_peg_op.3tcl.html">pt_peg_op</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>