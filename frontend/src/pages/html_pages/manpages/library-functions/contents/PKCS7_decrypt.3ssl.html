<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PKCS7_decrypt - decrypt content from a PKCS#7 envelopedData structure</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       PKCS7_decrypt - decrypt content from a PKCS#7 envelopedData structure

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/pkcs7.h&gt;

        int PKCS7_decrypt(PKCS7 *p7, EVP_PKEY *pkey, X509 *cert, BIO *data, int flags);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>PKCS7_decrypt()</b> extracts and decrypts the content from a PKCS#7 envelopedData structure. <b>pkey</b> is the
       private key of the recipient, <b>cert</b> is the recipients certificate, <b>data</b> is a BIO to write the content to
       and <b>flags</b> is an optional set of flags.

</pre><h4><b>NOTES</b></h4><pre>
       Although the recipients certificate is not needed to decrypt the data it is needed to locate the
       appropriate (of possible several) recipients in the PKCS#7 structure.

       The following flags can be passed in the <b>flags</b> parameter.

       If the <b>PKCS7_TEXT</b> flag is set MIME headers for type <b>text/plain</b> are deleted from the content. If the
       content is not of type <b>text/plain</b> then an error is returned.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>PKCS7_decrypt()</b> returns either 1 for success or 0 for failure.  The error can be obtained from
       <b><a href="../man3/ERR_get_error.3.html">ERR_get_error</a></b>(3)

</pre><h4><b>BUGS</b></h4><pre>
       <b>PKCS7_decrypt()</b> must be passed the correct recipient key and certificate. It would be better if it could
       look up the correct key and certificate from a database.

       The lack of single pass processing and need to hold all data in memory as mentioned in <b>PKCS7_sign()</b> also
       applies to <b>PKCS7_verify()</b>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ERR_get_error.3.html">ERR_get_error</a></b>(3), <b><a href="../man3/PKCS7_encrypt.3.html">PKCS7_encrypt</a></b>(3)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2002-2016 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                                <u><a href="../man3SSL/PKCS7_DECRYPT.3SSL.html">PKCS7_DECRYPT</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>