<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>curl_mime_filedata - set a mime part's body data from a file contents</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       curl_mime_filedata - set a mime part's body data from a file contents

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_mime_filedata(curl_mimepart *part,
                                   const char *filename);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u><a href="../man3/curl_mime_filedata.3.html">curl_mime_filedata</a>(3)</u>  sets  a  mime  part's  body  content  from  the  named file's contents. This is an
       alternative to <u><a href="../man3/curl_mime_data.3.html">curl_mime_data</a>(3)</u> for setting data to a mime part.

       <u>part</u> is the part's to assign contents to.

       <u>filename</u> points to the null-terminated file's path name. The pointer can be NULL to detach  the  previous
       part contents settings. Filename storage can be safely be reused after this call.

       As  a  side  effect,  the part's remote filename is set to the base name of the given <u>filename</u> if it is a
       valid named file. This can be undone or overridden by a subsequent call to <u><a href="../man3/curl_mime_filename.3.html">curl_mime_filename</a>(3)</u>.

       The contents of the file is read during the file transfer in a streaming manner to allow  huge  files  to
       get  transferred without using much memory. It therefore requires that the file is kept intact during the
       entire request.

       If the file size cannot be determined before actually reading it (such as for a character device or named
       pipe), the whole mime structure containing the part is transferred using chunks by HTTP but  is  rejected
       by IMAP.

       Setting a part's contents multiple times is valid: only the value set by the last call is retained.

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects http, imap and smtp

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         curl_mime *mime;
         curl_mimepart *part;

         CURL *curl = curl_easy_init();
         if(curl) {
           /* create a mime handle */
           mime = curl_mime_init(curl);

           /* add a part */
           part = <a href="../manmime/curl_mime_addpart.mime.html">curl_mime_addpart</a>(mime);

           /* send data from this file */
           curl_mime_filedata(part, "image.png");

           /* set name */
           curl_mime_name(part, "data");
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.56.0

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       This function returns a CURLcode indicating success or error.

       CURLE_OK  (0)  means  everything  was  OK,  non-zero  means  an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>. If
       <u><a href="../man3/CURLOPT_ERRORBUFFER.3.html">CURLOPT_ERRORBUFFER</a>(3)</u> was set with <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> there can be an error message stored in the error
       buffer when non-zero is returned.

       CURLE_READ_ERROR is only an indication that the file is not yet readable: it can  be  safely  ignored  at
       this time, but the file must be made readable before the pertaining easy handle is performed.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/curl_mime_addpart.3.html">curl_mime_addpart</a></b>(3), <b><a href="../man3/curl_mime_data.3.html">curl_mime_data</a></b>(3), <b><a href="../man3/curl_mime_filename.3.html">curl_mime_filename</a></b>(3), <b><a href="../man3/curl_mime_name.3.html">curl_mime_name</a></b>(3)

libcurl                                            2025-06-16                              <u><a href="../man3/curl_mime_filedata.3.html">curl_mime_filedata</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>