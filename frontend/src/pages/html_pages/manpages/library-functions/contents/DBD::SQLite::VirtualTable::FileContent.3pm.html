<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DBD::SQLite::VirtualTable::FileContent -- virtual table for viewing file contents</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdbd-sqlite3-perl">libdbd-sqlite3-perl_1.76-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       DBD::SQLite::VirtualTable::FileContent -- virtual table for viewing file contents

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Within Perl :

         $dbh-&gt;sqlite_create_module(fcontent =&gt; "DBD::SQLite::VirtualTable::FileContent");

       Then, within SQL :

         CREATE VIRTUAL TABLE tbl USING fcontent(
            source      = src_table,
            content_col = content,
            path_col    = path,
            expose      = "path, col1, col2, col3", -- or "*"
            root        = "/foo/bar"
            get_content = Foo::Bar::read_from_file
           );

         SELECT col1, path, content FROM tbl WHERE ...;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A "FileContent" virtual table is bound to some underlying <u>source</u> <u>table</u>, which has a column containing
       paths to files.  The virtual table behaves like a database view on the source table, with an added column
       which exposes the content from those files.

       This is especially useful as an "external content" to some fulltext table (see
       DBD::SQLite::Fulltext_search) : the index table stores some metadata about files, and then the fulltext
       engine can index both the metadata and the file contents.

</pre><h4><b>PARAMETERS</b></h4><pre>
       Parameters for creating a "FileContent" virtual table are specified within the "CREATE VIRTUAL TABLE"
       statement, just like regular column declarations, but with an '=' sign.  Authorized parameters are :

       "source"
           The name of the <u>source</u> <u>table</u>.  This parameter is mandatory. All other parameters are optional.

       "content_col"
           The name of the virtual column exposing file contents.  The default is "content".

       "path_col"
           The name of the column in "source" that contains paths to files.  The default is "path".

       "expose"
           A  comma-separated  list  (within  double quotes) of source column names to be exposed by the virtual
           table. The default is "*", which means all source columns.

       "root"
           An optional root directory that will be prepended to the <u>path</u> column when opening files.

       "get_content"
           Fully qualified name of a Perl function for reading file contents.  The default  implementation  just
           slurps  the entire file into a string; but this hook can point to more sophisticated implementations,
           like for example a function that would remove html tags. The hooked function is called like this :

             $file_content = $get_content-&gt;($path, $root);

</pre><h4><b>AUTHOR</b></h4><pre>
       Laurent Dami &lt;<a href="mailto:dami@cpan.org">dami@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright Laurent Dami, 2014.

       This library is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

perl v5.40.0                                       2024-10-28             <u>DBD::SQLite::Vi...le::<a href="../man3pm/FileContent.3pm.html">FileContent</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>