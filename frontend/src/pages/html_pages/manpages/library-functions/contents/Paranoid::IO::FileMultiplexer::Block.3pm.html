<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paranoid::IO::FileMultiplexer::Block - Block-level Allocator/Accessor</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libparanoid-perl">libparanoid-perl_2.10-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Paranoid::IO::FileMultiplexer::Block - Block-level Allocator/Accessor

</pre><h4><b>VERSION</b></h4><pre>
       $Id: lib/Paranoid/IO/FileMultiplexer/Block.pm, 2.10 2022/03/08 00:01:04 acorliss Exp $

</pre><h4><b>SYNOPSIS</b></h4><pre>
           $obj = Paranoid::IO::FileMultiplexer::Block-&gt;new(
                   $filename, $bnum, $bsize);
           $rv  = $obj-&gt;allocate;

           $bn   = $obj-&gt;blockNum;
           $bs   = $obj-&gt;blockSize;
           $minp = $obj-&gt;minPos;
           $maxp = $obj-&gt;maxPos;

           $bytesWritten = $obj-&gt;bwrite($content);
           $bytesWritten = $obj-&gt;bwrite($content, $start );
           $bytesWritten = $obj-&gt;bwrite($content, $start, $length );
           $bytesWritten = $obj-&gt;bwrite($content, $start, $length, $offset );
           $bytesRead    = $obj-&gt;bread(\$content);
           $bytesRead    = $obj-&gt;bread(\$content, $start, $bytes);
           $bytesRead    = $obj-&gt;bread(\$content, undef, $bytes);
           $bytesRead    = $obj-&gt;bread(\$content, $start, $bytes);

           $rv = $obj-&gt;recalibrate;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class is not meant to be used directly, but as part of the Paranoid::IO::FileMultiplexer
       functionality.  It is primarily a base class from which other critical classes are derived.

       This module does presume that whatever file it is being used on has already been opened in the
       appropriate mode, and that the Paranoid::IO flock stack has been enabled.  For the purposes of
       Paranoid::IO::FileMultiplexer, this is done in that class.

</pre><h4><b>SUBROUTINES/METHODS</b></h4><pre>
   <b>new</b>
           $obj = Paranoid::IO::FileMultiplexer::Block-&gt;new(
                   $filename, $bnum, $bsize);

       This creates a new instance of a block object.  It requires the filename in order to retrieve the cached
       file handle from Paranoid::IO, the number of the block (using zero-based indexing), and the size of the
       block.  It will block size and the block number to calculate its actual position within the file.

   <b>blockNum</b>
           $bn = $obj-&gt;blockNum;

       This method returns the object's assigned block number.

   <b>blockSize</b>
           $bs = $obj-&gt;blockSize;

       This method returns the object's assigned block size.

   <b>minPos</b>
           $minp = $obj-&gt;minPos;

       This method returns the minimum file position for the block.

   <b>maxPos</b>
           $maxp = $obj-&gt;maxPos;

       This method returns the maximum file position for the block.

   <b>allocate</b>
           $rv = $obj-&gt;allocate;

       This method attempts to allocate the block on the file system, and returns a boolean indicating its
       success.  This method will fail if you attempt to allocate a block that's already been allocated, or a
       block whose file position is beyond the current end of the file.  In other words, blocks must be
       allocated in sequence.

   <b>recalibrate</b>
           $rv = $obj-&gt;recalibrate;

       This method recalculates minimum/maximum file position based on the currently set block size.  This
       should always be called after any change to blockSize.

   <b>bwrite</b>
           $bytesWritten = $obj-&gt;bwrite($content);
           $bytesWritten = $obj-&gt;bwrite($content, $start );
           $bytesWritten = $obj-&gt;bwrite($content, $start, $length );
           $bytesWritten = $obj-&gt;bwrite($content, $start, $length, $offset );

       This method writes the passed content to the block, while making sure that the content does not overflow
       the block boundaries.  If the <u>start</u> position of the write is omitted, it writes from the beginning of the
       block.  If the <u>start</u> position is provided, note that this is the position relative to the block, not the
       file.  That means you would specify values from a range of <b>o</b> to <b>(blockSize</b> <b>-</b> <b>1)</b>.

       This method is intentionally designed to allow you to pass more content than will fit inside of a block,
       and yet only write as much as will fit within the block.  The calling code should use the return value to
       figure out what remains to be written in other blocks, as needed.

   <b>bread</b>
           $bytesRead = $obj-&gt;bread(\$content);
           $bytesRead = $obj-&gt;bread(\$content, $start);
           $bytesRead = $obj-&gt;bread(\$content, undef, $bytes);
           $bytesRead = $obj-&gt;bread(\$content, $start, $bytes);

       This method reads the content of the block, while making sure that the content read does not go beyond
       the borders of the block.  If the <u>start</u> position of the read is omitted, it reads from the beginning of
       the block.  Like <b>bwrite</b>, this position is relative to the beginning of the block, not the file.

       This method is also intentionally designed to allow you to request more data than can fit within the
       block, yet returning only what the block contains.  The calling code should use the return value to
       figure out what remains to be read from other blocks, as needed.

</pre><h4><b>DEPENDENCIES</b></h4><pre>
       o   Fcntl

       o   Paranoid

       o   Paranoid::Debug

       o   Paranoid::IO

</pre><h4><b>BUGS</b> <b>AND</b> <b>LIMITATIONS</b></h4><pre>
</pre><h4><b>AUTHOR</b></h4><pre>
       Arthur Corliss (<a href="mailto:corliss@digitalmages.com">corliss@digitalmages.com</a>)

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       This  software  is  free  software.   Similar to Perl, you can redistribute it and/or modify it under the
       terms of either:

         a)     the GNU General Public License
                &lt;https://www.gnu.org/licenses/gpl-1.0.html&gt; as published by the
                Free Software Foundation &lt;<a href="http://www.fsf.org/">http://www.fsf.org/</a>&gt;; either version 1
                &lt;https://www.gnu.org/licenses/gpl-1.0.html&gt;, or any later version
                &lt;https://www.gnu.org/licenses/license-list.html#GNUGPL&gt;, or
         b)     the Artistic License 2.0
                &lt;https://opensource.org/licenses/Artistic-2.0&gt;,

       subject to the following additional term:  No trademark rights to "Paranoid" have been  or  are  conveyed
       under  any  of  the  above  licenses.  However, "Paranoid" may be used fairly to describe this unmodified
       software, in good faith, but not as a trademark.

       (c)  2005  -  2021,  Arthur  Corliss  (<a href="mailto:corliss@digitalmages.com">corliss@digitalmages.com</a>)  (tm)  2008  -   2021,   Paranoid   Inc.
       (www.paranoid.com)

perl v5.38.2                                       2024-03-07             <u>Paranoid::IO::F...tiplexer::<a href="../man3pm/Block.3pm.html">Block</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>