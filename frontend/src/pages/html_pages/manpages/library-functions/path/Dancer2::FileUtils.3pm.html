<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dancer2::FileUtils - File utility helpers</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdancer2-perl">libdancer2-perl_1.1.2+dfsg-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Dancer2::FileUtils - File utility helpers

</pre><h4><b>VERSION</b></h4><pre>
       version 1.1.2

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Dancer2::FileUtils qw/dirname path path_or_empty/;

           # for 'path/to/file'
           my $dir  = dirname($path); # returns 'path/to'
           my $path = path($path);    # returns '/abs/path/to/file'
           my $path = path_or_empty($path);    # returns '' if file doesn't exist

           use Dancer2::FileUtils qw/path read_file_content/;

           my $content = read_file_content( path( 'folder', 'folder', 'file' ) );
           my @content = read_file_content( path( 'folder', 'folder', 'file' ) );

           use Dancer2::FileUtils qw/read_glob_content set_file_mode/;

           open my $fh, '&lt;', $file or die "$!\n";
           set_file_mode($fh);
           my @content = read_glob_content($fh);
           my $content = read_glob_content($fh);

           use Dancer2::FileUtils qw/open_file/;

           my $fh = open_file('&lt;', $file) or die $message;

           use Dancer2::FileUtils 'set_file_mode';

           set_file_mode($fh);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Dancer2::FileUtils includes a few file related utilities that Dancer2 uses internally. Developers may use
       it instead of writing their own file reading subroutines or using additional modules.

</pre><h4><b>FUNCTIONS</b></h4><pre>
   <b>my</b> <b>$path</b> <b>=</b> <b>path(</b> <b>'folder',</b> <b>'folder',</b> <b>'filename');</b>
       Provides comfortable path resolution, internally using File::Spec. 'path' does not verify paths, it just
       normalizes the path.

   <b>my</b> <b>$path</b> <b>=</b> <b>path_or_empty('folder,</b> <b>'folder','filename');</b>
       Like path, but returns '' if path doesn't exist.

   <b>dirname</b>
           use Dancer2::FileUtils 'dirname';

           my $dir = dirname($path);

       Exposes File::Basename's <u>dirname</u>, to allow fetching a directory name from a path. On most OS, returns all
       but last level of file path. See File::Basename for details.

   <b>set_file_mode($fh);</b>
           use Dancer2::FileUtils 'set_file_mode';

           set_file_mode($fh);

       Applies charset setting from Dancer2's configuration. Defaults to utf-8 if no charset setting.

   <b>my</b> <b>$fh</b> <b>=</b> <b>open_file('&lt;',</b> <b>$file)</b> <b>or</b> <b>die</b> <b>$message;</b>
           use Dancer2::FileUtils 'open_file';
           my $fh = open_file('&lt;', $file) or die $message;

       Calls open and returns a filehandle. Takes in account the 'charset' setting from Dancer2's configuration
       to open the file in the proper encoding (or defaults to utf-8 if setting not present).

   <b>my</b> <b>$content</b> <b>=</b> <b>read_file_content($file);</b>
           use Dancer2::FileUtils 'read_file_content';

           my @content = read_file_content($file);
           my $content = read_file_content($file);

       Returns either the content of a file (whose filename is the input), or <u>undef</u> if the file could not be
       opened.

       In array context it returns each line (as defined by $/) as a separate element; in scalar context returns
       the entire contents of the file.

   <b>my</b> <b>$content</b> <b>=</b> <b>read_glob_content($fh);</b>
           use Dancer2::FileUtils 'read_glob_content';

           open my $fh, '&lt;', $file or die "$!\n";
           binmode $fh, ':encoding(utf-8)';
           my @content = read_glob_content($fh);
           my $content = read_glob_content($fh);

       Similar to <u>read_file_content</u>, only it accepts a file handle. It is assumed that the appropriate PerlIO
       layers are applied to the file handle.  Returns the content and <b>closes</b> <b>the</b> <b>file</b> <b>handle</b>.

   <b>my</b> <b>$norm_path=normalize_path</b> <b>($path);</b>
   <b>my</b> <b>$escaped_filename</b> <b>=</b> <b>escape_filename(</b> <b>$filename</b> <b>);</b>
       Escapes characters in a filename that may alter a path when concatenated.

         use Dancer2::FileUtils 'escape_filename';

         my $safe = escape_filename( "a/../b.txt" ); # a+2f+2e+2e+2fb+2etxt

</pre><h4><b>EXPORT</b></h4><pre>
       Nothing by default. You can provide a list of subroutines to import.

</pre><h4><b>AUTHOR</b></h4><pre>
       Dancer Core Developers

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2024 by Alexis Sukrieh.

       This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.40.0                                       2024-12-08                            <u>Dancer2::<a href="../man3pm/FileUtils.3pm.html">FileUtils</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>