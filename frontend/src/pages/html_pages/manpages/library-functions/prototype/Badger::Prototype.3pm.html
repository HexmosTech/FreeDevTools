<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Badger::Prototype - base class for creating prototype classes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbadger-perl">libbadger-perl_0.16-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Badger::Prototype - base class for creating prototype classes

</pre><h4><b>SYNOPSIS</b></h4><pre>
           package Badger::Example;
           use base 'Badger::Prototype';

           sub greeting {
               my $self = shift;

               # get prototype object if called as a class method
               $self = $self-&gt;prototype() unless ref $self;

               # continue as normal, now $self is an object
               if (@_) {
                   # set greeting if called with args
                   return ($self-&gt;{ greeting } = shift);
               }
               else {
                   # otherwise get greeting
                   return $self-&gt;{ greeting };
               }
           }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module is a subclass of Badger::Base that additionally provides the <b>prototype()</b> method.  It is used
       as a base class for modules that have methods that can be called as either class or object methods.

           # object method
           my $object = Badger::Example-&gt;new();
           $object-&gt;greeting('Hello World');

           # class method
           Badger::Example-&gt;greeting('Hello World');

       The <b>prototype()</b> method returns a singleton object instance which can be used as a default object by
       methods that have been called as class methods.

       Here's an example of a "greeting()" method that can be called with an argument to set a greeting message:

           $object-&gt;greeting('Hello World');

       Or without any arguments to get the current message:

           print $object-&gt;greeting;            # Hello World

       As well as being called as an object method, we want to be able to call it as a class method:

           Badger::Example-&gt;greeting('Hello World');
           print Badger::Example-&gt;greeting();  # Hello World

       Here's what the "greeting()" method looks like.

           package Badger::Example;
           use base 'Badger::Prototype';

           sub greeting {
               my $self = shift;

               # get prototype object if called as a class method
               $self = $self-&gt;prototype() unless ref $self;

               # continue as normal, now $self is an object
               if (@_) {
                   # set greeting if called with args
                   return ($self-&gt;{ greeting } = shift);
               }
               else {
                   # otherwise get greeting
                   return $self-&gt;{ greeting };
               }
           }

       We use "ref $self" to determine if "greeting()" has been called as an object method ($self contains an
       object reference) or as a class method ($self contains the class name, in this case "Badger::Example").
       In the latter case, we call <b>prototype()</b> as a class method (remember, $self contains the "Badger::Example"
       class name at this point) to return a prototype object instance which we then store back into $self.

               # get prototype object if called as a class method
               $self = $self-&gt;prototype() unless ref $self;

       For the rest of the method we can continue as if called as an object method because $self now contains a
       "Badger::Example" object either way.

       Note that the prototype object reference is stored in the $PROTOTYPE variable in the package of the
       calling object's class.  So if you call prototype on a "Badger::Example::One" object that is subclassed
       from "Badger::Prototype" then the prototype object will be stored in the $Badger::Example::One::PROTOTYPE
       package variable.

</pre><h4><b>METHODS</b></h4><pre>
   <b>prototype(@args)</b>
       Constructor method to create a prototype object and cache it in the $PROTOTYPE package variable for
       subsequent use.  This is usually called from inside methods that can operate as class or object methods,
       as shown in the earlier example.

           sub example {
               my $self = shift;

               # upgrade $self to an object when called as a class method
               $self = $self-&gt;prototype() unless ref $self;

               # ...code follows...
           }

       If you prefer a more succinct idiom and aren't too worried about calling the prototype method
       unnecessarily, then you can write it like this:

           sub greeting {
               my $self = shift-&gt;prototype;
               # ...code follows...
           }

       If any arguments are passed to the "prototype()" method then it forces a new prototype object to be
       created, replacing any existing one cached in the $PROTOTYPE package variable.  The arguments are
       forwarded to the "new()" constructor method called to create the object.

       If a single undefined value is passed as an argument then any existing prototype is released by setting
       the $PROTOTYPE package variable to "undef".  The existing prototype is then returned, or undef if there
       was no prototype defined.

   <b>has_prototype()</b>
       Returns true or false to indicate if a prototype is defined for a class.  It can be called as a class or
       object method.

</pre><h4><b>AUTHOR</b></h4><pre>
       Andy Wardley &lt;<a href="http://wardley.org/">http://wardley.org/</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2006-2009 Andy Wardley.  All Rights Reserved.

       This module is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.36.0                                       2023-08-28                             <u>Badger::<a href="../man3pm/Prototype.3pm.html">Prototype</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>