<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASN1_item_d2i_ex, ASN1_item_d2i, ASN1_item_d2i_bio_ex, ASN1_item_d2i_bio, ASN1_item_d2i_fp_ex,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ASN1_item_d2i_ex, ASN1_item_d2i, ASN1_item_d2i_bio_ex, ASN1_item_d2i_bio, ASN1_item_d2i_fp_ex,
       ASN1_item_d2i_fp, ASN1_item_i2d_mem_bio, ASN1_item_pack, ASN1_item_unpack_ex, ASN1_item_unpack - decode
       and encode DER-encoded ASN.1 structures

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/asn1.h&gt;

        ASN1_VALUE *ASN1_item_d2i_ex(ASN1_VALUE **pval, const unsigned char **in,
                                     long len, const ASN1_ITEM *it,
                                     OSSL_LIB_CTX *libctx, const char *propq);
        ASN1_VALUE *ASN1_item_d2i(ASN1_VALUE **pval, const unsigned char **in,
                                  long len, const ASN1_ITEM *it);

        void *ASN1_item_d2i_bio_ex(const ASN1_ITEM *it, BIO *in, void *x,
                                   OSSL_LIB_CTX *libctx, const char *propq);
        void *ASN1_item_d2i_bio(const ASN1_ITEM *it, BIO *in, void *x);

        void *ASN1_item_d2i_fp_ex(const ASN1_ITEM *it, FILE *in, void *x,
                                  OSSL_LIB_CTX *libctx, const char *propq);
        void *ASN1_item_d2i_fp(const ASN1_ITEM *it, FILE *in, void *x);

        BIO *ASN1_item_i2d_mem_bio(const ASN1_ITEM *it, const ASN1_VALUE *val);

        ASN1_STRING *ASN1_item_pack(void *obj, const ASN1_ITEM *it, ASN1_STRING **oct);

        void *ASN1_item_unpack(const ASN1_STRING *oct, const ASN1_ITEM *it);

        void *ASN1_item_unpack_ex(const ASN1_STRING *oct, const ASN1_ITEM *it,
                                 OSSL_LIB_CTX *libctx, const char *propq);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ASN1_item_d2i_ex()</b> decodes the contents of the data stored in <u>*in</u> of length <u>len</u> which must be a DER-
       encoded ASN.1 structure, using the ASN.1 template <u>it</u>. It places the result in <u>*pval</u> unless <u>pval</u> is NULL.
       If <u>*pval</u> is non-NULL on entry then the <b>ASN1_VALUE</b> present there will be reused. Otherwise a new
       <b>ASN1_VALUE</b> will be allocated. If any algorithm fetches are required during the process then they will use
       the <b>OSSL_LIB_CTX</b>provided in the <u>libctx</u> parameter and the property query string in <u>propq</u>. See "ALGORITHM
       FETCHING" in <b><a href="../man7/crypto.7.html">crypto</a></b>(7) for more information about algorithm fetching.  On exit <u>*in</u> will be updated to
       point to the next byte in the buffer after the decoded structure.

       <b>ASN1_item_d2i()</b> is the same as <b>ASN1_item_d2i_ex()</b> except that the default OSSL_LIB_CTX is used (i.e.
       NULL) and with a NULL property query string.

       <b>ASN1_item_d2i_bio_ex()</b> decodes the contents of its input BIO <u>in</u>, which must be a DER-encoded ASN.1
       structure, using the ASN.1 template <u>it</u> and places the result in <u>*pval</u> unless <u>pval</u> is NULL.  If <u>in</u> is NULL
       it returns NULL, else a pointer to the parsed structure. If any algorithm fetches are required during the
       process then they will use the <b>OSSL_LIB_CTX</b> provided in the <u>libctx</u> parameter and the property query
       string in <u>propq</u>. See "ALGORITHM FETCHING" in <b><a href="../man7/crypto.7.html">crypto</a></b>(7) for more information about algorithm fetching.

       <b>ASN1_item_d2i_bio()</b> is the same as <b>ASN1_item_d2i_bio_ex()</b> except that the default <b>OSSL_LIB_CTX</b> is used
       (i.e. NULL) and with a NULL property query string.

       <b>ASN1_item_d2i_fp_ex()</b> is the same as <b>ASN1_item_d2i_bio_ex()</b> except that a FILE pointer is provided
       instead of a BIO.

       <b>ASN1_item_d2i_fp()</b> is the same as <b>ASN1_item_d2i_fp_ex()</b> except that the default <b>OSSL_LIB_CTX</b> is used
       (i.e. NULL) and with a NULL property query string.

       <b>ASN1_item_i2d_mem_bio()</b> encodes the given ASN.1 value <u>val</u> using the ASN.1 template <u>it</u> and returns the
       result in a memory BIO.

       <b>ASN1_item_pack()</b> encodes the given ASN.1 value in <u>obj</u> using the ASN.1 template <u>it</u> and returns an
       <b>ASN1_STRING</b> object. If the passed in <u>*oct</u> is not NULL then this is used to store the returned result,
       otherwise a new <b>ASN1_STRING</b> object is created. If <u>oct</u> is not NULL and <u>*oct</u> is NULL then the returned
       return is also set into <u>*oct</u>. If there is an error the optional passed in <b>ASN1_STRING</b> will not be freed,
       but the previous value may be cleared when ASN1_STRING_set0(*oct, NULL, 0) is called internally.

       <b>ASN1_item_unpack()</b> uses <b>ASN1_item_d2i()</b> to decode the DER-encoded <b>ASN1_STRING</b> <u>oct</u> using the ASN.1
       template <u>it</u>.

       <b>ASN1_item_unpack_ex()</b> is similar to <b>ASN1_item_unpack()</b>, but uses <b>ASN1_item_d2i_ex()</b> so that the <u>libctx</u>
       and <u>propq</u> can be used when doing algorithm fetching.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>ASN1_item_d2i_bio()</b>, <b>ASN1_item_unpack_ex()</b> and <b>ASN1_item_unpack()</b> return a pointer to an <b>ASN1_VALUE</b> or
       NULL on error.

       <b>ASN1_item_i2d_mem_bio()</b> returns a pointer to a memory BIO or NULL on error.

       <b>ASN1_item_pack()</b> returns a pointer to an <b>ASN1_STRING</b> or NULL on error.

</pre><h4><b>HISTORY</b></h4><pre>
       The functions <b>ASN1_item_d2i_ex()</b>, <b>ASN1_item_d2i_bio_ex()</b>, <b>ASN1_item_d2i_fp_ex()</b> and
       <b>ASN1_item_i2d_mem_bio()</b> were added in OpenSSL 3.0.

       The function <b>ASN1_item_unpack_ex()</b> was added in OpenSSL 3.2.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2021-2023 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                            <u><a href="../man3SSL/ASN1_ITEM_D2I_BIO.3SSL.html">ASN1_ITEM_D2I_BIO</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>