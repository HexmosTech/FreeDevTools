<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSL_SESSION_new, SSL_SESSION_dup, SSL_SESSION_up_ref, SSL_SESSION_free - create, free and manage</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SSL_SESSION_new, SSL_SESSION_dup, SSL_SESSION_up_ref, SSL_SESSION_free - create, free and manage
       SSL_SESSION structures

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/ssl.h&gt;

        SSL_SESSION *SSL_SESSION_new(void);
        SSL_SESSION *SSL_SESSION_dup(const SSL_SESSION *src);
        int SSL_SESSION_up_ref(SSL_SESSION *ses);
        void SSL_SESSION_free(SSL_SESSION *session);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>SSL_SESSION_new()</b> creates a new SSL_SESSION structure and returns a pointer to it.

       <b>SSL_SESSION_dup()</b> creates a new SSL_SESSION structure that is a copy of <b>src</b>.  The copy is not owned by
       any cache that <b>src</b> may have been in.

       <b>SSL_SESSION_up_ref()</b> increments the reference count on the given SSL_SESSION structure.

       <b>SSL_SESSION_free()</b> decrements the reference count of <b>session</b> and removes the <b>SSL_SESSION</b> structure
       pointed to by <b>session</b> and frees up the allocated memory, if the reference count has reached 0.  If
       <b>session</b> is NULL nothing is done.

</pre><h4><b>NOTES</b></h4><pre>
       SSL_SESSION objects are allocated, when a TLS/SSL handshake operation is successfully completed.
       Depending on the settings, see <b><a href="../man3/SSL_CTX_set_session_cache_mode.3.html">SSL_CTX_set_session_cache_mode</a></b>(3), the SSL_SESSION objects are internally
       referenced by the SSL_CTX and linked into its session cache. SSL objects may be using the SSL_SESSION
       object; as a session may be reused, several SSL objects may be using one SSL_SESSION object at the same
       time. It is therefore crucial to keep the reference count (usage information) correct and not delete an
       SSL_SESSION object that is still used, as this may lead to program failures due to dangling pointers.
       These failures may also appear delayed, e.g.  when an SSL_SESSION object was completely freed as the
       reference count incorrectly became 0, but it is still referenced in the internal session cache and the
       cache list is processed during a <b><a href="../man3/SSL_CTX_flush_sessions.3.html">SSL_CTX_flush_sessions</a></b>(3) operation.

       <b>SSL_SESSION_free()</b> must only be called for SSL_SESSION objects, for which the reference count was
       explicitly incremented (e.g.  by calling <b>SSL_get1_session()</b>, see <b><a href="../man3/SSL_get_session.3.html">SSL_get_session</a></b>(3)) or when the
       SSL_SESSION object was generated outside a TLS handshake operation, e.g. by using <b><a href="../man3/d2i_SSL_SESSION.3.html">d2i_SSL_SESSION</a></b>(3).  It
       must not be called on other SSL_SESSION objects, as this would cause incorrect reference counts and
       therefore program failures.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       SSL_SESSION_new returns a pointer to the newly allocated SSL_SESSION structure or NULL on error.

       SSL_SESSION_dup returns a pointer to the new copy or NULL on error.

       SSL_SESSION_up_ref returns 1 on success or 0 on error.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/ssl.7.html">ssl</a></b>(7), <b><a href="../man3/SSL_get_session.3.html">SSL_get_session</a></b>(3), <b><a href="../man3/SSL_CTX_set_session_cache_mode.3.html">SSL_CTX_set_session_cache_mode</a></b>(3), <b><a href="../man3/SSL_CTX_flush_sessions.3.html">SSL_CTX_flush_sessions</a></b>(3),
       <b><a href="../man3/d2i_SSL_SESSION.3.html">d2i_SSL_SESSION</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>SSL_SESSION_dup()</b> function was added in OpenSSL 1.1.1.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2000-2023 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                             <u><a href="../man3SSL/SSL_SESSION_FREE.3SSL.html">SSL_SESSION_FREE</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>