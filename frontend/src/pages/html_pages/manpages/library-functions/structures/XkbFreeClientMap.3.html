<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XkbFreeClientMap - Free memory used by the client map member of an XkbDescRec structure</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libx11-doc">libx11-doc_1.8.12-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       XkbFreeClientMap - Free memory used by the client map member of an XkbDescRec structure

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>void</b> <b>XkbFreeClientMap</b> <b>(XkbDescPtr</b> <u>xkb</u><b>,</b> <b>unsigned</b> <b>int</b> <u>which</u><b>,</b> <b>Bool</b> <u>free_all</u><b>);</b>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>xkb</u>    keyboard description containing client map to free

       <u>which</u>  mask identifying components of map to free

       <u>free_all</u>
              True =&gt; free all client components and map itself

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>XkbFreeClientMap</u>  frees  the  components  of  client  map  specified by <u>which</u> in the XkbDescRec structure
       specified by the <u>xkb</u> parameter and sets the corresponding structure component values to NULL.  The  <u>which</u>
       parameter specifies a combination of the client map masks shown in Table 1.

       If  <u>free_all</u>  is True, <u>which</u> is ignored; <u>XkbFreeClientMap</u> frees every non-NULL structure component in the
       client map, frees the XkbClientMapRec structure referenced by the <u>map</u> member of the  <u>xkb</u>  parameter,  and
       sets the <u>map</u> member to NULL.

                      Table 1 XkbAllocClientMap Masks
       ──────────────────────────────────────────────────────────────
       Mask                 Effect
       ──────────────────────────────────────────────────────────────
       XkbKeyTypesMask      The   type_count   field  specifies  the
                            number of entries to preallocate for the
                            types field of the client  map.  If  the
                            type_count    field    is    less   than
                            XkbNumRequiredTypes returns BadValue.

       XkbKeySymsMask       The min_key_code and max_key_code fields
                            of  the  xkb  parameter  are   used   to
                            allocate the syms and key_sym_map fields
                            of   the  client  map.  The  fields  are
                            allocated to contain the maximum  number
                            of  entries necessary for max_key_code -
                            min_key_code + 1 keys.

       XkbModifierMapMask   The min_key_code and max_key_code fields
                            of  the  xkb  parameter  are   used   to
                            allocate  the modmap field of the client
                            map. The field is allocated  to  contain
                            the  maximum number of entries necessary
                            for  max_key_code  -  min_key_code  +  1
                            keys.

       NOTE:  The  <u>min_key_code</u>  and  <u>max_key_code</u>  fields  of  the  <u>xkb</u>  parameter  must be legal values if the
       XkbKeySymsMask or XkbModifierMapMask masks are set in  the  <u>which</u>  parameter.  If  they  are  not  valid,
       <u>XkbAllocClientMap</u> returns BadValue.

</pre><h4><b>STRUCTURES</b></h4><pre>
       The  complete  description  of an Xkb keyboard is given by an XkbDescRec. The component structures in the
       XkbDescRec represent the major Xkb components.

       typedef struct {
          struct _XDisplay * display;      /* connection to X server */
          unsigned short     flags;        /* private to Xkb, do not modify */
          unsigned short     device_spec;  /* device of interest */
          KeyCode            min_key_code; /* minimum keycode for device */
          KeyCode            max_key_code; /* maximum keycode for device */
          XkbControlsPtr     ctrls;        /* controls */
          XkbServerMapPtr    server;       /* server keymap */
          XkbClientMapPtr    map;          /* client keymap */
          XkbIndicatorPtr    indicators;   /* indicator map */
          XkbNamesPtr        names;        /* names for all components */
          XkbCompatMapPtr    compat;       /* compatibility map */
          XkbGeometryPtr     geom;         /* physical geometry of keyboard */
       } XkbDescRec, *XkbDescPtr;

       The <u>display</u> field points to an X display structure. The <u>flags</u> <u>field</u> <u>is</u> <u>private</u> <u>to</u> <u>the</u> <u>library:</u>  <u>modifying</u>
       <u>flags</u>  may  yield  unpredictable  results.  The  <u>device_spec</u> field specifies the device identifier of the
       keyboard input device, or XkbUseCoreKeyboard, which specifies the core keyboard device. The  <u>min_key_code</u>
       and <u>max_key_code</u> fields specify the least and greatest keycode that can be returned by the keyboard.

       Each structure component has a corresponding mask bit that is used in function calls to indicate that the
       structure  should  be  manipulated  in  some manner, such as allocating it or freeing it. These masks and
       their relationships to the fields in the XkbDescRec are shown in Table 2.

               Table 2 Mask Bits for XkbDescRec
       ──────────────────────────────────────────────────
       Mask Bit               XkbDescRec Field   Value
       ──────────────────────────────────────────────────
       XkbControlsMask        ctrls              (1L&lt;&lt;0)
       XkbServerMapMask       server             (1L&lt;&lt;1)
       XkbIClientMapMask      map                (1L&lt;&lt;2)
       XkbIndicatorMapMask    indicators         (1L&lt;&lt;3)
       XkbNamesMask           names              (1L&lt;&lt;4)
       XkbCompatMapMask       compat             (1L&lt;&lt;5)
       XkbGeometryMask        geom               (1L&lt;&lt;6)
       XkbAllComponentsMask   All Fields         (0x7f)

       The <u>map</u> field of the complete Xkb keyboard description is a pointer to the Xkb client map,  which  is  of
       type XkbClientMapRec:

          typedef struct {                   /* Client Map */
             unsigned char     size_types;   /* # occupied entries in types */
             unsigned char     num_types;    /* # entries in types */
             XkbKeyTypePtr     types;        /* vector of key types used by this keymap */
             unsigned short    size_syms;    /* length of the syms array */
             unsigned short    num_syms;     /* # entries in syms */
             KeySym *          syms;         /* linear 2d tables of keysyms, 1 per key */
             XkbSymMapPtr      key_sym_map;  /* 1 per keycode, maps keycode to syms */
             unsigned char *   modmap;       /* 1 per keycode, real mods bound to key */
       } XkbClientMapRec, *XkbClientMapPtr;

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       <b>BadValue</b>       An argument is out of range

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/XkbAllocClientMap.3.html">XkbAllocClientMap</a></b>(3)

X Version 11                                      libX11 1.8.12                              <u><a href="../man3/XkbFreeClientMap.3.html">XkbFreeClientMap</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>