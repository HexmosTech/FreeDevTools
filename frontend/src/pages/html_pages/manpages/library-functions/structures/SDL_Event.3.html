<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SDL_Event - General event structure</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libsdl1.2-dev">libsdl1.2-dev_1.2.15+dfsg2-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SDL_Event - General event structure

</pre><h4><b>STRUCTURE</b> <b>DEFINITION</b></h4><pre>
       typedef union{
         Uint8 type;
         SDL_ActiveEvent active;
         SDL_KeyboardEvent key;
         SDL_MouseMotionEvent motion;
         SDL_MouseButtonEvent button;
         SDL_JoyAxisEvent jaxis;
         SDL_JoyBallEvent jball;
         SDL_JoyHatEvent jhat;
         SDL_JoyButtonEvent jbutton;
         SDL_ResizeEvent resize;
         SDL_ExposeEvent expose;
         SDL_QuitEvent quit;
         SDL_UserEvent user;
         SDL_SysWMEvent syswm;
       } SDL_Event;

</pre><h4><b>STRUCTURE</b> <b>DATA</b></h4><pre>
       <b>type</b>                The type of event

       <b>active</b>              <u>Activation</u> <u>event</u>

       <b>key</b>                 <u>Keyboard</u> <u>event</u>

       <b>motion</b>              <u>Mouse</u> <u>motion</u> <u>event</u>

       <b>button</b>              <u>Mouse</u> <u>button</u> <u>event</u>

       <b>jaxis</b>               <u>Joystick</u> <u>axis</u> <u>motion</u> <u>event</u>

       <b>jball</b>               <u>Joystick</u> <u>trackball</u> <u>motion</u> <u>event</u>

       <b>jhat</b>                <u>Joystick</u> <u>hat</u> <u>motion</u> <u>event</u>

       <b>jbutton</b>             <u>Joystick</u> <u>button</u> <u>event</u>

       <b>resize</b>              <u>Application</u> <u>window</u> <u>resize</u> <u>event</u>

       <b>expose</b>              <u>Application</u> <u>window</u> <u>expose</u> <u>event</u>

       <b>quit</b>                <u>Application</u> <u>quit</u> <u>request</u> <u>event</u>

       <b>user</b>                <u>User</u> <u>defined</u> <u>event</u>

       <b>syswm</b>               <u>Undefined</u> <u>window</u> <u>manager</u> <u>event</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>SDL_Event</b>  union is the core to all event handling is SDL, its probably the most important structure
       after <b>SDL_Surface</b>. <b>SDL_Event</b> is a union of all event structures used in SDL, using it is a simple  matter
       of knowing which union member relates to which event <b>type</b>.

       <b>Event</b> <b>type</b>          <b>Event</b> <b>Structure</b>

       <b>SDL_ACTIVEEVENT</b>     <b>SDL_ActiveEvent</b>

       <b>SDL_KEYDOWN/UP</b>      <b>SDL_KeyboardEvent</b>

       <b>SDL_MOUSEMOTION</b>     <b>SDL_MouseMotionEvent</b>

       <b>SDL_MOUSEBUTTONDOWN/UP</b>
                           <b>SDL_MouseButtonEvent</b>

       <b>SDL_JOYAXISMOTION</b>   <b>SDL_JoyAxisEvent</b>

       <b>SDL_JOYBALLMOTION</b>   <b>SDL_JoyBallEvent</b>

       <b>SDL_JOYHATMOTION</b>    <b>SDL_JoyHatEvent</b>

       <b>SDL_JOYBUTTONDOWN/UP</b>
                           <b>SDL_JoyButtonEvent</b>

       <b>SDL_QUIT</b>            <b>SDL_QuitEvent</b>

       <b>SDL_SYSWMEVENT</b>      <b>SDL_SysWMEvent</b>

       <b>SDL_VIDEORESIZE</b>     <b>SDL_ResizeEvent</b>

       <b>SDL_VIDEOEXPOSE</b>     <b>SDL_ExposeEvent</b>

       <b>SDL_USEREVENT</b>       <b>SDL_UserEvent</b>

</pre><h4><b>USE</b></h4><pre>
       The <b>SDL_Event</b> structure has two uses

          •  Reading events on the event queue

          •  Placing events on the event queue

       Reading  events  from  the  event  queue  is  done with either <b>SDL_PollEvent</b> or <b>SDL_PeepEvents</b>. We'll use
       <b>SDL_PollEvent</b> and step through an example.

       First off, we create an empty <b>SDL_Event</b> structure.

       SDL_Event test_event;

        <b>SDL_PollEvent</b> removes the next event from the event queue, if there  are  no  events  on  the  queue  it
       returns <b>0</b> otherwise it returns <b>1</b>. We use a <b>while</b> loop to process each event in turn.

       while(SDL_PollEvent(&amp;test_event)) {

        The  <b>SDL_PollEvent</b>  function  take  a  pointer to an <b>SDL_Event</b> structure that is to be filled with event
       information. We know that if <b>SDL_PollEvent</b> removes an event from the queue  then  the  event  information
       will be placed in our <b>test_event</b> structure, but we also know that the <u>type</u> of event will be placed in the
       <b>type</b> member of <b>test_event</b>. So to handle each event <b>type</b> seperately we use a <b>switch</b> statement.

         switch(test_event.type) {

        We  need  to  know  what  kind of events we're looking for <u>and</u> the event <b>type</b>'s of those events. So lets
       assume we want to detect where the user is moving the mouse  pointer  within  our  application.  We  look
       through  our  event  types  and notice that <b>SDL_MOUSEMOTION</b> is, more than likely, the event we're looking
       for.  A  little  <u>more</u>  research  tells  use  that  <b>SDL_MOUSEMOTION</b>  events   are   handled   within   the
       <b>SDL_MouseMotionEvent</b>  structure  which  is  the  <b>motion</b>  member  of  <b>SDL_Event</b>.  We  can  check  for  the
       <b>SDL_MOUSEMOTION</b> event <b>type</b> within our <b>switch</b> statement like so:

           case SDL_MOUSEMOTION:

        All we need do now is read the information out of the <b>motion</b> member of <b>test_event</b>.

             printf("We got a motion event.
       ");
             printf("Current mouse position is: (%d, %d)
       ", test_event.motion.x, test_event.motion.y);
             break;
           default:
             printf("Unhandled Event!
       ");
             break;
         }
       }
       printf("Event queue empty.
       ");

       It is also possible to push events onto the event queue and so use it as a  two-way  communication  path.
       Both  <b>SDL_PushEvent</b>  and  <b>SDL_PeepEvents</b>  allow you to place events onto the event queue. This is usually
       used to place a <b>SDL_USEREVENT</b> on the event queue, however you could use it to post fake input  events  if
       you  wished. Creating your own events is a simple matter of choosing the event type you want, setting the
       <b>type</b> member and filling the appropriate member structure with information.

       SDL_Event user_event;

       user_event.type=SDL_USEREVENT;
       user_event.user.code=2;
       user_event.user.data1=NULL;
       user_event.user.data2=NULL;
       SDL_PushEvent(&amp;user_event);

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>SDL_PollEvent</b>, <b>SDL_PushEvent</b>, <b>SDL_PeepEvents</b>

SDL                                          Tue 11 Sep 2001, 22:59                                 <u><a href="../man3/SDL_Event.3.html">SDL_Event</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>