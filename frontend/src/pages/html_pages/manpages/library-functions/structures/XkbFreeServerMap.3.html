<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XkbFreeServerMap - Free memory used by the server member of an XkbDescRec structure</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libx11-doc">libx11-doc_1.8.12-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       XkbFreeServerMap - Free memory used by the server member of an XkbDescRec structure

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>void</b> <b>XkbFreeServerMap</b> <b>(XkbDescPtr</b> <u>xkb</u><b>,</b> <b>unsigned</b> <b>int</b> <u>which</u><b>,</b> <b>Bool</b> <u>free_all</u><b>);</b>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>xkb</u>    keyboard description containing server map to free

       <u>which</u>  mask identifying components of map to free

       <u>free_all</u>
              True =&gt; free all server map components and server itself

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>XkbFreeServerMap</u>  function  frees the specified components of server map in the XkbDescRec structure
       specified by the <u>xkb</u> parameter and sets the corresponding structure component values to NULL.  The  <u>which</u>
       <u>parameter</u>  <u>specifies</u>  <u>a</u>  <u>combination</u>  <u>of</u>  <u>the</u> <u>server</u> <u>map</u> <u>masks</u> <u>and</u> <u>is</u> <u>a</u> bitwise inclusive OR of the masks
       listed in Table 1. If <u>free_all</u> is True, <u>which</u>  is  ignored  and  <u>XkbFreeServerMap</u>  frees  every  non-NULL
       structure  component  in  the  server  map,  frees the XkbServerMapRec structure referenced by the <u>server</u>
       member of the <u>xkb</u> parameter, and sets the <u>server</u> member to NULL.

                         Table 1 XkbAllocServerMap Masks
       ─────────────────────────────────────────────────────────────────────
       Mask                        Effect
       ─────────────────────────────────────────────────────────────────────
       XkbExplicitComponentsMask   The min_key_code and max_key_code fields
                                   of  the  xkb  parameter  are   used   to
                                   allocate   the  explicit  field  of  the
                                   server map.

       XkbKeyActionsMask           The min_key_code and max_key_code fields
                                   of  the  xkb  parameter  are   used   to
                                   allocate   the  key_acts  field  of  the
                                   server map. The count_acts parameter  is
                                   used  to  allocate the acts field of the
                                   server map.

       XkbKeyBehaviorsMask         The min_key_code and max_key_code fields
                                   of  the  xkb  parameter  are   used   to
                                   allocate  the  behaviors  field  of  the
                                   server map.

       XkbVirtualModMapMask        The min_key_code and max_key_code fields
                                   of  the  xkb  parameter  are   used   to
                                   allocate the vmodmap field of the server
                                   map.

</pre><h4><b>STRUCTURES</b></h4><pre>
       The  complete  description  of an Xkb keyboard is given by an XkbDescRec. The component structures in the
       XkbDescRec represent the major Xkb components.

       typedef struct {
          struct _XDisplay * display;      /* connection to X server */
          unsigned short     flags;        /* private to Xkb, do not modify */
          unsigned short     device_spec;  /* device of interest */
          KeyCode            min_key_code; /* minimum keycode for device */
          KeyCode            max_key_code; /* maximum keycode for device */
          XkbControlsPtr     ctrls;        /* controls */
          XkbServerMapPtr    server;       /* server keymap */
          XkbClientMapPtr    map;          /* client keymap */
          XkbIndicatorPtr    indicators;   /* indicator map */
          XkbNamesPtr        names;        /* names for all components */
          XkbCompatMapPtr    compat;       /* compatibility map */
          XkbGeometryPtr     geom;         /* physical geometry of keyboard */
       } XkbDescRec, *XkbDescPtr;

       The <u>display</u> field points to an X display structure. The <u>flags</u> <u>field</u> <u>is</u> <u>private</u> <u>to</u> <u>the</u> <u>library:</u>  <u>modifying</u>
       <u>flags</u>  may  yield  unpredictable  results.  The  <u>device_spec</u> field specifies the device identifier of the
       keyboard input device, or XkbUseCoreKeyboard, which specifies the core keyboard device. The  <u>min_key_code</u>
       and <u>max_key_code</u> fields specify the least and greatest keycode that can be returned by the keyboard.

       Each structure component has a corresponding mask bit that is used in function calls to indicate that the
       structure  should  be  manipulated  in  some manner, such as allocating it or freeing it. These masks and
       their relationships to the fields in the XkbDescRec are shown in Table 2.

               Table 2 Mask Bits for XkbDescRec
       ──────────────────────────────────────────────────
       Mask Bit               XkbDescRec Field   Value
       ──────────────────────────────────────────────────
       XkbControlsMask        ctrls              (1L&lt;&lt;0)
       XkbServerMapMask       server             (1L&lt;&lt;1)
       XkbIClientMapMask      map                (1L&lt;&lt;2)
       XkbIndicatorMapMask    indicators         (1L&lt;&lt;3)
       XkbNamesMask           names              (1L&lt;&lt;4)
       XkbCompatMapMask       compat             (1L&lt;&lt;5)
       XkbGeometryMask        geom               (1L&lt;&lt;6)
       XkbAllComponentsMask   All Fields         (0x7f)

       The Xkb server map contains the information the server needs to interpret  key  events  and  is  of  type
       XkbServerMapRec:

       #define XkbNumVirtualMods          16

       typedef struct {                    /* Server Map */
           unsigned short    num_acts;     /* # of occupied entries in acts */
           unsigned short    size_acts;    /* # of entries in acts */
           XkbAction *       acts;         /* linear 2d tables of key actions, 1 per keycode */
           XkbBehavior *     behaviors;    /* key behaviors,1 per keycode */
           unsigned short *  key_acts;     /* index into acts, 1 per keycode */
           unsigned char *   explicit;     /* explicit overrides of core remapping, 1 per key */
           unsigned char     vmods[XkbNumVirtualMods]; /* real mods bound to virtual mods */
           unsigned short *  vmodmap;      /* virtual mods bound to key, 1 per keycode*/
       } XkbServerMapRec, *XkbServerMapPtr;

X Version 11                                      libX11 1.8.12                              <u><a href="../man3/XkbFreeServerMap.3.html">XkbFreeServerMap</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>