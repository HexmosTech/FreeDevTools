<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XAllocStandardColormap,  XSetRGBColormaps, XGetRGBColormaps, XStandardColormap - allocate, set, or read a</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libx11-doc">libx11-doc_1.8.12-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       XAllocStandardColormap,  XSetRGBColormaps, XGetRGBColormaps, XStandardColormap - allocate, set, or read a
       standard colormap structure

</pre><h4><b>SYNTAX</b></h4><pre>

       XStandardColormap *XAllocStandardColormap(void);

       void XSetRGBColormaps(Display *<u>display</u>,  Window  <u>w</u>,  XStandardColormap  *<u>std_colormap</u>,  int  <u>count</u>,  Atom
              <u>property</u>);

       Status   XGetRGBColormaps(Display   *<u>display</u>,  Window  <u>w</u>,  XStandardColormap  **<u>std_colormap_return</u>,  int
              *<u>count_return</u>, Atom <u>property</u>);

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>display</u>   Specifies the connection to the X server.

       <u>count</u>     Specifies the number of colormaps.

       <u>count_return</u>
                 Returns the number of colormaps.

       <u>property</u>  Specifies the property name.

       <u>std_colormap</u>
                 Specifies the <b>XStandardColormap</b> structure to be used.

       <u>std_colormap_return</u>
                 Returns the <b>XStandardColormap</b> structure.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>XAllocStandardColormap</b> function allocates and returns a pointer  to  a  <b>XStandardColormap</b>  structure.
       Note  that  all  fields  in  the  <b>XStandardColormap</b> structure are initially set to zero.  If insufficient
       memory is available,  <b>XAllocStandardColormap</b>  returns  NULL.   To  free  the  memory  allocated  to  this
       structure, use <b>XFree</b>.

       The <b>XSetRGBColormaps</b> function replaces the RGB colormap definition in the specified property on the named
       window.  If the property does not already exist, <b>XSetRGBColormaps</b> sets the RGB colormap definition in the
       specified property on the named window.  The property is stored with a type of RGB_COLOR_MAP and a format
       of  32.   Note  that  it  is  the  caller's  responsibility  to  honor  the  ICCCM  restriction that only
       RGB_DEFAULT_MAP contain more than one definition.

       The <b>XSetRGBColormaps</b> function usually is only used by window or session managers.  To create  a  standard
       colormap, follow this procedure:

       1.   Open a new connection to the same server.

       2.   Grab the server.

       3.   See if the property is on the property list of the root window for the screen.

       4.   If the desired property is not present:

            •    Create a colormap (unless you are using the default colormap of the screen).

            •    Determine the color characteristics of the visual.

            •    Allocate cells in the colormap (or create it with <b>AllocAll</b>).

            •    Call <b>XStoreColors</b> to store appropriate color values in the colormap.

            •    Fill in the descriptive members in the <b>XStandardColormap</b> structure.

            •    Attach the property to the root window.

            •    Use <b>XSetCloseDownMode</b> to make the resource permanent.

       5.   Ungrab the server.

       <b>XSetRGBColormaps</b> can generate <b>BadAlloc</b>, <b>BadAtom</b>, and <b>BadWindow</b> errors.

       The  <b>XGetRGBColormaps</b>  function  returns the RGB colormap definitions stored in the specified property on
       the named window.  If the property exists, is of type RGB_COLOR_MAP, is of format 32, and is long  enough
       to  contain  a  colormap  definition,  <b>XGetRGBColormaps</b>  allocates  and  fills  in space for the returned
       colormaps and returns a nonzero status.  If the visualid is not  present,  <b>XGetRGBColormaps</b>  assumes  the
       default  visual  for  the  screen  on  which the window is located; if the killid is not present, <b>None</b> is
       assumed, which indicates that the resources cannot be released.  Otherwise, none of the fields  are  set,
       and  <b>XGetRGBColormaps</b>  returns  a  zero status.  Note that it is the caller's responsibility to honor the
       ICCCM restriction that only RGB_DEFAULT_MAP contain more than one definition.

       <b>XGetRGBColormaps</b> can generate <b>BadAtom</b> and <b>BadWindow</b> errors.

</pre><h4><b>STRUCTURES</b></h4><pre>
       The <b>XStandardColormap</b> structure contains:

       /* Hints */
       #define   <b>ReleaseByFreeingColormap</b>   (    (XID)
                                            1L)
       /* Values */
       typedef struct {
               Colormap colormap;
               unsigned long red_max;
               unsigned long red_mult;
               unsigned long green_max;
               unsigned long green_mult;
               unsigned long blue_max;
               unsigned long blue_mult;
               unsigned long base_pixel;
               VisualID visualid;
               XID killid;
       } XStandardColormap;

       The colormap member is the colormap created by the <b>XCreateColormap</b> function.  The red_max, green_max, and
       blue_max  members  give  the  maximum  red, green, and blue values, respectively.  Each color coefficient
       ranges from zero to its max, inclusive.  For example, a common colormap allocation is 3/3/2 (3 planes for
       red, 3 planes for green, and 2 planes for blue).  This colormap would have red_max = 7,  green_max  =  7,
       and  blue_max  = 3.  An alternate allocation that uses only 216 colors is red_max = 5, green_max = 5, and
       blue_max = 5.

       The red_mult, green_mult, and blue_mult members give the scale factors  used  to  compose  a  full  pixel
       value.   (See the discussion of the base_pixel members for further information.)  For a 3/3/2 allocation,
       red_mult might be 32, green_mult might be 4, and blue_mult might be 1.  For a  6-colors-each  allocation,
       red_mult might be 36, green_mult might be 6, and blue_mult might be 1.

       The  base_pixel  member  gives  the  base  pixel  value used to compose a full pixel value.  Usually, the
       base_pixel is obtained from a call to the <b>XAllocColorPlanes</b> function.  Given integer red, green, and blue
       coefficients in their appropriate ranges, one then can compute a corresponding pixel value by  using  the
       following expression:

       (r * red_mult + g * green_mult + b * blue_mult + base_pixel) &amp; 0xFFFFFFFF

       For  <b>GrayScale</b>  colormaps, only the colormap, red_max, red_mult, and base_pixel members are defined.  The
       other members are ignored.  To compute a <b>GrayScale</b> pixel value, use the following expression:

       (gray * red_mult + base_pixel) &amp; 0xFFFFFFFF

       Negative multipliers can be represented by converting the 2's complement representation of the multiplier
       into an unsigned long and storing the result in the appropriate _mult field.   The  step  of  masking  by
       0xFFFFFFFF  effectively converts the resulting positive multiplier into a negative one.  The masking step
       will take place automatically on many machine architectures, depending on the size of  the  integer  type
       used to do the computation,

       The  visualid  member  gives the ID number of the visual from which the colormap was created.  The killid
       member gives a resource ID that indicates whether the cells held by this  standard  colormap  are  to  be
       released  by  freeing  the  colormap ID or by calling the <b>XKillClient</b> function on the indicated resource.
       (Note that this method is necessary for allocating out of an existing colormap.)

       The properties containing the <b>XStandardColormap</b> information have the type RGB_COLOR_MAP.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       <b>BadAlloc</b>  The server failed to allocate the requested resource or server memory.

       <b>BadAtom</b>   A value for an Atom argument does not name a defined Atom.

       <b>BadWindow</b> A value for a Window argument does not name a defined Window.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3/XAllocColor.3.html">XAllocColor</a>(3), <a href="../man3/XCreateColormap.3.html">XCreateColormap</a>(3), <a href="../man3/XFree.3.html">XFree</a>(3), <a href="../man3/XSetCloseDownMode.3.html">XSetCloseDownMode</a>(3)
       <u>Xlib</u> <u>-</u> <u>C</u> <u>Language</u> <u>X</u> <u>Interface</u>

X Version 11                                      libX11 1.8.12                        <u><a href="../man3/XAllocStandardColormap.3.html">XAllocStandardColormap</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>