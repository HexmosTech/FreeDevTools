<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File::DirCompare - Perl module to compare two directories using callbacks.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libfile-dircompare-perl">libfile-dircompare-perl_0.7-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       File::DirCompare - Perl module to compare two directories using callbacks.

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use File::DirCompare;

         # Simple diff -r --brief replacement
         use File::Basename;
         File::DirCompare-&gt;compare($dir1, $dir2, sub {
           my ($a, $b) = @_;
           if (! $b) {
             printf "Only in %s: %s\n", dirname($a), basename($a);
           } elsif (! $a) {
             printf "Only in %s: %s\n", dirname($b), basename($b);
           } else {
             print "Files $a and $b differ\n";
           }
         });

         # Version-control like Deleted/Added/Modified listing
         my (@listing, @modified);     # use closure to collect results
         File::DirCompare-&gt;compare('old_tree', 'new_tree', sub {
           my ($a, $b) = @_;
           if (! $b) {
             push @listing, "D   $a";
           } elsif (! $a) {
             push @listing, "A   $b";
           } else {
             if (-f $a &amp;&amp; -f $b) {
               push @listing, "M   $b";
               push @modified, $b;
             } else {
               # One file, one directory - treat as delete + add
               push @listing, "D   $a";
               push @listing, "A   $b";
             }
           }
         });

</pre><h4><b>DESCRIPTION</b></h4><pre>
       File::DirCompare is a perl module to compare two directories using a callback, invoked for all files that
       are 'different' between the two directories, and for any files that exist only in one or other directory
       ('unique' files).

       File::DirCompare has a single public <u>compare()</u> method, with the following signature:

         File::DirCompare-&gt;compare($dir1, $dir2, $sub, $opts);

       The first three arguments are required - $dir1 and $dir2 are paths to the two directories to be compared,
       and $sub is the subroutine reference called for all unique or different files. $opts is an optional
       hashref of options - see OPTIONS below.

       The provided subroutine is called for all unique files, and for every pair of 'different' files
       encountered, with the following signature:

         $sub-&gt;($file1, $file2)

       where $file1 and $file2 are the paths to the two files. For 'unique' files i.e. where a file exists in
       only one directory, the subroutine is called with the other argument 'undef' i.e. for:

         $sub-&gt;($file1, undef)
         $sub-&gt;(undef, $file2)

       the first indicates $file1 exists only in the first directory given ($dir1), and the second indicates
       $file2 exists only in the second directory given ($dir2).

   <b>OPTIONS</b>
       The following optional arguments are supported, passed in using a hash reference after the three required
       arguments to <u>compare()</u> e.g.

         File::DirCompare-&gt;compare($dir1, $dir2, $sub, {
           cmp             =&gt; $cmp_sub,
           ignore_cmp      =&gt; 1,
           ignore_unique   =&gt; 1,
           matches         =&gt; $matches_sub,
         });

       cmp By  default,  two  files  are  regarded  as  different  if  their  contents do not match (tested with
           File::Compare::compare). That default behaviour can be overridden by providing a 'cmp' subroutine  to
           do the file comparison, returning zero if the two files are equal, and non-zero if not.

           E.g. to compare using modification times instead of file contents:

             File::DirCompare-&gt;compare($dir1, $dir2, $sub, {
               cmp =&gt; sub { -M $_[0] &lt;=&gt; -M $_[1] },
             });

       ignore_cmp
           If  you  want to see <u>all</u> corresponding files, not just 'different' ones, set the 'ignore_cmp' flag to
           tell File::DirCompare to skip its file comparison checks i.e.

             File::DirCompare-&gt;compare($dir1, $dir2, $sub,
               { ignore_cmp =&gt; 1 });

       ignore_unique
           If you want to ignore files that only exist in one of the two directories,  set  the  'ignore_unique'
           flag i.e.

             File::DirCompare-&gt;compare($dir1, $dir2, $sub,
               { ignore_unique =&gt; 1 });

       matches
           Subroutine to be called for file pairs that <u>match</u>, with the following signature:

             $sub-&gt;($file1, $file2)

           These pairs are ordinarily ignored (unless "ignore_cmp" is set).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       File::Dircmp,  which  provides  similar  functionality (and whose directory walking code I've adapted for
       this module), but a simpler reporting-only interface, something like the first example  in  the  SYNOPSIS
       above.

</pre><h4><b>AUTHOR</b> <b>AND</b> <b>CREDITS</b></h4><pre>
       Gavin Carr &lt;<a href="mailto:gavin@openfusion.com.au">gavin@openfusion.com.au</a>&gt;

       Thanks to Robin Barker for a bug report and fix for glob problems with whitespace.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright 2006-2012 by Gavin Carr &lt;<a href="mailto:gavin@openfusion.com.au">gavin@openfusion.com.au</a>&gt;.

       This  library  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.26.1                                       2018-03-31                                    <u><a href="../man3pm/DirCompare.3pm.html">DirCompare</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>