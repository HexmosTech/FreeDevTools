<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SDLx::Sprite::Animated - create animated SDL sprites easily!</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsdl-perl">libsdl-perl_2.548-5build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SDLx::Sprite::Animated - create animated SDL sprites easily!

</pre><h4><b>CATEGORY</b></h4><pre>
       Extension

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use SDLx::Sprite::Animated;

         # simplest possible form, where 'hero.png' is an image containing
         # fixed-length sprites in sequence. It doesn't matter if they are
         # placed vertically or horizontally, as long as the the widest
         # side is a multiple of the (narrowest) other. The widget will
         # automatically divide it in the proper frames, provided there is
         # no slack space between each frame.

         my $animation = SDLx::Sprite::Animated-&gt;new-&gt;load('hero.png');

         # that's it! Defaults are sane enough to DWIM in simple cases,
         # so you just have to call draw() on the right place. If you
         # need to setup your animation or have more control over it,
         # feel free to use the attributes and methods below.

         # these are the most useful methods to use in your game loop
         # (or wherever you want to manipulate the animation):
         $animation-&gt;next;
         $animation-&gt;previous;
         $animation-&gt;reset;

         $animation-&gt;current_frame;   # current frame number
         $animation-&gt;current_loop;    # current loop number

         # you can control positioning just like a regular SDLx::Sprite:
         $animation-&gt;rect
         $animation-&gt;x;
         $animation-&gt;y;

         # just like a regular Sprite, we fetch our source rect from -&gt;clip,
         # updating it on each call to -&gt;next (or -&gt;previous, or -&gt;reset).
         # If source rects for your animation are further apart (or less)
         # than the rect's width and height, you can adjust the animation
         # x/y offsets:
         $animation-&gt;<a href="../man15/step_x.15.html">step_x</a>(15);
         $animation-&gt;<a href="../man30/step_y.30.html">step_y</a>(30);

         $animation-&gt;draw($screen); # remember to do this! :)

         # we can also call -&gt;next() automatically after each draw():
         $animation-&gt;start;
         $animation-&gt;stop;

         # default is to go to the next frame at each draw(). If this is
         # too fast for you, change the attribute below:
         $animation-&gt;<a href="../man10/ticks_per_frame.10.html">ticks_per_frame</a>(10);

         # select type of animation loop when it reaches the last frame:
         $animation-&gt;type('circular'); # restarts loop at the beginning
         $animation-&gt;type('reverse');  # goes backwards

         $animation-&gt;<a href="../man3/max_loops.3.html">max_loops</a>(3); 0 or undef for infinite looping

         # as usual, you can setup most of the above during object spawning
         my $animation = SDLx::Sprite::Animated-&gt;new(
                              image  =&gt; 'hero.png',
                              rect   =&gt; SDL::Rect-&gt;new(...),
                              step_x =&gt; 20,
                              step_y =&gt; 0,
                              ...
                         );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       An animation is a series of frames that are played in order. Frames are loaded from an image, usually
       referred to as a Sprite Sheet or Sprite Strip.

       This module let's you interact with such strips and create sprite animations just as easily as you would
       manipulate a regular SDLx::Sprite object.

</pre><h4><b>WARNING!</b> <b>VOLATILE</b> <b>CODE</b> <b>AHEAD</b></h4><pre>
       This is a new module and the API is subject to change without notice.  If you care, please join the
       discussion on the #sdl IRC channel in <u>irc.perl.org</u>. All thoughts on further improving the API are
       welcome.

       You have been warned :)

</pre><h4><b>ATTRIBUTES</b> <b>AND</b> <b>METHODS</b></h4><pre>
       SDLx::Sprite::Animated is a <b>subclass</b> of SDLx::Sprite, inheriting all its attributes and methods. Please
       refer to that module's documentation for information on those.

       The one difference in behavior is that, while a standard SDLx::Sprite uses "-&gt;clip()" to select the part
       of the surface to display, SDLx::Sprite::Animated treats "-&gt;clip()" as the <b>initial</b> rect, from which to
       start the animation.

       The following attributes and methods are available:

   <b>new</b>
   <b>new(</b> <b>%options</b> <b>)</b>
       Creates a new SDLx::Sprite::Animated object. No option is mandatory. It accepts all the options from a
       regular SDLx::Sprite object plus these:

       •   step_x =&gt; $integer

           Uses  $integer  as  the number of pixels to move on the x-axis (left-to-right, 0 being no dislocation
           whatsoever, when the strip goes from top to bottom) to reach the next frame.

       •   step_y =&gt; $integer

           Uses $integer as the number of pixels to move on the y-axis (top-to-bottom, 0  being  no  dislocation
           whatsoever, when the strip goes from left to right) to reach the next frame.

       •   max_loops =&gt; $integer

           Uses $integer as the number of times to loop the animation (when it reaches the end of the strip).

       •   ticks_per_frame =&gt; $integer

           Uses  $integer  to  set how many calls to <b>draw()</b> must be issued before we go to the next frame during
           autoplay (i.e. between calls to <b>start()</b> and <b>stop()</b>).

       •   type =&gt; $string

           Uses $string to set the type of animation loop when it reaches the last frame in the strip.  See  the
           <b>type()</b> method below for information on available looping types.

       •   sequences =&gt; { $string =&gt; [ [ $x1, $y1 ], [ $x2, $y2 ], ... ], ... }

           Uses the supplied hashref to define named sequences of frames.

       •   sequence =&gt; $string

           Uses $string to set the current sequence.

   <b>step_x()</b>
   <b>step_x(</b> <b>$integer</b> <b>)</b>
       Uses  $integer  as  the  number  of  pixels  to move on the x-axis (left-to-right, 0 being no dislocation
       whatsoever, when the strip goes from top to bottom) to reach the next frame.

       Defaults to the same width as the <b>clip()</b> rect.

   <b>step_y()</b>
   <b>step_y(</b> <b>$integer</b> <b>)</b>
       Uses $integer as the number of pixels to move on  the  y-axis  (top-to-bottom,  0  being  no  dislocation
       whatsoever, when the strip goes from left to right) to reach the next frame.

       Defaults to the same height as the <b>clip()</b> rect.

   <b>max_loops()</b>
   <b>max_loops(</b> <b>$integer</b> <b>)</b>
       Uses  $integer as the number of times to loop the animation (when it reaches the end of the strip). After
       that <b>all</b> <b>calls</b> <b>to</b> <b>previous()</b> <b>or</b> <b>next()</b> <b>will</b> <b>be</b> <b>no-ops</b>.

       Set it to 0 or "undef" to allow infinite loops. Default is 0 (infinite).

   <b>ticks_per_frame()</b>
   <b>ticks_per_frame(</b> <b>$integer</b> <b>)</b>
       Uses $integer to set how many calls to <b>draw()</b> must be issued before  we  go  to  the  next  frame  during
       autoplay (i.e. between calls to <b>start()</b> and <b>stop()</b>).

       Default is just 1 tick per frame, so you might want to change this if it's too fast.

   <b>type()</b>
   <b>type(</b> <b>$string</b> <b>)</b>
       Uses  $string  to  set  the type of animation loop when it reaches the last frame in the strip. Available
       looping types are:

       •   'circular'

           Restarts  loop  at  the  beginning  of  the  strip.  If  you  have  4  frames,  the  flow   will   be
           1-2-3-4-1-2-3-4-1-2-3-4-1-2-... up until the number of loops you set in the <b>max_loops()</b> attribute.

       •   'reverse'

           Loops back and forth on the strip. If you have 4 frames, the flow will be 1-2-3-4-3-2-1-2-3-4-3-2-...
           up until the number of loops you set in the <b>max_loops()</b> attribute.

       Case  is  irrelevant for <b>type()</b>, so for example 'Circular', 'CIRCULAR' and 'CiRcUlAr' are all accepted as
       'circular'. The return value is guaranteed to be lowercase.

       Default value is 'circular'.

   <b>set_sequences(</b> <b>$string</b> <b>=&gt;</b> <b>[</b> <b>[</b> <b>$x1,</b> <b>$y1</b> <b>],</b> <b>[</b> <b>$x2,</b> <b>$y2</b> <b>],</b> <b>...</b> <b>],</b> <b>...</b> <b>)</b>
       Uses the supplied hashref to define named sequences of frames. Replaces any previously defined sequences.

   <b>sequence(</b> <b>$string</b> <b>)</b>
       Uses $string to set the current sequence. Goes to the first frame in the sequence  and  resets  the  loop
       counter.

   <b>next()</b>
       Goes  to  the  next  frame  in  the  strip.  Calling this method will also reset the tick counter used by
       <b>ticks_per_frame()</b>.

       If <b>max_loops()</b> has reached its limit, this will be a no-op.

       Returns the object, allowing method chaining.

   <b>previous()</b>
       Goes to the previous frame in the strip. Calling this method will also reset the  tick  counter  used  by
       <b>ticks_per_frame()</b>.

       If <b>max_loops()</b> has reached its limit, this will be a no-op.

       Returns the object, allowing method chaining.

   <b>reset()</b>
       Goes to the first frame in the strip, meaning whatever clip is set to.

       If <b>max_loops()</b> has reached its limit, this will be a no-op.

       Returns the object, allowing method chaining.

   <b>current_frame()</b>
       Returns the current frame number. Note that this is 1-based (first frame is 1, second is 2, etc).

   <b>current_loop()</b>
       Returns  the  loop counter, i.e. which run number is it at. This is also 1-based (first time is 1, second
       time is 2, etc). Note that we only keep track of the counter if <b>max_loops()</b> is set to  a  finite  number.
       Otherwise, this will be a no-op.

</pre><h4><b>start()</b></h4><pre>
       After  you  call this method, the object will issue a call to "-&gt;next()" automatically for you every time
       "-&gt;draw()" is called ticks_per_frame() times.

       If you want to stop autoplay, see stop() below.

       Default is off (no autoplay).

</pre><h4><b>stop()</b></h4><pre>
       Stops autoplay. After you call this, the object will need  you  to  call  "-&gt;previous()"  and  "-&gt;next()"
       explicitly to change frames.

       To resume autoplay from wherever you are, use start().

       If you want to restart autoplay from the initial frame, just do:

         $sprite-&gt;reset-&gt;start;

</pre><h4><b>AUTHORS</b></h4><pre>
       See "AUTHORS" in SDL.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       SDL::Surface, SDL

perl v5.40.0                                       2024-10-20                  <u>pods::SDLx::Sprite::<a href="../man3pm/Animated.3pm.html">Animated</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>