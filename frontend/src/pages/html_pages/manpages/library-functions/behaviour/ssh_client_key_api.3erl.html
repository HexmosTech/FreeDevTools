<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ssh_client_key_api -</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/erlang-manpages">erlang-manpages_24.2.1+dfsg-1ubuntu0.5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ssh_client_key_api -
            -behaviour(ssh_client_key_api).

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Behavior  describing  the  API  for  public  key handling of an SSH client. By implementing the callbacks
       defined in this behavior, the public key handling of an SSH client can be customized. By default the  <u>ssh</u>
       application implements this behavior with help of the standard OpenSSH files, see the  <a href="../man7/ssh.7.html">ssh</a>(7) application
       manual.

</pre><h4><b>DATA</b> <b>TYPES</b></h4><pre>
       <b>client_key_cb_options(T)</b> =
           [{key_cb_private, [T]} | ssh:client_option()]

              Options provided to ssh:connect/[3,4].

              The option list given in the <u>key_cb</u> option is available with the key <u>key_cb_private</u>.

</pre><h4><b>EXPORTS</b></h4><pre>
       <b>Module:add_host_key(HostNames,</b> <b>PublicHostKey,</b> <b>ConnectOptions)</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{error,</b> <b>Reason}</b>

              Types:

                 HostNames = string()
                   Description of the host that owns the <u>PublicHostKey</u>.
                 PublicHostKey = public_key:public_key()
                   Of  ECDSA  keys,  only  the  Normally  an RSA, DSA or ECDSA public key, but handling of other
                   public keys can be added.
                 ConnectOptions = client_key_cb_options()

              This function is retired in favour for <u>Module:add_host_key/4</u> which is the prefered  API  function.
              The  calling  SSH  application  will  still  try  the <u>add_host_key/3</u> if the call to <u>add_host_key/4</u>
              failed.

              Adds a host key to the set of trusted host keys.

       <b>Module:add_host_key(Host,</b> <b>Port,</b> <b>PublicHostKey,</b> <b>ConnectOptions)</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{error,</b> <b>Reason}</b>

              Types:

                 Host = inet:ip_address() | inet:hostname() | [ inet:ip_address() | inet:hostname() ]
                   The host that owns the <u>PublicHostKey</u>. One or more IP addresses or hostnames.
                 Port = inet:port_number()
                   The Port number of the Host.
                 PublicHostKey = public_key:public_key()
                   Of ECDSA keys, only the Normally an RSA, DSA or ECDSA  public  key,  but  handling  of  other
                   public keys can be added.
                 ConnectOptions = client_key_cb_options()

              Adds a host key to the set of trusted host keys.

              This  function  is prefered to the old <u>Module:add_host_key/3</u> since it also uses the peer host port
              number and may return an error message.

              The OTP/SSH application first calls this function  in  the  callback  module,  and  then  the  old
              <u>Module:add_host_key/3</u> for compatibilty.

       <b>Module:is_host_key(Key,</b> <b>Host,</b> <b>Algorithm,</b> <b>ConnectOptions)</b> <b>-&gt;</b> <b>Result</b>

              Types:

                 Key = public_key:public_key()
                   Normally an RSA, DSA or ECDSA public key, but handling of other public keys can be added.
                 Host = string()
                   Description of the host.
                 Algorithm = ssh:pubkey_alg()
                   Host key algorithm.
                 ConnectOptions = client_key_cb_options()
                 Result = boolean()

              This  function  is  retired in favour for <u>Module:is_host_key/5</u> which is the prefered API function.
              The calling SSH application will still try the <u>is_host_key/4</u> if the call to <u>is_host_key/5</u> failed.

              Checks if a host key is trusted.

       <b>Module:is_host_key(Key,</b> <b>Host,</b> <b>Port,</b> <b>Algorithm,</b> <b>ConnectOptions)</b> <b>-&gt;</b> <b>Result</b>

              Types:

                 Key = public_key:public_key()
                   Normally an RSA, DSA or ECDSA public key, but handling of other public keys can be added.
                 Host = inet:ip_address() | inet:hostname() | [ inet:ip_address() | inet:hostname() ]
                   Description of the host with one or more IP addresses or hostnames.
                 Port = inet:port_number()
                   The Port number of the host.
                 Algorithm = ssh:pubkey_alg()
                   Host key algorithm.
                 ConnectOptions = client_key_cb_options()
                 Result = boolean() | {error, Error::term()}
                   The exact error message depends on the actual callback module. The Error  message  makes  the
                   connection to fail, and is returned from e.g ssh:connect/3.

              Checks if a host key is trusted.

              This  function  is  prefered to the old <u>Module:is_host_key/4</u> since it also uses the peer host port
              number and may return an error message.

              The OTP/SSH application first calls this function  in  the  callback  module,  and  then  the  old
              <u>Module:is_host_key/4</u> for compatibilty.

       <b>Module:user_key(Algorithm,</b> <b>ConnectOptions)</b> <b>-&gt;</b> <b>Result</b>

              Types:

                 Algorithm = ssh:pubkey_alg()
                   Host key algorithm.
                 ConnectOptions = client_key_cb_options()
                 Result = {ok, public_key:private_key()} | {ok, {ssh2_pubkey, PubKeyBlob :: binary()}} | {error,
                 term()}

              Fetches  the  users  <u>public</u>  <u>key</u>  matching  the  <u>Algorithm</u>.  Some  key callback modules may return
              <u>{ssh2_pubkey,</u> <u>PubKeyBlob</u> <u>::</u> <u>binary()}</u>.

          <b>Note:</b>
              The private key contains the public key.

Ericsson AB                                         ssh 4.13                            <u><a href="../man3erl/ssh_client_key_api.3erl.html">ssh_client_key_api</a></u>(3erl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>