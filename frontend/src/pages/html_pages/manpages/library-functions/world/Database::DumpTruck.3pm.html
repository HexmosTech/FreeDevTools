<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Database::DumpTruck - Relaxing interface to SQLite</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdatabase-dumptruck-perl">libdatabase-dumptruck-perl_1.2-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Database::DumpTruck - Relaxing interface to SQLite

</pre><h4><b>SYNOPSIS</b></h4><pre>
         my $dt = new Database::DumpTruck;

         $dt-&gt;insert({Hello =&gt; 'World'});
         $dt-&gt;create_index(['Hello']);
         $dt-&gt;upsert({Hello =&gt; 'World', Yolo =&gt; 8086});
         my $data = $dt-&gt;dump;

         $dt-&gt;insert([
             {Hello =&gt; 'World'},
             {Hello =&gt; 'Hell', Structured =&gt; {
                 key =&gt; value,
                 array =&gt; [ 1, 2, 3, {} ],
             }}], 'table2');
         my $data2 = $dt-&gt;dump('table2');
         $dt-&gt;drop('table2');
         $dt-&gt;execute('SELECT 666');

         my @columns = $dt-&gt;column_names();

         $dt-&gt;save_var('number_of_the_beast', 666);
         my $number_of_the_beast = $dt-&gt;get_var('number_of_the_beast');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This is a simple document-oriented interface to a SQLite database, modelled after Scraperwiki's Python
       "dumptruck" module. It allows for easy (and maybe inefficient) storage and retrieval of structured data
       to and from a database without interfacing with SQL.

       Database::DumpTruck attempts to identify the type of the data you're inserting and uses an appropriate
       SQLite type:

       "integer"
           This is used for integer values. Will be used for 8086, but not "8086" or 8086.0.

       "real"
           This  is  used  for  numeric  values that are not integer. Will be used for 8086.0, but not "8086" or
           8086.

       "bool"
           This is used for values that look like result of logical statemen. A crude check for values that  are
           both  ""  and  0  or both "1" and 1 at the same time is in place. This is a result of comparison or a
           negation.

           To force a value to look like boolean, prepend it with a double negation: e.g.  "!!0" or "!!1".

       "json text"
           Used for "ARRAY" and "HASH" references. Values are converted into and from JSON strings upon "insert"
           and "dump".

       "text"
           Pretty much everything else.

</pre><h4><b>METHODS</b></h4><pre>
       <b>new</b> ([params])
           Initialize the database handle. Accepts optional hash with parameters:

           <b>dbname</b> (Default: "dumptruck.db")
                   The database file.

           <b>table</b> (Default: "dumptruck")
                   Name for the default table.

           <b>vars_table</b> (Default: "_dumptruckvars")
                   Name of the variables table.

           <b>vars_table_tmp</b> (Default: "_dumptruckvarstmp")
                   Name of the temporary table used when converting the values for variables table.

           <b>auto_commit</b> (Default: 1)
                   Enable automatic commit.

       <b>column_names</b> ([table_name])
           Return a list of names of all columns in given table, or table "dumptruck".

       <b>execute</b> (sql, [params])
           Run a raw SQL statement and get structured output. Optional parameters for "?"  placeholders  can  be
           specified.

       <b>commit</b> ()
           Commit outstanding transaction. Useful when "auto_commit" is off.

       <b>close</b> ()
           Close the database handle. You should not need to call this explicitly.

       <b>create_index</b> (columns, [table_name], [if_not_exists], [unique])
           Create an optionally unique index on columns in a given table. Can be told to do nothing if the index
           already exists.

       <b>create_table</b> (data, table_name, [error_if_exists])
           Create  a  table  and  optionally error out if it already exists. The data structure will be based on
           data, though no data will be inserted.

       <b>insert</b> (data, [table_name], [upsert])
           Insert (and optionally replace) data into a given table  or  "dumptruck".   Creates  the  table  with
           proper structure if it does not exist already.

       <b>upsert</b> (data, [table_name])
           Replace  data  into  a given table or "dumptruck". Creates the table with proper structure if it does
           not exist already.

           Equivalent to calling "insert" with "upsert" parameter set to 1.

       <b>get_var</b> (key)
           Retrieve a saved value for given key from the variable database.

       <b>save_var</b> (key, value)
           Insert a value for given key into the variable database.

       <b>tables</b> ()
           Returns a list of names of all tables in the database.

       <b>dump</b> ([table_name])
           Returns all data from the given table or "dumptduck" nicely structured.

       <b>drop</b> ([table_name])
           Drop the given table or "dumptruck".

</pre><h4><b>BUGS</b></h4><pre>
       None known.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       â€¢   &lt;https://github.com/scraperwiki/dumptruck&gt; - Python module this one is heavily inspired by.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2014, Lubomir Rintel

       This program is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

</pre><h4><b>AUTHOR</b></h4><pre>
       Lubomir Rintel &lt;<a href="mailto:lkundrak@v3.sk">lkundrak@v3.sk</a>&gt;

perl v5.36.0                                       2023-08-01                           <u>Database::<a href="../man3pm/DumpTruck.3pm.html">DumpTruck</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>