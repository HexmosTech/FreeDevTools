<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POE::Component::Pcap - POE Interface to Net::Pcap</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpoe-component-pcap-perl">libpoe-component-pcap-perl_0.04-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       POE::Component::Pcap - POE Interface to Net::Pcap

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use POE::Component::Pcap;

         POE::Component::Pcap-&gt;spawn(
                                     Alias =&gt; 'pcap',
                                     Device =&gt; 'eth0',
                                     Filter =&gt; 'host fooble or host blort',
                                     Dispatch =&gt; 'got_packet',
                                     Session =&gt; $my_session_id,
                                    );

         $poe_kernel-&gt;post( pcap =&gt; open_live =&gt;
                            'eth0', 80, 1, 100 );

         $poe_kernel-&gt;post( pcap =&gt; set_filter =&gt; 'arp or host zooble' );

         $poe_kernel-&gt;post( pcap =&gt; set_dispatch =&gt; 'target_state' );

         $poe_kernel-&gt;post( pcap =&gt; 'run' );

         $poe_kernel-&gt;post( pcap =&gt; 'shutdown' );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       POE::Component::Pcap provides a wrapper for using the Net::Pcap module from POE programs.  The component
       creates a separate session which posts events to a specified session and state when packets are
       available.

   <b>ARGUMENTS</b>
       Alias
           The  alias  for  the  Pcap  session.  Used to post events such as "run" and "shutdown" to control the
           component.  Defaults to "pcap" if not specified.

       Device
           As a shortcut, the device for Net::Pcap to watch may be specified when creating  the  component.   If
           this  argument is used, Net::Pcap::open_live will be called with a snaplen of 80 octets, a timeout of
           100ms, and the interface will be put in promiscuous mode.  If these values are not suitable, post  an
           "open_live" event instead.

       Filter
           Another shortcut, calls Net::Pcap::compile and Net::Pcap::setfilter to set a packet filter.  This can
           only  be  used  if the <b>Device</b> argument is also given; otherwise a "set_filter" event should be posted
           after an "open_live" event (since Net::Pcap must have a "pcap_t" descriptor to work with).

       Dispatch
       Session
           These specify the session and state to which events should be posted when packets are received.

   <b>EVENTS</b>
       The following examples assume that the component's alias has been set to the default value of <b>pcap</b>.

       open_live
             $_[KERNEL]-&gt;post( pcap =&gt; open_live
                               =&gt; 'device', [snaplen], [promsic?], [timeout] );

           Calls Net::Pcap::open_live.  The device name  must  be  specified.   The  snaplen,  promiscuous,  and
           timeout  parameters default to 80, 1, and 100 respectively.  This event must be posted (or the <b>Device</b>
           argument must have been passed to <b>spawn()</b>) before anything else can be done with the component.

       set_filter
             $_[KERNEL]-&gt;post( pcap =&gt; set_filter
                               =&gt; 'host fooble or host blort' )

           Sets the Net::Pcap capture filter.  See <b><a href="../man8/tcpdump.8.html">tcpdump</a></b>(8)  for  details  on  the  filter  language  used  by
           <b><a href="../man3/pcap.3.html">pcap</a></b>(3).

       set_dispatch
             $_[KERNEL]-&gt;post( pcap =&gt; set_dispatch
                               =&gt; 'target_state', 'target_session' );

           Sets  the  state  and session to which events are sent when packets are received.  The target session
           will default to the sender of the event if not specified.

           The event posted will have a single argument (available as <b>ARG0</b>) which will  be  an  array  reference
           containing  the $hdr and $pkt parameters from Net::Pcap.  See the <b>Net::<a href="../man3/Pcap.3.html">Pcap</a></b>(3) documentation for more
           details.

       run
             $_[KERNEL]-&gt;post( pcap =&gt; 'run' );

           Causes the component to register a select_read and start watching for packets.

       shutdown
             $_[KERNEL]-&gt;post( pcap =&gt; 'shutdown' );

           Shuts the component down.  Causes Net::Pcap::close to be called.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>Net::<a href="../man3/Pcap.3.html">Pcap</a></b>(3), <b><a href="../man3/pcap.3.html">pcap</a></b>(3), <b><a href="../man8/tcpdump.8.html">tcpdump</a></b>(8), <b><a href="../man3/POE.3.html">POE</a></b>(3), <b>POE::<a href="../man3/Component.3.html">Component</a></b>(3)

</pre><h4><b>AUTHOR</b></h4><pre>
       Mike Fletcher, &lt;<a href="mailto:fletch@phydeaux.org">fletch@phydeaux.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2000-2001, Mike Fletcher.  All Rights Reserved.  This is free software; you may redistribute it
       and/or modify it under the same terms as Perl itself.

perl v5.36.0                                       2022-12-06                                          <u><a href="../man3pm/Pcap.3pm.html">Pcap</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>