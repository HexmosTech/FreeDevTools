<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>qbatomic.h - Basic atomic integer and pointer operations.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libqb-dev">libqb-dev_2.0.8-2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       qbatomic.h - Basic atomic integer and pointer operations.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;qb/qbatomic.h&gt;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  following  functions can be used to atomically access integers and pointers. They are implemented as
       inline assembler function on most platforms and use slower fall-backs otherwise. Using them can sometimes
       save you from using a performance-expensive pthread_mutex to protect the integer or pointer.

       The    most    important    usage    is    reference    counting.    Using    <u>qb_atomic_int_inc()</u>     and
       <u>qb_atomic_int_dec_and_test()</u> makes reference counting a very fast operation.

       You  must  not  directly read integers or pointers concurrently accessed by multiple threads, but use the
       atomic accessor functions instead. That is, always use  <u>qb_atomic_int_get()</u>  and  <u>qb_atomic_pointer_get()</u>
       for  read  outs.  They  provide  the  necessary synchronization mechanisms like memory barriers to access
       memory locations concurrently.

       If you are using those functions for anything apart from simple reference counting, you should really  be
       aware  of  the implications of doing that. There are literally thousands of ways to shoot yourself in the
       foot. So if in doubt, use a pthread_mutex. If you don't know,  what  memory  barriers  are,  do  not  use
       anything but <u>qb_atomic_int_inc()</u> and <u>qb_atomic_int_dec_and_test()</u>.

       It  is not safe to set an integer or pointer just by assigning to it, when it is concurrently accessed by
       other   threads   with   the   following   functions.   Use    <u>qb_atomic_int_compare_and_exchange()</u>    or
       <u>qb_atomic_pointer_compare_and_exchange()</u> respectively.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/qb_atomic_int_set.3.html">qb_atomic_int_set</a></u>(3), <u><a href="../man3/qb_atomic_int_compare_and_exchange.3.html">qb_atomic_int_compare_and_exchange</a></u>(3), <u><a href="../man3/qb_atomic_int_get.3.html">qb_atomic_int_get</a></u>(3), <u><a href="../man3/qb_atomic_int_add.3.html">qb_atomic_int_add</a></u>(3),
       <u><a href="../man3/qb_atomic_init.3.html">qb_atomic_init</a></u>(3), <u><a href="../man3/qb_atomic_pointer_get.3.html">qb_atomic_pointer_get</a></u>(3), <u><a href="../man3/qb_atomic_int_exchange_and_add.3.html">qb_atomic_int_exchange_and_add</a></u>(3),
       <u><a href="../man3/qb_atomic_pointer_compare_and_exchange.3.html">qb_atomic_pointer_compare_and_exchange</a></u>(3), <u><a href="../man3/qb_atomic_pointer_set.3.html">qb_atomic_pointer_set</a></u>(3)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2003 Sebastian Wilhelmi

LIBQB                                              2023-07-21                                      <u><a href="../man3/QBATOMIC.H.3.html">QBATOMIC.H</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>