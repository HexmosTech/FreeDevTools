<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>math::decimal - General decimal arithmetic</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       math::decimal - General decimal arithmetic

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>?8.5</b> <b>9?</b>

       package require <b>math::decimal</b> <b>1.0.3</b>

       <b>::math::decimal::fromstr</b> <u>string</u>

       <b>::math::decimal::tostr</b> <u>decimal</u>

       <b>::math::decimal::setVariable</b> <u>variable</u> <u>setting</u>

       <b>::math::decimal::add</b> <u>a</u> <u>b</u>

       <b>::math::decimal::+</b> <u>a</u> <u>b</u>

       <b>::math::decimal::subtract</b> <u>a</u> <u>b</u>

       <b>::math::decimal::-</b> <u>a</u> <u>b</u>

       <b>::math::decimal::multiply</b> <u>a</u> <u>b</u>

       <b>::math::decimal::*</b> <u>a</u> <u>b</u>

       <b>::math::decimal::divide</b> <u>a</u> <u>b</u>

       <b>::math::decimal::/</b> <u>a</u> <u>b</u>

       <b>::math::decimal::divideint</b> <u>a</u> <u>b</u>

       <b>::math::decimal::remainder</b> <u>a</u> <u>b</u>

       <b>::math::decimal::abs</b> <u>decimal</u>

       <b>::math::decimal::compare</b> <u>a</u> <u>b</u>

       <b>::math::decimal::max</b> <u>a</u> <u>b</u>

       <b>::math::decimal::maxmag</b> <u>a</u> <u>b</u>

       <b>::math::decimal::min</b> <u>a</u> <u>b</u>

       <b>::math::decimal::minmag</b> <u>a</u> <u>b</u>

       <b>::math::decimal::plus</b> <u>a</u>

       <b>::math::decimal::minus</b> <u>a</u>

       <b>::math::decimal::copynegate</b> <u>a</u>

       <b>::math::decimal::copysign</b> <u>a</u> <u>b</u>

       <b>::math::decimal::is-signed</b> <u>decimal</u>

       <b>::math::decimal::is-zero</b> <u>decimal</u>

       <b>::math::decimal::is-NaN</b> <u>decimal</u>

       <b>::math::decimal::is-infinite</b> <u>decimal</u>

       <b>::math::decimal::is-finite</b> <u>decimal</u>

       <b>::math::decimal::fma</b> <u>a</u> <u>b</u> <u>c</u>

       <b>::math::decimal::round_half_even</b> <u>decimal</u> <u>digits</u>

       <b>::math::decimal::round_half_up</b> <u>decimal</u> <u>digits</u>

       <b>::math::decimal::round_half_down</b> <u>decimal</u> <u>digits</u>

       <b>::math::decimal::round_down</b> <u>decimal</u> <u>digits</u>

       <b>::math::decimal::round_up</b> <u>decimal</u> <u>digits</u>

       <b>::math::decimal::round_floor</b> <u>decimal</u> <u>digits</u>

       <b>::math::decimal::round_ceiling</b> <u>decimal</u> <u>digits</u>

       <b>::math::decimal::round_05up</b> <u>decimal</u> <u>digits</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  decimal  package  provides  decimal arithmetic support for both limited precision floating point and
       arbitrary precision floating point.  Additionally, integer arithmetic is supported.

       More information and the specifications on which this package depends can be found on the general decimal
       arithmetic page at <a href="http://speleotrove.com/decimal">http://speleotrove.com/decimal</a> This package provides for:

       •      A new data type decimal which is represented as a list containing sign, mantissa and exponent.

       •      Arithmetic operations on those decimal numbers  such  as  addition,  subtraction,  multiplication,
              etc...

       Numbers are converted to decimal format using the operation ::math::decimal::fromstr.

       Numbers are converted back to string format using the operation ::math::decimal::tostr.

</pre><h4><b>EXAMPLES</b></h4><pre>
       This  section  shows  some  simple examples. Since the purpose of this library is to perform decimal math
       operations, examples may be the simplest way to learn how to work with  it  and  to  see  the  difference
       between  using  this  package  and  sticking  with  expr.  Consult  the  API section of this man page for
       information about individual procedures.

                  package require math::decimal

                  # Various operations on two numbers.
                  # We first convert them to decimal format.
                  set a [::math::decimal::fromstr 8.2]
                  set b [::math::decimal::fromstr .2]

                  # Then we perform our operations. Here we add
                  set c [::math::decimal::+ $a $b]

                  # Finally we convert back to string format for presentation to the user.
                  puts [::math::decimal::tostr $c] ; # =&gt; will output 8.4

                  # Other examples
                  #
                  # Subtraction
                  set c [::math::decimal::- $a $b]
                  puts [::math::decimal::tostr $c] ; # =&gt; will output 8.0

                  # Why bother using this instead of simply expr?
                  puts [expr {8.2 + .2}] ; # =&gt; will output 8.399999999999999
                  puts [expr {8.2 - .2}] ; # =&gt; will output 7.999999999999999
                  # See <a href="http://speleotrove.com/decimal">http://speleotrove.com/decimal</a> to learn more about why this happens.

</pre><h4><b>API</b></h4><pre>
       <b>::math::decimal::fromstr</b> <u>string</u>
              Convert <u>string</u> into a decimal.

       <b>::math::decimal::tostr</b> <u>decimal</u>
              Convert <u>decimal</u> into a string representing the number in base 10.

       <b>::math::decimal::setVariable</b> <u>variable</u> <u>setting</u>
              Sets the <u>variable</u> to <u>setting</u>. Valid variables are:

              •      <u>rounding</u> - Method of rounding to use during rescale.  Valid  methods  are  round_half_even,
                     round_half_up, round_half_down, round_down, round_up, round_floor, round_ceiling.

              •      <u>precision</u> - Maximum number of digits allowed in mantissa.

              •      <u>extended</u> - Set to 1 for extended mode. 0 for simplified mode.

              •      <u>maxExponent</u> - Maximum value for the exponent. Defaults to 999.

              •      <u>minExponent</u> - Minimum value for the exponent. Default to -998.

       <b>::math::decimal::add</b> <u>a</u> <u>b</u>

       <b>::math::decimal::+</b> <u>a</u> <u>b</u>
              Return the sum of the two decimals <u>a</u> and <u>b</u>.

       <b>::math::decimal::subtract</b> <u>a</u> <u>b</u>

       <b>::math::decimal::-</b> <u>a</u> <u>b</u>
              Return the differnece of the two decimals <u>a</u> and <u>b</u>.

       <b>::math::decimal::multiply</b> <u>a</u> <u>b</u>

       <b>::math::decimal::*</b> <u>a</u> <u>b</u>
              Return the product of the two decimals <u>a</u> and <u>b</u>.

       <b>::math::decimal::divide</b> <u>a</u> <u>b</u>

       <b>::math::decimal::/</b> <u>a</u> <u>b</u>
              Return the quotient of the division between the two decimals <u>a</u> and <u>b</u>.

       <b>::math::decimal::divideint</b> <u>a</u> <u>b</u>
              Return a the integer portion of the quotient of the division between decimals <u>a</u> and <u>b</u>

       <b>::math::decimal::remainder</b> <u>a</u> <u>b</u>
              Return the remainder of the division between the two decimals <u>a</u> and <u>b</u>.

       <b>::math::decimal::abs</b> <u>decimal</u>
              Return the absolute value of the decimal.

       <b>::math::decimal::compare</b> <u>a</u> <u>b</u>
              Compare the two decimals a and b, returning <u>0</u> if <u>a</u> <u>==</u> <u>b</u>, <u>1</u> if <u>a</u> <u>&gt;</u> <u>b</u>, and <u>-1</u> if <u>a</u> <u>&lt;</u> <u>b</u>.

       <b>::math::decimal::max</b> <u>a</u> <u>b</u>
              Compare the two decimals a and b, and return <u>a</u> if <u>a</u> <u>&gt;=</u> <u>b</u>, and <u>b</u> if <u>a</u> <u>&lt;</u> <u>b</u>.

       <b>::math::decimal::maxmag</b> <u>a</u> <u>b</u>
              Compare the two decimals a and b while ignoring their signs, and return <u>a</u> if <u>abs(a)</u> <u>&gt;=</u> <u>abs(b)</u>, and
              <u>b</u> if <u>abs(a)</u> <u>&lt;</u> <u>abs(b)</u>.

       <b>::math::decimal::min</b> <u>a</u> <u>b</u>
              Compare the two decimals a and b, and return <u>a</u> if <u>a</u> <u>&lt;=</u> <u>b</u>, and <u>b</u> if <u>a</u> <u>&gt;</u> <u>b</u>.

       <b>::math::decimal::minmag</b> <u>a</u> <u>b</u>
              Compare the two decimals a and b while ignoring their signs, and return <u>a</u> if <u>abs(a)</u> <u>&lt;=</u> <u>abs(b)</u>, and
              <u>b</u> if <u>abs(a)</u> <u>&gt;</u> <u>abs(b)</u>.

       <b>::math::decimal::plus</b> <u>a</u>
              Return the result from <u>::math::decimal::+</u> <u>0</u> <u>$a</u>.

       <b>::math::decimal::minus</b> <u>a</u>
              Return the result from <u>::math::decimal::-</u> <u>0</u> <u>$a</u>.

       <b>::math::decimal::copynegate</b> <u>a</u>
              Returns <u>a</u> with the sign flipped.

       <b>::math::decimal::copysign</b> <u>a</u> <u>b</u>
              Returns <u>a</u> with the sign set to the sign of the <u>b</u>.

       <b>::math::decimal::is-signed</b> <u>decimal</u>
              Return  the  sign  of  the  decimal.  The procedure returns 0 if the number is positive, 1 if it's
              negative.

       <b>::math::decimal::is-zero</b> <u>decimal</u>
              Return true if <u>decimal</u> value is zero, otherwise false is returned.

       <b>::math::decimal::is-NaN</b> <u>decimal</u>
              Return true if <u>decimal</u> value is NaN (not a number), otherwise false is returned.

       <b>::math::decimal::is-infinite</b> <u>decimal</u>
              Return true if <u>decimal</u> value is Infinite, otherwise false is returned.

       <b>::math::decimal::is-finite</b> <u>decimal</u>
              Return true if <u>decimal</u> value is finite, otherwise false is returned.

       <b>::math::decimal::fma</b> <u>a</u> <u>b</u> <u>c</u>
              Return the result from first multiplying <u>a</u> by <u>b</u> and then adding <u>c</u>.  Rescaling  only  occurs  after
              completion of all operations. In this way the result may vary from that returned by performing the
              operations individually.

       <b>::math::decimal::round_half_even</b> <u>decimal</u> <u>digits</u>
              Rounds  <u>decimal</u> to <u>digits</u> number of decimal points with the following rules: Round to the nearest.
              If equidistant, round so the final digit is even.

       <b>::math::decimal::round_half_up</b> <u>decimal</u> <u>digits</u>
              Rounds <u>decimal</u> to <u>digits</u> number of decimal points with the following rules: Round to the  nearest.
              If equidistant, round up.

       <b>::math::decimal::round_half_down</b> <u>decimal</u> <u>digits</u>
              Rounds  <u>decimal</u> to <u>digits</u> number of decimal points with the following rules: Round to the nearest.
              If equidistant, round down.

       <b>::math::decimal::round_down</b> <u>decimal</u> <u>digits</u>
              Rounds <u>decimal</u> to <u>digits</u> number of decimal points  with  the  following  rules:  Round  toward  0.
              (Truncate)

       <b>::math::decimal::round_up</b> <u>decimal</u> <u>digits</u>
              Rounds <u>decimal</u> to <u>digits</u> number of decimal points with the following rules: Round away from 0

       <b>::math::decimal::round_floor</b> <u>decimal</u> <u>digits</u>
              Rounds  <u>decimal</u>  to  <u>digits</u>  number  of  decimal  points  with  the  following rules: Round toward
              -Infinity.

       <b>::math::decimal::round_ceiling</b> <u>decimal</u> <u>digits</u>
              Rounds <u>decimal</u> to <u>digits</u> number of decimal points with the following rules: Round toward Infinity

       <b>::math::decimal::round_05up</b> <u>decimal</u> <u>digits</u>
              Rounds <u>decimal</u> to <u>digits</u> number of decimal points with the following rules:  Round  zero  or  five
              away  from 0. The same as round-up, except that rounding up only occurs if the digit to be rounded
              up is 0 or 5, and after overflow the result is the same as for round-down.

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This document, and the package it describes, will undoubtedly contain bugs and  other  problems.   Please
       report  such  in  the  category  <u>decimal</u>  of  the <u>Tcllib</u> <u>Trackers</u> [<a href="http://core.tcl.tk/tcllib/reportlist">http://core.tcl.tk/tcllib/reportlist</a>].
       Please also report any ideas for enhancements you may have for either package and/or documentation.

       When proposing code changes, please provide <u>unified</u> <u>diffs</u>, i.e the output of <b>diff</b> <b>-u</b>.

       Note further that <u>attachments</u> are strongly preferred over inlined patches. Attachments  can  be  made  by
       going  to the <b>Edit</b> form of the ticket immediately after its creation, and then using the left-most button
       in the secondary navigation bar.

</pre><h4><b>KEYWORDS</b></h4><pre>
       decimal, math, tcl

</pre><h4><b>CATEGORY</b></h4><pre>
       Mathematics

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2011 Mark Alston &lt;mark at beernut dot com&gt;

tcllib                                                1.0.5                                  <u>math::<a href="../man3tcl/decimal.3tcl.html">decimal</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>