<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class::MakeMethods::Utility::TextBuilder - Basic text substitutions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libclass-makemethods-perl">libclass-makemethods-perl_1.01-7_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Class::MakeMethods::Utility::TextBuilder - Basic text substitutions

</pre><h4><b>SYNOPSIS</b></h4><pre>
        print text_builder( $base_text, @exprs )

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides a single function, which implements a simple "text macro" mechanism for assembling
       templated text strings.

         $expanded_text = text_builder( $base_text, @exprs )

       Returns a modified copy of $base_text using rules from the @exprs list.

       The @exprs list may contain any of the following:

       •   A string, in which any '*' characters will be replaced by the base text. The interpolated string then
           replaces the base text.

       •   A  code-ref,  which  will  be called with the base text as its only argument. The result of that call
           then replaces the base text.

       •   A hash-ref, which will be added to the substitution hash used in the second pass, below.

       •   An array-ref, containing additional expressions to be treated as above.

       After any initial string and code-ref rules have  been  applied,  the  hash  of  substitution  rules  are
       applied.

       The  text  will  be searched for occurrences of the keys of the substitution hash, which will be modified
       based on the corresponding value in the hash. If the substitution key ends with  '{}',  the  search  will
       also match a balanced block of braces, and that value will also be used in the substitution.

       The hash-ref may contain the following types of rules:

       •   'string' =&gt; 'string'

           Occurrences of the first string are to be replaced by the second.

       •   'string' =&gt; <u>code_ref</u>

           Occurrences  of  the  string  are  to  be  replaced  by the results of calling the subroutine with no
           arguments.

       •   'string{}' =&gt; 'string'

           Occurrences of the first string and subsequent block of braces are replaced by a copy of  the  second
           string in which any '*' characters have first been replaced by the contents of the brace block.

       •   'string{}' =&gt; <u>code_ref</u>

           Occurrences  of  the string and subsequent block of braces are replaced by the results of calling the
           subroutine with the contents of the brace block as its only argument.

       •   'string{}' =&gt; <u>hash_ref</u>

           Occurrences of the string and subsequent block of braces are replaced by using the  contents  of  the
           brace block as a key into the provided hash-ref.

</pre><h4><b>EXAMPLE</b></h4><pre>
       The following text and modification rules provides a skeleton for a collection letter:

         my $letter = "You owe us AMOUNT. Please pay up!\n\n" .
                         "THREAT{SEVERITY}";

         my @exprs = (
           "Dear NAMEm\n\n*",
           "*\n\n-- The Management",

           { 'THREAT{}' =&gt; { 'good'=&gt;'Please?', 'bad'=&gt;'Or else!' } },

           "\t\t\t\tDATE\n*",
           { 'DATE' =&gt; 'Tuesday, April 1, 2001' },
         );

       One  might  invoke  this  template  by  providing  additional  data  for a given instance and calling the
       text_builder function:

         my $item = { 'NAME'=&gt;'John', 'AMOUNT'=&gt;'200 camels', 'SEVERITY'=&gt;'bad' };

         print text_builder( $letter, @exprs, $item );

       The resulting output is shown below:

                                         Tuesday, April 1, 2001
         Dear John,

         You owe us 200 camels. Please pay up!

         Or else!

         -- The Management

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       See Class::MakeMethods for general information about this distribution.

perl v5.36.0                                       2022-10-13             <u>MakeMethods::Utility::<a href="../man3pm/TextBuilder.3pm.html">TextBuilder</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>