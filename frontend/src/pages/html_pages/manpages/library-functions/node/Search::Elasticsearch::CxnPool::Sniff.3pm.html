<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search::Elasticsearch::CxnPool::Sniff - A CxnPool for connecting to a local cluster with a dynamic node</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsearch-elasticsearch-perl">libsearch-elasticsearch-perl_8.12-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Search::Elasticsearch::CxnPool::Sniff - A CxnPool for connecting to a local cluster with a dynamic node
       list

</pre><h4><b>VERSION</b></h4><pre>
       version 8.12

</pre><h4><b>SYNOPSIS</b></h4><pre>
           $e = Search::Elasticsearch-&gt;new(
               cxn_pool =&gt; 'Sniff',
               nodes    =&gt; [
                   'search1:9200',
                   'search2:9200'
               ],
           );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The Sniff connection pool should be used when you <b>do</b> have direct access to the Elasticsearch cluster, eg
       when your web servers and Elasticsearch servers are on the same network.  The nodes that you specify are
       used to <u>discover</u> the cluster, which is then <u>sniffed</u> to find the current list of live nodes that the
       cluster knows about.

       This sniff process is repeated regularly, or whenever a node fails, to update the list of healthy nodes.
       So if you add more nodes to your cluster, they will be auto-discovered during a sniff.

       If all sniffed nodes fail, then it falls back to sniffing the original <u>seed</u> nodes that you specified in
       new().

       For HTTP Cxn classes, this module will also dynamically detect the "max_content_length" which the nodes
       in the cluster will accept.

       This class does Search::Elasticsearch::Role::CxnPool::Sniff and Search::Elasticsearch::Role::Is_Sync.

</pre><h4><b>CONFIGURATION</b></h4><pre>
   <b>"nodes"</b>
       The list of nodes to use to discover the cluster.  Can accept a single node, multiple nodes, and defaults
       to "localhost:9200" if no "nodes" are specified. See "node" in Search::Elasticsearch::Role::Cxn for
       details of the node specification.

   <b>See</b> <b>also</b>
       •   "request_timeout" in Search::Elasticsearch::Role::Cxn

       •   "sniff_timeout" in Search::Elasticsearch::Role::Cxn

       •   "sniff_request_timeout" in Search::Elasticsearch::Role::Cxn

   <b>Inherited</b> <b>configuration</b>
       From Search::Elasticsearch::Role::CxnPool::Sniff

       •   sniff_interval

       •   sniff_max_content_length

       From Search::Elasticsearch::Role::CxnPool

       •   randomize_cxns

</pre><h4><b>METHODS</b></h4><pre>
   <b>next_cxn()</b>
           $cxn = $cxn_pool-&gt;next_cxn

       Returns  the  next  available live node (in round robin fashion), or throws a "NoNodes" error if no nodes
       can be sniffed from the cluster.

   <b>schedule_check()</b>
           $cxn_pool-&gt;schedule_check

       Forces a sniff before the next Cxn is returned, to updated the list of healthy nodes in the cluster.

   <b>sniff()</b>
           $bool = $cxn_pool-&gt;sniff

       Sniffs the cluster and returns "true" if the sniff was successful.

   <b>Inherited</b> <b>methods</b>
       From Search::Elasticsearch::Role::CxnPool::Sniff

       •   <b>schedule_check()</b>

       •   <b>parse_sniff()</b>

       •   <b>should_accept_node()</b>

       From Search::Elasticsearch::Role::CxnPool

       •   <b>cxn_factory()</b>

       •   <b>logger()</b>

       •   <b>serializer()</b>

       •   <b>current_cxn_num()</b>

       •   <b>cxns()</b>

       •   <b>seed_nodes()</b>

       •   <b>next_cxn_num()</b>

       •   <b>set_cxns()</b>

       •   <b>request_ok()</b>

       •   <b>request_failed()</b>

       •   <b>should_retry()</b>

       •   <b>should_mark_dead()</b>

       •   <b>cxns_str()</b>

       •   <b>cxns_seeds_str()</b>

       •   <b>retries()</b>

       •   <b>reset_retries()</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       Enrico Zimuel &lt;<a href="mailto:enrico.zimuel@elastic.co">enrico.zimuel@elastic.co</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2024 by Elasticsearch BV.

       This is free software, licensed under:

         The Apache License, Version 2.0, January 2004

perl v5.38.2                                       2024-02-04              <u>Search::Elasti...:CxnPool::<a href="../man3pm/Sniff.3pm.html">Sniff</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>