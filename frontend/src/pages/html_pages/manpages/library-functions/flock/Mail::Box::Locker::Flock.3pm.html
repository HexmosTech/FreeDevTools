<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::Box::Locker::Flock - lock a folder using kernel file-locking</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-box-perl">libmail-box-perl_3.011-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::Box::Locker::Flock - lock a folder using kernel file-locking

</pre><h4><b>INHERITANCE</b></h4><pre>
        Mail::Box::Locker::Flock
          is a Mail::Box::Locker
          is a Mail::Reporter

</pre><h4><b>SYNOPSIS</b></h4><pre>
        See Mail::Box::Locker

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The "::Flock" object locks the folder by creating an exclusive lock on the file using the kernel's
       "flock" facilities.  This lock is created on a separate file-handle to the folder file, so not the handle
       which is reading.

       File locking does not work in some situations, for instance for operating systems do not support "flock".

       Extends "DESCRIPTION" in Mail::Box::Locker.

</pre><h4><b>METHODS</b></h4><pre>
       Extends "METHODS" in Mail::Box::Locker.

   <b>Constructors</b>
       Extends "Constructors" in Mail::Box::Locker.

       Mail::Box::Locker::Flock-&gt;<b>new</b>(%options)
            -Option --Defined in       --Default
             expires  Mail::Box::Locker  1 hour
             file     Mail::Box::Locker  undef
             folder   Mail::Box::Locker  &lt;undef&gt;
             log      Mail::Reporter     'WARNINGS'
             method   Mail::Box::Locker  'FLOCK'
             timeout  Mail::Box::Locker  10
             trace    Mail::Reporter     'WARNINGS'

           expires =&gt; SECONDS
           file =&gt; FILENAME
           folder =&gt; FOLDER
           log =&gt; LEVEL
           method =&gt; STRING|CLASS|ARRAY
           timeout =&gt; SECONDS|'NOTIMEOUT'
           trace =&gt; LEVEL

   <b>Attributes</b>
       Extends "Attributes" in Mail::Box::Locker.

       $obj-&gt;<b>expires</b>( [SECONDS] )
           Inherited, see "Attributes" in Mail::Box::Locker

       $obj-&gt;<b>timeout</b>( [SECONDS] )
           Inherited, see "Attributes" in Mail::Box::Locker

   <b>The</b> <b>Locker</b>
       Extends "The Locker" in Mail::Box::Locker.

       $obj-&gt;<b>filename</b>( [$filename] )
           Inherited, see "The Locker" in Mail::Box::Locker

       $obj-&gt;<b>folder</b>( [$folder] )
           Inherited, see "The Locker" in Mail::Box::Locker

       $obj-&gt;<b>name</b>()
           Inherited, see "The Locker" in Mail::Box::Locker

   <b>Locking</b>
       Extends "Locking" in Mail::Box::Locker.

       $obj-&gt;<b>hasLock</b>()
           Inherited, see "Locking" in Mail::Box::Locker

       $obj-&gt;<b>isLocked</b>()
       $obj-&gt;<b>lock</b>()
       $obj-&gt;<b>unlock</b>()
           Inherited, see "Locking" in Mail::Box::Locker

   <b>Error</b> <b>handling</b>
       Extends "Error handling" in Mail::Box::Locker.

       $obj-&gt;<b>AUTOLOAD</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>addReport</b>($object)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
       Mail::Box::Locker::Flock-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>errors</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>log</b>( [$level, [$strings]] )
       Mail::Box::Locker::Flock-&gt;<b>log</b>( [$level, [$strings]] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logPriority</b>($level)
       Mail::Box::Locker::Flock-&gt;<b>logPriority</b>($level)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logSettings</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>notImplemented</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>report</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>reportAll</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>trace</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>warnings</b>()
           Inherited, see "Error handling" in Mail::Reporter

   <b>Cleanup</b>
       Extends "Cleanup" in Mail::Box::Locker.

       $obj-&gt;<b>DESTROY</b>()
           Inherited, see "Cleanup" in Mail::Box::Locker

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Warning: Folder $folder already flocked
           The  folder  is  already locked, but you attempt to lock it again.  The behavior of double flock's is
           platform dependent, and therefore should not be attempted.  The  second  lock  is  ignored  (but  the
           unlock isn't)

       Error: Package $package does not implement $method.
           Fatal  error:  the specific package (or one of its superclasses) does not implement this method where
           it should. This message means that some other related classes do implement this  method  however  the
           class  at  hand does not.  Probably you should investigate this and probably inform the author of the
           package.

       Error: Unable to check lock file $filename for $folder: $!
           To check whether the filename is used to flock a folder, the file must be  opened.   Apparently  this
           fails, which does not mean that the folder is locked neither that it is unlocked.

       Error: Unable to open flock file $filename for $folder: $!
           For flock-ing a folder it must be opened, which does not succeed for the specified reason.

       Error: Will never get a flock at $filename for $folder: $!
           Tried  to  flock  the  folder, but it did not succeed.  The error code received from the OS indicates
           that it will not succeed ever, so we do not need to try again.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       This module is  part  of  Mail-Box  distribution  version  3.011,  built  on  April  18,  2025.  Website:
       <u><a href="http://perl.overmeer.net/CPAN/">http://perl.overmeer.net/CPAN/</a></u>

</pre><h4><b>LICENSE</b></h4><pre>
       Copyrights 2001-2025 by [Mark Overmeer]. For other contributors see ChangeLog.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.  See <u><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></u>

perl v5.40.1                                       2025-04-25                      <u>Mail::Box::Locker::<a href="../man3pm/Flock.3pm.html">Flock</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>