<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OAuth::Lite2::Server::DataHandler - Base class that specifies interface for data handler for your</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liboauth-lite2-perl">liboauth-lite2-perl_0.11-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       OAuth::Lite2::Server::DataHandler - Base class that specifies interface for data handler for your
       service.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This connects OAuth::Lite2 library to your service.

       This specifies an interface to handle data stored in your application. You must inherit this and
       implement the subroutines according to the interface contract.

</pre><h4><b>SYNOPSIS</b></h4><pre>
           package YourDataHandler;

           use strict;
           use warnings;

           use parent 'OAuth::Lite2::Server::DataHandler';

</pre><h4><b>METHODS</b></h4><pre>
   <b>init</b>
       This method can be implemented to initialize your subclass.

</pre><h4><b>INTERFACES</b></h4><pre>
   <b>request</b>
       Returns &lt;Plack::Request&gt; object.

   <b>validate_client(</b> <b>$client_id,</b> <b>$client_secret,</b> <b>$grant_type</b> <b>)</b>
       This method is used by Token Endpoint. This method will be called all the time, regardless of the
       grant_type setting.

       This is the place to check if the client_id and client credentials are valid, as well as checking if the
       client is allowed to use this grant_type.

       If all the checks are successful, return 1. Otherwise return 0.

   <b>get_user_id(</b> <b>$username,</b> <b>$password</b> <b>)</b>
       This method is used by Token Endpoint, when requested grant_type is 'password'.

       The username and password are provided. You should check if the credentials are valid or not.

       If the checks are successful, return the user's identifier. The user's identifier is managed by your
       service.

   <b>create_or_update_auth_info(</b> <b>%params</b> <b>)</b>
       Create and save new authorization info.  Should return OAuth::Lite2::Model::AuthInfo object.

   <b>create_or_update_access_token(</b> <b>%params</b> <b>)</b>
       Create and save new access token.  Should return OAuth::Lite2::Model::AccessToken object.

   <b>get_auth_info_by_code(</b> <b>$code</b> <b>)</b>
       This method is used when the client obtains an access_token using an authorization-code that was issued
       by server with user's authorization.

       The Web Server Profile requires this interface.

       Should return OAuth::Lite2::Model::AuthInfo object.

   <b>get_auth_info_by_refresh_token(</b> <b>$refresh_token</b> <b>)</b>
       This method is used when the access_token is refreshed.

       Should return OAuth::Lite2::Model::AuthInfo object.

   <b>get_access_token(</b> <b>$token</b> <b>)</b>
       This interface is used on a protected resource endpoint.  See
       Plack::Middleware::Auth::OAuth2::ProtectedResource.

       Returns an access token which allows access to the protected attributes.  Should return
       OAuth::Lite2::Model::AccessToken object.

   <b>get_auth_info_by_id(</b> <b>$auth_id</b> <b>)</b>
       This method is used on a protected resource endpoint.  See
       Plack::Middleware::Auth::OAuth2::ProtectedResource.

       This method is called after the get_access_token method. Returns authorization-info that is related to
       the $auth_id and access-token.

       Should return OAuth::Lite2::Model::AuthInfo object.

   <b>validate_client_by_id(</b> <b>$client_id</b> <b>)</b>
       This hook is called on protected resource endpoint.  See
       Plack::Middleware::Auth::OAuth2::ProtectedResource.

       After checking if the token is valid, you can check if the client related the token is valid in this
       method.

       If the validation of the client_id is successful, return 1. Otherwise return 0.

   <b>validate_user_by_id(</b> <b>$user_id</b> <b>)</b>
       This hook is called on protected resource endpoint.  See
       Plack::Middleware::Auth::OAuth2::ProtectedResource.

       After checking if token is valid, you can check if the user related the token is valid in this method.

       If the validation of the user is successful, return 1. Otherwise return 0.

   <b>get_group_id_by_client_id</b> <b>(</b> <b>$client_id</b> <b>)</b>
       If client_id has group_id, return it.

   <b>validate_grouping_scope</b> <b>(</b> <b>$client_id,</b> <b>$scope</b> <b>)</b>
       If scope value is allowed, return 1.

   <b>create_server_state</b> <b>(</b> <b>$client_id</b> <b>)</b>
       Create and save OAuth::Lite2::Model::ServerState object.

   <b>get_user_id_by_external_assertion</b> <b>(</b> <b>%params</b> <b>)</b>
       This method is used by Token Endpoint, when requested grant_type is 'federation-bearer'.

       The external service assertion is provided. You should check if the related external service account is
       valid or not.  If the checks are successful, return the user's identifier. The user's identifier is
       managed by your service.

</pre><h4><b>AUTHOR</b></h4><pre>
       Ryo Ito, &lt;<a href="mailto:ritou.06@gmail.com">ritou.06@gmail.com</a>&gt;

       Lyo Kato, &lt;<a href="mailto:lyo.kato@gmail.com">lyo.kato@gmail.com</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright (C) 2010 by Lyo Kato

       This library is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself, either Perl version 5.8.8 or, at your option, any later version of Perl 5 you may have available.

perl v5.36.0                                       2023-07-01             <u>OAuth::Lite2::Server::<a href="../man3pm/DataHandler.3pm.html">DataHandler</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>