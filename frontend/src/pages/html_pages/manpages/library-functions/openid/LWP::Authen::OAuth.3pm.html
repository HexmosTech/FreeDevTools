<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LWP::Authen::OAuth - generate signed OAuth requests</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liblwp-authen-oauth-perl">liblwp-authen-oauth-perl_1.01-1.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       LWP::Authen::OAuth - generate signed OAuth requests

</pre><h4><b>SYNOPSIS</b></h4><pre>
               require LWP::Authen::OAuth;

   <b>Google</b>
               # Google uses 'anonymous' for unregistered Web/offline applications or the
               # domain name for registered Web applications
               my $ua = LWP::Authen::OAuth-&gt;new(
                       oauth_consumer_secret =&gt; "anonymous",
               );

               # request a 'request' token
               my $r = $ua-&gt;post( "https://www.google.com/accounts/OAuthGetRequestToken",
                       [
                               oauth_consumer_key =&gt; 'anonymous',
                               oauth_callback =&gt; '<a href="http://example.net/oauth">http://example.net/oauth</a>',
                               xoauth_displayname =&gt; 'Example Application',
                               scope =&gt; 'https://docs.google.com/feeds/',
                       ]
               );
               die $r-&gt;as_string if $r-&gt;is_error;

               # update the token secret from the HTTP response
               $ua-&gt;oauth_update_from_response( $r );

               # open a browser for the user

               # data are returned as form-encoded
               my $uri = URI-&gt;new( 'http:' );
               $uri-&gt;query( $r-&gt;content );
               my %oauth_data = $uri-&gt;query_form;

               # Direct the user to here to grant you access:
               # https://www.google.com/accounts/OAuthAuthorizeToken?
               #       oauth_token=$oauth_data{oauth_token}\n";

               # turn the 'request' token into an 'access' token with the verifier
               # returned by google
               $r = $ua-&gt;post( "https://www.google.com/accounts/OAuthGetAccessToken", [
                       oauth_consumer_key =&gt; 'anonymous',
                       oauth_token =&gt; $oauth_data{oauth_token},
                       oauth_verifier =&gt; $oauth_verifier,
               ]);

               # update the token secret from the HTTP response
               $ua-&gt;oauth_update_from_response( $r );

               # now use the $ua to perform whatever actions you want

   <b>Twitter</b>
       Sending status updates to a single account is quite easy if you create an application. The
       "oauth_consumer_key" and "oauth_consumer_secret" come from the 'Application Details' page and the
       "oauth_token" and "oauth_token_secret" from the 'My Access Token' page.

               my $ua = LWP::Authen::OAuth-&gt;new(
                       oauth_consumer_key =&gt; 'xxx1',
                       oauth_consumer_secret =&gt; 'xxx2',
                       oauth_token =&gt; 'yyy1',
                       oauth_token_secret =&gt; 'yyy2',
               );

               $ua-&gt;post( '<a href="http://api.twitter.com/1/statuses/update.json">http://api.twitter.com/1/statuses/update.json</a>', [
                       status =&gt; 'Posted this using LWP::Authen::OAuth!'
               ]);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides a sub-class of LWP::UserAgent that generates OAuth 1.0 signed requests. You should
       familiarise yourself with OAuth at &lt;<a href="http://oauth.net/">http://oauth.net/</a>&gt;.

       This module only supports HMAC_SHA1 signing.

       OAuth nonces are generated using the Perl random number generator. To set a nonce manually define
       'oauth_nonce' in your requests via a CGI parameter or the Authorization header - see the OAuth
       documentation.

</pre><h4><b>METHODS</b></h4><pre>
       $ua = LWP::Authen::OAuth-&gt;new( ... )
           Takes the same options as "new" in LWP::UserAgent plus optionally:

                   oauth_consumer_key
                   oauth_consumer_secret
                   oauth_token
                   oauth_token_secret

           Most services will require some or all of these to be set even if it's just 'anonymous'.

       $ua-&gt;oauth_update_from_response( $r )
           Update  the  "oauth_token"  and  "oauth_token_secret"  from  an  HTTP::Response  object returned by a
           previous request e.g. when converting a request token into an access token.

       $key = $ua-&gt;oauth_consumer_key( [ KEY ] )
           Get and optionally set the consumer key.

       $secret = $ua-&gt;oauth_consumer_secret( [ SECRET ] )
           Get and optionally set the consumer secret.

       $token = $ua-&gt;oauth_token( [ TOKEN ] )
           Get and optionally set the oauth token.

       $secret = $ua-&gt;oauth_token_secret( [ SECRET ] )
           Get and optionally set the oauth token secret.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       LWP::UserAgent, MIME::Base64, Digest::SHA, URI, URI::Escape

   <b>Rationale</b>
       I think the complexity in OAuth is in the parameter normalisation and message signing. What  this  module
       does is to hide that complexity without replicating the higher-level protocol chatter.

       In Net::OAuth:

               $r = Net::OAuth-&gt;request('request token')-&gt;new(
                       consumer_key =&gt; 'xxx',
                       request_url =&gt; 'https://photos.example.net/request_token',
                       callback =&gt; '<a href="http://printer.example.com/request_token_ready">http://printer.example.com/request_token_ready</a>',
                       ...
                       extra_params {
                               scope =&gt; 'global',
                       }
               );
               $r-&gt;sign;
               $res = $ua-&gt;request(POST $r-&gt;to_url);
               $res = Net::OAuth-&gt;response('request token')
                       -&gt;from_post_body($res-&gt;content);
               ... etc

       In LWP::Authen::OAuth:

               $ua = LWP::Authen::OAuth-&gt;new(
                       oauth_consumer_key =&gt; 'xxx'
               );
               $res = $ua-&gt;post( 'https://photos.example.net/request_token', [
                       oauth_callback =&gt; '<a href="http://printer.example.com/request_token_ready">http://printer.example.com/request_token_ready</a>',
                       ...
                       scope =&gt; 'global',
               ]);
               $ua-&gt;oauth_update_from_response( $res );
               ... etc

       Net::OAuth, OAuth::Lite.

</pre><h4><b>AUTHOR</b></h4><pre>
       Timothy D Brody &lt;<a href="mailto:tdb2@ecs.soton.ac.uk">tdb2@ecs.soton.ac.uk</a>&gt;

       Copyright 2011 University of Southampton, UK

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself

perl v5.32.0                                       2021-01-07                            <u>LWP::Authen::<a href="../man3pm/OAuth.3pm.html">OAuth</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>