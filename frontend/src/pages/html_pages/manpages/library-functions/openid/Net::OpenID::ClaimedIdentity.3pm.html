<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::OpenID::ClaimedIdentity - A not-yet-verified OpenID identity</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-openid-consumer-perl">libnet-openid-consumer-perl_1.18-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::OpenID::ClaimedIdentity - A not-yet-verified OpenID identity

</pre><h4><b>VERSION</b></h4><pre>
       version 1.18

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Net::OpenID::Consumer;
         my $csr = Net::OpenID::Consumer-&gt;new;
         ....
         my $cident = $csr-&gt;claimed_identity("bradfitz.com")
           or die $csr-&gt;err;

         if ($AJAX_mode) {
           my $url = $cident-&gt;claimed_url;
           my $openid_server = $cident-&gt;identity_server;
           # ... return JSON with those to user agent (whose request was
           # XMLHttpRequest, probably)
         }

         if ($CLASSIC_mode) {
           my $check_url = $cident-&gt;check_url(
             delayed_return =&gt; 1,
             return_to      =&gt; "<a href="http://example.com/get-identity.app">http://example.com/get-identity.app</a>",
             trust_root     =&gt; "http://*.example.com/",
           );
           WebApp::redirect($check_url);
         }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       After Net::OpenID::Consumer crawls a user's declared identity URL and finds openid.server link tags in
       the HTML head, you get this object.  It represents an identity that can be verified with OpenID (the link
       tags are present), but hasn't been actually verified yet.

</pre><h4><b>METHODS</b></h4><pre>
       $url = $cident-&gt;<b>claimed_url</b>
           The  URL,  now canonicalized, that the user claims to own.  You can't know whether or not they do own
           it yet until you send them off to the check_url, though.

       $id_server = $cident-&gt;<b>identity_server</b>
           Returns the identity provider that will assert whether or not this claimed  identity  is  valid,  and
           sign a message saying so.

       $url = $cident-&gt;<b>delegated_url</b>
           If  the  claimed  URL  is using delegation, this returns the delegated identity that will actually be
           sent to the identity provider.

       $version = $cident-&gt;<b>protocol_version</b>
           Determines whether this identifier is to be verified by OpenID 1.1 or by OpenID 2.0. Returns 1  or  2
           respectively. This will affect the way the "check_url" is constructed.

       $cident-&gt;<b>set_extension_args</b>($ns_uri, $args)
           If  called  before  you access "check_url", the arguments given in the hashref $args will be added to
           the request in the given extension namespace.  For example, to use  the  Simple  Registration  (SREG)
           extension:

               $cident-&gt;set_extension_args(
                   '<a href="http://openid.net/extensions/sreg/1.1">http://openid.net/extensions/sreg/1.1</a>',
                   {
                       required =&gt; 'email',
                       optional =&gt; 'fullname,nickname',
                       policy_url =&gt; '<a href="http://example.com/privacypolicy.html">http://example.com/privacypolicy.html</a>',
                   },
               );

           Note  that  when  making  an OpenID 1.1 request, only the Simple Registration extension is supported.
           There was no general extension mechanism defined in OpenID 1.1, so SREG (with the namespace URI as in
           the example above) is supported as a special case. All other extension namespaces  will  be  silently
           ignored when making a 1.1 request.

       $url = $cident-&gt;<b>check_url</b>( %opts )
           Makes  the  URL  that  you have to somehow send the user to in order to validate their identity.  The
           options to put in %opts are:

           "return_to"
               The URL that the identity provider should redirect the  user  with  either  a  verified  identity
               signature  -or-  a  setup_needed message (indicating actual interaction with the user is required
               before an assertion can be made).  This URL  may  contain  query  parameters,  and  the  identity
               provider must preserve them.

           "trust_root"
               The  URL that you want the user to actually see and declare trust for.  Your "return_to" URL must
               be at or below your trust_root.  Sending  the  trust_root  is  optional,  and  defaults  to  your
               "return_to"  value,  but  it's  highly  recommended  (and  prettier  for  users)  to see a simple
               trust_root.  Note that the trust root may contain a wildcard at the beginning of the  host,  like
               "http://*.example.com/"

           "delayed_return"
               If set to a true value, the check_url returned will indicate to the user's identity provider that
               it  has  permission to control the user's user-agent for awhile, giving them real pages (not just
               redirects) and lets them bounce around the identity provider site for a while until the requested
               assertion can be made, and they can finally be redirected back to your return_to URL above.

               The default value, false, means that the  identity  provider  will  immediately  return  to  your
               return_to  URL with either a "yes" or "no" answer.  In the "no" case, you'll instead have control
               of what to do, whether to retry the request with "delayed_return"  set  true  (the  only  way  to
               proceed  in version 2.0) or to somehow send (be it link, redirect, or pop-up window) the user the
               provider's user_setup_url (which is made available in version 1.0/1.1).

               When writing a dynamic "AJAX"-style application, you can't use delayed_return because the  remote
               site can't usefully take control of a 1x1 pixel hidden IFRAME, so you'll need to either (1.0/1.1)
               get  the  user_setup_url  and  present  it  to  the user somehow or (2.0) launch a delayed_return
               request from an actual window if the AJAX-style request fails.

</pre><h4><b>COPYRIGHT,</b> <b>WARRANTY,</b> <b>AUTHOR</b></h4><pre>
       See Net::OpenID::Consumer for author, copyright and licensing information.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Net::OpenID::Consumer

       Net::OpenID::VerifiedIdentity

       Net::OpenID::Server

       Website:  &lt;<a href="http://www.openid.net/">http://www.openid.net/</a>&gt;

perl v5.34.0                                       2022-06-30                  <u>Net::OpenID::<a href="../man3pm/ClaimedIdentity.3pm.html">ClaimedIdentity</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>