<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hwlocality_setsource - Changing the Source of Topology Discovery</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libhwloc-doc">libhwloc-doc_2.12.0-4build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       hwlocality_setsource - Changing the Source of Topology Discovery

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Enumerations</b>
       enum <b>hwloc_topology_components_flag_e</b> { <b>HWLOC_TOPOLOGY_COMPONENTS_FLAG_BLACKLIST</b> }

   <b>Functions</b>
       int <b>hwloc_topology_set_pid</b> (<b>hwloc_topology_t</b> restrict topology, hwloc_pid_t pid)
       int <b>hwloc_topology_set_synthetic</b> (<b>hwloc_topology_t</b> restrict topology, const char *restrict description)
       int <b>hwloc_topology_set_xml</b> (<b>hwloc_topology_t</b> restrict topology, const char *restrict xmlpath)
       int <b>hwloc_topology_set_xmlbuffer</b> (<b>hwloc_topology_t</b> restrict topology, const char *restrict buffer, int
           size)
       int <b>hwloc_topology_set_components</b> (<b>hwloc_topology_t</b> restrict topology, unsigned long flags, const char
           *restrict name)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       These functions must be called between <b>hwloc_topology_init()</b> and <b>hwloc_topology_load()</b>. Otherwise, they
       will return -1 with errno set to EBUSY.

       If none of the functions below is called, the default is to detect all the objects of the machine that
       the caller is allowed to access.

       This default behavior may also be modified through environment variables if the application did not
       modify it already. Setting HWLOC_XMLFILE in the environment enforces the discovery from a XML file as if
       <b>hwloc_topology_set_xml()</b> had been called. Setting HWLOC_SYNTHETIC enforces a synthetic topology as if
       <b>hwloc_topology_set_synthetic()</b> had been called.

       Finally, HWLOC_THISSYSTEM enforces the return value of <b>hwloc_topology_is_thissystem()</b>.

</pre><h4><b>Enumeration</b> <b>Type</b> <b>Documentation</b></h4><pre>
   <b>enum</b> <b>hwloc_topology_components_flag_e</b>
       Flags to be passed to <b>hwloc_topology_set_components()</b>

       <b>Enumerator</b>

       <u>HWLOC_TOPOLOGY_COMPONENTS_FLAG_BLACKLIST</u>
              Blacklist the target component from being used.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b>  <b>hwloc_topology_set_components</b>  <b>(hwloc_topology_t</b>  <b>restrict</b>  <b>topology,</b>  <b>unsigned</b>  <b>long</b>  <b>flags,</b> <b>const</b> <b>char</b>
       <b>*restrict</b> <b>name)</b>
       Prevent a discovery component from being used for a topology. name is the name of the discovery component
       that should not be used when loading topology topology. The name is a string such as 'cuda'.

       For components with multiple phases, it may also be suffixed with the  name  of  a  phase,  for  instance
       'linux:io'.

       flags should be <b>HWLOC_TOPOLOGY_COMPONENTS_FLAG_BLACKLIST</b>.

       This may be used to avoid expensive parts of the discovery process. For instance, CUDA-specific discovery
       may be expensive and unneeded while generic I/O discovery could still be useful.

       <b>Returns</b>
           0 on success.

           -1 on error, for instance if flags are invalid.

   <b>int</b> <b>hwloc_topology_set_pid</b> <b>(hwloc_topology_t</b> <b>restrict</b> <b>topology,</b> <b>hwloc_pid_t</b> <b>pid)</b>
       Change  which process the topology is viewed from. On some systems, processes may have different views of
       the machine, for instance the set of allowed CPUs. By default, hwloc exposes the view  from  the  current
       process.  Calling <b>hwloc_topology_set_pid()</b> permits to make it expose the topology of the machine from the
       point of view of another process.

       <b>Note</b>
           hwloc_pid_t is pid_t on Unix platforms, and HANDLE on native Windows platforms.

           -1 is returned and errno is set to ENOSYS on platforms that do not support this feature.

           The PID will not actually be used until <b>hwloc_topology_load()</b>. If the corresponding process exits  in
           the  meantime, hwloc will ignore the PID. If another process reuses the PID, the view of that process
           will be used.

       <b>Returns</b>
           0 on success, -1 on error.

   <b>int</b> <b>hwloc_topology_set_synthetic</b> <b>(hwloc_topology_t</b> <b>restrict</b> <b>topology,</b> <b>const</b> <b>char</b> <b>*restrict</b> <b>description)</b>
       Enable synthetic topology. Gather topology information from  the  given  description,  a  space-separated
       string  of  &lt;type:number&gt;  describing  the  object type and arity at each level. All types may be omitted
       (space-separated string of numbers) so that hwloc chooses all types according to  usual  topologies.  See
       also the <b>Synthetic</b> <b>topologies</b>.

       Setting the environment variable HWLOC_SYNTHETIC may also result in this behavior.

       If description was properly parsed and describes a valid topology configuration, this function returns 0.
       Otherwise -1 is returned and errno is set to EINVAL.

       Note that this function does not actually load topology information; it just tells hwloc where to load it
       from. You'll still need to invoke <b>hwloc_topology_load()</b> to actually load the topology information.

       <b>Returns</b>
           0 on success.

           -1 with errno set to EINVAL if the description was invalid.

       <b>Note</b>
           For convenience, this backend provides empty binding hooks which just return success.

           On  success,  the  synthetic  component  replaces  the previously enabled component (if any), but the
           topology is not actually modified until <b>hwloc_topology_load()</b>.

   <b>int</b> <b>hwloc_topology_set_xml</b> <b>(hwloc_topology_t</b> <b>restrict</b> <b>topology,</b> <b>const</b> <b>char</b> <b>*restrict</b> <b>xmlpath)</b>
       Enable XML-file based topology. Gather topology information from the XML file given at  xmlpath.  Setting
       the  environment  variable  HWLOC_XMLFILE  may  also  result  in  this  behavior. This file may have been
       generated earlier with <b>hwloc_topology_export_xml()</b> in <b>hwloc/export.h</b>, or lstopo file.xml.

       Note that this function does not actually load topology information; it just tells hwloc where to load it
       from. You'll still need to invoke <b>hwloc_topology_load()</b> to actually load the topology information.

       <b>Returns</b>
           0 on success.

           -1 with errno set to EINVAL on failure to read the XML file.

       <b>Note</b>
           See also  <b>hwloc_topology_set_userdata_import_callback()</b>  for  importing  application-specific  object
           userdata.

           For  convenience,  this backend provides empty binding hooks which just return success. To have hwloc
           still actually call OS-specific hooks, the <b>HWLOC_TOPOLOGY_FLAG_IS_THISSYSTEM</b> has to be set to  assert
           that the loaded file is really the underlying system.

           On success, the XML component replaces the previously enabled component (if any), but the topology is
           not actually modified until <b>hwloc_topology_load()</b>.

           If  an  invalid  XML  input  file  is  given,  the  error  may  be  reported  either here or later by
           <b>hwloc_topology_load()</b> depending on the XML library used by hwloc.

   <b>int</b> <b>hwloc_topology_set_xmlbuffer</b> <b>(hwloc_topology_t</b> <b>restrict</b> <b>topology,</b> <b>const</b> <b>char</b> <b>*restrict</b> <b>buffer,</b> <b>int</b> <b>size)</b>
       Enable XML based topology using a memory buffer (instead of a file,  as  with  <b>hwloc_topology_set_xml()</b>).
       Gather  topology  information from the XML memory buffer given at buffer and of length size (including an
       ending  \0).  This  buffer  may  have  been  filled  earlier  with  <b>hwloc_topology_export_xmlbuffer()</b>  in
       <b>hwloc/export.h</b>.

       Note that this function does not actually load topology information; it just tells hwloc where to load it
       from. You'll still need to invoke <b>hwloc_topology_load()</b> to actually load the topology information.

       <b>Returns</b>
           0 on success.

           -1 with errno set to EINVAL on failure to read the XML buffer.

       <b>Note</b>
           See  also  <b>hwloc_topology_set_userdata_import_callback()</b>  for  importing  application-specific object
           userdata.

           For convenience, this backend provides empty binding hooks which just return success. To  have  hwloc
           still  actually call OS-specific hooks, the <b>HWLOC_TOPOLOGY_FLAG_IS_THISSYSTEM</b> has to be set to assert
           that the loaded file is really the underlying system.

           On success, the XML component replaces the previously enabled component (if any), but the topology is
           not actually modified until <b>hwloc_topology_load()</b>.

           If an invalid XML input  file  is  given,  the  error  may  be  reported  either  here  or  later  by
           <b>hwloc_topology_load()</b> depending on the XML library used by hwloc.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for Hardware Locality (hwloc) from the source code.

Hardware Locality (hwloc)                        Version 2.12.0                          <u><a href="../man3/hwlocality_setsource.3.html">hwlocality_setsource</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>