<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Config::Model::SearchElement - Search an element in a configuration model</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libconfig-model-perl">libconfig-model-perl_2.155-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Config::Model::SearchElement - Search an element in a configuration model

</pre><h4><b>VERSION</b></h4><pre>
       version 2.155

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use Config::Model;

        # define configuration tree object
        my $model = Config::Model-&gt;new;
         $model-&gt;create_config_class(
           name    =&gt; "Foo",
           element =&gt; [
               [qw/foo bar/] =&gt; {
                   type       =&gt; 'leaf',
                   value_type =&gt; 'string'
               },
           ]
        );
        $model -&gt;create_config_class (
           name =&gt; "MyClass",

           element =&gt; [

               [qw/foo bar/] =&gt; {
                   type       =&gt; 'leaf',
                   value_type =&gt; 'string'
               },
               hash_of_nodes =&gt; {
                   type       =&gt; 'hash',     # hash id
                   index_type =&gt; 'string',
                   cargo      =&gt; {
                       type              =&gt; 'node',
                       config_class_name =&gt; 'Foo'
                   },
               },
           ],
        ) ;

        my $inst = $model-&gt;instance(root_class_name =&gt; 'MyClass' );

        my $root = $inst-&gt;config_root ;

        # put data
        my $step = 'foo=FOO hash_of_nodes:fr foo=bonjour -
          hash_of_nodes:en foo=hello ';
        $root-&gt;load( step =&gt; $step );

        # create searcher for manual search
        my $searcher = $root-&gt;searcher();

        # looking for foo element in the tree
        $searcher -&gt; prepare (element =&gt; 'foo') ;
        my @next = $searcher-&gt;next_step() ;

        print "next possible steps: @next\n";
        # next possible steps: foo hash_of_nodes

        # Looking for foo below hash_of_nodes
        $searcher-&gt;choose('hash_of_nodes') ;
        @next = $searcher-&gt;next_step() ;

        print "next possible steps: @next\n";
        # next possible steps: en fr

        # Looking for foo below fr
        $searcher-&gt;choose('fr') ;
        @next = $searcher-&gt;next_step() ;

        print "next possible steps: @next\n";
        # next possible steps: foo

        # last step
        $searcher-&gt;choose('foo') ;
        my $target = $searcher-&gt;current_object;

        print "Found '",$target-&gt;location,"'\n";
        # Found 'hash_of_nodes:fr foo'

        # automatic search setup
        my $element_call_back = sub { return 'hash_of_nodes' ;} ;
        my $id_call_back      = sub { return 'en' ;} ;

        $searcher-&gt;reset ;
        $target = $searcher-&gt;auto_choose($element_call_back, $id_call_back) ;
         print "Automatic search found '",$target-&gt;location,"'\n";
        # Automatic search found 'hash_of_nodes:en foo'

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This modules provides a way to search for a configuration element in a configuration tree by exploring
       the configuration model.

       For instance, suppose that you have a xorg.conf model and you know that you need to tune the
       "MergedXinerama" parameter, but you don't remember where is this parameter in the configuration tree.
       This module guides you through the tree to the(s) node(s) that contain this parameter.

       This class should be invaluable to construct interactive user interfaces.

       This module provides 2 search modes:

       •   A  manual  search  where you are guided step by step to the element you're looking for. At each step,
           the module returns you the possible paths to choose from. The user has to  choose  the  correct  path
           from  the  available  paths.  Most  of the time, only one possibility is returned, so the user choice
           should be straightforward. In other case (more that one choice), the user  has  to  decide  the  next
           step.

       •   An  automatic  search  where  you provide call-back that resolves the ambiguities in case of multiple
           paths.

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
       The constructor should be used only by Config::Model::Node.

</pre><h4><b>Methods</b></h4><pre>
   <b>get_searchable_elements</b>
       Return the list of elements found in model that can be searched in the configuration tree.

   <b>prepare</b>
       Parameters: "(element =&gt; ...)"

       Prepare the searcher to look for the element passed in the argument.  Returns the searcher  object  (i.e.
       $self).

   <b>reset</b>
       Re-initialize the search engine to redo the search from start

   <b>searched</b>
       Returns the searched element name.

</pre><h4><b>Manual</b> <b>search</b></h4><pre>
   <b>next_step</b>
       Returns  an  array  (or a ref depending on context) containing the next possible step to find the element
       you're looking for. The array ref can contain 1 or more elements.

       If the array ref is empty, you can get the target element with "current_object".

   <b>next_choice</b>
       Returns an array ref containing the next non-obvious choice to find the element you're looking for.

       If the array ref is empty, you can get the target element with "current_object".

   <b>choose</b>
       Parameters: "( &lt;chosen_element_name&gt; )"

       Tell the search engine your choice. The chosen element name must be one of  the  possibilities  given  by
       "next_step".

   <b>current_object</b>
       Returns the object where the search engine is. It can be a node, a list, a hash, or a leaf element.

</pre><h4><b>Automatic</b> <b>search</b></h4><pre>
   <b>auto_choose</b>
       Parameters: "( element_callback, id_call_back)"

       Finds the searched element with minimal user interaction.

       "element_callback"  is called when the search engine finds a node where more than one element can lead to
       the searched item.

       "id_call_back" is called when the search engine finds a hash element or a list element which  contain  <b>no</b>
       or  <b>more</b>  <b>than</b>  <b>1</b> elements. In this case the call-back returns an id that is used by the search engine to
       get the target element.

       Both call-back arguments are:

       •   The current object (as returned by "current_object")

       •   A list of possible choices

       For instance, your callback can be :

        my $id_cb = sub {
           my ($object,@choices) = @_ ;
           ....
           return $choice[1] ;
        }

       Both call-back are expected to return a scalar value that is either:

       •   An element name

       •   An id valid for the list or hash element returned by "current_object".

</pre><h4><b>AUTHOR</b></h4><pre>
       Dominique Dumont, (ddumont at cpan dot org)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Config::Model, Config::Model::Node, Config::Model::AnyId,  Config::Model::ListId,  Config::Model::HashId,
       Config::Model::Value,

</pre><h4><b>AUTHOR</b></h4><pre>
       Dominique Dumont

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2005-2022 by Dominique Dumont.

       This is free software, licensed under:

         The GNU Lesser General Public License, Version 2.1, February 1999

perl v5.40.0                                       2024-11-30                  <u>Config::Model::<a href="../man3pm/SearchElement.3pm.html">SearchElement</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>