<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test::Git - Helper functions for test scripts using Git</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libgit-repository-perl">libgit-repository-perl_1.325-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Test::Git - Helper functions for test scripts using Git

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Test::More;
           use Test::Git;

           # check there is a git binary available, or skip all
           has_git();

           # check there is a minimum version of git available, or skip all
           has_git( '1.6.5' );

           # check the git we want to test has a minimum version, or skip all
           has_git( '1.6.5', { git =&gt; '/path/to/alternative/git' } );

           # normal plan
           plan tests =&gt; 2;

           # create a new, empty repository in a temporary location
           # and return a Git::Repository object
           my $r = test_repository();

           # clone an existing repository in a temporary location
           # and return a Git::Repository object
           my $c = test_repository( clone =&gt; [ $url ] );

           # run some tests on the repository
           ...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Test::Git provides a number of helpful functions when running test scripts that require the creation and
       management of a Git repository.

</pre><h4><b>EXPORTED</b> <b>FUNCTIONS</b></h4><pre>
   <b>has_git</b>
           has_git( $version, \%options );

       Checks if there is a git binary available, or skips all tests.

       If the optional $version argument is provided, also checks if the available git binary has a version
       greater or equal to $version.

       This function also accepts an option hash of the same kind as those accepted by Git::Repository and
       Git::Repository::Command.

       This function must be called before "plan()", as it performs a <b>skip_all</b> if requirements are not met.

       "has_git" is now <b>obsolete</b> and will print a warning when used.  The "test_requires_git" function provided
       by the Test::Requires::Git module is a much more flexible replacement.

       "has_git" will be removed in a future release.

   <b>test_repository</b>
           test_repository( %options );

       Creates a new empty git repository in a temporary location, and returns a Git::Repository object pointing
       to it.

       This function takes options as a hash. Each key will influence a different part of the creation process.

       The keys are:

       temp
           Array reference containing parameters to File::Temp "tempdir" function.

           Default: "&lt;[ CLEANUP =" 1 ]&gt;&gt;

       init
           Array  reference  containing  parameters  to  "git  init".   Must  not  contain  the target directory
           parameter, which is provided by "test_repository()" (via File::Temp).

           Default: "[]"

           The "init" option is only supported with Git versions higher or equal to 1.6.2.rc0.

       clone
           Array reference containing parameters  to  "git  clone".   Must  not  contain  the  target  directory
           parameter, which is provided by "test_repository()" (via File::Temp).

           Note  that  "clone" and "init" are mutually exclusive and that "test_repository()" will croak if both
           are provided.  This option has no default value, since at least a Git URL must  be  provided  to  the
           "clone" option.

           The "clone" option is only supported with Git versions higher or equal to 1.6.2.rc0.

       git Hash reference containing options for Git::Repository.

           Default: "{}"

       This call is the equivalent of the default call with no options:

           test_repository(
               temp =&gt; [ CLEANUP =&gt; 1 ],    # File::Temp::tempdir options
               init =&gt; [],                  # git init options
               git  =&gt; {},                  # Git::Repository options
           );

       To create a <u>bare</u> repository:

           test_repository( init =&gt; [ '--bare' ] );

       To leave the repository in its location after the end of the test:

           test_repository( temp =&gt; [ CLEANUP =&gt; 0 ] );

       Note  that  since "test_repository()" uses "git init" to create the test repository, it requires at least
       Git version "1.5.0.rc1".

</pre><h4><b>AUTHOR</b></h4><pre>
       Philippe Bruhat (BooK) &lt;<a href="mailto:book@cpan.org">book@cpan.org</a>&gt;

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
       The "clone" option and capability of "test_repository()" owes a  lot  to  Nathan  Nutter  (NNUTTER),  who
       wanted to be able to clone into a test repository.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Test::Requires::Git.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2010-2016 Philippe Bruhat (BooK), all rights reserved.

</pre><h4><b>LICENSE</b></h4><pre>
       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.36.0                                       2023-03-22                                     <u>Test::<a href="../man3pm/Git.3pm.html">Git</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>