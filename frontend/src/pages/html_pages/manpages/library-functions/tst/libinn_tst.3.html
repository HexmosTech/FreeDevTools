<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tst - Ternary search trie functions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/inn2-dev">inn2-dev_2.7.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       tst - Ternary search trie functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
           #include &lt;inn/tst.h&gt;

           enum tst_constants {
               TST_OK,
               TST_NULL_KEY,
               TST_NULL_DATA,
               TST_DUPLICATE_KEY,
               TST_REPLACE
           };

           struct tst;

           struct tst *tst_init(int node_line_width);

           void tst_cleanup(struct tst *tst);

           int tst_insert(struct tst *tst, const unsigned char *key,
                          void *data, int option, void **exist_ptr);

           void *tst_search(struct tst *tst, const unsigned char *key);

           void *tst_delete(struct tst *tst, const unsigned char *key);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>tst_init</b> allocates memory for members of <u>struct</u> <u>tst</u>, and allocates the first <u>node_line_width</u> nodes.  A
       NULL pointer is returned by <b>tst_init</b> if any part of the memory allocation fails.  On success, a pointer
       to a <u>struct</u> <u>tst</u> is returned.

       The value for <u>node_line_width</u> must be chosen very carefully.  One node is required for every character in
       the tree.  If you choose a value that is too small, your application will spend too much time calling
       <a href="../man3/malloc.3.html">malloc</a>(3) and your node space will be too spread out.  Too large a value is just a waste of space.

       <b>tst_cleanup</b> frees all memory allocated to nodes, internal structures, as well as <u>tst</u> itself.

       <b>tst_insert</b> inserts the string <u>key</u> into the tree.  Behavior when a duplicate key is inserted is controlled
       by <u>option</u>.  If <u>key</u> is already in the tree, then "TST_DUPLICATE_KEY" is returned, and the data pointer for
       the existing key is placed in <u>exist_ptr</u>.  If <u>option</u> is set to "TST_REPLACE", then the existing data
       pointer for the existing key is replaced by <u>data</u>.  Note that the old data pointer will still be placed in
       <u>exist_ptr</u>.

       If a duplicate key is encountered and <u>option</u> is not set to "TST_REPLACE", then "TST_DUPLICATE_KEY" is
       returned.  If <u>key</u> is zero length, then "TST_NULL_KEY" is returned.  A successful insert or replace
       returns "TST_OK".  A return value of "TST_ERROR" indicates that a memory allocation error occurred while
       trying to grow the node free.

       Note that the <u>data</u> argument must never be "NULL".  If it is, then calls to <b>tst_search</b> will fail for a key
       that exists because the data value was set to "NULL", which is what <b>tst_search</b> returns.  If you just want
       a simple existence tree, use the <b>tst</b> pointer as the data pointer.

       <b>tst_search</b> finds the string <u>key</u> in the tree if it exists and returns the data pointer associated with
       that key.

       If <u>key</u> is not found then "NULL" is returned, otherwise the data pointer associated with <u>key</u> is returned.

       <b>tst_delete</b> deletes the string <u>key</u> from the tree if it exists and returns the data pointer associated with
       that key.

       If <u>key</u> is not found, then "NULL" is returned, otherwise the data pointer associated with <u>key</u> is returned.

</pre><h4><b>HISTORY</b></h4><pre>
       Converted to POD from Peter A. Friend's ternary search trie documentation by Alex Kiernan
       &lt;<a href="mailto:alex.kiernan@thus.net">alex.kiernan@thus.net</a>&gt; for InterNetNews 2.4.0.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3/libinn.3.html">libinn</a>(3).

INN 2.7.3                                          2025-05-19                                      <u><a href="../man3/libinn_tst.3.html">libinn_tst</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>