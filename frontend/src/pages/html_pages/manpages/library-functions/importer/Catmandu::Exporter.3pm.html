<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catmandu::Exporter - Namespace for packages that can export</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcatmandu-perl">libcatmandu-perl_1.2024-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Catmandu::Exporter - Namespace for packages that can export

</pre><h4><b>SYNOPSIS</b></h4><pre>
           # From the command line

           # JSON is an importer and YAML an exporter
           $ catmandu convert JSON to YAML &lt; data.json

           # OAI is an importer and JSON an exporter
           $ catmandu convert OAI --url <a href="http://biblio.ugent.be/oai">http://biblio.ugent.be/oai</a> to JSON

           # From Perl
           use Catmandu;

           my $importer = Catmandu-&gt;importer('JSON', file =&gt; 'data.json');
           my $exporter = Catmandu-&gt;exporter('YAML');

           $exporter-&gt;add({ record =&gt; "one"});
           $exporter-&gt;add_many([ { record =&gt; "one" } , { record =&gt; "two" } ]);
           $exporter-&gt;add_many($importer);

           $exporter-&gt;commit;

           undef($exporter); # Clean up memory

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A Catmandu::Exporter is a Perl package that can export data into JSON, YAML, XML or many other formats.
       By default, data is to STDOUT. Optionally provide a "file" or "fh" parameter to write to a file, string,
       or handle.

       Every Catmandu::Exporter is a Catmandu::Fixable thus provides a "fix" parameter and method to apply fixes
       to exported items:

           my $exporter = Catmandu-&gt;exporter('JSON', fix =&gt; ['upcase(title)']);

           # This will be printed to STDOUT like: {"title":"MY TITLE"}
           $exporter-&gt;add({ title =&gt; "my title"});

       Every Catmandu::Exporter is a Catmandu::Addable thus inherits the methods "add" and "add_many".

</pre><h4><b>CONFIGURATION</b></h4><pre>
       file
           Write  output to a local file given by its path or file handle.  Alternatively a scalar reference can
           be passed to write to a string and a code reference can be used to write to a callback function.

       fh  Write the output to an IO::Handle. If not specified, Catmandu::Util::io is used to create the  output
           handle from the "file" argument or by using STDOUT.

           It  is the task of the Perl programmer to close any opened IO::Handles.  Catmandu will not do this by
           itself.

       encoding
           Binmode of the output stream "fh". Set to "":utf8"" by default.

       fix An ARRAY of one or more fixes or file scripts to be applied to exported items.

</pre><h4><b>METHODS</b></h4><pre>
   <b>add</b>
       Adds one item to be exported.

   <b>add_many</b>
       Adds many items to be exported. This can be either an ARRAY-ref or an Catmandu::Iterator. Returns a  true
       value when the export was successful or undef on error.

   <b>count</b>
       Returns the number of items exported by this Catmandu::Exporter.

   <b>log</b>
       Returns the current logger.

   <b>commit</b>
       Commit all buffers to the output handle.

</pre><h4><b>CODING</b></h4><pre>
       Create  your  own exporter by creating a Perl package in the Catmandu::Exporter namespace that implements
       "Catmandu::Exporter". Basically, you need to create a method add which writes  a  Perl  hash  to  a  file
       handle:

           package Catmandu::Exporter::Foo;

           use Catmandu::Sane;
           use Moo;

           with 'Catmandu::Exporter'

           sub add {
               my ($self, $data) = @_;
               my $fh = $self-&gt;fh;
               $fh-&gt;print( "Hello, World!");
           }

           sub commit {
               my ($self) = @_;
               # this will be called at the end of the record stream
           }

           1;

       This exporter can be called from the command line as:

           $ catmandu convert JSON to Foo &lt; data.json

       Or, via Perl

           use Catmandu;

           my $exporter = Catmandu-&gt;exporter('Foo', file =&gt; "/tmp/output.txt");

           $exporter-&gt;add({test =&gt; 123});

           $exporter-&gt;commit;

           undef($exporter);

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       See function export_to_string in module Catmandu.

       The    exporters   Catmandu::Exporter::JSON,   Catmandu::Exporter::YAML,   Catmandu::Exporter::CSV,   and
       Catmandu::Exporter::Text are included in Catmandu core.

       See Catmandu::Importer for the opposite action.

perl v5.40.0                                       2025-01-17                            <u>Catmandu::<a href="../man3pm/Exporter.3pm.html">Exporter</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>