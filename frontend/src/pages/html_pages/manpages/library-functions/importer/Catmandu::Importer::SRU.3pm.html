<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catmandu::Importer::SRU - Package that imports SRU data</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcatmandu-sru-perl">libcatmandu-sru-perl_0.43.0-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Catmandu::Importer::SRU - Package that imports SRU data

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Catmandu::Importer::SRU;

         my %attrs = (
           base =&gt; '<a href="http://www.unicat.be/sru">http://www.unicat.be/sru</a>',
           query =&gt; '(isbn=0855275103 or isbn=3110035170 or isbn=9010017362 or isbn=9014026188)',
           recordSchema =&gt; 'marcxml',
           parser =&gt; 'marcxml'
         );

         my $importer = Catmandu::Importer::SRU-&gt;new(%attrs);

         my $count = $importer-&gt;each(sub {
               my $schema   = $record-&gt;{recordSchema};
               my $packing  = $record-&gt;{recordPacking};
               my $position = $record-&gt;{recordPosition};
               my $data     = $record-&gt;{recordData};
           # ...
         });

         # Using Catmandu::Importer::SRU::Package::marcxml, included in this release

         my $importer = Catmandu::Importer::SRU-&gt;new(
           base =&gt; '<a href="http://www.unicat.be/sru">http://www.unicat.be/sru</a>',
           query =&gt; '(isbn=0855275103 or isbn=3110035170 or isbn=9010017362 or isbn=9014026188)',
           recordSchema =&gt; 'marcxml' ,
           parser =&gt; 'marcxml' ,
         );

         # Using a homemade parser

         my $importer = Catmandu::Importer::SRU-&gt;new(
           base =&gt; '<a href="http://www.unicat.be/sru">http://www.unicat.be/sru</a>',
           query =&gt; '(isbn=0855275103 or isbn=3110035170 or isbn=9010017362 or isbn=9014026188)',
           recordSchema =&gt; 'marcxml' ,
           parser =&gt; MyParser-&gt;new , # or parser =&gt; '+MyParser'
         );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This Catmandu::Importer imports records via SRU.

       SRU diagnostics are emitted as warnings except for parser set to "meta".

</pre><h4><b>CONFIGURATION</b></h4><pre>
       base
           Base URL of the SRU server (required)

       query
           CQL query (required)

       limit
           Number  of  records  to  fetch in one batch, set to 10 by default.  This is translated to SRU request
           parameter "maximumRecords".

           Records are fetched in multiple batches of this size or less.

       total
           Total number of records this importer may return.

           Not set by default

       recordSchema
           Set to "dc" by default

       sortkeys
           Optional sorting

       operation
           Set to "searchRetrieve" by default

       version
           Set to 1.1 by default

       userAgent
           HTTP user agent, set to "Mozilla/5.0" by default.

       http_client
           Instance of HTTP::Tiny or compatible class to fetch URLs with.

       parser
           Controls how records are parsed before importing. The following options are possible:

           • Instance  of  a  Perl  package  that  implements  a  "parse"  subroutine.  See  the  default  value
             "Catmandu::Importer::SRU::Parser" for an example.

           • Name  of  a Perl package that implements a "parse" subroutine. The name must be prepended by "+" or
             it  prefixed  with  "Catmandu::Importer::SRU::Parser::".  For  instance  "marcxml"  will  create  a
             "Catmandu::Importer::SRU::Parser::marcxml".

           • Function reference that gets passed the unparsed record.

</pre><h4><b>METHODS</b></h4><pre>
       All methods of Catmandu::Importer and by this Catmandu::Iterable are inherited. In addition the following
       methods are provided:

   <b>url</b>
       Return the current SRU request URL (useful for debugging).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Catmandu::Importer, Catmandu::Iterable, &lt;<a href="http://www.loc.gov/standards/sru/">http://www.loc.gov/standards/sru/</a>&gt;

perl v5.38.2                                       2021-09-02                       <u>Catmandu::Importer::<a href="../man3pm/SRU.3pm.html">SRU</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>