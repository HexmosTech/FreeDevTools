<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::MtPolicyd::Request - the request object</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/mtpolicyd">mtpolicyd_2.05-1.2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::MtPolicyd::Request - the request object

</pre><h4><b>VERSION</b></h4><pre>
       version 2.05

</pre><h4><b>ATTRIBUTES</b></h4><pre>
   <b>attributes</b>
       Contains an HashRef with all attributes of the request.

       To retrieve a single attribute the attr method could be used:

         $obj-&gt;attr('sender');

   <b>session</b>
       Contains a HashRef with all values stored in the session.

       mtpolicyd will persist the content of this HashRef across requests with the same instance_id.

   <b>server</b>
       Contains the Net::Server object of mtpolicyd.

   <b>type</b>
       The type of the request. Postfix will always use 'smtpd_access_policy'.

   <b>use_caching</b>
       Could be used to disable caching. Only used within the unit tests.

</pre><h4><b>METHODS</b></h4><pre>
   <b>dump_attr</b>
       Returns an string to dump the content of a request.

   <b>get($variable_name)</b>
       Retrieve value of a session or request variable.

       The format for the variable name is

         (&lt;scope&gt;:)?&lt;variable&gt;

       If no scope is given it default to the request scope.

       Valid scopes are:

       session, s
           Session variables.

       request, r
           Request attributes.

       For example:

         $r-&gt;get('request:sender'); # retrieve sender from request
         $r-&gt;get('r:sender');       # short format
         $r-&gt;get('sender');         # scope defaults to request

         $r-&gt;get('session:user_policy'); # retrieve session variable user_policy
         $r-&gt;get('s:user_policy');       # the same

   <b>new_from_fh($fh)</b>
       An  object  constructor  for creating an request object with the content read for the supplied filehandle
       $fh.

       Will die if am error ocours:

       error parsing request
           A line in the request could not be parsed.

       while reading request: &lt;io-error&gt;
           The filehandle had an error while reading the request.

       connection closed by peer
           Connection has been closed while reading the request.

       could not parse request
           The client did not send a complete request.

   <b>do_cached(</b> <b>$key,</b> <b>$sub</b> <b>)</b>
       This method will execute the function reference give in $sub and store the return values in  $key  within
       the  session.   If  there is already a cached result stored within $key of the session it will return the
       content instead of calling the reference again.

       Returns an Array with the return values of the function call.

       Example:

         my ( $ip_result, $info ) = $r-&gt;do_cached('rbl-'.$self-&gt;name.'-result',
           sub { $self-&gt;_rbl-&gt;check( $ip ) } );

   <b>is_already_done(</b> <b>$key</b> <b>)</b>
       This function will raise an flag with name of $key within the session and return  true  if  the  flag  is
       already set. False otherwise.

       This could be used to prevent scores or headers from being applied a second time.

       Example:

         if( defined $self-&gt;score &amp;&amp; ! $r-&gt;is_already_done('rbl-'.$self-&gt;name.'-score') ) {
           $self-&gt;add_score($r, $self-&gt;name =&gt; $self-&gt;score);
         }

   <b>is_attr_defined</b>
       Returns true if all given attribute names are defined and non-empty.

</pre><h4><b>AUTHOR</b></h4><pre>
       Markus Benning &lt;<a href="mailto:ich@markusbenning.de">ich@markusbenning.de</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2014 by Markus Benning &lt;<a href="mailto:ich@markusbenning.de">ich@markusbenning.de</a>&gt;.

       This is free software, licensed under:

         The GNU General Public License, Version 2, June 1991

perl v5.38.2                                       2024-05-26                      <u>Mail::MtPolicyd::<a href="../man3pm/Request.3pm.html">Request</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>