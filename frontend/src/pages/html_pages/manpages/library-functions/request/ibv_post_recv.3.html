<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ibv_post_recv - post a list of work requests (WRs) to a receive queue</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libibverbs-dev">libibverbs-dev_56.1-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ibv_post_recv - post a list of work requests (WRs) to a receive queue

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;infiniband/verbs.h&gt;</b>

       <b>int</b> <b>ibv_post_recv(struct</b> <b>ibv_qp</b> <u>*qp</u><b>,</b> <b>struct</b> <b>ibv_recv_wr</b> <u>*wr</u><b>,</b>
                         <b>struct</b> <b>ibv_recv_wr</b> <u>**bad_wr</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ibv_post_recv()</b> posts the linked list of work requests (WRs) starting with <u>wr</u> to the receive queue of the
       queue  pair  <u>qp</u>.   It  stops  processing  WRs  from  this list at the first failure (that can be detected
       immediately while requests are being posted), and returns this failing WR through <u>bad_wr</u>.

       The argument <u>wr</u> is an ibv_recv_wr struct, as defined in &lt;infiniband/verbs.h&gt;.

       struct ibv_recv_wr {
               uint64_t                wr_id;     /* User defined WR ID */
               struct ibv_recv_wr     *next;      /* Pointer to next WR in list, NULL if last WR */
               struct ibv_sge         *sg_list;   /* Pointer to the s/g array */
               int                     num_sge;   /* Size of the s/g array */
       };

       struct ibv_sge {
               uint64_t                addr;      /* Start address of the local memory buffer */
               uint32_t                length;    /* Length of the buffer */
               uint32_t                lkey;      /* Key of the local Memory Region */
       };

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>ibv_post_recv()</b> returns 0 on success, or the value of errno  on  failure  (which  indicates  the  failure
       reason).

</pre><h4><b>NOTES</b></h4><pre>
       The  buffers  used  by  a  WR can only be safely reused after WR the request is fully executed and a work
       completion has been retrieved from the corresponding completion queue (CQ).

       If the QP <u>qp</u> is associated with a shared receive queue, you must use  the  function  <b>ibv_post_srq_recv()</b>,
       and not <b>ibv_post_recv()</b>, since the QP's own receive queue will not be used.

       If  a  WR  is  being  posted  to a UD QP, the Global Routing Header (GRH) of the incoming message will be
       placed in the first 40 bytes of the buffer(s) in the scatter list.  If no GRH is present in the  incoming
       message,  then  the  first bytes will be undefined.  This means that in all cases, the actual data of the
       incoming message will start at an offset of 40 bytes into the buffer(s) in the scatter list.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ibv_create_qp.3.html">ibv_create_qp</a></b>(3), <b><a href="../man3/ibv_post_send.3.html">ibv_post_send</a></b>(3), <b><a href="../man3/ibv_post_srq_recv.3.html">ibv_post_srq_recv</a></b>(3), <b><a href="../man3/ibv_poll_cq.3.html">ibv_poll_cq</a></b>(3)

</pre><h4><b>AUTHORS</b></h4><pre>
       Dotan Barak &lt;<a href="mailto:dotanba@gmail.com">dotanba@gmail.com</a>&gt;

libibverbs                                         2006-10-31                                   <u><a href="../man3/IBV_POST_RECV.3.html">IBV_POST_RECV</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>