<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ne_request_create, ne_request_dispatch, ne_request_destroy - low-level HTTP request handling</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libneon27-gnutls-dev">libneon27-gnutls-dev_0.34.2-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ne_request_create, ne_request_dispatch, ne_request_destroy - low-level HTTP request handling

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;ne_request.h&gt;</b>

       <b>ne_request</b> <b>*ne_request_create(ne_session</b> <b>*</b><u>session</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>method</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>target</u><b>);</b>

       <b>int</b> <b>ne_request_dispatch(ne_request</b> <b>*</b><u>req</u><b>);</b>

       <b>void</b> <b>ne_request_destroy(ne_request</b> <b>*</b><u>req</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>ne_request</b> object represents an HTTP request and the associated response. The <b>ne_request_create</b>
       function creates a new request object for the given <u>session</u>. The target resource for the request is
       identified by the <u>target</u>, parameter, and the method to be performed on that resource via the <u>method</u>
       parameter.

       The <u>target</u> string used must conform to the request-target definition given in <b>RFC</b> <b>9112</b>[1]. Usually this
       will take the abolute-path form, which optionally includes a query string.

       To <u>dispatch</u> a request, and process the response, the <b>ne_request_dispatch</b> function can be used. An
       alternative is to use the (more complex, but more flexible) combination of the <b>ne_begin_request</b>,
       <b>ne_end_request</b>, and <b>ne_read_response_block</b> functions; see <b>ne_begin_request</b>.  <u>Dispatching</u> a request may
       require multiple iterations of a request being sent and response received, for example if authentication
       is used (see ne_set_server_auth), or if a persistent connection times out; this is handled internally by
       <b>ne_request_dispatch</b>.

       To add extra headers in the request, the functions ne_add_request_header and ne_print_request_header can
       be used. To include a message body with the request, one of the functions <b>ne_set_request_body_buffer</b>,
       <b>ne_set_request_body_fd</b>, or <b>ne_set_request_body_provider</b> can be used.

       The return value of <b>ne_request_dispatch</b> indicates merely whether the request was sent and the response
       read successfully. To discover the result of the operation, ne_get_status, along with any processing of
       the response headers and message body.

       A request can only be dispatched once: calling <b>ne_request_dispatch</b> more than once on a single <b>ne_request</b>
       object produces undefined behaviour. Once all processing associated with the request object is complete,
       use the <b>ne_request_destroy</b> function to destroy the resources associated with it. Any subsequent use of
       the request object produces undefined behaviour.

       Request methods are assumed to be <b>idempotent</b>[2] by default. For a request using a non-idempotent method
       such as POST, the NE_REQFLAG_IDEMPOTENT flag must be disabled using ne_set_request_flag.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       The <b>ne_request_create</b> function returns a pointer to a request object (and never NULL).

       The <b>ne_request_dispatch</b> function returns zero if the request was dispatched successfully, and a non-zero
       error code otherwise.

</pre><h4><b>NOTES</b></h4><pre>
       The <u>path</u>, <u>method</u> and <u>target</u> parameters of <b>ne_request_create</b> are used directly in request data without
       validation, so must not be taken from untrusted sources. For example, allowing insertion of unescaped CR,
       LF or other control characters in these parameters may result in unexpected or insecure behaviour.

       neon does not impose any length restrictions on request input data.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>NE_ERROR</b>
           Request failed (see session error string)

       <b>NE_LOOKUP</b>
           The DNS lookup for the server (or proxy server) failed.

       <b>NE_AUTH</b>
           Authentication failed on the server.

       <b>NE_PROXYAUTH</b>
           Authentication failed on the proxy server.

       <b>NE_CONNECT</b>
           A connection to the server could not be established.

       <b>NE_TIMEOUT</b>
           A timeout occurred while waiting for the server to respond.

</pre><h4><b>EXAMPLE</b></h4><pre>
       An example of applying a MKCOL operation to the resource at the location <a href="http://www.example.com/foo/bar/">http://www.example.com/foo/bar/</a>:

           ne_session *sess = ne_session_create("http", "www.example.com", 80);
           ne_request *req = ne_request_create(sess, "MKCOL", "/foo/bar/");
           if (ne_request_dispatch(req)) {
              printf("Request failed: %s\n", ne_get_error(sess));
           }
           ne_request_destroy(req);

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       ne_get_error, ne_set_error, ne_get_status, ne_add_request_header, ne_set_request_body_buffer,
       ne_set_request_flag.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2001-2024 Joe Orton

</pre><h4><b>REFERENCES</b></h4><pre>
        1. RFC 9112
           https://www.rfc-editor.org/rfc/rfc9112

        2. idempotent
           https://www.rfc-editor.org/rfc/rfc9110.html#name-idempotent-methods

neon 0.34.2                                       15 April 2025                             <u><a href="../man3/NE_REQUEST_CREATE.3.html">NE_REQUEST_CREATE</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>