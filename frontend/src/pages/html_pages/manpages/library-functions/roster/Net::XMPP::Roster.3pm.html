<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::XMPP::Roster - XMPP Roster Object</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-xmpp-perl">libnet-xmpp-perl_1.05-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::XMPP::Roster - XMPP Roster Object

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Net::XMPP::Roster is a module that provides a developer an easy interface to an XMPP roster.  It provides
       high level functions to query, update, and manage a user's roster.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The Roster object seeks to provide an easy to use API for interfacing with a user's roster.  When you
       instantiate it, it automatically registers with the connection to receivce the correct packets so that it
       can track all roster updates, and presence packets.

   <b>Basic</b> <b>Functions</b>
         my $Client = Net::XMPP::Client-&gt;new(...);

         my $Roster = Net::XMPP::Roster-&gt;new(connection=&gt;$Client);
           or
         my $Roster = $Client-&gt;Roster();

         $Roster-&gt;clear();

         if ($Roster-&gt;exists('<a href="mailto:bob@jabber.org">bob@jabber.org</a>')) { ... }
         if ($Roster-&gt;exists(Net::XMPP::JID)) { ... }

         if ($Roster-&gt;groupExists("Friends")) { ... }

         my @groups = $Roster-&gt;groups();

         my @jids    = $Roster-&gt;jids();
         my @friends = $Roster-&gt;jids("group","Friends");
         my @unfiled = $Roster-&gt;jids("nogroup");

         if ($Roster-&gt;online('<a href="mailto:bob@jabber.org">bob@jabber.org</a>')) { ... }
         if ($Roster-&gt;online(Net::XMPP::JID)) { ... }

         my %hash = $Roster-&gt;query('<a href="mailto:bob@jabber.org">bob@jabber.org</a>');
         my %hash = $Roster-&gt;query(Net::XMPP::JID);

         my $name = $Roster-&gt;query('<a href="mailto:bob@jabber.org">bob@jabber.org</a>',"name");
         my $ask  = $Roster-&gt;query(Net::XMPP::JID,"ask");

         my $resource = $Roster-&gt;resource('<a href="mailto:bob@jabber.org">bob@jabber.org</a>');
         my $resource = $Roster-&gt;resource(Net::XMPP::JID);

         my %hash = $Roster-&gt;resourceQuery('<a href="mailto:bob@jabber.org">bob@jabber.org</a>',"Home");
         my %hash = $Roster-&gt;resourceQuery(Net::XMPP::JID,"Club");

         my $show   = $Roster-&gt;resourceQuery('<a href="mailto:bob@jabber.org">bob@jabber.org</a>',"Home","show");
         my $status = $Roster-&gt;resourceQuery(Net::XMPP::JID,"Work","status");

         my @resource = $Roster-&gt;resources('<a href="mailto:bob@jabber.org">bob@jabber.org</a>');
         my @resource = $Roster-&gt;resources(Net::XMPP::JID);

         $Roster-&gt;resourceStore('<a href="mailto:bob@jabber.org">bob@jabber.org</a>',"Home","gpgkey",key);
         $Roster-&gt;resourceStore(Net::XMPP::JID,"logged on","2004/04/07 ...");

         $Roster-&gt;store('<a href="mailto:bob@jabber.org">bob@jabber.org</a>',"avatar",avatar);
         $Roster-&gt;store(Net::XMPP::JID,"display_name","Bob");

   <b>Advanced</b> <b>Functions</b>
       These functions are only needed if you want to manually control the Roster.

         $Roster-&gt;add('<a href="mailto:bob@jabber.org">bob@jabber.org</a>',
                      name=&gt;"Bob",
                      groups=&gt;["Friends"]
                     );
         $Roster-&gt;add(Net::XMPP::JID);

         $Roster-&gt;addResource('<a href="mailto:bob@jabber.org">bob@jabber.org</a>',
                              "Home",
                              show=&gt;"dnd",
                              status=&gt;"Working"
                             );
         $Roster-&gt;addResource(Net::XMPP::JID,"Work");

         $Roster-&gt;remove('<a href="mailto:bob@jabber.org">bob@jabber.org</a>');
         $Roster-&gt;remove(Net::XMPP::JID);

         $Roster-&gt;removeResource('<a href="mailto:bob@jabber.org">bob@jabber.org</a>',"Home");
         $Roster-&gt;removeResource(Net::XMPP::JID,"Work");

         $Roster-&gt;handler(Net::XMPP::IQ);
         $Roster-&gt;handler(Net::XMPP::Presence);

</pre><h4><b>METHODS</b></h4><pre>
   <b>Basic</b> <b>Functions</b>
       new
             new(connection=&gt;object)

           This creates and initializes the Roster object.  The connection object is required so that the Roster
           can  interact  with  the  main  connection  object.   It  needs  to  be  an object that inherits from
           Net::XMPP::Connection.

       clear
             clear()

           removes everything from the database.

       exists
             exists(jid)

           return 1 if the JID exists in the database, undef otherwise.  The jid can either be a  string,  or  a
           Net::XMPP::JID object.

       groupExists
             groupExists(group)

           return 1 if the group exists in the database, undef otherwise.

       groups
             groups()

           Returns a list of all of the roster groups.

       jids
             jids([type, [group]])

           returns a list of all of the matching JIDs.  The valid types are:

                               all     - return all JIDs in the roster. (default)
                               nogroup - return all JIDs not in a roster group.
                               group   - return all of the JIDs in the specified
                                         roster group.

       online
             online(jid)

           return  1 if the JID is online, undef otherwise.  The jid can either be a string, or a Net::XMPP::JID
           object.

       query
             query(jid, [key])

           return a hash representing all of the data in the DB for this JID.  The jid can either be  a  string,
           or a Net::XMPP::JID object.  If you specify a key, then only the value for that key is returned.

       resource
             resource(jid)

           return  the  string  representing  the  resource  with the highest priority for the JID.  The jid can
           either be a string, or a Net::XMPP::JID object.

       resourceQuery
             resourceQuery(jid,
                           resource,
                           [key])

           return a hash representing all of the data the DB for the resource for this JID.  The jid can  either
           be  a  string, or a Net::XMPP::JID object.  If you specify a key, then only the value for that key is
           returned.

       resources
             resources(jid)

           returns the list of resources for the JID in order of highest priority to lowest priority.   The  jid
           can either be a string, or a Net::XMPP::JID object.

       resourceStore
             resourceStore(jid,
                           resource,
                           key,
                           value)

           store  the  specified value in the DB under the specified key for the resource for this JID.  The jid
           can either be a string, or a Net::XMPP::JID object.

       store
             store(jid, key, value)

           store the specified value in the DB under the specified key for this JID.  The jid can  either  be  a
           string, or a Net::XMPP::JID object.

   <b>Advanced</b> <b>Functions</b>
       add(jid,                 - Manually adds the JID to the Roster with the
           ask=&gt;string,           specified roster item settings.  This does not
           groups=&gt;arrayref       handle subscribing to other users, only
           name=&gt;string,          manipulating the Roster object.  The jid
           subscription=&gt;string)  can either be a string or a Net::XMPP::JID.

       addResource(jid,            - Manually add the resource to the JID in the
                   resource,         Roster with the specified presence settings.
                   priority=&gt;int,    This does not handle subscribing to other
                   show=&gt;string,     users, only manipulating the Roster object.
                   status=&gt;string)   The jid can either be a string or a
                                     Net::XMPP::JID.

       remove(jid) - Removes all reference to the JID from the Roster object.
                     The jid can either be a string or a Net::XMPP::JID.

       removeResource(jid,      - Removes the resource from the jid in the
                      resource)   Roster object.  The jid can either be a string
                                  or a Net::XMPP::JID.

       handler(packet) - Take either a Net::XMPP::IQ or Net::XMPP::Presence
                         packet and parse them according to the rules of the
                         Roster object.  Note, that it will only waste CPU time
                         if you pass in IQs or Presences that are not roster
                         related.

</pre><h4><b>AUTHOR</b></h4><pre>
       Originally authored by Ryan Eatmon.

       Previously maintained by Eric Hacker.

       Currently maintained by Darian Anthony Patrick.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This module is free software, you can redistribute it and/or modify it under the LGPL 2.1.

perl v5.34.0                                       2022-06-16                             <u>Net::XMPP::<a href="../man3pm/Roster.3pm.html">Roster</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>