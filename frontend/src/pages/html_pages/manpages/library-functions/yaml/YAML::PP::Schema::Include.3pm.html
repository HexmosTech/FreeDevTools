<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YAML::PP::Schema::Include - Include YAML files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libyaml-pp-perl">libyaml-pp-perl_0.39.0-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       YAML::PP::Schema::Include - Include YAML files

</pre><h4><b>SYNOPSIS</b></h4><pre>
           # /path/to/file.yaml
           # ---
           # included: !include include/file2.yaml

           # /path/to/include/file2.yaml
           # ---
           # a: b

           my $include = YAML::PP::Schema::Include-&gt;new;

           my $yp = YAML::PP-&gt;new( schema =&gt; ['+', $include] );
           # we need the original YAML::PP object for getting the current filename
           # and for loading another file
           $include-&gt;yp($yp);

           my ($data) = $yp-&gt;load_file("/path/to/file.yaml");

           # The result will be:
           $data = {
               included =&gt; { a =&gt; 'b' }
           };

       Allow absolute filenames and upwards '..':

           my $include = YAML::PP::Schema::Include-&gt;new(
               allow_absolute =&gt; 1, # default: 0
           );

       Specify paths to search for includes:

           my @include_paths = ("/path/to/include/yaml/1", "/path/to/include/yaml/2");
           my $include = YAML::PP::Schema::Include-&gt;new(
               paths =&gt; \@include_paths,
           );
           my $yp = YAML::PP-&gt;new( schema =&gt; ['+', $include] );
           $include-&gt;yp($yp);

           # /path/to/include/yaml/1/file1.yaml
           # ---
           # a: b

           my $yaml = &lt;&lt;'EOM';
           - included: !include file1.yaml
           EOM
           my ($data) = $yp-&gt;load_string($yaml);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This plugin allows you to split a large YAML file into smaller ones.  You can then include these files
       with the "!include" tag.

       It will search for the specified filename relative to the currently processed filename.

       You can also specify the paths where to search for files to include. It iterates through the paths and
       returns the first filename that exists.

       By default, only relative paths are allowed. Any "../" in the path will be removed. You can change that
       behaviour by setting the option "allow_absolute" to true.

       If the included file contains more than one document, only the first one will be included.

       I will probably add a possibility to return all documents as an arrayref.

       The included YAML file will be loaded by creating a new YAML::PP object with the schema from the existing
       object. This way you can recursively include files.

       You can even reuse the same include via an alias:

           ---
           invoice:
               shipping address: &amp;address !include address.yaml
               billing address: *address

       Circular includes will be detected, and will be fatal.

       It's possible to specify what to do with the included file:

           my $include = YAML::PP::Schema::Include-&gt;new(
               loader =&gt; sub {
                   my ($yp, $filename);
                   if ($filename =~ m/\.txt$/) {
                       # open file and just return text
                   }
                   else {
                       # default behaviour
                       return $yp-&gt;load_file($filename);
                   }
               },
           );

       For example, RAML defines an "!include" tag which depends on the file content. If it contains a special
       RAML directive, it will be loaded as YAML, otherwise the content of the file will be included as a
       string.

       So with this plugin you are able to read RAML specifications.

perl v5.40.0                                       2025-02-15                     <u>YAML::PP::Schema::<a href="../man3pm/Include.3pm.html">Include</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>