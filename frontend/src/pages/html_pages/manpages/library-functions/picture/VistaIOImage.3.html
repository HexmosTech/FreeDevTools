<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VistaIOImage - image representation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libvistaio-dev">libvistaio-dev_1.2.19-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       VistaIOImage - image representation

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;vistaio.h&gt;</b>

       <b>VistaIOImage</b> <u>image</u><b>;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
   <b>Introduction</b>
       Vista  represents  an  image  as one or more two-dimensional arrays of pixel values. Each two-dimensional
       array, called a <u>band</u>, has the same size, which is expressed as a number of rows and a number of  columns.
       Multiple  bands  may,  for  example, be used to represent multiple color components, multiple frames of a
       motion sequence, the real and imaginary components of a complex image,  or  some  combination  of  these.
       Besides pixel data, an image may also has an arbitrary list of attributes associated with it.

       An  image  in  memory is referred to by the C pointer type <b>VistaIOImage</b>. In data files it's identified by
       the type name <b>image</b>, and in memory, by the <b>VistaIORepnKind</b> code <b>VistaIOImageRepn</b>. Since it is a  standard
       object  type  with  built-in support in the Vista library, images can be read from data files, written to
       data files, and  manipulated  as  part  of  attribute  lists  by  routines  such  as  <b><a href="../man3/VistaIOReadFile.3.html">VistaIOReadFile</a></b>(3),
       <b><a href="../man3/VistaIOWriteFile.3.html">VistaIOWriteFile</a></b>(3), and <b><a href="../man3/VistaIOGetAttr.3.html">VistaIOGetAttr</a></b>(3).

   <b>Creating</b> <b>and</b> <b>Destroying</b> <b>Images</b>
       The following routines create and destroy images.

       <b>VistaIOImage</b> <b>VistaIOCreateImage</b> <b>(int</b> <u>nbands</u><b>,</b> <b>int</b> <u>nrows</u><b>,</b> <b>int</b> <u>ncolumns</u><b>,</b> <b>VistaIOPixelRepn</b> <u>pixel_repn</u><b>)</b>

            <b>VistaIOCreateImage</b>  allocates  memory for a new image with the specified numbers of bands, rows, and
            columns. Its pixel values are not initialized, and it is given an empty  attribute  list.  The  <u>pix‐</u>
            <u>el_repn</u>  argument is described below, under ``Pixel Representation''. (See <b><a href="../man3/VistaIOCreateImage.3.html">VistaIOCreateImage</a></b>(3) for
            details.)

       <b>void</b> <b>VistaIODestroyImage</b> <b>(VistaIOImage</b> <u>image</u><b>)</b>

              <b>VistaIODestroyImage</b> releases the memory occupied by <u>image</u>, including that occupied  by  its  pixel
              data and attribute list.

   <b>Image</b> <b>Size</b>
       An  image's  numbers of bands, row, and columns are sometimes abbreviated as <b>nbands</b>, <b>nrows</b>, and <b>ncolumns</b>.
       The following macros access those numbers.

       <b>int</b> <b>VistaIOImageNBands</b> <b>(VistaIOImage</b> <u>image</u><b>)</b>

       <b>int</b> <b>VistaIOImageNRows</b> <b>(VistaIOImage</b> <u>image</u><b>)</b>

       <b>int</b> <b>VistaIOImageNColumns</b> <b>(VistaIOImage</b> <u>image</u><b>)</b>

              <b>VistaIOImageNBands</b>, <b>VistaIOImageNRows</b>, <b>VistaIOImageNColumns</b> return the number of bands, rows,  and
              columns that <u>image</u> has.

       <b>int</b> <b>VistaIOImageNPixels</b> <b>(VistaIOImage</b> <u>image</u><b>)</b>

              <b>VistaIOImageNPixels</b>  returns  the  number  of pixel values <u>image</u> has altogether (i.e., the product
              <b>nbands</b> * <b>nrows</b> * <b>ncolumns</b>).

   <b>Pixel</b> <b>Representation</b>
       An image's pixel values may have any of the following types: <b>VistaIOBit</b>, <b>VistaIOUByte</b>, <b>VistaIOSByte</b>, <b>Vis‐</b>
       <b>taIOShort</b>, <b>VistaIOLong</b>, <b>VistaIOFloat</b>, or <b>VistaIODouble</b>. VistaIOariables meant to  hold  pixel  values  or
       pointers  to  pixel values should be defined using these same types (rather than built-in C types such as
       <b>short</b> and <b>long</b>) to ensure software portability.

       The following macros return information about an image's pixel representation:

       <b>VistaIORepnKind</b> <b>VistaIOPixelRepn</b> <b>(VistaIOImage</b> <u>image</u><b>)</b>

              <b>VistaIOPixelRepn</b> returns a code indicating <u>image</u>'s pixel representation. If <u>image</u>  has  <b>VistaIOBit</b>
              pixels, for example, it returns <b>VistaIOBitRepn</b>.

       <b>size_t</b> <b>VistaIOPixelSize</b> <b>(VistaIOImage</b> <u>image</u><b>)</b>

              <b>VistaIOPixelSize</b> returns the size, in bytes, used for storing a single pixel of <u>image</u> (i.e, a pix‐
              el within a single band, row, and column).  This value depends on machine architecture.

       <b>int</b> <b>VistaIOPixelPrecision</b> <b>(VistaIOImage</b> <u>image</u><b>)</b>

              <b>VistaIOPixelPrecision</b> returns the minimum size, in bits, needed for representing a single pixel of
              <u>image</u>.  This  value  does  not depend on machine architecture, but only on the kind of pixel value
              representation used by <u>image</u>. If <u>image</u> has <b>VistaIOBit</b> pixels, for example, this macro returns 1.

       <b>VistaIOStringConst</b> <b>VistaIOPixelRepnName</b> <b>(VistaIOImage</b> <u>image</u><b>)</b>

              <b>VistaIOPixelRepnName</b> returns a string describing the type of pixel value  representation  used  by
              <u>image</u>. For example, if <u>image</u> has <b>VistaIOBit</b> pixels, the string ``bit'' is returned.

       <b>VistaIODouble</b> <b>VistaIOPixelMaxValue</b> <b>(VistaIOImage</b> <u>image</u><b>)</b>

              <b>VistaIOPixelMaxValue</b> returns the maximum value that a pixel of <u>image</u> may have. For example, if <u>im‐</u>
              <u>age</u> has <b>VistaIOSByte</b> pixels, it returns 127.0.

       <b>VistaIODouble</b> <b>VistaIOPixelMinValue</b> <b>(VistaIOImage</b> <u>image</u><b>)</b>

              <b>VistaIOPixelMinValue</b> returns the minimum value that a pixel of <u>image</u> may have. For example, if <u>im‐</u>
              <u>age</u> has <b>VistaIOSByte</b> pixels, it returns -128.0.

       <b>size_t</b> <b>VistaIOImageSize</b> <b>(VistaIOImage</b> <u>image</u><b>)</b>

              <b>VistaIOImageSize</b>  returns  the  size, in bytes, of <u>image</u>'s block of pixel data, which contains the
              values of all pixels in all bands. This value depends on machine architecture.

   <b>Pixel</b> <b>VistaIOalues</b>
       A particular pixel value is indexed by a band number, a row number, and a column number. Bands, rows, and
       columns are numbered consecutively from zero. Rows number down and columns number to the  right  so  that
       row 0, column 0 is at the upper-left corner of the image.

       <u>type</u> <b>VistaIOPixel</b> <b>(VistaIOImage</b> <u>image</u><b>,</b> <b>int</b> <u>band</u><b>,</b> <b>int</b> <u>row</u><b>,</b> <b>int</b> <u>column</u><b>,</b> <u>type</u><b>)</b>

            <b>VistaIOPixel</b>  accesses the pixel at a specified band, row and column in an image whose pixels are of
            a specified type. The pixel type, <u>type</u>, must be one of <b>VistaIOBit</b>, <b>VistaIOUByte</b>, <b>VistaIOSByte</b>,  <b>Vis‐</b>
            <b>taIOShort</b>,  <b>VistaIOLong</b>,  <b>VistaIOFloat</b>,  or <b>VistaIODouble</b>. The macro may be used either as an rvalue
            (to fetch the pixel's value) or as an lvalue (to modify it or obtain its address). The  ``EXAMPLES''
            section, below, demonstrates its use as an rvalue.

       <b>VistaIOPointer</b> <b>VistaIOPixelPtr</b> <b>(VistaIOImage</b> <u>image</u><b>,</b> <b>int</b> <u>band</u><b>,</b> <b>int</b> <u>row</u><b>,</b> <b>int</b> <u>column</u><b>)</b>

              <b>VistaIOPixelPtr</b> returns the address of a pixel specified by its band, row, and column coordinates.
              The  pixel  at that address can be fetched or modified by first coercing the pointer to the appro‐
              priate type for the pixel. For example:

                     <b>pixel</b> <b>=</b> <b>VistaIOPixelPtr</b> <b>(image,</b> <b>band,</b> <b>row,</b> <b>column);</b>
                     <b>if</b> <b>(VistaIOPixelRepn</b> <b>(image)</b> <b>==</b> <b>VistaIOBitRepn)</b>
                            <b>*</b> <b>(VistaIOBit</b> <b>*)</b> <b>pixel</b> <b>=</b> <b>new_value;</b>
                     <b>else</b> ...

       <u>type</u> <b>**</b> <b>VistaIOPixelArray</b> <b>(VistaIOImage</b> <u>image</u><b>,</b> <u>type</u><b>)</b>

              <b>VistaIOPixelArray</b> returns a pointer that can be used to access any  image  pixel  by  indexing  it
              first with the pixel's band number, then its row number, and then its column number. For example:

                     <b>VistaIOUByte</b> <b>**pixels</b> <b>=</b> <b>VistaIOPixelArray</b> <b>(image,</b> <b>VistaIOUByte);</b>
                     <b>pixels[band][row][column]</b> <b>=</b> <b>new_value;</b>

       <b>VistaIOPointer</b> <b>VistaIOImageData</b> <b>(VistaIOImage</b> <u>image</u><b>)</b>

              <b>VistaIOImageData</b>  returns  a  pointer to <u>image</u>'s block of pixel data.  The block has the size <b>Vis‐</b>
              <b>taIOImageSize</b> <b>(</b><u>image</u><b>)</b> bytes.

   <b>Other</b> <b>Image</b> <b>Attributes</b>
       In addition to its pixel values an image may have any number of other attributes; they are represented as
       an attribute list.

       <b>VistaIOAttrList</b> <b>VistaIOImageAttrList</b> <b>(VistaIOImage</b> <u>image</u><b>)</b>

              <b>VistaIOImageAttrList</b> is a macro for accessing the attribute list associated  with  an  image.  The
              macro may be used as an rvalue to reach attributes within the list:

                     <b>VistaIOGetAttr</b> <b>(VistaIOImageAttrList</b> <b>(image),</b> <b>VistaIONameAttr,</b> ...<b>)</b>

              or as an lvalue to manipulate the entire list:

                     <b>VistaIODestroyAttrList</b> <b>(VistaIOImageAttrList</b> <b>(image));</b>
                     <b>VistaIOImageAttrList</b> <b>(image)</b> <b>=</b> <b>VistaIOCopyAttrList</b> <b>(other_list);</b>

   <b>Band</b> <b>Interpretation</b>
       The  bands of a multi-band image might represent the successive frames of a motion sequence, the left and
       right halves of a stereo pair, or the red, green, and blue channels of a color  image.  They  might  even
       represent  a combination of such dimensions — for example, a stereo pair of color images. Because a great
       many different uses of the bands are possible, each image includes information describing how  its  bands
       are to be interpreted.  This information assigns each band an interpretation in terms of four dimensions:

         <u>frame</u>     covers the various frames of a motion sequence

         <u>viewpoint</u> covers, for example, the left and right channels of a stereo pair

         <u>color</u>     covers, for example, the red, green, and blue channels of a color image

         <u>component</u> covers, for example, the real and imaginary components of a complex image

       Although these four dimensions do not account for all conceivable ways one might wish to use the bands of
       a  multi-band  image,  they do cover most cases. The scheme can usually be adapted to cover cases not ex‐
       plicitly handled. For example, a collection of images obtained under various lighting conditions could be
       represented by using the frame dimension to index the lighting condition.

       Each image specifies the sizes of its four band interpretation dimensions.  For a stereo  pair  of  color
       images,  for  example,  the  size  of  the viewpoint dimension is two, the size of the color dimension is
       three, and the remaining dimensions have sizes of one. The  dimension  sizes  are  often  abbreviated  as
       <b>nframes</b>,  <b>nviewpoints</b>, <b>ncolors</b>, and <b>ncomponents</b>. Their product should always equal the number of bands in
       the image. These macros exist for accessing the sizes:

              <b>int</b> <b>VistaIOImageNFrames</b> <b>(VistaIOImage</b> <u>image</u><b>)</b>

              <b>int</b> <b>VistaIOImageNViewpoints</b> <b>(VistaIOImage</b> <u>image</u><b>)</b>

              <b>int</b> <b>VistaIOImageNColors</b> <b>(VistaIOImage</b> <u>image</u><b>)</b>

              <b>int</b> <b>VistaIOImageNComponents</b> <b>(VistaIOImage</b> <u>image</u><b>)</b>

       Each macro may be used as rvalue to obtain the size of a dimension, or as an lvalue to set it.

       The four dimensions are mapped onto the single dimension, band, according to a particular ordering:  com‐
       ponent  varies most rapidly, then color, then viewpoint, and finally frame. A macro is available for com‐
       puting this mapping:

              <b>int</b> <b>VistaIOBandIndex</b> <b>(VistaIOImage</b> <u>image</u><b>,</b> <b>int</b> <u>frame</u><b>,</b> <b>int</b> <u>viewpoint</u><b>,</b> <b>int</b> <u>color</u><b>,</b> <b>int</b> <u>component</u><b>)</b>

       <b>VistaIOBandIndex</b> returns the index of the band that corresponds to a  particular  combination  of  frame,
       viewpoint, channel, and component indices.

       An image's attribute list may include attributes indicating how the image employs the four band interpre‐
       tation dimensions. One attribute for each dimension provides the first level of description. Its value is
       an integer code, with some standard codes defined for common uses. Below is a list of the four attributes
       and  their standard values. Shown in are both the symbolic constants that can be used C programs to refer
       to the integer values, and (in parentheses) the keywords used to  represent  the  values  externally,  in
       Vista data files.

           <b>frame_interp</b>, which currently has no standard values defined for it

           <b>viewpoint_interp</b>, which has this standard value:

               <b>VistaIOBandInterpStereoPair</b> (<b>stereo_pair</b>)
                      The two viewpoints represent (respectively) the left and right images of a stereo pair.

           <b>color_interp</b>, which has these standard values:

               <b>VistaIOBandInterpRGB</b> (<b>rgb</b>)
                      The three colors represent (respectively) red, green, and blue color channels.

           <b>component_interp</b>, which has these standard values:

               <b>VistaIOBandInterpComplex</b> (<b>complex</b>)
                      The two components represent (respectively) the real and imaginary components of a complex
                      image.

               <b>VistaIOBandInterpGradient</b> (<b>gradient</b>)
                      There  is  a single component representing gradient magnitude, two components representing
                      (respectively) the x (rightward) and y (upward) components of gradient,  or  three  repre‐
                      senting the x, y, and z (forward in band sequence) components of gradient.

               <b>VistaIOBandInterpIntensity</b> (<b>intensity</b>)
                      There  is  a  single component representing image intensity. For integer pixel representa‐
                      tions, pixel values normally span the range between zero  and  the  maximum  representable
                      pixel  values (e.g., [0,127] for <b>VistaIOSByte</b> pixels).  For floating point pixel represen‐
                      tations, pixel values normally span the range [-1,+1].

               <b>VistaIOBandInterpOrientation</b> (<b>orientation</b>)
                      There is a single component representing orientation. Pixel values express orientation  in
                      radians, counterclockwise from the direction of increasing column number (rightward).

       To prevent accidental misspellings of the attribute names you should use these symbolic constants:

              <b>#define</b> <b>VistaIOFrameInterpAttr</b> <b>"frame_interp"</b>
              <b>#define</b> <b>VistaIOViewpointInterpAttr</b> <b>"viewpoint_interp"</b>
              <b>#define</b> <b>VistaIOColorInterpAttr</b> <b>"color_interp"</b>
              <b>#define</b> <b>VistaIOComponentInterpAttr</b> <b>"component_interp"</b>

       A  dictionary,  <b>VistaIOBandInterpDict</b>,  defines  the mapping between the band interpretation codes (e.g.,
       <b>VistaIOBandInterpComplex</b>) and their keywords (e.g., <b>complex</b>):

              <b>VistaIODictEntry</b> <b>VistaIOBandInterpDict[];</b>

       For each of the four band interpretation dimensions there is a routine  you  can  use  to  simultaneously
       check  both  the dimension's size and, if present, its interpretation attribute. The <b><a href="../man3/VistaIOBandInterp.3.html">VistaIOBandInterp</a></b>(3)
       man page describes the four routines.

   <b>Pixel</b> <b>Aspect</b> <b>Ratio</b>
       Pixel aspect ratio is defined as the ratio of pixel width to pixel height.  An image may include, on  its
       attribute  list, an attribute specifying this ratio as a floating point value. The attribute has the name
       <b>pixel_aspect_ratio</b> and a symbolic constant exists for referring to it:

              <b>#define</b> <b>VistaIOPixelAspectRatioAttr</b> <b>"pixel_aspect_ratio"</b>

       When the attribute is absent, a pixel aspect ratio of 1.0 is assumed.

   <b>Calling</b> <b>Conventions</b>
       A Vista library routine that processes one image to produce another usually takes  three  or  more  argu‐
       ments, like this:

              <b>VistaIOImage</b> <b>VistaIOProcessImage</b> <b>(VistaIOImage</b> <u>src</u><b>,</b> <b>VistaIOImage</b> <u>dest</u><b>,</b> <b>VistaIOBand</b> <u>band</u><b>)</b>

       The  first  argument specifies the <u>source</u> image to be processed. The second specifies the <u>destination</u> im‐
       age, to contain the result. You generally have three choices for how this destination image is provided:

         a)  you can have the routine create a destination image. If you pass <b>NULL</b> for <u>dest</u>,  the  routine  will
             create  and return a destination image that is appropriate for the source image and for the type of
             operation being performed on it:

                  <b>dest</b> <b>=</b> <b>VistaIOProcessImage</b> <b>(src,</b> <b>NULL,</b> <b>band);</b>

         b)  you can supply a destination image provided it has the correct properties (usually, an  appropriate
             size and pixel representation):

                  <b>dest</b> <b>=</b> <b>VistaIOCreateImageLike</b> <b>(src);</b>
                  <b>VistaIOProcessImage</b> <b>(src,</b> <b>dest,</b> <b>band);</b>

         c)  you  can specify the same image as both source and destination, in which case the source pixel val‐
             ues will be replaced by destination pixel values.  This choice is  only  available  for  operations
             where the source and destination images have the same size and pixel representation.

                  <b>VistaIOProcessImage</b> <b>(src,</b> <b>src,</b> <b>band);</b>

       In  all cases, the routine will return the destination image if successful, and <b>NULL</b> otherwise. Moreover,
       if <b>NULL</b> is returned, the routine will already have called <b><a href="../man3/VistaIOWarning.3.html">VistaIOWarning</a></b>(3) to issue  a  warning  message
       describing the problem.

       The  third  argument to most image processing routines, <u>band</u>, may specify a particular band of the source
       image to be processed; or it may be the constant <b>VistaIOAllBands</b> (defined as -1)  to  indicate  that  all
       bands of the source image are to be processed. When a particular band is specified, <u>band</u> must be at least
       0 and less than the number of bands in the source image; the destination image will usually have a single
       band  to  contain  the result. When <b>VistaIOAllBands</b> is specified, the destination image will usually have
       the same number of bands as the source image.

       Normally a routine will copy the source image's attribute list to the destination  image,  replacing  any
       attributes  the  destination  image  had  already.  The  sizes of the four band interpretation dimensions
       (<b>nframes</b>, <b>nviewpoints</b>, etc.) are also copied. When appropriate, however, a routine may delete  or  modify
       the attributes and dimensional sizes as it copies them from source to destination. For example, a routine
       that  converts  an  RGB color image to a grey-scale one (<b><a href="../man3/VistaIORGBImageToGray.3.html">VistaIORGBImageToGray</a></b>(3)) expects a source image
       with the properties <b>ncolors:</b> <b>3</b> and <b>color_interp:</b> <b>rgb</b>; the destination image it  produces  has  <b>ncolors:</b> <b>1</b>
       and no <b>color_interp</b> attribute.

   <b>Image</b> <b>Representation</b> <b>in</b> <b>Memory</b>
       <b>typedef</b> <b>struct</b> <b>{</b>
              <b>int</b> <b>nbands;</b>              <b>/*</b> <b>number</b> <b>of</b> <b>bands</b> <b>*/</b>
              <b>int</b> <b>nrows;</b>               <b>/*</b> <b>number</b> <b>of</b> <b>rows</b> <b>*/</b>
              <b>int</b> <b>ncolumns;</b>            <b>/*</b> <b>number</b> <b>of</b> <b>columns</b> <b>*/</b>
              <b>VistaIORepnKind</b> <b>pixel_repn;/*</b> <b>representation</b> <b>of</b> <b>pixel</b> <b>values</b> <b>*/</b>
              <b>unsigned</b> <b>long</b> <b>flags;</b>     <b>/*</b> <b>various</b> <b>flags</b> <b>*/</b>
              <b>VistaIOAttrList</b> <b>attributes;/*</b> <b>list</b> <b>of</b> <b>other</b> <b>image</b> <b>attributes</b> <b>*/</b>
              <b>VistaIOPointer</b> <b>data;</b>     <b>/*</b> <b>array</b> <b>of</b> <b>image</b> <b>pixel</b> <b>values</b> <b>*/</b>
              <b>VistaIOPointer</b> <b>*row_index;/*</b> <b>ptr</b> <b>to</b> <b>first</b> <b>pixel</b> <b>of</b> <b>each</b> <b>row</b> <b>*/</b>
              <b>VistaIOPointer</b> <b>*band_index;/*</b> <b>ptr</b> <b>to</b> <b>first</b> <b>row</b> <b>of</b> <b>each</b> <b>band</b> <b>*/</b>
              <b>int</b> <b>nframes;</b>             <b>/*</b> <b>number</b> <b>of</b> <b>motion</b> <b>frames</b> <b>*/</b>
              <b>int</b> <b>nviewpoints;</b>         <b>/*</b> <b>number</b> <b>of</b> <b>camera</b> <b>viewpoints</b> <b>*/</b>
              <b>int</b> <b>ncolors;</b>             <b>/*</b> <b>number</b> <b>of</b> <b>color</b> <b>channels</b> <b>*/</b>
              <b>int</b> <b>ncomponents;</b>         <b>/*</b> <b>number</b> <b>of</b> <b>vector</b> <b>components</b> <b>*/</b>
       <b>}</b> <b>VistaIOImageRec,</b> <b>*VistaIOImage;</b>

       An  image  is  represented  in  memory by a value of type <b>VistaIOImage</b>, which points to a <b>VistaIOImageRec</b>
       structure. Programmers using images will usually not need to access this structure's fields directly from
       their code since there are Vista library routines and macros available for most purposes.  However,  when
       debugging,  one  may occasionally need to examine a <b>VistaIOImageRec</b> structure's fields directly. The fol‐
       lowing paragraphs describe the fields.

       The <b>nbands</b>, <b>nrows</b>, and <b>ncolumns</b> fields of the structure describe how many bands, rows,  and  columns  the
       image  has.  Its <b>pixel_repn</b> field specifies how the image's pixel values are represented; it contains one
       of the constants <b>VistaIOBitRepn</b>, <b>VistaIOUByteRepn</b>, <b>VistaIOSByteRepn</b>,  <b>VistaIOShortRepn</b>,  <b>VistaIOLongRepn</b>,
       <b>VistaIOFloatRepn</b>,  or  <b>VistaIODoubleRepn</b>. Its <b>attributes</b> field contains the list of attributes associated
       with the image.

       An image's pixel values are stored in a contiguous block of memory where they are  arranged  as  follows.
       Within each band pixel values are ordered, beginning with the pixel at row 0, column 0, proceeding to row
       0, column 1, etc., and ending with the highest numbered row and column. Each band's array of pixel values
       occupies  a  separate  block of memory, and these blocks are arranged contiguously. All of band 0's pixel
       values are first, followed by all of band 1's, etc. In summary, pixel values are ordered by band, then by
       row within each band, and then by column. The pixel  values  themselves  are  of  type  <b>VistaIOBit,</b>  <b>Vis‐</b>
       <b>taIOUByte,</b> <b>...,</b> <b>or</b> <b>VistaIODouble.</b>

       The  <b>data</b> field of a <b>VistaIOImageRec</b> points to the block of memory containing pixel values. The <b>row_index</b>
       field points to a vector of pointers to the first pixel value of each row within each band;  this  vector
       is  of  length  (<b>nbands</b> * <b>nrows</b>) and it is indexed by an expression of the form (<u>band</u> * <b>nrows</b> + <u>row</u>). The
       <b>band_index</b> field points to a vector of pointers to the first <b>row_index</b> entry of each band; this vector is
       of length <b>nbands</b> and it is indexed by band number.

       Individual bits of a <b>VistaIOImageRec</b>'s <b>flags</b> field are used to denote various things. One bit is current‐
       ly defined:

       <b>VistaIOImageSingleAlloc</b>
                            This bit, if nonzero, indicates that the <b>VistaIOImageRec</b>, the block of pixel values,
                            the row index, and the band index were all obtained with a single call to <b>VistaIOMa‐</b>
                            <b><a href="../man3/lloc.3.html">lloc</a></b>(3). If the bit is zero, these things were allocated  separately  and  therefore
                            they must be released separately.

       The  <b>nframes</b>,  <b>nviewpoints</b>,  <b>ncolors</b>, and <b>ncomponents</b> fields describe the number of motion frames, camera
       positions, color channels, and vector components that the image's various bands represent.  Together they
       should account for all bands of the image — i.e., their product should equal <b>nbands</b>.  The  image's  bands
       are ordered according to these fields, with component index incrementing most rapidly and frame index in‐
       crementing least rapidly.

   <b>Image</b> <b>Representation</b> <b>in</b> <b>a</b> <b>File</b>
       <u>attribute-name</u><b>:</b> <b>image</b> <b>{</b>
              <b>nbands:</b> <u>nbands</u>
              <b>nrows:</b> <u>nrows</u>
              <b>ncolumns:</b> <u>ncolumns</u>
              <b>repn:</b> <u>pixel-representation</u>
              <b>nframes:</b> <u>nframes</u>
              <b>nviewpoints:</b> <u>nviewpoints</u>
              <b>ncolors:</b> <u>ncolors</u>
              <b>ncomponents:</b> <u>ncomponents</u>
              <b>data:</b> <u>data-offset</u>
              <b>length:</b> <u>data-length</u>
              <u>other</u> <u>attributes</u>
       <b>}</b>

       <u>pixel-representation</u> ::=
              <b>bit</b> | <b>ubyte</b> | <b>sbyte</b> | <b>short</b> | <b>long</b> | <b>float</b> | <b>double</b>

       An  image is represented in a Vista data file as an attribute. The attribute's value is an object of type
       <b>image</b> containing the following attributes in any order:

         <b>nbands</b>    an integer-valued attribute specifying the number of bands in the image.

         <b>nrows</b>     an integer-valued attribute specifying the number of rows in the image.

         <b>ncolumns</b>  an integer-valued attribute specifying the number of columns in the image.

         <b>repn</b>      a string-valued attribute specifying the image's pixel value representation with one  of  the
                   following keywords: <b>bit</b>, <b>ubyte</b>, <b>sbyte</b>, <b>short</b>, <b>long</b>, <b>float</b>, or <b>double</b>.

         <b>nframes</b>   an integer-valued attribute specifying the number of motion frames represented by the image's
                   bands.

         <b>nviewpoints</b>
                   an integer-valued attribute specifying the number of camera viewpoints represented by the im‐
                   age's bands.

         <b>ncolors</b>   an  integer-valued  attribute  specifying the number of color channels represented by the im‐
                   age's bands.

         <b>ncomponents</b>
                   an integer-valued attribute specifying the number of vector components represented by the im‐
                   age's bands.

         <b>data</b>      an integer-valued attribute specifying the offset of the image's pixel data within the binary
                   data section of the file

         <b>length</b>    an integer-valued attribute specifying the size, in bytes, of the image's pixel data

       An <b>nbands</b>, <b>nframes</b>, <b>nviewpoints</b>, <b>ncolors</b>, or <b>ncomponents</b> attribute may be omitted  if  its  value  is  1.
       Moreover,  the  <b>image</b> object's attribute list may contain any other attributes associated with the image.
       See, for example, the data file listed under ``EXAMPLES'', below.

   <b>Pixel</b> <b>Representation</b> <b>in</b> <b>a</b> <b>File</b>
       Image pixel values are represented in binary form in the binary data section of a  file.  They  occupy  a
       contiguous block in which pixel values are ordered by band, row, and column, as in memory.

       Single-bit pixel values are packed eight to a byte, beginning with the most-significant bit of each byte.
       Pixel values of more than 8 bits are packed into multiple bytes, beginning with the most-significant byte
       of the pixel value. Consecutive pixel values are packed together, without intervening bits for padding or
       alignment. If necessary, however, the entire block of pixel values is padded so that its length is a mul‐
       tiple of 8 bits.

       Each kind of pixel is represented as follows in the Vista data file:

              <b>VistaIOBit</b>
                        as a 1-bit unsigned integer

              <b>VistaIOUByte</b>
                        as an 8-bit unsigned integer

              <b>VistaIOSByte</b>
                        as an 8-bit two's-complement integer

              <b>VistaIOShort</b>
                        as a 16-bit two's-complement integer

              <b>VistaIOLong</b>
                        as a 32-bit two's-complement integer

              <b>VistaIOFloat</b>
                        as a 32-bit IEEE floating-point number

              <b>VistaIODouble</b>
                        as a 64-bit IEEE floating point number

       Note  that  a pixel's representation in a Vista data file is independent of the form it takes when stored
       in memory on any particular machine. Thus a <b>VistaIOBit</b> pixel may occupy 8 bits in the main  memory  of  a
       Sun SPARCstation 32 bits on a Cray machine, but it always occupies a single bit in a Vista data file.

</pre><h4><b>EXAMPLES</b></h4><pre>
       This code fragment sets all pixels with 1 in a one-band image of single-bit pixels:

              <b>for</b> <b>(i</b> <b>=</b> <b>0;</b> <b>i</b> <b>&lt;</b> <b>VistaIOImageNRows</b> <b>(image);</b> <b>i++)</b>
                     <b>for</b> <b>(j</b> <b>=</b> <b>0;</b> <b>j</b> <b>&lt;</b> <b>VistaIOImageNColumns</b> <b>(image);</b> <b>j++)</b>
                            <b>VistaIOPixel</b> <b>(image,</b> <b>0,</b> <b>i,</b> <b>j,</b> <b>VistaIOBit)</b> <b>=</b> <b>1;</b>

       The previous example may be made more efficient by avoiding the repeated computation of pixel addresses:

              <b>VistaIOBit</b> <b>*p</b> <b>=</b> <b>&amp;</b> <b>VistaIOPixel</b> <b>(image,</b> <b>0,</b> <b>0,</b> <b>0,</b> <b>VistaIOBit);</b>

              <b>for</b> <b>(i</b> <b>=</b> <b>0;</b> <b>i</b> <b>&lt;</b> <b>VistaIOImageNPixels</b> <b>(image);</b> <b>i++)</b>
                     <b>*p++</b> <b>=</b> <b>1;</b>

       This code fragment creates an image of complex pixel values:

              <b>image</b> <b>=</b> <b>VistaIOCreateImage</b> <b>(2,</b> <b>256,</b> <b>256,</b> <b>VistaIOFloatRepn);</b>

              <b>VistaIOImageNFrames</b> <b>(image)</b> <b>=</b> <b>VistaIOImageNViewpoints</b> <b>(image)</b> <b>=</b> <b>VistaIOImageNColors</b> <b>(image)</b> <b>=</b> <b>1;</b>

              <b>VistaIOImageNComponents</b> <b>(image)</b> <b>=</b> <b>2;</b>

              <b>VistaIOSetAttr</b> <b>(VistaIOImageAttrList</b> <b>(image),</b> <b>VistaIOComponentInterpAttr,</b> <b>NULL,</b> <b>VistaIOLongRepn,</b>
                        <b>(VistaIOLong)</b> <b>VistaIOBandInterpComplex);</b>

       Here is an example of a Vista data file containing two images:

              <b>V-data</b> <b>2</b> <b>{</b>
                     <b>one:</b> <b>image</b> <b>{</b>
                            <b>nbands:</b> <b>2</b>
                            <b>nrows:</b> <b>256</b>
                            <b>ncolumns:</b> <b>256</b>
                            <b>ncomponents:</b> <b>2</b>
                            <b>component_interp:</b> <b>complex</b>
                            <b>repn:</b> <b>float</b>
                            <b>data:</b> <u>offset</u> <u>of</u> <u>first</u> <u>image's</u> <u>pixel</u> <u>values</u>
                            <b>length:</b> <b>524288</b>
                            <b>name:</b> <b>"UFO</b> <b>sighted</b> <b>over</b> <b>VistaIOancouver"</b>
                            <b>pixel_aspect_ratio:</b> <b>1.25</b>
                     <b>}</b>
                     <b>two:</b> <b>image</b> <b>{</b>
                            <b>nrows:</b> <b>32</b>
                            <b>ncolumns:</b> <b>32</b>
                            <b>repn:</b> <b>ubyte</b>
                            <b>data:</b> <u>offset</u> <u>of</u> <u>second</u> <u>image's</u> <u>pixel</u> <u>values</u>
                            <b>length:</b> <b>128</b>
                            <b>name:</b> <b>"UFO</b> <b>icon"</b>
                     <b>}</b>
              <b>}</b>
              <b>^L</b>
              <u>first</u> <u>image's</u> <u>pixel</u> <u>values</u>
              <u>second</u> <u>image's</u> <u>pixel</u> <u>values</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/VistaIOattribute.3.html">VistaIOattribute</a></b>(3)

</pre><h4><b>AUTHOR</b></h4><pre>
       Art Pope &lt;<a href="mailto:pope@cs.ubc.ca">pope@cs.ubc.ca</a>&gt;

       Adaption to vistaio: Gert Wollny &lt;<a href="mailto:gw.fossdev@gmail.com">gw.fossdev@gmail.com</a>&gt;

</pre><h4><b>LIST</b> <b>OF</b> <b>ROUTINES</b></h4><pre>
       The  following  table summarizes the Vista library routines that operate on images. Many of these routine
       are documented elsewhere, by a section 3 man page named for the routine.

       For creating and destroying images in memory:

         <b>VistaIOCreateImage</b>  Create an image.

         <b>VistaIOCreateImageLike</b>
                             Create one image like another.

         <b>VistaIODestroyImage</b> Release memory occupied by an image.

       For fetching and storing pixel values:

         <b>VistaIOGetPixel</b>     Fetch a pixel value with any pixel representation.

         <b>VistaIOSetPixel</b>     Store a pixel value with any pixel representation.

         <b>VistaIOSelectBand</b>   Select bands of image pixels for processing.

         <b>VistaIOSelectDestIamge</b>
                             Select a destination for an image processing operation.

       For getting band interpretation information:

         <b>VistaIOImageFrameInterp</b>
                             Report meaning of frame dimension.

         <b>VistaIOImageColorInterp</b>
                             Report meaning of color dimension.

         <b>VistaIOImageComponentInterp</b>
                             Report meaning of component dimension.

         <b>VistaIOImageViewpointInterp</b>
                             Report meaning of viewpoint dimension.

       For reading and writing images:

         <b>VistaIOReadImages</b>   Read a set of images from a data file.

         <b>VistaIOReadPlain</b>    Read an image in Vista plain file format.

         <b>VistaIOReadPnm</b>      Read an image in Portable Anymap (PNM) format.

         <b>VistaIOReadUbcIff</b>   Read an image in UBC image file format.

         <b>VistaIOWriteImages</b>  Write a set of images to a data file.

         <b>VistaIOWriteUbcIff</b>  Write an image in UBC image file format.

       For comparing images:

         <b>VistaIOSameImageRange</b>
                             Test whether two images have the same size and pixel representation.

         <b>VistaIOSameImageSize</b>
                             Test whether two images have the same size.

       For copying images:

         <b>VistaIOCombineBands</b> Copy selected bands of pixel values from various source images to a single destina‐
                             tion image.

         <b>VistaIOCopyBand</b>     Copy one or all bands of pixel values from one image to another.

         <b>VistaIOCopyImage</b>    Copy one image to another.

         <b>VistaIOCopyImageAttrs</b>
                             Copy one image's attributes to another.

         <b>VistaIOCopyImagePixels</b>
                             Copy one image's pixel values to another.

       For converting an image's pixel representation:

         <b>VistaIOConvertImageCopy</b>
                             Convert an image's pixel representation while simply copying pixel values.

         <b>VistaIOConvertImageLinear</b>
                             Convert an image's pixel representation using some linear mapping of pixel values.

         <b>VistaIOConvertImageOpt</b>
                             Convert an image's pixel representation while mapping the actual  range  of  source
                             pixel values to the full range of possible destination pixel values.

         <b>VistaIOConvertImageRange</b>
                             Convert  an  image's  pixel representation while mapping the full range of possible
                             source pixel values to the full range of possible destination pixel values.

       For rotating or transposing an image:

         <b>VistaIOFlipImage</b>    Flip an image horizontally or vertically.

         <b>VistaIORotateImage</b>  Rotate an image by any angle.

         <b>VistaIOTransposeImage</b>
                             Transpose the rows and columns of an image.

       For changing the size of an image:

         <b>VistaIOCropImage</b>    Extract a rectangular region from an image.

         <b>VistaIOExpandImage</b>  Increase the size of an image by an integer factor.

         <b>VistaIOReduceImage</b>  Decrease the size of an image by an integer factor.

         <b>VistaIOScaleImage</b>   Scale the size of an image, up or down, by any factor.

       For filtering and transforming images:

         <b>VistaIOAdjustImage</b>  Adjust image brightness and/or contrast.

         <b>VistaIOCanny</b>        Detect edges in an image using a Canny operator.

         <b>VistaIOConvolveImage</b>
                             Convolve an image with a mask.

         <b>VistaIOGaussianConvolveImage</b>
                             Convolve an image with a Gaussian filter or its derivative.

         <b>VistaIOImageFFT</b>     Compute a forward or inverse Fourier transform.

         <b>VistaIOImageGradient</b>
                             Compute the horizontal and vertical components of image gradient.

         <b>VistaIOImageOp</b>      Perform an arithmetic or logical operation on an image's pixel values.

         <b>VistaIOInvertImage</b>  Invert an image's pixel values, swapping black and white.

         <b>VistaIOLinkImage</b>    Create an edge set by linking connected, non-zero image pixels.

         <b>VistaIONegateImage</b>  Negate an image's pixel values.

         <b>VistaIOZeroCrossings</b>
                             Mark the zero crossings in an image.

       For computing image statistics:

         <b>VistaIOImageStats</b>   Compute the minimum, maximum, mean, and variance of an image's pixel values.

       For working with complex images:

         <b>VistaIOBuildComplexImage</b>
                             Build a complex image from separate images of real and imaginary components.

         <b>VistaIOImageMagnitude</b>
                             Compute the magnitude of a complex image.

         <b>VistaIOImagePhase</b>   Compute the phase of a complex image, or the gradient direction of a  two-component
                             gradient image.

       For displaying or rendering images:

         <b>VistaIOImageBandToPS</b>
                             Render an image band using PostScript.

         <b>VistaIORGBImageToPS</b> Render an RGB color image using PostScript.

         <b>VistaIOImageView</b>    An X Toolkit widget for displaying an image.

         <b>VistaIOImageWindowSize</b>
                             Compute appropriate window dimensions for displaying an image.

       For filling images with patterns:

         <b>VistaIOFillImage</b>    Fill an image with a constant pixel value.

         <b>VistaIORampImage</b>    Fill an image with an intensity ramp.

         <b>VistaIOSineGratingImage</b>
                             Fill an image with a sine grating.

         <b>VistaIOZonePlateImage</b>
                             Fill an image with a zone plate pattern.

         <b>VistaIOBilinearNoiseImage</b>
                             Fill an image with a random mixture of two pixel values.

         <b>VistaIONormalNoiseImage</b>
                             Fill an image with pixel values drawn from a normal distribution.

         <b>VistaIOUniformNoiseImage</b>
                             Fill an image with pixel values drawn from a uniform distribution.

       Miscellaneous:

         <b>VistaIOOptFlowWLS</b>   compute optical flow by weighted least squares.

VistaIO Version 1.2.14                            12 April 1994                                  <u><a href="../man3/VistaIOImage.3.html">VistaIOImage</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>