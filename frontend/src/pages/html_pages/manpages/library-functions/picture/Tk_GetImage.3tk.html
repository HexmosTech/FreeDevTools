<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tk_GetImage, Tk_RedrawImage, Tk_SizeOfImage, Tk_FreeImage - use an image in a widget</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tk9.0-doc">tk9.0-doc_9.0.1-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tk_GetImage, Tk_RedrawImage, Tk_SizeOfImage, Tk_FreeImage - use an image in a widget

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;tk.h&gt;</b>

       Tk_Image
       <b>Tk_GetImage</b>(<u>interp,</u> <u>tkwin,</u> <u>name,</u> <u>changeProc,</u> <u>clientData</u>)

       <b>Tk_RedrawImage</b>(<u>image,</u> <u>imageX,</u> <u>imageY,</u> <u>width,</u> <u>height,</u> <u>drawable,</u> <u>drawableX,</u> <u>drawableY</u>)

       <b>Tk_SizeOfImage</b>(<u>image,</u> <u>widthPtr,</u> <u>heightPtr</u>)

       <b>Tk_FreeImage</b>(<u>image</u>)

</pre><h4><b>ARGUMENTS</b></h4><pre>
       Tcl_Interp <u>*interp</u> (in)                       Place to leave error message.

       Tk_Window <u>tkwin</u> (in)                          Window in which image will be used.

       const char <u>*name</u> (in)                         Name of image.

       Tk_ImageChangedProc <u>*changeProc</u> (in)          Procedure  for  Tk to invoke whenever image content or size
                                                     changes.

       void <u>*clientData</u> (in)                         One-word value for Tk to pass to <u>changeProc</u>.

       Tk_Image <u>image</u> (in)                           Token for image instance;  must have  been  returned  by  a
                                                     previous call to <b>Tk_GetImage</b>.

       int <u>imageX</u> (in)                               X-coordinate  of  upper-left  corner  of region of image to
                                                     redisplay (measured in pixels from the  image's  upper-left
                                                     corner).

       int <u>imageY</u> (in)                               Y-coordinate  of  upper-left  corner  of region of image to
                                                     redisplay (measured in pixels from the  image's  upper-left
                                                     corner).

       int <u>width</u> ((in))                              Width of region of image to redisplay.

       int <u>height</u> ((in))                             Height of region of image to redisplay.

       Drawable <u>drawable</u> (in)                        Where to display image.  Must either be window specified to
                                                     <b>Tk_GetImage</b> or a pixmap compatible with that window.

       int <u>drawableX</u> (in)                            Where  to  display  image  in  <u>drawable</u>:  this  is  the  x-
                                                     coordinate in <u>drawable</u> where  x-coordinate  <u>imageX</u>  of  the
                                                     image should be displayed.

       int <u>drawableY</u> (in)                            Where  to  display  image  in  <u>drawable</u>:  this  is  the  y-
                                                     coordinate in <u>drawable</u> where  y-coordinate  <u>imageY</u>  of  the
                                                     image should be displayed.

       int <u>widthPtr</u> (out)                            Store width of <u>image</u> (in pixels) here.

       int <u>heightPtr</u> (out)                           Store height of <u>image</u> (in pixels) here.
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These  procedures are invoked by widgets that wish to display images.  <b>Tk_GetImage</b> is invoked by a widget
       when it first decides to display an image.  <u>name</u> gives the name of the desired image and <u>tkwin</u> identifies
       the window where the image will be displayed.  <b>Tk_GetImage</b> looks up the image in the  table  of  existing
       images and returns a token for a new instance of the image.  If the image does not exist then <b>Tk_GetImage</b>
       returns NULL and leaves an error message in interpreter <u>interp</u>'s result.

       When  a  widget  wishes  to  actually display an image it must call <b>Tk_RedrawImage</b>, identifying the image
       (<u>image</u>), a region within the image to redisplay (<u>imageX</u>, <u>imageY</u>, <u>width</u>,  and  <u>height</u>),  and  a  place  to
       display  the  image  (<u>drawable</u>,  <u>drawableX</u>,  and  <u>drawableY</u>).   Tk will then invoke the appropriate image
       manager, which will display the requested portion of the image before returning.

       A widget can find out the dimensions of an image by calling <b>Tk_SizeOfImage</b>:  the width and height will be
       stored in the locations given by <u>widthPtr</u> and <u>heightPtr</u>, respectively.

       When a widget is finished with an image (e.g., the widget is being deleted  or  it  is  going  to  use  a
       different  image  instead  of  the current one), it must call <b>Tk_FreeImage</b> to release the image instance.
       The widget should never again use the image token after  passing  it  to  <b>Tk_FreeImage</b>.   There  must  be
       exactly one call to <b>Tk_FreeImage</b> for each call to <b>Tk_GetImage</b>.

       If the contents or size of an image changes, then any widgets using the image will need to find out about
       the  changes  so  that  they  can  redisplay  themselves.   The  <u>changeProc</u>  and  <u>clientData</u> arguments to
       <b>Tk_GetImage</b> are used for this purpose.  <u>changeProc</u> will be called by Tk whenever a change occurs  in  the
       image;  it must match the following prototype:
              typedef void <b>Tk_ImageChangedProc</b>(
                      void *<u>clientData</u>,
                      int <u>x</u>,
                      int <u>y</u>,
                      int <u>width</u>,
                      int <u>height</u>,
                      int <u>imageWidth</u>,
                      int <u>imageHeight</u>);
       The  <u>clientData</u>  argument  to  <u>changeProc</u>  is  the same as the <u>clientData</u> argument to <b>Tk_GetImage</b>.  It is
       usually a pointer to the widget record for the widget or some other data structure managed by the widget.
       The arguments <u>x</u>, <u>y</u>, <u>width</u>, and <u>height</u> identify a region within the image that must be  redisplayed;  they
       are  specified  in pixels measured from the upper-left corner of the image.  The arguments <u>imageWidth</u> and
       <u>imageHeight</u> give the image's (new) size.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Tk_CreateImageType

</pre><h4><b>KEYWORDS</b></h4><pre>
       images, redisplay

Tk                                                     4.0                                      <u><a href="../man3tk/Tk_GetImage.3tk.html">Tk_GetImage</a></u>(3tk)
</pre>
 </div>
</div></section>
</div>
</body>
</html>