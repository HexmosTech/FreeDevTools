<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FBB::Stat - Determines File Characteristics</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbobcat-dev">libbobcat-dev_6.07.01-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       FBB::Stat - Determines File Characteristics

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;bobcat/stat&gt;</b>
       Linking option: <u>-lbobcat</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Stat</b>  is a wrapper around the <b><a href="../man2/stat.2.html">stat</a></b>(2) and <b><a href="../man2/lstat.2.html">lstat</a></b>(2) system functions. In particular, it offers features to
       test directly for object characteristics offered by these two functions. To determine whether  an  object
       could  properly be constructed use the <u>Stat</u> <u>bool</u> conversion operator. If this operator returns <u>false</u> then
       no other member except for <u>error</u> should be used.

</pre><h4><b>NAMESPACE</b></h4><pre>
       <b>FBB</b>
       All constructors, members, operators and manipulators, mentioned in this man-page,  are  defined  in  the
       namespace <b>FBB</b>.

</pre><h4><b>INHERITS</b> <b>FROM</b></h4><pre>
       -

</pre><h4><b>ENUMERATIONS</b></h4><pre>
       <b>Stat::Combine</b>:
       This enumeration defines the following values:

       o      <b>ALL</b>: require all of the specified <b>Mode</b> or <b>SpecialMode</b> values to match;

       o      <b>ANY</b>: require any match of the specified <b>Mode</b> or <b>SpecialMode</b> values (one match suffices);

       <b>Stat::Mode</b>:
       This enumeration defines the following values:

       o      <b>UR</b>: the owner of the object has read permissions

       o      <b>UW</b>: the owner of the object has write permissions

       o      <b>UX</b>: the owner of the object has execute permissions

       o      <b>GR</b>: the group to which the object belongs has read permissions

       o      <b>GW</b>: the group to which the object belongs has write permissions

       o      <b>GX</b>: the group to which the object belongs has execute permissions

       o      <b>OR</b>: others have read permissions

       o      <b>OW</b>: others have write permissions

       o      <b>OX</b>: others have execute permissions

       o      <b>READ</b>: equal to <u>UR</u> <u>|</u> <u>GR</u> <u>|</u> <u>OR</u>

       o      <b>WRITE</b>: equal to <u>UW</u> <u>|</u> <u>GW</u> <u>|</u> <u>OW</u>

       o      <b>EXEC</b>: equal to <u>UX</u> <u>|</u> <u>GX</u> <u>|</u> <u>OX</u>

       o      <b>RWX</b>: all of the above.

       <b>Stat::SpecialMode</b>:
       This enumeration defines the following values:

       o      <b>SUID</b>: set UID bit is up

       o      <b>SGID</b>: set GID bit is up

       o      <b>SB</b>: sticky bit is up

       <b>Stat::Type</b>:
       This  enumeration,  which  is  identical  to  the  <b><a href="../man3bobcat/glob.3bobcat.html">glob</a></b>(3bobcat) <u>Type</u> enumeration,  defines the following
       values:

       o      <b>BLOCK_DEVICE</b> (0060000): the object is a block device;

       o      <b>CHARACTER_DEVICE</b> (0020000): the object is a character device;

       o      <b>DIRECTORY</b> (0040000): the object is a directory;

       o      <b>FIFO</b> (0010000): the object is a named pipe (a queue);

       o      <b>REGULAR_FILE</b> (0100000): the object is a regular file;

       o      <b>SOCKET</b> (0140000): the object is a socket;

       o      <b>SYMBOLIC_LINK</b> (0120000): the object is a symbolic link;

       o      <b>ANY</b>: any of the above types.

       <b>Stat::Lstat</b>:
       This enumeration has one value: <u>LStat</u>, which can be specified by construtors and some  members  when  the
       <u>Stat</u> object should distinguish regular files and symbolic links (calling <b><a href="../man2/lstat.2.html">lstat</a></b>(2)) instead of considering
       symbolic links as regular files (using <b><a href="../man2/stat.2.html">stat</a></b>(2)).

       Constructors  and  members that define <u>Stat::Lstat</u> parameters call <b><a href="../man2/lstat.2.html">lstat</a></b>(2), thus distinguishing symbolic
       links from regular files, while constructors and members that do not define  <u>Stat::Lstat</u>  parameters  use
       <b><a href="../man2/stat.2.html">stat</a></b>(2).

       The  return  values  of the members <u>statStruct</u> and <u>type</u> and <u>typeStr</u> (see below) only distinguish symbolic
       links from regular files when the <u>Stat::LStat</u> argument has been used.

       The constructors and member functions listed  below  for  which  <u>[Stat::Lstat,]</u>  is  specified  as  first
       parameter may optionally specify the <u>Stat::LStat</u> argument.

</pre><h4><b>CONSTRUCTORS</b></h4><pre>
       o      <b>Stat()</b>:
              The  default  constructor,  creating an empty <b>Stat</b> object. It’s mainly used as default object when
              defining, e.g., vectors of <u>Stat</u> objects. As it doesn’t refer to an existing file system entry  its
              <u>operator</u> <u>bool</u> returns false;

       o      <b>Stat([Stat::Lstat,]</b> <b>std::string</b> <b>const</b> <b>&amp;fname)</b>:
              Initializes a <b>Stat</b> with a given object name;

       o      <b>Stat([Stat::Lstat,]</b> <b>std::string</b> <b>const</b> <b>&amp;fname,</b> <b>std::string</b> <b>const</b> <b>&amp;searchPath)</b>:
              Initializes  a  <b>Stat</b>  with  a  given  object  name, where the object is searched in the <u>searchPath</u>
              directories, which is a colon-separated string of directory names. The filenames  are  constructed
              by  appending  <u>fname</u> to each of the elements of <u>searchPath</u> until an existing object is found. This
              object is then used. If <u>fname</u> is an absolute path, <u>searchPath</u> is ignored.

       Copy and move constructors (and assignment operators) are available.

</pre><h4><b>OVERLOADED</b> <b>OPERATORS</b></h4><pre>
       o      <b>operator</b> <b>bool()</b> <b>const</b>:
              This operator returns <u>true</u> if  the  <u>Stat</u>  object  holds  information  about  an  existing  object.
              Otherwise  <u>false</u>  is  returned.  When  <u>false</u>  is returned other members, except for the assignment
              operators, the <u>error</u> member, and the <u>set</u> members should not be used.

</pre><h4><b>MEMBER</b> <b>FUNCTIONS</b></h4><pre>
       o      <b>bool</b> <b>access(FBB::User</b> <b>const</b> <b>&amp;user,</b> <b>size_t</b> <b>spec,</b> <b>bool</b> <b>useEffective</b> <b>=</b> <b>true)</b> <b>const</b>:
              Returns <u>true</u> if <u>user</u> has the permissions as specified at <u>spec</u> (of which only the defined <u>Mode</u> bits
              are interpreted). If a combination of read, write and/or execute permissions are  specified,  then
              at  least  one  of  the  read  permissions,  one  of  the write permissions and one of the execute
              permissions must be granted or the function returns <u>false</u>. E.g, when specifying <u>access(user,</u> <u>UW</u>  <u>|</u>
              <u>UR</u>  <u>|</u>  <u>GR)</u> then the user <u>must</u> have write permissions, but either the user or the user’s group must
              have read permissions. If multiple read,  multiple  write  or  multiple  execute  permissions  are
              specified  (like  <u>UR</u>  <u>|</u>  <u>GR</u>)  then this member returns <u>true</u> if at least one of the requested read,
              write, or execute permissions are granted for <u>user</u>.

       o      <b>size_t</b> <b>blockSize()</b> <b>const</b>:
              Returns the blocksize (<u>st_blksize</u>) for filesystem I/O

       o      <b>size_t</b> <b>device()</b> <b>const</b>:
              Returns the device id (<u>st_dev</u>).

       o      <b>size_t</b> <b>deviceType()</b> <b>const</b>:
              Returns the device type number, but only if the object type is <b>DEVICE</b> (<u>st_rdev</u>).

       o      <b>size_t</b> <b>error()</b> <b>const</b>:
              Returns the error number associated with an error, in cases where <b>operator</b> <b>bool()</b> returns <b>false</b>. A
              returned value of 0 indicates `no errors’. To obtain a  verbal  transcription  of  returned  error
              numbers the <u>Exception::errnodescr</u> manipulator (cf.  <b><a href="../man3bobcat/exception.3bobcat.html">exception</a></b>(3bobcat)) can be used.

       o      <b>bool</b> <b>isType(Stat::Type</b> <b>probe)</b>:
              Returns <u>true</u> if the object has the probed type otherwise <u>false</u> is returned.

       o      <b>size_t</b> <b>inode()</b> <b>const</b>:
              Returns the inode number (<u>st_ino</u>).

       o      <b>size_t</b> <b>gid()</b> <b>const</b>:
              Returns the group ID of the object’s owner (<u>st_gid</u>).

       o      <b>FBB::DateTime</b> <b>lastAccess()</b> <b>const</b>:
              Returns  an  <b>FBB::DateTime</b>  object  holding  information  about  the  object’s time of last access
              (<u>st_atime</u>) (using UTC).

       o      <b>FBB::DateTime</b> <b>lastChange()</b> <b>const</b>:
              Returns an <b>FBB::DateTime</b> object holding information about the object’s time of last status  change
              (<u>st_ctime</u>) (using UTC).

       o      <b>FBB::DateTime</b> <b>lastModification()</b> <b>const</b>:
              Returns  an  <b>FBB::DateTime</b>  object  holding  information about the object’s last modification time
              (<u>st_mtime</u>) (using UTC).

       o      <b>size_t</b> <b>mode()</b> <b>const</b>:
              Returns the object’s raw, uninterpreted mode (<u>st_mode</u> <u>&amp;</u> <u>RWX</u>). Note  that  this  value  is  usually
              displayed (and is processed most easily) as an octal value.

       o      <b>bool</b> <b>mode(size_t</b> <b>mode,</b> <b>Combine</b> <b>combine</b> <b>=</b> <b>ALL)</b>:
              Returns  true  if  the  object  has  the  indicated  mode. Multiple modes may be set, which can be
              combined by the logical <b>bitor</b> operator. By default, if multiple modes are specified, the resulting
              pattern must exactly represent the object’s mode for  the  member  function  to  return  <b>true</b>.  An
              optional  argument  <u>ANY</u>  may  be  specified  if  the  function  should return true if at least one
              specified mode matches the object’s actual mode. An <u>Exception</u> exception is thrown if the specified
              <u>mode</u> contains other values than the defined <b>Mode</b> or <b>SpecialMode</b> values.

       o      <b>std::string</b> <b>modeStr()</b> <b>const</b>:
              Returns the standard string-representation of the object’s mode (e.g., <u>rw-r--r--</u>).  Special  modes
              (e.g.,  suid)  are indicated by <u>s</u> instead of <u>x</u> when the object is user and/or group executable and
              by <u>S</u> if the object has the special mode bit(s)  set,  but  is  not  executable.  For  the  `other’
              executable mode flag <u>t</u> is used (`sticky’ bit) and <u>T</u> if the object is not `other’ executable.

       o      <b>std::string</b> <b>const</b> <b>&amp;name()</b> <b>const</b>:
              Returns the object’s name as specified in the constructor or <b>set()</b> member function.

       o      <b>size_t</b> <b>nBlocks()</b> <b>const</b>:
              Returns the object’s number of allocated blocks (<u>st_blocks</u>).

       o      <b>size_t</b> <b>nLinks()</b> <b>const</b>:
              Returns the object’s number of hard links (<u>st_nlink</u>).

       o      <b>std::string</b> <b>path()</b> <b>const</b>:
              Returns  the object’s full pathname. If the full pathname could not be determined, an empty string
              is returned.

       o      <b>bool</b> <b>set([Stat::Lstat,]</b> <b>std::string</b> <b>const</b> <b>&amp;name)</b>:
              Redefine the <b>Stat</b> object to represent the information about the indicated object name.

       o      <b>bool</b> <b>set([Stat::Lstat,]</b> <b>std::string</b> <b>const</b> <b>&amp;name,</b> <b>std::string</b> <b>const</b> <b>&amp;pathlist)</b>:
              Redefine the <b>Stat</b> object to represent the information about the indicated object name,  where  the
              object  is  searched  in  the <u>pathlist</u> directories, which is a colon-separated string of directory
              names. The object names are constructed by appending <u>fname</u> to each of the elements  of  <u>searchPath</u>
              until  an  existing  object  is  found.  This  object  is then used. If <u>fname</u> is an absolute path,
              <u>searchPath</u> is ignored.

       o      <b>off_t</b> <b>size()</b> <b>const</b>:
              Returns the object’s size in number of bytes (<u>st_size</u>).

       o      <b>bool</b> <b>specialMode(size_t</b> <b>special,</b> <b>Combine</b> <b>combine</b> <b>=</b> <b>ALL)</b>:
              Returns true if the object has the  indicated  special  modes.   Multiple  special  modes  may  be
              specified,  which can be combined by the logical <b>bitor</b> operator. By default, if multiple modes are
              specified, the resulting pattern must exactly represent the object’s mode for the member  function
              to return <b>true</b>. An optional argument <u>ANY</u> may be specified if the function should return true if at
              least one specified mode matches the object’s actual mode. The non-special modes are ignored but a
              <u>Exception</u>  exception  is  thrown  if  <u>special</u>  contains  other  values  than  those defined by the
              <b>SpecialMode</b> enum.

       o      <b>Stat::stat</b> <b>const</b> <b>&amp;statStruct()</b> <b>const</b>:
              Returns a reference to the object’s <b>stat</b> <b>struct</b>.

       o      <b>Stat::Type</b> <b>type()</b> <b>const</b>:
              Returns the <u>Stat::Type</u> value of the object.

       o      <b>std::string</b> <b>typeStr()</b> <b>const</b>:
              Returns a textual representation of the object’s type  as  returned  by  the  <u>Stat::type()</u>  member
              function.

       o      <b>size_t</b> <b>uid()</b> <b>const</b>:
              Returns the user ID of the object’s owner (<u>st_uid</u>).

</pre><h4><b>EXAMPLE</b></h4><pre>
       #include &lt;iostream&gt;
       #include &lt;string&gt;

       #include &lt;bobcat/datetime&gt;
       #include &lt;bobcat/stat&gt;

       using namespace std;
       using namespace FBB;

       int main(int argc, char **argv)
       {
           if (argc == 1)
           {
               cout &lt;&lt; "Usage: driver [-l] object [colon-separated searchpath]\n";
               return 1;
           }

           bool lstat = "-l"s == argv[1];
           if (lstat)
           {
               ++argv;
               --argc;
           }

           Stat st;
           if (argc == 2)
           {
               if (lstat)
                   st.set(Stat::LStat, argv[1]);
               else
                   st.set(argv[1]);
           }
           else if (argc == 3)
           {
               if (lstat)
                   st.set(Stat::LStat, argv[1], argv[2]);
               else
                   st.set(argv[1], argv[2]);
           }

           if (!st)
           {
               cout &lt;&lt; "Can’t stat " &lt;&lt; argv[1] &lt;&lt; ", errno = " &lt;&lt; st.error() &lt;&lt; endl;
               return 1;
           }

           cout &lt;&lt; st.name() &lt;&lt; ": access: " &lt;&lt; st.lastAccess() &lt;&lt; "\n" &lt;&lt;
                   st.name() &lt;&lt; ": change: " &lt;&lt; st.lastChange() &lt;&lt; "\n" &lt;&lt;
                   st.name() &lt;&lt; ": modif:  " &lt;&lt; st.lastModification() &lt;&lt; "\n"
                   "Mode: " &lt;&lt; oct &lt;&lt; st.mode() &lt;&lt;  " (" &lt;&lt; st.modeStr() &lt;&lt; ")\n"
                   "Type: " &lt;&lt; st.type() &lt;&lt; " (" &lt;&lt; st.typeStr() &lt;&lt; ")\n"
                   "Full path:  " &lt;&lt; st.path()  &lt;&lt; endl;
       }

</pre><h4><b>FILES</b></h4><pre>
       <u>bobcat/stat</u> - defines the class interface

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/bobcat.7.html">bobcat</a></b>(7), <b><a href="../man3bobcat/glob.3bobcat.html">glob</a></b>(3bobcat), <b><a href="../man2/stat.2.html">stat</a></b>(2), <b><a href="../man2/lstat.2.html">lstat</a></b>(2)

</pre><h4><b>BUGS</b></h4><pre>
       None Reported.

</pre><h4><b>BOBCAT</b> <b>PROJECT</b> <b>FILES</b></h4><pre>
       o      <u>https://fbb-git.gitlab.io/bobcat/</u>: gitlab project page;

       Debian Bobcat project files:

       o      <u>libbobcat6</u>: debian package containing the shared library, changelog and copyright note;

       o      <u>libbobcat-dev</u>:  debian package containing the static library, headers, manual pages, and developer
              info;

</pre><h4><b>BOBCAT</b></h4><pre>
       Bobcat is an acronym of `Brokken’s Own Base Classes And Templates’.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This is free software, distributed under the terms of the GNU General Public License (GPL).

</pre><h4><b>AUTHOR</b></h4><pre>
       Frank B. Brokken (<b><a href="mailto:f.b.brokken@rug.nl">f.b.brokken@rug.nl</a></b>).

libbobcat-dev_6.07.01                               2005-2025                                 <u>FBB::<a href="../man3bobcat/Stat.3bobcat.html">Stat</a></u>(3bobcat)
</pre>
 </div>
</div></section>
</div>
</body>
</html>