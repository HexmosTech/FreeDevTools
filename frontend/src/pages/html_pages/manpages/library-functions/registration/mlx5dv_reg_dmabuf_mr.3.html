<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mlx5dv_reg_dmabuf_mr - Register a dma-buf based memory region (MR)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libibverbs-dev">libibverbs-dev_56.1-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mlx5dv_reg_dmabuf_mr - Register a dma-buf based memory region (MR)

</pre><h4><b>SYNOPSIS</b></h4><pre>
              #include &lt;infiniband/mlx5dv.h&gt;

              struct ibv_mr *mlx5dv_reg_dmabuf_mr(struct ibv_pd *pd, uint64_t offset,
                                                  size_t length, uint64_t iova, int fd,
                                                  int access, int mlx5_access)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Register a dma-buf based memory region (MR), it follows the functionality of <u>ibv_reg_dmabuf_mr()</u> with the
       ability to supply specific mlx5 access flags.

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>pd</u>     The associated protection domain.

       <u>offset</u> The offset of the dma-buf where the MR starts.

       <u>length</u>

              The length of the MR.

       <u>iova</u>   Specifies  the  virtual base address of the MR when accessed through a lkey or rkey.  It must have
              the same page offset as <u>offset</u> and be aligned with the system page size.

       <u>fd</u>     The file descriptor that the dma-buf is identified by.

       <u>access</u> The desired memory protection attributes; it is either 0 or the bitwise OR of one or more of  <u>enum</u>
              <u>ibv_access_flags</u>.

       <u>mlx5_access</u>
              A specific device access flags, it is either 0 or the below.

              <u>MLX5DV_REG_DMABUF_ACCESS_DATA_DIRECT</u>  if  set,  this  MR  will be accessed through the Data Direct
              engine bonded with that RDMA device.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon success returns a pointer to the registered MR, or NULL if the request fails, in that case the value
       of errno indicates the failure reason.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/ibv_reg_dmabuf_mr.3.html">ibv_reg_dmabuf_mr</a>(3)</u>, <u><a href="../man3/mlx5dv_get_data_direct_sysfs_path.3.html">mlx5dv_get_data_direct_sysfs_path</a>(3)</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       Yishai Hadas <a href="mailto:yishaih@nvidia.com">yishaih@nvidia.com</a>

                                                                                         <u><a href="../man3/mlx5dv_reg_dmabuf_mr.3.html">mlx5dv_reg_dmabuf_mr</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>