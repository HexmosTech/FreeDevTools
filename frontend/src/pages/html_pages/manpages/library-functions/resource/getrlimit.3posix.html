<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       getrlimit, setrlimit — control maximum resource consumption

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;sys/resource.h&gt;

       int getrlimit(int <u>resource</u>, struct rlimit *<u>rlp</u>);
       int setrlimit(int <u>resource</u>, const struct rlimit *<u>rlp</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>getrlimit</u>() function shall get, and the <u>setrlimit</u>() function shall set, limits on the consumption of
       a variety of resources.

       Each call to either <u>getrlimit</u>() or <u>setrlimit</u>() identifies a specific resource to be operated upon as well
       as a resource limit. A resource limit  is  represented  by  an  <b>rlimit</b>  structure.  The  <u>rlim_cur</u>  member
       specifies  the  current  or  soft limit and the <u>rlim_max</u> member specifies the maximum or hard limit. Soft
       limits may be changed by a process to any value that is less than or equal to the hard limit.  A  process
       may  (irreversibly)  lower  its  hard limit to any value that is greater than or equal to the soft limit.
       Only a process with appropriate privileges can raise a hard limit. Both  hard  and  soft  limits  can  be
       changed in a single call to <u>setrlimit</u>() subject to the constraints described above.

       The  value  RLIM_INFINITY,  defined  in <u>&lt;sys/resource.h&gt;</u>, shall be considered to be larger than any other
       limit value. If a call to <u>getrlimit</u>() returns RLIM_INFINITY for a resource, it means  the  implementation
       shall  not  enforce  limits  on  that resource. Specifying RLIM_INFINITY as any resource limit value on a
       successful call to <u>setrlimit</u>() shall inhibit enforcement of that resource limit.

       The following resources are defined:

       RLIMIT_CORE   This is the maximum size of a <b>core</b> file, in bytes, that may be  created  by  a  process.  A
                     limit  of  0  shall  prevent  the  creation  of a <b>core</b> file. If this limit is exceeded, the
                     writing of a <b>core</b> file shall terminate at this size.

       RLIMIT_CPU    This is the maximum amount of CPU time, in seconds, used by a process.  If  this  limit  is
                     exceeded,  SIGXCPU  shall  be  generated  for  the  process.  If the process is catching or
                     ignoring SIGXCPU, or all threads belonging  to  that  process  are  blocking  SIGXCPU,  the
                     behavior is unspecified.

       RLIMIT_DATA   This  is  the  maximum  size  of a data segment of the process, in bytes.  If this limit is
                     exceeded, the <u>malloc</u>() function shall fail with <u>errno</u> set to <b>[ENOMEM]</b>.

       RLIMIT_FSIZE  This is the maximum size of a file, in bytes, that may be created by a process. If a  write
                     or truncate operation would cause this limit to be exceeded, SIGXFSZ shall be generated for
                     the  thread.  If  the  thread  is blocking, or the process is catching or ignoring SIGXFSZ,
                     continued attempts to increase the size of a file from  end-of-file  to  beyond  the  limit
                     shall fail with <u>errno</u> set to <b>[EFBIG]</b>.

       RLIMIT_NOFILE This  is a number one greater than the maximum value that the system may assign to a newly-
                     created descriptor. If this limit is exceeded, functions that allocate  a  file  descriptor
                     shall  fail  with  <u>errno</u>  set  to  <b>[EMFILE]</b>.   This  limit  constrains  the  number of file
                     descriptors that a process may allocate.

       RLIMIT_STACK  This is the maximum size of the initial thread's stack, in bytes. The  implementation  does
                     not  automatically  grow  the  stack  beyond this limit. If this limit is exceeded, SIGSEGV
                     shall be generated for the thread. If the thread is blocking SIGSEGV,  or  the  process  is
                     ignoring  or  catching SIGSEGV and has not made arrangements to use an alternate stack, the
                     disposition of SIGSEGV shall be set to SIG_DFL before it is generated.

       RLIMIT_AS     This is the maximum size of total available memory of the process, in bytes. If this  limit
                     is  exceeded,  the <u>malloc</u>() and <u>mmap</u>() functions shall fail with <u>errno</u> set to <b>[ENOMEM]</b>.  In
                     addition, the automatic stack growth fails with the effects outlined above.

       When using the <u>getrlimit</u>() function, if a resource limit can be represented correctly  in  an  object  of
       type  <b>rlim_t</b>, then its representation is returned; otherwise, if the value of the resource limit is equal
       to that of the corresponding saved hard limit, the value returned shall be RLIM_SAVED_MAX; otherwise, the
       value returned shall be RLIM_SAVED_CUR.

       When using the <u>setrlimit</u>() function, if the requested new limit is RLIM_INFINITY, the new limit shall  be
       ``no  limit'';  otherwise,  if  the  requested  new  limit  is RLIM_SAVED_MAX, the new limit shall be the
       corresponding saved hard limit; otherwise, if the requested new limit is RLIM_SAVED_CUR,  the  new  limit
       shall  be  the  corresponding saved soft limit; otherwise, the new limit shall be the requested value. In
       addition, if the corresponding saved limit can be represented correctly in an object of type <b>rlim_t</b>  then
       it shall be overwritten with the new limit.

       The  result  of setting a limit to RLIM_SAVED_MAX or RLIM_SAVED_CUR is unspecified unless a previous call
       to <u>getrlimit</u>() returned that value as the soft or hard limit for the corresponding resource limit.

       The determination of whether a limit can be  correctly  represented  in  an  object  of  type  <b>rlim_t</b>  is
       implementation-defined.  For  example,  some  implementations  permit a limit whose value is greater than
       RLIM_INFINITY and others do not.

       The <u>exec</u> family of functions shall cause resource limits to be saved.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon successful completion, <u>getrlimit</u>() and <u>setrlimit</u>() shall return 0. Otherwise, these functions  shall
       return -1 and set <u>errno</u> to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <u>getrlimit</u>() and <u>setrlimit</u>() functions shall fail if:

       <b>EINVAL</b> An  invalid  <u>resource</u>  was  specified;  or in a <u>setrlimit</u>() call, the new <u>rlim_cur</u> exceeds the new
              <u>rlim_max</u>.

       <b>EPERM</b>  The limit specified to <u>setrlimit</u>() would have raised the maximum  limit  value,  and  the  calling
              process does not have appropriate privileges.

       The <u>setrlimit</u>() function may fail if:

       <b>EINVAL</b> The limit specified cannot be lowered because current usage is already higher than the limit.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       None.

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       If  a  process  attempts  to set the hard limit or soft limit for RLIMIT_NOFILE to less than the value of
       {_POSIX_OPEN_MAX} from <u>&lt;limits.h&gt;</u>, unexpected behavior may occur.

       If a process attempts to set the hard limit or soft limit for RLIMIT_NOFILE  to  less  than  the  highest
       currently open file descriptor +1, unexpected behavior may occur.

</pre><h4><b>RATIONALE</b></h4><pre>
       It  should  be  noted  that  RLIMIT_STACK  applies ``at least'' to the stack of the initial thread in the
       process, and not to the sum of all the stacks in the process, as that would be very limiting  unless  the
       value is so big as to provide no value at all with a single thread.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>exec</u>, <u>fork</u>(), <u>malloc</u>(), <u>open</u>(), <u>sigaltstack</u>(), <u>sysconf</u>(), <u>ulimit</u>()

       The Base Definitions volume of POSIX.1‐2017, <b>&lt;stropts.h&gt;</b>, <b>&lt;sys_resource.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for  Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group Base
       Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical  and  Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE  and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any typographical or formatting errors that appear in this page are most likely to have  been  introduced
       during   the   conversion  of  the  source  files  to  man  page  format.  To  report  such  errors,  see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                     <u><a href="../man3POSIX/GETRLIMIT.3POSIX.html">GETRLIMIT</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>