<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class::ReturnValue - A return-value object that lets you treat it as as a boolean, array or object</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libclass-returnvalue-perl">libclass-returnvalue-perl_0.55-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Class::ReturnValue - A return-value object that lets you treat it as as a boolean, array or object

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Class::ReturnValue is a "clever" return value object that can allow code calling your routine to expect:
           a boolean value (did it fail) or  a list (what are the return values)

</pre><h4><b>EXAMPLE</b></h4><pre>
           sub demo {
               my $value = shift;
               my $ret = Class::ReturnValue-&gt;new();
               $ret-&gt;as_array('0', 'No results found');

               unless($value) {
                   $ret-&gt;as_error(errno =&gt; '1',
                                      message =&gt; "You didn't supply a parameter.",
                                      do_backtrace =&gt; 1);
               }

               return($ret-&gt;return_value);
           }

           if (demo('foo')){
               print "the routine succeeded with one parameter";
           }
           if (demo()) {
               print "The routine succeeded with 0 parameters. shouldn't happen";
           } else {
               print "The routine failed with 0 parameters (as it should).";
           }

           my $return = demo();
           if ($return) {
               print "The routine succeeded with 0 parameters. shouldn't happen";
           } else {
               print "The routine failed with 0 parameters (as it should). ".
                     "Stack trace:\n".
               $return-&gt;backtrace;
           }

           my @return3 = demo('foo');
           print "The routine got ".join(',',@return3).
                 "when asking for demo's results as an array";

           my $return2 = demo('foo');

           unless ($return2) {
               print "The routine failed with a parameter. shouldn't happen.".
                    "Stack trace:\n".
               $return2-&gt;backtrace;
           }

           my @return2_array = @{$return2}; # TODO: does this work
           my @return2_array2 = $return2-&gt;as_array;

</pre><h4><b>METHODS</b></h4><pre>
       new Instantiate a new Class::ReturnValue object

       as_array
           Return the 'as_array' attribute of this object as an array.

       as_array [ARRAY]
           If $self is called in an array context, returns the array specified in ARRAY

       as_error HASH
           Turns this return-value object into  an error return object.  TAkes three parameters:

               message
               do_backtrace
               errno

               'message' is a human readable error message explaining what's going on

               'do_backtrace' is a boolean. If it's true, a carp-style backtrace will be
               stored in $self-&gt;{'backtrace'}. It defaults to true

               errno and message default to undef. errno _must_ be specified.
               It's a numeric error number.  Any true integer value  will cause the
               object to evaluate to false in a scalar context. At first, this may look a
               bit counterintuitive, but it means that you can have error codes and still
               allow simple use of your functions in a style like this:

                   if ($obj-&gt;do_something) {
                       print "Yay! it worked";
                   } else {
                       print "Sorry. there's been an error.";
                   }

                   as well as more complex use like this:

                   my $retval = $obj-&gt;do_something;

                   if ($retval) {
                       print "Yay. we did something\n";
                       my ($foo, $bar, $baz) = @{$retval};
                       my $human_readable_return = $retval;
                   } else {
                       if ($retval-&gt;errno == 20) {
                           die "Failed with error 20 (Not enough monkeys).";
                       } else {
                           die  $retval-&gt;backtrace; # Die and print out a backtrace
                       }
                   }

       errno
           Returns the errno if there's been an error. Otherwise, return undef

       error_message
           If there's been an error return the error message.

       backtrace
           If  there's  been  an  error  and  we asked for a backtrace, return the backtrace.  Otherwise, return
           undef.

       error_condition
           If there's been an error, return undef. Otherwise return 1

</pre><h4><b>AUTHOR</b></h4><pre>
           Jesse Vincent &lt;<a href="mailto:jesse@bestpractical.com">jesse@bestpractical.com</a>&gt;

</pre><h4><b>BUGS</b></h4><pre>
           This module has, as yet, not been used in production code. I thing
           it should work, but have never benchmarked it. I have not yet used
           it extensively, though I do plan to in the not-too-distant future.
           If you have questions or comments,  please write me.

           If you need to report a bug, please send mail to
           &lt;<a href="mailto:bug-class-returnvalue@rt.cpan.org">bug-class-returnvalue@rt.cpan.org</a>&gt; or report your error on the web
           at <a href="http://rt.cpan.org/">http://rt.cpan.org/</a>

</pre><h4><b>COPYRIGHT</b></h4><pre>
           Copyright (c) 2002,2003,2005,2007 Jesse Vincent &lt;<a href="mailto:jesse@bestpractical.com">jesse@bestpractical.com</a>&gt;
           You may use, modify, fold, spindle or mutilate this module under
           the same terms as perl itself.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
           Class::ReturnValue isn't an exception handler. If it doesn't
           do what you want, you might want look at one of the exception handlers
           below:

           Error, Exception, Exceptions, Exceptions::Class

           You might also want to look at Contextual::Return, another implementation
           of the same concept as this module.

perl v5.34.0                                       2022-06-26                            <u>Class::<a href="../man3pm/ReturnValue.3pm.html">ReturnValue</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>