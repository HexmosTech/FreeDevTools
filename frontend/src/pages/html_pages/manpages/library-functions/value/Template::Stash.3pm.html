<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Template::Stash - Magical storage for template variables</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtemplate-perl">libtemplate-perl_2.27-1build11_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Template::Stash - Magical storage for template variables

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Template::Stash;

           my $stash = Template::Stash-&gt;new(\%vars);

           # get variable values
           $value = $stash-&gt;get($variable);
           $value = $stash-&gt;get(\@compound);

           # set variable value
           $stash-&gt;set($variable, $value);
           $stash-&gt;set(\@compound, $value);

           # default variable value
           $stash-&gt;set($variable, $value, 1);
           $stash-&gt;set(\@compound, $value, 1);

           # set variable values en masse
           $stash-&gt;update(\%new_vars)

           # methods for (de-)localising variables
           $stash = $stash-&gt;clone(\%new_vars);
           $stash = $stash-&gt;declone();

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The "Template::Stash" module defines an object class which is used to store variable values for the
       runtime use of the template processor.  Variable values are stored internally in a hash reference (which
       itself is blessed to create the object) and are accessible via the <b>get()</b> and <b>set()</b> methods.

       Variables may reference hash arrays, lists, subroutines and objects as well as simple values.  The stash
       automatically performs the right magic when dealing with variables, calling code or object methods,
       indexing into lists, hashes, etc.

       The stash has <b>clone()</b> and <b>declone()</b> methods which are used by the template processor to make temporary
       copies of the stash for localising changes made to variables.

</pre><h4><b>PUBLIC</b> <b>METHODS</b></h4><pre>
   <b>new(\%params)</b>
       The new() constructor method creates and returns a reference to a new "Template::Stash" object.

           my $stash = Template::Stash-&gt;new();

       A hash reference may be passed to provide variables and values which should be used to initialise the
       stash.

           my $stash = Template::Stash-&gt;new({ var1 =&gt; 'value1',
                                              var2 =&gt; 'value2' });

   <b>get($variable)</b>
       The get() method retrieves the variable named by the first parameter.

           $value = $stash-&gt;get('var1');

       Dotted compound variables can be retrieved by specifying the variable elements by reference to a list.
       Each node in the variable occupies two entries in the list.  The first gives the name of the variable
       element, the second is a reference to a list of arguments for that element, or 0 if none.

           [% <a href="../man10/foo.bar.10.html">foo.bar</a>(10).<a href="../man20/baz.20.html">baz</a>(20) %]

           $stash-&gt;get([ 'foo', 0, 'bar', [ 10 ], 'baz', [ 20 ] ]);

   <b>set($variable,</b> <b>$value,</b> <b>$default)</b>
       The set() method sets the variable name in the first parameter to the value specified in the second.

           $stash-&gt;set('var1', 'value1');

       If the third parameter evaluates to a true value, the variable is set only if it did not have a true
       value before.

           $stash-&gt;set('var2', 'default_value', 1);

       Dotted compound variables may be specified as per <b>get()</b> above.

           [% foo.bar = 30 %]

           $stash-&gt;set([ 'foo', 0, 'bar', 0 ], 30);

       The magical variable '"IMPORT"' can be specified whose corresponding value should be a hash reference.
       The contents of the hash array are copied (i.e. imported) into the current namespace.

           # foo.bar = baz, foo.wiz = waz
           $stash-&gt;set('foo', { 'bar' =&gt; 'baz', 'wiz' =&gt; 'waz' });

           # import 'foo' into main namespace: bar = baz, wiz = waz
           $stash-&gt;set('IMPORT', $stash-&gt;get('foo'));

   <b>update($variables)</b>
       This method can be used to set or update several variables in one go.

           $stash-&gt;update({
               foo =&gt; 10,
               bar =&gt; 20,
           });

   <b>getref($variable)</b>
       This undocumented feature returns a closure which can be called to get the value of a variable.  It is
       used to implement variable references which are evaluated lazily.

           [% x = \foo.bar.baz %]          # x is a reference to foo.bar.baz
           [% x %]                         # evalautes foo.bar.baz

   <b>clone(\%params)</b>
       The clone() method creates and returns a new "Template::Stash" object which represents a localised copy
       of the parent stash. Variables can be freely updated in the cloned stash and when <b>declone()</b> is called,
       the original stash is returned with all its members intact and in the same state as they were before
       clone() was called.

       For convenience, a hash of parameters may be passed into clone() which is used to update any simple
       variable (i.e. those that don't contain any namespace elements like "foo" and "bar" but not "foo.bar")
       variables while cloning the stash.  For adding and updating complex variables, the <b>set()</b> method should be
       used after calling "clone()."  This will correctly resolve and/or create any necessary namespace hashes.

       A cloned stash maintains a reference to the stash that it was copied from in its "_PARENT" member.

   <b>declone()</b>
       The declone() method returns the "_PARENT" reference and can be used to restore the state of a stash as
       described above.

   <b>define_vmethod($type,</b> <b>$name,</b> <b>$code)</b>
       This method can be used to define new virtual methods.  The first argument should be either "scalar" or
       "item" to define scalar virtual method, "hash" to define hash virtual methods, or either "array" or
       "list" for list virtual methods.  The second argument should be the name of the new method.  The third
       argument should be a reference to a subroutine implementing the method.  The data item on which the
       virtual method is called is passed to the subroutine as the first argument.

           $stash-&gt;define_vmethod(
               item =&gt; ucfirst =&gt; sub {
                   my $text = shift;
                   return ucfirst $text
               }
           );

</pre><h4><b>INTERNAL</b> <b>METHODS</b></h4><pre>
   <b>dotop($root,</b> <b>$item,</b> <b>\@args,</b> <b>$lvalue)</b>
       This is the core "dot" operation method which evaluates elements of variables against their root.

   <b>undefined($ident,</b> <b>$args)</b>
       This method is called when <b>get()</b> encounters an undefined value.  If the STRICT option is in effect then
       it will throw an exception indicating the use of an undefined value.  Otherwise it will silently return
       an empty string.

       The method can be redefined in a subclass to implement alternate handling of undefined values.

</pre><h4><b>AUTHOR</b></h4><pre>
       Andy Wardley &lt;<a href="mailto:abw@wardley.org">abw@wardley.org</a>&gt; &lt;<a href="http://wardley.org/">http://wardley.org/</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 1996-2013 Andy Wardley.  All Rights Reserved.

       This module is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Template, Template::Context

perl v5.40.0                                       2024-10-20                               <u>Template::<a href="../man3pm/Stash.3pm.html">Stash</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>