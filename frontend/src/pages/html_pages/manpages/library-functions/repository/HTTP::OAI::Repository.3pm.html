<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTTP::OAI::Repository - Documentation for building an OAI compliant repository using OAI-PERL</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libhttp-oai-perl">libhttp-oai-perl_4.13-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       HTTP::OAI::Repository - Documentation for building an OAI compliant repository using OAI-PERL

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Using the OAI-PERL library in a repository context requires the user to build the OAI responses to be
       sent to OAI harvesters.

</pre><h4><b>SYNOPSIS</b> <b>1</b></h4><pre>
               use HTTP::OAI::Harvester;
               use HTTP::OAI::Metadata::OAI_DC;
               use XML::SAX::Writer;
               use XML::LibXML;

               # (all of these options _must_ be supplied to comply with the OAI protocol)
               # (protocolVersion and responseDate both have sensible defaults)
               my $r = new HTTP::OAI::Identify(
                       baseURL=&gt;'<a href="http://yourhost/cgi/oai">http://yourhost/cgi/oai</a>',
                       adminEmail=&gt;'youremail@yourhost',
                       repositoryName=&gt;'agoodname',
                       requestURL=&gt;self_url()
               );

               # Include a description (an XML::LibXML Dom object)
               $r-&gt;description(new HTTP::OAI::Metadata(dom=&gt;$dom));

               my $r = HTTP::OAI::Record-&gt;new(
                       header=&gt;HTTP::OAI::Header-&gt;new(
                               identifier=&gt;'oai:myrepo:10',
                               datestamp=&gt;'2004-10-01'
                               ),
                       metadata=&gt;HTTP::OAI::Metadata::OAI_DC-&gt;new(
                               dc=&gt;{title=&gt;['Hello, World!'],description=&gt;['My Record']}
                               )
               );
               $r-&gt;about(HTTP::OAI::Metadata-&gt;new(dom=&gt;$dom));

               my $output;
               my $w = XML::SAX::Writer-&gt;new(Output=&gt;\$output);

               my $driver = HTTP::OAI::SAX::Driver-&gt;new(
                               Handler =&gt; my $builder = XML::LibXML::SAX::Builder-&gt;new()
                       );

               $driver-&gt;start_oai_pmh();
               $r-&gt;set_handler($w);
               $r-&gt;generate($driver);
               $driver-&gt;end_oai_pmh();

               my $xml = $builder-&gt;result;

</pre><h4><b>Building</b> <b>an</b> <b>OAI</b> <b>compliant</b> <b>repository</b></h4><pre>
       The validation scripts included in this module provide the repository admin with a number of tools for
       helping with being OAI compliant, however they can not be exhaustive in themselves.

</pre><h4><b>METHODS</b></h4><pre>
       $r = HTTP::OAI::Repository::validate_request(%paramlist)
       $r = HTTP::OAI::Repository::validate_request_2_0(%paramlist)
           These  functions,  exported  by  the  Repository module, validate an OAI request against the protocol
           requirements. Returns an HTTP::Response object, with the code set to 200  if  the  request  is  well-
           formed, or an error code and the message set.

           e.g:

                   my $r = validate_request(%paramlist);

                   print header(-status=&gt;$r-&gt;code.' '.$r-&gt;message),
                           $r-&gt;error_as_HTML;

           Note that validate_request attempts to be as strict to the Protocol as possible.

       $b = HTTP::OAI::Repository::validate_date($date)
       $b = HTTP::OAI::Repository::validate_metadataPrefix($mdp)
       $b = HTTP::OAI::Repository::validate_responseDate($date)
       $b = HTTP::OAI::Repository::validate_setSpec($set)
           These functions, exported by the Repository module, validate the given type of OAI data. Returns true
           if the given value is sane, false otherwise.

</pre><h4><b>EXAMPLE</b></h4><pre>
       See  the  bin/gateway.pl  for  an  example implementation (it's actually for creating a static repository
       gateway, but you get the idea!).

perl v5.36.0                                       2023-09-28                         <u>HTTP::OAI::<a href="../man3pm/Repository.3pm.html">Repository</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>