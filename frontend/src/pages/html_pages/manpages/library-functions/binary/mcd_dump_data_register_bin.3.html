<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mcd_dump_data_register_bin - register binary data to be dumped</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libminicoredumper-dev">libminicoredumper-dev_2.0.7-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mcd_dump_data_register_bin - register binary data to be dumped

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;minicoredumper.h&gt;</b>

       <b>int</b> <b>mcd_dump_data_register_bin(const</b> <b>char</b> <b>*</b><u>ident</u><b>,</b>
                                      <b>unsigned</b> <b>long</b> <u>dump_scope</u><b>,</b>
                                      <b>mcd_dump_data_t</b> <b>*</b><u>save_ptr</u><b>,</b>
                                      <b>void</b> <b>*</b><u>data_ptr</u><b>,</b>
                                      <b>size_t</b> <u>data_size</u><b>,</b>
                                      <b>enum</b> <b>mcd_dump_data_flags</b> <u>flags</u><b>);</b>

       Compile and link with <u>-lminicoredumper</u>.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>mcd_dump_data_register_bin</b>()  function  registers  binary  data  to be dumped.  <u>ident</u> is a string to
       identify the binary dump later. If non-NULL, it must be unique! If <u>ident</u> is NULL, the data is only dumped
       if this is the crashing application, in which case the data will be  explicitly  stored  in  the  <b><a href="../man5/core.5.html">core</a></b>(5)
       file.  The  data will only be dumped if a scope value greater than or equal to <u>dump_scope</u> is requested by
       the <b><a href="../man1/minicoredumper.1.html">minicoredumper</a></b>(1).  If <u>save_ptr</u> is non-NULL, a pointer to the registered dump will be  stored  there.
       This  is  needed  if <b><a href="../man3/mcd_dump_data_unregister.3.html">mcd_dump_data_unregister</a></b>(3) will be used.  <u>data_ptr</u> contains a pointer to the memory
       location of the data to dump (or a pointer to that pointer).  <u>flags</u> specifies how <u>data_ptr</u> and  <u>data_size</u>
       should  be  interpreted when dumping data.  <u>data_size</u> specifies the number of bytes of data to dump (or a
       pointer to the number).

</pre><h4><b>DATA</b> <b>FLAGS</b></h4><pre>
       The <u>flags</u> option specifies how <u>data_ptr</u> and <u>data_size</u> should be interpreted when  dumping  data.  It  can
       also  affect  dump  behavior.  The flags are bitwise combined to describe the desired behavior. The flags
       available are:

       <b>MCD_DATA_PTR_DIRECT</b>
              <u>data_ptr</u> is a pointer to the data to dump.

       <b>MCD_DATA_PTR_INDIRECT</b>
              <u>data_ptr</u> is a pointer to a second pointer that points to the data to dump. The second  pointer  is
              evaluated at dump. See <b>BUGS</b> for details about the dangers of this flag.

       <b>MCD_LENGTH_DIRECT</b>
              <u>data_size</u> specifies the size (in bytes) of data to dump.

       <b>MCD_LENGTH_INDIRECT</b>
              <u>data_size</u>  is  a pointer to the size (in bytes) of data to dump. The pointer is evaluated at dump.
              See <b>BUGS</b> for details about the dangers of this flag.

       <b>MCD_DATA_NODUMP</b>
              Do not dump the specified data and size. Only store information about  where  in  memory  and  the
              <b><a href="../man5/core.5.html">core</a></b>(5) file this data would be stored. This information is stored in the <u>symbol.map</u> dump file and
              can be used by the <b><a href="../man1/coreinject.1.html">coreinject</a></b>(1) tool to inject data to the registered location.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>mcd_dump_data_register_bin</b>() returns 0 on success, otherwise an error value is returned.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>ENOMEM</b> Insufficient memory available to allocate internal structures.

       <b>EINVAL</b> <u>data_ptr</u> was NULL, <u>data_size</u> was 0, or <u>ident</u> was invalid.

       <b>EEXIST</b> A binary or text dump matching the non-NULL <u>ident</u> was already registered.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Register a binary dump with direct data and direct size.

              mcd_dump_data_t dd1;
              unsigned long val1;

              mcd_dump_data_register_bin("bdump1.bin", 6, &amp;dd1, &amp;val1, sizeof(val1),
                                         MCD_DATA_PTR_DIRECT | MCD_LENGTH_DIRECT);

       Register a binary dump with indirect data and direct size.

              mcd_dump_data_t dd2;
              unsigned long *val2;

              val2 = malloc(sizeof(unsigned long));

              mcd_dump_data_register_bin("bdump2.bin", 6, &amp;dd2, &amp;val2, sizeof(*val2),
                                         MCD_DATA_PTR_INDIRECT | MCD_LENGTH_DIRECT);

       Register a binary dump with indirect data and indirect size.

              mcd_dump_data_t dd3;
              unsigned long *val3;
              size_t s3;

              s3 = sizeof(unsigned long);
              val3 = malloc(s3);

              mcd_dump_data_register_bin("bdump3.bin", 6, &amp;dd3, &amp;val3, (size_t)&amp;s3,
                                         MCD_DATA_PTR_INDIRECT | MCD_LENGTH_INDIRECT);

</pre><h4><b>BUGS</b></h4><pre>
       <u>MCD_DATA_PTR_INDIRECT</u>  and  <u>MCD_LENGTH_INDIRECT</u>  allow  an application to change the size and location of
       data to dump during run-time. However, such changes should be performed carefully because an  application
       can not know when a dump will occur.

       The  string specified in <u>ident</u> is also the file name of the dump file. For this reason characters such as
       '/' are not permitted.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/libminicoredumper.7.html">libminicoredumper</a></b>(7), <b><a href="../man3/mcd_dump_data_unregister.3.html">mcd_dump_data_unregister</a></b>(3), <b><a href="../man1/coreinject.1.html">coreinject</a></b>(1)

       The DiaMon Workgroup: &lt;<a href="http://www.diamon.org">http://www.diamon.org</a>&gt;

minicoredumper                                     2016-09-12                      <u><a href="../man3/MCD_DUMP_DATA_REGISTER_BIN.3.html">MCD_DUMP_DATA_REGISTER_BIN</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>