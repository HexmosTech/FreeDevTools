<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPANPLUS::Internals::Fetch - internals for fetching files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcpanplus-perl">libcpanplus-perl_0.9916-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CPANPLUS::Internals::Fetch - internals for fetching files

</pre><h4><b>SYNOPSIS</b></h4><pre>
           my $output = $cb-&gt;_fetch(
                               module      =&gt; $modobj,
                               fetchdir    =&gt; '/path/to/save/to',
                               verbose     =&gt; BOOL,
                               force       =&gt; BOOL,
                           );

           $cb-&gt;_add_fail_host( host =&gt; 'foo.com' );
           $cb-&gt;_host_ok(       host =&gt; 'foo.com' );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       CPANPLUS::Internals::Fetch fetches files from either ftp, http, file or rsync mirrors.

       This is the rough flow:

           $cb-&gt;_fetch
               Delegate to File::Fetch;

</pre><h4><b>METHODS</b></h4><pre>
</pre><h4><b>$path</b> <b>=</b> <b>_fetch(</b> <b>module</b> <b>=&gt;</b> <b>$modobj,</b> <b>[fetchdir</b> <b>=&gt;</b> <b>'/path/to/save/to',</b> <b>fetch_from</b> <b>=&gt;</b> <b>'scheme://path/to/fetch/from',</b></h4><pre>
       <b>verbose</b> <b>=&gt;</b> <b>BOOL,</b> <b>force</b> <b>=&gt;</b> <b>BOOL,</b> <b>prefer_bin</b> <b>=&gt;</b> <b>BOOL,</b> <b>ttl</b> <b>=&gt;</b> <b>$seconds]</b> <b>)</b>
       "_fetch" will fetch files based on the information in a module object. You always need a module object.
       If you want a fake module object for a one-off fetch, look at "CPANPLUS::Module::Fake".

       "fetchdir" is the place to save the file to. Usually this information comes from your configuration, but
       you can override it expressly if needed.

       "fetch_from" lets you specify an URI to get this file from. If you do not specify one, your list of
       configured hosts will be probed to download the file from.

       "force" forces a new download, even if the file already exists.

       "verbose" simply indicates whether or not to print extra messages.

       "prefer_bin" indicates whether you prefer the use of commandline programs over perl modules. Defaults to
       your corresponding config setting.

       "ttl" (in seconds) indicates how long a cached copy is valid for. If the fetch time of the local copy is
       within the ttl, the cached copy is returned. Otherwise, the file is refetched.

       "_fetch" figures out, based on the host list, what scheme to use and from there, delegates to
       "File::Fetch" do the actual fetching.

       Returns the path of the output file on success, false on failure.

       Note that you can set a "blacklist" on certain methods in the config.  Simply add the identifying name of
       the method (ie, "lwp") to:
           $conf-&gt;_set_fetch( blacklist =&gt; ['lwp'] );

       And the "LWP" function will be skipped by "File::Fetch".

   <b>_add_fail_host(</b> <b>host</b> <b>=&gt;</b> <b>$host_hashref</b> <b>)</b>
       Mark a particular host as bad. This makes "CPANPLUS::Internals::Fetch" skip it in fetches until this
       cache is flushed.

   <b>_host_ok(</b> <b>host</b> <b>=&gt;</b> <b>$host_hashref</b> <b>)</b>
       Query the cache to see if this host is ok, or if it has been flagged as bad.

       Returns true if the host is ok, false otherwise.

perl v5.40.1                                       2025-03-01                    <u>CPANPLUS::Internals::<a href="../man3pm/Fetch.3pm.html">Fetch</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>