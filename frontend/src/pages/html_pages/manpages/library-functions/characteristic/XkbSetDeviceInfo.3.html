<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XkbSetDeviceInfo - Modify some or all of the characteristics of an X Input Extension device</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libx11-doc">libx11-doc_1.8.12-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       XkbSetDeviceInfo - Modify some or all of the characteristics of an X Input Extension device

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>Bool</b> <b>XkbSetDeviceInfo</b> <b>(Display</b> <b>*</b><u>dpy</u><b>,</b> <b>unsigned</b> <b>int</b> <u>which</u><b>,</b> <b>XkbDeviceInfoPtr</b> <u>device_info</u><b>);</b>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>dpy</u>    connection to X server

       <u>which</u>  mask indicating characteristics to modify

       <u>device_info</u>
              structure defining the device and modifications

</pre><h4><b>DESCRIPTION</b></h4><pre>
       To  change characteristics of an X Input Extension device in the server, first modify a local copy of the
       device  structure  and  then  use  either  <u>XkbSetDeviceInfo,</u>  or,  to  save  network  traffic,   use   an
       XkbDeviceChangesRec structure and call <u>XkbChangeDeviceInfo</u> to download the changes to the server.

       <u>XkbSetDeviceInfo</u>  sends  a request to the server to modify the characteristics of the device specified in
       the <u>device_info</u> structure. The particular characteristics modified are identified  by  the  bits  set  in
       <u>which</u>  and  take  their  values  from  the relevant fields in device_info (see Table 1). XkbSetDeviceInfo
       returns True if the request was successfully sent to the server. If the X server implementation does  not
       allow  interaction  between  the  X  input extension and the Xkb Extension, the function does nothing and
       returns False.
                                Table 1 XkbDeviceInfoRec Mask Bits
       ____________________________________________________________________________________
       Name                         XkbDeviceInfoRec Value     Capability If Set
                                    Fields Effected
       ____________________________________________________________________________________
       XkbXI_KeyboardsMask                           (1L &lt;&lt;0) Clients can use all
                                                              Xkb requests and events
                                                              with KeyClass devices
                                                              supported by the input
                                                              device extension.

       XkbXI_ButtonActionsMask       num_btns        (1L &lt;&lt;1) Clients can assign key
                                     btn_acts                 actions to buttons
                                                              non-KeyClass input
                                                              extension devices.

       XkbXI_IndicatorNamesMask      leds-&gt;names     (1L &lt;&lt;2) Clients can assign
                                                              names to indicators on
                                                              non-KeyClass input
                                                              extension devices.

       XkbXI_IndicatorMapsMask       leds-&gt;maps      (1L &lt;&lt;3) Clients can assign
                                                              indicator maps to
                                                              indicators on
                                                              non-KeyClass input
                                                              extension devices.

       XkbXI_IndicatorStateMask      leds-&gt;state     (1L &lt;&lt;4) Clients can request
                                                              the status of indicators
                                                              on non-KeyClass input
                                                              extension devices.

       XkbXI_IndicatorsMask          sz_leds         (0x1c)   XkbXI_IndicatorNamesMask |
                                     num_leds                 XkbXI_IndicatorMapsMask |
                                     leds-&gt;*                  XkbXI_IndicatorStateMask

       XkbXI_UnsupportedFeaturesMask unsupported     (1L &lt;&lt;15)

       XkbXI_AllDeviceFeaturesMask   Those selected  (0x1e)   XkbXI_IndicatorsMask |
                                     by Value Column          XkbSI_ButtonActionsMask
                                     masks

       XkbXI_AllFeaturesMask         Those selected  (0x1f)   XkbSI_AllDeviceFeaturesMask |
                                     by Value Column          XkbSI_KeyboardsMask
                                     masks

       XkbXI_AllDetailsMask          Those selected  (0x801f) XkbXI_AllFeaturesMask |
                                     by Value column          XkbXI_UnsupportedFeaturesMask
                                     masks

       The <u>which</u> parameter specifies which aspects of the device should be changed and is a bitmask composed  of
       an  inclusive OR or one or more of the following bits: XkbXI_ButtonActionsMask, XkbXI_IndicatorNamesMask,
       XkbXI_IndicatorMapsMask. If the features requested to be manipulated in <u>which</u> are valid for  the  device,
       but the server does not support assignment of one or more of them, that particular portion of the request
       is ignored.

       If  the  device  specified  in  <u>device_info-&gt;device_spec</u> does not contain buttons and a request affecting
       buttons is made, or the device does not contain indicators and a request affecting indicators is made,  a
       BadMatch protocol error results.

       If  the  XkbXI_ButtonActionsMask  bit  is set in the <u>supported</u> mask returned by <u>XkbGetDeviceInfo,</u> the Xkb
       extension allows applications to assign key actions to buttons on input extension devices other than  the
       core  keyboard  device.  If  the  XkbXI_ButtonActionsMask  is  set  in <u>which,</u> the actions for all buttons
       specified in <u>device_info</u> are set to the XkbActions specified in <u>device_info-&gt;btn_acts.</u>  If the number  of
       buttons  requested  to  be  updated  is  not  valid  for the device, <u>XkbSetDeviceInfo</u> returns False and a
       BadValue protocol error results.

       If the XkbXI_IndicatorMaps and / or XkbXI_IndicatorNamesMask bit is set in the <u>supported</u> mask returned by
       <u>XkbGetDeviceInfo,</u> the Xkb extension allows applications to assign maps and / or names to  the  indicators
       of  nonkeyboard  extension  devices.  If  supported, maps and / or names can be assigned to all extension
       device indicators, whether they are part of a keyboard feedback or part of an indicator feedback.

       If the XkbXI_IndicatorMapsMask and / or XkbXI_IndicatorNamesMask flag is set in <u>which,</u> the indicator maps
       and / or names for all <u>device_info-&gt;num_leds</u> indicator devices specified in <u>device_info-&gt;leds</u> are set  to
       the  maps  and / or names specified in <u>device_info-&gt;leds.</u> <u>device_info-&gt;leds-&gt;led_class</u> and <u>led_id</u> specify
       the input extension class and device ID for each indicator device to modify; if they have invalid values,
       a BadValue protocol error results and <u>XkbSetDeviceInfo</u> returns False. If they have legal  values  but  do
       not  specify a keyboard or indicator class feedback for the device in question, a BadMatch error results.
       If any of the values in <u>device_info-&gt;leds-&gt;names</u> are not a valid Atom or None, a BadAtom  protocol  error
       results.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       True           The  <u>XkbSetDeviceInfo</u>  function  returns  True if the request was successfully sent to the
                      server.

       False          The <u>XkbSetDeviceInfo</u> function returns False if the X server implementation does not  allow
                      interaction between the X input extension and the Xkb Extension.

</pre><h4><b>STRUCTURES</b></h4><pre>
       Changes  to  an  Xkb  extension device may be tracked by listening to XkbDeviceExtensionNotify events and
       accumulating the changes in an XkbDeviceChangesRec structure. The changes noted in the structure may then
       be used in subsequent operations to update either a server configuration  or  a  local  copy  of  an  Xkb
       extension device configuration. The changes structure is defined as follows:

       typedef struct _XkbDeviceChanges {
           unsigned int    changed;    /* bits indicating what has changed */
           unsigned short  first_btn;  /* number of first button which changed, if any */
           unsigned short  num_btns;   /* number of buttons that have changed */
           XkbDeviceLedChangesRec leds;
       } XkbDeviceChangesRec,*XkbDeviceChangesPtr;

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       <b>BadAtom</b>        A name is neither a valid Atom or None

       <b>BadMatch</b>       A  compatible  version  of  Xkb was not available in the server or an argument has correct
                      type and range, but is otherwise invalid

       <b>BadValue</b>       An argument is out of range

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/XkbChangeDeviceInfo.3.html">XkbChangeDeviceInfo</a></b>(3), <b><a href="../man3/XkbGetDeviceInfo.3.html">XkbGetDeviceInfo</a></b>(3)

X Version 11                                      libX11 1.8.12                              <u><a href="../man3/XkbSetDeviceInfo.3.html">XkbSetDeviceInfo</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>