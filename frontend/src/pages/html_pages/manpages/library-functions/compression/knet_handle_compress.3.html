<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>knet_handle_compress - Set up packet compression.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libknet-doc">libknet-doc_1.31-1ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       knet_handle_compress - Set up packet compression.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;libknet.h&gt;</b>

       <b>int</b> <b>knet_handle_compress</b>(
           <b>knet_handle_t</b>                      <u>knet_h</u>,
           <b>struct</b> <b>knet_handle_compress_cfg</b>   <b>*</b><u>knet_handle_compress_cfg</u>
       );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       knet_handle_compress

       knet_h - pointer to knet_handle_t

       knet_handle_compress_cfg - pointer to a knet_handle_compress_cfg structure

       compress_model contains the model name. See "compress_level" for the list of accepted values. Setting the
       value to "none" disables compression.

       compress_threshold  tells  the  transmission thread to NOT compress any packets that are smaller than the
       value indicated. Default 100 bytes. Set to 0 to reset to the default. Set to 1  to  compress  everything.
       Max accepted value is KNET_MAX_PACKET_SIZE.

       compress_level  is the "level" parameter for most models: zlib: 0 (no compression), 1 (minimal) .. 9 (max
       compression). lz4: 1 (max compression)...  9  (fastest  compression).  lz4hc:  1  (min  compression)  ...
       LZ4HC_MAX_CLEVEL  (16) or LZ4HC_CLEVEL_MAX (12) depending on the version of lz4hc libknet was built with.
       lzma: 0 (minimal) .. 9 (max compression) bzip2: 1 (minimal) .. 9 (max compression) For  lzo2  it  selects
       the algorithm to use: 1 : lzo1x_1_compress (default) 11 : lzo1x_1_11_compress 12 : lzo1x_1_12_compress 15
       :  lzo1x_1_15_compress 999: lzo1x_999_compress Other values select the default algorithm. Please refer to
       the documentation of the respective compression library for guidance about setting this value.

       Implementation notes:it is possible to enable/disable compression at any time.

       nodes can be using a different compression algorithm at any time.

       knet does NOT implement the compression algorithm directly. it relies  on  external  libraries  for  this
       functionality.  Please  read  the  libraries man pages to figure out which algorithm/compression level is
       best for the data you are planning to transmit.

</pre><h4><b>STRUCTURES</b></h4><pre>
       Structure passed into knet_handle_compress() to tell knet what type of compression to use for this communiction

       <b>struct</b> <b>knet_handle_compress_cfg</b> <b>{</b>
           <b>char</b>      <u>compress_model[16]</u><b>;</b>  /* Compression library to use, bzip2 etc... */
           /*
            * Threshold. Packets smaller than this will not be compressed
            */
           <b>uint32_t</b>  <u>compress_threshold</u>;
           /*
            * Passed into the compression library as an indication of the level of
            * compression to apply
            */
           <b>int</b>       <u>compress_level</u>;
       };

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       knet_handle_compress returns 0 on success -1 on error and errno is set.  EINVAL  means  that  either  the
       model or the level are not supported.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/knet_handle_remove_datafd.3.html">knet_handle_remove_datafd</a></u>(3), <u><a href="../man3/knet_handle_get_stats.3.html">knet_handle_get_stats</a></u>(3), <u><a href="../man3/knet_host_add.3.html">knet_host_add</a></u>(3), <u><a href="../man3/knet_handle_pmtud_setfreq.3.html">knet_handle_pmtud_setfreq</a></u>(3),
       <u><a href="../man3/knet_handle_pmtud_get.3.html">knet_handle_pmtud_get</a></u>(3), <u><a href="../man3/knet_handle_crypto_use_config.3.html">knet_handle_crypto_use_config</a></u>(3), <u><a href="../man3/knet_host_get_id_by_host_name.3.html">knet_host_get_id_by_host_name</a></u>(3),
       <u><a href="../man3/knet_host_get_status.3.html">knet_host_get_status</a></u>(3), <u><a href="../man3/knet_link_add_acl.3.html">knet_link_add_acl</a></u>(3), <u><a href="../man3/knet_link_get_pong_count.3.html">knet_link_get_pong_count</a></u>(3), <u><a href="../man3/knet_link_get_priority.3.html">knet_link_get_priority</a></u>(3),
       <u><a href="../man3/knet_handle_free.3.html">knet_handle_free</a></u>(3), <u><a href="../man3/knet_handle_enable_sock_notify.3.html">knet_handle_enable_sock_notify</a></u>(3), <u><a href="../man3/knet_handle_get_datafd.3.html">knet_handle_get_datafd</a></u>(3), <u><a href="../man3/knet_recv.3.html">knet_recv</a></u>(3),
       <u><a href="../man3/knet_link_get_ping_timers.3.html">knet_link_get_ping_timers</a></u>(3), <u><a href="../man3/knet_log_get_subsystem_id.3.html">knet_log_get_subsystem_id</a></u>(3), <u><a href="../man3/knet_host_remove.3.html">knet_host_remove</a></u>(3),
       <u><a href="../man3/knet_host_enable_status_change_notify.3.html">knet_host_enable_status_change_notify</a></u>(3), <u><a href="../man3/knet_strtoaddr.3.html">knet_strtoaddr</a></u>(3), <u><a href="../man3/knet_link_rm_acl.3.html">knet_link_rm_acl</a></u>(3), <u><a href="../man3/knet_send.3.html">knet_send</a></u>(3),
       <u><a href="../man3/knet_handle_enable_pmtud_notify.3.html">knet_handle_enable_pmtud_notify</a></u>(3), <u><a href="../man3/knet_handle_get_transport_reconnect_interval.3.html">knet_handle_get_transport_reconnect_interval</a></u>(3),
       <u><a href="../man3/knet_link_get_enable.3.html">knet_link_get_enable</a></u>(3), <u><a href="../man3/knet_link_set_priority.3.html">knet_link_set_priority</a></u>(3), <u><a href="../man3/knet_log_set_loglevel.3.html">knet_log_set_loglevel</a></u>(3), <u><a href="../man3/knet_handle_get_channel.3.html">knet_handle_get_channel</a></u>(3),
       <u><a href="../man3/knet_link_get_config.3.html">knet_link_get_config</a></u>(3), <u><a href="../man3/knet_link_get_link_list.3.html">knet_link_get_link_list</a></u>(3), <u><a href="../man3/knet_get_transport_list.3.html">knet_get_transport_list</a></u>(3),
       <u><a href="../man3/knet_get_transport_id_by_name.3.html">knet_get_transport_id_by_name</a></u>(3), <u><a href="../man3/knet_log_get_loglevel_id.3.html">knet_log_get_loglevel_id</a></u>(3), <u><a href="../man3/knet_handle_new_ex.3.html">knet_handle_new_ex</a></u>(3),
       <u><a href="../man3/knet_host_set_name.3.html">knet_host_set_name</a></u>(3), <u><a href="../man3/knet_addrtostr.3.html">knet_addrtostr</a></u>(3), <u><a href="../man3/knet_handle_setfwd.3.html">knet_handle_setfwd</a></u>(3), <u><a href="../man3/knet_get_compress_list.3.html">knet_get_compress_list</a></u>(3),
       <u><a href="../man3/knet_host_set_policy.3.html">knet_host_set_policy</a></u>(3), <u><a href="../man3/knet_get_transport_name_by_id.3.html">knet_get_transport_name_by_id</a></u>(3), <u><a href="../man3/knet_handle_enable_filter.3.html">knet_handle_enable_filter</a></u>(3),
       <u><a href="../man3/knet_handle_crypto_rx_clear_traffic.3.html">knet_handle_crypto_rx_clear_traffic</a></u>(3), <u><a href="../man3/knet_link_get_status.3.html">knet_link_get_status</a></u>(3), <u><a href="../man3/knet_handle_add_datafd.3.html">knet_handle_add_datafd</a></u>(3),
       <u><a href="../man3/knet_send_sync.3.html">knet_send_sync</a></u>(3), <u><a href="../man3/knet_log_get_loglevel_name.3.html">knet_log_get_loglevel_name</a></u>(3), <u><a href="../man3/knet_handle_enable_access_lists.3.html">knet_handle_enable_access_lists</a></u>(3),
       <u><a href="../man3/knet_host_get_host_list.3.html">knet_host_get_host_list</a></u>(3), <u><a href="../man3/knet_host_get_policy.3.html">knet_host_get_policy</a></u>(3), <u><a href="../man3/knet_link_set_enable.3.html">knet_link_set_enable</a></u>(3),
       <u><a href="../man3/knet_link_set_pong_count.3.html">knet_link_set_pong_count</a></u>(3), <u><a href="../man3/knet_log_get_subsystem_name.3.html">knet_log_get_subsystem_name</a></u>(3), <u><a href="../man3/knet_host_get_name_by_host_id.3.html">knet_host_get_name_by_host_id</a></u>(3),
       <u><a href="../man3/knet_link_clear_config.3.html">knet_link_clear_config</a></u>(3), <u><a href="../man3/knet_log_get_loglevel.3.html">knet_log_get_loglevel</a></u>(3), <u><a href="../man3/knet_handle_new.3.html">knet_handle_new</a></u>(3), <u><a href="../man3/knet_handle_pmtud_getfreq.3.html">knet_handle_pmtud_getfreq</a></u>(3),
       <u><a href="../man3/knet_handle_pmtud_set.3.html">knet_handle_pmtud_set</a></u>(3), <u><a href="../man3/knet_handle_clear_stats.3.html">knet_handle_clear_stats</a></u>(3), <u><a href="../man3/knet_link_set_config.3.html">knet_link_set_config</a></u>(3),
       <u><a href="../man3/knet_handle_crypto_set_config.3.html">knet_handle_crypto_set_config</a></u>(3), <u><a href="../man3/knet_handle_crypto.3.html">knet_handle_crypto</a></u>(3), <u><a href="../man3/knet_get_crypto_list.3.html">knet_get_crypto_list</a></u>(3),
       <u><a href="../man3/knet_handle_set_transport_reconnect_interval.3.html">knet_handle_set_transport_reconnect_interval</a></u>(3), <u><a href="../man3/knet_link_clear_acl.3.html">knet_link_clear_acl</a></u>(3), <u><a href="../man3/knet_link_set_ping_timers.3.html">knet_link_set_ping_timers</a></u>(3),
       <u><a href="../man3/knet_link_insert_acl.3.html">knet_link_insert_acl</a></u>(3)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2010-2025 Red Hat, Inc. All rights reserved.

kronosnet                                          2025-04-24                            <u><a href="../man3/KNET_HANDLE_COMPRESS.3.html">KNET_HANDLE_COMPRESS</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>