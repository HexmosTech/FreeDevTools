<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perl::Metrics::Simple::Analysis::File - Methods analyzing a single file.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libperl-metrics-simple-perl">libperl-metrics-simple-perl_1.0.3-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Perl::Metrics::Simple::Analysis::File - Methods analyzing a single file.

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Perl::Metrics::Simple::Analysis::File;
         my $object = Perl::Metrics::Simple::Analysis::File-&gt;new(file =&gt; 'path/to/file');

</pre><h4><b>VERSION</b></h4><pre>
       This is VERSION 0.1

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A <b>Perl::Metrics::Simple::Analysis::File</b> object is created by <b>Perl::Metrics::Simple</b> for each file
       analyzed. These objects are aggregated into a <b>Perl::Metrics::Simple::Analysis</b> object by
       <b>Perl::Metrics::Simple</b>.

       In general you will not use this class directly, instead you will use <b>Perl::Metrics::Simple</b>, but there's
       no harm in exposing the various methods this class provides.

</pre><h4><b>CLASS</b> <b>METHODS</b></h4><pre>
   <b>new</b>
       Takes named parameters, current only the <u>path</u> parameter is recognized:

         my $file_results = BPerl::Metrics::Simple::Analysis::File-&gt;new( path =&gt; $path );

       Returns a new <b>Perl::Metrics::Simple::Analysis::File</b> object which has been populated with the results of
       analyzing the file at <u>path</u>.

       Throws an exception if the <u>path</u> is missing or unreadable.

</pre><h4><b>OBJECT</b> <b>METHODS</b></h4><pre>
       Call on an object.

   <b>all_counts</b>
       Convenience method.  Takes no arguments and returns a hashref of all counts:
           {
               path       =&gt; $self-&gt;path,
               lines      =&gt; $self-&gt;lines,
               main_stats =&gt; $self-&gt;main_stats,
               subs       =&gt; $self-&gt;subs,
               packages   =&gt; $self-&gt;packages,
           }

   <b>analyze_main</b>
       Takes a <b>PPI</b> document and an arrayref of <b>PPI::Statement::Sub</b> objects and returns a hashref with
       information about the 'main' (non-subroutine) portions of the document:

         {
           lines             =&gt; $lines,      # Line count outside subs. Skips comments and pod.
           mccabe_complexity =&gt; $complexity, # Cyclomatic complexity of all non-sub areas
           path              =&gt; '/path/to/file',
           name              =&gt; '{code not in named subroutines}',  # always the same name
         };

   <b>get_node_length</b>
       Takes a <b>PPI</b> node and returns a count of the newlines it contains. <b>PPI</b> normalizes line endings to newlines
       so CR/LF, CR and LF all come out the same. The line counts reported by the various methods in this class
       all <b>exclude</b> blank lines, comment lines and pod (the <b>PPI</b> document is pruned before counting.)

   <b>lines</b>
       Total non-blank, non-comment, non-pod lines.

   <b>main_stats</b>
       Returns the hashref generated by <u>analyze_main</u> without re-analyzing document.

   <b>logic_keywords</b>
       Returns an array (in array context) or ref-to-ARRAY of the keywords used in calculating complexity. See
       <u>Logic</u> <u>Keywords</u> section below.

   <b>logic_operators</b>
       Returns an array (in array context) or ref-to-ARRAY of the operators used in calculating complexity. See
       <u>Logic</u> <u>Operators</u> section below.

   <b>method_modifiers</b>
       Returns an array (in array context) or ref-to-ARRAY of the method modifiers considered to return methods
       during calculating complexity. See <u>Method</u> <u>modifiers</u> section below.

   <b>measure_complexity</b>
       Takes a <b>PPI</b> element and measures an approximation of the McCabe Complexity (aka Cyclomatic Complexity) of
       the code.

       McCabe Complexity is basically a count of how many paths there are through the code.

       We use a simplified method for counting this, which ignores things like the possibility that a 'use'
       statement could throw an exception.

       The actual measurement we use for a chunk of code is 1 plus 1 each logic keyword or operator:

       <u>Logic</u> <u>operators:</u>

       The default list is:

       <u>@Perl::Metrics::Simple::Analysis::File::DEFAULT_LOGIC_OPERATORS</u>

           !
           !~
           &amp;&amp;
           &amp;&amp;=
           //
           &lt;
           &lt;&lt;=
           &lt;=&gt;
           ==
           =~
           &gt;
           &gt;&gt;=
           ?
           and
           cmp
           eq
           gt
           lt
           ne
           not
           or
           xor
           ||
           ||=
           ~~

       You can supply your own list by setting: <u>@Perl::Metrics::Simple::Analysis::File::LOGIC_OPERATORS</u> before
       creating a new object.

       <u>Logic</u> <u>keywords:</u>

       <u>@Perl::Metrics::Simple::Analysis::File::DEFAULT_LOGIC_KEYWORDS</u>

           else
           elsif
           for
           foreach
           goto
           grep
           if
           last
           map
           next
           unless
           until
           while

       You can supply your own list by setting: <u>@Perl::Metrics::Simple::Analysis::File::LOGIC_KEYWORDS</u> before
       creating a new object.

       <u>Method</u> <u>modifiers:</u>

       <u>@Perl::Metrics::Simple::Analysis::File::DEFAULT_METHOD_MODIFIERS</u>

           before
           after
           around

       You can supply your own list by setting: <u>@Perl::Metrics::Simple::Analysis::File::METHOD_MODIFIERS</u> before
       creating a new object.

       <u>Examples</u> <u>of</u> <u>Complexity</u>

       Here are a couple of examples of how we count complexity:

       Example of complexity count of 1:

          use Foo;
          print "Hello world.\n";
          exit;

       Example of complexity count of 2:

          if ( $a ) {         # The "if" adds 1.
              # do something
          }

       Example of complexity count of 6:

           sub foo {                              # 1: for non-empty code
              if ( @list ) {                      # 1: "if"
                  foreach my $x ( @list ) {       # 1: "foreach"
                      if ( ! $x ) {               # 2: 1 for "if" and 1 for "!"
                          do_something($x);
                      }
                      else {                      # 1 for "else"
                          do_something_else($x);
                      }
                  }
              }
              return;
           }

   <b>packages</b>
       Arrayref of unique packages found in the file.

   <b>path</b>
       Either the path to the file, or a scalar ref if that was supplied instead of a path.

   <b>subs</b>
       Count of subroutines found.

</pre><h4><b>STATIC</b> <b>PACKAGE</b> <b>SUBROUTINES</b></h4><pre>
       Utility subs used internally, but no harm in exposing them for now.

   <b>hashify</b>
        %hash = Perl::Metrics::Simple::Analysis::File::hashify(@list);

       Takes an array and returns a hash using the array values as the keys and with the values all set to 1.

   <b>is_hash_key</b>
        $boolean = Perl::Metrics::Simple::Analysis::File::is_hash_key($ppi_element);

       Takes a <b>PPI::Element</b> and returns true if the element is a hash key, for example "foo" and "bar" are hash
       keys in the following:

         { foo =&gt; 123, bar =&gt; $a }

       Copied and somewhat simplified from
       <a href="http://search.cpan.org/src/THALJEF/Perl-Critic-0.19/lib/Perl/Critic/Utils.pm">http://search.cpan.org/src/THALJEF/Perl-Critic-0.19/lib/Perl/Critic/Utils.pm</a> See Perl::Critic::Utils.

</pre><h4><b>BUGS</b> <b>AND</b> <b>LIMITATIONS</b></h4><pre>
       None reported yet ;-)

</pre><h4><b>DEPENDENCIES</b></h4><pre>
       Readonly
       Perl::Metrics::Simple::Analysis

</pre><h4><b>SUPPORT</b></h4><pre>
       Via CPAN:

   <b>Disussion</b> <b>Forum</b>
       <a href="http://www.cpanforum.com/dist/Perl-Metrics-Simple">http://www.cpanforum.com/dist/Perl-Metrics-Simple</a>

   <b>Bug</b> <b>Reports</b>
       <a href="http://rt.cpan.org/NoAuth/Bugs.html">http://rt.cpan.org/NoAuth/Bugs.html</a>?Dist=Perl-Metrics-Simple

</pre><h4><b>AUTHOR</b></h4><pre>
           Matisse Enzer
           CPAN ID: MATISSE
           Eigenstate Consulting, LLC
           <a href="mailto:matisse@eigenstate.net">matisse@eigenstate.net</a>
           <a href="http://www.eigenstate.net/">http://www.eigenstate.net/</a>

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2006-2021 by Eigenstate Consulting, LLC.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

       The full text of the license can be found in the LICENSE file included with this module.

perl v5.36.0                                       2023-09-29              <u>Perl::Metrics:...:Analysis::<a href="../man3pm/File.3pm.html">File</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>