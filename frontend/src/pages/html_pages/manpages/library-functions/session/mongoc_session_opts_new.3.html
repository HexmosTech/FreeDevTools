<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mongoc_session_opt_t *</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmongoc-doc">libmongoc-doc_1.30.4-1ubuntu1_all</a> <br><br><pre>
</pre><h4><b>SYNOPSIS</b></h4><pre>
          mongoc_session_opt_t *
          mongoc_session_opts_new (void);

       Start  a  session  with  <u>mongoc_client_start_session()</u>,  use the session for a sequence of operations and
       multi-document transactions, then free it with <u>mongoc_client_session_destroy()</u>.  Any  <u>mongoc_cursor_t</u>  or
       <u>mongoc_change_stream_t</u>  using  a  session  must  be  destroyed  before the session, and a session must be
       destroyed before the <u>mongoc_client_t</u> it came from.

       By default, sessions are <u>causally</u> <u>consistent</u>. To disable causal consistency, before  starting  a  session
       create       a       <u>mongoc_session_opt_t</u>       with       <u>mongoc_session_opts_new()</u>       and       call
       <u>mongoc_session_opts_set_causal_consistency()</u>, then free the struct with <u>mongoc_session_opts_destroy()</u>.

       Unacknowledged writes are prohibited with sessions.

       A <u>mongoc_client_session_t</u> must  be  used  by  only  one  thread  at  a  time.  Due  to  session  pooling,
       <u>mongoc_client_start_session()</u>  may  return  a session that has been idle for some time and is about to be
       closed after its idle timeout. Use the session within one minute of acquiring it to refresh  the  session
       and avoid a timeout.

       See the example code for <u>mongoc_session_opts_set_causal_consistency()</u>.

</pre><h4><b>RETURNS</b></h4><pre>
       A new <u>mongoc_session_opt_t</u> that must be freed with <u>mongoc_session_opts_destroy()</u>.

</pre><h4><b>AUTHOR</b></h4><pre>
       MongoDB, Inc

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2009-present, MongoDB, Inc.

1.30.4                                            Jun 08, 2025                        <u><a href="../man3/MONGOC_SESSION_OPTS_NEW.3.html">MONGOC_SESSION_OPTS_NEW</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>