<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plack::Session::State - Basic parameter-based session state</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libplack-middleware-session-perl">libplack-middleware-session-perl_0.34-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Plack::Session::State - Basic parameter-based session state

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Plack::Builder;
         use Plack::Middleware::Session;
         use Plack::Session::State;

         my $app = sub {
             return [ 200, [ 'Content-Type' =&gt; 'text/plain' ], [ 'Hello Foo' ] ];
         };

         builder {
             enable 'Session',
                 state =&gt; Plack::Session::State-&gt;new;
             $app;
         };

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This will maintain session state by passing the session through the request params. It does not do this
       automatically though, you are responsible for passing the session param.

       This should be considered the state "base" class (although subclassing is not a requirement) and defines
       the spec for all <b>Plack::Session::State::*</b> modules. You will only need to override a couple methods if you
       do subclass. See Plack::Session::State::Cookie for an example of this.

       <b>WARNING</b>: parameter based session ID management makes session fixation really easy, and that makes your
       website vulnerable. You should really avoid using this state in the production environment except when
       you have to deal with legacy HTTP clients that do not support cookies.

       In the future this parameter based state handling will be removed from this base class and will be moved
       to its own State class.

</pre><h4><b>METHODS</b></h4><pre>
       <b>new</b> <b>(</b> <b>%params</b> <b>)</b>
           The  %params  can  include <u>session_key</u>, <u>sid_generator</u> and <u>sid_checker</u> however in both cases a default
           will be provided for you.

       <b>session_key</b>
           This is the name of the session key, it defaults to 'plack_session'.

       <b>sid_generator</b>
           This is a CODE ref used to generate unique session ids, by default it  will  generate  a  SHA1  using
           fairly sufficient entropy. If you are concerned or interested, just read the source.

       <b>sid_validator</b>
           This is a regex used to validate requested session id.

   <b>Session</b> <b>ID</b> <b>Managment</b>
       <b>get_session_id</b> <b>(</b> <b>$env</b> <b>)</b>
           This  is  the  method used to extract the session id from a $env.  Subclasses will often only need to
           override this method and the "finalize" method.

       <b>validate_session_id</b> <b>(</b> <b>$session_id</b> <b>)</b>
           This will use the "sid_validator" regex and confirm that the $session_id is valid.

       <b>extract</b> <b>(</b> <b>$env</b> <b>)</b>
           This will attempt to extract the session from a $env by looking for the "session_key" in the  request
           params. It will then check to see if the session is valid and that it has not expired. It will return
           the session id if everything is good or undef otherwise.

       <b>generate</b> <b>(</b> <b>$request</b> <b>)</b>
           This will generate a new session id using the "sid_generator" callback.  The $request argument is not
           used  by  this  method  but  is  there  for  use  by  subclasses.  The  $request  is expected to be a
           Plack::Request instance or an object with an equivalent interface.

       <b>finalize</b> <b>(</b> <b>$session_id,</b> <b>$response</b> <b>)</b>
           Given a $session_id and a $response this will perform any finalization necessary to  preserve  state.
           This  method  is  called  by  the Plack::Session "finalize" method. The $response is expected to be a
           Plack::Response instance or an object with an equivalent interface.

   <b>Session</b> <b>Expiration</b> <b>Handling</b>
       <b>expire_session_id</b> <b>(</b> <b>$id,</b> <b>$response</b> <b>)</b>
           This will mark the session for $id as expired. This method is called by the  Plack::Session  "expire"
           method.

</pre><h4><b>BUGS</b></h4><pre>
       All  complex  software  has bugs lurking in it, and this module is no exception. If you find a bug please
       either email me, or add the bug to cpan-RT.

</pre><h4><b>AUTHOR</b></h4><pre>
       Stevan Little &lt;<a href="mailto:stevan.little@iinteractive.com">stevan.little@iinteractive.com</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright 2009, 2010 Infinity Interactive, Inc.

       &lt;<a href="http://www.iinteractive.com">http://www.iinteractive.com</a>&gt;

       This library is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

perl v5.40.0                                       2024-09-28                         <u>Plack::Session::<a href="../man3pm/State.3pm.html">State</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>