<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalyst::Plugin::Session::Store::Delegate - Delegate session storage to an application model object.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcatalyst-plugin-session-store-delegate-perl">libcatalyst-plugin-session-store-delegate-perl_0.06-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Catalyst::Plugin::Session::Store::Delegate - Delegate session storage to an application model object.

</pre><h4><b>SYNOPSIS</b></h4><pre>
               use Catalyst::Plugin::Session::Store::Delegate;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This store plugins makes delegating session storage to a first class object model easy.

</pre><h4><b>THE</b> <b>MODEL</b></h4><pre>
       The model is used to retrieve the delegate object for a given session ID.

       This is normally something like DBIC's resultset object.

       The model must respond to the "get_delegate" method or closure in the sesion config hash (defaults to
       "get_session_store_delegate").

       An object <b>must</b> <b>always</b> be returned from this method, even if it means autovivifying. The object may
       optimize and create itself lazily in the actual store only when -&gt;store methods are actually called.

</pre><h4><b>THE</b> <b>DELEGATE</b></h4><pre>
       A single delegate belongs to a single session ID. It provides storage space for arbitrary fields.

       The delegate object must respond to method calls as per the "session_store_delegate_key_to_accessor"
       method's return values.

       Typically this means responding to $obj-&gt;$field type accessors.

       If necessary, the delegate should maintain an internal reference count of the stored fields, so that it
       can garbage collect itself when all fields have been deleted.

       The fields are arbitrary, and are goverend by the various session plugins.

       The basic keys that must be supported are:

       expires
           A timestamp indicating when the session will expire.

           If  a  store so chooses it may clean up session data after this timestamp, even without being told to
           delete.

       session
           The main session data hash.

           Might not be used, if only "flash" exists.

       flash
           A hash much like the main session data hash, which can be created  and  deleted  multiple  times  per
           session, as required.

       The  delegate  must  also  respond to the "flush" method which is used to tell the store delegate that no
       more set/get/delete methods will be invoked on it.

</pre><h4><b>METHODS</b></h4><pre>
       session_store_delegate_key_to_accessor $key, $operation
           This method implements the various calling conventions. It  accepts  a  key  and  an  operation  name
           ("get",  "set" or "delete"), and must return a method (could be a string or a code reference), and an
           optional list of arguments that will be invoked on the delegate.

           The default version splits $key on the first colon, extracting the field name and  the  ID.  It  then
           returns  the  unaltered field name, and if the operation is 'delete' also provides the extra argument
           "undef". This works with accessor semantics like these:

               $obj-&gt;foo;
               $obj-&gt;foo("bar");
               $obj-&gt;foo(undef);

           To facilitate a convention like

               $obj-&gt;get_foo;
               $obj-&gt;set_foo("bar");
               $obj-&gt;delete_foo;

           or

               $obj-&gt;get("foo");
               $obj-&gt;set("foo", "bar");
               $obj-&gt;delete("foo");

           simply override this method. You may look in the source of this module to find commented out versions
           which should help you.

       session_store_delegate
           This method returns the delegate, which may be cached in $c.

       get_session_store_delegate $id
           This method should get the delegate object for a given ID. See "THE MODEL" for more details.

       session_store_model
           This method should return the model that will provide the delegate object.The default  implementation
           will simply return "$c-&gt;model( $c-&gt;session_store_model_name )".

       session_store_model_name
           Returns "$c-&gt;config-&gt;{session}{model_name} || "Sessions"".

       finalize_session_delegate $delegate
           Invokes the "flush" method on the delegate. May be overridden if that behavior is inappropriate.

       get_session_data $key
       store_session_data $key, $value
       delete_session_data $key
           These     methods     translate     the     store     API     into    the    delegate    API    using
           "session_store_delegate_key_to_accessor".

</pre><h4><b>AUTHORS</b></h4><pre>
       Yuval Kogman, "<a href="mailto:nothingmuch@woobling.org">nothingmuch@woobling.org</a>"

       Tomas Doran, (t0m) "<a href="mailto:bobtfish@bobtfish.net">bobtfish@bobtfish.net</a>" (current maintainer)

</pre><h4><b>COPYRIGHT</b> <b>&amp;</b> <b>LICENSE</b></h4><pre>
       Copyright (c) 2006 the aforementioned authors.  This program is free software; you  can  redistribute  it
       and/or modify it under the same terms as Perl itself.

perl v5.36.0                                       2022-10-15             <u>Catalyst::Plugi...Store::<a href="../man3pm/Delegate.3pm.html">Delegate</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>