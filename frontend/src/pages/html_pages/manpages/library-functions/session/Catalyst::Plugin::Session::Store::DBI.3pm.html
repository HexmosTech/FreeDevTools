<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalyst::Plugin::Session::Store::DBI - Store your sessions in a database</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcatalyst-plugin-session-store-dbi-perl">libcatalyst-plugin-session-store-dbi-perl_0.16-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Catalyst::Plugin::Session::Store::DBI - Store your sessions in a database

</pre><h4><b>SYNOPSIS</b></h4><pre>
           # Create a table in your database for sessions
           CREATE TABLE sessions (
               id           <a href="../man72/char.72.html">char</a>(72) primary key,
               session_data text,
               expires      <a href="../man10/int.10.html">int</a>(10)
           );

           # In your app
           use Catalyst qw/Session Session::Store::DBI Session::State::Cookie/;

           # Connect directly to the database
           MyApp-&gt;config('Plugin::Session' =&gt; {
               expires   =&gt; 3600,
               dbi_dsn   =&gt; 'dbi:mysql:database',
               dbi_user  =&gt; 'foo',
               dbi_pass  =&gt; 'bar',
               dbi_table =&gt; 'sessions',
               dbi_id_field =&gt; 'id',
               dbi_data_field =&gt; 'session_data',
               dbi_expires_field =&gt; 'expires',
           });

           # Or use an existing database handle from a DBIC/CDBI class
           MyApp-&gt;config('Plugin::Session' =&gt; {
               expires   =&gt; 3600,
               dbi_dbh   =&gt; 'DBIC', # which means MyApp::Model::DBIC
               dbi_table =&gt; 'sessions',
               dbi_id_field =&gt; 'id',
               dbi_data_field =&gt; 'session_data',
               dbi_expires_field =&gt; 'expires',
           });

           # ... in an action:
           $c-&gt;session-&gt;{foo} = 'bar'; # will be saved

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This storage module will store session data in a database using DBI.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       These parameters are placed in the configuration hash under the "Plugin::Session" key.

   <b>expires</b>
       The expires column in your table will be set with the expiration value.  Note that no automatic cleanup
       is done on your session data, but you can use the delete_expired_sessions method to perform clean up.
       You can make use of the Catalyst::Plugin::Scheduler plugin to schedule automated session cleanup.

   <b>dbi_dbh</b>
       Set this to an existing $dbh or the class name of a DBIx::Class, Class::DBI, Rose::DB::Object, or
       Catalyst::Model::DBI model.  DBIx::Class schema is also supported by setting dbi_dbh to the name of your
       schema model.

       This method is recommended if you have other database code in your application as it will avoid opening
       additional connections.

   <b>dbi_dsn</b>
   <b>dbi_user</b>
   <b>dbi_pass</b>
   <b>dbi_options</b>
       To connect directly to a database, specify the necessary dbi_dsn, dbi_user, and dbi_pass options.  If you
       need to supply your own options to DBI, you may do so by passing a hashref to dbi_options.  The default
       options are AutoCommit =&gt; 1 and RaiseError =&gt; 1.

   <b>dbi_table</b>
       Enter the table name within your database where sessions will be stored.  This table must have at least 3
       columns, id, session_data, and expires.  See the Schema section below for additional details.  The table
       name defaults to 'sessions'.

   <b>dbi_id_field</b>
       The name of the field on your sessions table which stores the session ID.  Defaults to "id".

   <b>dbi_data_field</b>
       The name of the field on your sessions table which stores session data.  Defaults to "session_data".

   <b>dbi_expires_field</b>
       The name of the field on your sessions table which stores the expiration time of the session. Defaults to
       "expires".

</pre><h4><b>SCHEMA</b></h4><pre>
       Your 'sessions' table must contain at minimum the following 3 columns:

           id           <a href="../man72/char.72.html">char</a>(72) primary key
           session_data text
           expires      <a href="../man10/int.10.html">int</a>(10)

       The 'id' column should probably be 72 characters. It needs to handle the longest string that can be
       returned by "generate_session_id" in Catalyst::Plugin::Authentication, plus another 8 characters for
       internal use. This is less than 72 characters in practice when SHA-1 or MD5 are used, but SHA-256 will
       need all those characters.

       The 'session_data' column should be a long text field.  Session data is encoded using Base64 before being
       stored in the database.

       Note that MySQL TEXT fields only store 64KB, so if your session data will exceed that size you'll want to
       move to MEDIUMTEXT, MEDIUMBLOB, or larger.

       The 'expires' column stores the future expiration time of the session.  This may be null for per-user and
       flash sessions.

       NOTE: Your column names do not need to match with this schema, use config to set custom column names.

</pre><h4><b>METHODS</b></h4><pre>
   <b>get_session_data</b>
   <b>store_session_data</b>
   <b>delete_session_data</b>
   <b>delete_expired_sessions</b>
   <b>setup_session</b>
       These are implementations of the required methods for a store. See Catalyst::Plugin::Session::Store.

   <b>session_store_dbi_table</b>
       Return the configured table name.

   <b>session_store_dbi_id_field</b>
       Return the configured ID field name.

   <b>session_store_dbi_data_field</b>
       Return the configured data field name.

   <b>session_store_dbi_expires_field</b>
       Return the configured expires field name.

</pre><h4><b>INTERNAL</b> <b>METHODS</b></h4><pre>
   <b>prepare</b>
   <b>setup_actions</b>
</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Catalyst, Catalyst::Plugin::Session, Catalyst::Plugin::Scheduler

</pre><h4><b>AUTHOR</b></h4><pre>
       Andy Grundman, &lt;<a href="mailto:andy@hybridized.org">andy@hybridized.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2005 - 2009 the Catalyst::Plugin::Session::Store::DBI "AUTHOR" as listed above.

       This program is free software, you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.26.2                                       2018-06-08              <u>Catalyst::Plug...ion::Store::<a href="../man3pm/DBI.3pm.html">DBI</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>