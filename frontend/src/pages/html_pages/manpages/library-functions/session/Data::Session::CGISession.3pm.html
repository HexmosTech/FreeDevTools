<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data::Session - A persistent session manager</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdata-session-perl">libdata-session-perl_1.18-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Data::Session - A persistent session manager

</pre><h4><b>The</b> <b>Design</b> <b>of</b> <b>Data::Session,</b> <b>contrasted</b> <b>with</b> <b>CGI::Session</b></h4><pre>
       For background, read the docs (including the Changes files) and bug reports for both Apache::Session and
       CGI::Session.

       The interface to Data::Session is not quite compatible with that of CGI::Session, hence the new
       namespace.

       The purpose of Data::Session is to be a brand-new alternative to both Apache::Session and CGI::Session.

</pre><h4><b>Aliases</b> <b>for</b> <b>Method</b> <b>Names</b></h4><pre>
       Aliases for method names are not supported.

       In CGI::Session, methods <b>etime()</b> and <b>expires()</b> were aliased to <b>expire()</b>. This is not supported in
       Data::Session.

       Data::Session does have an <b>etime()</b> method, "Method: <b>etime()</b>" in Data::Session, which is different.

       In CGI::Session, method <b>header()</b> was aliased to <b>http_header()</b>. Only the latter method is supported in
       Data::Session. See "Method: <b>cookie()</b>" and "Method: http_header([@arg])".

       In CGI::Session, id generators had a method <b>generate_id()</b> aliased to <b>generate()</b>. This is not supported in
       Data::Session.

       In CGI::Session, method <b>param_dataref()</b> was aliased to <b>dataref()</b>. Neither of these methods is supported
       in Data::Session. If you want to access the session data, use my($hashref) = $session -&gt; session.

</pre><h4><b>Backwards-compatibility</b></h4><pre>
       This topic is sometimes used as a form of coercion, which is unacceptable, and sometimes leads to a
       crippled design.

       So, by design, Data::Session is not <u>exactly</u> backwards-compatible with CGI::Session, but does retain it's
       major features:

       o Specify the basic operating parameters with new(type =&gt; $string)
           This determines the type of session object you wish to create.

           Default: 'driver:File;id:MD5;serialize:DataDumper'.

           And  specifically,  the  format of that case-sensitive string is as expected. See "Specifying Session
           Options" in Data::Session for details.

       o Retrieve the session id with the <b>id()</b> method
       o Set and get parameters with the <b>param()</b> method
       o Ensure session data is saved to disk with the <b>flush()</b> method
           Call this just before your program exits.

           In particular, as with CGI::Session, persistent environments stop your program exiting in the way you
           are used to. This matter is discussed in "Trouble with Exiting" in Data::Session.

</pre><h4><b>CGI::Session::ExpireSessions</b> <b>is</b> <b>obsolete</b></h4><pre>
       Instead, consider using scripts/expire.pl, which ships with Data::Session.

</pre><h4><b>Code</b> <b>refs</b> <b>as</b> <b>database</b> <b>handles</b></h4><pre>
       Being able to supply a code ref as the value of the 'dbh' parameter to <b>new()</b> is supported.

       This mechanism is used to delay creation of a database handle until it is actually needed, which means if
       it is not needed it is not created.

</pre><h4><b>Class</b> <b>'v'</b> <b>Object</b></h4><pre>
       Calling methods on the class is not supported. You must always create an object.

       The reason for this is to ensure every method call, without exception, has access to the per-object  data
       supplied by you, or by default, in the call to <b>new()</b>.

</pre><h4><b>The</b> <b>type</b> <b>of</b> <b>the</b> <b>Data::Session</b> <b>object</b></h4><pre>
       Controlling  the capabilities of the Data::Session object is determined by the 'type' parameter passed in
       to new, as Data::Session -&gt; new(type =&gt; $string).

       A sample string looks like 'driver:BerkeleyDB;id:SHA1;serialize:DataDumper'.

       Abbreviation of component key names ('driver', 'id', 'serialize') is not supported.

       Such abbreviations were previously handled by Text::Abbrev. Now, these must be named in full.

       The decision to force corresponding class names to lower case is not supported.

       Nevertheless, lower-cased input will be accepted. Such input is converted to the case you expect.

       This affects the names of various sub-classes. See "ID Generators", "Serialization Drivers" and  "Storage
       Drivers".

       For  example,  driver:pg  is  now driver:Pg, which actually means Data::Session::Driver::Pg, based on the
       class name DBD::Pg.

</pre><h4><b>Exceptions</b></h4><pre>
       Exceptions are caught with Try::Tiny. Errors cause Data::Session to die.

       The only exception to this  is  the  call  to  <b>new()</b>,  which  can  return  undef.  In  that  case,  check
       $Data::Session::errstr.

</pre><h4><b>Global</b> <b>Variables</b></h4><pre>
       Global variables are not supported. This includes:

       o $CGI::Session::Driver::DBI::TABLE_NAME
       o $CGI::Session::Driver::DBI::*::TABLE_NAME
       o $CGI::Session::Driver::file::FileName
       o $CGI::Session::IP_MATCH
       o $CGI::Session::NAME

</pre><h4><b>ID</b> <b>Generators</b></h4><pre>
       Id generator classes have been renamed:

       o CGI::Session::ID::incr becomes Data::Session::ID::AutoIncrement
       o CGI::Session::ID::md5 becomes Data::Session::ID::MD5
       o CGI::Session::ID::sha becomes Data::Session::ID::SHA1
       o CGI::Session::ID::sha256 becomes Data::Session::ID::SHA256
       o CGI::Session::ID::sha512 becomes Data::Session::ID::SHA512
       o CGI::Session::ID::static becomes Data::Session::ID::Static
       o CGI::Session::ID::uuid becomes Data::Session::ID::UUID16 or UUID34 or UUID36 or UUD64

</pre><h4><b>JSON</b></h4><pre>
       Data::Session::Serialize::JSON uses JSON, not JSON::Syck.

   <b>Managing</b> <b>Object</b> <b>Attributes</b>
       The light-weight Hash::FieldHash is used to manage object attributes.

       So, neither Mouse nor Moose, nor any other such class helper, is used.

</pre><h4><b>Method:</b> <b>cookie()</b></h4><pre>
       Forcing  the  query  object to have a cookie method is not supported. You may now use a query class which
       does not provide a cookie method.

       The logic of checking the cookie (if any) first (i.e. before checking for a form field of the same  name)
       is supported.

       See "Method: http_header([@arg])".

</pre><h4><b>Method:</b> <b>http_header([@arg])</b></h4><pre>
       The [] indicate an optional parameter.

       Returns a HTTP header. This means it does not print the header. You have to do that, when appropriate.

       Forcing the document type to be 'text/html' when calling <b>http_header()</b> is not supported. You must pass in
       a  document  type  to <b>http_header()</b>, as $session -&gt; http_header('-type' =&gt; 'text/html'), or use the query
       object's default. Both CGI and CGI::Simple default to 'text/html'.

       Data::Session handles the case where the query object does not have a <b>cookie()</b> method.

       The @arg parameter, if any, is passed to the query object's <b>header()</b> method, after the cookie  parameter,
       if any.

</pre><h4><b>Method:</b> <b>load()</b></h4><pre>
       The new <b>load()</b> takes no parameters.

</pre><h4><b>Method:</b> <b>new()</b></h4><pre>
       Excess versions of <b>new()</b> are not supported.

       The new <b>new()</b> takes a hash of parameters.

       This hash will include all options previously passed in in different parameters to <b>new()</b>, including $dsn,
       $query, $sid, \%dsn_args and \%session_params.

</pre><h4><b>Name</b> <b>Changes</b></h4><pre>
       Class name changes are discussed in "ID Generators", "Serialization Drivers" and "Storage Drivers".

       As  discussed  in "Method: <b>new()</b>" in Data::Session, these name changes are both the result of cleaning up
       all the options to <b>new()</b>, and because the option names are now also method names.

       o DataColName becomes data_col_name
           This is used in the call to <b>new()</b>.

       o DataSource becomes data_source
           This is used in the call to <b>new()</b>.

       o generate_id becomes generate
           This is used in various id generator classes, some of which provided generate as an alias.

       o Handle becomes dbh
           This is used in the call to <b>new()</b>.

       o IdColName becomes id_col_name
           This is used in the call to <b>new()</b>.

       o IDFile becomes id_file
           This is used in the call to <b>new()</b>, and in the '... id:AutoIncrement ...' id generator.

       o IDIncr becomes id_step
           This is used in the call to <b>new()</b>, and in the '... id:AutoIncrement ...' id generator.

       o IDInit becomes id_base
           This is used in the call to <b>new()</b>, and in the '... id:AutoIncrement ...' id generator.

</pre><h4><b>param()</b></h4><pre>
       Excess versions of <b>param()</b> will not be supported.

       Use param($key =&gt; $value) to set and param($key) to get.

       <b>param()</b> may be passed a hash, to set several key/value pairs in 1 call.

</pre><h4><b>POD</b></h4><pre>
       All POD has been re-written.

</pre><h4><b>Race</b> <b>Conditions</b></h4><pre>
       The  race  handling  code  in  CGI::Session::Driver::postgresql  has   been   incorporated   into   other
       Data::Session::Driver::* drivers.

</pre><h4><b>Serialization</b> <b>Drivers</b></h4><pre>
       Serializing classes have been renamed:

       o CGI::Session::Serialize::default becomes Data::Session::Serialize::DataDumper
       o CGI::Session::Serialize::freezethaw becomes Data::Session::Serialize::FreezeThaw
       o CGI::Session::Serialize::json becomes Data::Session::Serialize::JSON
           The latter will use JSON. In the past JSON::Syck was used.

       o CGI::Session::Serialize::storable becomes Data::Session::Serialize::Storable
       o CGI::Session::Serialize::yaml becomes Data::Session::Serialize::YAML
           The latter uses YAML::Tiny. In the past either YAML::Syck or YAML was used.

</pre><h4><b>Session</b> <b>ids</b> <b>will</b> <b>be</b> <b>mandatory</b></h4><pre>
       The ability to create a Perl object without a session id is not supported.

       Every time a object of type Data::Session is created, it must have an id.

       This id is either supplied by the caller, taken from the query object, or one is generated.

       See "Specifying an Id" in Data::Session for details.

</pre><h4><b>Session</b> <b>modification</b></h4><pre>
       CGI::Session  tracks calls to <b>param()</b> to set a flag if the object is modified, so as to avoid writing the
       session to disk if nothing has been modified.

       This includes checking if setting a param's value to the value it already has.

       The behaviour is supported.

</pre><h4><b>Session</b> <b>Parameters</b></h4><pre>
       CGI::Session had these internal object attributes (parameters) not available to the user:

       o _DATA
           Hashref: Keys: _SESSION_ATIME, _SESSION_CTIME, _SESSION_ID and _SESSION_REMOTE_ADDR.

       o _DSN
           Hashref.

       o _OBJECTS
           Hashref.

       o _DRIVER_ARGS
           Hashref.

       o _CLAIMED_ID
           Scalar.

       o _STATUS
           Scalar (bitmap).

       o _QUERY
           Scalar.

       Data::Session has these internal object attributes (parameters):

       o _SESSION_ATIME
           Scalar: Last access time.

       o _SESSION_CTIME
           Scalar: Creation time.

       o _SESSION_ETIME
           Scalar: Expiry time.

       o _SESSION_ID
           Scalar: The id.

       o _SESSION_PTIME
           Hashref: Expiry times of parameters.

       Data::Session stores user data internally in a hashref, and the module reserves keys starting with '_'.

       Of course, it has a whole set of methods to manage state.

</pre><h4><b>Session</b> <b>States</b></h4><pre>
       CGI::Session objects can be one of 6 states. Every attempt has been made to simplify this design.

</pre><h4><b>Storage</b> <b>Drivers</b></h4><pre>
       Classes related to DBI/DBD will use DBD::* style names, to help beginners.

       Hence (with special cases):

       o CGI::Session::Driver::db_file becomes Data::Session::Driver::BerkeleyDB
           The latter no longer uses DB_File.

       o CGI::Session::Driver::file becomes Data::Session::Driver::File
       o CGI::Session::Driver::memcached becomes Data::Session::Driver::Memcached
       o CGI::Session::Driver::mysql becomes Data::Session::Driver::mysql
       o CGI::Session::Driver::odbc becomes Data::Session::Driver::ODBC
       o CGI::Session::Driver::oracle becomes Data::Session::Driver::Oracle
       o CGI::Session::Driver::postgresql becomes Data::Session::Driver::Pg
       o CGI::Session::Driver::sqlite becomes Data::Session::Driver::SQLite

</pre><h4><b>Tests</b></h4><pre>
       All tests have been re-written.

</pre><h4><b>The</b> <b>Version</b> <b>of</b> <b>Perl</b></h4><pre>
       Perl 5 code will be used.

</pre><h4><b>YAML</b></h4><pre>
       Data::Session::Serialize::YAML uses YAML::Tiny, not YAML::Syck or YAML.

</pre><h4><b>Author</b></h4><pre>
       Data::Session was written by Ron Savage <u>&lt;<a href="mailto:ron@savage.net.au">ron@savage.net.au</a>&gt;</u> in 2010.

       Home page: &lt;<a href="http://savage.net.au/index.html">http://savage.net.au/index.html</a>&gt;.

</pre><h4><b>Copyright</b></h4><pre>
       Australian copyright (c) 2010, Ron Savage.

               All Programs of mine are 'OSI Certified Open Source Software';
               you can redistribute them and/or modify them under the terms of
               The Artistic License, a copy of which is available at:
               <a href="http://www.opensource.org/licenses/index.html">http://www.opensource.org/licenses/index.html</a>

perl v5.36.0                                       2023-02-14                     <u>Data::Session::<a href="../man3pm/CGISession.3pm.html">CGISession</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>