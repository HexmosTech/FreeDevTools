<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ne_session_create, ne_close_connection, ne_session_destroy - set up HTTP sessions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libneon27-gnutls-dev">libneon27-gnutls-dev_0.34.2-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ne_session_create, ne_close_connection, ne_session_destroy - set up HTTP sessions

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;ne_session.h&gt;</b>

       <b>ne_session</b> <b>*ne_session_create(const</b> <b>char</b> <b>*</b><u>scheme</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>host</u><b>,</b> <b>unsigned</b> <b>int</b> <u>port</u><b>);</b>

       <b>void</b> <b>ne_close_connection(ne_session</b> <b>*</b><u>session</u><b>);</b>

       <b>void</b> <b>ne_session_destroy(ne_session</b> <b>*</b><u>session</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       An <b>ne_session</b> object represents an HTTP session - a logical grouping of a sequence of HTTP requests made
       to a certain server. Any requests made using the session can use a persistent connection, share cached
       authentication credentials and any other common attributes.

       A new HTTP session is created using the <b>ne_session_create</b> function; the <u>host</u> and <u>port</u> parameters specify
       the origin server to use, along with the <u>scheme</u> (usually "http"). Before the first use of
       <b>ne_session_create</b> in a process, ne_sock_init must have been called to perform any global initialization
       needed by any libraries used by neon.

       To enable SSL/TLS for the session, pass the string "https" as the <u>scheme</u>, and either register a
       certificate verification function (see ne_ssl_set_verify) or trust the appropriate certificate (see
       ne_ssl_trust_cert, ne_ssl_trust_default_ca).

       The <u>host</u> parameter must follow the definition of host host in <b>RFC</b> <b>3986</b>[1], which can be an IP-literal or
       registered (DNS) hostname. Valid examples of each: "198.51.100.42" (IPv4 literal address),
       "[2001:db8::42]" (IPv6 literal, which <u>MUST</u> be enclosed in square brackets), or "www.example.com" (DNS
       hostname). The <b>RFC</b> <b>6874</b>[2] syntax for scoped IPv6 link-local literal addresses is also permitted, for
       example "[fe80::1%25eth0]".

       The <u>scheme</u> parameter is used to determine the URI for resources identified during request handling. Other
       than special handling of the string "https", no other interpretation or checking of the <u>scheme</u> is
       performed. For example, if an HTTP-to-FTP proxy is configured, a scheme of "ftp" could be used to access
       resources.

       To use a proxy server for the session, it must be configured (see ne_session_proxy) before any requests
       are created from session object.

       Further per-session options may be changed using the ne_set_session_flag interface.

       If it is known that the session will not be used for a significant period of time, <b>ne_close_connection</b>
       can be called to close the connection, if one remains open. Use of this function is entirely optional,
       but it must not be called if there is a request active using the session.

       Once a session has been completed, <b>ne_session_destroy</b> must be called to destroy the resources associated
       with the session. Any subsequent use of the session pointer produces undefined behaviour. The session
       object must not be destroyed until after all associated request objects have been destroyed.

</pre><h4><b>NOTES</b></h4><pre>
       If a hostname is passed to <b>ne_session_create</b>, it will be resolved when the first request using the
       session is dispatched; a DNS resolution failure can only be detected at that time (using the NE_LOOKUP
       error code); see ne_request_dispatch for details.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>ne_session_create</b> will return a pointer to a new session object (and never NULL).

</pre><h4><b>EXAMPLES</b></h4><pre>
       Create and destroy a session:

           ne_session *sess;
           sess = ne_session_create("http", "host.example.com", 80);
           /* ... use sess ... */
           ne_session_destroy(sess);

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       ne_ssl_set_verify, ne_ssl_trust_cert, ne_sock_init, ne_set_session_flag, ne_session_proxy

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2001-2024 Joe Orton

</pre><h4><b>REFERENCES</b></h4><pre>
        1. RFC 3986
           https://www.rfc-editor.org/rfc/rfc3986

        2. RFC 6874
           https://www.rfc-editor.org/rfc/rfc6874

neon 0.34.2                                       15 April 2025                             <u><a href="../man3/NE_SESSION_CREATE.3.html">NE_SESSION_CREATE</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>