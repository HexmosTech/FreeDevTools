<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>trace_seq_init, trace_seq_destroy, trace_seq_reset, trace_seq_terminate, trace_seq_putc, trace_seq_puts,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtraceevent-doc">libtraceevent-doc_1.8.4-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       trace_seq_init, trace_seq_destroy, trace_seq_reset, trace_seq_terminate, trace_seq_putc, trace_seq_puts,
       trace_seq_printf, trace_seq_vprintf, trace_seq_do_fprintf, trace_seq_do_printf - Initialize / destroy a
       trace sequence.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;event-parse.h&gt;</b>
       <b>#include</b> <b>&lt;trace-seq.h&gt;</b>

       void <b>trace_seq_init</b>(struct trace_seq *<u>s</u>);
       void <b>trace_seq_destroy</b>(struct trace_seq *<u>s</u>);
       void <b>trace_seq_reset</b>(struct trace_seq *<u>s</u>);
       void <b>trace_seq_terminate</b>(struct trace_seq *<u>s</u>);
       int <b>trace_seq_putc</b>(struct trace_seq *<u>s</u>, unsigned char <u>c</u>);
       int <b>trace_seq_puts</b>(struct trace_seq *<u>s</u>, const char *<u>str</u>);
       int <b>trace_seq_printf</b>(struct trace_seq *<u>s</u>, const char *<u>fmt</u>, <u>...</u>);
       int <b>trace_seq_vprintf</b>(struct trace_seq *<u>s</u>, const char *<u>fmt</u>, va_list <u>args</u>);
       int <b>trace_seq_do_printf</b>(struct trace_seq *<u>s</u>);
       int <b>trace_seq_do_fprintf</b>(struct trace_seq *<u>s</u>, FILE *<u>fp</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Trace sequences are used to allow a function to call several other functions to create a string of data
       to use.

       The <b>trace_seq_init()</b> function initializes the trace sequence <u>s</u>.

       The <b>trace_seq_destroy()</b> function destroys the trace sequence <u>s</u> and frees all its resources that it had
       used.

       The <b>trace_seq_reset()</b> function re-initializes the trace sequence <u>s</u>. All characters already written in <u>s</u>
       will be deleted.

       The <b>trace_seq_terminate()</b> function terminates the trace sequence <u>s</u>. It puts the null character '\0' at
       the end of the buffer.

       The <b>trace_seq_putc()</b> function puts a single character <u>c</u> in the trace sequence <u>s</u>.

       The <b>trace_seq_puts()</b> function puts a NULL terminated string <u>str</u> in the trace sequence <u>s</u>.

       The <b>trace_seq_printf()</b> function puts a formated string <u>fmt</u> <b>_</b><u>with</u> <u>variable</u> <u>arguments</u> <b>_</b><u>...</u> in the trace
       sequence <u>s</u>.

       The <b>trace_seq_vprintf()</b> function puts a formated string <u>fmt</u> <b>_</b><u>with</u> <u>list</u> <u>of</u> <u>arguments</u> <b>_</b><u>args</u> in the trace
       sequence <u>s</u>.

       The <b>trace_seq_do_printf()</b> function prints the buffer of trace sequence <u>s</u> to the standard output stdout.

       The <b>trace_seq_do_fprintf()</b> function prints the buffer of trace sequence <u>s</u> to the given file <u>fp</u>.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Both <b>trace_seq_putc()</b> and <b>trace_seq_puts()</b> functions return the number of characters put in the trace
       sequence, or 0 in case of an error

       Both <b>trace_seq_printf()</b> and <b>trace_seq_vprintf()</b> functions return 0 if the trace oversizes the bufferâ€™s
       free space, the number of characters printed, or a negative value in case of an error.

       Both <b>trace_seq_do_printf()</b> and <b>trace_seq_do_fprintf()</b> functions return the number of printed characters,
       or -1 in case of an error.

</pre><h4><b>EXAMPLE</b></h4><pre>
           #include &lt;event-parse.h&gt;
           #include &lt;trace-seq.h&gt;
           ...
           struct trace_seq seq;
           trace_seq_init(&amp;seq);
           ...
           void foo_seq_print(struct trace_seq *tseq, char *format, ...)
           {
                   va_list ap;
                   va_start(ap, format);
                   if (trace_seq_vprintf(tseq, format, ap) &lt;= 0) {
                           /* Failed to print in the trace sequence */
                   }
                   va_end(ap);
           }

           trace_seq_reset(&amp;seq);

           char *str = " MAN page example";
           if (trace_seq_puts(&amp;seq, str) != strlen(str)) {
                   /* Failed to put str in the trace sequence */
           }
           if (trace_seq_putc(&amp;seq, ':') != 1) {
                   /* Failed to put ':' in the trace sequence */
           }
           if (trace_seq_printf(&amp;seq, " trace sequence: %d", 1) &lt;= 0) {
                   /* Failed to print in the trace sequence */
           }
           foo_seq_print( &amp;seq, "  %d\n", 2);

           trace_seq_terminate(&amp;seq);
           ...

           if (trace_seq_do_printf(&amp;seq) &lt; 0 ) {
                   /* Failed to print the sequence buffer to the standard output */
           }
           FILE *fp = fopen("trace.txt", "w");
           if (trace_seq_do_fprintf(&amp;seq, fp) &lt; 0 ) [
                   /* Failed to print the sequence buffer to the trace.txt file */
           }

           trace_seq_destroy(&amp;seq);
           ...

</pre><h4><b>FILES</b></h4><pre>
           <b>event-parse.h</b>
                   Header file to include in order to have access to the library APIs.
           <b>trace-seq.h</b>
                   Header file to include in order to have access to trace sequences related APIs.
           <b>-ltraceevent</b>
                   Linker switch to add when building a program that uses the library.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/libtraceevent.3.html">libtraceevent</a></b>(3), <b><a href="../man1/trace-cmd.1.html">trace-cmd</a></b>(1)

</pre><h4><b>AUTHOR</b></h4><pre>
           <b>Steven</b> <b>Rostedt</b> &lt;<b><a href="mailto:rostedt@goodmis.org">rostedt@goodmis.org</a></b>[1]&gt;, author of <b>libtraceevent</b>.
           <b>Tzvetomir</b> <b>Stoyanov</b> &lt;<b><a href="mailto:tz.stoyanov@gmail.com">tz.stoyanov@gmail.com</a></b>[2]&gt;, author of this man page.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to &lt;<b><a href="mailto:linux-trace-devel@vger.kernel.org">linux-trace-devel@vger.kernel.org</a></b>[3]&gt;

</pre><h4><b>LICENSE</b></h4><pre>
       libtraceevent is Free Software licensed under the GNU LGPL 2.1

</pre><h4><b>RESOURCES</b></h4><pre>
       <b>https://git.kernel.org/pub/scm/libs/libtrace/libtraceevent.git/</b>

</pre><h4><b>NOTES</b></h4><pre>
        1. <a href="mailto:rostedt@goodmis.org">rostedt@goodmis.org</a>
           <a href="mailto:rostedt@goodmis.org">mailto:rostedt@goodmis.org</a>

        2. <a href="mailto:tz.stoyanov@gmail.com">tz.stoyanov@gmail.com</a>
           <a href="mailto:tz.stoyanov@gmail.com">mailto:tz.stoyanov@gmail.com</a>

        3. <a href="mailto:linux-trace-devel@vger.kernel.org">linux-trace-devel@vger.kernel.org</a>
           <a href="mailto:linux-trace-devel@vger.kernel.org">mailto:linux-trace-devel@vger.kernel.org</a>

libtraceevent 1.8.4                                12/24/2024                                   <u><a href="../man3/LIBTRACEEVENT.3.html">LIBTRACEEVENT</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>