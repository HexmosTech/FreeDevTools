<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::CheckUser - check email addresses for validity</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-checkuser-perl">libmail-checkuser-perl_1.24-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::CheckUser - check email addresses for validity

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Mail::CheckUser qw(check_email);
           my $ok = check_email($email_addr);

           use Mail::CheckUser qw(:constants check_email last_check)
           my $ok = check_email($email_addr);
           print "DNS timeout\n"
               if last_check()-&gt;{code} == CU_DNS_TIMEOUT;

           use Mail::CheckUser;
           my $res = Mail::CheckUser::check_email($email_addr);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This Perl module provides routines for checking validity of email address.

       It makes several checks:

       1.  It checks the syntax of an email address.

       2.  It checks if there any MX records or A records for the domain part of the email address.

       3.  It  tries to connect to an email server directly via SMTP to check if mailbox is valid.  Old versions
           of this module performed this check via the VRFY command.  Now the module uses another check; it uses
           a combination of MAIL and RCPT commands  which  simulates  sending  an  email.   It  can  detect  bad
           mailboxes in many cases.

       If is possible to turn off some or all networking checks (items 2 and 3).  See "GLOBAL VARIABLES".

       This  module  was  designed  with  CGIs  (or any other dynamic Web content programmed with Perl) in mind.
       Usually it is required to quickly check e-mail addresses in forms.  If the check  can't  be  finished  in
       reasonable  time, the e-mail address should be treated as valid.  This is the default policy.  By default
       if a timeout happens the result of the check is treated as positive.  This behavior can be  overridden  -
       see "GLOBAL VARIABLES".

</pre><h4><b>IMPORTANT</b> <b>WARNING</b></h4><pre>
       In  many  cases  there  is  no  way  to  detect the validity of email addresses with network checks.  For
       example, non-monolithic mail servers (such as Postfix and qmail) often report that a user exists even  if
       it  is not so.  This is because in cases where the work of the server is split among many components, the
       SMTP server may not know how to check for the existence of a particular user.  Systems  like  these  will
       reject  mail to unknown users, but they do so after the SMTP conversation.  In cases like these, the only
       absolutely sure way to determine whether or not a user exists is to actually send a mail and wait to  see
       if  a  bounce  messages comes back.  Obviously, this is not a workable strategy for this module.  Does it
       mean that the network checks in this module are useless?  No.  For one thing, just the DNS  checks  go  a
       long  way  towards  weeding out mistyped domain parts.  Also, there are still many SMTP servers that will
       reject a bad address during the SMTP conversation.  Because of this, it's still a useful part of checking
       for a valid email address.  And this module was  designed  such  that  if  there  is  exists  possibility
       (however small) that the email address is valid, it will be treated as valid by this module.

       Another  warning is about $Mail::CheckUser::Treat_Timeout_As_Fail global variable.  Use it carefully - if
       it is set to true then some valid email addresses can be treated as bad simply because  an  SMTP  or  DNS
       server responds slowly.

       Another  warning is about $Mail::CheckUser::Treat_Full_As_Fail global variable.  Use it carefully - if it
       is set to true then some valid email addresses can be treated as bad simply because their mailbox happens
       to be temporarily full.

</pre><h4><b>EXAMPLE</b></h4><pre>
       This simple script checks if email address "<a href="mailto:blabla@foo.bar">blabla@foo.bar</a>" is valid.

           use Mail::CheckUser qw(check_email last_check);

           my $email = '<a href="mailto:blabla@foo.bar">blabla@foo.bar</a>';

           if(check_email($email)) {
               print "E-mail address &lt;$email&gt; is OK\n";
           } else {
               print "E-mail address &lt;$email&gt; isn't valid: ",
                     last_check()-&gt;{reason}, "\n";
           }

</pre><h4><b>SUBROUTINES</b></h4><pre>
       $ok = check_email($email)
           Validates email address $email.  Return true if email address is valid and false otherwise.

       $res = <b>last_check()</b>
           Returns detailed result of last check made with "check_email" as hash reference:

               { ok =&gt; OK, code =&gt; CODE, reason =&gt; REASON }

           OK  True if last checked email address is valid.  False otherwise.

           CODE
               A number which describes result of last check.  See "CONSTANTS".

           REASON
               A string which describes result of last check.

</pre><h4><b>CONSTANTS</b></h4><pre>
       Constants used by "last_check" to describe result of last check can be exported with

           use Mail::CheckUser qw(:constants)

       List of all defined constants:

       CU_OK
           Check is successful.

       CU_BAD_SYNTAX
           Bad syntax of email address.

       CU_UNKNOWN_DOMAIN
           Mail domain mentioned in email address is unknown.

       CU_DNS_TIMEOUT
           Timeout has happen during DNS checks.

       CU_UNKNOWN_USER
           User is unknown on SMTP server.

       CU_SMTP_TIMEOUT
           Timeout has happen during SMTP checks.

       CU_SMTP_UNREACHABLE
           All SMTP servers for mail domain were found unreachable during SMTP checks.

       CU_MAILBOX_FULL
           Mailbox is temporarily full but probably a valid username.

</pre><h4><b>GLOBAL</b> <b>VARIABLES</b></h4><pre>
       It is possible to configure "check_email" using the global variables listed below.

       $Mail::CheckUser::Skip_Network_Checks
           If true then do only syntax checks.  By default it is false.

       $Mail::CheckUser::Skip_SMTP_Checks
           If it is true then do not try to connect to mail server to check if a user exists.  If this is  true,
           and  $Mail::CheckUser::Skip_Network_Checks  is  false,  only syntax and DNS checks are performed.  By
           default it is false.

       $Mail::CheckUser::Skip_SYN
           By default Net::Ping is used to determine remote reachability  of  SMTP  servers  before  doing  SMTP
           checks.  Setting this to true skips this check.  By default it is false.

       $Mail::CheckUser::Sender_Addr
           MAIL/RCPT  check needs an email address to use as the 'From' address when performing its checks.  The
           default value is "<a href="mailto:check@user.com">check@user.com</a>".

       $Mail::CheckUser::Helo_Domain
           Sender domain used in HELO SMTP command.  If undef Net::SMTP is allowed to use its default value.  By
           default it is undef.

       Mail::CheckUser::Timeout
           Timeout in seconds for network checks.  By default it is 60.

       $Mail::CheckUser::Treat_Timeout_As_Fail
           If it is true "Mail::CheckUser" treats checks that time out as failed.  By default it is false.

       $Mail::CheckUser::Treat_Full_As_Fail
           If it is true "Mail::CheckUser" treats error  "552  mailbox  full"  as  an  invalid  email  and  sets
           CU_MAILBOX_FULL.  By default it is false.

       $Mail::CheckUser::Treat_Grey_As_Fail
           If  it  is  true "Mail::CheckUser" treats all 400's errors as an invalid email and sets CU_TRY_AGAIN.
           By default it is false.

       $Mail::CheckUser::Net_DNS_Resolver
           Override with customized Net::DNS::Resolver object.  This is used to lookup MX and A records for  the
           email  domain  when network checks are enabled.  If undef, Net::DNS::Resolver-&gt;new will be used.  The
           default value is undef.

       $Mail::CheckUser::Debug
           If it is true then enable debug output on "STDERR".  By default it is false.

</pre><h4><b>AUTHORS</b></h4><pre>
       Ilya Martynov <b><a href="mailto:ilya@martynov.org">ilya@martynov.org</a></b>

       Rob Brown <b><a href="mailto:bbb@cpan.org">bbb@cpan.org</a></b>

       Module maintained at Source Forge ( <a href="http://sourceforge.net/projects/mail-checkuser/">http://sourceforge.net/projects/mail-checkuser/</a> ).

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 1999-2003 by Ilya Martynov.  All rights reserved.

       This program is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

       $Id: CheckUser.pm,v 1.46 2003/09/18 23:51:36 hookbot Exp $

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/perl.1.html">perl</a></b>(1).

perl v5.34.0                                       2022-06-15                                     <u><a href="../man3pm/CheckUser.3pm.html">CheckUser</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>