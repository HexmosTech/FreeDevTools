<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLMOPT_MAXCONNECTS - size of connection cache</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLMOPT_MAXCONNECTS - size of connection cache

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLMcode curl_multi_setopt(CURLM *handle, CURLMOPT_MAXCONNECTS, long max);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Pass  a  long  indicating  the  <b>max</b>, the maximum amount of connections that libcurl may keep alive in its
       connection cache after use. By default libcurl enlarges the size for each added easy handle  to  make  it
       fit 4 times the number of added easy handles.

       By setting this option, you prevent the cache size from growing beyond the limit set by you.

       When  the  cache is full, curl closes the oldest connection present in the cache to prevent the number of
       connections from increasing.

       This option is for the multi handle's use only, when using the easy interface you should instead use  the
       <u><a href="../man3/CURLOPT_MAXCONNECTS.3.html">CURLOPT_MAXCONNECTS</a>(3)</u> option.

       See <u><a href="../man3/CURLMOPT_MAX_TOTAL_CONNECTIONS.3.html">CURLMOPT_MAX_TOTAL_CONNECTIONS</a>(3)</u> for limiting the number of active connections.

       Changing  this value when there are transfers in progress is possible, and the new value is then used the
       next time checks are performed. Lowering the value does not close down any active  transfers,  it  simply
       does not allow new ones to get made.

</pre><h4><b>DEFAULT</b></h4><pre>
       See DESCRIPTION

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects all supported protocols

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURLM *m = curl_multi_init();
         /* only keep 10 connections in the cache */
         curl_multi_setopt(m, CURLMOPT_MAXCONNECTS, 10L);
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.16.3

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_multi_setopt.3.html">curl_multi_setopt</a>(3)</u> returns a CURLMcode indicating success or error.

       CURLM_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLMOPT_MAX_HOST_CONNECTIONS.3.html">CURLMOPT_MAX_HOST_CONNECTIONS</a></b>(3), <b><a href="../man3/CURLOPT_MAXCONNECTS.3.html">CURLOPT_MAXCONNECTS</a></b>(3)

libcurl                                            2025-06-16                            <u><a href="../man3/CURLMOPT_MAXCONNECTS.3.html">CURLMOPT_MAXCONNECTS</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>