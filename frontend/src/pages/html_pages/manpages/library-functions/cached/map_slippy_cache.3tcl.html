<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>map::slippy::cache - Management of a tile cache in the local filesystem</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       map::slippy::cache - Management of a tile cache in the local filesystem

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.6</b> <b>9</b>

       package require <b>Tk</b> <b>8.6</b>

       package require <b>map::slippy</b>

       package require <b>map::slippy::cache</b> <b>?0.5?</b>

       <b>::map::slippy::cache</b> <u>cacheName</u> <u>cachedir</u> <u>provider</u>

       <u>cacheName</u> <b>valid</b> <u>tile</u> ?<u>msgvar</u>?

       <u>cacheName</u> <b>exists</b> <u>tile</u>

       <u>cacheName</u> <b>get</b> <u>tile</u> <u>donecmd</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  package  provides  a  class  for  managing  a  cache  of  tiles  for slippy-based maps in the local
       filesystem.

       <u>BEWARE</u>, <u>Attention</u> Version <u>0.5</u> is <u>NOT</u> <u>backward</u> <u>compatible</u> with version 0.3 and earlier.  This  is  due  to
       switching this package's internals to the use of version 0.8 of <b>map::slippy</b>.

</pre><h4><b>API</b></h4><pre>
       <b>::map::slippy::cache</b> <u>cacheName</u> <u>cachedir</u> <u>provider</u>
              Creates  the  cache  <u>cacheName</u> and configures it with both the path to the directory contaiing the
              locally cached tiles (<u>cachedir</u>), and the command prefix from which it will pull  tiles  asked  for
              and not yet known to the cache itself (<u>provider</u>).

              The result of the command is <u>cacheName</u>.

   <b>METHODS</b>
       <u>cacheName</u> <b>valid</b> <u>tile</u> ?<u>msgvar</u>?
              This  method checks the validity of a the given <u>tile</u> identifier.  This is a convenience wrapper to
              <b>::map::slippy</b> <b>tile</b> <b>valid</b> and has the same interface.

       <u>cacheName</u> <b>exists</b> <u>tile</u>
              This methods tests whether the cache contains the specified <u>tile</u> or not. The result is  a  boolean
              value, <b>true</b> if the tile is known, and <b>false</b> otherwise. The tile is identified by a list containing
              three elements, zoom level, row, and column number, in this order.

       <u>cacheName</u> <b>get</b> <u>tile</u> <u>donecmd</u>
              This  is the main method of the cache, retrieving the image for the specified <u>tile</u> from the cache.
              The tile identifier is a list containing three elements, the zoom level, row, and column number of
              the tile, in this order.

              The command refix <u>donecmd</u> will be invoked when the cache either knows the image for  the  tile  or
              that no image will forthcoming.  It will be invoked with either 2 or 3 arguments, i.e.

              [1]    The string <b>set</b>, the <u>tile</u>, and the image.

              [2]    The string <b>unset</b>, and the <u>tile</u>.

              These  two possibilities are used to either signal the image for the <u>tile</u>, or that the <u>tile</u> has no
              image defined for it.

              When the cache has no information about the tile  it  will  invoke  the  <u>provider</u>  command  prefix
              specified  during  its  construction,  adding  three  arguments:  The  string <b>get</b>, the <u>tile</u>, and a
              callback into the cache. The latter will be invoked by the provider to either transfer  the  image
              to the cache, or signal that the tile has no image.

              When multiple requests for the same tile are made only one request will be issued to the provider.

</pre><h4><b>REFERENCES</b></h4><pre>
       [1]    <u><a href="http://wiki.openstreetmap.org/wiki/Main_Page">http://wiki.openstreetmap.org/wiki/Main_Page</a></u>

</pre><h4><b>KEYWORDS</b></h4><pre>
       cache, filesystem, location, map, slippy, tile, zoom

tcllib                                                 0.5                              <u>map::slippy::<a href="../man3tcl/cache.3tcl.html">cache</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>