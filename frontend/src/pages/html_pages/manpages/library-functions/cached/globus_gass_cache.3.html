<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>globus_gass_cache - Globus GASS Cache</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libglobus-gass-cache-doc">libglobus-gass-cache-doc_10.3-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       globus_gass_cache - Globus GASS Cache

        - Globus GASS Cache.

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Macros</b>
       #define <b>GLOBUS_GASS_CACHE_MODULE</b>   (&amp;globus_i_gass_cache_module)
           module_descriptor

   <b>Typedefs</b>
       typedef struct globus_i_gass_cache_t * <b>globus_gass_cache_t</b>
           GASS Cache Handle.

   <b>Functions</b>
       int <b>globus_gass_cache_open</b> (const char *cache_directory_path, <b>globus_gass_cache_t</b> *cache_handlep)
           Open a GASS Cache.
       int <b>globus_gass_cache_close</b> (<b>globus_gass_cache_t</b> *cache_handlep)
           Close a cache handle.
       int <b>globus_gass_cache_add</b> (<b>globus_gass_cache_t</b> cache_handle, const char *url, const char *tag,
           globus_bool_t create, unsigned long *timestamp, char **local_filename)
           Add a tag to an URL in the cache.
       int <b>globus_gass_cache_add_done</b> (<b>globus_gass_cache_t</b> cache_handle, const char *url, const char *tag,
           unsigned long timestamp)
           Complete adding a cache entry and unlock it.
       int <b>globus_gass_cache_query</b> (<b>globus_gass_cache_t</b> cache_handle, const char *url, const char *tag,
           globus_bool_t wait_for_lock, unsigned long *timestamp, char **local_filename, globus_bool_t
           *is_locked)
           Query the GASS Cache.
       int <b>globus_gass_cache_delete_start</b> (<b>globus_gass_cache_t</b> cache_handle, const char *url, const char *tag,
           unsigned long *timestamp)
           Remove a cache tag.
       int <b>globus_gass_cache_delete</b> (<b>globus_gass_cache_t</b> cache_handle, const char *url, const char *tag,
           unsigned long timestamp, globus_bool_t is_locked)
           Remove one instance of the tag from the cache entry's tag list.
       int <b>globus_gass_cache_cleanup_tag</b> (<b>globus_gass_cache_t</b> cache_handle, const char *url, const char *tag)
           Remove a tag from a cache entry.
       int <b>globus_gass_cache_cleanup_tag_all</b> (<b>globus_gass_cache_t</b> cache_handle, char *tag)
           Remove a tag from all cache entries

       Remove all instances of the tag from the cache entry's tag list. If there are no more tags in the tag
       list, then remove this cache entry and delete the associated local cache file. If the cache entry is
       locked with the same tag as is passed to this function, then the entry is unlocked after removing the
       tags. Otherwise, the cache entry's lock is left untouched. "
   int <b>globus_gass_cache_mangle_url</b> (const <b>globus_gass_cache_t</b> cache_handle, const char *url, char
       **mangled_url, int *length)
       Convert a URL to a string suitable as a file path.
   int <b>globus_gass_cache_mangle_tag</b> (const <b>globus_gass_cache_t</b> cache_handle, const char *tag, char
       **mangled_tag, int *length)
       Convert a tag to a string suitable as a file path.
   int <b>globus_gass_cache_get_cache_dir</b> (const <b>globus_gass_cache_t</b> cache_handle, char **cache_dir)
       Get the GASS Cache's root directory.
   int <b>globus_gass_cache_get_dirs</b> (const <b>globus_gass_cache_t</b> cache_handle, const char *url, const char *tag,
       char **global_root, char **local_root, char **tmp_root, char **log_root, char **global_dir, char
       **local_dir)
       Get the set of directories used by a GASS Cache.
   int <b>globus_gass_cache_get_cache_type_string</b> (const <b>globus_gass_cache_t</b> cache_handle, char **cache_type)
       Get the type of GASS Cache directory layout.
   const char * <b>globus_gass_cache_error_string</b> (int error_code)
       Look up the error string corresponding to a GASS Cache error.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Globus GASS Cache.

       The GASS cache management API is part of the Globus module called 'GASS', (Global Access to Secondary
       Storage) The GASS cache management API defines calls for manipulating a local file cache.

       Each cache entry can be locked during addition and deletion to allow for atomic handling of the cache
       file contents.

       Each cache entry also has an associated timestamp. This timestamp is independent of the local cache
       file's modification time. Rather, the cache entry timestamp is maintained by the user. It can, for
       example, be used to keep track of the timestamp of a remote file that is associated with the cache entry.

       Note: all timestamps are as seconds since the epoch. (01 Jan 1970, 00:00 GMT)

       The following functions are part of the API:

       • <b>globus_gass_cache_open()</b>

       • <b>globus_gass_cache_close()</b>

       • <b>globus_gass_cache_add()</b>

       • <b>globus_gass_cache_add_done()</b>

       • <b>globus_gass_cache_delete_start()</b>

       • <b>globus_gass_cache_delete()</b>

       • <b>globus_gass_cache_cleanup_tag()</b>

       • <b>globus_gass_cache_cleanup_tag_all()</b>

       • <b>globus_gass_cache_mangle_url()</b>

       • <b>globus_gass_cache_mangle_tag()</b>

       • <b>globus_gass_cache_get_dirs()</b>

       • <b>globus_gass_cache_get_cache_dir()</b>

</pre><h4><b>Typedef</b> <b>Documentation</b></h4><pre>
   <b>typedef</b> <b>struct</b> <b>globus_i_gass_cache_t*</b> <b>globus_gass_cache_t</b>
       GASS  Cache  Handle.  Data  structure  used to store information concerning an open cache directory. This
       structure MUST NOT be modified directly, but passed to the globus_gass_cache functions

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b>  <b>globus_gass_cache_add</b>  <b>(globus_gass_cache_t</b>  <b>cache_handle,</b>  <b>const</b>  <b>char</b>  <b>*</b>  <b>url,</b>  <b>const</b>  <b>char</b>   <b>*</b>   <b>tag,</b>
       <b>globus_bool_t</b> <b>create,</b> <b>unsigned</b> <b>long</b> <b>*</b> <b>timestamp,</b> <b>char</b> <b>**</b> <b>local_filename)</b> <b>[extern]</b>
       Add a tag to an URL in the cache. Create a new cache file or add a tag on it.

       If  the  URL  is  already  in the cache but is locked, then this call will block until the cache entry is
       unlocked, then will proceed with the subsequent operations.

       If the URL is already in the cache and unlocked, then add the tag to the cache entry's tag  list,  return
       the local cache filename in *local_filename, return the entry's current timestamp in *timestamp, lock the
       cache entry, and return GLOBUS_GASS_CACHE_ADD_EXISTS.

       If the URL is not in the cache, and create==GLOBUS_TRUE, then create a new unique empty local cache file,
       add it to the cache with the specified tag, return the filename in *local_filename, return *timestamp set
       to GLOBUS_GASS_CACHE_TIMESTAMP_UNKNOWN, lock the cache entry, and return GLOBUS_GASS_CACHE_ADD_NEW.

       If  the  URL  is  not in the cache, and create==GLOBUS_FALSE, then do not add it to the cache, and return
       GLOBUS_GASS_CACHE_URL_NOT_FOUND.

       If   this   function   returns   GLOBUS_GASS_CACHE_ADD_EXISTS    or    GLOBUS_GASS_CACHE_ADD_NEW,    then
       <b>globus_gass_cache_add_done()</b>  or  <b>globus_gass_cache_delete()</b>  must  be  subsequently called to unlock the
       cache entry.

       Subsequent calls to <b>globus_gass_cache_add()</b> and <b>globus_gass_cache_delete_start()</b> on the  same  cache  and
       url, made either from this process or another, will block until the cache entry is unlocked.

       If tag==NULL, then a tag with the value 'null' will be added to the cache entry's tag list.

       The  same  tag  can  be used multiple times, in which case this tag will be added to the entry's tag list
       multiple times.

       Note:  It  is  recommended  that  proglobus_grams  started  via  GLOBUS_GRAM  pass   a   tag   value   of
       getenv('GLOBUS_GRAM_JOB_CONTACT'),  since upon completion of a job GLOBUS_GRAM will automatically cleanup
       entries with this tag.

       <b>Note</b>
           the local_filename MUST be free by the user in a subsequent operation, using free()

       <b>Parameters</b>
           <u>cache_handle</u> Handle to the opened cache directory to use.
           <u>url</u> URL of the file to be cached. It is used as the main key to the cache entries.
           <u>tag</u> Tag specifying which job is/are using the cache. This is usually the GLOBUS_GRAM_JOB_CONTACT. Can
           be NULL or empty; the tag 'null' is then used. create - Tells if the cache entry should be created if
           it is not already existing.
           <u>create</u> Flag to create if it does not already exist.
           <u>timestamp</u>   Timestamp   of    the    cached    file,    set    by    globus_gass_cache_done(),    (or
           <b>globus_gass_cache_delete()</b> ).
           <u>local_filename</u>  Path  the  the  local file caching the file specified by 'url'. NULL if 'url' not yet
           cached and creation not requested (create false).

       <b>Returns</b>

           • GLOBUS_GASS_CACHE_URL_NOT_FOUND

           • GLOBUS_GASS_CACHE_ADD_NEW

           • GLOBUS_GASS_CACHE_ADD_EXISTS

           • or any of the defined gass error code.

   <b>int</b> <b>globus_gass_cache_add_done</b> <b>(globus_gass_cache_t</b> <b>cache_handle,</b>  <b>const</b>  <b>char</b>  <b>*</b>  <b>url,</b>  <b>const</b>  <b>char</b>  <b>*</b>  <b>tag,</b>
       <b>unsigned</b> <b>long</b> <b>timestamp)</b> <b>[extern]</b>
       Complete  adding  a  cache  entry  and  unlock  it.  <b>globus_gass_cache_add_done()</b>  MUST  be  called after
       <b>globus_gass_cache_add()</b>, to set the timestamp in the cache entry for the URL, and then unlock  the  cache
       entry.  (The  only  case  it  does  not  need  to  be  called  is if <b>globus_gass_cache_add()</b> has returned
       GLOBUS_GASS_CACHE_URL_NOT_FOUND, of course.

       <b>Parameters</b>
           <u>cache_handle</u> Handle to the opened cache directory to use.
           <u>url</u> URL of the cached file to set as 'done' (unlock)
           <u>tag</u> Tag specifying which job has locked the cache and must therefore be unlocked. It is an  error  to
           call this function with a tag which does not currently own the cache lock.
           <u>timestamp</u> Timestamp of the cached file.

       <b>Returns</b>
           <b>globus_gass_cache_add_done()</b> returns GLOBUS_SUCCESS or any of the defined GASS Cache error codes.

   <b>int</b>  <b>globus_gass_cache_cleanup_tag</b>  <b>(globus_gass_cache_t</b>  <b>cache_handle,</b>  <b>const</b>  <b>char</b> <b>*</b> <b>url,</b> <b>const</b> <b>char</b> <b>*</b> <b>tag)</b>
       <b>[extern]</b>
       Remove a tag from a cache entry. Remove all instances of the tag from the  cache  entry's  tag  list.  If
       there  are  no  more  tags  in the tag list, then remove this cache entry and delete the associated local
       cache file. If the cache entry is locked with the same tag as is passed to this function, then the  entry
       is unlocked after removing the tags. Otherwise, the cache entry's lock is left untouched.

       This function does not block on a locked reference.

       <b>Note</b>
           The   GLOBUS_GRAM   job   manager   will   automatically   call   this   function   with   a  tag  of
           getenv('GLOBUS_GRAM_JOB_CONTACT') upon completion of a job.

       <b>Parameters</b>
           <u>cache_handle</u> Handle to the opened cache directory to use.
           <u>url</u> URL of the file to be cached. It is used as the main key to the cache entries.
           <u>tag</u> Tag specifying which job is/are using the cache. This is usually the GLOBUS_GRAM_JOB_CONTACT. Can
           be NULL or empty; the tag 'null' is then used.

       <b>Returns</b>
           The <b>globus_gass_cache_cleanup_tag()</b> function returns GLOBUS_SUCCESS or any of the defined GASS  Cache
           error codes.

   <b>int</b> <b>globus_gass_cache_cleanup_tag_all</b> <b>(globus_gass_cache_t</b> <b>cache_handle,</b> <b>char</b> <b>*</b> <b>tag)</b> <b>[extern]</b>
       Remove a tag from all cache entries

       Remove  all  instances  of  the tag from the cache entry's tag list. If there are no more tags in the tag
       list, then remove this cache entry and delete the associated local cache file.  If  the  cache  entry  is
       locked  with  the  same  tag as is passed to this function, then the entry is unlocked after removing the
       tags. Otherwise, the cache entry's lock is left untouched. This function  does  not  block  on  a  locked
       reference.  This  function  differs  from <b>globus_gass_cache_cleanup_tag()</b> in that this cleans up <b>all</b> URLs
       related with this tag.

       <b>Note</b>
           The  GLOBUS_GRAM  job   manager   will   automatically   call   this   function   with   a   tag   of
           getenv('GLOBUS_GRAM_JOB_CONTACT') upon completion of a job.

       <b>Parameters</b>
           <u>cache_handle</u> Handle to the opened cache directory to use.
           <u>tag</u> Tag specifying which job is/are using the cache. This is usually the GLOBUS_GRAM_JOB_CONTACT. Can
           be NULL or empty; the tag 'null' is then used.

       <b>Returns</b>
           The  <b>globus_gass_cache_cleanup_tag_all()</b>  function  returns GLOBUS_SUCCESS or any of the defined GASS
           Cache error codes.

   <b>int</b> <b>globus_gass_cache_close</b> <b>(globus_gass_cache_t</b> <b>*</b> <b>cache_handlep)</b>
       Close a cache handle. Close (NOT delete) a previously opened cache:

       • close the opened files and

       • free the memory allocated for the cache_handle.

       • mark the handle as 'not initialized'.

       Parameters: cache_handle: Handle to the opened cache directory to use.

       cache_handle-&gt;is_init set to 'not initialized' and all the files  opened  bu  globus_gass_cache_open  are
       closed .

       Returns: GLOBUS_SUCCESS or error code: GLOBUS_GASS_CACHE_ERROR_CACHE_NOT_OPENED

   <b>int</b>  <b>globus_gass_cache_delete</b> <b>(globus_gass_cache_t</b> <b>cache_handle,</b> <b>const</b> <b>char</b> <b>*</b> <b>url,</b> <b>const</b> <b>char</b> <b>*</b> <b>tag,</b> <b>unsigned</b>
       <b>long</b> <b>timestamp,</b> <b>globus_bool_t</b> <b>is_locked)</b> <b>[extern]</b>
       Remove one instance of the tag from the cache entry's tag list. If there are no  more  tags  in  the  tag
       list, then remove this cache entry and delete the associated local cache file.

       Otherwise, update the timestamp to the passed value.

       This call will leave the cache entry unlocked.

       If   is_locked==GLOBUS_TRUE,   then   this   cache   entry   was   locked   during  a  previous  call  to
       <b>globus_gass_cache_add()</b> or <b>globus_gass_cache_delete_start()</b>. The cache  file  should  be  locked  by  the
       corresponding  url/tag,  or  an error is returned. If it is locked by the corresponding url/tag, then the
       normal operation occur, without blocking (remove one instance from  the  tag  update  the  timestamp  and
       unlock the cache).

       If  is_locked==GLOBUS_FALSE,  eventually wait the cache is not locked any more, and then proceed with the
       normal operations.(remove one instance from the tag list and update the timestamp).

       <b>Parameters</b>
           <u>cache_handle</u> Handle to the opened cache directory to use.
           <u>url</u> URL of the file to be cached. It is used as the main key to the cache entries.
           <u>tag</u> Tag specifying which job is/are using the cache. This is usually the GLOBUS_GRAM_JOB_CONTACT. Can
           be NULL or empty; the tag 'null' is then used.
           <u>timestamp</u> Timestamp of the cached file.
           <u>is_locked</u> Indicate if this cache entry was locked during a previous call  to  <b>globus_gass_cache_add()</b>
           or <b>globus_gass_cache_delete_start()</b>.

       <b>Returns</b>
           The <b>globus_gass_cache_delete()</b> function returns GLOBUS_SUCCESS or any of the defined GASS Cache error
           codes.

   <b>int</b>  <b>globus_gass_cache_delete_start</b>  <b>(globus_gass_cache_t</b>  <b>cache_handle,</b>  <b>const</b> <b>char</b> <b>*</b> <b>url,</b> <b>const</b> <b>char</b> <b>*</b> <b>tag,</b>
       <b>unsigned</b> <b>long</b> <b>*</b> <b>timestamp)</b> <b>[extern]</b>
       Remove a cache tag. Lock the cache entry for the URL, and return the cache entry's current  timestamp  in
       *timestamp. This function will block if the data file is already locked, until it is unlocked.

       <b>Parameters</b>
           <u>cache_handle</u> Handle to the opened cache directory to use.
           <u>url</u> URL of the cached file to set as 'done' (unlock)
           <u>tag</u>  Tag  specifying which job has locked the cache and must therefore be unlocked. It is an error to
           call this function with a tag which does not currently own the cache lock.
           <u>timestamp</u>   Timestamp   of    the    cached    file,    set    by    globus_gass_cache_done(),    (or
           <b>globus_gass_cache_delete()</b> ).

       <b>Returns</b>
           The <b>globus_gass_cache_delete_start()</b> function returns GLOBUS_SUCCESS or any of the defined GASS Cache
           error code.

   <b>const</b> <b>char</b> <b>*</b> <b>globus_gass_cache_error_string</b> <b>(int</b> <b>error_code)</b> <b>[extern]</b>
       Look  up  the  error string corresponding to a GASS Cache error. Return a pointer on an error description
       string.

       <b>Parameters</b>
           <u>error_code</u> error code returned by a previously called globus_gass_cache function.

       <b>Returns</b>
           The <b>globus_gass_cache_error_string()</b> function returns a pointer to  an  error  message,  or  NULL  if
           error_code is invalid.

   <b>int</b> <b>globus_gass_cache_get_cache_dir</b> <b>(const</b> <b>globus_gass_cache_t</b> <b>cache_handle,</b> <b>char</b> <b>**</b> <b>cache_dir)</b> <b>[extern]</b>
       Get  the  GASS Cache's root directory. Get a the root cache of directory. This is exported for use in the
       globus_gass_cache program.

       <b>Parameters</b>
           <u>cache_handle</u> Handle to the opened cache directory to use.
           <u>cache_dir</u> Pointer to the cache directory

       <b>Return</b> <b>values</b>
           <u>GLOBUS_SUCCESS</u> Success
           <u>GLOBUS_GASS_CACHE_ERROR_NO_MEMORY</u> No memory

   <b>int</b> <b>globus_gass_cache_get_cache_type_string</b> <b>(const</b>  <b>globus_gass_cache_t</b>  <b>cache_handle,</b>  <b>char</b>  <b>**</b>  <b>cache_type)</b>
       <b>[extern]</b>
       Get  the  type  of  GASS Cache directory layout. Get a string which describes the cache type ('normal' or
       'flat')

       <b>Parameters</b>
           <u>cache_handle</u> Handle to the opened cache directory to use.
           <u>cache_type</u> Pointer to the strdup()ed string

       <b>Return</b> <b>values</b>
           <u>GLOBUS_SUCCESS</u> Success
           <u>GLOBUS_GASS_CACHE_ERROR_NO_MEMORY</u> No memory

   <b>int</b> <b>globus_gass_cache_get_dirs</b> <b>(const</b> <b>globus_gass_cache_t</b> <b>cache_handle,</b> <b>const</b> <b>char</b> <b>*</b> <b>url,</b> <b>const</b> <b>char</b>  <b>*</b>  <b>tag,</b>
       <b>char</b>  <b>**</b> <b>global_root,</b> <b>char</b> <b>**</b> <b>local_root,</b> <b>char</b> <b>**</b> <b>tmp_root,</b> <b>char</b> <b>**</b> <b>log_root,</b> <b>char</b> <b>**</b> <b>global_dir,</b> <b>char</b> <b>**</b>
       <b>local_dir)</b> <b>[extern]</b>
       Get the set of directories used by a GASS Cache. Gets a bunch of directories. This is exported for use in
       the globus_gass_cache program.

       <b>Parameters</b>
           <u>cache_handle</u> Handle to the opened cache directory to use.
           <u>url</u> The incoming URL
           <u>tag</u> The incoming tag
           <u>local_root</u> Pointer to the 'local root' directory
           <u>global_root</u> Pointer to the 'global root' directory
           <u>tmp_root</u> Pointer to the 'tmp root' directory
           <u>log_root</u> Pointer to the root log directory
           <u>local_dir</u> Pointer to the related 'local' directory
           <u>global_dir</u> Pointer to the related 'global' directory

       <b>Return</b> <b>values</b>
           <u>GLOBUS_SUCCESS</u> Success
           <u>GLOBUS_GASS_CACHE_ERROR_NO_MEMORY</u> No memory

   <b>int</b>  <b>globus_gass_cache_mangle_tag</b>  <b>(const</b>  <b>globus_gass_cache_t</b>  <b>cache_handle,</b>  <b>const</b>  <b>char</b>  <b>*</b>  <b>tag,</b>  <b>char</b>  <b>**</b>
       <b>mangled_tag,</b> <b>int</b> <b>*</b> <b>length)</b> <b>[extern]</b>
       Convert  a tag to a string suitable as a file path. Mangles the given tag into a chunk suitable for using
       as a file / path name. This is exported for use in the globus_gass_cache program.

       <b>Parameters</b>
           <u>cache_handle</u> Handle to the opened cache directory to use.
           <u>tag</u> The incoming tag to mangle (NULL-terminated)
           <u>mangled_tag</u> Pointer to the output string; a  buffer  for  the  real  string  is  malloc()ed  for  the
           application.  If mangled is NULL, then no such buffer is allocated, and no mangled string is created.
           This can be useful to just get the length of the mangled string.
           <u>length</u> A pointer to the length of the resulting string. If NULL, this is not assigned to.

       <b>Return</b> <b>values</b>
           <u>GLOBUS_SUCCESS</u> Success
           <u>GLOBUS_GASS_CACHE_ERROR_NO_MEMORY</u> No memory

   <b>int</b>  <b>globus_gass_cache_mangle_url</b>  <b>(const</b>  <b>globus_gass_cache_t</b>  <b>cache_handle,</b>  <b>const</b>  <b>char</b>  <b>*</b>  <b>url,</b>  <b>char</b>  <b>**</b>
       <b>mangled_url,</b> <b>int</b> <b>*</b> <b>length)</b> <b>[extern]</b>
       Convert  a URL to a string suitable as a file path. Mangles the given URL into a chunk suitable for using
       as a file / path name. This is exported for use in the globus_gass_cache program.

       <b>Parameters</b>
           <u>cache_handle</u> Handle to the opened cache directory to use.
           <u>url</u> The incoming URL to mangle (NULL-terminated)
           <u>mangled_url</u> Pointer to the output string; a  buffer  for  the  real  string  is  malloc()ed  for  the
           application.  If mangled is NULL, then no such buffer is allocated, and no mangled string is created.
           This can be useful to just get the length of the mangled string.
           <u>length</u> A pointer to the length of the resulting string. If NULL, this is not assigned to.

       <b>Return</b> <b>values</b>
           <u>GLOBUS_SUCCESS</u> Success
           <u>GLOBUS_GASS_CACHE_ERROR_NO_MEMORY</u> No memory

   <b>int</b> <b>globus_gass_cache_open</b> <b>(const</b> <b>char</b> <b>*</b> <b>cache_directory_path,</b> <b>globus_gass_cache_t</b> <b>*</b> <b>cache_handlep)</b>
       Open a GASS Cache. Open the cache specified by the cache_directory_path  argument,  and  return  a  cache
       handle that can be used in subsequent cache calls.

       If  cache_directory_path  is  NULL,  then  use  the  value  contained  in  the  GLOBUS_GASS_CACHE_DEFAULT
       environment variable if it is defined, otherwise use <a href="file:~/.globus_gass_cache.">~/.globus_gass_cache.</a>

       The cache_directory_path must be a directory. If it is a file, this call will fail with  a  non-0  return
       value.

       If the specified directory does not exist, then this call will create the directory.

       <b>Parameters</b>
           <u>cache_directory_path</u> Path to the cache directory to open. Can be NULL (see above)
           <u>cache_handlep</u>  Structure  containning  all the necessary information to access the cache (file names,
           descriptor,...) (see globus_gass_gache.h) Some files are also opened: <b>globus_gass_cache_close()</b>  must
           be   called   subsequently   to   close   those   files.   This   parameter   is   modified   by  the
           <b>globus_gass_cache_open()</b>

       <b>Return</b> <b>values</b>
           <u>GLOBUS_SUCCESS</u> Success
           <u>GLOBUS_GASS_CACHE_ERROR_CACHE_ALREADY_OPENED</u> Handle already opened
           <u>GLOBUS_GASS_CACHE_ERROR_NAME_TOO_LONG</u> Path name too long
           <u>GLOBUS_GASS_CACHE_ERROR_NO_HOME</u> Can't find home directory for default cache path

   <b>int</b>  <b>globus_gass_cache_query</b>  <b>(globus_gass_cache_t</b>  <b>cache_handle,</b>  <b>const</b>  <b>char</b>  <b>*</b>  <b>url,</b>  <b>const</b>  <b>char</b>  <b>*</b>  <b>tag,</b>
       <b>globus_bool_t</b>  <b>wait_for_lock,</b>  <b>unsigned</b>  <b>long</b>  <b>*</b>  <b>timestamp,</b>  <b>char</b>  <b>**</b>  <b>local_filename,</b>  <b>globus_bool_t</b>  <b>*</b>
       <b>is_locked)</b> <b>[extern]</b>
       Query the GASS Cache. Query if an item is in the cache

       This call will block only if wait_for_lock is GLOBUS_TRUE

       <b>Parameters</b>
           <u>cache_handle</u> Handle to the opened cache directory to use.
           <u>url</u> URL of the file to query. It is used as the main key to the cache entries.
           <u>tag</u> Tag specifying which job is/are using the cache. This is usually the GLOBUS_GRAM_JOB_CONTACT. Can
           be NULL or empty; the tag 'null' is then used.
           <u>wait_for_lock</u> If GLOBUS_TRUE, wait for any lock  existing  lock  to  be  released.  If  GLOBUS_FALSE,
           doesn't wait for a lock to be released.
           <u>timestamp</u>    Timestamp    of    the    cached    file,    set    by   globus_gass_cache_done(),   (or
           <b>globus_gass_cache_delete()</b> ).
           <u>local_filename</u> Path the the local file caching the file specified by 'url'. NULL  if  'url'  not  yet
           cached and creation not requested (create false).
           <u>is_locked</u> GLOBUS_TRUE if the file is currently (at return time) locked.

       <b>Returns</b>
           The  <b>globus_gass_cache_query()</b>  function  returns GLOBUS_SUCCESS, GLOBUS_GASS_CACHE_URL_NOT_FOUND, or
           any of the defined gass error code.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for globus_gass_cache from the source code.

globus_gass_cache                                 Version 10.3                              <u><a href="../man3/globus_gass_cache.3.html">globus_gass_cache</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>