<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geo::Gpx - Create and parse GPX files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libgeo-gpx-perl">libgeo-gpx-perl_1.11-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Geo::Gpx - Create and parse GPX files

</pre><h4><b>SYNOPSIS</b></h4><pre>
           my ($gpx, $waypoints, $tracks);

           # From a filename, an open file, or an XML string:

           $gpx = Geo::Gpx-&gt;new( input =&gt; $fname );
           $gpx = Geo::Gpx-&gt;new( input =&gt; $fh    );
           $gpx = Geo::Gpx-&gt;new(   xml =&gt; $xml   );

           my $waypoints = $gpx-&gt;waypoints();
           my $tracks    = $gpx-&gt;tracks();

</pre><h4><b>DESCRIPTION</b></h4><pre>
       "Geo::Gpx" supports the parsing and generation of GPX data.

   <b>Constructor</b>
       new( input =&gt; ($fname | $fh) or xml =&gt; $xml [, work_dir =&gt; $working_directory ] )
           Create and return a new "Geo::Gpx" instance based on a *.gpx file (<u>$fname</u>), an open filehandle (<u>$fh</u>),
           or an XML string (<u>$xml</u>). GPX 1.0 and 1.1 are supported.

           The  optional  "work_dir" (or "wd" for short) specifies where to save any working files, such as with
           the <b>save()</b> method. It can be supplied as a relative path or as an absolute  path.  If  "work_dir"  is
           omitted,  it  is set based on the path of the <u>$fname</u> supplied or the current working directory if the
           constructor is called with an XML string or a filehandle (see set_wd() for more info).

       <b>clone()</b>
           Returns a deep copy of a "Geo::Gpx" instance.

             $clone = $self-&gt;clone;

   <b>Methods</b>
       waypoints( $int or name =&gt; $name )
           Without arguments, returns the array reference of waypoints.

           With an argument, returns a reference to the waypoint whose "name"  field  is  an  exact  match  with
           <u>$name</u>.  If  an  integer  is  specified  instead of the "name" key/value pair, returns the waypoint at
           position <u>$int</u> in the array reference (1-indexed with negative integers also counting from the end  of
           the array).

           Returns "undef" if no corresponding waypoints are found such that this method can be used to check if
           a specific point exists (i.e. no exception is raised if <u>$name</u> or <u>$int</u> do not exist) .

       waypoints_add( $point or \%point [, $point or \%point, … ] )
           Add  one  or  more waypoints. Each waypoint must be either a Geo::Gpx::Point or a hash reference with
           fields that can be parsed by Geo::Gpx::Point's new() constructor. See  the  later  for  the  possible
           fields.

             %point = ( lat =&gt; 54.786989, lon =&gt; -2.344214, ele =&gt; 512, name =&gt; 'My house' );
             $gpx-&gt;waypoints_add( \%point );

               or

             $pt = Geo::Gpx::Point-&gt;new( %point );
             $gpx-&gt;waypoints_add( $pt );

       waypoints_search( $field =&gt; $regex )
           returns  an  array of waypoints whose <u>$field</u> (e.g. "name", "desc", …) matches <u>$regex</u>. By default, the
           regex is case-sensitive; specify "qr/(?i:search_string_here)/" to ignore case.

       waypoints_clip( $name | $regex | LIST )
       way_clip( )
           Sends the coordinates of the waypoint(s) whose  name  is  either  $name  or  matches  $regex  to  the
           clipboard  (all  points  found  are  sent  to the clipboard) and returns an array of points found. By
           default, the regex is case-sensitive; specify "qr/(?i:...)/" to ignore case.

           Alternatively, an array of "Geo::GXP::Points" can be provided. way_clip() is a  short-hand  for  this
           method (convenient when used interactively in the debugger).

           This  method  is  only  supported  on unix-based systems that have the "xclip" utility installed (see
           DEPENDENCIES).

       <b>waypoints_delete_all()</b>
           delete all waypoints. Returns true.

       waypoint_delete( $name )
           delete the waypoint whose "name" field is an exact match for <u>$name</u> (case sensitively).  Returns  true
           if successful, "undef" if the name cannot be found.

       waypoint_rename( $name, $new_name )
           rename  the  waypoint whose "name" field is an exact match for <u>$name</u> (case sensitively) to <u>$new_name</u>.
           Returns the point's new name if successful, "undef" otherwise.

       waypoints_merge( $gpx, $regex )
           Merge waypoints with those contained in the Geo::Gpx instance  provide  as  argument.  Waypoints  are
           compared  based  on their respective "name" fields, which must exist in <u>$gpx</u> (if names are missing in
           the current instance, all points will be merged).

           A <u>$regex</u> may be provided to limit the merge to a subset of waypoints from <u>$gpx</u>.

           Returns the number of points successfully merged  (i.e.  the  difference  in  "$gps-&gt;waypoints_count"
           before and after the merge).

       waypoint_closest_to( $point or $tcx_trackpoint )
       trackpoint_closest_to( … )
       routepoint_closest_to( … )
       point_closest_to( … )
           From  any  Geo::Gpx::Point or Geo::TCX::Trackpoint object, return the Geo::Gpx::Point that is closest
           to it. If called in list context, returns a two-element array  consisting  of  that  point,  and  the
           distance from the coordinate (in meters).

       <b>waypoints_print()</b>
           print  the  list  of waypoints to screen, along with their names and descriptions if defined. Returns
           true.

       <b>waypoints_count()</b>
           returns the number of waypoints in the object.

       routes( integer or name =&gt; 'name' )
           Returns the array reference of routes when called  without  argument.  Optionally  accepts  a  single
           integer  referring  to  the  route  number  from  routes  aref (1-indexed with negative integers also
           counting from the end of the array) or a key value pair with the name of the route to be returned.

       routes_add( $route or $points_aref [, name =&gt; $route_name )
           Add a route to a "Geo::Gpx" object. The <u>$route</u> is expected to be an existing route (i.e. a hash ref).
           Returns true. A new route can also be created based an array reference(s) of Geo::Gpx::Point  objects
           and added to the "Geo::Gpx" instance.

           "name"  and all other meta fields supported by routes can be provided and will overwrite any existing
           fields in <u>$route</u>.

       <b>routes_delete_all()</b>
           delete all routes. Returns true.

       <b>routes_count()</b>
           returns the number of routes in the object.

       tracks( integer or name =&gt; 'name' )
           Returns the array reference of tracks when called  without  argument.  Optionally  accepts  a  single
           integer  referring  to  the  track number from the tracks aref (1-indexed with negative integers also
           counting from the end of the array) or a key value pair with the name of the track to be returned.

       tracks_add( $track or $points_aref [, $points_aref, … ] [, name =&gt; $track_name ] )
           Add a track to a "Geo::Gpx" object. The <u>$track</u> is expected to be an existing track (i.e. a hash ref).
           Returns true.

           If <u>$track</u> has no "name" field and none is provided, the timestamp of the first  point  of  the  track
           will  be  used  (this  is  experimental  and may change in the future). All other fields supported by
           tracks can be provided and will overwrite any existing fields in <u>$track</u>.

           A new track can also be created based an array reference(s) of Geo::Gpx::Point objects and  added  to
           the  "Geo::Gpx"  instance.  If  more  than  one array reference is supplied, the resulting track will
           contain as many segments as the number of aref's provided.

       <b>tracks_delete_all()</b>
           delete all tracks. Returns true.

       track_delete( $name )
           delete the track whose "name" field is an exact match for <u>$name</u> (case sensitively). Returns  true  if
           successful, "undef" if the name cannot be found.

       track_rename( $name, $new_name )
           rename  the  track  whose  "name"  field is an exact match for <u>$name</u> (case sensitively) to <u>$new_name</u>.
           Returns the track's new name if successful, "undef" otherwise.

           Alternatively, an integer may be specified as the first argument, referring to the track number  from
           tracks  aref (1-indexed). This is a convenience as it is quite common for tracks to be named with the
           timestamp fo the first point.

       <b>tracks_print()</b>
           print the list of tracks to screen, by their "name" field. Returns true.

       <b>tracks_count()</b>
           returns the number of tracks in the object.

       <b>iterate_waypoints()</b>
       <b>iterate_trackpoints()</b>
       <b>iterate_routepoints()</b>
           Get an iterator for all of the waypoints, trackpoints, or routepoints in a  "Geo::Gpx"  instance,  as
           per the iterator chosen.

       <b>iterate_points()</b>
           Get an iterator for all of the points in a "Geo::Gpx" instance, including waypoints, trackpoints, and
           routepoints.

               my $iter = $gpx-&gt;iterate_points();
               while ( my $pt = $iter-&gt;() ) {
                   print "Point: ", join( ', ', $pt-&gt;{lat}, $pt-&gt;{lon} ), "\n";
               }

       bounds( $iterator )
           Compute the bounding box of all the points in a "Geo::Gpx" returning the result as a hash reference.

             my $gpx = Geo::Gpx-&gt;new( xml =&gt; $some_xml );
             my $bounds = $gpx-&gt;bounds();

           returns a structure like this:

             $bounds = {
               minlat =&gt; 57.120939,
               minlon =&gt; -2.9839832,
               maxlat =&gt; 57.781729,
               maxlon =&gt; -1.230902
             };

           $iterator defaults to "$self-&gt;iterate_points" if not specified.

       xml( key/values )
           Generate and return an XML string representation of the instance.

           <u>key/values</u> are (all optional):

               "version":        specifies the GPX XML version scheme to use (defaults to 1.0).
               "unsafe_chars":    the  set of characters to be considered unsafe for the XML mark-up and encoded
           as an entity.

           If "version" is omitted, it defaults to the value of the "version" attribute. Parsing a GPX  document
           sets the version. If the "version" attribute is unset defaults to 1.0.

           "unsafe_chars"  can  be provided to specify which characters to consider unsafe in generating the XML
           mark-up. This field is then passed through  to  HTML::Entities  function  calls  whose  documentation
           describes that this field is "specified using the regular expression character class syntax (what you
           find within brackets in regular expressions)".

           As  of  version  <u>1.11</u>  of  "Geo::Gpx",  the  default  set  of  characters  are the '&lt;', '&amp;', '&gt;', '"'
           characters.  To  revert  to  the  pre-version  <u>1.11</u>  default,  which  is  equivalent   to   that   in
           &lt;"HTML::Entities",  explicitly specify "unsafe_chars =&gt; undef". This will encode as the latter module
           describes the "control chars, high-bit chars, and the '&lt;', '&amp;', '&gt;', "'", '"' characters".

       TO_JSON
           For compatibility with JSON modules. Convert this object to a hash with keys that correspond  to  the
           above methods. Generated ala:

               my %json = map { $_ =&gt; $self-&gt;$_ }
                   qw( name desc author keywords copyright
                       time link waypoints tracks routes version );
               $json{bounds} = $self-&gt;bounds( $iter );

           With one difference: the keys will only be set if they are defined.

       save( filename =&gt; $fname, key/values )
           Saves the "Geo::Gpx" instance as a file.

           The  filename  field  is optional unless the instance was created without a filename (i.e with an XML
           string or a filehandle) and set_filename() has not been called yet. If the  filename  is  a  relative
           path, the file will be saved in the instance's working directory (not the caller's, "Cwd").

           <u>key/values</u> are (all optional):

               "force":      overwrites existing files if true, otherwise it won't.
               "extensions": save "&lt;extensions&gt;…&lt;/extension&gt;" tags if true (defaults to false).
               "meta_time":  save the "&lt;time&gt;…&lt;/time&gt;" tag in the file's meta information tags if true (defaults
           to  false). Some applications like MapSource return an error if this tags is present. (All other time
           tags elsewhere are kept.)
               "unsafe_chars":   see the documentation for xml() above.

       set_filename( $filename )
           Sets/gets the filename. Returns the name of the file with the complete path.

       set_wd( $folder )
           Sets/gets the working directory for any eventual saving of the *.gpx file and checks the validity  of
           that path. It can be set as a relative path (i.e. relative to the actual Cwd) or as an absolute path,
           but is always returned as a full path.

           This  working  directory  is  always  defined.  The  previous one is also stored in memory, such that
           set_wd('-') switches back and forth between two directories. The module never actually "chdir"'s,  it
           just keeps track of where the user wishes to save files.

   <b>Accessors</b>
       name( $str )
       desc( $str )
       copyright( $str )
       keywords( $aref )
           Accessors  to  get  or  set  the  "name", "desc", "copyright", or "keywords" fields of the "Geo::Gpx"
           instance.

       author( $href )
           The author information is stored in a hash that reflects the structure of a GPX 1.1 document. To  set
           it, supply a hash reference as ("link" and "email" are optional):
             {
               link  =&gt; { text =&gt; 'Hexten', href =&gt; '<a href="http://hexten.net/">http://hexten.net/</a>' },
               email =&gt; { domain =&gt; 'hexten.net', id =&gt; 'andy' },
               name  =&gt; 'Andy Armstrong'
             },

       link( $href )
           The  link  is stored similarly to the author information, it can be set by supplying a hash reference
           as:
             { link  =&gt; { text =&gt; 'Hexten', href =&gt; '<a href="http://hexten.net/">http://hexten.net/</a>' } }

       time( $epoch )
           Accessor for the &lt;time&gt; element of a GPX. The time is converted to a  Unix  epoch  time  when  a  GPX
           document is parsed, therefore only epoch time is supported for setting.

       <b>version()</b>
           Returns the schema version of a GPX document. Versions 1.0 and 1.1 are supported.

</pre><h4><b>DEPENDENCIES</b></h4><pre>
       DateTime,    DateTime::Format::ISO8601,    Geo::Coordinates::Transform,    HTML::Entities,    Math::Trig,
       Scalar::Util, XML::Descent

       The waypoints_clip() method is only supported  on  unix-based  systems  that  have  the  "xclip"  utility
       installed.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       JSON

</pre><h4><b>BUGS</b> <b>AND</b> <b>LIMITATIONS</b></h4><pre>
       Prior  to version 1.11, xml() and save() encoded "unsafe characters" as per the default in HTML::Entities
       which resulted in erroneous codes for some multi-byte unicode characters. The current default is to  only
       encode  a  short list of characters -- see xml() above. This change is motivated by the now prevalent use
       of unicode as the default encoding in many applications that read XML markup and *.gpx files.

       Please report any bugs or feature requests on the github project page. Alternatively, you may submit them
       to "<a href="mailto:bug-geo-gpx@rt.cpan.org">bug-geo-gpx@rt.cpan.org</a>" or through the web interface at &lt;<a href="http://rt.cpan.org">http://rt.cpan.org</a>&gt;.

</pre><h4><b>AUTHOR</b></h4><pre>
       Originally by Rich Bowen "&lt;<a href="mailto:rbowen@rcbowen.com">rbowen@rcbowen.com</a>&gt;" and Andy Armstrong  "&lt;<a href="mailto:andy@hexten.net">andy@hexten.net</a>&gt;".

       This version by Patrick Joly "&lt;<a href="mailto:patjol@cpan.org">patjol@cpan.org</a>&gt;".

       Please visit the project page at: &lt;https://github.com/patjoly/geo-gpx&gt;.

</pre><h4><b>VERSION</b></h4><pre>
       1.11

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2004-2022, Andy Armstrong "&lt;<a href="mailto:andy@hexten.net">andy@hexten.net</a>&gt;", Patrick Joly "<a href="mailto:patjol@cpan.org">patjol@cpan.org</a>".  All  rights
       reserved.

       This  module  is  free  software;  you  can redistribute it and/or modify it under the same terms as Perl
       itself. See perlartistic.

</pre><h4><b>DISCLAIMER</b> <b>OF</b> <b>WARRANTY</b></h4><pre>
       BECAUSE THIS SOFTWARE IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY FOR THE SOFTWARE,  TO  THE  EXTENT
       PERMITTED  BY  APPLICABLE LAW. EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER
       PARTIES PROVIDE THE SOFTWARE "AS  IS"  WITHOUT  WARRANTY  OF  ANY  KIND,  EITHER  EXPRESSED  OR  IMPLIED,
       INCLUDING,  BUT  NOT  LIMITED  TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
       PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF  THE  SOFTWARE  IS  WITH  YOU.  SHOULD  THE
       SOFTWARE PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR, OR CORRECTION.

       IN  NO  EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR ANY
       OTHER PARTY WHO MAY MODIFY AND/OR REDISTRIBUTE THE SOFTWARE AS PERMITTED BY THE ABOVE LICENSE, BE  LIABLE
       TO  YOU  FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES ARISING OUT OF
       THE USE OR INABILITY TO USE THE SOFTWARE (INCLUDING BUT NOT  LIMITED  TO  LOSS  OF  DATA  OR  DATA  BEING
       RENDERED  INACCURATE  OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE SOFTWARE TO OPERATE
       WITH ANY OTHER SOFTWARE), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF  SUCH
       DAMAGES.

perl v5.38.2                                       2024-06-26                                      <u>Geo::<a href="../man3pm/Gpx.3pm.html">Gpx</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>