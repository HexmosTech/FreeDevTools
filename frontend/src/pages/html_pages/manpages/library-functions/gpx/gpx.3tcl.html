<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gpx - Extracts waypoints, tracks and routes from GPX files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gpx - Extracts waypoints, tracks and routes from GPX files

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.5</b> <b>9</b>

       package require <b>gpx</b> <b>?1.1?</b>

       <b>::gpx::Create</b> <u>gpxFilename</u> ?<u>rawXML</u>?

       <b>::gpx::Cleanup</b> <u>token</u>

       <b>::gpx::GetGPXMetadata</b> <u>token</u>

       <b>::gpx::GetWaypointCount</b> <u>token</u>

       <b>::gpx::GetAllWaypoints</b> <u>token</u>

       <b>::gpx::GetTrackCount</b> <u>token</u>

       <b>::gpx::GetTrackMetadata</b> <u>token</u> <u>whichTrack</u>

       <b>::gpx::GetTrackPoints</b> <u>token</u> <u>whichTrack</u>

       <b>::gpx::GetRouteCount</b> <u>token</u>

       <b>::gpx::GetRouteMetadata</b> <u>token</u> <u>whichRoute</u>

       <b>::gpx::GetRoutePoints</b> <u>token</u> <u>whichRoute</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  module  parses  and extracts waypoints, tracks, routes and metadata from a GPX (GPS eXchange) file.
       Both GPX version 1.0 and 1.1 are supported.

</pre><h4><b>COMMANDS</b></h4><pre>
       <b>::gpx::Create</b> <u>gpxFilename</u> ?<u>rawXML</u>?
              The <b>::gpx::Create</b> is the first command called to process GPX data. It  takes  the  GPX  data  from
              either  the  <u>rawXML</u>  parameter if present or from the contents of <u>gpxFilename</u>, and parses it using
              <u>tdom</u>. It returns a token value that is used by all the other commands.

       <b>::gpx::Cleanup</b> <u>token</u>
              This procedure cleans up resources associated with <u>token</u>.  It is  <u>strongly</u>  recommended  that  you
              call  this  function after you are done with a given GPX file.  Not doing so will result in memory
              not being freed, and if your app calls <b>::gpx::Create</b> enough times, the memory leak could  cause  a
              performance hit...or worse.

       <b>::gpx::GetGPXMetadata</b> <u>token</u>
              This  procedure  returns  a  dictionary of the metadata associated with the GPX data identified by
              <u>token</u>.  The format of the metadata dictionary is described below, but  keys  <u>version</u>  and  <u>creator</u>
              will always be present.

       <b>::gpx::GetWaypointCount</b> <u>token</u>
              This procedure returns the number of waypoints defined in the GPX data identified by <u>token</u>.

       <b>::gpx::GetAllWaypoints</b> <u>token</u>
              This  procedure  returns  the a list of waypoints defined in the GPX data identified by <u>token</u>. The
              format of each waypoint item is described below.

       <b>::gpx::GetTrackCount</b> <u>token</u>
              This procedure returns the number of tracks defined in the GPX data identified by <u>token</u>.

       <b>::gpx::GetTrackMetadata</b> <u>token</u> <u>whichTrack</u>
              This procedure returns a dictionary of the metadata associated track number <u>whichTrack</u>  (1  based)
              in the GPX data identified by <u>token</u>.  The format of the metadata dictionary is described below.

       <b>::gpx::GetTrackPoints</b> <u>token</u> <u>whichTrack</u>
              The  procedure  returns a list of track points comprising track number <u>whichTrack</u> (1 based) in the
              GPX data identified by <u>token</u>. The format of the metadata dictionary is described below.

       <b>::gpx::GetRouteCount</b> <u>token</u>
              This procedure returns the number of routes defined in the GPX data identified by <u>token</u>.

       <b>::gpx::GetRouteMetadata</b> <u>token</u> <u>whichRoute</u>
              This procedure returns a dictionary of the metadata associated route number <u>whichRoute</u>  (1  based)
              in the GPX data identified by <u>token</u>.  The format of the metadata dictionary is described below.

       <b>::gpx::GetRoutePoints</b> <u>token</u> <u>whichRoute</u>
              The  procedure  returns a list of route points comprising route number <u>whichRoute</u> (1 based) in the
              GPX data identified by <u>token</u>. The format of the metadata dictionary is described below.

</pre><h4><b>DATA</b> <b>STRUCTURES</b></h4><pre>
       metadata dictionary
              The metadata associated with either the GPX document, a track, a route, a waypoint, a track  point
              or  route point is returned in a dictionary. The keys of that dictionary will be whatever optional
              GPX elements are present. The value for each key depends on the GPX schema for that  element.  For
              example,  the  value  for  a  version  key  will  be a string, while for a link key will be a sub-
              dictionary with keys <u>href</u> and optionally <u>text</u> and <u>type</u>.

       point item
              Each item in a track or route list of points consists of  a  list  of  three  elements:  <u>latitude</u>,
              <u>longitude</u>  and  <u>metadata</u>  <u>dictionary</u>.  <u>Latitude</u>  and  <u>longitude</u>  are decimal numbers. The <u>metadata</u>
              <u>dictionary</u> format is described above. For points in a track, typically there will  always  be  ele
              (elevation) and time metadata keys.

</pre><h4><b>EXAMPLE</b></h4><pre>
              % set token [::gpx::Create myGpxFile.gpx]
              % set version [dict get [::gpx::GetGPXMetadata $token] version]
              % set trackCnt [::gpx::GetTrackCount $token]
              % set firstPoint [lindex [::gpx::GetTrackPoints $token 1] 0]
              % lassign $firstPoint lat lon ptMetadata
              % puts "first point in the first track is at $lat, $lon"
              % if {[dict exists $ptMetadata ele]} {
                   puts "at elevation [dict get $ptMetadata ele] meters"
                }
              % ::gpx::Cleanup $token

</pre><h4><b>REFERENCES</b></h4><pre>
       [1]    GPX: the GPS Exchange Format (<u><a href="http://www.topografix.com/gpx.asp">http://www.topografix.com/gpx.asp</a></u>)

       [2]    GPX 1.1 Schema Documentation (<u><a href="http://www.topografix.com/GPX/1/1/">http://www.topografix.com/GPX/1/1/</a></u>)

       [3]    GPX 1.0 Developer's Manual (<u><a href="http://www.topografix.com/gpx_manual.asp">http://www.topografix.com/gpx_manual.asp</a></u>)

</pre><h4><b>AUTHOR</b></h4><pre>
       Keith Vetter

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This  document,  and  the package it describes, will undoubtedly contain bugs and other problems.  Please
       report such in the category <u>gpx</u> of the <u>Tcllib</u>  <u>Trackers</u>  [<a href="http://core.tcl.tk/tcllib/reportlist">http://core.tcl.tk/tcllib/reportlist</a>].   Please
       also report any ideas for enhancements you may have for either package and/or documentation.

       When proposing code changes, please provide <u>unified</u> <u>diffs</u>, i.e the output of <b>diff</b> <b>-u</b>.

       Note  further  that  <u>attachments</u>  are strongly preferred over inlined patches. Attachments can be made by
       going to the <b>Edit</b> form of the ticket immediately after its creation, and then using the left-most  button
       in the secondary navigation bar.

</pre><h4><b>KEYWORDS</b></h4><pre>
       gps, gpx

</pre><h4><b>CATEGORY</b></h4><pre>
       File formats

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2010, Keith Vetter &lt;<a href="mailto:kvetter@gmail.com">kvetter@gmail.com</a>&gt;

tcllib                                                 1.1                                             <u><a href="../man3tcl/gpx.3tcl.html">gpx</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>