<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nntp - Tcl client for the NNTP protocol</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nntp - Tcl client for the NNTP protocol

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.5</b> <b>9</b>

       package require <b>nntp</b> <b>?0.2.3?</b>

       <b>::nntp::nntp</b> ?<u>host</u>? ?<u>port</u>? ?<u>nntpName</u>?

       <u>nntpName</u> <b>method</b> ?<u>arg</u> <u>arg</u> <u>...</u>?

       <u>nntpName</u> <b>article</b> ?<u>msgid</u>?

       <u>nntpName</u> <b>authinfo</b> ?<u>user</u>? ?<u>pass</u>?

       <u>nntpName</u> <b>body</b> ?<u>msgid</u>?

       <u>nntpName</u> <b>configure</b>

       <u>nntpName</u> <b>configure</b> <u>option</u>

       <u>nntpName</u> <b>configure</b> <u>option</u> <u>value</u> ...

       <u>nntpName</u> <b>cget</b> <u>option</u>

       <u>nntpName</u> <b>date</b>

       <u>nntpName</u> <b>group</b> ?<u>group</u>?

       <u>nntpName</u> <b>head</b> ?<u>msgid</u>?

       <u>nntpName</u> <b>help</b>

       <u>nntpName</u> <b>last</b>

       <u>nntpName</u> <b>list</b>

       <u>nntpName</u> <b>listgroup</b> ?<u>group</u>?

       <u>nntpName</u> <b>mode_reader</b>

       <u>nntpName</u> <b>newgroups</b> <u>since</u>

       <u>nntpName</u> <b>newnews</b>

       <u>nntpName</u> <b>newnews</b> <u>since</u>

       <u>nntpName</u> <b>newnews</b> <u>group</u> ?<u>since</u>?

       <u>nntpName</u> <b>next</b>

       <u>nntpName</u> <b>post</b> <u>article</u>

       <u>nntpName</u> <b>slave</b>

       <u>nntpName</u> <b>stat</b> ?<u>msgid</u>?

       <u>nntpName</u> <b>quit</b>

       <u>nntpName</u> <b>xgtitle</b> ?<u>group_pattern</u>?

       <u>nntpName</u> <b>xhdr</b> <u>field</u> ?<u>range</u>?

       <u>nntpName</u> <b>xover</b> ?<u>range</u>?

       <u>nntpName</u> <b>xpat</b> <u>field</u> <u>range</u> ?<u>pattern_list</u>?

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  package  <b>nntp</b>  provides a simple Tcl-only client library for the NNTP protocol.  It works by opening
       the standard NNTP socket on the server, and then  providing  a  Tcl  API  to  access  the  NNTP  protocol
       commands.   All server errors are returned as Tcl errors (thrown) which must be caught with the Tcl <b>catch</b>
       command.

</pre><h4><b>COMMANDS</b></h4><pre>
       <b>::nntp::nntp</b> ?<u>host</u>? ?<u>port</u>? ?<u>nntpName</u>?
              The command opens a socket connection to the specified NNTP server and creates a new  nntp  object
              with  an  associated global Tcl command whose name is <u>nntpName</u>. This command may be used to access
              the various NNTP protocol commands for the new connection. The default <u>port</u> number  is  "119"  and
              the  default  <u>host</u>  is  "news".  These  defaults  can be overridden with the environment variables
              <b>NNTPPORT</b> and <b>NNTPHOST</b> respectively.

              Some of the commands supported by this package are not part of the nntp rfc  977  (<u><a href="http://www.rfc">http://www.rfc</a>-</u>
              <u>editor.org/rfc/rfc977.txt</u>) and will not be available (or implemented) on all nntp servers.

              The access command <u>nntpName</u> has the following general form:

              <u>nntpName</u> <b>method</b> ?<u>arg</u> <u>arg</u> <u>...</u>?
                     <u>Option</u> and the <u>arg</u>s determine the exact behavior of the command.

       <u>nntpName</u> <b>article</b> ?<u>msgid</u>?
              Query the server for article <u>msgid</u> from the current group.  The article is returned as a valid tcl
              list  which  contains  the headers, followed by a blank line, and then followed by the body of the
              article. Each element in the list is one line of the article.

       <u>nntpName</u> <b>authinfo</b> ?<u>user</u>? ?<u>pass</u>?
              Send authentication information (username and password) to the server.

       <u>nntpName</u> <b>body</b> ?<u>msgid</u>?
              Query the server for the body of the article <u>msgid</u> from  the  current  group.   The  body  of  the
              article  is  returned as a valid tcl list. Each element in the list is one line of the body of the
              article.

       <u>nntpName</u> <b>configure</b>

       <u>nntpName</u> <b>configure</b> <u>option</u>

       <u>nntpName</u> <b>configure</b> <u>option</u> <u>value</u> ...

       <u>nntpName</u> <b>cget</b> <u>option</u>
              Query and configure options of the nntp connection object. Currently only one option is supported,
              <b>-binary</b>. When set articles are retrieved as binary data instead of text. The only methods affected
              by this are <b>article</b> and <b>body</b>.

              One application of this option would be the download of articles containing yEnc  encoded  images.
              Although  encoded  the  data  is  still  mostly  binary and retrieving it as text will corrupt the
              information.

              See package <b>yencode</b> for both encoder and decoder of such data.

       <u>nntpName</u> <b>date</b>
              Query the server for the servers current date.  The date is returned in the format <u>YYYYMMDDHHMMSS</u>.

       <u>nntpName</u> <b>group</b> ?<u>group</u>?
              Optionally set the current group, and retrieve information about  the  currently  selected  group.
              Returns  the estimated number of articles in the group followed by the number of the first article
              in the group, followed by the last article in the group, followed by the name of the group.

       <u>nntpName</u> <b>head</b> ?<u>msgid</u>?
              Query the server for the headers of the article <u>msgid</u> from the current group.  The headers of  the
              article  are  returned as a valid tcl list. Each element in the list is one line of the headers of
              the article.

       <u>nntpName</u> <b>help</b>
              Retrieves a list of the commands that are supported by the news server that is currently  attached
              to.

       <u>nntpName</u> <b>last</b>
              Sets  the  current  article pointer to point to the previous message (if there is one) and returns
              the msgid of that message.

       <u>nntpName</u> <b>list</b>
              Returns a tcl list of valid newsgroups and associated information.  Each newsgroup is returned  as
              an element in the tcl list with the following format:

                    group last first p

              where  &lt;group&gt;  is  the  name  of  the  newsgroup,  &lt;last&gt; is the number of the last known article
              currently in that newsgroup, &lt;first&gt;  is  the  number  of  the  first  article  currently  in  the
              newsgroup,  and  &lt;p&gt;  is either 'y' or 'n' indicating whether posting to this newsgroup is allowed
              ('y') or prohibited ('n').

              The &lt;first&gt; and &lt;last&gt; fields will always be numeric.  They may have leading zeros.  If the &lt;last&gt;
              field evaluates to less than the &lt;first&gt; field, there are no articles currently  on  file  in  the
              newsgroup.

       <u>nntpName</u> <b>listgroup</b> ?<u>group</u>?
              Query  the  server  for a list of all the messages (message numbers) in the group specified by the
              argument <u>group</u> or by the current group if the <u>group</u> argument was not passed.

       <u>nntpName</u> <b>mode_reader</b>
              Query the server for its nntp 'MODE READER' response string.

       <u>nntpName</u> <b>newgroups</b> <u>since</u>
              Query the server for a list of all the new newsgroups created since  the  time  specified  by  the
              argument  <u>since</u>.   The argument <u>since</u> can be any time string that is understood by <b>clock</b> <b>scan</b>. The
              tcl list of newsgroups is returned in a similar form  to  the  list  of  groups  returned  by  the
              <b>nntpName</b> <b>list</b> command.  Each element of the list has the form:

                    group last first p

              where  &lt;group&gt;  is  the  name  of  the  newsgroup,  &lt;last&gt; is the number of the last known article
              currently in that newsgroup, &lt;first&gt;  is  the  number  of  the  first  article  currently  in  the
              newsgroup,  and  &lt;p&gt;  is either 'y' or 'n' indicating whether posting to this newsgroup is allowed
              ('y') or prohibited ('n').

       <u>nntpName</u> <b>newnews</b>
              Query the server for a list of new articles posted to the current group in the last day.

       <u>nntpName</u> <b>newnews</b> <u>since</u>
              Query the server for a list of new articles posted to the current group since the  time  specified
              by  the  argument  <u>since</u>.   The  argument <u>since</u> can be any time string that is understood by <b>clock</b>
              <b>scan</b>.

       <u>nntpName</u> <b>newnews</b> <u>group</u> ?<u>since</u>?
              Query the server for a list of new articles posted to the group specified by  the  argument  <u>group</u>
              since the time specified by the argument <u>since</u> (or in the past day if no <u>since</u> argument is passed.
              The argument <u>since</u> can be any time string that is understood by <b>clock</b> <b>scan</b>.

       <u>nntpName</u> <b>next</b>
              Sets  the  current  article pointer to point to the next message (if there is one) and returns the
              msgid of that message.

       <u>nntpName</u> <b>post</b> <u>article</u>
              Posts an article of the form specified  in  RFC  1036  (<u><a href="http://www.rfc-editor.org/rfc/rfc1036.txt">http://www.rfc-editor.org/rfc/rfc1036.txt</a></u>,
              successor to RFC 850) to the current news group.

       <u>nntpName</u> <b>slave</b>
              Identifies  a  connection  as  being made from a slave nntp server. This might be used to indicate
              that the connection is serving multiple people and  should  be  given  priority.   Actual  use  is
              entirely implementation dependent and may vary from server to server.

       <u>nntpName</u> <b>stat</b> ?<u>msgid</u>?
              The  stat  command  is  similar  to  the  article  command  except that no text is returned.  When
              selecting by message number within a group, the stat command serves to  set  the  current  article
              pointer  without  sending  text. The returned acknowledgment response will contain the message-id,
              which may be of some value.  Using the stat command to  select  by  message-id  is  valid  but  of
              questionable value, since a selection by message-id does NOT alter the "current article pointer"

       <u>nntpName</u> <b>quit</b>
              Gracefully close the connection after sending a NNTP QUIT command down the socket.

       <u>nntpName</u> <b>xgtitle</b> ?<u>group_pattern</u>?
              Returns a tcl list where each element is of the form:

              newsgroup description

              If  a  <u>group_pattern</u> is specified then only newsgroups that match the pattern will have their name
              and description returned.

       <u>nntpName</u> <b>xhdr</b> <u>field</u> ?<u>range</u>?
              Returns the specified header field value for the current message or for a list  of  messages  from
              the  current group.  <u>field</u> is the title of a field in the header such as from, subject, date, etc.
              If <u>range</u> is not specified or is "" then the current message is queried.   The  command  returns  a
              list of elements where each element has the form of:

                  msgid value

              Where  msgid  is  the number of the message and value is the value set for the queried field.  The
              <u>range</u> argument can be in any of the following forms:

              <b>""</b>     The current message is queried.

              <u>msgid1</u>-<u>msgid2</u>
                     All messages between <u>msgid1</u> and <u>msgid2</u> (including <u>msgid1</u> and <u>msgid2</u>) are queried.

              <u>msgid1</u> <u>msgid2</u>
                     All messages between <u>msgid1</u> and <u>msgid2</u> (including <u>msgid1</u> and <u>msgid2</u>) are queried.

       <u>nntpName</u> <b>xover</b> ?<u>range</u>?
              Returns header information for the current message or for a range of  messages  from  the  current
              group.  The information is returned in a tcl list where each element is of the form:

                  msgid subject from date idstring bodysize headersize xref

              If <u>range</u> is not specified or is "" then the current message is queried.  The <u>range</u> argument can be
              in any of the following forms:

              <b>""</b>     The current message is queried.

              <u>msgid1</u>-<u>msgid2</u>
                     All messages between <u>msgid1</u> and <u>msgid2</u> (including <u>msgid1</u> and <u>msgid2</u>) are queried.

              <u>msgid1</u> <u>msgid2</u>
                     All messages between <u>msgid1</u> and <u>msgid2</u> (including <u>msgid1</u> and <u>msgid2</u>) are queried.

       <u>nntpName</u> <b>xpat</b> <u>field</u> <u>range</u> ?<u>pattern_list</u>?
              Returns  the  specified  header field value for a specified message or for a list of messages from
              the current group where the messages match the pattern(s) given in the pattern_list.  <u>field</u> is the
              title of a field in the header such as from, subject, date, etc.  The information is returned in a
              tcl list where each element is of the form:

                  msgid value

              Where msgid is the number of the message and value is the value set for the  queried  field.   The
              <u>range</u> argument can be in any of the following forms:

              <u>msgid</u>  The message specified by <u>msgid</u> is queried.

              <u>msgid1</u>-<u>msgid2</u>
                     All messages between <u>msgid1</u> and <u>msgid2</u> (including <u>msgid1</u> and <u>msgid2</u>) are queried.

              <u>msgid1</u> <u>msgid2</u>
                     All messages between <u>msgid1</u> and <u>msgid2</u> (including <u>msgid1</u> and <u>msgid2</u>) are queried.

</pre><h4><b>EXAMPLE</b></h4><pre>
       A bigger example for posting a single article.

                  package require nntp
                  set n [nntp::nntp NNTP_SERVER]
                  $n post "From: <a href="mailto:USER@DOMAIN.EXT">USER@DOMAIN.EXT</a> (USER_FULL)
                  Path: COMPUTERNAME!USERNAME
                  Newsgroups: alt.test
                  Subject: Tcl test post -ignore
                  Message-ID: &lt;[pid][clock seconds]
                  @COMPUTERNAME&gt;
                  Date: [clock format [clock seconds] -format "%a, %d %
                  b %y %H:%M:%S GMT" -gmt true]

                  Test message body"

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This  document,  and  the package it describes, will undoubtedly contain bugs and other problems.  Please
       report such in the category <u>nntp</u> of the <u>Tcllib</u> <u>Trackers</u>  [<a href="http://core.tcl.tk/tcllib/reportlist">http://core.tcl.tk/tcllib/reportlist</a>].   Please
       also report any ideas for enhancements you may have for either package and/or documentation.

       When proposing code changes, please provide <u>unified</u> <u>diffs</u>, i.e the output of <b>diff</b> <b>-u</b>.

       Note  further  that  <u>attachments</u>  are strongly preferred over inlined patches. Attachments can be made by
       going to the <b>Edit</b> form of the ticket immediately after its creation, and then using the left-most  button
       in the secondary navigation bar.

</pre><h4><b>KEYWORDS</b></h4><pre>
       news, nntp, nntpclient, rfc 1036, rfc 977

</pre><h4><b>CATEGORY</b></h4><pre>
       Networking

tcllib                                                0.2.3                                           <u><a href="../man3tcl/nntp.3tcl.html">nntp</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>