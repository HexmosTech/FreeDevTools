<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>clSetKernelArg - Used to set the argument value for a specific argument of a kernel.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/opencl-1.2-man-doc">opencl-1.2-man-doc_1.0~svn33624-5.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       clSetKernelArg - Used to set the argument value for a specific argument of a kernel.

       <b>cl_int</b> <b>clSetKernelArg(cl_kernel</b> <u>kernel</u><b>,</b> <b>cl_uint</b> <u>arg_index</u><b>,</b> <b>size_t</b> <u>arg_size</u><b>,</b> <b>const</b> <b>void</b> <b>*</b><u>arg_value</u><b>);</b>

</pre><h4><b>PARAMETERS</b></h4><pre>
       <u>kernel</u>
           A valid kernel object.

       <u>arg_index</u>
           The argument index. Arguments to the kernel are referred by indices that go from 0 for the leftmost
           argument to <u>n</u> - 1, where <u>n</u> is the total number of arguments declared by a kernel.

       <u>arg_value</u>
           A pointer to data that should be used as the argument value for argument specified by <u>arg_index</u>. The
           argument data pointed to by <u>arg_value</u> is copied and the <u>arg_value</u> pointer can therefore be reused by
           the application after <b>clSetKernelArg</b> returns. The argument value specified is the value used by all
           API calls that enqueue <u>kernel</u> (<b><a href="../man3clc/clEnqueueNDRangeKernel.3clc.html">clEnqueueNDRangeKernel</a></b>(3clc) and <b><a href="../man3clc/clEnqueueTask.3clc.html">clEnqueueTask</a></b>(3clc)) until the
           argument value is changed by a call to <b>clSetKernelArg</b> for <u>kernel</u>.

           If the argument is a memory object (buffer, image or image array), the <u>arg_value</u> entry will be a
           pointer to the appropriate buffer, image or image array object. The memory object must be created
           with the context associated with the kernel object. If the argument is a buffer object, the <u>arg_value</u>
           pointer can be NULL or point to a NULL value in which case a NULL value will be used as the value for
           the argument declared as a pointer to <b><a href="../man3clc/global.3clc.html">global</a></b>(3clc) or <b><a href="../man3clc/constant.3clc.html">constant</a></b>(3clc) memory in the kernel. If the
           argument is declared with the <b><a href="../man3clc/local.3clc.html">local</a></b>(3clc) qualifier, the <u>arg_value</u> entry must be NULL. If the
           argument is of type sampler_t, the <u>arg_value</u> entry must be a pointer to the sampler object.

           If the argument is declared to be a pointer of a built-in scalar or vector type, or a user defined
           structure type in the global or constant address space, the memory object specified as argument value
           must be a buffer object (or NULL). If the argument is declared with the <b><a href="../man3clc/constant.3clc.html">constant</a></b>(3clc) qualifier, the
           size in bytes of the memory object cannot exceed <b>CL_DEVICE_MAX_CONSTANT_BUFFER_SIZE</b> and the number of
           arguments declared as pointers to <b><a href="../man3clc/constant.3clc.html">constant</a></b>(3clc) memory cannot exceed <b>CL_DEVICE_MAX_CONSTANT_ARGS</b>.

           The memory object specified as argument value must be a 2D image object if the argument is declared
           to be of type image2d_t. The memory object specified as argument value must be a 3D image object if
           argument is declared to be of type image3d_t. The memory object specified as argument value must be a
           1D image object if the argument is declared to be of type image1d_t. The memory object specified as
           argument value must be a 1D image buffer object if the argument is declared to be of type
           image1d_buffer_t. The memory object specified as argument value must be a 1D image array object if
           argument is declared to be of type image1d_array_t. The memory object specified as argument value
           must be a 2D image array object if argument is declared to be of type image2d_array_t.

           For all other kernel arguments, the <u>arg_value</u> entry must be a pointer to the actual data to be used
           as argument value.

        <u>arg_size</u>
           Specifies the size of the argument value. If the argument is a memory object, the size is the size of
           the buffer or image object type. For arguments declared with the <b><a href="../man3clc/local.3clc.html">local</a></b>(3clc) qualifier, the size
           specified will be the size in bytes of the buffer that must be allocated for the <b><a href="../man3clc/local.3clc.html">local</a></b>(3clc)
           argument. If the argument is of type <b>sampler_t</b>, the <u>arg_size</u> value must be equal to
           sizeof(cl_sampler). For all other arguments, the size will be the size of argument type.

</pre><h4><b>NOTES</b></h4><pre>
       A kernel object does not update the reference count for objects such as memory, sampler objects specified
       as argument values by <b>clSetKernelArg</b>. Users may not rely on a kernel object to retain objects specified
       as argument values to the kernel.

       Implementations shall not allow cl_kernel objects to hold reference counts to cl_kernel arguments,
       because no mechanism is provided for the user to tell the kernel to release that ownership right. If the
       kernel holds ownership rights on kernel args, that would make it impossible for the user to tell with
       certainty when he may safely release user allocated resources associated with OpenCL objects such as the
       cl_mem backing store used with <b>CL_MEM_USE_HOST_PTR</b>.

       An OpenCL API call is considered to be <u>thread-safe</u> if the internal state as managed by OpenCL remains
       consistent when called simultaneously by multiple <u>host</u> threads. OpenCL API calls that are <u>thread-safe</u>
       allow an application to call these functions in multiple <u>host</u> threads without having to implement mutual
       exclusion across these <u>host</u> threads i.e. they are also re-entrant-safe.

       All OpenCL API calls are thread-safe except <b>clSetKernelArg</b>.  <b>clSetKernelArg</b> is safe to call from any host
       thread, and is safe to call re-entrantly so long as concurrent calls operate on different cl_kernel
       objects. However, the behavior of the cl_kernel object is undefined if <b>clSetKernelArg</b> is called from
       multiple host threads on the same cl_kernel object at the same time. Please note that there are
       additional limitations as to which OpenCL APIs may be called from OpenCL callback functions -- please see
       section 5.9.

       There is an inherent race condition in the design of OpenCL that occurs between setting a kernel argument
       and using the kernel with <b><a href="../man3clc/clEnqueueNDRangeKernel.3clc.html">clEnqueueNDRangeKernel</a></b>(3clc) or <b><a href="../man3clc/clEnqueueTask.3clc.html">clEnqueueTask</a></b>(3clc). Another host thread might
       change the kernel arguments between when a host thread sets the kernel arguments and then enqueues the
       kernel, causing the wrong kernel arguments to be enqueued. Rather than attempt to share cl_kernel objects
       among multiple host threads, applications are strongly encouraged to make additional cl_kernel objects
       for kernel functions for each host thread.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>clSetKernelArg</b> returns CL_SUCCESS if the function is executed successfully. Otherwise, it returns one of
       the following errors:

       •   CL_INVALID_KERNEL if <u>kernel</u> is not a valid kernel object.

       •   CL_INVALID_ARG_INDEX if <u>arg_index</u> is not a valid argument index.

       •   CL_INVALID_ARG_VALUE if <u>arg_value</u> specified is not a valid value.

       •   CL_INVALID_MEM_OBJECT for an argument declared to be a memory object when the specified <u>arg_value</u> is
           not a valid memory object.

       •   CL_INVALID_SAMPLER for an argument declared to be of type <u>sampler_t</u> when the specified <u>arg_value</u> is
           not a valid sampler object.

       •   CL_INVALID_ARG_SIZE if <u>arg_size</u> does not match the size of the data type for an argument that is not
           a memory object or if the argument is a memory object and <u>arg_size</u> != <b>sizeof(cl_mem)</b> or if <u>arg_size</u>
           is zero and the argument is declared with the <b><a href="../man3clc/local.3clc.html">local</a></b>(3clc) qualifier or if the argument is a sampler
           and <u>arg_size</u> != <b>sizeof(cl_sampler)</b>.

       •   CL_INVALID_ARG_VALUE if the argument is an image declared with the <b>read_only</b> qualifier and <u>arg_value</u>
           refers to an image object created with <u>cl_mem_flags</u> of <b>CL_MEM_WRITE</b> or if the image argument is
           declared with the <b>write_only</b> qualifier and <u>arg_value</u> refers to an image object created with
           <u>cl_mem_flags</u> of <b>CL_MEM_READ</b>.

       •   CL_OUT_OF_RESOURCES if there is a failure to allocate resources required by the OpenCL implementation
           on the device.

       •   CL_OUT_OF_HOST_MEMORY if there is a failure to allocate resources required by the OpenCL
           implementation on the host.

   <b>Example</b>
       kernel void image_filter (int n, int m, __constant float
       *filter_weights, __read_only image2d_t src_image,
       __write_only image2d_t dst_image) { ...  }

       Argument index values for <b>image_filter</b> will be 0 for <b>n</b>, 1 for <b>m</b>, 2 for <b>filter_weights</b>, 3 for <b>src_image</b>
       and 4 for <b>dst_image</b>.

</pre><h4><b>SPECIFICATION</b></h4><pre>
       <b>OpenCL</b> <b>Specification</b>[1]

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3clc/clCreateKernel.3clc.html">clCreateKernel</a></b>(3clc), <b><a href="../man3clc/clCreateKernelsInProgram.3clc.html">clCreateKernelsInProgram</a></b>(3clc), <b><a href="../man3clc/clReleaseKernel.3clc.html">clReleaseKernel</a></b>(3clc), <b><a href="../man3clc/clRetainKernel.3clc.html">clRetainKernel</a></b>(3clc),
       <b><a href="../man3clc/clGetKernelInfo.3clc.html">clGetKernelInfo</a></b>(3clc), <b><a href="../man3clc/clGetKernelWorkGroupInfo.3clc.html">clGetKernelWorkGroupInfo</a></b>(3clc)

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>The</b> <b>Khronos</b> <b>Group</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright © 2007-2011 The Khronos Group Inc.
       Permission is hereby granted, free of charge, to any person obtaining a copy of this software and/or
       associated documentation files (the "Materials"), to deal in the Materials without restriction, including
       without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
       copies of the Materials, and to permit persons to whom the Materials are furnished to do so, subject to
       the condition that this copyright notice and permission notice shall be included in all copies or
       substantial portions of the Materials.

</pre><h4><b>NOTES</b></h4><pre>
        1. OpenCL Specification
           page 160, section 5.7.2 - Setting Kernel Arguments

The Khronos Group                                  11/18/2024                               <u><a href="../man3clc/CLSETKERNELARG.3clc.html">CLSETKERNELARG</a></u>(3clc)
</pre>
 </div>
</div></section>
</div>
</body>
</html>