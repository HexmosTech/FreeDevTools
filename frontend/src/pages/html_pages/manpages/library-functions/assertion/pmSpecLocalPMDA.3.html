<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmSpecLocalPMDA - process command-line argument for the table of DSO PMDAs</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpcp3-dev">libpcp3-dev_6.3.8-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmSpecLocalPMDA</b> - process command-line argument for the table of DSO PMDAs

</pre><h4><b>C</b> <b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>"pmapi.h"</b>
       <b>#include</b> <b>"libpcp.h"</b>

       <b>char</b> <b>*pmSpecLocalPMDA(const</b> <b>char</b> <b>*</b><u>spec</u><b>);</b>

       <b>cc</b> <b>...</b> <b>-lpcp</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       For  Performance  Co-Pilot (PCP) applications, contexts of type <b>PM_CONTEXT_LOCAL</b> are used by clients that
       wish to fetch metrics directly from one or more PMDAs on the local host without involving <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1).

       <b>pmSpecLocalPMDA</b> provides a convenience wrapper to be used by applications that wish to use a command line
       argument (usually with <b>-K</b>) to control the DSO PMDAs that are available for a <b>PM_CONTEXT_LOCAL</b> context.

       The <u>spec</u> argument specifies actions for one or more DSO PMDAs using up to four fields separated by commas
       (``,''), namely:
       -      an opcode with one of the values <b>add</b> (add a new entry), <b>del</b> (delete an existing  entry)  or  <b>clear</b>
              (clear all entries from the table).
       -      the PMDA's domain number
       -      the  path to the PMDA DSO (may be absolute or relative to the $PCP_VAR_DIR/pmdas directory and the
              DSO suffix is optional), and
       -      the name of the PMDA's initialization routine.

       All fields are required to add a new entry.  To delete an entry the opcode is  required  plus  either  or
       both of the domain number and path fields.  To clear all entries, only the opcode is required.

       If <u>spec</u> is parsed successfully, then the DSO table is updated with the extracted fields.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, <b>pmSpecLocalPMDA</b> will return NULL.

       On error or failure, <b>pmSpecLocalPMDA</b> will return a pointer to a static error message.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Some examples of valid <u>spec</u> strings:

       clear  Delete all entries from the DSO table.

       add,123,foo/foo_pmda,foo_init
              Add  the  ``foo''  PMDA  using  domain  123.  The PMDA's DSO is most likely in below the directory
              <b>$PCP_PMDAS_DIR</b> and named <u>foo/foo_pmda.so</u> (for ELF-style platforms) or <u>foo/foo_pmda.dylib</u> (for BSD-
              style platforms) or <u>foo\foo_pmda.dll</u> (for Windows-style platforms).   The  initialization  routine
              for the ``foo'' PMDA is <u>foo_init</u>().

       del,123
              Delete the entry for the DSO with domain 123.

       del,,foo/foo_pmda
              Delete the entry with a pathname to the DSO that matches <u>foo/foo_pmda</u>.

       del,123,foo/foo_pmda
              Delete  the  entry  for  the  DSO with either domain 123 and/or a pathname to the DSO that matches
              <u>foo/foo_pmda</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1), <b><a href="../man3/PMAPI.3.html">PMAPI</a></b>(3) and <b><a href="../man3/pmNewContext.3.html">pmNewContext</a></b>(3).

Performance Co-Pilot                                                                          <u><a href="../man3/PMSPECLOCALPMDA.3.html">PMSPECLOCALPMDA</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>