<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>oo::class - class of all classes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl9.0-doc">tcl9.0-doc_9.0.1+dfsg-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       oo::class - class of all classes

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require tcl::oo

       <b>oo::class</b> <u>method</u> ?<u>arg</u> <u>...</u>?

</pre><h4><b>CLASS</b> <b>HIERARCHY</b></h4><pre>
       <b>oo::object</b>
          → <b>oo::class</b>
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Classes  are  objects  that  can  manufacture  other objects according to a pattern stored in the factory
       object (the class). An instance of the class is created by calling one of the  class's  factory  methods,
       typically  either  <b>create</b> if an explicit name is being given, or <b>new</b> if an arbitrary unique name is to be
       automatically selected.

       The <b>oo::class</b> class is the class of all classes; every class is an  instance  of  this  class,  which  is
       consequently  an  instance  of  itself. This class is a subclass of <b>oo::object</b>, so every class is also an
       object.  Additional metaclasses (i.e., classes of classes) can be defined  if  necessary  by  subclassing
       <b>oo::class</b>. Note that the <b>oo::class</b> object hides the <b>new</b> method on itself, so new classes should always be
       made using the <b>create</b> method.

   <b>CONSTRUCTOR</b>
       The  constructor  of  the  <b>oo::class</b>  class  takes an optional argument which, if present, is sent to the
       <b>oo::define</b> command (along with the name of the newly-created class) to allow the class to be conveniently
       configured at creation time.

   <b>DESTRUCTOR</b>
       The <b>oo::class</b> class does not define an explicit destructor. However, when a class is destroyed,  all  its
       subclasses and instances are also destroyed, along with all objects that it has been mixed into.

   <b>EXPORTED</b> <b>METHODS</b>
       <u>cls</u> <b>create</b> <u>name</u> ?<u>arg</u> <u>...</u>?
              This  creates  a  new  instance of the class <u>cls</u> called <u>name</u> (which is resolved within the calling
              context's namespace if not fully qualified), passing the arguments, <u>arg</u> <u>...</u>, to  the  constructor,
              and (if that returns a successful result) returning the fully qualified name of the created object
              (the  result  of  the  constructor  is  ignored). If the constructor fails (i.e.  returns a non-OK
              result) then the object is destroyed and the error message is the result of this method call.

       <u>cls</u> <b>new</b> ?<u>arg</u> <u>...</u>?
              This creates a new instance of the class <u>cls</u> with a new unique name, passing  the  arguments,  <u>arg</u>
              <u>...</u>,  to  the constructor, and (if that returns a successful result) returning the fully qualified
              name of the created object (the result of the constructor is ignored). If  the  constructor  fails
              (i.e.,  returns  a non-OK result) then the object is destroyed and the error message is the result
              of this method call.

              Note that this method is not exported by the <b>oo::class</b> object itself, so  classes  should  not  be
              created using this method.

   <b>NON-EXPORTED</b> <b>METHODS</b>
       The <b>oo::class</b> class supports the following non-exported methods:

       <u>cls</u> <b>createWithNamespace</b> <u>name</u> <u>nsName</u> ?<u>arg</u> <u>...</u>?
              This  creates  a  new  instance of the class <u>cls</u> called <u>name</u> (which is resolved within the calling
              context's namespace if not fully qualified), passing the arguments, <u>arg</u> <u>...</u>, to  the  constructor,
              and (if that returns a successful result) returning the fully qualified name of the created object
              (the  result of the constructor is ignored). The name of the instance's internal namespace will be
              <u>nsName</u>; it is an error if that namespace cannot be  created.   If  the  constructor  fails  (i.e., 2
              returns  a non-OK result) then the object is destroyed and the error message is the result of this
              method call.

</pre><h4><b>EXAMPLES</b></h4><pre>
       This example defines a simple class hierarchy and creates a new instance of it. It then invokes a  method
       of the object before destroying the hierarchy and showing that the destruction is transitive.

              <b>oo::class</b> <b>create</b> fruit {
                  method eat {} {
                      puts "yummy!"
                  }
              }
              <b>oo::class</b> <b>create</b> banana {
                  superclass fruit
                  constructor {} {
                      my variable peeled
                      set peeled 0
                  }
                  method peel {} {
                      my variable peeled
                      set peeled 1
                      puts "skin now off"
                  }
                  method edible? {} {
                      my variable peeled
                      return $peeled
                  }
                  method eat {} {
                      if {![my edible?]} {
                          my peel
                      }
                      next
                  }
              }
              set b [banana <b>new</b>]
              $b eat               <u>→</u> <u>prints</u> <u>"skin</u> <u>now</u> <u>off"</u> <u>and</u> <u>"yummy!"</u>
              fruit destroy
              $b eat               <u>→</u> <u>error</u> <u>"unknown</u> <u>command"</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       oo::<a href="../man3tcl/define.3tcl.html">define</a>(3tcl), oo::<a href="../man3tcl/object.3tcl.html">object</a>(3tcl)

</pre><h4><b>KEYWORDS</b></h4><pre>
       class, metaclass, object

TclOO                                                  0.1                                           <u><a href="../man3tcl/class.3tcl.html">class</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>