<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DBIx::Class::Storage::DBI::Oracle::Generic - Oracle Support for DBIx::Class</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdbix-class-perl">libdbix-class-perl_0.082844-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       DBIx::Class::Storage::DBI::Oracle::Generic - Oracle Support for DBIx::Class

</pre><h4><b>SYNOPSIS</b></h4><pre>
         # In your result (table) classes
         use base 'DBIx::Class::Core';
         __PACKAGE__-&gt;add_columns({ id =&gt; { sequence =&gt; 'mysequence', auto_nextval =&gt; 1 } });
         __PACKAGE__-&gt;set_primary_key('id');

         # Somewhere in your Code
         # add some data to a table with a hierarchical relationship
         $schema-&gt;resultset('Person')-&gt;create ({
               firstname =&gt; 'foo',
               lastname =&gt; 'bar',
               children =&gt; [
                   {
                       firstname =&gt; 'child1',
                       lastname =&gt; 'bar',
                       children =&gt; [
                           {
                               firstname =&gt; 'grandchild',
                               lastname =&gt; 'bar',
                           }
                       ],
                   },
                   {
                       firstname =&gt; 'child2',
                       lastname =&gt; 'bar',
                   },
               ],
           });

         # select from the hierarchical relationship
         my $rs = $schema-&gt;resultset('Person')-&gt;search({},
           {
             'start_with' =&gt; { 'firstname' =&gt; 'foo', 'lastname' =&gt; 'bar' },
             'connect_by' =&gt; { 'parentid' =&gt; { '-prior' =&gt; { -ident =&gt; 'personid' } },
             'order_siblings_by' =&gt; { -asc =&gt; 'name' },
           };
         );

         # this will select the whole tree starting from person "foo bar", creating
         # following query:
         # SELECT
         #     me.persionid me.firstname, me.lastname, me.parentid
         # FROM
         #     person me
         # START WITH
         #     firstname = 'foo' and lastname = 'bar'
         # CONNECT BY
         #     parentid = prior personid
         # ORDER SIBLINGS BY
         #     firstname ASC

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class implements base Oracle support. The subclass DBIx::Class::Storage::DBI::Oracle::WhereJoins is
       for "(+)" joins in Oracle versions before 9.0.

</pre><h4><b>METHODS</b></h4><pre>
   <b>get_autoinc_seq</b>
       Returns the sequence name for an autoincrement column

   <b>datetime_parser_type</b>
       This sets the proper DateTime::Format module for use with DBIx::Class::InflateColumn::DateTime.

   <b>connect_call_datetime_setup</b>
       Used as:

           on_connect_call =&gt; 'datetime_setup'

       In connect_info to set the session nls date, and timestamp values for use with
       DBIx::Class::InflateColumn::DateTime and the necessary environment variables for
       DateTime::Format::Oracle, which is used by it.

       Maximum allowable precision is used, unless the environment variables have already been set.

       These are the defaults used:

         $ENV{NLS_DATE_FORMAT}         ||= 'YYYY-MM-DD HH24:MI:SS';
         $ENV{NLS_TIMESTAMP_FORMAT}    ||= 'YYYY-MM-DD HH24:MI:SS.FF';
         $ENV{NLS_TIMESTAMP_TZ_FORMAT} ||= 'YYYY-MM-DD HH24:MI:SS.FF TZHTZM';

       To get more than second precision with DBIx::Class::InflateColumn::DateTime for your timestamps, use
       something like this:

         use Time::HiRes 'time';
         my $ts = DateTime-&gt;from_epoch(epoch =&gt; time);

   <b>relname_to_table_alias</b>
       DBIx::Class uses DBIx::Class::Relationship names as table aliases in queries.

       Unfortunately, Oracle doesn't support identifiers over 30 chars in length, so the
       DBIx::Class::Relationship name is shortened and appended with half of an MD5 hash.

       See "relname_to_table_alias" in DBIx::Class::Storage::DBI.

   <b>with_deferred_fk_checks</b>
       Runs a coderef between:

         alter session set constraints = deferred
         ...
         alter session set constraints = immediate

       to defer foreign key checks.

       Constraints must be declared "DEFERRABLE" for this to work.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       Following additional attributes can be used in resultsets.

   <b>connect_by</b> <b>or</b> <b>connect_by_nocycle</b>
       Value: \%connect_by

       A  hashref  of  conditions  used  to  specify  the relationship between parent rows and child rows of the
       hierarchy.

         connect_by =&gt; { parentid =&gt; 'prior personid' }

         # adds a connect by statement to the query:
         # SELECT
         #     me.persionid me.firstname, me.lastname, me.parentid
         # FROM
         #     person me
         # CONNECT BY
         #     parentid = prior persionid

         connect_by_nocycle =&gt; { parentid =&gt; 'prior personid' }

         # adds a connect by statement to the query:
         # SELECT
         #     me.persionid me.firstname, me.lastname, me.parentid
         # FROM
         #     person me
         # CONNECT BY NOCYCLE
         #     parentid = prior persionid

   <b>start_with</b>
       Value: \%condition

       A hashref of conditions which specify the root row(s) of the hierarchy.

       It uses the same syntax as "search" in DBIx::Class::ResultSet

         start_with =&gt; { firstname =&gt; 'Foo', lastname =&gt; 'Bar' }

         # SELECT
         #     me.persionid me.firstname, me.lastname, me.parentid
         # FROM
         #     person me
         # START WITH
         #     firstname = 'foo' and lastname = 'bar'
         # CONNECT BY
         #     parentid = prior persionid

   <b>order_siblings_by</b>
       Value: ($order_siblings_by | \@order_siblings_by)

       Which column(s) to order the siblings by.

       It uses the same syntax as "order_by" in DBIx::Class::ResultSet

         'order_siblings_by' =&gt; 'firstname ASC'

         # SELECT
         #     me.persionid me.firstname, me.lastname, me.parentid
         # FROM
         #     person me
         # CONNECT BY
         #     parentid = prior persionid
         # ORDER SIBLINGS BY
         #     firstname ASC

</pre><h4><b>FURTHER</b> <b>QUESTIONS?</b></h4><pre>
       Check the list of additional DBIC resources.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This module is free software copyright by the DBIx::Class (DBIC) authors. You can redistribute it  and/or
       modify it under the same terms as the DBIx::Class library.

perl v5.40.0                                       2025-02-01             <u>DBIx::Class::St...Oracle::<a href="../man3pm/Generic.3pm.html">Generic</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>