<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML::FormHandler::TraitFor::DBICFields - role to get fields from DBIx::Class result source</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libhtml-formhandler-model-dbic-perl">libhtml-formhandler-model-dbic-perl_0.29-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       HTML::FormHandler::TraitFor::DBICFields - role to get fields from DBIx::Class result source

</pre><h4><b>VERSION</b></h4><pre>
       version 0.29

</pre><h4><b>SYNOPSIS</b></h4><pre>
       This is a role to pull fields from a DBIx::Class result source. Requires existence of a 'source'
       attribute.

       This feature is new. It doesn't handle relationships yet, and the interfaces are still subject to change.

         my $form = HTML::FormHandler::Model::DBIC-&gt;new_with_traits(
             traits =&gt; ['HTML::FormHandler::TraitFor::DBICFields'],
             item =&gt; $book
         );

           for my $rel( $source-&gt;relationships ) {
               next if grep { $_ eq $rel } @exclude;
               next if grep { $_-&gt;[1] eq $rel } $self-&gt;m2m_for_class($class);
               my $info = $source-&gt;relationship_info($rel);
               push @exclude, get_self_cols( $info-&gt;{cond} );
               my $rel_class = _strip_class( $info-&gt;{class} );
               my $elem_conf;
               if ( ! ( $info-&gt;{attrs}{accessor} eq 'multi' ) ) {
                   push @fields, "has_field '$rel' =&gt; ( type =&gt; 'Select', );"
               }
               elsif( $level &lt; 1 ) {
                   my @new_exclude = get_foreign_cols ( $info-&gt;{cond} );
                   my $config = $self-&gt;get_fields ( $rel_class, 1, );
                   my $target_class = $rel_class;
                   $target_class = $self-&gt;class_prefix . '::' . $rel_class if $self-&gt;class_prefix;
                   $config-&gt;{class} = $target_class;
                   $config-&gt;{name} = $rel;
       #           $self-&gt;set_field_class_data( $target_class =&gt; $config ) if !$self-&gt;exists_field_class( $target_class );
                   my $field_def = '';
       #           if( defined $self-&gt;style &amp;&amp; $self-&gt;style eq 'single' ){
       #               $field_def .= '# ';
       #           }
                   $field_def .= "has_field '$rel' =&gt; ( type =&gt; '+${target_class}Field', );";
                   push @fields, $field_def;
               }
           }

</pre><h4><b>AUTHOR</b></h4><pre>
       FormHandler Contributors - see HTML::FormHandler

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2013 by Gerda Shank.

       This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.38.2                                       2024-03-06              <u>HTML::FormHand...For::<a href="../man3pm/DBICFields.3pm.html">DBICFields</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>