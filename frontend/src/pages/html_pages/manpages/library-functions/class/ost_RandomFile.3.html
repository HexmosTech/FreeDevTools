<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ost::RandomFile - The purpose of this class is to define a base class for low level random file access</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libcommoncpp2-doc">libcommoncpp2-doc_1.8.1-10_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ost::RandomFile - The purpose of this class is to define a base class for low level random file access
       that is portable between Win32 and Posix systems.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;file.h&gt;

       Inherits <b>ost::Mutex</b>, and <b>ost::File</b>.

       Inherited by <b>ost::MappedFile</b>, <b>ost::SharedFile</b>, and <b>ost::ThreadFile</b>.

   <b>Public</b> <b>Member</b> <b>Functions</b>
       virtual <b>~RandomFile</b> ()
           Destroy a random access file or it's derived class.
       bool <b>initial</b> (void)
           This method should be called right after a <b>RandomFile</b> derived object has been created.
       off_t <b>getCapacity</b> (void)
           Get current file capacity.
       virtual <b>Error</b> <b>restart</b> (void)
           This method is commonly used to close and re-open an existing database.
       <b>Error</b> <b>getErrorNumber</b> (void)
           Return current error id.
       char * <b>getErrorString</b> (void)
           Return current error string.
       bool <b>operator!</b> (void)

   <b>Protected</b> <b>Member</b> <b>Functions</b>
       <b>RandomFile</b> (const char *name=NULL)
           Create an unopened random access file.
       <b>RandomFile</b> (const <b>RandomFile</b> &amp;rf)
           Default copy constructor.
       <b>Error</b> <b>error</b> (<b>Error</b> errid, char *errstr=NULL)
           Post an error event.
       <b>Error</b> <b>error</b> (char *err)
           Post an extended string error message.
       void <b>setError</b> (bool enable)
           Used to enable or disable throwing of exceptions on errors.
       <b>Error</b> <b>setCompletion</b> (<b>Complete</b> mode)
           Used to set file completion modes.
       void <b>setTemporary</b> (bool enable)
           Used to set the temporary attribute for the file.
       virtual <b>Attr</b> <b>initialize</b> (void)
           This method is used to initialize a newly created file as indicated by the 'initial' flag.
       void <b>final</b> (void)
           Close the file.

   <b>Protected</b> <b>Attributes</b>
       int <b>fd</b>
       <b>Access</b> <b>access</b>
       char * <b>pathname</b>
       struct {
          unsigned <b>count</b>: 16
          bool <b>thrown</b>: 1
          bool <b>initial</b>: 1
          bool <b>immediate</b>: 1
          bool <b>temp</b>: 1
       } <b>flags</b>

   <b>Related</b> <b>Functions</b>
       (Note that these are not member functions.)
       bool <b>__EXPORT</b> <b>isDir</b> (const char *path)
       bool <b>__EXPORT</b> <b>isFile</b> (const char *path)
       bool <b>__EXPORT</b> <b>isDevice</b> (const char *path)
       bool <b>__EXPORT</b> <b>canAccess</b> (const char *path)
       bool <b>__EXPORT</b> <b>canModify</b> (const char *path)
       time_t <b>__EXPORT</b> <b>lastModified</b> (const char *path)
       time_t <b>__EXPORT</b> <b>lastAccessed</b> (const char *path)

   <b>Additional</b> <b>Inherited</b> <b>Members</b>
</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       The purpose of this class is to define a base class for low level random file access that is portable
       between Win32 and Posix systems.

       This class is a foundation both for optimized thread shared and traditional locked file access that is
       commonly used to build database services, rather than the standard C++ streaming file classes.

       <b>Author</b>
           David Sugar <a href="mailto:dyfet@ostel.com">dyfet@ostel.com</a>

       Portable random disk file access.

</pre><h4><b>Constructor</b> <b>&amp;</b> <b>Destructor</b> <b>Documentation</b></h4><pre>
   <b>ost::RandomFile::RandomFile</b> <b>(const</b> <b>char</b> <b>*</b> <b>name</b> <b>=</b> <b>NULL)</b> <b>[protected]</b>
       Create an unopened random access file.

   <b>ost::RandomFile::RandomFile</b> <b>(const</b> <b>RandomFile</b> <b>&amp;</b> <b>rf)</b> <b>[protected]</b>
       Default copy constructor.

   <b>virtual</b> <b>ost::RandomFile::~RandomFile</b> <b>()</b> <b>[virtual]</b>
       Destroy a random access file or it's derived class.

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>Error</b> <b>ost::RandomFile::error</b> <b>(char</b> <b>*</b> <b>err)</b> <b>[inline],</b>  <b>[protected]</b>
       Post an extended string error message.

       <b>Returns</b>
           errExtended.

       <b>Parameters</b>
           <u>err</u> error string.

       References ost::error().

   <b>Error</b> <b>ost::RandomFile::error</b> <b>(Error</b> <b>errid,</b> <b>char</b> <b>*</b> <b>errstr</b> <b>=</b> <b>NULL)</b> <b>[protected]</b>
       Post an error event.

       <b>Returns</b>
           error code.

       <b>Parameters</b>
           <u>errid</u> error code.
           <u>errstr</u> error message string.

   <b>void</b> <b>ost::RandomFile::final</b> <b>(void)</b> <b>[protected]</b>
       Close the file.

   <b>off_t</b> <b>ost::RandomFile::getCapacity</b> <b>(void)</b>
       Get current file capacity.

       <b>Returns</b>
           total file size.

   <b>Error</b> <b>ost::RandomFile::getErrorNumber</b> <b>(void)</b> <b>[inline]</b>
       Return current error id.

       <b>Returns</b>
           last error identifier set.

   <b>char*</b> <b>ost::RandomFile::getErrorString</b> <b>(void)</b> <b>[inline]</b>
       Return current error string.

       <b>Returns</b>
           last error string set.

   <b>bool</b> <b>ost::RandomFile::initial</b> <b>(void)</b>
       This method should be called right after a <b>RandomFile</b> derived object has been created. This method will
       invoke initialize if the object is newly created, and set file access permissions appropriately.

       <b>Returns</b>
           true if file had to be initialized.

   <b>virtual</b> <b>Attr</b> <b>ost::RandomFile::initialize</b> <b>(void)</b> <b>[protected],</b>  <b>[virtual]</b>
       This method is used to initialize a newly created file as indicated by the 'initial' flag. This method
       also returns the file access permissions that should be associated with the file. This method should
       never be called directly, but is instead used to impliment the 'Initial' method. Typically one would use
       this to build an empty database shell when a previously empty database file is created.

       <b>Returns</b>
           access, or attrInvalid if should be removed.

   <b>bool</b> <b>ost::RandomFile::operator!</b> <b>(void)</b>
   <b>virtual</b> <b>Error</b> <b>ost::RandomFile::restart</b> <b>(void)</b> <b>[virtual]</b>
       This method is commonly used to close and re-open an existing database. This may be used when the
       database has been unlinked and an external process provides a new one to use.

       Reimplemented in <b>ost::SharedFile</b>, and <b>ost::ThreadFile</b>.

   <b>Error</b> <b>ost::RandomFile::setCompletion</b> <b>(Complete</b> <b>mode)</b> <b>[protected]</b>
       Used to set file completion modes.

       <b>Returns</b>
           errSuccess if okay.

       <b>Parameters</b>
           <u>mode</u> completion mode.

   <b>void</b> <b>ost::RandomFile::setError</b> <b>(bool</b> <b>enable)</b> <b>[inline],</b>  <b>[protected]</b>
       Used to enable or disable throwing of exceptions on errors.

       <b>Parameters</b>
           <u>enable</u> true if errors will be thrown.

   <b>void</b> <b>ost::RandomFile::setTemporary</b> <b>(bool</b> <b>enable)</b> <b>[inline],</b>  <b>[protected]</b>
       Used to set the temporary attribute for the file. Temporary files are automatically deleted when closed.

       <b>Parameters</b>
           <u>enable</u> true for marking as temporary.

</pre><h4><b>Friends</b> <b>And</b> <b>Related</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>bool</b> <b>__EXPORT</b> <b>canAccess</b> <b>(const</b> <b>char</b> <b>*</b> <b>path)</b> <b>[related]</b>
   <b>bool</b> <b>__EXPORT</b> <b>canModify</b> <b>(const</b> <b>char</b> <b>*</b> <b>path)</b> <b>[related]</b>
   <b>bool</b> <b>__EXPORT</b> <b>isDevice</b> <b>(const</b> <b>char</b> <b>*</b> <b>path)</b> <b>[related]</b>
   <b>bool</b> <b>__EXPORT</b> <b>isDir</b> <b>(const</b> <b>char</b> <b>*</b> <b>path)</b> <b>[related]</b>
   <b>bool</b> <b>__EXPORT</b> <b>isFile</b> <b>(const</b> <b>char</b> <b>*</b> <b>path)</b> <b>[related]</b>
   <b>time_t</b> <b>__EXPORT</b> <b>lastAccessed</b> <b>(const</b> <b>char</b> <b>*</b> <b>path)</b> <b>[related]</b>
   <b>time_t</b> <b>__EXPORT</b> <b>lastModified</b> <b>(const</b> <b>char</b> <b>*</b> <b>path)</b> <b>[related]</b>
</pre><h4><b>Member</b> <b>Data</b> <b>Documentation</b></h4><pre>
   <b>Access</b> <b>ost::RandomFile::access</b> <b>[protected]</b>
   <b>unsigned</b> <b>ost::RandomFile::count</b>
   <b>int</b> <b>ost::RandomFile::fd</b> <b>[protected]</b>
   <b>struct</b> <b>{</b> <b>...</b> <b>}</b>  <b>ost::RandomFile::flags</b> <b>[protected]</b>
   <b>bool</b> <b>ost::RandomFile::immediate</b>
   <b>bool</b> <b>ost::RandomFile::initial</b>
   <b>char*</b> <b>ost::RandomFile::pathname</b> <b>[protected]</b>
   <b>bool</b> <b>ost::RandomFile::temp</b>
   <b>bool</b> <b>ost::RandomFile::thrown</b>
</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for GNU CommonC++ from the source code.

GNU CommonC++                                    Sun Dec 27 2020                              <u>ost::<a href="../man3/RandomFile.3.html">RandomFile</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>