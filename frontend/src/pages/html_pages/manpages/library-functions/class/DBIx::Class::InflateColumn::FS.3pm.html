<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DBIx::Class::InflateColumn::FS - Inflate/deflate columns to Path::Class::File objects</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdbix-class-inflatecolumn-fs-perl">libdbix-class-inflatecolumn-fs-perl_0.01007-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       DBIx::Class::InflateColumn::FS - Inflate/deflate columns to Path::Class::File objects

</pre><h4><b>SYNOPSIS</b></h4><pre>
         __PACKAGE__-&gt;load_components(qw/InflateColumn::FS Core/);
         __PACKAGE__-&gt;add_columns(
             id =&gt; {
                 data_type         =&gt; 'INT',
                 is_auto_increment =&gt; 1,
             },
             file =&gt; {
                 data_type =&gt; 'TEXT',
                 is_fs_column =&gt; 1,
                 fs_column_path =&gt; '/var/lib/myapp/myfiles',
             },
             file_2 =&gt; {
                 data_type =&gt; 'TEXT',
                 is_fs_column =&gt; 1,
                 fs_column_path =&gt; '/var/lib/myapp/myfiles',
                 fs_new_on_update =&gt; 1
             },
         );
         __PACKAGE__-&gt;set_primary_key('id');

         # in application code
         $rs-&gt;create({ file =&gt; $file_handle });

         $row = $rs-&gt;find({ id =&gt; $id });
         my $fh = $row-&gt;file-&gt;open('r');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Provides inflation to a Path::Class::File object allowing file system storage of BLOBS.

       The storage path is specified with "fs_column_path".  Each file receives a unique name, so the storage
       for all FS columns can share the same path.

       Within the path specified by "fs_column_path", files are stored in sub-directories based on the first 2
       characters of the unique file names.  Up to 256 sub-directories will be created, as needed.  Override
       "_fs_column_dirs" in a derived class to change this behavior.

       "fs_new_on_update" will create a new file name if the file has been updated.

</pre><h4><b>METHODS</b></h4><pre>
   <b>inflate_result</b>
   <b>register_column</b>
   <b>fs_file_name</b>
       Provides the file naming algorithm.  Override this method to change it.

       This method is called with two parameters: The name of the column and the "column_info" object.

   <b>_fs_column_dirs</b>
       Returns the sub-directory components for a given file name.  Override it to provide a deeper directory
       tree or change the algorithm.

   <b>copy</b>
       Copies a row object, duplicating the files backing fs columns.

   <b>delete</b>
       Deletes the associated file system storage when a row is deleted.

   <b>set_column</b>
       Deletes file storage when an fs_column is set to undef.

   <b>set_inflated_column</b>
       Re-inflates after setting an fs_column.

   <b>_inflate_fs_column</b>
       Inflates a file column to a Path::Class::File object.

   <b>_deflate_fs_column</b>
       Deflates a file column to its storage path name, relative to "fs_column_path".  In the database, a file
       column is just a place holder for inflation/deflation.  The actual file lives in the file system.

   <b>table</b>
       Overridden to provide a hook for specifying the resultset_class.  If you provide your own
       resultset_class, inherit from InflateColumn::FS::ResultSet.

</pre><h4><b>SUPPORT</b></h4><pre>
       Community support can be found via:

         Mailing list: <a href="http://lists.scsys.co.uk/mailman/listinfo/dbix-class/">http://lists.scsys.co.uk/mailman/listinfo/dbix-class/</a>

         IRC: irc.perl.org#dbix-class

       The author is "semifor" on IRC and a member of the mailing list.

</pre><h4><b>AUTHOR</b></h4><pre>
       semifor: Marc Mims &lt;<a href="mailto:marc@questright.com">marc@questright.com</a>&gt;

</pre><h4><b>CONTRIBUTORS</b></h4><pre>
       mst: Matt S. Trout &lt;<a href="mailto:mst@shadowcatsystems.co.uk">mst@shadowcatsystems.co.uk</a>&gt;

       mo: Moritz Onken &lt;<a href="mailto:onken@netcubed.de">onken@netcubed.de</a>&gt;

       norbi: Norbert Buchmuller &lt;<a href="mailto:norbi@nix.hu">norbi@nix.hu</a>&gt;

</pre><h4><b>LICENSE</b></h4><pre>
       You may distribute this code under the same terms as Perl itself.

perl v5.40.1                                       2025-08-15                <u>DBIx::Class::InflateColumn::<a href="../man3pm/FS.3pm.html">FS</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>