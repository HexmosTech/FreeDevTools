<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DBIx::Class::DeploymentHandler::Dad - Parent class for DeploymentHandlers</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdbix-class-deploymenthandler-perl">libdbix-class-deploymenthandler-perl_0.002234-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       DBIx::Class::DeploymentHandler::Dad - Parent class for DeploymentHandlers

</pre><h4><b>METHODS</b> <b>THAT</b> <b>ARE</b> <b>REQUIRED</b> <b>IN</b> <b>SUBCLASSES</b></h4><pre>
   <b>deploy</b>
       See "deploy" in DBIx::Class::DeploymentHandler::HandlesDeploy.

   <b>version_storage_is_installed</b>
       See "version_storage_is_installed" in DBIx::Class::DeploymentHandler::HandlesVersionStorage.

   <b>add_database_version</b>
       See "add_database_version" in DBIx::Class::DeploymentHandler::HandlesVersionStorage.

   <b>delete_database_version</b>
       See "delete_database_version" in DBIx::Class::DeploymentHandler::HandlesVersionStorage.

   <b>next_version_set</b>
       See "next_version_set" in DBIx::Class::DeploymentHandler::HandlesVersioning.

   <b>previous_version_set</b>
       See "previous_version_set" in DBIx::Class::DeploymentHandler::HandlesVersioning.

   <b>upgrade_single_step</b>
       See "upgrade_single_step" in DBIx::Class::DeploymentHandler::HandlesDeploy.

   <b>downgrade_single_step</b>
       See "downgrade_single_step" in DBIx::Class::DeploymentHandler::HandlesDeploy.

   <b>txn_do</b>
       See "txn_do" in DBIx::Class::DeploymentHandler::HandlesDeploy.

</pre><h4><b>ORTHODOX</b> <b>METHODS</b></h4><pre>
       These methods are not actually <b>required</b> as things will probably still work if you don't implement them,
       but if you want your subclass to get along with other subclasses (or more likely, tools made to use
       another subclass), you should probably implement these too, even if they are no-ops.

   <b>database_version</b>
       see "database_version" in DBIx::Class::DeploymentHandler::HandlesVersionStorage

   <b>prepare_deploy</b>
       see "prepare_deploy" in DBIx::Class::DeploymentHandler::HandlesDeploy

   <b>prepare_resultsource_install</b>
       see "prepare_resultsource_install" in DBIx::Class::DeploymentHandler::HandlesDeploy

   <b>install_resultsource</b>
       see "install_resultsource" in DBIx::Class::DeploymentHandler::HandlesDeploy

   <b>prepare_upgrade</b>
       see "prepare_upgrade" in DBIx::Class::DeploymentHandler::HandlesDeploy

   <b>prepare_downgrade</b>
       see "prepare_downgrade" in DBIx::Class::DeploymentHandler::HandlesDeploy

   <b>SUBCLASSING</b>
       All of the methods mentioned in "METHODS THAT ARE REQUIRED IN SUBCLASSES" and "ORTHODOX METHODS" can be
       implemented in any fashion you choose.  In the spirit of code reuse I have used roles to implement them
       in my two subclasses, DBIx::Class::DeploymentHandler and DBIx::Class::DeploymentHandler::Deprecated, but
       you are free to implement them entirely in a subclass if you so choose to.

       For in-depth documentation on how methods are supposed to work, see the roles
       DBIx::Class::DeploymentHandler::HandlesDeploy, DBIx::Class::DeploymentHandler::HandlesVersioning, and
       DBIx::Class::DeploymentHandler::HandlesVersionStorage.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
   <b>schema</b>
       The DBIx::Class::Schema (<b>required</b>) that is used to talk to the database and generate the DDL.

   <b>schema_version</b>
       The version that the schema is currently at.  Defaults to "$self-&gt;schema-&gt;schema_version".

   <b>backup_directory</b>
       The directory where backups are stored

   <b>to_version</b>
       The version (defaults to schema's version) to migrate the database to

</pre><h4><b>METHODS</b></h4><pre>
   <b>install</b>
        $dh-&gt;install

       or

        $dh-&gt;install({ version =&gt; 1 })

       Deploys the requested version into the database  Version defaults to "schema_version".  Populates
       "version_storage" with "version" and "ddl".

       <b>Note</b>: you typically need to call "$dh-&gt;prepare_deploy" before you call this method.

       <b>Note</b>: you cannot install on top of an already installed database

   <b>upgrade</b>
        $dh-&gt;upgrade

       Upgrades the database one step at a time till "next_version_set" returns "undef".  Each upgrade step will
       add a "version", "ddl", and "upgrade_sql" to the version storage (if "ddl" and/or "upgrade_sql" are
       returned from "upgrade_single_step".

   <b>downgrade</b>
        $dh-&gt;downgrade

       Downgrades the database one step at a time till "previous_version_set" returns "undef".  Each downgrade
       step will delete a "version" from the version storage.

   <b>backup</b>
        $dh-&gt;backup

       Simply calls backup on the "$schema-&gt;storage", passing in "$self-&gt;backup_directory" as an argument.
       Please test yourself before assuming it will work.

</pre><h4><b>AUTHOR</b></h4><pre>
       Arthur Axel "fREW" Schmidt &lt;frioux+<a href="mailto:cpan@gmail.com">cpan@gmail.com</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2024 by Arthur Axel "fREW" Schmidt.

       This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.38.2                                       2024-07-28              <u>DBIx::Class::D...entHandler::<a href="../man3pm/Dad.3pm.html">Dad</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>