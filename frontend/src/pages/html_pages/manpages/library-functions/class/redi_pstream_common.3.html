<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>redi::pstream_common - Class template for common base class</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpstreams-dev">libpstreams-dev_1.0.3-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       redi::pstream_common - Class template for common base class

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;pstream.h&gt;

       Inherits basic_ios&lt; CharT, std::char_traits&lt; CharT &gt; &gt;, and <b>redi::pstreams</b>.

   <b>Public</b> <b>Types</b>
       typedef int <b>fd_type</b>
           Type used for file descriptors.

   <b>Public</b> <b>Member</b> <b>Functions</b>
       int <b>close</b> ()
       bool <b>is_open</b> () const
           Report whether the stream's buffer has been initialised.
       const std::string &amp; <b>command</b> () const
           Return the command used to initialise the stream.
       <b>streambuf_type</b> * <b>rdbuf</b> () const
           Return a pointer to the stream buffer.

   <b>Static</b> <b>Public</b> <b>Attributes</b>
       static const <b>pmode</b> <b>pstdin</b> = std::ios_base::out
           Write to stdin.
       static const <b>pmode</b> <b>pstdout</b> = std::ios_base::in
           Read from stdout.
       static const <b>pmode</b> <b>pstderr</b> = std::ios_base::app
           Read from stderr.
       static const <b>pmode</b> <b>newpg</b> = std::ios_base::trunc
           Create a new process group for the child process.

   <b>Protected</b> <b>Types</b>
       typedef <b>basic_pstreambuf</b>&lt; CharT, Traits &gt; <b>streambuf_type</b>
       typedef std::basic_ios&lt; CharT, Traits &gt; <b>ios_type</b>
       typedef <b>pstreams::pmode</b> <b>pmode</b>
       typedef <b>pstreams::argv_type</b> <b>argv_type</b>
       enum { <b>bufsz</b> = 32 }
       enum { <b>pbsz</b> = 2 }

   <b>Protected</b> <b>Member</b> <b>Functions</b>
       <b>pstream_common</b> ()
           Default constructor.
       <b>pstream_common</b> (const std::string &amp;cmd, <b>pmode</b> mode)
           Constructor that initialises the stream by starting a process.
       <b>pstream_common</b> (const std::string &amp;file, const <b>argv_type</b> &amp;argv, <b>pmode</b> mode)
           Constructor that initialises the stream by starting a process.
       virtual <b>~pstream_common</b> ()=0
           Pure virtual destructor.
       void <b>do_open</b> (const std::string &amp;cmd, <b>pmode</b> mode)
           Start a process.
       void <b>do_open</b> (const std::string &amp;file, const <b>argv_type</b> &amp;argv, <b>pmode</b> mode)
           Start a process.

   <b>Protected</b> <b>Attributes</b>
       std::string <b>command_</b>
           The command used to start the process.
       <b>streambuf_type</b> <b>buf_</b>
           The stream buffer.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
   <b>template&lt;typename</b> <b>CharT,</b> <b>typename</b> <b>Traits</b> <b>=</b> <b>std::char_traits&lt;CharT&gt;&gt;</b>
       class redi::pstream_common&lt; CharT, Traits &gt;" Class template for common base class.

       Abstract Base Class providing common functionality for <b>basic_ipstream</b>, <b>basic_opstream</b> and <b>basic_pstream</b>.
       <b>pstream_common</b> manages the <b>basic_pstreambuf</b> stream buffer that is used by the derived classes to
       initialise an iostream class.

</pre><h4><b>Constructor</b> <b>&amp;</b> <b>Destructor</b> <b>Documentation</b></h4><pre>
   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>redi::pstream_common&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::pstream_common</b> <b>[inline],</b>  <b>[protected]</b>
       Default constructor. Creates an uninitialised stream.

       References redi::pstream_common&lt; CharT, Traits &gt;::buf_.

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>redi::pstream_common&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::pstream_common</b> <b>(const</b> <b>std::string</b> <b>&amp;</b> <b>cmd,</b>
       <b>pmode</b> <b>mode)</b> <b>[inline],</b>  <b>[protected]</b>
       Constructor that initialises the stream by starting a process. Initialises the stream buffer by calling
       do_open( <u>command</u> , <u>mode</u> )

       <b>Parameters</b>
           <u>cmd</u> a string containing a shell command.
           <u>mode</u> the I/O mode to use when opening the pipe.

       <b>See</b> <b>also</b>
           <b>do_open(const</b> <b>std::string&amp;,</b> <b>pmode)</b>

       References redi::pstream_common&lt; CharT, Traits &gt;::buf_, and redi::pstream_common&lt; CharT, Traits
       &gt;::do_open().

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>redi::pstream_common&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::pstream_common</b> <b>(const</b> <b>std::string</b> <b>&amp;</b> <b>file,</b>
       <b>const</b> <b>argv_type</b> <b>&amp;</b> <b>argv,</b> <b>pmode</b> <b>mode)</b> <b>[inline],</b>  <b>[protected]</b>
       Constructor that initialises the stream by starting a process. Initialises the stream buffer by calling
       do_open( <u>file</u> , <u>argv</u> , <u>mode</u> )

       <b>Parameters</b>
           <u>file</u> a string containing the pathname of a program to execute.
           <u>argv</u> a vector of argument strings passed to the new program.
           <u>mode</u> the I/O mode to use when opening the pipe.

       <b>See</b> <b>also</b>
           <b>do_open(const</b> <b>std::string&amp;,</b> <b>const</b> <b>argv_type&amp;,</b> <b>pmode)</b>

       References redi::pstream_common&lt; CharT, Traits &gt;::buf_, and redi::pstream_common&lt; CharT, Traits
       &gt;::do_open().

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>redi::pstream_common&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::~pstream_common</b> <b>[inline],</b>  <b>[protected],</b>
       <b>[pure</b> <b>virtual]</b>
       Pure virtual destructor. This is a pure virtual function to make <b>pstream_common</b> <b>abstract.</b> <b>Because</b> <b>it</b> <b>is</b>
       <b>the</b> <b>destructor</b> <b>it</b> <b>will</b> <b>be</b> <b>called</b> <b>by</b> <b>derived</b> <b>classes</b> <b>and</b> <b>so</b> <b>must</b> <b>be</b> <b>defined.</b> <b>It</b> <b>is</b> <b>also</b> <b>protected,</b> <b>to</b>
       <b>discourage</b> <b>use</b> <b>of</b> <b>the</b> <b>PStreams</b> <b>classes</b> <b>through</b> <b>pointers</b> <b>or</b> <b>references</b> <b>to</b> <b>the</b> <b>base</b> <b>class.</b>

       <b>See</b> <b>also</b>
           If defining a pure virtual seems odd you should read <a href="http://www.gotw.ca/gotw/031.htm">http://www.gotw.ca/gotw/031.htm</a> (and the rest of
           the site as well!)

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>int</b> <b>redi::pstream_common&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::close</b> <b>[inline]</b>
       Close the pipe, returning the program's exit status, as <a href="../man3/pclose.3.html">pclose</a>(3) does.

       Calls rdbuf-&gt;<b>close()</b> and sets failbit on error. Returns process's exit status, as <a href="../man3/pclose.3.html">pclose</a>(3) does.

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>const</b> <b>std::string</b> <b>&amp;</b> <b>redi::pstream_common&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::command</b> <b>[inline]</b>
       Return the command used to initialise the stream.

       <b>Returns</b>
           a string containing the command used to initialise the stream.

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>void</b> <b>redi::pstream_common&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::do_open</b> <b>(const</b> <b>std::string</b> <b>&amp;</b> <b>cmd,</b> <b>pmode</b>
       <b>mode)</b> <b>[inline],</b>  <b>[protected]</b>
       Start a process. Calls <b>rdbuf()</b>-&gt;open( <u>command</u> , <u>mode</u> ) and sets failbit on error.

       <b>Parameters</b>
           <u>cmd</u> a string containing a shell command.
           <u>mode</u> the I/O mode to use when opening the pipe.

       <b>See</b> <b>also</b>
           <b>basic_pstreambuf::open(const</b> <b>std::string&amp;,</b> <b>pmode)</b>

       Referenced by redi::pstream_common&lt; CharT, Traits &gt;::pstream_common().

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>void</b> <b>redi::pstream_common&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::do_open</b> <b>(const</b> <b>std::string</b> <b>&amp;</b> <b>file,</b>
       <b>const</b> <b>argv_type</b> <b>&amp;</b> <b>argv,</b> <b>pmode</b> <b>mode)</b> <b>[inline],</b>  <b>[protected]</b>
       Start a process. Calls <b>rdbuf()</b>-&gt;open( <u>file</u>, <u>argv</u>, <u>mode</u> ) and sets failbit on error.

       <b>Parameters</b>
           <u>file</u> a string containing the pathname of a program to execute.
           <u>argv</u> a vector of argument strings passed to the new program.
           <u>mode</u> the I/O mode to use when opening the pipe.

       <b>See</b> <b>also</b>
           <b>basic_pstreambuf::open(const</b> <b>std::string&amp;,</b> <b>const</b> <b>argv_type&amp;,</b> <b>pmode)</b>

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>bool</b> <b>redi::pstream_common&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::is_open</b> <b>[inline]</b>
       Report whether the stream's buffer has been initialised.

       <b>Returns</b>
           <b>rdbuf()</b>-&gt;<b>is_open()</b>.

       <b>See</b> <b>also</b>
           <b>basic_pstreambuf::is_open()</b>

   <b>template&lt;typename</b> <b>C</b> <b>,</b> <b>typename</b> <b>T</b> <b>&gt;</b> <b>pstream_common&lt;</b> <b>C,</b> <b>T</b> <b>&gt;::streambuf_type</b> <b>*</b> <b>redi::pstream_common&lt;</b> <b>C,</b> <b>T</b>
       <b>&gt;::rdbuf</b> <b>[inline]</b>
       Return a pointer to the stream buffer.

       <b>Returns</b>
           a pointer to the private stream buffer member.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for PStreams from the source code.

PStreams                                         Sun Dec 13 2020        <u>redi::pstream_common&lt;</u> <u>CharT,</u> <u>Traits</u> <u>&gt;</u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>