<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>g2_getfld.c - Return all the metadata, template values, Bit-map (if applicable), and the unpacked data</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libg2c-dev">libg2c-dev_2.1.0-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       g2_getfld.c - Return all the metadata, template values, Bit-map (if applicable), and the unpacked data
       for a given data field.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include 'grib2_int.h'
       #include &lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;
       #include &lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;

   <b>Functions</b>
       <b>g2int</b> <b>g2_getfld</b> (unsigned char *cgrib, <b>g2int</b> ifldnum, <b>g2int</b> unpack, <b>g2int</b> expand, <b>gribfield</b> **gfld)
           Return all the metadata, template values, bit-map (if applicable), and the unpacked data for a data
           field.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Return all the metadata, template values, Bit-map (if applicable), and the unpacked data for a given data
       field.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2002-10-28

       Definition in file <b>g2_getfld.c</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>g2int</b> <b>g2_getfld</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>cgrib,</b> <b>g2int</b> <b>ifldnum,</b> <b>g2int</b> <b>unpack,</b> <b>g2int</b> <b>expand,</b> <b>gribfield</b> <b>**</b> <b>gfld)</b>
       Return all the metadata, template values, bit-map (if applicable), and the unpacked data for a data
       field. All of the information returned is stored in a <b>gribfield</b> structure, which is defined in file
       <b>grib2.h</b>. Users of this routine will need to include <b>grib2.h</b> in their source code that calls this routine.

       Since there can be multiple data fields packed into a GRIB2 message, the calling routine indicates which
       field is being requested with the ifldnum argument.

   <b>Program</b> <b>History</b> <b>Log</b>
       Date   Programmer   Comments    2002-10-28   Gilbert   Initial    2013-08-08   Vuong   Free up memory in
       array igds - free(igds)

       <b>Parameters</b>
           <u>cgrib</u> Character pointer to the GRIB2 message.
           <u>ifldnum</u> Specifies which field in the GRIB2 message to return. The first field is number 1, Fortran
           style.
           <u>unpack</u> Boolean value indicating whether to unpack bitmap/data field.

           • 1 unpack bitmap (if present) and data values.

           • 0 do not unpack bitmap and data values.

           <u>expand</u> Boolean value indicating whether the data points should be expanded to the correspond grid, if
           a  bit-map  is  present.  This  argument  is ignored if unpack == 0 OR if the returned field does not
           contain a bit-map.

           • 1 if possible, expand data field to grid, inserting zero values at gridpoints  that  are  bitmapped
             out. (SEE REMARKS2)

           • 0  do  not  expand  data  field, leaving it an array of consecutive data points for each '1' in the
             bitmap.

           <u>gfld</u> pointer to structure <b>gribfield</b> containing all decoded data for the data field.

       <b>Returns</b>

           • <b>G2_NO_ERROR</b> no error

           • <b>G2_GETFLD_NO_GRIB</b> Beginning characters 'GRIB' not found.

           • <b>G2_GETFLD_GRIB_VERSION</b> GRIB message is not Edition 2.

           • <b>G2_GETFLD_INVAL</b> The data field request number was not positive.

           • <b>G2_GETFLD_WRONG_END</b> End string '7777' found, but not where expected.

           • <b>G2_GETFLD_WRONG_NFLDS</b> GRIB message did not contain the requested number of data fields.

           • <b>G2_GETFLD_BAD_END</b> End string '7777' not found at end of message.

           • <b>G2_GETFLD_INVAL_SEC</b> Unrecognized Section encountered.

           • <b>G2_GETFLD_NO_DRT</b> Data Representation Template 5.NN not yet implemented.

           • <b>G2_GETFLD_BAD_SEC1</b> Error unpacking Section 1.

           • <b>G2_GETFLD_BAD_SEC2</b> Error unpacking Section 2.

           • <b>G2_GETFLD_BAD_SEC3</b> Error unpacking Section 3.

           • <b>G2_GETFLD_BAD_SEC4</b> Error unpacking Section 4.

           • <b>G2_GETFLD_BAD_SEC5</b> Error unpacking Section 5.

           • <b>G2_GETFLD_BAD_SEC6</b> Error unpacking Section 6.

           • <b>G2_GETFLD_BAD_SEC7</b> Error unpacking Section 7.

           • <b>G2_GETFLD_NO_BITMAP</b> Previous bitmap specified, yet none exists.

       <b>Note</b>
           Struct <b>gribfield</b> is allocated by this routine and it also contains pointers to many  arrays  of  data
           that  were  allocated  during  decoding.  Users  are encouraged to free up this memory, when it is no
           longer needed, by an explicit call to routine <b>g2_free()</b>.

   <b>Example:</b>
       #include "grib2.h"
       gribfield *gfld;
       ret=g2_getfld(cgrib,1,1,1,&amp;gfld);
         ...
       g2_free(gfld);

       Routine <b>g2_info()</b> can be used to first determine how many data fields exist in a given GRIB message.

       <b>Note</b>
           It may not always be possible to expand a bit-mapped data field. If a pre-defined bit-map is used and
           not included in the GRIB2 message itself, this routine would not have the  necessary  information  to
           expand  the  data.  In  this  case, gfld-&gt;expanded would would be set to 0 (false), regardless of the
           value of input argument expand.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2002-10-28

       Definition at line <b>93</b> of file <b>g2_getfld.c</b>.

       References   <b>gribfield::bmap</b>,    <b>gribfield::coord_list</b>,    <b>gribfield::discipline</b>,    <b>gribfield::expanded</b>,
       <b>gribfield::fld</b>, <b>g2_free()</b>, <b>G2_GETFLD_BAD_END</b>, <b>G2_GETFLD_BAD_SEC1</b>, <b>G2_GETFLD_BAD_SEC2</b>, <b>G2_GETFLD_BAD_SEC3</b>,
       <b>G2_GETFLD_BAD_SEC4</b>,  <b>G2_GETFLD_BAD_SEC5</b>,  <b>G2_GETFLD_BAD_SEC6</b>, <b>G2_GETFLD_BAD_SEC7</b>, <b>G2_GETFLD_GRIB_VERSION</b>,
       <b>G2_GETFLD_INVAL</b>,  <b>G2_GETFLD_INVAL_SEC</b>,   <b>G2_GETFLD_NO_BITMAP</b>,   <b>G2_GETFLD_NO_GRIB</b>,   <b>G2_GETFLD_WRONG_END</b>,
       <b>G2_GETFLD_WRONG_NFLDS</b>, <b>G2_NO_ERROR</b>, <b>g2_unpack1()</b>, <b>g2_unpack2()</b>, <b>g2_unpack3()</b>, <b>g2_unpack4()</b>, <b>g2_unpack5()</b>,
       <b>g2_unpack6()</b>,    <b>g2_unpack7()</b>,    <b>gbit()</b>,   <b>gribfield::griddef</b>,   <b>gribfield::ibmap</b>,   <b>gribfield::idrtlen</b>,
       <b>gribfield::idrtmpl</b>,  <b>gribfield::idrtnum</b>,  <b>gribfield::idsect</b>,  <b>gribfield::idsectlen</b>,   <b>gribfield::ifldnum</b>,
       <b>gribfield::igdtlen</b>,  <b>gribfield::igdtmpl</b>,  <b>gribfield::igdtnum</b>,  <b>gribfield::interp_opt</b>, <b>gribfield::ipdtlen</b>,
       <b>gribfield::ipdtmpl</b>,  <b>gribfield::ipdtnum</b>,  <b>gribfield::list_opt</b>,   <b>gribfield::local</b>,   <b>gribfield::locallen</b>,
       <b>gribfield::ndpts</b>,  <b>gribfield::ngrdpts</b>,  <b>gribfield::num_coord</b>,  <b>gribfield::num_opt</b>, <b>gribfield::numoct_opt</b>,
       <b>gribfield::unpacked</b>, and <b>gribfield::version</b>.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for NCEPLIBS-g2c from the source code.

NCEPLIBS-g2c                                      Version 2.1.0                                   <u><a href="../man3/g2_getfld.c.3.html">g2_getfld.c</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>