<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mongoc_basic_troubleshooting - Basic Troubleshooting</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libmongoc-doc">libmongoc-doc_1.21.0-1build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mongoc_basic_troubleshooting - Basic Troubleshooting

</pre><h4><b>TROUBLESHOOTING</b> <b>CHECKLIST</b></h4><pre>
       The following is a short list of things to check when you have a problem.

       • Did you call <b>mongoc_init()</b> in <b>main()</b>? If not, you will likely see a segfault.

       • Have you leaked any clients or cursors as can be found with <b>mongoc-stat</b> <b>&lt;PID&gt;</b>?

       • Have packets been delivered to the server? See egress bytes from <b>mongoc-stat</b> <b>&lt;PID&gt;</b>.

       • Does  <b>valgrind</b>  show  any leaks? Ensure you call <b>mongoc_cleanup()</b> at the end of your process to cleanup
         lingering allocations from the MongoDB C driver.

       • If compiling your own copy of MongoDB C Driver, consider using the cmake option <b>-DENABLE_TRACING=ON</b>  to
         enable function tracing and hex dumps of network packets to <b>STDERR</b> and <b>STDOUT</b>.

</pre><h4><b>PERFORMANCE</b> <b>COUNTERS</b></h4><pre>
       The  MongoDB C driver comes with an optional unique feature to help developers and sysadmins troubleshoot
       problems in production.  Performance counters are available  for  each  process  using  the  driver.   If
       available,  the  counters can be accessed outside of the application process via a shared memory segment.
       This means that you can graph statistics about your application process easily from tools like  Munin  or
       Nagios.  Your author often uses <b>watch</b> <b>--interval=0.5</b> <b>-d</b> <b>mongoc-stat</b> <b>$PID</b> to monitor an application.

       Performance  counters  are  only available on Linux platforms and macOS arm64 platforms supporting shared
       memory segments.  On supported platforms they are enabled by default.  Applications can be built  without
       the  counters  by  specifying  the  cmake  option <b>-DENABLE_SHM_COUNTERS=OFF</b>. Additionally, if performance
       counters are already compiled, they can be disabled at runtime by  specifying  the  environment  variable
       <b>MONGOC_DISABLE_SHM</b>.

       Performance counters keep track of the following:

       • Active and Disposed Cursors

       • Active and Disposed Clients, Client Pools, and Socket Streams.

       • Number of operations sent and received, by type.

       • Bytes transferred and received.

       • Authentication successes and failures.

       • Number of wire protocol errors.

       To  access  counters  for  a  given  process,  simply  provide  the process id to the <b>mongoc-stat</b> program
       installed with the MongoDB C Driver.

          $ mongoc-stat 22203
             Operations : Egress Total        : The number of sent operations.                    : 13247
             Operations : Ingress Total       : The number of received operations.                : 13246
             Operations : Egress Queries      : The number of sent Query operations.              : 13247
             Operations : Ingress Queries     : The number of received Query operations.          : 0
             Operations : Egress GetMore      : The number of sent GetMore operations.            : 0
             Operations : Ingress GetMore     : The number of received GetMore operations.        : 0
             Operations : Egress Insert       : The number of sent Insert operations.             : 0
             Operations : Ingress Insert      : The number of received Insert operations.         : 0
             Operations : Egress Delete       : The number of sent Delete operations.             : 0
             Operations : Ingress Delete      : The number of received Delete operations.         : 0
             Operations : Egress Update       : The number of sent Update operations.             : 0
             Operations : Ingress Update      : The number of received Update operations.         : 0
             Operations : Egress KillCursors  : The number of sent KillCursors operations.        : 0
             Operations : Ingress KillCursors : The number of received KillCursors operations.    : 0
             Operations : Egress Msg          : The number of sent Msg operations.                : 0
             Operations : Ingress Msg         : The number of received Msg operations.            : 0
             Operations : Egress Reply        : The number of sent Reply operations.              : 0
             Operations : Ingress Reply       : The number of received Reply operations.          : 13246
                Cursors : Active              : The number of active cursors.                     : 1
                Cursors : Disposed            : The number of disposed cursors.                   : 13246
                Clients : Active              : The number of active clients.                     : 1
                Clients : Disposed            : The number of disposed clients.                   : 0
                Streams : Active              : The number of active streams.                     : 1
                Streams : Disposed            : The number of disposed streams.                   : 0
                Streams : Egress Bytes        : The number of bytes sent.                         : 794931
                Streams : Ingress Bytes       : The number of bytes received.                     : 589694
                Streams : N Socket Timeouts   : The number of socket timeouts.                    : 0
           Client Pools : Active              : The number of active client pools.                : 1
           Client Pools : Disposed            : The number of disposed client pools.              : 0
               Protocol : Ingress Errors      : The number of protocol errors on ingress.         : 0
                   Auth : Failures            : The number of failed authentication requests.     : 0
                   Auth : Success             : The number of successful authentication requests. : 0

</pre><h4><b>SUBMITTING</b> <b>A</b> <b>BUG</b> <b>REPORT</b></h4><pre>
       Think you've found a bug? Want to see a new feature in the MongoDB C driver? Please open a  case  in  our
       issue management tool, JIRA:

       • <u>Create</u> <u>an</u> <u>account</u> <u>and</u> <u>login</u>.

       • Navigate to <u>the</u> <u>CDRIVER</u> <u>project</u>.

       • Click  <u>Create</u>  <u>Issue</u>  -  Please provide as much information as possible about the issue type and how to
         reproduce it.

       Bug reports in JIRA for all driver projects (i.e. CDRIVER,  CSHARP,  JAVA)  and  the  Core  Server  (i.e.
       SERVER) project are <u>public</u>.

</pre><h4><b>AUTHOR</b></h4><pre>
       MongoDB, Inc

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2017-present, MongoDB, Inc

1.21.0                                            Feb 09, 2022                   <u><a href="../man3/MONGOC_BASIC_TROUBLESHOOTING.3.html">MONGOC_BASIC_TROUBLESHOOTING</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>