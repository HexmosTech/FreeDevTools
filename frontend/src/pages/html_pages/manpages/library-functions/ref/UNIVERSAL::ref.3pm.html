<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNIVERSAL::ref - Turns ref() into a multimethod</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libuniversal-ref-perl">libuniversal-ref-perl_0.14-8_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       UNIVERSAL::ref - Turns ref() into a multimethod

</pre><h4><b>SYNOPSIS</b></h4><pre>
         # True! Wrapper pretends to be Thing.
         ref( Wrapper-&gt;new( Thing-&gt;new ) )
           eq ref( Thing-&gt;new );

         package Thing;
         sub new { bless [], shift }

         package Wrapper;
         sub new {
             my ($class,$proxy) = @_;
             bless \ $proxy, $class;
         }
         sub ref {
             my $self = shift @_;
             return $$self;
         }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module changes the behavior of the builtin function <b>ref()</b>. If <b>ref()</b> is called on an object that has
       requested an overloaded ref, the object's "-&gt;ref" method will be called and its return value used
       instead.

</pre><h4><b>USING</b></h4><pre>
       To enable this feature for a class, "use UNIVERSAL::ref" in your class. Here is a sample proxy module.

         package Pirate;
         # Pirate pretends to be a Privateer
         use UNIVERSAL::ref;
         sub new { bless {}, shift }
         sub ref { return 'Privateer' }

       Anywhere you call ref($obj) on a "Pirate" object, it will allow "Pirate" to lie and pretend to be
       something else.

</pre><h4><b>METHODS</b></h4><pre>
       import
           A  pragma  for  <b>ref()</b>-enabling  your  class.  This  adds  the  calling class name to a global list of
           <b>ref()</b>-enabled classes.

               package YourClass;
               use UNIVERSAL::ref;
               sub ref { ... }

       unimport
           A pragma for <b>ref()</b>-disabling your class. This removes the calling class name from a  global  list  of
           <b>ref()</b>-enabled classes.

</pre><h4><b>TODO</b></h4><pre>
       Currently UNIVERSAL::ref must be installed before any <b>ref()</b> calls that are to be affected.

       I think <b>ref()</b> always occurs in an implicit scalar context. There is no accomodation for list context.

       UNIVERSAL::ref probably shouldn't allow a module to lie to itself. Or should it?

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
       ambrus  for the excellent idea to overload <b>defined()</b> to allow Perl 5 to have Perl 6's "interesting values
       of undef."

       chromatic for pointing out how utterly broken <b>ref()</b> is. This fix covers its biggest hole.

</pre><h4><b>AUTHOR</b></h4><pre>
       Joshua ben Jore - <a href="mailto:jjore@cpan.org">jjore@cpan.org</a>

</pre><h4><b>LICENSE</b></h4><pre>
       The standard Artistic / GPL license most other perl code is typically using.

perl v5.40.1                                       2025-04-15                                <u>UNIVERSAL::<a href="../man3pm/ref.3pm.html">ref</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>