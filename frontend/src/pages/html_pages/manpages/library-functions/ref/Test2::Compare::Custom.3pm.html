<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test2::Compare::Custom - Custom field check for comparisons.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtest2-suite-perl">libtest2-suite-perl_0.000163-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Test2::Compare::Custom - Custom field check for comparisons.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Sometimes you want to do something complicated or unusual when validating a field nested inside a deep
       data structure. You could pull it out of the structure and test it separately, or you can use this to
       embed the check. This provides a way for you to write custom checks for fields in deep comparisons.

</pre><h4><b>SYNOPSIS</b></h4><pre>
           my $cus = Test2::Compare::Custom-&gt;new(
               name =&gt; 'IsRef',
               operator =&gt; 'ref(...)',
               stringify_got =&gt; 1,
               code =&gt; sub {
                   my %args = @_;
                   return $args{got} ? 1 : 0;
               },
           );

           # Pass
           is(
               { a =&gt; 1, ref =&gt; {},   b =&gt; 2 },
               { a =&gt; 1, ref =&gt; $cus, b =&gt; 2 },
               "This will pass"
           );

           # Fail
           is(
               {a =&gt; 1, ref =&gt; 'notref', b =&gt; 2},
               {a =&gt; 1, ref =&gt; $cus,     b =&gt; 2},
               "This will fail"
           );

</pre><h4><b>ARGUMENTS</b></h4><pre>
       Your custom sub will be passed 4 arguments in a hash:

           code =&gt; sub {
               my %args = @_;
               # provides got, exists, operator, name
               return ref($args{got}) ? 1 : 0;
           },

       $_ is also localized to "got" to make it easier for those who need to use regexes.

       got
       $_  The value to be checked.

       exists
           This  will be a boolean. This will be true if "got" exists at all. If "exists" is false then it means
           "got" is not simply undef, but doesn't exist at all (think checking the value of a hash key that does
           not exist).

       operator
           The operator specified at construction.

       name
           The name provided at construction.

</pre><h4><b>METHODS</b></h4><pre>
       $code = $cus-&gt;code
           Returns the coderef provided at construction.

       $name = $cus-&gt;name
           Returns the name provided at construction.

       $op = $cus-&gt;operator
           Returns the operator provided at construction.

       $stringify = $cus-&gt;stringify_got
           Returns the stringify_got flag provided at construction.

       $bool = $cus-&gt;verify(got =&gt; $got, exists =&gt; $bool)

</pre><h4><b>SOURCE</b></h4><pre>
       The source code repository for Test2-Suite can be found at <u>https://github.com/Test-More/Test2-Suite/</u>.

</pre><h4><b>MAINTAINERS</b></h4><pre>
       Chad Granum &lt;<a href="mailto:exodist@cpan.org">exodist@cpan.org</a>&gt;

</pre><h4><b>AUTHORS</b></h4><pre>
       Chad Granum &lt;<a href="mailto:exodist@cpan.org">exodist@cpan.org</a>&gt;
       Daniel BÃ¶hmer &lt;<a href="mailto:dboehmer@cpan.org">dboehmer@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2018 Chad Granum &lt;<a href="mailto:exodist@cpan.org">exodist@cpan.org</a>&gt;.

       This program is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

       See <u><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></u>

perl v5.38.2                                       2024-06-07                        <u>Test2::Compare::<a href="../man3pm/Custom.3pm.html">Custom</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>