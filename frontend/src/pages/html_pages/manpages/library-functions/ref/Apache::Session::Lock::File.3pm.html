<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apache::Session::Lock::File - Provides mutual exclusion using flock</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libapache-session-perl">libapache-session-perl_1.94-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Apache::Session::Lock::File - Provides mutual exclusion using flock

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use Apache::Session::Lock::File;

        my $locker = Apache::Session::Lock::File-&gt;new;

        $locker-&gt;acquire_read_lock($ref);
        $locker-&gt;acquire_write_lock($ref);
        $locker-&gt;release_read_lock($ref);
        $locker-&gt;release_write_lock($ref);
        $locker-&gt;release_all_locks($ref);

        $locker-&gt;clean($dir, $age);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Apache::Session::Lock::File fulfills the locking interface of Apache::Session.  Mutual exclusion is
       achieved through the use of temporary files and the "flock" function.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       The module must know where to create its temporary files.  You must pass an argument in the usual
       Apache::Session style.  The name of the argument is LockDirectory and its value is the path where you
       want the lockfiles created.  Example:

        tie %s, 'Apache::Session::Blah', $id, {LockDirectory =&gt; '/var/lock/sessions'}

       If you do not supply this argument, temporary files will be created in /tmp.

</pre><h4><b>NOTES</b></h4><pre>
   <b>clean</b>
       This module does not unlink temporary files, because it interferes with proper locking.  This can cause
       problems on certain systems (Linux) whose file systems (ext2) do not perform well with lots of files in
       one directory.  To prevent this you should use a script to clean out old files from your lock directory.
       The meaning of old is left as a policy decision for the implementor, but a method is provided for
       implementing that policy.  You can use the "clean" method of this module to remove files unmodified in
       the last $age seconds.  Example:

        my $l = Apache::Session::Lock::File-&gt;new;
        $l-&gt;clean('/var/lock/sessions', 3600) #remove files older than 1 hour

   <b>acquire_read_lock</b>
       Will do nothing if write lock is in effect, only set readlock flag to true.

   <b>release_read_lock</b>
       Will do nothing if write lock is in effect, only set readlock flag to false.

   <b>Win32</b> <b>and</b> <b>Cygwin</b>
       Windows cannot escalate lock, so all locks will be exclusive.

       release_read_lock not supported - it is not used by Apache::Session.

       When deleting files, they are not locked (Win32 only).

</pre><h4><b>AUTHOR</b></h4><pre>
       This module was written by Jeffrey William Baker &lt;<a href="mailto:jwbaker@acm.org">jwbaker@acm.org</a>&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Apache::Session

perl v5.36.0                                       2022-11-19                   <u>Apache::Session::Lock::<a href="../man3pm/File.3pm.html">File</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>