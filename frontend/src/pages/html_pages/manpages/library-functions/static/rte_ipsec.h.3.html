<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rte_ipsec.h</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dpdk-doc">dpdk-doc_24.11.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rte_ipsec.h

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;rte_ipsec_sa.h&gt;
       #include &lt;rte_mbuf.h&gt;
       #include &lt;rte_ipsec_group.h&gt;

   <b>Data</b> <b>Structures</b>
       struct <b>rte_ipsec_state</b>
       struct <b>rte_ipsec_sa_pkt_func</b>
       struct <b>rte_ipsec_session</b>

   <b>Functions</b>
       int <b>rte_ipsec_session_prepare</b> (struct <b>rte_ipsec_session</b> *ss)
       static uint16_t <b>rte_ipsec_pkt_crypto_prepare</b> (const struct <b>rte_ipsec_session</b> *ss, struct <b>rte_mbuf</b> *mb[],
           struct <b>rte_crypto_op</b> *cop[], uint16_t num)
       static __rte_experimental uint16_t <b>rte_ipsec_pkt_crypto_prepare_stateless</b> (const struct <b>rte_ipsec_session</b>
           *ss, struct <b>rte_mbuf</b> *mb[], struct <b>rte_crypto_op</b> *cop[], uint16_t num, struct <b>rte_ipsec_state</b> *state)
       static __rte_experimental uint16_t <b>rte_ipsec_pkt_cpu_prepare_stateless</b> (const struct <b>rte_ipsec_session</b>
           *ss, struct <b>rte_mbuf</b> *mb[], uint16_t num, struct <b>rte_ipsec_state</b> *state)
       static uint16_t <b>rte_ipsec_pkt_process</b> (const struct <b>rte_ipsec_session</b> *ss, struct <b>rte_mbuf</b> *mb[],
           uint16_t num)
       int <b>rte_ipsec_telemetry_sa_add</b> (const struct rte_ipsec_sa *sa)
       void <b>rte_ipsec_telemetry_sa_del</b> (const struct rte_ipsec_sa *sa)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       RTE IPsec support.

       librte_ipsec provides a framework for data-path IPsec protocol processing (ESP/AH).

       Definition in file <b>rte_ipsec.h</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b> <b>rte_ipsec_session_prepare</b> <b>(struct</b> <b>rte_ipsec_session</b> <b>*</b> <b>ss)</b>
       Checks that inside given <b>rte_ipsec_session</b> crypto/security fields are filled correctly and setups
       function pointers based on these values. Expects that all fields except IPsec processing function
       pointers (<u>pkt_func</u>) will be filled correctly by caller.

       <b>Parameters</b>
           <u>ss</u> Pointer to the <b>rte_ipsec_session</b> <b>object</b>

       <b>Returns</b>

           • Zero if operation completed successfully.

           • -EINVAL if the parameters are invalid.

   <b>static</b>  <b>uint16_t</b>  <b>rte_ipsec_pkt_crypto_prepare</b>  <b>(const</b> <b>struct</b> <b>rte_ipsec_session</b> <b>*</b> <b>ss,</b> <b>struct</b> <b>rte_mbuf</b> <b>*</b> <b>mb[],</b>
       <b>struct</b> <b>rte_crypto_op</b> <b>*</b> <b>cop[],</b> <b>uint16_t</b> <b>num)</b> <b>[inline],</b>  <b>[static]</b>
       For input mbufs and given IPsec session prepare crypto ops  that  can  be  enqueued  into  the  cryptodev
       associated with given session. expects that for each input packet:

       • l2_len,  l3_len  are  setup  correctly Note that erroneous mbufs are not freed by the function, but are
         placed beyond last valid mbuf in the <u>mb</u> array. It is a user responsibility to handle them further.

       <b>Parameters</b>
           <u>ss</u> Pointer to the <b>rte_ipsec_session</b> <b>object</b> <b>the</b> <b>packets</b> <b>belong</b> <b>to.</b>
           <u>mb</u> <b>The</b> <b>address</b> <b>of</b> <b>an</b> <b>array</b> <b>of</b> <u>num</u> <b>pointers</b> <b>to</b> <b>rte_mbuf</b> <b>structures</b> <b>which</b> <b>contain</b> <b>the</b> <b>input</b> <b>packets.</b>
           <u>cop</u> <b>The</b> <b>address</b> <b>of</b> <b>an</b> <b>array</b> <b>of</b> <u>num</u> <b>pointers</b> <b>to</b> <b>the</b> <b>output</b> <b>rte_crypto_op</b> <b>structures.</b>
           <u>num</u> <b>The</b> <b>maximum</b> <b>number</b> <b>of</b> <b>packets</b> <b>to</b> <b>process.</b>

       <b>Returns</b>
           Number of successfully processed packets, with error code set in rte_errno.

       Definition at line <b>138</b> of file <b>rte_ipsec.h</b>.

   <b>static</b> <b>__rte_experimental</b> <b>uint16_t</b> <b>rte_ipsec_pkt_crypto_prepare_stateless</b> <b>(const</b> <b>struct</b>  <b>rte_ipsec_session</b>  <b>*</b>
       <b>ss,</b>  <b>struct</b>  <b>rte_mbuf</b> <b>*</b> <b>mb[],</b> <b>struct</b> <b>rte_crypto_op</b> <b>*</b> <b>cop[],</b> <b>uint16_t</b> <b>num,</b> <b>struct</b> <b>rte_ipsec_state</b> <b>*</b> <b>state)</b>
       <b>[inline],</b>  <b>[static]</b>
       Same as <u>rte_ipsec_pkt_crypto_prepare</u>, but processing is done based on IPsec state provided by the 'state'
       parameter. Internal IPsec state won't be updated when this API is called.

       For input mbufs and given IPsec session prepare crypto ops  that  can  be  enqueued  into  the  cryptodev
       associated with given session. expects that for each input packet:

       • l2_len,  l3_len  are  setup  correctly Note that erroneous mbufs are not freed by the function, but are
         placed beyond last valid mbuf in the <u>mb</u> array. It is a user responsibility to handle them further.

       <b>Parameters</b>
           <u>ss</u> Pointer to the <b>rte_ipsec_session</b> <b>object</b> <b>the</b> <b>packets</b> <b>belong</b> <b>to.</b>
           <u>mb</u> <b>The</b> <b>address</b> <b>of</b> <b>an</b> <b>array</b> <b>of</b> <u>num</u> <b>pointers</b> <b>to</b> <b>rte_mbuf</b> <b>structures</b> <b>which</b> <b>contain</b> <b>the</b> <b>input</b> <b>packets.</b>
           <u>cop</u> <b>The</b> <b>address</b> <b>of</b> <b>an</b> <b>array</b> <b>of</b> <u>num</u> <b>pointers</b> <b>to</b> <b>the</b> <b>output</b> <b>rte_crypto_op</b> <b>structures.</b>
           <u>num</u> <b>The</b> <b>maximum</b> <b>number</b> <b>of</b> <b>packets</b> <b>to</b> <b>process.</b>
           <u>state</u> <b>The</b> <b>IPsec</b> <b>state</b> <b>to</b> <b>be</b> <b>used</b> <b>for</b> <b>processing</b> <b>current</b> <b>batch</b> <b>of</b> <b>packets.</b>

       <b>Returns</b>
           Number of successfully processed packets, with error code set in rte_errno.

       Definition at line <b>180</b> of file <b>rte_ipsec.h</b>.

   <b>static</b> <b>__rte_experimental</b> <b>uint16_t</b> <b>rte_ipsec_pkt_cpu_prepare_stateless</b> <b>(const</b> <b>struct</b> <b>rte_ipsec_session</b> <b>*</b>  <b>ss,</b>
       <b>struct</b> <b>rte_mbuf</b> <b>*</b> <b>mb[],</b> <b>uint16_t</b> <b>num,</b> <b>struct</b> <b>rte_ipsec_state</b> <b>*</b> <b>state)</b> <b>[inline],</b>  <b>[static]</b>
       Same as <u>rte_ipsec_pkt_crypto_prepare_stateless</u>, but processing is done in synchronous mode.

       <b>Parameters</b>
           <u>ss</u> Pointer to the <b>rte_ipsec_session</b> <b>object</b> <b>the</b> <b>packets</b> <b>belong</b> <b>to.</b>
           <u>mb</u> <b>The</b> <b>address</b> <b>of</b> <b>an</b> <b>array</b> <b>of</b> <u>num</u> <b>pointers</b> <b>to</b> <b>rte_mbuf</b> <b>structures</b> <b>which</b> <b>contain</b> <b>the</b> <b>input</b> <b>packets.</b>
           <u>num</u> <b>The</b> <b>maximum</b> <b>number</b> <b>of</b> <b>packets</b> <b>to</b> <b>process.</b>
           <u>state</u> <b>The</b> <b>IPsec</b> <b>state</b> <b>to</b> <b>be</b> <b>used</b> <b>for</b> <b>processing</b> <b>current</b> <b>batch</b> <b>of</b> <b>packets.</b>

       <b>Returns</b>
           Number of successfully processed packets, with error code set in rte_errno.

       Definition at line <b>205</b> of file <b>rte_ipsec.h</b>.

   <b>static</b>  <b>uint16_t</b> <b>rte_ipsec_pkt_process</b> <b>(const</b> <b>struct</b> <b>rte_ipsec_session</b> <b>*</b> <b>ss,</b> <b>struct</b> <b>rte_mbuf</b> <b>*</b> <b>mb[],</b> <b>uint16_t</b>
       <b>num)</b> <b>[inline],</b>  <b>[static]</b>
       Finalise processing of packets after crypto-dev finished with them or process packets that  are  subjects
       to inline IPsec offload. Expects that for each input packet:

       • l2_len,  l3_len  are setup correctly Output mbufs will be: inbound - decrypted &amp; authenticated, ESP(AH)
         related headers removed, <u>l2_len</u> and <u>l3_len</u> fields are  updated.  outbound  -  appropriate  mbuf  fields
         (ol_flags,  tx_offloads, etc.) properly setup, if necessary - IP headers updated, ESP(AH) fields added,
         Note that erroneous mbufs are not freed by the function, but are placed beyond last valid mbuf  in  the
         <u>mb</u> array. It is a user responsibility to handle them further.

       <b>Parameters</b>
           <u>ss</u> Pointer to the <b>rte_ipsec_session</b> <b>object</b> <b>the</b> <b>packets</b> <b>belong</b> <b>to.</b>
           <u>mb</u> <b>The</b> <b>address</b> <b>of</b> <b>an</b> <b>array</b> <b>of</b> <u>num</u> <b>pointers</b> <b>to</b> <b>rte_mbuf</b> <b>structures</b> <b>which</b> <b>contain</b> <b>the</b> <b>input</b> <b>packets.</b>
           <u>num</u> <b>The</b> <b>maximum</b> <b>number</b> <b>of</b> <b>packets</b> <b>to</b> <b>process.</b>

       <b>Returns</b>
           Number of successfully processed packets, with error code set in rte_errno.

       Definition at line <b>235</b> of file <b>rte_ipsec.h</b>.

   <b>int</b> <b>rte_ipsec_telemetry_sa_add</b> <b>(const</b> <b>struct</b> <b>rte_ipsec_sa</b> <b>*</b> <b>sa)</b>
       Enable per SA telemetry for a specific SA. Note that this function is not thread safe

       <b>Parameters</b>
           <u>sa</u> Pointer to the <u>rte_ipsec_sa</u> object that will have telemetry enabled.

       <b>Returns</b>
           0 on success, negative value otherwise.

   <b>void</b> <b>rte_ipsec_telemetry_sa_del</b> <b>(const</b> <b>struct</b> <b>rte_ipsec_sa</b> <b>*</b> <b>sa)</b>
       Disable per SA telemetry for a specific SA. Note that this function is not thread safe

       <b>Parameters</b>
           <u>sa</u> Pointer to the <u>rte_ipsec_sa</u> object that will have telemetry disabled.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for DPDK from the source code.

DPDK                                             Version 24.11.2                                  <u><a href="../man3/rte_ipsec.h.3.html">rte_ipsec.h</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>