<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mojolicious::Static - Serve static files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmojolicious-perl">libmojolicious-perl_9.39+dfsg-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mojolicious::Static - Serve static files

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Mojolicious::Static;

         my $static = Mojolicious::Static-&gt;new;
         push @{$static-&gt;classes}, 'MyApp::Controller::Foo';
         push @{$static-&gt;paths}, '/home/sri/public';

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Mojolicious::Static is a static file server with "Range", "If-Modified-Since" and "If-None-Match"
       support, based on RFC 7232 &lt;https://tools.ietf.org/html/rfc7232&gt; and RFC 7233
       &lt;https://tools.ietf.org/html/rfc7233&gt;.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       Mojolicious::Static implements the following attributes.

   <b>asset_dir</b>
         my $dir = $static-&gt;asset_dir;
         $static = $static-&gt;asset_dir('assets');

       Subdirectory used for all static assets, defaults to "assets".

   <b>classes</b>
         my $classes = $static-&gt;classes;
         $static     = $static-&gt;classes(['main']);

       Classes to use for finding files in "DATA" sections with Mojo::Loader, first one has the highest
       precedence, defaults to "main". Only files with exactly one extension will be used, like "index.html".
       Note that for files to be detected, these classes need to have already been loaded and added before
       "warmup" is called, which usually happens automatically during application startup.

         # Add another class with static files in DATA section
         push @{$static-&gt;classes}, 'Mojolicious::Plugin::Fun';

         # Add another class with static files in DATA section and higher precedence
         unshift @{$static-&gt;classes}, 'Mojolicious::Plugin::MoreFun';

   <b>extra</b>
         my $extra = $static-&gt;extra;
         $static   = $static-&gt;extra({'foo/bar.txt' =&gt; '/home/sri/myapp/bar.txt'});

       Paths for extra files to be served from locations other than "paths", such as the images used by the
       built-in exception and not found pages. Note that extra files are only served if no better alternative
       could be found in "paths" and "classes".

         # Remove built-in favicon
         delete $static-&gt;extra-&gt;{'favicon.ico'};

   <b>paths</b>
         my $paths = $static-&gt;paths;
         $static   = $static-&gt;paths(['/home/sri/public']);

       Directories to serve static files from, first one has the highest precedence.

         # Add another "public" directory
         push @{$static-&gt;paths}, '/home/sri/public';

         # Add another "public" directory with higher precedence
         unshift @{$static-&gt;paths}, '/home/sri/themes/blue/public';

   <b>prefix</b>
         my $prefix = $static-&gt;prefix;
         $static    = $static-&gt;prefix('/static');

       Prefix to use for all static files, defaults to "undef". This can be very useful for production
       deployments where the reverse proxy server should take over serving static files.

</pre><h4><b>METHODS</b></h4><pre>
       Mojolicious::Static inherits all methods from Mojo::Base and implements the following new ones.

   <b>asset_path</b>
         my $path = $static-&gt;asset_path('/app.js');

       Get static asset path.

   <b>dispatch</b>
         my $bool = $static-&gt;dispatch(Mojolicious::Controller-&gt;new);

       Serve static file for Mojolicious::Controller object.

   <b>file</b>
         my $asset = $static-&gt;file('images/logo.png');
         my $asset = $static-&gt;file('../lib/MyApp.pm');

       Build Mojo::Asset::File or Mojo::Asset::Memory object for a file, relative to "paths" or from "classes",
       or return "undef" if it doesn't exist. Note that this method uses a relative path, but does not protect
       from traversing to parent directories.

         my $content = $static-&gt;file('foo/bar.html')-&gt;slurp;

   <b>file_path</b>
         my $path = $static-&gt;file_path('/index.html');

       Get static file path with "prefix" if it has been configured.

   <b>is_fresh</b>
         my $bool = $static-&gt;is_fresh(Mojolicious::Controller-&gt;new, {etag =&gt; 'abc'});
         my $bool = $static-&gt;is_fresh(
           Mojolicious::Controller-&gt;new, {etag =&gt; 'W/"def"'});

       Check freshness of request by comparing the "If-None-Match" and "If-Modified-Since" request headers to
       the "ETag" and "Last-Modified" response headers.

       These options are currently available:

       etag
           etag =&gt; 'abc'
           etag =&gt; 'W/"abc"'

         Add "ETag" header before comparing.

       last_modified
           last_modified =&gt; $epoch

         Add "Last-Modified" header before comparing.

   <b>serve</b>
         my $bool = $static-&gt;serve(Mojolicious::Controller-&gt;new, 'images/logo.png');
         my $bool = $static-&gt;serve(Mojolicious::Controller-&gt;new, '../lib/MyApp.pm');

       Serve a specific file, relative to "paths" or from "classes". Note that this method uses a relative path,
       but does not protect from traversing to parent directories.

   <b>serve_asset</b>
         $static-&gt;serve_asset(Mojolicious::Controller-&gt;new, Mojo::Asset::File-&gt;new);

       Serve   a   Mojo::Asset::File   or  Mojo::Asset::Memory  object  with  "Range",  "If-Modified-Since"  and
       "If-None-Match" support.

   <b>warmup</b>
         $static-&gt;warmup();

       Prepare static files from "classes" and static assets for future use.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mojolicious, Mojolicious::Guides, &lt;https://mojolicious.org&gt;.

perl v5.40.0                                       2024-12-07                           <u>Mojolicious::<a href="../man3pm/Static.3pm.html">Static</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>