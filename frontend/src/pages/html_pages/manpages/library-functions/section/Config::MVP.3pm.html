<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Config::MVP - multivalue-property package-oriented configuration</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libconfig-mvp-perl">libconfig-mvp-perl_2.200013-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Config::MVP - multivalue-property package-oriented configuration

</pre><h4><b>VERSION</b></h4><pre>
       version 2.200013

</pre><h4><b>SYNOPSIS</b></h4><pre>
       If you want a useful synopsis, consider this code which actually comes from Config::MVP::Assembler:

         my $assembler = Config::MVP::Assembler-&gt;new;

         # Maybe you want a starting section:
         my $section = $assembler-&gt;section_class-&gt;new({ name =&gt; '_' });
         $assembler-&gt;sequence-&gt;add_section($section);

         # We'll add some values, which will go to the starting section:
         $assembler-&gt;add_value(x =&gt; 10);
         $assembler-&gt;add_value(y =&gt; 20);

         # Change to a new section...
         $assembler-&gt;change_section($moniker);

         # ...and add values to that section.
         $assembler-&gt;add_value(x =&gt; 100);
         $assembler-&gt;add_value(y =&gt; 200);

       This doesn't make sense?  Well, read on.

       (You can also read the 2009 RJBS Advent Calendar article
       &lt;<a href="http://advent.rjbs.manxome.org/2009/2009-12-20.html">http://advent.rjbs.manxome.org/2009/2009-12-20.html</a>&gt; on Config::MVP!)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       MVP is a mechanism for loading configuration (or other information) for libraries.  It doesn't read a
       file or a database.  It's a helper for things that do.

       The idea is that you end up with a Config::MVP::Sequence object, and that you can use that object to
       fully configure your library or application.  The sequence will contain a bunch of Config::MVP::Section
       objects, each of which is meant to provide configuration for a part of your program.  Most of these
       sections will be directly related to a Perl library that you'll use as a plugin or helper.  Each section
       will have a name, and every name in the sequence will be unique.

       This is a pretty abstract set of behaviors, so we'll provide some more concrete examples that should help
       explain how things work.

</pre><h4><b>PERL</b> <b>VERSION</b></h4><pre>
       This module should work on any version of perl still receiving updates from the Perl 5 Porters.  This
       means it should work on any version of perl released in the last two to three years.  (That is, if the
       most recently released version is v5.40, then this module should work on both v5.40 and v5.38.)

       Although it may work on older versions of perl, no guarantee is made that the minimum required version
       will not be increased.  The version may be increased for any reason, and there is no promise that patches
       will be accepted to lower the minimum required perl.

</pre><h4><b>EXAMPLE</b></h4><pre>
       Imagine that we've got a program called DeliveryBoy that accepts mail and does stuff with it.  The
       "stuff" is entirely up to the user's configuration.  He can set up plugins that will be used on the
       message.  He writes a config file that's read by Config::MVP::Reader::INI, which is a thin wrapper around
       Config::MVP used to load MVP-style config from <u>INI</u> files.

       Here's the user's configuration:

         [Whitelist]
         require_pgp = 1

         file = whitelist-family
         file = whitelist-friends
         file = whitelist-work

         [SpamFilter]
         filterset = standard
         max_score = 5
         action    = bounce

         [SpamFilter / SpamFilter_2]
         filterset = aggressive
         max_score = 5
         action    = tag

         [VerifyPGP]

         [Deliver]
         dest = Maildir

       The user will end up with a sequence with five sections, which we can represent something like this:

         { name    =&gt; 'Whitelist',
           package =&gt; 'DeliveryBoy::Plugin::Whitelist',
           payload =&gt; {
             require_pgp =&gt; 1,
             files   =&gt; [ qw(whitelist-family whitelist-friends whitelist-work) ]
           },
         },
         { name    =&gt; 'SpamFilter',
           package =&gt; 'DeliveryBoy::Plugin::SpamFilter',
           payload =&gt; {
             filterset =&gt; 'standard',
             max_score =&gt; 5,
             action    =&gt; 'bounce',
           }
         },
         { name    =&gt; 'SpamFilter_2',
           package =&gt; 'DeliveryBoy::Plugin::SpamFilter',
           payload =&gt; {
             filterset =&gt; 'aggressive',
             max_score =&gt; 5,
             action    =&gt; 'tag',
           },
         },
         { name    =&gt; 'VerifyPGP',
           package =&gt; 'DeliveryBoy::Plugin::VerifyPGP',
           payload =&gt; { },
         },
         { name    =&gt; 'Deliver',
           package =&gt; 'DeliveryBoy::Plugin::Deliver',
           payload =&gt; { dest =&gt; 'Maildir' },
         },

       The INI reader uses Config::MVP::Assembler to build up configuration section by section as it goes, so
       that's how we'll talk about what's going on.

       Every section of the config file was converted into a section in the MVP sequence.  Each section has a
       unique name, which defaults to the name of the INI section.  Each section is also associated with a
       package, which was expanded from the INI section name.  The way that names are expanded can be customized
       by subclassing the assembler.

       Every section also has a payload -- a hashref of settings.  Note that every entry in every payload is a
       simple scalar except for one.  The "files" entry for the Whitelist section is an arrayref.  Also, note
       that while it appears as "files" in the final output, it was given as "file" in the input.

       Config::MVP provides a mechanism by which packages can define aliases for configuration names and an
       indication of what names correspond to "multi-value parameters."  (That's part of the meaning of the name
       "MVP.")  When the MVP assembler is told to start a section for "Whitelist" it expands the section name,
       loads the package, and inspects it for aliases and multivalue parameters.  Then if multiple entries for a
       non-multivalue parameter are given, an exception can be raised.  Multivalue parameters are always pushed
       onto arrayrefs and non-multivalue parameters are left as found.

   <b>...so</b> <b>what</b> <b>now?</b>
       So, once our DeliveryBoy program has loaded its configuration, it needs to initialize its plugins.  It
       can do something like the following:

         my $sequence = $deliveryboy-&gt;load_config;

         for my $section ($sequence-&gt;sections) {
           my $plugin = $section-&gt;package-&gt;new( $section-&gt;payload );
           $deliveryboy-&gt;add_plugin( $section-&gt;name, $plugin );
         }

       That's it!  In fact, allowing this very, very block of code to load configuration and initialize plugins
       is the goal of Config::MVP.

       The one thing not depicted is the notion of a "root section" that you might expect to see in an INI file.
       This can be easily handled by starting your assembler off with a pre-built section where root settings
       will end up.  For more information on this, look at the docs for the specific components.

</pre><h4><b>WHAT</b> <b>NEXT?</b></h4><pre>
   <b>Making</b> <b>Packages</b> <b>work</b> <b>with</b> <b>MVP</b>
       Any package can be used as part of an MVP section.  Packages can provide some methods to help MVP work
       with them.  It isn't a problem if they are not defined

       <u>mvp_aliases</u>

       This method should return a hashref of name remappings.  For example, if it returned this hashref:

         {
           file =&gt; 'files',
           path =&gt; 'files',
         }

       Then attempting to set either the "file" or "path" setting for the section would actually set the "files"
       setting.

       <u>mvp_multivalue_args</u>

       This method should return a list of setting names that may have multiple values and that will always be
       stored in an arrayref.

   <b>The</b> <b>Assembler</b>
       Config::MVP::Assembler is a state machine that makes it easy to build up your MVP-style configuration by
       firing off a series of events: new section, new setting, etc.  You might want to subclass it to change
       the class of sequence or section that's used or to change how section names are expanded into packages.

   <b>Sequences</b> <b>and</b> <b>Sections</b>
       Config::MVP::Sequence and Config::MVP::Section are the two most important classes in MVP.  They represent
       the overall configuration and each section of the configuration, respectively.  They're both fairly
       simple classes, and you probably won't need to subclass them, but it's easy.

   <b>Examples</b> <b>in</b> <b>the</b> <b>World</b>
       For examples of Config::MVP in use, you can look at Dist::Zilla or App::Addex.

</pre><h4><b>AUTHOR</b></h4><pre>
       Ricardo Signes &lt;<a href="mailto:cpan@semiotic.systems">cpan@semiotic.systems</a>&gt;

</pre><h4><b>CONTRIBUTORS</b></h4><pre>
       •   Alexandr Ciornii &lt;<a href="mailto:alexchorny@gmail.com">alexchorny@gmail.com</a>&gt;

       •   George Hartzell &lt;<a href="mailto:hartzell@alerce.com">hartzell@alerce.com</a>&gt;

       •   Karen Etheridge &lt;<a href="mailto:ether@cpan.org">ether@cpan.org</a>&gt;

       •   Kent Fredric &lt;<a href="mailto:kentfredric@gmail.com">kentfredric@gmail.com</a>&gt;

       •   Philippe Bruhat (BooK) &lt;<a href="mailto:book@cpan.org">book@cpan.org</a>&gt;

       •   Ricardo Signes &lt;<a href="mailto:rjbs@semiotic.systems">rjbs@semiotic.systems</a>&gt;

       •   Sven Kirmess &lt;<a href="mailto:sven.kirmess@kzone.ch">sven.kirmess@kzone.ch</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2022 by Ricardo Signes.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.36.0                                       2023-01-08                                   <u>Config::<a href="../man3pm/MVP.3pm.html">MVP</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>