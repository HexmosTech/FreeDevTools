<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>g2_unpack7.c - Unpack Section 7 (Data Section) of a GRIB2 message.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libg2c-dev">libg2c-dev_2.1.0-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       g2_unpack7.c - Unpack Section 7 (Data Section) of a GRIB2 message.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include 'grib2_int.h'
       #include &lt;<a href="file:/usr/include/memory.h">memory.h</a>&gt;
       #include &lt;<a href="file:/usr/include/string.h">string.h</a>&gt;

   <b>Functions</b>
       <b>g2int</b> <b>g2_unpack7</b> (unsigned char *cgrib, <b>g2int</b> *iofst, <b>g2int</b> igdsnum, <b>g2int</b> *igdstmpl, <b>g2int</b> idrsnum,
           <b>g2int</b> *idrstmpl, <b>g2int</b> ndpts, float **fld)
           This subroutine unpacks Section 7 (Data Section) of a GRIB2 message.
       int <b>g2c_unpack7</b> (unsigned char *cgrib, int igdsnum, int gds_tmpl_len, long long int *gdstmpl, int
           idrsnum, int drs_tmpl_len, long long int *drstmpl, int ndpts, float *fld)
           This subroutine unpacks Section 7 (Data Section) of a GRIB2 message.
       static <b>g2int</b> <b>g2c_unpack7_int</b> (unsigned char *cgrib, <b>g2int</b> *iofst, <b>g2int</b> igdsnum, <b>g2int</b> *igdstmpl, <b>g2int</b>
           idrsnum, <b>g2int</b> *idrstmpl, <b>g2int</b> ndpts, int v1, float **fld)
           Unpacks Section 7 (Data Section) of a GRIB2 message.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Unpack Section 7 (Data Section) of a GRIB2 message.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2002-10-31

   <b>Program</b> <b>History</b> <b>Log</b>
       Date   Programmer   Comments    2002-10-31   Gilbert   Initial    2002-12-20   Gilbert   Added GDT info
       to arguments and added 5.51 processing.    2003-08-29   Gilbert   New templates using PNG and JPEG2000
       algorithms/templates.    2004-11-29   Gilbert   JPEG2000 now allowed to use WMO Template 5.40 PNG allowed
       to use 5.41    2004-12-16   Taylor   Added check on comunpack return code.    2008-12-23   Wesley
       Initialize Number of data points unpacked.    2022-10-04   Hartnett   Added <b>g2c_unpack7()</b>.    2023-10-16
       Engle   Added support for DRT 5.42, AEC compression.

       Definition in file <b>g2_unpack7.c</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>g2int</b> <b>g2_unpack7</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>cgrib,</b> <b>g2int</b> <b>*</b> <b>iofst,</b> <b>g2int</b> <b>igdsnum,</b> <b>g2int</b> <b>*</b> <b>igdstmpl,</b> <b>g2int</b> <b>idrsnum,</b> <b>g2int</b>
       <b>*</b> <b>idrstmpl,</b> <b>g2int</b> <b>ndpts,</b> <b>float</b> <b>**</b> <b>fld)</b>
       This subroutine unpacks Section 7 (Data Section) of a GRIB2 message. This function is maintained for
       backward compatibility. Users may wish to use the newer <b>g2c_unpack7()</b> function instead.

       <b>Parameters</b>
           <u>cgrib</u> char array containing Section 7 of the GRIB2 message
           <u>iofst</u> Pointer to a bit offset of the beginning of Section 7 in cgrib. This is updated by this
           function to reflect the data read in this function. After this function is successfully called, the
           value pointed to by iofst will be the number of bits to the end of section 7 in cbuf.
           <u>igdsnum</u> Grid Definition Template Number (see Code Table 3.0). (Only used for DRS Template 5.51.)
           <u>igdstmpl</u> Pointer to an integer array containing the data values for the specified Grid Definition
           Template (N=igdsnum). Each element of this integer array contains an entry (in the order specified)
           of Grid Definition Template 3.N. (Only used for DRS Template 5.51).
           <u>idrsnum</u> Data Representation Template Number (see Code Table 5.0).
           <u>idrstmpl</u> Pointer to an integer array containing the data values for the specified Data Representation
           Template (N=idrsnum). Each element of this integer array contains an entry (in the order specified)
           of Data Representation Template 5.N
           <u>ndpts</u> Number of data points to be unpacked and returned.
           <u>fld</u> Pointer to a float pointer which gets a pointer to an array allocated by this function to hold
           the unpacked data. This memory must be freed by the caller.

       <b>Returns</b>

           • <b>G2_NO_ERROR</b> No error.

           • <b>G2_UNPACK_BAD_SEC</b> Array passed had incorrect section number.

           • <b>G2_UNPACK7_BAD_DRT</b> Unrecognized Data Representation Template.

           • <b>G2_UNPACK7_WRONG_GDT</b> need one of GDT 3.50 through 3.53 to decode DRT 5.51

           • <b>G2_UNPACK_NO_MEM</b> Memory allocation error.

           • <b>G2_UNPACK7_CORRUPT_SEC</b> Corrupt section 7.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2002-10-31

       Definition at line <b>214</b> of file <b>g2_unpack7.c</b>.

       References <b>g2c_unpack7_int()</b>.

       Referenced by <b>g2_getfld()</b>.

   <b>int</b>  <b>g2c_unpack7</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>cgrib,</b> <b>int</b> <b>igdsnum,</b> <b>int</b> <b>gds_tmpl_len,</b> <b>long</b> <b>long</b> <b>int</b> <b>*</b> <b>gdstmpl,</b> <b>int</b> <b>idrsnum,</b>
       <b>int</b> <b>drs_tmpl_len,</b> <b>long</b> <b>long</b> <b>int</b> <b>*</b> <b>drstmpl,</b> <b>int</b> <b>ndpts,</b> <b>float</b> <b>*</b> <b>fld)</b>
       This subroutine unpacks Section 7 (Data Section) of a GRIB2 message. This function is the  newer  version
       of <b>g2_unpack7()</b>.

       <b>Parameters</b>
           <u>cgrib</u> char array containing Section 7 of the GRIB2 message
           <u>igdsnum</u>  Grid Definition Template Number (see Code Table 3.0). (Only used for DRS Template 5.51.) May
           be zero for other templates.
           <u>gds_tmpl_len</u> Number of elements in the GDS template.
           <u>gdstmpl</u> Pointer to an integer array containing the data values  for  the  specified  Grid  Definition
           Template  (N=igdsnum).  Each element of this integer array contains an entry (in the order specified)
           of Grid Definition Template 3.N. (Only used for DRS Template 5.51). May be NULL.
           <u>idrsnum</u> Data Representation Template Number (see Code Table 5.0).
           <u>drs_tmpl_len</u> Number of elements in the DRS template.
           <u>drstmpl</u> Pointer to an integer array containing the data values for the specified Data  Representation
           Template  (N=idrsnum).  Each element of this integer array contains an entry (in the order specified)
           of Data Representation Template 5.N
           <u>ndpts</u> Number of data points to be unpacked and returned.
           <u>fld</u> Pointer which the data. Memory must be allocated in advance by caller.

       <b>Returns</b>

           • <b>G2_NO_ERROR</b> No error.

           • <b>G2_UNPACK_BAD_SEC</b> Array passed had incorrect section number.

           • <b>G2_UNPACK7_BAD_DRT</b> Unrecognized Data Representation Template.

           • <b>G2_UNPACK7_WRONG_GDT</b> need one of GDT 3.50 through 3.53 to decode DRT 5.51

           • <b>G2_UNPACK_NO_MEM</b> Memory allocation error.

           • <b>G2_UNPACK7_CORRUPT_SEC</b> Corrupt section 7.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2002-10-31

       Definition at line <b>259</b> of file <b>g2_unpack7.c</b>.

       References <b>G2C_EINVAL</b>, <b>G2C_ENOMEM</b>, <b>g2c_unpack7_int()</b>, and <b>LOG</b>.

       Referenced by <b>g2c_get_prod()</b>.

   <b>static</b> <b>g2int</b> <b>g2c_unpack7_int</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>cgrib,</b> <b>g2int</b> <b>*</b> <b>iofst,</b> <b>g2int</b> <b>igdsnum,</b> <b>g2int</b>  <b>*</b>  <b>igdstmpl,</b>  <b>g2int</b>
       <b>idrsnum,</b> <b>g2int</b> <b>*</b> <b>idrstmpl,</b> <b>g2int</b> <b>ndpts,</b> <b>int</b> <b>v1,</b> <b>float</b> <b>**</b> <b>fld)</b> <b>[static]</b>
       Unpacks  Section  7  (Data  Section) of a GRIB2 message. This function is the internal function called by
       both <b>g2_unpack7()</b> and <b>g2c_unpack7()</b>.

       <b>Parameters</b>
           <u>cgrib</u> char array containing Section 7 of the GRIB2 message
           <u>iofst</u> Pointer to a bit offset of the beginning of Section  7  in  cgrib.  This  is  updated  by  this
           function  to  reflect the data read in this function. After this function is successfully called, the
           value pointed to by iofst will be the number of bits to the end of section 7 in cbuf.
           <u>igdsnum</u> Grid Definition Template Number (see Code Table 3.0). (Only used for DRS Template  5.51.  May
           be 0 for other templates.)
           <u>igdstmpl</u>  Pointer  to  an  integer array containing the data values for the specified Grid Definition
           Template (N=igdsnum). Each element of this integer array contains an entry (in the  order  specified)
           of Grid Definition Template 3.N. (Only used for DRS Template 5.51, may be NULL for other templates).
           <u>idrsnum</u> Data Representation Template Number (see Code Table 5.0).
           <u>idrstmpl</u> Pointer to an integer array containing the data values for the specified Data Representation
           Template  (N=idrsnum).  Each element of this integer array contains an entry (in the order specified)
           of Data Representation Template 5.N
           <u>ndpts</u> Number of data points to be unpacked and returned.
           <u>v1</u> If non-zero, then act like the V1 G2C API. This includes:

           • printing error messages to stderr in the event of error.

           • returning V1 error codes.

           <u>fld</u> Pointer to a float pointer which gets a pointer to an array allocated by this  function  to  hold
           the unpacked data. This memory must be freed by the caller.

       <b>Returns</b>

           • <b>G2_NO_ERROR</b> No error.

           • <b>G2_UNPACK_BAD_SEC</b> Array passed had incorrect section number.

           • <b>G2_UNPACK7_BAD_DRT</b> Unrecognized Data Representation Template.

           • <b>G2_UNPACK7_WRONG_GDT</b> need one of GDT 3.50 through 3.53 to decode DRT 5.51

           • <b>G2_UNPACK_NO_MEM</b> Memory allocation error.

           • <b>G2_UNPACK7_CORRUPT_SEC</b> Corrupt section 7.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2002-10-31

       Definition at line <b>67</b> of file <b>g2_unpack7.c</b>.

       References    <b>aecunpack()</b>,    <b>comunpack()</b>,   <b>G2_NO_ERROR</b>,   <b>G2_UNPACK7_BAD_DRT</b>,   <b>G2_UNPACK7_CORRUPT_SEC</b>,
       <b>G2_UNPACK7_WRONG_GDT</b>,  <b>G2_UNPACK_BAD_SEC</b>,  <b>G2_UNPACK_NO_MEM</b>,  <b>gbit()</b>,  <b>jpcunpack()</b>,   <b>LOG</b>,   <b>pngunpack()</b>,
       <b>rdieee()</b>, <b>simunpack()</b>, and <b>specunpack()</b>.

       Referenced by <b>g2_unpack7()</b>, and <b>g2c_unpack7()</b>.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for NCEPLIBS-g2c from the source code.

NCEPLIBS-g2c                                      Version 2.1.0                                  <u><a href="../man3/g2_unpack7.c.3.html">g2_unpack7.c</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>