<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cap_init, cap_free, cap_dup - capability data object storage management</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcap-dev">libcap-dev_2.75-7ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cap_init, cap_free, cap_dup - capability data object storage management

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;sys/capability.h&gt;

       cap_t cap_init(void);
       int cap_free(void *obj_d);
       cap_t cap_dup(cap_t cap_p);

       Link with <u>-lcap</u>.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  capabilities  associated with a file or process are never edited directly.  Instead, working storage
       is allocated to  contain  a  representation  of  the  capability  state.   Capabilities  are  edited  and
       manipulated only within this working storage area.  Once editing of the capability state is complete, the
       updated capability state is used to replace the capability state associated with the file or process.

       <b>cap_init</b>()  creates  a capability state in working storage and returns a pointer to the capability state.
       The initial value of all flags are cleared.  The caller should  free  any  releasable  memory,  when  the
       capability  state  in  working  storage is no longer required, by calling <b>cap_free</b>() with the <u>cap_t</u> as an
       argument.

       <b>cap_free</b>() liberates any releasable memory that has been allocated to the capability state identified  by
       <u>obj_d</u>.   The  <u>obj_d</u>  argument  may  identify  either  a <u>cap_t</u> entity, or a <u>char</u> <u>*</u> entity allocated by the
       <b>cap_to_text</b>() function.

       <b>cap_dup</b>() returns a duplicate capability state in working storage  given  by  the  source  object  <u>cap_p</u>,
       allocating  any  memory  necessary,  and returning a pointer to the newly created capability state.  Once
       duplicated, no operation on either capability state affects the other in any way.   When  the  duplicated
       capability  state  in working storage is no longer required, the caller should free any releasable memory
       by calling <b>cap_free</b>() with the <u>cap_t</u> as an argument.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>cap_init</b>() and <b>cap_dup</b>() return a non-NULL value on success, and NULL on failure.

       <b>cap_free</b>() returns zero on success, and -1 on failure.

       On failure, <u>errno</u> is set to <b>EINVAL</b> or <b>ENOMEM</b>.

</pre><h4><b>CONFORMING</b> <b>TO</b></h4><pre>
       These functions are specified in the withdrawn POSIX.1e draft specification.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/libcap.3.html">libcap</a></b>(3),   <b><a href="../man3/cap_clear.3.html">cap_clear</a></b>(3),   <b><a href="../man3/cap_copy_ext.3.html">cap_copy_ext</a></b>(3),   <b><a href="../man3/cap_from_text.3.html">cap_from_text</a></b>(3),    <b><a href="../man3/cap_get_file.3.html">cap_get_file</a></b>(3),    <b><a href="../man3/cap_get_proc.3.html">cap_get_proc</a></b>(3),
       <b><a href="../man7/capabilities.7.html">capabilities</a></b>(7)

                                                   2021-03-06                                        <u><a href="../man3/CAP_INIT.3.html">CAP_INIT</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>