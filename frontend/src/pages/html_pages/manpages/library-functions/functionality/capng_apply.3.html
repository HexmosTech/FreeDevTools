<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>capng_apply - apply the stored capabilities settings</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcap-ng-dev">libcap-ng-dev_0.8.5-4build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       capng_apply - apply the stored capabilities settings

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;cap-ng.h&gt;</b>

       int capng_apply(capng_select_t set);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       capng_apply  will  transfer the specified internal POSIX capabilities settings to the kernel. The options
       are CAPNG_SELECT_CAPS for  the  traditional  capabilities,  CAPNG_SELECT_BOUNDS  for  the  bounding  set,
       CAPNG_SELECT_BOTH  if transferring both is desired, CAPNG_SELECT_AMBIENT if only operating on the ambient
       capabilities, or CAPNG_SELECT_ALL if applying all is desired.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       This returns 0 on success and a negative value on failure. The values are:

              -1 not initialized

              -2 CAPNG_SELECT_BOUNDS and failure to drop a bounding set capability

              -3 CAPNG_SELECT_BOUNDS and failure to re-read bounding set

              -4 CAPNG_SELECT_BOUNDS and process does not have CAP_SETPCAP

              -5 CAPNG_SELECT_CAPS and failure in capset syscall

              -6 CAPNG_SELECT_AMBIENT and process has no capabilities and failed clearing ambient capabilities

              -7 CAPNG_SELECT_AMBIENT and process has capabilities and failed clearing ambient capabilities

              -8 CAPNG_SELECT_AMBIENT and process has capabilities and failed setting an ambient capability

              -9 Unable to acquire process capabilities to check if CAP_SETPCAP is set.

</pre><h4><b>NOTES</b></h4><pre>
       If you are doing multi-threaded programming, calling this function will  only  set  capabilities  on  the
       calling  thread.  All  other threads are unaffected. If you want to set overall capabilities for a multi-
       threaded process, you will need to do that before creating any threads. See the capset syscall  for  more
       information on this topic.

       Also,  bits  in  the  bounding  set can only be dropped. You cannot set them. After dropping bounding set
       capabilities, the bounding set is synchronized with the kernel to reflect the true state in the kernel.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/capset.2.html">capset</a></b>(2), <b><a href="../man3/capng_update.3.html">capng_update</a></b>(3), <b><a href="../man7/capabilities.7.html">capabilities</a></b>(7)

</pre><h4><b>AUTHOR</b></h4><pre>
       Steve Grubb

Red Hat                                             Sept 2023                                     <u><a href="../man3/CAPNG_APPLY.3.html">CAPNG_APPLY</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>