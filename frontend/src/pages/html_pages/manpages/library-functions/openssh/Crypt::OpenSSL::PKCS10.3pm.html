<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypt::OpenSSL::PKCS10 - Perl extension to OpenSSL's PKCS10 API.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcrypt-openssl-pkcs10-perl">libcrypt-openssl-pkcs10-perl_0.26-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Crypt::OpenSSL::PKCS10 - Perl extension to OpenSSL's PKCS10 API.

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Crypt::OpenSSL::PKCS10 qw( :const );

         my $req = Crypt::OpenSSL::PKCS10-&gt;new;
         $req-&gt;set_subject("/C=RO/O=UTI/OU=ssi");
         $req-&gt;add_ext(Crypt::OpenSSL::PKCS10::NID_key_usage,"critical,digitalSignature,keyEncipherment");
         $req-&gt;add_ext(Crypt::OpenSSL::PKCS10::NID_ext_key_usage,"serverAuth, nsSGC, msSGC, 1.3.4");
         $req-&gt;add_ext(Crypt::OpenSSL::PKCS10::NID_subject_alt_name,"email:<a href="mailto:steve@openssl.org">steve@openssl.org</a>");
         $req-&gt;add_custom_ext('1.2.3.3',"My new extension");
         $req-&gt;add_ext_final();
         $req-&gt;sign();
         $req-&gt;write_pem_req('request.pem');
         $req-&gt;write_pem_pk('pk.pem');
         print $req-&gt;get_pem_pubkey();
         print $req-&gt;pubkey_type();
         print $req-&gt;get_pem_req();

</pre><h4><b>ABSTRACT</b></h4><pre>
         Crypt::OpenSSL::PKCS10 - Perl extension to OpenSSL's PKCS10 API.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Crypt::OpenSSL::PKCS10 provides the ability to create PKCS10 certificate requests using RSA key pairs.

</pre><h4><b>Class</b> <b>Methods</b></h4><pre>
       new Create  a  new  Crypt::OpenSSL::PKCS10 object by generating a new RSA key pair. There is one optional
           argument, the key size, which has the default value of 1024 if omitted.

       new_from_rsa( $rsa_object )
           Create a new Crypt::OpenSSL::PKCS10 object  by  using  key  information  from  a  Crypt::OpenSSL::RSA
           object. Here is an example:

             my $rsa = Crypt::OpenSSL::RSA-&gt;<a href="../man512/generate_key.512.html">generate_key</a>(512);
             my $req = Crypt::OpenSSL::PKCS10-&gt;new_from_rsa($rsa);

           OpenSSL 3.0 has deprecated the RSA object which Crypt::OpenSSL::RSA creates.  <b>new_from_rsa()</b> is now a
           perl  sub  which  obtains  the  private key as a string that is also passed to the <b>_new_from_rsa()</b> XS
           function.

       new_from_file( $filename )
           Create a new Crypt::OpenSSL::PKCS10 object by reading the request and  key  information  from  a  PEM
           formatted file. Here is an example:

             my $req = Crypt::OpenSSL::PKCS10-&gt;new_from_file("CSR.csr");

</pre><h4><b>Instance</b> <b>Methods</b></h4><pre>
       set_subject($subject, [ $utf8 ])
         Sets   the   subject   DN   of   the  request.   Note:  $subject  is  expected  to  be  in  the  format
         /type0=value0/type1=value1/type2=... where characters may be  escaped  by  \.   If  $utf8  is  non-zero
         integer, $subject is interpreted as UTF-8 string.

       add_ext($nid, $extension)
         Adds  a  new  extension  to  the request. The first argument $nid is one of the exported constants (see
         below).  The second one $extension is a string (for more info read <a href="../man3/openssl.3.html">openssl</a>(3)).

           $req-&gt;add_ext(Crypt::OpenSSL::PKCS10::NID_key_usage,"critical,digitalSignature,keyEncipherment");
           $req-&gt;add_ext(Crypt::OpenSSL::PKCS10::NID_ext_key_usage,"serverAuth, nsSGC, msSGC, 1.3.4");
           $req-&gt;add_ext(Crypt::OpenSSL::PKCS10::NID_subject_alt_name,"email:<a href="mailto:steve@openssl.org">steve@openssl.org</a>");

       add_custom_ext($oid, $desc)
         Adds a new custom extension to the request. The value is added as a text string, using  ASN.1  encoding
         rules inherited from the Netscape Comment OID.

           $req-&gt;add_custom_ext('1.2.3.3',"My new extension");

       add_custom_ext_raw($oid, $bytes)
         Adds  a  new custom extension to the request. The value is added as a raw DER octet string. Use this if
         you are packing your own ASN.1 structures and need to set the extension value directly.

           $req-&gt;add_custom_ext_raw($oid, pack('H*','1E06006100620063')) # BMPString 'abc'

       <b>add_ext_final()</b>
         This must be called after all extensions has been added. It actually  copies  the  extension  stack  to
         request structure.

           $req-&gt;add_ext(Crypt::OpenSSL::PKCS10::NID_subject_alt_name,"email:<a href="mailto:my@email.org">my@email.org</a>");
           $req-&gt;add_ext_final();

       <b>sign()</b>
         This adds the signature to the PKCS10 request.

           $req-&gt;sign();

       <b>pubkey_type()</b>
         Returns the type of the PKCS10 public key - one of (rsa|dsa|ec).

           $req-&gt;pubkey_type();

       <b>get_pubkey()</b>
         Returns the PEM encoding of the PKCS10 public key.

           $req-&gt;get_pubkey();

       <b>get_pem_req()</b>
         Returns the PEM encoding of the PKCS10 request.

           $req-&gt;get_pem_req();

       write_pem_req($filename)
         Writes the PEM encoding of the PKCS10 request to a given file.

           $req-&gt;write_pem_req('request.pem');

       <b>get_pem_pk()</b>
         Returns the PEM encoding of the private key.

           $req-&gt;get_pem_pk();

       write_pem_pk($filename)
         Writes the PEM encoding of the private key to a given file.

           $req-&gt;write_pem_pk('request.pem');

       <b>subject()</b>
         returns the subject of the PKCS10 request

           $subject = $req-&gt;subject();

       <b>keyinfo()</b>
         returns the human readable info about the key of the PKCS10 request

           $keyinfo = $req-&gt;keyinfo();

   <b>EXPORT</b>
       None by default.

       On request:

               NID_key_usage NID_subject_alt_name NID_netscape_cert_type NID_netscape_comment
               NID_ext_key_usage

</pre><h4><b>BUGS</b></h4><pre>
       If  you  destroy  $req object that is linked to a Crypt::OpenSSL::RSA object, the RSA private key is also
       freed, thus you can't use latter object anymore. Avoid this:

         my $rsa = Crypt::OpenSSL::RSA-&gt;<a href="../man512/generate_key.512.html">generate_key</a>(512);
         my $req = Crypt::OpenSSL::PKCS10-&gt;new_from_rsa($rsa);
         undef $req;
         print $rsa-&gt;get_private_key_string();

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       "Crypt::OpenSSL::RSA", "Crypt::OpenSSL::X509".

</pre><h4><b>AUTHOR</b></h4><pre>
       JoNO, &lt;<a href="mailto:jonozzz@yahoo.com">jonozzz@yahoo.com</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright (C) 2006 by JoNO

       This library is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself, either Perl version 5.8.2 or, at your option, any later version of Perl 5 you may have available.

perl v5.40.0                                       2024-10-20                        <u>Crypt::OpenSSL::<a href="../man3pm/PKCS10.3pm.html">PKCS10</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>