<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>transfer::copy - Data transfer foundation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       transfer::copy - Data transfer foundation

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.5</b> <b>9</b>

       package require <b>transfer::copy</b> <b>?0.3?</b>

       <b>transfer::copy::do</b> <b>chan</b>|<b>string</b> <u>data</u> <u>outchannel</u> ?<u>options</u>...?

       <b>transfer::copy::chan</b> <u>channel</u> <u>outchannel</u> ?<u>options</u>...?

       <b>transfer::copy::string</b> <u>string</u> <u>outchannel</u> ?<u>options</u>...?

       <b>transfer::copy::doChan</b> <u>channel</u> <u>outchannel</u> <u>optvar</u>

       <b>transfer::copy::doString</b> <u>string</u> <u>outchannel</u> <u>optvar</u>

       <b>transfer::copy::options</b> <u>outchannel</u> <u>optionlist</u> <u>optvar</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  package  provides  a  number  of commands for the asynchronous of information contained in either a
       string or channel. The main point of this package is that the commands here provide a nicer callback  API
       than the builtin command <b>fcopy</b>, making the use of these facilities simpler than the builtin.

</pre><h4><b>API</b></h4><pre>
       <b>transfer::copy::do</b> <b>chan</b>|<b>string</b> <u>data</u> <u>outchannel</u> ?<u>options</u>...?
              This  command  transfers  the information in <u>data</u> to the <u>outchannel</u>, according to the <u>options</u>. The
              type of the information in <u>data</u> is determined by the first argument.

              The  options  available  to  this  command  are  the  same  as  are  available  to   the   command
              <b>transfer::copy::options</b>, and explained there.

              <b>chan</b>   The  argument  <u>data</u> contains the handle of a channel and the actual infomration to transfer
                     is read from that channel.

              <b>string</b> The argument <u>data</u> contains a string and this is the information to be transfered.

       <b>transfer::copy::chan</b> <u>channel</u> <u>outchannel</u> ?<u>options</u>...?
              This command is a shorter and more direct form for the command <b>transfer::copy::do</b> <b>chan</b>.

       <b>transfer::copy::string</b> <u>string</u> <u>outchannel</u> ?<u>options</u>...?
              This command is a shorter and more direct form for the command <b>transfer::copy::do</b> <b>string</b>.

       <b>transfer::copy::doChan</b> <u>channel</u> <u>outchannel</u> <u>optvar</u>
              This command is an alternate form of <b>transfer::copy::chan</b> which reads its options out of the array
              variable named by <u>optvar</u> instead of from a variable length argument list.

       <b>transfer::copy::doString</b> <u>string</u> <u>outchannel</u> <u>optvar</u>
              This command is an alternate form of <b>transfer::copy::string</b> which reads its  options  out  of  the
              array variable named by <u>optvar</u> instead of from a variable length argument list.

       <b>transfer::copy::options</b> <u>outchannel</u> <u>optionlist</u> <u>optvar</u>
              This  command is the option processor used by all the commands above which read their options from
              a variable length argument  list.  It  first  reads  default  settings  from  the  channel  handle
              <u>outchannel</u>,  then  processes  the list of options in <u>optionlist</u>, at last stores the results in the
              array variable named by <u>optvar</u>. The contents of that variable are in a format  which  is  directly
              understood by all the commands above which read their options out of an array variable.

              The recognized options are:

              <b>-blocksize</b> <u>int</u>
                     This  option  specifies the size of the chunks to transfer in one operation. It is optional
                     and defaults to the value of <b>-buffersize</b> as configured for the output channel.

                     If specified its value has to be an integer number greater than zero.

              <b>-command</b> <u>commandprefix</u>
                     This option specifies the completion callback of the  operation.  This  option  has  to  be
                     specified.  An  error  will  be  thrown if it is not, or if the empty list was specified as
                     argument to it.

                     Its value has to be a command prefix, i.e. a list  whose  first  word  is  the  command  to
                     execute,  followed by words containing fixed arguments. When the callback is invoked one or
                     two additional arguments are appended to the prefix. The first argument is  the  number  of
                     bytes  which were transfered. The optional second argument is an error message and added if
                     and only if an error occured during the the transfer.

              <b>-progress</b> <u>commandprefix</u>
                     This option specifies the progress callback of the operation. It is optional  and  defaults
                     to  the  empty  list.  This  last  possibility  signals  that no feedback was asked for and
                     disabled it.

                     Its value has to be a command prefix, see above, <b>-command</b> for a more detailed  explanation.
                     When  the callback is invoked a single additional arguments is appended to the prefix. This
                     argument is the number of bytes which were transfered so far.

              <b>-size</b> <u>int</u>
                     This option specifies the number of bytes to read from the input data and transfer.  It  is
                     optional  and defaults to "Transfer everything".  Its value has to be an integer number and
                     any value less than zero has the same meaning, i.e. to transfer  all  available  data.  Any
                     other value is the amount of bytes to transfer.

                     All  transfer commands will throw error an when their user tries to transfer more data than
                     is available in the input. This  happens  immediately,  before  the  transfer  is  actually
                     started,  should  the  input  be  a string. Otherwise the, i.e. for a channel as input, the
                     error is thrown the moment the underflow condition is actually detected.

              <b>-encoding</b> <u>encodingname</u>

              <b>-eofchar</b> <u>eofspec</u>

              <b>-translation</b> <u>transspec</u>
                     These options are the same as are recognized by the builtin command <b>fconfigure</b> and  provide
                     the  settings  for  the output channel which are to be active during the transfer, and only
                     then. I.e. the settings of the output channel before the transfer are saved,  and  restored
                     at  the  end of a transfer, regardless of its success or failure. None of these options are
                     required, and they default to the settings of the output channel if not specified.

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This document, and the package it describes, will undoubtedly contain bugs and  other  problems.   Please
       report  such  in  the  category  <u>transfer</u>  of the <u>Tcllib</u> <u>Trackers</u> [<a href="http://core.tcl.tk/tcllib/reportlist">http://core.tcl.tk/tcllib/reportlist</a>].
       Please also report any ideas for enhancements you may have for either package and/or documentation.

       When proposing code changes, please provide <u>unified</u> <u>diffs</u>, i.e the output of <b>diff</b> <b>-u</b>.

       Note further that <u>attachments</u> are strongly preferred over inlined patches. Attachments  can  be  made  by
       going  to the <b>Edit</b> form of the ticket immediately after its creation, and then using the left-most button
       in the secondary navigation bar.

</pre><h4><b>KEYWORDS</b></h4><pre>
       channel, copy, transfer

</pre><h4><b>CATEGORY</b></h4><pre>
       Transfer module

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2006-2009 Andreas Kupries &lt;<a href="mailto:andreas_kupries@users.sourceforge.net">andreas_kupries@users.sourceforge.net</a>&gt;

tcllib                                                 0.3                                  <u>transfer::<a href="../man3tcl/copy.3tcl.html">copy</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>