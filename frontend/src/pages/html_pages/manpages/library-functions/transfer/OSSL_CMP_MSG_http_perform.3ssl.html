<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSSL_CMP_MSG_http_perform - client-side HTTP(S) transfer of a CMP request-response pair</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       OSSL_CMP_MSG_http_perform - client-side HTTP(S) transfer of a CMP request-response pair

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/cmp.h&gt;

        OSSL_CMP_MSG *OSSL_CMP_MSG_http_perform(OSSL_CMP_CTX *ctx,
                                                const OSSL_CMP_MSG *req);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>OSSL_CMP_MSG_http_perform()</b> sends the given PKIMessage <u>req</u> to the CMP server specified in <u>ctx</u> and returns
       the result obtained from it.

       If <b><a href="../man3/OSSL_CMP_CTX_set_transfer_cb_arg.3.html">OSSL_CMP_CTX_set_transfer_cb_arg</a></b>(3) has been used to set the transfer callback argument then the
       provided pointer <u>bios</u> is taken as a two-element <b>BIO</b> array to use for the exchange with the server as
       described for the <u>bio</u> and <u>rbio</u> parameters of <b><a href="../man3/OSSL_HTTP_open.3.html">OSSL_HTTP_open</a></b>(3).  For instance, the two BIO pointers may
       be equal and refer to a TLS connection, such as in BRSKI-AE where a pre-established TLS channel is reused
       for CMP.

       Otherwise the server specified via <b><a href="../man3/OSSL_CMP_CTX_set1_server.3.html">OSSL_CMP_CTX_set1_server</a></b>(3) and optionally
       <b><a href="../man3/OSSL_CMP_CTX_set_serverPort.3.html">OSSL_CMP_CTX_set_serverPort</a></b>(3) is contacted, where the default port is 80 for HTTP and 443 for HTTPS.
       The HTTP path (aka "CMP alias" in this context) to use is by default "/", otherwise the string specified
       via <b><a href="../man3/OSSL_CMP_CTX_set1_serverPath.3.html">OSSL_CMP_CTX_set1_serverPath</a></b>(3).  On success the function returns the server's response PKIMessage.

       The function makes use of any HTTP callback function set via <b><a href="../man3/OSSL_CMP_CTX_set_http_cb.3.html">OSSL_CMP_CTX_set_http_cb</a></b>(3).  It respects
       any timeout value set via <b><a href="../man3/OSSL_CMP_CTX_set_option.3.html">OSSL_CMP_CTX_set_option</a></b>(3) with an <b>OSSL_CMP_OPT_MSG_TIMEOUT</b> argument.  It also
       respects any HTTP(S) proxy options set via <b><a href="../man3/OSSL_CMP_CTX_set1_proxy.3.html">OSSL_CMP_CTX_set1_proxy</a></b>(3) and <b><a href="../man3/OSSL_CMP_CTX_set1_no_proxy.3.html">OSSL_CMP_CTX_set1_no_proxy</a></b>(3)
       and the respective environment variables.  Proxying plain HTTP is supported directly, while using a proxy
       for HTTPS connections requires a suitable callback function such as <b><a href="../man3/OSSL_HTTP_proxy_connect.3.html">OSSL_HTTP_proxy_connect</a></b>(3).

</pre><h4><b>NOTES</b></h4><pre>
       CMP is defined in RFC 4210.  HTTP transfer for CMP is defined in RFC 6712.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>OSSL_CMP_MSG_http_perform()</b> returns the received CMP response message on success, else NULL.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/OSSL_CMP_CTX_new.3.html">OSSL_CMP_CTX_new</a></b>(3), <b><a href="../man3/OSSL_HTTP_open.3.html">OSSL_HTTP_open</a></b>(3), and <b><a href="../man3/OSSL_HTTP_proxy_connect.3.html">OSSL_HTTP_proxy_connect</a></b>(3).

</pre><h4><b>HISTORY</b></h4><pre>
       The OpenSSL CMP support was added in OpenSSL 3.0.

       The <b>OSSL_CMP_MSG_http_perform()</b> use of transfer_cb_arg was added in OpenSSL 3.5.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2007-2025 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                    <u><a href="../man3SSL/OSSL_CMP_MSG_HTTP_PERFORM.3SSL.html">OSSL_CMP_MSG_HTTP_PERFORM</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>