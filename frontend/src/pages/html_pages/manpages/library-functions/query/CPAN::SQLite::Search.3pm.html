<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPAN::SQLite::Search - perform queries on the database</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcpan-sqlite-perl">libcpan-sqlite-perl_0.220-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CPAN::SQLite::Search - perform queries on the database

</pre><h4><b>VERSION</b></h4><pre>
       version 0.220

</pre><h4><b>SYNOPSIS</b></h4><pre>
         my $max_results = 200;
         my $query = CPAN::SQLite::Search-&gt;new(db_dir =&gt; $db_dir,
                                               db_name =&gt; $db_name,
                                               max_results =&gt; $max_results);
         $query-&gt;query(mode =&gt; 'module', name =&gt; 'Net::FTP');
         my $results = $query-&gt;{results};

</pre><h4><b>CONSTRUCTING</b> <b>THE</b> <b>QUERY</b></h4><pre>
       This module queries the database via various types of queries and returns the results for subsequent
       display. The "CPAN::SQLite::Search" object is created via the "new" method as

         my $query = CPAN::SQLite::Search-&gt;new(db_dir =&gt; $db_dir,
                                               db_name =&gt; $db_name,
                                               max_results =&gt; $max_results);

       which takes as arguments

       •  db_dir =&gt; $db_dir

          This  is  the  directory  where  the database file is stored. This is optional if the "CPAN" option is
          given.

       •  CPAN =&gt; $CPAN

          This option specifies the "cpan_home" directory of an already configured CPAN.pm, which is  where  the
          database file will be stored if "db_dir" is not given.

       •  max_results =&gt; $max_results

          This  is  the  maximum  value  used to limit the number of results returned under a user query. If not
          specified, a value contained within "CPAN::SQLite::Search" will be used.

       A basic query then is constructed as

          $query-&gt;query(mode =&gt; $mode, $type =&gt; $value);

       with the results available as

          my $results = $query-&gt;{results}

       There are three basic modes:

       •  module

          This is for information on modules.

       •  dist

          This is for information on distributions.

       •  author

          This is for information on CPAN authors or cpanids.

   <b>"module",</b> <b>"dist",</b> <b>and</b> <b>"author"</b> <b>modes</b>
       For a mode of "module", "dist", and "author", there are four basic options to be used for the  "$type  =&gt;
       $value" option:

       •  query =&gt; $query_term

          This will search through module names, distribution names, or CPAN author names and ids (for "module",
          "dist",  and  "author"  modes  respectively).  The  results  are  case  insensitive,  and Perl regular
          expressions for the $query_term are recognized.

       •  name =&gt; $name

          This will report exact matches (in a case sensitive manner) for the module name, distribution name, or
          CPAN author id, for "module", "dist", and "author" modes respectively.

       •  id =&gt; $id

          This will look up information on the primary key according to the mode specified.  This  is  more  for
          internal  use,  to  help speed up queries; using this "publically" is probably not a good idea, as the
          ids may change over the course of time.

</pre><h4><b>RESULTS</b></h4><pre>
       After making the query, the results can be accessed through

         my $results = $query-&gt;{results};

       No results either can mean no matches were found, or else an error in making the query resulted (in which
       case, a brief error message is contained in "$query-&gt;{error}").  Assuming  there  are  results,  what  is
       returned  depends  on  the mode and on the type of query. See CPAN::SQLite::Populate for a description of
       the fields in the various tables listed below - these fields are used as the keys of the hash  references
       that arise.

   <b>"author"</b> <b>mode</b>
       •  "name" or "id" query

          This  returns the "auth_id", "cpanid", "email", and "fullname" of the "auths" table. As well, an array
          reference "$results-&gt;{dists}" is returned representing all distributions associated with that "cpanid"
          - each member of the array reference is  a  hash  reference  describing  the  "dist_id",  "dist_name",
          "dist_abs", "dist_vers", and "dist_file" fields in the "dists" table. An additional entry, "download",
          is supplied, which can be used as "$CPAN/authors/id/$download" to specify the url of the distribution.

       •  "query" query

          If this results in more than one match, an array reference is returned, each member of which is a hash
          reference  containing  the  "auth_id",  "cpanid",  and  "fullname" fields. If there is only one result
          found, a "name" query based on the matched "cpanid" is performed.

   <b>"module"</b> <b>mode</b>
       •  "name" or "id" query

          This returns the "mod_id", "mod_name", "mod_abs",  "mod_vers",  "dist_id",  "dist_name",  "dist_file",
          "auth_id", "cpanid", "fullname", and "email" of the "auths", "mods", and "dists" tables.  As well, the
          following entries may be present.

          •  "download"

             This can be used as "$CPAN/authors/id/$download" to specify the url of the distribution.

       •  "query" query

          If this results in more than one match, an array reference is returned, each member of which is a hash
          reference   containing  the  "mod_id",  "mod_name",  "mod_abs",  "mod_abs",  "dist_vers",  "dist_abs",
          "auth_id", "cpanid", "dist_id", "dist_name", and "dist_file".  As well, a "download" field  which  can
          be  used  as "$CPAN/authors/id/$download" to specify the url of the distribution is provided. If there
          is only one result found, a "name" query based on the matched "mod_name" is performed.

   <b>"dist"</b> <b>mode</b>
       •  "name" or "id" query

          This returns the  "dist_id",  "dist_name",  "dist_abs",  "dist_vers",  "dist_file",  "size",  "birth",
          "auth_id",  "cpanid",  and  "fullname"  of  the  "auths",  "mods",  and  "dists" tables.  As well, the
          following entries may be present.

          •  "download"

             This can be used as "$CPAN/authors/id/$download" to specify the url of the distribution.

          •  "mods"

             This is an array reference containing information on the modules present.  Each  entry  is  a  hash
             reference containing the "mod_id", "mod_name", "mod_abs", and "mod_vers" fields for the module.

       •  "query" query

          If this results in more than one match, an array reference is returned, each member of which is a hash
          reference  containing  the  "dist_id",  "dist_name",  "dist_abs", "dist_file", and "cpanid" fields. As
          well, a "download" field which can be used as "$CPAN/authors/id/$download" to specify the url  of  the
          distribution  is  provided.  If  there  is  only one result found, a "name" query based on the matched
          "dist_name" is performed.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       CPAN::SQLite::Populate.

</pre><h4><b>AUTHORS</b></h4><pre>
       Randy Kobes (passed away on September 18, 2010)

       Serguei Trouchelle &lt;<a href="mailto:stro@cpan.org">stro@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2006,2008 by Randy Kobes &lt;<a href="mailto:r.kobes@uwinnipeg.ca">r.kobes@uwinnipeg.ca</a>&gt;.

       Copyright 2011-2013 by Serguei Trouchelle &lt;<a href="mailto:stro@cpan.org">stro@cpan.org</a>&gt;.

       Use and redistribution are under the same terms as Perl itself.

perl v5.36.0                                       2022-10-30                          <u>CPAN::SQLite::<a href="../man3pm/Search.3pm.html">Search</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>