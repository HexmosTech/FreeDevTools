<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pgFormatter::Beautify - Library for pretty-printing SQL queries</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/pgformatter">pgformatter_5.6-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pgFormatter::Beautify - Library for pretty-printing SQL queries

</pre><h4><b>VERSION</b></h4><pre>
       Version 5.6

</pre><h4><b>SYNOPSIS</b></h4><pre>
       This module can be used to reformat given SQL query, optionally anonymizing parameters.

       Output can be either plain text, or it can be HTML with appropriate styles so that it can be displayed on
       a web page.

       Example usage:

           my $beautifier = pgFormatter::Beautify-&gt;new();
           $beautifier-&gt;query( 'select a,b,c from d where e = f' );

           $beautifier-&gt;beautify();
           my $nice_txt = $beautifier-&gt;content();

           $beautifier-&gt;format('html');
           $beautifier-&gt;beautify();
           my $nice_html = $beautifier-&gt;content();

           $beautifier-&gt;format('html');
           $beautifier-&gt;anonymize();
           $beautifier-&gt;beautify();
           my $nice_anonymized_html = $beautifier-&gt;content();

           $beautifier-&gt;format();
           $beautifier-&gt;beautify();
           $beautifier-&gt;wrap_lines()
           my $wrapped_txt = $beautifier-&gt;content();

</pre><h4><b>FUNCTIONS</b></h4><pre>
   <b>new</b>
       Generic constructor - creates object, sets defaults, and reads config from given hash with options.

       Takes options as hash. Following options are recognized:

       •   break - String that is used for linebreaks. Default is "\n".

       •   colorize  -  if set to false CSS style will not be applied to html output. Used internally to display
           errors in CGI mode withour style.

       •   comma - set comma at beginning or end of a line in a parameter list

           end - put comma at end of the list (default)
           start - put comma at beginning of the list
       •   comma_break - add new-line after each comma in INSERT statements

       •   format - set beautify format to apply to the content (default: text)

           text - output content as plain/text (command line mode default)
           html - output text/html with CSS style applied to content (CGI mode default)
       •   functions - list (arrayref) of strings that are function names

       •   keywords - list (arrayref) of strings that are keywords

       •   multiline - use multi-line search for placeholder regex, see placeholder.

       •   no_comments - if set to true comments will be removed from query

       •   no_grouping - if set to true statements will not be  grouped  in  a  transaction,  an  extra  newline
           character will be added between statements like outside a transaction.

       •   placeholder - use the specified regex to find code that must not be changed in the query.

       •   query - query to beautify

       •   rules - hash of rules - uses rule semantics from SQL::Beautify

       •   space - character(s) to be used as space for indentation

       •   spaces - how many spaces to use for indentation

       •   uc_functions - what to do with function names:

           0 - do not change
           1 - change to lower case
           2 - change to upper case
           3 - change to Capitalized
       •   separator - string used as dynamic code separator, default is single quote

       •   uc_keywords - what to do with keywords - meaning of value like with uc_functions

       •   uc_types - what to do with data types - meaning of value like with uc_functions

       •   wrap - wraps given keywords in pre- and post- markup. Specific docs in SQL::Beautify

       •   format_type - try an other formatting

       •   wrap_limit - wrap queries at a certain length

       •   wrap_after - number of column after which lists must be wrapped

       •   wrap_comment - apply wrapping to comments starting with --

       •   numbering - statement numbering as a comment before each query

       •   redshift - add Redshift keywords (obsolete, use --extra-keyword)

       •   no_extra_line - do not add an extra empty line at end of the output

       •   keep_newline - preserve empty line in plpgsql code

       •   no_space_function - remove space before function call and open parenthesis

       •   redundant_parenthesis - do not eliminate redundant parenthesis in DML queries

       For defaults, please check function set_defaults.

   <b>query</b>
       Accessor to query string. Both reads:

           $object-&gt;query()

       , and writes

           $object-&gt;query( $something )

   <b>content</b>
       Accessor to content of results. Must be called after $object-&gt;<b>beautify()</b>.

       This can be either plain text or html following the format asked by the client with the $object-&gt;<b>format()</b>
       method.

   <b>highlight_code</b>
       Makes result html with styles set for highlighting.

   <b>tokenize_sql</b>
       Splits input SQL into tokens

       Code lifted from SQL::Beautify

   <b>beautify</b>
       Beautify SQL.

       After calling this function, $object-&gt;<b>content()</b> will contain nicely indented result.

       Code lifted from SQL::Beautify

   <b>_add_token</b>
       Add a token to the beautified string.

       Code lifted from SQL::Beautify

   <b>_over</b>
       Increase the indentation level.

       Code lifted from SQL::Beautify

   <b>_back</b>
       Decrease the indentation level.

       Code lifted from SQL::Beautify

   <b>_indent</b>
       Return  a  string  of  spaces  according  to  the  current  indentation  level and the spaces setting for
       indenting.

       Code lifted from SQL::Beautify

   <b>_new_line</b>
       Add a line break, but make sure there are no empty lines.

       Code lifted from SQL::Beautify

   <b>_next_token</b>
       Have a look at the token that's coming up next.

       Code lifted from SQL::Beautify

   <b>_next_token_skip_comment</b>
       Have a look at the token that's coming up next omitting comments.

       Code lifted from SQL::Beautify

   <b>_token</b>
       Get the next token, removing it from the list of remaining tokens.

       Code lifted from SQL::Beautify

   <b>_is_keyword</b>
       Check if a token is a known SQL keyword.

       Code lifted from SQL::Beautify

   <b>_is_type</b>
       Check if a token is a known SQL type

   <b>_is_comment</b>
       Check if a token is a SQL or C style comment

   <b>_is_function</b>
       Check if a token is a known SQL function.

       Code lifted from SQL::Beautify and rewritten to check one long regexp instead of a lot of small ones.

   <b>add_keywords</b>
       Add new keywords to highlight.

       Code lifted from SQL::Beautify

   <b>_re_from_list</b>
       Create compiled regexp from prefix, suffix and and a list of values to match.

   <b>_refresh_functions_re</b>
       Refresh compiled regexp for functions.

   <b>add_functions</b>
       Add new functions to highlight.

       Code lifted from SQL::Beautify

   <b>add_rule</b>
       Add new rules.

       Code lifted from SQL::Beautify

   <b>_get_rule</b>
       Find custom rule for a token.

       Code lifted from SQL::Beautify

   <b>_process_rule</b>
       Applies defined rule.

       Code lifted from SQL::Beautify

   <b>_is_constant</b>
       Check if a token is a constant.

       Code lifted from SQL::Beautify

   <b>_is_punctuation</b>
       Check if a token is punctuation.

       Code lifted from SQL::Beautify

   <b>_generate_anonymized_string</b>
       Simply generate a random string, thanks to Perlmonks.

       Returns original in certain cases which don't require anonymization, like timestamps, or intervals.

   <b>anonymize</b>
       Anonymize litteral in SQL queries by replacing parameters with fake values

   <b>set_defaults</b>
       Sets defaults for newly created objects.

       Currently defined defaults:

       spaces =&gt; 4
       space =&gt; ' '
       break =&gt; "\n"
       uc_keywords =&gt; 2
       uc_functions =&gt; 0
       uc_types =&gt; 1
       no_comments =&gt; 0
       no_grouping =&gt; 0
       placeholder =&gt; ''
       multiline =&gt; 0
       separator =&gt; ''
       comma =&gt; 'end'
       format =&gt; 'text'
       colorize =&gt; 1
       format_type =&gt; 0
       wrap_limit =&gt; 0
       wrap_after =&gt; 0
       wrap_comment =&gt; 0
       no_extra_line =&gt; 0
       keep_newline =&gt; 0
       no_space_function =&gt; 0
       redundant_parenthesis =&gt; 0

   <b>format</b>
       Set output format - possible values: 'text' and 'html'

       Default is text output. Returns 0 in case or wrong format and use default.

   <b>set_dicts</b>
       Sets various dictionaries (lists of keywords, functions, symbols, and the like)

       This was moved to separate function, so it can be put at the very end of module so it will be  easier  to
       read the rest of the code.

   <b>_remove_dynamic_code</b>
       Internal  function  used to hide dynamic code in plpgsql to the parser.  The original values are restored
       with function <b>_restore_dynamic_code()</b>.

   <b>_restore_dynamic_code</b>
       Internal  function  used  to  restore  plpgsql  dynamic  code  in  plpgsql  that  was  removed   by   the
       <b>_remove_dynamic_code()</b> method.

   <b>_quote_operator</b>
       Internal  function  used to quote operator with multiple character to be tokenized as a single word.  The
       original values are restored with function <b>_restore_operator()</b>.

   <b>_restore_operator</b>
       Internal function used to restore operator that was removed by the <b>_quote_operator()</b> method.

   <b>_quote_comment_stmt</b>
       Internal function used to replace constant in a COMMENT statement to be tokenized as a single word.   The
       original values are restored with function <b>_restore_comment_stmt()</b>.

   <b>_restore_comment_stmt</b>
       Internal function used to restore comment string that was removed by the <b>_quote_comment_stmt()</b> method.

   <b>_remove_comments</b>
       Internal  function  used  to remove comments in SQL code to simplify the work of the wrap_lines. Comments
       must be restored with the <b>_restore_comments()</b> method.

   <b>_restore_comments</b>
       Internal function used to restore comments in SQL code that was removed by the <b>_remove_comments()</b> method.

   <b>wrap_lines</b>
       Internal function used to wrap line at a certain length.

</pre><h4><b>AUTHOR</b></h4><pre>
       pgFormatter is an original work from Gilles Darold

</pre><h4><b>BUGS</b></h4><pre>
       Please report any bugs or feature requests to: https://github.com/darold/pgFormatter/issues

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2012-2025 Gilles Darold. All rights reserved.

</pre><h4><b>LICENSE</b></h4><pre>
       pgFormatter is free software distributed under the PostgreSQL Licence.

       A modified version of the SQL::Beautify Perl Module is embedded in pgFormatter with copyright (C) 2009 by
       Jonas Kramer and is published under the terms of the Artistic License 2.0.

perl v5.40.1                                       2025-03-18                         <u>pgFormatter::<a href="../man3pm/Beautify.3pm.html">Beautify</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>