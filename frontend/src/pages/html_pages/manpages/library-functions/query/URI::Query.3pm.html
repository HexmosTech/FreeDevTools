<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URI::Query - class providing URI query string manipulation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liburi-query-perl">liburi-query-perl_0.16-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       URI::Query - class providing URI query string manipulation

</pre><h4><b>SYNOPSIS</b></h4><pre>
           # Constructor - using a GET query string
           $qq = URI::Query-&gt;new($query_string);
           # OR Constructor - using a hashref of key =&gt; value parameters
           $qq = URI::Query-&gt;new($cgi-&gt;Vars);
           # OR Constructor - using an array of successive keys and values
           $qq = URI::Query-&gt;new(@params);

           # Clone the current object
           $qq2 = $qq-&gt;clone;

           # Revert back to the initial constructor state (to do it all again)
           $qq-&gt;revert;

           # Remove all occurrences of the given parameters
           $qq-&gt;strip('page', 'next');

           # Remove all parameters except the given ones
           $qq-&gt;strip_except('pagesize', 'order');

           # Remove all empty/undefined parameters
           $qq-&gt;strip_null;

           # Replace all occurrences of the given parameters
           $qq-&gt;replace(page =&gt; $page, foo =&gt; 'bar');

           # Set the argument separator to use for output (default: unescaped '&amp;')
           $qq-&gt;separator(';');

           # Output the current query string
           print "$qq";           # OR $qq-&gt;stringify;
           # Stringify with explicit argument separator
           $qq-&gt;stringify(';');

           # Output the current query string with a leading '?'
           $qq-&gt;qstringify;
           # Stringify with a leading '?' and an explicit argument separator
           $qq-&gt;qstringify(';');

           # Get a flattened hash/hashref of the current parameters
           #   (single item parameters as scalars, multiples as an arrayref)
           my %qq = $qq-&gt;hash;

           # Get a non-flattened hash/hashref of the current parameters
           #   (parameter =&gt; arrayref of values)
           my %qq = $qq-&gt;hash_arrayref;

           # Get the current query string as a set of hidden input tags
           print $qq-&gt;hidden;

           # Check whether the query has changed since construction
           if ($qq-&gt;has_changed) {
             print "changed version: $qq\n";
           }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       URI::Query provides simple URI query string manipulation, allowing you to create and manipulate URI query
       strings from GET and POST requests in web applications. This is primarily useful for creating links where
       you wish to preserve some subset of the parameters to the current request, and potentially add or replace
       others. Given a query string this is doable with regexes, of course, but making sure you get the
       anchoring and escaping right is tedious and error-prone - this module is simpler.

   <b>CONSTRUCTOR</b>
       URI::Query objects can be constructed from scalar query strings ('foo=1&amp;bar=2&amp;bar=3'), from a hashref
       which has parameters as keys, and values either as scalars or arrayrefs of scalars (to handle the case of
       parameters with multiple values e.g. { foo =&gt; '1', bar =&gt; [ '2', '3' ] }), or arrays composed of
       successive parameters-value pairs e.g. ('foo', '1', 'bar', '2', 'bar', '3'). For instance:

           # Constructor - using a GET query string
           $qq = URI::Query-&gt;new($query_string);

           # Constructor - using an array of successive keys and values
           $qq = URI::Query-&gt;new(@params);

           # Constructor - using a hashref of key =&gt; value parameters,
           # where values are either scalars or arrayrefs of scalars
           $qq = URI::Query-&gt;new($cgi-&gt;Vars);

       URI::Query also handles CGI.pm-style hashrefs, where multiple values are packed into a single string,
       separated by the "\0" (null) character.

       All keys and values are URI unescaped at construction time, and are stored and referenced unescaped. So a
       query string like:

           group=prod%2Cinfra%2Ctest&amp;op%3Aset=x%3Dy

       is stored as:

           'group'     =&gt; 'prod,infra,test'
           'op:set'    =&gt; 'x=y'

       You should always use the unescaped/normal variants in methods i.e.

            $qq-&gt;replace('op:set'  =&gt; 'x=z');

       NOT:

            $qq-&gt;replace('op%3Aset'  =&gt; 'x%3Dz');

       You can also construct a new URI::Query object by cloning an existing one:

            $qq2 = $qq-&gt;clone;

   <b>MODIFIER</b> <b>METHODS</b>
       All modifier methods change the state of the URI::Query object in some way, and return $self, so they can
       be used in chained style e.g.

           $qq-&gt;revert-&gt;strip('foo')-&gt;replace(bar =&gt; 123);

       Note that URI::Query stashes a copy of the parameter set that existed at construction time, so that any
       changes made by these methods can be rolled back using '<b>revert()</b>'. So you don't (usually) need to keep
       multiple copies around to handle incompatible changes.

       <b>revert()</b>
           Revert  the current parameter set back to that originally given at construction time i.e. discard all
           changes made since construction.

       strip($param1, $param2, ...)
           Remove all occurrences of the given parameters and their values from the current parameter set.

       strip_except($param1, $param2, ...)
           Remove all parameters EXCEPT those given from the current parameter set.

       <b>strip_null()</b>
           Remove all parameters that have a value of undef from the current parameter set.

       replace($param1 =&gt; $value1, $param2, $value2, ...)
           Replace the values of the given parameters  in  the  current  parameter  set  with  these  new  ones.
           Parameter  names  must  be  scalars,  but  values can be either scalars or arrayrefs of scalars, when
           multiple values are desired.

           Note that 'replace' can also be used to  add  or  append,  since  there's  no  requirement  that  the
           parameters already exist in the current parameter set.

       strip_like($regex)
           Remove all parameters whose names match the given (qr-quoted) regex e.g.

               $qq-&gt;strip_like(qr/^utm/)

           Does NOT match against parameter values.

       separator($separator)
           Set the argument separator to use for output. Default: '&amp;'.

   <b>ACCESSOR</b> <b>METHODS</b>
       <b>has_changed()</b>
           If  the  query  is  actually changed by any of the modifier methods (strip, strip_except, strip_null,
           strip_like, or replace) it sets an internal changed flag which can be access by:

               $qq-&gt;has_changed

           <b>revert()</b> resets the has_changed flag to false.

   <b>OUTPUT</b> <b>METHODS</b>
       "$qq", <b>stringify()</b>, stringify($separator)
           Return the current parameter set as a conventional param=value query string, using $separator as  the
           separator if given. e.g.

               foo=1&amp;bar=2&amp;bar=3

           Note  that  all  parameters  and values are URI escaped by <b>stringify()</b>, so that query-string reserved
           characters do not occur within elements. For instance, a parameter set of:

               'group'     =&gt; 'prod,infra,test'
               'op:set'    =&gt; 'x=y'

           will be stringified as:

               group=prod%2Cinfra%2Ctest&amp;op%3Aset=x%3Dy

       <b>qstringify()</b>, qstringify($separator)
           Convenience method to stringify with a leading '?' e.g.

               ?foo=1&amp;bar=2&amp;bar=3

       <b>hash()</b>
           Return a hash (in list context) or hashref (in scalar context) of the current parameter set.  Single-
           item parameters have scalar values, while while multiple-item parameters have arrayref values e.g.

               {
                   foo =&gt; 1,
                   bar =&gt; [ 2, 3 ],
               }

       <b>hash_arrayref()</b>
           Return  a  hash  (in  list  context) or hashref (in scalar context) of the current parameter set. All
           values are returned as arrayrefs, including those with single values e.g.

               {
                   foo =&gt; [ 1 ],
                   bar =&gt; [ 2, 3 ],
               }

       <b>hidden()</b>
           Returns the current parameter set as a concatenated string of hidden input tags, one  per  parameter-
           value e.g.

               &lt;input type="hidden" name="foo" value="1" /&gt;
               &lt;input type="hidden" name="bar" value="2" /&gt;
               &lt;input type="hidden" name="bar" value="3" /&gt;

</pre><h4><b>BUGS</b> <b>AND</b> <b>CAVEATS</b></h4><pre>
       Please  report  bugs  and/or  feature  requests  to  "bug-uri-query  at  rt.cpan.org", or through the web
       interface at &lt;<a href="http://rt.cpan.org/NoAuth/ReportBug.html">http://rt.cpan.org/NoAuth/ReportBug.html</a>?Queue=URI-Query&gt;.

       Should allow unescaping of input to be turned off, for situations in which it's already been done. Please
       let me know if you find you actually need this.

       I don't think it makes sense on the output side though, since you need to understand the structure of the
       query to escape elements correctly.

</pre><h4><b>PATCHES</b></h4><pre>
       URI::Query code lives at &lt;https://github.com/gavincarr/URI-Query&gt;.  Patches / pull requests welcome!

</pre><h4><b>AUTHOR</b></h4><pre>
       Gavin Carr &lt;<a href="mailto:gavin@openfusion.com.au">gavin@openfusion.com.au</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2004-2015, Gavin Carr.

       This program is free software. You may copy or redistribute it under the same terms as perl itself.

       # vim:sw=4:et

perl v5.34.0                                       2022-06-28                                    <u>URI::<a href="../man3pm/Query.3pm.html">Query</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>