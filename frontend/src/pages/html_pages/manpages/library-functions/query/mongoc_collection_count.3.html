<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deprecated      since      version      1.11.0:     Use     mongoc_collection_count_documents()     or</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmongoc-doc">libmongoc-doc_1.30.4-1ubuntu1_all</a> <br><br><pre>
</pre><h4><b>WARNING:</b></h4><pre>
          Deprecated      since      version      1.11.0:     Use     <u>mongoc_collection_count_documents()</u>     or
          <u>mongoc_collection_estimated_document_count()</u> instead.

          <u>mongoc_collection_count_documents()</u> has similar performance to calling <u>mongoc_collection_count()</u>  with
          a  non-NULL  <b>query</b>,  and  is  guaranteed  to retrieve an accurate collection count. See <u>migrating</u> <u>from</u>
          <u>deprecated</u> <u>count</u> <u>functions</u> for details.

          <u>mongoc_collection_estimated_document_count()</u>    has    the     same     performance     as     calling
          <u>mongoc_collection_count()</u>  with a NULL <b>query</b>, but is not guaranteed to retrieve an accurate collection
          count.

       This function is considered a retryable read operation.  Upon a transient error (a network error,  errors
       due  to  replica set failover, etc.) the operation is safely retried once.  If <b>retryreads</b> is false in the
       URI (see <u>mongoc_uri_t</u>) the retry behavior does not apply.

</pre><h4><b>SYNOPSIS</b></h4><pre>
          int64_t
          mongoc_collection_count (mongoc_collection_t *collection,
                                   mongoc_query_flags_t flags,
                                   const bson_t *query,
                                   int64_t skip,
                                   int64_t limit,
                                   const mongoc_read_prefs_t *read_prefs,
                                   bson_error_t *error);

</pre><h4><b>PARAMETERS</b></h4><pre>
       • <b>collection</b>: A <u>mongoc_collection_t</u>.

       • <b>flags</b>: A <u>mongoc_query_flags_t</u>.

       • <b>query</b>: A <u>bson_t</u> containing the query.

       • <b>skip</b>: A int64_t, zero to ignore.

       • <b>limit</b>: A int64_t, zero to ignore.

       • <b>read_prefs</b>: A <u>mongoc_read_prefs_t</u> or <b>NULL</b>.

       • <b>error</b>: An optional location for a <u>bson_error_t</u> or <b>NULL</b>.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This function shall execute a count query on  the  underlying  'collection'.  The  bson  'query'  is  not
       validated, simply passed along as appropriate to the server.  As such, compatibility and errors should be
       validated in the appropriate server documentation.

       For more information, see the <u>query</u> <u>reference</u> at the MongoDB website.

       The  <u>mongoc_read_concern_t</u>  specified  on  the <u>mongoc_collection_t</u> will be used, if any. If <b>read_prefs</b> is
       NULL, the collection's read preferences are used.

</pre><h4><b>ERRORS</b></h4><pre>
       Errors are propagated via the <b>error</b> parameter.

</pre><h4><b>RETURNS</b></h4><pre>
       -1 on failure, otherwise the number of documents counted.

</pre><h4><b>EXAMPLE</b></h4><pre>
          #include &lt;bson/bson.h&gt;
          #include &lt;mongoc/mongoc.h&gt;
          #include &lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;

          static void
          print_query_count (mongoc_collection_t *collection, bson_t *query)
          {
             bson_error_t error;
             int64_t count;

             count = mongoc_collection_count (
                collection, MONGOC_QUERY_NONE, query, 0, 0, NULL, &amp;error);

             if (count &lt; 0) {
                fprintf (stderr, "Count failed: %s\n", error.message);
             } else {
                printf ("%" PRId64 " documents counted.\n", count);
             }
          }

</pre><h4><b>AUTHOR</b></h4><pre>
       MongoDB, Inc

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2009-present, MongoDB, Inc.

1.30.4                                            Jun 08, 2025                        <u><a href="../man3/MONGOC_COLLECTION_COUNT.3.html">MONGOC_COLLECTION_COUNT</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>