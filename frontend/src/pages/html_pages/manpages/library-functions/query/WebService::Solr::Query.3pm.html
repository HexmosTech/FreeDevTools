<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebService::Solr::Query - Abstract query syntax for Solr queries</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libwebservice-solr-perl">libwebservice-solr-perl_0.44-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       WebService::Solr::Query - Abstract query syntax for Solr queries

</pre><h4><b>SYNOPSIS</b></h4><pre>
           my $query  = WebService::Solr::Query-&gt;new( { foo =&gt; 'bar' } );
           my $result = $solr-&gt;search( $query );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       WebService::Solr::Query provides a programmatic way to generate queries to be sent to Solr. Syntax wise,
       it attempts to be as close to SQL::Abstract WHERE clauses as possible, with obvious exceptions for idioms
       that do not exist in SQL. Just as values in SQL::Abstract are SQL-escaped, this module does the
       appropriate Solr-escaping on all values passed to the object (see "escape()").

</pre><h4><b>QUERY</b> <b>SYNTAX</b></h4><pre>
   <b>Key-Value</b> <b>Pairs</b>
       The simplest way to search is with key value pairs.

           my $q = WebService::Solr::Query-&gt;new( { foo =&gt; 'bar' } );
           # RESULT: (foo:"bar")

   <b>Implicit</b> <b>AND</b> <b>and</b> <b>OR</b>
       By default, data received as a HASHREF is AND'ed together.

           my $q = WebService::Solr::Query-&gt;new( { foo =&gt; 'bar', baz =&gt; 'quux' } );
           # RESULT: (foo:"bar" AND baz:"quux")

       Furthermore, data received as an ARRAYREF is OR'ed together.

           my $q = WebService::Solr::Query-&gt;new( { foo =&gt; [ 'bar', 'baz' ] } );
           # RESULT: (foo:"bar" OR foo:"baz")

   <b>Nested</b> <b>AND</b> <b>and</b> <b>OR</b>
       The ability to nest AND and OR boolean operators is essential to express complex queries. The "-and" and
       "-or" prefixes have been provided for this need.

           my $q = WebService::Solr::Query-&gt;new( { foo =&gt; [
               -and =&gt; { -prohibit =&gt; 'bar' }, { -require =&gt; 'baz' }
           ] } );
           # RESULT: (((-foo:"bar") AND (+foo:"baz")))

           my $q = WebService::Solr::Query-&gt;new( { foo =&gt; [
               -or =&gt; { -require =&gt; 'bar' }, { -prohibit =&gt; 'baz' }
           ] } );
           # RESULT: (((+foo:"bar") OR (-foo:"baz")))

   <b>Default</b> <b>Field</b>
       To search the default field, use the "-default" prefix.

           my $q = WebService::Solr::Query-&gt;new( { -default =&gt; 'bar' } );
           # RESULT: ("bar")

   <b>Require/Prohibit</b>
           my $q = WebService::Solr::Query-&gt;new( { foo =&gt; { -require =&gt; 'bar' } } );
           # RESULT: (+foo:"bar")

           my $q = WebService::Solr::Query-&gt;new( { foo =&gt; { -prohibit =&gt; 'bar' } } );
           # RESULT: (-foo:"bar")

   <b>Range</b>
       There are two types of range queries, inclusive ("-range_inc") and exclusive ("-range_exc"). The "-range"
       prefix can be used in place of "-range_inc".

           my $q = WebService::Solr::Query-&gt;new( { foo =&gt; { -range =&gt; ['a', 'z'] } } );
           # RESULT: (+foo:[a TO z])

           my $q = WebService::Solr::Query-&gt;new( { foo =&gt; { -range_exc =&gt; ['a', 'z'] } } );
           # RESULT: (+foo:{a TO z})

   <b>Boost</b>
           my $q = WebService::Solr::Query-&gt;new( { foo =&gt; { -boost =&gt; [ 'bar', '2.0' ] } } );
           # RESULT: (foo:"bar"^2.0)

   <b>Proximity</b>
           my $q = WebService::Solr::Query-&gt;new( { foo =&gt; { -proximity =&gt; [ 'bar baz', 10 ] } } );
           # RESULT: (foo:"bar baz"~10)

   <b>Fuzzy</b>
           my $q = WebService::Solr::Query-&gt;new( { foo =&gt; { -fuzzy =&gt; [ 'bar', '0.8' ] } } );
           # RESULT: (foo:bar~0.8)

   <b>Literal</b> <b>Queries</b>
       Specifying a scalar ref as a value in a key-value pair will allow arbitrary queries to be sent across the
       line. <b>NB:</b> This will bypass any data massaging done on regular strings, thus the onus of properly escaping
       the data is left to the user.

           my $q = WebService::Solr::Query-&gt;new( { '*' =&gt; \'*' } )
           # RESULT (*:*)

</pre><h4><b>ACCESSORS</b></h4><pre>
       •   query - stores the original query structure

</pre><h4><b>METHODS</b></h4><pre>
   <b>new(</b> <b>\%query</b> <b>)</b>
       Creates a new query object with the given hashref.

   <b>stringify(</b> <b>)</b>
       Converts the supplied structure into a Solr/Lucene query.

   <b>escape(</b> <b>$value</b> <b>)</b>
       The following values must be escaped in a search value:

           + - &amp; | ! ( ) { } [ ] ^ " ~ * ? : \

       <b>NB:</b> Values sent to "new()" are automatically escaped for you.

   <b>unescape(</b> <b>$value</b> <b>)</b>
       Unescapes values escaped in "escape()".

   <b>D</b>
       Debugging constant, default: off.

   <b>BUILDARGS</b>
       Moo method to handle input to "new()".

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       •   WebService::Solr

       •   <a href="http://wiki.apache.org/solr/SolrQuerySyntax">http://wiki.apache.org/solr/SolrQuerySyntax</a>

</pre><h4><b>AUTHORS</b></h4><pre>
       Andy Lester "<a href="mailto:andy@petdance.com">andy@petdance.com</a>"

       Brian Cassidy &lt;<a href="mailto:bricas@cpan.org">bricas@cpan.org</a>&gt;

       Jos Boumans &lt;<a href="mailto:kane@cpan.org">kane@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright 2008-2014 National Adult Literacy Database Copyright 2015-2020 Andy Lester

       This  library  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.36.0                                       2022-10-16                       <u>WebService::Solr::<a href="../man3pm/Query.3pm.html">Query</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>