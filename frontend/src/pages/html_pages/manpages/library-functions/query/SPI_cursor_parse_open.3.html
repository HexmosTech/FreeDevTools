<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPI_cursor_parse_open - set up a cursor using a query string and parameters</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/postgresql-doc-17">postgresql-doc-17_17.5-1build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SPI_cursor_parse_open - set up a cursor using a query string and parameters

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Portal SPI_cursor_parse_open(const char *<u>name</u>,
                                    const char *<u>command</u>,
                                    const SPIParseOpenOptions * <u>options</u>)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>SPI_cursor_parse_open</b> sets up a cursor (internally, a portal) that will execute the specified query
       string. This is comparable to <b>SPI_prepare_cursor</b> followed by <b>SPI_cursor_open_with_paramlist</b>, except that
       parameter references within the query string are handled entirely by supplying a ParamListInfo object.

       For one-time query execution, this function should be preferred over <b>SPI_prepare_cursor</b> followed by
       <b>SPI_cursor_open_with_paramlist</b>. If the same command is to be executed with many different parameters,
       either method might be faster, depending on the cost of re-planning versus the benefit of custom plans.

       The <u>options-&gt;params</u> object should normally mark each parameter with the PARAM_FLAG_CONST flag, since a
       one-shot plan is always used for the query.

       The passed-in parameter data will be copied into the cursor's portal, so it can be freed while the cursor
       still exists.

</pre><h4><b>ARGUMENTS</b></h4><pre>
       const char * <u>name</u>
           name for portal, or NULL to let the system select a name

       const char * <u>command</u>
           command string

       const SPIParseOpenOptions * <u>options</u>
           struct containing optional arguments

       Callers should always zero out the entire <u>options</u> struct, then fill whichever fields they want to set.
       This ensures forward compatibility of code, since any fields that are added to the struct in future will
       be defined to behave backwards-compatibly if they are zero. The currently available <u>options</u> fields are:

       ParamListInfo <u>params</u>
           data structure containing query parameter types and values; NULL if none

       int <u>cursorOptions</u>
           integer bit mask of cursor options; zero produces default behavior

       bool <u>read_only</u>
           true for read-only execution

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Pointer to portal containing the cursor. Note there is no error return convention; any error will be
       reported via <b>elog</b>.

PostgreSQL 17.5                                       2025                              <u><a href="../man3/SPI_CURSOR_PARSE_OPEN.3.html">SPI_CURSOR_PARSE_OPEN</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>