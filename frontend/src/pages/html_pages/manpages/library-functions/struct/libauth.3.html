<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>libauth - routines for writing nnrpd resolvers and authenticators</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/inn2-dev">inn2-dev_2.6.4-2build4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       libauth - routines for writing nnrpd resolvers and authenticators

</pre><h4><b>SYNOPSIS</b></h4><pre>
           #include "libauth.h"

           struct res_info {
               struct sockaddr *client;
               struct sockaddr *local;
               char *clienthostname;
           };

           struct auth_info {
               char *username;
               char *password;
           };

           struct auth_info *get_auth_info(FILE *);
           struct res_info  *get_res_info (FILE *);

           void free_auth_info(struct auth_info*);
           void free_res_info (struct res_info*);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These functions provide a convenient C frontend to the nnrpd external authentication interface documented
       in <u>doc/external-auth</u>.  Use of this library is <b>not</b> required; in particular, external resolvers and
       authenticators written in languages other than C will need to implement the necessary functionality
       themselves.

       The <b>get_auth_info()</b> and <b>get_res_info()</b> functions allocate sufficient memory for a <b>struct</b> <b>auth_info</b> or
       <b>struct</b> <b>res_info</b> and any necessary fields, and return a pointer to the struct with the fields filled in
       from information supplied by nnrpd (the <b>FILE*</b> parameter generally should be "stdin").  Both functions
       return NULL on error.  The caller is responsible for deallocating the memory by using the functions
       below.

       The string fields of both structs are straightforward.  The <b>client</b> and <b>local</b> fields of <b>struct</b> <b>res_info</b>
       actually point to instances of <b>struct</b> <b>sockaddr_in</b> (or <b>struct</b> <b>sockaddr_in6</b> if IPv6 support is compiled
       in).

       The <b>free_auth_info()</b> and <b>free_res_info()</b> functions free the struct passed in as argument and all
       necessary fields.

</pre><h4><b>BUGS</b></h4><pre>
       In many cases, nnrpd provides more information than is normally useful (for example, even when calling an
       authenticator, the resolver information is often provided.)  On the other hand, in certain cases it
       provides less information than might be expected (for example, if nnrpd is reading from stdin rather than
       a socket).  The implementation is capable of handling at least the first of these issues, but that
       functionality is not exposed in the interface.

       At present, <u>libauth.h</u> and its implementation are located in <u>authprogs/</u>; perhaps they should be moved to
       <u>include/</u> and <u>lib/</u>, respectively?

</pre><h4><b>HISTORY</b></h4><pre>
       Written by Jeffrey M. Vinocur &lt;<a href="mailto:jeff@litech.org">jeff@litech.org</a>&gt; for InterNetNews.

       $Id: libauth.pod 8200 2008-11-30 13:31:30Z iulius $

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/nnrpd.8.html">nnrpd</a></b>(8), <b><a href="../man5/readers.conf.5.html">readers.conf</a></b>(5), <u>doc/external-auth</u>

INN 2.6.4                                          2015-09-12                                         <u><a href="../man3/libauth.3.html">libauth</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>