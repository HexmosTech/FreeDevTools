<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tracefs_options_get_supported, tracefs_option_is_supported, tracefs_options_get_enabled,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtracefs-doc">libtracefs-doc_1.8.1-1ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       tracefs_options_get_supported, tracefs_option_is_supported, tracefs_options_get_enabled,
       tracefs_option_is_enabled, tracefs_option_mask_is_set, tracefs_option_id - Get and check ftrace options.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;tracefs.h&gt;</b>

       const struct tracefs_options_mask *<b>tracefs_options_get_supported</b>(struct tracefs_instance *<u>instance</u>);
       bool <b>tracefs_option_is_supported</b>(struct tracefs_instance *<u>instance</u>, enum tracefs_option_id <u>id</u>);
       const struct tracefs_options_mask *<b>tracefs_options_get_enabled</b>(struct tracefs_instance *<u>instance</u>);
       bool <b>tracefs_option_is_enabled</b>(struct tracefs_instance *<u>instance</u>, enum tracefs_option_id <u>id</u>);
       bool <b>tracefs_option_mask_is_set</b>(const struct tracefs_options_mask <b>options,</b> <b>enum</b> <b>tracefs_option_id</b> <b>id);</b>
       <b>enum</b> <b>tracefs_option_id</b> <b>*tracefs_option_id</b>(const char *<u>name</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This set of APIs can be used to get and check current ftrace options. Supported ftrace options may depend
       on the kernel version and the kernel configuration.

       The <b>tracefs_options_get_supported()</b> function gets all ftrace options supported by the system in the given
       <u>instance</u>. If <u>instance</u> is NULL, supported options of the top trace instance are returned. The set of
       supported options is the same in all created trace instances, but may be different than the top trace
       instance.

       The *tracefs_option_is_supported()/ function checks if the option with given <u>id</u> is supported by the
       system in the given <u>instance</u>. If <u>instance</u> is NULL, the top trace instance is used. If an option is
       supported at the top trace instance, it it may not be supported in a created trace instance.

       The <b>tracefs_options_get_enabled()</b> function gets all ftrace options, currently enabled in the given
       <u>instance</u>. If <u>instance</u> is NULL, enabled options of the top trace instance are returned.

       The <b>tracefs_option_is_enabled()</b> function checks if the option with given <u>id</u> is enabled in the given
       <u>instance</u>. If <u>instance</u> is NULL, the top trace instance is used.

       The <b>tracefs_option_mask_is_set()</b> function checks if the bit, corresponding to the option with <u>id</u> is set
       in the <u>options</u> bitmask returned from <b>tracefs_option_get_enabled()</b> and <b>tracefs_option_is_supported()</b>.

       The <b>tracefs_option_id()</b> converts an option <u>name</u> into its corresponding id, if it is found. This allows to
       find the option <u>id</u> to use in the other functions if only the <u>name</u> is known.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       The <b>tracefs_options_get_supported()</b> and <b>tracefs_options_get_enabled()</b> functions, on success, return a
       pointer to the bitmask within the instance, or a global bitmask for the top level, or NULL in case of an
       error. As the returned bitmask is part of the instance structure (or a global variable) and must not be
       freed or modified.

       The <b>tracefs_option_is_supported()</b> and <b>tracefs_option_is_enabled()</b> functions return true if the option in
       supported / enabled, or false otherwise.

       The <b>tracefs_option_mask_is_set()</b> returns true if the corresponding option is set in the mask or false
       otherwise.

       The <b>tracefs_option_id()</b> returns the corresponding id defined by <b><a href="../man3/tracefs_options.3.html">tracefs_options</a></b>(3) from the given <u>name</u>.
       If the <u>name</u> can not be found, then TRACEFS_OPTION_INVALID is returned.

</pre><h4><b>EXAMPLE</b></h4><pre>
           #include &lt;tracefs.h&gt;
           ...
           const struct tracefs_options_mask *options;
           ...
           options = tracefs_options_get_supported(NULL);
           if (!options) {
                   /* Failed to get supported options */
           } else {
                   ...
           }
           ...
           options = tracefs_options_get_enabled(NULL);
           if (!options) {
                   /* Failed to get options, enabled in the top instance */
           } else {
                   ...
           }
           if (tracefs_options_mask_is_set(options, TRACEFS_OPTION_LATENCY_FORMAT)) {
                   ...
           }
           ...

           if (tracefs_option_is_supported(NULL, TRACEFS_OPTION_LATENCY_FORMAT)) {
                   /* Latency format option is supprted */
           }

           ...

           if (tracefs_option_is_enabled(NULL, TRACEFS_OPTION_STACKTRACE)) {
                   /* Stacktrace option is enabled in the top instance */
           }

</pre><h4><b>FILES</b></h4><pre>
           <b>tracefs.h</b>
                   Header file to include in order to have access to the library APIs.
           <b>-ltracefs</b>
                   Linker switch to add when building a program that uses the library.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/libtracefs.3.html">libtracefs</a></b>(3), <b><a href="../man3/libtraceevent.3.html">libtraceevent</a></b>(3), <b><a href="../man1/trace-cmd.1.html">trace-cmd</a></b>(1)

</pre><h4><b>AUTHOR</b></h4><pre>
           <b>Steven</b> <b>Rostedt</b> &lt;<b><a href="mailto:rostedt@goodmis.org">rostedt@goodmis.org</a></b>[1]&gt;
           <b>Tzvetomir</b> <b>Stoyanov</b> &lt;<b><a href="mailto:tz.stoyanov@gmail.com">tz.stoyanov@gmail.com</a></b>[2]&gt;

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to &lt;<b><a href="mailto:linux-trace-devel@vger.kernel.org">linux-trace-devel@vger.kernel.org</a></b>[3]&gt;

</pre><h4><b>LICENSE</b></h4><pre>
       libtracefs is Free Software licensed under the GNU LGPL 2.1

</pre><h4><b>RESOURCES</b></h4><pre>
       <b>https://git.kernel.org/pub/scm/libs/libtrace/libtracefs.git/</b>

</pre><h4><b>COPYING</b></h4><pre>
       Copyright (C) 2020 VMware, Inc. Free use of this software is granted under the terms of the GNU Public
       License (GPL).

</pre><h4><b>NOTES</b></h4><pre>
        1. <a href="mailto:rostedt@goodmis.org">rostedt@goodmis.org</a>
           <a href="mailto:rostedt@goodmis.org">mailto:rostedt@goodmis.org</a>

        2. <a href="mailto:tz.stoyanov@gmail.com">tz.stoyanov@gmail.com</a>
           <a href="mailto:tz.stoyanov@gmail.com">mailto:tz.stoyanov@gmail.com</a>

        3. <a href="mailto:linux-trace-devel@vger.kernel.org">linux-trace-devel@vger.kernel.org</a>
           <a href="mailto:linux-trace-devel@vger.kernel.org">mailto:linux-trace-devel@vger.kernel.org</a>

libtracefs 1.8.1                                   06/05/2025                                      <u><a href="../man3/LIBTRACEFS.3.html">LIBTRACEFS</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>