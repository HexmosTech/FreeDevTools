<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rte_swx_pipeline.h</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dpdk-doc">dpdk-doc_24.11.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rte_swx_pipeline.h

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/stdint.h">stdint.h</a>&gt;
       #include &lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;
       #include &lt;rte_compat.h&gt;
       #include 'rte_swx_port.h'
       #include 'rte_swx_table.h'
       #include 'rte_swx_extern.h'

   <b>Data</b> <b>Structures</b>
       struct <b>rte_swx_pipeline_mirroring_params</b>
       struct <b>rte_swx_field_params</b>
       struct <b>rte_swx_match_field_params</b>
       struct <b>rte_swx_pipeline_table_params</b>
       struct <b>rte_swx_pipeline_selector_params</b>
       struct <b>rte_swx_pipeline_learner_params</b>

   <b>Macros</b>
       #define <b>RTE_SWX_NAME_SIZE</b>   64
       #define <b>RTE_SWX_INSTRUCTION_SIZE</b>   256
       #define <b>RTE_SWX_INSTRUCTION_TOKENS_MAX</b>   16
       #define <b>RTE_SWX_PACKET_MIRRORING_SLOTS_DEFAULT</b>   4
       #define <b>RTE_SWX_PACKET_MIRRORING_SESSIONS_DEFAULT</b>   64

   <b>Functions</b>
       __rte_experimental struct rte_swx_pipeline * <b>rte_swx_pipeline_find</b> (const char *name)
       __rte_experimental int <b>rte_swx_pipeline_config</b> (struct rte_swx_pipeline **p, const char *name, int
           numa_node)
       __rte_experimental int <b>rte_swx_pipeline_port_in_type_register</b> (struct rte_swx_pipeline *p, const char
           *name, struct <b>rte_swx_port_in_ops</b> *ops)
       __rte_experimental int <b>rte_swx_pipeline_port_in_config</b> (struct rte_swx_pipeline *p, uint32_t port_id,
           const char *port_type_name, void *args)
       __rte_experimental int <b>rte_swx_pipeline_port_out_type_register</b> (struct rte_swx_pipeline *p, const char
           *name, struct <b>rte_swx_port_out_ops</b> *ops)
       __rte_experimental int <b>rte_swx_pipeline_port_out_config</b> (struct rte_swx_pipeline *p, uint32_t port_id,
           const char *port_type_name, void *args)
       __rte_experimental int <b>rte_swx_pipeline_mirroring_config</b> (struct rte_swx_pipeline *p, struct
           <b>rte_swx_pipeline_mirroring_params</b> *params)
       __rte_experimental int <b>rte_swx_pipeline_extern_type_register</b> (struct rte_swx_pipeline *p, const char
           *name, const char *mailbox_struct_type_name, <b>rte_swx_extern_type_constructor_t</b> constructor,
           <b>rte_swx_extern_type_destructor_t</b> destructor)
       __rte_experimental int <b>rte_swx_pipeline_extern_type_member_func_register</b> (struct rte_swx_pipeline *p,
           const char *extern_type_name, const char *name, <b>rte_swx_extern_type_member_func_t</b> member_func)
       __rte_experimental int <b>rte_swx_pipeline_extern_object_config</b> (struct rte_swx_pipeline *p, const char
           *extern_type_name, const char *name, const char *args)
       __rte_experimental int <b>rte_swx_pipeline_extern_func_register</b> (struct rte_swx_pipeline *p, const char
           *name, const char *mailbox_struct_type_name, <b>rte_swx_extern_func_t</b> func)
       __rte_experimental int <b>rte_swx_pipeline_hash_func_register</b> (struct rte_swx_pipeline *p, const char *name,
           <b>rte_swx_hash_func_t</b> func)
       __rte_experimental int <b>rte_swx_pipeline_rss_config</b> (struct rte_swx_pipeline *p, const char *name)
       __rte_experimental int <b>rte_swx_pipeline_struct_type_register</b> (struct rte_swx_pipeline *p, const char
           *name, struct <b>rte_swx_field_params</b> *fields, uint32_t n_fields, int last_field_has_variable_size)
       __rte_experimental int <b>rte_swx_pipeline_packet_header_register</b> (struct rte_swx_pipeline *p, const char
           *name, const char *struct_type_name)
       __rte_experimental int <b>rte_swx_pipeline_packet_metadata_register</b> (struct rte_swx_pipeline *p, const char
           *struct_type_name)
       __rte_experimental int <b>rte_swx_pipeline_action_config</b> (struct rte_swx_pipeline *p, const char *name,
           const char *args_struct_type_name, const char **instructions, uint32_t n_instructions)
       __rte_experimental int <b>rte_swx_pipeline_table_type_register</b> (struct rte_swx_pipeline *p, const char
           *name, enum <b>rte_swx_table_match_type</b> match_type, struct <b>rte_swx_table_ops</b> *ops)
       __rte_experimental int <b>rte_swx_pipeline_table_config</b> (struct rte_swx_pipeline *p, const char *name,
           struct <b>rte_swx_pipeline_table_params</b> *params, const char *recommended_table_type_name, const char
           *args, uint32_t size)
       __rte_experimental int <b>rte_swx_pipeline_selector_config</b> (struct rte_swx_pipeline *p, const char *name,
           struct <b>rte_swx_pipeline_selector_params</b> *params)
       __rte_experimental int <b>rte_swx_pipeline_learner_config</b> (struct rte_swx_pipeline *p, const char *name,
           struct <b>rte_swx_pipeline_learner_params</b> *params, uint32_t size, uint32_t *timeout, uint32_t
           n_timeouts)
       __rte_experimental int <b>rte_swx_pipeline_regarray_config</b> (struct rte_swx_pipeline *p, const char *name,
           uint32_t size, uint64_t init_val)
       __rte_experimental int <b>rte_swx_pipeline_metarray_config</b> (struct rte_swx_pipeline *p, const char *name,
           uint32_t size)
       __rte_experimental int <b>rte_swx_pipeline_instructions_config</b> (struct rte_swx_pipeline *p, const char
           **instructions, uint32_t n_instructions)
       __rte_experimental int <b>rte_swx_pipeline_build</b> (struct rte_swx_pipeline *p)
       __rte_experimental int <b>rte_swx_pipeline_codegen</b> (FILE *spec_file, FILE *code_file, uint32_t *err_line,
           const char **err_msg)
       __rte_experimental int <b>rte_swx_pipeline_build_from_lib</b> (struct rte_swx_pipeline **p, const char *name,
           const char *lib_file_name, FILE *iospec_file, int numa_node)
       __rte_experimental void <b>rte_swx_pipeline_run</b> (struct rte_swx_pipeline *p, uint32_t n_instructions)
       __rte_experimental void <b>rte_swx_pipeline_flush</b> (struct rte_swx_pipeline *p)
       __rte_experimental void <b>rte_swx_pipeline_free</b> (struct rte_swx_pipeline *p)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       RTE SWX Pipeline

       Definition in file <b>rte_swx_pipeline.h</b>.

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>RTE_SWX_NAME_SIZE</b>   <b>64</b>
       Name size.

       Definition at line <b>27</b> of file <b>rte_swx_pipeline.h</b>.

   <b>#define</b> <b>RTE_SWX_INSTRUCTION_SIZE</b>   <b>256</b>
       Instruction size.

       Definition at line <b>32</b> of file <b>rte_swx_pipeline.h</b>.

   <b>#define</b> <b>RTE_SWX_INSTRUCTION_TOKENS_MAX</b>   <b>16</b>
       Instruction tokens.

       Definition at line <b>37</b> of file <b>rte_swx_pipeline.h</b>.

   <b>#define</b> <b>RTE_SWX_PACKET_MIRRORING_SLOTS_DEFAULT</b>   <b>4</b>
       Default number of packet mirroring slots.

       Definition at line <b>184</b> of file <b>rte_swx_pipeline.h</b>.

   <b>#define</b> <b>RTE_SWX_PACKET_MIRRORING_SESSIONS_DEFAULT</b>   <b>64</b>
       Default maximum number of packet mirroring sessions.

       Definition at line <b>189</b> of file <b>rte_swx_pipeline.h</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>__rte_experimental</b> <b>struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>rte_swx_pipeline_find</b> <b>(const</b> <b>char</b> <b>*</b> <b>name)</b>
       Pipeline find

       <b>Parameters</b>
           <u>name</u> Pipeline name.

       <b>Returns</b>
           Valid pipeline handle if found or NULL otherwise.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_config</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>**</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b> <b>int</b>
       <b>numa_node)</b>
       Pipeline configure

       <b>Parameters</b>
           <u>p</u> Pipeline handle. Must point to valid memory. Contains valid pipeline handle when the function
           returns successfully.
           <u>name</u> Pipeline unique name.
           <u>numa_node</u> Non-Uniform Memory Access (NUMA) node.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Pipeline with this name already exists.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_port_in_type_register</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b>
       <b>name,</b> <b>struct</b> <b>rte_swx_port_in_ops</b> <b>*</b> <b>ops)</b>
       Pipeline input port type register

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>name</u> Input port type name.
           <u>ops</u> Input port type operations.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Input port type with this name already exists.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_port_in_config</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>uint32_t</b> <b>port_id,</b> <b>const</b>
       <b>char</b> <b>*</b> <b>port_type_name,</b> <b>void</b> <b>*</b> <b>args)</b>
       Pipeline input port configure

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>port_id</u> Input port ID.
           <u>port_type_name</u> Existing input port type name.
           <u>args</u> Input port creation arguments.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -ENODEV: Input port object creation error.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_port_out_type_register</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b>
       <b>name,</b> <b>struct</b> <b>rte_swx_port_out_ops</b> <b>*</b> <b>ops)</b>
       Pipeline output port type register

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>name</u> Output port type name.
           <u>ops</u> Output port type operations.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Output port type with this name already exists.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_port_out_config</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>uint32_t</b> <b>port_id,</b> <b>const</b>
       <b>char</b> <b>*</b> <b>port_type_name,</b> <b>void</b> <b>*</b> <b>args)</b>
       Pipeline output port configure

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>port_id</u> Output port ID.
           <u>port_type_name</u> Existing output port type name.
           <u>args</u> Output port creation arguments.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -ENODEV: Output port object creation error.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_mirroring_config</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>struct</b>
       <b>rte_swx_pipeline_mirroring_params</b> <b>*</b> <b>params)</b>
       Packet mirroring configure

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>params</u> Packet mirroring parameters.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           memory; -EEXIST: Pipeline was already built successfully.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_extern_type_register</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b>
       <b>const</b> <b>char</b> <b>*</b> <b>mailbox_struct_type_name,</b> <b>rte_swx_extern_type_constructor_t</b> <b>constructor,</b>
       <b>rte_swx_extern_type_destructor_t</b> <b>destructor)</b>
       Pipeline extern type register

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>name</u> Extern type name.
           <u>mailbox_struct_type_name</u> Name of existing struct type used to define the mailbox size and layout for
           the extern objects that are instances of this type. Each extern object gets its own mailbox, which is
           used to pass the input arguments to the member functions and retrieve the output results.
           <u>constructor</u> Function used to create the extern objects that are instances of this type.
           <u>destructor</u> Function used to free the extern objects that are instances of this type.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Extern type with this name already exists.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_extern_type_member_func_register</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b>
       <b>char</b> <b>*</b> <b>extern_type_name,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b> <b>rte_swx_extern_type_member_func_t</b> <b>member_func)</b>
       Pipeline extern type member function register

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>extern_type_name</u> Existing extern type name.
           <u>name</u> Name for the new member function to be added to the extern type.
           <u>member_func</u> The new member function.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Member function with this name already exists for this type;
           -ENOSPC: Maximum number of member functions reached for this type.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_extern_object_config</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b>
       <b>extern_type_name,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b> <b>const</b> <b>char</b> <b>*</b> <b>args)</b>
       Pipeline extern object configure

       Instantiate a given extern type to create new extern object.

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>extern_type_name</u> Existing extern type name.
           <u>name</u> Name for the new object instantiating the extern type.
           <u>args</u> Extern object constructor arguments.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Extern object with this name already exists; -ENODEV: Extern
           object constructor error.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_extern_func_register</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b>
       <b>const</b> <b>char</b> <b>*</b> <b>mailbox_struct_type_name,</b> <b>rte_swx_extern_func_t</b> <b>func)</b>
       Pipeline extern function register

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>name</u> Extern function name.
           <u>mailbox_struct_type_name</u> Name of existing struct type used to define the mailbox size and layout for
           this extern function. The mailbox is used to pass the input arguments to the extern function and
           retrieve the output results.
           <u>func</u> The extern function.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Extern function with this name already exists.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_hash_func_register</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b>
       <b>rte_swx_hash_func_t</b> <b>func)</b>
       Pipeline hash function register

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>name</u> Hash function name.
           <u>func</u> Hash function.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Hash function with this name already exists.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_rss_config</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b> <b>name)</b>
       Pipeline Receive Side Scaling (RSS) object configure

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>name</u> Name for the new RSS object.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: RSS object with this name already exists.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_struct_type_register</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b>
       <b>struct</b> <b>rte_swx_field_params</b> <b>*</b> <b>fields,</b> <b>uint32_t</b> <b>n_fields,</b> <b>int</b> <b>last_field_has_variable_size)</b>
       Pipeline struct type register

       Structs are used extensively in many part of the pipeline to define the size and layout of a specific
       memory piece such as: headers, meta-data, action data stored in a table entry, mailboxes for extern
       objects and functions. Similar to C language structs, they are a well defined sequence of fields, with
       each field having a unique name and a constant size.

       In order to use structs to express variable size packet headers such as IPv4 with options, it is allowed
       for the last field of the struct type to have a variable size between 0 and <u>n_bits</u> bits, with the actual
       size of this field determined at run-time for each packet. This struct feature is restricted to just a
       few selected instructions that deal with packet headers, so a typical struct generally has a constant
       size that is fully known when its struct type is registered.

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>name</u> Struct type name.
           <u>fields</u> The sequence of struct fields.
           <u>n_fields</u> The number of struct fields.
           <u>last_field_has_variable_size</u> If non-zero (true), then the last field has a variable size between 0
           and <u>n_bits</u> bits, with its actual size determined at run-time for each packet. If zero (false), then
           the last field has a constant size of <u>n_bits</u> bits.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Struct type with this name already exists.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_packet_header_register</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b>
       <b>name,</b> <b>const</b> <b>char</b> <b>*</b> <b>struct_type_name)</b>
       Pipeline packet header register

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>name</u> Header name.
           <u>struct_type_name</u> The struct type instantiated by this packet header.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Header with this name already exists; -ENOSPC: Maximum number
           of headers reached for the pipeline.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_packet_metadata_register</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b>
       <b>struct_type_name)</b>
       Pipeline packet meta-data register

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>struct_type_name</u> The struct type instantiated by the packet meta-data.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_action_config</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b> <b>const</b>
       <b>char</b> <b>*</b> <b>args_struct_type_name,</b> <b>const</b> <b>char</b> <b>**</b> <b>instructions,</b> <b>uint32_t</b> <b>n_instructions)</b>
       Instruction operands:

       +-----+---------------------------+------------------+-----+-----+

       |     | Description               | Format           | DST | SRC |

       +-----+---------------------------+------------------+-----+-----+

       | hdr | Header                    | h.header         |     |     |

       +-----+---------------------------+------------------+-----+-----+

       | act | Action                    | ACTION           |     |     |

       +-----+---------------------------+------------------+-----+-----+

       | tbl | Table                     | TABLE            |     |     |

       +-----+---------------------------+------------------+-----+-----+

       | H   | Header field              | h.header.field   | YES | YES |

       +-----+---------------------------+------------------+-----+-----+

       | M   | Meta-data field           | m.field          | YES | YES |

       +-----+---------------------------+------------------+-----+-----+

       | E   | Extern obj mailbox field  | e.ext_obj.field  | YES | YES |

       +-----+---------------------------+------------------+-----+-----+

       | F   | Extern func mailbox field | f.ext_func.field | YES | YES |

       +-----+---------------------------+------------------+-----+-----+

       | T   | Table action data field   | t.header.field   | NO  | YES |

       +-----+---------------------------+------------------+-----+-----+

       | I   | Immediate value (64-bit)  | h.header.field   | NO  | YES |

       +-----+---------------------------+------------------+-----+-----+

       Instruction set:

       +------------+----------------------+-------------------+------+--------+

       | Instr.     | Instruction          | Instruction       | 1st  | 2nd    |

       | Name       | Description          | Format            | opnd.| opnd.  |

       +------------+----------------------+-------------------+------+--------+

       | rx         | Receive one pkt      | rx m.port_in      | M    |        |

       +------------+----------------------+-------------------+------+--------+

       | tx         | Transmit one pkt     | tx m.port_out     | M    |        |

       +------------+----------------------+-------------------+------+--------+

       | extract    | Extract one hdr      | extract h.hdr     | hdr  |        |

       +------------+----------------------+-------------------+------+--------+

       | emit       | Emit one hdr         | emit h.hdr        | hdr  |        |

       +------------+----------------------+-------------------+------+--------+

       | validate   | Validate one hdr     | validate h.hdr    | hdr  |        |

       +------------+----------------------+-------------------+------+--------+

       | invalidate | Invalidate one hdr   | invalidate h.hdr  | hdr  |        |

       +------------+----------------------+-------------------+------+--------+

       | mov        | dst = src            | mov dst src       | HMEF | HMEFTI |

       +------------+----------------------+-------------------+------+--------+

       | add        | dst += src           | add dst src       | HMEF | HMEFTI |

       +------------+----------------------+-------------------+------+--------+

       | sub        | dst -= src           | add dst src       | HMEF | HMEFTI |

       +------------+----------------------+-------------------+------+--------+

       | ckadd      | Checksum add: dst =  | add dst src       | HMEF | HMEFTI |

       |            | dst '+ src[0:1] '+   |                   |      | or hdr |

       |            | src[2:3] '+ ...      |                   |      |        |

       +------------+----------------------+-------------------+------+--------+

       | cksub      | Checksum subtract:   | add dst src       | HMEF | HMEFTI |

       |            | dst = dst '- src     |                   |      |        |

       +------------+----------------------+-------------------+------+--------+

       | and        | dst &amp;= src           | and dst src       | HMEF | HMEFTI |

       +------------+----------------------+-------------------+------+--------+

       | or         | dst |= src           | or  dst src       | HMEF | HMEFTI |

       +------------+----------------------+-------------------+------+--------+

       | xor        | dst ^= src           | xor dst src       | HMEF | HMEFTI |

       +------------+----------------------+-------------------+------+--------+

       | shl        | dst &lt;&lt;= src          | shl dst src       | HMEF | HMEFTI |

       +------------+----------------------+-------------------+------+--------+

       | shr        | dst &gt;&gt;= src          | shr dst src       | HMEF | HMEFTI |

       +------------+----------------------+-------------------+------+--------+

       | table      | Table lookup         | table TABLE       | tbl  |        |

       +------------+----------------------+-------------------+------+--------+

       | extern     | Ext obj member func  | extern e.obj.mfunc| ext  |        |

       |            | call or ext func call| extern f.func     |      |        |

       +------------+----------------------+-------------------+------+--------+

       | jmp        | Unconditional jump   | jmp LABEL         |      |        |

       +------------+----------------------+-------------------+------+--------+

       | jmpv       | Jump if hdr is valid | jmpv LABEL h.hdr  | hdr  |        |

       +------------+----------------------+-------------------+------+--------+

       | jmpnv      | Jump if hdr is inval | jmpnv LABEL h.hdr | hdr  |        |

       +------------+----------------------+-------------------+------+--------+

       | jmph       | Jump if tbl lkp hit  | jmph LABEL        |      |        |

       +------------+----------------------+-------------------+------+--------+

       | jmpnh      | Jump if tbl lkp miss | jmpnh LABEL       |      |        |

       +------------+----------------------+-------------------+------+--------+

       | jmpa       | Jump if action run   | jmpa LABEL ACTION | act  |        |

       +------------+----------------------+-------------------+------+--------+

       | jmpna      | Jump if act not run  | jmpna LABEL ACTION| act  |        |

       +------------+----------------------+-------------------+------+--------+

       | jmpeq      | Jump if (a == b)     | jmpeq LABEL a b   | HMEFT| HMEFTI |

       +------------+----------------------+-------------------+------+--------+

       | jmpneq     | Jump if (a != b)     | jmpneq LABEL a b  | HMEFT| HMEFTI |

       +------------+----------------------+-------------------+------+--------+

       | jmplt      | Jump if (a &lt; b)      | jmplt LABEL a b   | HMEFT| HMEFTI |

       +------------+----------------------+-------------------+------+--------+

       | jmpgt      | Jump if (a &gt; b)      | jmpgt LABEL a b   | HMEFT| HMEFTI |

       +------------+----------------------+-------------------+------+--------+

       | return     | Return from action   | return            |      |        |

       +------------+----------------------+-------------------+------+--------+

       At initialization time, the pipeline and action instructions (including the symbolic name operands) are
       translated to internal data structures that are used at run-time. Pipeline action configure

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>name</u> Action name.
           <u>args_struct_type_name</u> The struct type instantiated by the action data. The action data represent the
           action arguments that are stored in the table entry together with the action ID. Set to NULL when the
           action does not have any arguments.
           <u>instructions</u> Action instructions.
           <u>n_instructions</u> Number of action instructions.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Action with this name already exists.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_table_type_register</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b>
       <b>enum</b> <b>rte_swx_table_match_type</b> <b>match_type,</b> <b>struct</b> <b>rte_swx_table_ops</b> <b>*</b> <b>ops)</b>
       Pipeline table type register

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>name</u> Table type name.
           <u>match_type</u> Match type implemented by the new table type.
           <u>ops</u> Table type operations.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Table type with this name already exists.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_table_config</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b> <b>struct</b>
       <b>rte_swx_pipeline_table_params</b> <b>*</b> <b>params,</b> <b>const</b> <b>char</b> <b>*</b> <b>recommended_table_type_name,</b> <b>const</b> <b>char</b> <b>*</b> <b>args,</b>
       <b>uint32_t</b> <b>size)</b>
       Pipeline table configure

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>name</u> Table name.
           <u>params</u> Table parameters.
           <u>recommended_table_type_name</u> Recommended table type. Typically set to NULL. Useful as guidance when
           there are multiple table types registered for the match type of the table, as determined from the
           table match fields specification. Silently ignored if the recommended table type does not exist or it
           serves a different match type.
           <u>args</u> Table creation arguments.
           <u>size</u> Guideline on maximum number of table entries.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Table with this name already exists; -ENODEV: Table creation
           error.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_selector_config</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b>
       <b>struct</b> <b>rte_swx_pipeline_selector_params</b> <b>*</b> <b>params)</b>
       Pipeline selector table configure

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>name</u> Selector table name.
           <u>params</u> Selector table parameters.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Selector table with this name already exists; -ENODEV:
           Selector table creation error.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_learner_config</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b>
       <b>struct</b> <b>rte_swx_pipeline_learner_params</b> <b>*</b> <b>params,</b> <b>uint32_t</b> <b>size,</b> <b>uint32_t</b> <b>*</b> <b>timeout,</b> <b>uint32_t</b> <b>n_timeouts)</b>
       Pipeline learner table configure

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>name</u> Learner table name.
           <u>params</u> Learner table parameters.
           <u>size</u> The maximum number of table entries. Must be non-zero.
           <u>timeout</u> Array of possible table entry timeouts in seconds. Must be non-NULL.
           <u>n_timeouts</u> Number of elements in the <u>timeout</u> array.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Learner table with this name already exists; -ENODEV: Learner
           table creation error.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_regarray_config</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b>
       <b>uint32_t</b> <b>size,</b> <b>uint64_t</b> <b>init_val)</b>
       Pipeline register array configure

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>name</u> Register array name.
           <u>size</u> Number of registers in the array. Each register is 64-bit in size.
           <u>init_val</u> Initial value for every register in the array. The recommended value is 0.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Register array with this name already exists.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_metarray_config</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b>
       <b>uint32_t</b> <b>size)</b>
       Pipeline meter array configure

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>name</u> Meter array name.
           <u>size</u> Number of meters in the array. Each meter in the array implements the Two Rate Three Color
           Marker (trTCM) algorithm, as specified by RFC 2698.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Meter array with this name already exists.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_instructions_config</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>const</b> <b>char</b> <b>**</b>
       <b>instructions,</b> <b>uint32_t</b> <b>n_instructions)</b>
       Pipeline instructions configure

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>instructions</u> Pipeline instructions.
           <u>n_instructions</u> Number of pipeline instructions.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_build</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p)</b>
       Pipeline build

       Once called, the pipeline build operation marks the end of pipeline configuration. At this point, all the
       internal data structures needed to run the pipeline are built.

       <b>Parameters</b>
           <u>p</u> Pipeline handle.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Pipeline was already built successfully.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_codegen</b> <b>(FILE</b> <b>*</b> <b>spec_file,</b> <b>FILE</b> <b>*</b> <b>code_file,</b> <b>uint32_t</b> <b>*</b> <b>err_line,</b>
       <b>const</b> <b>char</b> <b>**</b> <b>err_msg)</b>
       Pipeline C code generate based on input specification file

       <b>Parameters</b>
           <u>spec_file</u> Pipeline specification file (.spec) provided as input.
           <u>code_file</u> Pipeline C language file (.c) to be generated.
           <u>err_line</u> In case of error and non-NULL, the line number within the <u>spec</u> file where the error
           occurred. The first line number in the file is 1.
           <u>err_msg</u> In case of error and non-NULL, the error message.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Resource with the same name already exists.

   <b>__rte_experimental</b> <b>int</b> <b>rte_swx_pipeline_build_from_lib</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>**</b> <b>p,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b>
       <b>const</b> <b>char</b> <b>*</b> <b>lib_file_name,</b> <b>FILE</b> <b>*</b> <b>iospec_file,</b> <b>int</b> <b>numa_node)</b>
       Pipeline build from shared object library

       The shared object library must be built from the C language source code file previously generated by the
       <b>rte_swx_pipeline_codegen()</b> API function.

       The pipeline I/O specification file defines the I/O ports of the pipeline.

       <b>Parameters</b>
           <u>p</u> Pipeline handle. Must point to valid memory. Contains valid pipeline handle when the function
           returns successfully.
           <u>name</u> Pipeline unique name.
           <u>lib_file_name</u> Shared object library file name.
           <u>iospec_file</u> Pipeline I/O specification file.
           <u>numa_node</u> Non-Uniform Memory Access (NUMA) node.

       <b>Returns</b>
           0 on success or the following error codes otherwise: -EINVAL: Invalid argument; -ENOMEM: Not enough
           space/cannot allocate memory; -EEXIST: Pipeline with this name already exists; -ENODEV: Extern object
           or table creation error.

   <b>__rte_experimental</b> <b>void</b> <b>rte_swx_pipeline_run</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p,</b> <b>uint32_t</b> <b>n_instructions)</b>
       Pipeline run

       <b>Parameters</b>
           <u>p</u> Pipeline handle.
           <u>n_instructions</u> Number of instructions to execute.

   <b>__rte_experimental</b> <b>void</b> <b>rte_swx_pipeline_flush</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p)</b>
       Pipeline flush

       Flush all output ports of the pipeline.

       <b>Parameters</b>
           <u>p</u> Pipeline handle. If p is NULL, no operation is performed.

   <b>__rte_experimental</b> <b>void</b> <b>rte_swx_pipeline_free</b> <b>(struct</b> <b>rte_swx_pipeline</b> <b>*</b> <b>p)</b>
       Pipeline free

       <b>Parameters</b>
           <u>p</u> Pipeline handle.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for DPDK from the source code.

DPDK                                             Version 24.11.2                           <u><a href="../man3/rte_swx_pipeline.h.3.html">rte_swx_pipeline.h</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>