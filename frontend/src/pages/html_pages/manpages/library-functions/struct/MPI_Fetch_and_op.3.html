<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MPI_Fetch_and_op -  Perform one-sided read-modify-write.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/mpich-doc">mpich-doc_4.0-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       MPI_Fetch_and_op -  Perform one-sided read-modify-write.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #ifdef ENABLE_QMPI
       #ifndef MPICH_MPI_FROM_PMPI
       int QMPI_Fetch_and_op(QMPI_Context context, int tool_id, const void *origin_addr, void *result_addr,
       MPI_Datatype datatype, int target_rank, MPI_Aint target_disp, MPI_Op op,
       MPI_Win win) MPICH_API_PUBLIC

</pre><h4><b>INPUT</b> <b>PARAMETERS</b></h4><pre>
       <b>origin_addr</b>
              - initial address of buffer (choice)
       <b>datatype</b>
              - datatype of the entry in origin, result, and target buffers (handle)
       <b>target_rank</b>
              - rank of target (non-negative integer)
       <b>target_disp</b>
              - displacement from start of window to beginning of target buffer (non-negative integer)
       <b>op</b>     - reduce operation (handle)
       <b>win</b>    - window object (handle)

</pre><h4><b>OUTPUT</b> <b>PARAMETERS</b></h4><pre>
       <b>result_addr</b>
              - initial address of result buffer (choice)

</pre><h4><b>NOTES</b></h4><pre>
       This operations is atomic with respect to other "accumulate" operations.

       The  generic  functionality  of  <u>MPI_Get_accumulate</u> might limit the performance of fetch-and-increment or
       fetch-and-add calls that might be supported by special hardware operations.  <u>MPI_Fetch_and_op</u> thus allows
       for a fast implementation of a commonly used subset of the functionality of <u>MPI_Get_accumulate</u> .

       The origin and result buffers (origin_addr and result_addr) must be  disjoint.   Any  of  the  predefined
       operations  for  <u>MPI_Reduce</u>  , as well as <u>MPI_NO_OP</u> or <u>MPI_REPLACE</u> , can be specified as op; user-defined
       functions cannot be used. The datatype argument must be a predefined datatype.

</pre><h4><b>NOTES</b> <b>FOR</b> <b>FORTRAN</b></h4><pre>
       All MPI routines in Fortran (except for <u>MPI_WTIME</u> and <u>MPI_WTICK</u> ) have an additional argument <u>ierr</u> at the
       end of the argument list.  <u>ierr</u> is an integer and has the same meaning as the return value of the routine
       in C.  In Fortran, MPI routines are subroutines, and are invoked with the <u>call</u> statement.

       All MPI objects (e.g., <u>MPI_Datatype</u> , <u>MPI_Comm</u> ) are of type <u>INTEGER</u> in Fortran.

</pre><h4><b>ERRORS</b></h4><pre>
       All MPI routines (except <u>MPI_Wtime</u> and <u>MPI_Wtick</u> ) return an error value; C routines as the value of  the
       function  and Fortran routines in the last argument.  Before the value is returned, the current MPI error
       handler is called.  By default, this error handler aborts the MPI job.  The error handler may be  changed
       with    <u>MPI_Comm_set_errhandler</u>   (for   communicators),   <u>MPI_File_set_errhandler</u>   (for   files),   and
       <u>MPI_Win_set_errhandler</u> (for RMA windows).  The MPI-1 routine <u>MPI_Errhandler_set</u> may be used but  its  use
       is  deprecated.   The  predefined error handler <u>MPI_ERRORS_RETURN</u> may be used to cause error values to be
       returned.  Note that MPI does <b>not</b> guarantee that an MPI program can continue past an error; however,  MPI
       implementations will attempt to continue whenever possible.

       <b>MPI_SUCCESS</b>
              - No error; MPI routine completed successfully.

       <b>MPI_ERR_DISP</b>
              -
       <b>MPI_ERR_OP</b>
              -  Invalid  operation.   MPI  operations  (objects  of  type  <u>MPI_Op</u>  )  must either be one of the
              predefined operations (e.g., <u>MPI_SUM</u> ) or created with <u>MPI_Op_create</u> .

       <b>MPI_ERR_RANK</b>
              - Invalid source or destination rank.  Ranks must be between zero and the size of the communicator
              minus one; ranks in a receive  (  <u>MPI_Recv</u>  ,  <u>MPI_Irecv</u>  ,  <u>MPI_Sendrecv</u>  ,  etc.)  may  also  be
              <u>MPI_ANY_SOURCE</u> .

       <b>MPI_ERR_TYPE</b>
              -  Invalid  datatype  argument.  Additionally, this error can occur if an uncommitted MPI_Datatype
              (see <u>MPI_Type_commit</u> ) is used in a communication call.
       <b>MPI_ERR_WIN</b>
              - Invalid MPI window object
       <b>MPI_ERR_OTHER</b>
              - Other error; use <u>MPI_Error_string</u> to get more information about this error code.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       MPI_Get_accumulate

                                                    1/21/2022                                <u><a href="../man3/MPI_Fetch_and_op.3.html">MPI_Fetch_and_op</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>