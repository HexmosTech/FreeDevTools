<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FunImagePut - put an image to a Funtools file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libfuntools-dev">libfuntools-dev_1.4.8-1.1build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       FunImagePut - put an image to a Funtools file

</pre><h4><b>SYNOPSIS</b></h4><pre>
         #include &lt;funtools.h&gt;

         int FunImagePut(Fun fun, void *buf, int dim1, int dim2, int bitpix,
                         char *plist)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <u><b>FunImagePut()</b></u> routine outputs an image array to a FITS file. The image is written either as a primary
       header/data  unit  or as an image extension, depending on whether other data have already been written to
       the file.  That is, if the current file position is at the beginning  of  the  file,  a  primary  HDU  is
       written. Otherwise, an image extension is written.

       The first argument is the Funtools handle returned by <u>FunOpen()</u>.  The second <b>buf</b> argument is a pointer to
       a  data  buffer  to  write.   The <b>dim1</b>and <b>dim2</b> arguments that follow specify the dimensions of the image,
       where dim1 corresponds to naxis1 and dim2 corresponds to naxis2.  The <b>bitpix</b> argument specifies the  data
       type of the image and can have the following FITS-standard values:

       •   8 unsigned char

       •   16 short

       •   32 int

       •   -32 float

       •   -64 double

       When <u>FunTableRowPut()</u> is first called for a given image, Funtools checks to see if the primary header has
       already  been  written  (by  having previously written an image or a binary table.) If not, this image is
       written to the primary HDU.  Otherwise, it is written to an image extension.

       Thus, a simple program to generate a FITS image might look like this:

         int i;
         int dim1=512, dim2=512;
         double *dbuf;
         Fun fun;
         dbuf = malloc(dim1*dim2*sizeof(double));
         /* open the output FITS image, preparing to copy input params */
         if( !(fun = FunOpen(argv[1], "w", NULL)) )
           gerror(stderr, "could not FunOpen output file: %s\n", argv[1]);
         for(i=0; i&lt;(dim1*dim2); i++){
           ... fill dbuf ...
         }
         /* put the image (header will be generated automatically */
         if( !FunImagePut(fun, buf, dim1, dim2, -64, NULL) )
           gerror(stderr, "could not FunImagePut: %s\n", argv[1]);
         FunClose(fun);
         free(dbuf);

       In addition, if a Funtools reference handle was specified when this table was opened, the parameters from
       this Funtools reference handle are merged into the new image header.  Furthermore, if a  reference  image
       was  specified  during <u>FunOpen()</u>, the values of <b>dim1</b>, <b>dim2</b>, and <b>bitpix</b> in the calling sequence can all be
       set to 0.  In this case, default values are taken from the reference image section.  This  is  useful  if
       you  are reading an image section in its native data format, processing it, and then writing that section
       to a new FITS file.  See the imblank example code.

       The data are assumed to be in the native machine format and will automatically be swapped  to  FITS  big-
       endian  format  if  necessary.  This behavior can be over-ridden with the <b>convert=[true⎪false]</b> keyword in
       the <b>plist</b> param list string.

       When you are finished writing the image, you should call <u>FunFlush()</u> to write out the FITS image  padding.
       However,  this  is  not  necessary if you subsequently call <u>FunClose()</u> without doing any other I/O to the
       FITS file.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       See <a href="../man7/funtools.7.html">funtools</a>(7) for a list of Funtools help pages

version 1.4.5                                    April 14, 2011                                   <u><a href="../man3/funimageput.3.html">funimageput</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>