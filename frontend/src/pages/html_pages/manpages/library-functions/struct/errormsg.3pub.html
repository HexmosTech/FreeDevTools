<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>errormsg, set_progname, get_progname - printing error messages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/publib-dev">publib-dev_0.40-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       errormsg, set_progname, get_progname - printing error messages

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;errormsg.h&gt;

       void <u>errormsg</u>(int exitp, int eno, const char *fmt, ...);
       void <u>set_progname</u>(const char *argv0, const char *def);
       const char *<u>get_progname</u>(void);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>errormsg</u> function is used for printing error messages.  It is a like a combination of <a href="../man3/fprintf.3.html">fprintf</a>(3) and
       <a href="../man3/perror.3.html">perror</a>(3), in that it makes it easy to add arbitrary, printf-like formatted text to the output, and makes
       it easy to include the system's error message (the error string  corresponding  to  the  eno  parameter).
       Unlike perror, this function does not get the error code directly from errno, thus making it easier to do
       something  else  that might set it before printing out the error message.  <u>errormsg</u> also adds the name of
       the program to the output, if known.

       The first argument to <u>errormsg</u> should be 0 (don't exit program), 1 (exit program with <u>exit(EXIT_FAILURE)</u>)
       or 2 (with <u>abort()</u>).  The second one should be 0 (don't print  system  error  message),  positive  (print
       error message corresponding to the error code), or -1 (print the error message corresponding to <u>errno</u>).

       The  <u>set_progname</u>  function sets the program name.  You need to call this function with at least one non-
       NULL parameter to get the program names included in the output.   If  either  argument  is  non-NULL,  it
       should  point  at  strings that have static duration, i.e. they exist until the program terminates (or at
       least until the last error message has been printed); this is so that it is not  necessary  to  create  a
       copy of the name.  (Either or both arguments can also be NULL.)

       If  the first argument is non-NULL, that is used as the name, otherwise the seconds argument is used.  If
       both are NULL, no program name is included in the output.  The reason for having two arguments is so that
       the caller doesn't have to do the test, and can just call

                 <u>set_progname(argv[0],</u> <u>"default_name");</u>

       (it is valid for argv[0] to be NULL, under ISO C).

       The <u>get_progname</u> function returns a pointer to the current name of the program, as set  by  <u>set_progname</u>.
       If  <u>get_progname</u>  returns  NULL,  then  no  name  has  been set and none is included in the output.  This
       function is included for completeness, it is not really expected to be useful.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3/publib.3.html">publib</a>(3)

</pre><h4><b>AUTHOR</b></h4><pre>
       Lars Wirzenius (<a href="mailto:lars.wirzenius@helsinki.fi">lars.wirzenius@helsinki.fi</a>)

                                                                                                  <u><a href="../man3pub/ERRORMSG.3pub.html">ERRORMSG</a></u>(3pub)
</pre>
 </div>
</div></section>
</div>
</body>
</html>