<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XML::Struct::Writer - Write XML data structures to XML streams</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libxml-struct-perl">libxml-struct-perl_0.27-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       XML::Struct::Writer - Write XML data structures to XML streams

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use XML::Struct::Writer;

           # serialize
           XML::Struct::Writer-&gt;new(
               to =&gt; \*STDOUT,
               attributes =&gt; 0,
               pretty =&gt; 1,
           )-&gt;write( [
               doc =&gt; [
                   [ name =&gt; [ "alice" ] ],
                   [ name =&gt; [ "bob" ] ],
               ]
           ] );

           # &lt;?xml version="1.0" encoding="UTF-8"?&gt;
           # &lt;doc&gt;
           #  &lt;name&gt;alice&lt;/name&gt;
           #  &lt;name&gt;bob&lt;/name&gt;
           # &lt;/doc&gt;

           # create DOM
           my $xml = XML::Struct::Writer-&gt;new-&gt;write( [
               greet =&gt; { }, [
                   "Hello, ",
                   [ emph =&gt; { color =&gt; "blue" } , [ "World" ] ],
                   "!"
               ]
           ] );
           $xml-&gt;toFile("greet.xml");

           # &lt;?xml version="1.0" encoding="UTF-8"?&gt;
           # &lt;greet&gt;Hello, &lt;emph color="blue"&gt;World&lt;/emph&gt;!&lt;/greet&gt;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module writes an XML document, given as XML::Struct data structure, as stream of "SAX EVENTS". The
       default handler receives these events with XML::LibXML::SAX::Builder to build a DOM tree which can then
       be used to serialize the XML document as string.  The writer can also be used to directly serialize XML
       with XML::Struct::Writer::Stream.

       XML::Struct provides the shortcut function "writeXML" to this module.

       XML elements can be passed in any of these forms and its combinations:

           # MicroXML:

            [ $name =&gt; \%attributes, \@children ]

            [ $name =&gt; \%attributes ]

            [ $name ]

           # lax MicroXML also:

            [ $name =&gt; \@children ]

           # SimpleXML:

            { $name =&gt; \@children, $name =&gt; $content,  ... }

</pre><h4><b>CONFIGURATION</b></h4><pre>
       A XML::Struct::Writer can be configured with the following options:

       to  Filename,  IO::Handle,  string  reference,  or other kind of stream to directly serialize XML to with
           XML::Struct::Writer::Stream. This option is ignored if "handler" is explicitly set.

       handler
           A SAX handler to send "SAX EVENTS" to. If neither this option nor "to" is explicitly set, an instance
           of XML::LibXML::SAX::Builder is used to build a DOM.

       attributes
           Ignore XML attributes if set to false. Set to true by default.

       xmldecl
           Include XML declaration on serialization. Enabled by default.

       encoding
           An encoding (for handlers that support an explicit encoding). Set to UTF-8 by default.

       version
           The XML version. Set to 1.0 by default.

       standalone
           Add standalone flag in the XML declaration.

       pretty
           Pretty-print XML. Disabled by default.

</pre><h4><b>METHODS</b></h4><pre>
   <b>write(</b> <b>$root</b> <b>[,</b> <b>$name</b> <b>]</b> <b>)</b> <b>==</b> <b>writeDocument(</b> <b>$root</b> <b>[,</b> <b>$name</b> <b>]</b> <b>)</b>
       Write an XML document, given as array reference (lax  MicroXML),  hash  reference  (SimpleXML),  or  both
       mixed.  If  given  as  hash  reference, the name of a root tag can be chosen or it is set to "root". This
       method is basically equivalent to:

           $writer-&gt;writeStart;
           $writer-&gt;writeElement(
               $writer-&gt;microXML($root, $name // 'root')
           );
           $writer-&gt;writeEnd;
           $writer-&gt;result if $writer-&gt;can('result');

       The remaining methods expect XML in MicroXML format only.

   <b>writeElement(</b> <b>$element</b> <b>[,</b> <b>@more_elements</b> <b>]</b> <b>)</b>
       Write one or more XML elements and their child elements to the handler.

   <b>writeStart(</b> <b>[</b> <b>$root</b> <b>[,</b> <b>$name</b> <b>]</b> <b>]</b> <b>)</b>
       Call the handler's "start_document" and "xml_decl" methods. An optional root element can  be  passed,  so
       "$writer-&gt;writeStart($root)" is equivalent to:

           $writer-&gt;writeStart;
           $writer-&gt;writeStartElement($root);

   <b>writeStartElement(</b> <b>$element</b> <b>)</b>
       Directly call the handler's "start_element" method.

   <b>writeEndElement(</b> <b>$element</b> <b>)</b>
       Directly call the handler's "end_element" method.

   <b>writeCharacters(</b> <b>$string</b> <b>)</b>
       Directy call the handler's "characters" method.

   <b>writeEnd(</b> <b>[</b> <b>$root</b> <b>]</b> <b>)</b>
       Directly  call  the  handler's  "end_document"  method.  An  optional  root  element  can  be  passed, so
       "$writer-&gt;writeEnd($root)" is equivalent to:

           $writer-&gt;writeEndElement($root);
           $writer-&gt;writeEnd;

   <b>microXML(</b> <b>$element</b> <b>[,</b> <b>$name</b> <b>]</b> <b>)</b>
       Convert an XML element, given as array reference (lax MicroXML) or as hash  reference  (SimpleXML)  to  a
       list of MicroXML elements and optionally remove attributes. Does not affect child elements.

</pre><h4><b>SAX</b> <b>EVENTS</b></h4><pre>
       A SAX handler, set with option "handler", is expected to implement the following methods (two of them are
       optional):

       xml_decl( { Version =&gt; $version, Encoding =&gt; $encoding } )
           Optionally called once at the start of an XML document, if the handler supports this method.

       <b>start_document()</b>
           Called once at the start of an XML document.

       start_element( { Name =&gt; $name, Attributes =&gt; \%attributes } )
           Called at the start of an XML element to emit an XML start tag.

       end_element( { Name =&gt; $name } )
           Called at the end of an XML element to emit an XML end tag.

       characters( { Data =&gt; $characters } )
           Called for character data. Character entities and CDATA section are expanded to strings.

       <b>end_document()</b>
           Called once at the end of an XML document.

       <b>result()</b>
           Optionally called at the end of "write"/"writeDocument" to return a value from this methods. Handlers
           do not need to implement this method.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Using  a  streaming  SAX handler, such as XML::SAX::Writer, XML::Genx::SAXWriter, XML::Handler::YAWriter,
       and possibly XML::Writer should be more performant for serialization.  Examples  of  other  modules  that
       receive SAX events include XML::STX, XML::SAX::SimpleDispatcher, and XML::SAX::Machines,

perl v5.28.1                                       2019-02-21                           <u>XML::Struct::<a href="../man3pm/Writer.3pm.html">Writer</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>