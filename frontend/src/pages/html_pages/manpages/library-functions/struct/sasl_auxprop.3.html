<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sasl_auxprop - Cyrus SASL documentation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsasl2-dev">libsasl2-dev_2.1.28+dfsg1-9_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sasl_auxprop - Cyrus SASL documentation

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;sasl/prop.h&gt;

       struct propctx *prop_new(unsigned estimate)

       int prop_dup(struct propctx *src_ctx,
                    struct propctx *dst_ctx)

       int prop_request(struct propctx *ctx,
                        const char **names)

       const struct propval *prop_get(struct propctx *ctx)

       int prop_getnames(struct propctx *ctx, const char **names,
                         struct propval *vals)

       void prop_clear(struct propctx *ctx, int requests)

       void prop_erase(struct propctx *ctx, const char *name)

       void prop_dispose(struct propctx **ctx)

       int prop_format(struct propctx *ctx, const char *sep, int seplen,
                       char *outbuf, unsigned outmax, unsigned *outlen)

       int prop_set(struct propctx *ctx, const char *name,
                    const char *value, int vallen)

       int prop_setvals(struct propctx *ctx, const char *name,
                        const char **values)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       SASL  auxiliary  properties are used to obtain properties from external sources during the authentication
       process.  For example,  a mechanism might need to query an  LDAP  server  to  obtain  the  authentication
       secret.   The  application probably needs other information from there as well, such as home directory or
       UID.   The auxiliary property interface allows the two to cooperate, and only results in a  single  query
       against the LDAP server (or other property sources).

       Property  lookups take place directly after user canonicalization occurs.  Therefore, all requests should
       be registered with the context before that time.   Note that requests can also be  registered  using  the
       <u><a href="../man3/sasl_auxprop_request.3.html">sasl_auxprop_request</a>(3)</u>   function.    Most  of  the  functions listed below, however, require a property
       context which can be obtained by calling <u><a href="../man3/sasl_auxprop_getctx.3.html">sasl_auxprop_getctx</a>(3)</u>.

</pre><h4><b>API</b> <b>DESCRIPTION</b></h4><pre>
       <b>struct</b> <u>propctx</u> <b>*prop_new(unsigned</b> <b>estimate)</b>
              Create a new property context.  Probably unnecessary for application developers to  call  this  at
              any point.

              <b>Parameters</b>

                     • <b>estimate</b>  – is the estimate of storage needed in total for requests &amp; responses.  A value
                       of 0 implies the library default.

              <b>Returns</b>
                     a new property context: <u>propctx</u>

       <b>int</b> <b>prop_dup(struct</b> <u>propctx</u> <b>*src_ctx,</b> <b>struct</b> <u>propctx</u> <b>*dst_ctx)</b>
              Duplicate a given property context.

              <b>Parameters</b>

                     • <b>src_ctx</b> (<u>propctx</u>) – Property context to copy.

                     • <b>dst_ctx</b> (<u>propctx</u>) – Destination context to copy into.

              <b>Returns</b>
                     SASL error code.

       <b>int</b> <b>prop_request(struct</b> <u>propctx</u> <b>*ctx,</b> <b>const</b> <b>char</b> <b>**names)</b>
              Add properties to the request list of a given context.

              <b>Parameters</b>

                     • <b>ctx</b> (<u>propctx</u>) – The property context to add add the request list to.

                     • <b>names</b> – is the NULL-terminated array of property  names,   and  must  persist  until  the
                       requests are cleared or the context is disposed of with a call to <u>prop_dispose()</u>.

              <b>Returns</b>
                     SASL error code

       <b>const</b> <b>struct</b> <u>propval</u> <b>*prop_get(struct</b> <u>propctx</u> <b>*ctx)</b>
              Fetch out the property values from a context.

              <b>Parameters</b>

                     • <b>ctx</b> (<u>propctx</u>) – The property context to fetch from.

              <b>Returns</b>
                     a NULL-terminated array of property values from the given context.

       <b>int</b> <b>prop_getnames(struct</b> <u>propctx</u> <b>*ctx,</b> <b>const</b> <b>char</b> <b>**names,</b> <b>struct</b> <u>propval</u> <b>*vals)</b>
              Fill  in  a  (provided)  array of property values based on a list of property names.  This implies
              that the <b>vals</b> array is at least as long as the  <b>names</b> array.  The values that  are  filled  in  by
              this  call persist   until   next   call   to   <u>prop_request()</u>, <u>prop_clear()</u>, or <u>prop_dispose()</u> on
              context.  If a name specified here was never requested, then its associated values entry  will  be
              set to NULL.

              <b>Parameters</b>

                     • <b>ctx</b> (<u>propctx</u>) – The property context to fill in.

              <b>Returns</b>
                     number of matching properties that were found, or a SASL error code.

       <b>void</b> <b>prop_clear(struct</b> <u>propctx</u> <b>*ctx,</b> <b>int</b> <b>requests)</b>
              Clear values and (optionally) requests from a property context.

              <b>Parameters</b>

                     • <b>ctx</b> (<u>propctx</u>) – The property context to clear.

                     • <b>requests</b> – set to 1 if the requests should be cleared, 0 otherwise.

       <b>void</b> <b>prop_erase(struct</b> <u>propctx</u> <b>*ctx,</b> <b>const</b> <b>char</b> <b>*name)</b>
              Securely erase the value of a property from a context.

              <b>Parameters</b>

                     • <b>ctx</b> (<u>propctx</u>) – The property context to find the property in.

                     • <b>name</b> – is the name of the property to erase.

       <b>void</b> <b>prop_dispose(struct</b> <u>propctx</u> <b>**ctx)</b>
              Disposes of a property context and NULLifys the pointer.

              <b>Parameters</b>

                     • <b>ctx</b> (<u>propctx</u>) – The property context to clear.

       <b>int</b> <b>prop_format(struct</b> <u>propctx</u> <b>*ctx,</b> <b>const</b> <b>char</b> <b>*sep,</b> <b>int</b> <b>seplen,</b> <b>char</b> <b>*outbuf,</b> <b>unsigned</b> <b>outmax,</b> <b>unsigned</b>
       <b>*outlen)</b>
              Format  the  requested property names into a string.  This not intended for use by the application
              (<u>only</u> <u>by</u> <u>auxprop</u> <u>plugins</u>).

              <b>Parameters</b>

                     • <b>ctx</b> (<u>propctx</u>) – The property context to extract values from.

                     • <b>sep</b> – the separator to use for the string

                     • <b>outbuf</b> – destination string. Caller must allocate the buffer of length <b>outmax</b>  (including
                       NUL terminator).

                     • <b>outlen</b>  –  if  non-NULL,  will  contain the length of the resulting string (excluding NUL
                       terminator).

              <b>Returns</b>
                     SASL error code.

       <b>int</b> <b>prop_set(struct</b> <u>propctx</u> <b>*ctx,</b> <b>const</b> <b>char</b> <b>*name,</b> <b>const</b> <b>char</b> <b>*value,</b> <b>int</b> <b>vallen)</b>
              Adds a property value to the context.  <u>This</u> <u>is</u> <u>intended</u> <u>for</u> <u>use</u> <u>by</u> <u>auxprop</u> <u>plugins</u> <u>only.</u>

              <b>Parameters</b>

                     • <b>ctx</b> (<u>propctx</u>) – The property context to add a value to.

                     • <b>name</b> – the name of the property to receive the new value,  or NULL,  which  implies  that
                       the  value  will  be  added to the same property as the last call to either <u>prop_set()</u> or
                       <u>prop_setvals()</u>.

                     • <b>value</b> – the new value (of length <u>vallen</u>)

                     • <b>vallen</b> – the length of the string <u>value</u>.

              <b>Returns</b>
                     SASL error code

       <b>int</b> <b>prop_setvals(struct</b> <u>propctx</u> <b>*ctx,</b> <b>const</b> <b>char</b> <b>*name,</b> <b>const</b> <b>char</b> <b>**values)</b>
              Adds multiple values to a single property.  <u>This</u> <u>is</u> <u>intended</u> <u>for</u> <u>use</u> <u>by</u> <u>auxprop</u> <u>plugins</u> <u>only</u>.

              <b>Parameters</b>

                     • <b>ctx</b> (<u>propctx</u>) – The property context to add values to.

                     • <b>name</b> – The name of the property to receive the new value, or NULL, which implies that the
                       values will be added to the same property as  the  last  call  to  either  <u>prop_set()</u>  or
                       <u>prop_setvals()</u>.

                     • <b>values</b> – A NULL-terminated array of values to be added the property.

              <b>Returns</b>
                     SASL error code

</pre><h4><b>DATA</b> <b>STRUCTURES</b></h4><pre>
       <b>type</b> <b>propval</b>
              A struct holding a name and its property values. A name can have zero or more values.

              <b>Param</b> <b>name</b>
                     <b>const</b> <b>char</b> <b>*</b>. Name of this propval. NULL means end of list.

              <b>Param</b> <b>values</b>
                     <b>const</b>  <b>char</b>  <b>**</b>.  List of string values. If property not found, values == NULL. If property
                     found with no values, then *values == NULL

       <b>type</b> <b>propctx</b>
              A property context.

              <b>Param</b> <b>values</b>
                     List of property values in this context.

              <b>Type</b> <b>values</b>
                     <u>propval</u> *

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       The property functions that return an int return SASL error codes.   See   <u><a href="../man3/sasl_errors.3.html">sasl_errors</a>(3)</u>.    Those  that
       return pointers will return a valid pointer on success, or NULL on any error.

</pre><h4><b>CONFORMING</b> <b>TO</b></h4><pre>
       <u>RFC</u> <u>4422</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/sasl.3.html">sasl</a>(3)</u>, <u><a href="../man3/sasl_errors.3.html">sasl_errors</a>(3)</u>, <u><a href="../man3/sasl_auxprop_request.3.html">sasl_auxprop_request</a>(3)</u>, <u><a href="../man3/sasl_auxprop_getctx.3.html">sasl_auxprop_getctx</a>(3)</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       The Cyrus Team

</pre><h4><b>COPYRIGHT</b></h4><pre>
       1993-2016, The Cyrus Team

2.1.28                                             2025-02-28                                    <u><a href="../man3/SASL_AUXPROP.3.html">SASL_AUXPROP</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>