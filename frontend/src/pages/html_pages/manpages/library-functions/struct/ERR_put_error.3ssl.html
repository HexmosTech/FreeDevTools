<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ERR_raise, ERR_raise_data, ERR_put_error, ERR_add_error_data, ERR_add_error_vdata, ERR_add_error_txt,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ERR_raise, ERR_raise_data, ERR_put_error, ERR_add_error_data, ERR_add_error_vdata, ERR_add_error_txt,
       ERR_add_error_mem_bio - record an error

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/err.h&gt;

        void ERR_raise(int lib, int reason);
        void ERR_raise_data(int lib, int reason, const char *fmt, ...);

        void ERR_add_error_data(int num, ...);
        void ERR_add_error_vdata(int num, va_list arg);
        void ERR_add_error_txt(const char *sep, const char *txt);
        void ERR_add_error_mem_bio(const char *sep, BIO *bio);

       The following function has been deprecated since OpenSSL 3.0, and can be hidden entirely by defining
       <b>OPENSSL_API_COMPAT</b> with a suitable version value, see <b><a href="../man7/openssl_user_macros.7.html">openssl_user_macros</a></b>(7):

        void ERR_put_error(int lib, int func, int reason, const char *file, int line);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ERR_raise()</b> adds a new error to the thread's error queue.  The error occurred in the library <b>lib</b> for the
       reason given by the <b>reason</b> code.  Furthermore, the name of the file, the line, and name of the function
       where the error occurred is saved with the error record.

       <b>ERR_raise_data()</b> does the same thing as <b>ERR_raise()</b>, but also lets the caller specify additional
       information as a format string <b>fmt</b> and an arbitrary number of values, which are processed with
       <b><a href="../man3/BIO_snprintf.3.html">BIO_snprintf</a></b>(3).

       <b>ERR_put_error()</b> adds an error code to the thread's error queue. It signals that the error of reason code
       <b>reason</b> occurred in function <b>func</b> of library <b>lib</b>, in line number <b>line</b> of <b>file</b>.  This function is usually
       called by a macro.

       <b>ERR_add_error_data()</b> associates the concatenation of its <b>num</b> string arguments as additional data with the
       error code added last.  <b>ERR_add_error_vdata()</b> is similar except the argument is a <b>va_list</b>.  Multiple
       calls to these functions append to the current top of the error queue.  The total length of the string
       data per error is limited to 4096 characters.

       <b>ERR_add_error_txt()</b> appends the given text string as additional data to the last error queue entry, after
       inserting the optional separator string if it is not NULL and the top error entry does not yet have
       additional data.  In case the separator is at the end of the text it is not appended to the data.  The
       <b>sep</b> argument may be for instance "\n" to insert a line break when needed.  If the associated data would
       become more than 4096 characters long (which is the limit given above) it is split over sufficiently many
       new copies of the last error queue entry.

       <b>ERR_add_error_mem_bio()</b> is the same as <b>ERR_add_error_txt()</b> except that the text string is taken from the
       given memory BIO.  It appends '\0' to the BIO contents if not already NUL-terminated.

       <b><a href="../man3/ERR_load_strings.3.html">ERR_load_strings</a></b>(3) can be used to register error strings so that the application can a generate human-
       readable error messages for the error code.

   <b>Reporting</b> <b>errors</b>
       <u>OpenSSL</u> <u>library</u> <u>reports</u>

       Each OpenSSL sub-library has library code <b>ERR_LIB_XXX</b> and has its own set of reason codes <b>XXX_R_...</b>.
       These are both passed in combination to <b>ERR_raise()</b> and <b>ERR_raise_data()</b>, and the combination ultimately
       produces the correct error text for the reported error.

       All these macros and the numbers they have as values are specific to OpenSSL's libraries.  OpenSSL reason
       codes normally consist of textual error descriptions. For example, the function <b>ssl3_read_bytes()</b> reports
       a "handshake failure" as follows:

        ERR_raise(ERR_LIB_SSL, SSL_R_SSL_HANDSHAKE_FAILURE);

       There are two exceptions:

       <b>ERR_LIB_SYS</b>
           This  "library  code" indicates that a system error is being reported.  In this case, the reason code
           given to <b>ERR_raise()</b> and <b>ERR_raise_data()</b> <u>must</u> be <b><a href="../man3/errno.3.html">errno</a></b>(3).

            ERR_raise(ERR_LIB_SYS, errno);

       <b>ERR_R_XXX</b>
           This set of error codes is considered global, and may be used in  combination  with  any  sub-library
           code.

            ERR_raise(ERR_LIB_RSA, ERR_R_PASSED_INVALID_ARGUMENT);

       <u>Other</u> <u>pieces</u> <u>of</u> <u>software</u>

       Other  pieces  of  software  that  may  want  to use OpenSSL's error reporting system, such as engines or
       applications, must normally get their own numbers.

       •   To get a "library" code, call <b><a href="../man3/ERR_get_next_error_library.3.html">ERR_get_next_error_library</a></b>(3); this gives the calling  code  a  dynamic
           number, usable for the duration of the process.

       •   Reason  codes  for each such "library" are determined or generated by the authors of that code.  They
           must be numbers in the range 1 to 524287 (in other words,  they  must  be  nonzero  unsigned  18  bit
           integers).

       The  exceptions mentioned in "OpenSSL library reports" above are valid for other pieces of software, i.e.
       they may use <b>ERR_LIB_SYS</b> to report system errors:

        ERR_raise(ERR_LIB_SYS, errno);

       ... and they may use <b>ERR_R_XXX</b> macros together with their own "library" code.

        int app_lib_code = ERR_get_next_error_library();

        /* ... */

        ERR_raise(app_lib_code, ERR_R_PASSED_INVALID_ARGUMENT);

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>ERR_raise()</b>,    <b>ERR_raise_data()</b>,    <b>ERR_put_error()</b>,     <b>ERR_add_error_data()</b>,     <b>ERR_add_error_vdata()</b>
       <b>ERR_add_error_txt()</b>, and <b>ERR_add_error_mem_bio()</b> return no values.

</pre><h4><b>NOTES</b></h4><pre>
       <b>ERR_raise()</b>, <b>ERR_raise()</b> and <b>ERR_put_error()</b> are implemented as macros.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ERR_load_strings.3.html">ERR_load_strings</a></b>(3), <b><a href="../man3/ERR_get_next_error_library.3.html">ERR_get_next_error_library</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       ERR_raise, ERR_raise_data, <b>ERR_add_error_txt()</b> and <b>ERR_add_error_mem_bio()</b> were added in OpenSSL 3.0.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2000-2020 The OpenSSL Project Authors. All Rights Reserved.

       Licensed  under  the  Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain  a  copy  in  the  file  LICENSE  in  the  source  distribution  or  at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                                <u><a href="../man3SSL/ERR_PUT_ERROR.3SSL.html">ERR_PUT_ERROR</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>