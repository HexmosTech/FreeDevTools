<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>roar_vs_file, roar_vs_file_simple, roar_vs_new_from_file - File mode for VS API</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libroar-dev">libroar-dev_1.0~beta12-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       roar_vs_file, roar_vs_file_simple, roar_vs_new_from_file - File mode for VS API

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;roaraudio.h&gt;

       int roar_vs_file(roar_vs_t * vss, struct roar_vio_calls * vio, int closefile, int * error);

       int roar_vs_file_simple(roar_vs_t * vss, char * filename, int * error);

       roar_vs_t * roar_vs_new_from_file(const char * server, const char * name, char * filename, int * error);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These  functions are used to open the VS object in file mode. In the file mode the VS API reads or writes
       the data from or to the file itself. The file mode uses normal VIO/DSTR so it supports streams  as  well.
       Just pass the stream URL as filename.

       <b>roar_vs_file()</b>  sets  up  the  file mode for a already opened object using the open VIO handle <b>vio</b>.  This
       function requires the use of <b><a href="../man3/roar_vs_stream.3.html">roar_vs_stream</a></b>(3).

       <b>roar_vs_file_simple()</b> sets up the file mode using a given filename (or URL). It opens the file using DSTR
       API. By default the function assumes playback mode and tries to auto detect  the  audio  parameters.   To
       override the auto detection or use a different stream direction use <b><a href="../man3/roar_vs_stream.3.html">roar_vs_stream</a></b>(3).

       <b>roar_vs_new_from_file()</b>  creates  a  new  VS object and enters file mode using the file (or URL) given as
       <b>filename</b>.

       To send data to or read data from use <b><a href="../man3/roar_vs_iterate.3.html">roar_vs_iterate</a></b>(3) or <b><a href="../man3/roar_vs_run.3.html">roar_vs_run</a></b>(3).

</pre><h4><b>PARAMETERS</b></h4><pre>
       <b>server</b> The server to connect to. NULL for defaults.

       <b>name</b>   The application name. This should be something the user can use to identify the  application.   It
              MUST NOT be the application's binary name or the value of argv[0].

       <b>vio</b>    The VIO handle to be used by the file mode.

       <b>closefile</b>
              This  parameter  tells  the  file mode if the file should be closed on <a href="../man3/roar_vio_close.3.html">roar_vio_close</a>(3).  Must be
              ROAR_VS_TRUE (common) or ROAR_VS_FALSE.

       <b>filename</b>
              The filename used to open the file for file mode. The file is opend using DSTR API.  All kinds  of
              files supported by DSTR are supported. This includes HTTP streams.

       <b>error</b>  This  is  a pointer to a integer used to store the error value in case of error.  This can be NULL
              if not used but it is very recommended to use this error value to report good  error  messages  to
              the user.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On  success  roar_vs_new_from_file() return a new VS object.  On error, NULL is returned.  roar_vs_file()
       and roar_vs_file_simple() returns 0 on success and -1 on error.

</pre><h4><b>EXAMPLES</b></h4><pre>
        roar_vs_t * vss;
        int err;

        vss = roar_vs_new_from_file(NULL, "MyApp", "http://...", &amp;err);
        if ( vss == NULL ) {
         //handle error.
        }

        if ( roar_vs_run(vss, &amp;err) == -1 ) {
         //handle error.
        }

        if ( roar_vs_close(vss, ROAR_VS_FALSE, &amp;err) == -1 ) {
         //handle error.
        }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/roar_vs_new_simple.3.html">roar_vs_new_simple</a></b>(3),  <b><a href="../man3/roar_vs_iterate.3.html">roar_vs_iterate</a></b>(3),  <b><a href="../man3/roar_vs_run.3.html">roar_vs_run</a></b>(3),  <b><a href="../man3/roar_vs_close.3.html">roar_vs_close</a></b>(3),  <b><a href="../man7/roarvs.7.html">roarvs</a></b>(7),   <b><a href="../man7/libroar.7.html">libroar</a></b>(7),
       <b><a href="../man7/RoarAudio.7.html">RoarAudio</a></b>(7).

RoarAudio                                           June 2011                                    <u><a href="../man3/roar_vs_file.3.html">roar_vs_file</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>