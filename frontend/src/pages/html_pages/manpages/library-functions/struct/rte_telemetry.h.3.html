<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rte_telemetry.h</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dpdk-doc">dpdk-doc_24.11.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rte_telemetry.h

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/stdint.h">stdint.h</a>&gt;
       #include &lt;rte_compat.h&gt;
       #include &lt;rte_common.h&gt;

   <b>Macros</b>
       #define <b>RTE_TEL_MAX_STRING_LEN</b>   128
       #define <b>RTE_TEL_MAX_SINGLE_STRING_LEN</b>   8192
       #define <b>RTE_TEL_MAX_DICT_ENTRIES</b>   256
       #define <b>RTE_TEL_MAX_ARRAY_ENTRIES</b>   512

   <b>Typedefs</b>
       <b>typedef</b> int(* <b>telemetry_cb</b>) (const char *cmd, const char *params, struct rte_tel_data *info)
       <b>typedef</b> int(* <b>telemetry_arg_cb</b>) (const char *cmd, const char *params, void *arg, struct rte_tel_data
           *info)
       <b>typedef</b> void *(* <b>handler</b>) (void *sock_id)

   <b>Enumerations</b>
       enum <b>rte_tel_value_type</b> {  }

   <b>Functions</b>
       int <b>rte_tel_data_start_array</b> (struct rte_tel_data *d, enum <b>rte_tel_value_type</b> type)
       int <b>rte_tel_data_start_dict</b> (struct rte_tel_data *d)
       int <b>rte_tel_data_string</b> (struct rte_tel_data *d, const char *str)
       int <b>rte_tel_data_add_array_string</b> (struct rte_tel_data *d, const char *str)
       int <b>rte_tel_data_add_array_int</b> (struct rte_tel_data *d, int64_t x)
       int <b>rte_tel_data_add_array_uint</b> (struct rte_tel_data *d, uint64_t x)
       int <b>rte_tel_data_add_array_u64</b> (struct rte_tel_data *d, uint64_t x) __rte_deprecated_msg('use
           '<b>rte_tel_data_add_array_uint</b>' instead')
       int <b>rte_tel_data_add_array_container</b> (struct rte_tel_data *d, struct rte_tel_data *val, int keep)
       __rte_experimental int <b>rte_tel_data_add_array_uint_hex</b> (struct rte_tel_data *d, uint64_t val, uint8_t
           display_bitwidth)
       int <b>rte_tel_data_add_dict_string</b> (struct rte_tel_data *d, const char *name, const char *val)
       int <b>rte_tel_data_add_dict_int</b> (struct rte_tel_data *d, const char *name, int64_t val)
       int <b>rte_tel_data_add_dict_uint</b> (struct rte_tel_data *d, const char *name, uint64_t val)
       int <b>rte_tel_data_add_dict_u64</b> (struct rte_tel_data *d, const char *name, uint64_t val)
           __rte_deprecated_msg('use '<b>rte_tel_data_add_dict_uint</b>' instead')
       int <b>rte_tel_data_add_dict_container</b> (struct rte_tel_data *d, const char *name, struct rte_tel_data *val,
           int keep)
       __rte_experimental int <b>rte_tel_data_add_dict_uint_hex</b> (struct rte_tel_data *d, const char *name, uint64_t
           val, uint8_t display_bitwidth)
       int <b>rte_telemetry_register_cmd</b> (const char *cmd, <b>telemetry_cb</b> fn, const char *help)
       __rte_experimental int <b>rte_telemetry_register_cmd_arg</b> (const char *cmd, <b>telemetry_arg_cb</b> fn, void *arg,
           const char *help)
       struct rte_tel_data * <b>rte_tel_data_alloc</b> (void)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       RTE Telemetry.

       The telemetry library provides a method to retrieve statistics from DPDK by sending a request message
       over a socket. DPDK will send a JSON encoded response containing telemetry data.

       Definition in file <b>rte_telemetry.h</b>.

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>RTE_TEL_MAX_STRING_LEN</b>   <b>128</b>
       Maximum length for string used in object.

       Definition at line <b>17</b> of file <b>rte_telemetry.h</b>.

   <b>#define</b> <b>RTE_TEL_MAX_SINGLE_STRING_LEN</b>   <b>8192</b>
       Maximum length of string.

       Definition at line <b>19</b> of file <b>rte_telemetry.h</b>.

   <b>#define</b> <b>RTE_TEL_MAX_DICT_ENTRIES</b>   <b>256</b>
       Maximum number of dictionary entries.

       Definition at line <b>21</b> of file <b>rte_telemetry.h</b>.

   <b>#define</b> <b>RTE_TEL_MAX_ARRAY_ENTRIES</b>   <b>512</b>
       Maximum number of array entries.

       Definition at line <b>23</b> of file <b>rte_telemetry.h</b>.

</pre><h4><b>Typedef</b> <b>Documentation</b></h4><pre>
   <b>typedef</b> <b>int(*</b> <b>telemetry_cb)</b> <b>(const</b> <b>char</b> <b>*cmd,</b> <b>const</b> <b>char</b> <b>*params,</b> <b>struct</b> <b>rte_tel_data</b> <b>*info)</b>
       This telemetry callback is used when registering a telemetry command. It handles getting and formatting
       information to be returned to telemetry when requested.

       <b>Parameters</b>
           <u>cmd</u> The cmd that was requested by the client.
           <u>params</u> Contains data required by the callback function.
           <u>info</u> The information to be returned to the caller.

       <b>Returns</b>
           Length of buffer used on success.

           Negative integer on error.

       Definition at line <b>336</b> of file <b>rte_telemetry.h</b>.

   <b>typedef</b> <b>int(*</b> <b>telemetry_arg_cb)</b> <b>(const</b> <b>char</b> <b>*cmd,</b> <b>const</b> <b>char</b> <b>*params,</b> <b>void</b> <b>*arg,</b> <b>struct</b> <b>rte_tel_data</b> <b>*info)</b>
       This telemetry callback is used when registering a telemetry command with
       <b>rte_telemetry_register_cmd_arg()</b>.

       It handles getting and formatting information to be returned to telemetry when requested.

       <b>Parameters</b>
           <u>cmd</u> The cmd that was requested by the client.
           <u>params</u> Contains data required by the callback function.
           <u>arg</u> The opaque value that was passed to <b>rte_telemetry_register_cmd_arg()</b>.
           <u>info</u> The information to be returned to the caller.

       <b>Returns</b>
           Length of buffer used on success.

           Negative integer on error.

       Definition at line <b>360</b> of file <b>rte_telemetry.h</b>.

   <b>typedef</b> <b>void</b> <b>*(*</b> <b>handler)</b> <b>(void</b> <b>*sock_id)</b>
       Used for handling data received over a telemetry socket.

       <b>Parameters</b>
           <u>sock_id</u> ID for the socket to be used by the handler.

       <b>Returns</b>
           Void.

       Definition at line <b>372</b> of file <b>rte_telemetry.h</b>.

</pre><h4><b>Enumeration</b> <b>Type</b> <b>Documentation</b></h4><pre>
   <b>enum</b> <b>rte_tel_value_type</b>
       The types of data that can be managed in arrays or dicts. For arrays, this must be specified at creation
       time, while for dicts this is specified implicitly each time an element is added via calling a type-
       specific function.

       <b>Enumerator</b>

       <u>RTE_TEL_INT_VAL</u>
              a string value

       <u>RTE_TEL_UINT_VAL</u>
              a signed 64-bit int value

       <u>RTE_TEL_CONTAINER</u>
              an unsigned 64-bit int value

       Definition at line <b>44</b> of file <b>rte_telemetry.h</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b> <b>rte_tel_data_start_array</b> <b>(struct</b> <b>rte_tel_data</b> <b>*</b> <b>d,</b> <b>enum</b> <b>rte_tel_value_type</b> <b>type)</b>
       Start an array of the specified type for returning from a callback

       <b>Parameters</b>
           <u>d</u> The data structure passed to the callback
           <u>type</u> The type of the array of data

       <b>Returns</b>
           0 on success, negative errno on error

   <b>int</b> <b>rte_tel_data_start_dict</b> <b>(struct</b> <b>rte_tel_data</b> <b>*</b> <b>d)</b>
       Start a dictionary of values for returning from a callback

       Dictionaries  consist  of  key-values pairs to be returned, where the keys, or names, are strings and the
       values can be any of the types supported  by  telemetry.  Name  strings  may  only  contain  alphanumeric
       characters as well as '_' or '/'

       <b>Parameters</b>
           <u>d</u> The data structure passed to the callback

       <b>Returns</b>
           0 on success, negative errno on error

   <b>int</b> <b>rte_tel_data_string</b> <b>(struct</b> <b>rte_tel_data</b> <b>*</b> <b>d,</b> <b>const</b> <b>char</b> <b>*</b> <b>str)</b>
       Set a string for returning from a callback

       <b>Parameters</b>
           <u>d</u> The data structure passed to the callback
           <u>str</u> The string to be returned in the data structure

       <b>Returns</b>
           0 on success, negative errno on error, E2BIG on string truncation

   <b>int</b> <b>rte_tel_data_add_array_string</b> <b>(struct</b> <b>rte_tel_data</b> <b>*</b> <b>d,</b> <b>const</b> <b>char</b> <b>*</b> <b>str)</b>
       Add  a  string  to  an  array.  The  array  must  have  been  started  by <b>rte_tel_data_start_array()</b> with
       RTE_TEL_STRING_VAL as the type parameter.

       <b>Parameters</b>
           <u>d</u> The data structure passed to the callback
           <u>str</u> The string to be returned in the array

       <b>Returns</b>
           0 on success, negative errno on error, E2BIG on string truncation

   <b>int</b> <b>rte_tel_data_add_array_int</b> <b>(struct</b> <b>rte_tel_data</b> <b>*</b> <b>d,</b> <b>int64_t</b> <b>x)</b>
       Add  an  int  to  an  array.  The  array  must  have  been  started  by  <b>rte_tel_data_start_array()</b>  with
       RTE_TEL_INT_VAL as the type parameter.

       <b>Parameters</b>
           <u>d</u> The data structure passed to the callback
           <u>x</u> The number to be returned in the array

       <b>Returns</b>
           0 on success, negative errno on error

   <b>int</b> <b>rte_tel_data_add_array_uint</b> <b>(struct</b> <b>rte_tel_data</b> <b>*</b> <b>d,</b> <b>uint64_t</b> <b>x)</b>
       Add  an  unsigned  value to an array. The array must have been started by <b>rte_tel_data_start_array()</b> with
       RTE_TEL_UINT_VAL as the type parameter.

       <b>Parameters</b>
           <u>d</u> The data structure passed to the callback
           <u>x</u> The number to be returned in the array

       <b>Returns</b>
           0 on success, negative errno on error

   <b>int</b> <b>rte_tel_data_add_array_u64</b> <b>(struct</b> <b>rte_tel_data</b> <b>*</b> <b>d,</b> <b>uint64_t</b> <b>x)</b>
       Add a uint64_t to an  array.  The  array  must  have  been  started  by  <b>rte_tel_data_start_array()</b>  with
       RTE_TEL_UINT_VAL as the type parameter.

       <b>Parameters</b>
           <u>d</u> The data structure passed to the callback
           <u>x</u> The number to be returned in the array

       <b>Returns</b>
           0 on success, negative errno on error

   <b>int</b> <b>rte_tel_data_add_array_container</b> <b>(struct</b> <b>rte_tel_data</b> <b>*</b> <b>d,</b> <b>struct</b> <b>rte_tel_data</b> <b>*</b> <b>val,</b> <b>int</b> <b>keep)</b>
       Add  a container to an array. A container is an existing telemetry data array. The array the container is
       to be added to must have been started by <b>rte_tel_data_start_array()</b> with RTE_TEL_CONTAINER  as  the  type
       parameter. The container type must be an array of type uint64_t/int/string.

       <b>Parameters</b>
           <u>d</u> The data structure passed to the callback
           <u>val</u> The pointer to the container to be stored in the array.
           <u>keep</u>  Flag  to  indicate that the container memory should not be automatically freed by the telemetry
           library once it has finished with the data. 1 = keep, 0 = free.

       <b>Returns</b>
           0 on success, negative errno on error

   <b>__rte_experimental</b> <b>int</b> <b>rte_tel_data_add_array_uint_hex</b>  <b>(struct</b>  <b>rte_tel_data</b>  <b>*</b>  <b>d,</b>  <b>uint64_t</b>  <b>val,</b>  <b>uint8_t</b>
       <b>display_bitwidth)</b>
       Convert  an  unsigned  integer  to hexadecimal encoded strings and add this string to an array. The array
       must have been started by <b>rte_tel_data_start_array()</b> with RTE_TEL_STRING_VAL as the type parameter.

       <b>Parameters</b>
           <u>d</u> The data structure passed to the callback.
           <u>val</u> The number to be returned in the array as a hexadecimal encoded strings.
           <u>display_bitwidth</u> The display bit width of the 'val'. If 'display_bitwidth'  is  zero,  the  value  is
           stored  in the array as no-padding zero hexadecimal encoded string, or the value is stored as padding
           zero to specified hexadecimal width.

       <b>Returns</b>
           0 on success, negative errno on error.

   <b>int</b> <b>rte_tel_data_add_dict_string</b> <b>(struct</b> <b>rte_tel_data</b> <b>*</b> <b>d,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b> <b>const</b> <b>char</b> <b>*</b> <b>val)</b>
       Add a string value to a dictionary. The dict must have been started by <b>rte_tel_data_start_dict()</b>.

       <b>Parameters</b>
           <u>d</u> The data structure passed to the callback
           <u>name</u> The name the value is to be stored under in the dict Must contain only  alphanumeric  characters
           or the symbols: '_' or '/'
           <u>val</u> The string to be stored in the dict

       <b>Returns</b>
           0 on success, negative errno on error, E2BIG on string truncation of either name or value.

   <b>int</b> <b>rte_tel_data_add_dict_int</b> <b>(struct</b> <b>rte_tel_data</b> <b>*</b> <b>d,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b> <b>int64_t</b> <b>val)</b>
       Add an int value to a dictionary. The dict must have been started by <b>rte_tel_data_start_dict()</b>.

       <b>Parameters</b>
           <u>d</u> The data structure passed to the callback
           <u>name</u>  The  name the value is to be stored under in the dict Must contain only alphanumeric characters
           or the symbols: '_' or '/'
           <u>val</u> The number to be stored in the dict

       <b>Returns</b>
           0 on success, negative errno on error, E2BIG on string truncation of name.

   <b>int</b> <b>rte_tel_data_add_dict_uint</b> <b>(struct</b> <b>rte_tel_data</b> <b>*</b> <b>d,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b> <b>uint64_t</b> <b>val)</b>
       Add an unsigned value to a dictionary. The dict must have been started by <b>rte_tel_data_start_dict()</b>.

       <b>Parameters</b>
           <u>d</u> The data structure passed to the callback
           <u>name</u> The name the value is to be stored under in the dict Must contain only  alphanumeric  characters
           or the symbols: '_' or '/'
           <u>val</u> The number to be stored in the dict

       <b>Returns</b>
           0 on success, negative errno on error, E2BIG on string truncation of name.

   <b>int</b> <b>rte_tel_data_add_dict_u64</b> <b>(struct</b> <b>rte_tel_data</b> <b>*</b> <b>d,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b> <b>uint64_t</b> <b>val)</b>
       Add a uint64_t value to a dictionary. The dict must have been started by <b>rte_tel_data_start_dict()</b>.

       <b>Parameters</b>
           <u>d</u> The data structure passed to the callback
           <u>name</u>  The  name the value is to be stored under in the dict Must contain only alphanumeric characters
           or the symbols: '_' or '/'
           <u>val</u> The number to be stored in the dict

       <b>Returns</b>
           0 on success, negative errno on error, E2BIG on string truncation of name.

   <b>int</b> <b>rte_tel_data_add_dict_container</b> <b>(struct</b> <b>rte_tel_data</b> <b>*</b> <b>d,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b> <b>struct</b> <b>rte_tel_data</b>  <b>*</b>  <b>val,</b>
       <b>int</b> <b>keep)</b>
       Add  a container to a dictionary. A container is an existing telemetry data array. The dict the container
       is to be added to must have been started by <b>rte_tel_data_start_dict()</b>. The container must be an array  of
       type uint64_t/int/string.

       <b>Parameters</b>
           <u>d</u> The data structure passed to the callback
           <u>name</u>  The name the value is to be stored under in the dict. Must contain only alphanumeric characters
           or the symbols: '_' or '/'
           <u>val</u> The pointer to the container to be stored in the dict.
           <u>keep</u> Flag to indicate that the container memory should not be automatically freed  by  the  telemetry
           library once it has finished with the data. 1 = keep, 0 = free.

       <b>Returns</b>
           0 on success, negative errno on error

   <b>__rte_experimental</b>  <b>int</b>  <b>rte_tel_data_add_dict_uint_hex</b> <b>(struct</b> <b>rte_tel_data</b> <b>*</b> <b>d,</b> <b>const</b> <b>char</b> <b>*</b> <b>name,</b> <b>uint64_t</b>
       <b>val,</b> <b>uint8_t</b> <b>display_bitwidth)</b>
       Convert an unsigned integer to hexadecimal encoded strings and add this string to an dictionary. The dict
       must have been started by <b>rte_tel_data_start_dict()</b>.

       <b>Parameters</b>
           <u>d</u> The data structure passed to the callback.
           <u>name</u> The name of the value is to be stored in the dict. Must contain only alphanumeric characters  or
           the symbols: '_' or '/'.
           <u>val</u> The number to be stored in the dict as a hexadecimal encoded strings.
           <u>display_bitwidth</u>  The  display  bit  width  of the 'val'. If 'display_bitwidth' is zero, the value is
           stored in the array as no-padding zero hexadecimal encoded string, or the value is stored as  padding
           zero to specified hexadecimal width.

       <b>Returns</b>
           0 on success, negative errno on error.

   <b>int</b> <b>rte_telemetry_register_cmd</b> <b>(const</b> <b>char</b> <b>*</b> <b>cmd,</b> <b>telemetry_cb</b> <b>fn,</b> <b>const</b> <b>char</b> <b>*</b> <b>help)</b>
       Used when registering a command and callback function with telemetry.

       <b>Parameters</b>
           <u>cmd</u> The command to register with telemetry.
           <u>fn</u> Callback function to be called when the command is requested.
           <u>help</u> Help text for the command.

       <b>Returns</b>
           0 on success.

           -EINVAL for invalid parameters failure.

           -ENOMEM for mem allocation failure.

   <b>__rte_experimental</b>  <b>int</b>  <b>rte_telemetry_register_cmd_arg</b>  <b>(const</b>  <b>char</b> <b>*</b> <b>cmd,</b> <b>telemetry_arg_cb</b> <b>fn,</b> <b>void</b> <b>*</b> <b>arg,</b>
       <b>const</b> <b>char</b> <b>*</b> <b>help)</b>
       Used when registering a command and callback function with telemetry.

       <b>Parameters</b>
           <u>cmd</u> The command to register with telemetry.
           <u>fn</u> Callback function to be called when the command is requested.
           <u>arg</u> An opaque value that will be passed to the callback function.
           <u>help</u> Help text for the command.

       <b>Returns</b>
           0 on success.

           -EINVAL for invalid parameters failure.

           -ENOMEM for mem allocation failure.

   <b>struct</b> <b>rte_tel_data</b> <b>*</b> <b>rte_tel_data_alloc</b> <b>(void)</b>
       Get a pointer to a container with memory allocated. The container  is  to  be  used  embedded  within  an
       existing telemetry dict/array.

       <b>Returns</b>
           Pointer to a container.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for DPDK from the source code.

DPDK                                             Version 24.11.2                              <u><a href="../man3/rte_telemetry.h.3.html">rte_telemetry.h</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>