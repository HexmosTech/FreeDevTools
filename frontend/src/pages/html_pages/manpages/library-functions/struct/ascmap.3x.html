<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ascmap - defines main structures and function for image quantization libAfterImage/ascmap.h</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libafterimage-dev">libafterimage-dev_2.2.12-18_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>ascmap</b> - defines main structures and function for image quantization libAfterImage/ascmap.h

</pre><h4><b>NAMEascmap</b></h4><pre>
       - Defines main structures and function for image quantization.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Image  quantization  is  needed  primarily  in order to be able to export images into file, with colormap
       format, such as GIF and XPM.  libAfterImage attempts to allocate colorcells to the most used colors,  and
       then approximate remaining colors with the closest colorcell.

       Since  quality  of  quantization  is  in  reverse  proportion  to the number of colors in original image,
       libAfterImage allows one to set arbitrary level of downsampling of the color spectrum in the range  of  8
       bit  per  channel  to 1 bit per channel. Downsampling is performed by simple dropping of less significant
       bits off of color values.

       In order to be able to determine closeness of colors, 3-channel RGB values are converted into flat  24bit
       (or  less  if downsampling is used) index. That is done by intermixing bits from different channels, like
       so : R8G8B8R7G7B7...R1G1B1. That flat index is used to arrange colors in ascending order, and later on to
       be able to find closest mapped color. Simple hashing technique is used to speed up the sorting/searching,
       as it allows one to limit linked lists traversals.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Structures :
                ASColormapEntry
                ASColormap

       Functions :
                colormap_asimage(), destroy_colormap()

       Other libAfterImage modules :
                ascmap.h asfont.h asimage.h asvisual.h blender.h export.h
                import.h transform.h ximage.h

</pre><h4><b>AUTHOR</b></h4><pre>
       Sasha Vasko &lt;sasha at aftercode dot net&gt;
       libAfterImage/ASColormapEntry

</pre><h4><b>NAMEASColormapEntry</b></h4><pre>
       - ASColormapEntry represents single colorcell in the colormap.

</pre><h4><b>SOURCE</b></h4><pre>
           typedef struct ASColormapEntry {
               CARD8 red, green, blue; }ASColormapEntry;

       libAfterImage/ASColormap

</pre><h4><b>NAMEASColormap</b></h4><pre>
       - ASColormap represents entire colormap generated for the image.

</pre><h4><b>SOURCE</b></h4><pre>
           typedef struct ASColormap {
               ASColormapEntry *entries ;  /* array of colorcells */
               unsigned int count ;        /* number of used colorcells */
               ASSortedColorHash *hash ;   /* internal data */
               Bool has_opaque ;           /* If True then Image has opaque pixels */ }ASColormap;

       libAfterImage/colormap_asimage()

</pre><h4><b>NAMEcolormap_asimage()</b></h4><pre>
</pre><h4><b>SYNOPSIS</b></h4><pre>
       int *colormap_asimage( ASImage *im, ASColormap *cmap,
                              unsigned int max_colors, unsigned int dither,
                              int opaque_threshold );

</pre><h4><b>INPUTS</b></h4><pre>
       im     - pointer to valid ASImage structure.

       cmap   - preallocated structure to store colormap in.

       max_colors
              - maximum size of the colormap.

       dither - number of bits to strip off the color data ( 0...7 )

       opaque_threshold
              - alpha channel threshold at which pixel should be treated as opaque

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       pointer to the array of indexes representing pixel's colorcells. This  array  has  size  of  WIDTHxHEIGHT
       where WIDTH and HEIGHT are size of the source image.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This function is all that is needed to quantize the ASImage. In order to obtain colorcell of the pixel at
       (x,y) from result, the following code could be used : cmap-&gt;entries[res[y*width+x]] where res is returned
       pointer.  Recommended value for dither parameter is 4 while quantizing photos to 256 colors, and it could
       be less , if original has limited number of colors.
       libAfterImage/destroy_colormap()

</pre><h4><b>NAMEdestroy_colormap()</b></h4><pre>
</pre><h4><b>SYNOPSIS</b></h4><pre>
       void destroy_colormap( ASColormap *cmap, Bool reusable );

</pre><h4><b>INPUTS</b></h4><pre>
       cmap   - pointer to valid ASColormap structure.

       reusable
              -  if  True, then the memory pointed to by cmap will not be deallocated, as if it was allocated on
              stack

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Destroys ASColormap object created using colormap_asimage.

3rd Berkeley Distribution                      AfterStep v.2.2.12                                     <u><a href="../man3x/ascmap.3x.html">ascmap</a></u>(3x)
</pre>
 </div>
</div></section>
</div>
</body>
</html>