<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       posix_trace_getnext_event,  posix_trace_timedgetnext_event,  posix_trace_trygetnext_event  —  retrieve  a
       trace event (<b>TRACING</b>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;sys/types.h&gt;
       #include &lt;trace.h&gt;

       int posix_trace_getnext_event(trace_id_t <u>trid</u>,
           struct posix_trace_event_info *restrict <u>event</u>,
           void *restrict <u>data</u>, size_t <u>num_bytes</u>,
           size_t *restrict <u>data_len</u>, int *restrict <u>unavailable</u>);
       int posix_trace_timedgetnext_event(trace_id_t <u>trid</u>,
           struct posix_trace_event_info *restrict <u>event</u>,
           void *restrict <u>data</u>, size_t <u>num_bytes</u>,
           size_t *restrict <u>data_len</u>, int *restrict <u>unavailable</u>,
           const struct timespec *restrict <u>abstime</u>);
       int posix_trace_trygetnext_event(trace_id_t <u>trid</u>,
           struct posix_trace_event_info *restrict <u>event</u>,
           void *restrict <u>data</u>, size_t <u>num_bytes</u>,
           size_t *restrict <u>data_len</u>, int *restrict <u>unavailable</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <u>posix_trace_getnext_event</u>() function shall report a recorded trace event either from an active  trace
       stream   without   log   or   a   pre-recorded  trace  stream  identified  by  the  <u>trid</u>  argument.   The
       <u>posix_trace_trygetnext_event</u>() function shall report a recorded trace event from an active  trace  stream
       without log identified by the <u>trid</u> argument.

       The trace event information associated with the recorded trace event shall be copied by the function into
       the  structure  pointed  to  by  the argument <u>event</u> and the data associated with the trace event shall be
       copied into the buffer pointed to by the <u>data</u> argument.

       The <u>posix_trace_getnext_event</u>() function shall block if the <u>trid</u>  argument  identifies  an  active  trace
       stream  and  there is currently no trace event ready to be retrieved. When returning, if a recorded trace
       event was reported, the variable pointed to by the <u>unavailable</u> argument shall be set to zero.  Otherwise,
       the variable pointed to by the <u>unavailable</u> argument shall be set to a value different from zero.

       The  <u>posix_trace_timedgetnext_event</u>()  function  shall  attempt to get another trace event from an active
       trace stream without log, as in the <u>posix_trace_getnext_event</u>() function. However, if no trace  event  is
       available  from  the trace stream, the implied wait shall be terminated when the timeout specified by the
       argument <u>abstime</u> expires, and the function shall return the error <b>[ETIMEDOUT]</b>.

       The timeout shall expire when the absolute time specified by <u>abstime</u> passes, as  measured  by  the  clock
       upon  which  timeouts  are based (that is, when the value of that clock equals or exceeds <u>abstime</u>), or if
       the absolute time specified by <u>abstime</u> has already passed at the time of the call.

       The timeout shall be based on the CLOCK_REALTIME clock.  The resolution  of  the  timeout  shall  be  the
       resolution of the clock on which it is based. The <b>timespec</b> data type is defined in the <u>&lt;time.h&gt;</u> header.

       Under  no  circumstance  shall the function fail with a timeout if a trace event is immediately available
       from the trace stream. The validity of the <u>abstime</u> argument need not be  checked  if  a  trace  event  is
       immediately available from the trace stream.

       The behavior of this function for a pre-recorded trace stream is unspecified.

       The  <u>posix_trace_trygetnext_event</u>() function shall not block.  This function shall return an error if the
       <u>trid</u> argument identifies a pre-recorded trace stream.  If  a  recorded  trace  event  was  reported,  the
       variable  pointed  to  by the <u>unavailable</u> argument shall be set to zero. Otherwise, if no trace event was
       reported, the variable pointed to by the <u>unavailable</u> argument shall be set  to  a  value  different  from
       zero.

       The  argument  <u>num_bytes</u>  shall  be  the size of the buffer pointed to by the <u>data</u> argument. The argument
       <u>data_len</u> reports to the application the length in bytes of the data record just transferred. If <u>num_bytes</u>
       is greater than or equal to the size of the data associated with the trace event pointed to by the  <u>event</u>
       argument,  all  the recorded data shall be transferred. In this case, the <u>truncation-status</u> member of the
       trace event structure shall be either POSIX_TRACE_NOT_TRUNCATED, if the trace  event  data  was  recorded
       without  truncation while tracing, or POSIX_TRACE_TRUNCATED_RECORD, if the trace event data was truncated
       when it was recorded. If the <u>num_bytes</u> argument is less than the length of recorded trace event data, the
       data transferred shall be truncated to a length of <u>num_bytes</u>, the value stored in the variable pointed to
       by <u>data_len</u> shall be equal to <u>num_bytes</u>, and the <u>truncation-status</u> member of the <u>event</u> structure argument
       shall  be  set  to  POSIX_TRACE_TRUNCATED_READ  (see  the  <b>posix_trace_event_info</b>  structure  defined  in
       <u>&lt;trace.h&gt;</u>).

       The  report  of  a  trace  event shall be sequential starting from the oldest recorded trace event. Trace
       events shall be reported in the order in which they were generated, up to an implementation-defined  time
       resolution  that  causes  the  ordering of trace events occurring very close to each other to be unknown.
       Once reported, a trace event cannot be reported again from an active trace stream. Once a trace event  is
       reported  from  an  active trace stream without log, the trace stream shall make the resources associated
       with that trace event available to record future generated trace events.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon successful completion, these functions shall return a value of zero. Otherwise,  they  shall  return
       the corresponding error number.

       If successful, these functions store:

        *  The recorded trace event in the object pointed to by <u>event</u>

        *  The trace event information associated with the recorded trace event in the object pointed to by <u>data</u>

        *  The length of this trace event information in the object pointed to by <u>data_len</u>

        *  The value of zero in the object pointed to by <u>unavailable</u>

</pre><h4><b>ERRORS</b></h4><pre>
       These functions shall fail if:

       <b>EINVAL</b> The trace stream identifier argument <u>trid</u> is invalid.

       The <u>posix_trace_getnext_event</u>() and <u>posix_trace_timedgetnext_event</u>() functions shall fail if:

       <b>EINTR</b>  The operation was interrupted by a signal, and so the call had no effect.

       The <u>posix_trace_trygetnext_event</u>() function shall fail if:

       <b>EINVAL</b> The trace stream identifier argument <u>trid</u> does not correspond to an active trace stream.

       The <u>posix_trace_timedgetnext_event</u>() function shall fail if:

       <b>EINVAL</b> There  is  no trace event immediately available from the trace stream, and the <u>timeout</u> argument is
              invalid.

       <b>ETIMEDOUT</b>
              No trace event was available from the trace stream before the specified timeout <u>timeout</u> expired.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       None.

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       None.

</pre><h4><b>RATIONALE</b></h4><pre>
       None.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       These functions may be removed in a future version.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>posix_trace_close</u>(), <u>posix_trace_create</u>()

       The Base Definitions volume of POSIX.1‐2017, <b>&lt;sys_types.h&gt;</b>, <b>&lt;trace.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                     <u><a href="../man3POSIX/POSIX_TRACE_GETNEXT_EVENT.3POSIX.html">POSIX_TRACE_GETNEXT_EVENT</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>