<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PKCS12_key_gen_asc, PKCS12_key_gen_asc_ex, PKCS12_key_gen_uni, PKCS12_key_gen_uni_ex,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       PKCS12_key_gen_asc, PKCS12_key_gen_asc_ex, PKCS12_key_gen_uni, PKCS12_key_gen_uni_ex,
       PKCS12_key_gen_utf8, PKCS12_key_gen_utf8_ex - PKCS#12 Password based key derivation

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/pkcs12.h&gt;

        int PKCS12_key_gen_asc(const char *pass, int passlen, unsigned char *salt,
                               int saltlen, int id, int iter, int n,
                               unsigned char *out, const EVP_MD *md_type);
        int PKCS12_key_gen_asc_ex(const char *pass, int passlen, unsigned char *salt,
                                  int saltlen, int id, int iter, int n,
                                  unsigned char *out, const EVP_MD *md_type,
                                  OSSL_LIB_CTX *ctx, const char *propq);
        int PKCS12_key_gen_uni(unsigned char *pass, int passlen, unsigned char *salt,
                               int saltlen, int id, int iter, int n,
                               unsigned char *out, const EVP_MD *md_type);
        int PKCS12_key_gen_uni_ex(unsigned char *pass, int passlen, unsigned char *salt,
                                  int saltlen, int id, int iter, int n,
                                  unsigned char *out, const EVP_MD *md_type,
                                  OSSL_LIB_CTX *ctx, const char *propq);
        int PKCS12_key_gen_utf8(const char *pass, int passlen, unsigned char *salt,
                                int saltlen, int id, int iter, int n,
                                unsigned char *out, const EVP_MD *md_type);
        int PKCS12_key_gen_utf8_ex(const char *pass, int passlen, unsigned char *salt,
                                   int saltlen, int id, int iter, int n,
                                   unsigned char *out, const EVP_MD *md_type,
                                   OSSL_LIB_CTX *ctx, const char *propq);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These methods perform a key derivation according to PKCS#12 (RFC7292) with an input password <u>pass</u> of
       length <u>passlen</u>, a salt <u>salt</u> of length <u>saltlen</u>, an iteration count <u>iter</u> and a digest algorithm <u>md_type</u>.
       The ID byte <u>id</u> determines how the resulting key is intended to be used:

       •   If  ID=1,  then  the  pseudorandom  bits being produced are to be used as key material for performing
           encryption or decryption.

       •   If ID=2, then the pseudorandom bits being produced are to be  used  as  an  IV  (Initial  Value)  for
           encryption or decryption.

       •   If ID=3, then the pseudorandom bits being produced are to be used as an integrity key for MACing.

       The intended format of the supplied password is determined by the method chosen:

       •   <b>PKCS12_key_gen_asc()</b> and <b>PKCS12_key_gen_asc_ex()</b> expect an ASCII-formatted password.

       •   <b>PKCS12_key_gen_uni()</b> and <b>PKCS12_key_gen_uni_ex()</b> expect a Unicode-formatted password.

       •   <b>PKCS12_key_gen_utf8()</b> and <b>PKCS12_key_gen_utf8_ex()</b> expect a UTF-8 encoded password.

       <u>pass</u>  is  the password used in the derivation of length <u>passlen</u>. <u>pass</u> is an optional parameter and can be
       NULL. If <u>passlen</u> is -1, then the function will calculate the length of <u>pass</u> using <b>strlen()</b>.

       <u>salt</u> is the salt used in the derivation of length <u>saltlen</u>. If the <u>salt</u> is NULL, then <u>saltlen</u> must  be  0.
       The  function  will  not attempt to calculate the length of the <u>salt</u> because it is not assumed to be NULL
       terminated.

       <u>iter</u> is the iteration count and its value should be greater than or equal to  1.  RFC  2898  suggests  an
       iteration count of at least 1000. Any <u>iter</u> less than 1 is treated as a single iteration.

       <u>digest</u> is the message digest function used in the derivation.

       The derived key will be written to <u>out</u>. The size of the <u>out</u> buffer is specified via <u>n</u>.

       Functions  ending  in <b>_ex()</b> allow for a library context <u>ctx</u> and property query <u>propq</u> to be used to select
       algorithm implementations.

</pre><h4><b>NOTES</b></h4><pre>
       A typical application of this function is to derive keying material for an encryption  algorithm  from  a
       password in the <u>pass</u>, a salt in <u>salt</u>, and an iteration count.

       Increasing the <u>iter</u> parameter slows down the algorithm which makes it harder for an attacker to perform a
       brute force attack using a large number of candidate passwords.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       Returns 1 on success or 0 on error.

</pre><h4><b>CONFORMING</b> <b>TO</b></h4><pre>
       IETF RFC 7292 (&lt;https://tools.ietf.org/html/rfc7292&gt;)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/PKCS12_create_ex.3.html">PKCS12_create_ex</a></b>(3), <b><a href="../man3/PKCS12_pbe_crypt_ex.3.html">PKCS12_pbe_crypt_ex</a></b>(3), <b><a href="../man7/passphrase-encoding.7.html">passphrase-encoding</a></b>(7)

</pre><h4><b>HISTORY</b></h4><pre>
       <b>PKCS12_key_gen_asc_ex()</b>, <b>PKCS12_key_gen_uni_ex()</b> and <b>PKCS12_key_gen_utf8_ex()</b> were added in OpenSSL 3.0.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2021 The OpenSSL Project Authors. All Rights Reserved.

       Licensed  under  the  Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain  a  copy  in  the  file  LICENSE  in  the  source  distribution  or  at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                       <u><a href="../man3SSL/PKCS12_KEY_GEN_UTF8_EX.3SSL.html">PKCS12_KEY_GEN_UTF8_EX</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>