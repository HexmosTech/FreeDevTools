<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rdma_set_local_ece - Set local ECE paraemters to be used for REQ/REP communication.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/librdmacm-dev">librdmacm-dev_56.1-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rdma_set_local_ece - Set local ECE paraemters to be used for REQ/REP communication.

</pre><h4><b>SYNOPSIS</b></h4><pre>
              #include &lt;rdma/rdma_cma.h&gt;

              int rdma_set_local_ece(struct rdma_cm_id *id, struct ibv_ece *ece);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>rdma_set_local_ece()</b> set local ECE parameters.

       This  function is suppose to be used by the users of external QPs.  The call needs to be performed before
       replying to the peer and needed to configure RDMA_CM with desired ECE options.

       Being used by external QP and RDMA_CM doesn’t manage that QP, the peer needs to call to libibverbs API by
       itself.

       Usual flow for the passive side will be:

       • ibv_create_qp() &lt;- create data QP.

       • ece = ibv_query_ece() &lt;- get ECE from libibvers provider.

       • rdma_set_local_ece(ece) &lt;- set desired ECE options.

       • rdma_connect() &lt;- send connection request

       • ece = rdma_get_remote_ece() &lt;- get ECE options from remote peer

       • ibv_set_ece(ece) &lt;- set local ECE options with data received from the peer.

       • ibv_modify_qp() &lt;- enable data QP.

       • rdma_accept()/rdma_establish()/rdma_reject_ece()

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>id</u>     RDMA communication identifier.

       *ece   ECE parameters.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>rdma_set_local_ece()</b> returns 0 on success, or -1 on error.  If an error occurs,  errno  will  be  set  to
       indicate the failure reason.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/rdma_cm.7.html">rdma_cm</a></b>(7), <a href="../man3/rdma_get_remote_ece.3.html">rdma_get_remote_ece</a>(3)

</pre><h4><b>AUTHOR</b></h4><pre>
       Leon Romanovsky <a href="mailto:leonro@mellanox.com">leonro@mellanox.com</a>

librdmacm                                          2020-02-02                              <u><a href="../man3/RDMA_SET_LOCAL_ECE.3.html">RDMA_SET_LOCAL_ECE</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>