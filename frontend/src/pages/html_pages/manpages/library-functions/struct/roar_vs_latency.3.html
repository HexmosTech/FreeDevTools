<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>roar_vs_position, roar_vs_latency, roar_vs_latency2 - Get stream position information</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libroar-dev">libroar-dev_1.0~beta12-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       roar_vs_position, roar_vs_latency, roar_vs_latency2 - Get stream position information

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;roaraudio.h&gt;

       ssize_t roar_vs_position(roar_vs_t * vss, int backend, int * error);

       roar_mus_t roar_vs_latency(roar_vs_t * vss, int backend, int * error);

       roar_mus_t roar_vs_latency2(roar_vs_t * vss, int backend, int wait, int * error);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>roar_vs_position()</b> returns the current server site position of the stream plus the current offset for the
       selected backend.

       <b>roar_vs_latency()</b>  returns  the  latency  between  the  client  site  stream position and the server site
       position plus the latency by the backend.

       Use of roar_vs_latency() is not recommended as it requires the codec to use a true constant bit rate.

       <b>roar_vs_latency2()</b> is perfectly equivalent to roar_vs_latency()  expect  that  it  takes  the  additional
       parameter  wait.  The  wait parameter may have the values ROAR_VS_WAIT, ROAR_VS_NOWAIT and ROAR_VS_ASYNC.
       If  it  is  ROAR_VS_WAIT  the  function  does  the  same  as  roar_vs_latency().   If  the  parameter  is
       ROAR_VS_NOWAIT  roar_vs_latency2()  will return interpolated data based on old data collected by calls to
       roar_vs_latency(), roar_vs_latency2() or roar_vs_position().  ROAR_VS_ASYNC is used to  trigger  asyncron
       updates  to  this  internal  state.  Asyncron  operations need to be enabled before they can be used. See
       <b><a href="../man3/roar_vs_ctl.3.html">roar_vs_ctl</a></b>(3).

       Calling these functions too often will result in  bad  performance  and  incorrect  data  (pool  interval
       smaller than server response time). Polling up to 20 times per second shoudn't be a problem.

</pre><h4><b>PARAMETERS</b></h4><pre>
       <b>vss</b>    The VS object to be used.

       <b>backend</b>
              The backend used for correction. This can be a stream ID of the stream to use as backend or one of
              the  special  values  defined by the constants ROAR_VS_BACKEND_*.  ROAR_VS_BACKEND_NONE is used to
              ask for no correction.  ROAR_VS_BACKEND_DEFAULT is used to ask for the  default  correction.  This
              should  be used in all common cases.  ROAR_VS_BACKEND_FIRST is used to ask for correction based on
              the first primary stream on the same mixer.

       <b>wait</b>   Tells the  API  if  the  call  should  wait  or  not.  Must  be  ROAR_VS_WAIT,  ROAR_VS_NOWAIT  or
              ROAR_VS_ASYNC.

       <b>error</b>  This  is  a pointer to a integer used to store the error value in case of error.  This can be NULL
              if not used but it is very recommended to use this error value to report good  error  messages  to
              the user.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       roar_vs_position()  returns  the  stream  position  on  success  and -1 on error.  Stream position is the
       current position of the stream in units of samples (not frames!).

       roar_vs_latency() returns the stream latency on success and zero on error. However zero is a valid value.
       In case of error <b>error</b> is set to the error. In case of no error but zero latency <b>error</b> is cleared (set to
       ROAR_ERROR_NONE).  Latency is retruned in mu-seconds (1/10^-6s).

</pre><h4><b>EXAMPLES</b></h4><pre>
       FIXME

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/roarvs.7.html">roarvs</a></b>(7), <b><a href="../man7/libroar.7.html">libroar</a></b>(7), <b><a href="../man7/RoarAudio.7.html">RoarAudio</a></b>(7).

RoarAudio                                           June 2011                                <u><a href="../man3/roar_vs_position.3.html">roar_vs_position</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>