<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rte_stack.h</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dpdk-doc">dpdk-doc_24.11.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rte_stack.h

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;stdalign.h&gt;
       #include &lt;rte_debug.h&gt;
       #include &lt;rte_errno.h&gt;
       #include &lt;rte_memzone.h&gt;
       #include &lt;rte_spinlock.h&gt;
       #include 'rte_stack_std.h'
       #include 'rte_stack_lf.h'

   <b>Macros</b>
       #define <b>RTE_STACK_NAMESIZE</b>
       #define <b>RTE_STACK_F_LF</b>   0x0001

   <b>Functions</b>
       static <b>__rte_always_inline</b> unsigned int <b>rte_stack_push</b> (struct rte_stack *s, void *const *obj_table,
           unsigned int n)
       static <b>__rte_always_inline</b> unsigned int <b>rte_stack_pop</b> (struct rte_stack *s, void **obj_table, unsigned
           int n)
       static <b>__rte_always_inline</b> unsigned int <b>rte_stack_count</b> (struct rte_stack *s)
       static <b>__rte_always_inline</b> unsigned int <b>rte_stack_free_count</b> (struct rte_stack *s)
       struct rte_stack * <b>rte_stack_create</b> (const char *name, unsigned int count, int socket_id, uint32_t flags)
       void <b>rte_stack_free</b> (struct rte_stack *s)
       struct rte_stack * <b>rte_stack_lookup</b> (const char *name)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       RTE Stack.

       librte_stack provides an API for configuration and use of a bounded stack of pointers. Push and pop
       operations are MT-safe, allowing concurrent access, and the interface supports pushing and popping
       multiple pointers at a time.

       Definition in file <b>rte_stack.h</b>.

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>RTE_STACK_NAMESIZE</b>
       <b>Value:</b>.PP
                      (RTE_MEMZONE_NAMESIZE - \
                      sizeof(RTE_STACK_MZ_PREFIX) + 1)
       The maximum length of a stack name.

       Definition at line <b>28</b> of file <b>rte_stack.h</b>.

   <b>#define</b> <b>RTE_STACK_F_LF</b>   <b>0x0001</b>
       The stack uses lock-free push and pop functions. This flag is only supported on x86_64 or arm64
       platforms, currently.

       Definition at line <b>89</b> of file <b>rte_stack.h</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>static</b> <b>__rte_always_inline</b> <b>unsigned</b> <b>int</b> <b>rte_stack_push</b> <b>(struct</b> <b>rte_stack</b> <b>*</b> <b>s,</b> <b>void</b> <b>*const</b> <b>*</b> <b>obj_table,</b>
       <b>unsigned</b> <b>int</b> <b>n)</b> <b>[static]</b>
       Push several objects on the stack (MT-safe).

       <b>Parameters</b>
           <u>s</u> A pointer to the stack structure.
           <u>obj_table</u> A pointer to a table of void * pointers (objects).
           <u>n</u> The number of objects to push on the stack from the obj_table.

       <b>Returns</b>
           Actual number of objects pushed (either 0 or <u>n</u>).

       Definition at line <b>111</b> of file <b>rte_stack.h</b>.

   <b>static</b> <b>__rte_always_inline</b> <b>unsigned</b> <b>int</b> <b>rte_stack_pop</b> <b>(struct</b> <b>rte_stack</b> <b>*</b> <b>s,</b> <b>void</b> <b>**</b> <b>obj_table,</b> <b>unsigned</b> <b>int</b>
       <b>n)</b> <b>[static]</b>
       Pop several objects from the stack (MT-safe).

       <b>Parameters</b>
           <u>s</u> A pointer to the stack structure.
           <u>obj_table</u> A pointer to a table of void * pointers (objects).
           <u>n</u> The number of objects to pull from the stack.

       <b>Returns</b>
           Actual number of objects popped (either 0 or <u>n</u>).

       Definition at line <b>135</b> of file <b>rte_stack.h</b>.

   <b>static</b> <b>__rte_always_inline</b> <b>unsigned</b> <b>int</b> <b>rte_stack_count</b> <b>(struct</b> <b>rte_stack</b> <b>*</b> <b>s)</b> <b>[static]</b>
       Return the number of used entries in a stack.

       <b>Parameters</b>
           <u>s</u> A pointer to the stack structure.

       <b>Returns</b>
           The number of used entries in the stack.

       Definition at line <b>155</b> of file <b>rte_stack.h</b>.

   <b>static</b> <b>__rte_always_inline</b> <b>unsigned</b> <b>int</b> <b>rte_stack_free_count</b> <b>(struct</b> <b>rte_stack</b> <b>*</b> <b>s)</b> <b>[static]</b>
       Return the number of free entries in a stack.

       <b>Parameters</b>
           <u>s</u> A pointer to the stack structure.

       <b>Returns</b>
           The number of free entries in the stack.

       Definition at line <b>174</b> of file <b>rte_stack.h</b>.

   <b>struct</b> <b>rte_stack</b> <b>*</b> <b>rte_stack_create</b> <b>(const</b> <b>char</b> <b>*</b> <b>name,</b> <b>unsigned</b> <b>int</b> <b>count,</b> <b>int</b> <b>socket_id,</b> <b>uint32_t</b> <b>flags)</b>
       Create a new stack named <u>name</u> in memory.

       This function uses memzone_reserve() to allocate memory for a stack of size <u>count</u>. The behavior of the
       stack is controlled by the <u>flags</u>.

       <b>Parameters</b>
           <u>name</u> The name of the stack.
           <u>count</u> The size of the stack.
           <u>socket_id</u> The <u>socket_id</u> argument is the socket identifier in case of NUMA. The value can be
           <u>SOCKET_ID_ANY</u> if there is no NUMA constraint for the reserved zone.
           <u>flags</u> An OR of the following:

           • RTE_STACK_F_LF:  If  this  flag  is  set,  the  stack  uses  lock-free variants of the push and pop
             functions. Otherwise, it achieves thread-safety using a lock.

       <b>Returns</b>
           On success, the pointer to the new allocated stack. NULL on error with rte_errno  set  appropriately.
           Possible errno values include:

           • ENOSPC - the maximum number of memzones has already been allocated

           • EEXIST - a stack with the same name already exists

           • ENOMEM - insufficient memory to create the stack

           • ENAMETOOLONG - name size exceeds RTE_STACK_NAMESIZE

           • ENOTSUP - platform does not support given flags combination.

   <b>void</b> <b>rte_stack_free</b> <b>(struct</b> <b>rte_stack</b> <b>*</b> <b>s)</b>
       Free all memory used by the stack.

       <b>Parameters</b>
           <u>s</u> Pointer to stack created with <b>rte_stack_create()</b>. If s is NULL, no operation is performed.

   <b>struct</b> <b>rte_stack</b> <b>*</b> <b>rte_stack_lookup</b> <b>(const</b> <b>char</b> <b>*</b> <b>name)</b>
       Lookup a stack by its name.

       <b>Parameters</b>
           <u>name</u> The name of the stack.

       <b>Returns</b>
           The  pointer  to the stack matching the name, or NULL if not found, with rte_errno set appropriately.
           Possible rte_errno values include:

           • ENOENT - Stack with name <u>name</u> not found.

           • EINVAL - <u>name</u> pointer is NULL.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for DPDK from the source code.

DPDK                                             Version 24.11.2                                  <u><a href="../man3/rte_stack.h.3.html">rte_stack.h</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>