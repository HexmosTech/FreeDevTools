<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>libmtp - basic</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmtp-doc">libmtp-doc_1.1.22-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       libmtp - basic

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Macros</b>
       #define <b>LIBMTP_STORAGE_SORTBY_NOTSORTED</b>   0
       #define <b>LIBMTP_STORAGE_SORTBY_FREESPACE</b>   1
       #define <b>LIBMTP_STORAGE_SORTBY_MAXSPACE</b>   2

   <b>Functions</b>
       <b>LIBMTP_error_number_t</b> <b>LIBMTP_Detect_Raw_Devices</b> (<b>LIBMTP_raw_device_t</b> **, int *)
       int <b>LIBMTP_Check_Specific_Device</b> (int busno, int devno)
       <b>LIBMTP_mtpdevice_t</b> * <b>LIBMTP_Open_Raw_Device</b> (<b>LIBMTP_raw_device_t</b> *)
       <b>LIBMTP_mtpdevice_t</b> * <b>LIBMTP_Open_Raw_Device_Uncached</b> (<b>LIBMTP_raw_device_t</b> *)
       <b>LIBMTP_mtpdevice_t</b> * <b>LIBMTP_Get_Device</b> (int)
       <b>LIBMTP_mtpdevice_t</b> * <b>LIBMTP_Get_First_Device</b> (void)
       <b>LIBMTP_mtpdevice_t</b> * <b>LIBMTP_Get_Device_By_SerialNumber</b> (char *)
       <b>LIBMTP_mtpdevice_t</b> * <b>LIBMTP_Get_Device_By_ID</b> (char *)
       <b>LIBMTP_error_number_t</b> <b>LIBMTP_Get_Connected_Devices</b> (<b>LIBMTP_mtpdevice_t</b> **)
       uint32_t <b>LIBMTP_Number_Devices_In_List</b> (<b>LIBMTP_mtpdevice_t</b> *)
       void <b>LIBMTP_Release_Device_List</b> (<b>LIBMTP_mtpdevice_t</b> *)
       void <b>LIBMTP_Release_Device</b> (<b>LIBMTP_mtpdevice_t</b> *)
       void <b>LIBMTP_Dump_Device_Info</b> (<b>LIBMTP_mtpdevice_t</b> *)
       int <b>LIBMTP_Reset_Device</b> (<b>LIBMTP_mtpdevice_t</b> *)
       char * <b>LIBMTP_Get_Manufacturername</b> (<b>LIBMTP_mtpdevice_t</b> *)
       char * <b>LIBMTP_Get_Modelname</b> (<b>LIBMTP_mtpdevice_t</b> *)
       char * <b>LIBMTP_Get_Serialnumber</b> (<b>LIBMTP_mtpdevice_t</b> *)
       char * <b>LIBMTP_Get_Deviceversion</b> (<b>LIBMTP_mtpdevice_t</b> *)
       char * <b>LIBMTP_Get_Friendlyname</b> (<b>LIBMTP_mtpdevice_t</b> *)
       int <b>LIBMTP_Set_Friendlyname</b> (<b>LIBMTP_mtpdevice_t</b> *, char const *const)
       char * <b>LIBMTP_Get_Syncpartner</b> (<b>LIBMTP_mtpdevice_t</b> *)
       int <b>LIBMTP_Set_Syncpartner</b> (<b>LIBMTP_mtpdevice_t</b> *, char const *const)
       int <b>LIBMTP_Get_Batterylevel</b> (<b>LIBMTP_mtpdevice_t</b> *, uint8_t *const, uint8_t *const)
       int <b>LIBMTP_Get_Secure_Time</b> (<b>LIBMTP_mtpdevice_t</b> *, char **const)
       int <b>LIBMTP_Get_Device_Certificate</b> (<b>LIBMTP_mtpdevice_t</b> *, char **const)
       int <b>LIBMTP_Get_Supported_Filetypes</b> (<b>LIBMTP_mtpdevice_t</b> *, uint16_t **const, uint16_t *const)
       int <b>LIBMTP_Check_Capability</b> (<b>LIBMTP_mtpdevice_t</b> *, <b>LIBMTP_devicecap_t</b>)
       <b>LIBMTP_error_t</b> * <b>LIBMTP_Get_Errorstack</b> (<b>LIBMTP_mtpdevice_t</b> *)
       void <b>LIBMTP_Clear_Errorstack</b> (<b>LIBMTP_mtpdevice_t</b> *)
       void <b>LIBMTP_Dump_Errorstack</b> (<b>LIBMTP_mtpdevice_t</b> *)
       void <b>LIBMTP_FreeMemory</b> (void *)
       int <b>LIBMTP_Get_Storage</b> (<b>LIBMTP_mtpdevice_t</b> *, int const)
       int <b>LIBMTP_Format_Storage</b> (<b>LIBMTP_mtpdevice_t</b> *, <b>LIBMTP_devicestorage_t</b> *)
       char * <b>LIBMTP_Get_String_From_Object</b> (<b>LIBMTP_mtpdevice_t</b> *, uint32_t const, <b>LIBMTP_property_t</b> const)
       uint64_t <b>LIBMTP_Get_u64_From_Object</b> (<b>LIBMTP_mtpdevice_t</b> *, uint32_t const, <b>LIBMTP_property_t</b> const,
           uint64_t const)
       uint32_t <b>LIBMTP_Get_u32_From_Object</b> (<b>LIBMTP_mtpdevice_t</b> *, uint32_t const, <b>LIBMTP_property_t</b> const,
           uint32_t const)
       uint16_t <b>LIBMTP_Get_u16_From_Object</b> (<b>LIBMTP_mtpdevice_t</b> *, uint32_t const, <b>LIBMTP_property_t</b> const,
           uint16_t const)
       uint8_t <b>LIBMTP_Get_u8_From_Object</b> (<b>LIBMTP_mtpdevice_t</b> *, uint32_t const, <b>LIBMTP_property_t</b> const, uint8_t
           const)
       int <b>LIBMTP_Set_Object_String</b> (<b>LIBMTP_mtpdevice_t</b> *, uint32_t const, <b>LIBMTP_property_t</b> const, char const
           *const)
       int <b>LIBMTP_Set_Object_u32</b> (<b>LIBMTP_mtpdevice_t</b> *, uint32_t const, <b>LIBMTP_property_t</b> const, uint32_t const)
       int <b>LIBMTP_Set_Object_u16</b> (<b>LIBMTP_mtpdevice_t</b> *, uint32_t const, <b>LIBMTP_property_t</b> const, uint16_t const)
       int <b>LIBMTP_Set_Object_u8</b> (<b>LIBMTP_mtpdevice_t</b> *, uint32_t const, <b>LIBMTP_property_t</b> const, uint8_t const)
       char const * <b>LIBMTP_Get_Property_Description</b> (<b>LIBMTP_property_t</b> inproperty)
       int <b>LIBMTP_Is_Property_Supported</b> (<b>LIBMTP_mtpdevice_t</b> *, <b>LIBMTP_property_t</b> const, <b>LIBMTP_filetype_t</b> const)
       int <b>LIBMTP_Get_Allowed_Property_Values</b> (<b>LIBMTP_mtpdevice_t</b> *, <b>LIBMTP_property_t</b> const, <b>LIBMTP_filetype_t</b>
           const, <b>LIBMTP_allowed_values_t</b> *)
       void <b>LIBMTP_destroy_allowed_values_t</b> (<b>LIBMTP_allowed_values_t</b> *)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b> <b>LIBMTP_Check_Capability</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>LIBMTP_devicecap_t</b> <b>cap)</b>
       This function checks if the device has some specific capabilities, in order to avoid calling APIs that
       may disturb the device.

       <b>Parameters</b>
           <u>device</u> a pointer to the device to check the capability on.
           <u>cap</u> the capability to check.

       <b>Returns</b>
           0 if not supported, any other value means the device has the requested capability.

       References <b>LIBMTP_DEVICECAP_CopyObject</b>, <b>LIBMTP_DEVICECAP_EditObjects</b>, <b>LIBMTP_DEVICECAP_GetPartialObject</b>,
       <b>LIBMTP_DEVICECAP_MoveObject</b>, <b>LIBMTP_DEVICECAP_SendPartialObject</b>, and <b>LIBMTP_mtpdevice_struct::params</b>.

   <b>int</b> <b>LIBMTP_Check_Specific_Device</b> <b>(int</b> <b>busno,</b> <b>int</b> <b>devno)</b>
       Checks if a specific device with a certain bus and device number has an MTP type device descriptor.

       <b>Parameters</b>
           <u>busno</u> the bus number of the device to check
           <u>devno</u> the device number of the device to check

       <b>Returns</b>
           1 if the device is MTP else 0

   <b>void</b> <b>LIBMTP_Clear_Errorstack</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device)</b>
       This function clears the error stack of a device and frees any memory used by it. Call this when you're
       finished with using the errors.

       <b>Parameters</b>
           <u>device</u> a pointer to the MTP device to clear the error stack for.

       References <b>LIBMTP_mtpdevice_struct::errorstack</b>.

       Referenced by <b>LIBMTP_Release_Device()</b>.

   <b>void</b> <b>LIBMTP_destroy_allowed_values_t</b> <b>(LIBMTP_allowed_values_t</b> <b>*</b> <b>allowed_vals)</b>
       Destroys a LIBMTP_allowed_values_t struct

       <b>Parameters</b>
           <u>allowed_vals</u> the struct to destroy

       References <b>LIBMTP_allowed_values_struct::datatype</b>, and <b>LIBMTP_allowed_values_struct::is_range</b>.

   <b>LIBMTP_error_number_t</b> <b>LIBMTP_Detect_Raw_Devices</b> <b>(LIBMTP_raw_device_t</b> <b>**</b> <b>devices,</b> <b>int</b> <b>*</b> <b>numdevs)</b>
       Detect the raw MTP device descriptors and return a list of of the devices found.

       <b>Parameters</b>
           <u>devices</u> a pointer to a variable that will hold the list of raw devices found. This may be NULL on
           return if the number of detected devices is zero. The user shall simply free() this variable when
           finished with the raw devices, in order to release memory.
           <u>numdevs</u> a pointer to an integer that will hold the number of devices in the list. This may be 0.

       <b>Returns</b>
           0 if successful, any other value means failure.

       <b>Examples</b>
           <b>detect.c</b>, <b>files.c</b>, <b>folders.c</b>, and <b>tracks.c</b>.

       References <b>LIBMTP_raw_device_struct::bus_location</b>, <b>LIBMTP_raw_device_struct::device_entry</b>,
       <b>LIBMTP_device_entry_struct::device_flags</b>, <b>device_unknown()</b>, <b>LIBMTP_raw_device_struct::devnum</b>,
       <b>LIBMTP_device_entry_struct::product</b>, <b>LIBMTP_device_entry_struct::product_id</b>,
       <b>LIBMTP_device_entry_struct::vendor</b>, and <b>LIBMTP_device_entry_struct::vendor_id</b>.

       Referenced by <b>LIBMTP_Get_Connected_Devices()</b>, <b>LIBMTP_Get_Device()</b>, and
       <b>LIBMTP_Get_Device_By_SerialNumber()</b>.

   <b>void</b> <b>LIBMTP_Dump_Device_Info</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device)</b>
       This function dumps out a large chunk of textual information provided from the PTP protocol and
       additionally some extra MTP-specific information where applicable.

       <b>Parameters</b>
           <u>device</u> a pointer to the MTP device to report info from.

       References <b>LIBMTP_devicestorage_struct::AccessCapability</b>, <b>LIBMTP_mtpdevice_struct::default_album_folder</b>,
       <b>LIBMTP_mtpdevice_struct::default_music_folder</b>, <b>LIBMTP_mtpdevice_struct::default_organizer_folder</b>,
       <b>LIBMTP_mtpdevice_struct::default_picture_folder</b>, <b>LIBMTP_mtpdevice_struct::default_playlist_folder</b>,
       <b>LIBMTP_mtpdevice_struct::default_text_folder</b>, <b>LIBMTP_mtpdevice_struct::default_video_folder</b>,
       <b>LIBMTP_mtpdevice_struct::default_zencast_folder</b>, <b>LIBMTP_mtpdevice_struct::extensions</b>,
       <b>LIBMTP_devicestorage_struct::FilesystemType</b>, <b>LIBMTP_devicestorage_struct::FreeSpaceInBytes</b>,
       <b>LIBMTP_devicestorage_struct::FreeSpaceInObjects</b>, <b>LIBMTP_devicestorage_struct::id</b>,
       <b>LIBMTP_Get_Property_Description()</b>, <b>LIBMTP_device_extension_struct::major</b>,
       <b>LIBMTP_devicestorage_struct::MaxCapacity</b>, <b>LIBMTP_device_extension_struct::minor</b>,
       <b>LIBMTP_device_extension_struct::name</b>, <b>LIBMTP_device_extension_struct::next</b>,
       <b>LIBMTP_devicestorage_struct::next</b>, <b>LIBMTP_mtpdevice_struct::object_bitsize</b>,
       <b>LIBMTP_mtpdevice_struct::params</b>, <b>LIBMTP_mtpdevice_struct::storage</b>,
       <b>LIBMTP_devicestorage_struct::StorageDescription</b>, <b>LIBMTP_devicestorage_struct::StorageType</b>,
       <b>LIBMTP_mtpdevice_struct::usbinfo</b>, and <b>LIBMTP_devicestorage_struct::VolumeIdentifier</b>.

   <b>void</b> <b>LIBMTP_Dump_Errorstack</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device)</b>
       This function dumps the error stack to stderr. (You still have to clear the stack though.)

       <b>Parameters</b>
           <u>device</u> a pointer to the MTP device to dump the error stack for.

       References <b>LIBMTP_mtpdevice_struct::errorstack</b>.

   <b>int</b> <b>LIBMTP_Format_Storage</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>LIBMTP_devicestorage_t</b> <b>*</b> <b>storage)</b>
       Formats device storage (if the device supports the operation). WARNING: This WILL delete all data from
       the device. Make sure you've got confirmation from the user BEFORE you call this function.

       <b>Parameters</b>
           <u>device</u> a pointer to the device containing the storage to format.
           <u>storage</u> the actual storage to format.

       <b>Returns</b>
           0 on success, any other value means failure.

       References <b>LIBMTP_devicestorage_struct::id</b>, and <b>LIBMTP_mtpdevice_struct::params</b>.

   <b>void</b> <b>LIBMTP_FreeMemory</b> <b>(void</b> <b>*</b> <b>mem)</b>
       Free memory allocated by libmtp. Is doing the same as libc <a href="../manmem/free.mem.html">free</a>(mem) in most cases. @mem pointer to
       allocated memory.

   <b>int</b> <b>LIBMTP_Get_Allowed_Property_Values</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>LIBMTP_property_t</b> <b>const</b> <b>property,</b>
       <b>LIBMTP_filetype_t</b> <b>const</b> <b>filetype,</b> <b>LIBMTP_allowed_values_t</b> <b>*</b> <b>allowed_vals)</b>
       Gets the allowed values (range or enum) for a property

       <b>Parameters</b>
           <u>device</u> a pointer to an MTP device
           <u>property</u> the property to query
           <u>filetype</u> the filetype of the object you want to set values for
           <u>allowed_vals</u> pointer to a LIBMTP_allowed_values_t struct to receive the allowed values. Call
           LIBMTP_destroy_allowed_values_t on this on successful completion.

       <b>Returns</b>
           0 on success, any other value means failure

       References <b>LIBMTP_allowed_values_struct::datatype</b>, <b>LIBMTP_allowed_values_struct::is_range</b>,
       <b>LIBMTP_allowed_values_struct::num_entries</b>, and <b>LIBMTP_mtpdevice_struct::params</b>.

   <b>int</b> <b>LIBMTP_Get_Batterylevel</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>uint8_t</b> <b>*const</b> <b>maximum_level,</b> <b>uint8_t</b> <b>*const</b>
       <b>current_level)</b>
       This function retrieves the current battery level on the device.

       <b>Parameters</b>
           <u>device</u> a pointer to the device to get the battery level for.
           <u>maximum_level</u> a pointer to a variable that will hold the maximum level of the battery if the call was
           successful.
           <u>current_level</u> a pointer to a variable that will hold the current level of the battery if the call was
           successful. A value of 0 means that the device is on external power.

       <b>Returns</b>
           0 if the storage info was successfully retrieved, any other means failure. A typical cause of failure
           is that the device does not support the battery level property.

       References <b>LIBMTP_mtpdevice_struct::maximum_battery_level</b>, <b>LIBMTP_mtpdevice_struct::params</b>, and
       <b>LIBMTP_mtpdevice_struct::usbinfo</b>.

   <b>LIBMTP_error_number_t</b> <b>LIBMTP_Get_Connected_Devices</b> <b>(LIBMTP_mtpdevice_t</b> <b>**</b> <b>device_list)</b>
       Get the first connected MTP device node in the linked list of devices. Currently this only provides
       access to USB devices

       <b>Parameters</b>
           <u>device_list</u> A list of devices ready to be used by the caller. You need to know how many there are.

       <b>Returns</b>
           Any error information gathered from device connections

       <b>See</b> <b>also</b>
           <b>LIBMTP_Number_Devices_In_List()</b>

       References <b>LIBMTP_Detect_Raw_Devices()</b>.

   <b>LIBMTP_mtpdevice_t</b> <b>*</b> <b>LIBMTP_Get_Device</b> <b>(int</b> <b>device_nr)</b>
       Get connected MTP device by list position.

       <b>Returns</b>
           a device pointer.

       <b>See</b> <b>also</b>
           <b>LIBMTP_Get_Connected_Devices()</b>

       References <b>LIBMTP_Detect_Raw_Devices()</b>.

       Referenced by <b>LIBMTP_Get_Device_By_ID()</b>, and <b>LIBMTP_Get_First_Device()</b>.

   <b>LIBMTP_mtpdevice_t</b> <b>*</b> <b>LIBMTP_Get_Device_By_ID</b> <b>(char</b> <b>*</b> <b>device_id)</b>
       Get connected MTP device by list position or serial number.

       <b>Returns</b>
           a device pointer.

       <b>See</b> <b>also</b>
           <b>LIBMTP_Get_Connected_Devices()</b>

       References <b>LIBMTP_Get_Device()</b>, and <b>LIBMTP_Get_Device_By_SerialNumber()</b>.

   <b>LIBMTP_mtpdevice_t</b> <b>*</b> <b>LIBMTP_Get_Device_By_SerialNumber</b> <b>(char</b> <b>*</b> <b>serial_number)</b>
       Get connected MTP device by serial number.

       <b>Returns</b>
           a device pointer.

       <b>See</b> <b>also</b>
           <b>LIBMTP_Get_Connected_Devices()</b>

       References <b>LIBMTP_Detect_Raw_Devices()</b>, <b>LIBMTP_Release_Device()</b>, and <b>LIBMTP_mtpdevice_struct::params</b>.

       Referenced by <b>LIBMTP_Get_Device_By_ID()</b>.

   <b>int</b> <b>LIBMTP_Get_Device_Certificate</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>char</b> <b>**const</b> <b>devcert)</b>
       This function returns the device (public key) certificate as an XML document string from the device.

       <b>Parameters</b>
           <u>device</u> a pointer to the device to get the device certificate for.
           <u>devcert</u> the device certificate as an XML string or NULL if the call failed or the device certificate
           property is not supported. This string must be free():ed by the caller after use.

       <b>Returns</b>
           0 on success, any other value means failure.

   <b>char</b> <b>*</b> <b>LIBMTP_Get_Deviceversion</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device)</b>
       This retrieves the device version (hardware and firmware version) of an MTP device.

       <b>Parameters</b>
           <u>device</u> a pointer to the device to get the device version for.

       <b>Returns</b>
           a newly allocated UTF-8 string representing the device version. The string must be freed by the
           caller after use. If the call was unsuccessful this will contain NULL.

       References <b>LIBMTP_mtpdevice_struct::params</b>.

   <b>LIBMTP_error_t</b> <b>*</b> <b>LIBMTP_Get_Errorstack</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device)</b>
       This returns the error stack for a device in case you need to either reference the error numbers (e.g.
       when creating multilingual apps with multiple-language text representations for each error number) or
       when you need to build a multi-line error text widget or something like that. You need to call the
       LIBMTP_Clear_Errorstack to clear it when you're finished with it.

       <b>Parameters</b>
           <u>device</u> a pointer to the MTP device to get the error stack for.

       <b>Returns</b>
           the error stack or NULL if there are no errors on the stack.

       <b>See</b> <b>also</b>
           <b>LIBMTP_Clear_Errorstack()</b>

           <b>LIBMTP_Dump_Errorstack()</b>

       References <b>LIBMTP_mtpdevice_struct::errorstack</b>.

   <b>LIBMTP_mtpdevice_t</b> <b>*</b> <b>LIBMTP_Get_First_Device</b> <b>(void)</b>
       Get the first (as in 'first in the list of') connected MTP device.

       <b>Returns</b>
           a device pointer.

       <b>See</b> <b>also</b>
           <b>LIBMTP_Get_Connected_Devices()</b>

       References <b>LIBMTP_Get_Device()</b>.

   <b>char</b> <b>*</b> <b>LIBMTP_Get_Friendlyname</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device)</b>
       This retrieves the 'friendly name' of an MTP device. Usually this is simply the name of the owner or
       something like 'John Doe's Digital Audio Player'. This property should be supported by all MTP devices.

       <b>Parameters</b>
           <u>device</u> a pointer to the device to get the friendly name for.

       <b>Returns</b>
           a newly allocated UTF-8 string representing the friendly name. The string must be freed by the caller
           after use.

       <b>See</b> <b>also</b>
           <b>LIBMTP_Set_Friendlyname()</b>

       References <b>LIBMTP_mtpdevice_struct::params</b>.

   <b>char</b> <b>*</b> <b>LIBMTP_Get_Manufacturername</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device)</b>
       This retrieves the manufacturer name of an MTP device.

       <b>Parameters</b>
           <u>device</u> a pointer to the device to get the manufacturer name for.

       <b>Returns</b>
           a newly allocated UTF-8 string representing the manufacturer name. The string must be freed by the
           caller after use. If the call was unsuccessful this will contain NULL.

       References <b>LIBMTP_mtpdevice_struct::params</b>.

   <b>char</b> <b>*</b> <b>LIBMTP_Get_Modelname</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device)</b>
       This retrieves the model name (often equal to product name) of an MTP device.

       <b>Parameters</b>
           <u>device</u> a pointer to the device to get the model name for.

       <b>Returns</b>
           a newly allocated UTF-8 string representing the model name. The string must be freed by the caller
           after use. If the call was unsuccessful this will contain NULL.

       References <b>LIBMTP_mtpdevice_struct::params</b>.

   <b>char</b> <b>const</b>  <b>*</b> <b>LIBMTP_Get_Property_Description</b> <b>(LIBMTP_property_t</b> <b>inproperty)</b>
       This helper function returns a textual description for a libmtp property to be used in dialog boxes etc.

       <b>Parameters</b>
           <u>inproperty</u> the libmtp internal property to get a description for.

       <b>Returns</b>
           a string representing the filetype, this must <b>NOT</b> be free():ed by the caller!

       References <b>propertymap_struct::description</b>, and <b>propertymap_struct::id</b>.

       Referenced by <b>LIBMTP_Dump_Device_Info()</b>.

   <b>int</b> <b>LIBMTP_Get_Secure_Time</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>char</b> <b>**const</b> <b>sectime)</b>
       This function returns the secure time as an XML document string from the device.

       <b>Parameters</b>
           <u>device</u> a pointer to the device to get the secure time for.
           <u>sectime</u> the secure time string as an XML document or NULL if the call failed or the secure time
           property is not supported. This string must be free():ed by the caller after use.

       <b>Returns</b>
           0 on success, any other value means failure.

   <b>char</b> <b>*</b> <b>LIBMTP_Get_Serialnumber</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device)</b>
       This retrieves the serial number of an MTP device.

       <b>Parameters</b>
           <u>device</u> a pointer to the device to get the serial number for.

       <b>Returns</b>
           a newly allocated UTF-8 string representing the serial number. The string must be freed by the caller
           after use. If the call was unsuccessful this will contain NULL.

       References <b>LIBMTP_mtpdevice_struct::params</b>.

   <b>int</b> <b>LIBMTP_Get_Storage</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>int</b> <b>const</b> <b>sortby)</b>
       This function updates all the storage id's of a device and their properties, then creates a linked list
       and puts the list head into the device struct. It also optionally sorts this list. If you want to display
       storage information in your application you should call this function, then dereference the device struct
       (device-&gt;storage) to get out information on the storage.

       You need to call this every time you want to update the device-&gt;storage list, for example anytime you
       need to check available storage somewhere.

       <b>WARNING:</b> since this list is dynamically updated, do not reference its fields in external applications by
       pointer! E.g do not put a reference to any char * field. instead strncpy() it!

       <b>Parameters</b>
           <u>device</u> a pointer to the device to get the storage for.
           <u>sortby</u> an integer that determines the sorting of the storage list. Valid sort methods are defined in
           <b>libmtp.h</b> with beginning with LIBMTP_STORAGE_SORTBY_. 0 or LIBMTP_STORAGE_SORTBY_NOTSORTED to not
           sort.

       <b>Returns</b>
           0 on success, 1 success but only with storage id's, storage properities could not be retrieved and -1
           means failure.

       References <b>LIBMTP_devicestorage_struct::AccessCapability</b>, <b>LIBMTP_devicestorage_struct::FilesystemType</b>,
       <b>LIBMTP_devicestorage_struct::FreeSpaceInBytes</b>, <b>LIBMTP_devicestorage_struct::FreeSpaceInObjects</b>,
       <b>LIBMTP_devicestorage_struct::id</b>, <b>LIBMTP_devicestorage_struct::MaxCapacity</b>,
       <b>LIBMTP_devicestorage_struct::next</b>, <b>LIBMTP_mtpdevice_struct::params</b>, <b>LIBMTP_devicestorage_struct::prev</b>,
       <b>LIBMTP_mtpdevice_struct::storage</b>, <b>LIBMTP_devicestorage_struct::StorageDescription</b>,
       <b>LIBMTP_devicestorage_struct::StorageType</b>, and <b>LIBMTP_devicestorage_struct::VolumeIdentifier</b>.

       Referenced by <b>LIBMTP_Open_Raw_Device_Uncached()</b>.

   <b>char</b> <b>*</b> <b>LIBMTP_Get_String_From_Object</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>uint32_t</b> <b>const</b> <b>object_id,</b>
       <b>LIBMTP_property_t</b> <b>const</b> <b>attribute_id)</b>
       Get/set arbitrary properties. These do not update the cache; should only be used on properties not stored
       in structs

       Retrieves a string from an object

       <b>Parameters</b>
           <u>device</u> a pointer to an MTP device.
           <u>object_id</u> Object reference
           <u>attribute_id</u> MTP attribute ID

       <b>Returns</b>
           valid string or NULL on failure. The returned string must bee free():ed by the caller after use.

   <b>int</b> <b>LIBMTP_Get_Supported_Filetypes</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>uint16_t</b> <b>**const</b> <b>filetypes,</b> <b>uint16_t</b> <b>*const</b>
       <b>length)</b>
       This function retrieves a list of supported file types, i.e. the file types that this device claims it
       supports, e.g. audio file types that the device can play etc. This list is mitigated to include the file
       types that libmtp can handle, i.e. it will not list filetypes that libmtp will handle internally like
       playlists and folders.

       <b>Parameters</b>
           <u>device</u> a pointer to the device to get the filetype capabilities for.
           <u>filetypes</u> a pointer to a pointer that will hold the list of supported filetypes if the call was
           successful. This list must be free():ed by the caller after use.
           <u>length</u> a pointer to a variable that will hold the length of the list of supported filetypes if the
           call was successful.

       <b>Returns</b>
           0 on success, any other value means failure.

       <b>See</b> <b>also</b>
           <b>LIBMTP_Get_Filetype_Description()</b>

       References <b>LIBMTP_mtpdevice_struct::params</b>, and <b>LIBMTP_mtpdevice_struct::usbinfo</b>.

   <b>char</b> <b>*</b> <b>LIBMTP_Get_Syncpartner</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device)</b>
       This retrieves the synchronization partner of an MTP device. This property should be supported by all MTP
       devices.

       <b>Parameters</b>
           <u>device</u> a pointer to the device to get the sync partner for.

       <b>Returns</b>
           a newly allocated UTF-8 string representing the synchronization partner. The string must be freed by
           the caller after use.

       <b>See</b> <b>also</b>
           <b>LIBMTP_Set_Syncpartner()</b>

       References <b>LIBMTP_mtpdevice_struct::params</b>.

   <b>uint16_t</b> <b>LIBMTP_Get_u16_From_Object</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>uint32_t</b> <b>const</b> <b>object_id,</b> <b>LIBMTP_property_t</b>
       <b>const</b> <b>attribute_id,</b> <b>uint16_t</b> <b>const</b> <b>value_default)</b>
       Retrieves an unsigned 16-bit integer from an object attribute

       <b>Parameters</b>
           <u>device</u> a pointer to an MTP device.
           <u>object_id</u> Object reference
           <u>attribute_id</u> MTP attribute ID
           <u>value_default</u> Default value to return on failure

       <b>Returns</b>
           a value

   <b>uint32_t</b> <b>LIBMTP_Get_u32_From_Object</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>uint32_t</b> <b>const</b> <b>object_id,</b> <b>LIBMTP_property_t</b>
       <b>const</b> <b>attribute_id,</b> <b>uint32_t</b> <b>const</b> <b>value_default)</b>
       Retrieves an unsigned 32-bit integer from an object attribute

       <b>Parameters</b>
           <u>device</u> a pointer to an MTP device.
           <u>object_id</u> Object reference
           <u>attribute_id</u> MTP attribute ID
           <u>value_default</u> Default value to return on failure

       <b>Returns</b>
           the value

   <b>uint64_t</b> <b>LIBMTP_Get_u64_From_Object</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>uint32_t</b> <b>const</b> <b>object_id,</b> <b>LIBMTP_property_t</b>
       <b>const</b> <b>attribute_id,</b> <b>uint64_t</b> <b>const</b> <b>value_default)</b>
       Retrieves an unsigned 64-bit integer from an object attribute

       <b>Parameters</b>
           <u>device</u> a pointer to an MTP device.
           <u>object_id</u> Object reference
           <u>attribute_id</u> MTP attribute ID
           <u>value_default</u> Default value to return on failure

       <b>Returns</b>
           the value

   <b>uint8_t</b> <b>LIBMTP_Get_u8_From_Object</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>uint32_t</b> <b>const</b> <b>object_id,</b> <b>LIBMTP_property_t</b>
       <b>const</b> <b>attribute_id,</b> <b>uint8_t</b> <b>const</b> <b>value_default)</b>
       Retrieves an unsigned 8-bit integer from an object attribute

       <b>Parameters</b>
           <u>device</u> a pointer to an MTP device.
           <u>object_id</u> Object reference
           <u>attribute_id</u> MTP attribute ID
           <u>value_default</u> Default value to return on failure

       <b>Returns</b>
           a value

   <b>int</b> <b>LIBMTP_Is_Property_Supported</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>LIBMTP_property_t</b> <b>const</b> <b>property,</b>
       <b>LIBMTP_filetype_t</b> <b>const</b> <b>filetype)</b>
       Determine if a property is supported for a given file type

       <b>Parameters</b>
           <u>device</u> a pointer to an MTP device
           <u>property</u> the property to query
           <u>filetype</u> the filetype of the object you want to set values for

       <b>Returns</b>
           0 if not supported, positive if supported, negative on error

       References <b>LIBMTP_mtpdevice_struct::params</b>.

   <b>uint32_t</b> <b>LIBMTP_Number_Devices_In_List</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device_list)</b>
       Get the number of devices that are available in the listed device list

       <b>Parameters</b>
           <u>device_list</u> Pointer to a linked list of devices

       <b>Returns</b>
           Number of devices in the device list device_list

       <b>See</b> <b>also</b>
           <b>LIBMTP_Get_Connected_Devices()</b>

       References <b>LIBMTP_mtpdevice_struct::next</b>.

   <b>LIBMTP_mtpdevice_t</b> <b>*</b> <b>LIBMTP_Open_Raw_Device_Uncached</b> <b>(LIBMTP_raw_device_t</b> <b>*</b> <b>rawdevice)</b>
       This function opens a device from a raw device. It is the preferred way to access devices in the new
       interface where several devices can come and go as the library is working on a certain device.

       <b>Parameters</b>
           <u>rawdevice</u> the raw device to open a 'real' device for.

       <b>Returns</b>
           an open device.

       References <b>LIBMTP_raw_device_struct::bus_location</b>, <b>LIBMTP_mtpdevice_struct::cached</b>,
       <b>LIBMTP_mtpdevice_struct::default_album_folder</b>, <b>LIBMTP_mtpdevice_struct::default_music_folder</b>,
       <b>LIBMTP_mtpdevice_struct::default_organizer_folder</b>, <b>LIBMTP_mtpdevice_struct::default_picture_folder</b>,
       <b>LIBMTP_mtpdevice_struct::default_playlist_folder</b>, <b>LIBMTP_mtpdevice_struct::default_text_folder</b>,
       <b>LIBMTP_mtpdevice_struct::default_video_folder</b>, <b>LIBMTP_mtpdevice_struct::default_zencast_folder</b>,
       <b>LIBMTP_raw_device_struct::device_entry</b>, <b>LIBMTP_device_entry_struct::device_flags</b>,
       <b>DEVICE_FLAGS_ANDROID_BUGS</b>, <b>DEVICE_FLAGS_ARICENT_BUGS</b>, <b>DEVICE_FLAGS_SONY_NWZ_BUGS</b>,
       <b>LIBMTP_raw_device_struct::devnum</b>, <b>LIBMTP_mtpdevice_struct::errorstack</b>,
       <b>LIBMTP_mtpdevice_struct::extensions</b>, <b>LIBMTP_Get_Storage()</b>,
       <b>LIBMTP_mtpdevice_struct::maximum_battery_level</b>, <b>LIBMTP_device_extension_struct::name</b>,
       <b>LIBMTP_device_extension_struct::next</b>, <b>LIBMTP_mtpdevice_struct::object_bitsize</b>,
       <b>LIBMTP_mtpdevice_struct::params</b>, <b>_PTP_USB::rawdevice</b>, <b>LIBMTP_mtpdevice_struct::storage</b>, and
       <b>LIBMTP_mtpdevice_struct::usbinfo</b>.

   <b>void</b> <b>LIBMTP_Release_Device</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device)</b>
       This closes and releases an allocated MTP device.

       <b>Parameters</b>
           <u>device</u> a pointer to the MTP device to release.

       References <b>LIBMTP_mtpdevice_struct::extensions</b>, <b>LIBMTP_Clear_Errorstack()</b>,
       <b>LIBMTP_device_extension_struct::name</b>, <b>LIBMTP_device_extension_struct::next</b>,
       <b>LIBMTP_mtpdevice_struct::params</b>, and <b>LIBMTP_mtpdevice_struct::usbinfo</b>.

       Referenced by <b>LIBMTP_Get_Device_By_SerialNumber()</b>, and <b>LIBMTP_Release_Device_List()</b>.

   <b>void</b> <b>LIBMTP_Release_Device_List</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device)</b>
       This closes and releases an allocated MTP device.

       <b>Parameters</b>
           <u>device</u> a pointer to the MTP device to release.

       References <b>LIBMTP_Release_Device()</b>, <b>LIBMTP_Release_Device_List()</b>, and <b>LIBMTP_mtpdevice_struct::next</b>.

       Referenced by <b>LIBMTP_Release_Device_List()</b>.

   <b>int</b> <b>LIBMTP_Reset_Device</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device)</b>
       This resets a device in case it supports the PTP_OC_ResetDevice operation code (0x1010).

       <b>Parameters</b>
           <u>device</u> a pointer to the device to reset.

       <b>Returns</b>
           0 on success, any other value means failure.

       References <b>LIBMTP_mtpdevice_struct::params</b>.

   <b>int</b> <b>LIBMTP_Set_Friendlyname</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>char</b> <b>const</b> <b>*const</b> <b>friendlyname)</b>
       Sets the 'friendly name' of an MTP device.

       <b>Parameters</b>
           <u>device</u> a pointer to the device to set the friendly name for.
           <u>friendlyname</u> the new friendly name for the device.

       <b>Returns</b>
           0 on success, any other value means failure.

       <b>See</b> <b>also</b>
           <b>LIBMTP_Get_Friendlyname()</b>

       References <b>LIBMTP_mtpdevice_struct::params</b>.

   <b>int</b> <b>LIBMTP_Set_Object_String</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>uint32_t</b> <b>const</b> <b>object_id,</b> <b>LIBMTP_property_t</b> <b>const</b>
       <b>attribute_id,</b> <b>char</b> <b>const</b> <b>*const</b> <b>string)</b>
       Sets an object attribute from a string

       <b>Parameters</b>
           <u>device</u> a pointer to an MTP device.
           <u>object_id</u> Object reference
           <u>attribute_id</u> MTP attribute ID
           <u>string</u> string value to set

       <b>Returns</b>
           0 on success, any other value means failure

   <b>int</b> <b>LIBMTP_Set_Object_u16</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>uint32_t</b> <b>const</b> <b>object_id,</b> <b>LIBMTP_property_t</b> <b>const</b>
       <b>attribute_id,</b> <b>uint16_t</b> <b>const</b> <b>value)</b>
       Sets an object attribute from an unsigned 16-bit integer

       <b>Parameters</b>
           <u>device</u> a pointer to an MTP device.
           <u>object_id</u> Object reference
           <u>attribute_id</u> MTP attribute ID
           <u>value</u> 16-bit unsigned integer to set

       <b>Returns</b>
           0 on success, any other value means failure

   <b>int</b> <b>LIBMTP_Set_Object_u32</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>uint32_t</b> <b>const</b> <b>object_id,</b> <b>LIBMTP_property_t</b> <b>const</b>
       <b>attribute_id,</b> <b>uint32_t</b> <b>const</b> <b>value)</b>
       Sets an object attribute from an unsigned 32-bit integer

       <b>Parameters</b>
           <u>device</u> a pointer to an MTP device.
           <u>object_id</u> Object reference
           <u>attribute_id</u> MTP attribute ID
           <u>value</u> 32-bit unsigned integer to set

       <b>Returns</b>
           0 on success, any other value means failure

   <b>int</b> <b>LIBMTP_Set_Object_u8</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>uint32_t</b> <b>const</b> <b>object_id,</b> <b>LIBMTP_property_t</b> <b>const</b>
       <b>attribute_id,</b> <b>uint8_t</b> <b>const</b> <b>value)</b>
       Sets an object attribute from an unsigned 8-bit integer

       <b>Parameters</b>
           <u>device</u> a pointer to an MTP device.
           <u>object_id</u> Object reference
           <u>attribute_id</u> MTP attribute ID
           <u>value</u> 8-bit unsigned integer to set

       <b>Returns</b>
           0 on success, any other value means failure

   <b>int</b> <b>LIBMTP_Set_Syncpartner</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>char</b> <b>const</b> <b>*const</b> <b>syncpartner)</b>
       Sets the synchronization partner of an MTP device. Note that we have no idea what the effect of setting
       this to 'foobar' may be. But the general idea seems to be to tell which program shall synchronize with
       this device and tell others to leave it alone.

       <b>Parameters</b>
           <u>device</u> a pointer to the device to set the sync partner for.
           <u>syncpartner</u> the new synchronization partner for the device.

       <b>Returns</b>
           0 on success, any other value means failure.

       <b>See</b> <b>also</b>
           <b>LIBMTP_Get_Syncpartner()</b>

       References <b>LIBMTP_mtpdevice_struct::params</b>.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for libmtp from the source code.

libmtp                                           Version 1.1.22                                         <u><a href="../man3/basic.3.html">basic</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>