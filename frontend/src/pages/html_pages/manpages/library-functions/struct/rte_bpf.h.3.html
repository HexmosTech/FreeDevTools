<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rte_bpf.h</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dpdk-doc">dpdk-doc_24.11.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rte_bpf.h

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;rte_common.h&gt;
       #include &lt;rte_mbuf.h&gt;
       #include &lt;bpf_def.h&gt;

   <b>Data</b> <b>Structures</b>
       struct <b>rte_bpf_arg</b>
       struct <b>rte_bpf_xsym</b>
       struct <b>rte_bpf_prm</b>
       struct <b>rte_bpf_jit</b>

   <b>Macros</b>
       #define <b>RTE_BPF_ARG_PTR_TYPE</b>(x)   ((x) &amp; <b>RTE_BPF_ARG_PTR</b>)

   <b>Enumerations</b>
       enum <b>rte_bpf_arg_type</b> { <b>RTE_BPF_ARG_UNDEF</b>, <b>RTE_BPF_ARG_RAW</b>, <b>RTE_BPF_ARG_PTR</b> = 0x10, <b>RTE_BPF_ARG_PTR_MBUF</b>,
           <b>RTE_BPF_ARG_RESERVED</b> }
       enum <b>rte_bpf_xtype</b> { <b>RTE_BPF_XTYPE_FUNC</b>, <b>RTE_BPF_XTYPE_VAR</b> }

   <b>Functions</b>
       void <b>rte_bpf_destroy</b> (struct rte_bpf *bpf)
       struct rte_bpf * <b>rte_bpf_load</b> (const struct <b>rte_bpf_prm</b> *prm)
       struct rte_bpf * <b>rte_bpf_elf_load</b> (const struct <b>rte_bpf_prm</b> *prm, const char *fname, const char *sname)
       uint64_t <b>rte_bpf_exec</b> (const struct rte_bpf *bpf, void *ctx)
       uint32_t <b>rte_bpf_exec_burst</b> (const struct rte_bpf *bpf, void *ctx[], uint64_t rc[], uint32_t num)
       int <b>rte_bpf_get_jit</b> (const struct rte_bpf *bpf, struct <b>rte_bpf_jit</b> *jit)
       void <b>rte_bpf_dump</b> (FILE *f, const struct ebpf_insn *buf, uint32_t len)
       struct <b>rte_bpf_prm</b> * <b>rte_bpf_convert</b> (const struct bpf_program *prog)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       RTE BPF support.

       librte_bpf provides a framework to load and execute eBPF bytecode inside user-space dpdk based
       applications. It supports basic set of features from eBPF spec
       (https://www.kernel.org/doc/Documentation/networking/filter.txt).

       Definition in file <b>rte_bpf.h</b>.

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>RTE_BPF_ARG_PTR_TYPE(x)</b>   <b>((x)</b> <b>&amp;</b> <b>RTE_BPF_ARG_PTR)</b>
       determine is argument a pointer

       Definition at line <b>55</b> of file <b>rte_bpf.h</b>.

</pre><h4><b>Enumeration</b> <b>Type</b> <b>Documentation</b></h4><pre>
   <b>enum</b> <b>rte_bpf_arg_type</b>
       Possible types for function/BPF program arguments.

       <b>Enumerator</b>

       <u>RTE_BPF_ARG_UNDEF</u>
              undefined

       <u>RTE_BPF_ARG_RAW</u>
              scalar value

       <u>RTE_BPF_ARG_PTR</u>
              pointer to data buffer

       <u>RTE_BPF_ARG_PTR_MBUF</u>
              pointer to <b>rte_mbuf</b>

       <u>RTE_BPF_ARG_RESERVED</u>
              reserved for internal use

       Definition at line <b>30</b> of file <b>rte_bpf.h</b>.

   <b>enum</b> <b>rte_bpf_xtype</b>
       Possible types for external symbols.

       <b>Enumerator</b>

       <u>RTE_BPF_XTYPE_FUNC</u>
              function

       <u>RTE_BPF_XTYPE_VAR</u>
              variable

       Definition at line <b>60</b> of file <b>rte_bpf.h</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>void</b> <b>rte_bpf_destroy</b> <b>(struct</b> <b>rte_bpf</b> <b>*</b> <b>bpf)</b>
       De-allocate all memory used by this eBPF execution context.

       <b>Parameters</b>
           <u>bpf</u> BPF handle to destroy.

   <b>struct</b> <b>rte_bpf</b> <b>*</b> <b>rte_bpf_load</b> <b>(const</b> <b>struct</b> <b>rte_bpf_prm</b> <b>*</b> <b>prm)</b>
       Create a new eBPF execution context and load given BPF code into it.

       <b>Parameters</b>
           <u>prm</u> Parameters used to create and initialise the BPF execution context.

       <b>Returns</b>
           BPF handle that is used in future BPF operations, or NULL on error, with error code set in rte_errno.
           Possible rte_errno errors include:

           • EINVAL - invalid parameter passed to function

           • ENOMEM - can't reserve enough memory

   <b>struct</b> <b>rte_bpf</b> <b>*</b> <b>rte_bpf_elf_load</b> <b>(const</b> <b>struct</b> <b>rte_bpf_prm</b> <b>*</b> <b>prm,</b> <b>const</b> <b>char</b> <b>*</b> <b>fname,</b> <b>const</b> <b>char</b> <b>*</b> <b>sname)</b>
       Create  a  new  eBPF  execution  context  and load BPF code from given ELF file into it. Note that if the
       function will encounter EBPF_PSEUDO_CALL instruction that references external symbol, it will treat is as
       standard BPF_CALL to the external helper function.

       <b>Parameters</b>
           <u>prm</u> Parameters used to create and initialise the BPF execution context.
           <u>fname</u> Pathname for a ELF file.
           <u>sname</u> Name of the executable section within the file to load.

       <b>Returns</b>
           BPF handle that is used in future BPF operations, or NULL on error, with error code set in rte_errno.
           Possible rte_errno errors include:

           • EINVAL - invalid parameter passed to function

           • ENOMEM - can't reserve enough memory

   <b>uint64_t</b> <b>rte_bpf_exec</b> <b>(const</b> <b>struct</b> <b>rte_bpf</b> <b>*</b> <b>bpf,</b> <b>void</b> <b>*</b> <b>ctx)</b>
       Execute given BPF bytecode.

       <b>Parameters</b>
           <u>bpf</u> handle for the BPF code to execute.
           <u>ctx</u> pointer to input context.

       <b>Returns</b>
           BPF execution return value.

   <b>uint32_t</b> <b>rte_bpf_exec_burst</b> <b>(const</b> <b>struct</b> <b>rte_bpf</b> <b>*</b> <b>bpf,</b> <b>void</b> <b>*</b> <b>ctx[],</b> <b>uint64_t</b> <b>rc[],</b> <b>uint32_t</b> <b>num)</b>
       Execute given BPF bytecode over a set of input contexts.

       <b>Parameters</b>
           <u>bpf</u> handle for the BPF code to execute.
           <u>ctx</u> array of pointers to the input contexts.
           <u>rc</u> array of return values (one per input).
           <u>num</u> number of elements in ctx[] (and rc[]).

       <b>Returns</b>
           number of successfully processed inputs.

   <b>int</b> <b>rte_bpf_get_jit</b> <b>(const</b> <b>struct</b> <b>rte_bpf</b> <b>*</b> <b>bpf,</b> <b>struct</b> <b>rte_bpf_jit</b> <b>*</b> <b>jit)</b>
       Provide information about natively compiled code for given BPF handle.

       <b>Parameters</b>
           <u>bpf</u> handle for the BPF code.
           <u>jit</u> pointer to the <b>rte_bpf_jit</b> structure to be filled with related data.

       <b>Returns</b>

           • -EINVAL if the parameters are invalid.

           • Zero if operation completed successfully.

   <b>void</b> <b>rte_bpf_dump</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>const</b> <b>struct</b> <b>ebpf_insn</b> <b>*</b> <b>buf,</b> <b>uint32_t</b> <b>len)</b>
       Dump epf instructions to a file.

       <b>Parameters</b>
           <u>f</u> A pointer to a file for output
           <u>buf</u> A pointer to BPF instructions
           <u>len</u> Number of BPF instructions to dump.

   <b>struct</b> <b>rte_bpf_prm</b> <b>*</b> <b>rte_bpf_convert</b> <b>(const</b> <b>struct</b> <b>bpf_program</b> <b>*</b> <b>prog)</b>
       Convert a Classic BPF program from libpcap into a DPDK BPF code.

       <b>Parameters</b>
           <u>prog</u> Classic BPF program from pcap_compile().

       <b>Returns</b>
           Pointer to BPF program (allocated with <u>rte_malloc</u>) that is used in future BPF operations, or NULL  on
           error, with error code set in rte_errno. Possible rte_errno errors include:

           • EINVAL - invalid parameter passed to function

           • ENOMEM - can't reserve enough memory

           • ENOTSUP - operation not supported

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for DPDK from the source code.

DPDK                                             Version 24.11.2                                    <u><a href="../man3/rte_bpf.h.3.html">rte_bpf.h</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>