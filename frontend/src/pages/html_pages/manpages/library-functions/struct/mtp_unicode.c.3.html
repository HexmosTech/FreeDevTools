<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>libmtp -</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmtp-doc">libmtp-doc_1.1.22-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       libmtp -

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include 'config.h'
       #include &lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;
       #include &lt;<a href="file:/usr/include/string.h">string.h</a>&gt;
       #include 'libmtp.h'
       #include 'unicode.h'
       #include 'util.h'
       #include 'ptp.h'

   <b>Macros</b>
       #define <b>STRING_BUFFER_LENGTH</b>   1024

   <b>Functions</b>
       int <b>ucs2_strlen</b> (uint16_t const *const unicstr)
       char * <b>utf16_to_utf8</b> (<b>LIBMTP_mtpdevice_t</b> *device, const uint16_t *unicstr)
       uint16_t * <b>utf8_to_utf16</b> (<b>LIBMTP_mtpdevice_t</b> *device, const char *localstr)
       void <b>strip_7bit_from_utf8</b> (char *str)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       This file contains general Unicode string manipulation functions. It mainly consist of functions for
       converting between UCS-2 (used on the devices) and UTF-8 (used by several applications).

       For a deeper understanding of Unicode encoding formats see the Wikipedia entries for UTF-16/UCS-2 and
       UTF-8.

       Copyright (C) 2005-2009 Linus Walleij <a href="mailto:triad@df.lth.se">triad@df.lth.se</a>

       This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser
       General Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General
       Public License for more details.

       You should have received a copy of the GNU Lesser General Public License along with this library; if not,
       write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>STRING_BUFFER_LENGTH</b>   <b>1024</b>
       The size of the buffer (in characters) used for creating string copies.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>void</b> <b>strip_7bit_from_utf8</b> <b>(char</b> <b>*</b> <b>str)</b>
       This helper function simply removes any consecutive chars

           0x7F and replace then with an underscore. In UTF-8

       consecutive chars &gt; 0x7F represent one single character so it has to be done like this (and it's
       elegant). It will only shrink the string in size so no copying is needed.

       Referenced by <b>LIBMTP_Create_Folder()</b>.

   <b>int</b> <b>ucs2_strlen</b> <b>(uint16_t</b> <b>const</b> <b>*const</b> <b>unicstr)</b>
       Gets the length (in characters, not bytes) of a unicode UCS-2 string, eg a string which physically is
       0x00 0x41 0x00 0x00 will return a value of 1.

       <b>Parameters</b>
           <u>unicstr</u> a UCS-2 Unicode string

       <b>Returns</b>
           the length of the string, in number of characters. If you want to know the length in bytes, multiply
           this by two and add two (for zero terminator).

       Referenced by <b>utf16_to_utf8()</b>, and <b>utf8_to_utf16()</b>.

   <b>char</b> <b>*</b> <b>utf16_to_utf8</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>const</b> <b>uint16_t</b> <b>*</b> <b>unicstr)</b>
       Converts a big-endian UTF-16 2-byte string to a UTF-8 string. Actually just a UCS-2 internal conversion
       routine that strips off the BOM if there is one.

       <b>Parameters</b>
           <u>device</u> a pointer to the current device.
           <u>unicstr</u> the UTF-16 unicode string to convert

       <b>Returns</b>
           a UTF-8 string.

       References <b>LIBMTP_mtpdevice_struct::params</b>, <b>STRING_BUFFER_LENGTH</b>, and <b>ucs2_strlen()</b>.

   <b>uint16_t</b> <b>*</b> <b>utf8_to_utf16</b> <b>(LIBMTP_mtpdevice_t</b> <b>*</b> <b>device,</b> <b>const</b> <b>char</b> <b>*</b> <b>localstr)</b>
       Converts a UTF-8 string to a big-endian UTF-16 2-byte string Actually just a UCS-2 internal conversion.

       <b>Parameters</b>
           <u>device</u> a pointer to the current device.
           <u>localstr</u> the UTF-8 unicode string to convert

       <b>Returns</b>
           a UTF-16 string.

       References <b>LIBMTP_mtpdevice_struct::params</b>, <b>STRING_BUFFER_LENGTH</b>, and <b>ucs2_strlen()</b>.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for libmtp from the source code.

libmtp                                           Version 1.1.22                                     <u><a href="../man3/unicode.c.3.html">unicode.c</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>