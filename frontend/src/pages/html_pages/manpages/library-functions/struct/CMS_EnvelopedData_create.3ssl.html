<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CMS_EnvelopedData_create_ex, CMS_EnvelopedData_create, CMS_AuthEnvelopedData_create,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CMS_EnvelopedData_create_ex, CMS_EnvelopedData_create, CMS_AuthEnvelopedData_create,
       CMS_AuthEnvelopedData_create_ex - Create CMS envelope

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/cms.h&gt;

        CMS_ContentInfo *
        CMS_EnvelopedData_create_ex(const EVP_CIPHER *cipher, OSSL_LIB_CTX *libctx,
                                    const char *propq);
        CMS_ContentInfo *CMS_EnvelopedData_create(const EVP_CIPHER *cipher);

        CMS_ContentInfo *
        CMS_AuthEnvelopedData_create_ex(const EVP_CIPHER *cipher, OSSL_LIB_CTX *libctx,
                                        const char *propq);
        CMS_ContentInfo *CMS_AuthEnvelopedData_create(const EVP_CIPHER *cipher);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>CMS_EnvelopedData_create_ex()</b> creates a <b>CMS_ContentInfo</b> structure with a type <b>NID_pkcs7_enveloped</b>. <u>cipher</u>
       is the symmetric cipher to use.  The library context <u>libctx</u> and the property query <u>propq</u> are used when
       retrieving algorithms from providers.

       <b>CMS_AuthEnvelopedData_create_ex()</b> creates a <b>CMS_ContentInfo</b> structure with a type
       <b>NID_id_smime_ct_authEnvelopedData</b>. <b>cipher</b> is the symmetric AEAD cipher to use. Currently only AES
       variants with GCM mode are supported. The library context <u>libctx</u> and the property query <u>propq</u> are used
       when retrieving algorithms from providers.

       The algorithm passed in the <u>cipher</u> parameter must support ASN1 encoding of its parameters.

       The recipients can be added later using <b><a href="../man3/CMS_add1_recipient_cert.3.html">CMS_add1_recipient_cert</a></b>(3) or <b><a href="../man3/CMS_add0_recipient_key.3.html">CMS_add0_recipient_key</a></b>(3).

       The <b>CMS_ContentInfo</b> structure needs to be finalized using <b><a href="../man3/CMS_final.3.html">CMS_final</a></b>(3) and then freed using
       <b><a href="../man3/CMS_ContentInfo_free.3.html">CMS_ContentInfo_free</a></b>(3).

       <b>CMS_EnvelopedData_create()</b> and <b>CMS_AuthEnvelopedData_create()</b> are similar to
       <b>CMS_EnvelopedData_create_ex()</b> and <b>CMS_AuthEnvelopedData_create_ex()</b> but use default values of NULL for
       the library context <u>libctx</u> and the property query <u>propq</u>.

</pre><h4><b>NOTES</b></h4><pre>
       Although <b>CMS_EnvelopedData_create_ex()</b>, and <b>CMS_EnvelopedData_create()</b>,
       <b>CMS_AuthEnvelopedData_create_ex()</b>, and <b>CMS_AuthEnvelopedData_create()</b> allocate a new <b>CMS_ContentInfo</b>
       structure, they are not usually used in applications.  The wrappers <b><a href="../man3/CMS_encrypt.3.html">CMS_encrypt</a></b>(3) and <b><a href="../man3/CMS_decrypt.3.html">CMS_decrypt</a></b>(3) are
       often used instead.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       If the allocation fails, <b>CMS_EnvelopedData_create_ex()</b>, <b>CMS_EnvelopedData_create()</b>,
       <b>CMS_AuthEnvelopedData_create_ex()</b>, <b>CMS_AuthEnvelopedData_create()</b>, <b>CMS_AuthEnvelopedData_create()</b>, and
       <b>CMS_AuthEnvelopedData_create_ex()</b> return NULL and set an error code that can be obtained by
       <b><a href="../man3/ERR_get_error.3.html">ERR_get_error</a></b>(3).  Otherwise, they return a pointer to the newly allocated structure.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ERR_get_error.3.html">ERR_get_error</a></b>(3), <b><a href="../man3/CMS_encrypt.3.html">CMS_encrypt</a></b>(3), <b><a href="../man3/CMS_decrypt.3.html">CMS_decrypt</a></b>(3), <b><a href="../man3/CMS_final.3.html">CMS_final</a></b>(3), <b><a href="../man3/CMS_sign_ex.3.html">CMS_sign_ex</a></b>(3), <b><a href="../man3/CMS_encrypt_ex.3.html">CMS_encrypt_ex</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>CMS_EnvelopedData_create_ex()</b> method was added in OpenSSL 3.0.

       <b>CMS_AuthEnvelopedData_create()</b> and <b>CMS_AuthEnvelopedData_create_ex()</b> were added in OpenSSL 3.5.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2020-2025 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                     <u><a href="../man3SSL/CMS_ENVELOPEDDATA_CREATE.3SSL.html">CMS_ENVELOPEDDATA_CREATE</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>