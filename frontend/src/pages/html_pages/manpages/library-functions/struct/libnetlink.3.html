<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>libnetlink - A library for accessing the netlink service</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/iproute2">iproute2_6.14.0-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       libnetlink - A library for accessing the netlink service

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;asm/types.h&gt;
       #include &lt;libnetlink.h&gt;
       #include &lt;<a href="file:/usr/include/linux/netlink.h">linux/netlink.h</a>&gt;
       #include &lt;<a href="file:/usr/include/linux/rtnetlink.h">linux/rtnetlink.h</a>&gt;

       int rtnl_open(struct rtnl_handle *rth, unsigned subscriptions)

       int rtnl_wilddump_request(struct rtnl_handle *rth, int family, int type)

       int rtnl_send(struct rtnl_handle *rth, char *buf, int len)

       int rtnl_dump_request(struct rtnl_handle *rth, int type, void *req, int len)

       int rtnl_dump_filter(struct rtnl_handle *rth,
                      int (*filter)(struct sockaddr_nl *, struct nlmsghdr *n, void *),
                      void *arg1,
                      int (*junk)(struct sockaddr_nl *,struct nlmsghdr *n, void *),
                      void *arg2)

       int rtnl_talk(struct rtnl_handle *rtnl, struct nlmsghdr *n, pid_t peer,
                  unsigned groups, struct nlmsghdr *answer,
                  int (*junk)(struct sockaddr_nl *,struct nlmsghdr *n, void *),
                  void *jarg)

       int rtnl_listen(struct rtnl_handle *rtnl,
                  int (*handler)(struct sockaddr_nl *, struct rtnl_ctrl_data *,
                           struct nlmsghdr *n, void *),
                  void *jarg)

       int rtnl_from_file(FILE *rtnl,
                  int (*handler)(struct sockaddr_nl *,struct nlmsghdr *n, void *),
                  void *jarg)

       int addattr32(struct nlmsghdr *n, int maxlen, int type, __u32 data)

       int addattr_l(struct nlmsghdr *n, int maxlen, int type, void *data, int alen)

       int rta_addattr32(struct rtattr *rta, int maxlen, int type, __u32 data)

       int rta_addattr_l(struct rtattr *rta, int maxlen, int type, void *data, int alen)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       libnetlink provides a higher level interface to <b><a href="../man7/rtnetlink.7.html">rtnetlink</a></b>(7).  The read functions return 0 on success and
       a negative errno on failure.  The send functions return the amount of data sent, or -1 on error.

       rtnl_open
              Open  a  rtnetlink  socket  and  save  the state into the <b>rth</b> handle. This handle is passed to all
              subsequent calls.  <b>subscriptions</b> is a bitmap of the rtnetlink multicast groups the socket will  be
              a member of.

       rtnl_wilddump_request
              Request a full dump of the <b>type</b> database for <b>family</b> addresses.  <b>type</b> is a rtnetlink message type.

       rtnl_dump_request
              Request  a  full  dump  of  the  <b>type</b>  data buffer into <b>buf</b> with maximum length of <b>len.</b>  <b>type</b> is a
              rtnetlink message type.

       rtnl_dump_filter
              Receive netlink data after a request and filter it.  The <b>filter</b> callback checks  if  the  received
              message  is  wanted.  It  gets  the  source address of the message, the message itself and <b>arg1</b> as
              arguments.  0  as  return  means  that  the  filter  passed,  a  negative  value  is  returned  by
              <u>rtnl_dump_filter</u>  in  case  of  error. NULL for <u>filter</u> means to not use a filter.  <b>junk</b> is used to
              filter messages not destined to the local socket.  Only one message bundle is received.  If  there
              is a message pending, this function does not block.

       rtnl_listen
              Receive  netlink data after a request and pass it to <u>handler.</u>  <b>handler</b> is a callback that gets the
              message source address, anscillary data, the message itself, and the <b>jarg</b> cookie as arguments.  It
              will  get  called  for  all received messages.  Only one message bundle is received. If there is a
              message pending this function does not block.

       rtnl_from_file
              Works like <u>rtnl_listen,</u> but reads a netlink message bundle from  the  file  <b>file</b>  and  passes  the
              messages  to  <b>handler</b>  for  parsing. The file should contain raw data as received from a rtnetlink
              socket.

       The following functions are useful to construct custom rtnetlink messages. For  simple  database  dumping
       with  filtering  it is better to use the higher level functions above. See <b><a href="../man3/rtnetlink.3.html">rtnetlink</a></b>(3) and <b><a href="../man3/netlink.3.html">netlink</a></b>(3) on
       how to generate a rtnetlink message. The following utility functions require  a  continuous  buffer  that
       already contains a netlink message header and a rtnetlink request.

       rtnl_send
              Send the rtnetlink message in <b>buf</b> of length <b>len</b> to handle <b>rth.</b>

       addattr32
              Add  a  __u32  attribute of type <b>type</b> and with value <b>data</b> to netlink message <b>n,</b> which is part of a
              buffer of length <b>maxlen.</b>

       addattr_l
              Add a variable length attribute of type <b>type</b> and with  value  <b>data</b>  and  <b>alen</b>  length  to  netlink
              message <b>n,</b> which is part of a buffer of length <b>maxlen.</b>  <b>data</b> is copied.

       rta_addattr32
              Initialize the rtnetlink attribute <b>rta</b> with a __u32 data value.

       rta_addattr32
              Initialize the rtnetlink attribute <b>rta</b> with a variable length data value.

</pre><h4><b>BUGS</b></h4><pre>
       This library is meant for internal use, use libmnl for new programs.

       The  functions  sometimes  use  fprintf and exit when a fatal error occurs.  This library should be named
       librtnetlink.

</pre><h4><b>AUTHORS</b></h4><pre>
       netlink/rtnetlink was designed and written by Alexey Kuznetsov.  Andi Kleen wrote the man page.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/netlink.7.html">netlink</a></b>(7), <b><a href="../man7/rtnetlink.7.html">rtnetlink</a></b>(7)
       <a href="file:/usr/include/linux/rtnetlink.h">/usr/include/linux/rtnetlink.h</a>

                                                                                                   <u><a href="../man3/libnetlink.3.html">libnetlink</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>