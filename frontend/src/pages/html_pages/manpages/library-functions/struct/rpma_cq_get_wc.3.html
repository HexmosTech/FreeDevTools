<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rpma_cq_get_wc - receive one or more completions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/librpma-dev">librpma-dev_1.3.0-2build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>rpma_cq_get_wc</b> - receive one or more completions

</pre><h4><b>SYNOPSIS</b></h4><pre>
             #include &lt;librpma.h&gt;

             struct rpma_cq;
             struct ibv_wc;

             int <b>rpma_cq_get_wc</b>(struct rpma_cq *cq, int num_entries, struct ibv_wc *wc,
                             int *num_entries_got);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>rpma_cq_get_wc</b>()  polls  the  CQ  for  completions  and  returns  the first num_entries (or all available
       completions if the CQ contains fewer than this number) in the wc array exactly like <b><a href="../man3/ibv_poll_cq.3.html">ibv_poll_cq</a></b>(3)  does.
       The  argument  wc  is  a  pointer  to an array of ibv_wc structs, as defined in &lt;infiniband/verbs.h&gt;. The
       number of got completions is returned in the num_entries_got argument if it is not NULL. It can  be  NULL
       only  if  num_entries  equals 1. All operations generate completions on error. The operations posted with
       the RPMA_F_COMPLETION_ALWAYS flag also generate completions on success.

       Note that if the provided cq is the main CQ and the receive CQ is present on  the  same  connection  this
       function  won't  return  IBV_WC_RECV  and IBV_WC_RECV_RDMA_WITH_IMM at any time. The receive CQ has to be
       used instead to collect these completions. Please see the  <b><a href="../man3/rpma_conn_get_rcq.3.html">rpma_conn_get_rcq</a></b>(3)  for  details  about  the
       receive CQ.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       The  <b>rpma_cq_get_wc</b>()  function  returns 0 on success or a negative error code on failure. On success, it
       saves all got completions and their number into the wc and num_entries_got respectively. If the status of
       a completion is not equal to IBV_WC_SUCCESS then only the following attributes are valid: wr_id,  status,
       qp_num, and vendor_err.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>rpma_cq_get_wc</b>() can fail with the following errors:

       •  RPMA_E_INVAL - num_entries &lt; 1, cq or wc is NULL, num_entries &gt; 1 and num_entries_got is NULL

       •  RPMA_E_NO_COMPLETION - no completions available

       •  RPMA_E_PROVIDER - <b><a href="../man3/ibv_poll_cq.3.html">ibv_poll_cq</a></b>(3) failed with a provider error

       •  RPMA_E_UNKNOWN - <b><a href="../man3/ibv_poll_cq.3.html">ibv_poll_cq</a></b>(3) failed but no provider error is available

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/rpma_conn_get_cq.3.html">rpma_conn_get_cq</a></b>(3),  <b><a href="../man3/rpma_conn_get_rcq.3.html">rpma_conn_get_rcq</a></b>(3),  <b><a href="../man3/rpma_conn_req_recv.3.html">rpma_conn_req_recv</a></b>(3),  <b><a href="../man3/rpma_cq_wait.3.html">rpma_cq_wait</a></b>(3),  <b><a href="../man3/rpma_cq_get_fd.3.html">rpma_cq_get_fd</a></b>(3),
       <b><a href="../man3/rpma_flush.3.html">rpma_flush</a></b>(3),   <b><a href="../man3/rpma_read.3.html">rpma_read</a></b>(3),   <b><a href="../man3/rpma_recv.3.html">rpma_recv</a></b>(3),   <b><a href="../man3/rpma_send.3.html">rpma_send</a></b>(3),   <b><a href="../man3/rpma_send_with_imm.3.html">rpma_send_with_imm</a></b>(3),    <b><a href="../man3/rpma_write.3.html">rpma_write</a></b>(3),
       <b><a href="../man3/rpma_atomic_write.3.html">rpma_atomic_write</a></b>(3), <b><a href="../man3/rpma_write_with_imm.3.html">rpma_write_with_imm</a></b>(3), <b><a href="../man7/librpma.7.html">librpma</a></b>(7) and https://pmem.io/rpma/

RPMA                                              01 April 2024                                <u><a href="../man3/rpma_cq_get_wc.3.html">rpma_cq_get_wc</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>