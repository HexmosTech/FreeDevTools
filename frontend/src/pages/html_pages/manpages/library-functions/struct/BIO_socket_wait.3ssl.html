<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIO_socket_wait, BIO_wait, BIO_do_connect_retry - BIO connection utility functions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       BIO_socket_wait, BIO_wait, BIO_do_connect_retry - BIO connection utility functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/bio.h&gt;

        #ifndef OPENSSL_NO_SOCK
        int BIO_socket_wait(int fd, int for_read, time_t max_time);
        #endif
        int BIO_wait(BIO *bio, time_t max_time, unsigned int nap_milliseconds);
        int BIO_do_connect_retry(BIO *bio, int timeout, int nap_milliseconds);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>BIO_socket_wait()</b> waits on the socket <b>fd</b> for reading if <b>for_read</b> is not 0, else for writing, at most
       until <b>max_time</b>.  It succeeds immediately if <b>max_time</b> == 0 (which means no timeout given).

       <b>BIO_wait()</b> waits at most until <b>max_time</b> on the given (typically socket-based) <b>bio</b>, for reading if <b>bio</b> is
       supposed to read, else for writing.  It is used by <b>BIO_do_connect_retry()</b> and can be used together
       <b><a href="../man3/BIO_read.3.html">BIO_read</a></b>(3).  It succeeds immediately if <b>max_time</b> == 0 (which means no timeout given).  If sockets are
       not available it supports polling by succeeding after sleeping at most the given <b>nap_milliseconds</b> in
       order to avoid a tight busy loop.  Via <b>nap_milliseconds</b> the caller determines the polling granularity.

       <b>BIO_do_connect_retry()</b> connects via the given <b>bio</b>.  It retries <b>BIO_do_connect()</b> as far as needed to reach
       a definite outcome, i.e., connection succeeded, timeout has been reached, or an error occurred.  For
       nonblocking and potentially even non-socket BIOs it polls every <b>nap_milliseconds</b> and sleeps in between
       using <b>BIO_wait()</b>.  If <b>nap_milliseconds</b> is &lt; 0 then a default value of 100 ms is used.  If the <b>timeout</b>
       parameter is &gt; 0 this indicates the maximum number of seconds to wait until the connection is established
       or a definite error occurred.  A value of 0 enables waiting indefinitely (i.e, no timeout), while a value
       &lt; 0 means that <b>BIO_do_connect()</b> is tried only once.  The function may, directly or indirectly, invoke
       <b>ERR_clear_error()</b>.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>BIO_socket_wait()</b>, <b>BIO_wait()</b>, and <b>BIO_do_connect_retry()</b> return -1 on error, 0 on timeout, and 1 on
       success.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/BIO_do_connect.3.html">BIO_do_connect</a></b>(3), <b><a href="../man3/BIO_read.3.html">BIO_read</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       <b>BIO_socket_wait()</b>, <b>BIO_wait()</b>, and <b>BIO_do_connect_retry()</b> were added in OpenSSL 3.0.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2019-2020 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                              <u><a href="../man3SSL/BIO_SOCKET_WAIT.3SSL.html">BIO_SOCKET_WAIT</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>