<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>icetDrawCallback -- set a callback for drawing.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/paraview">paraview_5.13.2+dfsg-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>icetDrawCallback</b> <b>--</b> <b>set</b> <b>a</b> <b>callback</b> <b>for</b> <b>drawing.</b>

</pre><h4><b>Synopsis</b></h4><pre>
       #include &lt;IceT.h&gt;

       typedef void (*<b>IceTDrawCallbackType</b>)(
                                               const IceTDouble *   <u>projection_matrix</u>,
                                               const IceTDouble *   <u>modelview_matrix</u>,
                                               const IceTFloat *    <u>background_color</u>,
                                               const IceTInt *      <u>readback_viewport</u>,
                                               <b>IceTImage</b>            <u>result</u>  )

       void <b>icetDrawCallback</b>(   <b>IceTDrawCallbackType</b>   <u>callback</u>  );

</pre><h4><b>Description</b></h4><pre>
       The  <b>icetDrawCallback</b>  function sets a callback that is used to draw the geometry from a given viewpoint.
       If you are using  OpenGL  ,you  should  probably  use  the  <b>icetGLDrawCallback</b>  function  and  associated
       <b>icetGLDrawFrame</b>.   These  alternative functions automatically set up the OpenGL state and retreive OpenGL
       buffers.

       <u>callback</u> should be a function that renders  an  image  of  the  local  geometry  based  on  the  provided
       transformation  matrices  and background color. <b>IceT</b> will call <u>callback</u> during a call to <b>icetDrawFrame</b> to
       create the images for compositing.  <u>callback</u> will be called a minimum amount of times. It may  be  called
       once.  If  none  of  the geometry projects on the display, it may not be called at all. If rendering to a
       tiled display and the geometry projects on multiple tiles, it may be  called  many  times.  The  code  in
       <u>callback</u>  should  be  prepared  to be called an unpredictable amount of times. For example, it should not
       attept to increment a frame counter and it should leave the rendering system's state  such  that  another
       view to the geometry may be rendered.

       <u>callback</u>  takes two projection matrices: <u>projection_matrix</u> and <u>modelview_matrix</u>.  Each of these arguments
       is a 16-value array that represents a $4 *4$ transformation of homogeneous coordinates. The arrays  store
       the matrices in order.

       Note  that  the  <u>projection_matrix</u>  passed  to  <u>callback</u>  is  liable  to be different than that passed to
       <b>icetDrawFrame</b>.   Make  certain  that  <u>callback</u>  uses  the  modified  <u>projection_matrix</u>  passed   to   it.
       <u>modelview_matrix</u>  is  the  same  as  that  passed to <b>icetDrawFrame</b>, but also passed along for convienient
       reference.

       Any pixel that does not have geometry rendered to it should be set  to  the  <u>background_color</u>  passed  to
       <u>callback</u>.   Likewise, any transparent geometry should be blended against the <u>background_color</u>.  Note that
       the <u>background_color</u> passed to <u>callback</u> is liable to be different than that passed to <b>icetDrawFrame</b>.

       <u>callback</u> is given <u>result</u>, an image object allocated  to  the  size  of  the  physical  render  size  (see
       <b>icetPhysicalRenderSize</b>).   The  dimensions  of  the  image  can  be  queried  with  <b>icetImageGetWidth</b> and
       <b>icetImageGetHeight</b>.  Pixels can be put in <u>result</u> by getting the color  and/or  depth  buffers  using  the
       <b>icetImageGetColor</b>  and <b>icetImageGetDepth</b> functions.  Anything written to these buffers is captured in the
       image object.

       <b>IceT</b> passes <u>callback</u> an image sized to the physical render space to make indexing  into  it  clearer  and
       safer and to possibly render directly into the image buffers. That said, <b>IceT</b> might only be interested in
       a subregion of the data. To make your callback more efficient, <b>IceT</b> provides <u>readback_viewport</u> to specify
       the  region  of  the image it will read. <u>readback_viewport</u> has four values.  The first two values specify
       the x and y pixel location of the lower left corner of the  region  of  interest.  The  last  two  values
       specify  the  width and height of the region of interest. The callback only has to write valid pixels for
       this region of the image. It is not an error to write values  outside  this  region,  but  they  will  be
       completely ignored.

       The <u>callback</u> function pointer is placed in the <b>ICET_DRAW_FUNCTION</b> state variable.

</pre><h4><b>Errors</b></h4><pre>
       None.

</pre><h4><b>Warnings</b></h4><pre>
       None.

</pre><h4><b>Bugs</b></h4><pre>
       None known.

</pre><h4><b>Notes</b></h4><pre>
       <u>callback</u>  is  tightly  coupled  with the bounds set with <b>icetBoundingVertices</b> or <b>icetBoundingBox</b>.  If the
       geometry drawn by <u>callback</u> is dynamic (changes from frame to frame), then  the  bounds  may  need  to  be
       changed as well. Incorrect bounds may cause the geometry to be culled in surprising ways.

</pre><h4><b>Copyright</b></h4><pre>
       Copyright (C)2003 Sandia Corporation

       Under  the  terms  of  Contract  DE-AC04-94AL85000  with  Sandia Corporation, the U.S. Government retains
       certain rights in this software.

       This source code is released under the New BSD License.

</pre><h4><b>See</b> <b>Also</b></h4><pre>
       <u><a href="../man3/icetBoundingBox.3.html">icetBoundingBox</a></u>(3), <u><a href="../man3/icetBoundingVertices.3.html">icetBoundingVertices</a></u>(3), <u><a href="../man3/icetDrawFrame.3.html">icetDrawFrame</a></u>(3), <u><a href="../man3/icetPhysicalRenderSize.3.html">icetPhysicalRenderSize</a></u>(3)

<b>IceT</b> Reference                                   August 23, 2010                             <u><a href="../man3/icetDrawCallback.3.html">icetDrawCallback</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>