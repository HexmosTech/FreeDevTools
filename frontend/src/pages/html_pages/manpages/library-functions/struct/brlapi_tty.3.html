<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>brlapi_tty - Entering & leaving tty mode</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbrlapi-dev">libbrlapi-dev_6.7-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       brlapi_tty - Entering &amp; leaving tty mode

        - How to take control of ttys for direct braille display / read.

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Macros</b>
       #define <b>BRLAPI_TTY_DEFAULT</b>   -1

   <b>Functions</b>
       int <b>BRLAPI_STDCALL</b> <b>brlapi_enterTtyMode</b> (int tty, const char *driver)
       int <b>BRLAPI_STDCALL</b> <b>brlapi__enterTtyMode</b> (<b>brlapi_handle_t</b> *handle, int tty, const char *driver)
       int <b>BRLAPI_STDCALL</b> <b>brlapi_enterTtyModeWithPath</b> (const int *ttys, int count, const char *driver)
       int <b>BRLAPI_STDCALL</b> <b>brlapi__enterTtyModeWithPath</b> (<b>brlapi_handle_t</b> *handle, const int *ttys, int count,
           const char *driver)
       int <b>BRLAPI_STDCALL</b> <b>brlapi_leaveTtyMode</b> (void)
       int <b>BRLAPI_STDCALL</b> <b>brlapi__leaveTtyMode</b> (<b>brlapi_handle_t</b> *handle)
       int <b>BRLAPI_STDCALL</b> <b>brlapi_setFocus</b> (int tty)
       int <b>BRLAPI_STDCALL</b> <b>brlapi__setFocus</b> (<b>brlapi_handle_t</b> *handle, int tty)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Before being able to write on the braille display, the application must tell the server which tty it will
       handle.

       The application must also specify how braille keys will be delivered to it. Two ways are possible:

       • driver-specific  keycodes:  applications  will  get  values  specific to each braille driver, since the
         keycode, as defined in the driver will be given for each key event (press or release). Using them leads
         to building highly driver-dependent applications, which can yet sometimes be useful to  mimic  existing
         proprietary applications for instance.

       • commands:  applications  will  get  exactly  the  same values as <u>brltty</u>. This allows driver-independent
         clients, which will hopefully be nice to use with a lot of different terminals.

       <b>See</b> <b>also</b>
           <b>brlapi_readKey()</b>

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>BRLAPI_TTY_DEFAULT</b>   <b>-1</b>
       Select the default tty.

       The library takes the following steps:

       1.  Try to get the tty number from the WINDOWID environment variable (for the xterm case).

       2.  Try to get the tty number from the CONTROLVT environment variable.

       3.  Read <a href="file:/proc/self/stat">/proc/self/stat</a> (on Linux).

       <b>See</b> <b>also</b>
           <b>brlapi_enterTtyMode()</b>

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b> <b>BRLAPI_STDCALL</b> <b>brlapi__enterTtyMode</b> <b>(brlapi_handle_t</b> <b>*</b> <b>handle,</b> <b>int</b> <b>tty,</b> <b>const</b> <b>char</b> <b>*</b> <b>driver)</b>
   <b>int</b> <b>BRLAPI_STDCALL</b> <b>brlapi__enterTtyModeWithPath</b> <b>(brlapi_handle_t</b> <b>*</b> <b>handle,</b> <b>const</b> <b>int</b> <b>*</b> <b>ttys,</b> <b>int</b> <b>count,</b> <b>const</b>
       <b>char</b> <b>*</b> <b>driver)</b>
   <b>int</b> <b>BRLAPI_STDCALL</b> <b>brlapi__leaveTtyMode</b> <b>(brlapi_handle_t</b> <b>*</b> <b>handle)</b>
   <b>int</b> <b>BRLAPI_STDCALL</b> <b>brlapi__setFocus</b> <b>(brlapi_handle_t</b> <b>*</b> <b>handle,</b> <b>int</b> <b>tty)</b>
   <b>int</b> <b>BRLAPI_STDCALL</b> <b>brlapi_enterTtyMode</b> <b>(int</b> <b>tty,</b> <b>const</b> <b>char</b> <b>*</b> <b>driver)</b>
       Ask for some tty, with some key mechanism

       <b>Parameters</b>
           <u>tty</u>

           • If tty&gt;=0 then take control of the specified tty.

           • If tty==<b>BRLAPI_TTY_DEFAULT</b> then take control of the default tty.

           <u>driver</u> tells how the application wants <b>brlapi_readKey()</b> to return  key  presses.  NULL  or  ''  means
           BRLTTY commands are required, whereas a driver name means that driver-specific keycodes are expected.

       <b>Returns</b>
           the used tty number on success, -1 on error

       WINDOWPATH  and  WINDOWID  should  be  propagated when running remote applications via ssh, for instance,
       along with BRLAPI_HOST and  the  authorization  key  (see  SendEnv  in  <a href="../man5/ssh_config.5.html">ssh_config</a>(5)  and  AcceptEnv  in
       <a href="../man5/sshd_config.5.html">sshd_config</a>(5))

       Once   <b>brlapi_enterTtyMode()</b>   is   called,   <b>brlapi_leaveTtyMode()</b>  has  to  be  called  before  calling
       <b>brlapi_enterTtyMode()</b> again.

       TODO: document which functions work in TTY mode only.

       <b>See</b> <b>also</b>
           <b>brlapi_leaveTtyMode()</b> <b>brlapi_readKey()</b>

   <b>int</b> <b>BRLAPI_STDCALL</b> <b>brlapi_enterTtyModeWithPath</b> <b>(const</b> <b>int</b> <b>*</b> <b>ttys,</b> <b>int</b> <b>count,</b> <b>const</b> <b>char</b> <b>*</b> <b>driver)</b>
       Ask for some tty specified by its path in the tty tree, with some key mechanism

       <b>Parameters</b>
           <u>ttys</u> points on the array of ttys representing the tty path to be got. Can be NULL if nttys is 0.
           <u>count</u> gives the number of elements in ttys.
           <u>driver</u> has the same meaning as in <b>brlapi_enterTtyMode()</b>

       Providing nttys == 0 means to get the root, which is usually what a screen readers wants to use.

       The content of WINDOWPATH or XDG_VTNR  will  always  be  prepended  to  the  given  ttys  array,  so  the
       application does not need to determine by itself where it is running.

       <b>Returns</b>
           0 on success, -1 on error.

       <b>See</b> <b>also</b>
           <b>brlapi_enterTtyMode()</b>

   <b>int</b> <b>BRLAPI_STDCALL</b> <b>brlapi_leaveTtyMode</b> <b>(void)</b>
       Stop controlling the tty

       <b>Returns</b>
           0 on success, -1 on error.

       <b>See</b> <b>also</b>
           <b>brlapi_enterTtyMode()</b>

   <b>int</b> <b>BRLAPI_STDCALL</b> <b>brlapi_setFocus</b> <b>(int</b> <b>tty)</b>
       Tell the current tty to brltty

       This  is intended for focus tellers, such as brltty, xbrlapi, screen, ... <b>brlapi_enterTtyMode()</b> must have
       been called beforehand to tell where this focus applies in the tty tree.

       <b>Returns</b>
           0 on success, -1 on error.

       <b>See</b> <b>also</b>
           <b>brlapi_enterTtyMode()</b> <b>brlapi_leaveTtyMode()</b>

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for BrlAPI from the source code.

BrlAPI                                             Version 0.8                                     <u><a href="../man3/brlapi_tty.3.html">brlapi_tty</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>