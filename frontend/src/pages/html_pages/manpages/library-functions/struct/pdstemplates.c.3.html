<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pdstemplates.c - Functions for GRIB2 Product Definition Templates used in Section 4 - the Product</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libg2c-dev">libg2c-dev_2.1.0-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pdstemplates.c - Functions for GRIB2 Product Definition Templates used in Section 4 - the Product
       Definition Section (PDS).

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include 'grib2_int.h'

   <b>Functions</b>
       <b>gtemplate</b> * <b>extpdstemplate</b> (<b>g2int</b> number, <b>g2int</b> *list)
           This subroutine generates the remaining octet map for a given Product Definition Template, if
           required.
       int <b>g2c_get_pds_template</b> (int pds_template_num, int *maplen, int *map, int *needext)
           Get PDS template information.
       int <b>g2c_get_pds_template_extension</b> (int pds_template_num, int *template, int *extlen, int *ext)
           Get pds template extension information.
       static <b>g2int</b> <b>getpdsindex</b> (<b>g2int</b> number)
           This function returns the index of specified Product Definition Template in array templates.
       <b>gtemplate</b> * <b>getpdstemplate</b> (<b>g2int</b> number)
           This subroutine returns PDS template information for a specified Product Definition Template.

   <b>Variables</b>
       static const struct pdstemplate <b>templatespds</b> [<b>G2C_MAX_PDS_TEMPLATE</b>]
           Data for struct for PDS template.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Functions for GRIB2 Product Definition Templates used in Section 4 - the Product Definition Section
       (PDS).

       Each Template has three parts:

       1.  The number of entries in the template (mappdslen).

       2.  A  map  of  the  template  (mappds), which contains the number of octets in which to pack each of the
           template values.

       3.  A logical value (needext) that indicates whether the Template needs to be extended. In some cases the
           number of entries in a template can vary depending upon values specified in the 'static' part of  the
           template. (See Template 4.3 as an example).

       <b>Note</b>
           Array mappds contains the number of octets in which the corresponding template values will be stored.
           A  negative  value  in  mappds  is used to indicate that the corresponding template entry can contain
           negative values. This information is used later when packing (or unpacking) the template data values.
           Negative data values in GRIB are stored with the left most bit set to one, and a negative  number  of
           octets  value  in mappds[] indicates that this possibility should be considered. The number of octets
           used to store the data value in this case would be the  absolute  value  of  the  negative  value  in
           mappds.

   <b>Program</b> <b>History</b> <b>Log</b>
       Date    Programmer   Comments    2001-06-28   Gilbert   Initial    2009-01-14   Vuong   Changed structure
       name template to  gtemplate     2009-12-15    Vuong    Added  Product  Definition  Templates  4.31,  4.15
       2010-08-03    Vuong    Added  Product Definition Template 4.42 and 4.43    2010-12-08   Vuong   Corrected
       Product   Definition   Template   4.42    and    4.43       2012-03-29      Vuong      Added    Templates
       4.44,4.45,4.46,4.47,4.48,4.50,  4.51,4.91,4.32  and 4.52    2013-08-05   Vuong   Corrected 4.91 and added
       Templates 4.33,4.34,4.53,4.54    2015-10-07   Vuong   Added  Templates  4.57,  4.60,  4.61  and  allow  a
       forecast   time   to   be   negative      2022-10-18     Hartnett     Added   <b>g2c_get_pds_template()</b>  and
       <b>g2c_get_pds_template_extension()</b>.    2024-09-09   Stahl   Added extension for Template 4.35    2024-12-04
       Stahl   Added 55 missing templates, including those from July 2024 WMO updates.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2001-06-28

       Definition in file <b>pdstemplates.c</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>gtemplate</b> <b>*</b> <b>extpdstemplate</b> <b>(g2int</b> <b>number,</b> <b>g2int</b> <b>*</b> <b>list)</b>
       This subroutine generates the remaining octet map for a given Product Definition Template,  if  required.
       Some  Templates  can  vary  depending  on data values given in an earlier part of the Template, and it is
       necessary to know some of the earlier entry values to generate the full octet map of the Template.

       This function allocates memory in the ext field of the gtemplate struct. This memory must be freed by the
       caller.

       <b>Parameters</b>
           <u>number</u> number of the Product Definition Template 4.NN that is being requested.
           <u>list</u> The list of values for each entry in the the Product Definition Template.

       <b>Returns</b>
           Pointer to the returned template struct. Returns NULL pointer if template not found.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2000-05-11

       Definition at line <b>553</b> of file <b>pdstemplates.c</b>.

       References <b>getpdsindex()</b>, and <b>getpdstemplate()</b>.

       Referenced by <b>g2_addfield()</b>, <b>g2_unpack4()</b>, and <b>g2c_get_pds_template_extension()</b>.

   <b>int</b> <b>g2c_get_pds_template</b> <b>(int</b> <b>pds_template_num,</b> <b>int</b> <b>*</b> <b>maplen,</b> <b>int</b> <b>*</b> <b>map,</b> <b>int</b> <b>*</b> <b>needext)</b>
       Get PDS template information. The PDS template consists of a template map,  its  length,  and,  for  some
       templates,   an   extra   extension   map,   and   its   length.   If   an   extension   is  needed,  use
       <b>g2c_get_pds_template_extension()</b> to get it.

       <b>Parameters</b>
           <u>pds_template_num</u> The PDS template number.
           <u>maplen</u> Pointer that gets the length of the map. Ignored if NULL.
           <u>map</u> Pointer that gets the map as an array of int. Memory must be  allocated  by  caller.  Ignored  if
           NULL.
           <u>needext</u> Pointer that a non-zero value if an extension to this template is needed. Ignored if NULL.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

           • <b>G2C_ENOTEMPLATE</b> Template not found.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           10/18/22

       Definition at line <b>1806</b> of file <b>pdstemplates.c</b>.

       References <b>G2C_ENOTEMPLATE</b>, <b>G2C_MAX_PDS_TEMPLATE</b>, <b>G2C_NOERROR</b>, and <b>templatespds</b>.

       Referenced by <b>g2c_rw_section4_metadata()</b>.

   <b>int</b> <b>g2c_get_pds_template_extension</b> <b>(int</b> <b>pds_template_num,</b> <b>int</b> <b>*</b> <b>template,</b> <b>int</b> <b>*</b> <b>extlen,</b> <b>int</b> <b>*</b> <b>ext)</b>
       Get pds template extension information.

       <b>Parameters</b>
           <u>pds_template_num</u> The pds template number.
           <u>template</u> Pointer to array that contains the template values.
           <u>extlen</u> Pointer that gets the length of the extension. Ignored if NULL.
           <u>ext</u>  Pointer  that  gets  template  extension array, if there is one. Memory must be allocated by the
           caller. Ignored if NULL.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

           • <b>G2C_EINVAL</b> Invalid input.

           • <b>G2C_ENOTEMPLATE</b> Template not found.

           • <b>G2C_ENOMEM</b> Out of memory.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           10/16/22

       Definition at line <b>1731</b> of file <b>pdstemplates.c</b>.

       References <b>gtemplate::ext</b>, <b>gtemplate::extlen</b>, <b>extpdstemplate()</b>, <b>G2C_EINVAL</b>, <b>G2C_ENOMEM</b>,  <b>G2C_ENOTEMPLATE</b>,
       <b>G2C_MAX_PDS_TEMPLATE</b>, <b>G2C_NOERROR</b>, and <b>templatespds</b>.

   <b>static</b> <b>g2int</b> <b>getpdsindex</b> <b>(g2int</b> <b>number)</b> <b>[static]</b>
       This function returns the index of specified Product Definition Template in array templates.

       <b>Parameters</b>
           <u>number</u> The number of the Product Definition Template that is being requested.

       <b>Returns</b>
           Index of PDT in array templates, if template exists. -1, otherwise.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2001-06-28

       Definition at line <b>469</b> of file <b>pdstemplates.c</b>.

       References <b>G2C_MAX_PDS_TEMPLATE</b>, <b>getpdsindex()</b>, and <b>templatespds</b>.

       Referenced by <b>extpdstemplate()</b>, <b>getpdsindex()</b>, and <b>getpdstemplate()</b>.

   <b>gtemplate</b> <b>*</b> <b>getpdstemplate</b> <b>(g2int</b> <b>number)</b>
       This  subroutine returns PDS template information for a specified Product Definition Template. The number
       of entries in the template is returned along with a map of the number of octets occupied by  each  entry.
       Also, a flag is returned to indicate whether the template would need to be extended.

       This function allocates memory for the gtemplate struct, which must be freed by the caller.

       <b>Parameters</b>
           <u>number</u> the number of the Product Definition Template that is being requested.

       <b>Returns</b>
           Pointer to the returned template struct. Returns NULL pointer if template not found.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2000-05-11

       Definition at line <b>504</b> of file <b>pdstemplates.c</b>.

       References <b>getpdsindex()</b>, and <b>templatespds</b>.

       Referenced by <b>extpdstemplate()</b>, <b>g2_addfield()</b>, and <b>g2_unpack4()</b>.

</pre><h4><b>Variable</b> <b>Documentation</b></h4><pre>
   <b>const</b> <b>struct</b> <b>pdstemplate</b> <b>templatespds[G2C_MAX_PDS_TEMPLATE]</b> <b>[static]</b>
       Data for struct for PDS template.

       Definition at line <b>59</b> of file <b>pdstemplates.c</b>.

       Referenced    by    <b>g2c_get_pds_template()</b>,    <b>g2c_get_pds_template_extension()</b>,    <b>getpdsindex()</b>,    and
       <b>getpdstemplate()</b>.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for NCEPLIBS-g2c from the source code.

NCEPLIBS-g2c                                      Version 2.1.0                                <u><a href="../man3/pdstemplates.c.3.html">pdstemplates.c</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>