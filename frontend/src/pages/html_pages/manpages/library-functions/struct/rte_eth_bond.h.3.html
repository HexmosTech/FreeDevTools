<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rte_eth_bond.h</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dpdk-doc">dpdk-doc_24.11.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rte_eth_bond.h

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;rte_ether.h&gt;

   <b>Macros</b>
       #define <b>BONDING_MODE_ROUND_ROBIN</b>   (0)
       #define <b>BONDING_MODE_ACTIVE_BACKUP</b>   (1)
       #define <b>BONDING_MODE_BALANCE</b>   (2)
       #define <b>BONDING_MODE_BROADCAST</b>   (3)
       #define <b>BONDING_MODE_8023AD</b>   (4)
       #define <b>BONDING_MODE_TLB</b>   (5)
       #define <b>BONDING_MODE_ALB</b>   (6)
       #define <b>BALANCE_XMIT_POLICY_LAYER2</b>   (0)
       #define <b>BALANCE_XMIT_POLICY_LAYER23</b>   (1)
       #define <b>BALANCE_XMIT_POLICY_LAYER34</b>   (2)

   <b>Functions</b>
       int <b>rte_eth_bond_create</b> (const char *name, uint8_t mode, uint8_t socket_id)
       int <b>rte_eth_bond_free</b> (const char *name)
       int <b>rte_eth_bond_member_add</b> (uint16_t bonding_port_id, uint16_t member_port_id)
       int <b>rte_eth_bond_member_remove</b> (uint16_t bonding_port_id, uint16_t member_port_id)
       int <b>rte_eth_bond_mode_set</b> (uint16_t bonding_port_id, uint8_t mode)
       int <b>rte_eth_bond_mode_get</b> (uint16_t bonding_port_id)
       int <b>rte_eth_bond_primary_set</b> (uint16_t bonding_port_id, uint16_t member_port_id)
       int <b>rte_eth_bond_primary_get</b> (uint16_t bonding_port_id)
       int <b>rte_eth_bond_members_get</b> (uint16_t bonding_port_id, uint16_t members[], uint16_t len)
       int <b>rte_eth_bond_active_members_get</b> (uint16_t bonding_port_id, uint16_t members[], uint16_t len)
       int <b>rte_eth_bond_mac_address_set</b> (uint16_t bonding_port_id, struct rte_ether_addr *mac_addr)
       int <b>rte_eth_bond_mac_address_reset</b> (uint16_t bonding_port_id)
       int <b>rte_eth_bond_xmit_policy_set</b> (uint16_t bonding_port_id, uint8_t policy)
       int <b>rte_eth_bond_xmit_policy_get</b> (uint16_t bonding_port_id)
       int <b>rte_eth_bond_link_monitoring_set</b> (uint16_t bonding_port_id, uint32_t internal_ms)
       int <b>rte_eth_bond_link_monitoring_get</b> (uint16_t bonding_port_id)
       int <b>rte_eth_bond_link_down_prop_delay_set</b> (uint16_t bonding_port_id, uint32_t delay_ms)
       int <b>rte_eth_bond_link_down_prop_delay_get</b> (uint16_t bonding_port_id)
       int <b>rte_eth_bond_link_up_prop_delay_set</b> (uint16_t bonding_port_id, uint32_t delay_ms)
       int <b>rte_eth_bond_link_up_prop_delay_get</b> (uint16_t bonding_port_id)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       RTE Link Bonding Ethernet Device Link Bonding for 1GbE and 10GbE ports to allow the aggregation of
       multiple (member) NICs into a single logical interface. The bonding device processes these interfaces
       based on the mode of operation specified and supported. This implementation supports 4 modes of operation
       round robin, active backup balance and broadcast. Providing redundant links, fault tolerance and/or load
       balancing of network ports

       Definition in file <b>rte_eth_bond.h</b>.

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>BONDING_MODE_ROUND_ROBIN</b>   <b>(0)</b>
       Round Robin (Mode 0). In this mode all transmitted packets will be balanced equally across all active
       members of the bonding in a round robin fashion.

       Definition at line <b>32</b> of file <b>rte_eth_bond.h</b>.

   <b>#define</b> <b>BONDING_MODE_ACTIVE_BACKUP</b>   <b>(1)</b>
       Active Backup (Mode 1). In this mode all packets transmitted will be transmitted on the primary member
       until such point as the primary member is no longer available and then transmitted packets will be sent
       on the next available members. The primary member can be defined by the user but defaults to the first
       active member available if not specified.

       Definition at line <b>40</b> of file <b>rte_eth_bond.h</b>.

   <b>#define</b> <b>BONDING_MODE_BALANCE</b>   <b>(2)</b>
       Balance (Mode 2). In this mode all packets transmitted will be balanced across the available members
       using one of three available transmit policies - l2, l2+3 or l3+4. See BALANCE_XMIT_POLICY macros
       definitions for further details on transmit policies.

       Definition at line <b>47</b> of file <b>rte_eth_bond.h</b>.

   <b>#define</b> <b>BONDING_MODE_BROADCAST</b>   <b>(3)</b>
       Broadcast (Mode 3). In this mode all transmitted packets will be transmitted on all available active
       members of the bonding.

       Definition at line <b>52</b> of file <b>rte_eth_bond.h</b>.

   <b>#define</b> <b>BONDING_MODE_8023AD</b>   <b>(4)</b>
       802.3AD (Mode 4).

       This mode provides auto negotiation/configuration of peers and well as link status changes monitoring
       using out of band LACP (link aggregation control protocol) messages. For further details of LACP
       specification see the IEEE 802.3ad/802.1AX standards. It is also described here
       https://www.kernel.org/doc/Documentation/networking/bonding.txt.

       Important Usage Notes:

       • for  LACP  mode  to work the rx/tx burst functions must be invoked at least once every 100ms, otherwise
         the out-of-band LACP messages will not be handled with the expected latency and this may cause the link
         status to be incorrectly marked as down or failure to correctly negotiate with peers.

       • For optimal performance during initial handshaking the array of mbufs provided to rx_burst should be at
         least 2 times the member count size.

       Definition at line <b>70</b> of file <b>rte_eth_bond.h</b>.

   <b>#define</b> <b>BONDING_MODE_TLB</b>   <b>(5)</b>
       Adaptive TLB (Mode 5) This mode provides an adaptive transmit load balancing. It dynamically changes  the
       transmitting  member,  according  to  the  computed load. Statistics are collected in 100ms intervals and
       scheduled every 10ms.

       Definition at line <b>76</b> of file <b>rte_eth_bond.h</b>.

   <b>#define</b> <b>BONDING_MODE_ALB</b>   <b>(6)</b>
       Adaptive Load Balancing (Mode 6) This mode includes adaptive TLB and receive load balancing (RLB). In RLB
       the bonding driver intercepts ARP replies send by local system and overwrites its source MAC address,  so
       that  different peers send data to the server on different member interfaces. When local system sends ARP
       request, it saves IP information from it. When ARP reply from that peer is received, its MAC  is  stored,
       one of member MACs assigned and ARP reply send to that peer.

       Definition at line <b>85</b> of file <b>rte_eth_bond.h</b>.

   <b>#define</b> <b>BALANCE_XMIT_POLICY_LAYER2</b>   <b>(0)</b>
       Layer 2 (Ethernet MAC)

       Definition at line <b>89</b> of file <b>rte_eth_bond.h</b>.

   <b>#define</b> <b>BALANCE_XMIT_POLICY_LAYER23</b>   <b>(1)</b>
       Layer 2+3 (Ethernet MAC + IP Addresses) transmit load balancing

       Definition at line <b>91</b> of file <b>rte_eth_bond.h</b>.

   <b>#define</b> <b>BALANCE_XMIT_POLICY_LAYER34</b>   <b>(2)</b>
       Layer 3+4 (IP Addresses + UDP Ports) transmit load balancing

       Definition at line <b>93</b> of file <b>rte_eth_bond.h</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b> <b>rte_eth_bond_create</b> <b>(const</b> <b>char</b> <b>*</b> <b>name,</b> <b>uint8_t</b> <b>mode,</b> <b>uint8_t</b> <b>socket_id)</b>
       Create a bonding rte_eth_dev device

       <b>Parameters</b>
           <u>name</u> Name of new link bonding device.
           <u>mode</u> Mode to initialize bonding device in.
           <u>socket_id</u> Socket Id on which to allocate eth_dev resources.

       <b>Returns</b>
           Port Id of created rte_eth_dev on success, negative value otherwise

   <b>int</b> <b>rte_eth_bond_free</b> <b>(const</b> <b>char</b> <b>*</b> <b>name)</b>
       Free a bonding rte_eth_dev device

       <b>Parameters</b>
           <u>name</u> Name of the link bonding device.

       <b>Returns</b>
           0 on success, negative value otherwise

   <b>int</b> <b>rte_eth_bond_member_add</b> <b>(uint16_t</b> <b>bonding_port_id,</b> <b>uint16_t</b> <b>member_port_id)</b>
       Add a rte_eth_dev device as a member to the bonding device

       <b>Parameters</b>
           <u>bonding_port_id</u> Port ID of bonding device.
           <u>member_port_id</u> Port ID of member device.

       <b>Returns</b>
           0 on success, negative value otherwise

   <b>int</b> <b>rte_eth_bond_member_remove</b> <b>(uint16_t</b> <b>bonding_port_id,</b> <b>uint16_t</b> <b>member_port_id)</b>
       Remove a member rte_eth_dev device from the bonding device

       <b>Parameters</b>
           <u>bonding_port_id</u> Port ID of bonding device.
           <u>member_port_id</u> Port ID of member device.

       <b>Returns</b>
           0 on success, negative value otherwise

   <b>int</b> <b>rte_eth_bond_mode_set</b> <b>(uint16_t</b> <b>bonding_port_id,</b> <b>uint8_t</b> <b>mode)</b>
       Set link bonding mode of bonding device

       <b>Parameters</b>
           <u>bonding_port_id</u> Port ID of bonding device.
           <u>mode</u> Bonding mode to set

       <b>Returns</b>
           0 on success, negative value otherwise

   <b>int</b> <b>rte_eth_bond_mode_get</b> <b>(uint16_t</b> <b>bonding_port_id)</b>
       Get link bonding mode of bonding device

       <b>Parameters</b>
           <u>bonding_port_id</u> Port ID of bonding device.

       <b>Returns</b>
           link bonding mode on success, negative value otherwise

   <b>int</b> <b>rte_eth_bond_primary_set</b> <b>(uint16_t</b> <b>bonding_port_id,</b> <b>uint16_t</b> <b>member_port_id)</b>
       Set member rte_eth_dev as primary member of bonding device

       <b>Parameters</b>
           <u>bonding_port_id</u> Port ID of bonding device.
           <u>member_port_id</u> Port ID of member device.

       <b>Returns</b>
           0 on success, negative value otherwise

   <b>int</b> <b>rte_eth_bond_primary_get</b> <b>(uint16_t</b> <b>bonding_port_id)</b>
       Get primary member of bonding device

       <b>Parameters</b>
           <u>bonding_port_id</u> Port ID of bonding device.

       <b>Returns</b>
           Port Id of primary member on success, -1 on failure

   <b>int</b> <b>rte_eth_bond_members_get</b> <b>(uint16_t</b> <b>bonding_port_id,</b> <b>uint16_t</b> <b>members[],</b> <b>uint16_t</b> <b>len)</b>
       Populate an array with list of the members port id's of the bonding device

       <b>Parameters</b>
           <u>bonding_port_id</u> Port ID of bonding eth_dev to interrogate
           <u>members</u> Array to be populated with the current active members
           <u>len</u> Length of members array

       <b>Returns</b>
           Number of members associated with bonding device on success, negative value otherwise

   <b>int</b> <b>rte_eth_bond_active_members_get</b> <b>(uint16_t</b> <b>bonding_port_id,</b> <b>uint16_t</b> <b>members[],</b> <b>uint16_t</b> <b>len)</b>
       Populate an array with list of the active members port id's of the bonding device.

       <b>Parameters</b>
           <u>bonding_port_id</u> Port ID of bonding eth_dev to interrogate
           <u>members</u> Array to be populated with the current active members
           <u>len</u> Length of members array

       <b>Returns</b>
           Number of active members associated with bonding device on success, negative value otherwise

   <b>int</b> <b>rte_eth_bond_mac_address_set</b> <b>(uint16_t</b> <b>bonding_port_id,</b> <b>struct</b> <b>rte_ether_addr</b> <b>*</b> <b>mac_addr)</b>
       Set explicit MAC address to use on bonding device and it's members.

       <b>Parameters</b>
           <u>bonding_port_id</u> Port ID of bonding device.
           <u>mac_addr</u> MAC Address to use on bonding device overriding members MAC addresses

       <b>Returns</b>
           0 on success, negative value otherwise

   <b>int</b> <b>rte_eth_bond_mac_address_reset</b> <b>(uint16_t</b> <b>bonding_port_id)</b>
       Reset bonding device to use MAC from primary member on bonding device and it's members.

       <b>Parameters</b>
           <u>bonding_port_id</u> Port ID of bonding device.

       <b>Returns</b>
           0 on success, negative value otherwise

   <b>int</b> <b>rte_eth_bond_xmit_policy_set</b> <b>(uint16_t</b> <b>bonding_port_id,</b> <b>uint8_t</b> <b>policy)</b>
       Set the transmit policy for bonding device to use when it is operating in balance mode, this parameter is
       otherwise ignored in other modes of operation.

       <b>Parameters</b>
           <u>bonding_port_id</u> Port ID of bonding device.
           <u>policy</u> Balance mode transmission policy.

       <b>Returns</b>
           0 on success, negative value otherwise.

   <b>int</b> <b>rte_eth_bond_xmit_policy_get</b> <b>(uint16_t</b> <b>bonding_port_id)</b>
       Get the transmit policy set on bonding device for balance mode operation

       <b>Parameters</b>
           <u>bonding_port_id</u> Port ID of bonding device.

       <b>Returns</b>
           Balance transmit policy on success, negative value otherwise.

   <b>int</b> <b>rte_eth_bond_link_monitoring_set</b> <b>(uint16_t</b> <b>bonding_port_id,</b> <b>uint32_t</b> <b>internal_ms)</b>
       Set the link monitoring frequency (in ms) for monitoring the link status of member devices

       <b>Parameters</b>
           <u>bonding_port_id</u> Port ID of bonding device.
           <u>internal_ms</u> Monitoring interval in milliseconds

       <b>Returns</b>
           0 on success, negative value otherwise.

   <b>int</b> <b>rte_eth_bond_link_monitoring_get</b> <b>(uint16_t</b> <b>bonding_port_id)</b>
       Get the current link monitoring frequency (in ms) for monitoring of the link status of member devices

       <b>Parameters</b>
           <u>bonding_port_id</u> Port ID of bonding device.

       <b>Returns</b>
           Monitoring interval on success, negative value otherwise.

   <b>int</b> <b>rte_eth_bond_link_down_prop_delay_set</b> <b>(uint16_t</b> <b>bonding_port_id,</b> <b>uint32_t</b> <b>delay_ms)</b>
       Set the period in milliseconds for delaying the disabling of a bonding link when the link down status has
       been detected

       <b>Parameters</b>
           <u>bonding_port_id</u> Port ID of bonding device.
           <u>delay_ms</u> Delay period in milliseconds.

       <b>Returns</b>
           0 on success, negative value otherwise.

   <b>int</b> <b>rte_eth_bond_link_down_prop_delay_get</b> <b>(uint16_t</b> <b>bonding_port_id)</b>
       Get the period in milliseconds set for delaying the disabling of a bonding link when the link down status
       has been detected

       <b>Parameters</b>
           <u>bonding_port_id</u> Port ID of bonding device.

       <b>Returns</b>
           Delay period on success, negative value otherwise.

   <b>int</b> <b>rte_eth_bond_link_up_prop_delay_set</b> <b>(uint16_t</b> <b>bonding_port_id,</b> <b>uint32_t</b> <b>delay_ms)</b>
       Set  the  period  in milliseconds for delaying the enabling of a bonding link when the link up status has
       been detected

       <b>Parameters</b>
           <u>bonding_port_id</u> Port ID of bonding device.
           <u>delay_ms</u> Delay period in milliseconds.

       <b>Returns</b>
           0 on success, negative value otherwise.

   <b>int</b> <b>rte_eth_bond_link_up_prop_delay_get</b> <b>(uint16_t</b> <b>bonding_port_id)</b>
       Get the period in milliseconds set for delaying the enabling of a bonding link when the  link  up  status
       has been detected

       <b>Parameters</b>
           <u>bonding_port_id</u> Port ID of bonding device.

       <b>Returns</b>
           Delay period on success, negative value otherwise.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for DPDK from the source code.

DPDK                                             Version 24.11.2                               <u><a href="../man3/rte_eth_bond.h.3.html">rte_eth_bond.h</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>