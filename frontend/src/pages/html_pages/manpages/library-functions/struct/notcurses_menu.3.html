<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>notcurses_menu - operations on ncmenu objects</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnotcurses-core-dev">libnotcurses-core-dev_3.0.7+dfsg.1-1ubuntu8_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       notcurses_menu - operations on ncmenu objects

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;notcurses/notcurses.h&gt;</b>

              struct ncmenu;
              struct ncplane;
              struct notcurses;

              struct ncmenu_section {
                const char* name;   // utf-8 c string
                struct ncmenu_item {
                  const char* desc; // utf-8 menu item, NULL for horizontal separator
                  ncinput shortcut; // shortcut, all should be distinct
                }* items;
                int itemcount;
              };

              #define NCMENU_OPTION_BOTTOM 0x0001 // bottom row (as opposed to top row)
              #define NCMENU_OPTION_HIDING 0x0002 // hide the menu when not unrolled

              typedef struct ncmenu_options {
                struct ncmenu_section* sections; // 'sectioncount' menu_sections
                int sectioncount;         // must be positive
                uint64_t headerchannels;  // styling for header
                uint64_t sectionchannels; // styling for sections
                uint64_t flags;           // bitfield on NCMENU_OPTION_*
              } ncmenu_options;

       <b>struct</b> <b>ncmenu*</b> <b>ncmenu_create(struct</b> <b>notcurses*</b> <u>nc</u><b>,</b> <b>const</b> <b>menu_options*</b> <u>opts</u><b>);</b>

       <b>int</b> <b>ncmenu_unroll(struct</b> <b>ncmenu*</b> <u>n</u><b>,</b> <b>int</b> <u>sectionidx</u><b>);</b>

       <b>int</b> <b>ncmenu_rollup(struct</b> <b>ncmenu*</b> <u>n</u><b>);</b>

       <b>int</b> <b>ncmenu_nextsection(struct</b> <b>ncmenu*</b> <u>n</u><b>);</b>

       <b>int</b> <b>ncmenu_prevsection(struct</b> <b>ncmenu*</b> <u>n</u><b>);</b>

       <b>int</b> <b>ncmenu_nextitem(struct</b> <b>ncmenu*</b> <u>n</u><b>);</b>

       <b>int</b> <b>ncmenu_previtem(struct</b> <b>ncmenu*</b> <u>n</u><b>);</b>

       <b>int</b> <b>ncmenu_item_set_status(struct</b> <b>ncmenu*</b> <u>n</u><b>,</b> <b>const</b> <b>char*</b> <u>section</u><b>,</b> <b>const</b> <b>char*</b> <u>item</u><b>,</b> <b>bool</b> <u>enabled</u><b>);</b>

       <b>const</b> <b>char*</b> <b>ncmenu_selected(const</b> <b>struct</b> <b>ncmenu*</b> <u>n</u><b>,</b> <b>ncinput*</b> <u>ni</u><b>);</b>

       <b>const</b> <b>char*</b> <b>ncmenu_mouse_selected(const</b> <b>struct</b> <b>ncmenu*</b> <u>n</u><b>,</b> <b>const</b> <b>ncinput*</b> <u>click</u><b>,</b> <b>ncinput*</b> <u>ni</u><b>);</b>

       <b>struct</b> <b>ncplane*</b> <b>ncmenu_plane(struct</b> <b>ncmenu*</b> <u>n</u><b>);</b>

       <b>bool</b> <b>ncmenu_offer_input(struct</b> <b>ncmenu*</b> <u>n</u><b>,</b> <b>const</b> <b>ncinput*</b> <u>nc</u><b>);</b>

       <b>void</b> <b>ncmenu_destroy(struct</b> <b>ncmenu*</b> <u>n</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A  notcurses instance supports menu bars on the top or bottom row of a plane.  A menu is composed of sec‐
       tions, which are in turn composed of items.  Either no sections are visible, and the menu is  <u>rolled</u>  <u>up</u>,
       or  exactly  one section is <u>unrolled</u>.  <b>ncmenu_rollup</b> places an ncmenu in the rolled up state.  <b>ncmenu_un‐</b>
       <b>roll</b> rolls up any unrolled section, and unrolls the specified one.  <b>ncmenu_destroy</b> removes  a  menu  bar,
       and frees all associated resources.

       <b>ncmenu_selected</b> return the selected item description, or NULL if no section is unrolled, or no valid item
       is  selected.   <b>ncmenu_mouse_selected</b>  returns  the  item selected by a mouse click (described in <b>click</b>),
       which must be on the actively unrolled section.  In either case, if there is a shortcut for the item  and
       <b>ni</b> is not <b>NULL</b>, <b>ni</b> will be filled in with the shortcut.

       The  menu  can  be  driven  either  entirely by the application, via direct calls to <b>ncmenu_previtem</b>, <b>nc‐</b>
       <b>menu_prevsection</b>, and the like, or <b>ncinput</b> objects can be handed to <b>ncmenu_offer_input</b>.   In  the  latter
       case,  the  menu will largely manage itself.  The application must handle item selection (usually via the
       Enter key and/or mouse click) itself, since the menu cannot arbitrarily call into the  application.   <b>nc‐</b>
       <b>menu_offer_input</b>  will  handle clicks to unroll menu sections, clicks to dismiss the menu, Escape to dis‐
       miss the menu, left and right to change menu sections, and up and down to change menu items (these latter
       are only consumed if there is an actively unrolled section).

       Items can be disabled with <b>ncmenu_item_set_status</b>.  Pass <b>false</b> to disable the item, or <b>true</b> to enable it.
       All items are enabled by default.  A disabled item will not be returned with  <b>ncmenu_mouse_selected</b>,  nor
       reached with <b>ncmenu_nextsection</b> nor <b>ncmenu_prevsection</b>.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>ncmenu_create</b> returns <b>NULL</b> on error, or a pointer to a valid new ncmenu.  Other functions return non-zero
       on error, or zero on success.  Almost all errors are due to invalid parameters.

       <b>ncmenu_offer_input</b> returns <b>true</b> if the menu "consumed" the input, i.e.  found it relevant and took an ac‐
       tion.  Otherwise, <b>false</b> is returned, and the <b>ncinput</b> should be considered irrelevant to the menu.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/notcurses.3.html">notcurses</a>(3)</b>, <b><a href="../man3/notcurses_input.3.html">notcurses_input</a>(3)</b>, <b><a href="../man3/notcurses_plane.3.html">notcurses_plane</a>(3)</b>

</pre><h4><b>AUTHORS</b></h4><pre>
       nick black &lt;<a href="mailto:nickblack@linux.com">nickblack@linux.com</a>&gt;.

                                                     v3.0.7                                    <u><a href="../man3/notcurses_menu.3.html">notcurses_menu</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>