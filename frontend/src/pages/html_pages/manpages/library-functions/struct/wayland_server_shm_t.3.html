<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wayland::server::shm_t - shared memory support</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/waylandpp-dev">waylandpp-dev_1.0.0-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       wayland::server::shm_t - shared memory support

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;wayland-server-protocol.hpp&gt;

       Inherits wayland::server::resource_t.

   <b>Public</b> <b>Member</b> <b>Functions</b>
       std::function&lt; void(<b>shm_pool_t</b>, int, int32_t)&gt; &amp; <b>on_create_pool</b> ()
           create a shm pool
       void <b>format</b> (shm_format const &amp;format, bool post=true)
           pixel format description
       void <b>post_invalid_format</b> (std::string const &amp;msg)
           Post error: buffer format is not known.
       void <b>post_invalid_stride</b> (std::string const &amp;msg)
           Post error: invalid size or stride during pool or buffer creation.
       void <b>post_invalid_fd</b> (std::string const &amp;msg)
           Post error: mmapping the file descriptor failed.
       bool <b>proxy_has_object</b> () const
           Check whether this wrapper actually wraps an object.
       void <b>post_no_memory</b> () const
       uint32_t <b>get_id</b> () const
       client_t <b>get_client</b> () const
       unsigned int <b>get_version</b> () const
       std::string <b>get_class</b> ()

   <b>Static</b> <b>Public</b> <b>Attributes</b>
       static constexpr std::uint32_t <b>format_since_version</b> = 1
           Minimum protocol version required for the <b>format</b> function.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       shared memory support

       A singleton global object that provides support for shared memory.

       Clients can create wl_shm_pool objects using the create_pool request.

       On binding the wl_shm object one or more format events are emitted to inform clients about the valid
       pixel formats that can be used for buffers.

       Definition at line <b>424</b> of file <b>wayland-server-protocol.hpp</b>.

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>void</b> <b>shm_t::format</b> <b>(shm_format</b> <b>const</b> <b>&amp;</b> <b>format,</b> <b>bool</b> <b>post</b> <b>=</b> <b>true)</b>
       pixel format description

       <b>Parameters</b>
           <u>format</u> buffer pixel format

       Informs the client about a valid pixel format that can be used for buffers. Known formats include
       argb8888 and xrgb8888.

       Definition at line <b>1753</b> of file <b>wayland-server-protocol.cpp</b>.

   <b>std::string</b> <b>wayland::server::resource_t::get_class</b> <b>()</b> <b>[inherited]</b>
       Retrieve the interface name (class) of a resource object.

       <b>Returns</b>
           Interface name of the resource object.

   <b>client_t</b> <b>wayland::server::resource_t::get_client</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get the associated client

       <b>Returns</b>
           the client that owns the resource.

   <b>uint32_t</b> <b>wayland::server::resource_t::get_id</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get the internal ID of the resource

       <b>Returns</b>
           the internal ID of the resource

   <b>unsigned</b> <b>int</b> <b>wayland::server::resource_t::get_version</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get interface version

       <b>Returns</b>
           Interface version this resource has been constructed with.

   <b>std::function&lt;</b> <b>void(shm_pool_t,</b> <b>int,</b> <b>int32_t)&gt;</b> <b>&amp;</b> <b>shm_t::on_create_pool</b> <b>()</b>
       create a shm pool

       <b>Parameters</b>
           <u>id</u> pool to create
           <u>fd</u> file descriptor for the pool
           <u>size</u> pool size, in bytes

       Create a new wl_shm_pool object.

       The pool can be used to create shared memory based buffer objects. The server will mmap size bytes of the
       passed file descriptor, to use as backing memory for the pool.

       Definition at line <b>1747</b> of file <b>wayland-server-protocol.cpp</b>.

   <b>void</b> <b>shm_t::post_invalid_fd</b> <b>(std::string</b> <b>const</b> <b>&amp;</b> <b>msg)</b>
       Post error: mmapping the file descriptor failed.

       Definition at line <b>1768</b> of file <b>wayland-server-protocol.cpp</b>.

   <b>void</b> <b>shm_t::post_invalid_format</b> <b>(std::string</b> <b>const</b> <b>&amp;</b> <b>msg)</b>
       Post error: buffer format is not known.

       Definition at line <b>1758</b> of file <b>wayland-server-protocol.cpp</b>.

   <b>void</b> <b>shm_t::post_invalid_stride</b> <b>(std::string</b> <b>const</b> <b>&amp;</b> <b>msg)</b>
       Post error: invalid size or stride during pool or buffer creation.

       Definition at line <b>1763</b> of file <b>wayland-server-protocol.cpp</b>.

   <b>void</b> <b>wayland::server::resource_t::post_no_memory</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Post 'not enough memory' error to the client

       If the compositor has not enough memory to fulfill a certail request of the client, this function can be
       called to notify the client of this circumstance.

   <b>bool</b> <b>wayland::server::resource_t::proxy_has_object</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Check whether this wrapper actually wraps an object.

       <b>Returns</b>
           true if there is an underlying object, false if this wrapper is empty

</pre><h4><b>Member</b> <b>Data</b> <b>Documentation</b></h4><pre>
   <b>constexpr</b> <b>std::uint32_t</b> <b>wayland::server::shm_t::format_since_version</b> <b>=</b> <b>1</b> <b>[static],</b>  <b>[constexpr]</b>
       Minimum protocol version required for the <b>format</b> function.

       Definition at line <b>476</b> of file <b>wayland-server-protocol.hpp</b>.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for Wayland++ from the source code.

Version 1.0.0                                Wed May 1 2024 17:27:19                   <u>wayland::server::<a href="../man3/shm_t.3.html">shm_t</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>