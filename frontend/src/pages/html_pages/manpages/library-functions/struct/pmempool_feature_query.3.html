<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmempool_feature_query(),  pmempool_feature_enable(),  pmempool_feature_disable()  - toggle or query pool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpmempool-dev">libpmempool-dev_1.13.1-1.1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmempool_feature_query</b>(),  <b>pmempool_feature_enable</b>(),  <b>pmempool_feature_disable</b>()  - toggle or query pool
       set features

</pre><h4><b>SYNOPSIS</b></h4><pre>
              #include &lt;libpmempool.h&gt;

              int pmempool_feature_query(const char *path, enum pmempool_feature feature, unsigned flags);

              int pmempool_feature_enable(const char *path, enum pmempool_feature feature, unsigned flags);

              int pmempool_feature_disable(const char *path, enum pmempool_feature feature, unsigned flags);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <u>feature</u> argument accepts following values:

       • <b>PMEMPOOL_FEAT_SINGLEHDR</b> - only the first part in each replica contains the pool part internal metadata.
         This value can be used only with <b>pmempool_feature_query</b>().  It can not be enabled or disabled.  For de‐
         tails see <b><a href="../man5/poolset.5.html">poolset</a></b>(5).

       • <b>PMEMPOOL_FEAT_CKSUM_2K</b> - only the first 2KiB of pool part internal metadata is checksummed.  Other fea‐
         tures may depend on this one to store additional metadata in otherwise unused second  2KiB  part  of  a
         header.  When <b>PMEMPOOL_FEAT_CKSUM_2K</b> is disabled whole 4KiB is checksummed.

       • <b>PMEMPOOL_FEAT_SHUTDOWN_STATE</b>  - enables additional check performed during pool open which verifies pool
         consistency in the presence of dirty shutdown.  <b>PMEMPOOL_FEAT_CKSUM_2K</b> has to be enabled prior to <b>PMEM‐</b>
         <b>POOL_FEAT_SHUTDOWN_STATE</b> otherwise enabling <b>PMEMPOOL_FEAT_SHUTDOWN_STATE</b> will fail.

       • <b>PMEMPOOL_FEAT_CHECK_BAD_BLOCKS</b> - enables checking bad blocks performed during opening a pool and fixing
         bad blocks performed by pmempool-sync during syncing a pool.  For details see <b><a href="../man1/pmempool-feature.1.html">pmempool-feature</a></b>(1).

       The <b>pmempool_feature_query</b>() function checks state of <u>feature</u> in the pool set pointed by <u>path</u>.

       The <b>pmempool_feature_enable</b>() function enables <u>feature</u> in the pool set pointed by <u>path</u>.

       The <b>pmempool_feature_disable</b>() function disables <u>feature</u> in the pool set pointed by <u>path</u>.

</pre><h4><b>COMPATIBILITY</b></h4><pre>
       Poolsets with features not defined in this document (e.g. enabled by the newer software version) are  not
       supported.

</pre><h4><b>DISCLAIMER</b></h4><pre>
       <b>pmempool_feature_query</b>(), <b>pmempool_feature_enable</b>() and <b>pmempool_feature_disable</b>() are not fail safe.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On  success,  <b>pmempool_feature_query</b>() returns 0 if <u>feature</u> is disabled or 1 if it is enabled.  On error,
       it returns -1 and sets <u>errno</u> accordingly.

       On success, <b>pmempool_feature_enable</b>() returns 0.  On error, it returns -1 and sets <u>errno</u> accordingly.

       On success, <b>pmempool_feature_disable</b>() returns 0.  On error, it returns -1 and sets <u>errno</u> accordingly.

       If non zero <u>flags</u> are provided <b>errno</b> is set to EINVAL and function returns -1.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/poolset.5.html">poolset</a></b>(5) and <b>&lt;https://pmem.io&gt;</b>
</pre>
 </div>
</div></section>
</div>
</body>
</html>