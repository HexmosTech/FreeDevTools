<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tcl_HandleAlloc,    Tcl_HandleFree,   Tcl_HandleTblInit,   Tcl_HandleTblRelease,   Tcl_HandleTblUseCount,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tclx8.4-doc">tclx8.4-doc_8.4.1-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tcl_HandleAlloc,    Tcl_HandleFree,   Tcl_HandleTblInit,   Tcl_HandleTblRelease,   Tcl_HandleTblUseCount,
       Tcl_HandleWalk, Tcl_HandleXlate - Dynamic, handle addressable tables.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;tclExtend.h&gt;

       void_pt
       Tcl_HandleTblInit (const char *handleBase,
                          int         entrySize,
                          int         initEntries);

       int
       Tcl_HandleTblUseCount (void_pt  headerPtr,
                              int      amount);

       void
       Tcl_HandleTblRelease (void_pt headerPtr);

       void_pt
       Tcl_HandleAlloc (void_pt   headerPtr,
                        char     *handlePtr);

       void_pt
       Tcl_HandleXlate (Tcl_Interp *interp,
                        void_pt     headerPtr,
                        const char *handle);

       void_pt
       Tcl_HandleWalk (void_pt   headerPtr,
                       int      *walkKeyPtr);

       void
       Tcl_WalkKeyToHandle (void_pt   headerPtr,
                            int       walkKey,
                            char     *handlePtr);

       void
       Tcl_HandleFree (void_pt headerPtr,
                       void_pt entryPtr);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The Tcl handle facility provides a way to manage table entries that may be referenced by a textual handle
       from Tcl code.  This is provided for applications that need to create data  structures  in  one  command,
       return  a  reference (i.e. pointer) to that particular data structure and then access that data structure
       in other commands. An example application is file handles.

       A handle consists of a base name, which is some unique, meaningful name, such as  `<b>file</b>'  and  a  numeric
       value  appended  to  the base name (e.g. `file3').  The handle facility is designed to provide a standard
       mechanism for building Tcl commands that allocate and access table entries based on an entry index.   The
       tables are expanded when needed, consequently pointers to entries should not be kept, as they will become
       invalid  when  the  table  is  expanded.   If the table entries are large or pointers must be kept to the
       entries, then the the entries should be allocated separately and pointers kept in the  handle  table.   A
       use  count is kept on the table.  This use count is intended to determine when a table shared by multiple
       commands is to be release.

   <b>Tcl_HandleTblInit</b>
       Create and initialize a Tcl dynamic handle table.  The use count on the table is set to one.

       Parameters:
         <b>o</b> <u>handleBase</u> - The base name of the handle, the handle will be returned in the form "baseNN", where  NN
         is the table entry number.
         <b>o</b> <u>entrySize</u> - The size of an entry, in bytes.
         <b>o</b> <u>initEntries</u> - Initial size of the table, in entries.

       Returns:
         A pointer to the table header.

   <b>Tcl_HandleTblUseCount</b>
       Alter  the handle table use count by the specified amount, which can be positive or negative.  Amount may
       be zero to retrieve the use count.

       Parameters:
         <b>o</b> <u>headerPtr</u> - Pointer to the table header.
         <b>o</b> <u>amount</u> - The amount to alter the use count by.

       Returns:
         The resulting use count.

   <b>Tcl_HandleTblRelease</b>
       Decrement the use count on a Tcl dynamic handle table.  If the count  goes  to  zero  or  negative,  then
       release the table.

       Parameters:
         <b>o</b> <u>headerPtr</u> - Pointer to the table header.

   <b>Tcl_HandleAlloc</b>
       Allocate an entry and associate a handle with it.

       Parameters:
         <b>o</b> <u>headerPtr</u> - A pointer to the table header.
         <b>o</b> <u>handlePtr</u> - Buffer to return handle in. It must be big enough to hold the name.

       Returns:
         A pointer to the allocated entry (user part).

   <b>Tcl_HandleXlate</b>
       Translate a handle to a entry pointer.

       Parameters:
         <b>o</b> <u>interp</u> - A error message may be returned in result.
         <b>o</b> <u>headerPtr</u> - A pointer to the table header.

         o <u>handle</u> - The handle assigned to the entry.

       Returns:
         A pointer to the entry, or NULL if an error occurred.

   <b>Tcl_HandleWalk</b>
       Walk  through  and  find every allocated entry in a table.  Entries may be deallocated during a walk, but
       should not be allocated.

       Parameters:
         <b>o</b> <u>headerPtr</u> - A pointer to the table header.
         <b>o</b> <u>walkKeyPtr</u> - Pointer to a variable to use to keep track of the place  in  the  table.   The  variable
         should be initialized to -1 before the first call.
       Returns:
         A pointer to the next allocated entry, or NULL if there are not more.

   <b>Tcl_WalkKeyToHandle</b>
       Convert  a  walk  key,  as returned from a call to Tcl_HandleWalk into a handle.  The Tcl_HandleWalk must
       have succeeded.

       Parameters:
         <b>o</b> <u>headerPtr</u> - A pointer to the table header.
         <b>o</b> <u>walkKey</u> - The walk key.
         <b>o</b> <u>handlePtr</u> - Buffer to return handle in. It must be big enough to hold the name.

   <b>Tcl_HandleFree</b>
       Frees a handle table entry.

       Parameters:
         <b>o</b> <u>headerPtr</u> - A pointer to the table header.
         <b>o</b> <u>entryPtr</u> - Entry to free.

Tcl                                                                                               <u><a href="../man3tclx/Handles.3tclx.html">Handles</a></u>(3tclx)
</pre>
 </div>
</div></section>
</div>
</body>
</html>