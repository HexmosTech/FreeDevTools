<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LibrarySetup - Library setup [DEPRECATED]</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnetfilter-queue-doc">libnetfilter-queue-doc_1.0.5-4build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       LibrarySetup - Library setup [DEPRECATED]

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Functions</b>
       struct nfq_handle * <b>nfq_open</b> (void)
       int <b>nfq_close</b> (struct nfq_handle *h)
       int <b>nfq_bind_pf</b> (struct nfq_handle *h, uint16_t pf)
       int <b>nfq_unbind_pf</b> (struct nfq_handle *h, uint16_t pf)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Library initialisation is made in two steps.

       First step is to call <b>nfq_open()</b> to open a NFQUEUE handler.

       Second step is to tell the kernel that userspace queueing is handle by NFQUEUE for the selected protocol.
       This is made by calling <b>nfq_unbind_pf()</b> and <b>nfq_bind_pf()</b> with protocol information. The idea behind this
       is to enable simultaneously loaded modules to be used for queuing.

       Here's a little code snippet that bind with AF_INET:

               h = nfq_open();
               if (!h) {
                       fprintf(stderr, 'error during nfq_open()\n');
                       <a href="../man1/exit.1.html">exit</a>(1);
               }

               printf('unbinding existing nf_queue handler for AF_INET (if any)\n');
               if (nfq_unbind_pf(h, AF_INET) &lt; 0) {
                       fprintf(stderr, 'error during nfq_unbind_pf()\n');
                       <a href="../man1/exit.1.html">exit</a>(1);
               }

               printf('binding nfnetlink_queue as nf_queue handler for AF_INET\n');
               if (nfq_bind_pf(h, AF_INET) &lt; 0) {
                       fprintf(stderr, 'error during nfq_bind_pf()\n');
                       <a href="../man1/exit.1.html">exit</a>(1);
               }

        Once this is done, you can setup and use a <b>Queue</b>.

       When the program has finished with libnetfilter_queue, it has to call the <b>nfq_close()</b> function to free
       all associated resources.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b> <b>nfq_bind_pf</b> <b>(struct</b> <b>nfq_handle</b> <b>*</b> <b>h,</b> <b>uint16_t</b> <b>pf)</b>
       nfq_bind_pf - bind a nfqueue handler to a given protocol family

       <b>Parameters</b>
           <u>h</u> Netfilter queue connection handle obtained via call to <b>nfq_open()</b>
           <u>pf</u> protocol family to bind to nfqueue handler obtained from <b>nfq_open()</b>

       Binds the given queue connection handle to process packets belonging to the given protocol family (ie.
       PF_INET, PF_INET6, etc). This call is obsolete, Linux kernels from 3.8 onwards ignore it.

       <b>Returns</b>
           integer inferior to 0 in case of failure

       Definition at line <b>474</b> of file <b>libnetfilter_queue.c</b>.

   <b>int</b> <b>nfq_close</b> <b>(struct</b> <b>nfq_handle</b> <b>*</b> <b>h)</b>
       nfq_close - close a nfqueue handler

       <b>Parameters</b>
           <u>h</u> Netfilter queue connection handle obtained via call to <b>nfq_open()</b>

       This function closes the nfqueue handler and free associated resources.

       <b>Returns</b>
           0 on success, non-zero on failure.

       Definition at line <b>452</b> of file <b>libnetfilter_queue.c</b>.

   <b>struct</b> <b>nfq_handle</b> <b>*</b> <b>nfq_open</b> <b>(void)</b>
       nfq_open - open a nfqueue handler

       This function obtains a netfilter queue connection handle. When you are finished with the handle returned
       by this function, you should destroy it by calling <b>nfq_close()</b>. A new netlink connection is obtained
       internally and associated with the queue connection handle returned.

       <b>Returns</b>
           a pointer to a new queue handle or NULL on failure.

       Definition at line <b>363</b> of file <b>libnetfilter_queue.c</b>.

   <b>int</b> <b>nfq_unbind_pf</b> <b>(struct</b> <b>nfq_handle</b> <b>*</b> <b>h,</b> <b>uint16_t</b> <b>pf)</b>
       nfq_unbind_pf - unbind nfqueue handler from a protocol family

       <b>Parameters</b>
           <u>h</u> Netfilter queue connection handle obtained via call to <b>nfq_open()</b>
           <u>pf</u> protocol family to unbind family from

       Unbinds the given queue connection handle from processing packets belonging to the given protocol family.

       This call is obsolete, Linux kernels from 3.8 onwards ignore it.

       Definition at line <b>490</b> of file <b>libnetfilter_queue.c</b>.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for libnetfilter_queue from the source code.

libnetfilter_queue                                Version 1.0.5                                  <u><a href="../man3/LibrarySetup.3.html">LibrarySetup</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>