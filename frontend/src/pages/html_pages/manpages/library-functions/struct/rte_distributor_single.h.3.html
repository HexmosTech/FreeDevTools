<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rte_distributor_single.h</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dpdk-doc">dpdk-doc_24.11.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rte_distributor_single.h

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Macros</b>
       #define <b>RTE_DISTRIBUTOR_NAMESIZE</b>   32

   <b>Functions</b>
       struct rte_distributor_single * <b>rte_distributor_create_single</b> (const char *name, unsigned int socket_id,
           unsigned int num_workers)
       int <b>rte_distributor_process_single</b> (struct rte_distributor_single *d, struct <b>rte_mbuf</b> **mbufs, unsigned
           int num_mbufs)
       int <b>rte_distributor_returned_pkts_single</b> (struct rte_distributor_single *d, struct <b>rte_mbuf</b> **mbufs,
           unsigned int max_mbufs)
       int <b>rte_distributor_flush_single</b> (struct rte_distributor_single *d)
       void <b>rte_distributor_clear_returns_single</b> (struct rte_distributor_single *d)
       struct <b>rte_mbuf</b> * <b>rte_distributor_get_pkt_single</b> (struct rte_distributor_single *d, unsigned int
           worker_id, struct <b>rte_mbuf</b> *oldpkt)
       int <b>rte_distributor_return_pkt_single</b> (struct rte_distributor_single *d, unsigned int worker_id, struct
           <b>rte_mbuf</b> *mbuf)
       void <b>rte_distributor_request_pkt_single</b> (struct rte_distributor_single *d, unsigned int worker_id, struct
           <b>rte_mbuf</b> *oldpkt)
       struct <b>rte_mbuf</b> * <b>rte_distributor_poll_pkt_single</b> (struct rte_distributor_single *d, unsigned int
           worker_id)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       RTE distributor

       The distributor is a component which is designed to pass packets one-at-a-time to workers, with dynamic
       load balancing.

       Definition in file <b>rte_distributor_single.h</b>.

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>RTE_DISTRIBUTOR_NAMESIZE</b>   <b>32</b>
       Length of name for instance

       Definition at line <b>20</b> of file <b>rte_distributor_single.h</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>struct</b> <b>rte_distributor_single</b> <b>*</b> <b>rte_distributor_create_single</b> <b>(const</b> <b>char</b> <b>*</b> <b>name,</b> <b>unsigned</b> <b>int</b> <b>socket_id,</b>
       <b>unsigned</b> <b>int</b> <b>num_workers)</b>
       Function to create a new distributor instance

       Reserves the memory needed for the distributor operation and initializes the distributor to work with the
       configured number of workers.

       <b>Parameters</b>
           <u>name</u> The name to be given to the distributor instance.
           <u>socket_id</u> The NUMA node on which the memory is to be allocated
           <u>num_workers</u> The maximum number of workers that will request packets from this distributor

       <b>Returns</b>
           The newly created distributor instance

   <b>int</b> <b>rte_distributor_process_single</b> <b>(struct</b> <b>rte_distributor_single</b> <b>*</b> <b>d,</b> <b>struct</b> <b>rte_mbuf</b> <b>**</b> <b>mbufs,</b> <b>unsigned</b> <b>int</b>
       <b>num_mbufs)</b>
       Process a set of packets by distributing them among workers that request packets. The distributor will
       ensure that no two packets that have the same flow id, or tag, in the mbuf will be processed at the same
       time.

       The user is advocated to set tag for each mbuf before calling this function. If user doesn't set the tag,
       the tag value can be various values depending on driver implementation and configuration.

       This is not multi-thread safe and should only be called on a single lcore.

       <b>Parameters</b>
           <u>d</u> The distributor instance to be used
           <u>mbufs</u> The mbufs to be distributed
           <u>num_mbufs</u> The number of mbufs in the mbufs array

       <b>Returns</b>
           The number of mbufs processed.

   <b>int</b> <b>rte_distributor_returned_pkts_single</b> <b>(struct</b> <b>rte_distributor_single</b> <b>*</b> <b>d,</b> <b>struct</b> <b>rte_mbuf</b> <b>**</b> <b>mbufs,</b>
       <b>unsigned</b> <b>int</b> <b>max_mbufs)</b>
       Get a set of mbufs that have been returned to the distributor by workers

       This should only be called on the same lcore as <b>rte_distributor_process()</b>

       <b>Parameters</b>
           <u>d</u> The distributor instance to be used
           <u>mbufs</u> The mbufs pointer array to be filled in
           <u>max_mbufs</u> The size of the mbufs array

       <b>Returns</b>
           The number of mbufs returned in the mbufs array.

   <b>int</b> <b>rte_distributor_flush_single</b> <b>(struct</b> <b>rte_distributor_single</b> <b>*</b> <b>d)</b>
       Flush the distributor component, so that there are no in-flight or backlogged packets awaiting processing

       This should only be called on the same lcore as <b>rte_distributor_process()</b>

       <b>Parameters</b>
           <u>d</u> The distributor instance to be used

       <b>Returns</b>
           The number of queued/in-flight packets that were completed by this call.

   <b>void</b> <b>rte_distributor_clear_returns_single</b> <b>(struct</b> <b>rte_distributor_single</b> <b>*</b> <b>d)</b>
       Clears the array of returned packets used as the source for the <b>rte_distributor_returned_pkts()</b> API call.

       This should only be called on the same lcore as <b>rte_distributor_process()</b>

       <b>Parameters</b>
           <u>d</u> The distributor instance to be used

   <b>struct</b> <b>rte_mbuf</b> <b>*</b> <b>rte_distributor_get_pkt_single</b> <b>(struct</b> <b>rte_distributor_single</b> <b>*</b> <b>d,</b> <b>unsigned</b> <b>int</b> <b>worker_id,</b>
       <b>struct</b> <b>rte_mbuf</b> <b>*</b> <b>oldpkt)</b>
       API called by a worker to get a new packet to process. Any previous packet given to the worker is assumed
       to have completed processing, and may be optionally returned to the distributor via the oldpkt parameter.

       <b>Parameters</b>
           <u>d</u> The distributor instance to be used
           <u>worker_id</u> The worker instance number to use - must be less that num_workers passed at distributor
           creation time.
           <u>oldpkt</u> The previous packet, if any, being processed by the worker

       <b>Returns</b>
           A new packet to be processed by the worker thread.

   <b>int</b> <b>rte_distributor_return_pkt_single</b> <b>(struct</b> <b>rte_distributor_single</b> <b>*</b> <b>d,</b> <b>unsigned</b> <b>int</b> <b>worker_id,</b> <b>struct</b>
       <b>rte_mbuf</b> <b>*</b> <b>mbuf)</b>
       API called by a worker to return a completed packet without requesting a new packet, for example, because
       a worker thread is shutting down

       <b>Parameters</b>
           <u>d</u> The distributor instance to be used
           <u>worker_id</u> The worker instance number to use - must be less that num_workers passed at distributor
           creation time.
           <u>mbuf</u> The previous packet being processed by the worker

   <b>void</b> <b>rte_distributor_request_pkt_single</b> <b>(struct</b> <b>rte_distributor_single</b> <b>*</b> <b>d,</b> <b>unsigned</b> <b>int</b> <b>worker_id,</b> <b>struct</b>
       <b>rte_mbuf</b> <b>*</b> <b>oldpkt)</b>
       API called by a worker to request a new packet to process. Any previous packet given to the worker is
       assumed to have completed processing, and may be optionally returned to the distributor via the oldpkt
       parameter. Unlike <b>rte_distributor_get_pkt()</b>, this function does not wait for a new packet to be provided
       by the distributor.

       NOTE: after calling this function, <b>rte_distributor_poll_pkt()</b> should be used to poll for the packet
       requested. The <b>rte_distributor_get_pkt()</b> API should <u>not</u> be used to try and retrieve the new packet.

       <b>Parameters</b>
           <u>d</u> The distributor instance to be used
           <u>worker_id</u> The worker instance number to use - must be less that num_workers passed at distributor
           creation time.
           <u>oldpkt</u> The previous packet, if any, being processed by the worker

   <b>struct</b> <b>rte_mbuf</b> <b>*</b> <b>rte_distributor_poll_pkt_single</b> <b>(struct</b> <b>rte_distributor_single</b> <b>*</b> <b>d,</b> <b>unsigned</b> <b>int</b> <b>worker_id)</b>

       API called by a worker to check for a new packet that was previously requested by a call to
       <b>rte_distributor_request_pkt()</b>. It does not wait for the new packet to be available, but returns NULL if
       the request has not yet been fulfilled by the distributor.

       <b>Parameters</b>
           <u>d</u> The distributor instance to be used
           <u>worker_id</u> The worker instance number to use - must be less that num_workers passed at distributor
           creation time.

       <b>Returns</b>
           A new packet to be processed by the worker thread, or NULL if no packet is yet available.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for DPDK from the source code.

DPDK                                             Version 24.11.2                     <u><a href="../man3/rte_distributor_single.h.3.html">rte_distributor_single.h</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>