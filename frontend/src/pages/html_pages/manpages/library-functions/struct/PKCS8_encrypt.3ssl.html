<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PKCS8_decrypt, PKCS8_decrypt_ex, PKCS8_encrypt, PKCS8_encrypt_ex, PKCS8_set0_pbe, PKCS8_set0_pbe_ex -</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       PKCS8_decrypt, PKCS8_decrypt_ex, PKCS8_encrypt, PKCS8_encrypt_ex, PKCS8_set0_pbe, PKCS8_set0_pbe_ex -
       PKCS8 encrypt/decrypt functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/x509.h&gt;

        PKCS8_PRIV_KEY_INFO *PKCS8_decrypt(const X509_SIG *p8, const char *pass,
                                           int passlen);
        PKCS8_PRIV_KEY_INFO *PKCS8_decrypt_ex(const X509_SIG *p8, const char *pass,
                                              int passlen, OSSL_LIB_CTX *ctx,
                                              const char *propq);
        X509_SIG *PKCS8_encrypt(int pbe_nid, const EVP_CIPHER *cipher,
                                const char *pass, int passlen, unsigned char *salt,
                                int saltlen, int iter, PKCS8_PRIV_KEY_INFO *p8);
        X509_SIG *PKCS8_encrypt_ex(int pbe_nid, const EVP_CIPHER *cipher,
                                   const char *pass, int passlen, unsigned char *salt,
                                   int saltlen, int iter, PKCS8_PRIV_KEY_INFO *p8,
                                   OSSL_LIB_CTX *ctx, const char *propq);
        X509_SIG *PKCS8_set0_pbe(const char *pass, int passlen,
                                PKCS8_PRIV_KEY_INFO *p8inf, X509_ALGOR *pbe);
        X509_SIG *PKCS8_set0_pbe_ex(const char *pass, int passlen,
                                    PKCS8_PRIV_KEY_INFO *p8inf, X509_ALGOR *pbe,
                                    OSSL_LIB_CTX *ctx);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>PKCS8_encrypt()</b> and <b>PKCS8_encrypt_ex()</b> perform encryption of an object <u>p8</u> using the password <u>pass</u> of
       length <u>passlen</u>, salt <u>salt</u> of length <u>saltlen</u> and iteration count <u>iter</u>.  The resulting <b>X509_SIG</b> contains
       the encoded algorithm parameters and encrypted key.

       <b>PKCS8_decrypt()</b> and <b>PKCS8_decrypt_ex()</b> perform decryption of an <b>X509_SIG</b> in <u>p8</u> using the password <u>pass</u> of
       length <u>passlen</u> along with algorithm parameters obtained from the <u>p8</u>.

       <b>PKCS8_set0_pbe()</b> and <b>PKCS8_set0_pbe_ex()</b> perform encryption of the <u>p8inf</u> using the password <u>pass</u> of
       length <u>passlen</u> and parameters <u>pbe</u>.

       Functions ending in <b>_ex()</b> allow for a library context <u>ctx</u> and property query <u>propq</u> to be used to select
       algorithm implementations.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>PKCS8_encrypt()</b>, <b>PKCS8_encrypt_ex()</b>, <b>PKCS8_set0_pbe()</b> and <b>PKCS8_set0_pbe_ex()</b> return an encrypted key in
       a <b>X509_SIG</b> structure or NULL if an error occurs.

       <b>PKCS8_decrypt()</b> and <b>PKCS8_decrypt_ex()</b> return a <b>PKCS8_PRIV_KEY_INFO</b> or NULL if an error occurs.

</pre><h4><b>CONFORMING</b> <b>TO</b></h4><pre>
       IETF RFC 7292 (&lt;https://tools.ietf.org/html/rfc7292&gt;)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/crypto.7.html">crypto</a></b>(7)

</pre><h4><b>HISTORY</b></h4><pre>
       <b>PKCS8_decrypt_ex()</b>, <b>PKCS8_encrypt_ex()</b> and <b>PKCS8_set0_pbe_ex()</b> were added in OpenSSL 3.0.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2021 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                                <u><a href="../man3SSL/PKCS8_ENCRYPT.3SSL.html">PKCS8_ENCRYPT</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>