<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rte_graph_worker_common.h</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dpdk-doc">dpdk-doc_24.11.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rte_graph_worker_common.h

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/assert.h">assert.h</a>&gt;
       #include &lt;stdalign.h&gt;
       #include &lt;stddef.h&gt;
       #include &lt;rte_common.h&gt;
       #include &lt;rte_cycles.h&gt;
       #include &lt;rte_prefetch.h&gt;
       #include &lt;rte_memcpy.h&gt;
       #include &lt;rte_memory.h&gt;
       #include 'rte_graph.h'

   <b>Data</b> <b>Structures</b>
       struct <b>rte_node::__rte_cache_aligned</b>

   <b>Macros</b>
       #define <b>RTE_GRAPH_MODEL_RTC</b>   0
       #define <b>RTE_GRAPH_MODEL_MCORE_DISPATCH</b>   1
       #define <b>RTE_GRAPH_MODEL_DEFAULT</b>   <b>RTE_GRAPH_MODEL_RTC</b>

   <b>Functions</b>
       static void <b>rte_node_enqueue</b> (struct rte_graph *graph, struct rte_node *node, <b>rte_edge_t</b> next, void
           **objs, uint16_t nb_objs)
       static void <b>rte_node_enqueue_x1</b> (struct rte_graph *graph, struct rte_node *node, <b>rte_edge_t</b> next, void
           *obj)
       static void <b>rte_node_enqueue_x2</b> (struct rte_graph *graph, struct rte_node *node, <b>rte_edge_t</b> next, void
           *obj0, void *obj1)
       static void <b>rte_node_enqueue_x4</b> (struct rte_graph *graph, struct rte_node *node, <b>rte_edge_t</b> next, void
           *obj0, void *obj1, void *obj2, void *obj3)
       static void <b>rte_node_enqueue_next</b> (struct rte_graph *graph, struct rte_node *node, <b>rte_edge_t</b> *nexts,
           void **objs, uint16_t nb_objs)
       static void ** <b>rte_node_next_stream_get</b> (struct rte_graph *graph, struct rte_node *node, <b>rte_edge_t</b> next,
           uint16_t nb_objs)
       static void <b>rte_node_next_stream_put</b> (struct rte_graph *graph, struct rte_node *node, <b>rte_edge_t</b> next,
           uint16_t idx)
       static void <b>rte_node_next_stream_move</b> (struct rte_graph *graph, struct rte_node *src, <b>rte_edge_t</b> next)
       bool <b>rte_graph_model_is_valid</b> (uint8_t model)
       int <b>rte_graph_worker_model_set</b> (uint8_t model)
       uint8_t <b>rte_graph_worker_model_get</b> (struct rte_graph *graph)
       static <b>__rte_always_inline</b> uint8_t <b>rte_graph_worker_model_no_check_get</b> (struct rte_graph *graph)
       static __rte_experimental void <b>rte_node_xstat_increment</b> (struct rte_node *node, uint16_t xstat_id,
           uint64_t value)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       This API allows a worker thread to walk over a graph and nodes to create, process, enqueue and move
       streams of objects to the next nodes.

       Definition in file <b>rte_graph_worker_common.h</b>.

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>RTE_GRAPH_MODEL_RTC</b>   <b>0</b>
       Graph worker models Run-To-Completion model. It is the default model.

       Definition at line <b>33</b> of file <b>rte_graph_worker_common.h</b>.

   <b>#define</b> <b>RTE_GRAPH_MODEL_MCORE_DISPATCH</b>   <b>1</b>
       Dispatch model to support cross-core dispatching within core affinity.

       Definition at line <b>35</b> of file <b>rte_graph_worker_common.h</b>.

   <b>#define</b> <b>RTE_GRAPH_MODEL_DEFAULT</b>   <b>RTE_GRAPH_MODEL_RTC</b>
       Default graph model.

       Definition at line <b>36</b> of file <b>rte_graph_worker_common.h</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>static</b> <b>void</b> <b>rte_node_enqueue</b> <b>(struct</b> <b>rte_graph</b> <b>*</b> <b>graph,</b> <b>struct</b> <b>rte_node</b> <b>*</b> <b>node,</b> <b>rte_edge_t</b> <b>next,</b> <b>void</b> <b>**</b>
       <b>objs,</b> <b>uint16_t</b> <b>nb_objs)</b> <b>[inline],</b>  <b>[static]</b>
       Enqueue the objs to next node for further processing and set the next node to pending state in the
       circular buffer.

       <b>Parameters</b>
           <u>graph</u> Graph pointer returned from <b>rte_graph_lookup()</b>.
           <u>node</u> Current node pointer.
           <u>next</u> Relative next node index to enqueue objs.
           <u>objs</u> Objs to enqueue.
           <u>nb_objs</u> Number of objs to enqueue.

       Definition at line <b>307</b> of file <b>rte_graph_worker_common.h</b>.

   <b>static</b> <b>void</b> <b>rte_node_enqueue_x1</b> <b>(struct</b> <b>rte_graph</b> <b>*</b> <b>graph,</b> <b>struct</b> <b>rte_node</b> <b>*</b> <b>node,</b> <b>rte_edge_t</b> <b>next,</b> <b>void</b> <b>*</b>
       <b>obj)</b> <b>[inline],</b>  <b>[static]</b>
       Enqueue only one obj to next node for further processing and set the next node to pending state in the
       circular buffer.

       <b>Parameters</b>
           <u>graph</u> Graph pointer returned from <b>rte_graph_lookup()</b>.
           <u>node</u> Current node pointer.
           <u>next</u> Relative next node index to enqueue objs.
           <u>obj</u> Obj to enqueue.

       Definition at line <b>333</b> of file <b>rte_graph_worker_common.h</b>.

   <b>static</b> <b>void</b> <b>rte_node_enqueue_x2</b> <b>(struct</b> <b>rte_graph</b> <b>*</b> <b>graph,</b> <b>struct</b> <b>rte_node</b> <b>*</b> <b>node,</b> <b>rte_edge_t</b> <b>next,</b> <b>void</b> <b>*</b>
       <b>obj0,</b> <b>void</b> <b>*</b> <b>obj1)</b> <b>[inline],</b>  <b>[static]</b>
       Enqueue only two objs to next node for further processing and set the next node to pending state in the
       circular buffer. Same as rte_node_enqueue_x1 but enqueue two objs.

       <b>Parameters</b>
           <u>graph</u> Graph pointer returned from <b>rte_graph_lookup()</b>.
           <u>node</u> Current node pointer.
           <u>next</u> Relative next node index to enqueue objs.
           <u>obj0</u> Obj to enqueue.
           <u>obj1</u> Obj to enqueue.

       Definition at line <b>362</b> of file <b>rte_graph_worker_common.h</b>.

   <b>static</b> <b>void</b> <b>rte_node_enqueue_x4</b> <b>(struct</b> <b>rte_graph</b> <b>*</b> <b>graph,</b> <b>struct</b> <b>rte_node</b> <b>*</b> <b>node,</b> <b>rte_edge_t</b> <b>next,</b> <b>void</b> <b>*</b>
       <b>obj0,</b> <b>void</b> <b>*</b> <b>obj1,</b> <b>void</b> <b>*</b> <b>obj2,</b> <b>void</b> <b>*</b> <b>obj3)</b> <b>[inline],</b>  <b>[static]</b>
       Enqueue only four objs to next node for further processing and set the next node to pending state in the
       circular buffer. Same as rte_node_enqueue_x1 but enqueue four objs.

       <b>Parameters</b>
           <u>graph</u> Graph pointer returned from <b>rte_graph_lookup()</b>.
           <u>node</u> Current node pointer.
           <u>next</u> Relative next node index to enqueue objs.
           <u>obj0</u> 1st obj to enqueue.
           <u>obj1</u> 2nd obj to enqueue.
           <u>obj2</u> 3rd obj to enqueue.
           <u>obj3</u> 4th obj to enqueue.

       Definition at line <b>396</b> of file <b>rte_graph_worker_common.h</b>.

   <b>static</b> <b>void</b> <b>rte_node_enqueue_next</b> <b>(struct</b> <b>rte_graph</b> <b>*</b> <b>graph,</b> <b>struct</b> <b>rte_node</b> <b>*</b> <b>node,</b> <b>rte_edge_t</b> <b>*</b> <b>nexts,</b> <b>void</b>
       <b>**</b> <b>objs,</b> <b>uint16_t</b> <b>nb_objs)</b> <b>[inline],</b>  <b>[static]</b>
       Enqueue objs to multiple next nodes for further processing and set the next nodes to pending state in the
       circular buffer. objs[i] will be enqueued to nexts[i].

       <b>Parameters</b>
           <u>graph</u> Graph pointer returned from <b>rte_graph_lookup()</b>.
           <u>node</u> Current node pointer.
           <u>nexts</u> List of relative next node indices to enqueue objs.
           <u>objs</u> List of objs to enqueue.
           <u>nb_objs</u> Number of objs to enqueue.

       Definition at line <b>429</b> of file <b>rte_graph_worker_common.h</b>.

   <b>static</b> <b>void</b> <b>**</b> <b>rte_node_next_stream_get</b> <b>(struct</b> <b>rte_graph</b> <b>*</b> <b>graph,</b> <b>struct</b> <b>rte_node</b> <b>*</b> <b>node,</b> <b>rte_edge_t</b> <b>next,</b>
       <b>uint16_t</b> <b>nb_objs)</b> <b>[inline],</b>  <b>[static]</b>
       Get the stream of next node to enqueue the objs. Once done with the updating the objs, needs to call
       rte_node_next_stream_put to put the next node to pending state.

       <b>Parameters</b>
           <u>graph</u> Graph pointer returned from <b>rte_graph_lookup()</b>.
           <u>node</u> Current node pointer.
           <u>next</u> Relative next node index to get stream.
           <u>nb_objs</u> Requested free size of the next stream.

       <b>Returns</b>
           Valid next stream on success.

       <b>See</b> <b>also</b>
           <b>rte_node_next_stream_put()</b>.

       Definition at line <b>458</b> of file <b>rte_graph_worker_common.h</b>.

   <b>static</b> <b>void</b> <b>rte_node_next_stream_put</b> <b>(struct</b> <b>rte_graph</b> <b>*</b> <b>graph,</b> <b>struct</b> <b>rte_node</b> <b>*</b> <b>node,</b> <b>rte_edge_t</b> <b>next,</b>
       <b>uint16_t</b> <b>idx)</b> <b>[inline],</b>  <b>[static]</b>
       Put the next stream to pending state in the circular buffer for further processing. Should be invoked
       after <b>rte_node_next_stream_get()</b>.

       <b>Parameters</b>
           <u>graph</u> Graph pointer returned from <b>rte_graph_lookup()</b>.
           <u>node</u> Current node pointer.
           <u>next</u> Relative next node index..
           <u>idx</u> Number of objs updated in the stream after getting the stream using rte_node_next_stream_get.

       <b>See</b> <b>also</b>
           <b>rte_node_next_stream_get()</b>.

       Definition at line <b>488</b> of file <b>rte_graph_worker_common.h</b>.

   <b>static</b> <b>void</b> <b>rte_node_next_stream_move</b> <b>(struct</b> <b>rte_graph</b> <b>*</b> <b>graph,</b> <b>struct</b> <b>rte_node</b> <b>*</b> <b>src,</b> <b>rte_edge_t</b> <b>next)</b>
       <b>[inline],</b>  <b>[static]</b>
       Home run scenario, Enqueue all the objs of current node to next node in optimized way by swapping the
       streams of both nodes. Performs good when next node is already not in pending state. If next node is
       already in pending state then normal enqueue will be used.

       <b>Parameters</b>
           <u>graph</u> Graph pointer returned from <b>rte_graph_lookup()</b>.
           <u>src</u> Current node pointer.
           <u>next</u> Relative next node index.

       Definition at line <b>516</b> of file <b>rte_graph_worker_common.h</b>.

   <b>bool</b> <b>rte_graph_model_is_valid</b> <b>(uint8_t</b> <b>model)</b>
       Test the validity of model.

       <b>Parameters</b>
           <u>model</u> Model to check.

       <b>Returns</b>
           True if graph model is valid, false otherwise.

   <b>int</b> <b>rte_graph_worker_model_set</b> <b>(uint8_t</b> <b>model)</b>
       <b>Note</b>
           This function does not perform any locking, and is only safe to call before graph running. It will
           set all graphs the same model.

       <b>Parameters</b>
           <u>model</u> Name of the graph worker model.

       <b>Returns</b>
           0 on success, -1 otherwise.

   <b>uint8_t</b> <b>rte_graph_worker_model_get</b> <b>(struct</b> <b>rte_graph</b> <b>*</b> <b>graph)</b>
       Get the graph worker model

       <b>Note</b>
           All graph will use the same model and this function will get model from the first one. Used for slow
           path.

       <b>Parameters</b>
           <u>graph</u> Graph pointer.

       <b>Returns</b>
           Graph worker model on success.

   <b>static</b> <b>__rte_always_inline</b> <b>uint8_t</b> <b>rte_graph_worker_model_no_check_get</b> <b>(struct</b> <b>rte_graph</b> <b>*</b> <b>graph)</b> <b>[static]</b>
       Get the graph worker model without check

       <b>Note</b>
           All graph will use the same model and this function will get model from the first one. Used for fast
           path.

       <b>Parameters</b>
           <u>graph</u> Graph pointer.

       <b>Returns</b>
           Graph worker model on success.

       Definition at line <b>587</b> of file <b>rte_graph_worker_common.h</b>.

   <b>static</b> <b>__rte_experimental</b> <b>void</b> <b>rte_node_xstat_increment</b> <b>(struct</b> <b>rte_node</b> <b>*</b> <b>node,</b> <b>uint16_t</b> <b>xstat_id,</b> <b>uint64_t</b>
       <b>value)</b> <b>[inline],</b>  <b>[static]</b>
       Increment Node xstat count.

       Increment the count of an xstat for a given node.

       <b>Parameters</b>
           <u>node</u> Pointer to the node.
           <u>xstat_id</u> xstat ID.
           <u>value</u> Value to increment.

       Definition at line <b>606</b> of file <b>rte_graph_worker_common.h</b>.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for DPDK from the source code.

DPDK                                             Version 24.11.2                    <u><a href="../man3/rte_graph_worker_common.h.3.html">rte_graph_worker_common.h</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>