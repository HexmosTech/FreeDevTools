<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mlx5dv_devx_alloc_uar - Allocates a DEVX UAR</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libibverbs-dev">libibverbs-dev_56.1-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mlx5dv_devx_alloc_uar - Allocates a DEVX UAR

       mlx5dv_devx_free_uar - Frees a DEVX UAR

</pre><h4><b>SYNOPSIS</b></h4><pre>
              #include &lt;infiniband/mlx5dv.h&gt;

              struct mlx5dv_devx_uar *mlx5dv_devx_alloc_uar(struct ibv_context *context,
                                                            uint32_t flags);

              void mlx5dv_devx_free_uar(struct mlx5dv_devx_uar *devx_uar);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Create / free a DEVX UAR which is needed for other device commands over the DEVX interface.

       The  DEVX  API  enables  direct  access  from  the  user  space  area  to the mlx5 device driver, the UAR
       information is needed for few commands as of QP creation.

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>context</u>
              RDMA device context to work on.

       <u>flags</u>  Allocation flags for the UAR.  MLX5DV_UAR_ALLOC_TYPE_BF: Allocate UAR with  Blueflame  properties.
              MLX5DV_UAR_ALLOC_TYPE_NC:        Allocate        UAR        with       non-cache       properties.
              MLX5DV_UAR_ALLOC_TYPE_NC_DEDICATED: Allocate a dedicated UAR with non-cache properties.

   <b>devx_uar</b>
              struct mlx5dv_devx_uar {
                  void *reg_addr;
                  void *base_addr;
                  uint32_t page_id;
                  off_t mmap_off;
                  uint64_t comp_mask;
              };

       <u>reg_addr</u>
              The write address of DB/BF.

       <u>base_addr</u>
              The base address of the UAR.

       <u>page_id</u>
              The device page id to be used.

       <u>mmap_off</u>
              The mmap offset parameter to be used for re-mapping, to be used by a secondary process.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon success <u>mlx5dv_devx_alloc_uar</u> will return a new  <u>struct</u>  <u>mlx5dv_devx_uar</u>,  on  error  NULL  will  be
       returned and errno will be set.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>mlx5dv_open_device</b>, <b>mlx5dv_devx_obj_create</b>

       #AUTHOR

       Yishai Hadas <a href="mailto:yishaih@mellanox.com">yishaih@mellanox.com</a>

                                                                 <u>mlx5dv_devx_alloc_uar</u> <u>/</u> <u><a href="../man3/mlx5dv_devx_free_uar.3.html">mlx5dv_devx_free_uar</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>