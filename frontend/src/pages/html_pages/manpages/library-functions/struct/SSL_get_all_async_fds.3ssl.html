<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSL_waiting_for_async, SSL_get_all_async_fds, SSL_get_changed_async_fds - manage asynchronous operations</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SSL_waiting_for_async, SSL_get_all_async_fds, SSL_get_changed_async_fds - manage asynchronous operations

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/async.h&gt;
        #include &lt;openssl/ssl.h&gt;

        int SSL_waiting_for_async(SSL *s);
        int SSL_get_all_async_fds(SSL *s, OSSL_ASYNC_FD *fd, size_t *numfds);
        int SSL_get_changed_async_fds(SSL *s, OSSL_ASYNC_FD *addfd, size_t *numaddfds,
                                      OSSL_ASYNC_FD *delfd, size_t *numdelfds);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>SSL_waiting_for_async()</b> determines whether an SSL connection is currently waiting for asynchronous
       operations to complete (see the <b>SSL_MODE_ASYNC</b> mode in <b><a href="../man3/SSL_CTX_set_mode.3.html">SSL_CTX_set_mode</a></b>(3)).

       <b>SSL_get_all_async_fds()</b> returns a list of file descriptor which can be used in a call to <b>select()</b> or
       <b>poll()</b> to determine whether the current asynchronous operation has completed or not. A completed
       operation will result in data appearing as "read ready" on the file descriptor (no actual data should be
       read from the file descriptor). This function should only be called if the <b>SSL</b> object is currently
       waiting for asynchronous work to complete (i.e.  <b>SSL_ERROR_WANT_ASYNC</b> has been received - see
       <b><a href="../man3/SSL_get_error.3.html">SSL_get_error</a></b>(3)). Typically the list will only contain one file descriptor. However, if multiple
       asynchronous capable engines are in use then more than one is possible. The number of file descriptors
       returned is stored in <u>*numfds</u> and the file descriptors themselves are in <u>*fds</u>. The <u>fds</u> parameter may be
       NULL in which case no file descriptors are returned but <u>*numfds</u> is still populated. It is the callers
       responsibility to ensure sufficient memory is allocated at <u>*fds</u> so typically this function is called
       twice (once with a NULL <u>fds</u> parameter and once without).

       <b>SSL_get_changed_async_fds()</b> returns a list of the asynchronous file descriptors that have been added and
       a list that have been deleted since the last <b>SSL_ERROR_WANT_ASYNC</b> was received (or since the <b>SSL</b> object
       was created if no <b>SSL_ERROR_WANT_ASYNC</b> has been received). Similar to <b>SSL_get_all_async_fds()</b> it is the
       callers responsibility to ensure that <u>*addfd</u> and <u>*delfd</u> have sufficient memory allocated, although they
       may be NULL. The number of added fds and the number of deleted fds are stored in <u>*numaddfds</u> and
       <u>*numdelfds</u> respectively.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>SSL_waiting_for_async()</b> will return 1 if the current SSL operation is waiting for an async operation to
       complete and 0 otherwise.

       <b>SSL_get_all_async_fds()</b> and <b>SSL_get_changed_async_fds()</b> return 1 on success or 0 on error.

</pre><h4><b>NOTES</b></h4><pre>
       On Windows platforms the <u>&lt;openssl/async.h&gt;</u> header is dependent on some of the types customarily made
       available by including <u>&lt;windows.h&gt;</u>. The application developer is likely to require control over when the
       latter is included, commonly as one of the first included headers. Therefore, it is defined as an
       application developer's responsibility to include <u>&lt;windows.h&gt;</u> prior to <u>&lt;openssl/async.h&gt;</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/ssl.7.html">ssl</a></b>(7), <b><a href="../man3/SSL_get_error.3.html">SSL_get_error</a></b>(3), <b><a href="../man3/SSL_CTX_set_mode.3.html">SSL_CTX_set_mode</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>SSL_waiting_for_async()</b>, <b>SSL_get_all_async_fds()</b> and <b>SSL_get_changed_async_fds()</b> functions were added
       in OpenSSL 1.1.0.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2016-2021 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                        <u><a href="../man3SSL/SSL_GET_ALL_ASYNC_FDS.3SSL.html">SSL_GET_ALL_ASYNC_FDS</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>