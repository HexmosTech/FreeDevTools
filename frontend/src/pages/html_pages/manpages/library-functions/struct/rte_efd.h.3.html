<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rte_efd.h</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dpdk-doc">dpdk-doc_24.11.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rte_efd.h

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/stdint.h">stdint.h</a>&gt;

   <b>Macros</b>
       #define <b>RTE_EFD_VALUE_NUM_BITS</b>   (8)
       #define <b>RTE_EFD_BURST_MAX</b>   (32)
       #define <b>RTE_EFD_NAMESIZE</b>   32

   <b>Functions</b>
       struct rte_efd_table * <b>rte_efd_create</b> (const char *name, uint32_t max_num_rules, uint32_t key_len,
           uint64_t online_cpu_socket_bitmask, uint8_t offline_cpu_socket)
       void <b>rte_efd_free</b> (struct rte_efd_table *table)
       struct rte_efd_table * <b>rte_efd_find_existing</b> (const char *name)
       int <b>rte_efd_update</b> (struct rte_efd_table *table, unsigned int socket_id, const void *key, efd_value_t
           value)
       int <b>rte_efd_delete</b> (struct rte_efd_table *table, unsigned int socket_id, const void *key, efd_value_t
           *prev_value)
       efd_value_t <b>rte_efd_lookup</b> (const struct rte_efd_table *table, unsigned int socket_id, const void *key)
       void <b>rte_efd_lookup_bulk</b> (const struct rte_efd_table *table, unsigned int socket_id, int num_keys, const
           void **key_list, efd_value_t *value_list)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       RTE EFD Table

       Definition in file <b>rte_efd.h</b>.

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>RTE_EFD_VALUE_NUM_BITS</b>   <b>(8)</b>
       !!! This parameter should be adjusted for your application !!!

       This parameter adjusts the number of bits of value that can be stored in the table. For example, setting
       the number of bits to 3 will allow storing 8 values in the table (between 0 and 7).

       This number directly affects the performance of both lookups and insertion. In general, performance
       decreases as more bits are stored in the table.

       This number is directly proportional to the size of the online region used for lookups.

       Note that due to the way the CPU operates on memory, best lookup performance will be achieved when
       RTE_EFD_VALUE_NUM_BITS is a multiple of 8. These values align the hash indexes on 16-byte boundaries. The
       greatest performance drop is moving from 8-&gt;9 bits, 16-&gt;17 bits, etc.

       This value must be between 1 and 32

       Definition at line <b>65</b> of file <b>rte_efd.h</b>.

   <b>#define</b> <b>RTE_EFD_BURST_MAX</b>   <b>(32)</b>
       Maximum number of keys that can be looked up in one call to efd_lookup_bulk

       Definition at line <b>99</b> of file <b>rte_efd.h</b>.

   <b>#define</b> <b>RTE_EFD_NAMESIZE</b>   <b>32</b>
       Maximum number of characters in efd name.

       Definition at line <b>103</b> of file <b>rte_efd.h</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>struct</b> <b>rte_efd_table</b> <b>*</b> <b>rte_efd_create</b> <b>(const</b> <b>char</b> <b>*</b> <b>name,</b> <b>uint32_t</b> <b>max_num_rules,</b> <b>uint32_t</b> <b>key_len,</b> <b>uint64_t</b>
       <b>online_cpu_socket_bitmask,</b> <b>uint8_t</b> <b>offline_cpu_socket)</b>
       Creates an EFD table with a single offline region and multiple per-socket internally-managed copies of
       the online table used for lookups

       <b>Parameters</b>
           <u>name</u> EFD table name
           <u>max_num_rules</u> Minimum number of rules the table should be sized to hold. Will be rounded up to the
           next smallest valid table size
           <u>key_len</u> Length of the key
           <u>online_cpu_socket_bitmask</u> Bitmask specifying which sockets should get a copy of the online table. LSB
           = socket 0, etc.
           <u>offline_cpu_socket</u> Identifies the socket where the offline table will be allocated (and most
           efficiently accessed in the case of updates/insertions)

       <b>Returns</b>
           EFD table, or NULL if table allocation failed or the bitmask is invalid

   <b>void</b> <b>rte_efd_free</b> <b>(struct</b> <b>rte_efd_table</b> <b>*</b> <b>table)</b>
       Releases the resources from an EFD table

       <b>Parameters</b>
           <u>table</u> Pointer to table allocated with <b>rte_efd_create()</b>. If table is NULL, no operation is performed.

   <b>struct</b> <b>rte_efd_table</b> <b>*</b> <b>rte_efd_find_existing</b> <b>(const</b> <b>char</b> <b>*</b> <b>name)</b>
       Find an existing EFD table object and return a pointer to it.

       <b>Parameters</b>
           <u>name</u> Name of the EFD table as passed to <b>rte_efd_create()</b>

       <b>Returns</b>
           Pointer to EFD table or NULL if object not found with rte_errno set appropriately. Possible rte_errno
           values include:

           â€¢ ENOENT - value not available for return

   <b>int</b>  <b>rte_efd_update</b>  <b>(struct</b>  <b>rte_efd_table</b>  <b>*</b>  <b>table,</b>  <b>unsigned</b> <b>int</b> <b>socket_id,</b> <b>const</b> <b>void</b> <b>*</b> <b>key,</b> <b>efd_value_t</b>
       <b>value)</b>
       Computes an updated table entry for the supplied key/value pair. The update is then  immediately  applied
       to the provided table and all socket-local copies of the chunks are updated. This operation is not multi-
       thread safe and should only be called one from thread.

       <b>Parameters</b>
           <u>table</u> EFD table to reference
           <u>socket_id</u> Socket ID to use to lookup existing value (ideally caller's socket id)
           <u>key</u> EFD table key to modify
           <u>value</u> Value to associate with the key

       <b>Returns</b>
           RTE_EFD_UPDATE_WARN_GROUP_FULL  Operation  is insert, and the last available space in the key's group
           was just used Future inserts may fail as groups fill up This  operation  was  still  successful,  and
           entry  contains a valid update RTE_EFD_UPDATE_FAILED Either the EFD failed to find a suitable perfect
           hash or the group was full This is a fatal error, and the table is  now  in  an  indeterminate  state
           RTE_EFD_UPDATE_NO_CHANGE Operation resulted in no change to the table (same value already exists) 0 -
           success

   <b>int</b>  <b>rte_efd_delete</b>  <b>(struct</b>  <b>rte_efd_table</b>  <b>*</b> <b>table,</b> <b>unsigned</b> <b>int</b> <b>socket_id,</b> <b>const</b> <b>void</b> <b>*</b> <b>key,</b> <b>efd_value_t</b> <b>*</b>
       <b>prev_value)</b>
       Removes any value currently associated with the specified key from the table This operation is not multi-
       thread safe and should only be called from one thread.

       <b>Parameters</b>
           <u>table</u> EFD table to reference
           <u>socket_id</u> Socket ID to use to lookup existing value (ideally caller's socket id)
           <u>key</u> EFD table key to delete
           <u>prev_value</u> If not NULL, will store the previous value here before deleting it

       <b>Returns</b>
           0 - successfully found and deleted the key nonzero otherwise

   <b>efd_value_t</b> <b>rte_efd_lookup</b> <b>(const</b> <b>struct</b> <b>rte_efd_table</b> <b>*</b> <b>table,</b> <b>unsigned</b> <b>int</b> <b>socket_id,</b> <b>const</b> <b>void</b> <b>*</b> <b>key)</b>
       Looks up the value associated with a key This operation is multi-thread safe.

       NOTE: Lookups will <u>always</u> succeed - this is a property of using a perfect hash table.  If  the  specified
       key  was  never  inserted,  a  pseudorandom answer will be returned. There is no way to know based on the
       lookup if the key was ever inserted originally, so this must be tracked elsewhere.

       <b>Parameters</b>
           <u>table</u> EFD table to reference
           <u>socket_id</u> Socket ID to use to lookup existing value (ideally caller's socket id)
           <u>key</u> EFD table key to look up

       <b>Returns</b>
           Value associated with the key, or random junk if they key was never inserted

   <b>void</b> <b>rte_efd_lookup_bulk</b> <b>(const</b> <b>struct</b> <b>rte_efd_table</b> <b>*</b> <b>table,</b> <b>unsigned</b> <b>int</b>  <b>socket_id,</b>  <b>int</b>  <b>num_keys,</b>  <b>const</b>
       <b>void</b> <b>**</b> <b>key_list,</b> <b>efd_value_t</b> <b>*</b> <b>value_list)</b>
       Looks up the value associated with several keys. This operation is multi-thread safe.

       NOTE:  Lookups  will  <u>always</u> succeed - this is a property of using a perfect hash table. If the specified
       key was never inserted, a pseudorandom answer will be returned. There is no way  to  know  based  on  the
       lookup if the key was ever inserted originally, so this must be tracked elsewhere.

       <b>Parameters</b>
           <u>table</u> EFD table to reference
           <u>socket_id</u> Socket ID to use to lookup existing value (ideally caller's socket id)
           <u>num_keys</u> Number of keys in the key_list array, must be less than RTE_EFD_BURST_MAX
           <u>key_list</u> Array of num_keys pointers which point to keys to look up
           <u>value_list</u> Array of size num_keys where lookup values will be stored

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for DPDK from the source code.

DPDK                                             Version 24.11.2                                    <u><a href="../man3/rte_efd.h.3.html">rte_efd.h</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>