<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sc::FileGrp - The FileGrp abstract class provides a way of accessing distributed file in a parallel</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libsc-doc">libsc-doc_2.3.1-21_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sc::FileGrp - The <b>FileGrp</b> abstract class provides a way of accessing distributed file in a parallel
       machine.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;file.h&gt;

       Inherits <b>sc::DescribedClass</b>.

       Inherited by <b>sc::ProcFileGrp</b>.

   <b>Public</b> <b>Member</b> <b>Functions</b>
       <b>FileGrp</b> (const <b>Ref</b>&lt; <b>KeyVal</b> &gt; &amp;)
       void <b>open</b> ()
           Opens the files.
       void <b>close</b> ()
           Closes the files.
       void <b>set_filename</b> (char *name)
           Sets the filename for the <b>FileGrp</b>.
       const char * <b>get_filename</b> () const
           Returns the filename for the <b>FileGrp</b>.
       int <b>me</b> () const
           Returns who I am.
       int <b>n</b> () const
           Returns how many nodes there are.
       virtual void <b>set_localsize</b> (size_t)=0
           Set the size of locally held data.
       size_t <b>localsize</b> ()
           Returns the amount of data residing locally on <b>me()</b>.
       <b>distsize_t</b> <b>localoffset</b> ()
           Returns the global offset to this node's data.
       int <b>size</b> (int node)
           Returns the amount of data residing on node.
       <b>distsize_t</b> <b>offset</b> (int node)
           Returns the global offset to node's data.
       <b>distsize_t</b> <b>totalsize</b> ()
           Returns the sum of all data allocated on all nodes.
       virtual void <b>activate</b> ()
           Activate is called before the data is to be used.
       virtual void <b>deactivate</b> ()
           Deactivate is called after the data has been used.
       virtual void * <b>obtain_writeonly</b> (<b>distsize_t</b> <b>offset</b>, int <b>size</b>)=0
           This gives write access to the data location. No locking is done.
       virtual void * <b>obtain_readwrite</b> (<b>distsize_t</b> <b>offset</b>, int <b>size</b>)=0
           Only one thread can have an unreleased obtain_readwrite at a time.
       virtual void * <b>obtain_readonly</b> (<b>distsize_t</b> <b>offset</b>, int <b>size</b>)=0
           This gives read access to the file location. No locking is done.
       virtual void <b>release_readonly</b> (void *data, <b>distsize_t</b> <b>offset</b>, int <b>size</b>)=0
           This is called when read access is no longer needed.
       virtual void <b>release_writeonly</b> (void *data, <b>distsize_t</b> <b>offset</b>, int <b>size</b>)=0
           This is called when write access is no longer needed.
       virtual void <b>release_readwrite</b> (void *data, <b>distsize_t</b> <b>offset</b>, int <b>size</b>)=0
           This is called when read/write access is no longer needed.
       virtual void <b>sum_reduction</b> (double *data, <b>distsize_t</b> doffset, int dsize)
       virtual void <b>sum_reduction_on_node</b> (double *data, size_t doffset, int dsize, int node=-1)
       virtual void <b>sync</b> ()=0
           Synchronizes all the nodes.
       virtual void <b>catchup</b> ()
           Processes outstanding requests.
       virtual void <b>print</b> (std::ostream &amp;o=<b>ExEnv::out0</b>()) const
           Prints out information about the object.
       virtual <b>FileGrp</b> * <b>clone</b> ()=0
           Clones the given <b>FileGrp</b>. The new <b>FileGrp</b> may need to be initialized additionally.

   <b>Static</b> <b>Public</b> <b>Member</b> <b>Functions</b>
       static <b>FileGrp</b> * <b>initial_filegrp</b> (int &amp;argc, char **argv)
           Create a file group.
       static <b>FileGrp</b> * <b>initial_filegrp</b> ()
       static void <b>set_default_filegrp</b> (const <b>Ref</b>&lt; <b>FileGrp</b> &gt; &amp;)
           The default file group contains the primary file group to be used by an application.
       static <b>FileGrp</b> * <b>get_default_filegrp</b> ()
           Returns the default file group.

   <b>Protected</b> <b>Member</b> <b>Functions</b>
       void <b>obtain_local_lock</b> (size_t start, size_t fence)
       void <b>release_local_lock</b> (size_t start, size_t fence)

   <b>Protected</b> <b>Attributes</b>
       int <b>me_</b>
       int <b>n_</b>
       <b>distsize_t</b> * <b>offsets_</b>
       int <b>debug_</b>

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       The <b>FileGrp</b> abstract class provides a way of accessing distributed file in a parallel machine.

       Several specializations are available. For one processor, <b>ProcFileGrp</b> provides a simple stub
       implementation. Otherwise, the specializations that should work are MPIIOIFileGrp and MTMPIFileGrp.

       If a <b>FileGrp</b> is not given to the program, then one will be automatically chosen depending on which
       <b>MessageGrp</b> is used by default, the type of machine on which the code was compiled, and what options were
       given at configuration time.

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>virtual</b> <b>void</b> <b>sc::FileGrp::catchup</b> <b>()</b> <b>[virtual]</b>
       Processes outstanding requests. Some file group implementations don't have access to real shared memory
       or even active messages. Instead, requests are processed whenever certain file group routines are called.
       This can cause large latencies and buffer overflows. If this is a problem, then the catchup member can be
       called to process all outstanding requests.

   <b>static</b> <b>FileGrp*</b> <b>sc::FileGrp::initial_filegrp</b> <b>(int</b> <b>&amp;</b> <b>argc,</b> <b>char</b> <b>**</b> <b>argv)</b> <b>[static]</b>
       Create a file group. This routine looks for a -filegrp argument, then the environmental variable FILEGRP,
       and, finally, the default <b>MessageGrp</b> object to decide which specialization of <b>FileGrp</b> would be
       appropriate. The argument to -integralgrp should be either string for a <b>ParsedKeyVal</b> constructor or a
       classname. The default <b>ThreadGrp</b> and <b>MessageGrp</b> objects should be initialized before this is called.

       References initial_filegrp().

       Referenced by initial_filegrp().

   <b>virtual</b> <b>void*</b> <b>sc::FileGrp::obtain_readwrite</b> <b>(distsize_t</b> <b>offset,</b> <b>int</b> <b>size)</b> <b>[pure</b> <b>virtual]</b>
       Only one thread can have an unreleased obtain_readwrite at a time. The actual file region locked can be
       larger than that requested. If the file region is already locked this will block. For this reason, data
       should be held as read/write for as short a time as possible.

       Implemented in <b>sc::ProcFileGrp</b>.

   <b>virtual</b> <b>void</b> <b>sc::FileGrp::release_readwrite</b> <b>(void</b> <b>*</b> <b>data,</b> <b>distsize_t</b> <b>offset,</b> <b>int</b> <b>size)</b> <b>[pure</b> <b>virtual]</b>
       This is called when read/write access is no longer needed. The data will be unlocked.

       Implemented in <b>sc::ProcFileGrp</b>.

   <b>virtual</b> <b>void</b> <b>sc::FileGrp::set_localsize</b> <b>(size_t)</b> <b>[pure</b> <b>virtual]</b>
       Set the size of locally held data. When data is accessed using a global offset counting starts at node 0
       and proceeds up to node <b>n()</b> - 1.

       Implemented in <b>sc::ProcFileGrp</b>.

   <b>virtual</b> <b>void</b> <b>sc::FileGrp::sync</b> <b>()</b> <b>[pure</b> <b>virtual]</b>
       Synchronizes all the nodes. Consider using this when the way you you access data changes.

       Implemented in <b>sc::ProcFileGrp</b>.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for MPQC from the source code.

Version 2.3.1                                    Sun Oct 4 2020                                   <u>sc::<a href="../man3/FileGrp.3.html">FileGrp</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>