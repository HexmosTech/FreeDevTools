<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hash::FieldHash - Lightweight field hash for inside-out objects</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libhash-fieldhash-perl">libhash-fieldhash-perl_0.15-4build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Hash::FieldHash - Lightweight field hash for inside-out objects

</pre><h4><b>VERSION</b></h4><pre>
       This document describes Hash::FieldHash version 0.15.

</pre><h4><b>SYNOPSIS</b></h4><pre>
               use Hash::FieldHash qw(:all);

               fieldhash my %foo;

               fieldhashes \my(%bar, %baz);

               {
                       my $o = Something-&gt;new();

                       $foo{$o} = 42;

                       print $foo{$o}; # =&gt; 42
               }
               # when $o is released, $foo{$o} is also deleted,
               # so %foo is empty in here.

               # in a class
               {
                       package Foo;
                       use Hash::FieldHash qw(:all);

                       fieldhash my %bar, 'bar'; # make an accessor
               }

               my $obj = bless {}, 'Foo';
               $obj-&gt;<a href="../man10/bar.10.html">bar</a>(10); # does $bar{$obj} = 10

</pre><h4><b>DESCRIPTION</b></h4><pre>
       "Hash::FieldHash" provides the field hash mechanism which supports the inside-out technique.

       You may know "Hash::Util::FieldHash". It's a very useful module, but too complex to understand the
       functionality and only available in 5.10.  "H::U::F::Compat" is available for pre-5.10, but it is too
       slow to use.

       This is a better alternative to "H::U::F" with following features:

       Simpler interface
           "Hash::FieldHash" provides a few functions:  fieldhash() and fieldhashes().  That's enough.

       Higher performance
           "Hash::FieldHash"   is  faster  than  "Hash::Util::FieldHash",  because  its  internals  use  simpler
           structures.

       Relic support
           Although "Hash::FieldHash" uses a new feature introduced in Perl 5.10,  <u>the</u>  <u>uvar</u>  <u>magic</u>  <u>for</u>  <u>hashes</u>
           described  in  "GUTS"  in  Hash::Util::Fieldhash, it supports Perl 5.8 using the traditional tie-hash
           layer.

</pre><h4><b>INTERFACE</b></h4><pre>
   <b>Exportable</b> <b>functions</b>
       "fieldhash(%hash, ?$name, ?$package)"
           Creates a field hash. The first argument must be a hash.

           Optional <u>$name</u> and <u>$package</u> indicate the name of the field, which will create rw-accessors, using the
           same name as <u>$name</u>.

           Returns nothing.

       fieldhashes(@hash_refs)
           Creates a number of field hashes. All the arguments must be hash references.

           Returns nothing.

       "from_hash($object, \%fields)"
           Fills the named fields associated with <u>$object</u> with <u>%fields</u>.  The keys of <u>%fields</u> can  be  simple  or
           fully qualified.

           Returns <u>$object</u>.

       "to_hash($object, ?-fully_qualify)"
           Serializes <u>$object</u> into a hash reference.

           If the "-fully_qualify" option is supplied , field keys are fully qualified.

           For example:

                   package MyClass;
                   use FieldHash qw(:all);

                   fieldhash my %foo =&gt; 'foo';

                   sub new{
                           my $class = shift;
                           my $self  = bless {}, $class;
                           return from_hash($self, @_);
                   }

                   package MyDerivedClass;
                   use parent -norequire =&gt; 'MyClass';
                   use FieldHash qw(:all);

                   fieldhash my %bar =&gt; 'bar';

                   package main;

                   my $o = MyDerivedClass-&gt;new(foo =&gt; 10, bar =&gt; 20);
                   my $p = MyDerivedClass-&gt;new('MyClass::foo' =&gt; 10, 'MyDerivedClass::bar' =&gt; 20);

                   use Data::Dumper;
                   print Dumper($o-&gt;to_hash());
                   # $VAR1 = { foo =&gt; 10, bar =&gt; 20 }

                   print Dumper($o-&gt;to_hash(-fully_qualify));
                   # $VAR1 = { 'MyClass::foo' =&gt; 10, 'MyDerived::bar' =&gt; 20 }

</pre><h4><b>ROBUSTNESS</b></h4><pre>
   <b>Thread</b> <b>support</b>
       As "Hash::Util::FieldHash" does, "Hash::FieldHash" fully supports threading using the "CLONE" method.

   <b>Memory</b> <b>leaks</b>
       "Hash::FieldHash"  itself  does  not leak memory, but it may leak memory when you uses hash references as
       field hash keys because of an issue of perl 5.10.0.

</pre><h4><b>NOTES</b></h4><pre>
   <b>The</b> <b>type</b> <b>of</b> <b>field</b> <b>hash</b> <b>keys</b>
       "Hash::FieldHash"  accepts  only   references   and   registered   addresses   as   its   keys,   whereas
       "Hash::Util::FieldHash" accepts any type of scalars.

       According  to "The Generic Object" in Hash::Util::FieldHash, Non-reference keys in "H::U::F" are used for
       class fields. That is, all the fields defined by "H::U::F" act as both object fields and class fields  by
       default. It seems confusing; if you do not want them to be class fields, you must check the type of <u>$self</u>
       explicitly.  In  addition,  these  class fields are never inherited.  This behavior seems problematic, so
       "Hash::FieldHash" restricts the type of keys.

   <b>The</b> <b>ID</b> <b>of</b> <b>field</b> <b>hash</b> <b>keys</b>
       While "Hash::Util::FieldHash" uses "refaddr" as the IDs of field hash keys,  "Hash::FieldHash"  allocates
       arbitrary integers as the IDs.

   <b>What</b> <b>accessors</b> <b>return</b>
       The  accessors fieldhash() creates are <b>chainable</b> accessors.  That is, it returns the <u>$object</u> (i.e. $self)
       with a parameter, where as it returns the <u>$value</u> without it.

       For example:

           my $o = YourClass-&gt;new();
           $o-&gt;<a href="../man42/foo.42.html">foo</a>(42);           # returns $o itself
           my $value = $o-&gt;foo(); # retuns 42

</pre><h4><b>DEPENDENCIES</b></h4><pre>
       Perl 5.8.5 or later, and a C compiler.

</pre><h4><b>BUGS</b></h4><pre>
       No bugs have been reported.

       Please report any bugs or feature requests to the author.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Hash::Util::FieldHash.

       Hash::Util::FieldHash::Compat.

       "Magic Virtual Tables" in perlguts.

       Class::Std describes the inside-out technique.

</pre><h4><b>AUTHOR</b></h4><pre>
       Fuji, Goro (gfx) &lt;gfuji(at)cpan.org&gt;.

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2009-2010, Fuji, Goro. All rights reserved.

       This library is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

perl v5.40.0                                       2024-10-20                               <u>Hash::<a href="../man3pm/FieldHash.3pm.html">FieldHash</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>