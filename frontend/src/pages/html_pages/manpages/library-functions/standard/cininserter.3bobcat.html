<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FBB::CinInserter - Runs external programs reading standard input</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbobcat-dev">libbobcat-dev_6.07.01-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       FBB::CinInserter - Runs external programs reading standard input

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;bobcat/cininserter&gt;</b>
       Linking option: <u>-lbobcat</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>FBB::CinInserter</b>  class  offers  a  basic  interface  for calling external programs (so-called child
       processes) reading their standard input streams. The standard output and standard error  streams  of  the
       child processes by default are not handled by <u>CinInserter</u> objects. The child’s standard input is provided
       through the <u>CinInserter</u> object: information inserted into an <u>CinInserter</u> object is forwarded to the child
       process’s  standard input stream. The <u>PATH</u> environment variable is not used when calling child processes:
       child process programs must be specified using paths.

       <u>CinInserter</u> objects may repeatedly be used to execute the  same  or  different  child  processes.  Before
       starting the next child process, the current child process must have finished.

       Arguments passed to child processes may be surrounded by double or single quotes. Arguments surrounded by
       double  quotes  have  their  double quotes removed, while interpreting any escape-sequences that may have
       been used within. Arguments surrounded by single quotes have their single quotes removed, while accepting
       their content as-is. In addition unquoted escape-sequences may be specified: those escape  sequences  are
       evaluated and replaced by their intended characters (e.g., <u>\100</u> is converted to <u>@</u>).

       When  information  of undetermined size or structure must be inserted into a child process then the child
       process cannot determine when to stop. This creates an interesting problem: the child process starts, and
       the parent process must wait until its child process has finished processing its  input.  But  input  can
       only  be forwarded to the child’s input stream after the child process has started. To solve this problem
       <u>InterterFork</u> offers an overloaded <u>execute</u> member, passing information to the child process via a separate
       thread.

</pre><h4><b>NAMESPACE</b></h4><pre>
       <b>FBB</b>
       All constructors, members, operators and manipulators, mentioned in this man-page,  are  defined  in  the
       namespace <b>FBB</b>.

</pre><h4><b>INHERITS</b> <b>FROM</b></h4><pre>
       <b>FBB::Exec</b> (private), <b>FBB::OFdBuf</b> (private), <b>std::ostream</b>.

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
       o      <b>CinInserter(size_t</b> <b>bufSize</b> <b>=</b> <b>100)</b>:
              A <u>bufSize</u> argument may be specified: it defines the internal buffer size used by the <u>CinInserter’s</u>
              streambuf. By default the stdandard output and standard error streams are not handled.

       o      <b>CinInserter(Mode</b> <b>mode,</b> <b>size_t</b> <b>bufSize</b> <b>=</b> <b>100)</b>:
              The  <u>mode</u>  argument  must  be  <u>CinInserter::CLOSE_STD</u>.  It  indicates that the standard output and
              standard error streams are redirected  to  <u>/dev/null</u>:  any  standard  output  generated  by  child
              processes  is  ignored.  A  <u>bufSize</u> argument may be specified: it defines the internal buffer size
              used by the <u>CinInserter’s</u> streambuf.

       Copy and move constructors (and assignment operators) are not available.

</pre><h4><b>DESTRUCTOR</b></h4><pre>
       The destructor ends the <u>CinInserter’s</u> child process, if it is still active.

</pre><h4><b>MEMBERS</b></h4><pre>
       o      <b>void</b> <b>execute(std::string</b> <b>const</b> <b>&amp;cmd)</b>:
              The argument specifies the command to execute: the command itself must be specified as a path (the
              <u>PATH</u> environment variable isn’t used).  This member immediately returns, after  which  information
              can be inserted into the <u>CinInserter</u> object which is then forwarded to the childprocess’s standard
              input stream. See also the description of the next (overloaded <u>execute</u>) member function.

              Once  all information has been inserted, the child process’s standard input stream must be closed.
              This is realized by either calling  <u>stop</u>;  by  calling  <u>execute</u>  once  again;  or  by  ending  the
              <u>CinInserter</u> object’s lifetime.

              Arguments  specified  in  the  <u>cmd</u>  string  are passed to the child process, and may optionally be
              specified using single or double quotes, as described in this man-page’s DESCRIPTION section.

       o      <b>bool</b> <b>execute(std::string</b> <b>const</b> <b>&amp;cmd,</b> <b>std::string</b> <b>const</b> <b>&amp;text)</b>:
              This member is used to forward a limited amount of information (contained in the  <u>text</u>  parameter)
              to  the  child  process specified at <u>cmd</u> (defined identically as the <u>cmd</u> parameter of the previous
              <u>execute</u> member).

              This member returns <u>true</u> if the child process’s exit value equals 0.

       o      <b>int</b> <b>stop()</b>:
              This function can be called after all information has been inserted into the <u>CinInserter</u> object to
              close the child process’s standard input stream. It is not  required  after  calling  <u>execute(cmd,</u>
              <u>text)</u>, or when calling <u>execute</u> again, or when the <u>CinInseror</u> object’s lifetime ends.

              This  member  returns the exit code of the last executed child process, which may also be obtained
              from the next member:

       o      <b>int</b> <b>ret()</b> <b>const</b>:
              Once a child process has finished this member provides the actual exit code of the child  process.
              Its value equals -1 before the first <u>exectue</u> call.

</pre><h4><b>PROTECTED</b> <b>MEMBER</b></h4><pre>
       o      <b>Pipe</b> <b>&amp;childInPipe()</b>:
              If  derived  classes  need to override the redirections-members then they probabaly need access to
              the pipe read by the child process. This member provides a reference to that pipe. By default  the
              parent  process  inserts  information  into  the  pipe, while the child process reads the inserted
              information from the pipe.

</pre><h4><b>EXAMPLE</b></h4><pre>
       #include &lt;iostream&gt;
       #include &lt;fstream&gt;

       #include &lt;bobcat/cininserter&gt;

       using namespace std;
       using namespace FBB;

       int main()
       {
           CinInserter inserter;

           inserter.execute("<a href="file:/bin/cat">/bin/cat</a>");
           ifstream in("build");
           inserter &lt;&lt; in.rdbuf();

           cout &lt;&lt; "child returns: " &lt;&lt; inserter.stop() &lt;&lt; ’\n’;

           inserter.execute("<a href="file:/bin/cat">/bin/cat</a>");
           <a href="../man0/in.seekg.0.html">in.seekg</a>(0);                    // reset to the beginning
           inserter &lt;&lt; in.rdbuf();

           // when immediately followed by another execute, ’stop’ is optional

           inserter.execute("<a href="file:/bin/cat">/bin/cat</a>", "a simple text\n");
           inserter.execute("<a href="file:/bin/cat">/bin/cat</a>", "a simple text\n");
           bool bret = inserter.execute("<a href="file:/bin/cat">/bin/cat</a>", "a simple text\n");

           cout &lt;&lt; "direct string insertion: " &lt;&lt; bret &lt;&lt; ’\n’;
       }

</pre><h4><b>FILES</b></h4><pre>
       <u>bobcat/cininserter</u> - provides the class interface

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/bobcat.7.html">bobcat</a></b>(7),  <b><a href="../man3bobcat/cerrextractor.3bobcat.html">cerrextractor</a></b>(3bobcat),  <b><a href="../man3bobcat/coutextractor.3bobcat.html">coutextractor</a></b>(3bobcat),  <b><a href="../man3/execl.3.html">execl</a></b>(3),   <b><a href="../man3bobcat/exec.3bobcat.html">exec</a></b>(3bobcat),   <b><a href="../man3bobcat/fork.3bobcat.html">fork</a></b>(3bobcat),
       <b><a href="../man3bobcat/pipe.3bobcat.html">pipe</a></b>(3bobcat), <b><a href="../man3bobcat/process.3bobcat.html">process</a></b>(3bobcat), <b><a href="../man3bobcat/stdextractor.3bobcat.html">stdextractor</a></b>(3bobcat).

</pre><h4><b>BUGS</b></h4><pre>
       None reported.

</pre><h4><b>BOBCAT</b> <b>PROJECT</b> <b>FILES</b></h4><pre>
       o      <u>https://fbb-git.gitlab.io/bobcat/</u>: gitlab project page;

       Debian Bobcat project files:

       o      <u>libbobcat6</u>: debian package containing the shared library, changelog and copyright note;

       o      <u>libbobcat-dev</u>:  debian package containing the static library, headers, manual pages, and developer
              info;

</pre><h4><b>BOBCAT</b></h4><pre>
       Bobcat is an acronym of `Brokken’s Own Base Classes And Templates’.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This is free software, distributed under the terms of the GNU General Public License (GPL).

</pre><h4><b>AUTHOR</b></h4><pre>
       Frank B. Brokken (<b><a href="mailto:f.b.brokken@rug.nl">f.b.brokken@rug.nl</a></b>).

libbobcat-dev_6.07.01                               2005-2025                          <u>FBB::<a href="../man3bobcat/CinInserter.3bobcat.html">CinInserter</a></u>(3bobcat)
</pre>
 </div>
</div></section>
</div>
</body>
</html>