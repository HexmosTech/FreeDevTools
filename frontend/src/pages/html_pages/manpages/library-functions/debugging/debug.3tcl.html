<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>debug - debug narrative - core</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       debug - debug narrative - core

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.5</b> <b>9</b>

       package require <b>debug</b> <b>?1.0.7?</b>

       <b>debug.tag</b> <u>message</u> ?<u>level</u>?

       <b>debug</b> <b>2array</b>

       <b>debug</b> <b>define</b> <u>tag</u>

       <b>debug</b> <b>header</b> <u>text</u>

       <b>debug</b> <b>level</b> <u>tag</u> ?<u>level</u>? ?<u>fd</u>?

       <b>debug</b> <b>names</b>

       <b>debug</b> <b>off</b> <u>tag</u>

       <b>debug</b> <b>on</b> <u>tag</u>

       <b>debug</b> <b>parray</b> <u>arrayvarname</u>

       <b>debug</b> <b>pdict</b> <u>dict</u>

       <b>debug</b> <b>hexl</b> <u>data</u> ?<u>prefix</u>?

       <b>debug</b> <b>nl</b>

       <b>debug</b> <b>tab</b>

       <b>debug</b> <b>prefix</b> <u>tag</u> ?<u>text</u>?

       <b>debug</b> <b>setting</b> (<u>tag</u> <u>level</u>) ... ?<u>fd</u>?

       <b>debug</b> <b>suffix</b> <u>tag</u> ?<u>text</u>?

       <b>debug</b> <b>trailer</b> <u>text</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Debugging  areas  of  interest  are  represented  by  'tags'  which have independently settable levels of
       interest (an integer, higher is more detailed).

</pre><h4><b>API</b></h4><pre>
       <b>debug.tag</b> <u>message</u> ?<u>level</u>?
              For each known tag the package creates a command with this signature the  user  can  then  use  to
              provide  the  debug narrative of the tag.  The narrative <u>message</u> is provided as a Tcl script whose
              value is <b>subst</b>ed in the caller's scope if and only if the current level of interest  for  the  <u>tag</u>
              matches  or  exceeds  the  call's  <u>level</u>  of detail.  This is useful, as one can place arbitrarily
              complex narrative in code without unnecessarily evaluating it.

              See methods <b>level</b> and <b>setting</b> for querying and manipulating the current level of detail for tags.

              The actually printed text consists of not only the  <u>message</u>,  but  also  global  and  tag-specific
              prefix  and  suffix, should they exist, with each line in the message having the specified headers
              and trailers.

              All these parts are <b>subst</b>ableTcl scripts, which are substituted once per message before assembly.

       <b>debug</b> <b>2array</b>
              This method returns a dictionary mapping the names of  all  debug  tags  currently  known  to  the
              package  to  their  state and log level. The latter are encoded in a single numeric value, where a
              negative number indicates an inactive tag at the level given by the absolute value, and a positive
              number is an active tag at that level.

              See also method <b>settings</b> below.

       <b>debug</b> <b>define</b> <u>tag</u>
              This method registers the named <u>tag</u> with the package.  If the tag  was  not  known  before  it  is
              placed in an inactive state. The state of an already known tag is left untouched.

              The result of the method is the empty string.

       <b>debug</b> <b>header</b> <u>text</u>
              This  method  defines a global <b>subst</b>able Tcl script which provides a text printed before each line
              of output.

              Note how this is tag-independent.

              Further note that the header substitution happens only once per actual printed message,  i.e.  all
              lines of the same message will have the same actual heading text.

              The result of the method is the specified text.

       <b>debug</b> <b>level</b> <u>tag</u> ?<u>level</u>? ?<u>fd</u>?
              This  method  sets  the  detail-<u>level</u>  for the <u>tag</u>, and the channel <u>fd</u> to write the tags narration
              into.  The level is an integer value &gt;= 0 defaulting to <b>1</b>.  The channel defaults to <b>stderr</b>.

              The result of the method is the new detail-level for the tag.

       <b>debug</b> <b>names</b>
              This method returns a list containing the names of all debug tags currently known to the package.

       <b>debug</b> <b>off</b> <u>tag</u>
              This method registers the named <u>tag</u> with the package and sets it inactive.

              The result of the method is the empty string.

       <b>debug</b> <b>on</b> <u>tag</u>
              This method registers the named <u>tag</u> with the package, as active.

              The result of the method is the empty string.

       <b>debug</b> <b>parray</b> <u>arrayvarname</u>
              This is a convenience method formatting the named array like the builtin command <b>parray</b>, except it
              returns the resulting string instead of writing it directly to <b>stdout</b>.

              This makes it suitable for use in debug messages.

       <b>debug</b> <b>pdict</b> <u>dict</u>
              This is a convenience method formatting the dictionary similarly to how the builtin command <b>parray</b>
              does for array, and returns the resulting string.

              This makes it suitable for use in debug messages.

       <b>debug</b> <b>hexl</b> <u>data</u> ?<u>prefix</u>?
              This is a convenience method formatting arbitrary data into a hex-dump and returns  the  resulting
              string.

              This makes it suitable for use in debug messages.

              Each line of the dump is prefixed with <u>prefix</u>. This prefix defaults to the empty string.

       <b>debug</b> <b>nl</b>
              This is a convenience method to insert a linefeed character (ASCII 0x0a) into a debug message.

       <b>debug</b> <b>tab</b>
              This is a convenience method to insert a TAB character (ASCII 0x09) into a debug message.

       <b>debug</b> <b>prefix</b> <u>tag</u> ?<u>text</u>?
              This  method  is similar to the method <b>header</b> above, in that it defines <b>subst</b>able Tcl script which
              provides more text for debug messages.

              In contrast to <b>header</b> the generated text is added to the user's message before it  is  split  into
              lines, making it a per-message extension.

              Furthermore the script is tag-dependent.

              In exception to that, a script for tag <b>::</b> is applied to all messages.

              If  both  global  and  tag-dependent prefix exist, both are applied, with the global prefix coming
              before the tag-dependent prefix.

              Note that the prefix substitution happens only once per actual printed message.

              The result of the method is the empty string.

              If the <u>tag</u> was not known at the time of the call it is registered, and set inactive.

       <b>debug</b> <b>setting</b> (<u>tag</u> <u>level</u>) ... ?<u>fd</u>?
              This method is a multi-tag variant of method <b>level</b> above, with the functionality  of  methods  <b>on</b>,
              and <b>off</b> also folded in.

              Each  named  <u>tag</u>  is  set to the detail-<u>level</u> following it, with a negative level deactivating the
              tag, and a positive level activating it.

              If the last argument is not followed by a level it is not treated as tag name, but as the  channel
              all the named tags should print their messages to.

              The result of the method is the empty string.

       <b>debug</b> <b>suffix</b> <u>tag</u> ?<u>text</u>?
              This  method is similar to the method <b>trailer</b> below, in that it defines <b>subst</b>able Tcl script which
              provides more text for debug messages.

              In contrast to <b>trailer</b> the generated text is added to the user's message before it is  split  into
              lines, making it a per-message extension.

              Furthermore the script is tag-dependent.

              In exception to that, a script for tag <b>::</b> is applied to all messages.

              If  both  global  and  tag-dependent suffix exist, both are applied, with the global suffix coming
              after the tag-dependent suffix.

              Note that the suffix substitution happens only once per actual printed message.

              The result of the method is the empty string.

              If the <u>tag</u> was not known at the time of the call it is registered, and set inactive.

       <b>debug</b> <b>trailer</b> <u>text</u>
              This method defines a global <b>subst</b>able Tcl script which provides a text printed after each line of
              output (before the EOL however).

              Note how this is tag-independent.

              Further note that the trailer substitution happens only once per actual printed message, i.e.  all
              lines of the same message will have the same actual trailing text.

              The result of the method is the specified text.

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This  document,  and  the package it describes, will undoubtedly contain bugs and other problems.  Please
       report such in the category <u>debug</u> of the <u>Tcllib</u> <u>Trackers</u> [<a href="http://core.tcl.tk/tcllib/reportlist">http://core.tcl.tk/tcllib/reportlist</a>].   Please
       also report any ideas for enhancements you may have for either package and/or documentation.

       When proposing code changes, please provide <u>unified</u> <u>diffs</u>, i.e the output of <b>diff</b> <b>-u</b>.

       Note  further  that  <u>attachments</u>  are strongly preferred over inlined patches. Attachments can be made by
       going to the <b>Edit</b> form of the ticket immediately after its creation, and then using the left-most  button
       in the secondary navigation bar.

</pre><h4><b>KEYWORDS</b></h4><pre>
       debug, log, narrative, trace

</pre><h4><b>CATEGORY</b></h4><pre>
       debugging, tracing, and logging

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 200?, Colin McCormack, Wub Server Utilities
       Copyright (c) 2012-2014, Andreas Kupries &lt;<a href="mailto:andreas_kupries@users.sourceforge.net">andreas_kupries@users.sourceforge.net</a>&gt;

tcllib                                                1.0.7                                          <u><a href="../man3tcl/debug.3tcl.html">debug</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>