<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text::Xslate::Manual::Debugging - Debugging techniques for Xslate templates</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtext-xslate-perl">libtext-xslate-perl_3.5.9-2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Text::Xslate::Manual::Debugging - Debugging techniques for Xslate templates

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This document describes techniques for debugging templates.

   <b>Setting</b> <b>"verbose</b> <b>=&gt;</b> <b>2"</b>
       Try "verbose =&gt; 2" in the first step. This option enables full warnings, especially warnings related to
       "undef".

   <b>File</b> <b>names</b> <b>and</b> <b>line</b> <b>numbers</b>
       Xslate messages include file names, line numbers, and, if possible, source code lines which seems
       problems.

       You can also access the file name and the line number in templates by "__FILE__" and "__LINE__" tokens
       just like as Perl.

       If you want reports files and lines from your registered functions, "Text::Xslate-&gt;current_file" and
       "Text::Xslate-&gt;current_line" in callbacks are the same as "__FILE__" and "__LINE__" in templates
       respectively.

           sub my_sqrt {
               my($n) = @_;

               if($n &lt; 1) {
                   # return a message instead of warnings
                   return sprintf "!!! Can't take sqrt of $n at %s line %d !!!",
                       Text::Xslate-&gt;current_file, Text::Xslate-&gt;current_line;
               }
               return sqrt($n);
           }

           my $tx = Text::Xslate-&gt;new(
               function =&gt; { sqrt =&gt; \&amp;my_sqrt },
           );

   <b>To</b> <b>dump</b> <b>values</b>
       You can use any dumping modules via the "function" option, but Xslate has a builtin "dump" filter to dump
       template values.

           &lt;: $value | dump # Dump $value with Data::Dumper :&gt;

   <b>Detection</b> <b>of</b> <b>missing</b> <b>variables</b> <b>(or</b> <b>typos</b> <b>or</b> <b>variable</b> <b>names)</b>
       Xslate itself has warning system for use of uninitialized values, but sometimes it is not enough.

       If you want fill in some string, e.g. <b>FILL</b> <b>ME</b>, for missing variables, you can use the hash_with_default()
       utility. For example:

           use Text::Xslate::Util qw(hash_with_default);
           $tx-&gt;render($name, hash_with_default(\%vars, sub { "FILL ME '@_' " }) );

       Note that this is really <b>slow</b> because it is a tied-hash wrapper.

   <b>Customization</b> <b>of</b> <b>error</b> <b>messages</b>
       You can customize error handlers by "warn_handler" and "die_handler".  In these handlers, you can call
       "Text::Xslate-&gt;print()" method in order to add your custom messages to the output buffer, which makes
       debugging easier.

           #!perl -w
           use strict;
           use Text::Xslate;
           my %vpath = (
               hello =&gt; 'Hello, &lt;: $lang :&gt; world!' . "\n",
           );
           my $tx = Text::Xslate-&gt;new(
               path         =&gt; \%vpath,
               verbose      =&gt; 2,
               warn_handler =&gt; sub { Text::Xslate-&gt;print('[[', @_, ']]') },
           );

           print $tx-&gt;render('hello', { });
           # =&gt; Hello, [[use nil to print at ...]] world!

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Text::Xslate

       Text::Xslate::Manual

perl v5.40.0                                       2024-10-20               <u>Text::Xslate::Manual::<a href="../man3pm/Debugging.3pm.html">Debugging</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>