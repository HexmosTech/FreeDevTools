<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>"Devel::MAT::Tool::Sizes" - calculate sizes of SV structures</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdevel-mat-perl">libdevel-mat-perl_0.53-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       "Devel::MAT::Tool::Sizes" - calculate sizes of SV structures

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This "Devel::MAT" tool calculates the sizes of the structures around SVs.  The individual size of each
       individual SV is given by the "size" method, though in several cases SVs can be considered to be part of
       larger structures of a combined aggregate size. This tool calculates those sizes and adds them to the UI.

       The structural size is calculated from the basic size of the SV, added to which for various types is:

       ARRAY
         Arrays add the basic size of every non-mortal element SV.

       HASH
         Hashes add the basic size of every non-mortal value SV.

       CODE
         Codes  add  the basic size of their padlist and constant value, and all their padnames, pads, constants
         and globrefs.

       The owned size is calculated by starting at the given SV and accumulating the set of every strong  outref
       whose refcount is 1. This is the set of all SVs the original directly owns.

</pre><h4><b>SV</b> <b>METHODS</b></h4><pre>
       This tool adds the following SV methods.

   <b>structure_set</b>
          @svs = $sv-&gt;structure_set;

       Returns the total set of the SV's structure.

   <b>structure_size</b>
          $size = $sv-&gt;structure_size;

       Returns the size, in bytes, of the structure that the SV contains.

   <b>owned_set</b>
          @svs = $sv-&gt;owned_set;

       Returns the set of every SV owned by the given one.

   <b>owned_size</b>
          $size = $sv-&gt;owned_size;

       Returns the total size, in bytes, of the SVs owned by the given one.

</pre><h4><b>COMMANDS</b></h4><pre>
   <b>size</b>
       Prints the sizes of a given SV

          pmat&gt; size defstash
          <a href="../man61/STASH.61.html">STASH</a>(61) at 0x556e47243e10=defstash consumes:
            2.1 KiB directly
            11.2 KiB structurally
            54.2 KiB including owned referrants

   <b>largest</b>
          pmat&gt; largest -owned
          <a href="../man61/STASH.61.html">STASH</a>(61) at 0x55e4317dfe10: 54.2 KiB: of which
           |   GLOB(%*) at 0x55e43180be60: 16.9 KiB: of which
           |    |   <a href="../man40/STASH.40.html">STASH</a>(40) at 0x55e43180bdd0: 16.7 KiB
           |    |   GLOB(&amp;*) at 0x55e4318ad330: 2.8 KiB
           |    |   others: 15.0 KiB
           |   GLOB(%*) at 0x55e4317fdf28: 4.1 KiB: of which
           |    |   <a href="../man34/STASH.34.html">STASH</a>(34) at 0x55e4317fdf40: 4.0 KiB bytes
          ...

       Finds and prints the largest SVs by size. The 5 largest SVs are shown.

       If counting sizes in a way that includes referred SVs, a tree is printed showing the 3 largest SVs within
       these, and of those the 2 largest referred SVs again. This should help identify large memory occupiers.

       Takes the following named options:

       --struct
           Count SVs using the structural size.

       --owned
           Count SVs using the owned size.

       By default, only the individual SV size is counted.

</pre><h4><b>AUTHOR</b></h4><pre>
       Paul Evans &lt;<a href="mailto:leonerd@leonerd.org.uk">leonerd@leonerd.org.uk</a>&gt;

perl v5.40.0                                       2024-10-20                       <u>Devel::MAT::Tool::<a href="../man3pm/Sizes.3pm.html">Sizes</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>