<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_UNRESTRICTED_AUTH - send credentials to other hosts too</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_UNRESTRICTED_AUTH - send credentials to other hosts too

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_UNRESTRICTED_AUTH,
                                 long goahead);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Set  the  long  <u>gohead</u>  parameter  to  1L to make libcurl continue to send authentication (user+password)
       credentials or explicitly set cookie headers when following locations, even when the host  changes.  This
       option is meaningful only when setting <u><a href="../man3/CURLOPT_FOLLOWLOCATION.3.html">CURLOPT_FOLLOWLOCATION</a>(3)</u>.

       Further, when this option is not used or set to <b>0L</b>, libcurl does not send custom nor internally generated
       <u>Authentication:</u> or <u>Cookie:</u> headers on requests done to other hosts than the one used for the initial URL.
       Another host means that one or more of hostname, protocol scheme or port number changed.

       By  default,  libcurl only sends <u>Authentication:</u> or explicitly set <u>Cookie:</u> headers to the initial host as
       given in the original URL, to avoid leaking username + password to other sites.

       This option should be used with caution: when curl follows redirects it blindly fetches the next  URL  as
       instructed  by  the  server.  Setting  <u><a href="../man3/CURLOPT_UNRESTRICTED_AUTH.3.html">CURLOPT_UNRESTRICTED_AUTH</a>(3)</u> to 1L makes curl trust the server and
       sends possibly sensitive credentials to any host the server points to, possibly again and  again  as  the
       following hosts can keep redirecting to new hosts.

       Due to the way HTTP works, almost any header can be made to contain data a client may not want to pass on
       to other servers than the initially intended host and for all other headers than the two mentioned above,
       there is no protection from this happening when libcurl is told to follow redirects.

</pre><h4><b>DEFAULT</b></h4><pre>
       0

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects http only

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           curl_easy_setopt(curl, CURLOPT_URL, "https://example.com");
           curl_easy_setopt(curl, CURLOPT_FOLLOWLOCATION, 1L);
           curl_easy_setopt(curl, CURLOPT_UNRESTRICTED_AUTH, 1L);
           curl_easy_perform(curl);
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.10.4

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLINFO_REDIRECT_COUNT.3.html">CURLINFO_REDIRECT_COUNT</a></b>(3),                <b><a href="../man3/CURLOPT_FOLLOWLOCATION.3.html">CURLOPT_FOLLOWLOCATION</a></b>(3),               <b><a href="../man3/CURLOPT_MAXREDIRS.3.html">CURLOPT_MAXREDIRS</a></b>(3),
       <b><a href="../man3/CURLOPT_REDIR_PROTOCOLS_STR.3.html">CURLOPT_REDIR_PROTOCOLS_STR</a></b>(3), <b><a href="../man3/CURLOPT_USERPWD.3.html">CURLOPT_USERPWD</a></b>(3)

libcurl                                            2025-06-16                       <u><a href="../man3/CURLOPT_UNRESTRICTED_AUTH.3.html">CURLOPT_UNRESTRICTED_AUTH</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>