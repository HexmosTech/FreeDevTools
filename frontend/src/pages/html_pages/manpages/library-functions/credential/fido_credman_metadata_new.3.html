<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fido_credman_metadata_new,    fido_credman_rk_new,    fido_credman_rp_new,    fido_credman_metadata_free,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libfido2-doc">libfido2-doc_1.15.0-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fido_credman_metadata_new,    fido_credman_rk_new,    fido_credman_rp_new,    fido_credman_metadata_free,
       fido_credman_rk_free,    fido_credman_rp_free,    fido_credman_rk_existing,    fido_credman_rk_remaining,
       fido_credman_rk,  fido_credman_rk_count, fido_credman_rp_id, fido_credman_rp_name, fido_credman_rp_count,
       fido_credman_rp_id_hash_ptr,         fido_credman_rp_id_hash_len,          fido_credman_get_dev_metadata,
       fido_credman_get_dev_rk,   fido_credman_set_dev_rk,  fido_credman_del_dev_rk,  fido_credman_get_dev_rp  —
       FIDO2 credential management API

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;fido.h&gt;</b>
       <b>#include</b> <b>&lt;fido/credman.h&gt;</b>

       <u>fido_credman_metadata_t</u> <u>*</u>
       <b>fido_credman_metadata_new</b>(<u>void</u>);

       <u>fido_credman_rk_t</u> <u>*</u>
       <b>fido_credman_rk_new</b>(<u>void</u>);

       <u>fido_credman_rp_t</u> <u>*</u>
       <b>fido_credman_rp_new</b>(<u>void</u>);

       <u>void</u>
       <b>fido_credman_metadata_free</b>(<u>fido_credman_metadata_t</u> <u>**metadata_p</u>);

       <u>void</u>
       <b>fido_credman_rk_free</b>(<u>fido_credman_rk_t</u> <u>**rk_p</u>);

       <u>void</u>
       <b>fido_credman_rp_free</b>(<u>fido_credman_rp_t</u> <u>**rp_p</u>);

       <u>uint64_t</u>
       <b>fido_credman_rk_existing</b>(<u>const</u> <u>fido_credman_metadata_t</u> <u>*metadata</u>);

       <u>uint64_t</u>
       <b>fido_credman_rk_remaining</b>(<u>const</u> <u>fido_credman_metadata_t</u> <u>*metadata</u>);

       <u>const</u> <u>fido_cred_t</u> <u>*</u>
       <b>fido_credman_rk</b>(<u>const</u> <u>fido_credman_rk_t</u> <u>*rk</u>, <u>size_t</u> <u>idx</u>);

       <u>size_t</u>
       <b>fido_credman_rk_count</b>(<u>const</u> <u>fido_credman_rk_t</u> <u>*rk</u>);

       <u>const</u> <u>char</u> <u>*</u>
       <b>fido_credman_rp_id</b>(<u>const</u> <u>fido_credman_rp_t</u> <u>*rp</u>, <u>size_t</u> <u>idx</u>);

       <u>const</u> <u>char</u> <u>*</u>
       <b>fido_credman_rp_name</b>(<u>const</u> <u>fido_credman_rp_t</u> <u>*rp</u>, <u>size_t</u> <u>idx</u>);

       <u>size_t</u>
       <b>fido_credman_rp_count</b>(<u>const</u> <u>fido_credman_rp_t</u> <u>*rp</u>);

       <u>const</u> <u>unsigned</u> <u>char</u> <u>*</u>
       <b>fido_credman_rp_id_hash_ptr</b>(<u>const</u> <u>fido_credman_rp_t</u> <u>*rp</u>, <u>size_t</u> <u>idx</u>);

       <u>size_t</u>
       <b>fido_credman_rp_id_hash_len</b>(<u>const</u> <u>fido_credman_rp_t</u> <u>*</u>, <u>size_t</u> <u>idx</u>);

       <u>int</u>
       <b>fido_credman_get_dev_metadata</b>(<u>fido_dev_t</u> <u>*dev</u>, <u>fido_credman_metadata_t</u> <u>*metadata</u>, <u>const</u> <u>char</u> <u>*pin</u>);

       <u>int</u>
       <b>fido_credman_get_dev_rk</b>(<u>fido_dev_t</u> <u>*dev</u>, <u>const</u> <u>char</u> <u>*rp_id</u>, <u>fido_credman_rk_t</u> <u>*rk</u>, <u>const</u> <u>char</u> <u>*pin</u>);

       <u>int</u>
       <b>fido_credman_set_dev_rk</b>(<u>fido_dev_t</u> <u>*dev</u>, <u>fido_cred_t</u> <u>*cred</u>, <u>const</u> <u>char</u> <u>*pin</u>);

       <u>int</u>
       <b>fido_credman_del_dev_rk</b>(<u>fido_dev_t</u>   <u>*dev</u>,   <u>const</u>   <u>unsigned</u>   <u>char</u>   <u>*cred_id</u>,   <u>size_t</u>    <u>cred_id_len</u>,
           <u>const</u> <u>char</u> <u>*pin</u>);

       <u>int</u>
       <b>fido_credman_get_dev_rp</b>(<u>fido_dev_t</u> <u>*dev</u>, <u>fido_credman_rp_t</u> <u>*rp</u>, <u>const</u> <u>char</u> <u>*pin</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  credential  management  API  of  <u>libfido2</u> allows resident credentials on a FIDO2 authenticator to be
       listed, inspected, modified, and  removed.   Please  note  that  not  all  FIDO2  authenticators  support
       credential  management.   To  obtain  information  on  what  an  authenticator  supports, please refer to
       <u><a href="../man3/fido_cbor_info_new.3.html">fido_cbor_info_new</a></u>(3).

       The <u>fido_credman_metadata_t</u> type abstracts credential management metadata.

       The  <b>fido_credman_metadata_new</b>()   function   returns   a   pointer   to   a   newly   allocated,   empty
       <u>fido_credman_metadata_t</u> type.  If memory cannot be allocated, NULL is returned.

       The <b>fido_credman_metadata_free</b>() function releases the memory backing <u>*metadata_p</u>, where <u>*metadata_p</u> must
       have  been  previously  allocated by <b>fido_credman_metadata_new</b>().  On return, <u>*metadata_p</u> is set to NULL.
       Either <u>metadata_p</u> or <u>*metadata_p</u> may be NULL, in which case <b>fido_credman_metadata_free</b>() is a NOP.

       The <b>fido_credman_get_dev_metadata</b>() function populates <u>metadata</u> with information retrieved from  <u>dev</u>.   A
       valid <u>pin</u> must be provided.

       The  <b>fido_credman_rk_existing</b>() function inspects <u>metadata</u> and returns the number of resident credentials
       on the authenticator.   The  <b>fido_credman_rk_remaining</b>()  function  inspects  <u>metadata</u>  and  returns  the
       estimated number of resident credentials that can be created on the authenticator.

       The <u>fido_credman_rk_t</u> type abstracts the set of resident credentials belonging to a given relying party.

       The  <b>fido_credman_rk_new</b>() function returns a pointer to a newly allocated, empty <u>fido_credman_rk_t</u> type.
       If memory cannot be allocated, NULL is returned.

       The <b>fido_credman_rk_free</b>() function releases the  memory  backing  <u>*rk_p</u>,  where  <u>*rk_p</u>  must  have  been
       previously  allocated  by  <b>fido_credman_rk_new</b>().  On return, <u>*rk_p</u> is set to NULL.  Either <u>rk_p</u> or <u>*rk_p</u>
       may be NULL, in which case <b>fido_credman_rk_free</b>() is a NOP.

       The <b>fido_credman_get_dev_rk</b>() function populates <u>rk</u> with the set of  resident  credentials  belonging  to
       <u>rp_id</u> in <u>dev</u>.  A valid <u>pin</u> must be provided.

       The   <b>fido_credman_rk_count</b>()   function   returns  the  number  of  resident  credentials  in  <u>rk</u>.   The
       <b>fido_credman_rk</b>() function returns a pointer to the credential at index <u>idx</u> in <u>rk</u>.  Please note that  the
       first credential in <u>rk</u> has an <u>idx</u> (index) value of 0.

       The  <b>fido_credman_set_dev_rk</b>() function updates the credential pointed to by <u>cred</u> in <u>dev</u>.  The credential
       id and user id attributes of <u>cred</u> must be set.  See  <u><a href="../man3/fido_cred_set_id.3.html">fido_cred_set_id</a></u>(3)  and  <u><a href="../man3/fido_cred_set_user.3.html">fido_cred_set_user</a></u>(3)  for
       details.  Only a credential's user attributes (name, display name) may be updated at this time.

       The  <b>fido_credman_del_dev_rk</b>()  function  deletes the resident credential identified by <u>cred_id</u> from <u>dev</u>,
       where <u>cred_id</u> points to <u>cred_id_len</u> bytes.  A valid <u>pin</u> must be provided.

       The <u>fido_credman_rp_t</u> type abstracts information about a relying party.

       The <b>fido_credman_rp_new</b>() function returns a pointer to a newly allocated, empty <u>fido_credman_rp_t</u>  type.
       If memory cannot be allocated, NULL is returned.

       The  <b>fido_credman_rp_free</b>()  function  releases  the  memory  backing  <u>*rp_p</u>,  where <u>*rp_p</u> must have been
       previously allocated by <b>fido_credman_rp_new</b>().  On return, <u>*rp_p</u> is set to NULL.  Either  <u>rp_p</u>  or  <u>*rp_p</u>
       may be NULL, in which case <b>fido_credman_rp_free</b>() is a NOP.

       The  <b>fido_credman_get_dev_rp</b>() function populates <u>rp</u> with information about relying parties with resident
       credentials in <u>dev</u>.  A valid <u>pin</u> must be provided.

       The <b>fido_credman_rp_count</b>() function returns the number of relying parties in <u>rp</u>.

       The <b>fido_credman_rp_id</b>() and <b>fido_credman_rp_name</b>() functions return pointers  to  the  id  and  name  of
       relying  party  <u>idx</u>  in  <u>rp</u>.  If not NULL, the values returned by these functions point to NUL-terminated
       UTF-8 strings.  Please note that the first relying party in <u>rp</u> has an <u>idx</u> (index) value of 0.

       The <b>fido_credman_rp_id_hash_ptr</b>() function returns a pointer to the hashed id of relying party <u>idx</u> in <u>rp</u>.
       The corresponding length can be obtained by <b>fido_credman_rp_id_hash_len</b>().  Please note  that  the  first
       relying party in <u>rp</u> has an <u>idx</u> (index) value of 0.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The      <b>fido_credman_get_dev_metadata</b>(),      <b>fido_credman_get_dev_rk</b>(),      <b>fido_credman_set_dev_rk</b>(),
       <b>fido_credman_del_dev_rk</b>(), and <b>fido_credman_get_dev_rp</b>() functions return FIDO_OK on success.  On  error,
       a  different  error  code  defined  in  &lt;<u>fido/err.h</u>&gt;  is  returned.  Functions returning pointers are not
       guaranteed to succeed, and should have their return values checked for NULL.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/fido_cbor_info_new.3.html">fido_cbor_info_new</a></u>(3), <u><a href="../man3/fido_cred_new.3.html">fido_cred_new</a></u>(3), <u><a href="../man3/fido_dev_supports_credman.3.html">fido_dev_supports_credman</a></u>(3)

</pre><h4><b>CAVEATS</b></h4><pre>
       Resident credentials are called “discoverable credentials” in CTAP 2.1.

Debian                                            June 28, 2019                     <u><a href="../man3/FIDO_CREDMAN_METADATA_NEW.3.html">FIDO_CREDMAN_METADATA_NEW</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>