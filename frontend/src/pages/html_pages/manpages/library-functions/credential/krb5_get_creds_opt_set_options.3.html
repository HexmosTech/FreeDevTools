<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>krb5_get_creds,    krb5_get_creds_opt_add_options,   krb5_get_creds_opt_alloc,   krb5_get_creds_opt_free,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/heimdal-dev">heimdal-dev_7.8.git20221117.28daf24+dfsg-9ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       krb5_get_creds,    krb5_get_creds_opt_add_options,   krb5_get_creds_opt_alloc,   krb5_get_creds_opt_free,
       krb5_get_creds_opt_set_enctype,    krb5_get_creds_opt_set_impersonate,    krb5_get_creds_opt_set_options,
       krb5_get_creds_opt_set_ticket â€” get credentials from the KDC

</pre><h4><b>LIBRARY</b></h4><pre>
       Kerberos 5 Library (libkrb5, -lkrb5)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;krb5.h&gt;</b>

       <u>krb5_error_code</u>
       <b>krb5_get_creds</b>(<u>krb5_context</u> <u>context</u>,              <u>krb5_get_creds_opt</u> <u>opt</u>,             <u>krb5_ccache</u> <u>ccache</u>,
           <u>krb5_const_principal</u> <u>inprinc</u>, <u>krb5_creds</u> <u>**out_creds</u>);

       <u>void</u>
       <b>krb5_get_creds_opt_add_options</b>(<u>krb5_context</u> <u>context</u>, <u>krb5_get_creds_opt</u> <u>opt</u>, <u>krb5_flags</u> <u>options</u>);

       <u>krb5_error_code</u>
       <b>krb5_get_creds_opt_alloc</b>(<u>krb5_context</u> <u>context</u>, <u>krb5_get_creds_opt</u> <u>*opt</u>);

       <u>void</u>
       <b>krb5_get_creds_opt_free</b>(<u>krb5_context</u> <u>context</u>, <u>krb5_get_creds_opt</u> <u>opt</u>);

       <u>void</u>
       <b>krb5_get_creds_opt_set_enctype</b>(<u>krb5_context</u> <u>context</u>, <u>krb5_get_creds_opt</u> <u>opt</u>, <u>krb5_enctype</u> <u>enctype</u>);

       <u>krb5_error_code</u>
       <b>krb5_get_creds_opt_set_impersonate</b>(<u>krb5_context</u> <u>context</u>,                          <u>krb5_get_creds_opt</u> <u>opt</u>,
           <u>krb5_const_principal</u> <u>self</u>);

       <u>void</u>
       <b>krb5_get_creds_opt_set_options</b>(<u>krb5_context</u> <u>context</u>, <u>krb5_get_creds_opt</u> <u>opt</u>, <u>krb5_flags</u> <u>options</u>);

       <u>krb5_error_code</u>
       <b>krb5_get_creds_opt_set_ticket</b>(<u>krb5_context</u> <u>context</u>, <u>krb5_get_creds_opt</u> <u>opt</u>, <u>const</u> <u>Ticket</u> <u>*ticket</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>krb5_get_creds</b>() fetches credentials specified by <u>opt</u> by first looking in the <u>ccache</u>, and then it doesn't
       exists,  fetch  the  credential  from the KDC using the krbtgts in <u>ccache</u>.  The credential is returned in
       <u>out_creds</u> and should be freed using the function <b>krb5_free_creds</b>().

       The structure <b>krb5_get_creds_opt</b> controls the behavior of <b>krb5_get_creds</b>().  The structure is  opaque  to
       consumers that can set the content of the structure with accessors functions. All accessor functions make
       copies  of  the data that is passed into accessor functions, so external consumers free the memory before
       calling <b>krb5_get_creds</b>().

       The  structure  <b>krb5_get_creds_opt</b>  is  allocated  with   <b>krb5_get_creds_opt_alloc</b>()   and   freed   with
       <b>krb5_get_creds_opt_free</b>().  The free function also frees the content of the structure set by the accessor
       functions.

       <b>krb5_get_creds_opt_add_options</b>()  and  <b>krb5_get_creds_opt_set_options</b>()  adds  and  sets  options  to the
       <b>krb5_get_creds_opt</b> structure .  The possible options to set are
       KRB5_GC_CACHED     Only check the <u>ccache</u>, don't got out on network to fetch credential.
       KRB5_GC_USER_USER  request a user to user ticket.  This options doesn't store the resulting user to  user
                          credential in the <u>ccache</u>.
       KRB5_GC_EXPIRED_OK
                          returns  the  credential  even if it is expired, default behavior is trying to refetch
                          the credential from the KDC.
       KRB5_GC_NO_STORE   Do not store the resulting credentials in the <u>ccache</u>.

       <b>krb5_get_creds_opt_set_enctype</b>() sets the preferred encryption type of the application.  Don't  set  this
       unless you have to since if there is no match in the KDC, the function call will fail.

       <b>krb5_get_creds_opt_set_impersonate</b>()  sets  the principal to impersonate., Returns a ticket that have the
       impersonation principal as a client and the requestor as the service. Note that the  requested  principal
       have to be the same as the client principal in the krbtgt.

       <b>krb5_get_creds_opt_set_ticket</b>()  sets  the extra ticket used in user-to-user or contrained delegation use
       case.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/krb5.3.html">krb5</a></u>(3), <u><a href="../man3/krb5_get_credentials.3.html">krb5_get_credentials</a></u>(3), <u><a href="../man5/krb5.conf.5.html">krb5.conf</a></u>(5)

HEIMDAL                                           June 15, 2006                                <u><a href="../man3/KRB5_GET_CREDS.3.html">KRB5_GET_CREDS</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>