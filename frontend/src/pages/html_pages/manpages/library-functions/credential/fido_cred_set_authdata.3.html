<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fido_cred_set_authdata,    fido_cred_set_authdata_raw,    fido_cred_set_attstmt,    fido_cred_set_attobj,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libfido2-doc">libfido2-doc_1.16.0-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fido_cred_set_authdata,    fido_cred_set_authdata_raw,    fido_cred_set_attstmt,    fido_cred_set_attobj,
       fido_cred_set_x509,        fido_cred_set_sig,         fido_cred_set_id,         fido_cred_set_clientdata,
       fido_cred_set_clientdata_hash,     fido_cred_set_rp,     fido_cred_set_user,     fido_cred_set_entattest,
       fido_cred_set_extensions,     fido_cred_set_blob,      fido_cred_set_pin_minlen,      fido_cred_set_prot,
       fido_cred_set_rk,  fido_cred_set_uv,  fido_cred_set_fmt,  fido_cred_set_type  — set parameters of a FIDO2
       credential

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;fido.h&gt;</b>

       typedef enum {
               FIDO_OPT_OMIT = 0, /* use authenticator's default */
               FIDO_OPT_FALSE,    /* explicitly set option to false */
               FIDO_OPT_TRUE,     /* explicitly set option to true */
       } fido_opt_t;

       <u>int</u>
       <b>fido_cred_set_authdata</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>const</u> <u>unsigned</u> <u>char</u> <u>*ptr</u>, <u>size_t</u> <u>len</u>);

       <u>int</u>
       <b>fido_cred_set_authdata_raw</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>const</u> <u>unsigned</u> <u>char</u> <u>*ptr</u>, <u>size_t</u> <u>len</u>);

       <u>int</u>
       <b>fido_cred_set_attstmt</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>const</u> <u>unsigned</u> <u>char</u> <u>*ptr</u>, <u>size_t</u> <u>len</u>);

       <u>int</u>
       <b>fido_cred_set_attobj</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>const</u> <u>unsigned</u> <u>char</u> <u>*ptr</u>, <u>size_t</u> <u>len</u>);

       <u>int</u>
       <b>fido_cred_set_x509</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>const</u> <u>unsigned</u> <u>char</u> <u>*ptr</u>, <u>size_t</u> <u>len</u>);

       <u>int</u>
       <b>fido_cred_set_sig</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>const</u> <u>unsigned</u> <u>char</u> <u>*ptr</u>, <u>size_t</u> <u>len</u>);

       <u>int</u>
       <b>fido_cred_set_id</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>const</u> <u>unsigned</u> <u>char</u> <u>*ptr</u>, <u>size_t</u> <u>len</u>);

       <u>int</u>
       <b>fido_cred_set_clientdata</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>const</u> <u>unsigned</u> <u>char</u> <u>*ptr</u>, <u>size_t</u> <u>len</u>);

       <u>int</u>
       <b>fido_cred_set_clientdata_hash</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>const</u> <u>unsigned</u> <u>char</u> <u>*ptr</u>, <u>size_t</u> <u>len</u>);

       <u>int</u>
       <b>fido_cred_set_rp</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>const</u> <u>char</u> <u>*id</u>, <u>const</u> <u>char</u> <u>*name</u>);

       <u>int</u>
       <b>fido_cred_set_user</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>const</u> <u>unsigned</u> <u>char</u> <u>*user_id</u>, <u>size_t</u> <u>user_id_len</u>, <u>const</u> <u>char</u> <u>*name</u>,
           <u>const</u> <u>char</u> <u>*display_name</u>, <u>const</u> <u>char</u> <u>*icon</u>);

       <u>int</u>
       <b>fido_cred_set_entattest</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>int</u> <u>ea</u>);

       <u>int</u>
       <b>fido_cred_set_extensions</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>int</u> <u>flags</u>);

       <u>int</u>
       <b>fido_cred_set_blob</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>const</u> <u>unsigned</u> <u>char</u> <u>*ptr</u>, <u>size_t</u> <u>len</u>);

       <u>int</u>
       <b>fido_cred_set_pin_minlen</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>size_t</u> <u>len</u>);

       <u>int</u>
       <b>fido_cred_set_prot</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>int</u> <u>prot</u>);

       <u>int</u>
       <b>fido_cred_set_rk</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>fido_opt_t</u> <u>rk</u>);

       <u>int</u>
       <b>fido_cred_set_uv</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>fido_opt_t</u> <u>uv</u>);

       <u>int</u>
       <b>fido_cred_set_fmt</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>const</u> <u>char</u> <u>*ptr</u>);

       <u>int</u>
       <b>fido_cred_set_type</b>(<u>fido_cred_t</u> <u>*cred</u>, <u>int</u> <u>cose_alg</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>fido_cred_set_authdata</b> set of functions define the various parameters of a FIDO2 credential, allowing
       a <u>fido_cred_t</u> type to be prepared for a subsequent call to <u><a href="../man3/fido_dev_make_cred.3.html">fido_dev_make_cred</a></u>(3) or  <u><a href="../man3/fido_cred_verify.3.html">fido_cred_verify</a></u>(3).
       For  the  complete  specification  of  a FIDO2 credential and the format of its constituent parts, please
       refer to the Web Authentication (webauthn) standard.

       The  <b>fido_cred_set_authdata</b>(),  <b>fido_cred_set_attstmt</b>(),  <b>fido_cred_set_attobj</b>(),   <b>fido_cred_set_x509</b>(),
       <b>fido_cred_set_sig</b>(),   <b>fido_cred_set_id</b>(),   and   <b>fido_cred_set_clientdata_hash</b>()   functions   set  the
       authenticator data, attestation  statement,  attestation  object,  attestation  certificate,  attestation
       signature,  id,  and client data hash parts of <u>cred</u> to <u>ptr</u>, where <u>ptr</u> points to <u>len</u> bytes.  A copy of <u>ptr</u>
       is made, and no references to the passed pointer are kept.

       The authenticator data passed to <b>fido_cred_set_authdata</b>() must be a CBOR-encoded byte string, as obtained
       from   <b>fido_cred_authdata_ptr</b>().    Alternatively,   a   raw   binary   blob    may    be    passed    to
       <b>fido_cred_set_authdata_raw</b>().   An  application  calling  <b>fido_cred_set_authdata</b>()  does not need to call
       <b>fido_cred_set_id</b>().  The latter is meant to be used in contexts where the credential's authenticator data
       is not available.

       The attestation statement passed to <b>fido_cred_set_attstmt</b>() must be a CBOR-encoded map, as obtained  from
       <b>fido_cred_attstmt_ptr</b>().    An   application  calling  <b>fido_cred_set_attstmt</b>()  does  not  need  to  call
       <b>fido_cred_set_x509</b>() or <b>fido_cred_set_sig</b>().  The latter two are meant to be used in contexts  where  the
       credential's complete attestation statement is not available or required.

       The attestation object passed to <b>fido_cred_set_attobj</b>() must be a CBOR-encoded map containing “authData”,
       “fmt”,   and   “attStmt”.    An   application  calling  <b>fido_cred_set_attobj</b>()  does  not  need  to  call
       <b>fido_cred_set_fmt</b>(), <b>fido_cred_set_attstmt</b>(), <b>fido_cred_set_authdata</b>(), or  <b>fido_cred_set_authdata_raw</b>().
       <b>fido_cred_set_attobj</b>() may be useful in applications interfacing with the WebAuthn API, removing the need
       to first parse the attestation object to verify the credential.

       The  <b>fido_cred_set_clientdata</b>()  function  allows  an  application to set the client data hash of <u>cred</u> by
       specifying the credential's unhashed client data.  This is required by Windows  Hello,  which  calculates
       the  client  data  hash  internally.   For  compatibility  with  Windows  Hello,  applications should use
       <b>fido_cred_set_clientdata</b>() instead of <b>fido_cred_set_clientdata_hash</b>().

       The <b>fido_cred_set_rp</b>() function sets the relying party <u>id</u> and <u>name</u> parameters of <u>cred</u>, where <u>id</u> and  <u>name</u>
       are  NUL-terminated  UTF-8  strings.   The  contents  of <u>id</u> and <u>name</u> are copied, and no references to the
       passed pointers are kept.

       The <b>fido_cred_set_user</b>() function sets the user attributes of <u>cred</u>, where <u>user_id</u> points  to  <u>user_id_len</u>
       bytes  and <u>name</u>, <u>display_name</u>, and <u>icon</u> are NUL-terminated UTF-8 strings.  The contents of <u>user_id</u>, <u>name</u>,
       <u>display_name</u>, and <u>icon</u> are copied, and no references to the passed pointers  are  kept.   Previously  set
       user attributes are flushed.  The <u>user_id</u>, <u>name</u>, <u>display_name</u>, and <u>icon</u> parameters may be NULL.

       The  <b>fido_cred_set_entattest</b>()  function  sets  the  enterprise  attestation  mode of <u>cred</u> to <u>ea</u>.  At the
       moment, only the FIDO_ENTATTEST_VENDOR and FIDO_ENTATTEST_PLATFORM modes are supported.  By  default,  or
       if <u>ea</u> is zero, no enterprise attestation is requested.

       The <b>fido_cred_set_extensions</b>() function sets the extensions of <u>cred</u> to the bitmask <u>flags</u>.  At the moment,
       only   the   FIDO_EXT_CRED_BLOB,  FIDO_EXT_CRED_PROTECT,  FIDO_EXT_HMAC_SECRET,  FIDO_EXT_MINPINLEN,  and
       FIDO_EXT_LARGEBLOB_KEY extensions are supported.  If <u>flags</u> is zero, the extensions of <u>cred</u> are cleared.

       The <b>fido_cred_set_blob</b>() function sets the “credBlob” to be stored with <u>cred</u> to the data  pointed  to  by
       <u>ptr</u>, which must be <u>len</u> bytes long.

       The  <b>fido_cred_set_pin_minlen</b>()  function  enables  the CTAP 2.1 FIDO_EXT_MINPINLEN extension on <u>cred</u> and
       sets the expected minimum PIN length of <u>cred</u> to <u>len</u>, where <u>len</u> is greater than zero.  If <u>len</u> is zero, the
       FIDO_EXT_MINPINLEN extension is disabled on <u>cred</u>.

       The <b>fido_cred_set_prot</b>() function enables the CTAP 2.1 FIDO_EXT_CRED_PROTECT extension on <u>cred</u>  and  sets
       the  protection  of  <u>cred</u>  to  the  scalar  <u>prot</u>.   At  the  moment, only the FIDO_CRED_PROT_UV_OPTIONAL,
       FIDO_CRED_PROT_UV_OPTIONAL_WITH_ID, and FIDO_CRED_PROT_UV_REQUIRED protections are supported.  If <u>prot</u> is
       zero, the protection of <u>cred</u> is cleared.

       The <b>fido_cred_set_rk</b>() and <b>fido_cred_set_uv</b>() functions set the <u>rk</u>  (resident/discoverable  key)  and  <u>uv</u>
       (user verification) attributes of <u>cred</u>.  Both are FIDO_OPT_OMIT by default, allowing the authenticator to
       use its default settings.

       The  <b>fido_cred_set_fmt</b>()  function sets the attestation statement format identifier of <u>cred</u> to <u>fmt</u>, where
       <u>fmt</u> must be <u>packed</u> (the format used in FIDO2), <u>fido-u2f</u> (the format used in U2F), <u>tpm</u> (the format used by
       TPM-based authenticators), or <u>none</u>.  A copy of <u>fmt</u> is made, and no references to the passed  pointer  are
       kept.  Note that not all authenticators support FIDO2 and therefore may only be able to generate <u>fido-u2f</u>
       attestation statements.

       The  <b>fido_cred_set_type</b>()  function  sets  the  type  of  <u>cred</u> <u>to</u> <u>cose_alg</u>, where <u>cose_alg</u> is COSE_ES256,
       COSE_ES384, COSE_RS256, or COSE_EDDSA.  The type of a credential may only be set once.  Note that not all
       authenticators support COSE_RS256, COSE_ES384, or COSE_EDDSA.

       Use of the <b>fido_cred_set_authdata</b> set of functions may happen in two distinct situations: when generating
       a new credential on a FIDO2 device, prior to <u><a href="../man3/fido_dev_make_cred.3.html">fido_dev_make_cred</a></u>(3)  (i.e,  in  the  context  of  a  FIDO2
       client),  or  when  validating a generated credential using <u><a href="../man3/fido_cred_verify.3.html">fido_cred_verify</a></u>(3) (i.e, in the context of a
       FIDO2 server).

       For a complete description of the generation of a FIDO2 credential and its verification, please refer  to
       the  FIDO2  specification.  A concrete utilisation example of the <b>fido_cred_set_authdata</b> set of functions
       can be found in the <u>cred.c</u> example shipped with <u>libfido2</u>.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The error codes returned by the <b>fido_cred_set_authdata</b> set of functions are defined in &lt;<u>fido/err.h</u>&gt;.   On
       success, FIDO_OK is returned.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/fido_cred_exclude.3.html">fido_cred_exclude</a></u>(3), <u><a href="../man3/fido_cred_verify.3.html">fido_cred_verify</a></u>(3), <u><a href="../man3/fido_dev_make_cred.3.html">fido_dev_make_cred</a></u>(3)

Debian                                            July 15, 2022                        <u><a href="../man3/FIDO_CRED_SET_AUTHDATA.3.html">FIDO_CRED_SET_AUTHDATA</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>