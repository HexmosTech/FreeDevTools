<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rulexdb_open - open or create a rulex database</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/librulexdb-dev">librulexdb-dev_3.8.6-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rulexdb_open - open or create a rulex database

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;rulexdb.h&gt;</b>

       <b>RULEXDB</b> <b>*rulexdb_open(const</b> <b>char</b> <b>*</b><u>path</u><b>,</b> <b>int</b> <u>mode</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>rulexdb_open</b>()  function opens the rulex database in the file whose name is the string pointed to by
       <u>path</u> and allocates and initializes all necessary internal data structures associated with it.

       The argument <u>mode</u> specifies a database access mode. It may accept one of the following values:

       <b>RULEXDB_SEARCH</b>
              Open the database only for searching (read only mode).

       <b>RULEXDB_UPDATE</b>
              Open existing database for searching and updating (read and write mode).

       <b>RULEXDB_CREATE</b>
              Create new database and open it for updating and searching.

</pre><h4><b>DATABASE</b> <b>STRUCTURE</b></h4><pre>
       The rulex database consists of two dictionaries and four sets of rules. The <b>Explicit</b> dictionary  contains
       the  words  that  are  described  individually  and  do  not  imply any information for other forms. This
       dictionary is looked up first if the search includes this stage. The <b>Implicit</b> dictionary  contains  words
       in  some basic form. This dictionary is used to construct pronunciation string for various forms of these
       words. The basic form of a word is guessed according  to  the  rules  from  the  <b>Classifiers</b>  and  <b>Prefix</b>
       <b>detectors</b>  rulesets. This is the second stage of search process. If these stages do not bring a result or
       are not performed the rules from the <b>General</b> ruleset are used to guess stressing word. If no one of these
       rules can be applied than no guessing is made and search process fails.

       Externally all the data are represented textually. For the Russian letters the <b>koi8-r</b>  character  set  is
       used and only lower case is allowed.

       Each dictionary record consists of two fields. The first field contains Russian word that serves as a key
       when  searching. Only lowercase Russian letters are allowed here. The second field provides pronunciation
       string for this word. The pronunciation string is the word itself, but written in such  a  manner  as  it
       should  be  pronounced. There are three additional symbols allowed in the pronunciation string along with
       the lowercase Russian letters. The "+" sign can be used to point the stressed letter. It should be placed
       just after that letter. The "=" sign is used in some cases just in the same  manner  to  point  so-called
       weak  stress.  The "-" sign can serve as a separator in some complex words. All other symbols are treated
       as illegal.

       There are four rulesets in the database: <b>General</b> rules, <b>Classifiers</b>,  <b>Prefix</b>  <b>detectors</b>  and  <b>Correctors</b>.
       Externally  all  these  rules are represented by records consisting of one or two fields. The first field
       always contains a regular expression which is matched against the word to make a  decision  whether  this
       rule can be applied.

       The  only  task  of <b>General</b> rules is to guess stress in the words when dictionary lookup fails. The rules
       are tried sequentially until match or the list exhaustion.  If  match  succeeds  then  the  "+"  sign  is
       inserted into the word right after the first subexpression match to point stressing position.
        These rules do not contain a second field.

       For  the  <b>Classifiers</b>  ruleset each rule is checked one by one until match occurs. Then the part from the
       beginning of the word through to the end of the first subexpression match is extracted and  if  a  second
       field  is  present it is appended to the extracted part as a suffix. The resulting string is treated as a
       basic form of the word, so it is looked up in the <b>Implicit</b> dictionary.  If nothing is found  the  process
       continues until the ruleset will be exceeded.

       When nothing is found in the database for a word in its original form, <b>Prefix</b> <b>detection</b> rules are applied
       to  it  sequentially  until  match occurs. The matched prefix is stripped and replaced by the replacement
       string if any. Then the result word is searched in the <b>Implicit</b> dictionary. In the case  of  success  the
       original prefix is restored in the pronunciation string.

       The rules from <b>Correctors</b> ruleset are applied to the pronunciation strings instead of the original words.
       The  second  field  in  these  rules  specifies  a  regular  replacement  string  where  digits  serve as
       subexpression numbers.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon successful completion <b>rulexdb_open</b>() return a <u>RULEXDB</u> pointer that should be used in other  database
       access functions for referencing the database.  Otherwise, NULL is returned.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/rulexdb_classify.3.html">rulexdb_classify</a></b>(3),     <b><a href="../man3/rulexdb_close.3.html">rulexdb_close</a></b>(3),     <b><a href="../man3/rulexdb_dataset_name.3.html">rulexdb_dataset_name</a></b>(3),    <b><a href="../man3/rulexdb_discard_dictionary.3.html">rulexdb_discard_dictionary</a></b>(3),
       <b><a href="../man3/rulexdb_discard_ruleset.3.html">rulexdb_discard_ruleset</a></b>(3),    <b><a href="../man3/rulexdb_fetch_rule.3.html">rulexdb_fetch_rule</a></b>(3),    <b><a href="../man3/rulexdb_lexbase.3.html">rulexdb_lexbase</a></b>(3),     <b><a href="../man3/rulexdb_load_ruleset.3.html">rulexdb_load_ruleset</a></b>(3),
       <b><a href="../man3/rulexdb_remove_item.3.html">rulexdb_remove_item</a></b>(3),  <b><a href="../man3/rulexdb_remove_rule.3.html">rulexdb_remove_rule</a></b>(3),  <b><a href="../man3/rulexdb_remove_this_item.3.html">rulexdb_remove_this_item</a></b>(3),  <b><a href="../man3/rulexdb_retrieve_item.3.html">rulexdb_retrieve_item</a></b>(3),
       <b><a href="../man3/rulexdb_search.3.html">rulexdb_search</a></b>(3), <b><a href="../man3/rulexdb_seq.3.html">rulexdb_seq</a></b>(3), <b><a href="../man3/rulexdb_subscribe_item.3.html">rulexdb_subscribe_item</a></b>(3), <b><a href="../man3/rulexdb_subscribe_rule.3.html">rulexdb_subscribe_rule</a></b>(3)

</pre><h4><b>AUTHOR</b></h4><pre>
       Igor B. Poretsky &lt;<a href="mailto:poretsky@mlbox.ru">poretsky@mlbox.ru</a>&gt;.

                                                February 19, 2012                                <u><a href="../man3/RULEXDB_OPEN.3.html">RULEXDB_OPEN</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>