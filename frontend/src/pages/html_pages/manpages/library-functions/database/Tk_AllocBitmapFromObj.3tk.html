<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tk_AllocBitmapFromObj,     Tk_GetBitmap,     Tk_GetBitmapFromObj,    Tk_DefineBitmap,    Tk_NameOfBitmap,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tk9.0-doc">tk9.0-doc_9.0.1-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tk_AllocBitmapFromObj,     Tk_GetBitmap,     Tk_GetBitmapFromObj,    Tk_DefineBitmap,    Tk_NameOfBitmap,
       Tk_SizeOfBitmap, Tk_FreeBitmapFromObj, Tk_FreeBitmap - maintain database of single-plane pixmaps

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;tk.h&gt;</b>

       Pixmap
       <b>Tk_AllocBitmapFromObj</b>(<u>interp,</u> <u>tkwin,</u> <u>objPtr</u>)

       Pixmap
       <b>Tk_GetBitmap</b>(<u>interp,</u> <u>tkwin,</u> <u>info</u>)

       Pixmap
       <b>Tk_GetBitmapFromObj</b>(<u>tkwin,</u> <u>objPtr</u>)

       int
       <b>Tk_DefineBitmap</b>(<u>interp,</u> <u>name,</u> <u>source,</u> <u>width,</u> <u>height</u>)

       const char *
       <b>Tk_NameOfBitmap</b>(<u>display,</u> <u>bitmap</u>)

       <b>Tk_SizeOfBitmap</b>(<u>display,</u> <u>bitmap,</u> <u>widthPtr,</u> <u>heightPtr</u>)

       <b>Tk_FreeBitmapFromObj</b>(<u>tkwin,</u> <u>objPtr</u>)

       <b>Tk_FreeBitmap</b>(<u>display,</u> <u>bitmap</u>)

</pre><h4><b>ARGUMENTS</b></h4><pre>
       Tcl_Interp <u>*interp</u> (in)               Interpreter to use for error  reporting;  if  NULL  then  no  error
                                             message is left after errors.

       Tk_Window <u>tkwin</u> (in)                  Token for window in which the bitmap will be used.

       Tcl_Obj <u>*objPtr</u> (in/out)              String  value  describes  desired  bitmap;  internal  rep  will  be
                                             modified to cache pointer to corresponding Pixmap.

       const char <u>*info</u> (in)                 Same as <u>objPtr</u> except description of bitmap is passed as  a  string
                                             and resulting Pixmap is not cached.

       const char <u>*name</u> (in)                 Name for new bitmap to be defined.

       const void <u>*source</u> (in)               Data  for  bitmap,  in  standard  bitmap format.  Must be stored in
                                             static memory whose value will never change.

       int <u>width</u> (in)                        Width of bitmap.

       int <u>height</u> (in)                       Height of bitmap.

       int <u>*widthPtr</u> (out)                   Pointer to word to fill in with <u>bitmap</u>'s width.

       int <u>*heightPtr</u> (out)                  Pointer to word to fill in with <u>bitmap</u>'s height.

       Display <u>*display</u> (in)                 Display for which <u>bitmap</u> was allocated.

       Pixmap <u>bitmap</u> (in)                    Identifier for  a  bitmap  allocated  by  <b>Tk_AllocBitmapFromObj</b>  or
                                             <b>Tk_GetBitmap</b>.
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These  procedures  manage  a collection of bitmaps (one-plane pixmaps) being used by an application.  The
       procedures allow bitmaps to be re-used efficiently, thereby avoiding  server  overhead,  and  also  allow
       bitmaps to be named with character strings.

       <b>Tk_AllocBitmapFromObj</b> returns a Pixmap identifier for a bitmap that matches the description in <u>objPtr</u> and
       is  suitable  for  use  in  <u>tkwin</u>.   It  re-uses  an  existing bitmap, if possible, and creates a new one
       otherwise.  <u>ObjPtr</u>'s value must have one of the following forms:

       <b>@</b><u>fileName</u>           <u>FileName</u> must be the name of a file containing a bitmap description in  the  standard
                           X11 format.

       <u>name</u>                <u>Name</u>  must be the name of a bitmap defined previously with a call to <b>Tk_DefineBitmap</b>.
                           The following names are pre-defined by Tk:

                           <b>error</b>       The international “don't” symbol:  a circle with a diagonal  line  across
                                       it.

                           <b>gray75</b>      75% gray: a checkerboard pattern where three out of four bits are on.

                           <b>gray50</b>      50% gray: a checkerboard pattern where every other bit is on.

                           <b>gray25</b>      25% gray: a checkerboard pattern where one out of every four bits is on.

                           <b>gray12</b>      12.5%  gray: a pattern where one-eighth of the bits are on, consisting of
                                       every fourth pixel in every other row.

                           <b>hourglass</b>   An hourglass symbol.

                           <b>info</b>        A large letter “i”.

                           <b>questhead</b>   The silhouette of a human head, with a question mark in it.

                           <b>question</b>    A large question-mark.

                           <b>warning</b>     A large exclamation point.

                           In addition, the following pre-defined names are  available  only  on  the  <b>Macintosh</b>
                           platform:

                           <b>document</b>    A generic document.

                           <b>stationery</b>  Document stationery.

                           <b>edition</b>     The <u>edition</u> symbol.

                           <b>application</b> Generic application icon.

                           <b>accessory</b>   A desk accessory.

                           <b>folder</b>      Generic folder icon.

                           <b>pfolder</b>     A locked folder.

                           <b>trash</b>       A trash can.

                           <b>floppy</b>      A floppy disk.

                           <b>ramdisk</b>     A floppy disk with chip.

                           <b>cdrom</b>       A cd disk icon.

                           <b>preferences</b> A folder with prefs symbol.

                           <b>querydoc</b>    A database document icon.

                           <b>stop</b>        A stop sign.

                           <b>note</b>        A face with balloon words.

                           <b>caution</b>     A triangle with an exclamation point.

       Under  normal  conditions,  <b>Tk_AllocBitmapFromObj</b>  returns an identifier for the requested bitmap.  If an
       error occurs in creating the bitmap, such as when <u>objPtr</u> refers to a  non-existent  file,  then  <b>None</b>  is
       returned  and  an  error  message is left in <u>interp</u>'s result if <u>interp</u> is not NULL. <b>Tk_AllocBitmapFromObj</b>
       caches information about the return value in <u>objPtr</u>, which speeds up future calls to procedures  such  as
       <b>Tk_AllocBitmapFromObj</b> and <b>Tk_GetBitmapFromObj</b>.

       <b>Tk_GetBitmap</b> is identical to <b>Tk_AllocBitmapFromObj</b> except that the description of the bitmap is specified
       with  a  string  instead  of  an  object.   This  prevents <b>Tk_GetBitmap</b> from caching the return value, so
       <b>Tk_GetBitmap</b> is less efficient than <b>Tk_AllocBitmapFromObj</b>.

       <b>Tk_GetBitmapFromObj</b> returns the token for an existing bitmap, given the window and  description  used  to
       create the bitmap.  <b>Tk_GetBitmapFromObj</b> does not actually create the bitmap; the bitmap must already have
       been  created  with a previous call to <b>Tk_AllocBitmapFromObj</b> or <b>Tk_GetBitmap</b>.  The return value is cached
       in <u>objPtr</u>, which speeds up future calls to <b>Tk_GetBitmapFromObj</b> with the same <u>objPtr</u> and <u>tkwin</u>.

       <b>Tk_DefineBitmap</b> associates a name with in-memory bitmap data so that the name can be used in later  calls
       to  <b>Tk_AllocBitmapFromObj</b> or <b>Tk_GetBitmap</b>.  The <u>nameId</u> argument gives a name for the bitmap;  it must not
       previously have been used in a call to <b>Tk_DefineBitmap</b>.  The arguments <u>source</u>, <u>width</u>, and <u>height</u> describe
       the bitmap.  <b>Tk_DefineBitmap</b> normally returns <b>TCL_OK</b>; if an error occurs (e.g. a bitmap named <u>nameId</u>  has
       already  been  defined)  then  <b>TCL_ERROR</b> is returned and an error message is left in interpreter <u>interp</u>'s
       result.  Note that <b>Tk_DefineBitmap</b> expects the memory pointed to by <u>source</u> to be static:  <b>Tk_DefineBitmap</b>
       does not make a private copy of this memory, but uses the bytes pointed to by <u>source</u> later  in  calls  to
       <b>Tk_AllocBitmapFromObj</b> or <b>Tk_GetBitmap</b>.

       Typically  <b>Tk_DefineBitmap</b>  is  used  by  <b>#include</b>-ing  a  bitmap file directly into a C program and then
       referencing the variables defined by the file.  For example, suppose there  exists  a  file  <b>stip.bitmap</b>,
       which  was  created  by  the  <b>bitmap</b>  program  and  contains  a stipple pattern.  The following code uses
       <b>Tk_DefineBitmap</b> to define a new bitmap named <b>foo</b>:
              Pixmap bitmap;
              #include "stip.bitmap"
              Tk_DefineBitmap(interp, "foo", stip_bits,
                  stip_width, stip_height);
              ...
              bitmap = Tk_GetBitmap(interp, tkwin, "foo");
       This code causes the bitmap file to be read at compile-time and incorporates the bitmap information  into
       the program's executable image.  The same bitmap file could be read at run-time using <b>Tk_GetBitmap</b>:
              Pixmap bitmap;
              bitmap = Tk_GetBitmap(interp, tkwin, "@stip.bitmap");
       The  second  form is a bit more flexible (the file could be modified after the program has been compiled,
       or a different string could be provided to read a different file), but it is a little slower and requires
       the bitmap file to exist separately from the program.

       Tk maintains a database of all the bitmaps that are currently in use.  Whenever possible, it will  return
       an  existing  bitmap rather than creating a new one.  When a bitmap is no longer used, Tk will release it
       automatically.  This approach can substantially reduce  server  overhead,  so  <b>Tk_AllocBitmapFromObj</b>  and
       <b>Tk_GetBitmap</b> should generally be used in preference to Xlib procedures like <b>XReadBitmapFile</b>.

       The bitmaps returned by <b>Tk_AllocBitmapFromObj</b> and <b>Tk_GetBitmap</b> are shared, so callers should never modify
       them.   If  a  bitmap  must be modified dynamically, then it should be created by calling Xlib procedures
       such as <b>XReadBitmapFile</b> or <b>XCreatePixmap</b> directly.

       The procedure <b>Tk_NameOfBitmap</b> is roughly the inverse of <b>Tk_GetBitmap</b>.  Given an  X  Pixmap  argument,  it
       returns the textual description that was passed to <b>Tk_GetBitmap</b> when the bitmap was created.  <u>Bitmap</u> must
       have been the return value from a previous call to <b>Tk_AllocBitmapFromObj</b> or <b>Tk_GetBitmap</b>.

       <b>Tk_SizeOfBitmap</b> returns the dimensions of its <u>bitmap</u> argument in the words pointed to by the <u>widthPtr</u> and
       <u>heightPtr</u>  arguments.  As with <b>Tk_NameOfBitmap</b>, <u>bitmap</u> must have been created by <b>Tk_AllocBitmapFromObj</b> or
       <b>Tk_GetBitmap</b>.

       When a bitmap is no longer needed, <b>Tk_FreeBitmapFromObj</b> or <b>Tk_FreeBitmap</b> should be called to release  it.
       For  <b>Tk_FreeBitmapFromObj</b> the bitmap to release is specified with the same information used to create it;
       for <b>Tk_FreeBitmap</b> the bitmap to release is specified with its Pixmap token.  There should be exactly  one
       call to <b>Tk_FreeBitmapFromObj</b> or <b>Tk_FreeBitmap</b> for each call to <b>Tk_AllocBitmapFromObj</b> or <b>Tk_GetBitmap</b>.

</pre><h4><b>BUGS</b></h4><pre>
       In determining whether an existing bitmap can be used to satisfy a new request, <b>Tk_AllocBitmapFromObj</b> and
       <b>Tk_GetBitmap</b>  consider only the immediate value of the string description.  For example, when a file name
       is passed to <b>Tk_GetBitmap</b>, <b>Tk_GetBitmap</b> will assume it is safe to re-use an existing bitmap created  from
       the same file name:  it will not check to see whether the file itself has changed, or whether the current
       directory has changed, thereby causing the name to refer to a different file.

</pre><h4><b>KEYWORDS</b></h4><pre>
       bitmap, pixmap

Tk                                                     8.1                            <u><a href="../man3tk/Tk_AllocBitmapFromObj.3tk.html">Tk_AllocBitmapFromObj</a></u>(3tk)
</pre>
 </div>
</div></section>
</div>
</body>
</html>