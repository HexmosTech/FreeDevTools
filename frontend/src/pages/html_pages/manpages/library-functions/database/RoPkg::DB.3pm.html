<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RoPkg::DB - A Singleton database pool class</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libropkg-perl">libropkg-perl_0.4-1.4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       RoPkg::DB - A Singleton database pool class

</pre><h4><b>VERSION</b></h4><pre>
       0.1.12

</pre><h4><b>DESCRIPTION</b></h4><pre>
       RoPkg::DB is a database pool class. Using this class you can have access to multiple databases (no matter
       what kind of database), from a single object. RoPkg::DB is ideal in persistent environments because at
       base, is a singleton class. This class is intensively used by Simba but it can be used in any other
       project.

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use RoPkg::DB;

        sub main {
          my $dbp = new RoPkg::DB();

          eval {
            $dbp-&gt;Add('dbi:mysql:database=mysql;host=localhost',
                      'root',
                      '',
                      'local');
            $dbp-&gt;Add('dbi:mysql:database=somedb;host=somehost',
                      'username',
                      'mypass',
                      'somedb');
          };

          die($@-&gt;package . ' said: ' . $@-&gt;message) if ref($@);

          print 'Conn to localhost is:',$dbp-&gt;db_local,$/,
                'Conn to remote is:',$dbp-&gt;db_somedb,$/;

          $dbp-&gt;Del('somedb');

        }

</pre><h4><b>SUBROUTINES/METHODS</b></h4><pre>
       All methods (besides new), raise OutsideClass exception when are not called within a class instance.
       Also, each method may raise diferent exceptions from one case to another. Please read the documentation
       for each method to find out what are the exceptions raised by each method.

   <b>new()</b>
       new is the contructor of the class. It does not do anything.

   <b>Add($dsn,</b> <b>$dbuser,</b> <b>$dbpass,</b> <b>$conn_name)</b>
       add and initialize a new connection to the pool. $dsn must be in the DBI format. $dsn and $dbpass are the
       username and password used to connect to the database. $conn_name is the method who will be used to
       access the database handle.  Please note that the method that will be created will be prefixed with "db_"
       .

       Example:

        $dbp-&gt;Add('dbi:mysql:database=mysql;host=localhost','root',q{},'local');

       The method that will be used to get the database handle for this connection is db_local .

       <b>Add()</b> may raise the following exceptions:

       *) Param::Missing
       *) DB::ConnExists
       *) DB::Connect

       <u>Param::Missing</u>  is raised when $dsn, $dbuser or $conn_name are not defined. <u>DB::ConnExists</u> is raised when
       a connection with the name $conn_name already exists. <u>DB::Connect</u> is raised when the connection with  the
       database could not be established. Besides this exceptions, each database handler has RaiseError set to 1
       and  PrintError  set  to  0.  Also,  when errors occurs, DBI will raise a <u>DB</u> exception. The method always
       returns 1.

   <b>Del($name)</b>
       removes the connection named $name from the pool. The connection is closed first in a  civilised  manner.
       If the connection $name is not found, DB::ConnNotFound is raised.

   <b>Has($name)</b>
       Returns  0 if the connection named $name does not exists, 1 otherwise. Param::Missing exception is raised
       if $name is not defined.

   <b>Reconnect($name)</b>
       Force a reconnect of the connection named $name. If $name is not defined, Param::Missing is raised. If  a
       connection named $name does not exists, DB::ConnNotFound is raised.  This method always returns 1.

   <b>TableExists($name,</b> <b>$table_name)</b>
       Returns  1  if  the  table  $table_name exists in the database specified by the connection named $name, 0
       otherwise. If $name or $table_name parameters are not defined, a Param::Missing exception is  raised.  If
       the connection $name does not exists, DB::ConnNotFound is raised.

</pre><h4><b>DEPENDENCIES</b></h4><pre>
       RoPkg::DB requires perl 5.008 or later and the following modules:

       RoPkg &gt;= 0.4.4
       DBI
       Class::Singleton
       English

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       This module comes with tests. To run the tests, unpack the source and run 'make test'

</pre><h4><b>PERL</b> <b>CRITIC</b></h4><pre>
       This module is perl critic level 2 compliant (with 1 exception)

</pre><h4><b>CONFIGURATION</b> <b>AND</b> <b>ENVIRONMENT</b></h4><pre>
       This  module  does not use any configuration files or environment variables. The used modules however may
       use such things. Please refer to each module man page for more information.

</pre><h4><b>INCOMPATIBILITIES</b></h4><pre>
       None known to the author

</pre><h4><b>BUGS</b> <b>AND</b> <b>LIMITATIONS</b></h4><pre>
       None known to the author

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       RoPkg::DBObject RoPkg::Exceptions RoPkg::Utils

</pre><h4><b>AUTHOR</b></h4><pre>
       Subredu Manuel &lt;<a href="mailto:diablo@iasi.roedu.net">diablo@iasi.roedu.net</a>&gt;

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2005 Subredu Manuel.   All  Rights  Reserved.   This  module  is  free  software;  you  can
       redistribute it and/or modify it under the same terms as Perl itself.  The LICENSE file contains the full
       text of the license.

perl v5.32.1                                       2021-12-26                                     <u>RoPkg::<a href="../man3pm/DB.3pm.html">DB</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>