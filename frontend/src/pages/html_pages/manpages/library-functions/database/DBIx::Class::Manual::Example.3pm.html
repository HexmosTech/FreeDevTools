<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DBIx::Class::Manual::Example - Simple CD database example</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdbix-class-perl">libdbix-class-perl_0.082844-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       DBIx::Class::Manual::Example - Simple CD database example

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This tutorial will guide you through the process of setting up and testing a very basic CD database using
       SQLite, with DBIx::Class::Schema as the database frontend.

       The database structure is based on the following rules:

         An artist can have many cds, and each cd belongs to just one artist.
         A cd can have many tracks, and each track belongs to just one cd.

       The database is implemented with the following:

         table 'artist' with columns:  artistid, name
         table 'cd'     with columns:  cdid, artistid, title, year
         table 'track'  with columns:  trackid, cdid, title

       Each of the table's first columns is the primary key; any subsequent keys are foreign keys.

   <b>Installation</b>
       You'll need to install DBIx::Class via CPAN, and you'll also need to install sqlite3 (not sqlite) if it's
       not already intalled.

       <u>The</u> <u>database/tables/data</u>

       Your distribution already comes with a pre-filled SQLite database <u>examples/Schema/db/example.db</u>. You can
       see it by e.g.

         cpanm --look DBIx::Class

       If for some reason the file is unreadable on your system, you can recreate it as follows:

         cp -a &lt;unpacked-DBIC-tarball&gt;/examples/Schema dbicapp
         cd dbicapp
         rm db/example.db
         sqlite3 db/example.db &lt; db/example.sql
         perl insertdb.pl

       <u>Testing</u> <u>the</u> <u>database</u>

       Enter the example Schema directory

         cd &lt;unpacked-DBIC-tarball&gt;/examples/Schema

       Run the script testdb.pl, which will test that the database has successfully been filled.

       When this script is run, it should output the following:

        get_tracks_by_cd(Bad):
        Leave Me Alone
        Smooth Criminal
        Dirty Diana

        get_tracks_by_artist(Michael Jackson):
        Billie Jean (from the CD 'Thriller')
        Beat It (from the CD 'Thriller')
        Leave Me Alone (from the CD 'Bad')
        Smooth Criminal (from the CD 'Bad')
        Dirty Diana (from the CD 'Bad')

        get_cd_by_track(Stan):
        The Marshall Mathers LP has the track 'Stan'.

        get_cds_by_artist(Michael Jackson):
        Thriller
        Bad

        get_artist_by_track(Dirty Diana):
        Michael Jackson recorded the track 'Dirty Diana'.

        get_artist_by_cd(The Marshall Mathers LP):
        Eminem recorded the CD 'The Marshall Mathers LP'.

       <u>Discussion</u> <u>about</u> <u>the</u> <u>results</u>

       The data model defined in this example has an artist with multiple CDs, and a CD with multiple tracks;
       thus, it's simple to traverse from a track back to a CD, and from there back to an artist. This is
       demonstrated in the get_tracks_by_artist routine, where we easily walk from the individual track back to
       the title of the CD that the track came from ($track-&gt;cd-&gt;title).

       Note also that in the get_tracks_by_cd and get_tracks_by_artist routines, the result set is called
       multiple times with the 'next' iterator.  In contrast, get_cd_by_track uses the 'first' result set
       method, since only one CD is expected to have a specific track.

       This example uses "load_namespaces" in DBIx::Class::Schema to load in the appropriate Result classes from
       the "MyApp::Schema::Result" namespace, and any required ResultSet classes from the
       "MyApp::Schema::ResultSet" namespace (although we did not add, nor needed any such classes in this
       example).

</pre><h4><b>FURTHER</b> <b>QUESTIONS?</b></h4><pre>
       Check the list of additional DBIC resources.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This module is free software copyright by the DBIx::Class (DBIC) authors. You can redistribute it and/or
       modify it under the same terms as the DBIx::Class library.

perl v5.40.0                                       2025-02-01                  <u>DBIx::Class::Manual::<a href="../man3pm/Example.3pm.html">Example</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>