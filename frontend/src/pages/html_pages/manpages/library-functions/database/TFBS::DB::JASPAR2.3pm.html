<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TFBS::DB::JASPAR2 - interface to MySQL relational database of pattern matrices</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtfbs-perl">libtfbs-perl_0.7.1+ds-4build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       TFBS::DB::JASPAR2 - interface to MySQL relational database of pattern matrices

</pre><h4><b>SYNOPSIS</b></h4><pre>
       •   creating a database object by connecting to the existing JASPAR2-type database

               my $db = TFBS::DB::JASPAR2-&gt;connect("dbi:mysql:JASPAR2:myhost",
                                                   "myusername",
                                                   "mypassword");

       •   retrieving a TFBS::Matrix::* object from the database

               # retrieving a PFM by ID
               my $pfm = $db-&gt;get_Matrix_by_ID('M0079','PFM');

               #retrieving a PWM by name
               my $pwm = $db-&gt;get_Matrix_by_name('NF-kappaB', 'PWM');

       •   retrieving a set of matrices as a TFBS::MatrixSet object according to various criteria

               # retrieving a set of PWMs from a list of IDs:
               my @IDlist = ('M0019', 'M0045', 'M0073', 'M0101');
               my $matrixset = $db-&gt;get_MatrixSet(-IDs =&gt; \@IDlist,
                                                  -matrixtype =&gt; "PWM");

               # retrieving a set of ICMs from a list of names:
               my @namelist = ('p50', 'p53', 'HNF-1'. 'GATA-1', 'GATA-2', 'GATA-3');
               my $matrixset = $db-&gt;get_MatrixSet(-names =&gt; \@namelist,
                                                  -matrixtype =&gt; "ICM");

               # retrieving a set of all PFMs in the database
               # derived from human genes:
               my $matrixset = $db-&gt;get_MatrixSet(-species =&gt; ['Homo sapiens'],
                                                  -matrixtype =&gt; "PFM");

       •   creating a new JASPAR2-type database named MYJASPAR2:

               my $db = TFBS::DB::JASPAR2-&gt;create("dbi:mysql:MYJASPAR2:myhost",
                                                  "myusername",
                                                  "mypassword");

       •   storing a matrix in the database (currently only PFMs):

               #let $pfm is a TFBS::Matrix::PFM object
               $db-&gt;store_Matrix($pfm);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       TFBS::DB::JASPAR2 is a read/write database interface module that retrieves and stores TFBS::Matrix::* and
       TFBS::MatrixSet objects in a relational database.

</pre><h4><b>JASPAR2</b> <b>DATA</b> <b>MODEL</b></h4><pre>
       JASPAR2  is  working name for a relational database model used for storing transcriptional factor pattern
       matrices in a MySQL database.  It was initially designed to store matrices for  the  JASPAR  database  of
       high  quality  eukaryotic  transcription  factor  specificity  profiles  by  Albin  Sandelin and Wyeth W.
       Wasserman. Besides the profile  matrix  itself,  this  data  model  stores  profile  ID  (unique),  name,
       structural class, basic taxonomic and bibliographic information as well as some additional optional tags.

       Due to its data model, which precedeed the design of the module, TFBS::DB::JASPAR2 cannot store arbitrary
       tags for a matrix.

       The supported tags are
           'acc'      # (accession number;             # originally for transcription factor protein seq)
           'seqdb'    # sequence database where 'acc' comes from
           'medline'  # PubMed ID
           'species'  # Species name
           'sysgroup'
           'total_ic' # total information content - redundant, present
                      #   for   historical   "medline"   =&gt;   ($self-&gt;_get_medline($ID)   or    ""),
       "species"     =&gt;     ($self-&gt;_get_species($ID)     or     ""),                               "sysgroup"=&gt;
       ($self-&gt;_get_sysgroup($ID)  or  ""),                       "type"     =&gt;  ($self-&gt;_get_type($ID)  or ""),
                            "seqdb"    =&gt;  ($self-&gt;_get_seqdb($ID)  or  ""),                       "acc"      =&gt;
       ($self-&gt;_get_acc($ID) or ""),                     "total_ic"=

       -----------------------  ADVANCED  ---------------------------------

       For the developers and the curious, here is the JASPAR2 data model:

              CREATE TABLE matrix_data (
                ID <a href="../man16/varchar.16.html">varchar</a>(16) DEFAULT '' NOT NULL,
                pos_ID <a href="../man24/varchar.24.html">varchar</a>(24) DEFAULT '' NOT NULL,
                base enum('A','C','G','T'),
                position <a href="../man3/tinyint.3.html">tinyint</a>(3) unsigned,
                raw <a href="../man3/int.3.html">int</a>(3) unsigned,
                info float(7,5) unsigned, -- calculated
                pwm float(7,5) unsigned,  -- calculated
                normalized float(7,5) unsigned,
                PRIMARY KEY (pos_ID),
                KEY id_index (ID)
              );

              CREATE TABLE matrix_info (
                ID <a href="../man16/varchar.16.html">varchar</a>(16) DEFAULT '' NOT NULL,
                name <a href="../man15/varchar.15.html">varchar</a>(15) DEFAULT '' NOT NULL,
                type <a href="../man8/varchar.8.html">varchar</a>(8) DEFAULT '' NOT NULL,
                class <a href="../man20/varchar.20.html">varchar</a>(20),
                phylum varchar (32),          -- maps to 'sysgroup' tag
                litt <a href="../man40/varchar.40.html">varchar</a>(40),             -- not used by this module
                medline <a href="../man12/int.12.html">int</a>(12),
                information <a href="../man20/varchar.20.html">varchar</a>(20),      -- not used by this module
                iterations <a href="../man6/varchar.6.html">varchar</a>(6),
                width <a href="../man2/int.2.html">int</a>(2),                 -- calculated
                consensus <a href="../man25/varchar.25.html">varchar</a>(25),        -- calculated
                IC float(6,4),                -- maps to 'total_ic' tag
                sites <a href="../man3/int.3.html">int</a>(3) unsigned,        -- not used by this module
                PRIMARY KEY (ID)
              )

              CREATE TABLE matrix_seqs (
                ID <a href="../man16/varchar.16.html">varchar</a>(16) DEFAULT '' NOT NULL,
                internal <a href="../man8/varchar.8.html">varchar</a>(8) DEFAULT '' NOT NULL,
                seq_db <a href="../man15/varchar.15.html">varchar</a>(15) NOT NULL,
                seq <a href="../man10/varchar.10.html">varchar</a>(10) NOT NULL,
                PRIMARY KEY (ID, seq_db, seq)
              )

              CREATE TABLE matrix_species (
                ID <a href="../man16/varchar.16.html">varchar</a>(16) DEFAULT '' NOT NULL,
                internal <a href="../man8/varchar.8.html">varchar</a>(8) DEFAULT '' NOT NULL,
                species <a href="../man24/varchar.24.html">varchar</a>(24) NOT NULL,
                PRIMARY KEY (ID, species)
              )

       It  is  our best intention to hide the details of this data model, which we are using on a daily basis in
       our work, from most TFBS users, simply because  for  historical  reasons  some  table  column  names  are
       confusing  at  best.  Most  users  should  only  know  the  methods  to store the data and which tags are
       supported.

       -------------------------------------------------------------------------

</pre><h4><b>FEEDBACK</b></h4><pre>
       Please send bug reports and other comments to the author.

</pre><h4><b>AUTHOR</b> <b>-</b> <b>Boris</b> <b>Lenhard</b></h4><pre>
       Boris Lenhard &lt;<a href="mailto:Boris.Lenhard@cgb.ki.se">Boris.Lenhard@cgb.ki.se</a>&gt;

</pre><h4><b>APPENDIX</b></h4><pre>
       The rest of the documentation details each of the object methods. Internal methods are preceded  with  an
       underscore.

   <b>new</b>
        Title   : new
        Usage   : DEPRECATED - for backward compatibility only
                  Use connect() or create() instead

   <b>connect</b>
        Title   : connect
        Usage   : my $db =
                   TFBS::DB::JASPAR2-&gt;connect("dbi:mysql:DATABASENAME:HOSTNAME",
                                               "USERNAME",
                                               "PASSWORD");
        Function: connects to the existing JASPAR2-type database and
                  returns a database object that interfaces the database
        Returns : a TFBS::DB::JASPAR2 object
        Args    : a standard database connection triplet
                  ("dbi:mysql:DATABASENAME:HOSTNAME",  "USERNAME", "PASSWORD")
                  In place of DATABASENAME, HOSTNAME, USERNAME and PASSWORD,
                  use the actual values. PASSWORD and USERNAME might be
                  optional, depending on the user access permissions for
                  the database server.

   <b>create</b>
        Title   : create
        Usage   : my $newdb =
                   TFBS::DB::JASPAR2-&gt;create("dbi:mysql:NEWDATABASENAME:HOSTNAME",
                                             "USERNAME",
                                             "PASSWORD");
        Function: connects to the database server, creates a new JASPAR2-type database and returns a database
                  object that interfaces the database
        Returns : a TFBS::DB::JASPAR2 object
        Args    : a standard database connection triplet
                   ("dbi:mysql:NEWDATABASENAME:HOSTNAME",  "USERNAME", "PASSWORD")
                  In place of NEWDATABASENAME, HOSTNAME, USERNAME and
                  PASSWORD use the actual values. PASSWORD and USERNAME
                  might be optional, depending on the users access permissions
                  for the database server.

   <b>dbh</b>
        Title   : dbh
        Usage   : my $dbh = $db-&gt;dbh();
                  $dbh-&gt;do("UPDATE matrix_data SET name='ADD1' WHERE NAME='SREBP2'");
        Function: returns the DBI database handle of the MySQL database
                  interfaced by $db; THIS IS USED FOR WRITING NEW METHODS
                  FOR DIRECT RELATIONAL DATABASE MANIPULATION - if you
                  have write access AND do not know what you are doing,
                  you can severely  corrupt the data
                  For documentation about database handle methods, see L&lt;DBI&gt;
        Returns : the database (DBI) handle of the MySQL JASPAR2-type
                  relational database associated with the TFBS::DB::JASPAR2
                  object
        Args    : none

   <b>get_Matrix_by_ID</b>
        Title   : get_Matrix_by_ID
        Usage   : my $pfm = $db-&gt;get_Matrix_by_ID('M00034', 'PFM');
        Function: fetches matrix data under the given ID from the
                  database and returns a TFBS::Matrix::* object
        Returns : a TFBS::Matrix::* object; the exact type of the
                  object depending on the second argument (allowed
                  values are 'PFM', 'ICM', and 'PWM'); returns undef if
                  matrix with the given ID is not found
        Args    : (Matrix_ID, Matrix_type)
                  Matrix_ID is a string; Matrix_type is one of the
                  following: 'PFM' (raw position frequency matrix),
                  'ICM' (information content matrix) or 'PWM' (position
                  weight matrix)
                  If Matrix_type is omitted, a PWM is retrieved by default.

   <b>get_Matrix_by_name</b>
        Title   : get_Matrix_by_name
        Usage   : my $pfm = $db-&gt;get_Matrix_by_name('HNF-1', 'PWM');
        Function: fetches matrix data under the given name from the
                  database and returns a TFBS::Matrix::* object
        Returns : a TFBS::Matrix::* object; the exact type of the object
                  depending on the second argument (allowed values are
                  'PFM', 'ICM', and 'PWM')
        Args    : (Matrix_name, Matrix_type)
                  Matrix_name is a string; Matrix_type is one of the
                  following:
                  'PFM' (raw position frequency matrix),
                  'ICM' (information content matrix) or
                  'PWM' (position weight matrix)
                  If Matrix_type is omitted, a PWM is retrieved by default.
        Warning : According to the current JASPAR2 data model, name is
                  not necessarily a unique identifier. In the case where
                  there are several matrices with the same name in the
                  database, the function fetches the first one and prints
                  a warning on STDERR. You have been warned.

   <b>get_MatrixSet</b>
        Title   : get_MatrixSet
        Usage   : my $matrixset = $db-&gt;get_MatrixSet(%args);
        Function: fetches matrix data under for all matrices in the database
                  matching criteria defined by the named arguments
                  and returns a TFBS::MatrixSet object
        Returns : a TFBS::MatrixSet object
        Args    : This method accepts named arguments:
                  -IDs        # a reference to an array of IDs (strings)
                  -names      # a reference to an array of
                              #  transcription factor names (string)
                  -classes    # a reference to an array of
                              #  structural class names (strings)
                  -species    # a reference to an array of
                              #   Latin species names (strings)
                  -sysgroups  # a reference to an array of
                              #  higher taxonomic categories (strings)

                  -matrixtype # a string, 'PFM', 'ICM' or 'PWM'
                  -min_ic     # float, minimum total information content
                              #   of the matrix

       The  five  arguments  that expect list references are used in database query formulation: elements within
       lists are combined with 'OR' operators, and the lists of different types with 'AND'. For example,

           my $matrixset = $db-&gt;(-classes =&gt; ['TRP_CLUSTER', 'FORKHEAD'],
                                 -species =&gt; ['Homo sapiens', 'Mus musculus'],
                                 -matrixtype =&gt; 'PWM');

       gives a set of PWMs whose (structural clas is 'TRP_CLUSTER' OR 'FORKHEAD')  AND  (the  species  they  are
       derived from is 'Homo sapiens' OR 'Mus musculus').

       The  -min_ic  filter  is  applied  after  the  query  in  the sense that the matrices profiles with total
       information content less than specified are not included in the set.

   <b>store_Matrix</b>
        Title   : store_Matrix
        Usage   : $db-&gt;store_Matrix($pfm);
        Function: Stores the contents of a TFBS::Matrix::DB object in the database
        Returns : 0 on success; $@ contents on failure
                  (this is too C-like and may change in future versions)
        Args    : (PFM_object)
                  A TFBS::Matrix::PFM object
        Comment : this is an experimental method that is not 100% bulletproof;
                  use at your own risk

   <b>store_MatrixSet</b>
        Title   : store_MatrixSet
        Usage   : $db-&gt;store_Matrix($matrixset);
        Function: Stores the TFBS::DB::PFM object that are part of a
                  TFBS::MatrixSet object into the database
        Returns : 0 on success; $@ contents on failure
                  (this is too C-like and may change in future versions)
        Args    : (MatrixSet_object)
                  A TFBS::MatrixSet object
        Comment : THIS METHOD IS NOT YET IMPLEMENTED

   <b>delete_Matrix_having_ID</b>
        Title   : delete_Matrix_having_ID
        Usage   : $db-&gt;delete_Matrix_with_ID('M00045');
        Function: Deletes the matrix having the given ID from the database
        Returns : 0 on success; $@ contents on failure
                  (this is too C-like and may change in future versions)
        Args    : (ID)
                  A string
        Comment : Yeah, yeah, 'delete_Matrix_having_ID' is a stupid name
                  for a method, but at least it should be obviuos what it does.

perl v5.40.0                                       2024-10-20                             <u>TFBS::DB::<a href="../man3pm/JASPAR2.3pm.html">JASPAR2</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>