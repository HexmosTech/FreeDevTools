<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeoIP2::Database::Reader - Perl API for GeoIP2 databases</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libgeoip2-perl">libgeoip2-perl_2.006002-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       GeoIP2::Database::Reader - Perl API for GeoIP2 databases

</pre><h4><b>VERSION</b></h4><pre>
       version 2.006002

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use 5.008;

         use GeoIP2::Database::Reader;

         my $reader = GeoIP2::Database::Reader-&gt;new(
             file    =&gt; '/path/to/database',  # e.g. /home/maxmind/db/GeoIP2-Country.mmdb
             locales =&gt; [ 'en', 'de', ]
         );

         my $city = $reader-&gt;city( ip =&gt; '24.24.24.24' );
         my $country = $city-&gt;country();
         print $country-&gt;iso_code(), "\n";

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class provides a reader API for all GeoIP2 databases. Each method returns a different model class.

       If the database does not return a particular piece of data for an IP address, the associated attribute is
       not populated.

</pre><h4><b>USAGE</b></h4><pre>
       The basic API for this class is the same for all database types.  First you create a database reader
       object with your "file" and "locale" params.  Then you call the method corresponding to your database
       type, passing it the IP address you want to look up.

       If the request succeeds, the method call will return a model class for the method point you called.

       If the database cannot be read, the reader class throws an exception.

</pre><h4><b>IP</b> <b>GEOLOCATION</b> <b>USAGE</b></h4><pre>
       IP geolocation is inherently imprecise. Locations are often near the center of the population. Any
       location provided by a GeoIP2 database should not be used to identify a particular address or household.

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
       This class has a single constructor method:

   <b>GeoIP2::Database::Reader-&gt;new()</b>
       This method creates a new object. It accepts the following arguments:

       •   file

           This  is  the  path  to  the  GeoIP2  database which you'd like to query. The path should include the
           filename.

       •   locales

           This is an array reference where each value is a string indicating a locale.  This argument  will  be
           passed on to record classes to use when their "name()" methods are called.

           The  order  of  the  locales  is  significant. When a record class has multiple names (country, city,
           etc.), its "name()" method will look at each element of this array ref and return  the  first  locale
           for which it has a name.

           Note  that the only locale which is always present in the GeoIP2 data in "en".  If you do not include
           this locale, the "name()" method may end up returning "undef" even when the record in question has an
           English name.

           Currently, the valid list of locale codes is:

           •       de - German

           •       en - English

                   English names may still include accented characters if  that  is  the  accepted  spelling  in
                   English. In other words, English does not mean ASCII.

           •       es - Spanish

           •       fr - French

           •       ja - Japanese

           •       pt-BR - Brazilian Portuguese

           •       ru - Russian

           •       zh-CN - simplified Chinese

           Passing any other locale code will result in an error.

           The default value for this argument is "['en']".

</pre><h4><b>REQUEST</b> <b>METHODS</b></h4><pre>
       All of the request methods accept a single argument:

       •   ip

           This  must  be  a  valid IPv4 or IPv6 address. This is the address that you want to look up using the
           GeoIP2 web service.

           Unlike the web service client class, you cannot pass the string "me" as your ip address.

   <b>$reader-&gt;asn()</b>
       This method returns a GeoIP2::Model::ASN object.

   <b>$reader-&gt;connection_type()</b>
       This method returns a GeoIP2::Model::ConnectionType object.

   <b>$reader-&gt;country()</b>
       This method returns a GeoIP2::Model::Country object.

   <b>$reader-&gt;city()</b>
       This method returns a GeoIP2::Model::City object.

   <b>$reader-&gt;domain()</b>
       This method returns a GeoIP2::Model::Domain object.

   <b>$reader-&gt;isp()</b>
       This method returns a GeoIP2::Model::ISP object.

   <b>$reader-&gt;enterprise()</b>
       This method returns a GeoIP2::Model::Enterprise object.

   <b>$reader-&gt;anonymous_ip()</b>
       This method returns a GeoIP2::Model::AnonymousIP object.

</pre><h4><b>OTHER</b> <b>METHODS</b></h4><pre>
   <b>$reader-&gt;metadata()</b>
       This method returns a MaxMind::DB::Metadata object containing information about the database.

</pre><h4><b>EXCEPTIONS</b></h4><pre>
       In   the   case   of   a   fatal   error,   the   reader   will   throw   a   GeoIP2::Error::Generic   or
       GeoIP2::Error::IPAddressNotFound exception object.

       This  error  class  has  an "$error-&gt;message()" method and overload stringification to show that message.
       This means that if you don't explicitly catch errors they will ultimately be sent to "STDERR"  with  some
       sort of (hopefully) useful error message.

</pre><h4><b>WHAT</b> <b>DATA</b> <b>IS</b> <b>RETURNED?</b></h4><pre>
       While  many  of  the  databases return the same basic records, the attributes which can be populated vary
       between model classes. In addition, while a database may offer a particular piece of data,  MaxMind  does
       not always have every piece of data for any given IP address.

       Because  of these factors, it is possible for any model class to return a record where some or all of the
       attributes are unpopulated.

       See &lt;<a href="http://dev.maxmind.com/geoip/geoip2/web-services">http://dev.maxmind.com/geoip/geoip2/web-services</a>&gt; for details  on  what  data  each  end  point  <u>may</u>
       return.

       Every  record  class  attribute  has  a  corresponding  predicate  method  so you can check to see if the
       attribute is set.

</pre><h4><b>SUPPORT</b></h4><pre>
       Bugs may be submitted through &lt;https://github.com/maxmind/GeoIP2-perl/issues&gt;.

</pre><h4><b>AUTHORS</b></h4><pre>
       •   Dave Rolsky &lt;<a href="mailto:drolsky@maxmind.com">drolsky@maxmind.com</a>&gt;

       •   Greg Oschwald &lt;<a href="mailto:goschwald@maxmind.com">goschwald@maxmind.com</a>&gt;

       •   Mark Fowler &lt;<a href="mailto:mfowler@maxmind.com">mfowler@maxmind.com</a>&gt;

       •   Olaf Alders &lt;<a href="mailto:oalders@maxmind.com">oalders@maxmind.com</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2013 - 2019 by MaxMind, Inc.

       This is free software; you can redistribute it and/or modify it under  the  same  terms  as  the  Perl  5
       programming language system itself.

perl v5.36.0                                       2022-11-21                      <u>GeoIP2::Database::<a href="../man3pm/Reader.3pm.html">Reader</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>