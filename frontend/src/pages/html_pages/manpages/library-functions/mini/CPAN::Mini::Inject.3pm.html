<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPAN::Mini::Inject - Inject modules into a CPAN::Mini mirror.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcpan-mini-inject-perl">libcpan-mini-inject-perl_1.012-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CPAN::Mini::Inject - Inject modules into a CPAN::Mini mirror.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       If you're not going to customize the way CPAN::Mini::Inject works you probably want to look at the mcpani
       command instead.

           use CPAN::Mini::Inject;

           $mcpi=CPAN::Mini::Inject-&gt;new;
           $mcpi-&gt;parsecfg('t/.mcpani/config');

           $mcpi-&gt;add(
             module   =&gt; 'CPAN::Mini::Inject',
           authorid =&gt; 'SSORICHE',
           version  =&gt; ' 0.01',
           file     =&gt; 'mymodules/CPAN-Mini-Inject-0.01.tar.gz'
         );

           $mcpi-&gt;writelist;
           $mcpi-&gt;update_mirror;
           $mcpi-&gt;inject;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       CPAN::Mini::Inject uses CPAN::Mini to build or update a <u>local</u> CPAN mirror from a <u>remote</u> one.  It adds two
       extra features:

       1. an additional <u>repository</u> of distribution files and related information (author and module versions),
       separate from the local and remote mirrors, to which you can add your own distribution files.

       2. the ability to <u>inject</u> the distribution files from your <u>repository</u> into a <u>local</u> CPAN mirror.

</pre><h4><b>METHODS</b></h4><pre>
       Each method in CPAN::Mini::Inject returns a CPAN::Mini::Inject object which allows method chaining. For
       example:

           my $mcpi=CPAN::Mini::Inject-&gt;new;
           $mcpi-&gt;parsecfg
                -&gt;update_mirror
                -&gt;inject;

       A "CPAN::Mini::Inject" ISA CPAN::Mini. Refer to the documentation for that module for details of the
       interface "CPAN::Mini::Inject" inherits from it.

       "new"
           Create a new CPAN::Mini::Inject object.

       config_class( [CLASS] )
           Returns the name of the class used to handle the configuration. Also see "default_config_class".

       config( [HASHREF] )
           With a hashref argument, sets the config data.

           Returns the current configuration hash.

       "default_config_class"
       loadcfg( [FILENAME] )
           This  is  a  bridge  to  CPAN::Mini::Inject::Config's  loadconfig.  It  sets  the  filename  for  the
           configuration, or uses one of the defaults.

       parsecfg()
           This is a bridge to CPAN::Mini::Inject::Config's parseconfig.

       site( [SITE] )
           With an argument, set the site to use to contact CPAN. Returns the site setting, or, if the site  has
           not be set (or was set to undef), returns the empty string.

       "testremote"
           Test  each site listed in the remote parameter of the config file by performing a get on each site in
           order for authors/01mailrc.txt.gz.  The first site to respond successfully is  set  as  the  instance
           variable site.

            print "$mcpi-&gt;{site}\n"; # <a href="ftp://ftp.cpan.org/pub/CPAN">ftp://ftp.cpan.org/pub/CPAN</a>

           "testremote" accepts an optional parameter to enable verbose mode.

       "update_mirror"
           This is a subclass of CPAN::Mini.

       "add"
           Add  a  new  distribution  to  the repository. The "add" method copies the distribution file into the
           repository with the same structure as a CPAN site.  For  example,  <u>CPAN-Mini-Inject-0.01.tar.gz</u>  with
           author  "SSORICHE"  is  copied to <u>MYCPAN/authors/id/S/SS/SSORICHE</u>. add creates the required directory
           structure below the repository.

           Packages  found  in  the  distribution  will  be  added  to  the  module  list   For   example   both
           "CPAN::Mini::Inject"  and  "CPAN::Mini::Inject::Config"  will  be added to the <u>modulelist</u> file in the
           repository.

           Packages will be looked for in the "provides" key of the META file if present, otherwise the files in
           the dist will be searched. See Dist::Metadata for more information.

           •   module

               (optional) The package name of the module to add. The distribution  file  will  be  searched  for
               modules but you can specify the main one explicitly.

           •   authorid

               (required)  The  CPAN  ID of the module's author. Since this isn't actually CPAN, the ID does not
               need to exist on CPAN. Typically, this ID uses "[A-Z]" and is three to ten letters. This  is  not
               enforced, but other CPAN tools may not like other sorts of names.

           •   version

               (optional)  The module's version number. If you don't specify this.  "add" will try to extract it
               from the distribution.

           •   file

               (required) The path to the distribution file.

             $mcpani-&gt;add(
               module   =&gt; 'Module::Name',
             authorid =&gt; 'SOMEAUTHOR',
             version  =&gt; 0.01,
             file     =&gt; './Module-Name-0.01.tar.gz'
             );

       "added_modules"
           Returns a list of hash references describing the modules added by this instance.  Each  hashref  will
           contain  "file",  "authorid",  and  "modules".   The "modules" entry is a hashref of module names and
           versions included in the "file".

           The list is cumulative.  There will be one entry for each time "add" was called.

           This functionality is mostly provided for the included mcpani script to be able  to  verbosely  print
           all the modules added.

       "inject"
           Insert  modules  from the repository into the local CPAN::Mini mirror. inject copies each module into
           the appropriate directory in the CPAN::Mini mirror and updates the CHECKSUMS file.

           Passing a value to "inject" enables verbose mode, which lists each module as it's injected.

       "updpackages"
           Update  the  CPAN::Mini  mirror's  modules/02packages.details.txt.gz   with   the   injected   module
           information.

       "updauthors"
           Update  the  CPAN::Mini  mirror's authors/01mailrc.txt.gz with stub information should the author not
           actually exist on CPAN

       "readlist"
           Load the repository's modulelist.

       "writelist"
           Write to the repository modulelist.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       CPAN::Mini

</pre><h4><b>Original</b> <b>Author</b></h4><pre>
       Shawn Sorichetti, "&lt;<a href="mailto:ssoriche@cpan.org">ssoriche@cpan.org</a>&gt;"

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
       Special thanks to David Bartle, for bringing this module up to date, and resolving the reported bugs.

       Thanks to Jozef Kutej &lt;<a href="mailto:jozef@kutej.net">jozef@kutej.net</a>&gt; for numerous patches.

</pre><h4><b>BUGS</b></h4><pre>
       Report issues to the GitHub queue at

         https://github.com/briandfoy/cpan-mini-inject/issues

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright 2008-2009 Shawn Sorichetti, Andy Armstrong, All Rights Reserved.

       This program is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

perl v5.40.1                                       2025-04-12                            <u>CPAN::Mini::<a href="../man3pm/Inject.3pm.html">Inject</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>