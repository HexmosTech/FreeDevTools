<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mojo::Exception - Exception base class</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmojolicious-perl">libmojolicious-perl_9.39+dfsg-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mojo::Exception - Exception base class

</pre><h4><b>SYNOPSIS</b></h4><pre>
         # Create exception classes
         package MyApp::X::Foo {
           use Mojo::Base 'Mojo::Exception';
         }
         package MyApp::X::Bar {
           use Mojo::Base 'Mojo::Exception';
         }

         # Throw exceptions and handle them gracefully
         use Mojo::Exception qw(check);
         eval {
           MyApp::X::Foo-&gt;throw('Something went wrong!');
         };
         check $@ =&gt; [
           'MyApp::X::Foo' =&gt; sub { say "Foo: $_" },
           'MyApp::X::Bar' =&gt; sub { say "Bar: $_" }
         ];

         # Generate exception classes on demand
         use Mojo::Exception qw(check raise);
         eval {
           raise 'MyApp::X::Name', 'The name Minion is already taken';
         };
         check $@ =&gt; [
           'MyApp::X::Name' =&gt; sub { say "Name error: $_" },
           default          =&gt; sub { say "Error: $_" }
         ];

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Mojo::Exception is a container for exceptions with context information.

</pre><h4><b>FUNCTIONS</b></h4><pre>
       Mojo::Exception implements the following functions, which can be imported individually.

   <b>check</b>
         my $bool = check $err =&gt; ['MyApp::X::Foo' =&gt; sub {...}];

       Process exceptions by dispatching them to handlers with one or more matching conditions. Exceptions that
       could not be handled will be rethrown automatically. Note that this function is <b>EXPERIMENTAL</b> and might
       change without warning!

         # Handle various types of exceptions
         eval {
           dangerous_code();
         };
         check $@ =&gt; [
           'MyApp::X::Foo'     =&gt; sub { say "Foo: $_" },
           qr/^Could not open/ =&gt; sub { say "Open error: $_" },
           default             =&gt; sub { say "Something went wrong: $_" }
         ];

       Matching conditions can be class names for ISA checks on exception objects, or regular expressions to
       match string exceptions and stringified exception objects. The matching exception will be the first
       argument passed to the callback, and is also available as $_.

         # Catch MyApp::X::Foo object or a specific string exception
         eval {
           dangerous_code();
         };
         check $@ =&gt; [
           'MyApp::X::Foo'     =&gt; sub { say "Foo: $_" },
           qr/^Could not open/ =&gt; sub { say "Open error: $_" }
         ];

       An array reference can be used to share the same handler with multiple conditions, of which only one
       needs to match.  And since exception handlers are just callbacks, they can also throw their own
       exceptions.

         # Handle MyApp::X::Foo and MyApp::X::Bar the same
         eval {
           dangerous_code();
         };
         check $@ =&gt; [
           ['MyApp::X::Foo', 'MyApp::X::Bar'] =&gt; sub { die "Foo/Bar: $_" }
         ];

       There is currently only one keywords you can use to set special handlers. The "default" handler is used
       when no other handler matched.

         # Use "default" to catch everything
         eval {
           dangerous_code();
         };
         check $@ =&gt; [
           default =&gt; sub { say "Error: $_" }
         ];

   <b>raise</b>
         raise 'Something went wrong!';
         raise 'MyApp::X::Foo', 'Something went wrong!';

       Raise a Mojo::Exception, if the class does not exist yet (classes are checked for a "new" method), one is
       created as a Mojo::Exception subclass on demand. Note that this function is <b>EXPERIMENTAL</b> and might change
       without warning!

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       Mojo::Exception implements the following attributes.

   <b>frames</b>
         my $frames = $e-&gt;frames;
         $e         = $e-&gt;frames([$frame1, $frame2]);

       Stack trace if available.

         # Extract information from the last frame
         my ($package, $filename, $line, $subroutine, $hasargs, $wantarray, $evaltext,
             $is_require, $hints, $bitmask, $hinthash) = @{$e-&gt;frames-&gt;[-1]};

   <b>line</b>
         my $line = $e-&gt;line;
         $e       = $e-&gt;line([3, 'die;']);

       The line where the exception occurred if available.

   <b>lines_after</b>
         my $lines = $e-&gt;lines_after;
         $e        = $e-&gt;lines_after([[4, 'say $foo;'], [5, 'say $bar;']]);

       Lines after the line where the exception occurred if available.

   <b>lines_before</b>
         my $lines = $e-&gt;lines_before;
         $e        = $e-&gt;lines_before([[1, 'my $foo = 23;'], [2, 'my $bar = 24;']]);

       Lines before the line where the exception occurred if available.

   <b>message</b>
         my $msg = $e-&gt;message;
         $e      = $e-&gt;message('Died at test.pl line 3.');

       Exception message, defaults to "Exception!".

   <b>verbose</b>
         my $bool = $e-&gt;verbose;
         $e       = $e-&gt;verbose($bool);

       Show more information with "to_string", such as "frames", defaults to the value of the
       "MOJO_EXCEPTION_VERBOSE" environment variable.

</pre><h4><b>METHODS</b></h4><pre>
       Mojo::Exception inherits all methods from Mojo::Base and implements the following new ones.

   <b>inspect</b>
         $e = $e-&gt;inspect;
         $e = $e-&gt;inspect($source1, $source2);

       Inspect "message", "frames" and optional additional sources to fill "lines_before", "line" and
       "lines_after" with context information.

   <b>new</b>
         my $e = Mojo::Exception-&gt;new;
         my $e = Mojo::Exception-&gt;new('Died at test.pl line 3.');

       Construct a new Mojo::Exception object and assign "message" if necessary.

   <b>to_string</b>
         my $str = $e-&gt;to_string;

       Render exception. Note that the output format may change as more features are added, only the error
       message at the beginning is guaranteed not to be modified to allow regex matching.

   <b>throw</b>
         Mojo::Exception-&gt;throw('Something went wrong!');

       Throw exception from the current execution context.

         # Longer version
         die Mojo::Exception-&gt;new('Something went wrong!')-&gt;trace;

   <b>trace</b>
         $e = $e-&gt;trace;
         $e = $e-&gt;trace($skip);

       Generate stack trace and store all "frames", defaults to skipping 1 call frame.

         # Skip 3 call frames
         $e-&gt;<a href="../man3/trace.3.html">trace</a>(3);

         # Skip no call frames
         $e-&gt;<a href="../man0/trace.0.html">trace</a>(0);

</pre><h4><b>OPERATORS</b></h4><pre>
       Mojo::Exception overloads the following operators.

   <b>bool</b>
         my $bool = !!$e;

       Always true.

   <b>stringify</b>
         my $str = "$e";

       Alias for "to_string".

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mojolicious, Mojolicious::Guides, &lt;https://mojolicious.org&gt;.

perl v5.40.0                                       2024-12-07                               <u>Mojo::<a href="../man3pm/Exception.3pm.html">Exception</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>