<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rte_mtr.h</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dpdk-doc">dpdk-doc_24.11.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rte_mtr.h

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/stdint.h">stdint.h</a>&gt;
       #include &lt;rte_compat.h&gt;
       #include &lt;rte_common.h&gt;
       #include &lt;rte_meter.h&gt;
       #include &lt;rte_flow.h&gt;

   <b>Data</b> <b>Structures</b>
       struct <b>rte_mtr_stats</b>
       struct <b>rte_mtr_meter_profile</b>
       struct <b>rte_mtr_meter_policy_params</b>
       struct <b>rte_mtr_params</b>
       struct <b>rte_mtr_capabilities</b>
       struct <b>rte_mtr_error</b>

   <b>Macros</b>
       #define <b>rte_mtr_policy_pass_color</b>(policy)
       #define <b>rte_mtr_policy_drop_red</b>(policy)

   <b>Enumerations</b>
       enum <b>rte_mtr_stats_type</b> { <b>RTE_MTR_STATS_N_PKTS_GREEN</b> = 1 &lt;&lt; 0, <b>RTE_MTR_STATS_N_PKTS_YELLOW</b> = 1 &lt;&lt; 1,
           <b>RTE_MTR_STATS_N_PKTS_RED</b> = 1 &lt;&lt; 2, <b>RTE_MTR_STATS_N_PKTS_DROPPED</b> = 1 &lt;&lt; 3, <b>RTE_MTR_STATS_N_BYTES_GREEN</b>
           = 1 &lt;&lt; 4, <b>RTE_MTR_STATS_N_BYTES_YELLOW</b> = 1 &lt;&lt; 5, <b>RTE_MTR_STATS_N_BYTES_RED</b> = 1 &lt;&lt; 6,
           <b>RTE_MTR_STATS_N_BYTES_DROPPED</b> = 1 &lt;&lt; 7 }
       enum <b>rte_mtr_algorithm</b> { <b>RTE_MTR_NONE</b> = 0, <b>RTE_MTR_SRTCM_RFC2697</b>, <b>RTE_MTR_TRTCM_RFC2698</b>,
           <b>RTE_MTR_TRTCM_RFC4115</b> }
       enum <b>rte_mtr_color_in_protocol</b> { <b>RTE_MTR_COLOR_IN_PROTO_OUTER_VLAN</b> = <a href="../man0/RTE_BIT64.0.html">RTE_BIT64</a>(0),
           <b>RTE_MTR_COLOR_IN_PROTO_INNER_VLAN</b> = <a href="../man1/RTE_BIT64.1.html">RTE_BIT64</a>(1), <b>RTE_MTR_COLOR_IN_PROTO_OUTER_IP</b> = <a href="../man2/RTE_BIT64.2.html">RTE_BIT64</a>(2),
           <b>RTE_MTR_COLOR_IN_PROTO_INNER_IP</b> = <a href="../man3/RTE_BIT64.3.html">RTE_BIT64</a>(3) }
       enum <b>rte_mtr_error_type</b> { <b>RTE_MTR_ERROR_TYPE_NONE</b>, <b>RTE_MTR_ERROR_TYPE_UNSPECIFIED</b>,
           <b>RTE_MTR_ERROR_TYPE_METER_PROFILE_ID</b>, <b>RTE_MTR_ERROR_TYPE_METER_PROFILE</b>,
           <b>RTE_MTR_ERROR_TYPE_METER_PROFILE_PACKET_MODE</b>, <b>RTE_MTR_ERROR_TYPE_MTR_ID</b>,
           <b>RTE_MTR_ERROR_TYPE_MTR_PARAMS</b>, <b>RTE_MTR_ERROR_TYPE_POLICER_ACTION_GREEN</b>,
           <b>RTE_MTR_ERROR_TYPE_POLICER_ACTION_YELLOW</b>, <b>RTE_MTR_ERROR_TYPE_POLICER_ACTION_RED</b>,
           <b>RTE_MTR_ERROR_TYPE_STATS_MASK</b>, <b>RTE_MTR_ERROR_TYPE_STATS</b>, <b>RTE_MTR_ERROR_TYPE_SHARED</b>,
           <b>RTE_MTR_ERROR_TYPE_METER_POLICY_ID</b>, <b>RTE_MTR_ERROR_TYPE_METER_POLICY</b> }

   <b>Functions</b>
       __rte_experimental int <b>rte_mtr_capabilities_get</b> (uint16_t port_id, struct <b>rte_mtr_capabilities</b> *cap,
           struct <b>rte_mtr_error</b> *error)
       __rte_experimental int <b>rte_mtr_meter_profile_add</b> (uint16_t port_id, uint32_t meter_profile_id, struct
           <b>rte_mtr_meter_profile</b> *profile, struct <b>rte_mtr_error</b> *error)
       __rte_experimental int <b>rte_mtr_meter_profile_delete</b> (uint16_t port_id, uint32_t meter_profile_id, struct
           <b>rte_mtr_error</b> *error)
       __rte_experimental struct rte_flow_meter_profile * <b>rte_mtr_meter_profile_get</b> (uint16_t port_id, uint32_t
           meter_profile_id, struct <b>rte_mtr_error</b> *error)
       __rte_experimental int <b>rte_mtr_meter_policy_validate</b> (uint16_t port_id, struct
           <b>rte_mtr_meter_policy_params</b> *policy, struct <b>rte_mtr_error</b> *error)
       __rte_experimental int <b>rte_mtr_meter_policy_add</b> (uint16_t port_id, uint32_t policy_id, struct
           <b>rte_mtr_meter_policy_params</b> *policy, struct <b>rte_mtr_error</b> *error)
       __rte_experimental struct rte_flow_meter_policy * <b>rte_mtr_meter_policy_get</b> (uint16_t port_id, uint32_t
           policy_id, struct <b>rte_mtr_error</b> *error)
       __rte_experimental int <b>rte_mtr_meter_policy_delete</b> (uint16_t port_id, uint32_t policy_id, struct
           <b>rte_mtr_error</b> *error)
       __rte_experimental int <b>rte_mtr_create</b> (uint16_t port_id, uint32_t mtr_id, struct <b>rte_mtr_params</b> *params,
           int shared, struct <b>rte_mtr_error</b> *error)
       __rte_experimental int <b>rte_mtr_destroy</b> (uint16_t port_id, uint32_t mtr_id, struct <b>rte_mtr_error</b> *error)
       __rte_experimental int <b>rte_mtr_meter_disable</b> (uint16_t port_id, uint32_t mtr_id, struct <b>rte_mtr_error</b>
           *error)
       __rte_experimental int <b>rte_mtr_meter_enable</b> (uint16_t port_id, uint32_t mtr_id, struct <b>rte_mtr_error</b>
           *error)
       __rte_experimental int <b>rte_mtr_meter_profile_update</b> (uint16_t port_id, uint32_t mtr_id, uint32_t
           meter_profile_id, struct <b>rte_mtr_error</b> *error)
       __rte_experimental int <b>rte_mtr_meter_policy_update</b> (uint16_t port_id, uint32_t mtr_id, uint32_t
           meter_policy_id, struct <b>rte_mtr_error</b> *error)
       __rte_experimental int <b>rte_mtr_meter_dscp_table_update</b> (uint16_t port_id, uint32_t mtr_id, enum
           <b>rte_mtr_color_in_protocol</b> proto, enum <b>rte_color</b> *dscp_table, struct <b>rte_mtr_error</b> *error)
       __rte_experimental int <b>rte_mtr_meter_vlan_table_update</b> (uint16_t port_id, uint32_t mtr_id, enum
           <b>rte_mtr_color_in_protocol</b> proto, enum <b>rte_color</b> *vlan_table, struct <b>rte_mtr_error</b> *error)
       __rte_experimental int <b>rte_mtr_color_in_protocol_set</b> (uint16_t port_id, uint32_t mtr_id, enum
           <b>rte_mtr_color_in_protocol</b> proto, uint32_t priority, struct <b>rte_mtr_error</b> *error)
       __rte_experimental int <b>rte_mtr_color_in_protocol_get</b> (uint16_t port_id, uint32_t mtr_id, uint64_t
           *proto_mask, struct <b>rte_mtr_error</b> *error)
       __rte_experimental int <b>rte_mtr_color_in_protocol_priority_get</b> (uint16_t port_id, uint32_t mtr_id, enum
           <b>rte_mtr_color_in_protocol</b> proto, uint32_t *priority, struct <b>rte_mtr_error</b> *error)
       __rte_experimental int <b>rte_mtr_stats_update</b> (uint16_t port_id, uint32_t mtr_id, uint64_t stats_mask,
           struct <b>rte_mtr_error</b> *error)
       __rte_experimental int <b>rte_mtr_stats_read</b> (uint16_t port_id, uint32_t mtr_id, struct <b>rte_mtr_stats</b>
           *stats, uint64_t *stats_mask, int clear, struct <b>rte_mtr_error</b> *error)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       RTE Generic Traffic Metering and Policing API

       This interface provides the ability to configure the traffic metering and policing (MTR) in a generic
       way.

       The processing done for each input packet hitting a MTR object is: A) Traffic metering: The packet is
       assigned a color (the meter output color), based on the previous history of the flow reflected in the
       current state of the MTR object, according to the specific traffic metering algorithm. The traffic
       metering algorithm can typically work in color aware mode, in which case the input packet already has an
       initial color (the input color), or in color blind mode, which is equivalent to considering all input
       packets initially colored as green. B) Policing: There is a separate policer action configured for each
       meter output color, which can: a) Drop the packet. b) Keep the same packet color: the policer output
       color matches the meter output color (essentially a no-op action). c) Recolor the packet: the policer
       output color is different than the meter output color. The policer output color is the output color of
       the packet, which is set in the packet meta-data (i.e. struct rte_mbuf::sched::color). C) Statistics: The
       set of counters maintained for each MTR object is configurable and subject to the implementation support.
       This set includes the number of packets and bytes dropped or passed for each output color.

       Once successfully created, an MTR object is linked to one or several flows through the meter action of
       the flow API. A) Whether an MTR object is private to a flow or potentially shared by several flows has to
       be specified at creation time. B) Several meter actions can be potentially registered for the same flow.

       <b>Warning</b>
           <b>EXPERIMENTAL:</b> this API may change without prior notice

       Definition in file <b>rte_mtr.h</b>.

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>rte_mtr_policy_pass_color(policy)</b>
       Define meter policy action list: GREEN - GREEN, YELLOW - YELLOW, RED - RED

       Definition at line <b>724</b> of file <b>rte_mtr.h</b>.

   <b>#define</b> <b>rte_mtr_policy_drop_red(policy)</b>
       <b>Value:</b>.PP
       struct rte_mtr_meter_policy_params policy = \
       { \
           .actions[RTE_COLOR_GREEN] = NULL, \
           .actions[RTE_COLOR_YELLOW] = NULL, \
           .actions[RTE_COLOR_RED] = (struct rte_flow_action[]) { \
               { \
                   .type = RTE_FLOW_ACTION_TYPE_DROP, \
               }, \
               { \
                   .type = RTE_FLOW_ACTION_TYPE_END, \
               }, \
           }, \
       }
       Define meter policy action list: GREEN - Do nothing, YELLOW - Do nothing, RED - DROP

       Definition at line <b>766</b> of file <b>rte_mtr.h</b>.

</pre><h4><b>Enumeration</b> <b>Type</b> <b>Documentation</b></h4><pre>
   <b>enum</b> <b>rte_mtr_stats_type</b>
       Statistics counter type

       <b>Enumerator</b>

       <u>RTE_MTR_STATS_N_PKTS_GREEN</u>
              Number of packets passed as green by the policer.

       <u>RTE_MTR_STATS_N_PKTS_YELLOW</u>
              Number of packets passed as yellow by the policer.

       <u>RTE_MTR_STATS_N_PKTS_RED</u>
              Number of packets passed as red by the policer.

       <u>RTE_MTR_STATS_N_PKTS_DROPPED</u>
              Number of packets dropped by the policer.

       <u>RTE_MTR_STATS_N_BYTES_GREEN</u>
              Number of bytes passed as green by the policer.

       <u>RTE_MTR_STATS_N_BYTES_YELLOW</u>
              Number of bytes passed as yellow by the policer.

       <u>RTE_MTR_STATS_N_BYTES_RED</u>
              Number of bytes passed as red by the policer.

       <u>RTE_MTR_STATS_N_BYTES_DROPPED</u>
              Number of bytes dropped by the policer.

       Definition at line <b>61</b> of file <b>rte_mtr.h</b>.

   <b>enum</b> <b>rte_mtr_algorithm</b>
       Traffic metering algorithms

       <b>Enumerator</b>

       <u>RTE_MTR_NONE</u>
              No  traffic  metering  performed,  the output color is the same as the input color for every input
              packet. The meter of the MTR object is working in pass-through mode, having same effect  as  meter
              disable.

       <b>See</b> <b>also</b>
           <b>rte_mtr_meter_disable()</b>

       <u>RTE_MTR_SRTCM_RFC2697</u>
              Single Rate Three Color Marker (srTCM) - IETF RFC 2697.

       <u>RTE_MTR_TRTCM_RFC2698</u>
              Two Rate Three Color Marker (trTCM) - IETF RFC 2698.

       <u>RTE_MTR_TRTCM_RFC4115</u>
              Two Rate Three Color Marker (trTCM) - IETF RFC 4115.

       Definition at line <b>107</b> of file <b>rte_mtr.h</b>.

   <b>enum</b> <b>rte_mtr_color_in_protocol</b>
       Input color protocol method

       More  than  one  of  the  method can be enabled for a given meter. Even if enabled, a method might not be
       applicable to each input packet, in case the associated protocol header is not present in the packet. The
       highest priority method that is both enabled for the meter and also  applicable  for  the  current  input
       packet wins; if none is both enabled and applicable, the default input color is used.

       <b>See</b> <b>also</b>
           function <b>rte_mtr_color_in_protocol_set()</b>

       <b>Enumerator</b>

       <u>RTE_MTR_COLOR_IN_PROTO_OUTER_VLAN</u>
              Enable  the  detection  of the packet input color based on the outermost VLAN header fields DEI (1
              bit) and PCP (3 bits). These fields are used as index into the VLAN table.

       <b>See</b> <b>also</b>
           struct <b>rte_mtr_params::vlan_table</b>

       <u>RTE_MTR_COLOR_IN_PROTO_INNER_VLAN</u>
              Enable the detection of the packet input color based on the innermost VLAN header  fields  DEI  (1
              bit) and PCP (3 bits). These fields are used as index into the VLAN table.

       <b>See</b> <b>also</b>
           struct <b>rte_mtr_params::vlan_table</b>

       <u>RTE_MTR_COLOR_IN_PROTO_OUTER_IP</u>
              Enable  the detection of the packet input color based on the outermost IP DSCP field. These fields
              are used as index into the DSCP table.

       <b>See</b> <b>also</b>
           struct <b>rte_mtr_params::dscp_table</b>

       <u>RTE_MTR_COLOR_IN_PROTO_INNER_IP</u>
              Enable the detection of the packet input color based on the innermost IP DSCP field. These  fields
              are used as index into the DSCP table.

       <b>See</b> <b>also</b>
           struct <b>rte_mtr_params::dscp_table</b>

       Definition at line <b>226</b> of file <b>rte_mtr.h</b>.

   <b>enum</b> <b>rte_mtr_error_type</b>
       Verbose error types.

       Most of them provide the type of the object referenced by struct <b>rte_mtr_error::cause</b>.

       <b>Enumerator</b>

       <u>RTE_MTR_ERROR_TYPE_NONE</u>
              No error.

       <u>RTE_MTR_ERROR_TYPE_UNSPECIFIED</u>
              Cause unspecified.

       Definition at line <b>525</b> of file <b>rte_mtr.h</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>__rte_experimental</b>  <b>int</b> <b>rte_mtr_capabilities_get</b> <b>(uint16_t</b> <b>port_id,</b> <b>struct</b> <b>rte_mtr_capabilities</b> <b>*</b> <b>cap,</b> <b>struct</b>
       <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       MTR capabilities get

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>cap</u> MTR capabilities. Needs to be pre-allocated and valid.
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

   <b>__rte_experimental</b>  <b>int</b>  <b>rte_mtr_meter_profile_add</b>  <b>(uint16_t</b>  <b>port_id,</b>  <b>uint32_t</b>  <b>meter_profile_id,</b>   <b>struct</b>
       <b>rte_mtr_meter_profile</b> <b>*</b> <b>profile,</b> <b>struct</b> <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       Meter profile add

       Create  a  new  meter  profile  with ID set to <u>meter_profile_id</u>. The new profile is used to create one or
       several MTR objects.

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>meter_profile_id</u> ID for the new meter profile. Needs to be  unused  by  any  of  the  existing  meter
           profiles added for the current port.
           <u>profile</u> Meter profile parameters. Needs to be pre-allocated and valid.
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

   <b>__rte_experimental</b>  <b>int</b>  <b>rte_mtr_meter_profile_delete</b>  <b>(uint16_t</b>  <b>port_id,</b>  <b>uint32_t</b> <b>meter_profile_id,</b> <b>struct</b>
       <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       Meter profile delete

       Delete an existing meter profile. This operation fails when there is currently at least  one  user  (i.e.
       MTR object) of this profile.

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>meter_profile_id</u> Meter profile ID. Needs to be the valid.
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

   <b>__rte_experimental</b>  <b>struct</b>  <b>rte_flow_meter_profile</b>  <b>*</b>  <b>rte_mtr_meter_profile_get</b>  <b>(uint16_t</b> <b>port_id,</b> <b>uint32_t</b>
       <b>meter_profile_id,</b> <b>struct</b> <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       Meter profile object get

       Get meter profile object for a given meter profile ID.

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>meter_profile_id</u> Meter profile ID. Needs to be the valid.
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           A valid handle in case of success, NULL otherwise.

   <b>__rte_experimental</b> <b>int</b> <b>rte_mtr_meter_policy_validate</b> <b>(uint16_t</b> <b>port_id,</b> <b>struct</b> <b>rte_mtr_meter_policy_params</b>  <b>*</b>
       <b>policy,</b> <b>struct</b> <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       Check whether a meter policy can be created on a given port.

       The  meter  policy  is  validated  for  correctness  and whether it could be accepted by the device given
       sufficient resources. The policy is checked against the current capability information meter_policy_n_max
       configuration. The policy may also optionally be validated against existing device policy resources. This
       function has no effect on the target device.

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>policy</u> Associated action list per color. list NULL is  legal  and  means  no  special  action.  (list
           terminated by the END action).
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

   <b>__rte_experimental</b>    <b>int</b>    <b>rte_mtr_meter_policy_add</b>   <b>(uint16_t</b>   <b>port_id,</b>   <b>uint32_t</b>   <b>policy_id,</b>   <b>struct</b>
       <b>rte_mtr_meter_policy_params</b> <b>*</b> <b>policy,</b> <b>struct</b> <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       Meter policy add

       Create a new meter policy. The new policy is used to create single or  multiple  MTR  objects.  The  same
       policy can be used to create multiple MTR objects.

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>policy_id</u> Policy identifier for the new meter policy.
           <u>policy</u>  Associated  actions  per color. list NULL is legal and means no special action. Non-NULL list
           must be terminated. (list terminated by the END action).
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

   <b>__rte_experimental</b>  <b>struct</b>  <b>rte_flow_meter_policy</b>  <b>*</b>  <b>rte_mtr_meter_policy_get</b>  <b>(uint16_t</b>  <b>port_id,</b>  <b>uint32_t</b>
       <b>policy_id,</b> <b>struct</b> <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       Meter policy object get

       Get meter policy object for a given meter policy ID.

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>policy_id</u> Meter policy ID. Needs to be the valid.
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           A valid handle in case of success, NULL otherwise.

   <b>__rte_experimental</b>   <b>int</b>   <b>rte_mtr_meter_policy_delete</b>   <b>(uint16_t</b>   <b>port_id,</b>   <b>uint32_t</b>   <b>policy_id,</b>  <b>struct</b>
       <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       Meter policy delete

       Delete an existing meter policy. This operation fails when there is currently at least one user (i.e. MTR
       object) of this policy.

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>policy_id</u> Policy identifier.
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

   <b>__rte_experimental</b> <b>int</b> <b>rte_mtr_create</b> <b>(uint16_t</b> <b>port_id,</b> <b>uint32_t</b> <b>mtr_id,</b> <b>struct</b> <b>rte_mtr_params</b> <b>*</b> <b>params,</b> <b>int</b>
       <b>shared,</b> <b>struct</b> <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       MTR object create

       Create a new MTR object for the current port. This object is run as part of associated  flow  action  for
       traffic metering and policing.

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>mtr_id</u>  MTR object ID. Needs to be unused by any of the existing MTR objects. created for the current
           port.
           <u>params</u> MTR object params. Needs to be pre-allocated and valid.
           <u>shared</u> Non-zero when this MTR object can be shared by multiple flows, zero when this MTR  object  can
           be used by a single flow.
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

       <b>See</b> <b>also</b>
           enum rte_flow_action_type::RTE_FLOW_ACTION_TYPE_METER

   <b>__rte_experimental</b> <b>int</b> <b>rte_mtr_destroy</b> <b>(uint16_t</b> <b>port_id,</b> <b>uint32_t</b> <b>mtr_id,</b> <b>struct</b> <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       MTR object destroy

       Delete an existing MTR object. This operation fails when there is currently at least one user (i.e. flow)
       of this MTR object.

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>mtr_id</u> MTR object ID. Needs to be valid. created for the current port.
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

   <b>__rte_experimental</b>  <b>int</b>  <b>rte_mtr_meter_disable</b>  <b>(uint16_t</b>  <b>port_id,</b>  <b>uint32_t</b>  <b>mtr_id,</b> <b>struct</b> <b>rte_mtr_error</b> <b>*</b>
       <b>error)</b>
       MTR object meter disable

       Disable the meter of an existing MTR object. In disabled state, the meter of the current MTR object works
       in pass-through mode, meaning that for each input packet the meter output color is always the same as the
       input color. In particular, when the meter of the current MTR object is configured in color  blind  mode,
       the  input  color  is always green, so the meter output color is also always green. Note that the policer
       and the statistics of the current MTR object are working as usual while the meter is disabled. No  action
       is  taken  and  this  function  returns  successfully when the meter of the current MTR object is already
       disabled.

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>mtr_id</u> MTR object ID.
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

   <b>__rte_experimental</b> <b>int</b> <b>rte_mtr_meter_enable</b> <b>(uint16_t</b> <b>port_id,</b> <b>uint32_t</b> <b>mtr_id,</b> <b>struct</b> <b>rte_mtr_error</b> <b>*</b> <b>error)</b>

       MTR object meter enable

       Enable the meter of an existing MTR object. If the MTR object has its  meter  already  enabled,  then  no
       action is taken and this function returns successfully.

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>mtr_id</u> MTR object ID.
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

   <b>__rte_experimental</b>   <b>int</b>   <b>rte_mtr_meter_profile_update</b>   <b>(uint16_t</b>   <b>port_id,</b>   <b>uint32_t</b>   <b>mtr_id,</b>  <b>uint32_t</b>
       <b>meter_profile_id,</b> <b>struct</b> <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       MTR object meter profile update

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>mtr_id</u> MTR object ID. Needs to be valid.
           <u>meter_profile_id</u> Meter profile ID for the current MTR object. Needs to be valid.
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

   <b>__rte_experimental</b>   <b>int</b>   <b>rte_mtr_meter_policy_update</b>   <b>(uint16_t</b>   <b>port_id,</b>   <b>uint32_t</b>   <b>mtr_id,</b>   <b>uint32_t</b>
       <b>meter_policy_id,</b> <b>struct</b> <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       MTR object meter policy update

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>mtr_id</u> MTR object ID. Needs to be valid.
           <u>meter_policy_id</u> Meter policy ID for the current MTR object. Needs to be valid.
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

   <b>__rte_experimental</b>   <b>int</b>   <b>rte_mtr_meter_dscp_table_update</b>   <b>(uint16_t</b>   <b>port_id,</b>   <b>uint32_t</b>   <b>mtr_id,</b>   <b>enum</b>
       <b>rte_mtr_color_in_protocol</b> <b>proto,</b> <b>enum</b> <b>rte_color</b> <b>*</b> <b>dscp_table,</b> <b>struct</b> <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       MTR object DSCP table update

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>mtr_id</u> MTR object ID. Needs to be valid.
           <u>proto</u> Input color protocol.
           <u>dscp_table</u> When non-NULL: it points to a  pre-allocated  and  pre-populated  table  with  exactly  64
           elements providing the input color for each value of the IPv4/IPv6 Differentiated Services Code Point
           (DSCP)  input  packet  field. When NULL: it is equivalent to setting this parameter to an 'all-green'
           populated table (i.e. table with all the 64 elements set to green color).
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

   <b>__rte_experimental</b>   <b>int</b>   <b>rte_mtr_meter_vlan_table_update</b>   <b>(uint16_t</b>   <b>port_id,</b>   <b>uint32_t</b>   <b>mtr_id,</b>   <b>enum</b>
       <b>rte_mtr_color_in_protocol</b> <b>proto,</b> <b>enum</b> <b>rte_color</b> <b>*</b> <b>vlan_table,</b> <b>struct</b> <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       MTR object VLAN table update

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>mtr_id</u> MTR object ID. Needs to be valid.
           <u>proto</u> Input color protocol.
           <u>vlan_table</u>  When  non-NULL:  it  points  to  a  pre-allocated and pre-populated table with exactly 16
           elements providing the input color for each value of the each value of  the  <a href="../man1bit/DEI.1bit.html">DEI</a>(1bit),  PCP(3  bits)
           input packet field. When NULL: it is equivalent to setting this parameter to an 'all-green' populated
           table (i.e. table with all the 16 elements set to green color).
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

   <b>__rte_experimental</b>    <b>int</b>    <b>rte_mtr_color_in_protocol_set</b>   <b>(uint16_t</b>   <b>port_id,</b>   <b>uint32_t</b>   <b>mtr_id,</b>   <b>enum</b>
       <b>rte_mtr_color_in_protocol</b> <b>proto,</b> <b>uint32_t</b> <b>priority,</b> <b>struct</b> <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       Set the input color protocol for a given MTR object

       More than one of the method can be enabled for a given meter. Even if enabled,  a  method  might  not  be
       applicable to each input packet, in case the associated protocol header is not present in the packet. The
       highest  priority  method  that  is  both enabled for the meter and also applicable for the current input
       packet wins; if none is both enabled and applicable, the default input color is used.

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>mtr_id</u> MTR object ID. Needs to be valid.
           <u>proto</u> Input color protocol.
           <u>priority</u> Input color protocol priority. Value zero indicates the highest priority.
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

   <b>__rte_experimental</b>  <b>int</b>  <b>rte_mtr_color_in_protocol_get</b>  <b>(uint16_t</b>  <b>port_id,</b>  <b>uint32_t</b>  <b>mtr_id,</b>   <b>uint64_t</b>   <b>*</b>
       <b>proto_mask,</b> <b>struct</b> <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       Get the input color protocol for a given MTR object

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>mtr_id</u> MTR object ID. Needs to be valid.
           <u>proto_mask</u> Selected input color protocols as bit mask.
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

   <b>__rte_experimental</b>  <b>int</b>  <b>rte_mtr_color_in_protocol_priority_get</b>  <b>(uint16_t</b>  <b>port_id,</b>  <b>uint32_t</b>  <b>mtr_id,</b>  <b>enum</b>
       <b>rte_mtr_color_in_protocol</b> <b>proto,</b> <b>uint32_t</b> <b>*</b> <b>priority,</b> <b>struct</b> <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       Get the priority associated with input color protocol for a given MTR object

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>mtr_id</u> MTR object ID. Needs to be valid.
           <u>proto</u> Input color protocol.
           <u>priority</u> Input color protocol priority associated with proto.
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

   <b>__rte_experimental</b> <b>int</b> <b>rte_mtr_stats_update</b> <b>(uint16_t</b> <b>port_id,</b> <b>uint32_t</b> <b>mtr_id,</b> <b>uint64_t</b>  <b>stats_mask,</b>  <b>struct</b>
       <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       MTR object enabled statistics counters update

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>mtr_id</u> MTR object ID. Needs to be valid.
           <u>stats_mask</u>  Mask of statistics counter types to be enabled for the current MTR object. Any statistics
           counter type not included in this set is to be disabled for the current MTR object.
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

       <b>See</b> <b>also</b>
           enum <b>rte_mtr_stats_type</b>

   <b>__rte_experimental</b> <b>int</b> <b>rte_mtr_stats_read</b> <b>(uint16_t</b> <b>port_id,</b> <b>uint32_t</b> <b>mtr_id,</b> <b>struct</b> <b>rte_mtr_stats</b>  <b>*</b>  <b>stats,</b>
       <b>uint64_t</b> <b>*</b> <b>stats_mask,</b> <b>int</b> <b>clear,</b> <b>struct</b> <b>rte_mtr_error</b> <b>*</b> <b>error)</b>
       MTR object statistics counters read

       <b>Parameters</b>
           <u>port_id</u> The port identifier of the Ethernet device.
           <u>mtr_id</u> MTR object ID. Needs to be valid.
           <u>stats</u>  When  non-NULL,  it  contains  the  current  value for the statistics counters enabled for the
           current MTR object.
           <u>stats_mask</u> When non-NULL, it contains the mask of statistics counter types that are currently enabled
           for this MTR object, indicating which of the counters retrieved with the <u>stats</u> structure are valid.
           <u>clear</u> When this parameter has a non-zero value, the statistics counters  are  cleared  (i.e.  set  to
           zero) immediately after they have been read, otherwise the statistics counters are left untouched.
           <u>error</u> Error details. Filled in only on error, when not NULL.

       <b>Returns</b>
           0 on success, non-zero error code otherwise.

       <b>See</b> <b>also</b>
           enum <b>rte_mtr_stats_type</b>

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for DPDK from the source code.

DPDK                                             Version 24.11.2                                    <u><a href="../man3/rte_mtr.h.3.html">rte_mtr.h</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>