<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>security_load_policy - load a new SELinux policy</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libselinux1-dev">libselinux1-dev_3.8.1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       security_load_policy - load a new SELinux policy

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;selinux/selinux.h&gt;</b>

       <b>int</b> <b>security_load_policy(const</b> <b>void</b> <b>*</b><u>data</u><b>,</b> <b>size_t</b> <u>len</u><b>);</b>

       <b>int</b> <b>selinux_mkload_policy(int</b> <u>preservebools</u><b>);</b>

       <b>int</b> <b>selinux_init_load_policy(int</b> <b>*</b><u>enforce</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>security_load_policy</b>() loads a new policy, returns 0 for success and -1 for error.

       <b>selinux_mkload_policy</b>()  makes  a  policy  image  and  loads  it.  This  function provides a higher level
       interface for loading  policy  than  <b>security_load_policy</b>(),  internally  determining  the  right  policy
       version,  locating  and  opening  the  policy file, mapping it into memory, manipulating it as needed for
       current boolean settings and/or local definitions, and then  calling  security_load_policy  to  load  it.
       <u>preservebools</u> is a boolean flag indicating whether current policy boolean values should be preserved into
       the  new  policy  (if 1) or reset to the saved policy settings (if 0). The former case is the default for
       policy reloads, while the latter case is an option for policy reloads  but  is  primarily  used  for  the
       initial  policy  load.   <b>selinux_init_load_policy</b>()  performs  the  initial  policy  load.  This function
       determines the desired enforcing mode, sets the <u>enforce</u> argument accordingly for the caller to use,  sets
       the  SELinux  kernel  enforcing  status to match it, and loads the policy. It also internally handles the
       initial selinuxfs mount required to perform these actions.

       It should also be noted that after the initial policy load, the SELinux kernel  code  cannot  anymore  be
       disabled and the selinuxfs cannot be unmounted using a call to <b><a href="../man3/security_disable.3.html">security_disable</a></b>(3).  Therefore, after the
       initial  policy  load,  the  only operational changes are those permitted by <b><a href="../man3/security_setenforce.3.html">security_setenforce</a></b>(3) (i.e.
       eventually setting the framework in permissive mode rather than in enforcing one).

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Returns zero on success or -1 on error.

</pre><h4><b>AUTHOR</b></h4><pre>
       This manual page has been written by Guido Trentalancia &lt;<a href="mailto:guido@trentalancia.com">guido@trentalancia.com</a>&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/selinux.8.html">selinux</a></b>(8), <b><a href="../man3/security_disable.3.html">security_disable</a></b>(3), <b><a href="../man8/setenforce.8.html">setenforce</a></b>(8)

<a href="mailto:guido@trentalancia.com">guido@trentalancia.com</a>                           3 November 2009                         <u><a href="../man3/security_load_policy.3.html">security_load_policy</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>