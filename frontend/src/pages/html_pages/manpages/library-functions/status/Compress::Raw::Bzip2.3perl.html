<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compress::Raw::Bzip2 - Low-Level Interface to bzip2 compression library</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/perl-doc">perl-doc_5.40.1-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Compress::Raw::Bzip2 - Low-Level Interface to bzip2 compression library

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Compress::Raw::Bzip2 ;

           my ($bz, $status) = new Compress::Raw::Bzip2 [OPTS]
               or die "Cannot create bzip2 object: $bzerno\n";

           $status = $bz-&gt;bzdeflate($input, $output);
           $status = $bz-&gt;bzflush($output);
           $status = $bz-&gt;bzclose($output);

           my ($bz, $status) = new Compress::Raw::Bunzip2 [OPTS]
               or die "Cannot create bunzip2 object: $bzerno\n";

           $status = $bz-&gt;bzinflate($input, $output);

           my $version = Compress::Raw::Bzip2::bzlibversion();

</pre><h4><b>DESCRIPTION</b></h4><pre>
       "Compress::Raw::Bzip2" provides an interface to the in-memory compression/uncompression functions from
       the bzip2 compression library.

       Although the primary purpose for the existence of "Compress::Raw::Bzip2" is for use by the
       "IO::Compress::Bzip2" and "IO::Compress::Bunzip2" modules, it can be used on its own for simple
       compression/uncompression tasks.

</pre><h4><b>Compression</b></h4><pre>
   <b>($z,</b> <b>$status)</b> <b>=</b> <b>new</b> <b>Compress::Raw::Bzip2</b> <b>$appendOutput,</b> <b>$blockSize100k,</b> <b>$workfactor;</b>
       Creates a new compression object.

       If successful, it will return the initialised compression object, $z and a $status of "BZ_OK" in a list
       context. In scalar context it returns the deflation object, $z, only.

       If not successful, the returned compression object, $z, will be <u>undef</u> and $status will hold the a <u>bzip2</u>
       error code.

       Below is a list of the valid options:

       <b>$appendOutput</b>
            Controls  whether the compressed data is appended to the output buffer in the "bzdeflate", "bzflush"
            and "bzclose" methods.

            Defaults to 1.

       <b>$blockSize100k</b>
            To quote the bzip2 documentation

                blockSize100k specifies the block size to be used for compression. It
                should be a value between 1 and 9 inclusive, and the actual block size
                used is 100000 x this figure. 9 gives the best compression but takes
                most memory.

            Defaults to 1.

       <b>$workfactor</b>
            To quote the bzip2 documentation

                This parameter controls how the compression phase behaves when
                presented with worst case, highly repetitive, input data. If
                compression runs into difficulties caused by repetitive data, the
                library switches from the standard sorting algorithm to a fallback
                algorithm. The fallback is slower than the standard algorithm by
                perhaps a factor of three, but always behaves reasonably, no matter how
                bad the input.

                Lower values of workFactor reduce the amount of effort the standard
                algorithm will expend before resorting to the fallback. You should set
                this parameter carefully; too low, and many inputs will be handled by
                the fallback algorithm and so compress rather slowly, too high, and
                your average-to-worst case compression times can become very large. The
                default value of 30 gives reasonable behaviour over a wide range of
                circumstances.

                Allowable values range from 0 to 250 inclusive. 0 is a special case,
                equivalent to using the default value of 30.

            Defaults to 0.

   <b>$status</b> <b>=</b> <b>$bz-&gt;bzdeflate($input,</b> <b>$output);</b>
       Reads the contents of $input, compresses it and writes the compressed data to $output.

       Returns "BZ_RUN_OK" on success and a "bzip2" error code on failure.

       If "appendOutput" is enabled in the constructor for  the  bzip2  object,  the  compressed  data  will  be
       appended  to  $output. If not enabled, $output will be truncated before the compressed data is written to
       it.

   <b>$status</b> <b>=</b> <b>$bz-&gt;bzflush($output);</b>
       Flushes any pending compressed data to $output.

       Returns "BZ_RUN_OK" on success and a "bzip2" error code on failure.

   <b>$status</b> <b>=</b> <b>$bz-&gt;bzclose($output);</b>
       Terminates the compressed data stream and flushes any pending compressed data to $output.

       Returns "BZ_STREAM_END" on success and a "bzip2" error code on failure.

   <b>Example</b>
</pre><h4><b>Uncompression</b></h4><pre>
   <b>($z,</b> <b>$status)</b> <b>=</b> <b>new</b> <b>Compress::Raw::Bunzip2</b> <b>$appendOutput,</b> <b>$consumeInput,</b> <b>$small,</b> <b>$verbosity,</b> <b>$limitOutput;</b>
       If successful, it will return the initialised uncompression object, $z and a $status of "BZ_OK" in a list
       context. In scalar context it returns the deflation object, $z, only.

       If not successful, the returned uncompression object, $z, will be <u>undef</u> and $status will hold the a <u>bzip2</u>
       error code.

       Below is a list of the valid options:

       <b>$appendOutput</b>
            Controls whether the compressed data is appended to the output buffer in the "bzinflate",  "bzflush"
            and "bzclose" methods.

            Defaults to 1.

       <b>$consumeInput</b>
       <b>$small</b>
            To quote the bzip2 documentation

                If small is nonzero, the library will use an alternative decompression
                algorithm which uses less memory but at the cost of decompressing more
                slowly (roughly speaking, half the speed, but the maximum memory
                requirement drops to around 2300k).

            Defaults to 0.

       <b>$limitOutput</b>
            The  "LimitOutput"  option  changes the behavior of the "$i-&gt;bzinflate" method so that the amount of
            memory used by the output buffer can be limited.

            When "LimitOutput" is used the size of the output buffer used will either be the 16k or  the  amount
            of memory already allocated to $output, whichever is larger. Predicting the output size available is
            tricky, so don't rely on getting an exact output buffer size.

            When "LimitOutout" is not specified "$i-&gt;bzinflate" will use as much memory as it takes to write all
            the uncompressed data it creates by uncompressing the input buffer.

            If "LimitOutput" is enabled, the "ConsumeInput" option will also be enabled.

            This option defaults to false.

       <b>$verbosity</b>
            This parameter is ignored.

            Defaults to 0.

   <b>$status</b> <b>=</b> <b>$z-&gt;bzinflate($input,</b> <b>$output);</b>
       Uncompresses $input and writes the uncompressed data to $output.

       Returns  "BZ_OK"  if  the uncompression was successful, but the end of the compressed data stream has not
       been reached. Returns "BZ_STREAM_END" on successful uncompression and the end of the  compression  stream
       has been reached.

       If  "consumeInput"  is enabled in the constructor for the bunzip2 object, $input will have all compressed
       data removed from it after uncompression. On "BZ_OK" return this will mean that $input will be  an  empty
       string;  when  "BZ_STREAM_END"  $input  will  either  be  an  empty  string or will contain whatever data
       immediately followed the compressed data stream.

       If "appendOutput" is enabled in the constructor for the bunzip2 object, the  uncompressed  data  will  be
       appended to $output. If not enabled, $output will be truncated before the uncompressed data is written to
       it.

</pre><h4><b>Misc</b></h4><pre>
   <b>my</b> <b>$version</b> <b>=</b> <b>Compress::Raw::Bzip2::bzlibversion();</b>
       Returns the version of the underlying bzip2 library.

</pre><h4><b>Constants</b></h4><pre>
       The following bzip2 constants are exported by this module

                       BZ_RUN
                       BZ_FLUSH
                       BZ_FINISH

                       BZ_OK
                       BZ_RUN_OK
                       BZ_FLUSH_OK
                       BZ_FINISH_OK
                       BZ_STREAM_END
                       BZ_SEQUENCE_ERROR
                       BZ_PARAM_ERROR
                       BZ_MEM_ERROR
                       BZ_DATA_ERROR
                       BZ_DATA_ERROR_MAGIC
                       BZ_IO_ERROR
                       BZ_UNEXPECTED_EOF
                       BZ_OUTBUFF_FULL
                       BZ_CONFIG_ERROR

</pre><h4><b>SUPPORT</b></h4><pre>
       General          feedback/questions/bug         reports         should         be         sent         to
       &lt;https://github.com/pmqs/Compress-Raw-Bzip2/issues&gt;                    (preferred)                     or
       &lt;https://rt.cpan.org/Public/Dist/Display.html?Name=Compress-Raw-Bzip2&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Compress::Zlib,         IO::Compress::Gzip,         IO::Uncompress::Gunzip,        IO::Compress::Deflate,
       IO::Uncompress::Inflate,   IO::Compress::RawDeflate,   IO::Uncompress::RawInflate,   IO::Compress::Bzip2,
       IO::Uncompress::Bunzip2,        IO::Compress::Lzma,       IO::Uncompress::UnLzma,       IO::Compress::Xz,
       IO::Uncompress::UnXz,       IO::Compress::Lzip,        IO::Uncompress::UnLzip,        IO::Compress::Lzop,
       IO::Uncompress::UnLzop,        IO::Compress::Lzf,        IO::Uncompress::UnLzf,       IO::Compress::Zstd,
       IO::Uncompress::UnZstd, IO::Uncompress::AnyInflate, IO::Uncompress::AnyUncompress

       IO::Compress::FAQ

       File::GlobMapper, Archive::Zip, Archive::Tar, IO::Zlib

       The primary site for the bzip2 program is &lt;https://sourceware.org/bzip2/&gt;.

       See the module Compress::Bzip2

</pre><h4><b>AUTHOR</b></h4><pre>
       This module was written by Paul Marquess, "<a href="mailto:pmqs@cpan.org">pmqs@cpan.org</a>".

</pre><h4><b>MODIFICATION</b> <b>HISTORY</b></h4><pre>
       See the Changes file.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright (c) 2005-2024 Paul Marquess. All rights reserved.

       This program is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

perl v5.40.1                                       2025-07-03                        <u>Compress::Raw::<a href="../man3perl/Bzip2.3perl.html">Bzip2</a></u>(3perl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>