<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ieee1284_read_status, ieee1284_wait_status - analyse status lines</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libieee1284-3-dev">libieee1284-3-dev_0.2.11-14.1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ieee1284_read_status, ieee1284_wait_status - analyse status lines

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;ieee1284.h&gt;</b>

       <b>int</b> <b>ieee1284_read_status(struct</b> <b>parport</b> <b>*</b><u>port</u><b>);</b>

       <b>int</b> <b>ieee1284_wait_status(struct</b> <b>parport</b> <b>*</b><u>port</u><b>,</b> <b>unsigned</b> <b>char</b> <u>mask</u><b>,</b> <b>unsigned</b> <b>char</b> <u>val</u><b>,</b>
                                <b>struct</b> <b>timeval</b> <b>*</b><u>timeout</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       There are five status lines, one of which is usually inverted on PC-style ports. Where they differ,
       libieee1284 operates on the IEEE 1284 values, not the PC-style inverted values. The status lines are
       represented by the following enumeration:

           enum ieee1284_status_bits
           {
             S1284_NFAULT = 0x08,
             S1284_SELECT = 0x10,
             S1284_PERROR = 0x20,
             S1284_NACK   = 0x40,
             S1284_BUSY   = 0x80,
             /* To convert those values into PC-style register values, use this: */
             S1284_INVERTED = S1284_BUSY,
           };

       These functions all act on the parallel port associated with <u>port</u>, which must be claimed.

       The purpose of <b>ieee1284_wait_status</b> is to wait until particular status lines have specified values. Its
       <u>timeout</u> parameter may be modified on return.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       For <b>ieee1284_read_status</b>, the return value is a non-negative integer with bits set as appropriate
       representing the status lines. A negative result indicates an error.

       For <b>ieee1284_wait_status</b>, the return value is <b>E1284_OK</b> if the status lines now reflect the desired values
       (i.e. status &amp; <u>mask</u> is <u>val</u>), or a negative result indicating an error.

       Possible error codes:

       <b>E1284_NOTIMPL</b>
           The <u>port</u> lacks the required capability. This could be due to a limitation of this version of
           libieee1284, or a hardware limitation.

       <b>E1284_NOTAVAIL</b>
           Access to the status lines is not available on this port type.

       <b>E1284_TIMEDOUT</b>
           The <u>timeout</u> has elapsed.

       <b>E1284_INVALIDPORT</b>
           The <u>port</u> parameter is invalid (for instance, perhaps the <u>port</u> is not claimed).

</pre><h4><b>NOTES</b></h4><pre>
       The nAck pin is often able to trigger interrupts on the host machine. With operating system help these
       interrupts may be visible to the application via the file descriptor returned by <b>ieee1284_get_irq_fd</b>.

       Under Linux, the conditions are that the parallel port driver knows which interrupt line to use and is
       using it, and that the relevant <u>/dev/parport</u> device node is accessible and backed by a device driver.

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>Tim</b> <b>Waugh</b> &lt;<a href="mailto:twaugh@redhat.com">twaugh@redhat.com</a>&gt;
           Author.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2001-2003 Tim Waugh

                                                   09/18/2007                                 <u><a href="../man3/IEEE1284_STATUS.3.html">IEEE1284_STATUS</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>