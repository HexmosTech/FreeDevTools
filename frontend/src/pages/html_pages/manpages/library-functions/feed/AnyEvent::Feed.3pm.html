<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnyEvent::Feed - Receiving RSS/Atom Feed reader with XML::Feed</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libanyevent-feed-perl">libanyevent-feed-perl_0.3-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       AnyEvent::Feed - Receiving RSS/Atom Feed reader with XML::Feed

</pre><h4><b>VERSION</b></h4><pre>
       Version 0.3

</pre><h4><b>SYNOPSIS</b></h4><pre>
          use AnyEvent;
          use AnyEvent::Feed;

          my $feed_reader =
             AnyEvent::Feed-&gt;new (
                url   =&gt; '<a href="http://example.com/atom.xml">http://example.com/atom.xml</a>',
             );

          $feed_reader-&gt;fetch (sub {
             my ($feed_reader, $new_entries, $feed, $error) = @_;

             if (defined $error) {
                warn "ERROR: $error\n";
                return;
             }

             # $feed is the XML::Feed object belonging to that fetch.

             for (@$new_entries) {
                my ($hash, $entry) = @$_;
                # $hash a unique hash describing the $entry
                # $entry is the XML::Feed::Entry object of the new entries
                # since the last fetch.
             }
          });

          # Or:

          my $feed_reader =
             AnyEvent::Feed-&gt;new (
                url      =&gt; '<a href="http://example.com/atom.xml">http://example.com/atom.xml</a>',
                interval =&gt; $seconds,

                on_fetch =&gt; sub {
                   my ($feed_reader, $new_entries, $feed, $error) = @_;

                   if (defined $error) {
                      warn "ERROR: $error\n";
                      return;
                   }

                   # see above
                }
             );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module implements some glue between AnyEvent::HTTP and XML::Feed.  It can fetch a RSS/Atom feed on a
       regular interval as well as on customized times. It also keeps track of already fetched entries so that
       you will only get the new entries.

</pre><h4><b>METHODS</b></h4><pre>
       $feed_reader = AnyEvent::Feed-&gt;new (url =&gt; $url, %args)
           This  is the constructor for a new feed reader for the RSS/Atom feed reachable by the URL $url. %args
           may contain additional key/value pairs:

           interval =&gt; $seconds
               If this is set you also have to specify the "on_fetch" callback (see  below).   It  will  try  to
               fetch the $url every $seconds seconds and call the callback given by "on_fetch" with the result.

           headers =&gt; $http_hdrs
               Additional HTTP headers for each GET request can be passed in the $http_hdrs hash reference, just
               like you would pass it to the "headers" argument of the "http_get" request of AnyEvent::HTTP.

           username =&gt; $http_user
           password =&gt; $http_pass
               These are the HTTP username and password that will be used for Basic HTTP Authentication with the
               HTTP server when fetching the feed. This is mostly sugar for you so you don't have to encode them
               yourself and pass them to the "headers" argument above.

           on_fetch =&gt; $cb-&gt;($feed_reader, $new_entries, $feed_obj, $error)
               This  callback is called if the "interval" parameter is given (see above) with the same arguments
               as the callback given to the "fetch" method (see below).

           entry_ages =&gt; $hash
               This will set the hash which keeps track of seen and old entries.  See also the documentation  of
               the "entry_ages" method below.  The default will be an empty hash reference.

           max_entry_age =&gt; $count
               This  will set the maximum number of times an entry is kept in the "entry_ages" hash after it has
               not been seen in the feed anymore. The default value is 2 which  means  that  an  entry  hash  is
               removed from the "entry_ages" hash after it has not been seen in the feed for 2 fetches.

       $feed_reader-&gt;url
           Just returns the url that this feed reader is fetching from.

       $feed_reader-&gt;entry_ages ($new_entry_ages)
       my $entry_ages = $feed_reader-&gt;entry_ages
           This  will set the age hash which will keep track of already seen entries.  The keys of the hash will
           be the calculated hashes of the entries and the values will be a counter of how often they  have  NOT
           been  seen  anymore  (kind of an age counter). After each fetch this hash is updated and seen entries
           get a value of 0.

       $feed_reader-&gt;fetch ($cb-&gt;($feed_reader, $new_entries, $feed_obj, $error))
           This will initiate a HTTP GET on the URL passed to "new" and call $cb when done.

           $feed_reader is the feed reader object itself.  $new_entries is an array reference containing the new
           entries.  A new entry in that array is another array containing a calculated hash over  the  contents
           of  the  new  entry,  and the XML::Feed::Entry object of that entry.  $feed_obj is the XML::Feed feed
           object used to parse the fetched feed and contains all entries (and not just the 'new' ones).

           What a 'new' entry is, is decided by a map of  hashes  as  described  in  the  "entry_ages"  method's
           documentation above.

</pre><h4><b>AUTHOR</b></h4><pre>
       Robin Redeker, "&lt;<a href="mailto:elmex@ta-sa.org">elmex@ta-sa.org</a>&gt;"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       XML::Feed

       AnyEvent::HTTP

       AnyEvent

</pre><h4><b>BUGS</b></h4><pre>
   <b>Known</b> <b>Bugs</b>
       There  is  actually a known bug with encodings of contents of Atom feeds.  XML::Atom by default gives you
       UTF-8 encoded data. You have to set this global variable to be able to use the XML::Feed::Entry interface
       without knowledge of the underlying feed type:

          $XML::Atom::ForceUnicode = 1;

       I've re-reported this bug against XML::Feed, as I think it should take care  of  this.  XML::Atom  should
       probably just fix it's Unicode interface, but it seems to be a bit deserted w.r.t. fixing the bugs in the
       tracker.

   <b>Contact</b>
       Please  report  any  bugs  or  feature requests to "bug-anyevent-feed at rt.cpan.org", or through the web
       interface at &lt;<a href="http://rt.cpan.org/NoAuth/ReportBug.html">http://rt.cpan.org/NoAuth/ReportBug.html</a>?Queue=AnyEvent-Feed&gt;.  I will be notified and then
       you'll automatically be notified of progress on your bug as I make changes.

</pre><h4><b>SUPPORT</b></h4><pre>
       You can find documentation for this module with the perldoc command.

           perldoc AnyEvent::Feed

       You can also look for information at:

       •   IRC: AnyEvent::Feed IRC Channel

           See the same channel as the AnyEvent::XMPP module:

             IRC Network: <a href="http://freenode.net/">http://freenode.net/</a>
             Server     : chat.freenode.net
             Channel    : #ae_xmpp

             Feel free to join and ask questions!

       •   AnnoCPAN: Annotated CPAN documentation

           &lt;<a href="http://annocpan.org/dist/AnyEvent-Feed">http://annocpan.org/dist/AnyEvent-Feed</a>&gt;

       •   CPAN Ratings

           &lt;<a href="http://cpanratings.perl.org/d/AnyEvent-Feed">http://cpanratings.perl.org/d/AnyEvent-Feed</a>&gt;

       •   RT: CPAN's request tracker

           &lt;<a href="http://rt.cpan.org/NoAuth/Bugs.html">http://rt.cpan.org/NoAuth/Bugs.html</a>?Dist=AnyEvent-Feed&gt;

       •   Search CPAN

           &lt;<a href="http://search.cpan.org/dist/AnyEvent-Feed">http://search.cpan.org/dist/AnyEvent-Feed</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>&amp;</b> <b>LICENSE</b></h4><pre>
       Copyright 2009 Robin Redeker, all rights reserved.

       This program is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

perl v5.32.0                                       2021-01-01                                <u>AnyEvent::<a href="../man3pm/Feed.3pm.html">Feed</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>