<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>spline -  Fit curves with spline interpolation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/blt-dev">blt-dev_2.5.3+dfsg-8_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       spline -  Fit curves with spline interpolation

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>spline</b> <b>natural</b> <u>x</u> <u>y</u> <u>sx</u> <u>sy</u>

       <b>spline</b> <b>quadratic</b> <u>x</u> <u>y</u> <u>sx</u> <u>sy</u>
_________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>spline</b> command computes a spline fitting a set of data points (x and y vectors) and produces a vector
       of the interpolated images (y-coordinates) at a given set of x-coordinates.

</pre><h4><b>INTRODUCTION</b></h4><pre>
       Curve  fitting has many applications.  In graphs, curve fitting can be useful for displaying curves which
       are aesthetically pleasing to the eye.  Another advantage is that  you  can  quickly  generate  arbitrary
       points on the curve from a small set of data points.

       A  spline  is  a  device  used in drafting to produce smoothed curves.  The points of the curve, known as
       <u>knots</u>, are fixed and the <u>spline</u>, typically a thin strip of wood or metal, is bent  around  the  knots  to
       create  the  smoothed  curve.   Spline  interpolation is the mathematical equivalent.  The curves between
       adjacent knots are piecewise functions such that the resulting spline runs exactly through all the knots.
       The order and coefficients of the polynominal determine the "looseness" or "tightness" of the  curve  fit
       from the line segments formed by the knots.

       The  <b>spline</b>  command  performs  spline  interpolation  using  cubic  ("natural")  or quadratic polynomial
       functions.  It computes the spline based upon the knots, which  are  given  as  x  and  y  vectors.   The
       interpolated  new  points are determined by another vector which represents the abscissas (x-coordinates)
       or the new points.  The ordinates (y-coordinates) are  interpolated  using  the  spline  and  written  to
       another vector.

</pre><h4><b>EXAMPLE</b></h4><pre>
       Before we can use the <b>spline</b> command, we need to create two BLT vectors which will represent the knots (x
       and y coordinates) of the data that we're going to fit.  Obviously, both vectors must be the same length.

              # Create sample data of ten points.
              vector <a href="../man10/x.10.html">x</a>(10) <a href="../man10/y.10.html">y</a>(10)

              for {set i 10} {$i &gt; 0} {incr i -1} {
                  set x($i-1) [expr $i*$i]
                  set y($i-1) [expr sin($i*$i*$i)]
              }

       We  now  have two vectors <b>x</b> and <b>y</b> representing the ten data points we're trying to fit.  The order of the
       values of <b>x</b> must be monotonically increasing.  We can  use  the  vector's  <b>sort</b>  operation  to  sort  the
       vectors.

              x sort y

       The  components  of  <b>x</b>  are  sorted  in increasing order.  The components of <b>y</b> are rearranged so that the
       original x,y coordinate pairings are retained.

       A third vector is needed to indicate the abscissas (x-coordinates) of the new points to  be  interpolated
       by  the  spline.   Like  the x vector, the vector of abscissas must be monotonically increasing.  All the
       abscissas must lie between the first and last knots (x vector) forming the spline.

       How the abscissas are picked is arbitrary.  But if we are going to plot  the  spline,  we  will  want  to
       include the knots too.  Since both the quadratic and natural splines preserve the knots (an abscissa from
       the  x  vector  will always produce the corresponding ordinate from the y vector), we can simply make the
       new vector a superset of <b>x</b>.  It will contain the same coordinates as <b>x</b>, but also the abscissas of the new
       points we want interpolated.  A simple way is to use the vector's <b>populate</b> operation.

              x populate sx 10

       This creates a new vector <b>sx</b>.  It contains the abscissas of <b>x</b>, but in addition <b>sx</b> will  have  ten  evenly
       distributed values between each abscissa.  You can interpolate any points you wish, simply by setting the
       vector values.

       Finally,  we  generate  the ordinates (the images of the spline) using the <b>spline</b> command.  The ordinates
       are stored in a fourth vector.

              spline natural x y sx sy

       This creates a new vector <b>sy</b>.  It will have the same length as <b>sx</b>.  The vectors <b>sx</b> and <b>sy</b>  represent  the
       smoothed curve which we can now plot.

              graph .graph
              .graph element create original -x x -y x -color blue
              .graph element create spline -x sx -y sy -color red
              table . .graph

       The  <b>natural</b>  operation  employs a cubic interpolant when forming the spline.  In terms of the draftmen's
       spline, a <u>natural</u> <u>spline</u> requires the least amount of energy to bend the spline (strip  of  wood),  while
       still  passing  through  each  knot.  In mathematical terms, the second derivatives of the first and last
       points are zero.

       Alternatively, you can generate a spline using the <b>quadratic</b> operation.  Quadratic interpolation produces
       a spline which follows the line segments of the data points much more closely.

              spline quadratic x y sx sy

</pre><h4><b>OPERATIONS</b></h4><pre>
       <b>spline</b> <b>natural</b> <u>x</u> <u>y</u> <u>sx</u> <u>sy</u>
              Computes a cubic spline from the data points represented by the vectors <u>x</u> and <u>y</u>  and  interpolates
              new points using vector <u>sx</u> as the x-coordinates.  The resulting y-coordinates are written to a new
              vector <u>sy</u>. The vectors <u>x</u> and <u>y</u> must be the same length and contain at least three components.  The
              order of the components of <u>x</u> must be monotonically increasing.  <u>Sx</u> is the vector containing the x-
              coordinates of the points to be interpolated.  No component of <u>sx</u> can be less than first component
              of  <u>x</u> or greater than the last component.  The order of the components of <u>sx</u> must be monotonically
              increasing.  <u>Sy</u> is the name of the vector where the calculated y-coordinates will be  stored.   If
              <u>sy</u> does not already exist, a new vector will be created.

       <b>spline</b> <b>quadratic</b> <u>x</u> <u>y</u> <u>sx</u> <u>sy</u>
              Computes  a  quadratic  spline  from  the  data  points  represented  by  the  vectors <u>x</u> and <u>y</u> and
              interpolates new points using vector <u>sx</u> as the x-coordinates.   The  resulting  y-coordinates  are
              written  to  a  new  vector  <u>sy</u>.  The vectors <u>x</u> and <u>y</u> must be the same length and contain at least
              three components.  The order of the components of <u>x</u> must be monotonically increasing.  <u>Sx</u>  is  the
              vector  containing  the  x-coordinates of the points to be interpolated. No component of <u>sx</u> can be
              less than first component of <u>x</u> or greater than the last component.  The order of the components of
              <u>sx</u> must be monotonically increasing.  <u>Sy</u> is the  name  of  the  vector  where  the  calculated  y-
              coordinates are stored.  If <u>sy</u> does not already exist, a new vector will be created.

</pre><h4><b>REFERENCES</b></h4><pre>
       Numerical Analysis
       by R. Burden, J. Faires and A. Reynolds.
       Prindle, Weber &amp; Schmidt, 1981, pp. 112

       Shape Preserving Quadratic Splines
       by D.F.Mcallister &amp; J.A.Roulier
       Coded by S.L.Dodd &amp; M.Roulier N.C.State University.

       The original code for the quadratric spline can be found in TOMS #574.

</pre><h4><b>KEYWORDS</b></h4><pre>
       spline, vector, graph

BLT                                                    2.5                                     <u>blt::<a href="../man3tcl/spline.3tcl.html">spline</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>