<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Git::Annex - Perl interface to git-annex repositories</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libgit-annex-perl">libgit-annex-perl_0.008-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Git::Annex - Perl interface to git-annex repositories

</pre><h4><b>VERSION</b></h4><pre>
       version 0.008

</pre><h4><b>SYNOPSIS</b></h4><pre>
         my $annex = Git::Annex-&gt;new("/home/spwhitton/annex");

         # run `git annex unused` and then `git log` to get information about
         # unused git annex keys
         my $unused_files
           = $self-&gt;unused(used_refspec =&gt; "+refs/heads/master", log =&gt; 1);
         for my $unused_file (@$unused_files) {
             say "unused file " . $unused_file-&gt;{key} . ":";
             say "";
             say "  $_" for $unused_file-&gt;{log_lines};
             say "";
             say "you can drop it with: `git annex dropunused "
               . $unused_file-&gt;{number} . "`";
             say "";
         }

         # embedded Git::Wrapper instance with shortcut to access annex subcommands
         say for $annex-&gt;annex-&gt;find(qw(--not --in here));
         $annex-&gt;annex-&gt;copy(qw(-t cloud --in here --and --lackingcopies=1));

</pre><h4><b>DESCRIPTION</b></h4><pre>
       An instance of the Git::Annex class represents a git repository in which "git annex init" has been run.
       This module provides some useful methods for working with such repositories from Perl.  See
       &lt;https://git-annex.branchable.com/&gt; for more information on git-annex.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
   <b>toplevel</b>
       The root of the repository.

   <b>git</b>
       An instance of Git::Wrapper initialised in the repository.

   <b>annex</b>
       Gives access to git-annex subcommands in the same way that Git::Annex::git gives access to git
       subcommands.  So

           $self-&gt;git-&gt;annex("contentlocation", $key);

       may be written

           $self-&gt;annex-&gt;contentlocation($key);

</pre><h4><b>METHODS</b></h4><pre>
   <b>new($dir)</b>
       Instantiate an object representing a git-annex located in $dir.

   <b>unused(%opts)</b>
       Runs "git annex unused" and returns a hashref containing information on unused files.

       The information is cached inside the ".git/annex" directory.  This means that a user can keep running
       your script without repeatedly executing expensive "git annex" and "git log" commands.

       Optional arguments:

       log If  true,  run  "git log --stat -S" on each unused file, to see what filenames the unused data had if
           and when it was used data in the annex.

           Defaults to false, but if there is log data in the cache it will always be returned.

       from
           Corresponds to the "--from" option to "git annex unused".

       used_refspec
           Corresponds to the "--used-refspec" option to "git annex unused".

           Defaults to the "annex.used-refspec" git config key if set, or "+refs/heads/*:-refs/heads/synced/*".

   <b>abs_contentlocation($key)</b>
       Returns an absolute path to the content for git-annex key $key.

   <b>batch($cmd,</b> <b>@args)</b>
       Instantiate a "Git::Annex::BatchCommand" object by starting up a git-annex "--batch" command.

         my $batch = $annex-&gt;batch("find", "--in=here");
         say "foo/bar annexed content is present in this repo"
           if $batch-&gt;say("foo/bar");

         # kill the batch process:
         undef $batch;

</pre><h4><b>AUTHOR</b></h4><pre>
       Sean Whitton &lt;<a href="mailto:spwhitton@spwhitton.name">spwhitton@spwhitton.name</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2019-2021 by Sean Whitton &lt;<a href="mailto:spwhitton@spwhitton.name">spwhitton@spwhitton.name</a>&gt;.

       This is free software, licensed under:

         The GNU General Public License, Version 3, June 2007

perl v5.40.1                                       2025-03-04                                    <u>Git::<a href="../man3pm/Annex.3pm.html">Annex</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>