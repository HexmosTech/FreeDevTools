<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bss - Bundle Streaming Service library</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/ion-doc">ion-doc_3.2.1+dfsg-1.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       bss - Bundle Streaming Service library

</pre><h4><b>SYNOPSIS</b></h4><pre>
           #include "bss.h"

           typedef int (*RTBHandler)(time_t time, unsigned long count, char *buffer, int bufLength);

           [see description for available functions]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The BSS library supports the streaming of data over delay-tolerant networking (DTN) bundles.  The intent
       of the library is to enable applications that pass streaming data received in transmission time order
       (i.e., without time regressions) to an application-specific "display" function -- notionally for
       immediate real-time display -- but to store <b>all</b> received data (including out-of-order data) in a private
       database for playback under user control.  The reception and real-time display of in-order data is
       performed by a background thread, leaving the application's main (foreground) thread free to respond to
       user commands controlling playback or other application-specific functions.

       The application-specific "display" function invoked by the background thread must conform to the
       RTBHandler type definition.  It must return 0 on success, -1 on any error that should terminate the
       background thread.  Only on return from this function will the background thread proceed to acquire the
       next BSS payload.

       All data acquired by the BSS background thread is written to a BSS database comprising three files:
       table, list, and data.  The name of the database is the root name that is common to the three files,
       e.g., <u>db3</u>.tbl, <u>db3</u>.lst, <u>db3</u>.dat would be the three files making up the <u>db3</u> BSS database.  All three files
       of the selected BSS database must reside in the same directory of the file system.

       Several replay navigation functions in the BSS library require that the application provide a navigation
       state structure of type bssNav as defined in the bss.h header file.  The application is not reponsible
       for populating this structure; it's strictly for the private use of the BSS library.

       int bssOpen(char *bssName, char *path, char *eid)
           Opens  access  to  a  BSS  database,  to  enable  data playback.  <u>bssName</u> identifies the specific BSS
           database that is to be opened.  <u>path</u> identifies the directory in which the database resides.  <u>eid</u>  is
           ignored.  On any failure, returns -1.  On success, returns zero.

       int bssStart(char *bssName, char *path, char *eid, char *buffer, int bufLen, RTBHandler handler)
           Starts a BSS data acquisition background thread.  <u>bssName</u> identifies the BSS database into which data
           will be acquired.  <u>path</u> identifies the directory in which that database resides.  <u>eid</u> is used to open
           the  BP  endpoint  at  which  the  delivered  BSS  bundle  payload contents will be acquired.  <u>buffer</u>
           identifies a data acquisition buffer, which must be provided by the application, and <u>bufLen</u> indicates
           the length of that buffer; received bundle payloads in excess of this length will be discarded.

           <u>handler</u> identifies the display function to which each in-order bundle payload will  be  passed.   The
           <u>time</u>  and  <u>count</u>  parameters  passed  to  this  function identify the received bundle, indicating the
           bundle's creation timestamp time (in seconds) and counter value.  The <u>buffer</u> and <u>bufLength</u> parameters
           indicate the location into which the bundle's payload was acquired and the  length  of  the  acquired
           payload.   <u>handler</u>  must return -1 on any unrecoverable system error, 0 otherwise.  A return value of
           -1 from <u>handler</u> will terminate the BSS data acquisition background thread.

           On any failure, returns -1.  On success, returns zero.

       int bssRun(char *bssName, char *path, char *eid, char *buffer, int bufLen, RTBHandler handler)
           A convenience function that performs both <u>bssOpen()</u> and <u>bssStart()</u>.  On any failure, returns -1.   On
           success, returns zero.

       void <u>bssClose()</u>
           Terminates data playback access to the most recently opened BSS database.

       void <u>bssStop()</u>
           Terminates the most recently initiated BSS data acquisition background thread.

       void <u>bssExit()</u>
           A convenience function that performs both <u>bssClose()</u> and <u>bssStop()</u>.

       long bssRead(bssNav nav, char *data, int dataLen)
           Copies  the data at the current playback position in the database, as indicated by <u>nav</u>, into <u>data</u>; if
           the length of the data is in excess of <u>dataLen</u> then an error  condition  is  asserted  (i.e.,  -1  is
           returned).  Note that <u>bssRead()</u> cannot be successfully called until <u>nav</u> has been populated, nominally
           by a preceding call to <u>bssSeek()</u>, <u>bssNext()</u>, or <u>bssPrev()</u>.  Returns the length of data read, or -1 on
           any error.

       long bssSeek(bssNav *nav, time_t time, time_t *curTime, unsigned long *count)
           Sets  the  current playback position in the database, in <u>nav</u>, to the data received in the bundle with
           the earliest creation time that was greater than or equal to <u>time</u>.  Populates <u>nav</u>  and  also  returns
           the  creation  time  and  bundle ID count of that bundle in <u>curTime</u> and <u>count</u>.  Returns the length of
           data at this location, or -1 on any error.

       long bssSeek_read(bssNav *nav, time_t time, time_t *curTime, unsigned long *count, char *data, int
       dataLen)
           A convenience function that performs <u>bssSeek()</u> followed by an immediate <u>bssRead()</u> to return the  data
           at the new playback position.  Returns the length of data read, or -1 on any error.

       long bssNext(bssNav *nav, time_t *curTime, unsigned long *count)
           Sets  the  playback  position  in  the  database, in <u>nav</u>, to the data received in the bundle with the
           earliest creation time and ID count greater than that of the bundle at the current playback position.
           Populates <u>nav</u> and also returns the creation time and bundle ID count of that bundle  in  <u>curTime</u>  and
           <u>count</u>.   Returns  the  length of data at this location (if any), -2 on reaching end of list, or -1 on
           any error.

       long bssNext_read(bssNav *nav, time_t *curTime, unsigned long *count, char *data, int dataLen)
           A convenience function that performs <u>bssNext()</u> followed by an immediate <u>bssRead()</u> to return the  data
           at  the new playback position.  Returns the length of data read, -2 on reaching end of list, or -1 on
           any error.

       long bssPrev(bssNav *nav, time_t *curTime, unsigned long *count)
           Sets the playback position in the database, in <u>nav</u>, to the data  received  in  the  bundle  with  the
           latest  creation  time and ID count earlier than that of the bundle at the current playback position.
           Populates <u>nav</u> and also returns the creation time and bundle ID count of that bundle  in  <u>curTime</u>  and
           <u>count</u>.   Returns  the  length of data at this location (if any), -2 on reaching end of list, or -1 on
           any error.

       long bssPrev_read(bssNav *nav, time_t *curTime, unsigned long *count, char *data, int dataLen)
           A convenience function that performs <u>bssPrev()</u> followed by an immediate <u>bssRead()</u> to return the  data
           at  the new playback position.  Returns the length of data read, -2 on reaching end of list, or -1 on
           any error.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/bp.3.html">bp</a></u>(3)

perl v5.24.1                                       2016-07-07                             <u>bss::doc::pod3::<a href="../man3/bss.3.html">bss</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>