<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wofi - API functions and documentation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/wofi">wofi_1.4.1-1build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       wofi - API functions and documentation

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The functions documented here are used for interacting with wofi. They are defined in wofi_api.h.

</pre><h4><b>STRUCTURES</b></h4><pre>
       struct cache_line {
           char* line;
           struct wl_list link;
       };

</pre><h4><b>API</b> <b>FUNCTIONS</b></h4><pre>
       The following functions are used to interact with wofi.

       <b>char*</b> <b>wofi_parse_image_escapes(const</b> <b>char*</b> <b>text)</b>
              This  function  takes  in text containing image escapes and pango markup and will return the plain
              text with all of that stripped. The string returned is newly allocated and should be freed by  the
              caller when they are done with it.

              <b>const</b> <b>char*</b> <b>text</b> - The input text containing image escapes and pango markup.

       <b>void</b> <b>wofi_write_cache(struct</b> <b>mode*</b> <b>mode,</b> <b>const</b> <b>char*</b> <b>cmd)</b>
              Writes an entry to the cache file.

              <b>struct</b> <b>mode*</b> <b>mode</b> - The <b>struct</b> <b>mode*</b> given to your mode's <b>init()</b> function.

              <b>const</b> <b>char*</b> <b>cmd</b> - The entry to write to the cache file. If this entry already exists the number of
              times it has been written will be incremented.

       <b>void</b> <b>wofi_remove_cache(struct</b> <b>mode*</b> <b>mode,</b> <b>const</b> <b>char*</b> <b>cmd)</b>
              Removes an entry from the cache file.

              <b>struct</b> <b>mode*</b> <b>mode</b> - The <b>struct</b> <b>mode*</b> given to your mode's <b>init()</b> function.

              <b>const</b>  <b>char*</b>  <b>cmd</b> - The entry to remove from the cache file. This does NOT decrement the number of
              times written, it fully removes the entry.

       <b>struct</b> <b>wl_list*</b> <b>wofi_read_cache(struct</b> <b>mode*</b> <b>mode)</b>
              Reads the cache and returns a <b>struct</b> <b>wl_list*</b> containing the entires.  The  list  is  made  up  of
              <b>struct</b>  <b>cache_line*</b>  entries.  The  wayland documentation should be referred to for the usage of a
              wl_list.

              <b>struct</b> <b>mode*</b> <b>mode</b> - The <b>struct</b> <b>mode*</b> given to your mode's <b>init()</b> function.

       <b>struct</b> <b>widget*</b> <b>wofi_create_widget(struct</b> <b>mode*</b> <b>mode,</b> <b>char*</b> <b>text[],</b> <b>char*</b> <b>search_text,</b> <b>char*</b> <b>actions[],</b>
       <b>size_t</b> <b>action_count)</b>
              Creates a widget from the specified information. This widget should  be  returned  by  the  mode's
              <b>get_widget()</b> function in order to be displayed.

              <b>struct</b> <b>mode*</b> <b>mode</b> - The <b>struct</b> <b>mode*</b> given to your mode's <b>init()</b> function.

              <b>char*</b>  <b>text[]</b>  -  The  array  of  text  to display on the entry in wofi. Each element in the array
              represents the text for 1 action. The array should only be larger than  1  if  you're  creating  a
              multi-action entry. Multi-action entries need to provide 1 string for every action the entry has.

              <b>char*</b> <b>search_text</b> - The text which the user can search for to find this widget.

              <b>char*</b>  <b>actions[]</b>  -  The  array  of actions for the entry. An action is the text given to a mode's
              <b>exec()</b> function when the user selects an entry. Multi-action entries  need  to  provide  1  action
              string for every action the entry has.

              <b>size_t</b> <b>action_count</b> - The number of actions the entry will have.

       <b>void</b> <b>wofi_insert_widgets(struct</b> <b>mode*</b> <b>mode)</b>
              This will requery the mode for more widgets.

              <b>struct</b> <b>mode*</b> <b>mode</b> - The <b>struct</b> <b>mode*</b> given to your mode's <b>init()</b> function.

       <b>char*</b> <b>wofi_get_dso_path(struct</b> <b>mode*</b> <b>mode)</b>
              Returns the path to this mode's DSO if it's an external mode, returns NULL otherwise.

              <b>struct</b> <b>mode*</b> <b>mode</b> - The <b>struct</b> <b>mode*</b> given to your mode's <b>init()</b> function.

       <b>bool</b> <b>wofi_allow_images(void)</b>
              Returns true if the user enabled images, false otherwise.

       <b>bool</b> <b>wofi_allow_markup(void)</b>
              Returns true if the user enabled pango markup, false otherwise.

       <b>uint64_t</b> <b>wofi_get_image_size(void)</b>
              Returns the user specified image size, 32 by default. Wofi will scale images for you, this is just
              informational and is not required but can be helpful if multiple sizes are available.

       <b>bool</b> <b>wofi_mod_shift(void)</b>
              Returns true if the user was holding shift when selecting an entry, false otherwise.

       <b>bool</b> <b>wofi_mod_control(void)</b>
              Returns true if the user was holding control when selecting an entry, false otherwise.

       <b>void</b> <b>wofi_term_run(const</b> <b>char*</b> <b>cmd)</b>
              Runs  the  provided cmd in a terminal emulator. The following order is used for picking a terminal
              emulator: The user specified terminal, kitty, alacritty, wezterm, foot,  termite,  gnome-terminal,
              weston-terminal. If none of these can be found execution will fail.

              <b>const</b> <b>char*</b> <b>cmd</b> - The command to run, this is invoked by doing <b>term</b> <b>--</b> <b>cmd</b>.

       <b>void</b> <b>wofi_exit(void)</b>
              This  function  is  how  you  should call to exit wofi. It checks the status given and only sets a
              custom exit code if you pass EXIT_SUCCESS. If you call the libc exit() function  then  the  custom
              exit code will always be used even if an error should be reported

                                                                                                     <u><a href="../man3/wofi-api.3.html">wofi-api</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>