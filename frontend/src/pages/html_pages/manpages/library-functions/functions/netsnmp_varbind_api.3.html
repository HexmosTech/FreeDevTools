<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>snmp_pdu_add_variable,       snmp_varlist_add_variable,       snmp_add_null_var,      snmp_clone_varbind,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsnmp-dev">libsnmp-dev_5.9.4+dfsg-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       snmp_pdu_add_variable,       snmp_varlist_add_variable,       snmp_add_null_var,      snmp_clone_varbind,
       snmp_set_var_objid,     snmp_set_var_value,     snmp_set_var_typed_value,     snmp_set_var_typed_integer,
       print_variable,    fprint_variable,    snprint_variable,    print_value,   fprint_value,   snprint_value,
       snmp_free_var, snmp_free_varbind - netsnmp_varbind_api functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;net-snmp/varbind_api.h&gt;</b>

   <b>Creation</b>
       <b>netsnmp_variable_list</b> <b>*snmp_pdu_add_variable(</b>
                            <b>netsnmp_pdu</b> <b>*</b><u>pdu</u><b>,</b>
                            <b>const</b> <b>oid</b> <b>*</b><u>objid</u><b>,</b> <b>size_t</b> <u>objidlen</u><b>,</b>
                            <b>u_char</b> <u>type</u><b>,</b> <b>const</b> <b>void</b> <b>*</b><u>value</u><b>,</b> <b>size_t</b> <u>len</u><b>);</b>
       <b>netsnmp_variable_list</b> <b>*snmp_varlist_add_variable(</b>
                            <b>netsnmp_variable_list</b> <b>*</b><u>varlist</u><b>,</b>
                            <b>const</b> <b>oid</b> <b>*</b><u>objid</u><b>,</b> <b>size_t</b> <u>objidlen</u><b>,</b>
                            <b>u_char</b> <u>type</u><b>,</b> <b>const</b> <b>void</b> <b>*</b><u>value</u><b>,</b> <b>size_t</b> <u>len</u><b>);</b>
       <b>netsnmp_variable_list</b> <b>*snmp_add_null_var(</b>
                            <b>netsnmp_pdu</b> <b>*</b><u>pdu</u><b>,</b>
                            <b>const</b> <b>oid</b> <b>*</b><u>objid</u><b>,</b> <b>size_t</b> <u>objidlen</u><b>);</b>

       <b>netsnmp_variable_list</b> <b>*snmp_clone_varbind(</b>
                            <b>netsnmp_variable_list</b> <b>*</b><u>varlist</u><b>);</b>

   <b>Setting</b> <b>Values</b>
       <b>int</b>  <b>snmp_set_var_objid(</b> <b>netsnmp_variable_list*</b> <u>variable</u><b>,</b>
                            <b>const</b> <b>oid</b> <b>*</b> <u>objid</u><b>,</b> <b>size_t</b> <u>objidlen</u><b>);</b>
       <b>int</b>  <b>snmp_set_var_value(</b> <b>netsnmp_variable_list*</b> <u>variable</u><b>,</b>
                            <b>const</b> <b>void</b> <b>*</b> <u>value</u><b>,</b> <b>size_t</b> <u>vallen</u><b>);</b>
       <b>int</b>  <b>snmp_set_var_typed_value(</b> <b>netsnmp_variable_list*</b> <u>variable</u><b>,</b>
                            <b>u_char</b> <u>type</u><b>,</b>
                            <b>const</b> <b>void</b> <b>*</b> <u>value</u><b>,</b> <b>size_t</b> <u>vallen</u><b>);</b>
       <b>int</b>  <b>snmp_set_var_typed_integer(</b> <b>netsnmp_variable_list*</b> <u>variable</u><b>,</b>
                            <b>u_char</b> <u>type</u><b>,</b> <b>long</b> <u>value</u><b>);</b>

   <b>Output</b>
       <b>void</b>  <b>print_variable(const</b> <b>oid</b> <b>*</b><u>objid</u><b>,</b> <b>size_t</b> <u>objidlen</u><b>,</b>
                            <b>const</b> <b>netsnmp_variable_list</b> <b>*</b><u>variable</u><b>);</b>
       <b>void</b> <b>fprint_variable(FILE</b> <b>*</b><u>fp</u><b>,</b>
                            <b>const</b> <b>oid</b> <b>*</b><u>objid</u><b>,</b> <b>size_t</b> <u>objidlen</u><b>,</b>
                            <b>const</b> <b>netsnmp_variable_list</b> <b>*</b><u>variable</u><b>);</b>
       <b>int</b> <b>snprint_variable(char</b> <b>*</b><u>buf</u><b>,</b> <b>size_t</b> <u>len</u><b>,</b>
                            <b>const</b> <b>oid</b> <b>*</b><u>objid</u><b>,</b> <b>size_t</b> <u>objidlen</u><b>,</b>
                            <b>const</b> <b>netsnmp_variable_list</b> <b>*</b><u>variable</u><b>);</b>

       <b>void</b>  <b>print_value(const</b> <b>oid</b> <b>*</b><u>objid</u><b>,</b> <b>size_t</b> <u>objidlen</u><b>,</b>
                            <b>const</b> <b>netsnmp_variable_list</b> <b>*</b><u>variable</u><b>);</b>
       <b>void</b> <b>fprint_value(FILE</b> <b>*</b><u>fp</u><b>,</b>
                            <b>const</b> <b>oid</b> <b>*</b><u>objid</u><b>,</b> <b>size_t</b> <u>objidlen</u><b>,</b>
                            <b>const</b> <b>netsnmp_variable_list</b> <b>*</b><u>variable</u><b>);</b>
       <b>int</b> <b>snprint_value(char</b> <b>*</b><u>buf</u><b>,</b> <b>size_t</b> <u>len</u><b>,</b>
                            <b>const</b> <b>oid</b> <b>*</b><u>objid</u><b>,</b> <b>size_t</b> <u>objidlen</u><b>,</b>
                            <b>const</b> <b>netsnmp_variable_list</b> <b>*</b><u>variable</u><b>);</b>

   <b>Deletion</b>
       <b>void</b> <b>snmp_free_var(</b>       <b>netsnmp_variable_list</b> <b>*</b><u>variable</u><b>);</b>
       <b>void</b> <b>snmp_free_varbind(</b> <b>netsnmp_variable_list</b> <b>*</b><u>variables</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The functions dealing with variable bindings fall into four groups - dealing with the  creation,  setting
       of values, output and deletion of varbinds.

   <b>Creation</b>
       <b>snmp_pdu_add_variable</b> will create a new varbind structure, initialised with the name ( <u>objid</u>, <u>objidlen</u> ),
       syntax  (  <u>type</u>  )  and  value  (  <u>value</u> <u>,</u>  <u>len</u> ) provided.  This varbind is then added to the end of the
       varbind list in the given PDU.

       <b>snmp_varlist_add_variable</b> is similar, but appends the  new  varbind  to  the  end  of  the  varbind  list
       provided.   When  adding  the  first varbind to an empty list, simply pass the address of the head of the
       list:

                netsnmp_variable_list *vl = NULL;
                snmp_varlist_add_variable(
                          &amp;vl, name1, name1_len,
                          ASN_<u>TYPE</u>, &amp;val1, val1_len);
                snmp_varlist_add_variable(
                          &amp;vl, name2, name2_len,
                          ASN_<u>TYPE</u>, &amp;val2, val2_len);

       In both cases, the routine will return a pointer to the new varbind structure (or  NULL  if  the  varbind
       creation fails).

       <b>snmp_add_null_var</b>  is  a  convenience  function  to  add an empty varbind to the PDU.  without needing to
       specify the NULL value explicitly.  This is the normal mechanism for  constructing  a  GET  (or  similar)
       information retrieval request.
       Again, this returns a pointer to the new varbind, or NULL.

       <b>snmp_clone_varbind</b>  creates a copy of each varbind in the specified list, returning a pointer to the head
       of the new list (or NULL if the cloning fails).

   <b>Setting</b> <b>of</b> <b>values</b>
       <b>snmp_set_var_objid</b> sets the name of the varbind structure to the specified OID.
       <b>snmp_set_var_typed_value</b> sets the syntax type and value of the varbind structure.
       <b>snmp_set_var_value</b> sets the value of the varbind structure, leaving the syntax type unchanged.
       <b>snmp_set_var_typed_integer</b> is a convenience function to set the  syntax  type  and  value  for  a  32-bit
       integer-based varbind.

       All four of these return 0 if the assignment is successful, or 1 if it is not.

   <b>Output</b>
       <b>print_variable</b>   will   take   an  object  identifier  (as  returned  by  <b>read_objid</b>,  <b>snmp_parse_oid</b>  or
       <b>get_module_node</b>) and an instance of such a variable, and prints to the standard output the  textual  form
       of the object identifier together with the value of the variable.

       <b>fprint_variable</b> does the same, but prints to the FILE pointer specified by the initial parameter.

       <b>snprint_variable</b>  prints  the  same information into the buffer pointed to by <u>buf</u> which is of length <u>len</u>.
       It returns the number of characters printed, or -1 if the buffer was not large  enough.   In  the  latter
       case,  <u>buf</u>  will  typically  contained  a truncated version of the information (but this behaviour is not
       guaranteed).  This function replaces the obsolete function <b>sprint_variable</b>.

       <b>print_value</b>, <b>fprint_value</b>, and <b>snprint_value</b> do the same as the equivalent <b>print_variable</b>  routines,  but
       only displaying the value of the variable, without the corresponding object identifier.

       For displaying the OID of a varbind, see <b><a href="../man3/netsnmp_mib_api.3.html">netsnmp_mib_api</a></b>(3).

   <b>Deletion</b>
       <b>snmp_free_var</b> releases all memory used by the given varbind structure.
       <b>snmp_free_varbind</b> releases all memory used by each varbind structure in the varbind list provided.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/netsnmp_pdu_api.3.html">netsnmp_pdu_api</a></b>(3) <b><a href="../man3/netsnmp_mib_api.3.html">netsnmp_mib_api</a></b>(3)

V5.9.4.pre2                                        13 Aug 2010                            <u><a href="../man3/NETSNMP_VARBIND_API.3.html">NETSNMP_VARBIND_API</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>