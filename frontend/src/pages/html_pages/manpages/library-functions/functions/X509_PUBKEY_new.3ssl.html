<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X509_PUBKEY_new_ex, X509_PUBKEY_new, X509_PUBKEY_free, X509_PUBKEY_dup, X509_PUBKEY_set,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       X509_PUBKEY_new_ex, X509_PUBKEY_new, X509_PUBKEY_free, X509_PUBKEY_dup, X509_PUBKEY_set,
       X509_PUBKEY_get0, X509_PUBKEY_get, d2i_PUBKEY_ex, d2i_PUBKEY, i2d_PUBKEY, d2i_PUBKEY_ex_bio,
       d2i_PUBKEY_bio, d2i_PUBKEY_ex_fp, d2i_PUBKEY_fp, i2d_PUBKEY_fp, i2d_PUBKEY_bio,
       X509_PUBKEY_set0_public_key, X509_PUBKEY_set0_param, X509_PUBKEY_get0_param, X509_PUBKEY_eq -
       SubjectPublicKeyInfo public key functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/x509.h&gt;

        X509_PUBKEY *X509_PUBKEY_new_ex(OSSL_LIB_CTX *libctx, const char *propq);
        X509_PUBKEY *X509_PUBKEY_new(void);
        void X509_PUBKEY_free(X509_PUBKEY *a);
        X509_PUBKEY *X509_PUBKEY_dup(const X509_PUBKEY *a);

        int X509_PUBKEY_set(X509_PUBKEY **x, EVP_PKEY *pkey);
        EVP_PKEY *X509_PUBKEY_get0(const X509_PUBKEY *key);
        EVP_PKEY *X509_PUBKEY_get(const X509_PUBKEY *key);

        EVP_PKEY *d2i_PUBKEY_ex(EVP_PKEY **a, const unsigned char **pp, long length,
                                OSSL_LIB_CTX *libctx, const char *propq);
        EVP_PKEY *d2i_PUBKEY(EVP_PKEY **a, const unsigned char **pp, long length);
        int i2d_PUBKEY(const EVP_PKEY *a, unsigned char **pp);

        EVP_PKEY *d2i_PUBKEY_ex_bio(BIO *bp, EVP_PKEY **a, OSSL_LIB_CTX *libctx,
                                    const char *propq);
        EVP_PKEY *d2i_PUBKEY_bio(BIO *bp, EVP_PKEY **a);

        EVP_PKEY *d2i_PUBKEY_ex_fp(FILE *fp, EVP_PKEY **a, OSSL_LIB_CTX *libctx,
                                   const char *propq);
        EVP_PKEY *d2i_PUBKEY_fp(FILE *fp, EVP_PKEY **a);

        int i2d_PUBKEY_fp(const FILE *fp, EVP_PKEY *pkey);
        int i2d_PUBKEY_bio(BIO *bp, const EVP_PKEY *pkey);

        void X509_PUBKEY_set0_public_key(X509_PUBKEY *pub,
                                         unsigned char *penc, int penclen);
        int X509_PUBKEY_set0_param(X509_PUBKEY *pub, ASN1_OBJECT *aobj,
                                   int ptype, void *pval,
                                   unsigned char *penc, int penclen);
        int X509_PUBKEY_get0_param(ASN1_OBJECT **ppkalg,
                                   const unsigned char **pk, int *ppklen,
                                   X509_ALGOR **pa, const X509_PUBKEY *pub);
        int X509_PUBKEY_eq(X509_PUBKEY *a, X509_PUBKEY *b);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>X509_PUBKEY</b> structure represents the ASN.1 <b>SubjectPublicKeyInfo</b> structure defined in RFC5280 and used
       in certificates and certificate requests.

       <b>X509_PUBKEY_new_ex()</b> allocates and initializes an <b>X509_PUBKEY</b> structure associated with the given
       <b>OSSL_LIB_CTX</b> in the <u>libctx</u> parameter. Any algorithm fetches associated with using the <b>X509_PUBKEY</b> object
       will use the property query string <u>propq</u>. See "ALGORITHM FETCHING" in <b><a href="../man7/crypto.7.html">crypto</a></b>(7) for further information
       about algorithm fetching.

       <b>X509_PUBKEY_new()</b> is the same as <b>X509_PUBKEY_new_ex()</b> except that the default (NULL) <b>OSSL_LIB_CTX</b> and a
       NULL property query string are used.

       <b>X509_PUBKEY_dup()</b> creates a duplicate copy of the <b>X509_PUBKEY</b> object specified by <u>a</u>.

       <b>X509_PUBKEY_free()</b> frees up <b>X509_PUBKEY</b> structure <u>a</u>. If <u>a</u> is NULL nothing is done.

       <b>X509_PUBKEY_set()</b> sets the public key in <u>*x</u> to the public key contained in the <b>EVP_PKEY</b> structure <u>pkey</u>.
       If <u>*x</u> is not NULL any existing public key structure will be freed.

       <b>X509_PUBKEY_get0()</b> returns the public key contained in <u>key</u>. The returned value is an internal pointer
       which <b>MUST</b> <b>NOT</b> be freed after use.

       <b>X509_PUBKEY_get()</b> is similar to <b>X509_PUBKEY_get0()</b> except the reference count on the returned key is
       incremented so it <b>MUST</b> be freed using <b>EVP_PKEY_free()</b> after use.

       <b>d2i_PUBKEY_ex()</b> decodes an <b>EVP_PKEY</b> structure using <b>SubjectPublicKeyInfo</b> format.  Some public key
       decoding implementations may use cryptographic algorithms. In this case the supplied library context
       <u>libctx</u> and property query string <u>propq</u> are used.  <b>d2i_PUBKEY()</b> does the same as <b>d2i_PUBKEY_ex()</b> except
       that the default library context and property query string are used.

       <b>i2d_PUBKEY()</b> encodes an <b>EVP_PKEY</b> structure using <b>SubjectPublicKeyInfo</b> format.

       <b>d2i_PUBKEY_bio()</b>, <b>d2i_PUBKEY_fp()</b>, <b>i2d_PUBKEY_bio()</b> and <b>i2d_PUBKEY_fp()</b> are similar to <b>d2i_PUBKEY()</b> and
       <b>i2d_PUBKEY()</b> except they decode or encode using a <b>BIO</b> or <b>FILE</b> pointer.

       <b>d2i_PUBKEY_ex_bio()</b> and <b>d2i_PUBKEY_ex_fp()</b> are similar to <b>d2i_PUBKEY_ex()</b> except they decode using a <b>BIO</b>
       or <b>FILE</b> pointer.

       <b>X509_PUBKEY_set0_public_key()</b> sets the public-key encoding of <u>pub</u> to the <u>penclen</u> bytes contained in
       buffer <u>penc</u>.  Any earlier public-key encoding in <u>pub</u> is freed.  <u>penc</u> may be NULL to indicate that there
       is no actual public key data.  Ownership of the <u>penc</u> argument is passed to <u>pub</u>.

       <b>X509_PUBKEY_set0_param()</b> sets the public-key parameters of <u>pub</u>.  The OID associated with the algorithm is
       set to <u>aobj</u>. The type of the algorithm parameters is set to <u>type</u> using the structure <u>pval</u>.  If <u>penc</u> is
       not NULL the encoding of the public key itself is set to the <u>penclen</u> bytes contained in buffer <u>penc</u> and
       any earlier public-key encoding in <u>pub</u> is freed.  On success ownership of all the supplied arguments is
       passed to <u>pub</u> so they must not be freed after the call.

       <b>X509_PUBKEY_get0_param()</b> retrieves the public key parameters from <u>pub</u>, <u>*ppkalg</u> is set to the associated
       OID and the encoding consists of <u>*ppklen</u> bytes at <u>*pk</u>, <u>*pa</u> is set to the associated AlgorithmIdentifier
       for the public key. If the value of any of these parameters is not required it can be set to NULL. All of
       the retrieved pointers are internal and must not be freed after the call.

       <b>X509_PUBKEY_eq()</b> compares two <b>X509_PUBKEY</b> values.

</pre><h4><b>NOTES</b></h4><pre>
       The <b>X509_PUBKEY</b> functions can be used to encode and decode public keys in a standard format.

       In many cases applications will not call the <b>X509_PUBKEY</b> functions directly: they will instead call
       wrapper functions such as <b>X509_get0_pubkey()</b>.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       If the allocation fails, <b>X509_PUBKEY_new()</b> and <b>X509_PUBKEY_dup()</b> return NULL and set an error code that
       can be obtained by <b><a href="../man3/ERR_get_error.3.html">ERR_get_error</a></b>(3).  Otherwise they return a pointer to the newly allocated structure.

       <b>X509_PUBKEY_free()</b> does not return a value.

       <b>X509_PUBKEY_get0()</b>, <b>X509_PUBKEY_get()</b>, <b>d2i_PUBKEY_ex()</b>, <b>d2i_PUBKEY()</b>, <b>d2i_PUBKEY_ex_bio()</b>,
       <b>d2i_PUBKEY_bio()</b>, <b>d2i_PUBKEY_ex_fp()</b> and <b>d2i_PUBKEY_fp()</b> return a pointer to an <b>EVP_PKEY</b> structure or
       NULL if an error occurs.

       <b>i2d_PUBKEY()</b> returns the number of bytes successfully encoded or a negative value if an error occurs.

       <b>i2d_PUBKEY_fp()</b> and <b>i2d_PUBKEY_bio()</b> return 1 if successfully encoded or 0 if an error occurs.

       <b>X509_PUBKEY_set0_public_key()</b> does not return a value.

       <b>X509_PUBKEY_set()</b>, <b>X509_PUBKEY_set0_param()</b> and <b>X509_PUBKEY_get0_param()</b> return 1 for success and 0 if an
       error occurred.

       <b>X509_PUBKEY_eq()</b> returns 1 for equal, 0 for different, and &lt; 0 on error.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/d2i_X509.3.html">d2i_X509</a></b>(3), <b><a href="../man3/ERR_get_error.3.html">ERR_get_error</a></b>(3), <b><a href="../man3/X509_get_pubkey.3.html">X509_get_pubkey</a></b>(3),

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>X509_PUBKEY_new_ex()</b> and <b>X509_PUBKEY_eq()</b> functions were added in OpenSSL 3.0.

       The <b>X509_PUBKEY_set0_public_key()</b>, <b>d2i_PUBKEY_ex_bio()</b> and <b>d2i_PUBKEY_ex_fp()</b> functions were added in
       OpenSSL 3.2.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2016-2022 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                              <u><a href="../man3SSL/X509_PUBKEY_NEW.3SSL.html">X509_PUBKEY_NEW</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>