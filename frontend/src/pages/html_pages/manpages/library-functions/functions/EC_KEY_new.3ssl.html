<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVP_EC_gen, EC_KEY_get_method, EC_KEY_set_method, EC_KEY_new_ex, EC_KEY_new, EC_KEY_get_flags,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       EVP_EC_gen, EC_KEY_get_method, EC_KEY_set_method, EC_KEY_new_ex, EC_KEY_new, EC_KEY_get_flags,
       EC_KEY_set_flags, EC_KEY_clear_flags, EC_KEY_new_by_curve_name_ex, EC_KEY_new_by_curve_name, EC_KEY_free,
       EC_KEY_copy, EC_KEY_dup, EC_KEY_up_ref, EC_KEY_get0_engine, EC_KEY_get0_group, EC_KEY_set_group,
       EC_KEY_get0_private_key, EC_KEY_set_private_key, EC_KEY_get0_public_key, EC_KEY_set_public_key,
       EC_KEY_get_conv_form, EC_KEY_set_conv_form, EC_KEY_set_asn1_flag, EC_KEY_decoded_from_explicit_params,
       EC_KEY_precompute_mult, EC_KEY_generate_key, EC_KEY_check_key, EC_KEY_set_public_key_affine_coordinates,
       EC_KEY_oct2key, EC_KEY_key2buf, EC_KEY_oct2priv, EC_KEY_priv2oct, EC_KEY_priv2buf - Functions for
       creating, destroying and manipulating EC_KEY objects

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/ec.h&gt;

        EVP_PKEY *EVP_EC_gen(const char *curve);

       The following functions have been deprecated since OpenSSL 3.0, and can be hidden entirely by defining
       <b>OPENSSL_API_COMPAT</b> with a suitable version value, see <b><a href="../man7/openssl_user_macros.7.html">openssl_user_macros</a></b>(7):

        EC_KEY *EC_KEY_new_ex(OSSL_LIB_CTX *ctx, const char *propq);
        EC_KEY *EC_KEY_new(void);
        int EC_KEY_get_flags(const EC_KEY *key);
        void EC_KEY_set_flags(EC_KEY *key, int flags);
        void EC_KEY_clear_flags(EC_KEY *key, int flags);
        EC_KEY *EC_KEY_new_by_curve_name_ex(OSSL_LIB_CTX *ctx, const char *propq,
                                            int nid);
        EC_KEY *EC_KEY_new_by_curve_name(int nid);
        void EC_KEY_free(EC_KEY *key);
        EC_KEY *EC_KEY_copy(EC_KEY *dst, const EC_KEY *src);
        EC_KEY *EC_KEY_dup(const EC_KEY *src);
        int EC_KEY_up_ref(EC_KEY *key);
        ENGINE *EC_KEY_get0_engine(const EC_KEY *eckey);
        const EC_GROUP *EC_KEY_get0_group(const EC_KEY *key);
        int EC_KEY_set_group(EC_KEY *key, const EC_GROUP *group);
        const BIGNUM *EC_KEY_get0_private_key(const EC_KEY *key);
        int EC_KEY_set_private_key(EC_KEY *key, const BIGNUM *priv_key);
        const EC_POINT *EC_KEY_get0_public_key(const EC_KEY *key);
        int EC_KEY_set_public_key(EC_KEY *key, const EC_POINT *pub);
        point_conversion_form_t EC_KEY_get_conv_form(const EC_KEY *key);
        void EC_KEY_set_conv_form(EC_KEY *eckey, point_conversion_form_t cform);
        void EC_KEY_set_asn1_flag(EC_KEY *eckey, int asn1_flag);
        int EC_KEY_decoded_from_explicit_params(const EC_KEY *key);
        int EC_KEY_generate_key(EC_KEY *key);
        int EC_KEY_check_key(const EC_KEY *key);
        int EC_KEY_set_public_key_affine_coordinates(EC_KEY *key, BIGNUM *x, BIGNUM *y);
        const EC_KEY_METHOD *EC_KEY_get_method(const EC_KEY *key);
        int EC_KEY_set_method(EC_KEY *key, const EC_KEY_METHOD *meth);

        int EC_KEY_oct2key(EC_KEY *eckey, const unsigned char *buf, size_t len, BN_CTX *ctx);
        size_t EC_KEY_key2buf(const EC_KEY *eckey, point_conversion_form_t form,
                              unsigned char **pbuf, BN_CTX *ctx);

        int EC_KEY_oct2priv(EC_KEY *eckey, const unsigned char *buf, size_t len);
        size_t EC_KEY_priv2oct(const EC_KEY *eckey, unsigned char *buf, size_t len);

        size_t EC_KEY_priv2buf(const EC_KEY *eckey, unsigned char **pbuf);
        int EC_KEY_precompute_mult(EC_KEY *key, BN_CTX *ctx);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>EVP_EC_gen()</b> generates a new EC key pair on the given <u>curve</u>.

       All of the functions described below are deprecated.  Applications should instead use <b>EVP_EC_gen()</b>,
       <b><a href="../man3/EVP_PKEY_Q_keygen.3.html">EVP_PKEY_Q_keygen</a></b>(3), or <b><a href="../man3/EVP_PKEY_keygen_init.3.html">EVP_PKEY_keygen_init</a></b>(3) and <b><a href="../man3/EVP_PKEY_keygen.3.html">EVP_PKEY_keygen</a></b>(3).

       An EC_KEY represents a public key and, optionally, the associated private key.  A new EC_KEY with no
       associated curve can be constructed by calling <b>EC_KEY_new_ex()</b> and specifying the associated library
       context in <u>ctx</u> (see <b><a href="../man3/OSSL_LIB_CTX.3.html">OSSL_LIB_CTX</a></b>(3)) and property query string <u>propq</u>.  The <u>ctx</u> parameter may be NULL in
       which case the default library context is used.  The reference count for the newly created EC_KEY is
       initially set to 1.  A curve can be associated with the EC_KEY by calling <b>EC_KEY_set_group()</b>.

       <b>EC_KEY_new()</b> is the same as <b>EC_KEY_new_ex()</b> except that the default library context is always used.

       Alternatively a new EC_KEY can be constructed by calling <b>EC_KEY_new_by_curve_name_ex()</b> and supplying the
       nid of the associated curve, the library context to be used <u>ctx</u> (see <b><a href="../man3/OSSL_LIB_CTX.3.html">OSSL_LIB_CTX</a></b>(3)) and any property
       query string <u>propq</u>.  The <u>ctx</u> parameter may be NULL in which case the default library context is used. The
       <u>propq</u> value may also be NULL.  See <b><a href="../man3/EC_GROUP_new.3.html">EC_GROUP_new</a></b>(3) for a description of curve names.  This function
       simply wraps calls to <b>EC_KEY_new_ex()</b> and <b>EC_GROUP_new_by_curve_name_ex()</b>.

       <b>EC_KEY_new_by_curve_name()</b> is the same as <b>EC_KEY_new_by_curve_name_ex()</b> except that the default library
       context is always used and a NULL property query string.

       Calling <b>EC_KEY_free()</b> decrements the reference count for the EC_KEY object, and if it has dropped to zero
       then frees the memory associated with it.  If <u>key</u> is NULL nothing is done.

       <b>EC_KEY_copy()</b> copies the contents of the EC_KEY in <u>src</u> into <u>dest</u>.

       <b>EC_KEY_dup()</b> creates a new EC_KEY object and copies <u>ec_key</u> into it.

       <b>EC_KEY_up_ref()</b> increments the reference count associated with the EC_KEY object.

       <b>EC_KEY_get0_engine()</b> returns a handle to the ENGINE that has been set for this EC_KEY object.

       <b>EC_KEY_generate_key()</b> generates a new public and private key for the supplied <u>eckey</u> object. <u>eckey</u> must
       have an EC_GROUP object associated with it before calling this function. The private key is a random
       integer (0 &lt; priv_key &lt; order, where <u>order</u> is the order of the EC_GROUP object). The public key is an
       EC_POINT on the curve calculated by multiplying the generator for the curve by the private key.

       <b>EC_KEY_check_key()</b> performs various sanity checks on the EC_KEY object to confirm that it is valid.

       <b>EC_KEY_set_public_key_affine_coordinates()</b> sets the public key for <u>key</u> based on its affine coordinates;
       i.e., it constructs an EC_POINT object based on the supplied <u>x</u> and <u>y</u> values and sets the public key to be
       this EC_POINT. It also performs certain sanity checks on the key to confirm that it is valid.

       The functions <b>EC_KEY_get0_group()</b>, <b>EC_KEY_set_group()</b>, <b>EC_KEY_get0_private_key()</b>,
       <b>EC_KEY_set_private_key()</b>, <b>EC_KEY_get0_public_key()</b>, and <b>EC_KEY_set_public_key()</b> get and set the EC_GROUP
       object, the private key, and the EC_POINT public key for the <b>key</b> respectively. The function
       <b>EC_KEY_set_private_key()</b> accepts NULL as the priv_key argument to securely clear the private key
       component from the EC_KEY.

       The functions <b>EC_KEY_get_conv_form()</b> and <b>EC_KEY_set_conv_form()</b> get and set the point_conversion_form for
       the <u>key</u>. For a description of point_conversion_forms please see <b><a href="../man3/EC_POINT_new.3.html">EC_POINT_new</a></b>(3).

       <b>EC_KEY_set_flags()</b> sets the flags in the <u>flags</u> parameter on the EC_KEY object. Any flags that are already
       set are left set. The flags currently defined are EC_FLAG_NON_FIPS_ALLOW and EC_FLAG_FIPS_CHECKED. In
       addition there is the flag EC_FLAG_COFACTOR_ECDH which is specific to ECDH.  <b>EC_KEY_get_flags()</b> returns
       the current flags that are set for this EC_KEY.  <b>EC_KEY_clear_flags()</b> clears the flags indicated by the
       <u>flags</u> parameter; all other flags are left in their existing state.

       <b>EC_KEY_set_asn1_flag()</b> sets the asn1_flag on the underlying EC_GROUP object (if set). Refer to
       <b><a href="../man3/EC_GROUP_copy.3.html">EC_GROUP_copy</a></b>(3) for further information on the asn1_flag.

       <b>EC_KEY_decoded_from_explicit_params()</b> returns 1 if the group of the <u>key</u> was decoded from data with
       explicitly encoded group parameters, -1 if the <u>key</u> is NULL or the group parameters are missing, and 0
       otherwise.

       <b>EC_KEY_precompute_mult()</b> stores multiples of the underlying EC_GROUP generator for faster point
       multiplication. See also <b><a href="../man3/EC_POINT_add.3.html">EC_POINT_add</a></b>(3).  Modern versions should instead switch to named curves which
       OpenSSL has hardcoded lookup tables for.

       <b>EC_KEY_oct2key()</b> and <b>EC_KEY_key2buf()</b> are identical to the functions <b>EC_POINT_oct2point()</b> and
       <b>EC_POINT_point2buf()</b> except they use the public key EC_POINT in <u>eckey</u>.

       <b>EC_KEY_oct2priv()</b> and <b>EC_KEY_priv2oct()</b> convert between the private key component of <u>eckey</u> and octet
       form. The octet form consists of the content octets of the <u>privateKey</u> OCTET STRING in an <u>ECPrivateKey</u>
       ASN.1 structure.

       The function <b>EC_KEY_priv2oct()</b> must be supplied with a buffer long enough to store the octet form. The
       return value provides the number of octets stored.  Calling the function with a NULL buffer will not
       perform the conversion but will just return the required buffer length.

       The function <b>EC_KEY_priv2buf()</b> allocates a buffer of suitable length and writes an EC_KEY to it in octet
       format. The allocated buffer is written to <u>*pbuf</u> and its length is returned. The caller must free up the
       allocated buffer with a call to <b>OPENSSL_free()</b>. Since the allocated buffer value is written to <u>*pbuf</u> the
       <u>pbuf</u> parameter <b>MUST</b> <b>NOT</b> be <b>NULL</b>.

       <b>EC_KEY_priv2buf()</b> converts an EC_KEY private key into an allocated buffer.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>EC_KEY_new_ex()</b>, <b>EC_KEY_new()</b>, <b>EC_KEY_new_by_curve_name_ex()</b>, <b>EC_KEY_new_by_curve_name()</b> and <b>EC_KEY_dup()</b>
       return a pointer to the newly created EC_KEY object, or NULL on error.

       <b>EC_KEY_get_flags()</b> returns the flags associated with the EC_KEY object as an integer.

       <b>EC_KEY_copy()</b> returns a pointer to the destination key, or NULL on error.

       <b>EC_KEY_get0_engine()</b> returns a pointer to an ENGINE, or NULL if it wasn't set.

       <b>EC_KEY_up_ref()</b>, <b>EC_KEY_set_group()</b>, <b>EC_KEY_set_public_key()</b>, <b>EC_KEY_precompute_mult()</b>,
       <b>EC_KEY_generate_key()</b>, <b>EC_KEY_check_key()</b>, <b>EC_KEY_set_public_key_affine_coordinates()</b>, <b>EC_KEY_oct2key()</b>
       and <b>EC_KEY_oct2priv()</b> return 1 on success or 0 on error.

       <b>EC_KEY_set_private_key()</b> returns 1 on success or 0 on error except when the priv_key argument is NULL, in
       that case it returns 0, for legacy compatibility, and should not be treated as an error.

       <b>EC_KEY_get0_group()</b> returns the EC_GROUP associated with the EC_KEY.

       <b>EC_KEY_get0_private_key()</b> returns the private key associated with the EC_KEY.

       <b>EC_KEY_get_conv_form()</b> return the point_conversion_form for the EC_KEY.

       <b>EC_KEY_key2buf()</b>, <b>EC_KEY_priv2oct()</b> and <b>EC_KEY_priv2buf()</b> return the length of the buffer or 0 on error.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/EVP_PKEY_Q_keygen.3.html">EVP_PKEY_Q_keygen</a></b>(3) <b><a href="../man7/crypto.7.html">crypto</a></b>(7), <b><a href="../man3/EC_GROUP_new.3.html">EC_GROUP_new</a></b>(3), <b><a href="../man3/EC_GROUP_copy.3.html">EC_GROUP_copy</a></b>(3), <b><a href="../man3/EC_POINT_new.3.html">EC_POINT_new</a></b>(3), <b><a href="../man3/EC_POINT_add.3.html">EC_POINT_add</a></b>(3),
       <b><a href="../man3/EC_GFp_simple_method.3.html">EC_GFp_simple_method</a></b>(3), <b><a href="../man3/d2i_ECPKParameters.3.html">d2i_ECPKParameters</a></b>(3), <b><a href="../man3/OSSL_LIB_CTX.3.html">OSSL_LIB_CTX</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       <b>EVP_EC_gen()</b> was added in OpenSSL 3.0.  All other functions described here were deprecated in OpenSSL
       3.0.  For replacement see <b><a href="../man7/EVP_PKEY-EC.7.html">EVP_PKEY-EC</a></b>(7).

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2013-2023 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                                   <u><a href="../man3SSL/EC_KEY_NEW.3SSL.html">EC_KEY_NEW</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>