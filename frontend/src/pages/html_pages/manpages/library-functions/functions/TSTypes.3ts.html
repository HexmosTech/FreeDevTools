<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TSAPI Types - TSTypes API function</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/trafficserver-dev">trafficserver-dev_9.2.5+ds-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       TSAPI Types - TSTypes API function

</pre><h4><b>SYNOPSIS</b></h4><pre>
          #include &lt;ts/ts.h&gt;
          #include &lt;ts/remap.h&gt;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  Apache  Traffic Server API provides large number of types. Many of them are specific to a particular
       API function or function group, but others are used more widely. Those are described on this page.

       <b>type</b> <b>ink_hrtime</b>

       <b>type</b> <b>INK_MD5</b>
              Buffer type sufficient to contain an MD5 hash value.

       <b>class</b> <b>INK_MD5</b>
              See <u>INK_MD5</u>.

       <b>class</b> <b>RecRawStatBlock</b>
              A data block intended to contain Traffic Server statistics.

       <b>type</b> <b>TSAction</b>

       <b>type</b> <b>TSCacheKey</b>

       <b>type</b> <b>TSConfig</b>

       <b>type</b> <b>TSCont</b>
              An opaque type that represents a Traffic Server <u>continuation</u>.

       <b>type</b> <b>TSEventFunc</b>

       <b>type</b> <b>TSFile</b>

       <b>type</b> <b>TSHostLookupResult</b>
              A type representing the result of a call to <u>TSHostLookup()</u>. Use with <u>TSHostLookupResultAddrGet()</u>.

       <b>type</b> <b>TSHRTime</b>
              "High Resolution Time"

              A 64 bit time value, measured in nanoseconds.

       <b>type</b> <b>TSHttpConnectOptions</b>
              A type that encapsulates options passed into the <u>TSHttpConnectPlugin()</u> function.

              <u>TSConnectType</u> <b>connect_type</b>
                     The type of data represented in the struct.

              <b>sockaddr</b> <b>const</b> <b>*addr</b>
                     Network address of the target of the connection.

              <b>const</b> <b>char</b> <b>*tag</b>
                     Tag that is passed through to the HTTP state machine.

              <b>int64_t</b> <b>id</b>
                     Numeric identifier passed through to the HTTP state machine.

              <u>TSIOBufferSizeIndex</u> <b>buffer_index</b>
                     A numeric buffer size index used to derive actual sizes used when  constructing  IOBuffers;
                     see <u>TSIOBufferSizeIndex</u>.

              <u>TSIOBufferWaterMark</u> <b>buffer_water_mark</b>
                     A  numeric value specifying the minimum number of bytes that must be written to an IOBuffer
                     before  any  continuation  is  called  back   to   read   from   the   buffer.    See   the
                     <u>TSIOBufferWaterMarkGet()</u> and <u>TSIOBufferWaterMarkSet()</u> functions for further detail.

       <b>type</b> <b>TSConnectType</b>
              Enumeration that specifies the type of data within a <u>TSHttpConnectOptions</u> structure.

       <b>type</b> <b>TSHttpParser</b>

       <b>type</b> <b>TSHttpSsn</b>
              An opaque type that represents a Traffic Server <u>session</u>.

       <b>type</b> <b>TSHttpTxn</b>
              An opaque type that represents a Traffic Server HTTP <u>transaction</u>.

       <b>type</b> <b>TSIOBuffer</b>

       <b>type</b> <b>TSIOBufferBlock</b>

       <b>type</b> <b>TSIOBufferReader</b>

       <b>type</b> <b>TSIOBufferSizeIndex</b>

       <b>type</b> <b>TSIOBufferWaterMark</b>
              An enumeration that contains valid watermark values, currently only defaults.

       <b>type</b> <b>TSLifecycleHookID</b>
              An enumeration that identifies a <u>life</u> <u>cycle</u> <u>hook</u>.

       <b>type</b> <b>TSMBuffer</b>
              Internally,  data for a transaction is stored in one or more <u>header</u> <u>heap</u>s. These are storage local
              to the transaction, and generally each HTTP header is stored in a separate one.  This  type  is  a
              handle  to a header heap, and is provided or required by functions that locate HTTP header related
              data.

       <b>type</b> <b>TSMgmtCounter</b>

       <b>type</b> <b>TSMgmtFloat</b>
              The  type  used  internally  for  a  floating  point  value.  This  corresponds   to   the   value
              <b>TS_RECORDDATATYPE_FLOAT</b> for <u>TSRecordDataType</u>.

       <b>type</b> <b>TSMgmtInt</b>
              The  type  used internally for an integer. This corresponds to the value <b>TS_RECORDDATATYPE_INT</b> for
              <u>TSRecordDataType</u>.

       <b>type</b> <b>TSMgmtString</b>

       <b>type</b> <b>TSMimeParser</b>

       <b>type</b> <b>TSMLoc</b>
              This is a memory location relative to a <u>header</u> <u>heap</u> represented by a <u>TSMBuffer</u> and must always  be
              used  in  conjunction  with  that  <u>TSMBuffer</u>  instance.  It  identifies  a  specific object in the
              <u>TSMBuffer</u>. This indirection is needed so that  the  <u>TSMBuffer</u>  can  reallocate  space  as  needed.
              Therefore  a  raw  address  obtained  from  a <u>TSMLoc</u> should be considered volatile that may become
              invalid across any API call.

       <u>TSMLoc</u> <b>TS_NULL_MLOC</b>
              A predefined null valued <u>TSMLoc</u> used to indicate the absence of an <u>TSMLoc</u>.

       <b>type</b> <b>TSMutex</b>

       <b>type</b> <b>TSPluginRegistrationInfo</b>
              The following struct is used by <u>TSPluginRegister()</u>.

              It stores registration information about the plugin.

       <b>type</b> <b>TSRemapInterface</b>
              Data passed to a remap plugin via <u>TSRemapInit()</u>.

              <b>unsigned</b> <b>long</b> <b>size</b>
                     The size of the structure in bytes, including this member.

              <b>unsigned</b> <b>long</b> <b>tsremap_version</b>
                     The API version of the C API. The lower 16 bits are the minor version, and the  upper  bits
                     the major version.

       <b>type</b> <b>TSRemapRequestInfo</b>
              Data passed to a remap plugin during the invocation of a remap rule.

              <u>TSMBuffer</u> <b>requestBufp</b>
                     The client request. All of the other <u>TSMLoc</u> values use this as the base buffer.

              <u>TSMLoc</u> <b>requestHdrp</b>
                     The client request.

              <u>TSMLoc</u> <b>mapFromUrl</b>
                     The match URL in the remap rule.

              <u>TSMLoc</u> <b>mapToUrl</b>
                     The target URL in the remap rule.

              <u>TSMLoc</u> <b>requestUrl</b>
                     The  current  request  URL. The remap rule and plugins listed earlier in the remap rule can
                     modify this from the client request URL. Remap plugins are expected to modify this value to
                     perform the remapping of the request. Note this is the same <b>TSMLoc</b> as would be obtained  by
                     calling <u>TSHttpTxnClientReqGet()</u>.

              <b>int</b> <b>redirect</b>
                     Flag  for  using  the remapped URL as an explicit redirection. This can be set by the remap
                     plugin.

       <b>type</b> <b>TSSecretID</b>
              Contains the data for a TLS certificate and key.

              <b>const</b> <b>char</b> <b>*cert_name;</b>
                     The TLS certificate name.

              <b>size_t</b> <b>cert_name_len;</b>
                     The length of the TLS certificate name.

              <b>const</b> <b>char</b> <b>*key_name;</b>
                     The name of the TLS key.

              <b>size_t</b> <b>key_name_len;</b>
                     The length of the name of the TLS key.

       <b>type</b> <b>TSSslX509</b>
              This type represents the <b>X509</b> object created from an SSL certificate.

       <b>type</b> <b>TSTextLogObject</b>
              This type represents a custom log file that you create with <u>TSTextLogObjectCreate()</u>.

              Your plugin writes entries into this log file using <u>TSTextLogObjectWrite()</u>.

       <b>type</b> <b>TSThread</b>
              This represents an internal Traffic Server thread, created by the Traffic Server core.  It  is  an
              opaque  type  which  can  be  used  only  to  check  for  equality / inequality, and passed to API
              functions. An instance that refers to the current thread can be obtained with <u>TSThreadSelf()</u>.

       <b>type</b> <b>TSEventThread</b>
              This type represents an <u>event</u> <u>thread</u>. It is an opaque which is used to specify a particular  event
              processing thread in Traffic Server. If plugin code is executing in an event thread (which will be
              true if called from a hook or a scheduled event) then the current event thread can be obtained via
              <u>TSEventThreadSelf()</u>.

              A  <b>TSEventThread</b>  is  also  a  <u>TSThread</u>  and can be passed as an argument to any parameter of type
              <u>TSThread</u>.

       <b>type</b> <b>TSThreadFunc</b>

       <b>type</b> <b>TSUserArgType</b>
              An enum for the supported types of user arguments.

       <b>enum</b> <b>TSUuidVersion</b>
              A version value for at <u>TSUuid</u>.

              <b>enumerator</b> <b>TS_UUID_V4</b>
                     A version 4 UUID. Currently only this value is used.

       <b>size_t</b> <b>TS_UUID_STRING_LEN</b>
              Length of a UUID string.

       <b>type</b> <b>TSVConn</b>
              A virtual connection. This is the basic  mechanism  for  abstracting  I/O  operations  in  Traffic
              Server.

       <b>type</b> <b>TSNetVConnection</b>
              A subtype of <u>TSVConn</u> that provides additional IP network information and operations.

       <b>type</b> <b>TSVIO</b>

       <b>type</b> <b>ModuleVersion</b>
              A module version.

       <b>type</b> <b>ModuleVersion</b>
              A module version.

       <b>template&lt;typename</b> <b>T&gt;</b> <b>class</b> <b>DLL</b>
              An anchor for a double linked intrusive list of instance of <u>T</u>.

       <b>template&lt;typename</b> <b>T&gt;</b> <b>class</b> <b>Queue</b>

       <b>type</b> <b>TSAcceptor</b>

       <b>template&lt;typename</b> <b>T&gt;</b> <b>class</b> <b>LINK</b>

       <b>class</b> <b>VersionNumber</b>
              A two part version number, defined in <u>include/tscore/I_Version.h</u>.

              <b>short</b> <b>int</b> <b>ink_major</b>
                     Major version number.

              <b>short</b> <b>int</b> <b>ink_minor</b>
                     Minor version number.

       <b>type</b> <b>TSFetchUrlParams_t</b>

       <b>type</b> <b>TSFetchSM</b>

       <b>type</b> <b>TSFetchEvent</b>

       <b>type</b> <b>TSHttpPriority</b>
              The abstract type of the various HTTP priority implementations.

              <b>uint8_t</b> <b>priority_type</b>
                     The  reference  to  the  concrete  HTTP  priority implementation. This will be a value from
                     TSHttpPriorityType

              <b>uint8_t</b> <b>data[7]</b>
                     The space allocated for the concrete priority implementation.

                     Note that this has to take padding into account. There is a static_assert in  <b>InkAPI.cc</b>  to
                     verify that <u>TSHttpPriority</u> is at least as large as <u>TSHttp2Priority</u>. As other structures are
                     added  that  are  represented  by  <u>TSHttpPriority</u>  add  more  static_asserts to verify that
                     <u>TSHttpPriority</u> is as large as it needs to be.

       <b>type</b> <b>TSHttp2Priority</b>
              A structure for HTTP/2 priority. For an explanation of these terms with respect to HTTP/2, see <u>RFC</u>
              <u>7540</u>, section 5.3.

              <b>uint8_t</b> <b>priority_type</b>
                     HTTP_PROTOCOL_TYPE_HTTP_2

              <b>uint8_t</b> <b>weight</b>

              <b>int32_t</b> <b>stream_dependency</b>
                     The stream dependency. Per spec, see <u>RFC</u> <u>7540</u> section 6.2, this is 31 bits. We use a signed
                     32 bit structure to store either a valid dependency or -1 if the stream has no dependency.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2025, <a href="mailto:dev@trafficserver.apache.org">dev@trafficserver.apache.org</a>

9.2                                               May 22, 2025                                  <u>TSAPI</u> <u><a href="../man3ts/TYPES.3ts.html">TYPES</a></u>(3ts)
</pre>
 </div>
</div></section>
</div>
</body>
</html>