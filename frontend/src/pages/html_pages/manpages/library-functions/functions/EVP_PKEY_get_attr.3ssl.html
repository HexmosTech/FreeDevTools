<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVP_PKEY_get_attr, EVP_PKEY_get_attr_count, EVP_PKEY_get_attr_by_NID, EVP_PKEY_get_attr_by_OBJ,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       EVP_PKEY_get_attr, EVP_PKEY_get_attr_count, EVP_PKEY_get_attr_by_NID, EVP_PKEY_get_attr_by_OBJ,
       EVP_PKEY_delete_attr, EVP_PKEY_add1_attr, EVP_PKEY_add1_attr_by_OBJ, EVP_PKEY_add1_attr_by_NID,
       EVP_PKEY_add1_attr_by_txt - EVP_PKEY X509_ATTRIBUTE functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/x509.h&gt;

        int EVP_PKEY_get_attr_count(const EVP_PKEY *key);
        int EVP_PKEY_get_attr_by_NID(const EVP_PKEY *key, int nid, int lastpos);
        int EVP_PKEY_get_attr_by_OBJ(const EVP_PKEY *key, const ASN1_OBJECT *obj,
                                     int lastpos);
        X509_ATTRIBUTE *EVP_PKEY_get_attr(const EVP_PKEY *key, int loc);
        X509_ATTRIBUTE *EVP_PKEY_delete_attr(EVP_PKEY *key, int loc);
        int EVP_PKEY_add1_attr(EVP_PKEY *key, X509_ATTRIBUTE *attr);
        int EVP_PKEY_add1_attr_by_OBJ(EVP_PKEY *key,
                                      const ASN1_OBJECT *obj, int type,
                                      const unsigned char *bytes, int len);
        int EVP_PKEY_add1_attr_by_NID(EVP_PKEY *key,
                                      int nid, int type,
                                      const unsigned char *bytes, int len);
        int EVP_PKEY_add1_attr_by_txt(EVP_PKEY *key,
                                      const char *attrname, int type,
                                      const unsigned char *bytes, int len);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These functions are used by <b>PKCS12</b>.

       <b>EVP_PKEY_get_attr_by_OBJ()</b> finds the location of the first matching object <u>obj</u> in the <u>key</u> attribute list.
       The search starts at the position after <u>lastpos</u>.  If the returned value is positive then it can be used
       on the next call to <b>EVP_PKEY_get_attr_by_OBJ()</b> as the value of <u>lastpos</u> in order to iterate through the
       remaining attributes. <u>lastpos</u> can be set to any negative value on the first call, in order to start
       searching from the start of the attribute list.

       <b>EVP_PKEY_get_attr_by_NID()</b> is similar to <b>EVP_PKEY_get_attr_by_OBJ()</b> except that it passes the numerical
       identifier (NID) <u>nid</u> associated with the object.  See &lt;openssl/obj_mac.h&gt; for a list of NID_*.

       <b>EVP_PKEY_get_attr()</b> returns the <b>X509_ATTRIBUTE</b> object at index <u>loc</u> in the <u>key</u> attribute list. <u>loc</u> should
       be in the range from 0 to <b>EVP_PKEY_get_attr_count()</b> - 1.

       <b>EVP_PKEY_delete_attr()</b> removes the <b>X509_ATTRIBUTE</b> object at index <u>loc</u> in the <u>key</u> attribute list.

       <b>EVP_PKEY_add1_attr()</b> pushes a copy of the passed in <b>X509_ATTRIBUTE</b> object to the <u>key</u> attribute list. A
       new <u>key</u> attribute list is created if required.  An error occurs if either <u>attr</u> is NULL, or the attribute
       already exists.

       <b>EVP_PKEY_add1_attr_by_OBJ()</b> creates a new <b>X509_ATTRIBUTE</b> using <b>X509_ATTRIBUTE_set1_object()</b> and
       <b>X509_ATTRIBUTE_set1_data()</b> to assign a new <u>obj</u> with type <u>type</u> and data <u>bytes</u> of length <u>len</u> and then
       pushes it to the <u>key</u> object's attribute list. If <u>obj</u> already exists in the attribute list then an error
       occurs.

       <b>EVP_PKEY_add1_attr_by_NID()</b> is similar to <b>EVP_PKEY_add1_attr_by_OBJ()</b> except that it passes the numerical
       identifier (NID) <u>nid</u> associated with the object.  See &lt;openssl/obj_mac.h&gt; for a list of NID_*.

       <b>EVP_PKEY_add1_attr_by_txt()</b> is similar to <b>EVP_PKEY_add1_attr_by_OBJ()</b> except that it passes a name
       <u>attrname</u> associated with the object.  See &lt;openssl/obj_mac.h&gt; for a list of SN_* names.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>EVP_PKEY_get_attr_count()</b> returns the number of attributes in the <u>key</u> object attribute list or -1 if the
       attribute list is NULL.

       <b>EVP_PKEY_get_attr_by_OBJ()</b> returns -1 if either the list is empty OR the object is not found, otherwise
       it returns the location of the object in the list.

       <b>EVP_PKEY_get_attr_by_NID()</b> is similar to <b>EVP_PKEY_get_attr_by_OBJ()</b>, except that it returns -2 if the <u>nid</u>
       is not known by OpenSSL.

       <b>EVP_PKEY_get_attr()</b> returns either a <b>X509_ATTRIBUTE</b> or NULL if there is a error.

       <b>EVP_PKEY_delete_attr()</b> returns either the removed <b>X509_ATTRIBUTE</b> or NULL if there is a error.

       <b>EVP_PKEY_add1_attr()</b>, <b>EVP_PKEY_add1_attr_by_OBJ()</b>, <b>EVP_PKEY_add1_attr_by_NID()</b> and
       <b>EVP_PKEY_add1_attr_by_txt()</b> return 1 on success or 0 otherwise.

</pre><h4><b>NOTES</b></h4><pre>
       A <b>EVP_PKEY</b> object's attribute list is initially NULL. All the above functions listed will return an error
       unless <b>EVP_PKEY_add1_attr()</b> is called.  All functions listed assume that the <u>key</u> is not NULL.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/X509_ATTRIBUTE.3.html">X509_ATTRIBUTE</a></b>(3)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2023-2024 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                            <u><a href="../man3SSL/EVP_PKEY_GET_ATTR.3SSL.html">EVP_PKEY_GET_ATTR</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>