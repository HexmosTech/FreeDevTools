<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>coap_deprecated, coap_clear_event_handler, coap_context_set_psk, coap_encode_var_bytes,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcoap3t64">libcoap3t64_4.3.4-1.1build4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       coap_deprecated, coap_clear_event_handler, coap_context_set_psk, coap_encode_var_bytes,
       coap_new_client_session_psk, coap_option_clrb, coap_option_getb, coap_option_setb, coap_read,
       coap_register_handler, coap_resource_set_dirty, coap_run_once, coap_set_event_handler, coap_write - Work
       with CoAP deprecated functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;coap3/coap.h&gt;</b>

       <b>void</b> <b>coap_clear_event_handler(coap_context_t</b> <b>*</b><u>context</u><b>);</b>

       <b>int</b> <b>coap_context_set_psk(coap_context_t</b> <b>*</b><u>context</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>hint</u><b>,</b> <b>const</b> <b>uint8_t</b> <b>*</b><u>key</u><b>,</b> <b>size_t</b> <u>key_len</u><b>);</b>

       <b>int</b> <b>coap_encode_var_bytes(uint8_t</b> <b>*</b><u>buffer</u><b>,</b> <b>unsigned</b> <b>int</b> <u>value</u><b>);</b>

       <b>coap_session_t</b> <b>*coap_new_client_session_psk(coap_context_t</b> <b>*</b><u>context</u><b>,</b> <b>const</b> <b>coap_address_t</b> <b>*</b><u>local_if</u><b>,</b>
       <b>const</b> <b>coap_address_t</b> <b>*</b><u>server</u><b>,</b> <b>coap_proto_t</b> <u>proto</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>identity</u><b>,</b> <b>const</b> <b>uint8_t</b> <b>*</b><u>key</u><b>,</b> <b>unsigned</b>
       <u>key_len</u><b>);</b>

       <b>int</b> <b>coap_option_clrb(coap_opt_filter_t</b> <b>*</b><u>filter</u><b>,</b> <b>uint16_t</b> <u>type</u><b>);</b>

       <b>int</b> <b>coap_option_getb(coap_opt_filter_t</b> <b>*</b><u>filter</u><b>,</b> <b>uint16_t</b> <u>type</u><b>);</b>

       <b>int</b> <b>coap_option_setb(coap_opt_filter_t</b> <b>*</b><u>filter</u><b>,</b> <b>uint16_t</b> <u>type</u><b>);</b>

       <b>void</b> <b>coap_read(coap_context_t</b> <b>*</b><u>context</u><b>,</b> <b>coap_tick_t</b> <u>now</u><b>);</b>

       <b>void</b> <b>coap_register_handler(coap_resource_t</b> <b>*</b><u>resource</u><b>,</b> <b>coap_request_t</b> <u>method</u><b>,</b> <b>coap_method_handler_t</b>
       <u>handler</u><b>);</b>

       <b>int</b> <b>coap_resource_set_dirty(coap_resource_t</b> <b>*</b><u>resource</u><b>,</b> <b>const</b> <b>coap_string_t</b> <b>*</b><u>query</u><b>);</b>

       <b>int</b> <b>coap_run_once(coap_context_t</b> <b>*</b><u>context</u><b>,</b> <b>uint32_t</b> <u>timeout_ms</u><b>);</b>

       <b>void</b> <b>coap_set_event_handler(coap_context_t</b> <b>*</b><u>context</u><b>,</b> <b>coap_event_handler_t</b> <u>handler</u><b>);</b>

       <b>unsigned</b> <b>int</b> <b>coap_write(coap_context_t</b> <b>*</b><u>context</u><b>,</b> <b>coap_socket_t</b> <b>*</b><u>sockets</u><b>[],</b> <b>unsigned</b> <b>int</b> <u>max_sockets</u><b>,</b>
       <b>unsigned</b> <b>int</b> <b>*</b><u>num_sockets</u><b>,</b> <b>coap_tick_t</b> <u>now</u><b>);</b>

       For specific (D)TLS library support, link with <b>-lcoap-3-notls</b>, <b>-lcoap-3-gnutls</b>, <b>-lcoap-3-openssl</b>,
       <b>-lcoap-3-mbedtls</b> or <b>-lcoap-3-tinydtls</b>. Otherwise, link with <b>-lcoap-3</b> to get the default (D)TLS library
       support.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Several of the existing CoAP API functions have been deprecated. These are listed here, along with the
       functions that should now be used instead.

</pre><h4><b>FUNCTIONS</b></h4><pre>
       <b>Function:</b> <b>coap_clear_event_handler()</b>

       The <b>coap_clear_event_handler</b>() function is replaced by <b><a href="../man3/coap_register_event_handler.3.html">coap_register_event_handler</a></b>(3), using NULL for
       <u>handler</u>.

       <b>Function:</b> <b>coap_context_set_psk()</b>

       The <b>coap_context_set_psk</b>() function is replaced by <b><a href="../man3/coap_context_set_psk2.3.html">coap_context_set_psk2</a></b>(3) which gives additional PSK
       configuration capability by the use of the coap_dtls_spsk_t structure.

       <b>Function:</b> <b>coap_encode_var_bytes()</b>

       The <b>coap_encode_var_bytes</b>() function is replaced by <b><a href="../man3/coap_encode_var_safe.3.html">coap_encode_var_safe</a></b>(3).

       <b>Function:</b> <b>coap_new_client_session_psk()</b>

       The <b>coap_new_client_session_psk</b>() function is replaced by <b><a href="../man3/coap_new_client_session_psk2.3.html">coap_new_client_session_psk2</a></b>(3) which gives
       additional PSK configuration capability by the use of the coap_dtls_cpsk_t structure.

       <b>Function:</b> <b>coap_option_clrb()</b>

       The <b>coap_option_clrb</b>() function is replaced by <b><a href="../man3/coap_option_filter_unset.3.html">coap_option_filter_unset</a></b>(3).

       <b>Function:</b> <b>coap_option_getb()</b>

       The <b>coap_option_getb</b>() function is replaced by <b><a href="../man3/coap_option_filter_get.3.html">coap_option_filter_get</a></b>(3).

       <b>Function:</b> <b>coap_option_setb()</b>

       The <b>coap_option_setb</b>() function is replaced by <b><a href="../man3/coap_option_filter_set.3.html">coap_option_filter_set</a></b>(3).

       <b>Function:</b> <b>coap_read()</b>

       The <b>coap_read</b>() function is replaced by <b><a href="../man3/coap_io_do_io.3.html">coap_io_do_io</a></b>(3).

       <b>Function:</b> <b>coap_register_handler()</b>

       The <b>coap_register_handler</b>() function is replaced by <b><a href="../man3/coap_register_request_handler.3.html">coap_register_request_handler</a></b>(3).

       <b>Function:</b> <b>coap_resource_set_dirty()</b>

       The <b>coap_resource_set_dirty</b>() function is replaced by <b><a href="../man3/coap_resource_notify_observers.3.html">coap_resource_notify_observers</a></b>(3).

       <b>Function:</b> <b>coap_run_once()</b>

       The <b>coap_run_once</b>() function is replaced by <b><a href="../man3/coap_io_process.3.html">coap_io_process</a></b>(3).

       <b>Function:</b> <b>coap_set_event_handler()</b>

       The <b>coap_set_event_handler</b>() function is replaced by <b><a href="../man3/coap_register_event_handler.3.html">coap_register_event_handler</a></b>(3).

       <b>Function:</b> <b>coap_clear_event_handler()</b>

       The <b>coap_write</b>() function is replaced by <b><a href="../man3/coap_io_prepare_io.3.html">coap_io_prepare_io</a></b>(3).

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>coap_context_set_psk</b>() returns 1 if success, 0 on failure.

       <b>coap_encode_var_bytes</b>() returns either the length of bytes encoded (which can be 0 when encoding 0) or 0
       on failure.

       <b>coap_new_client_session_psk</b>() returns a new session if success, NULL on failure.

       <b>coap_option_clrb</b>() returns 1 if bit was set, -1 otherwise.

       <b>coap_option_getb</b>() returns 1 if bit was set, 0 if not.

       <b>coap_option_setb</b>() returns 1 if bit was set, -1 otherwise.

       <b>coap_resource_set_dirty</b>() returns 1 if success, 0 on failure.

       <b>coap_run_once</b>() returns number of milliseconds spent in function or -1 if there was an error.

       <b>coap_write</b>() returns the number of milli-seconds that need to be waited before the function should next
       be called.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/coap_endpoint_client.3.html">coap_endpoint_client</a></b>(3), <b><a href="../man3/coap_endpoint_server.3.html">coap_endpoint_server</a></b>(3), <b><a href="../man3/coap_handler.3.html">coap_handler</a></b>(3), <b><a href="../man3/coap_io.3.html">coap_io</a></b>(3), <b><a href="../man3/coap_observe.3.html">coap_observe</a></b>(3),
       <b><a href="../man3/coap_pdu_access.3.html">coap_pdu_access</a></b>(3) and <b><a href="../man3/coap_pdu_setup.3.html">coap_pdu_setup</a></b>(3).

</pre><h4><b>FURTHER</b> <b>INFORMATION</b></h4><pre>
       See

       "RFC7252: The Constrained Application Protocol (CoAP)"

       for further information.

</pre><h4><b>BUGS</b></h4><pre>
       Please report bugs on the mailing list for libcoap: <a href="mailto:libcoap-developers@lists.sourceforge.net">libcoap-developers@lists.sourceforge.net</a> or raise an
       issue on GitHub at https://github.com/obgm/libcoap/issues

</pre><h4><b>AUTHORS</b></h4><pre>
       The libcoap project &lt;<a href="mailto:libcoap-developers@lists.sourceforge.net">libcoap-developers@lists.sourceforge.net</a>&gt;

coap_deprecated 4.3.4                              04/15/2024                                 <u><a href="../man3/COAP_DEPRECATED.3.html">COAP_DEPRECATED</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>