<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dpkg::IPC - helper functions for IPC</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdpkg-perl">libdpkg-perl_1.22.21ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Dpkg::IPC - helper functions for IPC

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Dpkg::IPC offers helper functions to allow you to execute other programs in an easy, yet flexible way,
       while hiding all the gory details of IPC (Inter-Process Communication) from you.

</pre><h4><b>FUNCTIONS</b></h4><pre>
       $pid = spawn(%opts)
           Creates  a child process and executes another program in it.  The arguments are interpreted as a hash
           of options, specifying how to handle the in and output of the program to execute.  Returns the pid of
           the child process (unless the wait_child option was given).

           Any error will cause the function to exit with one of the Dpkg::ErrorHandling functions.

           Options:

           <b>exec</b> (required)
               Can be either a scalar, i.e. the name of the program to be executed, or an array reference,  i.e.
               the  name  of the program plus additional arguments. Note that the program will never be executed
               via the shell, so you can't specify additional arguments in the scalar string and you  can't  use
               any shell facilities like globbing.

           <b>from_file</b>, <b>to_file</b>, <b>error_to_file</b>
               Filename  as  scalar.  Standard input/output/error of the child process will be redirected to the
               file specified.

           <b>from_handle</b>, <b>to_handle</b>, <b>error_to_handle</b>
               Filehandle. Standard input/output/error of the child process will be dup'ed from the handle.

           <b>from_pipe</b>, <b>to_pipe</b>, <b>error_to_pipe</b>
               Scalar reference or object based on IO::Handle. A pipe will be opened for each of the two options
               and either the reading ("to_pipe" and "error_to_pipe") or the writing end ("from_pipe")  will  be
               returned  in  the  referenced  scalar.  Standard  input/output/error of the child process will be
               dup'ed to the other ends of the pipes.

           <b>from_string</b>, <b>to_string</b>, <b>error_to_string</b>
               Scalar reference. Standard input/output/error of the child process  will  be  redirected  to  the
               string  given as reference. Note that it wouldn't be strictly necessary to use a scalar reference
               for "from_string", as the string is not modified in any way. This was chosen only for reasons  of
               symmetry  with  "to_string"  and  "error_to_string".  "to_string" and "error_to_string" imply the
               "wait_child" option.

           <b>wait_child</b>
               Scalar. If containing a true value, <b>wait_child()</b> will be  called  before  returning.  The  return
               value of <b>spawn()</b> will be a true value, not the pid.

           <b>nocheck</b>
               Scalar. Option of the <b>wait_child()</b> call.

           <b>timeout</b>
               Scalar. Option of the <b>wait_child()</b> call.

           <b>chdir</b>
               Scalar. The child process will chdir in the indicated directory before calling exec.

           <b>env</b> Hash  reference.  The  child process will populate %ENV with the items of the hash before calling
               exec. This allows exporting environment variables.

           <b>delete_env</b>
               Array reference. The child process will remove all environment  variables  listed  in  the  array
               before calling exec.

           <b>sig</b> Hash  reference.  The  child process will populate %SIG with the items of the hash before calling
               exec. This allows setting signal dispositions.

           <b>delete_sig</b>
               Array reference. The child process will reset all signals listed in the array  to  their  default
               dispositions before calling exec.

       wait_child($pid, %opts)
           Takes  as first argument the pid of the process to wait for.  Remaining arguments are taken as a hash
           of options. Returns nothing. Fails if the child has been ended by a signal or if it exited non-zero.

           Options:

           cmdline
               String to identify the child process in error messages.  Defaults to "child process".

           nocheck
               If true do not check the return status of the child (and thus do not fail it has been  killed  or
               if it exited with a non-zero return code).

           timeout
               Set  a  maximum  time to wait for the process, after that kill the process and fail with an error
               message.

</pre><h4><b>CHANGES</b></h4><pre>
   <b>Version</b> <b>1.02</b> <b>(dpkg</b> <b>1.18.0)</b>
       Change options: <b>wait_child()</b> now kills the process when reaching the 'timeout'.

   <b>Version</b> <b>1.01</b> <b>(dpkg</b> <b>1.17.11)</b>
       New options: <b>spawn()</b> now accepts 'sig' and 'delete_sig'.

   <b>Version</b> <b>1.00</b> <b>(dpkg</b> <b>1.15.6)</b>
       Mark the module as public.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Dpkg, Dpkg::ErrorHandling.

1.22.21                                            2025-07-14                                   <u>Dpkg::<a href="../man3perl/IPC.3perl.html">IPC</a></u>(3perl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>