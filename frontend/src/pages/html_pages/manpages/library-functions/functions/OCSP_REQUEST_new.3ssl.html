<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OCSP_REQUEST_new, OCSP_REQUEST_free, OCSP_request_add0_id, OCSP_request_sign, OCSP_request_add1_cert,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       OCSP_REQUEST_new, OCSP_REQUEST_free, OCSP_request_add0_id, OCSP_request_sign, OCSP_request_add1_cert,
       OCSP_request_onereq_count, OCSP_request_onereq_get0 - OCSP request functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/ocsp.h&gt;

        OCSP_REQUEST *OCSP_REQUEST_new(void);
        void OCSP_REQUEST_free(OCSP_REQUEST *req);

        OCSP_ONEREQ *OCSP_request_add0_id(OCSP_REQUEST *req, OCSP_CERTID *cid);

        int OCSP_request_sign(OCSP_REQUEST *req,
                              X509 *signer, EVP_PKEY *key, const EVP_MD *dgst,
                              STACK_OF(X509) *certs, unsigned long flags);

        int OCSP_request_add1_cert(OCSP_REQUEST *req, X509 *cert);

        int OCSP_request_onereq_count(OCSP_REQUEST *req);
        OCSP_ONEREQ *OCSP_request_onereq_get0(OCSP_REQUEST *req, int i);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>OCSP_REQUEST_new()</b> allocates and returns an empty <b>OCSP_REQUEST</b> structure.

       <b>OCSP_REQUEST_free()</b> frees up the request structure <b>req</b>.  If the argument is NULL, nothing is done.

       <b>OCSP_request_add0_id()</b> adds certificate ID <b>cid</b> to <b>req</b>. It returns the <b>OCSP_ONEREQ</b> structure added so an
       application can add additional extensions to the request. The <b>id</b> parameter <b>MUST</b> <b>NOT</b> be freed up after the
       operation.

       <b>OCSP_request_sign()</b> signs OCSP request <b>req</b> using certificate <b>signer</b>, private key <b>key</b>, digest <b>dgst</b> and
       additional certificates <b>certs</b>. If the <b>flags</b> option <b>OCSP_NOCERTS</b> is set then no certificates will be
       included in the request.

       <b>OCSP_request_add1_cert()</b> adds certificate <b>cert</b> to request <b>req</b>. The application is responsible for freeing
       up <b>cert</b> after use.

       <b>OCSP_request_onereq_count()</b> returns the total number of <b>OCSP_ONEREQ</b> structures in <b>req</b>.

       <b>OCSP_request_onereq_get0()</b> returns an internal pointer to the <b>OCSP_ONEREQ</b> contained in <b>req</b> of index <b>i</b>.
       The index value <b>i</b> runs from 0 to OCSP_request_onereq_count(req) - 1.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>OCSP_REQUEST_new()</b> returns an empty <b>OCSP_REQUEST</b> structure or <b>NULL</b> if an error occurred.

       <b>OCSP_request_add0_id()</b> returns the <b>OCSP_ONEREQ</b> structure containing <b>cid</b> or <b>NULL</b> if an error occurred.

       <b>OCSP_request_sign()</b> and <b>OCSP_request_add1_cert()</b> return 1 for success and 0 for failure.

       <b>OCSP_request_onereq_count()</b> returns the total number of <b>OCSP_ONEREQ</b> structures in <b>req</b> and -1 on error.

       <b>OCSP_request_onereq_get0()</b> returns a pointer to an <b>OCSP_ONEREQ</b> structure or <b>NULL</b> if the index value is
       out or range.

</pre><h4><b>NOTES</b></h4><pre>
       An OCSP request structure contains one or more <b>OCSP_ONEREQ</b> structures corresponding to each certificate.

       <b>OCSP_request_onereq_count()</b> and <b>OCSP_request_onereq_get0()</b> are mainly used by OCSP responders.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Create an <b>OCSP_REQUEST</b> structure for certificate <b>cert</b> with issuer <b>issuer</b>:

        OCSP_REQUEST *req;
        OCSP_ID *cid;

        req = OCSP_REQUEST_new();
        if (req == NULL)
           /* error */
        cid = OCSP_cert_to_id(EVP_sha1(), cert, issuer);
        if (cid == NULL)
           /* error */

        if (OCSP_REQUEST_add0_id(req, cid) == NULL)
           /* error */

        /* Do something with req, e.g. query responder */

        OCSP_REQUEST_free(req);

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/crypto.7.html">crypto</a></b>(7), <b><a href="../man3/OCSP_cert_to_id.3.html">OCSP_cert_to_id</a></b>(3), <b><a href="../man3/OCSP_request_add1_nonce.3.html">OCSP_request_add1_nonce</a></b>(3), <b><a href="../man3/OCSP_resp_find_status.3.html">OCSP_resp_find_status</a></b>(3),
       <b><a href="../man3/OCSP_response_status.3.html">OCSP_response_status</a></b>(3), <b><a href="../man3/OCSP_sendreq_new.3.html">OCSP_sendreq_new</a></b>(3)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2015-2024 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                             <u><a href="../man3SSL/OCSP_REQUEST_NEW.3SSL.html">OCSP_REQUEST_NEW</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>