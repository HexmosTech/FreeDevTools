<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>misc_conv - text based conversation function</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpam-doc">libpam-doc_1.7.0-5ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       misc_conv - text based conversation function

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;security/pam_misc.h&gt;</b>

       <b>int</b> <b>misc_conv(int</b> <u>num_msg</u><b>,</b> <b>const</b> <b>struct</b> <b>pam_message</b> <b>**</b><u>msgm</u><b>,</b> <b>struct</b> <b>pam_response</b> <b>**</b><u>response</u><b>,</b>
                     <b>void</b> <b>*</b><u>appdata_ptr</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>misc_conv</b> function is part of <b>libpam_misc</b> and not of the standard <b>libpam</b> library. This function will
       prompt the user with the appropriate comments and obtain the appropriate inputs as directed by
       authentication modules.

       In addition to simply slotting into the appropriate <b><a href="../man3/pam_conv.3.html">pam_conv</a></b>(3), this function provides some time-out
       facilities. The function exports five variables that can be used by an application programmer to limit
       the amount of time this conversation function will spend waiting for the user to type something. The five
       variables are as follows:

       time_t pam_misc_conv_warn_time;
           This variable contains the <u>time</u> (as returned by <b><a href="../man2/time.2.html">time</a></b>(2)) that the user should be first warned that
           the clock is ticking. By default it has the value 0, which indicates that no such warning will be
           given. The application may set its value to sometime in the future, but this should be done prior to
           passing control to the <u>Linux-PAM</u> library.

       const char *pam_misc_conv_warn_line;
           Used in conjunction with <u>pam_misc_conv_warn_time</u>, this variable is a pointer to the string that will
           be displayed when it becomes time to warn the user that the timeout is approaching. Its default value
           is a translated version of “...Time is running out...”, but this can be changed by the application
           prior to passing control to <u>Linux-PAM</u>.

       time_t pam_misc_conv_die_time;
           This variable contains the <u>time</u> (as returned by <b><a href="../man2/time.2.html">time</a></b>(2)) that the will time out. By default it has
           the value 0, which indicates that the conversation function will not timeout. The application may set
           its value to sometime in the future, but this should be done prior to passing control to the
           <u>Linux-PAM</u> library.

       const char *pam_misc_conv_die_line;
           Used in conjunction with <u>pam_misc_conv_die_time</u>, this variable is a pointer to the string that will
           be displayed when the conversation times out. Its default value is a translated version of “...Sorry,
           your time is up!”, but this can be changed by the application prior to passing control to <u>Linux-PAM</u>.

       int pam_misc_conv_died;
           Following a return from the <u>Linux-PAM</u> library, the value of this variable indicates whether the
           conversation has timed out. A value of 1 indicates the time-out occurred.

       The following two function pointers are available for supporting binary prompts in the conversation
       function. They are optimized for the current incarnation of the <b>libpamc</b> library and are subject to
       change.

       int (*pam_binary_handler_fn)(void *appdata, pamc_bp_t *prompt_p);
           This function pointer is initialized to NULL but can be filled with a function that provides
           machine-machine (hidden) message exchange. It is intended for use with hidden authentication
           protocols such as RSA or Diffie-Hellman key exchanges. (This is still under development.)

       int (*pam_binary_handler_free)(void *appdata, pamc_bp_t *delete_me);
           This function pointer is initialized to <b>PAM_BP_RENEW(delete_me,</b> <b>0,</b> <b>0)</b>, but can be redefined as
           desired by the application.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/pam_conv.3.html">pam_conv</a></b>(3), <b><a href="../man7/pam.7.html">pam</a></b>(7)

</pre><h4><b>STANDARDS</b></h4><pre>
       The <b>misc_conv</b> function is part of the <b>libpam_misc</b> Library and not defined in any standard.

Linux-PAM                                          07/03/2025                                       <u><a href="../man3/MISC_CONV.3.html">MISC_CONV</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>