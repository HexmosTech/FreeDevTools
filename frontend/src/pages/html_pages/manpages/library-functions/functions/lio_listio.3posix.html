<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       lio_listio — list directed I/O

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/aio.h">aio.h</a>&gt;

       int lio_listio(int <u>mode</u>, struct aiocb *restrict const <u>list</u>[restrict],
           int <u>nent</u>, struct sigevent *restrict <u>sig</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <u>lio_listio</u>() function shall initiate a list of I/O requests with a single function call.

       The  <u>mode</u>  argument  takes  one  of  the values LIO_WAIT or LIO_NOWAIT declared in <u>&lt;aio.h&gt;</u> and determines
       whether the function returns when the I/O operations have been completed, or as soon  as  the  operations
       have been queued. If the <u>mode</u> argument is LIO_WAIT, the function shall wait until all I/O is complete and
       the <u>sig</u> argument shall be ignored.

       If  the <u>mode</u> argument is LIO_NOWAIT, the function shall return immediately, and asynchronous notification
       shall occur, according to the <u>sig</u> argument, when all the I/O operations complete. If <u>sig</u> is NULL, then no
       asynchronous notification shall occur. If <u>sig</u> is not NULL, asynchronous notification occurs as  specified
       in <u>Section</u> <u>2.4.1</u>, <u>Signal</u> <u>Generation</u> <u>and</u> <u>Delivery</u> when all the requests in <u>list</u> have completed.

       The I/O requests enumerated by <u>list</u> are submitted in an unspecified order.

       The  <u>list</u>  argument  is  an  array of pointers to <b>aiocb</b> structures. The array contains <u>nent</u> elements. The
       array may contain NULL elements, which shall be ignored.

       If the buffer pointed to by <u>list</u> or the <b>aiocb</b> structures pointed to by the elements  of  the  array  <u>list</u>
       become  illegal  addresses  before  all asynchronous I/O completed and, if necessary, the notification is
       sent, then the behavior is undefined. If the buffers pointed to  by  the  <u>aio_buf</u>  member  of  the  <b>aiocb</b>
       structure pointed to by the elements of the array <u>list</u> become illegal addresses prior to the asynchronous
       I/O associated with that <b>aiocb</b> structure being completed, the behavior is undefined.

       The  <u>aio_lio_opcode</u>  field of each <b>aiocb</b> structure specifies the operation to be performed. The supported
       operations are LIO_READ, LIO_WRITE, and LIO_NOP; these symbols  are  defined  in  <u>&lt;aio.h&gt;</u>.   The  LIO_NOP
       operation  causes  the list entry to be ignored. If the <u>aio_lio_opcode</u> element is equal to LIO_READ, then
       an I/O operation is submitted as if by a call to <u>aio_read</u>() with the <u>aiocbp</u> equal to the address  of  the
       <b>aiocb</b>  structure. If the <u>aio_lio_opcode</u> element is equal to LIO_WRITE, then an I/O operation is submitted
       as if by a call to <u>aio_write</u>() with the <u>aiocbp</u> equal to the address of the <b>aiocb</b> structure.

       The <u>aio_fildes</u> member specifies the file descriptor on which the operation is to be performed.

       The <u>aio_buf</u> member specifies the address of the buffer to or from which the data is transferred.

       The <u>aio_nbytes</u> member specifies the number of bytes of data to be transferred.

       The members of the <b>aiocb</b> structure further describe the I/O  operation  to  be  performed,  in  a  manner
       identical  to  that  of  the  corresponding  <b>aiocb</b>  structure when used by the <u>aio_read</u>() and <u>aio_write</u>()
       functions.

       The <u>nent</u> argument specifies how many elements are members of the list; that is, the length of the array.

       The behavior of this function is altered according to the definitions of synchronized I/O data  integrity
       completion  and  synchronized  I/O  file  integrity completion if synchronized I/O is enabled on the file
       associated with <u>aio_fildes</u>.

       For regular files, no data transfer shall occur past the offset maximum  established  in  the  open  file
       description associated with <u>aiocbp</u>-&gt;<u>aio_fildes</u>.

       If <u>sig</u>-&gt;<u>sigev_notify</u> is SIGEV_THREAD and <u>sig</u>-&gt;<u>sigev_notify_attributes</u> is a non-null pointer and the block
       pointed to by this pointer becomes an illegal address prior to all asynchronous I/O being completed, then
       the behavior is undefined.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       If  the  <u>mode</u> argument has the value LIO_NOWAIT, the <u>lio_listio</u>() function shall return the value zero if
       the I/O operations are successfully queued; otherwise, the function shall return the  value  -1  and  set
       <u>errno</u> to indicate the error.

       If  the  <u>mode</u> argument has the value LIO_WAIT, the <u>lio_listio</u>() function shall return the value zero when
       all the indicated I/O has completed successfully. Otherwise, <u>lio_listio</u>() shall return a value of -1  and
       set <u>errno</u> to indicate the error.

       In  either  case, the return value only indicates the success or failure of the <u>lio_listio</u>() call itself,
       not the status of the individual I/O requests. In some cases one or more of the I/O requests contained in
       the list may fail.  Failure of an individual request does not prevent completion of any other  individual
       request.  To  determine  the  outcome of each I/O request, the application shall examine the error status
       associated with each <b>aiocb</b> control block. The error statuses so returned are identical to those  returned
       as the result of an <u>aio_read</u>() or <u>aio_write</u>() function.

</pre><h4><b>ERRORS</b></h4><pre>
       The <u>lio_listio</u>() function shall fail if:

       <b>EAGAIN</b> The  resources  necessary  to  queue  all the I/O requests were not available. The application may
              check the error status for each <b>aiocb</b> to determine the individual request(s) that failed.

       <b>EAGAIN</b> The number of entries indicated by  <u>nent</u>  would  cause  the  system-wide  limit  {AIO_MAX}  to  be
              exceeded.

       <b>EINVAL</b> The <u>mode</u> argument is not a proper value, or the value of <u>nent</u> was greater than {AIO_LISTIO_MAX}.

       <b>EINTR</b>  A  signal  was  delivered  while  waiting  for  all  I/O  requests  to complete during an LIO_WAIT
              operation. Note that, since each I/O operation invoked by  <u>lio_listio</u>()  may  possibly  provoke  a
              signal  when  it  completes, this error return may be caused by the completion of one (or more) of
              the very I/O operations being  awaited.  Outstanding  I/O  requests  are  not  canceled,  and  the
              application  shall  examine  each  list  element  to  determine whether the request was initiated,
              canceled, or completed.

       <b>EIO</b>    One or more of the individual I/O operations failed. The application may check  the  error  status
              for each <b>aiocb</b> structure to determine the individual request(s) that failed.

       In addition to the errors returned by the <u>lio_listio</u>() function, if the <u>lio_listio</u>() function succeeds or
       fails  with  errors  of  <b>[EAGAIN]</b>, <b>[EINTR]</b>, or <b>[EIO]</b>, then some of the I/O specified by the list may have
       been initiated. If the <u>lio_listio</u>() function fails with an error code other than  <b>[EAGAIN]</b>,  <b>[EINTR]</b>,  or
       <b>[EIO]</b>,  no  operations  from the list shall have been initiated. The I/O operation indicated by each list
       element can encounter errors specific to the individual read or write function being performed.  In  this
       event,  the error status for each <b>aiocb</b> control block contains the associated error code. The error codes
       that can be set are the same as would be set  by  a  <u>read</u>()  or  <u>write</u>()  function,  with  the  following
       additional error codes possible:

       <b>EAGAIN</b> The requested I/O operation was not queued due to resource limitations.

       <b>ECANCELED</b>
              The requested I/O was canceled before the I/O completed due to an explicit <u>aio_cancel</u>() request.

       <b>EFBIG</b>  The <u>aiocbp</u>-&gt;<u>aio_lio_opcode</u> is LIO_WRITE, the file is a regular file, <u>aiocbp</u>-&gt;<u>aio_nbytes</u> is greater
              than 0, and the <u>aiocbp</u>-&gt;<u>aio_offset</u> is greater than or equal to the offset maximum in the open file
              description associated with <u>aiocbp</u>-&gt;<u>aio_fildes</u>.

       <b>EINPROGRESS</b>
              The requested I/O is in progress.

       <b>EOVERFLOW</b>
              The  <u>aiocbp</u>-&gt;<u>aio_lio_opcode</u> is LIO_READ, the file is a regular file, <u>aiocbp</u>-&gt;<u>aio_nbytes</u> is greater
              than 0, and the <u>aiocbp</u>-&gt;<u>aio_offset</u> is before the end-of-file and is greater than or equal  to  the
              offset maximum in the open file description associated with <u>aiocbp</u>-&gt;<u>aio_fildes</u>.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       None.

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       None.

</pre><h4><b>RATIONALE</b></h4><pre>
       Although it may appear that there are inconsistencies in the specified circumstances for error codes, the
       <b>[EIO]</b>  error  condition  applies  when  any  circumstance  relating to an individual operation makes that
       operation fail. This might be due to a badly formulated request (for example, the <u>aio_lio_opcode</u> field is
       invalid, and <u>aio_error</u>() returns <b>[EINVAL]</b>) or might arise from application  behavior  (for  example,  the
       file descriptor is closed before the operation is initiated, and <u>aio_error</u>() returns <b>[EBADF]</b>).

       The limitation on the set of error codes returned when operations from the list shall have been initiated
       enables  applications  to  know  when operations have been started and whether <u>aio_error</u>() is valid for a
       specific operation.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>aio_read</u>(), <u>aio_write</u>(), <u>aio_error</u>(), <u>aio_return</u>(), <u>aio_cancel</u>(), <u>close</u>(), <u>exec</u>, <u>exit</u>(), <u>fork</u>(), <u>lseek</u>(),
       <u>read</u>()

       The Base Definitions volume of POSIX.1‐2017, <b>&lt;aio.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                    <u><a href="../man3POSIX/LIO_LISTIO.3POSIX.html">LIO_LISTIO</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>