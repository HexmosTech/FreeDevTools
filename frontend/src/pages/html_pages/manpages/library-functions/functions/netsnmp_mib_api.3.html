<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>add_mibdir,     netsnmp_init_mib,    shutdown_mib,    netsnmp_read_module,    read_mib,    read_all_mibs,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsnmp-dev">libsnmp-dev_5.9.4+dfsg-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       add_mibdir,     netsnmp_init_mib,    shutdown_mib,    netsnmp_read_module,    read_mib,    read_all_mibs,
       add_module_replacement,    snmp_set_mib_errors,    snmp_set_mib_warnings,     snmp_set_save_descriptions,
       read_objid,   snmp_parse_oid,   get_module_node,  print_mib,  print_objid,  fprint_objid,  snprint_objid,
       print_description, fprint_description, snprint_description - netsnmp_mib_api functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;net-snmp/mib_api.h&gt;</b>

   <b>Initialisation</b> <b>and</b> <b>Shutdown</b>
       <b>int</b> <b>add_mibdir(const</b> <b>char</b> <b>*</b><u>dirname</u><b>);</b>

       <b>void</b> <b>netsnmp_init_mib(void);</b>
       <b>void</b> <b>shutdown_mib(void);</b>

   <b>Reading</b> <b>and</b> <b>Parsing</b> <b>MIBs</b>
       <b>struct</b> <b>tree</b> <b>*netsnmp_read_module(const</b> <b>char</b> <b>*</b><u>name</u><b>);</b>
       <b>struct</b> <b>tree</b> <b>*read_mib(const</b> <b>char</b> <b>*</b><u>filename</u><b>);</b>
       <b>struct</b> <b>tree</b> <b>*read_all_mibs(void);</b>

       <b>int</b> <b>add_module_replacement(const</b> <b>char</b> <b>*</b><u>old_module</u><b>,</b>
                                  <b>const</b> <b>char</b> <b>*</b><u>new_module</u><b>,</b>
                                  <b>const</b> <b>char</b> <b>*</b><u>tag</u><b>,</b> <b>int</b> <u>len</u><b>);</b>

       <b>void</b> <b>snmp_set_mib_warnings(int</b> <u>level</u><b>);</b>
       <b>void</b> <b>snmp_set_mib_errors(int</b> <u>level</u><b>);</b>
       <b>void</b> <b>snmp_set_save_descriptions(int</b> <u>save</u><b>);</b>

   <b>Searching</b> <b>the</b> <b>MIB</b> <b>Tree</b>
       <b>int</b>  <b>read_objid(const</b> <b>char</b> <b>*</b><u>input</u><b>,</b>
                       <b>oid</b> <b>*</b><u>objid</u><b>,</b> <b>size_t</b> <b>*</b><u>objidlen</u><b>);</b>
       <b>oid</b> <b>*snmp_parse_oid(const</b> <b>char</b> <b>*</b><u>input</u><b>,</b>
                       <b>oid</b> <b>*</b><u>objid</u><b>,</b> <b>size_t</b> <b>*</b><u>objidlen</u><b>);</b>
       <b>int</b>  <b>get_module_node(const</b> <b>char</b> <b>*</b><u>name</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>module</u><b>,</b>
                       <b>oid</b> <b>*</b><u>objid</u><b>,</b> <b>size_t</b> <b>*</b><u>objidlen</u><b>);</b>

   <b>Output</b>
       <b>void</b>  <b>print_mib(FILE</b> <b>*</b><u>fp</u><b>);</b>

       <b>void</b>  <b>print_objid(const</b> <b>oid</b> <b>*</b><u>objid</u><b>,</b> <b>size_t</b> <u>objidlen</u><b>);</b>
       <b>void</b> <b>fprint_objid(FILE</b> <b>*</b><u>fp</u><b>,</b>
                         <b>const</b> <b>oid</b> <b>*</b><u>objid</u><b>,</b> <b>size_t</b> <u>objidlen</u><b>);</b>
       <b>int</b> <b>snprint_objid(char</b> <b>*</b><u>buf</u><b>,</b> <b>size_t</b> <u>len</u><b>,</b>
                         <b>const</b> <b>oid</b> <b>*</b><u>objid</u><b>,</b> <b>size_t</b> <u>objidlen</u><b>);</b>

       <b>void</b>  <b>print_description(const</b> <b>oid</b> <b>*</b><u>objid</u><b>,</b> <b>size_t</b> <u>objidlen</u><b>,</b> <b>int</b> <u>width</u><b>);</b>
       <b>void</b> <b>fprint_description(FILE</b> <b>*</b><u>fp</u><b>,</b>
                               <b>const</b> <b>oid</b> <b>*</b><u>objid</u><b>,</b> <b>size_t</b> <u>objidlen</u><b>,</b> <b>int</b> <u>width</u><b>);</b>
       <b>int</b> <b>snprint_description(char</b> <b>*</b><u>buf</u><b>,</b> <b>size_t</b> <u>len</u><b>,</b>
                               <b>const</b> <b>oid</b> <b>*</b><u>objid</u><b>,</b> <b>size_t</b> <u>objidlen</u><b>,</b> <b>int</b> <u>width</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The functions dealing with MIB modules fall into four groups -  those  dealing  with  initialisation  and
       shutdown, with reading in and parsing MIB files, with searching the MIB tree, and output routines.

   <b>Initialisation</b> <b>and</b> <b>Shutdown</b>
       <b>add_mibdir</b>  is  used to add the specified directory to the path of locations which are searched for files
       containing MIB modules.  Note that this does not actually load the MIB modules located in that directory,
       but is simply an initialisation step to  make  them  available  to  <b>netsnmp_read_module</b>.   This  function
       returns  a  count  of  files  found  in the directory, or a -1 if there is an error.  It should be called
       <u>before</u> invoking <b>netsnmp_init_mib</b>.

       <b>netsnmp_init_mib</b> configures the MIB directory search path (using <b>add_mibdir</b> ), sets up the  internal  MIB
       framework,  and then loads the appropriate MIB modules (using <b>netsnmp_read_module</b> and <b>read_mib</b>).  See the
       ENVIRONMENTAL VARIABLES section for details.
       It should be called before any other routine that manipulates or accesses the MIB  tree  (but  after  any
       additional <b>add_mibdir</b> calls).

       <b>shutdown_mib</b>  will  clear  the  information  that  was  gathered  by  <b>netsnmp_read_module</b>, <b>add_mibdir</b> and
       <b>add_module_replacement</b>.  It is strongly recommended that one does not invoke <b>shutdown_mib</b> while there are
       SNMP sessions being actively managed.

   <b>Reading</b> <b>and</b> <b>Parsing</b> <b>MIBs</b>
       <b>netsnmp_read_module</b> takes the name of a MIB module (which need not be the same as the name  of  the  file
       that  contains  the  module),  locates  this within the configured list of MIB directories, and loads the
       definitions from the module into the active MIB tree.  It also  loads  any  MIB  modules  listed  in  the
       IMPORTS clause of this module.

       <b>read_mib</b>  is similar, but takes the name of the file containing the MIB module.  Note that this file need
       not be located within the MIB directory search list (although any modules listed in  the  IMPORTS  clause
       do).

       <b>read_all_mibs</b> will read in all the MIB modules found on the MIB directory search list.

       In  general  the  parser  is  silent  about  what strangenesses it sees in the MIB files. To get warnings
       reported, call <b>snmp_set_mib_warnings</b> with a <u>level</u> of 1 (or 2 for even more warnings).

       <b>add_module_replacement</b> can be used to allow new MIB modules to obsolete older ones,  without  needing  to
       amend the IMPORTS clauses of other modules.  It takes the names of the old and new modules, together with
       an indication of which portions of the old module are affected.
              <b>tag</b>      <b>len</b>       <b>load</b> <b>the</b> <b>new</b> <b>module</b> <b>when:</b>
              NULL     0         always (the old module is a strict subset of
                                 the new)
              name     0         for the given tag only
              name     non-0     for any identifier with this prefix
       It  can  also  be  used  to  handle errors in the module identifiers used in MIB IMPORTS clauses (such as
       referring to <u>RFC1213</u> instead of <u>RFC1213-MIB</u>).

   <b>Searching</b> <b>the</b> <b>MIB</b> <b>Tree</b>
       <b>read_objid</b> takes a string containing a textual version of an object  identifier  (in  either  numeric  or
       descriptor  form),  and transforms this into the corresponding list of sub-identifiers.  This is returned
       in the <u>output</u> parameter, with the number of sub-identifiers returned via <u>out_len</u>.  When  called,  <u>out_len</u>
       must  hold  the  maximum length of the <u>output</u> array.  If multiple object identifiers are being processed,
       then this length should be reset before each call.  This function returns a value of 1 if it succeeds  in
       parsing the string and 0 otherwise.

       <b>snmp_parse_oid</b> is similar, but returns a pointer to the parsed OID buffer (or NULL).

       <b>get_module_node</b>  takes  a descriptor and the name of a module, and returns the corresponding oid list, in
       the same way as <b>read_objid</b> above.
       If the module name is specified as "ANY", then this routine will assume  that  the  descriptor  given  is
       unique  within  the  tree,  and  will return the matching entry.  If this assumption is invalid, then the
       behaviour as to which variable is returned is implementation dependent.

   <b>Output</b>
       <b>print_mib</b> will print out a representation of the currently active MIB tree to the specified FILE pointer.

       <b>print_objid</b>  will  take  an  object  identifier   (as   returned   by   <b>read_objid</b>,   <b>snmp_parse_oid</b>   or
       <b>get_module_node</b>), and prints the textual form of this OID to the standard output.

       <b>fprint_objid</b> does the same, but prints to the FILE pointer specified by the initial parameter.

       <b>snprint_objid</b>  prints  the same information into the buffer pointed to by <u>buf</u> which is of length <u>len</u>.  It
       returns the number of characters printed, or -1 if the buffer was not large enough.  In the latter  case,
       <u>buf</u> will typically contain a truncated version of the information (but this behaviour is not guaranteed).

       <b>print_description</b>, <b>fprint_description</b>, and <b>snprint_description</b> take a similar object identifier and print
       out  a  version  of  the  MIB  definition for that object, together with the full OID. The <u>width</u> argument
       controls how the OID is layed out.

       By default the parser does not save descriptions since they may be huge.  In order to be  able  to  print
       them, it is necessary to invoke <b><a href="../man1/snmp_set_save_descriptions.1.html">snmp_set_save_descriptions</a>(1)</b><u>before</u> calling <b>init_mib</b> (or similar).

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The main use of environmental variables with respect to these API calls is to configure which MIB modules
       should be loaded, and where they are located.

       MIBDIRS   A colon separated list of directories to search for MIB modules.
                 Default: /usr/share/snmp/mibs
                 Used by <b>init_mib</b>, <b>netsnmp_read_module</b>, <b>read_all_mibs</b> and (implicitly) by <b>read_mib</b>.

       MIBS      A colon separated list of MIB modules to load.
                 The  default  list of modules will depend on how the Net-SNMP software was originally compiled,
                 but is typically:
                 IP-MIB:IF-MIB:TCP-MIB:UDP-MIB:SNMPv2-MIB:RFC1213-MIB:UCD-SNMP-MIB:HOST-RESOURCES-MIB

                 If the value of the <b>MIBS</b> environmental variable starts with a '+'  character,  then  these  MIB
                 modules  will be added to the default list.  Otherwise these modules (plus any that they IMPORT
                 from) will be loaded <u>instead</u> of the default list.

                 If the <b>MIBS</b> environmental variable has the value <b>ALL</b> then <b>read_all_mibs</b> will be called to  load
                 the full collection of all available MIB modules.

                 Used by <b>init_mib</b> only.

       MIBFILES  A colon separated list of files to load.
                 Default: (none)
                 Used by <b>init_mib</b> only.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3/netsnmp_session_api.3.html">netsnmp_session_api</a>(3), <a href="../man3/netsnmp_pdu_api.3.html">netsnmp_pdu_api</a>(3), <a href="../man3/netsnmp_varbind_api.3.html">netsnmp_varbind_api</a>(3)

V5.9.4.pre2                                        13 Aug 2010                                <u><a href="../man3/NETSNMP_MIB_API.3.html">NETSNMP_MIB_API</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>