<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>qbutil.h - These are some convience functions used throughout libqb.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libqb-dev">libqb-dev_2.0.8-2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       qbutil.h - These are some convience functions used throughout libqb.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;qb/qbutil.h&gt;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Locking

       Time functions

       Basic Stopwatch

       uint64_t elapsed1;
       uint64_t elapsed2;
       qb_util_stopwatch_t *sw = qb_util_stopwatch_create();

       qb_util_stopwatch_start(sw);

       usleep(sometime);
       qb_util_stopwatch_stop(sw);
       elapsed1 = qb_util_stopwatch_us_elapsed_get(sw);

       usleep(somemoretime);
       qb_util_stopwatch_stop(sw);
       elapsed2 = qb_util_stopwatch_us_elapsed_get(sw);

       qb_util_stopwatch_free(sw);

       Stopwatch with splits

       Setup a stopwatch with space for 3 splits.

       uint64_t split;
       qb_util_stopwatch_t *sw = qb_util_stopwatch_create();

       qb_util_stopwatch_split_ctl(sw, 3, 0);
       qb_util_stopwatch_start(sw);

       usleep(sometime);
       qb_util_stopwatch_split(sw);

       usleep(somemoretime);
       qb_util_stopwatch_split(sw);

       usleep(somemoretime);
       qb_util_stopwatch_split(sw);

       idx = qb_util_stopwatch_split_last(sw);
       do {
            split = qb_util_stopwatch_time_split_get(sw, idx, idx);
            qb_log(LOG_INFO, "split %d is %"PRIu64"", last, split);
            idx--;
       } while (split &gt; 0);

       split = qb_util_stopwatch_time_split_get(sw, 2, 1);
       qb_log(LOG_INFO, "time between second and third split is %"PRIu64"", split);

       qb_util_stopwatch_free(sw);

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/qb_util_nano_current_get.3.html">qb_util_nano_current_get</a></u>(3), <u><a href="../man3/qb_util_stopwatch_stop.3.html">qb_util_stopwatch_stop</a></u>(3), <u><a href="../man3/qb_util_stopwatch_split.3.html">qb_util_stopwatch_split</a></u>(3),
       <u><a href="../man3/qb_util_stopwatch_split_ctl.3.html">qb_util_stopwatch_split_ctl</a></u>(3), <u><a href="../man3/qb_thread_unlock.3.html">qb_thread_unlock</a></u>(3), <u><a href="../man3/qb_strerror_r.3.html">qb_strerror_r</a></u>(3),
       <u><a href="../man3/qb_util_stopwatch_time_split_get.3.html">qb_util_stopwatch_time_split_get</a></u>(3), <u><a href="../man3/qb_util_set_log_function.3.html">qb_util_set_log_function</a></u>(3), <u><a href="../man3/qb_util_timespec_from_epoch_get.3.html">qb_util_timespec_from_epoch_get</a></u>(3),
       <u><a href="../man3/qb_thread_lock_destroy.3.html">qb_thread_lock_destroy</a></u>(3), <u><a href="../man3/qb_thread_trylock.3.html">qb_thread_trylock</a></u>(3), <u><a href="../man3/qb_util_nano_monotonic_hz.3.html">qb_util_nano_monotonic_hz</a></u>(3),
       <u><a href="../man3/qb_util_nano_from_epoch_get.3.html">qb_util_nano_from_epoch_get</a></u>(3), <u><a href="../man3/qb_util_stopwatch_create.3.html">qb_util_stopwatch_create</a></u>(3), <u><a href="../man3/qb_util_stopwatch_split_last.3.html">qb_util_stopwatch_split_last</a></u>(3),
       <u><a href="../man3/qb_thread_lock.3.html">qb_thread_lock</a></u>(3), <u><a href="../man3/qb_util_stopwatch_free.3.html">qb_util_stopwatch_free</a></u>(3), <u><a href="../man3/qb_thread_lock_create.3.html">qb_thread_lock_create</a></u>(3), <u><a href="../man3/qb_timespec_add_ms.3.html">qb_timespec_add_ms</a></u>(3),
       <u><a href="../man3/qb_util_stopwatch_start.3.html">qb_util_stopwatch_start</a></u>(3), <u><a href="../man3/qb_util_stopwatch_us_elapsed_get.3.html">qb_util_stopwatch_us_elapsed_get</a></u>(3), <u><a href="../man3/qb_util_stopwatch_sec_elapsed_get.3.html">qb_util_stopwatch_sec_elapsed_get</a></u>(3)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2010-2020 Red Hat, Inc.

LIBQB                                              2023-07-21                                        <u><a href="../man3/QBUTIL.H.3.html">QBUTIL.H</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>