<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gnutls_pkcs12_simple_parse - API function</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/gnutls-doc">gnutls-doc_3.8.9-3ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gnutls_pkcs12_simple_parse - API function

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;gnutls/pkcs12.h&gt;</b>

       <b>int</b>  <b>gnutls_pkcs12_simple_parse(gnutls_pkcs12_t</b>  <u>p12</u><b>,</b> <b>const</b> <b>char</b> <b>*</b> <u>password</u><b>,</b> <b>gnutls_x509_privkey_t</b> <b>*</b> <u>key</u><b>,</b>
       <b>gnutls_x509_crt_t</b> <b>**</b> <u>chain</u><b>,</b> <b>unsigned</b> <b>int</b> <b>*</b> <u>chain_len</u><b>,</b> <b>gnutls_x509_crt_t</b> <b>**</b> <u>extra_certs</u><b>,</b>  <b>unsigned</b>  <b>int</b>  <b>*</b>
       <u>extra_certs_len</u><b>,</b> <b>gnutls_x509_crl_t</b> <b>*</b> <u>crl</u><b>,</b> <b>unsigned</b> <b>int</b> <u>flags</u><b>);</b>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       gnutls_pkcs12_t p12
                   A pkcs12 type

       const char * password
                   optional password used to decrypt the structure, bags and keys.

       gnutls_x509_privkey_t * key
                   a structure to store the parsed private key.

       gnutls_x509_crt_t ** chain
                   the corresponding to key certificate chain (may be <b>NULL</b>)

       unsigned int * chain_len
                   will be updated with the number of additional (may be <b>NULL</b>)

       gnutls_x509_crt_t ** extra_certs
                   optional pointer to receive an array of additional certificates found in the PKCS12 structure
                   (may be <b>NULL</b>).

       unsigned int * extra_certs_len
                   will be updated with the number of additional certs (may be <b>NULL</b>).

       gnutls_x509_crl_t * crl
                   an optional structure to store the parsed CRL (may be <b>NULL</b>).

       unsigned int flags
                   should be zero or one of GNUTLS_PKCS12_SP_*

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  function  parses  a  PKCS12  structure  in   <u>pkcs12</u> and extracts the private key, the corresponding
       certificate chain, any additional certificates and a CRL. The structures in  <u>key</u>  ,   <u>chain</u>   <u>crl</u>  ,  and
       <u>extra_certs</u> must not be initialized.

       The   <u>extra_certs</u>  and  <u>extra_certs_len</u> parameters are optional and both may be set to <b>NULL</b>. If either is
       non-<b>NULL</b>, then both must be set. The value for  <u>extra_certs</u> is allocated using <b>gnutls_malloc()</b>.

       Encrypted PKCS12 bags and PKCS8 private keys are supported, but only with password based security and the
       same password for all operations.

       Note that a PKCS12 structure may contain many keys and/or certificates, and there is no way  to  identify
       which  key/certificate  pair  you  want.   For  this reason this function is useful for PKCS12 files that
       contain only one key/certificate pair and/or one CRL.

       If the provided structure has encrypted fields but no password is provided  then  this  function  returns
       <b>GNUTLS_E_DECRYPTION_FAILED</b>.

       Note  that  normally the chain constructed does not include self signed certificates, to comply with TLS'
       requirements. If, however, the flag <b>GNUTLS_PKCS12_SP_INCLUDE_SELF_SIGNED</b> is specified  then  self  signed
       certificates will be included in the chain.

       Prior   to   using   this   function   the   PKCS   <b>12</b>   structure   integrity  must  be  verified  using
       <b>gnutls_pkcs12_verify_mac()</b>.

</pre><h4><b>RETURNS</b></h4><pre>
       On success, <b>GNUTLS_E_SUCCESS</b> (0) is returned, otherwise a negative error value.

</pre><h4><b>SINCE</b></h4><pre>
       3.1.0

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to &lt;<a href="mailto:bugs@gnutls.org">bugs@gnutls.org</a>&gt;.
       Home page: https://www.gnutls.org

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2001-2023 Free Software Foundation, Inc., and others.
       Copying and distribution of this file, with or without modification, are permitted in any medium  without
       royalty provided the copyright notice and this notice are preserved.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The  full  documentation  for  <b>gnutls</b>  is  maintained as a Texinfo manual.  If the /usr/share/doc/gnutls/
       directory does not contain the HTML form visit

       https://www.gnutls.org/manual/

gnutls                                                3.8.9                        <u><a href="../man3/gnutls_pkcs12_simple_parse.3.html">gnutls_pkcs12_simple_parse</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>