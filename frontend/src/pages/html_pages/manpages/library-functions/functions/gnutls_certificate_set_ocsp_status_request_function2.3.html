<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gnutls_certificate_set_ocsp_status_request_function2 - API function</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/gnutls-doc">gnutls-doc_3.8.9-3ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gnutls_certificate_set_ocsp_status_request_function2 - API function

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;gnutls/gnutls.h&gt;</b>

       <b>int</b>  <b>gnutls_certificate_set_ocsp_status_request_function2(gnutls_certificate_credentials_t</b>  <u>sc</u><b>,</b>  <b>unsigned</b>
       <u>idx</u><b>,</b> <b>gnutls_status_request_ocsp_func</b> <u>ocsp_func</u><b>,</b> <b>void</b> <b>*</b> <u>ptr</u><b>);</b>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       gnutls_certificate_credentials_t sc
                   is a <b>gnutls_certificate_credentials_t</b> type.

       unsigned idx
                   is a certificate index as returned by <b>gnutls_certificate_set_key()</b> and friends

       gnutls_status_request_ocsp_func ocsp_func
                   function pointer to OCSP status request callback.

       void * ptr  opaque pointer passed to callback function

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This function is to be used by server to register  a  callback  to  provide  OCSP  status  requests  that
       correspond  to the indexed certificate chain from the client.  The callback will be invoked if the client
       supplied a status-request OCSP extension.

       The callback function prototype is:

       typedef int  (*gnutls_status_request_ocsp_func)  (gnutls_session_t  session,  void  *ptr,  gnutls_datum_t
       *ocsp_response);

       The  callback will be invoked if the client requests an OCSP certificate status.  The callback may return
       <b>GNUTLS_E_NO_CERTIFICATE_STATUS</b>,  if  there  is  no  recent  OCSP  response.  If  the   callback   returns
       <b>GNUTLS_E_SUCCESS</b>,  it  is  expected  to have the  <u>ocsp_response</u> field set with a valid (DER-encoded) OCSP
       response. The response must be a value allocated using <b>gnutls_malloc()</b>, and will be deinitialized by  the
       caller.

</pre><h4><b>NOTE</b></h4><pre>
       the  ability  to  set  multiple  OCSP  responses per credential structure via the index  <u>idx</u> was added in
       version 3.5.6. To keep backwards compatibility, it requires using <b>gnutls_certificate_set_flags()</b> with the
       <b>GNUTLS_CERTIFICATE_API_V2</b> flag to make the set certificate functions  return  an  index  usable  by  this
       function.

</pre><h4><b>RETURNS</b></h4><pre>
       On success, <b>GNUTLS_E_SUCCESS</b> (0) is returned, otherwise a negative error code is returned.

</pre><h4><b>SINCE</b></h4><pre>
       3.5.5

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to &lt;<a href="mailto:bugs@gnutls.org">bugs@gnutls.org</a>&gt;.
       Home page: https://www.gnutls.org

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2001-2023 Free Software Foundation, Inc., and others.
       Copying  and distribution of this file, with or without modification, are permitted in any medium without
       royalty provided the copyright notice and this notice are preserved.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The full documentation for <b>gnutls</b> is maintained as  a  Texinfo  manual.   If  the  /usr/share/doc/gnutls/
       directory does not contain the HTML form visit

       https://www.gnutls.org/manual/

gnutls                                                3.8.9 <u><a href="../man3/gnutls_certificate_set_...tatus_request_function2.3.html">gnutls_certificate_set_...tatus_request_function2</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>