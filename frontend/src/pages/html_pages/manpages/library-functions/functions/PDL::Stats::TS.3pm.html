<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDL::Stats::TS -- basic time series functions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libpdl-stats-perl">libpdl-stats-perl_0.81-2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       PDL::Stats::TS -- basic time series functions

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The terms FUNCTIONS and METHODS are arbitrarily used to refer to methods that are threadable and methods
       that are NOT threadable, respectively. Plots require PDL::Graphics::PGPLOT.

       ***EXPERIMENTAL!*** In particular, bad value support is spotty and may be shaky. USE WITH DISCRETION!

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use PDL::LiteF;
           use PDL::NiceSlice;
           use PDL::Stats::TS;

           my $r = $data-&gt;<a href="../man5/acf.5.html">acf</a>(5);

</pre><h4><b>FUNCTIONS</b></h4><pre>
   <b>acf</b>
         Signature: (x(t); int h(); [o]r(h+1))

       Autocorrelation function for up to lag h. If h is not specified it's set to t-1 by default.

       acf does not process bad values.

       usage:

           perldl&gt; $a = sequence 10

           # lags 0 .. 5

           perldl&gt; p $a-&gt;<a href="../man5/acf.5.html">acf</a>(5)
           [1 0.7 0.41212121 0.14848485 -0.078787879 -0.25757576]

   <b>acvf</b>
         Signature: (x(t); int h(); [o]v(h+1))

       Autocovariance function for up to lag h. If h is not specified it's set to t-1 by default.

       acvf does not process bad values.

       usage:

           perldl&gt; $a = sequence 10

           # lags 0 .. 5

           perldl&gt; p $a-&gt;<a href="../man5/acvf.5.html">acvf</a>(5)
           [82.5 57.75 34 12.25 -6.5 -21.25]

           # autocorrelation

           perldl&gt; p $a-&gt;<a href="../man5/acvf.5.html">acvf</a>(5) / $a-&gt;<a href="../man0/acvf.0.html">acvf</a>(0)
           [1 0.7 0.41212121 0.14848485 -0.078787879 -0.25757576]

   <b>diff</b>
         Signature: (x(t); [o]dx(t))

       Differencing. DX(t) = X(t) - X(t-1), <b><a href="../man0/DX.0.html">DX</a></b>(0) = <a href="../man0/X.0.html">X</a>(0). Can be done inplace.

       diff does not process bad values.  It will set the bad-value flag of all output ndarrays if the flag is
       set for any of the input ndarrays.

   <b>inte</b>
         Signature: (x(n); [o]ix(n))

       Integration. Opposite of differencing. IX(t) = X(t) + X(t-1), <b><a href="../man0/IX.0.html">IX</a></b>(0) = <a href="../man0/X.0.html">X</a>(0). Can be done inplace.

       inte does not process bad values.  It will set the bad-value flag of all output ndarrays if the flag is
       set for any of the input ndarrays.

   <b>dseason</b>
         Signature: (x(t); indx d(); [o]xd(t))

       Deseasonalize data using moving average filter the size of period d.

       dseason processes bad values.  It will set the bad-value flag of all output ndarrays if the flag is set
       for any of the input ndarrays.

   <b>fill_ma</b>
         Signature: (x(t); int q(); [o]xf(t))

       Fill missing value with moving average. xf(t) = sum(x(t-q .. t-1, t+1 .. t+q)) / 2q.

       fill_ma does handle bad values. Output pdl bad flag is cleared unless the specified window size q is too
       small and there are still bad values.

         my $x_filled = $x-&gt;fill_ma( $q );

   <b>filter_exp</b>
         Signature: (x(t); a(); [o]xf(t))

       Filter, exponential smoothing. xf(t) = a * x(t) + (1-a) * xf(t-1)

       filter_exp does not process bad values.  It will set the bad-value flag of all output ndarrays if the
       flag is set for any of the input ndarrays.

   <b>filter_ma</b>
         Signature: (x(t); indx q(); [o]xf(t))

       Filter, moving average. xf(t) = sum(x(t-q .. t+q)) / (2q + 1)

       filter_ma does not process bad values.  It will set the bad-value flag of all output ndarrays if the flag
       is set for any of the input ndarrays.

   <b>mae</b>
         Signature: (a(n); b(n); float+ [o]c())

       Mean absolute error. MAE = 1/n * sum( abs(y - y_pred) )

       Usage:

           $mae = $y-&gt;mae( $y_pred );

       mae processes bad values.  It will set the bad-value flag of all output ndarrays if the flag is set for
       any of the input ndarrays.

   <b>mape</b>
         Signature: (a(n); b(n); float+ [o]c())

       Mean absolute percent error. MAPE = 1/n * sum(abs((y - y_pred) / y))

       Usage:

           $mape = $y-&gt;mape( $y_pred );

       mape processes bad values.  It will set the bad-value flag of all output ndarrays if the flag is set for
       any of the input ndarrays.

   <b>wmape</b>
         Signature: (a(n); b(n); float+ [o]c())

       Weighted mean absolute percent error. avg(abs(error)) / avg(abs(data)). Much more robust compared to mape
       with division by zero error (cf. Schütz, W., &amp; Kolassa, 2006).

       Usage:

           $wmape = $y-&gt;wmape( $y_pred );

       wmape processes bad values.  It will set the bad-value flag of all output ndarrays if the flag is set for
       any of the input ndarrays.

   <b>portmanteau</b>
         Signature: (r(h); longlong t(); [o]Q())

       Portmanteau significance test (Ljung-Box) for autocorrelations.

       Usage:

           perldl&gt; $a = sequence 10

           # acf for lags 0-5
           # lag 0 excluded from portmanteau

           perldl&gt; p $chisq = $a-&gt;<a href="../man5/acf.5.html">acf</a>(5)-&gt;portmanteau( $a-&gt;nelem )
           11.1753902662994

           # get p-value from chisq distr

           perldl&gt; use PDL::GSL::CDF
           perldl&gt; p 1 - gsl_cdf_chisq_P( $chisq, 5 )
           0.0480112934306748

       portmanteau does not process bad values.  It will set the bad-value flag of all output ndarrays if the
       flag is set for any of the input ndarrays.

   <b>pred_ar</b>
         Signature: (x(d); b(p|p+1); int t(); [o]pred(t))

       Calculates predicted values up to period t (extend current series up to period t) for autoregressive
       series, with or without constant. If there is constant, it is the last element in b, as would be returned
       by ols or ols_t.

       pred_ar does not process bad values.

         CONST  =&gt; 1,

       Usage:

           perldl&gt; $x = sequence 2

             # last element is constant
           perldl&gt; $b = pdl(.8, -.2, .3)

           perldl&gt; p $x-&gt;pred_ar($b, 7)
           [0       1     1.1    0.74   0.492  0.3656 0.31408]

             # no constant
           perldl&gt; p $x-&gt;pred_ar($b(0:1), 7, {const=&gt;0})
           [0       1     0.8    0.44   0.192  0.0656 0.01408]

   <b>season_m</b>
       Given length of season, returns seasonal mean and var for each period (returns seasonal mean only in
       scalar context).

       Default options (case insensitive):

           START_POSITION =&gt; 0,     # series starts at this position in season
           MISSING        =&gt; -999,  # internal mark for missing points in season
           PLOT  =&gt; 0,              # boolean
             # see PDL::Graphics::PGPLOT::Window for next options
           WIN   =&gt; undef,          # pass pgwin object for more plotting control
           DEV   =&gt; '/xs',          # open and close dev for plotting if no WIN
                                    # defaults to '/png' in Windows
           COLOR =&gt; 1,

       See PDL::Graphics::PGPLOT for detailed graphing options.

           my ($m, $ms) = $data-&gt;season_m( 24, { START_POSITION=&gt;2 } );

   <b>plot_dseason</b>
       Plots deseasonalized data and original data points. Opens and closes default window for plotting unless a
       pgwin object is passed in options. Returns deseasonalized data.

       Default options (case insensitive):

           WIN   =&gt; undef,
           DEV   =&gt; '/xs',    # open and close dev for plotting if no WIN
                              # defaults to '/png' in Windows
           COLOR =&gt; 1,        # data point color

       See PDL::Graphics::PGPLOT for detailed graphing options.

</pre><h4><b>METHODS</b></h4><pre>
   <b>plot_acf</b>
       Plots and returns autocorrelations for a time series.

       Default options (case insensitive):

           SIG  =&gt; 0.05,      # can specify .10, .05, .01, or .001
           DEV  =&gt; '/xs',     # open and close dev for plotting
                              # defaults to '/png' in Windows

       Usage:

           perldl&gt; $a = sequence 10

           perldl&gt; p $r = $a-&gt;<a href="../man5/plot_acf.5.html">plot_acf</a>(5)
           [1 0.7 0.41212121 0.14848485 -0.078787879 -0.25757576]

</pre><h4><b>REFERENCES</b></h4><pre>
       Brockwell, P.J., &amp; Davis, R.A. (2002). Introcution to Time Series and Forecasting (2nd ed.). New York,
       NY: Springer.

       Schütz, W., &amp; Kolassa, S. (2006). Foresight: advantages of the MAD/Mean ratio over the MAPE. Retrieved
       Jan 28, 2010, from <a href="http://www.saf-ag.com/226">http://www.saf-ag.com/226</a>+M5965d28cd19.html

</pre><h4><b>AUTHOR</b></h4><pre>
       Copyright (C) 2009 Maggie J. Xiong &lt;maggiexyz users.sourceforge.net&gt;

       All rights reserved. There is no warranty. You are allowed to redistribute this software / documentation
       as described in the file COPYING in the PDL distribution.

perl v5.34.0                                       2022-02-06                                            <u><a href="../man3pm/TS.3pm.html">TS</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>