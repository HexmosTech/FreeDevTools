<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>coap_string, coap_new_string, coap_delete_string, coap_new_str_const, coap_delete_str_const,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcoap3t64">libcoap3t64_4.3.4-1.1build4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       coap_string, coap_new_string, coap_delete_string, coap_new_str_const, coap_delete_str_const,
       coap_new_binary, coap_delete_binary, coap_resize_binary, coap_new_bin_const, coap_delete_bin_const,
       coap_make_str_const, coap_string_equal, coap_binary_equal - Work with CoAP string functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;coap3/coap.h&gt;</b>

       <b>coap_string_t</b> <b>*coap_new_string(size_t</b> <u>size</u><b>);</b>

       <b>void</b> <b>coap_delete_string(coap_string_t</b> <b>*</b><u>string</u><b>);</b>

       <b>coap_str_const_t</b> <b>*coap_new_str_const(const</b> <b>uint8_t</b> <b>*</b><u>data</u><b>,</b> <b>size_t</b> <u>size</u><b>);</b>

       <b>void</b> <b>coap_delete_str_const(coap_str_const_t</b> <b>*</b><u>string</u><b>);</b>

       <b>coap_str_const_t</b> <b>*coap_make_str_const(const</b> <b>char</b> <b>*</b><u>string</u><b>);</b>

       <b>int</b> <b>coap_string_equal(coap_string_t</b> <b>*</b><u>string1</u><b>,</b> <b>coap_string_t</b> <b>*</b><u>string2</u><b>);</b>

       <b>coap_binary_t</b> <b>*coap_new_binary(size_t</b> <u>size</u><b>);</b>

       <b>void</b> <b>coap_delete_binary(coap_binary_t</b> <b>*</b><u>binary</u><b>);</b>

       <b>coap_binary_t</b> <b>*coap_resize_binary(coap_binary_t</b> <b>*</b><u>binary</u><b>,</b> <b>size_t</b> <u>new_size</u><b>);</b>

       <b>coap_bin_const_t</b> <b>*coap_new_bin_const(const</b> <b>uint8_t</b> <b>*</b><u>data</u><b>,</b> <b>size_t</b> <u>size</u><b>);</b>

       <b>void</b> <b>coap_delete_bin_const(coap_bin_const_t</b> <b>*</b><u>binary</u><b>);</b>

       <b>int</b> <b>coap_binary_equal(coap_binary_t</b> <b>*</b><u>binary1</u><b>,</b> <b>coap_binary_t</b> <b>*</b><u>binary2</u><b>);</b>

       For specific (D)TLS library support, link with <b>-lcoap-3-notls</b>, <b>-lcoap-3-gnutls</b>, <b>-lcoap-3-openssl</b>,
       <b>-lcoap-3-mbedtls</b> or <b>-lcoap-3-tinydtls</b>. Otherwise, link with <b>-lcoap-3</b> to get the default (D)TLS library
       support.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       There is support for storing strings (usually readable data) and for storing binary data. These are used
       by a number of functions and provide the information in some of the callbacks.

       There are 4 supported string/binary types as follows

           /*
            * Coap string data definition
            */
           typedef struct coap_string_t {
             size_t length;    /* length of string */
             uint8_t *s;       /* string data */
           } coap_string_t;

           /*
            * Coap string data definition with const data
            */
           typedef struct coap_str_const_t {
             size_t length;    /* length of string */
             const uint8_t *s; /* read-only string data */
           } coap_str_const_t;

           /*
            * Coap binary data definition
            */
           typedef struct coap_binary_t {
             size_t length;    /* length of binary data */
             uint8_t *s;       /* binary data */
           } coap_binary_t;

           /*
            * Coap binary data definition with const data
            */
           typedef struct coap_bin_const_t {
             size_t length;    /* length of binary data */
             const uint8_t *s; /* read-only binary data */
           } coap_bin_const_t;

</pre><h4><b>FUNCTIONS</b></h4><pre>
       <b>Function:</b> <b>coap_new_string()</b>

       The <b>coap_new_string</b>() function allocates a new coap_string_t of <u>size</u> where <u>s</u> points to uninitialized data
       of length <u>size</u> with an extra trailing NULL at <u>size</u> + 1. <u>length</u> is set to <u>size</u>.

       <b>Function:</b> <b>coap_delete_string()</b>

       The <b>coap_delete_string</b>() function is used to delete the coap_string_t created by <b>coap_new_string</b>().

       <b>Function:</b> <b>coap_new_str_const()</b>

       The <b>coap_new_str_const</b>() function allocates a coap_str_const_t of <u>size</u> where <u>s</u> is filled in with <u>data</u> and
       has a trailing NULL added. <u>length</u> is set to <u>size</u>. <u>s</u> is read-only.

       <b>Function:</b> <b>coap_delete_str_const()</b>

       The <b>coap_delete_str_const</b>() function is used to delete the coap_str_const_t created by
       <b>coap_new_str_const</b>().

       <b>Function:</b> <b>coap_make_str_const()</b>

       The <b>coap_make_str_const</b>() function is used to take some read-only text and uses a static coap_str_const_t
       for use in different function calls. There are two static entries that are cycled through so that a
       single function call can call <b>coap_make_str_const</b>() twice.

       <b>Function:</b> <b>coap_string_equal()</b>

       The <b>coap_string_equal</b>() function is used to compare two different string objects <u>string1</u> and <u>string2</u>.

       <b>Function:</b> <b>coap_new_binary()</b>

       The <b>coap_new_binary</b>() function allocates a new coap_binary_t of <u>size</u> where <u>s</u> points to uninitialized data
       of length <u>size</u>. <u>length</u> is set to <u>size</u>.

       <b>Function:</b> <b>coap_resize_binary()</b>

       The <b>coap_resize_binary</b>() function is used resize the size of <u>s</u> to the new size of <u>new_size</u>. The data
       between the old <u>length</u> and the <u>new_size</u> is unitialized. <u>length</u> is set to <u>new_size</u>.

       <b>Function:</b> <b>coap_delete_binary()</b>

       The <b>coap_delete_binary</b>() function is used to delete the coap_binary_t created by <b>coap_new_binary</b>().

       <b>Function:</b> <b>coap_new_bin_const()</b>

       The <b>coap_new_bin_const</b>() function allocates a coap_bin_const_t of <u>size</u> where <u>s</u> is filled in with in with
       <u>data</u> and has a trailing NULL added. <u>length</u> is set to <u>size</u>. <u>s</u> is read-only.

       <b>Function:</b> <b>coap_delete_bin_const()</b>

       The <b>coap_delete_bin_const</b>() function is used to delete the coap_bin_const_t created by
       <b>coap_new_bin_const</b>().

       <b>Function:</b> <b>coap_binary_equal()</b>

       The <b>coap_binary_equal</b>() function is used to compare two different binary objects <u>binary1</u> and <u>binary2</u>.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>coap_new_string</b>() returns a pointer to an allocated coap_string_t or NULL if there was a failure.

       <b>coap_new_str_const</b>() returns a pointer to an allocated coap_str_const_t or NULL if there was a failure.

       <b>coap_make_str_const</b>() returns a pointer to a structure in static memory that has a pointer to the
       provided string.

       <b>coap_new_binary</b>() returns a pointer to an allocated coap_binary_t or NULL if there was a failure.

       <b>coap_resize_binary</b>() returns a pointer to an re-allocated coap_binary_t or NULL if there was a failure.

       <b>coap_new_bin_const</b>() returns a pointer to an allocated coap_bin_const_t or NULL if there was a failure.

       <b>coap_string_equal</b>() and <b>coap_binary_equal</b>() return 1 on a precise match, else 0.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/coap_attribute.3.html">coap_attribute</a></b>(3), <b><a href="../man3/coap_context.3.html">coap_context</a></b>(3), <b><a href="../man3/coap_handler.3.html">coap_handler</a></b>(3), <b><a href="../man3/coap_pdu_setup.3.html">coap_pdu_setup</a></b>(3) and <b><a href="../man3/coap_resource.3.html">coap_resource</a></b>(3)

</pre><h4><b>FURTHER</b> <b>INFORMATION</b></h4><pre>
       See

       "RFC7252: The Constrained Application Protocol (CoAP)"

       for further information.

</pre><h4><b>BUGS</b></h4><pre>
       Please report bugs on the mailing list for libcoap: <a href="mailto:libcoap-developers@lists.sourceforge.net">libcoap-developers@lists.sourceforge.net</a> or raise an
       issue on GitHub at https://github.com/obgm/libcoap/issues

</pre><h4><b>AUTHORS</b></h4><pre>
       The libcoap project &lt;<a href="mailto:libcoap-developers@lists.sourceforge.net">libcoap-developers@lists.sourceforge.net</a>&gt;

coap_string 4.3.4                                  04/15/2024                                     <u><a href="../man3/COAP_STRING.3.html">COAP_STRING</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>