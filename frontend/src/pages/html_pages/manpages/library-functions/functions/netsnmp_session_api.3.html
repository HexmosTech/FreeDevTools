<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>snmp_sess_init,   snmp_open,   snmp_send,  snmp_async_send,  snmp_select_info,  snmp_read,  snmp_timeout,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsnmp-dev">libsnmp-dev_5.9.4+dfsg-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       snmp_sess_init,   snmp_open,   snmp_send,  snmp_async_send,  snmp_select_info,  snmp_read,  snmp_timeout,
       snmp_synch_response,  snmp_close,  snmp_perror,  snmp_sess_perror,   snmp_error,   snmp_api_errstring   -
       netsnmp_session_api functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;net-snmp/session_api.h&gt;</b>

       <b>void</b> <b>snmp_sess_init</b> <b>(</b> <b>netsnmp_session*</b><u>sess</u><b>);</b>

       <b>netsnmp_session*</b> <b>snmp_open</b> <b>(</b> <b>netsnmp_session</b> <b>*</b><u>sess</u><b>);</b>
              <u>/*</u> <u>Input</u> <u>parameter</u> <u>not</u> <u>used</u> <u>in</u> <u>active</u> <u>sessions</u> <u>*/</u>

       <b>int</b> <b>snmp_send</b> <b>(</b> <b>netsnmp_session</b> <b>*</b><u>session,</u>
              <b>netsnmp_pdu</b> <b>*</b><u>pdu</u><b>);</b>

       <b>int</b> <b>snmp_async_send</b> <b>(</b> <b>netsnmp_session</b> <b>*</b><u>session,</u>
                                       <b>netsnmp_pdu</b> <b>*</b><u>pdu</u><b>,</b>
                                       <b>snmp_callback</b> <u>callback</u><b>,</b>
                                       <b>void</b> <b>*</b><u>callbackData</u><b>);</b>

       <b>int</b> <b>snmp_select_info</b> <b>(</b> <b>int</b> <b>*</b> <u>numfds,</u><b>fd_set</b> <b>*</b><u>fdset,</u>
              <b>struct</b> <b>timeval</b> <b>*</b><u>timeout,</u><b>int</b> <b>*</b><u>block</u><b>);</b>

       <b>void</b> <b>snmp_read</b> <b>(</b> <b>fd_set</b> <b>*</b><u>fdset</u><b>);</b>

       <b>void</b> <b>snmp_timeout</b> <b>(</b> <b>void</b> <b>);</b>

       <b>int</b> <b>snmp_synch_response</b> <b>(</b> <b>netsnmp_session</b> <b>*</b><u>session,</u>
              <b>netsnmp_pdu</b> <b>*</b><u>pdu</u><b>,</b>
              <b>netsnmp_pdu</b> <b>**</b><u>response</u><b>);</b>

       <b>int</b> <b>snmp_close</b> <b>(</b> <b>netsnmp_session</b> <b>*</b><u>session</u><b>);</b>
       <b>int</b> <b>snmp_close_sessions</b> <b>(</b> <b>void</b> <b>);</b>

   <b>Error</b> <b>Reporting</b>
       <u>(Move</u> <u>to</u> <u><a href="../man3/output_api.3.html">output_api</a>(3))</u>
       <b>void</b> <b>snmp_error</b> <b>(</b> <b>netsnmp_session</b> <b>*session,</b>
              <b>int</b> <b>*</b><u>pcliberr,</u><b>int</b> <b>*</b><u>psnmperr,</u><b>char</b> <b>**</b><u>pperrstring</u><b>);</b>

       <b>char</b> <b>*snmp_api_errstring</b> <b>(</b> <b>int</b><u>snmperr</u><b>);</b>

       <b>void</b> <b>snmp_perror</b> <b>(</b> <b>char</b> <b>*</b><u>msg</u><b>);</b>
              <u>/*</u> <u>for</u> <u>parsing</u> <u>errors</u> <u>only</u> <u>*/</u>

       <b>void</b> <b>snmp_sess_perror</b> <b>(char</b> <b>*</b><u>msg,</u><b>netsnmp_session</b> <b>*</b><u>sess</u><b>);</b>
              <u>/*</u> <u>all</u> <u>other</u> <u>SNMP</u> <u>library</u> <u>errors</u> <u>*/</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>Snmp_sess_init</u>  prepares  a netsnmp_session that sources transport characteristics and common information
       that will be used for a set of SNMP transactions.  After this structure is passed to <u>snmp_open</u> to  create
       an SNMP session, the structure is not used.

       <u>Snmp_open</u>  returns  a pointer to a newly-formed <u>netsnmp_session</u> object, which the application must use to
       reference the active SNMP session.

       <u>snmp_send</u> and <u>snmp_async_send()</u> each take as input a pointer to a  <u>netsnmp_pdu</u>  object.   This  structure
       contains information that describes a transaction that will be performed over an open session.

       Consult snmp_api.h for the definitions of these structures.

       With  the  <u>snmp_async_send()</u>  call,  <u>snmp_read</u>  will  invoke  the specified callback when the response is
       received.

       <u>Snmp_read,</u> <u>snmp_select_info,</u> and <u>snmp_timeout</u> provide an interface for the use of  the  <u><a href="../man2/select.2.html">select</a>(2)</u>  system
       call so that SNMP transactions can occur asynchronously.

       <u>Snmp_select_info</u>  is  given the information that would have been passed to <u>select</u> in the absence of SNMP.
       For example, this might include window update information.  This information is  modified  so  that  SNMP
       will  get  the  service  it  requires  from the call to <u>select.</u>  In this case, <u>numfds,</u> <u>fdset,</u> and <u>timeout</u>
       correspond to the <u>nfds,</u> <u>readfds,</u> and <u>timeout</u> arguments to <u>select,</u> respectively.  The  only  exception  is
       that  timeout  must  always point to an allocated (but perhaps uninitialized) <u>struct</u> <u>timeval.</u>  If <u>timeout</u>
       would have been passed as NULL, <u>block</u> is set to true, and <u>timeout</u> is treated  as  undefined.   This  same
       rule applies upon return from <u>snmp_select_info.</u>

       After  calling <u>snmp_select_info,</u> <u>select</u> is called with the returned data.  When select returns, <u>snmp_read</u>
       should be called with the <u>fd_set</u> returned from <u>select</u> to read each SNMP socket that has input.  If <u>select</u>
       times out, <u>snmp_timeout</u> should be called to see if the timeout was intended for SNMP.

       <u>snmp_synch_response</u> is a convenience routine that will send  the  request,  wait  for  the  response  and
       process it before returning.  See the descriptions of <u>snmp_send</u> <u>,</u>  <u>snmp_read</u> etc for details.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Previous  versions  of  the  library used <u>snmp_get_errno</u> to read the global variable <u>snmp_errno</u> which may
       have held the error status within the SNMP library.  The existing method <u>snmp_perror</u> should  be  used  to
       log ASN.1 coding errors only.

       The  new  method  <u>snmp_sess_perror</u>  is  provided  to capture errors that occur during the processing of a
       particular SNMP session.  <u>Snmp_sess_perror</u> calls <u>snmp_error</u> function to  obtain  the  "C"  library  error
       <u>errno</u>  ,  the SNMP library error <u>snmperr</u> , and the SNMP library detailed error message that is associated
       with an error that occurred during a given session.

       Note that in all cases except one, <u>snmp_sess_perror</u>  should  be  handed  the  <u>netsnmp_session</u>  <u>*</u>  pointer
       returned  from  <u>snmp_open.</u>  If <u>snmp_open</u> returns a null pointer, pass the INPUT <u>netsnmp_session</u> <u>*</u> pointer
       used to call <u>snmp_open.</u>

       Error return status from <u>snmp_close</u> and <u>snmp_send</u> is indicated by return of 0.  A successful status  will
       return  a  1  for <u>snmp_close</u> and the request id of the packet for <u>snmp_send.</u>  Upon successful return from
       <u>snmp_send</u> the pdu will be freed by the library.

       Consult snmp_api.h for the complete set of SNMP library error  values.   The  SNMP  library  error  value
       <u>snmperr</u> can be one of the following values:

         SNMPERR_GENERR           A generic error occurred.

         SNMPERR_BAD_LOCPORT      The local port was bad because it had already been allocated or permission was
                                  denied.

         SNMPERR_BAD_ADDRESS      The host name or address given was not useable.

         SNMPERR_BAD_SESSION      The specified session was not open.

         SNMPERR_TOO_LONG

         SNMPERR_NO_SOCKET

         SNMPERR_V2_IN_V1

         SNMPERR_V1_IN_V2

         SNMPERR_BAD_REPEATERS

         SNMPERR_BAD_REPETITIONS

         SNMPERR_BAD_ASN1_BUILD

         SNMPERR_BAD_SENDTO

         SNMPERR_BAD_PARSE

         SNMPERR_BAD_VERSION

         SNMPERR_NOAUTH_DESPRIV

         SNMPERR_ABORT

         SNMPERR_UNKNOWN_PDU

         SNMPERR_TIMEOUT

       A  string  representation of the error code can be obtained with <u>snmp_api_errstring</u>, and a standard error
       message may be printed using <u>snmp_perror</u> that functions like the <u>perror</u> standard routine.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man2/select.2.html">select</a>(2),   <a href="../man3/netsnmp_sess_api.3.html">netsnmp_sess_api</a>(3),   <a href="../man3/netsnmp_mib_api.3.html">netsnmp_mib_api</a>(3),    <a href="../man3/netsnmp_pdu_api.3.html">netsnmp_pdu_api</a>(3),    <a href="../man3/netsnmp_varbind_api.3.html">netsnmp_varbind_api</a>(3),
       snmp_api.h

V5.9.4.pre2                                        19 May 2011                            <u><a href="../man3/NETSNMP_SESSION_API.3.html">NETSNMP_SESSION_API</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>