<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>globus_gsi_sysconfig_unix - Functions for UNIX platforms</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libglobus-gsi-sysconfig-doc">libglobus-gsi-sysconfig-doc_9.6-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       globus_gsi_sysconfig_unix - Functions for UNIX platforms

        - Functions for UNIX platforms.

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Functions</b>
       globus_result_t <b>globus_gsi_sysconfig_set_key_permissions_unix</b> (char *filename)
           UNIX - Set Key Permissions.
       globus_result_t <b>globus_gsi_sysconfig_get_user_id_string_unix</b> (char **user_id_string)
           UNIX - Get User ID.
       globus_result_t <b>globus_gsi_sysconfig_get_username_unix</b> (char **username)
           UNIX - Get Username.
       globus_result_t <b>globus_gsi_sysconfig_get_proc_id_string_unix</b> (char **proc_id_string)
           UNIX - Get Process ID.
       globus_result_t <b>globus_gsi_sysconfig_make_absolute_path_for_filename_unix</b> (char *filename, char
           **absolute_path)
           UNIX - Make Absolute Path.
       globus_result_t <b>globus_gsi_sysconfig_split_dir_and_filename_unix</b> (char *full_filename, char **dir_string,
           char **filename_string)
           UNIX - Split Directory and Filename.
       globus_result_t <b>globus_gsi_sysconfig_get_current_working_dir_unix</b> (char **working_dir)
           UNIX - Get Current Working Directory.
       globus_result_t <b>globus_gsi_sysconfig_get_home_dir_unix</b> (char **home_dir)
           UNIX - Get HOME Directory

       Get the HOME Directory of the current user. Should be the $HOME environment variable. "
   globus_result_t <b>globus_gsi_sysconfig_file_exists_unix</b> (const char *filename)
       UNIX - File Exists.
   globus_result_t <b>globus_gsi_sysconfig_dir_exists_unix</b> (const char *filename)
       UNIX - Directory Exists.
   globus_result_t <b>globus_gsi_sysconfig_check_keyfile_unix</b> (const char *filename)
       UNIX - Check File Status for Key.
   globus_result_t <b>globus_gsi_sysconfig_check_keyfile_uid_unix</b> (const char *filename, uid_t uid)
       UNIX - Check File Status for Key.
   globus_result_t <b>globus_gsi_sysconfig_check_certfile_unix</b> (const char *filename)
       UNIX - Check File Status for Cert.
   globus_result_t <b>globus_gsi_sysconfig_check_certfile_uid_unix</b> (const char *filename, uid_t uid)
       UNIX - Check File Status for Cert.
   globus_result_t <b>globus_gsi_sysconfig_get_cert_dir_unix</b> (char **cert_dir)
       UNIX - Get Trusted CA Cert Dir.
   globus_result_t <b>globus_gsi_sysconfig_get_user_cert_filename_unix</b> (char **user_cert, char **user_key)
       UNIX - Get User Certificate and Key Filenames.
   globus_result_t <b>globus_gsi_sysconfig_get_host_cert_filename_unix</b> (char **host_cert, char **host_key)
       UNIX - Get Host Certificate and Key Filenames.
   globus_result_t <b>globus_gsi_sysconfig_get_service_cert_filename_unix</b> (char *service_name, char **service_cert,
       char **service_key)
       UNIX - Get Service Certificate and Key Filenames.
   globus_result_t <b>globus_gsi_sysconfig_get_proxy_filename_unix</b> (char **user_proxy, <b>globus_gsi_proxy_file_type_t</b>
       proxy_file_type)
       UNIX - Get Proxy Filename.
   globus_result_t <b>globus_gsi_sysconfig_get_signing_policy_filename_unix</b> (X509_NAME *ca_name, char *cert_dir,
       char **signing_policy_filename)
       UNIX - Get Signing Policy Filename.
   globus_result_t <b>globus_gsi_sysconfig_get_ca_cert_files_unix</b> (char *ca_cert_dir, globus_fifo_t *ca_cert_list)
       UNIX - Get CA Cert Filenames.
   globus_result_t <b>globus_gsi_sysconfig_remove_all_owned_files_unix</b> (char *default_filename)
       UNIX - Remove all proxies owned by current uid.
   globus_result_t <b>globus_gsi_sysconfig_is_superuser_unix</b> (int *is_superuser)
       UNIX - Check if the current user is root.
   globus_result_t <b>globus_gsi_sysconfig_get_gridmap_filename_unix</b> (char **filename)
       UNIX - Get the path and file name of the grid map file.
   globus_result_t <b>globus_gsi_sysconfig_get_authz_conf_filename_unix</b> (char **filename)
       UNIX - Get the path of authorization callback configuration.
   globus_result_t <b>globus_gsi_sysconfig_get_authz_lib_conf_filename_unix</b> (char **filename)
       UNIX - Get the path and file name of the authorization callback configuration file.
   globus_result_t <b>globus_gsi_sysconfig_get_gaa_conf_filename_unix</b> (char **filename)
       UNIX - Get the path and file name of the gaa configuration file.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Functions for UNIX platforms.

       These functions implement the UNIX version of the Globus GSI System Configuration API. <b>They</b> <b>should</b> <b>never</b>
       <b>be</b> <b>called</b> <b>directly,</b> <b>please</b> <b>use</b> <b>the</b> <b>provided</b> <b>platform</b> <b>independent</b> <b>defines.</b>

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>globus_result_t</b> <b>globus_gsi_sysconfig_check_certfile_uid_unix</b> <b>(const</b> <b>char</b> <b>*</b> <b>filename,</b> <b>uid_t</b> <b>uid)</b>
       UNIX - Check File Status for Cert. This is a convenience function used to check the status of a
       certificate file. The desired status is the current user has ownership and read/write permissions, while
       group and others only have read permissions.

       <b>Parameters</b>
           <u>filename</u> The name of the file to check the status of
           <u>uid</u> The user id that may be the owner of the file

       <b>Returns</b>
           GLOBUS_SUCCESS if the status of the file was able to be determined. Otherwise, an error object
           identifier

   <b>globus_result_t</b> <b>globus_gsi_sysconfig_check_certfile_unix</b> <b>(const</b> <b>char</b> <b>*</b> <b>filename)</b>
       UNIX - Check File Status for Cert. This is a convenience function used to check the status of a
       certificate file. The desired status is the current user has ownership and read/write permissions, while
       group and others only have read permissions.

       <b>Parameters</b>
           <u>filename</u> The name of the file to check the status of

       <b>Returns</b>
           GLOBUS_SUCCESS if the status of the file was able to be determined. Otherwise, an error object
           identifier

   <b>globus_result_t</b> <b>globus_gsi_sysconfig_check_keyfile_uid_unix</b> <b>(const</b> <b>char</b> <b>*</b> <b>filename,</b> <b>uid_t</b> <b>uid)</b>
       UNIX - Check File Status for Key. This is a convenience function used to check the status of a private
       key file. The desired status is only the specified user has ownership and read permissions, everyone else
       should not be able to access it.

       <b>Parameters</b>
           <u>filename</u> The name of the file to check the status of
           <u>uid</u> The owner of the file to check the status of

       <b>Returns</b>
           GLOBUS_SUCCESS if the status of the file was able to be determined. Otherwise, an error object
           identifier

   <b>globus_result_t</b> <b>globus_gsi_sysconfig_check_keyfile_unix</b> <b>(const</b> <b>char</b> <b>*</b> <b>filename)</b>
       UNIX - Check File Status for Key. This is a convenience function used to check the status of a private
       key file. The desired status is only the current user has ownership and read permissions, everyone else
       should not be able to access it.

       <b>Parameters</b>
           <u>filename</u> The name of the file to check the status of

       <b>Returns</b>
           GLOBUS_SUCCESS if the status of the file was able to be determined. Otherwise, an error object
           identifier

   <b>globus_result_t</b> <b>globus_gsi_sysconfig_dir_exists_unix</b> <b>(const</b> <b>char</b> <b>*</b> <b>filename)</b>
       UNIX - Directory Exists. Check if the directory exists

       <b>Parameters</b>
           <u>filename</u> The filename of the directory to check for

       <b>Returns</b>
           GLOBUS_SUCCESS if the directory exists, otherwise an error object identifier.

   <b>globus_result_t</b> <b>globus_gsi_sysconfig_file_exists_unix</b> <b>(const</b> <b>char</b> <b>*</b> <b>filename)</b>
       UNIX - File Exists. Check if the file exists

       <b>Parameters</b>
           <u>filename</u> The filename of the file to check for

       <b>Returns</b>
           GLOBUS_SUCCESS if the file exists and is readable, otherwise an error object identifier

   <b>globus_result_t</b> <b>globus_gsi_sysconfig_get_authz_conf_filename_unix</b> <b>(char</b> <b>**</b> <b>filename)</b>
       UNIX - Get the path of authorization callback configuration. Get the path and file name of the
       authorization callback configuration file

       <b>Parameters</b>
           <u>filename</u> Contains the location of the authorization callback configuration file upon successful
           return

       <b>Returns</b>
           GLOBUS_SUCCESS if no error occurred, otherwise an error object ID is returned

   <b>globus_result_t</b> <b>globus_gsi_sysconfig_get_authz_lib_conf_filename_unix</b> <b>(char</b> <b>**</b> <b>filename)</b>
       UNIX - Get the path and file name of the authorization callback configuration file. Get the path and file
       name of the authorization callback configuration file

       <b>Parameters</b>
           <u>filename</u> Contains the location of the authorization callback configuration file upon successful
           return

       <b>Returns</b>
           GLOBUS_SUCCESS if no error occurred, otherwise an error object ID is returned

   <b>globus_result_t</b> <b>globus_gsi_sysconfig_get_ca_cert_files_unix</b> <b>(char</b> <b>*</b> <b>ca_cert_dir,</b> <b>globus_fifo_t</b> <b>*</b>
       <b>ca_cert_list)</b>
       UNIX - Get CA Cert Filenames. Gets a list of trusted CA certificate filenames in a trusted CA certificate
       directory.

       <b>Parameters</b>
           <u>ca_cert_dir</u> The trusted CA certificate directory to get the filenames from
           <u>ca_cert_list</u> The resulting list of CA certificate filenames. This is a a globus list structure.

       <b>See</b> <b>also</b>
           globus_fifo_t

       <b>Returns</b>
           GLOBUS_SUCCESS if no error occurred, otherwise an error object ID is returned

   <b>globus_result_t</b> <b>globus_gsi_sysconfig_get_cert_dir_unix</b> <b>(char</b> <b>**</b> <b>cert_dir)</b>
       UNIX - Get Trusted CA Cert Dir. Get the Trusted Certificate Directory containing the trusted Certificate
       Authority certificates. This directory is determined in the order shown below. Failure in one method
       results in attempting the next.

       1.  <b>X509_CERT_DIR</b> <b>environment</b> <b>variable</b> - if this is set, the trusted certificates will be searched for in
           that directory. This variable allows the end user to specify the location of trusted certificates.
       2.  <b>$HOME/.globus/certificates</b>  -  If  this directory exists, and the previous methods of determining the
           trusted certs directory failed, this directory will be used.

       3.  <b>/etc/grid-security/certificates</b> -  This  location  is  intended  to  be  independent  of  the  globus
           installation ($GLOBUS_LOCATION), and is generally only writeable by the host system administrator.

       4.  <b>$GLOBUS_LOCATION/share/certificates</b>
       <b>Parameters</b>
           <u>cert_dir</u> The trusted certificates directory
       <b>Returns</b>
           GLOBUS_SUCCESS  if  no  error  occurred,  and  a sufficient trusted certificates directory was found.
           Otherwise, an error object identifier returned.
   <b>globus_result_t</b> <b>globus_gsi_sysconfig_get_current_working_dir_unix</b> <b>(char</b> <b>**</b> <b>working_dir)</b>
       UNIX - Get Current Working Directory. Get the current working directory on the system.
       <b>Parameters</b>
           <u>working_dir</u> The current working directory
       <b>Returns</b>
           GLOBUS_SUCCESS or an error object identifier
   <b>globus_result_t</b> <b>globus_gsi_sysconfig_get_gaa_conf_filename_unix</b> <b>(char</b> <b>**</b> <b>filename)</b>
       UNIX - Get the path and file name of the gaa configuration file. Get the path and file name  of  the  GAA
       configuration file
       <b>Parameters</b>
           <u>filename</u> Contains the location of the GAA callback configuration file upon successful return
       <b>Returns</b>
           GLOBUS_SUCCESS if no error occurred, otherwise an error object ID is returned
   <b>globus_result_t</b> <b>globus_gsi_sysconfig_get_gridmap_filename_unix</b> <b>(char</b> <b>**</b> <b>filename)</b>
       UNIX - Get the path and file name of the grid map file. Get the path and file name of the grid map file.
       <b>Parameters</b>
           <u>filename</u> Contains the location of the grid map file upon successful return
       <b>Returns</b>
           GLOBUS_SUCCESS if no error occurred, otherwise an error object ID is returned
   <b>globus_result_t</b> <b>globus_gsi_sysconfig_get_home_dir_unix</b> <b>(char</b> <b>**</b> <b>home_dir)</b>
       UNIX - Get HOME Directory
       Get the HOME Directory of the current user. Should be the $HOME environment variable.
       <b>Parameters</b>
           <u>home_dir</u> The home directory of the current user
       <b>Returns</b>
           GLOBUS_SUCCESS if no error occurred, otherwise an error object is returned.
   <b>globus_result_t</b> <b>globus_gsi_sysconfig_get_host_cert_filename_unix</b> <b>(char</b> <b>**</b> <b>host_cert,</b> <b>char</b> <b>**</b> <b>host_key)</b>
       UNIX  -  Get  Host Certificate and Key Filenames. Get the Host Certificate and Key Filenames based on the
       current user's environment. The host cert and key are searched for in the following locations (in order):
       1.  X509_USER_CERT and X509_USER_KEY environment variables
       2.  <u>$GLOBUS_LOCATION</u>/etc/host[cert|key].pem
       3.  <u>$HOME</u>/.globus/host[cert|key].pem
       <b>Parameters</b>
           <u>host_cert</u> pointer to the host certificate filename
           <u>host_key</u> pointer to the host key filename
       <b>Returns</b>
           GLOBUS_SUCCESS if the host cert and key were found, otherwise an error object identifier is returned
   <b>globus_result_t</b> <b>globus_gsi_sysconfig_get_proc_id_string_unix</b> <b>(char</b> <b>**</b> <b>proc_id_string)</b>
       UNIX - Get Process ID. Get a unique string representing  the  current  process.  This  is  just  the  pid
       converted to a string.
       <b>Parameters</b>
           <u>proc_id_string</u> A unique string representing the process
       <b>Returns</b>
           GLOBUS_SUCCESS unless an error occurred
   <b>globus_result_t</b>        <b>globus_gsi_sysconfig_get_proxy_filename_unix</b>        <b>(char</b>        <b>**</b>        <b>user_proxy,</b>
       <b>globus_gsi_proxy_file_type_t</b> <b>proxy_file_type)</b>
       UNIX - Get Proxy Filename. Get the proxy cert filename based on the following search order:
       1.  X509_USER_PROXY environment variable - This environment variable is set by the at run  time  for  the
           specific application. If the proxy_file_type variable is set to GLOBUS_PROXY_OUTPUT (a proxy filename
           for  writing  is  requested), and the X509_USER_PROXY is set, this will be the resulting value of the
           user_proxy filename string passed in.  If  the  proxy_file_type  is  set  to  GLOBUS_PROXY_INPUT  and
           X509_USER_PROXY  is  set,  but  the  file  it points to does not exist, or has some other readability
           issues, the function will continue checking using the other methods available.
       2.  Check the default location for the proxy file of \<a href="file:/tmp">/tmp</a>\/x509_u\&lt;user_id\&gt; where \&lt;user id\&gt;  is  some
           unique string for that user on the host
       <b>Parameters</b>
           <u>user_proxy</u> the proxy filename of the user
           <u>proxy_file_type</u>  Switch  for determining whether to return a existing proxy filename or if a filename
           suitable for creating a proxy should be returned
       <b>Returns</b>
           GLOBUS_SUCCESS or an error object identifier
   <b>globus_result_t</b>   <b>globus_gsi_sysconfig_get_service_cert_filename_unix</b>   <b>(char</b>   <b>*</b>   <b>service_name,</b>   <b>char</b>   <b>**</b>
       <b>service_cert,</b> <b>char</b> <b>**</b> <b>service_key)</b>
       UNIX  -  Get  Service  Certificate  and  Key Filenames. Get the Service Certificate Filename based on the
       current user's environment. The host cert and key are searched for in the following locations (in order):
       1.  X509_USER_CERT and X509_USER_KEY environment variables
       2.  \<a href="file:/etc">/etc</a>\/grid-security\/{service_name}\/{service_name}[cert|key].pem
       3.  GLOBUS_LOCATION\<a href="file:/etc">/etc</a>\/{service_name}\/{service_name}[cert|key].pem So for example, if my service  was
           named:       myservice,       the      location      of      the      certificate      would      be:
           GLOBUS_LOCATION\<a href="file:/etc">/etc</a>\/myservice\/myservicecert.pem
       4.  \&lt;users home\&gt;\/.globus\/{service_name}\/{service_name}[cert|key].pem
       <b>Parameters</b>
           <u>service_name</u> The name of the service which allows us to determine the locations of cert and key files
           to look for
           <u>service_cert</u> pointer to the host certificate filename
           <u>service_key</u> pointer to the host key filename
       <b>Returns</b>
           GLOBUS_SUCCESS if the service cert and key were found, otherwise an error object identifier
   <b>globus_result_t</b> <b>globus_gsi_sysconfig_get_signing_policy_filename_unix</b> <b>(X509_NAME</b> <b>*</b> <b>ca_name,</b> <b>char</b> <b>*</b>  <b>cert_dir,</b>
       <b>char</b> <b>**</b> <b>signing_policy_filename)</b>
       UNIX  -  Get Signing Policy Filename. Get the Signing Policy Filename on the current system, based on the
       CA's subject name, and the trusted certificates directory
       <b>Parameters</b>
           <u>ca_name</u> The X509 subject name of the CA to get the signing policy of. The hash of the CA is generated
           from this
           <u>cert_dir</u> The trusted CA certificates directory, containing the singing_policy files  of  the  trusted
           CA's.
           <u>signing_policy_filename</u> The resulting singing_policy filename
       <b>Returns</b>
           GLOBUS_SUCCESS if no error occurred, otherwise an error object ID
   <b>globus_result_t</b> <b>globus_gsi_sysconfig_get_user_cert_filename_unix</b> <b>(char</b> <b>**</b> <b>user_cert,</b> <b>char</b> <b>**</b> <b>user_key)</b>
       UNIX  -  Get  User  Certificate and Key Filenames. Get the User Certificate Filename based on the current
       user's environment. The following locations are searched for cert and key files in order:
       1.  environment variables X509_USER_CERT and X509_USER_KEY
       2.  $HOME/.globus/usercert.pem and $HOME/.globus/userkey.pem
       3.  $HOME/.globus/usercred.p12 - this is a PKCS12 credential
       <b>Parameters</b>
           <u>user_cert</u> pointer the filename of the user certificate
           <u>user_key</u> pointer to the filename of the user key
       <b>Returns</b>
           GLOBUS_SUCCESS if the cert and key files were found in one of the possible  locations,  otherwise  an
           error object identifier is returned
   <b>globus_result_t</b> <b>globus_gsi_sysconfig_get_user_id_string_unix</b> <b>(char</b> <b>**</b> <b>user_id_string)</b>
       UNIX  - Get User ID. Get a unique string representing the current user. This is just the uid converted to
       a string.
       <b>Parameters</b>
           <u>user_id_string</u> A unique string representing the user
       <b>Returns</b>
           GLOBUS_SUCCESS unless an error occurred
   <b>globus_result_t</b> <b>globus_gsi_sysconfig_get_username_unix</b> <b>(char</b> <b>**</b> <b>username)</b>
       UNIX - Get Username. Get the username of the current user.
       <b>Parameters</b>
           <u>username</u> This parameter will contain the current user name upon a successful return. It is the  users
           responsibility to free memory allocated for this return value.
       <b>Returns</b>
           GLOBUS_SUCCESS unless an error occurred
   <b>globus_result_t</b> <b>globus_gsi_sysconfig_is_superuser_unix</b> <b>(int</b> <b>*</b> <b>is_superuser)</b>
       UNIX - Check if the current user is root. Checks whether the current user is root.
       <b>Parameters</b>
           <u>is_superuser</u> 1 if the user is the superuser 0 if not
       <b>Returns</b>
           GLOBUS_SUCCESS if no error occurred, otherwise an error object ID is returned
   <b>globus_result_t</b>   <b>globus_gsi_sysconfig_make_absolute_path_for_filename_unix</b>   <b>(char</b>   <b>*</b>   <b>filename,</b>  <b>char</b>  <b>**</b>
       <b>absolute_path)</b>
       UNIX - Make Absolute Path. Make the filename into an absolute path string based on  the  current  working
       directory.
       <b>Parameters</b>
           <u>filename</u> the filename to get the absolute path of.

           <u>absolute_path</u> The resulting absolute path. This needs to be freed when no longer needed.
       <b>Returns</b>
           GLOBUS_SUCCESS if no error occurred, otherwise an error object ID is returned
   <b>globus_result_t</b> <b>globus_gsi_sysconfig_remove_all_owned_files_unix</b> <b>(char</b> <b>*</b> <b>default_filename)</b>
       UNIX  -  Remove  all proxies owned by current uid. Removes all proxies (ie. all delegated and grid-proxy-
       init generated proxies) found in the secure tmp directory that are owned by the current user.
       <b>Parameters</b>
           <u>default_filename</u> The filename of the default proxy
       <b>Returns</b>
           GLOBUS_SUCCESS if no error occurred, otherwise an error object ID is returned
   <b>globus_result_t</b> <b>globus_gsi_sysconfig_set_key_permissions_unix</b> <b>(char</b> <b>*</b> <b>filename)</b>
       UNIX - Set Key Permissions. Set the file permissions of a file to read-write only by the user  which  are
       the permissions that should be set for all private keys.
       <b>Parameters</b>
           <u>filename</u>
       <b>Returns</b>
           GLOBUS_SUCCESS or an error object id
   <b>globus_result_t</b>  <b>globus_gsi_sysconfig_split_dir_and_filename_unix</b>  <b>(char</b> <b>*</b> <b>full_filename,</b> <b>char</b> <b>**</b> <b>dir_string,</b>
       <b>char</b> <b>**</b> <b>filename_string)</b>
       UNIX - Split Directory and Filename. Split the directory and filename portions of a filename string  into
       two separate strings
       <b>Parameters</b>
           <u>full_filename</u>  The  filename  to  split.  Splits on the last occurrence of '/' where the directory is
           everything before the last '/', and the filename is everything after.
           <u>dir_string</u>
            The directory portion of the filename string. If  no  '/'  is  found  throughout  the  string,  this
           variable points to NULL. This needs to be freed when no longer needed.
           <u>filename_string</u>  The  filename  portion  of  the filename string. If no '/' is found throughout, this
           variable is a duplicate of the full_filename parameter. This needs to be freed when no longer needed.
       <b>Returns</b>
           GLOBUS_SUCCESS if no error occurred. Otherwise an error object ID is returned.
</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for globus_gsi_sysconfig from the source code.

globus_gsi_sysconfig                               Version 9.6                      <u><a href="../man3/globus_gsi_sysconfig_unix.3.html">globus_gsi_sysconfig_unix</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>