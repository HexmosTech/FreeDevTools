<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>"CPS::Governor" - control the iteration of the "CPS" functions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcps-perl">libcps-perl_0.19-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       "CPS::Governor" - control the iteration of the "CPS" functions

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Objects based on this abstract class are used by the "gk*" variants of the CPS functions, to control
       their behavior. These objects are expected to provide a method, "again", which the functions will use to
       re-invoke iterations of loops, and so on. By providing a different implementation of this method,
       governor objects can provide such behaviours as rate-limiting, asynchronisation or parallelism, and
       integration with event-based IO frameworks.

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
   <b>$gov</b> <b>=</b> <b>CPS::Governor-&gt;new</b>
       Must be called on a subclass which implements the "again" method. Returns a new instance of a governor
       object in that class.

</pre><h4><b>SUBCLASS</b> <b>METHODS</b></h4><pre>
       Because this is an abstract class, instances of it can only be constructed on a subclass which implements
       the following methods:

   <b>$gov-&gt;again(</b> <b>$code,</b> <b>@args</b> <b>)</b>
       Execute the function given in the "CODE" reference $code, passing in the arguments @args. If this is
       going to be executed immediately, it should be invoked using a tail-call directly by the "again" method,
       so that the stack does not grow arbitrarily. This can be achieved by, for example:

        @_ = @args;
        goto &amp;$code;

       Alternatively, the Sub::Call::Tail may be used to apply syntactic sugar, allowing you to write instead:

        use Sub::Call::Tail;
        ...
        tail $code-&gt;( @args );

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>A</b> <b>Governor</b> <b>With</b> <b>A</b> <b>Time</b> <b>Delay</b>
       Consider the following subclass, which implements a "CPS::Governor" subclass that calls "sleep()" between
       every invocation.

        package Governor::Sleep

        use base qw( CPS::Governor );

        sub new
        {
           my $class = shift;
           my ( $delay ) = @_;

           my $self = $class-&gt;SUPER::new;
           $self-&gt;{delay} = $delay;

           return $self;
        }

        sub again
        {
           my $self = shift;
           my $code = shift;

           sleep $self-&gt;{delay};

           # @args are still in @_
           goto &amp;$code;
        }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       â€¢   Sub::Call::Tail - Tail calls for subroutines and methods

</pre><h4><b>AUTHOR</b></h4><pre>
       Paul Evans &lt;<a href="mailto:leonerd@leonerd.org.uk">leonerd@leonerd.org.uk</a>&gt;

perl v5.34.0                                       2022-06-30                                 <u>CPS::<a href="../man3pm/Governor.3pm.html">Governor</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>