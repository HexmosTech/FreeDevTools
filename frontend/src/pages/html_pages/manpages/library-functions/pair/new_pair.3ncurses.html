<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>alloc_pair, find_pair, free_pair - dynamically allocate curses color pairs</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ncurses-doc">ncurses-doc_6.5+20250216-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>alloc_pair</b>, <b>find_pair</b>, <b>free_pair</b> - dynamically allocate <u>curses</u> color pairs

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;curses.h&gt;</b>

       <b>int</b> <b>alloc_pair(int</b> <u>fg</u><b>,</b> <b>int</b> <u>bg</u><b>);</b>
       <b>int</b> <b>find_pair(int</b> <u>fg</u><b>,</b> <b>int</b> <u>bg</u><b>);</b>
       <b>int</b> <b>free_pair(int</b> <u>pair</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These  functions  are  an  extension  to  the  <u>curses</u> library.  They permit an application to dynamically
       allocate a color pair using the foreground/background colors  rather  than  assign  a  fixed  color  pair
       number, and return an unused pair to the pool.

       The number of colors may be related to the number of possible color pairs for a given terminal, or it may
       not:

       •   While almost all terminals allow setting the color <u>attributes</u> independently, it is unlikely that your
           terminal  allows  you  to modify the attributes of a given character cell without rewriting it.  That
           is, the foreground and background colors are applied as a pair.

       •   Color pairs are the <u>curses</u> library's way of managing a color palette on a terminal.  If  the  library
           does not keep track of the <u>combinations</u> of colors which are displayed, it will be inefficient.

       •   For  simple  terminal emulators with only a few dozen color combinations, it is convenient to use the
           maximum number of combinations as the limit on color pairs:

               <b>COLORS</b> <u>*</u> <b>COLORS</b>

       •   Terminals which support <u>default</u> <u>colors</u> distinct from “ANSI colors” add to the possible  combinations,
           producing this total:

               <u>(</u> <b>COLORS</b> <u>+</u> <u>1</u> <u>)</u> <u>*</u> <u>(</u> <b>COLORS</b> <u>+</u> <u>1</u> <u>)</u>

       •   An application might use up to a few dozen color pairs to implement a predefined color scheme.

           Beyond  that lies in the realm of programs using the foreground and background colors for “ASCII art”
           (or some other non-textual application).

           Also beyond those few dozen pairs, the required size for a table to represent the combinations  grows
           rapidly with an increasing number of colors.

           These functions allow a developer to let the screen library manage color pairs.

   <b>alloc_pair</b>
       The  <b>alloc_pair</b>  function accepts parameters for foreground and background color, and checks whether that
       color combination is already associated with a color pair.

       •   If the combination already exists, <b>alloc_pair</b> returns the existing pair.

       •   If the combination does not exist, <b>alloc_pair</b> allocates a new color pair and returns that.

       •   If the table fills up, <b>alloc_pair</b> discards the least-recently allocated  entry  using  <b>free_pair</b>  and
           allocates a new color pair.

       All  of  the  color  pairs  are allocated from a table of possible color pairs.  The size of the table is
       determined by the terminfo <b>pairs</b> capability.  The table is shared  with  <b>init_pair</b>;  in  fact  <b>alloc_pair</b>
       calls <b>init_pair</b> after updating the <u>ncurses</u> library's fast index to the colors versus color pairs.

   <b>find_pair</b>
       The  <b>find_pair</b>  function  accepts parameters for foreground and background color, and checks whether that
       color combination is already associated with a color pair, returning the  pair  number  if  it  has  been
       allocated.  Otherwise it returns -1.

   <b>free_pair</b>
       Marks the given color pair as unused, i.e., like color pair 0.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       The  <b>alloc_pair</b>  function  returns  a  color  pair number in the range 1 through <b>COLOR_PAIRS</b>-1, unless it
       encounters an error updating its fast index to the color pair values, preventing  it  from  allocating  a
       color pair.  In that case, it returns -1.

       The  <b>find_pair</b>  function  returns  a color pair number if the given color combination has been associated
       with a color pair, or -1 if not.

       Likewise, <b>free_pair</b> returns <b>OK</b> unless it encounters an error updating the fast index or if no such  color
       pair is in use.

</pre><h4><b>PORTABILITY</b></h4><pre>
       These  routines  are  specific  to  <u>ncurses</u>.   They  were  not  supported  on  Version 7, BSD or System V
       implementations.  It is recommended that any code depending on them be conditioned using <b>NCURSES_VERSION</b>.

</pre><h4><b>AUTHORS</b></h4><pre>
       Thomas Dickey

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3NCURSES/color.3NCURSES.html">color</a></b>(3NCURSES)

ncurses 6.5                                        2025-01-18                                 <u><a href="../man3NCURSES/new_pair.3NCURSES.html">new_pair</a></u>(3NCURSES)
</pre>
 </div>
</div></section>
</div>
</body>
</html>