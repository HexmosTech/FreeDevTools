<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sg_get_cpu_stats,      sg_get_cpu_stats_r,      sg_get_cpu_stats_diff,     sg_get_cpu_stats_diff_between,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libstatgrab-dev">libstatgrab-dev_0.92.1-1.2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sg_get_cpu_stats,      sg_get_cpu_stats_r,      sg_get_cpu_stats_diff,     sg_get_cpu_stats_diff_between,
       sg_get_cpu_percents, sg_get_cpu_percents_of, sg_get_cpu_percents_r, sg_free_cpu_stats - get cpu usage

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;statgrab.h&gt;

       sg_cpu_percents *<b>sg_get_cpu_percents</b> (size_t *<u>entries</u>);

       sg_cpu_percents *<b>sg_get_cpu_percents_of</b> (sg_cpu_percent_source <u>cps</u>, size_t *<u>entries</u>);

       sg_cpu_percents *<b>sg_get_cpu_percents_r</b> (const sg_cpu_stats *<u>whereof</u>, size_t *<u>entries</u>);

       void <b>sg_free_cpu_percents</b> (sg_cpu_percents *<u>data</u>);

       sg_cpu_stats *<b>sg_get_cpu_stats</b> (size_t *<u>entries</u>);

       sg_cpu_stats *<b>sg_get_cpu_stats_diff</b> (size_t *<u>entries</u>);

       sg_cpu_stats *<b>sg_get_cpu_stats_r</b> (size_t *<u>entries</u>);

       sg_cpu_stats *<b>sg_get_cpu_stats_diff_between</b> (const sg_cpu_stats *<u>cpu_now</u>, const sg_cpu_stats *<u>cpu_last</u>,
                                                   size_t *<u>entries</u>);

       sg_error <b>sg_free_cpu_stats</b> (sg_cpu_stats *<u>data</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These  are  the  categories  of  data  delivered  by  the  cpu  stats  module:   <b>sg_get_cpu_stats</b>()   and
       <b>sg_get_cpu_stats_r</b>()    deliver   native   cpu   counters   since   the   machine   has   been   started,
       <b>sg_get_cpu_stats_diff</b>() and <b>sg_get_cpu_stats_diff_between</b>()  deliver  native  cpu  counters  between  two
       <b>sg_get_cpu_stats</b>() calls and <b>sg_get_cpu_percents_of</b>() and <b>sg_get_cpu_percents_r</b>() deliver correlated rel‐
       ative cpu counters (where total is 100%).

       <b>API</b> <b>Shortcut</b>
       ┌───────────────────────────┬───────────────────┬────────────────────────────┐
       │ function                  │ returns           │ data owner                 │
       ├───────────────────────────┼───────────────────┼────────────────────────────┤
       │ sg_get_cpu_stats          │ sg_cpu_stats *    │ libstatgrab (thread local) │
       ├───────────────────────────┼───────────────────┼────────────────────────────┤
       │ sg_get_cpu_stats_r        │ sg_cpu_stats *    │ caller                     │
       ├───────────────────────────┼───────────────────┼────────────────────────────┤
       │ sg_get_cpu_stats_diff     │ sg_cpu_stats *    │ libstatgrab (thread local) │
       ├───────────────────────────┼───────────────────┼────────────────────────────┤
       │ sg_get_cpu_stats_diff_be‐ │ sg_cpu_stats *    │ caller                     │
       │ tween                     │                   │                            │
       ├───────────────────────────┼───────────────────┼────────────────────────────┤
       │ sg_get_cpu_percents_of    │ sg_cpu_percents * │ libstatgrab (thread local) │
       ├───────────────────────────┼───────────────────┼────────────────────────────┤
       │ sg_get_cpu_percents_r     │ sg_cpu_percents * │ caller                     │
       └───────────────────────────┴───────────────────┴────────────────────────────┘

       The  sg_cpu_stats  buffer  received  from <b>sg_get_cpu_stats_r</b>() and the <b>sg_get_cpu_stats_diff_between</b>() as
       well  as  the  sg_cpu_percents  buffer  received  from  <b>sg_get_cpu_percents_r</b>()  must  be   freed   using
       <b>sg_free_cpu_stats</b>()  or the <b>sg_free_cpu_percents</b>(), respectively, when not needed any more. The caller is
       responsible for doing it.

       The value stored (the "ticks") will vary between operating systems. For example Solaris has  a  total  of
       100 per second, while Linux has substantially more. Also, different operating systems store different in‐
       formation - you won't find nice cpu on Solaris for example.

       Modern   systems   shall   provide   information   about   the   clock   tick   resolution   by  invoking
       sysconf(_SC_CLK_TCK).

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       There are two structures returned by the CPU statistics functions.

       typedef struct {
               unsigned long long user;
               unsigned long long kernel;
               unsigned long long idle;
               unsigned long long iowait;
               unsigned long long swap;
               unsigned long long nice;
               unsigned long long total;

               unsigned long long context_switches;
               unsigned long long voluntary_context_switches;
               unsigned long long involuntary_context_switches;
               unsigned long long syscalls;
               unsigned long long interrupts;
               unsigned long long soft_interrupts;

               time_t systime;
       } sg_cpu_stats;

       typedef struct {
               double user;
               double kernel;
               double idle;
               double iowait;
               double swap;
               double nice;
               time_t time_taken;
       } sg_cpu_percents;

       user kernel idle iowait swap nice total
              The different CPU states.

       context_switches voluntary_context_switches involuntary_context_switches syscalls interrupts soft_inter‐
       rupts
              The different program actions on CPU.

       systime time_taken
              The time taken in seconds since the last call of the function, or the system time.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/statgrab.3.html">statgrab</a></b>(3)

</pre><h4><b>WEBSITE</b></h4><pre>
       ⟨https://libstatgrab.org/⟩

libstatgrab                                        2019-03-08                                <u><a href="../man3/sg_get_cpu_stats.3.html">sg_get_cpu_stats</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>