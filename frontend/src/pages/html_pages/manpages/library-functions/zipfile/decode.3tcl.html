<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zipfile::decode - Access to zip archives</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zipfile::decode - Access to zip archives

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.5</b> <b>9</b>

       package require <b>fileutil::decode</b> <b>0.2.1</b>

       package require <b>Trf</b>

       package require <b>zlibtcl</b>

       package require <b>zipfile::decode</b> <b>?0.10.1?</b>

       <b>::zipfile::decode::archive</b>

       <b>::zipfile::decode::close</b>

       <b>::zipfile::decode::comment</b> <u>adict</u>

       <b>::zipfile::decode::content</b> <u>archive</u>

       <b>::zipfile::decode::copyfile</b> <u>adict</u> <u>path</u> <u>dst</u>

       <b>::zipfile::decode::files</b> <u>adict</u>

       <b>::zipfile::decode::getfile</b> <u>zdict</u> <u>path</u>

       <b>::zipfile::decode::hasfile</b> <u>adict</u> <u>path</u>

       <b>::zipfile::decode::filesize</b> <u>zdict</u> <u>path</u>

       <b>::zipfile::decode::filecomment</b> <u>zdict</u> <u>path</u>

       <b>::zipfile::decode::iszip</b> <u>archive</u>

       <b>::zipfile::decode::open</b> <u>archive</u>

       <b>::zipfile::decode::unzip</b> <u>adict</u> <u>dstdir</u>

       <b>::zipfile::decode::unzipfile</b> <u>archive</u> <u>dstdir</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Note:  packages Trf and zlibtcl are not required if TCL 8.6 is available.  This package provides commands
       to decompress and access the contents of zip archives.

</pre><h4><b>API</b></h4><pre>
       <b>::zipfile::decode::archive</b>
              This command decodes the last opened (and not yet closed) zip archive file.   The  result  of  the
              command  is  a dictionary describing the contents of the archive. The structure of this dictionary
              is not public. Proper access should be  made  through  the  provided  accessor  commands  of  this
              package.

       <b>::zipfile::decode::close</b>
              This  command  releases  all  state associated with the last call of <b>::zipfile::decode::open</b>.  The
              result of the command is the empty string.

       <b>::zipfile::decode::comment</b> <u>adict</u>
              This command takes a dictionary describing the currently open zip archive  file,  as  returned  by
              <b>::zipfile::decode::archive</b>, and returns the global comment of the archive.

       <b>::zipfile::decode::content</b> <u>archive</u>
              This is a convenience command which decodes the specified zip <u>archive</u> file and returns the list of
              paths found in it as its result.

       <b>::zipfile::decode::copyfile</b> <u>adict</u> <u>path</u> <u>dst</u>
              This  command  takes  a  dictionary describing the currently open zip archive file, as returned by
              <b>::zipfile::decode::archive</b>, and copies the decompressed contents of the file <u>path</u> in  the  archive
              to the the file <u>dst</u>.  An error is thrown if the file is not found in the archive.

       <b>::zipfile::decode::files</b> <u>adict</u>
              This  command  takes  a  dictionary describing the currently open zip archive file, as returned by
              <b>::zipfile::decode::archive</b>, and returns the list of files found in the archive.

       <b>::zipfile::decode::getfile</b> <u>zdict</u> <u>path</u>
              This command takes a dictionary describing the currently open zip archive  file,  as  returned  by
              <b>::zipfile::decode::archive</b>, and returns the decompressed contents of the file <u>path</u> in the archive.
              An error is thrown if the file is not found in the archive.

       <b>::zipfile::decode::hasfile</b> <u>adict</u> <u>path</u>
              This  command  takes  a  dictionary describing the currently open zip archive file, as returned by
              <b>::zipfile::decode::archive</b>, and check if the specified <u>path</u> is found in the archive.   The  result
              of the command is a boolean flag, <b>true</b> if the path is found, and <b>false</b> otherwise.

       <b>::zipfile::decode::filesize</b> <u>zdict</u> <u>path</u>
              This  command  takes  a  dictionary describing the currently open zip archive file, as returned by
              <b>::zipfile::decode::archive</b>, and returns the decompressed size of the file <u>path</u> in the archive.  An
              error is thrown if the file is not found in the archive.

       <b>::zipfile::decode::filecomment</b> <u>zdict</u> <u>path</u>
              This command takes a dictionary describing the currently open zip archive  file,  as  returned  by
              <b>::zipfile::decode::archive</b>,  and returns the per-file comment of the file <u>path</u> in the archive.  An
              error is thrown if the file is not found in the archive.

       <b>::zipfile::decode::iszip</b> <u>archive</u>
              This command takes the path of a presumed zip <u>archive</u> file and  returns  a  boolean  flag  as  the
              result of the command telling us if it actually is a zip archive (<b>true</b>), or not (<b>false</b>).

       <b>::zipfile::decode::open</b> <u>archive</u>
              This command takes the path of a zip <u>archive</u> file and prepares it for decoding.  The result of the
              command  is  the  empty string.  All important information is stored in global state.  If multiple
              open calls are made one after the other only the state of the last call is available to the  other
              commands.

       <b>::zipfile::decode::unzip</b> <u>adict</u> <u>dstdir</u>
              This  command  takes  a  dictionary describing the currently open zip archive file, as returned by
              <b>::zipfile::decode::archive</b>, and unpacks the archive in the  given  destination  directory  <u>dstdir</u>.
              The result of the command is the empty string.

       <b>::zipfile::decode::unzipfile</b> <u>archive</u> <u>dstdir</u>
              This  is  a  convenience  command  which  unpacks  the  specified  zip  <u>archive</u>  file in the given
              destination directory <u>dstdir</u>.

              The result of the command is the empty string.

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This document, and the package it describes, will undoubtedly contain bugs and  other  problems.   Please
       report  such  in  the  category  <u>zipfile</u>  of  the <u>Tcllib</u> <u>Trackers</u> [<a href="http://core.tcl.tk/tcllib/reportlist">http://core.tcl.tk/tcllib/reportlist</a>].
       Please also report any ideas for enhancements you may have for either package and/or documentation.

       When proposing code changes, please provide <u>unified</u> <u>diffs</u>, i.e the output of <b>diff</b> <b>-u</b>.

       Note further that <u>attachments</u> are strongly preferred over inlined patches. Attachments  can  be  made  by
       going  to the <b>Edit</b> form of the ticket immediately after its creation, and then using the left-most button
       in the secondary navigation bar.

</pre><h4><b>KEYWORDS</b></h4><pre>
       decompression, zip

</pre><h4><b>CATEGORY</b></h4><pre>
       File

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2008-2022 Andreas Kupries

tcllib                                               0.10.1                                <u>zipfile::<a href="../man3tcl/decode.3tcl.html">decode</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>