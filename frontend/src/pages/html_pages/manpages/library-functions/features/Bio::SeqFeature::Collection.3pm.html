<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bio::SeqFeature::Collection - A container class for SeqFeatures suitable for performing operations such</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbio-perl-perl">libbio-perl-perl_1.7.8-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Bio::SeqFeature::Collection - A container class for SeqFeatures suitable for performing operations such
       as finding features within a range, that match a certain feature type, etc.

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Bio::SeqFeature::Collection;
         use Bio::Location::Simple;
         use Bio::Tools::GFF;
         use Bio::Root::IO;
         use File::Spec;
         # let's first input some features
         my $gffio = Bio::Tools::GFF-&gt;new(-file =&gt; File::Spec-&gt;catfile
                                        ("t","data","myco_sites.gff"),
                                        -gff_version =&gt; 2);
         my @features = ();
         # loop over the input stream
         while(my $feature = $gffio-&gt;next_feature()) {
             # do something with feature
             push @features, $feature;
         }
         $gffio-&gt;close();
         # build the Collection object
         my $col = Bio::SeqFeature::Collection-&gt;new();
         # add these features to the object
         my $totaladded = $col-&gt;add_features(\@features);

         my @subset = $col-&gt;features_in_range(-start =&gt; 1,
                                            -end =&gt; 25000,
                                            -strand =&gt; 1,
                                            -contain =&gt; 0);
         # subset should have 18 entries for this dataset
         print "size is ", scalar @subset, "\n";
         @subset = $col-&gt;features_in_range(-range =&gt; Bio::Location::Simple-&gt;new
                                         (-start =&gt; 70000,
                                          -end =&gt; 150000,
                                          -strand =&gt; -1),
                                         -contain =&gt; 1,
                                         -strandmatch =&gt; 'strong');

         # subset should have 22 entries for this dataset
         print "size is ", scalar @subset, "\n";
         print "total number of features in collection is ",
                $col-&gt;feature_count(),"\n";

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This object will efficiently allow one for query subsets of ranges within a large collection of sequence
       features (in fact the objects just have to be Bio::RangeI compliant).  This is done by the creation of
       bins which are stored in order in a B-Tree data structure as provided by the DB_File interface to the
       Berkeley DB.

       This is based on work done by Lincoln for storage in a mysql instance - this is intended to be an
       embedded in-memory implementation for easily querying for subsets of a large range set.

       Collections can be made persistent by keeping the indexfile and passing in the -keep flag like this:

         my $collection = Bio::SeqFeature::Collection-&gt;new(-keep =&gt; 1,
                                                          -file =&gt; 'col.idx');
         $collaction-&gt;add_features(\@features);
         undef $collection;

         # To reuse this collection, next time you initialize a Collection object
         # specify the filename and the index will be reused.
         $collection = Bio::SeqFeature::Collection-&gt;new(-keep =&gt; 1,
                                                       -file =&gt; 'col.idx');

</pre><h4><b>FEEDBACK</b></h4><pre>
   <b>Mailing</b> <b>Lists</b>
       User feedback is an integral part of the evolution of this and other Bioperl modules. Send your comments
       and suggestions preferably to the Bioperl mailing list.  Your participation is much appreciated.

         <a href="mailto:bioperl-l@bioperl.org">bioperl-l@bioperl.org</a>                  - General discussion
         <a href="http://bioperl.org/wiki/Mailing_lists">http://bioperl.org/wiki/Mailing_lists</a>  - About the mailing lists

   <b>Support</b>
       Please direct usage questions or support issues to the mailing list:

       <u><a href="mailto:bioperl-l@bioperl.org">bioperl-l@bioperl.org</a></u>

       rather than to the module maintainer directly. Many experienced and reponsive experts will be able look
       at the problem and quickly address it. Please include a thorough description of the problem with code and
       data examples if at all possible.

   <b>Reporting</b> <b>Bugs</b>
       Report bugs to the Bioperl bug tracking system to help us keep track of the bugs and their resolution.
       Bug reports can be submitted via the web:

         https://github.com/bioperl/bioperl-live/issues

</pre><h4><b>AUTHOR</b> <b>-</b> <b>Jason</b> <b>Stajich</b></h4><pre>
       Email <a href="mailto:jason@bioperl.org">jason@bioperl.org</a>

</pre><h4><b>CONTRIBUTORS</b></h4><pre>
       Using code and strategy developed by Lincoln Stein (<a href="mailto:lstein@cshl.org">lstein@cshl.org</a>) in Bio::DB::GFF implementation.
       Credit also to Lincoln for suggesting using Storable to serialize features rather than my previous
       implementation which kept the features in memory.

</pre><h4><b>APPENDIX</b></h4><pre>
       The rest of the documentation details each of the object methods.  Internal methods are usually preceded
       with a _

   <b>new</b>
        Title   : new
        Usage   : my $obj = Bio::SeqFeature::Collection-&gt;new();
        Function: Builds a new Bio::SeqFeature::Collection object
        Returns : Bio::SeqFeature::Collection
        Args    :

                  -minbin        minimum value to use for binning
                                 (default is 100,000,000)
                  -maxbin        maximum value to use for binning
                                 (default is 1,000)
                  -file          filename to store/read the
                                 BTREE from rather than an in-memory structure
                                 (default is false and in-memory).
                  -keep          boolean, will not remove index file on
                                 object destruction.
                  -features      Array ref of features to add initially

   <b>add_features</b>
        Title   : add_features
        Usage   : $collection-&gt;add_features(\@features);
        Function:
        Returns : number of features added
        Args    : arrayref of Bio::SeqFeatureI objects to index

   <b>features_in_range</b>
        Title   : features_in_range
        Usage   : my @features = $collection-&gt;features_in_range($range)
        Function: Retrieves a list of features which were contained or overlap the
                  the requested range (see Args for way to specify overlap or
                                       only those containe)d
        Returns : List of Bio::SeqFeatureI objects
        Args    : -range =&gt; Bio::RangeI object defining range to search,
                  OR
                  -start  =&gt; start,
                  -end    =&gt; end,
                  -strand  =&gt; strand

                  -contain =&gt; boolean - true if feature must be completely
                              contained with range
                              OR false if should include features that simply overlap
                              the range. Default: true.
                  -strandmatch =&gt;  'strong',  ranges must have the same strand
                                   'weak',    ranges must have the same
                                                  strand or no strand
                                   'ignore', ignore strand information
                                  Default. 'ignore'.

   <b>remove_features</b>
        Title   : remove_features
        Usage   : $collection-&gt;remove_features(\@array)
        Function: Removes the requested sequence features (based on features
                  which have the same location)
        Returns : Number of features removed
        Args    : Arrayref of Bio::RangeI objects

   <b>get_all_features</b>
        Title   : get_all_features
        Usage   : my @f = $col-&gt;get_all_features()
        Function: Return all the features stored in this collection (Could be large)
        Returns : Array of Bio::RangeI objects
        Args    : None

   <b>min_bin</b>
        Title   : min_bin
        Usage   : my $minbin= $self-&gt;min_bin;
        Function: Get/Set the minimum value to use for binning
        Returns : integer
        Args    : [optional] minimum bin value

   <b>max_bin</b>
        Title   : max_bin
        Usage   : my $maxbin= $self-&gt;max_bin;
        Function: Get/Set the maximum value to use for binning
        Returns : integer
        Args    : [optional] maximum bin value

   <b>feature_count</b>
        Title   : feature_count
        Usage   : my $c = $col-&gt;feature_count()
        Function: Retrieve the total number of features in the collection
        Returns : integer
        Args    : none

   <b>indexfile</b>
        Title   : indexfile
        Usage   : $obj-&gt;indexfile($newval)
        Function: Get/set the filename where index is kept
        Returns : value of indexfile (a filename string)
        Args    : on set, new value (a filename string )

   <b>keep</b>
        Title   : keep
        Usage   : $obj-&gt;keep($newval)
        Function: Get/set boolean flag to keep the indexfile after
                  exiting program
        Example :
        Returns : value of keep (boolean)
        Args    : on set, new value (boolean)

perl v5.32.1                                       2021-08-15                   <u>Bio::SeqFeature::<a href="../man3pm/Collection.3pm.html">Collection</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>