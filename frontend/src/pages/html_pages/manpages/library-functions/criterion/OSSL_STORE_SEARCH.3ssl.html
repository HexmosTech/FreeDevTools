<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSSL_STORE_SEARCH, OSSL_STORE_SEARCH_by_name, OSSL_STORE_SEARCH_by_issuer_serial,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       OSSL_STORE_SEARCH, OSSL_STORE_SEARCH_by_name, OSSL_STORE_SEARCH_by_issuer_serial,
       OSSL_STORE_SEARCH_by_key_fingerprint, OSSL_STORE_SEARCH_by_alias, OSSL_STORE_SEARCH_free,
       OSSL_STORE_SEARCH_get_type, OSSL_STORE_SEARCH_get0_name, OSSL_STORE_SEARCH_get0_serial,
       OSSL_STORE_SEARCH_get0_bytes, OSSL_STORE_SEARCH_get0_string, OSSL_STORE_SEARCH_get0_digest - Type and
       functions to create OSSL_STORE search criteria

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/store.h&gt;

        typedef struct ossl_store_search_st OSSL_STORE_SEARCH;

        OSSL_STORE_SEARCH *OSSL_STORE_SEARCH_by_name(X509_NAME *name);
        OSSL_STORE_SEARCH *OSSL_STORE_SEARCH_by_issuer_serial(X509_NAME *name,
                                                              const ASN1_INTEGER
                                                              *serial);
        OSSL_STORE_SEARCH *OSSL_STORE_SEARCH_by_key_fingerprint(const EVP_MD *digest,
                                                                const unsigned char
                                                                *bytes, int len);
        OSSL_STORE_SEARCH *OSSL_STORE_SEARCH_by_alias(const char *alias);

        void OSSL_STORE_SEARCH_free(OSSL_STORE_SEARCH *search);

        int OSSL_STORE_SEARCH_get_type(const OSSL_STORE_SEARCH *criterion);
        X509_NAME *OSSL_STORE_SEARCH_get0_name(OSSL_STORE_SEARCH *criterion);
        const ASN1_INTEGER *OSSL_STORE_SEARCH_get0_serial(const OSSL_STORE_SEARCH
                                                          *criterion);
        const unsigned char *OSSL_STORE_SEARCH_get0_bytes(const OSSL_STORE_SEARCH
                                                          *criterion, size_t *length);
        const char *OSSL_STORE_SEARCH_get0_string(const OSSL_STORE_SEARCH *criterion);
        const EVP_MD *OSSL_STORE_SEARCH_get0_digest(const OSSL_STORE_SEARCH
                                                    *criterion);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These functions are used to specify search criteria to help search for specific objects through other
       names than just the URI that's given to <b>OSSL_STORE_open()</b>.  For example, this can be useful for an
       application that has received a URI and then wants to add on search criteria in a uniform and supported
       manner.

   <b>Types</b>
       <b>OSSL_STORE_SEARCH</b> is an opaque type that holds the constructed search criterion, and that can be given to
       an OSSL_STORE context with <b>OSSL_STORE_find()</b>.

       The calling application owns the allocation of an <b>OSSL_STORE_SEARCH</b> at all times, and should therefore be
       careful not to deallocate it before <b>OSSL_STORE_close()</b> has been called for the OSSL_STORE context it was
       given to.

   <b>Application</b> <b>Functions</b>
       <b>OSSL_STORE_SEARCH_by_name()</b>, <b>OSSL_STORE_SEARCH_by_issuer_serial()</b>,
       <b>OSSL_STORE_SEARCH_by_key_fingerprint()</b>, and <b>OSSL_STORE_SEARCH_by_alias()</b> are used to create an
       <b>OSSL_STORE_SEARCH</b> from a subject name, an issuer name and serial number pair, a key fingerprint, and an
       alias (for example a friendly name).  The parameters that are provided are not copied, only referred to
       in a criterion, so they must have at least the same life time as the created <b>OSSL_STORE_SEARCH</b>.

       <b>OSSL_STORE_SEARCH_free()</b> is used to free the <b>OSSL_STORE_SEARCH</b>.  If the argument is NULL, nothing is
       done.

   <b>Loader</b> <b>Functions</b>
       <b>OSSL_STORE_SEARCH_get_type()</b> returns the criterion type for the given <b>OSSL_STORE_SEARCH</b>.

       <b>OSSL_STORE_SEARCH_get0_name()</b>, <b>OSSL_STORE_SEARCH_get0_serial()</b>, <b>OSSL_STORE_SEARCH_get0_bytes()</b>,
       <b>OSSL_STORE_SEARCH_get0_string()</b>, and <b>OSSL_STORE_SEARCH_get0_digest()</b> are used to retrieve different data
       from a <b>OSSL_STORE_SEARCH</b>, as available for each type.  For more information, see "SUPPORTED CRITERION
       TYPES" below.

</pre><h4><b>SUPPORTED</b> <b>CRITERION</b> <b>TYPES</b></h4><pre>
       Currently supported criterion types are:

       OSSL_STORE_SEARCH_BY_NAME
           This  criterion  supports  a  search  by  exact  match of subject name.  The subject name itself is a
           <b>X509_NAME</b> pointer.  A criterion of this type is created  with  <b>OSSL_STORE_SEARCH_by_name()</b>,  and  the
           actual subject name is retrieved with <b>OSSL_STORE_SEARCH_get0_name()</b>.

       OSSL_STORE_SEARCH_BY_ISSUER_SERIAL
           This  criterion  supports  a search by exact match of both issuer name and serial number.  The issuer
           name itself is a <b>X509_NAME</b> pointer, and the serial number is a <b>ASN1_INTEGER</b> pointer.  A criterion  of
           this  type is created with <b>OSSL_STORE_SEARCH_by_issuer_serial()</b> and the actual issuer name and serial
           number are retrieved with <b>OSSL_STORE_SEARCH_get0_name()</b> and <b>OSSL_STORE_SEARCH_get0_serial()</b>.

       OSSL_STORE_SEARCH_BY_KEY_FINGERPRINT
           This criterion supports a search by exact match of key fingerprint.  The key fingerprint in itself is
           a string of bytes and its length, as well as the algorithm that was used to compute the  fingerprint.
           The  digest  may  be left unspecified (NULL), and in that case, the loader has to decide on a default
           digest  and  compare  fingerprints  accordingly.   A  criterion  of  this  type   is   created   with
           <b>OSSL_STORE_SEARCH_by_key_fingerprint()</b>  and  the  actual  fingerprint and its length can be retrieved
           with     <b>OSSL_STORE_SEARCH_get0_bytes()</b>.      The     digest     can      be      retrieved      with
           <b>OSSL_STORE_SEARCH_get0_digest()</b>.

       OSSL_STORE_SEARCH_BY_ALIAS
           This  criterion supports a search by match of an alias of some kind.  The alias in itself is a simple
           C string.  A criterion of this type is created with <b>OSSL_STORE_SEARCH_by_alias()</b> and the actual alias
           is retrieved with <b>OSSL_STORE_SEARCH_get0_string()</b>.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>OSSL_STORE_SEARCH_by_name()</b>,                                        <b>OSSL_STORE_SEARCH_by_issuer_serial()</b>,
       <b>OSSL_STORE_SEARCH_by_key_fingerprint()</b>,   and  <b>OSSL_STORE_SEARCH_by_alias()</b>  return  a  <b>OSSL_STORE_SEARCH</b>
       pointer on success, or NULL on failure.

       <b>OSSL_STORE_SEARCH_get_type()</b> returns the criterion type of the  given  <b>OSSL_STORE_SEARCH</b>.   There  is  no
       error value.

       <b>OSSL_STORE_SEARCH_get0_name()</b>   returns   a  <b>X509_NAME</b>  pointer  on  success,  or  NULL  when  the  given
       <b>OSSL_STORE_SEARCH</b> was of a different type.

       <b>OSSL_STORE_SEARCH_get0_serial()</b> returns a <b>ASN1_INTEGER</b>  pointer  on  success,  or  NULL  when  the  given
       <b>OSSL_STORE_SEARCH</b> was of a different type.

       <b>OSSL_STORE_SEARCH_get0_bytes()</b>  returns  a  <b>const</b>  <b>unsigned</b>  <b>char</b> pointer and sets <u>*length</u> to the strings
       length on success, or NULL when the given <b>OSSL_STORE_SEARCH</b> was of a different type.

       <b>OSSL_STORE_SEARCH_get0_string()</b> returns a  <b>const</b>  <b>char</b>  pointer  on  success,  or  NULL  when  the  given
       <b>OSSL_STORE_SEARCH</b> was of a different type.

       <b>OSSL_STORE_SEARCH_get0_digest()</b> returns a <b>const</b> <b>EVP_MD</b> pointer.  NULL is a valid value and means that the
       store loader default will be used when applicable.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/ossl_store.7.html">ossl_store</a></b>(7), <b><a href="../man3/OSSL_STORE_supports_search.3.html">OSSL_STORE_supports_search</a></b>(3), <b><a href="../man3/OSSL_STORE_find.3.html">OSSL_STORE_find</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       <b>OSSL_STORE_SEARCH</b>,           <b>OSSL_STORE_SEARCH_by_name()</b>,           <b>OSSL_STORE_SEARCH_by_issuer_serial()</b>,
       <b>OSSL_STORE_SEARCH_by_key_fingerprint()</b>,      <b>OSSL_STORE_SEARCH_by_alias()</b>,      <b>OSSL_STORE_SEARCH_free()</b>,
       <b>OSSL_STORE_SEARCH_get_type()</b>,       <b>OSSL_STORE_SEARCH_get0_name()</b>,       <b>OSSL_STORE_SEARCH_get0_serial()</b>,
       <b>OSSL_STORE_SEARCH_get0_bytes()</b>, and <b>OSSL_STORE_SEARCH_get0_string()</b> were added in OpenSSL 1.1.1.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2018-2024 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file  except  in  compliance
       with  the  License.   You  can  obtain  a  copy  in  the  file  LICENSE  in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                            <u><a href="../man3SSL/OSSL_STORE_SEARCH.3SSL.html">OSSL_STORE_SEARCH</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>