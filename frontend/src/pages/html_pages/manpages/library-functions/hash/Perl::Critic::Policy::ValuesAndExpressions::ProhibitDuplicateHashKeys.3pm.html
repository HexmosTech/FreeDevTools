<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perl::Critic::Policy::ValuesAndExpressions::ProhibitDuplicateHashKeys - disallow duplicate literal hash</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libperl-critic-pulp-perl">libperl-critic-pulp-perl_99-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Perl::Critic::Policy::ValuesAndExpressions::ProhibitDuplicateHashKeys - disallow duplicate literal hash
       keys

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This policy is part of the "Perl::Critic::Pulp" add-on.  It reports duplicate literal hash keys in a hash
       assignment or anonymous hashref.

           my %hash = (red   =&gt; 1,
                       green =&gt; 2,
                       red   =&gt; 3,    # bad
                      );

           my $hashref = { red   =&gt; 1,
                           red   =&gt; 3,   # bad
                         };

       Writing duplicate literal keys is probably a mistake or too much cut and paste, and if the values are
       different will make it unclear to human readers what was meant.  On that basis this policy is under the
       "bugs" theme and medium severity (see "POLICY THEMES" in Perl::Critic).

       Perl is happy to run code like the above.  The value of the last "red" is stored.  As runtime behaviour,
       this is good since you can give defaults which further values from a caller or similar can replace.  For
       example,

           sub new {
             my $class = shift;
             return bless { foo =&gt; 'default',
                            bar =&gt; 'default',
                            @_ }, $class;
           }

           MyClass-&gt;new (foo =&gt; 'caller value'); # overriding 'default'

   <b>Expressions</b>
       Expressions within a hash list cannot be checked in general.  Some concatenations of literals are
       recognised though they're probably unusual.

           my %hash = (ab      =&gt; 1,
                       'a'.'b' =&gt; 2);  # bad

           my %hash = (__PACKAGE__.'a' =&gt; 1,
                       __PACKAGE__.'a' =&gt; 2);  # bad

       Function calls etc within a list might return an odd or even number of values.  Fat commas "=&gt;" are taken
       as indicating a key when in doubt.

           my %hash = (blah()    =&gt; 1,  # guided by =&gt;
                       a         =&gt; 2,
                       a         =&gt; 3); # bad

           my %hash = (blah(),
                       a         =&gt; 2,  # guided by =&gt;
                       a         =&gt; 3); # bad

       A hash substitution is always an even number of arguments,

           my %hash = (a         =&gt; 1,
                       %blah,           # even number
                       a         =&gt; 5); # bad, duplicate

       "qw()" words are recognised too

           my %hash = (qw(foo value1
                          foo value2));  # bad

   <b>Disabling</b>
       If you don't care about this you can always disable "ProhibitDuplicateHashKeys" from your <u>.perlcriticrc</u>
       file in the usual way (see "CONFIGURATION" in Perl::Critic),

           [-ValuesAndExpressions::ProhibitDuplicateHashKeys]

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Perl::Critic::Pulp, Perl::Critic

       Perl::Critic::Policy::CodeLayout::RequireTrailingCommas,
       Perl::Critic::Policy::CodeLayout::RequireTrailingCommaAtNewline

</pre><h4><b>HOME</b> <b>PAGE</b></h4><pre>
       <a href="http://user42.tuxfamily.org/perl-critic-pulp/index.html">http://user42.tuxfamily.org/perl-critic-pulp/index.html</a>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2019, 2020, 2021 Kevin Ryde

       Perl-Critic-Pulp is free software; you can redistribute it and/or modify it under the terms of the GNU
       General Public License as published by the Free Software Foundation; either version 3, or (at your
       option) any later version.

       Perl-Critic-Pulp is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without
       even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General
       Public License for more details.

       You should have received a copy of the GNU General Public License along with Perl-Critic-Pulp.  If not,
       see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.

perl v5.32.1                                       2021-02-28              <u>Perl::Critic::...<a href="../man3pm/plicateHashKeys.3pm.html">plicateHashKeys</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>