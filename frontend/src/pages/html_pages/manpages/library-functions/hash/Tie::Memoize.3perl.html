<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tie::Memoize - add data to hash when needed</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/perl-doc">perl-doc_5.40.1-6_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tie::Memoize - add data to hash when needed

</pre><h4><b>SYNOPSIS</b></h4><pre>
         require Tie::Memoize;
         tie %hash, 'Tie::Memoize',
             \&amp;fetch,                  # The rest is optional
             $DATA, \&amp;exists,
             {%ini_value}, {%ini_existence};

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This package allows a tied hash to autoload its values on the first access, and to use the cached value
       on the following accesses.

       Only read-accesses (via fetching the value or "exists") result in calls to the functions; the modify-
       accesses are performed as on a normal hash.

       The required arguments during "tie" are the hash, the package, and the reference to the "FETCH"ing
       function.  The optional arguments are an arbitrary scalar $data, the reference to the "EXISTS" function,
       and initial values of the hash and of the existence cache.

       Both the "FETCH"ing function and the "EXISTS" functions have the same signature: the arguments are "$key,
       $data"; $data is the same value as given as argument during <b>tie()</b>ing.  Both functions should return an
       empty list if the value does not exist.  If "EXISTS" function is different from the "FETCH"ing function,
       it should return a TRUE value on success.  The "FETCH"ing function should return the intended value if
       the key is valid.

</pre><h4><b>Inheriting</b> <b>from</b> <b>Tie::Memoize</b></h4><pre>
       The structure of the <b>tied()</b> data is an array reference with elements

         0:  cache of known values
         1:  cache of known existence of keys
         2:  FETCH  function
         3:  EXISTS function
         4:  $data

       The rest is for internal usage of this package.  In particular, if TIEHASH is overwritten, it should call
       SUPER::TIEHASH.

</pre><h4><b>EXAMPLE</b></h4><pre>
         sub slurp {
           my ($key, $dir) = shift;
           open my $h, '&lt;', "$dir/$key" or return;
           local $/; &lt;$h&gt;                      # slurp it all
         }
         sub exists { my ($key, $dir) = shift; return -f "$dir/$key" }

         tie %hash, 'Tie::Memoize', \&amp;slurp, $directory, \&amp;exists,
             { fake_file1 =&gt; $content1, fake_file2 =&gt; $content2 },
             { pretend_does_not_exists =&gt; 0, known_to_exist =&gt; 1 };

       This example treats the slightly modified contents of $directory as a hash.  The modifications are that
       the keys <u>fake_file1</u> and <u>fake_file2</u> fetch values $content1 and $content2, and <u>pretend_does_not_exists</u> will
       never be accessed.  Additionally, the existence of <u>known_to_exist</u> is never checked (so if it does not
       exists when its content is needed, the user of %hash may be confused).

</pre><h4><b>BUGS</b></h4><pre>
       FIRSTKEY and NEXTKEY methods go through the keys which were already read, not all the possible keys of
       the hash.

</pre><h4><b>AUTHOR</b></h4><pre>
       Ilya Zakharevich &lt;<a href="mailto:perl-module-hash-memoize@ilyaz.org">mailto:perl-module-hash-memoize@ilyaz.org</a>&gt;.

perl v5.40.1                                       2025-07-27                                <u>Tie::<a href="../man3perl/Memoize.3perl.html">Memoize</a></u>(3perl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>