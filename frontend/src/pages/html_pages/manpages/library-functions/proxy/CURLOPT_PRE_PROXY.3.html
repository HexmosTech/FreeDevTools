<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_PRE_PROXY - pre-proxy host to use</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_PRE_PROXY - pre-proxy host to use

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_PRE_PROXY, char *preproxy);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Set  the  <u>preproxy</u> to use for the upcoming request. The parameter should be a char * to a null-terminated
       string holding the hostname or dotted numerical IP address. A numerical  IPv6  address  must  be  written
       within [brackets].

       To  specify  port  number  in  this  string, append :[port] to the end of the host name. The proxy's port
       number may optionally be specified with the  separate  option  <u><a href="../man3/CURLOPT_PROXYPORT.3.html">CURLOPT_PROXYPORT</a>(3)</u>.  If  not  specified,
       libcurl defaults to using port 1080 for proxies.

       A  pre  proxy is a SOCKS proxy that curl connects to before it connects to the HTTP(S) proxy specified in
       the <u><a href="../man3/CURLOPT_PROXY.3.html">CURLOPT_PROXY</a>(3)</u> option. The pre proxy can only be a SOCKS proxy.

       The pre proxy string should be prefixed with [scheme]:// to specify which kind  of  socks  is  used.  Use
       socks4://,  socks4a://, socks5:// or socks5h:// (the last one to enable socks5 and asking the proxy to do
       the resolving, also known as <u>CURLPROXY_SOCKS5_HOSTNAME</u> type) to request the specific SOCKS version to  be
       used. Otherwise SOCKS4 is used as default.

       Setting the pre proxy string to "" (an empty string) explicitly disables the use of a pre proxy.

       When you set a hostname to use, do not assume that there is any particular single port number used widely
       for proxies. Specify it.

       The application does not have to keep the string around after setting this option.

       Using  this option multiple times makes the last set string override the previous ones. Set it to NULL to
       disable its use again.

</pre><h4><b>DEFAULT</b></h4><pre>
       NULL

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects all supported protocols

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           curl_easy_setopt(curl, CURLOPT_URL, "https://example.com/file.txt");
           curl_easy_setopt(curl, CURLOPT_PRE_PROXY, "socks4://socks-proxy:1080");
           curl_easy_setopt(curl, CURLOPT_PROXY, "<a href="http://proxy">http://proxy</a>:80");
           curl_easy_perform(curl);
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.52.0

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLOPT_HTTPPROXYTUNNEL.3.html">CURLOPT_HTTPPROXYTUNNEL</a></b>(3), <b><a href="../man3/CURLOPT_PROXY.3.html">CURLOPT_PROXY</a></b>(3)

libcurl                                            2025-06-16                               <u><a href="../man3/CURLOPT_PRE_PROXY.3.html">CURLOPT_PRE_PROXY</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>