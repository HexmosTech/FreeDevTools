<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_PROXY - proxy to use</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_PROXY - proxy to use

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_PROXY, char *proxy);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Set  the  <u>proxy</u>  to  use  for  transfers  with  this  easy  handle. The parameter should be a char * to a
       null-terminated string holding the hostname or dotted numerical IP address. A numerical IPv6 address must
       be written within [brackets].

       To specify port number in this string, append :[port] to the end of  the  host  name.  The  proxy's  port
       number  may  optionally  (but discouraged) be specified with the separate option <u><a href="../man3/CURLOPT_PROXYPORT.3.html">CURLOPT_PROXYPORT</a>(3)</u>. If
       not specified, libcurl defaults to using port 1080 for proxies.

       The proxy string may be prefixed with [scheme]:// to specify which kind of proxy is used.

       Using this option multiple times makes the last set string override the previous ones. Set it to NULL  to
       disable its use again.

       The application does not have to keep the string around after setting this option.

       http://
              HTTP Proxy. Default when no scheme or proxy type is specified.

       https://
              HTTPS  Proxy.  (Added  in  7.52.0  for OpenSSL and GnuTLS Since 7.87.0, it also works for BearSSL,
              mbedTLS, Rustls, Schannel, Secure Transport and wolfSSL.)

              This uses HTTP/1 by default. Setting <u><a href="../man3/CURLOPT_PROXYTYPE.3.html">CURLOPT_PROXYTYPE</a>(3)</u> to <b>CURLPROXY_HTTPS2</b>  allows  libcurl  to
              negotiate using HTTP/2 with proxy.

       socks4://
              SOCKS4 Proxy.

       socks4a://
              SOCKS4a Proxy. Proxy resolves URL hostname.

       socks5://
              SOCKS5 Proxy.

       socks5h://
              SOCKS5 Proxy. Proxy resolves URL hostname.

       Without  a  scheme  prefix,  <u><a href="../man3/CURLOPT_PROXYTYPE.3.html">CURLOPT_PROXYTYPE</a>(3)</u>  can  be used to specify which kind of proxy the string
       identifies.

       When you tell the library to use an HTTP proxy, libcurl transparently converts operations to HTTP even if
       you specify an FTP URL etc. This may have an impact on what other features of the library  you  can  use,
       such  as  <u><a href="../man3/CURLOPT_QUOTE.3.html">CURLOPT_QUOTE</a>(3)</u>  and similar FTP specifics that do not work unless you tunnel through the HTTP
       proxy. Such tunneling is activated with <u><a href="../man3/CURLOPT_HTTPPROXYTUNNEL.3.html">CURLOPT_HTTPPROXYTUNNEL</a>(3)</u>.

       Setting the proxy string to "" (an empty string) explicitly disables the use of a proxy, even if there is
       an environment variable set for it.

       Unix domain sockets are supported for socks proxies since 7.84.0. Set localhost for the host  part.  e.g.
       socks5h://localhost/path/to/socket.sock

       When you set a hostname to use, do not assume that there is any particular single port number used widely
       for proxies. Specify it.

       When a proxy is used, the active FTP mode as set with <u><a href="../man3/CUROPT_FTPPORT.3.html">CUROPT_FTPPORT</a>(3)</u>, cannot be used.

       Doing FTP over an HTTP proxy without <u><a href="../man3/CURLOPT_HTTPPROXYTUNNEL.3.html">CURLOPT_HTTPPROXYTUNNEL</a>(3)</u> set makes libcurl do HTTP with an FTP URL
       over   the   proxy.   For  such  transfers,  common  FTP  specific  options  do  not  work,  for  example
       <u><a href="../man3/CURLOPT_USE_SSL.3.html">CURLOPT_USE_SSL</a>(3)</u>.

</pre><h4><b>Authentication</b></h4><pre>
       The proxy can also be specified with its associated credentials like for  ordinary  URLs  in  the  style:
       <u>scheme://username:password@hostname</u>

       Alternatively, set them using <u><a href="../man3/CURLOPT_PROXYUSERNAME.3.html">CURLOPT_PROXYUSERNAME</a>(3)</u> and <u><a href="../man3/CURLOPT_PROXYPASSWORD.3.html">CURLOPT_PROXYPASSWORD</a>(3)</u>.

</pre><h4><b>Environment</b> <b>variables</b></h4><pre>
       libcurl  respects  the  proxy  environment variables named <b>http_proxy</b>, <b>ftp_proxy</b>, <b>sftp_proxy</b> etc. If set,
       libcurl uses the specified proxy for that URL scheme. For an "FTP://" URL, the <b>ftp_proxy</b>  is  considered.
       <b>all_proxy</b> is used if no protocol specific proxy was set.

       If <b>no_proxy</b> (or <b>NO_PROXY</b>) is set, it is the exact equivalent of setting the <u><a href="../man3/CURLOPT_NOPROXY.3.html">CURLOPT_NOPROXY</a>(3)</u> option.

       The <u><a href="../man3/CURLOPT_PROXY.3.html">CURLOPT_PROXY</a>(3)</u> and <u><a href="../man3/CURLOPT_NOPROXY.3.html">CURLOPT_NOPROXY</a>(3)</u> options override environment variables.

</pre><h4><b>DEFAULT</b></h4><pre>
       NULL

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects all supported protocols

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           curl_easy_setopt(curl, CURLOPT_URL, "https://example.com/file.txt");
           curl_easy_setopt(curl, CURLOPT_PROXY, "<a href="http://proxy">http://proxy</a>:80");
           curl_easy_perform(curl);
         }
       }

</pre><h4><b>HISTORY</b></h4><pre>
       Since 7.14.1 the proxy environment variable names can include the protocol scheme.

       Since 7.21.7 the proxy string supports the socks protocols as "schemes".

       Since 7.50.2, unsupported schemes in proxy strings cause libcurl to return error.

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.1

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLOPT_HTTPPROXYTUNNEL.3.html">CURLOPT_HTTPPROXYTUNNEL</a></b>(3), <b><a href="../man3/CURLOPT_PRE_PROXY.3.html">CURLOPT_PRE_PROXY</a></b>(3), <b><a href="../man3/CURLOPT_PROXYPORT.3.html">CURLOPT_PROXYPORT</a></b>(3), <b><a href="../man3/CURLOPT_PROXYTYPE.3.html">CURLOPT_PROXYTYPE</a></b>(3)

libcurl                                            2025-06-16                                   <u><a href="../man3/CURLOPT_PROXY.3.html">CURLOPT_PROXY</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>