<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_HTTPPROXYTUNNEL - tunnel through HTTP proxy</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_HTTPPROXYTUNNEL - tunnel through HTTP proxy

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_HTTPPROXYTUNNEL, long tunnel);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Set  the  <b>tunnel</b>  parameter  to 1L to make libcurl tunnel all operations through the HTTP proxy (set with
       <u><a href="../man3/CURLOPT_PROXY.3.html">CURLOPT_PROXY</a>(3)</u>). There is a big difference between using a proxy and to tunnel through it.

       Tunneling means that an HTTP CONNECT request is sent to the proxy, asking it to connect to a remote  host
       on  a  specific  port  number  and  then  the  traffic  is just passed through the proxy. Proxies tend to
       white-list specific port numbers it allows CONNECT requests to  and  often  only  port  80  and  443  are
       allowed.

       To suppress proxy CONNECT response headers from user callbacks use <u><a href="../man3/CURLOPT_SUPPRESS_CONNECT_HEADERS.3.html">CURLOPT_SUPPRESS_CONNECT_HEADERS</a>(3)</u>.

       HTTP  proxies  can  generally only speak HTTP (for obvious reasons), which makes libcurl convert non-HTTP
       requests to HTTP when using an HTTP proxy without this tunnel option set. For example, asking for an  FTP
       URL  and  specifying  an HTTP proxy makes libcurl send an FTP URL in an HTTP GET request to the proxy. By
       instead tunneling through the proxy, you avoid that conversion  (that  rarely  works  through  the  proxy
       anyway).

</pre><h4><b>DEFAULT</b></h4><pre>
       0

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects all supported protocols

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           curl_easy_setopt(curl, CURLOPT_URL, "<a href="ftp://example.com/file.txt">ftp://example.com/file.txt</a>");
           curl_easy_setopt(curl, CURLOPT_PROXY, "<a href="http://127.0.0.1">http://127.0.0.1</a>:80");
           curl_easy_setopt(curl, CURLOPT_HTTPPROXYTUNNEL, 1L);
           curl_easy_perform(curl);
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.3

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLOPT_PROXY.3.html">CURLOPT_PROXY</a></b>(3), <b><a href="../man3/CURLOPT_PROXYPORT.3.html">CURLOPT_PROXYPORT</a></b>(3), <b><a href="../man3/CURLOPT_PROXYTYPE.3.html">CURLOPT_PROXYTYPE</a></b>(3)

libcurl                                            2025-06-16                         <u><a href="../man3/CURLOPT_HTTPPROXYTUNNEL.3.html">CURLOPT_HTTPPROXYTUNNEL</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>