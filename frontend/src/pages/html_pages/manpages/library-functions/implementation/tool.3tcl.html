<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tool - TclOO Library (TOOL) Framework</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       tool - TclOO Library (TOOL) Framework

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.6</b> <b>9</b>

       package require <b>sha1</b>

       package require <b>dicttool</b>

       package require <b>oo::meta</b>

       package require <b>oo::dialect</b>

       tool::define <b>class_method</b> <u>arglist</u> <u>body</u>

       tool::define <b>array</b> <u>name</u> <u>contents</u>

       tool::define <b>array_ensemble</b> <u>methodname</u> <u>varname</u> ?cases?

       tool::define <b>dict_ensemble</b> <u>methodname</u> <u>varname</u> ?cases?

       tool::define <b>method</b> <u>methodname</u> <u>arglist</u> <u>body</u>

       tool::define <b>option</b> <u>name</u> <u>dictopts</u>

       tool::define <b>property</b> ?branch? <u>field</u> <u>value</u>

       tool::define <b>variable</b> <u>name</u> <u>value</u>

       <u>object</u> <b>cget</b> <u>option</u>

       <u>object</u> <b>configure</b> ?keyvaluelist?

       <u>object</u> <b>configure</b> <u>field</u> <u>value</u> ?field? ?value? ?...?

       <u>object</u> <b>configurelist</b> ?keyvaluelist?

       <u>object</u> <b>forward</b> <u>stub</u> <u>forward</u>

       <u>object</u> <b>graft</b> <u>stub</u> <u>forward</u>

       <u>object</u> <b>InitializePublic</b>

       <u>object</u> <b>Eval_Script</b> ?script?

       <u>object</u> <b>Option_Default</b> <u>field</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module implements the Tcl Object Oriented Library framework, or <u>TOOL</u>. It is intended to be a general
       purpose framework that is useable in its own right, and easily extensible.

       TOOL  defines  a  metaclass  with provides several additional keywords to the TclOO description langauge,
       default behaviors for its consituent objects, and top-down integration with the capabilities provided  by
       the <b>oo::meta</b> package.

       The  TOOL  metaclass  was  build  with  the  <b>oo::dialect</b>  package,  and thus can be used as the basis for
       additional metaclasses. As a metaclass, TOOL has it's own  "class"  class,  "object"  class,  and  define
       namespace.

              package require tool

              # tool::class workds just like oo::class
              tool::class create myclass {
              }

              # tool::define works just like oo::define
              tool::define myclass method noop {} {}

              # tool::define and tool::class understand additional keywords
              tool::define myclass array_ensemble mysettings mysettings {}

              # And tool interoperates with oo::define
              oo::define myclass method do_something {} { return something }

              # TOOL and TclOO objects are interchangeable
              oo::class create myooclass {
                superclass myclass
              }

       Several manual pages go into more detail about specific keywords and methods.

       <b>tool::array_ensemble</b>

       <b>tool::dict_ensemble</b>

       <b>tool::method_ensemble</b>

       <b>tool::object</b>

       <b>tool::option_handling</b>

</pre><h4><b>KEYWORDS</b></h4><pre>
       TOOL  adds  new  (or modifies) keywords used in the definitions of classes. However, the new keywords are
       only available via calls to <u>tool::class</u> <u>create</u> or <u>tool::define</u>

       tool::define <b>class_method</b> <u>arglist</u> <u>body</u>
              Defines a method for the class object itself. This method will be passed on to descendents of  the
              class, unlike <b>self</b> <b>method</b>.

       tool::define <b>array</b> <u>name</u> <u>contents</u>
              Declares  a  variable  <u>name</u>  which  will  be  initialized as an array, populated with <u>contents</u> for
              objects of this class, as well as any objects for classes which are descendents of this class.

       tool::define <b>array_ensemble</b> <u>methodname</u> <u>varname</u> ?cases?
              Declares a method ensemble <u>methodname</u> which will control access to variable <u>varname</u>. Cases  are  a
              key/value  list of method names and bodies which will be overlaid on top of the standard template.
              See <b>tool::array_ensemble</b>.

              One method name is reserved: <b>initialize</b>. <b>initialize</b> Declares the initial values to be populated in
              the array, as a key/value list, and will not be expressed as a method for the ensemble.

       tool::define <b>dict_ensemble</b> <u>methodname</u> <u>varname</u> ?cases?
              Declares a method ensemble <u>methodname</u> which will control access to variable <u>varname</u>. Cases  are  a
              key/value  list of method names and bodies which will be overlaid on top of the standard template.
              See <b>tool::dict_ensemble</b>.

              One method name is reserved: <b>initialize</b>. <b>initialize</b> Declares the initial values to be populated in
              the array, as a key/value list, and will not be expressed as a method for the ensemble.

       tool::define <b>method</b> <u>methodname</u> <u>arglist</u> <u>body</u>
              If <u>methodname</u> contains ::, the method  is  considered  to  be  part  of  a  method  ensemble.  See
              <b>tool::method_ensembles</b>. Otherwise this command behaves exactly like the standard <b>oo::define</b> <b>method</b>
              command.

       tool::define <b>option</b> <u>name</u> <u>dictopts</u>
              Declares  an  option.  <u>dictopts</u>  is  a  key/value  list  defining  parameters  for the option. See
              <b>tool::option_handling</b>.

              tool::class create myclass {
                option color {
                  post-command: {puts [list %self%'s %field% is now %value%]}
                  default: green
                }
              }
              myclass create foo
              foo configure color purple
              &gt; foo's color is now purple

       tool::define <b>property</b> ?branch? <u>field</u> <u>value</u>
              Defines a new leaf in the class metadata tree. With no branch, the leaf will appear in  the  <u>const</u>
              section,  accessible by either the object's <b>property</b> method, or via <b>oo::meta::info</b> <u>class</u> <b>get</b> <b>const</b>
              <u>field</u>:

       tool::define <b>variable</b> <u>name</u> <u>value</u>
              Declares a variable <u>name</u> which will be initialized with the value <u>value</u> for objects of this class,
              as well as any objects for classes which are descendents of this class.

</pre><h4><b>PUBLIC</b> <b>OBJECT</b> <b>METHODS</b></h4><pre>
       The TOOL object mother of all classes defines several methods to enforces consistent behavior  throughout
       the framework.

       <u>object</u> <b>cget</b> <u>option</u>
              Return  the  value of this object's option <u>option</u>. If the <b>property</b> <b>options_strict</b> is true for this
              class, calling an option which was not declared by the <b>option</b> keyword will throw an error. In  all
              other  cases  if  the value is present in the object's <u>options</u> array that value is returned. If it
              does not exist, the object will attempt to retrieve a property of the same name.

       <u>object</u> <b>configure</b> ?keyvaluelist?

       <u>object</u> <b>configure</b> <u>field</u> <u>value</u> ?field? ?value? ?...?
              This command will inject new values into the objects <u>options</u> array, according to the rules as  set
              forth  by  the  option  descriptions. See <b>tool::option_handling</b> for details.  <b>configure</b> will strip
              leading -'s off of field names, allowing it to behave in a quasi-backward compatible manner to  tk
              options.

       <u>object</u> <b>configurelist</b> ?keyvaluelist?
              This  command will inject new values into the objects <u>options</u> array, according to the rules as set
              forth by the option descriptions. This command  will  perform  validation  and  alternate  storage
              rules. It will not invoke trigger rules. See <b>tool::option_handling</b> for details.

       <u>object</u> <b>forward</b> <u>stub</u> <u>forward</u>
              A passthrough to <b>oo:objdefine</b> <b>[self]</b> <b>forward</b>

       <u>object</u> <b>graft</b> <u>stub</u> <u>forward</u>
              Delegates the <u>&lt;stub&gt;</u> method to the object or command designated by <u>forward</u>

              tool::object create A
              tool::object create B
              A graft buddy B
              A configure color red
              B configure color blue
              A cget color
              &gt; red
              A &lt;buddy&gt; cget color
              &gt; blue

</pre><h4><b>PRIVATE</b> <b>OBJECT</b> <b>METHODS</b></h4><pre>
       <u>object</u> <b>InitializePublic</b>
              Consults  the  metadata  for  the class to ensure every array, option, and variable which has been
              declared but not initialized is initialized with the default value.  This method is called by  the
              constructor and the morph method. It is safe to invoke multiple times.

       <u>object</u> <b>Eval_Script</b> ?script?
              Executes a block of text within the namespace of the object. Lines that begin with a # are ignored
              as  comments.  Commands  that begin with :: are interpreted as calling a global command. All other
              Tcl commands that lack a "my" prefix are given one, to  allow  the  script  to  exercise  internal
              methods.  This  method  is  intended  for  configuration  scripts,  where the object's methods are
              intepreting a domain specific language.

              tool::class myclass {
                constructor script {
                  my Eval_Script $script
                }
                method node {nodename info} {
                  my variable node
                  dict set node $nodename $info
                }
                method get {args} {
                  my variable node
                  return [dict get $node $args]
                }
              }
              myclass create movies {
                # This block of code is executed by the object
                node {The Day the Earth Stood Still} {
                  date: 1952
                  characters: {GORT Klatoo}
                }
              }
              movies get {The Day the Earth Stood Still} date:
              &gt; 1952

       <u>object</u> <b>Option_Default</b> <u>field</u>
              Computes the default value for an option. See <b>tool::option_handling</b>.

</pre><h4><b>AUTHORS</b></h4><pre>
       Sean Woods

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This document, and the package it describes, will undoubtedly contain bugs and  other  problems.   Please
       report  such in the category <u>tcloo</u> of the <u>Tcllib</u> <u>Trackers</u> [<a href="http://core.tcl.tk/tcllib/reportlist">http://core.tcl.tk/tcllib/reportlist</a>].  Please
       also report any ideas for enhancements you may have for either package and/or documentation.

       When proposing code changes, please provide <u>unified</u> <u>diffs</u>, i.e the output of <b>diff</b> <b>-u</b>.

       Note further that <u>attachments</u> are strongly preferred over inlined patches. Attachments  can  be  made  by
       going  to the <b>Edit</b> form of the ticket immediately after its creation, and then using the left-most button
       in the secondary navigation bar.

</pre><h4><b>KEYWORDS</b></h4><pre>
       TOOL, TclOO, framework

</pre><h4><b>CATEGORY</b></h4><pre>
       TclOO

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2015 Sean Woods &lt;<a href="mailto:yoda@etoyoc.com">yoda@etoyoc.com</a>&gt;

tcllib                                                 0.8                                            <u><a href="../man3tcl/tool.3tcl.html">tool</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>