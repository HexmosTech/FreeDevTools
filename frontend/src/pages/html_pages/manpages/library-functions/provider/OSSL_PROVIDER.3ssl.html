<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSSL_PROVIDER_set_default_search_path, OSSL_PROVIDER_get0_default_search_path, OSSL_PROVIDER,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       OSSL_PROVIDER_set_default_search_path, OSSL_PROVIDER_get0_default_search_path, OSSL_PROVIDER,
       OSSL_PROVIDER_load, OSSL_PROVIDER_try_load, OSSL_PROVIDER_unload, OSSL_PROVIDER_load_ex,
       OSSL_PROVIDER_try_load_ex, OSSL_PROVIDER_available, OSSL_PROVIDER_do_all, OSSL_PROVIDER_gettable_params,
       OSSL_PROVIDER_get_params, OSSL_PROVIDER_query_operation, OSSL_PROVIDER_unquery_operation,
       OSSL_PROVIDER_get0_provider_ctx, OSSL_PROVIDER_get0_dispatch, OSSL_PROVIDER_add_builtin,
       OSSL_PROVIDER_get0_name, OSSL_PROVIDER_get_capabilities, OSSL_PROVIDER_add_conf_parameter,
       OSSL_PROVIDER_get_conf_parameters, OSSL_PROVIDER_conf_get_bool, OSSL_PROVIDER_self_test - provider
       routines

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/provider.h&gt;

        typedef struct ossl_provider_st OSSL_PROVIDER;

        int OSSL_PROVIDER_set_default_search_path(OSSL_LIB_CTX *libctx,
                                                  const char *path);
        const char *OSSL_PROVIDER_get0_default_search_path(OSSL_LIB_CTX *libctx);

        OSSL_PROVIDER *OSSL_PROVIDER_load(OSSL_LIB_CTX *libctx, const char *name);
        OSSL_PROVIDER *OSSL_PROVIDER_load_ex(OSSL_LIB_CTX *, const char *name,
                                             OSSL_PARAM *params);
        OSSL_PROVIDER *OSSL_PROVIDER_try_load(OSSL_LIB_CTX *libctx, const char *name,
                                              int retain_fallbacks);
        OSSL_PROVIDER *OSSL_PROVIDER_try_load_ex(OSSL_LIB_CTX *, const char *name,
                                                 OSSL_PARAM *params,
                                                 int retain_fallbacks);
        int OSSL_PROVIDER_unload(OSSL_PROVIDER *prov);
        int OSSL_PROVIDER_available(OSSL_LIB_CTX *libctx, const char *name);
        int OSSL_PROVIDER_do_all(OSSL_LIB_CTX *ctx,
                                 int (*cb)(OSSL_PROVIDER *provider, void *cbdata),
                                 void *cbdata);

        const OSSL_PARAM *OSSL_PROVIDER_gettable_params(OSSL_PROVIDER *prov);
        int OSSL_PROVIDER_get_params(OSSL_PROVIDER *prov, OSSL_PARAM params[]);

        const OSSL_ALGORITHM *OSSL_PROVIDER_query_operation(const OSSL_PROVIDER *prov,
                                                            int operation_id,
                                                            int *no_cache);
        void OSSL_PROVIDER_unquery_operation(const OSSL_PROVIDER *prov,
                                             int operation_id,
                                             const OSSL_ALGORITHM *algs);
        void *OSSL_PROVIDER_get0_provider_ctx(const OSSL_PROVIDER *prov);
        const OSSL_DISPATCH *OSSL_PROVIDER_get0_dispatch(const OSSL_PROVIDER *prov);

        int OSSL_PROVIDER_add_builtin(OSSL_LIB_CTX *libctx, const char *name,
                                      ossl_provider_init_fn *init_fn);

        const char *OSSL_PROVIDER_get0_name(const OSSL_PROVIDER *prov);

        int OSSL_PROVIDER_get_capabilities(const OSSL_PROVIDER *prov,
                                           const char *capability,
                                           OSSL_CALLBACK *cb,
                                           void *arg);
        int OSSL_PROVIDER_add_conf_parameter(OSSL_PROVIDER *prov, const char *name,
                                             const char *value);
        int OSSL_PROVIDER_get_conf_parameters(OSSL_PROVIDER *prov,
                                              OSSL_PARAM params[]);
        int OSSL_PROVIDER_conf_get_bool(const OSSL_PROVIDER *prov,
                                        const char *name, int defval);
        int OSSL_PROVIDER_self_test(const OSSL_PROVIDER *prov);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>OSSL_PROVIDER</b> is a type that holds internal information about implementation providers (see <b><a href="../man7/provider.7.html">provider</a></b>(7)
       for information on what a provider is).  A provider can be built in to the application or the OpenSSL
       libraries, or can be a loadable module.  The functions described here handle both forms.

       Some of these functions operate within a library context, please see <b><a href="../man3/OSSL_LIB_CTX.3.html">OSSL_LIB_CTX</a></b>(3) for further details.

   <b>Functions</b>
       <b>OSSL_PROVIDER_set_default_search_path()</b> specifies the default search <u>path</u> that is to be used for looking
       for providers in the specified <u>libctx</u>.  If left unspecified, an environment variable and a fall back
       default value will be used instead.

       <b>OSSL_PROVIDER_get0_default_search_path()</b> retrieves the default search <u>path</u> that is to be used for looking
       for providers in the specified <u>libctx</u>.  If successful returns the path or empty string; the path is valid
       until the context is released or <b>OSSL_PROVIDER_set_default_search_path()</b> is called.

       <b>OSSL_PROVIDER_add_builtin()</b> is used to add a built in provider to <b>OSSL_PROVIDER</b> store in the given
       library context, by associating a provider name with a provider initialization function.  This name can
       then be used with <b>OSSL_PROVIDER_load()</b>.

       <b>OSSL_PROVIDER_load()</b> loads and initializes a provider.  This may simply initialize a provider that was
       previously added with <b>OSSL_PROVIDER_add_builtin()</b> and run its given initialization function, or load a
       provider module with the given name and run its provider entry point, "OSSL_provider_init". The <u>name</u> can
       be a path to a provider module, in that case the provider name as returned by <b>OSSL_PROVIDER_get0_name()</b>
       will be the path. Interpretation of relative paths is platform dependent and they are relative to the
       configured "MODULESDIR" directory or the path set in the environment variable OPENSSL_MODULES if set.

       <b>OSSL_PROVIDER_try_load()</b> functions like <b>OSSL_PROVIDER_load()</b>, except that it does not disable the
       fallback providers if the provider cannot be loaded and initialized or if <u>retain_fallbacks</u> is nonzero.
       If the provider loads successfully and <u>retain_fallbacks</u> is zero, the fallback providers are disabled.

       <b>OSSL_PROVIDER_load_ex()</b> and <b>OSSL_PROVIDER_try_load_ex()</b> are the variants of the previous functions
       accepting an "OSSL_PARAM" array of the parameters that are passed as the configuration of the loaded
       provider. The parameters of any type but "OSSL_PARAM_UTF8_STRING" are silently ignored. If the parameters
       are provided, they replace <b>all</b> the ones specified in the configuration file.

       <b>OSSL_PROVIDER_unload()</b> unloads the given provider.  For a provider added with
       <b>OSSL_PROVIDER_add_builtin()</b>, this simply runs its teardown function.

       <b>OSSL_PROVIDER_available()</b> checks if a named provider is available for use.

       <b>OSSL_PROVIDER_do_all()</b> iterates over all loaded providers, calling <u>cb</u> for each one, with the current
       provider in <u>provider</u> and the <u>cbdata</u> that comes from the caller. If no other provider has been loaded
       before calling this function, the default provider is still available as fallback.  See
       <b><a href="../man7/OSSL_PROVIDER-default.7.html">OSSL_PROVIDER-default</a></b>(7) for more information on this fallback behaviour.

       <b>OSSL_PROVIDER_gettable_params()</b> is used to get a provider parameter descriptor set as a constant
       <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3) array.

       <b>OSSL_PROVIDER_get_params()</b> is used to get provider parameter values.  The caller must prepare the
       <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3) array before calling this function, and the variables acting as buffers for this parameter
       array should be filled with data when it returns successfully.

       <b>OSSL_PROVIDER_add_conf_parameter()</b> sets the provider configuration parameter <u>name</u> to <u>value</u>.  Provider
       configuration parameters are managed by the OpenSSL core and normally set in the configuration file, but
       can also be set early in the main program before a provider is in use by multiple threads.  Parameters
       that only affect provider initialisation must, for now, be set in the configuration file, only parameters
       that are also queried later have any affect when set via this interface.  Only text parameters can be
       given, and it's up to the provider to interpret them.

       <b>OSSL_PROVIDER_get_conf_parameters()</b> retrieves global configuration parameters associated with <u>prov</u>.
       These configuration parameters are stored for each provider by the OpenSSL core, not the provider itself,
       parameters managed by the provider are queried via <b>OSSL_PROVIDER_get_params()</b> described above.  The
       parameters are returned by reference, not as copies, and so the elements of the <u>param</u> array must have
       <b>OSSL_PARAM_UTF8_PTR</b> as their <b>data_type</b>.

       <b>OSSL_PROVIDER_conf_get_bool()</b> parses the global configuration parameter <u>name</u> associated with provider
       <u>prov</u> as a boolean value, returning a default value <u>defval</u> when unable to retrieve or parse the parameter.
       Parameter values equal (case-insensitively) to 1, "on", "yes", or "true" yield a true (nonzero) result.
       Parameter values equal (case-insensitively) to 0, "off", "no", or "false" yield a false (zero) result.

       <b>OSSL_PROVIDER_self_test()</b> is used to run a provider's self tests on demand.  If the self tests fail then
       the provider will fail to provide any further services and algorithms. <b><a href="../man3/OSSL_SELF_TEST_set_callback.3.html">OSSL_SELF_TEST_set_callback</a></b>(3) may
       be called beforehand in order to display diagnostics for the running self tests.

       <b>OSSL_PROVIDER_query_operation()</b> calls the provider's <u>query_operation</u> function (see <b><a href="../man7/provider.7.html">provider</a></b>(7)), if the
       provider has one. It returns an array of <u>OSSL_ALGORITHM</u> for the given <u>operation_id</u> terminated by an all
       NULL OSSL_ALGORITHM entry. This is considered a low-level function that most applications should not need
       to call.

       <b>OSSL_PROVIDER_unquery_operation()</b> calls the provider's <u>unquery_operation</u> function (see <b><a href="../man7/provider.7.html">provider</a></b>(7)), if
       the provider has one.  This is considered a low-level function that most applications should not need to
       call.

       <b>OSSL_PROVIDER_get0_provider_ctx()</b> returns the provider context for the given provider. The provider
       context is an opaque handle set by the provider itself and is passed back to the provider by libcrypto in
       various function calls.

       <b>OSSL_PROVIDER_get0_dispatch()</b> returns the provider's dispatch table as it was returned in the <u>out</u>
       parameter from the provider's init function. See <b><a href="../man7/provider-base.7.html">provider-base</a></b>(7).

       If it is permissible to cache references to this array then <u>*no_store</u> is set to 0 or 1 otherwise. If the
       array is not cacheable then it is assumed to have a short lifetime.

       <b>OSSL_PROVIDER_get0_name()</b> returns the name of the given provider.

       <b>OSSL_PROVIDER_get_capabilities()</b> provides information about the capabilities supported by the provider
       specified in <u>prov</u> with the capability name <u>capability</u>. For each capability of that name supported by the
       provider it will call the callback <u>cb</u> and supply a set of <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3)s describing the capability. It
       will also pass back the argument <u>arg</u>. For more details about capabilities and what they can be used for
       please see "CAPABILTIIES" in <b><a href="../man7/provider-base.7.html">provider-base</a></b>(7).

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>OSSL_PROVIDER_set_default_search_path()</b>, <b>OSSL_PROVIDER_add()</b>, <b>OSSL_PROVIDER_unload()</b>,
       <b>OSSL_PROVIDER_get_params()</b>, <b>OSSL_PROVIDER_add_conf_parameter()</b>, <b>OSSL_PROVIDER_get_conf_parameters()</b> and
       <b>OSSL_PROVIDER_get_capabilities()</b> return 1 on success, or 0 on error.

       <b>OSSL_PROVIDER_get0_default_search_path()</b> returns a pointer to a path on success, or NULL on error or if
       the path has not previously been set.

       <b>OSSL_PROVIDER_load()</b> and <b>OSSL_PROVIDER_try_load()</b> return a pointer to a provider object on success, or
       NULL on error.

       <b>OSSL_PROVIDER_do_all()</b> returns 1 if the callback <u>cb</u> returns 1 for every provider it is called with, or 0
       if any provider callback invocation returns 0; callback processing stops at the first callback invocation
       on a provider that returns 0.

       <b>OSSL_PROVIDER_available()</b> returns 1 if the named provider is available, otherwise 0.

       <b>OSSL_PROVIDER_gettable_params()</b> returns a pointer to an array of constant <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3), or NULL if none
       is provided.

       <b>OSSL_PROVIDER_get_params()</b> and returns 1 on success, or 0 on error.

       <b>OSSL_PROVIDER_query_operation()</b> returns an array of OSSL_ALGORITHM or NULL on error.

       <b>OSSL_PROVIDER_self_test()</b> returns 1 if the self tests pass, or 0 on error.

</pre><h4><b>EXAMPLES</b></h4><pre>
       This demonstrates how to load the provider module "foo" and ask for its build information.

        #include &lt;openssl/params.h&gt;
        #include &lt;openssl/provider.h&gt;
        #include &lt;openssl/err.h&gt;

        OSSL_PROVIDER *prov = NULL;
        const char *build = NULL;
        OSSL_PARAM request[] = {
            { "buildinfo", OSSL_PARAM_UTF8_PTR, &amp;build, 0, 0 },
            { NULL, 0, NULL, 0, 0 }
        };

        if ((prov = OSSL_PROVIDER_load(NULL, "foo")) != NULL
            &amp;&amp; OSSL_PROVIDER_get_params(prov, request))
            printf("Provider 'foo' buildinfo: %s\n", build);
        else
            ERR_print_errors_fp(stderr);

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/openssl-core.h.7.html">openssl-core.h</a></b>(7), <b><a href="../man3/OSSL_LIB_CTX.3.html">OSSL_LIB_CTX</a></b>(3), <b><a href="../man7/provider.7.html">provider</a></b>(7)

</pre><h4><b>HISTORY</b></h4><pre>
       The type and functions described here were added in OpenSSL 3.0.

       The <u>OSSL_PROVIDER_load_ex</u> and <u>OSSL_PROVIDER_try_load_ex</u> functions were added in OpenSSL 3.2.

       The <u>OSSL_PROVIDER_add_conf_parameter</u>, <u>OSSL_PROVIDER_get_conf_parameters</u>, and <u>OSSL_PROVIDER_conf_get_bool</u>
       functions were added in OpenSSL 3.5.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2019-2025 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                                <u><a href="../man3SSL/OSSL_PROVIDER.3SSL.html">OSSL_PROVIDER</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>