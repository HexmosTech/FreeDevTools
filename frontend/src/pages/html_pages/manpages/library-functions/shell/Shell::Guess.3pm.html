<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shell::Guess - Make an educated guess about the shell in use</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libshell-guess-perl">libshell-guess-perl_0.10-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Shell::Guess - Make an educated guess about the shell in use

</pre><h4><b>VERSION</b></h4><pre>
       version 0.10

</pre><h4><b>SYNOPSIS</b></h4><pre>
       guessing shell which called the Perl script:

        use Shell::Guess;
        my $shell = Shell::Guess-&gt;running_shell;
        if($shell-&gt;is_c) {
          print "setenv FOO bar\n";
        } elsif($shell-&gt;is_bourne) {
          print "export FOO=bar\n";
        }

       guessing the current user's login shell:

        use Shell::Guess;
        my $shell = Shell::Guess-&gt;login_shell;
        print $shell-&gt;name, "\n";

       guessing an arbitrary user's login shell:

        use Shell::Guess;
        my $shell = Shell::Guess-&gt;login_shell('bob');
        print $shell-&gt;name, "\n";

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Shell::Guess makes a reasonably aggressive attempt to determine the shell being employed by the user,
       either the shell that executed the perl script directly (the "running" shell), or the users' login shell
       (the "login" shell).  It does this by a variety of means available to it, depending on the platform that
       it is running on.

       •   getpwent

           On UNIXy systems with getpwent, that can be used to determine the login shell.

       •   dscl

           Under  Mac  OS  X  getpwent will typically not provide any useful information, so the dscl command is
           used instead.

       •   proc file systems

           On UNIXy systems with a proc filesystems (such as Linux), Shell::Guess will attempt to  use  that  to
           determine the running shell.

       •   ps

           On  UNIXy  systems  without  a proc filesystem, Shell::Guess will use the ps command to determine the
           running shell.

       •   Win32::Getppid and Win32::Process::List

           On Windows if these modules are installed they will be used to determine  the  running  shell.   This
           method can differentiate between PowerShell, "command.com" and "cmd.exe".

       •   ComSpec

           If  the  above  method  is  inconclusive,  the  ComSpec  environment  variable  will  be consulted to
           differentiate between "command.com" or "cmd.exe" (PowerShell cannot be detected in this manner).

       •   reasonable defaults

           If the running or login shell cannot be otherwise determined, a reasonable default for your  platform
           will  be used as a fallback.  Under OpenVMS this is dcl, Windows 95/98 and MS-DOS this is command.com
           and Windows NT/2000/XP/Vista/7 this is cmd.exe.  UNIXy platforms fallback to bourne shell.

       The intended use of this module is to enable a Perl developer to write  a  script  that  generates  shell
       configurations for the calling shell so they can be imported back into the calling shell using "eval" and
       backticks or "source".  For example, if your script looks like this:

        #!<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?perl">/usr/bin/perl</a>
        use Shell::Guess;
        my $shell = Shell::Guess-&gt;running_shell;
        if($shell-&gt;is_bourne) {
          print "export FOO=bar\n";
        } else($shell-&gt;is_c) {
          print "setenv FOO bar\n";
        } else {
          die "I don't support ", $shell-&gt;name, " shell";
        }

       You can then import FOO into your bash or c shell like this:

        % eval `perl script.pl`

       or, you can write the output to a configuration file and source it:

        % perl script.pl &gt; foo.sh
        % source foo.sh

       Shell::Config::Generate  provides  a  portable interface for generating such shell configurations, and is
       designed to work with this module.

</pre><h4><b>CLASS</b> <b>METHODS</b></h4><pre>
       These class methods return an instance of Shell::Guess, which can then be interrogated  by  the  instance
       methods in the next section below.

   <b>running_shell</b>
        my $shell = Shell::Guess-&gt;running_shell;

       Returns  an  instance  of Shell::Guess based on the shell which directly started the current Perl script.
       If the running shell cannot be determined, it will return the login shell.

   <b>login_shell</b>
        my $shell = Shell::Guess-&gt;login_shell;
        my $shell = Shell::Guess-&gt;login_shell( $username )

       Returns an instance of Shell::Guess for the given user.  If no username is  specified  then  the  current
       user  will  be  used.  If no shell can be guessed then a reasonable fallback will be chosen based on your
       platform.

   <b>bash_shell</b>
        my $shell = Shell::Guess-&gt;bash_shell;

       Returns an instance of Shell::Guess for bash.

       The following instance methods will return:

       •   $shell-&gt;name = bash

       •   $shell-&gt;is_bash = 1

       •   $shell-&gt;is_bourne = 1

       •   $shell-&gt;is_unix = 1

       •   $shell-&gt;default_location = <a href="file:/bin/bash">/bin/bash</a>

       All other instance methods will return false

   <b>bourne_shell</b>
        my $shell = Shell::Guess-&gt;bourne_shell;

       Returns an instance of Shell::Guess for the bourne shell.

       The following instance methods will return:

       •   $shell-&gt;name = bourne

       •   $shell-&gt;is_bourne = 1

       •   $shell-&gt;is_unix = 1

       •   $shell-&gt;default_location = <a href="file:/bin/sh">/bin/sh</a>

       All other instance methods will return false

   <b>c_shell</b>
        my $shell = Shell::Guess-&gt;c_shell;

       Returns an instance of Shell::Guess for c shell.

       The following instance methods will return:

       •   $shell-&gt;name = c

       •   $shell-&gt;is_c = 1

       •   $shell-&gt;is_unix = 1

       •   $shell-&gt;default_location = /bin/csh

       All other instance methods will return false

   <b>cmd_shell</b>
        my $shell = Shell::Guess-&gt;cmd_shell;

       Returns an instance of Shell::Guess for the Windows NT cmd shell (cmd.exe).

       The following instance methods will return:

       •   $shell-&gt;name = cmd

       •   $shell-&gt;is_cmd = 1

       •   $shell-&gt;is_win32 = 1

       •   $shell-&gt;default_location = C:\Windows\system32\cmd.exe

       All other instance methods will return false

   <b>command_shell</b>
        my $shell = Shell::Guess-&gt;command_shell;

       Returns an instance of Shell::Guess for the Windows 95 command shell (command.com).

       The following instance methods will return:

       •   $shell-&gt;name = command

       •   $shell-&gt;is_command = 1

       •   $shell-&gt;is_win32 = 1

       •   $shell-&gt;default_location = C:\Windows\system32\command.com

       All other instance methods will return false

   <b>dcl_shell</b>
        my $shell = Shell::Guess-&gt;dcl_shell;

       Returns an instance of Shell::Guess for the OpenVMS dcl shell.

       The following instance methods will return:

       •   $shell-&gt;name = dcl

       •   $shell-&gt;is_dcl = 1

       •   $shell-&gt;is_vms = 1

       All other instance methods will return false

   <b>fish_shell</b>
        my $shell = Shell::Guess-&gt;fish_shell;

       Returns an instance of Shell::Guess for the fish shell.

       The following instance methods will return:

       •   $shell-&gt;name = fish

       •   $shell-&gt;is_fish = 1

       •   $shell-&gt;is_unix = 1

   <b>korn_shell</b>
        my $shell = Shell::Guess-&gt;korn_shell;

       Returns an instance of Shell::Guess for the korn shell.

       The following instance methods will return:

       •   $shell-&gt;name = korn

       •   $shell-&gt;is_korn = 1

       •   $shell-&gt;is_bourne = 1

       •   $shell-&gt;is_unix = 1

       •   $shell-&gt;default_location = /bin/ksh

       All other instance methods will return false

   <b>power_shell</b>
         my $shell = Shell::Guess-&gt;power_shell;

       Returns an instance of Shell::Guess for Microsoft PowerShell (either for Windows "powershell.exe" or Unix
       "pwsh").

       The following instance methods will return:

       •   $shell-&gt;name = power

       •   $shell-&gt;is_power = 1

       •   $shell-&gt;is_win32 = 1

       All other instance methods will return false

   <b>tc_shell</b>
        my $shell = Shell::Guess-&gt;tc_shell;

       Returns an instance of Shell::Guess for tcsh.

       The following instance methods will return:

       •   $shell-&gt;name = tc

       •   $shell-&gt;is_tc = 1

       •   $shell-&gt;is_c = 1

       •   $shell-&gt;is_unix = 1

       •   $shell-&gt;default_location = /bin/tcsh

       All other instance methods will return false

   <b>z_shell</b>
        my $shell = Shell::Guess-&gt;z_shell

       Returns an instance of Shell::Guess for zsh.

       The following instance methods will return:

       •   $shell-&gt;name = z

       •   $shell-&gt;is_z = 1

       •   $shell-&gt;is_bourne = 1

       •   $shell-&gt;is_unix = 1

       •   $shell-&gt;default_location = /bin/zsh

       All other instance methods will return false

</pre><h4><b>INSTANCE</b> <b>METHODS</b></h4><pre>
       The normal way to call these is by calling them on the result of either <u>running_shell</u> or <u>login_shell</u>, but
       they can also be called as class methods, in which case the currently running shell will be used, so

        Shell::Guess-&gt;is_bourne

       is the same as

        Shell::Guess-&gt;running_shell-&gt;is_bourne

   <b>is_bash</b>
        my $bool = $shell-&gt;is_bash;

       Returns true if the shell is bash.

   <b>is_bourne</b>
        my $bool = $shell-&gt;is_bourne;

       Returns true if the shell is the bourne shell, or a shell which supports  bourne  syntax  (e.g.  bash  or
       korn).

   <b>is_c</b>
        my $bool = $shell-&gt;is_c;

       Returns true if the shell is csh, or a shell which supports csh syntax (e.g. tcsh).

   <b>is_cmd</b>
        my $bool = $shell-&gt;is_cmd;

       Returns true if the shell is the Windows command.com shell.

   <b>is_command</b>
        my $bool = $shell-&gt;is_command;

       Returns true if the shell is the Windows cmd.com shell.

   <b>is_dcl</b>
        my $bool = $shell-&gt;is_dcl;

       Returns true if the shell is the OpenVMS dcl shell.

   <b>is_fish</b>
        my $bool = $shell-&gt;is_fish;

       Returns true if the shell is Fish shell.

   <b>is_korn</b>
        my $bool = $shell-&gt;is_korn;

       Returns true if the shell is the korn shell.

   <b>is_power</b>
        my $bool = $shell-&gt;is_power;

       Returns true if the shell is Windows PowerShell.

   <b>is_tc</b>
        my $bool = $shell-&gt;is_tc;

       Returns true if the shell is tcsh.

   <b>is_unix</b>
        my $bool = $shell-&gt;is_unix;

       Returns true if the shell is traditionally a UNIX shell (e.g. bourne, bash, korn)

   <b>is_vms</b>
        my $bool = $shell-&gt;is_vms;

       Returns true if the shell is traditionally an OpenVMS shell (e.g. dcl)

   <b>is_win32</b>
        my $bool = $shell-&gt;is_win32;

       Returns true if the shell is traditionally a Windows shell (command.com, cmd.exe, powershell.exe, pwsh)

   <b>is_z</b>
        my $bool = $shell-&gt;is_z;

       Returns true if the shell is zsh

   <b>name</b>
        my $name = $shell-&gt;name;

       Returns the name of the shell.

   <b>default_location</b>
        my $location = $shell-&gt;default_location;

       The  usual  location  for this shell, for example <a href="file:/bin/sh">/bin/sh</a> for bourne shell and /bin/csh for c shell.  May
       not be defined for all shells.

</pre><h4><b>CAVEATS</b></h4><pre>
       Shell::Guess shouldn't ever die or crash, instead it will attempt to make a guess or use a fallback about
       either the login or running shell even on unsupported operating systems.  The fallback is the most common
       shell on the particular platform that you are using, so on UNIXy platforms the fallback is bourne, and on
       OpenVMS the fallback is dcl.

       These are the operating systems that have been tested  in  development  and  are  most  likely  to  guess
       reliably.

       •   Linux

       •   Cygwin

       •   FreeBSD

       •   Mac OS X

       •   Windows (Strawberry Perl)

       •   Solaris (x86)

       •   MS-DOS (djgpp)

       •   OpenVMS

           Always detected as dcl (a more nuanced view of OpenVMS is probably possible, patches welcome).

       UNIXy  platforms  without a proc filesystem will use Unix::Process if installed, which will execute ps to
       determine the running shell.

       It is pretty easy to fool the -&gt;running_shell method by using  fork,  or  if  your  Perl  script  is  not
       otherwise being directly executed by the shell.

       Patches are welcome to make other platforms work more reliably.

</pre><h4><b>AUTHOR</b></h4><pre>
       Author: Graham Ollis &lt;<a href="mailto:plicease@cpan.org">plicease@cpan.org</a>&gt;

       Contributors:

       Buddy Burden (BAREFOOT)

       Julien Fiegehenn (SIMBABQUE)

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2012-2023 by Graham Ollis.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.40.0                                       2024-12-07                                  <u>Shell::<a href="../man3pm/Guess.3pm.html">Guess</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>