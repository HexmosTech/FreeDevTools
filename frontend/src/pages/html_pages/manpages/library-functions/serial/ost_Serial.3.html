<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ost::Serial - The Serial class is used as the base for all serial I/O services under APE.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libcommoncpp2-doc">libcommoncpp2-doc_1.8.1-10_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ost::Serial - The <b>Serial</b> class is used as the base for all serial I/O services under APE.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;serial.h&gt;

       Inherited by <b>ost::SerialPort</b>, and <b>ost::TTYStream</b>.

   <b>Public</b> <b>Types</b>
       enum <b>Error</b> { <b>errSuccess</b> = 0, <b>errOpenNoTty</b>, <b>errOpenFailed</b>, <b>errSpeedInvalid</b>, <b>errFlowInvalid</b>,
           <b>errParityInvalid</b>, <b>errCharsizeInvalid</b>, <b>errStopbitsInvalid</b>, <b>errOptionInvalid</b>, <b>errResourceFailure</b>,
           <b>errOutput</b>, <b>errInput</b>, <b>errTimeout</b>, <b>errExtended</b> }
       enum <b>Flow</b> { <b>flowNone</b>, <b>flowSoft</b>, <b>flowHard</b>, <b>flowBoth</b> }
       enum <b>Parity</b> { <b>parityNone</b>, <b>parityOdd</b>, <b>parityEven</b> }
       enum <b>Pending</b> { <b>pendingInput</b>, <b>pendingOutput</b>, <b>pendingError</b> }
       typedef enum <b>Error</b> <b>Error</b>
       typedef enum <b>Flow</b> <b>Flow</b>
       typedef enum <b>Parity</b> <b>Parity</b>
       typedef enum <b>Pending</b> <b>Pending</b>

   <b>Public</b> <b>Member</b> <b>Functions</b>
       virtual <b>~Serial</b> ()
           The serial base class may be 'thrown' as a result on an error, and the 'catcher' may then choose to
           destory the object.
       <b>Serial</b> &amp; <b>operator=</b> (const <b>Serial</b> &amp;from)
           <b>Serial</b> ports may also be duplecated by the assignment operator.
       <b>Error</b> <b>setSpeed</b> (unsigned long speed)
           Set serial port speed for both input and output.
       <b>Error</b> <b>setCharBits</b> (int bits)
           Set character size.
       <b>Error</b> <b>setParity</b> (<b>Parity</b> parity)
           Set parity mode.
       <b>Error</b> <b>setStopBits</b> (int bits)
           Set number of stop bits.
       <b>Error</b> <b>setFlowControl</b> (<b>Flow</b> flow)
           Set flow control.
       void <b>toggleDTR</b> (<b>timeout_t</b> millisec)
           Set the DTR mode off momentarily.
       void <b>sendBreak</b> (void)
           Send the 'break' signal.
       <b>Error</b> <b>getErrorNumber</b> (void)
           Often used by a 'catch' to fetch the last error of a thrown serial.
       char * <b>getErrorString</b> (void)
           Often used by a 'catch' to fetch the user set error string of a thrown serial.
       int <b>getBufferSize</b> (void)
           Get the 'buffer' size for buffered operations.
       virtual bool <b>isPending</b> (<b>Pending</b> pend, <b>timeout_t</b> timeout=<b>TIMEOUT_INF</b>)
           Get the status of pending operations.

   <b>Protected</b> <b>Member</b> <b>Functions</b>
       void <b>open</b> (const char *fname)
           Opens the serial device.
       void <b>close</b> (void)
           Closes the serial device.
       virtual int <b>aRead</b> (char *Data, const int Length)
           Reads from serial device.
       virtual int <b>aWrite</b> (const char *Data, const int Length)
           Writes to serial device.
       <b>Error</b> <b>error</b> (<b>Error</b> error, char *errstr=NULL)
           This service is used to throw all serial errors which usually occur during the serial constructor.
       void <b>error</b> (char *err)
           This service is used to thow application defined serial errors where the application specific error
           code is a string.
       void <b>setError</b> (bool enable)
           This method is used to turn the error handler on or off for 'throwing' execptions by manipulating the
           thrown flag.
       int <b>setPacketInput</b> (int size, unsigned char btimer=0)
           Set packet read mode and 'size' of packet read buffer.
       int <b>setLineInput</b> (char newline=13, char nl1=0)
           Set 'line buffering' read mode and specifies the newline character to be used in seperating line
           records.
       void <b>restore</b> (void)
           Restore serial device to the original settings at time of open.
       void <b>flushInput</b> (void)
           Used to flush the input waiting queue.
       void <b>flushOutput</b> (void)
           Used to flush any pending output data.
       void <b>waitOutput</b> (void)
           Used to wait until all output has been sent.
       void <b>endSerial</b> (void)
           Used as the default destructor for ending serial I/O services.
       void <b>initConfig</b> (void)
           Used to initialize a newly opened serial file handle.
       <b>Serial</b> ()
           This allows later ttystream class to open and close a serial device.
       <b>Serial</b> (const char *name)
           A serial object may be constructed from a named file on the file system.

   <b>Protected</b> <b>Attributes</b>
       <b>HANDLE</b> <b>dev</b>
       int <b>bufsize</b>

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       The <b>Serial</b> class is used as the base for all serial I/O services under APE.

       A serial is a system serial port that is used either for line or packet based data input. <b>Serial</b> ports
       may also be 'streamable' in a derived form.

       Common C++ serial I/O classes are used to manage serial devices and implement serial device protocols.
       From the point of view of Common C++, serial devices are supported by the underlying Posix specified
       'termios' call interface.

       The serial I/O base class is used to hold a descriptor to a serial device and to provide an exception
       handling interface for all serial I/O classes. The base class is also used to specify serial I/O
       properties such as communication speed, flow control, data size, and parity. The 'Serial' base class is
       not itself directly used in application development, however.

       Common C++ <b>Serial</b> I/O is itself divided into two conceptual modes; frame oriented and line oriented I/O.
       Both frame and line oriented I/O makes use of the ability of the underlying tty driver to buffer data and
       return 'ready' status from when select either a specified number of bytes or newline record has been
       reached by manipulating termios c_cc fields appropriately. This provides some advantage in that a given
       thread servicing a serial port can block and wait rather than have to continually poll or read each and
       every byte as soon as it appears at the serial port.

       <b>Author</b>
           David Sugar <a href="mailto:dyfet@ostel.com">dyfet@ostel.com</a>

       base class for all serial I/O services.

</pre><h4><b>Member</b> <b>Typedef</b> <b>Documentation</b></h4><pre>
   <b>typedef</b> <b>enum</b> <b>Error</b> <b>ost::Serial::Error</b>
   <b>typedef</b> <b>enum</b> <b>Flow</b> <b>ost::Serial::Flow</b>
   <b>typedef</b> <b>enum</b> <b>Parity</b> <b>ost::Serial::Parity</b>
   <b>typedef</b> <b>enum</b> <b>Pending</b> <b>ost::Serial::Pending</b>
</pre><h4><b>Member</b> <b>Enumeration</b> <b>Documentation</b></h4><pre>
   <b>enum</b> <b>ost::Serial::Error</b>
       <b>Enumerator</b>

       <u>errSuccess</u>

       <u>errOpenNoTty</u>

       <u>errOpenFailed</u>

       <u>errSpeedInvalid</u>

       <u>errFlowInvalid</u>

       <u>errParityInvalid</u>

       <u>errCharsizeInvalid</u>

       <u>errStopbitsInvalid</u>

       <u>errOptionInvalid</u>

       <u>errResourceFailure</u>

       <u>errOutput</u>

       <u>errInput</u>

       <u>errTimeout</u>

       <u>errExtended</u>

   <b>enum</b> <b>ost::Serial::Flow</b>
       <b>Enumerator</b>

       <u>flowNone</u>

       <u>flowSoft</u>

       <u>flowHard</u>

       <u>flowBoth</u>

   <b>enum</b> <b>ost::Serial::Parity</b>
       <b>Enumerator</b>

       <u>parityNone</u>

       <u>parityOdd</u>

       <u>parityEven</u>

   <b>enum</b> <b>ost::Serial::Pending</b>
       <b>Enumerator</b>

       <u>pendingInput</u>

       <u>pendingOutput</u>

       <u>pendingError</u>

</pre><h4><b>Constructor</b> <b>&amp;</b> <b>Destructor</b> <b>Documentation</b></h4><pre>
   <b>ost::Serial::Serial</b> <b>()</b> <b>[inline],</b>  <b>[protected]</b>
       This allows later ttystream class to open and close a serial device.

   <b>ost::Serial::Serial</b> <b>(const</b> <b>char</b> <b>*</b> <b>name)</b> <b>[protected]</b>
       A  serial  object  may  be  constructed  from  a named file on the file system. This named device must be
       'isatty()'.

       <b>Parameters</b>
           <u>name</u> of file.

   <b>virtual</b> <b>ost::Serial::~Serial</b> <b>()</b> <b>[virtual]</b>
       The serial base class may be 'thrown' as a result on an error, and  the  'catcher'  may  then  choose  to
       destory  the  object.  By  assuring the socket base class is a virtual destructor, we can assure the full
       object is properly terminated.

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>virtual</b> <b>int</b> <b>ost::Serial::aRead</b> <b>(char</b> <b>*</b> <b>Data,</b> <b>const</b> <b>int</b> <b>Length)</b> <b>[protected],</b>  <b>[virtual]</b>
       Reads from serial device.

       <b>Parameters</b>
           <u>Data</u> Point to character buffer to receive data. Buffers MUST be at least Length + 1 bytes in size.
           <u>Length</u> <b>Number</b> of bytes to read.

   <b>virtual</b> <b>int</b> <b>ost::Serial::aWrite</b> <b>(const</b> <b>char</b> <b>*</b> <b>Data,</b> <b>const</b> <b>int</b> <b>Length)</b> <b>[protected],</b>  <b>[virtual]</b>
       Writes to serial device.

       <b>Parameters</b>
           <u>Data</u> Point to character buffer containing data to write. Buffers MUST
           <u>Length</u> <b>Number</b> of bytes to write.

   <b>void</b> <b>ost::Serial::close</b> <b>(void)</b> <b>[protected]</b>
       Closes the serial device.

   <b>void</b> <b>ost::Serial::endSerial</b> <b>(void)</b> <b>[protected]</b>
       Used as the default destructor for ending serial I/O services. It will restore the port to it's  original
       state.

   <b>void</b> <b>ost::Serial::error</b> <b>(char</b> <b>*</b> <b>err)</b> <b>[inline],</b>  <b>[protected]</b>
       This  service is used to thow application defined serial errors where the application specific error code
       is a string.

       <b>Parameters</b>
           <u>err</u> string or message to pass.

       References ost::error().

   <b>Error</b> <b>ost::Serial::error</b> <b>(Error</b> <b>error,</b> <b>char</b> <b>*</b> <b>errstr</b> <b>=</b> <b>NULL)</b> <b>[protected]</b>
       This service is used to throw all serial errors which usually occur during the serial constructor.

       <b>Parameters</b>
           <u>error</u> defined serial error id.
           <u>errstr</u> string or message to optionally pass.

   <b>void</b> <b>ost::Serial::flushInput</b> <b>(void)</b> <b>[protected]</b>
       Used to flush the input waiting queue.

   <b>void</b> <b>ost::Serial::flushOutput</b> <b>(void)</b> <b>[protected]</b>
       Used to flush any pending output data.

   <b>int</b> <b>ost::Serial::getBufferSize</b> <b>(void)</b> <b>[inline]</b>
       Get the 'buffer' size for buffered operations. This can be used when setting packet or line read modes to
       determine how many bytes to wait for in a given read call.

       <b>Returns</b>
           number of bytes used for buffering.

   <b>Error</b> <b>ost::Serial::getErrorNumber</b> <b>(void)</b> <b>[inline]</b>
       Often used by a 'catch' to fetch the last error of a thrown serial.

       <b>Returns</b>
           error numbr of last Error.

   <b>char*</b> <b>ost::Serial::getErrorString</b> <b>(void)</b> <b>[inline]</b>
       Often used by a 'catch' to fetch the user set error string of a thrown serial.

       <b>Returns</b>
           string for error message.

   <b>void</b> <b>ost::Serial::initConfig</b> <b>(void)</b> <b>[protected]</b>
       Used to initialize a newly opened serial file handle. You should set serial properties and  DTR  manually
       before first use.

   <b>virtual</b> <b>bool</b> <b>ost::Serial::isPending</b> <b>(Pending</b> <b>pend,</b> <b>timeout_t</b> <b>timeout</b> <b>=</b> <b>TIMEOUT_INF)</b> <b>[virtual]</b>
       Get the status of pending operations. This can be used to examine if input or output is waiting, or if an
       error has occured on the serial device.

       <b>Returns</b>
           true if ready, false if timeout.

       <b>Parameters</b>
           <u>pend</u> ready check to perform.
           <u>timeout</u> in milliseconds.

       Reimplemented in <b>ost::TTYStream</b>.

   <b>void</b> <b>ost::Serial::open</b> <b>(const</b> <b>char</b> <b>*</b> <b>fname)</b> <b>[protected]</b>
       Opens the serial device.

       <b>Parameters</b>
           <u>fname</u> Pathname of device to open

   <b>Serial&amp;</b> <b>ost::Serial::operator=</b> <b>(const</b> <b>Serial</b> <b>&amp;</b> <b>from)</b>
       <b>Serial</b> ports may also be duplecated by the assignment operator.

   <b>void</b> <b>ost::Serial::restore</b> <b>(void)</b> <b>[protected]</b>
       Restore serial device to the original settings at time of open.

   <b>void</b> <b>ost::Serial::sendBreak</b> <b>(void)</b>
       Send the 'break' signal.

   <b>Error</b> <b>ost::Serial::setCharBits</b> <b>(int</b> <b>bits)</b>
       Set character size.

       <b>Returns</b>
           0 on success.

       <b>Parameters</b>
           <u>bits</u> character size to use (usually 7 or 8).

   <b>void</b> <b>ost::Serial::setError</b> <b>(bool</b> <b>enable)</b> <b>[inline],</b>  <b>[protected]</b>
       This  method  is  used  to turn the error handler on or off for 'throwing' execptions by manipulating the
       thrown flag.

       <b>Parameters</b>
           <u>enable</u> true to enable handler.

   <b>Error</b> <b>ost::Serial::setFlowControl</b> <b>(Flow</b> <b>flow)</b>
       Set flow control.

       <b>Returns</b>
           0 on success.

       <b>Parameters</b>
           <u>flow</u> control mode.

   <b>int</b> <b>ost::Serial::setLineInput</b> <b>(char</b> <b>newline</b> <b>=</b> <b>13,</b> <b>char</b> <b>nl1</b> <b>=</b> <b>0)</b> <b>[protected]</b>
       Set 'line buffering' read mode and specifies the newline character to be used in seperating line records.
       isPending can then be used to wait for an entire line of input.

       <b>Parameters</b>
           <u>newline</u> newline character.
           <u>nl1</u> EOL2 control character.

       <b>Returns</b>
           size of conical input buffer.

   <b>int</b> <b>ost::Serial::setPacketInput</b> <b>(int</b> <b>size,</b> <b>unsigned</b> <b>char</b> <b>btimer</b> <b>=</b> <b>0)</b> <b>[protected]</b>
       Set packet read mode and 'size' of packet read buffer. This sets VMIN to x. VTIM is normally set  to  '0'
       so that 'isPending()' can wait for an entire packet rather than just the first byte.

       <b>Returns</b>
           actual buffer size set.

       <b>Parameters</b>
           <u>size</u> of packet read request.
           <u>btimer</u> optional inter-byte data packet timeout.

   <b>Error</b> <b>ost::Serial::setParity</b> <b>(Parity</b> <b>parity)</b>
       Set parity mode.

       <b>Returns</b>
           0 on success.

       <b>Parameters</b>
           <u>parity</u> mode.

   <b>Error</b> <b>ost::Serial::setSpeed</b> <b>(unsigned</b> <b>long</b> <b>speed)</b>
       Set serial port speed for both input and output.

       <b>Returns</b>
           0 on success.

       <b>Parameters</b>
           <u>speed</u> to select. 0 signifies modem 'hang up'.

   <b>Error</b> <b>ost::Serial::setStopBits</b> <b>(int</b> <b>bits)</b>
       Set number of stop bits.

       <b>Returns</b>
           0 on success.

       <b>Parameters</b>
           <u>bits</u> stop bits.

   <b>void</b> <b>ost::Serial::toggleDTR</b> <b>(timeout_t</b> <b>millisec)</b>
       Set the DTR mode off momentarily.

       <b>Parameters</b>
           <u>millisec</u> number of milliseconds.

   <b>void</b> <b>ost::Serial::waitOutput</b> <b>(void)</b> <b>[protected]</b>
       Used to wait until all output has been sent.

</pre><h4><b>Member</b> <b>Data</b> <b>Documentation</b></h4><pre>
   <b>int</b> <b>ost::Serial::bufsize</b> <b>[protected]</b>
   <b>HANDLE</b> <b>ost::Serial::dev</b> <b>[protected]</b>
   <b>bool</b> <b>ost::Serial::linebuf</b>
   <b>bool</b> <b>ost::Serial::thrown</b>
</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for GNU CommonC++ from the source code.

GNU CommonC++                                    Sun Dec 27 2020                                  <u>ost::<a href="../man3/Serial.3.html">Serial</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>