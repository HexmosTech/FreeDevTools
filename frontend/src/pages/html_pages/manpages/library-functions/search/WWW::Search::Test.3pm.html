<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WWW::Search::Test - utilities to aid in testing WWW::Search backends</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libwww-search-perl">libwww-search-perl_2.51.90+~cs6.78-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       WWW::Search::Test - utilities to aid in testing WWW::Search backends

</pre><h4><b>SYNOPSIS</b></h4><pre>
         $oTest = new WWW::Search::Test('HotBot,Yahoo,Excite');
         $oTest-&gt;test('HotBot', 'Kingpin', 'one', $sQuery, $TEST_RANGE, 1, 10);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       See file test.pl in the WWW-Search-HotBot distribution for a detailed "real-world" example.

</pre><h4><b>METHODS</b> <b>AND</b> <b>FUNCTIONS</b></h4><pre>
   <b>find_websearch</b>
       Returns the full path of an executable WebSearch program, or undef if none can be found.

   <b>new</b>
       Create a new WWW::Search::Test object.  All arguments are strings, names of backends that this object
       will be able to test.  If no arguments are given, will be able to test all backends.

   <b>mode</b>
       Set / get the test mode of this object.  If an argument is given, sets the mode to that value.  Returns
       the current (or newly set) value.

       There are three test modes available.  They are:

         $MODE_INTERNAL: parse URLs out of saved pages (as a sanity check or regression test);
         $MODE_EXTERNAL: send the query to the search engine "live", parse the results, and compare them to the previously saved results;
       and
         $MODE_UPDATE: send the query to the search engine "live", parse the results, and save them for future testing.

   <b>relevant_test</b>
       Given the name of a backend, returns true if this Test object is able to test that backend.

   <b>eval_test</b>
       Given the name of a backend, grabs the $TEST_CASES variable from that backend and evaluates it.

   <b>test</b>
       Run test(s) for a backend.  Arguments are, in order: name of a backend to test (string, required); name
       of backend maintainer (string, if undef $backend::MAINTAINER will be used); filename for results
       storage/comparison (string, required); query to be sent to backend (string, required); test method
       (required, one of the following).

       Several test methods are possible:

         $TEST_EXACTLY: list of URLs must match exactly (line for line, in order);
         $TEST_BY_COUNTING: test passes if number of resulting URLs is equal;
         $TEST_GREATER_THAN: test passes if we get more than N result URLs;
       and
         $TEST_RANGE: like $TEST_GREATER_THAN but constrained on both ends.

   <b>no_test</b>
       Prints a message stating that this backend does not have a test suite.  Takes two arguments, the backend
       name and the name of the maintainer.

   <b>not_working</b>
       Prints a message stating that this backend is known to be broken.  Takes two arguments, the backend name
       and the name of the maintainer.

   <b>not_working_with_tests</b>
       Prints a message stating that this backend is known to be broken even though it has a test suite.  Takes
       two arguments, the backend name and the name of the maintainer.

   <b>not_working_and_abandoned</b>
       Prints a message stating that this backend is known to be broken and is not being actively maintained.
       Takes two arguments, the backend name and the name of the maintainer.

   <b>reset_error_count</b>
       Reset the counter of errors to zero.  You probably want to call this before each call to <b>test()</b> or
       <b>eval_test()</b>.

   <b>wc_l</b> <b>(private,</b> <b>not</b> <b>a</b> <b>method)</b>
       Given a filename, count the number of lines of text contained within the file.  (I.e. simulate running
       UNIX command "wc -l" on a file)

   <b>diff</b> <b>(private,</b> <b>not</b> <b>a</b> <b>method)</b>
       Given two files, returns TRUE if contents are line-by-line different, or FALSE if contents are line-by-
       line same.  (I.e. like the UNIX command diff, but just reports true or false)

   <b>Shortcuts</b> <b>for</b> <b>running</b> <b>backend</b> <b>tests</b>
       WWW::Search::Test keeps its own count of test numbers, so if you want to mix-and-match these functions
       with your own tests, use the $WWW::Search::Test::iTest counter.

   <b>new_engine</b>
       One argument: the name of a backend suitable to be passed to <b>WWW::Search::new()</b>.  Prints 'ok' or 'not ok'
       and the test number.  Creates a WWW::Search object internally, to be used for all subsequent calls to
       run_test and run_gui_test (see below).

   <b>tm_new_engine</b>
       Same as <b>new_engine()</b>, but uses Test::More instead of just printing 'ok'.

   <b>run_test</b>
       Three arguments: a query string, NOT escaped; a minimum number of expected results; and a maximum number
       of expected results.  Optional fourth argument: integer value to be used as the search_debug.  Optional
       fifth argument: send any true value to dump the search results.  Optional sixth argument: reference to
       hash of search options (see backend documentation).  Optional seventh argument: send any true value to
       NOT escape the query string.

       If the minimum is undef, assumes zero.  If the maximum is undef, does not check.

       Prints 'ok' or 'not ok' and the test number.

   <b>run_gui_test</b>
       Same as <b>run_test()</b>, but calls <b>gui_query()</b> instead of <b>native_query()</b>.

   <b>tm_run_test</b>
       Same as <b>run_test()</b>, but uses Test::More rather than just printing 'ok'.

       Note: If you use this function inside a TODO block, you must set global variable $TODO rather than a
       local $TODO, and you must set the global $TODO back to empty-string (or undef) at the end of your TODO
       block.  For example:

         TODO:
           {
           $TODO = 'I have not fixed this yet';
           tm_run_test(...);
           $TODO = '';
           } # end of TODO block

   <b>tm_run_test_no_approx</b>
       Same as tm_run_test, but does NOT check the approximate_result_count.

   <b>count_results</b>
       Run a query, and return the actual (not approximate) number of hits.  Required first argument determines
       which backend query method to call: 'gui' to call <b>gui_query()</b>, anything else to call <b>native_query()</b>.
       Remaining arguments are same as all the <b>run_test()</b> arguments.

   <b>skip_test</b>
       You can call this function instead of <b>run_test()</b> or <b>run_gui_test()</b> if the current test must be skipped
       for any reason.

   <b>test_most_results</b>
       Given an arrayref of things to test, runs all those things against all the results of the most-recently
       executed test search.

perl v5.30.3                                       2020-09-10                             <u>WWW::Search::<a href="../man3pm/Test.3pm.html">Test</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>