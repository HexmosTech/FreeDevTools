<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mansearch — search manual page databases</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmandoc-dev">libmandoc-dev_1.14.6-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mansearch — search manual page databases

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/stdint.h">stdint.h</a>&gt;</b>
       <b>#include</b> <b>&lt;manconf.h&gt;</b>
       <b>#include</b> <b>&lt;mansearch.h&gt;</b>

       <u>int</u>
       <b>mansearch</b>(<u>const</u> <u>struct</u> <u>mansearch</u> <u>*search</u>,     <u>const</u> <u>struct</u> <u>manpaths</u> <u>*paths</u>,    <u>int</u> <u>argc</u>,    <u>char</u> <u>*argv[]</u>,
           <u>struct</u> <u>manpage</u> <u>**res</u>, <u>size_t</u> <u>*sz</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>mansearch</b>() function returns information about manuals matching a search query  from  a  <u><a href="../man5/mandoc.db.5.html">mandoc.db</a></u>(5)
       database.

       The query arguments are as follows:

       <u>const</u> <u>struct</u> <u>mansearch</u> <u>*search</u>
               Search options, defined in &lt;<u>mansearch.h</u>&gt;.

       <u>const</u> <u>struct</u> <u>manpaths</u> <u>*paths</u>
               Directories to be searched, defined in &lt;<u>manconf.h</u>&gt;.

       <u>int</u> <u>argc</u>, <u>char</u> <u>*argv[]</u>
               Search criteria, usually taken from the command line.

       The output arguments are as follows:

       <u>struct</u> <u>manpage</u> <u>**res</u>
               Returns  a  pointer  to  an  array  of  result  structures defined in &lt;<u>mansearch.h</u>&gt;.  The user is
               expected to call <u><a href="../man3/free.3.html">free</a></u>(3) on the <u>file</u>, <u>names</u>, and <u>output</u> fields of all structures, as well as  the
               <u>res</u> array itself.

       <u>size_t</u> <u>*sz</u>
               Returns the number of result structures contained in <u>res</u>.

</pre><h4><b>IMPLEMENTATION</b> <b>NOTES</b></h4><pre>
       For  each manual page tree, the search is done in two steps.  In the first step, a list of pages matching
       the search criteria is built.  In the second  step,  the  requested  information  about  these  pages  is
       retrieved from the database and assembled into the <u>res</u> array.

       All function mentioned here are defined in the file <u>mansearch.c</u>.

   <b>Finding</b> <b>matches</b>
       Command line parsing is done by the function <b>exprcomp</b>() building a singly linked list of <u>expr</u> structures,
       using the helper functions <b>expr_and</b>() and <b>exprterm</b>().

   <b>Assembling</b> <b>the</b> <b>results</b>
       The  names,  sections,  and  architectures of the manuals found are assembled into the <u>names</u> field of the
       result structure by the function <b>buildnames</b>().

</pre><h4><b>FILES</b></h4><pre>
       <u>mandoc.db</u>  The manual page database.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/apropos.1.html">apropos</a></u>(1), <u><a href="../man5/mandoc.db.5.html">mandoc.db</a></u>(5), <u><a href="../man8/makewhatis.8.html">makewhatis</a></u>(8)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>mansearch</b>() subsystem first appeared in OpenBSD 5.6.

</pre><h4><b>AUTHORS</b></h4><pre>
       A module to search manual page databases was first written  by  Kristaps  Dzonsons  &lt;<u><a href="mailto:kristaps@bsd.lv">kristaps@bsd.lv</a></u>&gt;  in
       2011,  at  first  using  the  Berkeley  DB;  he  rewrote  it  for  SQLite3  in  2012,  and  Ingo Schwarze
       &lt;<u><a href="mailto:schwarze@openbsd.org">schwarze@openbsd.org</a></u>&gt; removed the dependency on SQLite3 in 2016.

Debian                                           March 30, 2017                                     <u><a href="../man3/MANSEARCH.3.html">MANSEARCH</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>