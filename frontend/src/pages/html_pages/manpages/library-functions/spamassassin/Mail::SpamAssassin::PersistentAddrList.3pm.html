<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::SpamAssassin::PersistentAddrList - persistent address list base class</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/spamassassin">spamassassin_4.0.1-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::SpamAssassin::PersistentAddrList - persistent address list base class

</pre><h4><b>SYNOPSIS</b></h4><pre>
         my $factory = PersistentAddrListSubclass-&gt;new();
         $spamtest-&gt;set_persistent_addr_list_factory ($factory);
         ... call into SpamAssassin classes...

       SpamAssassin will call:

         my $addrlist = $factory-&gt;new_checker($spamtest);
         $entry = $addrlist-&gt;get_addr_entry ($addr);
         ...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       All persistent address list implementations, used by the auto-welcomelist code to track known-good email
       addresses, use this as a base class.

       See "Mail::SpamAssassin::DBBasedAddrList" for an example.

</pre><h4><b>METHODS</b></h4><pre>
       $factory = PersistentAddrListSubclass-&gt;<b>new()</b>;
           This  creates  a  factory object, which SpamAssassin will call to create a new checker object for the
           persistent address list.

       my $addrlist = $factory-&gt;<b>new_checker()</b>;
           Create a new address-list checker object from the factory. Called by the SpamAssassin classes.

       $entry = $addrlist-&gt;get_addr_entry ($addr);
           Given an email address $addr, return an entry object with the details of that address.

           The entry object is a reference to a hash, which must contain at least two keys:  "count",  which  is
           the  count  of  times that address has been encountered before; and "totscore", which is the total of
           all scores for messages associated with that address.  From these two fields, an average  score  will
           be  calculated,  and  the  score  for the current message will be regressed towards that mean message
           score.

           The hash can contain whatever other data your back-end needs to store, under other keys.

           The method should never return "undef", or a  hash  that  does  not  contain  a  "count"  key  and  a
           "totscore" key.

       $entry = $addrlist-&gt;add_score($entry, $score);
           This  method  should  add  the  given score to the welcomelist database for the given entry, and then
           return the new entry.

       $entry = $addrlist-&gt;remove_entry ($entry);
           This method should remove the given entry from the welcomelist database.

       $entry = $addrlist-&gt;finish ();
           Clean up, if necessary.  Called by SpamAssassin when it has finished  checking,  or  adding  to,  the
           auto-welcomelist database.

perl v5.40.1                                       2025-06-26             <u>Mail::<a href="../man3pm/SpamAssas...sistentAddrList.3pm.html">SpamAssas...sistentAddrList</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>