<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meta::Builder::Base - Base class for Meta::Builder Meta Objects.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmeta-builder-perl">libmeta-builder-perl_0.004-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Meta::Builder::Base - Base class for Meta::Builder Meta Objects.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Base class for all Meta::Builder Meta objects. This is where the methods used to define new metrics and
       actions live. This class allows for the creation of dynamic meta objects.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       My/Meta.pm:

           package My::Meta;
           use strict;
           use warnings;

           use base 'Meta::Builder::Base';

           # Name the accessor that will be defined in the class that uses the meta object
           # It is used to retrieve the classes meta object.
           __PACKAGE__-&gt;set_accessor( "mymeta" );

           # Add a metric with two actions
           __PACKAGE__-&gt;add_metric(
               mymetric =&gt; sub { [] },
               pop =&gt; sub {
                   my $self = shift;
                   my ( $data ) = @_;
                   pop @$data;
               },
               push =&gt; sub {
                   my $self = shift;
                   my ( $data, $metric, $action, @args ) = @_;
                   push @$data =&gt; @args;
               }
           );

           # Add an additional action to the metric
           __PACKAGE__-&gt;add_action( 'mymetric', get_ref =&gt; sub { shift });

           # Add some predefined metric types + actions
           __PACKAGE__-&gt;add_hash_metric( 'my_hashmetric' );
           __PACKAGE__-&gt;add_lists_metric( 'my_listsmetric' );

       My.pm:

           package My;
           use strict;
           use warnings;

           use My::Meta;

           My::Meta-&gt;new( __PACKAGE__ );

           # My::Meta defines mymeta() as the accessor we use to get our meta object.
           # this is the ONLY way to get the meta object for this class.

           mymeta()-&gt;mymetric_push( "some data" );
           mymeta()-&gt;my_hashmetric_add( key =&gt; 'value' );
           mymeta()-&gt;my_listsmetric_push( list =&gt; qw/valueA valueB/ );

           # It works fine as an object/class method as well.
           __PACKAGE__-&gt;mymeta-&gt;do_thing(...);

           ...;

</pre><h4><b>PACKAGE</b> <b>METRIC</b></h4><pre>
       Whenever you create a new instance of a meta-object you must provide the name of the package to which the
       meta-object belongs. The 'package' metric will be set to this package name, and can be retrieved via the
       'package' method: "$meta-"<b>package()</b>&gt;.

</pre><h4><b>HASH</b> <b>METRICS</b></h4><pre>
       Hash metrics are metrics that hold key/value pairs. A hash metric is defined using either the
       "hash_metric()" function, or the "$meta-"<b>add_hash_metric()</b>&gt; method. The following actions are
       automatically defined for hash metrics:

       $meta-&gt;add_METRIC( $key, $value )
           Add a key/value pair to the metric. Will throw an exception if the metric already has a value for the
           specified key.

       $value = $meta-&gt;get_METRIC( $key )
           Get the value for a specified key.

       $bool = $meta-&gt;has_METRIC( $key )
           Check that the metric has the specified key defined.

       $meta-&gt;clear_METRIC( $key )
           Clear the specified key/value pair in the metric. (returns nothing)

       $value = $meta-&gt;pull_METRIC( $key )
           Get the value for the specified key, then clear the pair form the metric.

</pre><h4><b>LISTS</b> <b>METRICS</b></h4><pre>
       $meta-&gt;push_METRIC( $key, @values )
           Push values into the specified list for the given metric.

       @values = $meta-&gt;get_METRIC( $key )
           Get the values for a specified key.

       $bool = $meta-&gt;has_METRIC( $key )
           Check that the metric has the specified list.

       $meta-&gt;clear_METRIC( $key )
           Clear the specified list in the metric. (returns nothing)

       @values = $meta-&gt;pull_METRIC( $key )
           Get the values for the specified list in the metric, then clear the list.

</pre><h4><b>CLASS</b> <b>METHODS</b></h4><pre>
       $meta = $class-&gt;new( $package, %metrics )
           Create a new instance of the meta-class, and apply it to $package.

       $metadata = $class-&gt;<b>meta_meta()</b>
           Get the meta data for the meta-class itself. (The meta-class is build using meta-data)

       $new_hashref = $class-&gt;<b>gen_hash()</b>
           Generate a new empty hashref.

       $name = $class-&gt;action_method_name( $metric, $action )
           Generate the name of the method for the given metric and action. Override this if you do not like the
           <b>METRIC_ACTION()</b> method names.

</pre><h4><b>OBJECT</b> <b>METHODS</b></h4><pre>
       $package = $meta-&gt;<b>package()</b>
           Get the name of the package to which this meta-class applies.

       $meta-&gt;set_accessor( $name )
           Set the accessor that is used to retrieve the meta-object from the class to which it applies.

       $meta-&gt;add_hash_metric( $metric, %actions )
           Add a hash metric (see "HASH METRICS").

           %actions should contain "action =&lt;gt" sub {...}&gt; pairs for constructing actions (See <b>add_action()</b>).

       $meta-&gt;add_lists_metric( $metric, %actions )
           Add a lists metric (see "LISTS METRICS")

           %actions should contain "action =&lt;gt" sub {...}&gt; pairs for constructing actions (See <b>add_action()</b>).

       $meta-&gt;add_metric( $metric, \&amp;generator, %actions )
           Add  a  custom  metric.  The  second  argument should be a sub that generates a default value for the
           metric.

           %actions should contain "action =&lt;gt" sub {...}&gt; pairs for constructing actions (See <b>add_action()</b>).

       $meta-&gt;add_action( $metric, $action =&gt; sub { ... } )
           Add an action for the specified metric. See "ACTION AND HOOK METHODS" for details on how to write  an
           action coderef.

       $meta-&gt;hook_before( $metric, $action, sub { ... })
           Add a hook for the specified metric. See "ACTION AND HOOK METHODS" for details on how to write a hook
           coderef.

       $meta-&gt;hook_after( $metric, $action, sub { ... })
           Add a hook for the specified metric. See "ACTION AND HOOK METHODS" for details on how to write a hook
           coderef.

</pre><h4><b>ACTION</b> <b>AND</b> <b>HOOK</b> <b>METHODS</b></h4><pre>
           sub {
               my $self = shift;
               my ( $data, $metric, $action, @args ) = @_;
               ...;
           }

       Action  and  hook  methods are called when someone calls "$meta-&lt;gt"metric_action(...)&gt;. First all before
       hooks will be called, the action itself, and finally the after hooks will be called. All methods  in  the
       chain get the exact same unaltered arguments. Only the main action sub can return anything.

       Arguments are:

       0: $self
           These are methods, so the first argument is the meta object itself.

       1: $data
           This is the data structure stored for the metric. This is the same as calling $meta-&gt;<b>metric()</b>

       2: $metric
           Name of the metric

       3: $action
           Name of the action

       4+: @args
           Arguments that <b>metric_action()</b> was called with.

</pre><h4><b>DEFAULT</b> <b>ACTION</b> <b>METHODS</b></h4><pre>
       There are the default action methods used by hashmetrics and listsmetrics.

       $meta-&gt;default_hash_add( $data, $metric, $action, $item, $value )
       $value = $meta-&gt;default_hash_get( $data, $metric, $action, $item )
       $bool = $meta-&gt;default_hash_has( $data, $metric, $action, $item )
       $meta-&gt;default_hash_clear( $data, $metric, $action, $item )
       $value = $meta-&gt;default_hash_pull( $data, $metric, $action, $item )
       $meta-&gt;default_list_push( $data, $metric, $action, $item, @values )
       @values = $meta-&gt;default_list_get( $data, $metric, $action, $item )
       $bool = $meta-&gt;default_list_has( $data, $metric, $action, $item )
       $meta-&gt;default_list_clear( $data, $metric, $action, $item )
       @values = $meta-&gt;default_list_pull( $data, $metric, $action, $item )

</pre><h4><b>AUTHORS</b></h4><pre>
       Chad Granum <a href="mailto:exodist7@gmail.com">exodist7@gmail.com</a>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2010 Chad Granum

       Meta-Builder is free software; Standard perl licence.

       Meta-Builder  is  distributed  in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the  license  for  more
       details.

perl v5.36.0                                       2022-12-12                           <u>Meta::Builder::<a href="../man3pm/Base.3pm.html">Base</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>