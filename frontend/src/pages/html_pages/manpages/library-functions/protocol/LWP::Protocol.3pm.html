<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LWP::Protocol - Base class for LWP protocols</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libwww-perl">libwww-perl_6.78-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       LWP::Protocol - Base class for LWP protocols

</pre><h4><b>SYNOPSIS</b></h4><pre>
        package LWP::Protocol::foo;
        use parent qw(LWP::Protocol);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class is used as the base class for all protocol implementations supported by the LWP library.

       When creating an instance of this class using LWP::Protocol::create($url), and you get an initialized
       subclass appropriate for that access method. In other words, the "create" in LWP::Protocol function calls
       the constructor for one of its subclasses.

       All derived "LWP::Protocol" classes need to override the request() method which is used to service a
       request. The overridden method can make use of the collect() method to collect together chunks of data as
       it is received.

</pre><h4><b>METHODS</b></h4><pre>
       The following methods and functions are provided:

   <b>new</b>
           my $prot = LWP::Protocol-&gt;new();

       The LWP::Protocol constructor is inherited by subclasses. As this is a virtual base class this method
       should <b>not</b> be called directly.

   <b>create</b>
           my $prot = LWP::Protocol::create($scheme)

       Create an object of the class implementing the protocol to handle the given scheme. This is a function,
       not a method. It is more an object factory than a constructor. This is the function user agents should
       use to access protocols.

   <b>implementor</b>
           my $class = LWP::Protocol::implementor($scheme, [$class])

       Get and/or set implementor class for a scheme.  Returns '' if the specified scheme is not supported.

   <b>request</b>
           $response = $protocol-&gt;request($request, $proxy, undef);
           $response = $protocol-&gt;request($request, $proxy, '/tmp/sss');
           $response = $protocol-&gt;request($request, $proxy, \&amp;callback, 1024);
           $response = $protocol-&gt;request($request, $proxy, $fh);

       Dispatches a request over the protocol, and returns a response object. This method needs to be overridden
       in subclasses.  Refer to LWP::UserAgent for description of the arguments.

   <b>collect</b>
           my $res = $prot-&gt;collect(undef, $response, $collector); # stored in $response
           my $res = $prot-&gt;collect($filename, $response, $collector);
           my $res = $prot-&gt;collect(sub { ... }, $response, $collector);

       Collect the content of a request, and process it appropriately into a scalar, file, or by calling a
       callback. If the first parameter is undefined, then the content is stored within the $response. If it's a
       simple scalar, then it's interpreted as a file name and the content is written to this file.  If it's a
       code reference, then content is passed to this routine.  If it is a filehandle, or similar, such as a
       File::Temp object, content will be written to it.

       The collector is a routine that will be called and which is responsible for returning pieces (as ref to
       scalar) of the content to process.  The $collector signals "EOF" by returning a reference to an empty
       string.

       The return value is the HTTP::Response object reference.

       <b>Note:</b> We will only use the callback or file argument if "$response-&gt;is_success()".  This avoids sending
       content data for redirects and authentication responses to the callback which would be confusing.

   <b>collect_once</b>
           $prot-&gt;collect_once($arg, $response, $content)

       Can be called when the whole response content is available as content. This will invoke "collect" in
       LWP::Protocol with a collector callback that returns a reference to $content the first time and an empty
       string the next.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Inspect the <u>LWP/Protocol/file.pm</u> and <u>LWP/Protocol/http.pm</u> files for examples of usage.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 1995-2001 Gisle Aas.

       This library is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.40.1                                       2025-03-01                                 <u>LWP::<a href="../man3pm/Protocol.3pm.html">Protocol</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>