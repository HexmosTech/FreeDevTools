<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X11::Protocol::ChooseWindow -- user click to choose window</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libx11-protocol-other-perl">libx11-protocol-other-perl_31-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       X11::Protocol::ChooseWindow -- user click to choose window

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use X11::Protocol::ChooseWindow;
        my $client_window = X11::Protocol::ChooseWindow-&gt;choose (X =&gt; $X);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This spot of code lets the user click on a toplevel window to choose it, in a similar style to the
       "xwininfo" or "xkill" programs.

   <b>Implementation</b>
       The choose is implemented in a similar way to the "xwininfo" etc programs.  It consists of
       "GrabPointer()" on the root window, wait for a "ButtonPress" and "ButtonRelease" from the user, get the
       frame window from the "ButtonPress" event, then the client window under there from
       "frame_window_to_client()" of "X11::Protocol::WM".

       "KeyPress" events are not used and they go to the focus window in the usual way.  This can be good in a
       command line program since it lets the user press "^C" ("SIGINT") in an "xterm" or similar.  Perhaps in
       the future there could be an option to watch for "Esc" to cancel or some such.

       A virtual root per "root_to_virtual_root()" in "X11::Protocol::WM" is used if present.  This helps
       "ChooseWindow" work with "amiwm" and similar virtual root window managers.

</pre><h4><b>FUNCTIONS</b></h4><pre>
       The following "choose()" is in class method style with the intention of perhaps in the future having
       objects of type "X11::Protocol::ChooseWindow" holding state and advanced by events supplied by an
       external main loop.

   <b>Choosing</b>
       "$window = X11::Protocol::ChooseWindow-&gt;choose (key=&gt;value,...)"
           Read a user button press to choose a toplevel window.  The key/value options are as follows,

               X        =&gt; X11::Protocol object
               display  =&gt; string ":0:0" etc

               screen   =&gt; integer, eg. 0
               root     =&gt; XID of root window

               time     =&gt; integer server timestamp
               event    =&gt; hashref of event initiating the choose

               cursor       =&gt; XID of cursor
               cursor_glyph =&gt; integer glyph for cursor font
               cursor_name  =&gt; string name from cursor font

           "X" or "display" gives the server, or the default is to open the "DISPLAY" environment variable.  "X"
           for an "X11::Protocol" object is usual, but sometimes it can make sense to open a new connection just
           to choose.

           "root"  or  "screen"  gives the root window to choose on, or the default is the current screen of $X,
           which in turn defaults to the screen part of the display name.  If there's a window  manager  virtual
           root then that's automatically used as necessary.

           "time"  or  the  time  field  in  "event" is a server timestamp for the "GrabPointer()".  This guards
           against stealing a grab from another client if badly lagged.  Omitted or "undef" means "CurrentTime".
           In a command line program there might  be  no  initiating  event,  making  "CurrentTime"  all  that's
           possible.

           "cursor"  etc  is  the  mouse pointer cursor to show during the choose, as a visual indication to the
           user.  The default is a "crosshair".  "cursor_name" or "cursor_glyph" are from the usual cursor font.
           See X11::CursorFont for available names.  For example perhaps  the  "exchange"  cursor  to  choose  a
           window for some sort of swap or flip,

               $window = X11::Protocol::ChooseWindow-&gt;choose
                           (X =&gt; $X,
                            cursor_name =&gt; "exchange");

           A  "cursor"  XID  can  be created by any client as usual.  Don't forget to flush if creating a cursor
           from one connection, so it's ready for use from another.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       X11::Protocol, X11::Protocol::WM, X11::CursorFont

       <b><a href="../man1/xwininfo.1.html">xwininfo</a></b>(1), <b><a href="../man1/xkill.1.html">xkill</a></b>(1), and their <u>dsimple.c</u> "Select_Window()" code

       "Inter-Client Communication Conventions Manual" section "WM_STATE Property" for notes on using "WM_STATE"
       to identify client windows.

</pre><h4><b>HOME</b> <b>PAGE</b></h4><pre>
       &lt;<a href="http://user42.tuxfamily.org/x11-protocol-other/index.html">http://user42.tuxfamily.org/x11-protocol-other/index.html</a>&gt;

</pre><h4><b>LICENSE</b></h4><pre>
       Copyright 2010, 2011, 2012, 2013, 2014, 2016, 2017, 2019 Kevin Ryde

       X11-Protocol-Other is free software; you can redistribute it and/or modify it under the terms of the  GNU
       General  Public  License  as  published  by  the  Free Software Foundation; either version 3, or (at your
       option) any later version.

       X11-Protocol-Other is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without
       even  the  implied  warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General
       Public License for more details.

       You should have received a copy of the GNU General Public License along with X11-Protocol-Other.  If not,
       see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.

perl v5.28.1                                       2019-08-26                   <u>X11::Protocol::<a href="../man3pm/ChooseWindow.3pm.html">ChooseWindow</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>