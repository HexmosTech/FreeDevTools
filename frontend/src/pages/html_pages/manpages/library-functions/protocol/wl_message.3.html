<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wl_message</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libwayland-doc">libwayland-doc_1.23.1-3build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       wl_message

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;wayland-util.h&gt;

   <b>Data</b> <b>Fields</b>
       const char * <b>name</b>
       const char * <b>signature</b>
       const struct <b>wl_interface</b> ** <b>types</b>

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Protocol message signature

       A <b>wl_message</b> describes the signature of an actual protocol message, such as a request or event, that
       adheres to the Wayland protocol wire format. The protocol implementation uses a <b>wl_message</b> within its
       demarshal machinery for decoding messages between a compositor and its clients. In a sense, a <b>wl_message</b>
       is to a protocol message like a class is to an object.

       The name of a <b>wl_message</b> is the name of the corresponding protocol message.

       The signature is an ordered list of symbols representing the data types of message arguments and,
       optionally, a protocol version and indicators for nullability. A leading integer in the signature
       indicates the <u>since</u> version of the protocol message. A ? preceding a data type symbol indicates that the
       following argument type is nullable. While it is a protocol violation to send messages with non-nullable
       arguments set to NULL, event handlers in clients might still get called with non-nullable object
       arguments set to NULL. This can happen when the client destroyed the object being used as argument on its
       side and an event referencing that object was sent before the server knew about its destruction. As this
       race cannot be prevented, clients should - as a general rule - program their event handlers such that
       they can handle object arguments declared non-nullable being NULL gracefully.

       When no arguments accompany a message, signature is an empty string.

       Symbols:

       • i: int

       • u: uint

       • f: fixed

       • s: string

       • o: object

       • n: new_id

       • a: array

       • h: fd

       • ?: following argument (o or s) is nullable

       While  demarshaling  primitive arguments is straightforward, when demarshaling messages containing object
       or new_id arguments, the protocol implementation often must determine the type of the object.  The  types
       of a <b>wl_message</b> is an array of <b>wl_interface</b> references that correspond to o and n arguments in signature,
       with NULL placeholders for arguments with non-object types.

       Consider the protocol event <b>wl_display</b> delete_id that has a single uint argument. The <b>wl_message</b> is:

       { "delete_id", "u", [NULL] }

       Here, the message name is 'delete_id', the signature is 'u', and the argument types is [NULL], indicating
       that the uint argument has no corresponding <b>wl_interface</b> since it is a primitive argument.

       In  contrast,  consider a wl_foo interface supporting protocol request bar that has existed since version
       2, and has two arguments: a uint and an object  of  type  wl_baz_interface  that  may  be  NULL.  Such  a
       <b>wl_message</b> <b>might</b> <b>be:</b>

       { "bar", "2u?o", [NULL, &amp;wl_baz_interface] }

       Here,  the  message  name  is 'bar', and the signature is '2u?o'. Notice how the 2 indicates the protocol
       version, the u indicates the first argument type is uint, and the ?o indicates that the  second  argument
       is  an  object  that  may  be  NULL.  Lastly,  the  argument  types  array indicates that no <b>wl_interface</b>
       corresponds to the first argument, while the type wl_baz_interface corresponds to the second argument.

       <b>See</b> <b>also</b>
           <b>wl_argument</b>

           <b>wl_interface</b>

           Wire Format

</pre><h4><b>Field</b> <b>Documentation</b></h4><pre>
   <b>const</b> <b>char*</b> <b>wl_message::name</b>
       Message name

   <b>const</b> <b>char*</b> <b>wl_message::signature</b>
       Message signature

   <b>const</b> <b>struct</b> <b>wl_interface**</b> <b>wl_message::types</b>
       Object argument interfaces

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for Wayland from the source code.

Version 1.23.1                              Thu May 22 2025 08:23:52                               <u><a href="../man3/wl_message.3.html">wl_message</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>