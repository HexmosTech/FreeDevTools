<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_HAPROXY_CLIENT_IP - set HAProxy PROXY protocol client IP</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_HAPROXY_CLIENT_IP - set HAProxy PROXY protocol client IP

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_HAPROXY_CLIENT_IP,
                                 char *client_ip);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       When  this  parameter is set to a valid IPv4 or IPv6 numerical address, the library sends this address as
       client address in the HAProxy PROXY protocol v1 header at beginning of the connection.

       This option is an alternative to <u><a href="../man3/CURLOPT_HAPROXYPROTOCOL.3.html">CURLOPT_HAPROXYPROTOCOL</a>(3)</u> as that one cannot use a specified address.

       Using this option multiple times makes the last set string override the previous ones. Set it to NULL  to
       disable its use again.

       The application does not have to keep the string around after setting this option.

</pre><h4><b>DEFAULT</b></h4><pre>
       NULL, no HAProxy header is sent

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects all supported protocols

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           CURLcode ret;
           curl_easy_setopt(curl, CURLOPT_URL, "https://example.com/");
           curl_easy_setopt(curl, CURLOPT_HAPROXY_CLIENT_IP, "1.1.1.1");
           ret = curl_easy_perform(curl);
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 8.2.0

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLOPT_HAPROXYPROTOCOL.3.html">CURLOPT_HAPROXYPROTOCOL</a></b>(3), <b><a href="../man3/CURLOPT_PROXY.3.html">CURLOPT_PROXY</a></b>(3)

libcurl                                            2025-06-16                       <u><a href="../man3/CURLOPT_HAPROXY_CLIENT_IP.3.html">CURLOPT_HAPROXY_CLIENT_IP</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>