<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_REDIR_PROTOCOLS_STR - protocols allowed to redirect to</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_REDIR_PROTOCOLS_STR - protocols allowed to redirect to

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_REDIR_PROTOCOLS_STR,
                                 char *spec);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Pass  a  pointer  to  a  string that holds a comma-separated list of case insensitive protocol names (URL
       schemes). That list limits what protocols libcurl may use in a transfer that it follows to in a  redirect
       when <u><a href="../man3/CURLOPT_FOLLOWLOCATION.3.html">CURLOPT_FOLLOWLOCATION</a>(3)</u> is enabled. This option allows applications to limit specific transfers to
       only be allowed to use a subset of protocols in redirections.

       Protocols denied by <u><a href="../man3/CURLOPT_PROTOCOLS_STR.3.html">CURLOPT_PROTOCOLS_STR</a>(3)</u> are not overridden by this option.

       By default libcurl allows HTTP, HTTPS, FTP and FTPS on redirects (since 7.65.2).

       These are the available protocols:

       DICT,  FILE,  FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP,
       RTMPE, RTMPS, RTMPT, RTMPTE, RTMPTS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS, WSS

       You can set "ALL" as a short-cut to enable all protocols. Note  that  by  setting  all,  you  may  enable
       protocols that were not supported the day you write this but are introduced in a future libcurl version.

       If trying to set a non-existing protocol or if no matching protocol at all is set, it returns error.

       Using  this option multiple times makes the last set string override the previous ones. Set it to NULL to
       restore to internal default.

       The application does not have to keep the string around after setting this option.

</pre><h4><b>DEFAULT</b></h4><pre>
       HTTP, HTTPS, FTP and FTPS (Added in 7.65.2).

       Older versions defaulted to all protocols except FILE, SCP and since 7.40.0 SMB and SMBS.

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects http only

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(int argc, char **argv)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           /* pass in the URL from an external source */
           curl_easy_setopt(curl, CURLOPT_URL, argv[1]);

           /* only allow redirects to HTTP and HTTPS URLs */
           curl_easy_setopt(curl, CURLOPT_REDIR_PROTOCOLS_STR, "http,https");

           /* Perform the request */
           curl_easy_perform(curl);
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.85.0

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Returns CURLE_UNKNOWN_OPTION if the option is not implemented,  CURLE_UNSUPPORTED_PROTOCOL  if  a  listed
       protocol  is  not  supported  or  disabled,  CURLE_BAD_FUNCTION_ARGUMENT  if  no  protocol is listed else
       CURLE_OK.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLINFO_SCHEME.3.html">CURLINFO_SCHEME</a></b>(3),    <b><a href="../man3/CURLOPT_DEFAULT_PROTOCOL.3.html">CURLOPT_DEFAULT_PROTOCOL</a></b>(3),    <b><a href="../man3/CURLOPT_PROTOCOLS.3.html">CURLOPT_PROTOCOLS</a></b>(3),    <b><a href="../man3/CURLOPT_PROTOCOLS_STR.3.html">CURLOPT_PROTOCOLS_STR</a></b>(3),
       <b><a href="../man3/CURLOPT_REDIR_PROTOCOLS.3.html">CURLOPT_REDIR_PROTOCOLS</a></b>(3)

libcurl                                            2025-06-16                     <u><a href="../man3/CURLOPT_REDIR_PROTOCOLS_STR.3.html">CURLOPT_REDIR_PROTOCOLS_STR</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>