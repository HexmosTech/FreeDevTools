<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_DEFAULT_PROTOCOL - default protocol to use if the URL is missing a scheme name</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_DEFAULT_PROTOCOL - default protocol to use if the URL is missing a scheme name

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_DEFAULT_PROTOCOL,
                                 char *protocol);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This option tells libcurl to use <u>protocol</u> if the URL is missing a scheme name.

       Use one of these protocol (scheme) names:

       dict,  file, ftp, ftps, gopher, http, https, imap, imaps, ldap, ldaps, pop3, pop3s, rtsp, scp, sftp, smb,
       smbs, smtp, smtps, telnet, tftp

       An unknown or unsupported protocol causes error <u>CURLE_UNSUPPORTED_PROTOCOL</u>  when  libcurl  parses  a  URL
       without  a  scheme.  Parsing  happens  when  <u><a href="../man3/curl_easy_perform.3.html">curl_easy_perform</a>(3)</u> or <u><a href="../man3/curl_multi_perform.3.html">curl_multi_perform</a>(3)</u> is called. The
       protocol set supported by libcurl vary depending on how it was built.  Use  <u><a href="../man3/curl_version_info.3.html">curl_version_info</a>(3)</u>  if  you
       need a list of protocol names supported by the build of libcurl that you are using.

       This option does not change the default proxy protocol (http).

       Without this option libcurl would make a guess based on the host, see <u><a href="../man3/CURLOPT_URL.3.html">CURLOPT_URL</a>(3)</u> for details.

       The application does not have to keep the string around after setting this option.

       Using  this option multiple times makes the last set string override the previous ones. Set it to NULL to
       disable its use again.

</pre><h4><b>DEFAULT</b></h4><pre>
       NULL (make a guess based on the host)

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects all supported protocols

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           /* set a URL without a scheme */
           curl_easy_setopt(curl, CURLOPT_URL, "example.com");

           /* set the default protocol (scheme) for schemeless URLs */
           curl_easy_setopt(curl, CURLOPT_DEFAULT_PROTOCOL, "https");

           /* Perform the request */
           curl_easy_perform(curl);
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.45.0

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       CURLE_OK if the option is supported.

       CURLE_OUT_OF_MEMORY if there was insufficient heap space.

       CURLE_UNKNOWN_OPTION if the option is not supported.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLINFO_PROTOCOL.3.html">CURLINFO_PROTOCOL</a></b>(3), <b><a href="../man3/CURLINFO_SCHEME.3.html">CURLINFO_SCHEME</a></b>(3), <b><a href="../man3/CURLOPT_URL.3.html">CURLOPT_URL</a></b>(3)

libcurl                                            2025-06-16                        <u><a href="../man3/CURLOPT_DEFAULT_PROTOCOL.3.html">CURLOPT_DEFAULT_PROTOCOL</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>