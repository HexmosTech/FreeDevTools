<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alzabo::Driver - Alzabo base class for RDBMS drivers</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libalzabo-perl">libalzabo-perl_0.92-6_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Alzabo::Driver - Alzabo base class for RDBMS drivers

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Alzabo::Driver;

         my $driver = Alzabo::Driver-&gt;new( rdbms =&gt; 'MySQL',
                                           schema =&gt; $schema );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This is the base class for all Alzabo::Driver modules.  To instantiate a driver call this class's "new()"
       method.  See SUBCLASSING Alzabo::Driver for information on how to make a driver for the RDBMS of your
       choice.

       This class throws several, exceptions, one of which, "Alzabo::Exception::Driver", has additional methods
       not present in other exception classes.  See "Alzabo::Exception::Driver METHODS" for a description of
       these methods.

</pre><h4><b>METHODS</b></h4><pre>
   <b>available</b>
       Returns a list of names representing the available "Alzabo::Driver" subclasses.  Any one of these names
       would be appropriate as the "rdbms" parameter for the "Alzabo::Driver-&gt;new" method.

   <b>new</b>
       The constructor takes the following parameters:

       •   rdbms =&gt; $rdbms_name

           The name of the RDBMS being used.

       •   schema =&gt; "Alzabo::Schema" object

       It returns a new "Alzabo::Driver" object of the appropriate subclass.

       Throws: "Alzabo::Exception::Eval"

   <b>tables</b>
       Returns  a  list  of  strings  containing  the  names  of  the  tables  in  the  database.  See the "DBI"
       documentation of the "DBI-&gt;tables" method for more details.

       Throws: "Alzabo::Exception::Driver"

   <b>handle</b> <b>($optional_dbh)</b>
       This method takes one optional parameter, a connected DBI handle.  If this is given, then this handle  is
       the new handle for the driver.

       It returns the active database handle.

       Throws: "Alzabo::Exception::Params"

   <b>Data</b> <b>Retrieval</b> <b>methods</b>
       Some  of  these  methods  return  lists of data (the "rows", "rows_hashref", and "column" methods).  With
       large result sets, this can use a lot memory as these lists are created in memory before  being  returned
       to  the  caller.   To  avoid  this,  it  may  be  desirable  to  use  the  functionality  provided by the
       "Alzabo::DriverStatement" class, which allows you to fetch results one row at a time.

       These methods all accept the following parameters:

       •   sql =&gt; $sql_string

       •   bind =&gt; $bind_value or \@bind_values

       •   limit =&gt; [ $max, optional $offset ] (optional)

           The $offset defaults to 0.

           This parameter has no effect for the methods that return only one row.  For the others, it causes the
           drivers to skip $offset rows and then return only $max rows.  This is useful if the RDBMS being  used
           does not support "LIMIT" clauses.

   <b>rows</b>
       Returns an array of array references containing the data requested.

   <b>rows_hashref</b>
       Returns  an  array  of  hash  references  containing the data requested.  The hash reference keys are the
       columns being selected.  All the key names are in uppercase.

   <b>one_row</b>
       Returns an array or scalar containing the data returned, depending on context.

   <b>one_row_hash</b>
       Returns a hash containing the data requested.  The hash keys are the columns being selected.  All the key
       names are in uppercase.

   <b>column</b>
       Returns an array containing the values for the first column of each row returned.

   <b>do</b>
       Use this for non-SELECT SQL statements.

       Returns the number of rows affected.

       Throws: "Alzabo::Exception::Driver"

   <b>statement</b>
       This  methods  returns  a  new  "Alzabo::DriverStatement"  handle,  ready  to   return   data   via   the
       "Alzabo::DriverStatement-&gt;next()" or "Alzabo::DriverStatement-&gt;next_as_hash()" methods.

       Throws: "Alzabo::Exception::Driver"

   <b>rdbms_version</b>
       Returns  the  version string of the database backend currently in use.  The form of this string will vary
       depending on which driver subclass is being used.

   <b>quote</b> <b>(@strings)</b>
       This methods calls the underlying DBI handles "quote()" method on the  array  of  strings  provided,  and
       returns the quoted versions.

   <b>quote_identifier</b> <b>(@strings)</b>
       This  methods  calls  the  underlying  DBI  handles  "quote_identifier()"  method on the array of strings
       provided, and returns the quoted versions.

</pre><h4><b>Alzabo::DriverStatement</b></h4><pre>
       This class is a wrapper around "DBI"'s statement handles.  It finishes automatically  as  appropriate  so
       the end user does need not worry about doing this.

   <b>next</b>
       Use this method in a while loop to fetch all the data from a statement.

       Returns  an  array  containing  the  next  row  of data for statement or an empty list if no more data is
       available.

       Throws: "Alzabo::Exception::Driver"

   <b>next_as_hash</b>
       For backwards compatibility, this is also available as "next_hash()".

       Returns a hash containing the next row of data for statement  or  an  empty  list  if  no  more  data  is
       available.  All the keys of the hash will be lowercased.

       Throws: "Alzabo::Exception::Driver"

   <b>all_rows</b>
       If  the select for which this statement is cursor was for a single column (or aggregate value), then this
       method returns an array containing each <b>remaining</b> value from the database.

       Otherwise, it returns an array of array references, each one containing a returned row from the database.

       Throws: "Alzabo::Exception::Driver"

   <b>all_rows_hash</b>
       Returns an array of hashes, each hash representing a single row returned from  the  database.   The  hash
       keys are all in lowercase.

       Throws: "Alzabo::Exception::Driver"

   <b>execute</b> <b>(@bind_values)</b>
       Executes  the  associated  statement  handle with the given bound parameters.  If the statement handle is
       still active (it was previously executed and has more data left)  then  its  "finish()"  method  will  be
       called first.

       Throws: "Alzabo::Exception::Driver"

   <b>count</b>
       Returns the number of rows returned so far.

</pre><h4><b>Alzabo::Exception::Driver</b> <b>METHODS</b></h4><pre>
       In  addition  to  the methods inherited from "Exception::Class::Base", objects in this class also contain
       several methods specific to this subclass.

   <b>sql</b>
       Returns the SQL statement in use at the time the error occurred, if any.

   <b>bind</b>
       Returns an array reference contaning the bound parameters for the SQL statement, if any.

</pre><h4><b>SUBCLASSING</b> <b>Alzabo::Driver</b></h4><pre>
       To create a subclass of "Alzabo::Driver" for your particular RDBMS is fairly simple.  First of all, there
       must be a "DBD::*" driver for it, as "Alzabo::Driver" is built on top of "DBI".

       Here's a sample header to the module using a fictional RDBMS called FooDB:

        package Alzabo::Driver::FooDB;

        use strict;
        use vars qw($VERSION);

        use Alzabo::Driver;

        use DBI;
        use DBD::FooDB;

        use base qw(Alzabo::Driver);

       The next step is to implement a "new" method and the methods listed under "Virtual Methods".   The  "new"
       method should look a bit like this:

        1:  sub new
        2:  {
        3:      my $proto = shift;
        4:      my $class = ref $proto || $proto;
        5:      my %p = @_;
        6:
        7:      my $self = bless {}, $class;
        8:
        9:      return $self;
        10:  }

       The hash %p contains any values passed to the "Alzabo::Driver-&gt;new" method by its caller.

       Lines  1-7  should  probably be copied verbatim into your own "new" method.  Line 5 can be deleted if you
       don't need to look at the parameters.

       Look at the included "Alzabo::Driver" subclasses for examples.  Feel free to contact me for further  help
       if  you  get  stuck.  Please tell me what database you're attempting to implement, what its DBD::* driver
       is, and include the code you've written so far.

   <b>Virtual</b> <b>Methods</b>
       The following methods are not implemented in  "Alzabo::Driver"  itself  and  must  be  implemented  in  a
       subclass.

       <u>Parameters</u> <u>for</u> <u><b>connect()</b>,</u> <u><b>create_database()</b>,</u> <u>and</u> <u><b>drop_database()</b></u>

       •   user =&gt; $db_username

       •   password =&gt; $db_pw

       •   host =&gt; $hostname

       •   port =&gt; $port

       All of these default to undef.  See the appropriate DBD driver documentation for more details.

       After the driver is created, it will have access to its associated schema object in "$self-&gt;{schema}".

   <b>connect</b>
       Some drivers may accept or require more arguments than specified above.

       Note  that  "Alzabo::Driver"  subclasses  are  not expected to cache connections.  If you want to do this
       please use "Apache::DBI" under mod_perl or don't call "connect()" more than once per process.

   <b>create_database</b>
       Attempts to create a new database for the schema attached to the driver.   Some  drivers  may  accept  or
       require more arguments than specified above.

   <b>drop_database</b>
       Attempts to drop the database for the schema attached to the driver.

   <b>schemas</b>
       Returns  a  list of schemas in the specified RDBMS.  This method may accept some or all of the parameters
       which can be given to "connect()".

   <b>supports_referential_integrity</b>
       Should return a boolean value  indicating  whether  or  not  the  RDBMS  supports  referential  integrity
       constraints.

   <b>next_sequence_number</b> <b>("Alzabo::Column"</b> <b>object)</b>
       This  method  is  expected to return the value of the next sequence number based on a column object.  For
       some databases (MySQL, for example), the appropriate value is "undef".  This  is  accounted  for  in  the
       Alzabo code that calls this method.

   <b>begin_work</b>
       Notify Alzabo that you wish to start a transaction.

   <b>rollback</b>
       Rolls back the current transaction.

   <b>commit</b>
       Notify Alzabo that you wish to finish a transaction.  This is basically the equivalent of calling commit.

   <b>get_last_id</b>
       Returns the last primary key id created via a sequenced column.

   <b>rdbms_version</b>
       Returns the version of the server to which the driver is connected.

   <b>driver_id</b>
       Returns  the  driver's name.  This should be something that can be passed to "Alzabo::Driver-&gt;new()" as a
       "name" parameter.

</pre><h4><b>AUTHOR</b></h4><pre>
       Dave Rolsky, &lt;<a href="mailto:dave@urth.org">dave@urth.org</a>&gt;

perl v5.34.0                                       2022-06-14                                <u>Alzabo::<a href="../man3pm/Driver.3pm.html">Driver</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>