<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmongoc-doc">libmongoc-doc_1.30.4-1ubuntu1_all</a> <br><br><pre>
</pre><h4><b>SYNOPSIS</b></h4><pre>
          bool
          mongoc_handshake_data_append (const char *driver_name,
                                        const char *driver_version,
                                        const char *platform);

       Appends the given strings to the handshake data for the underlying C Driver.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  function  is intended for use by drivers which wrap the C Driver.  Calling this function will store
       the given strings as handshake data about the system and driver by appending them to the  handshake  data
       for  the  underlying C Driver. These values, along with other handshake data collected during mongoc_init
       will be sent to the server as part of the initial connection handshake in  the  "client"  document.  This
       function  must  not  be  called  more than once, or after server monitoring begins. For a single-threaded
       <u>mongoc_client_t</u>,  server  monitoring  begins  on  the  first  operation  requiring  a   server.   For   a
       <u>mongoc_client_pool_t</u>, server monitoring begins on the first call to <u>:symbol:`mongoc_client_pool_pop</u>.

       The   passed   in   strings   are   copied,   and   don't   have  to  remain  valid  after  the  call  to
       <u>mongoc_handshake_data_append()</u>. The driver may store truncated versions of the passed in strings.

       <b>NOTE:</b>
          This function allocates memory, and therefore caution should be used when using  this  in  conjunction
          with   <u>bson_mem_set_vtable()</u>.  If  this  function  is  called  before  <u>bson_mem_set_vtable()</u>,  then  ‐
          <u>bson_mem_restore_vtable()</u> must be called before calling <u>mongoc_cleanup()</u>. Failure to do so will result
          in memory being freed by the wrong allocator.

</pre><h4><b>PARAMETERS</b></h4><pre>
       • <b>driver_name</b>: An optional string storing the name of the wrapping driver

       • <b>driver_version</b>: An optional string storing the version of the wrapping driver.

       • <b>platform</b>: An optional string storing any information about the current platform, for example  configure
         options or compile flags.

</pre><h4><b>RETURNS</b></h4><pre>
       <b>true</b> if the given fields are set successfully. Otherwise, it returns <b>false</b> and logs an error.

       The default handshake data the driver sends with "hello" looks something like:

          client: {
            driver: {
              name: "mongoc",
              version: "1.5.0"
            },
            os: {...},
            platform: "CC=gcc CFLAGS=-Wall -pedantic"
          }

       If  we  call  <u>mongoc_handshake_data_append()</u>  ("phongo", "1.1.8", "CC=clang / ") and it returns true, the
       driver sends handshake data like:

          client: {
            driver: {
              name: "mongoc / phongo",
              version: "1.5.0 / 1.1.8"
            },
            os: {...},
            platform: "CC=clang / gcc CFLAGS=-Wall -pedantic"
          }

</pre><h4><b>AUTHOR</b></h4><pre>
       MongoDB, Inc

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2009-present, MongoDB, Inc.

1.30.4                                            Jun 08, 2025                   <u><a href="../man3/MONGOC_HANDSHAKE_DATA_APPEND.3.html">MONGOC_HANDSHAKE_DATA_APPEND</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>