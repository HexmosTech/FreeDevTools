<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gd_match_entries — search the entry list of a Dirfile</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libgetdata-doc">libgetdata-doc_0.11.0-15_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gd_match_entries — search the entry list of a Dirfile

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;getdata.h&gt;</b>

       <b>unsigned</b> <b>int</b> <b>gd_match_entries(DIRFILE</b> <b>*</b><u>dirfile</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>regex</u><b>,</b> <b>int</b> <u>fragment</u><b>,</b> <b>int</b> <u>type</u><b>,</b> <b>unsigned</b> <b>int</b>
              <u>flags</u><b>,</b> <b>const</b> <b>char</b> <b>***</b><u>entries</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>gd_match_entries</b>()  function  queries  a <a href="../man5/dirfile.5.html">dirfile</a>(5) database specified by <u>dirfile</u> and all the fields
       satisfying the provided criteria. If <u>entries</u> is not NULL, a list of matched entries will be  returned  in
       <b>*</b><u>entries</u>.

       The match criteria are:

       •      If  <u>regex</u> is non-NULL, it is a regular expression to match against the entry names.  Various regu‐
              lar expression grammars (or none) may be supported by the library.  See  the  <b>REGULAR</b>  <b>EXPRESSIONS</b>
              section below for details.

       •      If the <u>fragment</u> argument is <b>GD_ALL_FRAGMENTS</b>, entries defined in all fragments are matched. Other‐
              wise only entries specified in the fragment indexed by <u>fragment</u> are matched.

       •      The  <u>type</u>  argument  should  be  one of the following symbols indicating an explicit entry type to
              match:

                     <b>GD_BIT_ENTRY</b>, <b>GD_CARRAY_ENTRY</b>, <b>GD_CONST_ENTRY</b>, <b>GD_DIVIDE_ENTRY</b>, <b>GD_INDEX_ENTRY</b>,
                     <b>GD_INDIR_ENTRY</b>, <b>GD_LINCOM_ENTRY</b>, <b>GD_LINTERP_ENTRY</b>, <b>GD_MPLEX_ENTRY</b>, <b>GD_MULTIPLY_ENTRY</b>,
                     <b>GD_PHASE_ENTRY</b>, <b>GD_POLYNOM_ENTRY</b>, <b>GD_RAW_ENTRY</b>, <b>GD_RECIP_ENTRY</b>, <b>GD_SARRAY_ENTRY</b>,
                     <b>GD_SBIT_ENTRY</b>, <b>GD_SINDIR_ENTRY</b>, <b>GD_STRING_ENTRY</b>, <b>GD_WINDOW_ENTRY</b>.

              (<b>GD_INDEX_ENTRY</b> is a special field type for the implicit <u>INDEX</u> field) or else one of the following
              special symbols:

              <b>GD_ALL_ENTRIES</b> (=<b>0</b>)
                      Match entries of all types.

              <b>GD_ALIAS_ENTRIES</b>
                      Match only aliases.  This is the only way to match aliases which do  not  point  to  valid
                      field codes.

              <b>GD_SCALAR_ENTRIES</b>
                      Match only scalar field types (<b>CONST</b>, <b>CARRAY</b>, <b>SARRAY</b>, <b>STRING</b>).

              <b>GD_VECTOR_ENTRIES</b>
                      Match only numeric-valued vector field types (all field types except <b>SINDIR</b> and the scalar
                      field types listed above).

       •      The <u>flags</u> argument should be zero or more of the following flags, bitwise or'd together:

              <b>GD_ENTRIES_HIDDEN</b>
                      Match hidden entries (see <b><a href="../man3/gd_hidden.3.html">gd_hidden</a></b>(3)): normally hidden entries are ignored;

              <b>GD_ENTRIES_NOALIAS</b>
                      Don't  match  aliases: normally aliases are matched as if they had the entry type of their
                      target.

              If <u>regex</u> is non-NULL, these flags may further be bitwise-or'd with the following flags  which  af‐
              fect the interpretation of the supplied regular expression:

                     <b>GD_REGEX_PCRE</b>, <b>GD_REGEX_EXTENDED</b>, <b>GD_REGEX_ICASE</b>, <b>GD_REGEX_CASELESS</b>, <b>GD_REGEX_JAVASCRIPT</b>,
                     <b>GD_REGEX_UNICODE</b>

              See the <b>REGULAR</b> <b>EXPRESSIONS</b> section below for details. If <u>regex</u> is NULL, these additional regular-
              expression-specific flags are ignored.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon  successful  completion,  <b>gd_match_entries</b>()  returns the number of entries successfully matched. In
       this case, if <u>entries</u> is non-NULL, this function sets <b>*</b><u>entries</u> to a pointer to a list of the matching en‐
       try names. This list is terminated by a NULL pointer. Memory for the list, and for the  strings  it  con‐
       tains,  is managed by GetData. None of the returned pointers should be free'd by the caller. The pointers
       returned are only valid until this function is called again, and the associated memory will be deallocat‐
       ed when <u>dirfile</u> is closed (see <b><a href="../man3/gd_close.3.html">gd_close</a></b>(3)).

       If no entries match, but no error occurs, zero is returned. In this case, if <u>entries</u>  is  non-NULL,  <b>*</b><u>en‐</u>
       <u>tries</u> is still set to a non-NULL pointer, which points to a list containing only the terminating NULL.

       On  error, this function also returns zero.  If <u>entries</u> is non-NULL, <b>*</b><u>entries</u> is set to NULL in this case
       (which can be used to distinguish this case from the zero-match case). This function furthermore stores a
       negative-valued error code in the <b>DIRFILE</b>  object  which  may  be  retrieved  by  a  subsequent  call  to
       <b><a href="../man3/gd_error.3.html">gd_error</a></b>(3).  Possible error codes are:

       <b>GD_E_ARGUMENT</b>
               There  was  an error in the supplied regular expression. See the <b>REGULAR</b> <b>EXPRESSION</b> section below
               for details.

       <b>GD_E_BAD_CODE</b>
               The supplied parent field code was not found, or referred to a metafield itself.

       <b>GD_E_BAD_DIRFILE</b>
               The supplied dirfile was invalid.

       <b>GD_E_BAD_ENTRY</b>
               The <u>type</u> parameter supplied was not one of the symbols listed above.

       <b>GD_E_UNSUPPORTED</b>
               The <u>regex</u> parameter was non-NULL, but the library lacked support for the  specified  regular  ex‐
               pression grammar. See the <b>REGULAR</b> <b>EXPRESSION</b> section below for details.

       A descriptive error string for the error may be obtained by calling <b><a href="../man3/gd_error_string.3.html">gd_error_string</a></b>(3).

</pre><h4><b>REGULAR</b> <b>EXPRESSIONS</b></h4><pre>
       Regular  expression  support in GetData is provided by external libraries and is optional. Whether a par‐
       ticular regular expression library is supported by GetData is determined when the library is built.  Pre‐
       processor  symbols  are present in getdata.h to provide compile-time support to programs building against
       GetData indicating what support the GetData library was built with.

       GetData supports the following regular expression libraries:

       •      The POSIX.2 regular expression library, which provides support for both basic and  extended  POSIX
              regular  expressions.  See  <a href="../man7/regex.7.html">regex</a>(7)  for details. The POSIX regular expression library is derived
              from Henry Spencer's original regex package found in BSD. If GetData lacks support for POSIX regu‐
              lar expressions, the symbol <b>GD_NO_REGEX</b> will be defined in getdata.h.

       •      Perl-compatible Regular Expressions (PCRE), which provides a modern, full-featured regular expres‐
              sion grammar. See <a href="../man3/pcre.3.html">pcre</a>(3) for details. If GetData lacks support for PCREs, the  symbol  <b>GD_NO_PCRE</b>
              will be defined in getdata.h.

       Support for one, both, or neither library may be enabled in the GetData library when it is built.

       When  calling  <b>gd_match_entries</b>(),  the choice of regular expression grammar to use is controlled by bit‐
       wise-or'ing <u>flags</u> with zero or more of the following symbols:

       <b>GD_REGEX_PCRE</b>
               Use the Perl-compatible Regular Expression (PCRE) library for regular expression matching.  With‐
               out this flag, the POSIX regex library is used.

       <b>GD_REGEX_CASELESS</b>
       <b>GD_REGEX_ICASE</b>
               Perform  case-insensitive  matching.  These  two  symbols are synonyms. This is equivalent to the
               <b>REG_ICASE</b> flag in <b><a href="../man3/regex.3.html">regex</a></b>(3) and the <b>PCRE_CASELESS</b> flag in <b><a href="../man3/pcreapi.3.html">pcreapi</a></b>(3).

       The following flags are only supported when using the PCRE library  (i.e.,  when  <b>GD_REGEX_PCRE</b>  is  also
       specified):

       <b>GD_REGEX_JAVASCRIPT</b>
               Enable  Javascript  compatibility  mode in the PCRE library. This results in a regular expression
               grammar  that  mimics  more  closely  Javascript's  regular  expressions  than  Perl's.  See  the
               <b>PCRE_JAVASCRIPT_COMPAT</b> flag in <b><a href="../man3/pcreapi.3.html">pcreapi</a></b>(3) for details.

       <b>GD_REGEX_UNICODE</b>
               Interpret  the  supplied regex, as well as the Dirfile's entry names, as UTF-8 sequences. Without
               this flag, they are all assumed to be ASCII sequences. When this flag  is  specified,  the  flags
               <b>PCRE_UTF8</b>  and  <b>BPCRE_BSR_UNICODE</b>  are  passed  to  the  PCRE  library.  Without  it,  the  flags
               <b>PCRE_BSR_ANYCRLF</b> is used instead. See <b><a href="../man3/pcreapi.3.html">pcreapi</a></b>(3) for details.

       In addition to the above, the flags <b>PCRE_DOLLAR_ENDONLY</b> and <b>PCRE_DOTALL</b> are always passed to the PCRE li‐
       brary. Note, however, that the PCRE grammar also permits overriding most of  these  flags  by  specifying
       different options in the regex pattern itself.

       GetData does not return captured substrings to the caller, nor does it support PCRE callouts.

       If the caller attempts to use a regular expression library for which support has not been built into Get‐
       Data, <b>GD_E_UNSUPPORTED</b> will be returned. It is always possible for the caller avoid this error at runtime
       by checking for <b>GD_NO_REGEX</b> or <b>GD_NO_PCRE</b> at compile time.

       Errors  returned by the regular expression compiler itself will be reported to the caller with <b>GD_E_ARGU‐</b>
       <b>MENT</b>.

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>gd_match_entries</b>() function appeared in GetData-0.10.0.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/gd_entry_list.3.html">gd_entry_list</a></b>(3), <b><a href="../man3/gd_error.3.html">gd_error</a></b>(3),  <b><a href="../man3/gd_error_string.3.html">gd_error_string</a></b>(3),  <b><a href="../man3/gd_hidden.3.html">gd_hidden</a></b>(3),  <b><a href="../man3/gd_match_entries.3.html">gd_match_entries</a></b>(3),  <b><a href="../man3/gd_nentries.3.html">gd_nentries</a></b>(3),
       <b><a href="../man3/gd_open.3.html">gd_open</a></b>(3), <a href="../man5/dirfile.5.html">dirfile</a>(5)

Version 0.10.0                                  25 December 2016                             <u><a href="../man3/gd_match_entries.3.html">gd_match_entries</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>