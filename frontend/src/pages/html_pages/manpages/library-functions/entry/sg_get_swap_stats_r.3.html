<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sg_get_mem_stats,    sg_get_mem_stats_r,   sg_free_mem_stats,   sg_get_swap_stats,   sg_get_swap_stats_r,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libstatgrab-dev">libstatgrab-dev_0.92.1-1.2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sg_get_mem_stats,    sg_get_mem_stats_r,   sg_free_mem_stats,   sg_get_swap_stats,   sg_get_swap_stats_r,
       sg_free_swap_stats - get VM statistics

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;statgrab.h&gt;

       sg_mem_stats *<b>sg_get_mem_stats</b> (size_t *<u>entries</u>);

       sg_mem_stats *<b>sg_get_mem_stats_r</b> (size_t *<u>entries</u>);

       sg_error <b>sg_free_mem_stats</b> (sg_mem_stats *<u>data</u>);

       sg_swap_stats *<b>sg_get_swap_stats</b> (size_t *<u>entries</u>);

       sg_swap_stats *<b>sg_get_swap_stats_r</b> (size_t *<u>entries</u>);

       sg_error <b>sg_free_swap_stats</b> (sg_swap_stats *<u>data</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Memory statistics are accessed through the <b>sg_get_mem_stats</b>() function and the <b>sg_get_mem_stats_r</b>() func‐
       tion. Both return a pointer to a sg_mem_stats buffer.  Note that this statistic doesn't need to  map  the
       entire physical memory usage, it represents the real memory usable by the operating system.

       Memory  statistics  are  accessed  through the <b>sg_get_swap_stats</b>() function and the <b>sg_get_swap_stats_r</b>()
       function. Both return a pointer to a sg_swap_stats buffer.

       <b>API</b> <b>Shortcut</b>
       ┌─────────────────────┬─────────────────┬────────────────────────────┐
       │ function            │ returns         │ data owner                 │
       ├─────────────────────┼─────────────────┼────────────────────────────┤
       │ sg_get_mem_stats    │ sg_mem_stats *  │ libstatgrab (thread local) │
       ├─────────────────────┼─────────────────┼────────────────────────────┤
       │ sg_get_mem_stats_r  │ sg_mem_stats *  │ caller                     │
       ├─────────────────────┼─────────────────┼────────────────────────────┤
       │ sg_get_swap_stats   │ sg_swap_stats * │ libstatgrab (thread local) │
       ├─────────────────────┼─────────────────┼────────────────────────────┤
       │ sg_get_swap_stats_r │ sg_swap_stats * │ caller                     │
       └─────────────────────┴─────────────────┴────────────────────────────┘

       The sg_mem_stats buffer received from <b>sg_get_mem_stats_r</b>() and the  sg_swap_stats  buffer  received  from
       <b>sg_get_swap_stats_r</b>()  must be freed using <b>sg_free_mem_stats</b>() or the <b>sg_free_swap_stats</b>(), respectively,
       when not needed any more. The caller is responsible for doing it.

       On the FreeBSD operating system elevated privileges are required to access the  swap  statistics.  Making
       the program setgid kmem should be sufficient. Programs running as root will not have this problem.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The VM system calls can return a pointer to either a sg_mem_stats or a sg_swap_stats.

       typedef struct{
               unsigned long long total;
               unsigned long long free;
               unsigned long long used;
               unsigned long long cache;
               time_t systime;
       } sg_mem_stats;

       total  The total amount of real memory in bytes.

       free   The free amount of real memory in bytes.

       used   The used amount of real memory in bytes.

       cache  The amount of real memory in bytes used for caching.

       systime
              the timestamp when the above stats where collected in seconds since epoch

       typedef struct {
               unsigned long long total;
               unsigned long long used;
               unsigned long long free;
               time_t systime;
       } sg_swap_stats;

       total  The total swap space in bytes.

       used   The used swap in bytes.

       free   The free swap in bytes.

       systime
              The timestamp when the above stats where collected in seconds since epoch

</pre><h4><b>TODO</b></h4><pre>
       Add  a  function to hold open the file descriptor to the kernel memory structures. Doing this would allow
       the elevated privileges to be dropped early on.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/statgrab.3.html">statgrab</a></b>(3)

</pre><h4><b>WEBSITE</b></h4><pre>
       ⟨https://libstatgrab.org/⟩

libstatgrab                                        2019-03-08                                <u><a href="../man3/sg_get_mem_stats.3.html">sg_get_mem_stats</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>