<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ace::Graphics::Panel - PNG graphics of Ace::Sequence::Feature objects</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libace-perl">libace-perl_1.92-12build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Ace::Graphics::Panel - PNG graphics of Ace::Sequence::Feature objects

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Ace::Sequence;
         use Ace::Graphics::Panel;

         my $db     = Ace-&gt;connect(-host=&gt;'brie2.cshl.org',-port=&gt;2005) or die;
         my $cosmid = Ace::Sequence-&gt;new(-seq=&gt;'Y16B4A',
                                         -db=&gt;$db,-start=&gt;-15000,-end=&gt;15000) or die;

         my @transcripts = $cosmid-&gt;transcripts;

         my $panel = Ace::Graphics::Panel-&gt;new(
                                             -segment =&gt; $cosmid,
                                             -width  =&gt; 800
                                            );

         $panel-&gt;add_track(arrow =&gt; $cosmid,
                         -bump =&gt; 0,
                         -tick=&gt;2);

         $panel-&gt;add_track(transcript =&gt; \@transcripts,
                           -fillcolor =&gt;  'wheat',
                           -fgcolor   =&gt;  'black',
                           -key       =&gt; 'Curated Genes',
                           -bump      =&gt;  +1,
                           -height    =&gt;  10,
                           -label     =&gt;  1);

         my $boxes = $panel-&gt;boxes;
         print $panel-&gt;png;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The Ace::Graphics::Panel class provides drawing and formatting services for Ace::Sequence::Feature
       objects or Das::Segment::Feature objects.

       Typically you will begin by creating a new Ace::Graphics::Panel object, passing it the width of the
       visual display and the length of the segment.

       You will then call <b>add_track()</b> one or more times to add sets of related features to the picture.  When
       you have added all the features you desire, you may call <b>png()</b> to convert the image into a PNG-format
       image, or <b>boxes()</b> to return coordinate information that can be used to create an imagemap.

       Note that this modules depends on GD.

</pre><h4><b>METHODS</b></h4><pre>
       This section describes the class and object methods for Ace::Graphics::Panel.

   <b>CONSTRUCTORS</b>
       There is only one constructor, the <b>new()</b> method.

       $panel = Ace::Graphics::Panel-&gt;new(@options)
           The <b>new()</b> method creates a new panel object.  The options are a set of tag/value pairs as follows:

             Option      Value                                Default
             ------      -----                                -------

             -length     Length of sequence segment, in bp    0

             -segment    An Ace::Sequence or Das::Segment     none
                         object, used to derive length if
                         not provided

             -offset     Base pair to place at extreme left   $segment-&gt;start
                         of image.

             -width      Desired width of image, in pixels    600

             -spacing    Spacing between tracks, in pixels    5

             -pad_top    Additional whitespace between top    0
                         of image and contents, in pixels

             -pad_bottom Additional whitespace between top    0
                         of image and bottom, in pixels

             -pad_left   Additional whitespace between left   0
                         of image and contents, in pixels

             -pad_right  Additional whitespace between right  0
                         of image and bottom, in pixels

             -keycolor   Background color for the key printed 'cornsilk'
                         at bottom of panel (if any)

             -keyspacing Spacing between key glyphs in the    10
                         key printed at bottom of panel
                         (if any)

           Typically  you  will  pass  <b>new()</b>  an  object  that implements the Bio::RangeI interface, providing a
           <b>length()</b> method, from which the panel will derive its scale.

             $panel = Ace::Graphics::Panel-&gt;new(-segment =&gt; $sequence,
                                                -width   =&gt; 800);

           <b>new()</b> will return undef in case of an error. If the specified glyph name is not a  valid  one,  <b>new()</b>
           will throw an exception.

   <b>OBJECT</b> <b>METHODS</b>
       $track = $panel-&gt;add_track($glyph,$features,@options)
           The <b>add_track()</b> method adds a new track to the image.

           Tracks  are  horizontal bands which span the entire width of the panel.  Each track contains a number
           of graphical elements called "glyphs", each corresponding to a sequence feature. There are  different
           glyph  types,  but  each  track can only contain a single type of glyph.  Options passed to the track
           control the color and size of the glyphs, whether they are allowed to overlap, and  other  formatting
           attributes.  The height of a track is determined from its contents and cannot be directly influenced.

           The  first two arguments are the glyph name and an array reference containing the list of features to
           display.  The order of the arguments is irrelevant, allowing either of these idioms:

             $panel-&gt;add_track(arrow =&gt; \@features);
             $panel-&gt;add_track(\@features =&gt; 'arrow');

           The glyph name indicates how each feature is to be rendered.  A variety of glyphs are available,  and
           the number is growing.  Currently, the following glyphs are available:

             Name        Description
             ----        -----------

             box         A filled rectangle, nondirectional.

             ellipse     A filled ellipse, nondirectional.

             arrow       An arrow; can be unidirectional or bidirectional.
                         It is also capable of displaying a scale with
                         major and minor tickmarks, and can be oriented
                         horizontally or vertically.

             segments    A set of filled rectangles connected by solid lines.
                         Used for interrupted features, such as gapped
                         alignments.

             transcript  Similar to segments, but the connecting line is
                         a "hat" shape, and the direction of transcription
                         is indicated by a small arrow.

             transcript2 Similar to transcript, but the arrow that indicates
                         the direction of transcription is the last exon
                         itself.

             primers     Two inward pointing arrows connected by a line.
                         Used for STSs.

             toomany     A "cloud", to indicate too many features to show
                         individually.  This is a placeholder that will be
                         replaced by something more clever, such as a histogram
                         or density plot.

             group       A group of related features connected by a dashed line.
                         This is used internally by the Track class and should
                         not be called explicitly.

           If the glyph name is omitted from <b>add_track()</b>, the "box" glyph will be used by default.

           The  @options  array  is  a  list  of name/value pairs that control the attributes of the track.  The
           options are in turn passed to the glyphs.  Each glyph has its own specialized subset of options,  but
           some are shared by all glyphs:

             Option      Description               Default
             ------      -----------               -------

             -glyph      Glyph to use              none

             -fgcolor    Foreground color          black

             -outlinecolor                         black
                         Synonym for -fgcolor

             -bgcolor    Background color          white

             -fillcolor  Interior color of filled  turquoise
                         images

             -linewidth  Width of lines drawn by   1
                               glyph

             -height     Height of glyph           10

             -font       Glyph font                gdSmallFont

             -label      Whether to draw a label   false

             -bump       Bump direction            0

             -connect_groups                       false
                         Connect groups by a
                         dashed line (see below)

             -key        Show this track in the    undef
                         key

           Colors  can  be  expressed  in either of two ways: as symbolic names such as "cyan" and as HTML-style
           #RRGGBB triples.  The symbolic names are the 140 colors defined  in  the  Netscape/Internet  Explorer
           color cube, and can be retrieved using the Ace::Graphics::Panel-&gt;<b>color_names()</b> method.

           The  background  color  is  used  for the background color of the track itself.  The foreground color
           controls the color of lines and strings.  The interior color is  used  for  filled  objects  such  as
           boxes.

           The  -label  argument  controls  whether  or  not the ID of the feature should be printed next to the
           feature.  It is accepted by most, but not all of the glyphs.

           The -bump argument controls what happens when glyphs collide.  By default, they will  simply  overlap
           (value  0).   A -bump value of +1 will cause overlapping glyphs to bump downwards until there is room
           for them.  A -bump value of -1 will cause overlapping glyphs to bump upwards.

           The -key argument declares that the track is to be shown in a key  appended  to  the  bottom  of  the
           image.  The key contains a picture of a glyph and a label describing what the glyph means.  The label
           is specified in the argument to -key.

           If present, the -glyph argument overrides the glyph given in the first or second argument.

           <b>add_track()</b>  returns  an  Ace::Graphics::Track  object.   You  can  use this object to add additional
           features or to control the appearance of the track with greater detail, or just  ignore  it.   Tracks
           are  added  in order from the top of the image to the bottom.  To add tracks to the top of the image,
           use <b>unshift_track()</b>.

           Typical usage is:

            $panel-&gt;add_track( thistle    =&gt; \@genes,
                               -fillcolor =&gt;  'green',
                               -fgcolor   =&gt;  'black',
                               -bump      =&gt;  +1,
                               -height    =&gt; 10,
                               -label     =&gt; 1);

       $track = unshift_track($glyph,$features,@options)
           <b>unshift_track()</b> works like <b>add_track()</b>, except that the new track is added to the top  of  the  image
           rather than the bottom.

           <b>Adding</b>  <b>groups</b>  <b>of</b>  <b>features:</b>  It  is  not  uncommon  to  add a group of features which are logically
           connected, such as the 5' and 3' ends of EST reads.  To group features into sets that remain  on  the
           same  horizontal  position  and  bump  together, pass the sets as an anonymous array.  To connect the
           groups by a dashed line, pass the -connect_groups argument with a true value.  For example:

             $panel-&gt;add_track(segments =&gt; [[$abc_5,$abc_3],
                                            [$xxx_5,$xxx_3],
                                            [$yyy_5,$yyy_3]],
                               -connect_groups =&gt; 1);

       $gd = $panel-&gt;gd
           The <b>gd()</b> method lays out the image and returns a GD::Image object containing it.  You may  then  call
           the GD::Image object's <b>png()</b> or <b>jpeg()</b> methods to get the image data.

       $png = $panel-&gt;png
           The  <b>png()</b>  method  returns  the  image  as  a  PNG-format  drawing, without the intermediate step of
           returning a GD::Image object.

       $boxes = $panel-&gt;boxes
       @boxes = $panel-&gt;boxes
           The <b>boxes()</b> method returns the coordinates of each glyph, useful for constructing an image map.  In a
           scalar context, <b>boxes()</b> returns an array ref.  In an list  context,  the  method  returns  the  array
           directly.

           Each member of the list is an anonymous array of the following format:

             [ $feature, $x1, $y1, $x2, $y2 ]

           The  first  element is the feature object; either an Ace::Sequence::Feature, a Das::Segment::Feature,
           or another Bioperl Bio::SeqFeatureI object.  The coordinates are the topleft and bottomright  corners
           of the glyph, including any space allocated for labels.

   <b>ACCESSORS</b>
       The  following accessor methods provide access to various attributes of the panel object.  Called with no
       arguments, they each return the current value of the attribute.  Called with a single argument, they  set
       the attribute and return its previous value.

       Note that in most cases you must change attributes prior to invoking <b>gd()</b>, <b>png()</b> or <b>boxes()</b>.  These three
       methods  all  invoke  an internal <b>layout()</b> method which places the tracks and the glyphs within them, and
       then caches the result.

          Accessor Name      Description
          -------------      -----------

          width()            Get/set width of panel
          spacing()          Get/set spacing between tracks
          length()           Get/set length of segment (bp)
          pad_top()          Get/set top padding
          pad_left()         Get/set left padding
          pad_bottom()       Get/set bottom padding
          pad_right()        Get/set right padding

   <b>INTERNAL</b> <b>METHODS</b>
       The following methods are used internally, but may be useful for those implementing new glyph types.

       @names = Ace::Graphics::Panel-&gt;color_names
           Return the symbolic names of the colors recognized by the panel object.  In a scalar context, returns
           an array reference.

       @rgb = $panel-&gt;rgb($index)
           Given a GD color index (between 0 and 140), returns the RGB  triplet  corresponding  to  this  index.
           This method is only useful within a glyph's <b>draw()</b> routine, after the panel has allocated a GD::Image
           and is populating it.

       $index = $panel-&gt;translate($color)
           Given  a  color,  returns  the GD::Image index.  The color may be symbolic, such as "turquoise", or a
           #RRGGBB triple, as in #F0E0A8.  This method is only useful within a glyph's <b>draw()</b> routine, after the
           panel has allocated a GD::Image and is populating it.

       $panel-&gt;set_pen($width,$color)
           Changes the width and color of  the  GD  drawing  pen  to  the  values  indicated.   This  is  called
           automatically by the GlyphFactory <b>fgcolor()</b> method.

</pre><h4><b>BUGS</b></h4><pre>
       Please report them.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Ace::Sequence,Ace::Sequence::Feature, Ace::Graphics::Track,Ace::Graphics::Glyph, GD

</pre><h4><b>AUTHOR</b></h4><pre>
       Lincoln Stein &lt;<a href="mailto:lstein@cshl.org">lstein@cshl.org</a>&gt;.

       Copyright (c) 2001 Cold Spring Harbor Laboratory

       This  library  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.  See DISCLAIMER.txt for disclaimers of warranty.

perl v5.40.0                                       2024-10-20                          <u>Ace::Graphics::<a href="../man3pm/Panel.3pm.html">Panel</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>