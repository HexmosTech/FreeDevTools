<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File::ChangeNotify::Watcher - Role consumed by all watchers</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libfile-changenotify-perl">libfile-changenotify-perl_0.31-2build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       File::ChangeNotify::Watcher - Role consumed by all watchers

</pre><h4><b>VERSION</b></h4><pre>
       version 0.31

</pre><h4><b>SYNOPSIS</b></h4><pre>
           my $watcher =
               File::ChangeNotify-&gt;instantiate_watcher
                   ( directories =&gt; [ '/my/path', '/my/other' ],
                     filter      =&gt; qr/\.(?:pm|conf|yml)$/,
                     exclude     =&gt; ['t', 'root', qr(/(?!\.)[^/]+$),
                                     sub { -e &amp;&amp; ! -r }],
                   );

           if ( my @events = $watcher-&gt;new_events ) { ... }

           # blocking
           while ( my @events = $watcher-&gt;wait_for_events ) { ... }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A "File::ChangeNotify::Watcher" monitors a directory for changes made to any file. You can provide a
       regular expression to filter out files you are not interested in. It handles the addition of new
       subdirectories by adding them to the watch list.

       Note that the actual granularity of what each watcher class reports may vary. Implementations that hook
       into some sort of kernel event interface (Inotify, for example) have much better knowledge of exactly
       what changes are happening than one implemented purely in userspace code (like the Default class).

       By default, events are returned in the form of File::ChangeNotify::Event objects, but this can be
       overridden by providing an "event_class" attribute to the constructor.

       You can block while waiting for events or do a non-blocking call asking for any new events since the last
       call (or since the watcher was instantiated). Different watchers will implement blocking in different
       ways, and the Default watcher just does a sleep loop.

</pre><h4><b>METHODS</b></h4><pre>
   <b>File::ChangeNotify::Watcher::Subclass-&gt;new(...)</b>
       This method creates a new watcher. It accepts the following arguments:

       •   directories =&gt; $path

       •   directories =&gt; \@paths

           This argument is required. It can be either one or many paths which should be watched for changes.

       •   filter =&gt; qr/.../

           This  is  an  optional  regular  expression that will be used to check if a file is of interest. This
           filter is only applied to files.

           By default, all files are included.

       •   exclude =&gt; [...]

           An optional arrayref  of  paths  to  exclude.  This  arrayref  can  contain  plain  strings,  regular
           expressions, or subroutine references. If you provide a string it should contain the complete path to
           be excluded.

           If you provide a sub, it should return a true value for paths to be excluded e.g. "exclude =&gt; [ sub {
           -e  &amp;&amp;  !  -r  } ],". The path will be passed as the first argument to the subroutine as well as in a
           localized $_.

           The paths can be either directories or specific files. If the exclusion matches a directory,  all  of
           its files and subdirectories are ignored.

       •   modify_includes_file_attributes

           This can either be a boolean or an arrayref.

           If it is an arrayref then it should contain paths for which you want information about changes to the
           file's  attributes.  This  arrayref  can  contain  plain  strings, regular expressions, or subroutine
           references. If you provide a string it should contain the complete path to be excluded.

           When this matches a file, then modify events for that file will include information about the  file's
           before and after permissions and ownership when these change.

           See the File::ChangeNotify::Event documentation for details on what this looks like.

       •   modify_includes_content

           This can either be a boolean or an arrayref.

           If  it is an arrayref then it should contain paths for which you want to see past and current content
           for a file when it is modified. This arrayref can contain  plain  strings,  regular  expressions,  or
           subroutine references. If you provide a string it should contain the complete path to be excluded.

           When  this matches a file, then modify events for that file will include information about the file's
           before and after content when it changes.

           See the File::ChangeNotify::Event documentation for details on what this looks like.

       •   follow_symlinks =&gt; $bool

           By default, symlinks are ignored. Set this to true to follow them.

           If this symlinks are being followed, symlinks to files and directories will be followed.  Directories
           will be watched, and changes for directories and files reported.

       •   sleep_interval =&gt; $number

           For  watchers  which  call "sleep" to implement the "$watcher-&gt;wait_for_events" method, this argument
           controls how long it sleeps for. The value is a number in seconds.

           The default is 2 seconds.

       •   event_class =&gt; $class

           This  can  be  used  to  change  the  class  used   to   report   events.   By   default,   this   is
           File::ChangeNotify::Event.

   <b>$watcher-&gt;wait_for_events</b>
       This method causes the watcher to block until it sees interesting events, and then return them as a list.

       Some watcher subclasses may implement blocking as a sleep loop, while others may actually block.

   <b>$watcher-&gt;new_events</b>
       This method returns a list of any interesting events seen since the last time the watcher checked.

   <b>$watcher-&gt;sees_all_events</b>
       If this is true, the watcher will report on all events.

       Some  watchers, like the Default subclass, are not smart enough to track things like a file being created
       and then immediately deleted, and can only detect changes between snapshots of the file system.

       Other watchers, like the Inotify subclass, see all events that happen and report on them.

</pre><h4><b>SUPPORT</b></h4><pre>
       Bugs may be  submitted  at  &lt;<a href="http://rt.cpan.org/Public/Dist/Display.html">http://rt.cpan.org/Public/Dist/Display.html</a>?Name=File-ChangeNotify&gt;  or  via
       email to <a href="mailto:bug-file-changenotify@rt.cpan.org">bug-file-changenotify@rt.cpan.org</a> &lt;<a href="mailto:bug-file-changenotify@rt.cpan.org">mailto:bug-file-changenotify@rt.cpan.org</a>&gt;.

       I am also usually active on IRC as 'autarch' on "irc://irc.perl.org".

</pre><h4><b>SOURCE</b></h4><pre>
       The      source      code      repository      for      File-ChangeNotify     can     be     found     at
       &lt;https://github.com/houseabsolute/File-ChangeNotify&gt;.

</pre><h4><b>AUTHOR</b></h4><pre>
       Dave Rolsky &lt;<a href="mailto:autarch@urth.org">autarch@urth.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2009 - 2019 by Dave Rolsky.

       This is free software, licensed under:

         The Artistic License 2.0 (GPL Compatible)

       The full text of the license can be found in the <u>LICENSE</u> file included with this distribution.

perl v5.40.1                                       2025-02-18                   <u>File::ChangeNotify::<a href="../man3pm/Watcher.3pm.html">Watcher</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>