<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmem2_badblock_clear() - clear the given bad block</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpmem2-dev">libpmem2-dev_1.13.1-1.1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmem2_badblock_clear</b>() - clear the given bad block

</pre><h4><b>SYNOPSIS</b></h4><pre>
              #include &lt;libpmem2.h&gt;

              struct pmem2_badblock;
              struct pmem2_badblock_context;

              int pmem2_badblock_clear(
                      struct pmem2_badblock_context *bbctx,
                      struct pmem2_badblock *bb);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>pmem2_badblock_clear</b>() function clears the given <u>*bb</u> bad block.

       It  means  that  the  <b>pmem2_badblock_clear</b>()  function unmaps bad blocks and maps new, healthy, blocks in
       place of the bad ones.  The new blocks are zeroed.  The content of the bad blocks is lost.

       It is not supported on Windows.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       The <b>pmem2_badblock_clear</b>() function clears the given <u>*bb</u> bad block and returns 0 on success or a negative
       error code on failure.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>pmem2_badblock_clear</b>() can fail with the following errors:

       • <b>PMEM2_E_OFFSET_OUT_OF_RANGE</b> - bad block’s offset is greater than INT64_MAX

       • <b>PMEM2_E_LENGTH_OUT_OF_RANGE</b> - bad block’s length is greater than INT64_MAX

       • <b>PMEM2_E_NOSUPP</b> - on Windows or when the OS does not support this functionality

       • <b>-errno</b> - set by failing <b><a href="../man2/fallocate.2.html">fallocate</a></b>(2), while deallocating bad blocks or allocating new blocks

       • <b>-errno</b>  -  set  by  failing   ndctl   functions:   <b>ndctl_bus_cmd_new_ars_cap</b>,   <b>ndctl_cmd_submit</b>,   <b>nd‐</b>
         <b>ctl_cmd_ars_cap_get_range</b>  or  <b>ndctl_bus_cmd_new_clear_error</b> while trying to clear a bad block in a DAX
         device

       • <b>-ENXIO</b> - <b>ndctl_bus_cmd_new_clear_error</b> did not manage to clear all bad blocks

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/pmem2_badblock_context_new.3.html">pmem2_badblock_context_new</a></b>(3), <b><a href="../man3/pmem2_badblock_next.3.html">pmem2_badblock_next</a></b>(3), <b><a href="../man7/libpmem2.7.html">libpmem2</a></b>(7) and <b>&lt;https://pmem.io&gt;</b>
</pre>
 </div>
</div></section>
</div>
</body>
</html>