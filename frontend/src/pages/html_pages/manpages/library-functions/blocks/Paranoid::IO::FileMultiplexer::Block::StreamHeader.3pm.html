<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paranoid::IO::FileMultiplexer::Block::StreamHeader - Stream Header Block</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libparanoid-perl">libparanoid-perl_2.10-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Paranoid::IO::FileMultiplexer::Block::StreamHeader - Stream Header Block

</pre><h4><b>VERSION</b></h4><pre>
       $Id: lib/Paranoid/IO/FileMultiplexer/Block/StreamHeader.pm, 2.10 2022/03/08 00:01:04 acorliss Exp $

</pre><h4><b>SYNOPSIS</b></h4><pre>
           $obj = Paranoid::IO::FileMultiplexer::Block::StreamHeader-&gt;new($file,
                   $blockNo, $blockSize, $strmName);

           $name   = $obj-&gt;streamName;
           $max    = $obj-&gt;maxBATs;
           $eos    = $obj-&gt;eos;
           @bats   = $obj-&gt;bats;
           $rv     = $obj-&gt;full;

           $rv     = $obj-&gt;writeSig;
           $rv     = $obj-&gt;readSig;
           $rv     = $obj-&gt;writeEOS($pos);
           $pos    = $obj-&gt;readEOS;
           $rv     = $obj-&gt;validateBlocks;
           $rv     = $obj-&gt;writeBATs;
           $rv     = $obj-&gt;readBATs;
           $rv     = $obj-&gt;addBAT($bn);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class is not meant to be used directly, but as part of the Paranoid::IO::FileMultiplexer
       functionality.  This provides functionality necessary for manipulation of the stream header block.

       This module does presume that whatever file it is being used on has already been opened in the
       appropriate mode, and that the Paranoid::IO flock stack has been enabled.  For the purposes of
       Paranoid::IO::FileMultiplexer, this is done in that class.

</pre><h4><b>SUBROUTINES/METHODS</b></h4><pre>
   <b>new</b>
           $obj = Paranoid::IO::FileMultiplexer::Block::StreamHeader-&gt;new($file,
                   $blockNo, $blockSize, $strmName);

       This creates a new instance of a stream header block object.  It requires the filename in order to
       retrieve the cached file handle from Paranoid::IO, the block number of the block, the size of the block,
       and the name of the stream.

       <b>NOTE:</b> creating an object does not automatically create the file and/or write a signature.  That must be
       done using the methods below.

   <b>streamName</b>
           $name = $obj-&gt;streamName;

       This method returns the stream name.

   <b>maxBATs</b>
           $max = $obj-&gt;maxBATs;

       This method returns the maximum number of BATs supported by the stream.

   <b>eos</b>
           $eos = $obj-&gt;eos;

       This method returns the current EOS of the stream.  Note that this is just the last cached value, which
       may be out of sync with the contents of the file.

   <b>bats</b>
           %bats = $obj-&gt;bats;

       This method returns an array of BAT block numbers allocated to the stream.

   <b>full</b>
           $rv     = $obj-&gt;full;

       This method returns a boolean value denoting whether this streams's array of BAT blocks is at maximum
       capacity or not.

   <b>writeSig</b>
           $rv = $obj-&gt;writeSig;

       This method writes the stream header signature to disk, returning a boolean value denoting its success.
       Note that the signature contains the file format, stream name, and current EOS position.  This does not
       include the allocated BAT block numbers.

   <b>readSig</b>
           $rv = $obj-&gt;readSig;

       This method reads the stream header signature from disk and performs basic validation that the
       information in it is acceptable.  It validates that the stream name matches what is expected and the
       block format is correct.

       If the method call was successful it will update the cached values in the object.  Note that this is only
       the signature values, not the BAT block numbers.

   <b>writeEOS</b>
           $rv = $obj-&gt;writeEOS($pos);

       This method writes the passed stream EOS position to disk, and returns a boolean value denoting success.

   <b>readEOS</b>
           $pos = $obj-&gt;readEOS;

       This method reads the stream EOS postiong from disk and returns it.  If there are any errors reading or
       extracting the value, it will return undef.

   <b>validateEOS</b>
           $rv = $obj-&gt;validateEOS;

       This method compares the cached EOS position to what's actually written in the file.  This is useful for
       determining whether an external process has potentially modified the file.

   <b>writeBATs</b>
           $rv = $obj-&gt;writeBATs;

       This method writes the BAT block numbers to the header block, and returns a boolean denoting success.

   <b>readBATs</b>
           $rv = $obj-&gt;readBATs;

       This method reads the BAT block numbers from the file, and returns a boolean value denoting success.  If
       the read is successful, this will update the cached BATs in the object.

   <b>addBAT</b>
           $rv = $obj-&gt;addBAT($bn);

       This method does some basic validation of the requested BAT, and if it passes, updates the BAT block
       number list on the disk.

</pre><h4><b>DEPENDENCIES</b></h4><pre>
       o   Fcntl

       o   Paranoid

       o   Paranoid::Debug

       o   Paranoid::Data

       o   Paranoid::IO

       o   Paranoid::IO::FileMultiplexer::Block

</pre><h4><b>BUGS</b> <b>AND</b> <b>LIMITATIONS</b></h4><pre>
</pre><h4><b>AUTHOR</b></h4><pre>
       Arthur Corliss (<a href="mailto:corliss@digitalmages.com">corliss@digitalmages.com</a>)

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       This  software  is  free  software.   Similar to Perl, you can redistribute it and/or modify it under the
       terms of either:

         a)     the GNU General Public License
                &lt;https://www.gnu.org/licenses/gpl-1.0.html&gt; as published by the
                Free Software Foundation &lt;<a href="http://www.fsf.org/">http://www.fsf.org/</a>&gt;; either version 1
                &lt;https://www.gnu.org/licenses/gpl-1.0.html&gt;, or any later version
                &lt;https://www.gnu.org/licenses/license-list.html#GNUGPL&gt;, or
         b)     the Artistic License 2.0
                &lt;https://opensource.org/licenses/Artistic-2.0&gt;,

       subject to the following additional term:  No trademark rights to "Paranoid" have been  or  are  conveyed
       under  any  of  the  above  licenses.  However, "Paranoid" may be used fairly to describe this unmodified
       software, in good faith, but not as a trademark.

       (c)  2005  -  2021,  Arthur  Corliss  (<a href="mailto:corliss@digitalmages.com">corliss@digitalmages.com</a>)  (tm)  2008  -   2021,   Paranoid   Inc.
       (www.paranoid.com)

perl v5.38.2                                       2024-03-07             <u>Paranoid::IO::F...k::<a href="../man3pm/StreamHeader.3pm.html">StreamHeader</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>