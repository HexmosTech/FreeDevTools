<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paranoid::IO::FileMultiplexer::Block::BATHeader - BAT Header Block</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libparanoid-perl">libparanoid-perl_2.10-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Paranoid::IO::FileMultiplexer::Block::BATHeader - BAT Header Block

</pre><h4><b>VERSION</b></h4><pre>
       $Id: lib/Paranoid/IO/FileMultiplexer/Block/BATHeader.pm, 2.10 2022/03/08 00:01:04 acorliss Exp $

</pre><h4><b>SYNOPSIS</b></h4><pre>
           $obj = Paranoid::IO::FileMultiplexer::Block::BATHeader-&gt;new($file,
               $blockNo, $blockSize, $strmName, $sequenceNo);

           $max  = $obj-&gt;maxData;
           $seq  = $obj-&gt;sequence;
           @data = $obj-&gt;dataBlocks;
           $rv   = $obj-&gt;full;

           $rv = $obj-&gt;writeSig;
           $rv = $obj-&gt;readSig;
           $rv = $obj-&gt;writeData;
           $rv = $obj-&gt;readData;
           $rv = $obj-&gt;addData($bn);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class is not meant to be used directly, but as part of the Paranoid::IO::FileMultiplexer
       functionality.  This provides functionality necessary for manipulation of the stream header block.

       This module does presume that whatever file it is being used on has already been opened in the
       appropriate mode, and that the Paranoid::IO flock stack has been enabled.  For the purposes of
       Paranoid::IO::FileMultiplexer, this is done in that class.

</pre><h4><b>SUBROUTINES/METHODS</b></h4><pre>
   <b>new</b>
           $obj = Paranoid::IO::FileMultiplexer::Block::BATHeader-&gt;new($file,
               $blockNo, $blockSize, $strmName, $sequenceNo);

       This creates a new instance of a BAT header block object.  It requires the filename in order to retrieve
       the cached file handle from Paranoid::IO, the block number of the block, the size of the block, the name
       of the stream, and the block sequence number.

       <b>NOTE:</b> creating an object does not automatically create the file and/or write a signature.  That must be
       done using the methods below.

   <b>maxData</b>
           $max = $obj-&gt;maxData;

       This method returns the maximum number of data blocks that can be tracked in a single BAT block.

   <b>sequence</b>
           $seq = $obj-&gt;sequence;

       This method returns the sequence number of the BAT.  In essence, this is the ordinal index of the BAT in
       a stream's array of BATs.

   <b>dataBlocks</b>
           @data = $obj-&gt;dataBlocks;

       This method returns the list of data blocks being tracked by this BAT.

   <b>full</b>
           $rv   = $obj-&gt;full;

       This method returns a boolean value denoting whether this BAT's array of data blocks is at maximum
       capacity or not.

   <b>writeSig</b>
           $rv = $obj-&gt;writeSig;

       This method writes the BAT header signature to disk, returning a boolean value denoting its success.
       Note that the signature contains the file format, stream name, and the BAT sequence number.  This does
       not include the allocated data block numbers.

   <b>readSig</b>
           $rv = $obj-&gt;readSig;

       This method reads the BAT header signature from disk and performs basic validation that the information
       in it is acceptable.  It validates that the stream name and sequence number matches what is expected and
       the block format is correct.

       If the method call was successful it will update the cached values in the object.  Note that this is only
       the signature values, not the data block numbers.

   <b>writeData</b>
           $rv = $obj-&gt;writeData;

       This method writes the data block numbers to the header block, and returns a boolean denoting success.

   <b>readData</b>
           $rv = $obj-&gt;readData;

       This method reads the data block numbers from the file, and returns a boolean value denoting success.  If
       the read is successful, this will update the cached data blocks in the object.

   <b>addData</b>
           $rv = $obj-&gt;addData($bn);

       This method does some basic validation of the requested BAT, and if it passes, updates the data block
       number list on the disk.

</pre><h4><b>DEPENDENCIES</b></h4><pre>
       o   Fcntl

       o   Paranoid

       o   Paranoid::Debug

       o   Paranoid::Data

       o   Paranoid::IO

       o   Paranoid::IOFileMultiplexer::Block

</pre><h4><b>BUGS</b> <b>AND</b> <b>LIMITATIONS</b></h4><pre>
</pre><h4><b>AUTHOR</b></h4><pre>
       Arthur Corliss (<a href="mailto:corliss@digitalmages.com">corliss@digitalmages.com</a>)

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       This  software  is  free  software.   Similar to Perl, you can redistribute it and/or modify it under the
       terms of either:

         a)     the GNU General Public License
                &lt;https://www.gnu.org/licenses/gpl-1.0.html&gt; as published by the
                Free Software Foundation &lt;<a href="http://www.fsf.org/">http://www.fsf.org/</a>&gt;; either version 1
                &lt;https://www.gnu.org/licenses/gpl-1.0.html&gt;, or any later version
                &lt;https://www.gnu.org/licenses/license-list.html#GNUGPL&gt;, or
         b)     the Artistic License 2.0
                &lt;https://opensource.org/licenses/Artistic-2.0&gt;,

       subject to the following additional term:  No trademark rights to "Paranoid" have been  or  are  conveyed
       under  any  of  the  above  licenses.  However, "Paranoid" may be used fairly to describe this unmodified
       software, in good faith, but not as a trademark.

       (c)  2005  -  2021,  Arthur  Corliss  (<a href="mailto:corliss@digitalmages.com">corliss@digitalmages.com</a>)  (tm)  2008  -   2021,   Paranoid   Inc.
       (www.paranoid.com)

perl v5.38.2                                       2024-03-07              <u>Paranoid::IO::...lock::<a href="../man3pm/BATHeader.3pm.html">BATHeader</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>