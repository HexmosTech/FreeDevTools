<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Archetype - base class for all [incr Tk] mega-widgets</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tk-itk4-doc">tk-itk4-doc_4.2.5~20240521-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Archetype - base class for all [incr Tk] mega-widgets

</pre><h4><b>INHERITANCE</b></h4><pre>
       none

</pre><h4><b>WIDGET-SPECIFIC</b> <b>OPTIONS</b></h4><pre>
       Name:           <b>clientData</b>
       Class:          <b>ClientData</b>
       Command-Line Switch:           <b>-clientdata</b>

              This does not affect the widget operation in any way.  It is simply a hook that clients can use to
              store  a  bit  of  data  with  each  widget.   This  can come in handy when using widgets to build
              applications.
_________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>Archetype</b> class is the basis for all <b>[incr</b> <b>Tk]</b> mega-widgets.  It keeps track of component widgets and
       provides methods like "configure" and "cget" that are used to access the composite configuration options.
       Each component widget must be registered with the <b>Archetype</b> base  class  using  the  "<b>itk_component</b>  <b>add</b>"
       method.   When  the  component is registered, its configuration options are integrated into the composite
       option list.  Configuring a composite option like "-background" causes all of the internal components  to
       change their background color.

       It  is  not  used  as  a widget by itself, but is used as a base class for more specialized widgets.  The
       <b>Widget</b> base class inherits from <b>Archetype</b>, and adds a Tk frame which acts as the  "hull"  for  the  mega-
       widget.   The  <b>Toplevel</b>  base  class  inherits  from  <b>Archetype</b>, but adds a Tk toplevel which acts as the
       "hull".

       <u>Each</u> <u>derived</u> <u>class</u> <u>must</u> <u>invoke</u> <u>the</u> <b>itk_initialize</b> <u>method</u> <u>within</u> <u>its</u> <u>constructor,</u> <u>so</u> <u>that</u> <u>all</u> <u>options</u>  <u>are</u>
       <u>properly</u> <u>integrated</u> <u>and</u> <u>initialized</u> <u>in</u> <u>the</u> <u>composite</u> <u>list.</u>

</pre><h4><b>PUBLIC</b> <b>METHODS</b></h4><pre>
       The following methods are provided to support the public interface of the mega-widget.

       <u>pathName</u> <b>cget</b> <u>option</u>
              Returns the current value of the configuration option given by <u>option</u>.

              In  this  case, <u>option</u> refers to a composite configuration option for the mega-widget.  Individual
              components integrate their own configuration  options  onto  the  composite  list  when  they  are
              registered by the "<b>itk_component</b> <b>add</b>" method.

       <u>pathName</u> <b>component</b> ?<u>name</u>? ?<u>command</u> <u>arg</u> <u>arg</u> <u>...</u>?
              Used to query or access component widgets within a mega-widget.  With no arguments, this returns a
              list  of  symbolic  names  for  component  widgets  that are accessible in the current scope.  The
              symbolic name for a component is established when it is  registered  by  the  "<b>itk_component</b>  <b>add</b>"
              method.   Note that component widgets obey any public/protected/private access restriction that is
              in force when the component is created.

              If a symbolic <u>name</u> is specified, this method returns the window path name for that component.

              Otherwise, the <u>command</u> and any remaining <u>arg</u> arguments are invoked as a method  on  the  component
              with  the  symbolic  name <u>name</u>.  This provides a well-defined way of accessing internal components
              without relying on specific window path names, which are really details of the implementation.

       <u>pathName</u> <b>configure</b> ?<u>option</u>? ?<u>value</u> <u>option</u> <u>value</u> <u>...</u>?
              Query or modify the configuration options of the widget.  If no <u>option</u>  is  specified,  returns  a
              list describing all of the available options for <u>pathName</u> (see <b>Tk_ConfigureInfo</b> for information on
              the  format  of this list).  If <u>option</u> is specified with no <u>value</u>, then the command returns a list
              describing the one named option (this list will be identical to the corresponding sublist  of  the
              value  returned if no <u>option</u> is specified).  If one or more <u>option-value</u> pairs are specified, then
              the command modifies the given widget option(s) to have the given  value(s);   in  this  case  the
              command returns an empty string.

              In  this  case,  the  <u>options</u>  refer  to  composite  configuration  options  for  the mega-widget.
              Individual components integrate their own configuration options onto the composite list when  they
              are registered by the "<b>itk_component</b> <b>add</b>" method.

</pre><h4><b>PROTECTED</b> <b>METHODS</b></h4><pre>
       The following methods are used in derived classes as part of the implementation for a mega-widget.

       <b>itk_component</b> <b>add</b> ?<b>-protected</b>? ?<b>-private</b>? ?<b>--</b>? <u>name</u> <u>createCmds</u> ?<u>optionCmds</u>?
              Creates  a  component  widget by executing the <u>createCmds</u> argument and registers the new component
              with the symbolic name <u>name</u>.  The <b>-protected</b>  and  <b>-private</b>  options  can  be  used  to  keep  the
              component  hidden  from  the  outside  world.   These  options  have a similar effect on component
              visibility as they have on class members.

              The <u>createCmds</u> code can contain any number of commands, but it must return the  window  path  name
              for the new component widget.

              The  <u>optionCmds</u>  script  contains commands that describe how the configuration options for the new
              component should be integrated into the composite list for the mega-widget.  It can contain any of
              the following commands:

              <b>ignore</b> <u>option</u> ?<u>option</u> <u>option</u> <u>...</u>?
                     Removes one or more configuration <u>options</u> from the composite list.  All options are ignored
                     by default, so the <b>ignore</b> command is only used to negate the effect of a previous  <b>keep</b>  or
                     <b>rename</b>  command.   This  is  useful, for example, when the some of the options added by the
                     <b>usual</b> command should not apply to a particular component, and need to be ignored.

              <b>keep</b> <u>option</u> ?<u>option</u> <u>option</u> <u>...</u>?
                     Integrates one or more configuration <u>options</u> into the composite list, keeping the name  the
                     same.   Whenever the mega-widget option is configured, the new value is also applied to the
                     current component.  Options like "-background" and "-cursor" are commonly found on the <b>keep</b>
                     list.

              <b>rename</b> <u>option</u> <u>switchName</u> <u>resourceName</u> <u>resourceClass</u>
                     Integrates the configuration <u>option</u> into the composite list with  a  different  name.   The
                     option  will  be  called  <u>switchName</u>  on  the  composite list.  It will also be modified by
                     setting values for <u>resourceName</u> and  <u>resourceClass</u>  in  the  X11  resource  database.   The
                     "-highlightbackground"  option is commonly renamed to "-background", so that when the mega-
                     widget background changes, the background of the focus ring will change as well.

              <b>usual</b> <b>?</b><u>tag</u>?
                     Finds the usual option-handling commands for the specified <u>tag</u> name and executes them.   If
                     the  <u>tag</u> is not specified, then the widget class name is used as the <u>tag</u> name.  The "usual"
                     option-handling commands are registered via the <b>usual</b> command.

       If the <u>optionCmds</u> script is not specified, the usual option-handling commands associated with  the  class
       of the component widget are used by default.

       <b>itk_component</b> <b>delete</b> <u>name</u> ?<u>name</u> <u>name</u> <u>...</u>?
              Removes  the  component  widget  with  the symbolic name <u>name</u> from the mega-widget.  The component
              widget will still exist, but it will no longer be accessible as a component  of  the  mega-widget.
              Also, any options associated with the component are removed from the composite option list.

              Note  that you can destroy a component using the <b>destroy</b> command, just as you would destroy any Tk
              widget.  Components automatically detach themselves from their mega-widget parent when  destroyed,
              so "<b>itk_component</b> <b>delete</b>" is rarely used.

       <b>itk_initialize</b> <b>?</b><u>option</u> <u>value</u> <u>option</u> <u>value...</u>?
              <u>This</u>  <u>method</u> <u>must</u> <u>be</u> <u>invoked</u> <u>within</u> <u>the</u> <u>constructor</u> <u>for</u> <u>each</u> <u>class</u> <u>in</u> <u>a</u> <u>mega-widget</u> <u>hierarchy.</u>  It
              makes sure that  all  options  are  properly  integrated  into  the  composite  option  list,  and
              synchronizes  all  components to the initial option values.  It is usually invoked near the bottom
              of the constructor, after all component widgets have been added.

              If any <u>option</u>/<u>value</u> pairs are specified, they override settings determined from the  X11  resource
              database.  The arguments to the constructor are usually passed along to this method as follows:
              itcl::class MyWidget {
                  inherit Widget

                  constructor {args} {
                      .
                      .
                      .
                      eval itk_initialize $args
                  }
              }

       <b>itk_option</b> <b>add</b> <u>optName</u> ?<u>optName</u> <u>optName</u> <u>...</u>?
              Adds  one  or more options to the composite option list for a mega-widget.  Here, <u>optName</u> can have
              one of the following forms:

              <u>component</u>.<u>option</u>
                     Accesses an <u>option</u> belonging to a component with the symbolic name <u>component</u>.   The  <u>option</u>
                     name is specified without a leading "<b>-</b>" sign.

              <u>className</u>::<u>option</u>
                     Accesses  an  <u>option</u>  defined  by  the "<b>itk_option</b> <b>define</b>" command in class <u>className</u>.  The
                     <u>option</u> name is specified without a leading "<b>-</b>" sign.

       Options are normally integrated into the composite option list when a component widget is first  created.
       This  method  can  be  used  to  add  options at a later time.  For example, the <b>Widget</b> and <b>Toplevel</b> base
       classes keep only the bare minimum options for their  "hull"  component:   -background  and  -cursor.   A
       derived class can override this decision, and add options that control the border of the "hull" component
       as well:
              itcl::class MyWidget {
                  inherit Widget

                  constructor {args} {
                      itk_option add hull.borderwidth hull.relief

                      itk_component add label {
                          label $itk_interior.l1 -text "Hello World!"
                      }
                      pack $itk_component(label)

                      eval itk_initialize $args
                  }
              }

       <b>itk_option</b> <b>define</b> <u>switchName</u> <u>resourceName</u> <u>resourceClass</u> <u>init</u> ?<u>config</u>?
              This  command  is  used  at  the  level  of the class definition to define a synthetic mega-widget
              option.  Within the <b>configure</b> and <b>cget</b> methods, this option is  referenced  by  <u>switchName</u>,  which
              must  start  with  a  "<b>-</b>"  sign.   It  can also be modified by setting values for <u>resourceName</u> and
              <u>resourceClass</u> in the X11 resource database.  The <u>init</u> value string is used as  a  last  resort  to
              initialize  the  option if no other value can be used from an existing option, or queried from the
              X11 resource database.  If any <u>config</u> code is specified, it is executed  whenever  the  option  is
              modified  via  the  <b>configure</b>  method.  The <u>config</u> code can also be specified outside of the class
              definition via the <b>configbody</b> command.

              In the following example, a synthetic "-background" option is added to the class, so that whenever
              the background changes, the new value is reported to standard output.  Note  that  this  synthetic
              option is integrated with the rest of the "-background" options that have been kept from component
              widgets:
              itcl::class MyWidget {
                  inherit Widget
                  constructor {args} {
                      itk_component add label {
                          label $itk_interior.l1 -text "Hello World!"
                      }
                      pack $itk_component(label)

                      eval itk_initialize $args
                  }
                  itk_option define -background background Background #d9d9d9 {
                      puts "new background: $itk_option(-background)"
                  }
              }

       <b>itk_option</b> <b>remove</b> <u>optName</u> ?<u>optName</u> <u>optName</u> <u>...</u>?
              Removes  one  or more options from the composite option list for a mega-widget.  Here, <u>optName</u> can
              have one of the forms described above for the "<b>itk_option</b> <b>add</b>" command.

              Options are normally integrated into the composite option list when a component  widget  is  first
              created.  This method can be used to remove options at a later time.  For example, a derived class
              can override an option defined in a base class by removing and redefining the option:
              itcl::class Base {
                  inherit itk::Widget
                  constructor {args} {
                      eval itk_initialize $args
                  }

                  itk_option define -foo foo Foo "" {
                      puts "Base: $itk_option(-foo)"
                  }
              }

              itcl::class Derived {
                  inherit Base

                  constructor {args} {
                      itk_option remove Base::foo
                      eval itk_initialize $args
                  }
                  itk_option define -foo foo Foo "" {
                      puts "Derived: $itk_option(-foo)"
                  }
              }
       Without  the  "<b>itk_option</b>  <b>remove</b>"  command,  the  code fragments for both of the "-foo" options would be
       executed each time the composite "-foo" option is configured.  In the example above, the Base::foo option
       is suppressed in all Derived class widgets, so only the Derived::foo option remains.

</pre><h4><b>PROTECTED</b> <b>VARIABLES</b></h4><pre>
       Derived classes can find useful information in the following protected variables.

       itk_component(<u>name</u>)
              The "itk_component" array returns the real window path  name  for  a  component  widget  with  the
              symbolic name <u>name</u>.  The same information can be queried using the <b>component</b> method, but accessing
              this array is faster and more convenient.

       itk_interior
              This  variable  contains the name of the window that acts as a parent for internal components.  It
              is initialized to the name of the "hull" component provided by the <b>Widget</b>  and  <b>Toplevel</b>  classes.
              Derived  classes  can  override the initial setting to point to another interior window to be used
              for further-derived classes.

       itk_option(<u>option</u>)
              The "itk_option" array returns the current option value for  the  composite  widget  option  named
              <u>option</u>.   Here,  the  <u>option</u>  name should include a leading "<b>-</b>" sign.  The same information can be
              queried using the <b>cget</b> method, but accessing this array is faster and more convenient.

</pre><h4><b>KEYWORDS</b></h4><pre>
       itk, Widget, Toplevel, mega-widget

itk                                                    3.0                                       <u><a href="../man3itk/Archetype.3itk.html">Archetype</a></u>(3itk)
</pre>
 </div>
</div></section>
</div>
</body>
</html>