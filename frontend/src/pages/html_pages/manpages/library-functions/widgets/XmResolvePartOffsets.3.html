<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XmResolvePartOffsets  —  A  function  that  allows  writing of upward-compatible applications and widgets</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmotif-dev">libmotif-dev_2.3.8-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>XmResolvePartOffsets</b>  —  A  function  that  allows  writing of upward-compatible applications and widgets
       "XmResolvePartOffsets"

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;Xm/Xm.h&gt;
       <b>void</b> <b>XmResolvePartOffsets</b>(
       <b>WidgetClass</b> <b>widget_class</b>,
       <b>XmOffsetPtr</b> <b>*</b> <b>offset</b>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The use of offset records requires one extra global variable per widget class.  The variable consists  of
       a  pointer  to  an  array  of  offsets into the widget record for each part of the widget structure.  The
       <b>XmResolvePartOffsets</b> function allocates the offset records needed by an application to guarantee  upward-
       compatible  access to widget instance records by applications and widgets.  These offset records are used
       by the widget to access all of the widget's variables.  A widget needs to take the steps described in the
       following paragraphs.

       Instead of creating a resource list, the widget creates an offset resource list.  To accomplish this, use
       the <b>XmPartResource</b> structure and the <b>XmPartOffset</b> macro.  The <b>XmPartResource</b> data  structure  looks  just
       like  a  resource  list,  but  instead  of  having  one  integer for its offset, it has two shorts.  This
       structure is put into the class record as if it were a normal resource list. Instead  of  using  <b>XtOffset</b>
       for the offset, the widget uses <b>XmPartOffset</b>.

       XmPartResource resources[] = {
         { BarNxyz, BarCXyz, XmRBoolean,
           sizeof(Boolean), XmPartOffset(Bar,xyz),
           XmRImmediate, (XtPointer)False }
       };

       Instead  of putting the widget size in the class record, the widget puts the widget part size in the same
       field.

       Instead of putting <b>XtVersion</b> in the class record, the widget puts <b>XtVersionDontCheck</b> in the class record.

       The widget defines a variable, of type <b>XmOffsetPtr</b>, to point to the offset record.  This can be  part  of
       the widget's class record or a separate global variable.

       In  class  initialization,  the  widget  calls  <b>XmResolvePartOffsets</b>, passing it a pointer to contain the
       address of the offset record and the class record.  This does several things:

          •  Adds the superclass (which, by definition, has already been initialized) size  field  to  the  part
             size field

          •  Allocates an array based upon the number of superclasses

          •  Fills  in  the offsets of all the widget parts with the appropriate values, determined by examining
             the size fields of all superclass records

          •  Uses the part offset array to modify the offset entries in the resource list to be real offsets, in
             place

       The widget defines a constant that will be the index to its part structure in  the  offsets  array.   The
       value  should  be  1  greater  than  the  index of the widget's superclass.  Constants defined for all <b>Xm</b>
       widgets can be found in <b>XmP.h</b>.

       #define BarIndex (XmBulletinBIndex + 1)

       Instead of accessing fields directly, the widget must always go through the offset  table.   The  <b>XmField</b>
       macro  helps  you  access  these  fields.  Because the <b>XmPartOffset</b> and <b>XmField</b> macros concatenate things
       together, you must ensure that there is no space after the part argument.   For  example,  the  following
       macros do not work because of the space after the part (Label) argument:

       XmField(w, offset, Label, text, char *)
       XmPartOffset(Label, text)

       Therefore, you must not have any spaces after the part (Label) argument, as illustrated here:

       XmField(w, offset, Label, text, char *)

       You can define macros for each field to make this easier.  Assume an integer field <u>xyz</u>:

       #define BarXyz(w) (*(int *)(((char *) w) + \
               offset[BarIndex] + XtOffset(BarPart,xyz)))

       The parameters for <b>XmResolvePartOffsets</b> are

       <u>widget_class</u>
                 Specifies the widget class pointer for the created widget

       <u>offset</u>    Returns the offset record

</pre><h4><b>RELATED</b> <b>INFORMATION</b></h4><pre>
       <b><a href="../man3/XmResolveAllPartOffsets.3.html">XmResolveAllPartOffsets</a></b>(3).

                                                                                         <u><a href="../man3/XmResolvePartOffsets.3.html">XmResolvePartOffsets</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>