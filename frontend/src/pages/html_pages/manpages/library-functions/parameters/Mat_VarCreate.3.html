<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mat_VarCreate — Creates a MAT variable structure.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmatio-doc">libmatio-doc_1.5.28-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mat_VarCreate — Creates a MAT variable structure.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;matio.h&gt;</b>

       <u>matvar_t</u> <u>*</u>
       <b>Mat_VarCreate</b>(<u>const</u> <u>char</u> <u>*name</u>,   <u>enum</u> <u>matio_classes</u> <u>class_type</u>,   <u>enum</u> <u>matio_types</u> <u>data_type</u>,  <u>int</u> <u>rank</u>,
           <u>const</u> <u>size_t</u> <u>*dims</u>, <u>const</u> <u>void</u> <u>*data</u>, <u>int</u> <u>opt</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>Mat_VarCreate</b>() function creates a MAT structure variable named <u>name</u> that can be  written  to  a  MAT
       file.   The <u>class_type</u> argument specifies the class of the variable, and the <u>data_type</u> argument specifies
       the type of the data.  For example, a double-precision class would use MAT_C_DOUBLE for  the  class  type
       and  MAT_T_DOUBLE for the data type.  In some instances, the data type may not match the class type.  For
       example, an array of integers can be written in the  double-precision  class  by  using  MAT_T_INT32  for
       <u>data_type.</u>

       The  <u>rank</u>  argument  specifies  how  many dimensions the data has.  The minimum rank is 2.  The number of
       elements in each dimension is specified in the array <u>dims.</u>

       The <u>data</u> argument is a pointer to the variable data.  The pointer is typically a  pointer  to  a  numeric
       array  (e.g.  double,  float,  int,  etc.)  for  real variables.  For complex variables, the pointer is a
       pointer to a <u>mat_complex_split_t</u> which contains pointers to the real and imaginary data as fields of  the
       structure.  For sparse variables, the pointer should be a <u>mat_sparse_t</u> <u>*.</u>

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       If  the  variable  was  successfully  created,  a pointer to the variable is returned.  Otherwise NULL is
       returned.  The variable should be free'd when no longer needed using <b>Mat_VarFree</b>().

</pre><h4><b>EXAMPLES</b></h4><pre>
       The example program below creates a MAT file named <u>test.mat,</u> and writes two real numeric variables <u>x</u>  and
       <u>y</u> and a complex variable <u>z</u> to the file.

       #include &lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;
       #include &lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;
       #include "matio.h"

       int
       main(int argc,char **argv)
       {
           mat_t    *matfp;
           matvar_t *matvar;
           size_t    dims[2] = {10,1};
           double    x[10] = { 1, 2, 3, 4, 5, 6, 7, 8, 9,10},
                     y[10] = {11,12,13,14,15,16,17,18,19,20};
           struct mat_complex_split_t z = {x, y};

           matfp = Mat_CreateVer("test.mat", NULL, MAT_FT_DEFAULT);
           if ( NULL == matfp ) {
               fprintf(stderr, "Error creating MAT file
               return EXIT_FAILURE;
           }

           matvar = Mat_VarCreate("x", MAT_C_DOUBLE, MAT_T_DOUBLE, 2, dims, x, 0);
           if ( NULL == matvar ) {
               fprintf(stderr, "Error creating variable for 'x'0);
           } else {
               Mat_VarWrite(matfp, matvar, MAT_COMPRESSION_NONE);
               <a href="../manmatvar/Mat_VarFree.matvar.html">Mat_VarFree</a>(matvar);
           }

           matvar = Mat_VarCreate("y", MAT_C_DOUBLE, MAT_T_DOUBLE, 2, dims, y, 0);
           if ( NULL == matvar ) {
               fprintf(stderr, "Error creating variable for 'y'0);
           } else {
               Mat_VarWrite(matfp, matvar, MAT_COMPRESSION_NONE);
               <a href="../manmatvar/Mat_VarFree.matvar.html">Mat_VarFree</a>(matvar);
           }

           matvar = Mat_VarCreate("z", MAT_C_DOUBLE, MAT_T_DOUBLE, 2, dims, &amp;z,
                        MAT_F_COMPLEX);
           if ( NULL == matvar ) {
               fprintf(stderr, "Error creating variable for 'z'0);
           } else {
               Mat_VarWrite(matfp, matvar, MAT_COMPRESSION_NONE);
               <a href="../manmatvar/Mat_VarFree.matvar.html">Mat_VarFree</a>(matvar);
           }

           <a href="../manmatfp/Mat_Close.matfp.html">Mat_Close</a>(matfp);
           return EXIT_SUCCESS;
       }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/Mat_VarCreateStruct.3.html">Mat_VarCreateStruct</a></u>(3), <u><a href="../man3/Mat_VarFree.3.html">Mat_VarFree</a></u>(3), <u><a href="../man3/Mat_VarWrite.3.html">Mat_VarWrite</a></u>(3)

Debian                                          November 20, 2023                               <u><a href="../man3/MAT_VARCREATE.3.html">MAT_VARCREATE</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>