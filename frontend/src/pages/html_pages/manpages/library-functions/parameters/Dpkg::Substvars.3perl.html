<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dpkg::Substvars - handle variable substitution in strings</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdpkg-perl">libdpkg-perl_1.22.21ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Dpkg::Substvars - handle variable substitution in strings

</pre><h4><b>DESCRIPTION</b></h4><pre>
       It provides a class which is able to substitute variables in strings.

</pre><h4><b>METHODS</b></h4><pre>
       $s = Dpkg::Substvars-&gt;new($file)
               Create  a new object that can do substitutions. By default it contains generic substitutions like
               ${Newline}, ${Space}, ${Tab}, ${dpkg:Version} and ${dpkg:Upstream-Version}.

               Additional substitutions will be read from the $file passed as parameter.

               It keeps track of which substitutions were actually used (only counting <b>substvars()</b>, not  <b>get()</b>),
               and warns about unused substvars when asked to. The substitutions that are always present are not
               included in these warnings.

       $s-&gt;set($key, $value)
               Add/replace a substitution.

       $s-&gt;set_as_used($key, $value)
               Add/replace a substitution and mark it as used (no warnings will be produced even if unused).

       $s-&gt;set_as_auto($key, $value)
               Add/replace  a  substitution and mark it as used and automatic (no warnings will be produced even
               if unused), and will not be emitted into the substvars file.

       $s-&gt;set_as_optional($key, $value)
               Add/replace a substitution and mark it as used and optional (no warnings will be produced even if
               unused).

       $s-&gt;set_as_required($key, $value)
               Add/replace a substitution and mark it as required (an error will be produced if it is not used).

       $s-&gt;get($key)
               Get the value of a given substitution.

       $s-&gt;delete($key)
               Remove a given substitution.

       $s-&gt;mark_as_used($key)
               Prevents warnings about a unused substitution, for example if it is provided by default.

       $s-&gt;parse($fh, $desc)
               Add new substitutions read from the filehandle. $desc is used to identify the filehandle in error
               messages.

               Returns the number of substitutions that have been parsed with success.

       $s-&gt;load($file)
               Add new substitutions read from $file.

       $s-&gt;set_version_substvars($sourceversion, $binaryversion)
               Defines ${binary:Version}, ${source:Version} and ${source:Upstream-Version} based  on  the  given
               version strings.

               These will never be warned about when unused.

       $s-&gt;<b>set_arch_substvars()</b>
               Defines architecture variables: ${Arch}.

               This will never be warned about when unused.

       $s-&gt;<b>set_vendor_substvars()</b>
               Defines vendor variables: ${vendor:Name} and ${vendor:Id}.

               These will never be warned about when unused.

       $s-&gt;<b>set_desc_substvars()</b>
               Defines source description variables: ${source:Synopsis} and ${source:Extended-Description}.

               These will never be warned about when unused.

       $s-&gt;set_field_substvars($ctrl, $prefix)
               Defines  field  variables  from  a  Dpkg::Control  object,  with  each  variable  having the form
               "${$prefix:$field}".

               They will never be warned about when unused.

       $newstring = $s-&gt;substvars($string)
               Substitutes variables in $string and return the result in $newstring.

       $s-&gt;<b>warn_about_unused()</b>
               Issues warning about any variables that were set, but not used.

       $s-&gt;set_msg_prefix($prefix)
               Define a prefix displayed before all warnings/error messages output by the module.

       $s-&gt;filter(%opts)
               Filter the substitution variables.

               Options:

               <b>remove</b>
                   A function returning a boolean, used to decide whether to  remove  a  substitution  variable,
                   executed as $opts{remove}-&gt;($var).

               <b>keep</b>
                   A  function  returning  a  boolean, used to decide whether to keep the substitution variable,
                   executed as $opts{keep}-&gt;($var).

       "$s"    Return a string representation of all substitutions variables except the automatic ones.

       $str = $s-&gt;output([$fh])
               Return all substitutions variables except the automatic ones. If $fh is passed  print  them  into
               the filehandle.

       $s-&gt;save($file)
               Store all substitutions variables except the automatic ones in the indicated file.

</pre><h4><b>CHANGES</b></h4><pre>
   <b>Version</b> <b>2.03</b> <b>(dpkg</b> <b>1.22.15)</b>
       New methods: $s-&gt;<b>set_as_optional()</b>, $s-&gt;<b>set_as_required()</b>.

   <b>Version</b> <b>2.02</b> <b>(dpkg</b> <b>1.22.7)</b>
       New feature: Add support for required substitution variables.

   <b>Version</b> <b>2.01</b> <b>(dpkg</b> <b>1.21.8)</b>
       New feature: Add support for optional substitution variables.

   <b>Version</b> <b>2.00</b> <b>(dpkg</b> <b>1.20.0)</b>
       Remove method: $s-&gt;<b>no_warn()</b>.

       New method: $s-&gt;<b>set_vendor_substvars()</b>.

   <b>Version</b> <b>1.06</b> <b>(dpkg</b> <b>1.19.0)</b>
       New method: $s-&gt;<b>set_desc_substvars()</b>.

   <b>Version</b> <b>1.05</b> <b>(dpkg</b> <b>1.18.11)</b>
       Obsolete substvar: Emit an error on Source-Version substvar usage.

       New return: $s-&gt;<b>parse()</b> now returns the number of parsed substvars.

       New method: $s-&gt;<b>set_field_substvars()</b>.

   <b>Version</b> <b>1.04</b> <b>(dpkg</b> <b>1.18.0)</b>
       New method: $s-&gt;<b>filter()</b>.

   <b>Version</b> <b>1.03</b> <b>(dpkg</b> <b>1.17.11)</b>
       New method: $s-&gt;<b>set_as_auto()</b>.

   <b>Version</b> <b>1.02</b> <b>(dpkg</b> <b>1.16.5)</b>
       New  argument: Accept a $binaryversion in $s-&gt;<b>set_version_substvars()</b>, passing a single argument is still
       supported.

       New method: $s-&gt;<b>mark_as_used()</b>.

       Deprecated method: $s-&gt;<b>no_warn()</b>, use $s-&gt;<b>mark_as_used()</b> instead.

   <b>Version</b> <b>1.01</b> <b>(dpkg</b> <b>1.16.4)</b>
       New method: $s-&gt;<b>set_as_used()</b>.

   <b>Version</b> <b>1.00</b> <b>(dpkg</b> <b>1.15.6)</b>
       Mark the module as public.

1.22.21                                            2025-07-14                             <u>Dpkg::<a href="../man3perl/Substvars.3perl.html">Substvars</a></u>(3perl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>