<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>itcl::configbody - change the "config" code for a public variable</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl-itcl4-doc">tcl-itcl4-doc_4.3.2-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       itcl::configbody - change the "config" code for a public variable

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>itcl::configbody</b> <u>className</u><b>::</b><u>varName</u> <u>body</u>
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>configbody</b>  command  is  used  outside  of  an <b>[incr</b> <b>Tcl]</b> class definition to define or redefine the
       configuration code associated with a public variable.  Public variables act  like  configuration  options
       for  an  object.  They can be modified outside the class scope using the built-in <b>configure</b> method.  Each
       variable can have a bit of "config" code associate with  it  that  is  automatically  executed  when  the
       variable is configured.  The <b>configbody</b> command can be used to define or redefine this body of code.

       Like  the  <b>body</b>  command,  this  facility  allows  a  class  definition  to have separate "interface" and
       "implementation" parts.  The "interface" part is a <b>class</b> command with declarations  for  methods,  procs,
       instance  variables  and  common variables.  The "implementation" part is a series of <b>body</b> and <b>configbody</b>
       commands.  If the "implementation" part is kept in a separate file, it can be sourced again and again  as
       bugs  are  fixed, to support interactive development.  When using the "tcl" mode in the <b>emacs</b> editor, the
       "interface" and "implementation" parts can be kept in the same file; as bugs are fixed, individual bodies
       can be highlighted and sent to the test application.

       The name "<u>className</u><b>::</b><u>varName</u>" identifies the public variable being updated.  If the  <u>body</u>  string  starts
       with  "<b>@</b>",  it  is  treated  as  the  symbolic name for a C procedure.  Otherwise, it is treated as a Tcl
       command script.

       Symbolic names for C procedures are established by registering procedures via <b>Itcl_RegisterC()</b>.  This  is
       usually  done  in  the <b>Tcl_AppInit()</b> procedure, which is automatically called when the interpreter starts
       up.  In the following example, the procedure My_FooCmd() is registered  with  the  symbolic  name  "foo".
       This procedure can be referenced in the <b>configbody</b> command as "@foo".
              int
              Tcl_AppInit(interp)
                  Tcl_Interp *interp;     /* Interpreter for application. */
              {
                  if (Itcl_Init(interp) == TCL_ERROR) {
                      return TCL_ERROR;
                  }

                  if (Itcl_RegisterC(interp, "foo", My_FooCmd) != TCL_OK) {
                      return TCL_ERROR;
                  }
              }

</pre><h4><b>EXAMPLE</b></h4><pre>
       In the following example, a "File" class is defined to represent open files.  Whenever the "-name" option
       is  configured, the existing file is closed, and a new file is opened.  Note that the "config" code for a
       public variable is optional.  The "-access" option, for example, does not have it.
              itcl::class File {
                  private variable fid ""

                  public variable name ""
                  public variable access "r"

                  constructor {args} {
                      eval configure $args
                  }
                  destructor {
                      if {$fid != ""} {
                          close $fid
                      }
                  }

                  method get {}
                  method put {line}
                  method eof {}
              }

              itcl::body File::get {} {
                  return [gets $fid]
              }
              itcl::body File::put {line} {
                  puts $fid $line
              }
              itcl::body File::eof {} {
                  return [::eof $fid]
              }

              itcl::configbody File::name {
                  if {$fid != ""} {
                      close $fid
                  }
                  set fid [open $name $access]
              }

              #
              # See the File class in action:
              #
              File x

              x configure -name <a href="file:/etc/passwd">/etc/passwd</a>
              while {![x eof]} {
                  puts "=&gt; [x get]"
              }
              itcl::delete object x

</pre><h4><b>KEYWORDS</b></h4><pre>
       class, object, variable, configure

itcl                                                   3.0                                     <u><a href="../man3itcl/configbody.3itcl.html">configbody</a></u>(3itcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>