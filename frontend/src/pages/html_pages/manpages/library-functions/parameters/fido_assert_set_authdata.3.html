<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fido_assert_set_authdata,            fido_assert_set_authdata_raw,            fido_assert_set_clientdata,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libfido2-doc">libfido2-doc_1.16.0-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fido_assert_set_authdata,            fido_assert_set_authdata_raw,            fido_assert_set_clientdata,
       fido_assert_set_clientdata_hash,            fido_assert_set_count,            fido_assert_set_extensions,
       fido_assert_set_hmac_salt,     fido_assert_set_hmac_secret,    fido_assert_set_up,    fido_assert_set_uv,
       fido_assert_set_rp, fido_assert_set_sig, fido_assert_set_winhello_appid  —  set  parameters  of  a  FIDO2
       assertion

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;fido.h&gt;</b>

       typedef enum {
               FIDO_OPT_OMIT = 0, /* use authenticator's default */
               FIDO_OPT_FALSE,    /* explicitly set option to false */
               FIDO_OPT_TRUE,     /* explicitly set option to true */
       } fido_opt_t;

       <u>int</u>
       <b>fido_assert_set_authdata</b>(<u>fido_assert_t</u> <u>*assert</u>, <u>size_t</u> <u>idx</u>, <u>const</u> <u>unsigned</u> <u>char</u> <u>*ptr</u>, <u>size_t</u> <u>len</u>);

       <u>int</u>
       <b>fido_assert_set_authdata_raw</b>(<u>fido_assert_t</u> <u>*assert</u>, <u>size_t</u> <u>idx</u>, <u>const</u> <u>unsigned</u> <u>char</u> <u>*ptr</u>, <u>size_t</u> <u>len</u>);

       <u>int</u>
       <b>fido_assert_set_clientdata</b>(<u>fido_assert_t</u> <u>*assert</u>, <u>const</u> <u>unsigned</u> <u>char</u> <u>*ptr</u>, <u>size_t</u> <u>len</u>);

       <u>int</u>
       <b>fido_assert_set_clientdata_hash</b>(<u>fido_assert_t</u> <u>*assert</u>, <u>const</u> <u>unsigned</u> <u>char</u> <u>*ptr</u>, <u>size_t</u> <u>len</u>);

       <u>int</u>
       <b>fido_assert_set_count</b>(<u>fido_assert_t</u> <u>*assert</u>, <u>size_t</u> <u>n</u>);

       <u>int</u>
       <b>fido_assert_set_extensions</b>(<u>fido_assert_t</u> <u>*assert</u>, <u>int</u> <u>flags</u>);

       <u>int</u>
       <b>fido_assert_set_hmac_salt</b>(<u>fido_assert_t</u> <u>*assert</u>, <u>const</u> <u>unsigned</u> <u>char</u> <u>*ptr</u>, <u>size_t</u> <u>len</u>);

       <u>int</u>
       <b>fido_assert_set_hmac_secret</b>(<u>fido_assert_t</u> <u>*assert</u>, <u>size_t</u> <u>idx</u>, <u>const</u> <u>unsigned</u> <u>char</u> <u>*ptr</u>, <u>size_t</u> <u>len</u>);

       <u>int</u>
       <b>fido_assert_set_up</b>(<u>fido_assert_t</u> <u>*assert</u>, <u>fido_opt_t</u> <u>up</u>);

       <u>int</u>
       <b>fido_assert_set_uv</b>(<u>fido_assert_t</u> <u>*assert</u>, <u>fido_opt_t</u> <u>uv</u>);

       <u>int</u>
       <b>fido_assert_set_rp</b>(<u>fido_assert_t</u> <u>*assert</u>, <u>const</u> <u>char</u> <u>*id</u>);

       <u>int</u>
       <b>fido_assert_set_sig</b>(<u>fido_assert_t</u> <u>*assert</u>, <u>size_t</u> <u>idx</u>, <u>const</u> <u>unsigned</u> <u>char</u> <u>*ptr</u>, <u>size_t</u> <u>len</u>);

       <u>int</u>
       <b>fido_assert_set_winhello_appid</b>(<u>fido_assert_t</u> <u>*assert</u>, <u>const</u> <u>char</u> <u>*id</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>fido_assert_set_authdata</b>  set  of  functions  define  the  various  parameters of a FIDO2 assertion,
       allowing a <u>fido_assert_t</u> type  to  be  prepared  for  a  subsequent  call  to  <u><a href="../man3/fido_dev_get_assert.3.html">fido_dev_get_assert</a></u>(3)  or
       <u><a href="../man3/fido_assert_verify.3.html">fido_assert_verify</a></u>(3).   For  the  complete  specification  of  a  FIDO2  assertion and the format of its
       constituent parts, please refer to the Web Authentication (webauthn) standard.

       The <b>fido_assert_set_count</b>() function sets the number of assertion statements in <u>assert</u> to <u>n</u>.

       The <b>fido_assert_set_authdata</b>()  and  <b>fido_assert_set_sig</b>()  functions  set  the  authenticator  data  and
       signature  parts of the statement with index <u>idx</u> of <u>assert</u> to <u>ptr</u>, where <u>ptr</u> points to <u>len</u> bytes.  A copy
       of <u>ptr</u> is made, and no references to the passed pointer are kept.  Please note that the  first  assertion
       statement of <u>assert</u> has an <u>idx</u> of <u>0</u>.  The authenticator data passed to <b>fido_assert_set_authdata</b>() must be
       a  CBOR-encoded  byte  string,  as obtained from <b>fido_assert_authdata_ptr</b>().  Alternatively, a raw binary
       blob may be passed to <b>fido_assert_set_authdata_raw</b>().

       The <b>fido_assert_set_clientdata_hash</b>() function sets the client data hash of  <u>assert</u>  to  <u>ptr</u>,  where  <u>ptr</u>
       points to <u>len</u> bytes.  A copy of <u>ptr</u> is made, and no references to the passed pointer are kept.

       The  <b>fido_assert_set_clientdata</b>() function allows an application to set the client data hash of <u>assert</u> by
       specifying the assertion's unhashed client data.  This is required by Windows Hello, which calculates the
       client  data  hash  internally.   For  compatibility  with  Windows  Hello,   applications   should   use
       <b>fido_assert_set_clientdata</b>() instead of <b>fido_assert_set_clientdata_hash</b>().

       The <b>fido_assert_set_rp</b>() function sets the relying party <u>id</u> of <u>assert</u>, where <u>id</u> is a NUL-terminated UTF-8
       string.  The content of <u>id</u> is copied, and no references to the passed pointer are kept.

       The  <b>fido_assert_set_extensions</b>()  function  sets  the extensions of <u>assert</u> to the bitmask <u>flags</u>.  At the
       moment, only the FIDO_EXT_CRED_BLOB,  FIDO_EXT_HMAC_SECRET,  and  FIDO_EXT_LARGEBLOB_KEY  extensions  are
       supported.  If <u>flags</u> is zero, the extensions of <u>assert</u> are cleared.

       The  <b>fido_assert_set_hmac_salt</b>()  and <b>fido_assert_set_hmac_secret</b>() functions set the hmac-salt and hmac-
       secret parts of <u>assert</u> to <u>ptr</u>, where <u>ptr</u> points to <u>len</u> bytes.  A copy of <u>ptr</u> is made, and  no  references
       to  the  passed pointer are kept.  The HMAC Secret (hmac-secret) Extension is a CTAP 2.0 extension.  Note
       that the resulting hmac-secret varies according  to  whether  user  verification  was  performed  by  the
       authenticator.  The <b>fido_assert_set_hmac_secret</b>() function is normally only useful when writing tests.

       The  <b>fido_assert_set_up</b>()  and  <b>fido_assert_set_uv</b>()  functions  set  the <u>up</u> (user presence) and <u>uv</u> (user
       verification) attributes of <u>assert</u>.  Both are FIDO_OPT_OMIT by default, allowing the authenticator to use
       its default settings.

       The <b>fido_assert_set_winhello_appid</b>() function sets the U2F application <u>id</u> (“U2F AppID”) of <u>assert</u>,  where
       <u>id</u>  is  a  NUL-terminated  UTF-8  string.   The  content of <u>id</u> is copied, and no references to the passed
       pointer are kept.  The <b>fido_assert_set_winhello_appid</b>() function is a no-op unless <u>assert</u>  is  passed  to
       <u><a href="../man3/fido_dev_get_assert.3.html">fido_dev_get_assert</a></u>(3)  with  a  device  <u>dev</u>  on which <u><a href="../man3/fido_dev_is_winhello.3.html">fido_dev_is_winhello</a></u>(3) holds true.  In this case,
       <u>libfido2</u> will instruct  Windows  Hello  to  try  the  assertion  twice,  first  with  the  <u>id</u>  passed  to
       <b>fido_assert_set_rp</b>(),  and  a second time with the <u>id</u> passed to <b>fido_assert_set_winhello_appid</b>().  If the
       second assertion succeeds, <u><a href="../man3/fido_assert_rp_id.3.html">fido_assert_rp_id</a></u>(3) will point to the U2F AppID  once  <u><a href="../man3/fido_dev_get_assert.3.html">fido_dev_get_assert</a></u>(3)
       completes.   This  mechanism  exists  in  Windows Hello to ensure U2F backwards compatibility without the
       application inadvertently prompting the user twice.  Note that  <b>fido_assert_set_winhello_appid</b>()  is  not
       needed  on  platforms  offering  CTAP  primitives, since the authenticator can be silently probed for the
       existence of U2F credentials.

       Use of the <b>fido_assert_set_authdata</b> set of functions may happen in two distinct situations: when asking a
       FIDO2 device to produce a series of assertion statements, prior to <u><a href="../man3/fido_dev_get_assert.3.html">fido_dev_get_assert</a></u>(3)  (i.e,  in  the
       context  of  a FIDO2 client), or when verifying assertion statements using <u><a href="../man3/fido_assert_verify.3.html">fido_assert_verify</a></u>(3) (i.e, in
       the context of a FIDO2 server).

       For a complete description of the generation of a FIDO2 assertion and its verification, please  refer  to
       the  FIDO2  specification.  An example of how to use the <b>fido_assert_set_authdata</b> set of functions can be
       found in the <u>examples/assert.c</u> file shipped with <u>libfido2</u>.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The <b>fido_assert_set_authdata</b> functions return FIDO_OK on  success.   The  error  codes  returned  by  the
       <b>fido_assert_set_authdata</b> set of functions are defined in &lt;<u>fido/err.h</u>&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/fido_assert_allow_cred.3.html">fido_assert_allow_cred</a></u>(3), <u><a href="../man3/fido_assert_verify.3.html">fido_assert_verify</a></u>(3), <u><a href="../man3/fido_dev_get_assert.3.html">fido_dev_get_assert</a></u>(3), <u><a href="../man3/fido_dev_is_winhello.3.html">fido_dev_is_winhello</a></u>(3)

Debian                                            April 8, 2023                      <u><a href="../man3/FIDO_ASSERT_SET_AUTHDATA.3.html">FIDO_ASSERT_SET_AUTHDATA</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>