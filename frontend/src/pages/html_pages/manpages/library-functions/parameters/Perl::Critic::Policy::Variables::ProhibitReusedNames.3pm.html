<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perl::Critic::Policy::Variables::ProhibitReusedNames - Do not reuse a variable name in a lexical scope</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libperl-critic-perl">libperl-critic-perl_1.156-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Perl::Critic::Policy::Variables::ProhibitReusedNames - Do not reuse a variable name in a lexical scope

</pre><h4><b>AFFILIATION</b></h4><pre>
       This Policy is part of the core Perl::Critic distribution.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       It's really hard on future maintenance programmers if you reuse a variable name in a lexical scope. The
       programmer is at risk of confusing which variable is which. And, worse, the programmer could accidentally
       remove the inner declaration, thus silently changing the meaning of the inner code to use the outer
       variable.

           my $x = 1;
           for my $i (0 .. 10) {
               my $x = $i+1;  # not OK, "$x" reused
           }

       With "use warnings" in effect, Perl will warn you if you reuse a variable name at the same scope level
       but not within nested scopes.  Like so:

           % perl -we 'my $x; my $x'
           "my" variable $x masks earlier declaration in same scope at -e line 1.

       This policy takes that warning to a stricter level.

</pre><h4><b>CAVEATS</b></h4><pre>
   <b>Crossing</b> <b>subroutines</b>
       This policy looks across subroutine boundaries.  So, the following may be a false positive for you:

           sub make_accessor {
               my ($self, $fieldname) = @_;
               return sub {
                   my ($self) = @_;  # false positive, $self declared as reused
                   return $self-&gt;{$fieldname};
               }
           }

       This is intentional, though, because it catches bugs like this:

           my $debug_mode = 0;
           sub set_debug {
               my $debug_mode = 1;  # accidental redeclaration
           }

       I've done this myself several times -- it's a strong habit to put that "my" in front of variables at the
       start of subroutines.

   <b>Performance</b>
       The current implementation walks the tree over and over.  For a big file, this can be a huge time sink.
       I'm considering rewriting to search the document just once for variable declarations and cache the tree
       walking on that single analysis.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       This policy has a single option, "allow", which is a list of names to never count as duplicates.  It
       defaults to containing $self and $class.  You add to this by adding something like this to your
       <u>.perlcriticrc</u>:

           [Variables::ProhibitReusedNames]
           allow = $self $class @blah

</pre><h4><b>AUTHOR</b></h4><pre>
       Chris Dolan &lt;<a href="mailto:cdolan@cpan.org">cdolan@cpan.org</a>&gt;

       This policy is inspired by &lt;<a href="http://use.perl.org/~jdavidb/journal/37548">http://use.perl.org/~jdavidb/journal/37548</a>&gt;.  Java does not allow you to
       reuse variable names declared in outer scopes, which I think is a nice feature.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2008-2021 Chris Dolan

       This program is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.  The full text of this license can be found in the LICENSE file included with this module.

perl v5.40.0                                       2024-10-28             <u>Perl::Critic::<a href="../man3pm/P...ibitReusedNames.3pm.html">P...ibitReusedNames</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>