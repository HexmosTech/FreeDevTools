<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio::Moosic - Moosic client library for Perl</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libaudio-moosic-perl">libaudio-moosic-perl_0.10-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Audio::Moosic - Moosic client library for Perl

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Audio::Moosic;

         $moo = Audio::Moosic::Unix-&gt;new();

         $moosic-&gt;append('/home/me/somewhat.ogg');
         $moosic-&gt;play;
         print $moosic-&gt;current, "\n";
         $moosic-&gt;pause;
         ...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Audio::Moosic acts as a client for the musical jukebox program Moosic (<a href="http://nanoo.org/~daniel/moosic/">http://nanoo.org/~daniel/moosic/</a>)
       by Daniel Pearson &lt;<a href="mailto:daniel@nanoo.org">daniel@nanoo.org</a>&gt;.

       Using Audio::Moosic you can connect to a moosic server either via an UNIX socket or an INET socket.

</pre><h4><b>METHODS</b></h4><pre>
   <b>new</b>
         $moo = Audio::Moosic::Unix-&gt;new();
         $moo = Audio::Moosic::Unix-&gt;new('/tmp/moosic/socket');
         $moo = Audio::Moosic::Inet-&gt;new('localhost', 8765);

       Constructor. Initializes the class and invokes the connect method. If you're creating a
       Audio::Moosic::Unix object you can give the location of your moosic socket as parameter. If not
       <a href="file:~/.moosic/socket">~/.moosic/socket</a> is used. If you're creating a Audio::Moosic::Inet instance you need to pass host and
       port as arguments.

       You can't create an instance of Audio::Moosic itself. Use Unix or Inet subclass.

       If the object was able to connect to the moosic server a reference to the object instance is returned. If
       the connection failed $@ is set and undef returned.

   <b>connect</b>
         $moo-&gt;connect('foobar.com', 9876);

       Connect to the moosic server. You normally don't need to run this method in your moosic client.

   <b>disconnect</b>
         $moo-&gt;disconnect;

       Disconnect from the moosic daemon. No more calls will be sent to the server after calling this method.
       You'll need to <b>reconnect()</b> first.

   <b>reconnect</b>
         $moo-&gt;reconnect;

       Disconnects from the server if you're connected and tries to reconnect.

   <b>connected</b>
         $moo-&gt;reconnect unless $moo-&gt;connected;

       Check whether you're connected to the moosic server or not.

   <b>client_config</b>
         print $moo-&gt;client_config('location');
         $conf = $moo-&gt;client_config();

       Reads the moosic clients config. If a $key argument is given it returns only the value associated with
       that key, if not the whole config hash.

       Would it be a good idea to make the user able to edit the client_config here?  Suggestions or maybe
       patches are welcome.

   <b>ping</b>
         die unless $moo-&gt;ping;

       Checks if we're still connected. This method checks the connection explicitly by calling the no_op server
       method. <b>connected()</b> only checks the value of the 'connected' object property.

   <b>error</b>
         my $error = $moo-&gt;error;
         $moo-&gt;error('Whaaa!');

       If an argument is given it adds the error string to the internal error array. If called in scalar context
       it returns the last error occurred. If you call <b>error()</b> in list context the whole error array of the
       Audio::Moosic instance is returned.

   <b>call</b>
         $moo-&gt;call('foo');
         $moo-&gt;call('bar', RPC::XML::int-&gt;<a href="../man3/new.3.html">new</a>(3));

       This method calls a xml-rpc method on the moosic server. The first argument should be the method name.
       The arguments of that method should follow behind.

       If the request to the moosic server could not be sent the Audio::Moosic instance disconnects from the
       server and puts the error message into the internal error array. Access it via <b>error()</b>. The object won't
       send any calls anymore if such an error occurred. You should try to reconnect.

       If the request could be sent, but returned an error the error message is added to the error array
       accessible via <b>error()</b>.

       If any error occurred <b>call()</b> returns undef. If everything went fine the value of the response is
       returned.

       Normally you don't need to call this method. It is only used by other moosic methods to send their calls
       more easily. If a new moosic method is not supported by this library yet you'll maybe need to use <b>call()</b>
       manually. Please notice me if that happens so I'll add the new method.

   <b>api_version</b>
         @api = $moo-&gt;api_version;
         $api = $moo-&gt;api_version;

       Return the moosic servers API version. If called in scalar context a version string like '1.3' is
       returned. In list context the mayor and minor numbers of the API version are returned.

   <b>append</b>
         $moo-&gt;append('/home/florian/whatever.ogg');
         $moo-&gt;append('/home/florian/foo.ogg', '/home/florian/bar.mp3');

       Add songs to the moosic queue. The files to add should be the arguments for the append method. <b>append()</b>
       returns 1 if there were no errors or something false if there were some.

   <b>clear</b>
         $moo-&gt;clear;

       Clears the moosic queue. Only the current song remains playing.

   <b>crop</b>
         $moo-&gt;<a href="../man4/crop.4.html">crop</a>(4);
         $moo-&gt;crop(3, 4);

       Remove all playlist items that don't fall within a given range. If the range is represented by one
       integer all items whose index is greater than or equal to the value will be removed. Two integers
       represent all items whose index is greater than or equal to the value of first integer and less than the
       value of the second integer.

   <b>crop_list</b>
         $moo-&gt;crop_list(1, 4, 3);

       Remove all queued items except those referenced by a list of positions.

   <b>current</b>
         print $moo-&gt;current;

       Return the name of the current playing song.

   <b>current_time</b>
         print $moo-&gt;current_time;

       Return the amount of time the current song has been playing.

   <b>cut</b>
         $moo-&gt;<a href="../man3/cut.3.html">cut</a>(3);
         $moo-&gt;cut(4, 10);

       Remove all queued items that fall within a given range. See <b>crop()</b> for details on how that range should
       look like.

   <b>cut_list</b>
         $moo-&gt;cut_list(3, 7, 9);

       Remove all queued items referenced by list of positions.

   <b>die</b>
         $moo-&gt;die;

       Tell the server to terminate itself.

   <b>filter</b>
         $moo-&gt;filter('foo');
         $moo-&gt;filter('bar', 4);
         $moo-&gt;filter('moo', 7, 11);

       Remove all items that don't match the given regular expression. You may limit this operation to a
       specific range which is described in <b>crop()</b>.

   <b>get_history_limit</b>
         $limit = $moo-&gt;get_history_limit;

       Get the limit on the size of the history list stored in servers memory.

   <b>getconfig</b>
         @config = $moo-&gt;getconfig;

       Return a list of the server's filetype-player associations.

   <b>halt_queue</b>
         $moo-&gt;halt_queue;

       Stop any new songs from being played. Use <b>run_queue()</b> to reverse this state.

   <b>haltqueue</b>
       See <b>halt_queue()</b>.

   <b>history</b>
         %hist = $moo-&gt;history;

       Return a list of items that has been recently played. If a positive integer argument is given than no
       more than number of items will be returned. Otherwise the entire history is printed.

       <b>history()</b> returns an array of hashrefs like that:
         @history = (
           { title =&gt; 'foo', start =&gt; 123.45, stop =&gt; 543.21 },
           { title =&gt; 'bar', start =&gt; 234.56, stop =&gt; 654.32 },
           ...
         );

   <b>indexed_list</b>
         %list = $moo-&gt;indexed_list;
         %list = $moo-&gt;<a href="../man1/indexed_list.1.html">indexed_list</a>(1);
         %list = $moo-&gt;indexed_list(2, 5);

       List the song queue's contents. If a range is specified, only the items that fall within that range are
       listed.

       <b>indexed_list()</b> returns a hash like that:
         %list = (
           list =&gt; [ 'foo', 'bar', 'moo', ... ],
           start =&gt; 4
         );

   <b>insert</b>
         $moo-&gt;insert(4, 'foo.ogg', 'bar.mp3');

       Insert items at a given position in the queue.

   <b>is_looping</b>
         $moo-&gt;toggle_loop_mode if $moo-&gt;is_looping;

       Check whether the loop mode is on or not.

   <b>is_paused</b>
         $moo-&gt;toggle_pause if $moo-&gt;is_paused;

       Check whether the current song is paused or not.

   <b>is_queue_running</b>
         if($moo-&gt;is_queue_running) {
           ...;
         }

       Check whether the queue consumption (advancement) is activated.

   <b>last_queue_update</b>
         $time = $moo-&gt;last_queue_update

       Return the time at which the song queue was last modified.

   <b>length</b>
         $length = $moo-&gt;length

       Return the number of items in the song queue.

   <b>list</b>
         @list = $moo-&gt;list();
         @list = $moo-&gt;<a href="../man2/list.2.html">list</a>(2);
         @list = $moo-&gt;list(4, 8);
         $list_ref = $moo-&gt;list()

       List the song queue's contents. If a range is specified, only the items that fall within that range are
       listed. Returns an array if called in list context or an array reference if it's called in scalar
       context.

   <b>move</b>
         $moo-&gt;move(10, 4);
         $moo-&gt;move(4, 7, 1);

       Move a range of items to a new position within the queue.

   <b>move_list</b>
         $moo-&gt;move(3, 5, 7, 11);

       Move the items referenced by a list of positions to a new position.

   <b>next</b>
         $moo-&gt;next;
         $moo-&gt;<a href="../man5/next.5.html">next</a>(5);

       Stop the current song (if any), and jumps ahead to a song that is currently in the queue. The skipped
       songs are recorded in the history as if they had been played. When called without arguments, this behaves
       very much like the <b>skip()</b> method, except that it will have an effect even if nothing is currently
       playing.

   <b>no_op</b>
         $moo-&gt;no_op

       Do nothing, successfully.

   <b>pause</b>
         $moo-&gt;pause;

       Pause the currently playing song.

   <b>prepend</b>
         $moo-&gt;prepend('foo.ogg', 'bar.mp3');

       Add items to the beginning of the queue.

   <b>previous</b>
         $moo-&gt;previous;
         $moo-&gt;<a href="../man3/previous.3.html">previous</a>(3);

       Stops the current song (if any), removes the most recently played song from the history, and puts these
       songs at the head of the queue. When loop mode is on, the songs at the tail of the song queue are used
       instead of the most recently played songs in the history.

   <b>putback</b>
         $moo-&gt;putback;

       Place the currently playing song at the beginning of the queue.

   <b>queue_length</b>
         $length = $moo-&gt;queue_length;

       Return the number of items in the song queue.

   <b>reconfigure</b>
         $moo-&gt;reconfigure;

       Tell the server to reread its player configuration file.

   <b>remove</b>
         $moo-&gt;remove('regex');
         $moo-&gt;remove('regex', 4);
         $moo-&gt;remove('regex', 1, 3);

       Remove all items that match the given regular expression. You can limit this operation by giving a range
       as described in <b>crop()</b> as last argument.

   <b>replace</b>
         $moo-&gt;replace('foo.ogg', 'bar.mp3');

       Replace the contents of the queue with the given items. This is equivalent to calling <b>clear()</b> and
       <b>prepend()</b> in succession, except that this operation is atomic.

   <b>reverse</b>
         $moo-&gt;reverse;
         $moo-&gt;<a href="../man2/reverse.2.html">reverse</a>(2);
         $moo-&gt;reverse(5, 7);

       Reverse the order of the items in the queue. You can limit this operation by giving a range as described
       in <b>crop()</b> as last argument.

   <b>run_queue</b>
         $moo-&gt;run_queue;

       Allows new songs to be played again after <b>halt_queue()</b> has been called.

   <b>runqueue</b>
       See <b>run_queue()</b>.

   <b>set_history_limit</b>
         $moo-&gt;<a href="../man44/set_history_limit.44.html">set_history_limit</a>(44);

       Set the limit on the size of the history list stored in memory.

   <b>set_loop_mode</b>
         $moo-&gt;<a href="../man0/set_loop_mode.0.html">set_loop_mode</a>(0);
         $moo-&gt;<a href="../man1/set_loop_mode.1.html">set_loop_mode</a>(1);

       Turn loop mode on or off.

   <b>showconfig</b>
         my $config = $moo-&gt;showconfig;
         my %config = $moo-&gt;showconfig;

       Return the server's player configuration. If <b>showconfig()</b> is called in scalar context a scalar containing
       the textual description of the configuration is returned. If you call <b>showconfig()</b> in list context a hash
       which maps the configuration regular expression to the player commands is returned.

   <b>shuffle</b>
         $moo-&gt;shuffle;
         $moo-&gt;<a href="../man2/shuffle.2.html">shuffle</a>(2);
         $moo-&gt;shuffle(4, 6);

       Rearrange the contents of the queue into a random order. You can limit this operation by giving a range
       as described for <b>crop()</b> as last argument.

   <b>skip</b>
         $moo-&gt;skip;

       Skips the rest of the current song to play the next song in the queue. This only has an effect if there
       actually is a current song.

   <b>sort</b>
         $moo-&gt;sort;
         $moo-&gt;<a href="../man2/sort.2.html">sort</a>(2);
         $moo-&gt;sort(4, 6);

       Arrange the contents of the queue into sorted order.

   <b>stop</b>
         $moo-&gt;stop;

       Stop playing the current song and stops new songs from playing. The current song is returned to the head
       of the song queue and is not recorded in the history list. If loop mode is on, the current song won't be
       placed at the end of the song queue when it is stopped.

   <b>sub</b>
         $moo-&gt;sub('regex', 'substitition');
         $moo-&gt;sub('regex', 'substitition', 2);
         $moo-&gt;sub('regex', 'substitition', 1, 7);

       Perform a regular expression substitution on the items in the queue. You can limit this operation by
       giving a range as described for <b>crop()</b> as last argument.

   <b>sub_all</b>
         $moo-&gt;sub_all('regex', 'substition');
         $moo-&gt;sub_all('regex', 'substition', 2);
         $moo-&gt;sub_all('regex', 'substition', 1, 7);

       Performs a global regular expression substitution on the items in the queue.

   <b>swap</b>
         $moo-&gt;swap( [7, 10], [ 5 ]  );

       Swap the items contained in one range with the items contained in the other range. The ranges for the
       <b>swap()</b> method needs to be passed as array references in contrast to other methods that use ranges.

   <b>listMethods</b>
         @methods = $moo-&gt;listMethods;

       Return an array of all available XML-RPC methods on this server.

   <b>methodHelp</b>
         $help = $moo-&gt;methodHelp('sub');

       Given the name of a method, return a help string.

   <b>methodSignature</b>
         $signature = $moo-&gt;methodSignature;

       Given the name of a method, return an array of legal signatures. Each signature is an array of scalars.
       The first item of each signature is the return type, and any others items are parameter types.  =cut

   <b>multicall</b>
         $moo-&gt;multicall(...);

       Process an array of calls, and return an array of results. This is not implemented yet.

   <b>toggle_loop_mode</b>
         $moo-&gt;toggle_loop_mode;

       Turn loop mode on if it is off, and turns it off if it is on.

   <b>toggle_pause</b>
         $moo-&gt;toggle_pause;

       Pause the current song if it is playing, and unpauses if it is paused.

   <b>unpause</b>
         $moo-&gt;unpause;

       Unpauses the current song.

   <b>version</b>
         $version = $moo-&gt;version;

       Return the Moosic server's version string.

</pre><h4><b>HELPER</b> <b>METHODS</b></h4><pre>
       The following methods aren't methods defined by the moosic API but should be useful when dealing with a
       moosic server.

   <b>play</b>
         $moo-&gt;play();

       Start playing. If the playback is paused it will be unpaused. If the queue is stopped it will be started.

   <b>can_play</b>
         $moo-&gt;append( $song ) if $moo-&gt;can_play( $song );

       Takes a list of songs as argument and returns all items that can be played by the moosic daemon.

</pre><h4><b>BUGS</b></h4><pre>
       •   check arguments more strictly

           especially for constructors.

       If you find some others please report them to Florian Ragwitz &lt;<a href="mailto:flora@cpan.org">flora@cpan.org</a>&gt;

</pre><h4><b>TODO</b></h4><pre>
       •   implement system_multicall

       •   improve client_config

       •   maybe use autoloader to load subs on demand

           create the method arguments from methodSignature.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/moosic.1.html">moosic</a></b>(1), <b><a href="../man1/moosicd.1.html">moosicd</a></b>(1), <a href="http://nanoo.org/~daniel/moosic/">http://nanoo.org/~daniel/moosic/</a>

</pre><h4><b>AUTHOR</b></h4><pre>
       Florian Ragwitz &lt;<a href="mailto:rafl@debian.org">rafl@debian.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright (C) 2004-2008 by Florian Ragwitz

       This  library  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself, either Perl version 5.8.4 or, at your option, any later version of Perl 5 you may have available.

perl v5.36.0                                       2022-12-12                                 <u>Audio::<a href="../man3pm/Moosic.3pm.html">Moosic</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>