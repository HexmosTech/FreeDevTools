<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebService::Validator::HTML::W3C - Access the W3Cs online HTML validator</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libwebservice-validator-html-w3c-perl">libwebservice-validator-html-w3c-perl_0.28-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       WebService::Validator::HTML::W3C - Access the W3Cs online HTML validator

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use WebService::Validator::HTML::W3C;

           my $v = WebService::Validator::HTML::W3C-&gt;new(
                       detailed    =&gt;  1
                   );

           if ( $v-&gt;validate("<a href="http://www.example.com/">http://www.example.com/</a>") ) {
               if ( $v-&gt;is_valid ) {
                   printf ("%s is valid\n", $v-&gt;uri);
               } else {
                   printf ("%s is not valid\n", $v-&gt;uri);
                   foreach my $error ( @{$v-&gt;errors} ) {
                       printf("%s at line %d\n", $error-&gt;msg,
                                                 $error-&gt;line);
                   }
               }
           } else {
               printf ("Failed to validate the website: %s\n", $v-&gt;validator_error);
           }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       WebService::Validator::HTML::W3C provides access to the W3C's online Markup validator. As well as
       reporting on whether a page is valid it also provides access to a detailed list of the errors and where
       in the validated document they occur.

</pre><h4><b>METHODS</b></h4><pre>
   <b>new</b>
           my $v = WebService::Validator::HTML::W3C-&gt;new();

       Returns a new instance of the WebService::Validator::HTML::W3C object.

       There are various options that can be set when creating the Validator object like so:

           my $v = WebService::Validator::HTML::W3C-&gt;new( http_timeout =&gt; 20 );

       validator_uri
           The   URI   of   the   validator   to   use.    By  default  this  accesses  the  W3Cs  validator  at
           <a href="http://validator.w3.org/check">http://validator.w3.org/check</a>. If you have a local installation of the validator ( recommended if you
           wish to do a lot of testing ) or wish to use a validator at another location then you  can  use  this
           option. Please note that you need to use the full path to the validator cgi.

       ua  The  user  agent  to  use.  Should  be  an  LWP::UserAgent object or something that provides the same
           interface. If this argument is provided, the "http_timeout" and "proxy" arguments are ignored.

       http_timeout
           How long (in seconds) to wait for the HTTP connection to timeout when contacting  the  validator.  By
           default this is 30 seconds.

       detailed
           This  fetches  the  XML  response  from  the validator in order to provide information for the errors
           method. You should set this to true if you intend to use the errors method.

       proxy
           An HTTP proxy to use when communicating with the validation service.

       output
           Controls which output format is used. Can be either xml or soap12.

           The default is soap12 as the XML format is deprecated and is likely to be removed in the future.

           The default will always work so unless you're using a locally  installed  Validator  you  can  safely
           ignore this.

   <b>validate</b>
           $v-&gt;validate( 'http:://www.example.com/' );

       Validate a URI. Returns 0 if the validation fails (e.g if the validator cannot be reached), otherwise 1.

   <b>validate_file</b>
           $v-&gt;validate_file( './file.html' );

       Validate  a file by uploading it to the W3C Validator. NB This has only been tested on a Linux box so may
       not work on non unix machines.

   <b>validate_markup</b>
           $v-&gt;validate_markup( $markup );

       Validate a scalar containing HTML.

   <b>Alternate</b> <b>interface</b>
       You can also pass a hash  in  to  specify  what  you  wish  to  validate.  This  is  provided  to  ensure
       compatibility with the CSS validator module.

               $v-&gt;validate( uri =&gt; '<a href="http://example.com/">http://example.com/</a>' );
               $v-&gt;validate( string =&gt; $markup );
               $v-&gt;validate( file =&gt; './file.html' );

   <b>is_valid</b>
           $v-&gt;is_valid;

       Returns true (1) if the URI validated otherwise 0.

   <b>uri</b>
           $v-&gt;uri();

       Returns the URI of the last page on which validation succeeded.

   <b>num_errors</b>
           $num_errors = $v-&gt;num_errors();

       Returns the number of errors that the validator encountered.

   <b>errorcount</b>
       Synonym for num_errors. There to match CSS Validator interface.

   <b>warningcount</b>
           $num_errors = $v-&gt;warningcount();

       Returns the number of warnings that the validator encountered.

   <b>errors</b>
           $errors = $v-&gt;errors();

           foreach my $err ( @$errors ) {
               printf("line: %s, col: %s\n\terror: %s\n",
                       $err-&gt;line, $err-&gt;col, $err-&gt;msg);
           }

       Returns  an  array  ref of WebService::Validator::HTML::W3C::Error objects.  These have line, col and msg
       methods that return a line number, a column in that line and the error that occurred at that point.

       Note   that   you   need   XML::XPath   for   this   to   work   and   you    must    have    initialised
       WebService::Validator::HTML::W3C  with  the  detailed  option.  If you have not set the detailed option a
       warning will be issued, the detailed option will be set and a second request made  to  the  validator  in
       order to fetch the required information.

       If there was a problem processing the detailed information then this method will return 0.

   <b>warnings</b>
           $warnings = $v-&gt;warnings();

       Works  exactly  the same as errors only returns an array ref of WebService::Validator::HTML::W3C::Warning
       objects. In all other respects it's the same.

   <b>validator_error</b>
           $error = $v-&gt;validator_error();

       Returns a string indicating why validation may not have occurred. This is not the reason that  a  webpage
       was  invalid.  It  is  the  reason that no meaningful information about the attempted validation could be
       obtained. This is most likely to be an HTTP error

       Possible values are:

       You need to supply a URI to validate
           You didn't pass a URI to the validate method

       You need to supply a URI with a scheme
           The URI you passed to validate didn't have a scheme on the front. The W3C validator can't handle URIs
           like www.example.com but instead needs URIs of the form <a href="http://www.example.com/">http://www.example.com/</a>.

       Not a W3C Validator or Bad URI
           The URI did not return the headers that WebService::Validator::HTML::W3C relies on so  it  is  likely
           that  there is not a W3C Validator at that URI.  The other possibility is that it didn't like the URI
           you provided. Sadly the Validator doesn't give very useful feedback on this at the moment.

       Could not contact validator
           WebService::Validator::HTML::W3C could not establish a connection to the URI.

       Did not get a sensible result from the validator
           Should never happen and most likely indicates  a  problem  somewhere  but  on  the  off  chance  that
           WebService::Validator::HTML::W3C  is  unable  to make sense of the response from the validator you'll
           get this error.

       Result format does not appear to be SOAP|XML
           If you've asked for detailed results and the reponse from the validator isn't in the expected  format
           then  you'll  get  this error. Most likely to happen if you ask for SOAP output from a validator that
           doesn't support that format.

       You need to provide a uri, string or file to validate
           You've passed in a hash ( or in fact more than one argument ) to  validate  but  the  hash  does  not
           contain one of the three expected keys.

   <b>validator_uri</b>
           $uri = $v-&gt;validator_uri();
           $v-&gt;validator_uri('<a href="http://validator.w3.org/check">http://validator.w3.org/check</a>');

       Returns  or  sets  the URI of the validator to use. Please note that you need to use the full path to the
       validator cgi.

   <b>http_timeout</b>
           $timeout = $v-&gt;http_timeout();
           $v-&gt;<a href="../man10/http_timeout.10.html">http_timeout</a>(10);

       Returns or sets the timeout for the HTTP request.

</pre><h4><b>OTHER</b> <b>MODULES</b></h4><pre>
       Please note that there is also an official W3C module that is part of the W3C::LogValidator distribution.
       However   that   module   is   not   very   useful   outside   the   constraints   of    that    package.
       WebService::Validator::HTML::W3C is meant as a more general way to access the W3C Validator.

       HTML::Validator uses nsgmls to validate against the W3Cs DTDs. You have to fetch the relevant DTDs and so
       on.

       There  is  also the HTML::Parser based HTML::Lint which mostly checks for known tags rather than XML/HTML
       validity.

       WebService::Validator::CSS::W3C provides the  same  functionality  as  this  module  for  the  W3C's  CSS
       validator.

</pre><h4><b>IMPORTANT</b></h4><pre>
       This  module  is  not  in  any way associated with the W3C so please do not report any problems with this
       module to them. Also please remember that the online Validator is a shared resource so do not  abuse  it.
       This  means sleeping between requests. If you want to do a lot of testing against it then please consider
       downloading and installing the Validator software which is available from the W3C. Debian  testing  users
       will also find that it is available via apt-get.

</pre><h4><b>BUGS</b></h4><pre>
       While  the  interface  to the Validator is fairly stable it may be updated. I will endeavour to track any
       changes with this module so please check on CPAN for new versions if you find  things  break.  Also  note
       that  this  module is only guaranteed to work with the currently stable version of the validator. It will
       most likely work with any Beta versions but don't rely on it.

       If in doubt please try and run the test suite before reporting bugs. Note that  in  order  to  run  tests
       against  the  validator  service  you  will  need  to  have  a connection to the internet and also set an
       environment variable called TEST_AUTHOR.

       That said I'm very happy to hear about bugs. All the more so if they come with patches ;).

       Please use &lt;<a href="http://rt.cpan.org/">http://rt.cpan.org/</a>&gt; for filing bug reports, and indeed feature requests. The code  can  also
       be found on github &lt;https://github.com/struan/webservice-validator-html-w3c&gt;.

</pre><h4><b>THANKS</b></h4><pre>
       To the various people on the code review ladder mailing list who provided useful suggestions.

       Carl Vincent provided a patch to allow for proxy support.

       Chris Dolan provided a patch to allow for custom user agents.

       Matt Ryder provided a patch for support of the explanations in the SOAP output.

</pre><h4><b>SUPPORT</b></h4><pre>
       author email or via &lt;<a href="http://rt.cpan.org/">http://rt.cpan.org/</a>&gt;.

</pre><h4><b>AUTHOR</b></h4><pre>
       Struan Donald &lt;<a href="mailto:struan@cpan.org">struan@cpan.org</a>&gt;

       &lt;<a href="http://www.exo.org.uk/code/">http://www.exo.org.uk/code/</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2003-2008 Struan Donald. All rights reserved.

</pre><h4><b>LICENSE</b></h4><pre>
       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/perl.1.html">perl</a></b>(1).

perl v5.34.0                                       2022-06-28              <u>WebService::Validator::HTML::<a href="../man3pm/W3C.3pm.html">W3C</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>