<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mojolicious::Validator::Validation - Perform validations</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmojolicious-perl">libmojolicious-perl_9.39+dfsg-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mojolicious::Validator::Validation - Perform validations

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Mojolicious::Validator;
         use Mojolicious::Validator::Validation;

         my $validator = Mojolicious::Validator-&gt;new;
         my $v = Mojolicious::Validator::Validation-&gt;new(validator =&gt; $validator);
         $v-&gt;input({foo =&gt; 'bar'});
         $v-&gt;required('foo')-&gt;in('bar', 'baz');
         say $v-&gt;param('foo');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Mojolicious::Validator::Validation performs Mojolicious::Validator validation checks.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       Mojolicious::Validator::Validation implements the following attributes.

   <b>csrf_token</b>
         my $token = $v-&gt;csrf_token;
         $v        = $v-&gt;csrf_token('fa6a08...');

       CSRF token.

   <b>input</b>
         my $input = $v-&gt;input;
         $v        = $v-&gt;input({foo =&gt; 'bar', baz =&gt; [123, 'yada']});

       Data to be validated.

   <b>output</b>
         my $output = $v-&gt;output;
         $v         = $v-&gt;output({foo =&gt; 'bar', baz =&gt; [123, 'yada']});

       Validated data.

   <b>topic</b>
         my $topic = $v-&gt;topic;
         $v        = $v-&gt;topic('foo');

       Name of field currently being validated.

   <b>validator</b>
         my $v = $v-&gt;validator;
         $v    = $v-&gt;validator(Mojolicious::Validator-&gt;new);

       Mojolicious::Validator object this validation belongs to.

</pre><h4><b>METHODS</b></h4><pre>
       Mojolicious::Validator::Validation inherits all methods from Mojo::Base and implements the following new
       ones.

   <b>check</b>
         $v = $v-&gt;check('size', 2, 7);

       Perform validation check on all values of the current "topic", no more checks will be performed on them
       after the first one failed. All checks from "CHECKS" in Mojolicious::Validator are supported.

   <b>csrf_protect</b>
         $v = $v-&gt;csrf_protect;

       Validate "csrf_token" and protect from cross-site request forgery.

   <b>error</b>
         my $err = $v-&gt;error('foo');
         $v      = $v-&gt;error(foo =&gt; ['custom_check']);
         $v      = $v-&gt;error(foo =&gt; [$check, $result, @args]);

       Get or set details for failed validation check, at any given time there can only be one per field.

         # Details about failed validation
         my ($check, $result, @args) = @{$v-&gt;error('foo')};

         # Force validation to fail for a field without performing a check
         $v-&gt;error(foo =&gt; ['some_made_up_check_name']);

   <b>every_param</b>
         my $values = $v-&gt;every_param;
         my $values = $v-&gt;every_param('foo');

       Similar to "param", but returns all values sharing the same name as an array reference.

         # Get first value
         my $first = $v-&gt;every_param('foo')-&gt;[0];

   <b>failed</b>
         my $names = $v-&gt;failed;

       Return an array reference with all names for values that failed validation.

         # Names of all values that failed
         say for @{$v-&gt;failed};

   <b>has_data</b>
         my $bool = $v-&gt;has_data;

       Check if "input" is available for validation.

   <b>has_error</b>
         my $bool = $v-&gt;has_error;
         my $bool = $v-&gt;has_error('foo');

       Check if validation resulted in errors, defaults to checking all fields.

   <b>is_valid</b>
         my $bool = $v-&gt;is_valid;
         my $bool = $v-&gt;is_valid('foo');

       Check if validation was successful and field has a value, defaults to checking the current "topic".

   <b>optional</b>
         $v = $v-&gt;optional('foo');
         $v = $v-&gt;optional('foo', @filters);

       Change validation "topic" and apply filters. All filters from "FILTERS" in Mojolicious::Validator are
       supported.

         # Trim value and check size
         $v-&gt;optional('user', 'trim')-&gt;size(1, 15);

   <b>param</b>
         my $value = $v-&gt;param;
         my $value = $v-&gt;param('foo');

       Access validated values, defaults to the current "topic". If there are multiple values sharing the same
       name, and you want to access more than just the last one, you can use "every_param".

         # Get value right away
         my $user = $v-&gt;optional('user')-&gt;size(1, 15)-&gt;param;

   <b>passed</b>
         my $names = $v-&gt;passed;

       Return an array reference with all names for values that passed validation.

         # Names of all values that passed
         say for @{$v-&gt;passed};

   <b>required</b>
         $v = $v-&gt;required('foo');
         $v = $v-&gt;required('foo', @filters);

       Change validation "topic", apply filters, and make sure a value is present. All filters from "FILTERS" in
       Mojolicious::Validator are supported.

         # Trim value and check size
         $v-&gt;required('user', 'trim')-&gt;size(1, 15);

</pre><h4><b>CHECKS</b></h4><pre>
       In addition to the "ATTRIBUTES" and "METHODS" above, you can also call validation checks provided by
       "validator" on Mojolicious::Validator::Validation objects, similar to "check".

         # Call validation checks
         $v-&gt;required('foo')-&gt;size(2, 5)-&gt;like(qr/^[A-Z]/);
         $v-&gt;optional('bar')-&gt;equal_to('foo');
         $v-&gt;optional('baz')-&gt;in('test', '123');

         # Longer version
         $v-&gt;required('foo')-&gt;check('size', 2, 5)-&gt;check('like', qr/^[A-Z]/);

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mojolicious, Mojolicious::Guides, &lt;https://mojolicious.org&gt;.

perl v5.40.0                                       2024-12-07             <u>Mojolicious::Va...tor::<a href="../man3pm/Validation.3pm.html">Validation</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>