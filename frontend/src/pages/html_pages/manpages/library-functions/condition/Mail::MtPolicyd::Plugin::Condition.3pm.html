<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::MtPolicyd::Plugin::Condition - mtpolicyd plugin for conditions based on session values</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/mtpolicyd">mtpolicyd_2.05-1.2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::MtPolicyd::Plugin::Condition - mtpolicyd plugin for conditions based on session values

</pre><h4><b>VERSION</b></h4><pre>
       version 2.05

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Will return an action, score or execute further plugins if the specified condition matched.

</pre><h4><b>PARAMETERS</b></h4><pre>
       key (required)
           The name of the variable to check.

           Syntax is

             (&lt;scope&gt;:)?&lt;variable-name&gt;

           If no scope is give it defaults to request.

           Possible scopes are:

           session, s
               Session variables.

           request, r
               Request attribute variables.

           Examples:

             session:user_policy
             s:user_policy

             request:queue_id
             r:queue_id
             queue_id

       At least one of the following parameters should be given or your condition will never match:

       match (default: empty)
           Simple string equal match.

       re_match (default: empty)
           Match content of the session variable against an regex.

       lt_match (default: empty)
           Match if numerical less than.

       gt_match (default: empty)
           Match if numerical greater than.

       invert (default: 0)
           If set to 1 the logic will be inverted.

       Finally an action must be specified.

       First  the score will be applied then the action will be executed or if specified additional plugins will
       be executed.

       action (default: empty)
           The action to return when the condition matched.

       score (default: empty)
           The score to add if the condition matched.

       Plugin (default: empty)
           Execute this plugins when the condition matched.

</pre><h4><b>EXAMPLE:</b> <b>use</b> <b>of</b> <b>postfix</b> <b>policy_context</b></h4><pre>
       The policy_context of postfix could be used to trigger checks in mtpolicyd.

       To activate additional checks in mtpolicyd from within postfix use may use  a  configuration  in  postfix
       main.cf like:

         # check, no additional checks
         check_policy_service inet:localhost:12345
         ...
         # check with additional checks!
         check_policy_service { inet:localhost:12345, policy_context=strict_checks }

       In mtpolicyd.conf:

         &lt;Plugin if-strict-checks&gt;
           module = "Condition"
           key = "policy_context"
           match = "strict_checks"

           &lt;Plugin strict-check&gt;
             # ...
           &lt;/Plugin&gt;
           # more checks ...
         &lt;/Plugin&gt;

       The policy_context feature will be available in postfix 3.1 and later.

       If  you  need  completely  different checks consider using the vhost_by_policy_context (mtpolicyd) option
       with different virtual hosts.

</pre><h4><b>EXAMPLE:</b> <b>execute</b> <b>postgrey</b> <b>action</b> <b>in</b> <b>postfix</b></h4><pre>
       If the session variable "greylisting" is "on" return the postfix action "postgrey":

         &lt;Plugin trigger-greylisting&gt;
           module = "Condition"
           key = "greylisting"
           match = "on"
           action = "postgrey"
         &lt;/Plugin&gt;

       The variable may be set by a UserConfig module like SqlUserConfig.

       The postgrey action in postfix may look like:

         smtpd_restriction_classes = postgrey
         postgrey = check_policy_service inet:127.0.0.1:11023

</pre><h4><b>AUTHOR</b></h4><pre>
       Markus Benning &lt;<a href="mailto:ich@markusbenning.de">ich@markusbenning.de</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2014 by Markus Benning &lt;<a href="mailto:ich@markusbenning.de">ich@markusbenning.de</a>&gt;.

       This is free software, licensed under:

         The GNU General Public License, Version 2, June 1991

perl v5.38.2                                       2024-05-26             <u>Mail::MtPolicyd...ugin::<a href="../man3pm/Condition.3pm.html">Condition</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>