<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPAN::Requirements::Dynamic - Dynamic prerequisites in meta files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcpan-requirements-dynamic-perl">libcpan-requirements-dynamic-perl_0.002-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CPAN::Requirements::Dynamic - Dynamic prerequisites in meta files

</pre><h4><b>VERSION</b></h4><pre>
       version 0.002

</pre><h4><b>SYNOPSIS</b></h4><pre>
        my $result = $dynamic-&gt;evaluate({
          expressions =&gt; [
            {
              condition =&gt; [ 'has_perl' =&gt; 'v5.20.0' ],
              prereqs =&gt; { Bar =&gt; "1.3" },
            },
            {
              condition =&gt; [ is_os =&gt; 'linux' ],
              prereqs =&gt; { Baz =&gt; "1.4" },
            },
            {
              condition =&gt; [ config_defined =&gt; 'usethreads' ],
              prereqs =&gt; { Quz =&gt; "1.5" },
            },
            {
              condition =&gt; [ and =&gt;
                [ config_defined =&gt; 'usethreads' ],
                [ is_os =&gt; 'openbsd' ],
              ],
              prereqs =&gt; { Euz =&gt; "1.7" },
            },
            {
              condition =&gt; [ not =&gt; is_os_type =&gt; 'Unix'],
              error =&gt; 'OS unsupported',
            },
          ],
        });

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module implements a format for describing dynamic prerequisites of a distribution.

</pre><h4><b>METHODS</b></h4><pre>
   <b>new(%options)</b>
       This constructor takes two (optional but recommended) named arguments

       •   config

           This is an ExtUtils::Config (compatible) object for reading configuration.

       •   pureperl_only

           This should be the value of the "pureperl-only" flag.

   <b>evaluate(%options)</b>
       This takes a hash with two named arguments: "version" and "expressions". The former is the version of the
       format, it currently defaults to 1. The latter is a list of hashes that can contain the following keys:

       •   condition

           The  condition  of  the dynamic requirement. This is an array with a name as first values and zero or
           more arguments following it. The semantics are described below under "Conditions"

       •   prereqs

           The prereqs is a hash with modules for keys and the required  version  as  values  (e.g.  "{  Foo  =&gt;
           '1.234' }").

       •   phase

           The  phase  of  the  requirements. This defaults to 'runtime'. Other valid values include 'build' and
           'test'.

       •   relation

           The relation of the requirements. This  defaults  to  'requires',  but  other  valid  values  include
           'recommends', 'suggests' and 'conflicts'.

       •   error

           It  will  die  with this error if set. The two messages "No support for OS" and "OS unsupported" have
           special meaning to CPAN Testers and are generally encouraged  for  situations  that  indicate  not  a
           failed build but an impossibility to build.

       "condition" and one of "prereqs" or "error" are mandatory.

   <b>evaluate_file($filename)</b>
       This takes a filename, that can be either a YAML file or a JSON file, and evaluates it.

   <b>Conditions</b>
       <u>can_run($command)</u>

       Returns true if a $command can be run.

       <u>config_defined($variable)</u>

       This returns true if a specific configuration variable is defined.

       <u>has_env($variable)</u>

       This returns true if the environmental variable with the name in $variable is true.

       <u>has_perl($version)</u>

       Returns true if the perl version satisfies $version. $version is interpreted exactly as in the CPAN::Meta
       spec (e.g. 1.2 equals '&gt;= 1.2').

       <u>is_extended</u>

       Returns true if extended testing is asked for.

       <u>is_os(@systems)</u>

       Returns true if the OS name equals any of @systems.

       <u>is_os_type($type)</u>

       Returns true if the OS type equals $type. Typical values of $type are 'Unix' or 'Windows'.

       <u>is_smoker</u>

       Returns true when running on a smoker.

       <u>has_env</u>

       This returns true if the given environmental variable is true.

       <u>want_xs</u>

       This returns true if a compiler appears to be available, and the "pureperl_only" option has not been set.

       <u>not</u>

       This takes an expression and negates its value.

       <u>or</u>

       This  takes  list of arrayrefs, each containing a condition expression. If at least one of the conditions
       is true this will also return true.

       <u>and</u>

       This takes a list of arrayrefs, each containing a condition expression. If all of the conditions are true
       this will also return true.

</pre><h4><b>AUTHOR</b></h4><pre>
       Leon Timmermans &lt;<a href="mailto:fawaka@gmail.com">fawaka@gmail.com</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2023 by Leon Timmermans.

       This is free software; you can redistribute it and/or modify it under  the  same  terms  as  the  Perl  5
       programming language system itself.

perl v5.40.1                                       2025-04-12                   <u>CPAN::Requirements::<a href="../man3pm/Dynamic.3pm.html">Dynamic</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>