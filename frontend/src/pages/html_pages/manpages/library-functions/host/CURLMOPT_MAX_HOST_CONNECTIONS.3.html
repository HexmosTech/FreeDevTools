<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLMOPT_MAX_HOST_CONNECTIONS - max number of connections to a single host</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLMOPT_MAX_HOST_CONNECTIONS - max number of connections to a single host

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLMcode curl_multi_setopt(CURLM *handle, CURLMOPT_MAX_HOST_CONNECTIONS,
                                   long max);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Pass  a  long  to  indicate <b>max</b>, the maximum amount of simultaneously open connections libcurl may hold a
       single host (a host being the same as a hostname + port number pair). For each new transfer to  the  same
       host,  libcurl  might open a new connection up to the limit set by <u><a href="../man3/CURLMOPT_MAX_HOST_CONNECTIONS.3.html">CURLMOPT_MAX_HOST_CONNECTIONS</a>(3)</u>. When
       the limit is reached, new sessions are kept pending until a connection becomes available.

       The default <b>max</b> value is 0, unlimited. This set limit is also used for proxy connections,  and  then  the
       proxy is considered to be the host for which this limit counts.

       When  more  transfers are added to the multi handle than what can be performed due to the set limit, they
       are queued up waiting for their chance.

       While a transfer is queued up internally waiting for a connection, the <u><a href="../man3/CURLOPT_TIMEOUT_MS.3.html">CURLOPT_TIMEOUT_MS</a>(3)</u>  timeout  is
       counted  inclusive  of  the waiting time, meaning that if you set a too narrow timeout the transfer might
       never even start before it times out. The  <u><a href="../man3/CURLOPT_CONNECTTIMEOUT_MS.3.html">CURLOPT_CONNECTTIMEOUT_MS</a>(3)</u>  time  is  also  similarly  still
       treated as a per-connect timeout and might expire even before making a new connection is permitted.

       Changing  this  value  while  there are transfers in progress is possible. The new value is then used the
       next time checks are performed. Lowering the value does not close down any active  transfers,  it  simply
       does not allow new ones to get made.

</pre><h4><b>DEFAULT</b></h4><pre>
       0

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects all supported protocols

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURLM *m = curl_multi_init();
         /* do no more than 2 connections per host */
         curl_multi_setopt(m, CURLMOPT_MAX_HOST_CONNECTIONS, 2L);
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.30.0

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_multi_setopt.3.html">curl_multi_setopt</a>(3)</u> returns a CURLMcode indicating success or error.

       CURLM_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLMOPT_MAXCONNECTS.3.html">CURLMOPT_MAXCONNECTS</a></b>(3), <b><a href="../man3/CURLMOPT_MAX_TOTAL_CONNECTIONS.3.html">CURLMOPT_MAX_TOTAL_CONNECTIONS</a></b>(3)

libcurl                                            2025-06-16                   <u><a href="../man3/CURLMOPT_MAX_HOST_CONNECTIONS.3.html">CURLMOPT_MAX_HOST_CONNECTIONS</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>