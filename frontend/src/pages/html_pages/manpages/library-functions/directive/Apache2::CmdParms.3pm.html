<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apache2::CmdParms - Perl API for Apache command parameters object</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libapache2-mod-perl2">libapache2-mod-perl2_2.0.13-2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Apache2::CmdParms - Perl API for Apache command parameters object

</pre><h4><b>Synopsis</b></h4><pre>
         use Apache2::CmdParms ();
         use Apache2::Module ();
         use Apache2::Const -compile =&gt; qw(NOT_IN_LOCATION);

         my @directives = (
           {
             name =&gt; 'MyDirective',
             cmd_data =&gt; 'some extra data',
           },
         );

         Apache2::Module::add(__PACKAGE__, \@directives);

         sub MyDirective {
             my ($self, $parms, $args) = @_;

             # push config
             $parms-&gt;add_config(['ServerTokens off']);

             # this command's command object
             $cmd = $parms-&gt;cmd;

             # check the current command's context
             $error = $parms-&gt;check_cmd_context(Apache2::Const::NOT_IN_LOCATION);

             # this command's context
             $context = $parms-&gt;context;

             # this command's directive object
             $directive = $parms-&gt;directive;

             # the extra information passed thru cmd_data to
             # Apache2::Module::add()
             $info = $parms-&gt;info;

             # which methods are &lt;Limit&gt;ed ?
             $is_limited = $parms-&gt;method_is_limited('GET');

             # which allow-override bits are set
             $override = $parms-&gt;override;

             # which Options are allowed by AllowOverride (since Apache 2.2)
             $override = $parms-&gt;override_opts;

             # the path this command is being invoked in
             $path = $parms-&gt;path;

             # this command's pool
             $p = $parms-&gt;pool;

             # this command's configuration time pool
             $p = $parms-&gt;temp_pool;
         }

</pre><h4><b>Description</b></h4><pre>
       "Apache2::CmdParms" provides the Perl API for Apache command parameters object.

</pre><h4><b>API</b></h4><pre>
       "Apache2::CmdParms" provides the following functions and/or methods:

   <b>"add_config"</b>
       Dynamically add Apache configuration at request processing runtime:

         $parms-&gt;add_config($lines);

       obj: $parms ( "Apache2::CmdParms object" )
       arg1: $lines (ARRAY ref)
           An ARRAY reference containing configuration lines per element, without the new line terminators.

       ret: no return value
       since: 2.0.00

       See also: "$s-&gt;add_config", "$r-&gt;add_config"

   <b>"check_cmd_context"</b>
       Check the current command against a context bitmask of forbidden contexts.

         $error = $parms-&gt;check_cmd_context($check);

       obj: $parms ( "Apache2::CmdParms object" )
       arg1: $check ( "Apache2::Const :context constant" )
           the context to check against.

       ret: $error ( string / undef )
           If  the  context  is forbidden, this method returns a textual description of why it was forbidden. If
           the context is permitted, this method returns "undef".

       since: 2.0.00

       For example here is how to check whether a command is allowed in the "&lt;Location&gt;" container:

         use Apache2::Const -compile qw(NOT_IN_LOCATION);
         if (my $error = $parms-&gt;check_cmd_context(Apache2::Const::NOT_IN_LOCATION)) {
             die "directive ... not allowed in &lt;Location&gt; context"
         }

   <b>"cmd"</b>
       This module's command information

         $cmd = $parms-&gt;cmd();

       obj: $parms ( "Apache2::CmdParms object" )
       ret: $cmd ( "Apache2::Command object" )
       since: 2.0.00

   <b>"directive"</b>
       This command's directive object in the configuration tree

         $directive = $parms-&gt;directive;

       obj: $parms ( "Apache2::CmdParms object" )
       ret: $directive ( "Apache2::Directive object" )
           The current directive node in the configuration tree

       since: 2.0.00

   <b>"info"</b>
       The extra information passed through "cmd_data" in Apache2::Module::add().

         $info = $parms-&gt;info;

       obj: $parms ( "Apache2::CmdParms object" )
       ret: $info ( string )
           The string passed in "cmd_data"

       since: 2.0.00

       For example here is how to pass arbitrary information to a directive subroutine:

         my @directives = (
           {
             name =&gt; 'MyDirective1',
             func =&gt; \&amp;MyDirective,
             cmd_data =&gt; 'One',
           },
           {
             name =&gt; 'MyDirective2',
             func =&gt; \&amp;MyDirective,
             cmd_data =&gt; 'Two',
           },
         );
         Apache2::Module::add(__PACKAGE__, \@directives);

         sub MyDirective {
           my ($self, $parms, $args) = @_;
           my $info = $parms-&gt;info;
         }

       In this example $info will either be 'One' or 'Two' depending on whether  the  directive  was  called  as
       <u>MyDirective1</u> or <u>MyDirective2</u>.

   <b>"method_is_limited"</b>
       Discover if a method is &lt;Limit&gt;ed in the current scope

         $is_limited = $parms-&gt;method_is_limited($method);

       obj: $parms ( "Apache2::CmdParms object" )
       arg1: $method (string)
           The name of the method to check for

       ret: $is_limited ( boolean )
       since: 2.0.00

       For example, to check if the "GET" method is being "&lt;Limit&gt;"ed in the current scope, do:

         if ($parms-&gt;method_is_limited('GET') {
             die "...";
         }

   <b>"override"</b>
       Which allow-override bits are set ("AllowOverride" directive)

         $override = $parms-&gt;override;

       obj: $parms ( "Apache2::CmdParms object" )
       ret: $override ( bitmask )
           the allow-override bits bitmask, which can be tested against "Apache2::Const :override constants".

       since: 2.0.00

       For  example to check that the "AllowOverride"'s "AuthConfig" and "FileInfo" options are enabled for this
       command, do:

         use Apache2::Const -compile qw(:override);
         $wanted = Apache2::Const::OR_AUTHCFG | Apache2::Const::OR_FILEINFO;
         $masked = $parms-&gt;override &amp; $wanted;
         unless ($wanted == $masked) {
             die "...";
         }

   <b>"override_opts"</b>
       Which options are allowed  to  be  overridden  by  ".htaccess"  files.  This  is  set  by  "AllowOverride
       Options=...".

         $override_opts = $parms-&gt;override_opts;

       Enabling  single  options  was  introduced with Apache 2.2. For Apache 2.0 this function simply returns a
       bitmask with all options allowed.

       obj: $parms ( "Apache2::CmdParms object" )
       ret: $override_opts ( bitmask )
           the bitmask, which can be tested against "Apache2::Const :options constants".

       since: 2.0.3

   <b>"path"</b>
       The current pathname/location/match of the block this command is in

         $path = $parms-&gt;path;

       obj: $parms ( "Apache2::CmdParms object" )
       ret: $path ( string / "undef" )
           If configuring for a block like &lt;Location&gt;, &lt;LocationMatch&gt;, &lt;Directory&gt;, etc., the pathname part  of
           that directive. Otherwise, "undef" is returned.

       since: 2.0.00

       For example for a container block:

         &lt;Location /foo&gt;
         ...
         &lt;/Location&gt;

       <u>'/foo'</u> will be returned.

   <b>"pool"</b>
       Pool associated with this command

         $p = $parms-&gt;pool;

       obj: $parms ( "Apache2::CmdParms object" )
       ret: $p ( "APR::Pool object" )
       since: 2.0.00

   <b>"server"</b>
       The (vhost) server this command was defined in <u>httpd.conf</u>

         $s = $parms-&gt;server;

       obj: $parms ( "Apache2::CmdParms object" )
       ret: $s ( "Apache2::Server object" )
       since: 2.0.00

   <b>"temp_pool"</b>
       Pool for scratch memory; persists during configuration, but destroyed before the first request is served.

         $temp_pool = $parms-&gt;temp_pool;

       obj: $parms ( "Apache2::CmdParms object" )
       ret: $temp_pool ( "APR::Pool object" )
       since: 2.0.00

       Most  likely  you  shouldn't use this pool object, unless you know what you are doing. Use "$parms-&gt;pool"
       instead.

</pre><h4><b>Unsupported</b> <b>API</b></h4><pre>
       "Apache2::CmdParms" also provides auto-generated Perl interface for a  few  other  methods  which  aren't
       tested  at  the  moment  and  therefore their API is a subject to change. These methods will be finalized
       later as a need arises. If you want to rely on any of  the  following  methods  please  contact  the  the
       mod_perl  development mailing list so we can help each other take the steps necessary to shift the method
       to an officially supported API.

   <b>"context"</b>
       Get context containing pointers to modules' per-dir config structures.

         $context = $parms-&gt;context;

       obj: $parms ( "Apache2::CmdParms object" )
       ret: $newval ( "Apache2::ConfVector object" )
           Returns the commands' per-dir config structures

       since: 2.0.00

</pre><h4><b>See</b> <b>Also</b></h4><pre>
       mod_perl 2.0 documentation.

</pre><h4><b>Copyright</b></h4><pre>
       mod_perl 2.0 and its core modules are copyrighted under The Apache Software License, Version 2.0.

</pre><h4><b>Authors</b></h4><pre>
       The mod_perl development team and numerous contributors.

perl v5.40.0                                       2024-10-20              <u>libapache2-mod...ache2::<a href="../man3pm/CmdParms.3pm.html">CmdParms</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>