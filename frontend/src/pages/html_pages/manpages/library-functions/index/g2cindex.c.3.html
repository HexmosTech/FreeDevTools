<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>g2cindex.c - Write summary output to an index file, as is done by utility grb2index.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libg2c-dev">libg2c-dev_2.1.0-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       g2cindex.c - Write summary output to an index file, as is done by utility grb2index.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include 'grib2_int.h'
       #include &lt;<a href="file:/usr/include/libgen.h">libgen.h</a>&gt;
       #include &lt;stdarg.h&gt;
       #include &lt;<a href="file:/usr/include/time.h">time.h</a>&gt;

   <b>Macros</b>
       #define <b>G2C_INDEX_BASENAME_LEN</b>   40
           Length of the basename in header record 2.
       #define <b>G2C_INDEX_BITMAP_BYTES</b>   6
           Length of bitmap section included in the index record.
       #define <b>G2C_INDEX_DATE_STR_LEN</b>   10
           Length of date string in index record.
       #define <b>G2C_INDEX_FIXED_LEN</b>   44
           Length of beginning of index record.
       #define <b>G2C_INDEX_FIXED_LEN_2</b>   48
           Length of beginning of index record for large files.
       #define <b>G2C_INDEX_HEADER_LEN</b>   81
           Length of the two header lines at the top of the index file.
       #define <b>G2C_INDEX_STR1_LEN</b>   7
           Length of str1 string in index record.
       #define <b>G2C_INDEX_TIME_STR_LEN</b>   8
           Length of time string in index record.

   <b>Functions</b>
       <b>EXTERN_MUTEX</b> (m)
           Use externally-defined mutex for thread-safety.
       int <b>g2c_get_prod_sections</b> (<b>G2C_MESSAGE_INFO_T</b> *msg, int fieldnum, <b>G2C_SECTION_INFO_T</b> **sec3,
           <b>G2C_SECTION_INFO_T</b> **sec4, <b>G2C_SECTION_INFO_T</b> **sec5, <b>G2C_SECTION_INFO_T</b> **sec6, <b>G2C_SECTION_INFO_T</b>
           **sec7)
           Given a pointer to a message, and a field number, return pointers to all relevent section structs for
           that product.
       int <b>g2c_open_index</b> (const char *data_file, const char *index_file, int mode, int *g2cid)
           Open a GRIB2 file with the help of an index file.
       int <b>g2c_open_index1</b> (const char *index_file)
           Open a GRIB1 index file and read the contents.
       int <b>g2c_start_index1_record</b> (FILE *f, int rw_flag, unsigned int *b2_msg, unsigned int *b2_pds, unsigned
           int *b2_gds, unsigned int *b2_bms, unsigned int *b2_bds, unsigned int *msglen, unsigned char
           *version, unsigned char *pds_val, unsigned char *gds_val, unsigned char *bms_val, unsigned char
           *bds_val, unsigned char *pds_val2, unsigned char *pds_val3, unsigned char *gds_val2)
           Read or write the start of a version 1 index record.
       int <b>g2c_start_index_record</b> (FILE *f, int rw_flag, int *reclen, int *msg, int *local, int *gds, int *pds,
           int *drs, int *bms, int *data, size_t *msglen, unsigned char *version, unsigned char *discipline,
           short *fieldnum)
           Read or write the start of a version 2 index record.
       int <b>g2c_start_index_record_lf</b> (FILE *f, int rw_flag, int *reclen, size_t *msg, size_t *local, size_t
           *gds, size_t *pds, size_t *drs, size_t *bms, size_t *data, size_t *msglen, unsigned char *version,
           unsigned char *discipline, short *fieldnum)
           Read or write the start of a version 2 index record.
       int <b>g2c_write_index</b> (int g2cid, int mode, const char *index_file)
           Create an index file from a GRIB2 file, just like those created by the grb2index utility.
       static int <b>read_hdr_rec1</b> (FILE *f, int *ip, int *jp, int *kp, char *date_str, char *time_str)
           Read the header record apparently named after Steve Lord.
       static int <b>read_hdr_rec2</b> (FILE *f, int *skipp, int *total_lenp, int *num_recp, char *basename, int
           *index_version)
           Read the second header record of an index file.

   <b>Variables</b>
       <b>G2C_FILE_INFO_T</b> <b>g2c_file</b> [<b>G2C_MAX_FILES</b>+1]
           Global file information.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Write summary output to an index file, as is done by utility grb2index.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           10/12/22

       Definition in file <b>g2cindex.c</b>.

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>G2C_INDEX_BASENAME_LEN</b>   <b>40</b>
       Length of the basename in header record 2.

       Definition at line <b>20</b> of file <b>g2cindex.c</b>.

   <b>#define</b> <b>G2C_INDEX_BITMAP_BYTES</b>   <b>6</b>
       Length of bitmap section included in the index record.

       Definition at line <b>23</b> of file <b>g2cindex.c</b>.

   <b>#define</b> <b>G2C_INDEX_DATE_STR_LEN</b>   <b>10</b>
       Length of date string in index record.

       Definition at line <b>32</b> of file <b>g2cindex.c</b>.

   <b>#define</b> <b>G2C_INDEX_FIXED_LEN</b>   <b>44</b>
       Length of beginning of index record.

       Definition at line <b>26</b> of file <b>g2cindex.c</b>.

   <b>#define</b> <b>G2C_INDEX_FIXED_LEN_2</b>   <b>48</b>
       Length of beginning of index record for large files.

       Definition at line <b>29</b> of file <b>g2cindex.c</b>.

   <b>#define</b> <b>G2C_INDEX_HEADER_LEN</b>   <b>81</b>
       Length of the two header lines at the top of the index file.

       Definition at line <b>17</b> of file <b>g2cindex.c</b>.

   <b>#define</b> <b>G2C_INDEX_STR1_LEN</b>   <b>7</b>
       Length of str1 string in index record.

       Definition at line <b>38</b> of file <b>g2cindex.c</b>.

   <b>#define</b> <b>G2C_INDEX_TIME_STR_LEN</b>   <b>8</b>
       Length of time string in index record.

       Definition at line <b>35</b> of file <b>g2cindex.c</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>EXTERN_MUTEX</b> <b>(m)</b>
       Use externally-defined mutex for thread-safety.

   <b>int</b> <b>g2c_get_prod_sections</b> <b>(G2C_MESSAGE_INFO_T</b> <b>*</b> <b>msg,</b> <b>int</b> <b>fieldnum,</b> <b>G2C_SECTION_INFO_T</b> <b>**</b> <b>sec3,</b>
       <b>G2C_SECTION_INFO_T</b> <b>**</b> <b>sec4,</b> <b>G2C_SECTION_INFO_T</b> <b>**</b> <b>sec5,</b> <b>G2C_SECTION_INFO_T</b> <b>**</b> <b>sec6,</b> <b>G2C_SECTION_INFO_T</b> <b>**</b>
       <b>sec7)</b>
       Given a pointer to a message, and a field number, return pointers to all relevent section structs for
       that product. Each product is defined in a section 4, and has an associated section 3, 5, 6, and 7.

       <b>Parameters</b>
           <u>msg</u> Pointer to a G2C_MESSAGE_INFO_T with information about the message.
           <u>fieldnum</u> The field number (first field in message is 0).
           <u>sec3</u> Pointer that gets a pointer to the G2C_SECTION_INFO_T struct for the section 3 associated with
           this product.
           <u>sec4</u> Pointer that gets a pointer to the G2C_SECTION_INFO_T struct for the section 4 associated with
           this product.
           <u>sec5</u> Pointer that gets a pointer to the G2C_SECTION_INFO_T struct for the section 5 associated with
           this product.
           <u>sec6</u> Pointer that gets a pointer to the G2C_SECTION_INFO_T struct for the section 6 associated with
           this product. NULL is returned if there is no section 6.
           <u>sec7</u> Pointer that gets a pointer to the G2C_SECTION_INFO_T struct for the section 7 associated with
           this product.

       <b>Note</b>
           This is an internal function and should not be called by users.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

           • <b>G2C_EINVAL</b> Invalid input.

           • <b>G2C_ENOSECTION</b> Section not found.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           10/27/22

       Definition at line <b>317</b> of file <b>g2cindex.c</b>.

       References   <b>G2C_EINVAL</b>,  <b>G2C_ENOSECTION</b>,  <b>G2C_NOERROR</b>,  <b>g2c_section_info::next</b>,  <b>g2c_section_info::prev</b>,
       <b>g2c_message_info::sec</b>, <b>g2c_section_info::sec_info</b>, and <b>g2c_section_info::sec_num</b>.

       Referenced by <b>g2c_write_index()</b>.

   <b>int</b> <b>g2c_open_index</b> <b>(const</b> <b>char</b> <b>*</b> <b>data_file,</b> <b>const</b> <b>char</b> <b>*</b> <b>index_file,</b> <b>int</b> <b>mode,</b> <b>int</b> <b>*</b> <b>g2cid)</b>
       Open a GRIB2 file with the help of an index file. The index file, generated by the grb2index utility,  of
       the  <b>g2c_write_index()</b>  function, contains the byte offsets for the sections of each message in the GRIB2
       file. When a GRIB2 file is opened with an index file, the library does not  have  to  scan  the  file  to
       locate all metadata.

       <b>Parameters</b>
           <u>data_file</u> The name of the data file to which the index applies.
           <u>index_file</u> The name that will be given to the index file. An existing file will be overwritten.
           <u>mode</u> Open mode flags.
           <u>g2cid</u> Pointer that gets the g2cid for this file. Ignored if NULL.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           10/12/22

       Definition at line <b>914</b> of file <b>g2cindex.c</b>.

       References  <b>add_msg()</b>,  <b>add_section()</b>,  <b>g2c_message_info::bytes_to_bms</b>,  <b>g2c_message_info::bytes_to_data</b>,
       <b>g2c_message_info::bytes_to_local</b>,      <b>g2c_message_info::bytes_to_msg</b>,      <b>g2c_message_info::discipline</b>,
       <b>g2c_add_file()</b>,  <b>G2C_EBADSECTION</b>, <b>G2C_EFILE</b>, <b>G2C_EINVAL</b>, <b>G2C_ENAMETOOLONG</b>, <b>g2c_file</b>, <b>g2c_file_io_ubyte()</b>,
       <b>g2c_file_io_uint()</b>, <b>G2C_FILE_READ</b>, <b>G2C_INDEX_BASENAME_LEN</b>, <b>G2C_INDEX_DATE_STR_LEN</b>,  <b>G2C_INDEX_HEADER_LEN</b>,
       <b>G2C_INDEX_STR1_LEN</b>,     <b>G2C_INDEX_TIME_STR_LEN</b>,     <b>g2c_log_section1()</b>,     <b>G2C_MAX_NAME</b>,    <b>G2C_NOERROR</b>,
       <b>g2c_rw_section1_metadata()</b>,       <b>g2c_start_index_record()</b>,       <b>g2c_start_index_record_lf()</b>,       <b>LOG</b>,
       <b>g2c_message_info::master_version</b>, <b>MUTEX_LOCK</b>, and <b>MUTEX_UNLOCK</b>.

       Referenced by <b>main()</b>.

   <b>int</b> <b>g2c_open_index1</b> <b>(const</b> <b>char</b> <b>*</b> <b>index_file)</b>
       Open  a  GRIB1  index  file and read the contents. This function opens the GRIB2 index file and reads its
       metadata, and opens the accompanying GRIB2 file.

       GRIB2 messages in the file are assigned a message ID, starting with 0 for the first message in the file.

       Each product within a message is assigned a product ID, starting with 0 for  the  first  product  in  the
       message.

       Files opened with this function should be closed with a call <b>g2c_close()</b> to release resources.

       <b>Parameters</b>
           <u>index_file</u> The name that will be given to the index file. An existing file will be overwritten.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           10/12/22

       Definition at line <b>812</b> of file <b>g2cindex.c</b>.

       References   <b>G2C_EFILE</b>,   <b>G2C_EINVAL</b>,   <b>G2C_FILE_READ</b>,   <b>G2C_INDEX1_BDS_VAL_LEN</b>,  <b>G2C_INDEX1_BMS_VAL_LEN</b>,
       <b>G2C_INDEX1_GDS_VAL_LEN</b>,    <b>G2C_INDEX1_PDS_VAL_LEN</b>,    <b>G2C_INDEX_BASENAME_LEN</b>,     <b>G2C_INDEX_DATE_STR_LEN</b>,
       <b>G2C_INDEX_HEADER_LEN</b>,  <b>G2C_INDEX_TIME_STR_LEN</b>,  <b>G2C_NOERROR</b>,  <b>g2c_start_index1_record()</b>, <b>LOG</b>, <b>MUTEX_LOCK</b>,
       <b>MUTEX_UNLOCK</b>, <b>read_hdr_rec1()</b>, and <b>read_hdr_rec2()</b>.

   <b>int</b> <b>g2c_start_index1_record</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>int</b> <b>rw_flag,</b> <b>unsigned</b> <b>int</b> <b>*</b> <b>b2_msg,</b> <b>unsigned</b> <b>int</b>  <b>*</b>  <b>b2_pds,</b>  <b>unsigned</b>
       <b>int</b>  <b>*</b>  <b>b2_gds,</b>  <b>unsigned</b>  <b>int</b>  <b>*</b>  <b>b2_bms,</b>  <b>unsigned</b> <b>int</b> <b>*</b> <b>b2_bds,</b> <b>unsigned</b> <b>int</b> <b>*</b> <b>msglen,</b> <b>unsigned</b> <b>char</b> <b>*</b>
       <b>version,</b> <b>unsigned</b> <b>char</b> <b>*</b> <b>pds_val,</b> <b>unsigned</b> <b>char</b> <b>*</b> <b>gds_val,</b> <b>unsigned</b>  <b>char</b>  <b>*</b>  <b>bms_val,</b>  <b>unsigned</b>  <b>char</b>  <b>*</b>
       <b>bds_val,</b> <b>unsigned</b> <b>char</b> <b>*</b> <b>pds_val2,</b> <b>unsigned</b> <b>char</b> <b>*</b> <b>pds_val3,</b> <b>unsigned</b> <b>char</b> <b>*</b> <b>gds_val2)</b>
       Read  or  write  the start of a version 1 index record. For more detail on version 1 of the index format,
       see the grbindex documentation in the NCEPLIBS-grib_util.

       <b>Parameters</b>
           <u>f</u> FILE * to open index file.
           <u>rw_flag</u> True if function should write, false if it should read.
           <u>b2_msg</u> Pointer that gets the bytes to skip in file before msg.
           <u>b2_pds</u> Pointer that gets bytes to skip in message before pds.
           <u>b2_gds</u> Pointer that gets bytes to skip in message before gds (0 if no gds).
           <u>b2_bms</u> Pointer that gets bytes to skip in message before bms (0 if no bms).
           <u>b2_bds</u> Pointer that gets bytes to skip in message before bds.
           <u>msglen</u> Pointer that gets bytes total in the message.
           <u>version</u> Pointer that gets grib version number (always 1 for this function).
           <u>pds_val</u> Pointer that gets an arry of 27 bytes of the product definition section (pds).
           <u>gds_val</u> Pointer that gets an arry of 41 bytes of the gds.
           <u>bms_val</u> Pointer that gets an arry of 5 bytes of the bms.
           <u>bds_val</u> Pointer that gets an arry of 10 bytes, bytes 41-100 of the bds.
           <u>pds_val2</u> Pointer that gets an arry of 59 bytes 41-100 of the pds. Ignored if null.
           <u>pds_val3</u> Pointer that gets an arry of 11 bytes 29-40 of the pds. Ignored if null.
           <u>gds_val2</u> Pointer that gets an arry of 135 bytes 43-178 of the gds. Ignored if null.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

           • <b>G2C_EINVAL</b> Invalid input.

           • <b>G2C_EFILE</b> File I/O error.

       <b>Author</b>
           Ed Hartnett 9/11/23

       Definition at line <b>238</b> of file <b>g2cindex.c</b>.

       References  <b>G2C_EFILE</b>,  <b>G2C_EINVAL</b>,  <b>g2c_file_io_ubyte()</b>,   <b>g2c_file_io_uint()</b>,   <b>G2C_INDEX1_BDS_VAL_LEN</b>,
       <b>G2C_INDEX1_BMS_VAL_LEN</b>, <b>G2C_INDEX1_GDS_VAL_LEN</b>, <b>G2C_INDEX1_PDS_VAL_LEN</b>, and <b>G2C_NOERROR</b>.

       Referenced by <b>g2c_open_index1()</b>.

   <b>int</b>  <b>g2c_start_index_record</b>  <b>(FILE</b>  <b>*</b>  <b>f,</b> <b>int</b> <b>rw_flag,</b> <b>int</b> <b>*</b> <b>reclen,</b> <b>int</b> <b>*</b> <b>msg,</b> <b>int</b> <b>*</b> <b>local,</b> <b>int</b> <b>*</b> <b>gds,</b> <b>int</b> <b>*</b>
       <b>pds,</b> <b>int</b> <b>*</b> <b>drs,</b> <b>int</b> <b>*</b> <b>bms,</b> <b>int</b> <b>*</b> <b>data,</b> <b>size_t</b>  <b>*</b>  <b>msglen,</b>  <b>unsigned</b>  <b>char</b>  <b>*</b>  <b>version,</b>  <b>unsigned</b>  <b>char</b>  <b>*</b>
       <b>discipline,</b> <b>short</b> <b>*</b> <b>fieldnum)</b>
       Read or write the start of a version 2 index record.

       <b>Parameters</b>
           <u>f</u> FILE * to open index file.
           <u>rw_flag</u> True if function should write, false if it should read.
           <u>reclen</u> Pointer to reclen.
           <u>msg</u> Pointer to msg.
           <u>local</u> Pointer to local.
           <u>gds</u> Pointer to gds.
           <u>pds</u> Pointer to pds.
           <u>drs</u> Pointer to drs.
           <u>bms</u> Pointer to bms.
           <u>data</u> Pointer to data.
           <u>msglen</u> Pointer to msglen.
           <u>version</u> Pointer to version.
           <u>discipline</u> Pointer to discipline.
           <u>fieldnum</u> Pointer to fieldnum, 0- based. (It is 1-based in the index file.)

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

           • <b>G2C_EINVAL</b> Invalid input.

           • <b>G2C_EFILE</b> File I/O error.

       <b>Author</b>
           Ed Hartnett 10/26/22

       Definition at line <b>70</b> of file <b>g2cindex.c</b>.

       References       <b>G2C_EINVAL</b>,      <b>g2c_file_io_short()</b>,      <b>g2c_file_io_ubyte()</b>,      <b>g2c_file_io_uint()</b>,
       <b>g2c_file_io_ulonglong()</b>, <b>G2C_NOERROR</b>, and <b>LOG</b>.

       Referenced by <b>g2c_open_index()</b>, and <b>g2c_write_index()</b>.

   <b>int</b> <b>g2c_start_index_record_lf</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>int</b> <b>rw_flag,</b> <b>int</b> <b>*</b> <b>reclen,</b> <b>size_t</b> <b>*</b> <b>msg,</b> <b>size_t</b> <b>*</b>  <b>local,</b>  <b>size_t</b>  <b>*</b>
       <b>gds,</b>  <b>size_t</b>  <b>*</b> <b>pds,</b> <b>size_t</b> <b>*</b> <b>drs,</b> <b>size_t</b> <b>*</b> <b>bms,</b> <b>size_t</b> <b>*</b> <b>data,</b> <b>size_t</b> <b>*</b> <b>msglen,</b> <b>unsigned</b> <b>char</b> <b>*</b> <b>version,</b>
       <b>unsigned</b> <b>char</b> <b>*</b> <b>discipline,</b> <b>short</b> <b>*</b> <b>fieldnum)</b>
       Read or write the start of a version 2 index record.

       <b>Parameters</b>
           <u>f</u> FILE pointer to open index file.
           <u>rw_flag</u> True if function should write, false if it should read.
           <u>reclen</u> Pointer to reclen, the length of the index record in bytes.
           <u>msg</u> Pointer to bytes to skip in file to reach msg.
           <u>local</u> Pointer to bytes to skip in message to reach local.
           <u>gds</u> Pointer to bytes to skip in message to reach gds.
           <u>pds</u> Pointer to bytes to skip in message to reach pds.
           <u>drs</u> Pointer to bytes to skip in message to reach drs.
           <u>bms</u> Pointer to bytes to skip in message to reach bms.
           <u>data</u> Pointer to bytes to skip in message to reach data.
           <u>msglen</u> Pointer to msglen.
           <u>version</u> Pointer to version.
           <u>discipline</u> Pointer to discipline.
           <u>fieldnum</u> Pointer to fieldnum, 0- based. (It is 1-based in the index file.)

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

           • <b>G2C_EINVAL</b> Invalid input.

           • <b>G2C_EFILE</b> File I/O error.

       <b>Author</b>
           Ed Hartnett 10/26/22

       Definition at line <b>151</b> of file <b>g2cindex.c</b>.

       References      <b>G2C_EINVAL</b>,      <b>g2c_file_io_short()</b>,      <b>g2c_file_io_ubyte()</b>,       <b>g2c_file_io_uint()</b>,
       <b>g2c_file_io_ulonglong()</b>, <b>G2C_NOERROR</b>, and <b>LOG</b>.

       Referenced by <b>g2c_open_index()</b>, and <b>g2c_write_index()</b>.

   <b>int</b> <b>g2c_write_index</b> <b>(int</b> <b>g2cid,</b> <b>int</b> <b>mode,</b> <b>const</b> <b>char</b> <b>*</b> <b>index_file)</b>
       Create  an index file from a GRIB2 file, just like those created by the grb2index utility. The index file
       starts with two header records:

       1.  81-byte header with 'gb2ix1' in columns 42-47.

       2.  81-byte header with number of bytes to skip before index records, total length in bytes of the  index
           records, number of index records, and grib file basename written in format ('ix1form:',3i10,2x,a40).

       Each following index record corresponds to a grib message and has the internal format:

       • byte 001 - 004 length of index record

       • byte 005 - 008 bytes to skip in data file before grib message

       • byte 009 - 012 bytes to skip in message before lus (local use) (0, if none).

       • byte 013 - 016 bytes to skip in message before gds

       • byte 017 - 020 bytes to skip in message before pds

       • byte 021 - 024 bytes to skip in message before drs

       • byte 025 - 028 bytes to skip in message before bms

       • byte 029 - 032 bytes to skip in message before data section

       • byte 033 - 040 bytes total in the message

       • byte 041 - 041 grib version number (currently 2)

       • byte 042 - 042 message discipline

       • byte 043 - 044 field number within grib2 message (1-based)

       • byte 045 - ii identification section (ids)

       • byte ii+1- jj grid definition section (gds)

       • byte jj+1- kk product definition section (pds)

       • byte kk+1- ll the data representation section (drs)

       • byte ll+1-ll+6 first 6 bytes of the bit map section (bms)

       <b>Parameters</b>
           <u>g2cid</u> File it for an open GRIB2 file, as returned by <b>g2c_open()</b>.
           <u>mode</u> Mode flags. Set <b>G2C_NOCLOBBER</b> to avoid overwriting and existing file.
           <u>index_file</u> The name that will be given to the index file. An existing file will be overwritten.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           10/12/22

       Definition at line <b>431</b> of file <b>g2cindex.c</b>.

       References                <b>g2c_message_info::bytes_in_msg</b>,               <b>g2c_message_info::bytes_to_local</b>,
       <b>g2c_message_info::bytes_to_msg</b>,       <b>g2c_section_info::bytes_to_sec</b>,       <b>g2c_message_info::discipline</b>,
       <b>g2c_file_info::f</b>,     <b>g2c_message_info::file</b>,     <b>G2C_EBADID</b>,     <b>G2C_EFILE</b>,     <b>G2C_EINVAL</b>,    <b>g2c_file</b>,
       <b>g2c_file_io_ubyte()</b>, <b>g2c_file_io_uint()</b>, <b>G2C_FILE_WRITE</b>, <b>g2c_get_prod_sections()</b>, <b>G2C_INDEX_BASENAME_LEN</b>,
       <b>G2C_INDEX_BITMAP_BYTES</b>,      <b>G2C_INDEX_FIXED_LEN</b>,      <b>G2C_INDEX_FIXED_LEN_2</b>,       <b>G2C_INDEX_HEADER_LEN</b>,
       <b>G2C_LARGE_FILE_INDEX</b>,     <b>G2C_MAX_FILES</b>,    <b>G2C_NOCLOBBER</b>,    <b>G2C_NOERROR</b>,    <b>g2c_rw_section1_metadata()</b>,
       <b>g2c_rw_section3_metadata()</b>,            <b>g2c_rw_section4_metadata()</b>,            <b>g2c_rw_section5_metadata()</b>,
       <b>g2c_start_index_record()</b>, <b>g2c_start_index_record_lf()</b>, <b>LOG</b>, <b>g2c_message_info::master_version</b>, <b>MUTEX_LOCK</b>,
       <b>MUTEX_UNLOCK</b>, <b>g2c_message_info::next</b>, <b>g2c_message_info::num_fields</b>, <b>ONE_BYTE</b>, <b>g2c_message_info::sec1_len</b>,
       and <b>g2c_section_info::sec_len</b>.

       Referenced by <b>main()</b>.

   <b>static</b> <b>int</b> <b>read_hdr_rec1</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>int</b> <b>*</b> <b>ip,</b> <b>int</b> <b>*</b> <b>jp,</b> <b>int</b> <b>*</b> <b>kp,</b> <b>char</b> <b>*</b> <b>date_str,</b> <b>char</b> <b>*</b> <b>time_str)</b> <b>[static]</b>
       Read  the  header  record apparently named after Steve Lord. This function reads the first of two 81-byte
       header records of an index file.

       <b>Parameters</b>
           <u>f</u> Pointer to open FILE.
           <u>ip</u> Pointer that gets i value. Ignored if NULL.
           <u>jp</u> Pointer that gets j value. Ignored if NULL.
           <u>kp</u> Pointer that gets k value. Ignored if NULL.
           <u>date_str</u> Pointer to char array of size <b>G2C_INDEX_DATE_STR_LEN</b> + 1 which will get the date string from
           the header. Ignored if NULL.
           <u>time_str</u> Pointer to char array of size <b>G2C_INDEX_TIME_STR_LEN</b> + 1 which will get the time string from
           the header. Ignored if NULL.

       <b>Returns</b>
           0 for success, error code otherwise.

       <b>Author</b>
           Edward Hartnett

       <b>Date</b>
           9/10/23

       Definition at line <b>684</b> of file <b>g2cindex.c</b>.

       References     <b>G2C_EFILE</b>,     <b>G2C_INDEX_DATE_STR_LEN</b>,      <b>G2C_INDEX_HEADER_LEN</b>,      <b>G2C_INDEX_STR1_LEN</b>,
       <b>G2C_INDEX_TIME_STR_LEN</b>, <b>G2C_NOERROR</b>, and <b>LOG</b>.

       Referenced by <b>g2c_open_index1()</b>.

   <b>static</b>  <b>int</b>  <b>read_hdr_rec2</b>  <b>(FILE</b>  <b>*</b> <b>f,</b> <b>int</b> <b>*</b> <b>skipp,</b> <b>int</b> <b>*</b> <b>total_lenp,</b> <b>int</b> <b>*</b> <b>num_recp,</b> <b>char</b> <b>*</b> <b>basename,</b> <b>int</b> <b>*</b>
       <b>index_version)</b> <b>[static]</b>
       Read the second header record of an index file. This function reads the  second  of  two  81-byte  header
       records of an index file.

       <b>Parameters</b>
           <u>f</u> Pointer to open FILE.
           <u>skipp</u> Pointer that gets number of bytes to skip before index records. Ignored if NULL.
           <u>total_lenp</u> Pointer that gets number of bytes in each index record. Ignored if NULL.
           <u>num_recp</u> Pointer that gets number of index records in the file. Ignored if NULL.
           <u>basename</u>  Pointer to char array of size <b>G2C_INDEX_BASENAME_LEN</b> + 1 which will get the basename string
           from the second header record. Ignored if NULL.
           <u>index_version</u> The version of the index, 1 for legacy, 2 to allow for &gt; 2 GB GRIB2 files.

       <b>Returns</b>
           0 for success, error code otherwise.

       <b>Author</b>
           Edward Hartnett

       <b>Date</b>
           9/10/23

       Definition at line <b>753</b> of file <b>g2cindex.c</b>.

       References <b>G2C_EFILE</b>, <b>G2C_INDEX_BASENAME_LEN</b>, <b>G2C_INDEX_HEADER_LEN</b>, and <b>G2C_NOERROR</b>.

       Referenced by <b>g2c_open_index1()</b>.

</pre><h4><b>Variable</b> <b>Documentation</b></h4><pre>
   <b>G2C_FILE_INFO_T</b> <b>g2c_file[G2C_MAX_FILES+1]</b> <b>[extern]</b>
       Global file information.

       Definition at line <b>10</b> of file <b>g2cfile.c</b>.

       Referenced by <b>g2c_open_index()</b>, and <b>g2c_write_index()</b>.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for NCEPLIBS-g2c from the source code.

NCEPLIBS-g2c                                      Version 2.1.0                                    <u><a href="../man3/g2cindex.c.3.html">g2cindex.c</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>