<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URI::db - Database URIs</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liburi-db-perl">liburi-db-perl_0.23-1_all</a> <br><br><pre>
</pre><h4><b>Name</b></h4><pre>
       URI::db - Database URIs

</pre><h4><b>Synopsis</b></h4><pre>
         use URI;
         my $db_uri = URI-&gt;new('db:pg://user@localhost');
         my $pg_uri = URI-&gt;new('postgres://example.com/template1');
         my $sl_uri = URI-&gt;new('sqlite:/var/db/widgets.db');

</pre><h4><b>Description</b></h4><pre>
       This class provides support for database URIs. They're inspired by JDBC URIs
       &lt;<a href="http://docs.oracle.com/cd/B14117_01/java.101/b10979/urls.htm">http://docs.oracle.com/cd/B14117_01/java.101/b10979/urls.htm</a>#BEIJFHHB&gt; and PostgreSQL URIs
       &lt;<a href="http://www.postgresql.org/docs/9.3/static/libpq-connect.html">http://www.postgresql.org/docs/9.3/static/libpq-connect.html</a>#LIBPQ-CONNSTRING&gt;, though they're a bit
       more formal. The specification for their format is documented in <u>README.md</u> &lt;https:/github.com/theory/db-
       uri/&gt;.

       <b>Warning:</b> This is an alpha release. I will do my best to preserve functionality going forward, especially
       as Sqitch uses this module. However, as the database URI specification moves forward, changes <u>may</u> require
       backwards-incompatible changes. Caveat Hackor.

       <u>Format</u>

       A database URI is made up of these parts:

         db:engine:[//[user[:password]@][host][:port]/][dbname][?params][#fragment]

       "db"
           The literal string "db" is the scheme that defines a database URI. Optional for well-known engines.

       "engine"
           A string identifying the database engine.

       "user"
           The user name to use when connecting to the database.

       "password"
           The password to use when connecting to the database.

       "host"
           The host address to connect to.

       "port"
           The network port to connect to.

       "dbname"
           The  name  of  the  database.  For  some engines, this will be a file name, in which case it may be a
           complete or local path, as appropriate.

       "params"
           A URI-standard GET query string representing additional parameters to be passed to the engine.

       "fragment"
           Identifies a database part, such as a table or view.

       <u>Examples</u>

       Some examples:

       •   "db:sqlite"

       •   "db:sqlite:dbname"

       •   "db:sqlite:/path/to/some.db"

       •   "sqlite:../relative.db"

       •   "db:firebird://localhost/%2Fpath/to/some.db"

       •   "db:firebird://localhost//path/to/some.db"

       •   "firebird://localhost/relative.db"

       •   "db:pg://"

       •   "db:pg://localhost"

       •   "db:pg://localhost:5433"

       •   "db:pg://localhost/mydb"

       •   "db:pg://user@localhost"

       •   "db:pg://user:secret@/mydb"

       •   "pg:///mydb"

       •   "pg://other@localhost/otherdb?connect_timeout=10&amp;application_name=myapp"

       •   "db://localhost/mydb"

       •   "db:unknown://example.com/mydb"

</pre><h4><b>Interface</b></h4><pre>
       The following differences exist compared to the "URI" class interface:

   <b>Class</b> <b>Method</b>
       <u>"default_port"</u>

       Returns the default port for the engine. This is a class method value  defined  by  each  recognized  URI
       engine.

   <b>Constructors</b>
       <u>"new"</u>

         my $uri = URI::db-&gt;new($string);
         my $uri = URI::db-&gt;new($string, $base);

       Always  returns  a URI::db object. $base may be another URI object or string.  Unlike in URI's new(), the
       scheme will always be applied to the URI if it does not already have one.

   <b>Accessors</b>
       <u>"scheme"</u>

         my $scheme = $uri-&gt;scheme;
         $uri-&gt;scheme( $new_scheme );

       Gets or sets the scheme part of the URI. For "db:" URIs, the scheme cannot be changed to any value  other
       than  "db"  (or  any case variation thereof). For non-"db:" URIs, the scheme may be changed to any value,
       though the URI object may no longer be a database URI.

       <u>"engine"</u>

         my $engine = $uri-&gt;engine;
         $uri-&gt;engine( $new_engine );

       Gets or sets the engine part of the URI, which may be any  valid  URI  scheme  value,  though  recognized
       engines provide additional context, such as the default_port() and a driver-specific dbi_dsn().

       If  called  with  an argument, it updates the engine, possibly changing the class of the URI, and returns
       the old engine value.

       <u>"canonical_engine"</u>

         my $canonical_engine = $uri-&gt;canonical_engine;

       Returns the canonical engine. A number of engine names are aliases for other engines.  This  method  will
       return  the  non-aliased engine name. For example, the "postgres" engine will return the canonical engine
       "pg", the "sqlite3" returns the canonical engine "sqlite",  and  "maria"  returns  the  canonical  engine
       "mysql".

       <u>"dbname"</u>

         my $dbname = $uri-&gt;dbname;
         $uri-&gt;dbname( $new_dbname );

       Gets or sets the name of the database. If called with an argument, the path will also be updated.

       <u>"host"</u>

         my $host = $uri-&gt;host;
         $uri-&gt;host( $new_host );

       Gets or sets the host to connect to.

       <u>"port"</u>

         my $port = $uri-&gt;port;
         $uri-&gt;port( $new_port );

       Gets or sets the port to connect to.

       <u>"user"</u>

         my $user = $uri-&gt;user;
         $uri-&gt;user( $new_user );

       Gets or sets the user name.

       <u>"password"</u>

         my $password = $uri-&gt;password;
         $uri-&gt;password( $new_password );

       Gets or sets the password.

       <u>"uri"</u>

       Returns  the  underlying engine URI. For URIs starting with "db:", this will be the URI that follows. For
       database URIs without "db:", the URI itself will be returned.

   <b>Instance</b> <b>Methods</b>
       <u>"has_recognized_engine"</u>

         my $has_recognized_engine = $uri-&gt;has_recognized_engine;

       Returns true if the engine is recognized by URI::db, and false if it  is  not.  A  recognized  engine  is
       simply one that inherits from "URI::_db".

       <u>"query_params"</u>

         my @params = $uri-&gt;query_params;

       Returns a list of key/value pairs representing all query parameters.  Parameters specified more than once
       will  be returned more than once, so avoid assigning to a hash. If you want a hash, use URI::QueryParam's
       query_from_hash(), where duplicate keys lead to an array of values for that key:

         use URI::QueryParam;
         my $params = $uri-&gt;query_form_hash;

       <u>"dbi_driver"</u>

         if ( my $driver = $uri-&gt;dbi_driver ) {
             eval "require DBD::$driver" or die;
         }

       Returns a string representing the DBI driver name for the database  engine,  if  one  is  known.  Returns
       "undef" if no driver is known.

       <u>"dbi_dsn"</u>

         DBI-&gt;connect( $uri-&gt;dbi_dsn, $uri-&gt;user, $uri-&gt;password );

       Returns  a DBI DSN appropriate for use in a call to "DBI-&gt;connect". The attributes will usually be pulled
       from the URI host name, port, and database name, as well as the query parameters. If no driver  is  known
       for  the  URI,  the  "dbi:$driver:"  part  of  the  DSN  will  be  omitted, in which case you can use the
       $DBI_DRIVER environment variable to identify an appropriate driver. If the URI supports multiple drivers,
       pass the name of the one you want to dbi_dsn(). Currently only URI::myssql  supports  alternate  drivers,
       ADO,  ODBC,  or  Sybase.  Otherwise,  each  database  URI  does  its best to create a valid DBI DSN. Some
       examples:

         | URI                                  | DSN                                              |
         |--------------------------------------+--------------------------------------------------|
         | db:pg:try                            | dbi:Pg:dbname=try                                |
         | db:mysql://localhost:33/foo          | dbi:MariaDB:host=localhost;port=33;database=foo    |
         | db:db2://localhost:33/foo            | dbi:DB2:HOSTNAME=localhost;PORT=33;DATABASE=foo  |
         | db:vertica:dbadmin                   | dbi:ODBC:DSN=dbadmin                             |
         | db:mssql://foo.com/pubs?Driver=MSSQL | dbi:ODBC:Host=foo.com;Database=pubs;Driver=MSSQL |

       <u>"dbi_params"</u>

         my @params = $uri-&gt;dbi_params;

       Returns a list of key/value pairs used  as  parameters  in  the  DBI  DSN,  including  query  parameters.
       Parameters specified more than once will be returned more than once, so avoid assigning to a hash.

       <u>"abs"</u>

         my $abs = $uri-&gt;abs( $base_uri );

       For "db:" URIs, simply returns the URI::db object itself. For Non-"db:" URIs, the behavior is the same as
       for URI including respect for $URI::ABS_ALLOW_RELATIVE_SCHEME.

       <u>"rel"</u>

         my $rel = $uri-&gt;rel( $base_uri );

       For "db:" URIs, simply returns the URI::db object itself. For Non-"db:" URIs, the behavior is the same as
       for URI.

       <u>"canonical"</u>

         my $canonical_uri = $uri-&gt;canonical;

       Returns a normalized version of the URI. This behavior is the same for other URIs, except that the engine
       will be replaced with the value of "canonical_engine" if it is not already the canonical engine.

</pre><h4><b>Support</b></h4><pre>
       This module is stored in an open GitHub repository &lt;https://github.com/theory/uri-db/&gt;. Feel free to fork
       and contribute!

       Please  file  bug reports via GitHub Issues &lt;https://github.com/theory/uri-db/issues/&gt; or by sending mail
       to <a href="mailto:bug-URI-db@rt.cpan.org">bug-URI-db@rt.cpan.org</a> &lt;<a href="mailto:bug-URI-db@rt.cpan.org">mailto:bug-URI-db@rt.cpan.org</a>&gt;.

</pre><h4><b>Author</b></h4><pre>
       David E. Wheeler &lt;<a href="mailto:david@justatheory.com">david@justatheory.com</a>&gt;

</pre><h4><b>Copyright</b> <b>and</b> <b>License</b></h4><pre>
       Copyright (c) 2013-2023 David E. Wheeler. Some Rights Reserved.

       This module is free software; you can redistribute it and/or modify it  under  the  same  terms  as  Perl
       itself.

perl v5.40.0                                       2025-01-19                                       <u>URI::<a href="../man3pm/db.3pm.html">db</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>