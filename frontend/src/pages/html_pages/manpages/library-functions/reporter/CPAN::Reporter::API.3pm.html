<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPAN::Reporter::API - Programmer's interface to CPAN::Reporter</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcpan-reporter-perl">libcpan-reporter-perl_1.2020-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CPAN::Reporter::API - Programmer's interface to CPAN::Reporter

</pre><h4><b>VERSION</b></h4><pre>
       version 1.2020

</pre><h4><b>FUNCTIONS</b></h4><pre>
       CPAN::Reporter provides only a few public function for use within CPAN.pm.  They are not imported during
       "use".  Ordinary users will never need them.

   <b>configure()</b>
         CPAN::Reporter::configure();

       Prompts the user to edit configuration settings stored in the CPAN::Reporter "config.ini" file.  It will
       create the configuration file if it does not exist.  It is automatically called by CPAN.pm when
       initializing the 'test_report' option, e.g.:

         cpan&gt; o conf init test_report

   <b>record_command()</b>
         ($output, $exit_value) = CPAN::Reporter::record_command( $cmd, $secs );

       Takes a command to be executed via <b>system()</b>, but wraps and tees it to show the output to the console,
       capture the output, and capture the exit code.  Returns an array reference of output lines (merged STDOUT
       and STDERR) and the return value from <b>system()</b>.  Note that this is $?, so the actual exit value of the
       command will need to be extracted as described in perlvar.

       If the command matches /\b(?:Makefile|Build)\.PL\b/, then Devel::Autoflush is added to "PERL5OPT" to
       force autoflushing of user prompts.

       If the command includes a pipe character ('|'), only the part of the command prior to the pipe will be
       wrapped and teed.  The pipe will be applied to the execution of the wrapper script.  This is essential to
       capture the exit value of the command and should be otherwise transparent.

       If a non-zero $secs argument is provided, the command will be run with a timeout of $secs (seconds) if
       the appropriate process management modules are available.  On Win32, Win32::Job must be available; on
       Unix, Proc::Killfam must be available.  Otherwise, code will fall-back to running without a timeout.

       Also, on Win32, the first space-separated element of the command must be absolute, or else ".exe" will be
       appended and the PATH searched for a matching command.

       If the attempt to record fails, a warning will be issued and one or more of $output or $exit_value will
       be undefined.

   <b>grade_make()</b>
         CPAN::Reporter::grade_make( $dist, $command, \@output, $exit);

       Given a CPAN::Distribution object, the system command used to build the distribution (e.g. "make", "perl
       Build"), an array of lines of output from the command and the exit value from the command, grade_make()
       determines a grade for this stage of distribution installation.  If the grade is "pass", grade_make()
       does <b>not</b> send a CPAN Testers report for this stage and returns true to signal that the build was
       successful.  Otherwise, a CPAN Testers report is sent and grade_make() returns false.

   <b>grade_PL()</b>
         CPAN::Reporter::grade_PL( $dist, $command, \@output, $exit);

       Given a CPAN::Distribution object, the system command used to run Makefile.PL or Build.PL (e.g. "perl
       Makefile.PL"), an array of lines of output from the command and the exit value from the command,
       grade_PL() determines a grade for this stage of distribution installation.  If the grade is "pass",
       grade_PL() does <b>not</b> send a CPAN Testers report for this stage and returns true to signal that the
       Makefile.PL or Build.PL ran successfully.  Otherwise, a CPAN Testers report is sent and grade_PL()
       returns false.

   <b>grade_test()</b>
         CPAN::Reporter::grade_test( $dist, $command, \@output, $exit);

       Given a CPAN::Distribution object, the system command used to run tests (e.g.  "make test"), an array of
       lines of output from testing and the exit value from the system command, grade_test() determines a grade
       for distribution tests.  A CPAN Testers report is then sent unless specified prerequisites were not
       satisfied, in which case the report is discarded.  This function returns true if the grade is "pass" or
       "unknown" and returns false, otherwise.

   <b>test()</b> <b>--</b> <b>DEPRECATED</b>
         CPAN::Reporter::test( $cpan_dist, $system_command );

       This function is maintained for backwards compatibility.  It effectively wraps the functionality of
       record_command() and grade_test() into a single function call. It takes a CPAN::Distribution object and
       the system command to run distribution tests.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       •   CPAN::Reporter

       •   CPAN::Reporter::Config

       •   CPAN::Reporter::FAQ

</pre><h4><b>AUTHOR</b></h4><pre>
       David Golden &lt;<a href="mailto:dagolden@cpan.org">dagolden@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2023 by David Golden.

       This is free software, licensed under:

         The Apache License, Version 2.0, January 2004

perl v5.40.0                                       2024-08-17                           <u>CPAN::Reporter::<a href="../man3pm/API.3pm.html">API</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>