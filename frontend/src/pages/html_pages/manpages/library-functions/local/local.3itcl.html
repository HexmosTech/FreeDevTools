<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>itcl::local - create an object local to a procedure</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl-itcl4-doc">tcl-itcl4-doc_4.3.2-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       itcl::local - create an object local to a procedure

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>itcl::local</b> <u>className</u> <u>objName</u> ?<u>arg</u> <u>arg</u> <u>...</u>?
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>local</b>  command  creates an <b>[incr</b> <b>Tcl]</b> object that is local to the current call frame.  When the call
       frame goes away, the object is automatically deleted.  This command is useful for creating  objects  that
       are local to a procedure.

       As  a  side  effect, this command creates a variable named "<b>itcl-local-</b><u>xxx</u>", where <u>xxx</u> is the name of the
       object that is created.  This variable detects when the call frame is destroyed and automatically deletes
       the associated object.

</pre><h4><b>EXAMPLE</b></h4><pre>
       In the following example, a simple "counter" object is used within the procedure "test".  The counter  is
       created  as  a  local  object,  so  it  is automatically deleted each time the procedure exits.  The <b>puts</b>
       statements included in the constructor/destructor show the object coming and going as  the  procedure  is
       called.

              itcl::class counter {
                  private variable count 0
                  constructor {} {
                      puts "created: $this"
                  }
                  destructor {
                      puts "deleted: $this"
                  }

                  method bump {{by 1}} {
                      incr count $by
                  }
                  method get {} {
                      return $count
                  }
              }

              proc test {val} {
                  local counter x
                  for {set i 0} {$i &lt; $val} {incr i} {
                      x bump
                  }
                  return [x get]
              }

              set result [test 5]
              puts "test: $result"

              set result [test 10]
              puts "test: $result"

              puts "objects: [itcl::find objects *]"

</pre><h4><b>KEYWORDS</b></h4><pre>
       class, object, procedure

itcl                                                                                                <u><a href="../man3itcl/local.3itcl.html">local</a></u>(3itcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>