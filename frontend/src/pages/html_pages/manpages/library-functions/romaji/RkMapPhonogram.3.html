<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RkMapPhonogram - perform Romaji-kana conversion by using a specified Romaji-kana conversion table</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcanna1g-dev">libcanna1g-dev_3.7p3-25_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <u><b>RkMapPhonogram</b></u> - perform Romaji-kana conversion by using a specified Romaji-kana conversion table

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u><b>#include</b></u> <u><b>&lt;canna/RK.h&gt;</b></u>
       <u><b>int</b></u> <u><b>RkMapPhonogram(romaji,</b></u> <u><b>dst,</b></u> <u><b>maxdst,</b></u> <u><b>src,</b></u> <u><b>srclen,</b></u> <u><b>flags,</b></u> <u><b>ulen,</b></u>
                         <u><b>dlen,</b></u> <u><b>tlen,</b></u> <u><b>rule)</b></u>
       <u><b>struct</b></u> <u><b>RkRxDic</b></u> <u><b>*romaji;</b></u>
       <u><b>unsigned</b></u> <u><b>char</b></u> <u><b>*dst;</b></u>
       <u><b>int</b></u> <u><b>maxdst;</b></u>
       <u><b>unsigned</b></u> <u><b>char</b></u> <u><b>*src;</b></u>
       <u><b>int</b></u> <u><b>srclen;</b></u>
       <u><b>int</b></u> <u><b>flags;</b></u>
       <u><b>int</b></u> <u><b>*ulen;</b></u>
       <u><b>int</b></u> <u><b>*dlen;</b></u>
       <u><b>int</b></u> <u><b>*tlen;</b></u>
       <u><b>int</b></u> <u><b>*rule;</b></u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>RkMapPhonogram</u> performs Romaji-kana conversion by using a specified Romaji-kana conversion table.  <u>romaji</u>
       specifies  a  pointer  to  the  Romaji-kana  conversion  table  that  has been returned by <u><a href="../man3/RkOpenRoma.3.html">RkOpenRoma</a>(3)</u>.
       <u>RkMapPhonogram</u> interprets the <u>srclen</u> bytes of contiguous data starting  at  the  area  <u>src</u>  as  a  Romaji
       character  string  and  searches  through  the  Romaji-kana  conversion table for the rule of Romaji-kana
       conversion that matches the beginning of the Romaji character string.  If  the  corresponding  conversion
       rule  is  found, the area <u>dst</u> is loaded with the corresponding kana character string, with <u>dlen</u> being set
       to its byte length.  The resulting character string is truncated when its byte length exceeds <u>maxdst</u> -1.

       <u>flags</u> is a combination of the following Romaji-kana conversion flags connected by or:

              RK_SOKUON      Enables gemination, in which a sequence of two occurrences of the  same  character,
                             xx,  is  converted  to  small kana character "tsu" only if it is not defined in the
                             Romaji-kana conversion table file.  This process provides for situations  in  which
                             an obsolete Romaji-kana conversion table is used.

              RK_FLUSH       Converts  all  Romaji  characters compulsorily.  Useful for handling n appearing at
                             the end of a character string.

       <u>ulen</u>, <u>dlen</u>, and <u>tlen</u> are used to manage the progress of Romaji-kana conversion.

       For example, if the character string "tt" is given to <u>RkMapPhonogram</u>,  the  first  "t"  is  submitted  to
       Romaji-kana  conversion,  with  <u>dst</u> being set to small kana character "tsu".  The remaining "t" is put to
       reuse for Romaji-kana conversion.  When "a" is entered subsequently, it is combined  with  the  "t"  left
       from the previous run of <u>RkMapPhonogram</u> to generate kana character "ta".

       <u>ulen</u> is set to the byte length of the characters from <u>src</u> used for Romaji-kana conversion.

       <u>dlen</u> is set to the byte length of the kana characters derived from Romaji-kana conversion.

       <u>tlen</u>  is  set  to  the  byte  length  of  the  character string to be used in the next run of Romaji-kana
       conversion.  The character string led by <u>tlen</u> is placed after the character string resulting from Romaji-
       kana conversion in the <u>dst</u> buffers.

       If null pointers are specified in <u>ulen</u>, <u>dlen</u>, and <u>tlen</u>, these parameters do not return any values and are
       simply ignored.

       <u>rule</u>  is  used  to  exchange  information  about  the  <u>rule</u>  of  Romaji-kana  conversion.   When  calling
       <u>RkMapPhonogram</u>  for  the first time, specify a pointer to a variable loaded with 0.  Upon return from the
       first call to <u>RkMapPhonogram</u>, that variable is loaded with internal information about the rule of Romaji-
       kana conversion, in place of 0.  To continue Romaji-kana conversion, specify  the  same  pointer  to  the
       variable to <u>RkMapPhonogram</u>.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       This  function  returns  information  about whether the character string set in <u>dst</u> has been converted by
       using a rule existing in the Romaji-kana conversion table or not.  The  function  returns  1  if  a  rule
       existing in the Romaji-kana conversion table has been used; otherwise, it returns 0.

                                                                                               <u><a href="../man3/RKMAPPHONOGRAM.3.html">RKMAPPHONOGRAM</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>