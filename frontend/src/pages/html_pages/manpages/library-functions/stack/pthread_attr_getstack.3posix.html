<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       pthread_attr_getstack, pthread_attr_setstack — get and set stack attributes

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/pthread.h">pthread.h</a>&gt;

       int pthread_attr_getstack(const pthread_attr_t *restrict <u>attr</u>,
           void **restrict <u>stackaddr</u>, size_t *restrict <u>stacksize</u>);
       int pthread_attr_setstack(pthread_attr_t *<u>attr</u>, void *<u>stackaddr</u>,
           size_t <u>stacksize</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>pthread_attr_getstack</u>()  and  <u>pthread_attr_setstack</u>() functions, respectively, shall get and set the
       thread creation stack attributes <u>stackaddr</u> and <u>stacksize</u> in the <u>attr</u> object.

       The stack attributes specify the area of storage to be used for the  created  thread's  stack.  The  base
       (lowest  addressable  byte)  of  the  storage  shall  be  <u>stackaddr</u>, and the size of the storage shall be
       <u>stacksize</u> bytes. The <u>stacksize</u>  shall  be  at  least  {PTHREAD_STACK_MIN}.   The  <u>pthread_attr_setstack</u>()
       function may fail with <b>[EINVAL]</b> if <u>stackaddr</u> does not meet implementation-defined alignment requirements.
       All  pages  within  the stack described by <u>stackaddr</u> and <u>stacksize</u> shall be both readable and writable by
       the thread.

       If the <u>pthread_attr_getstack</u>() function is called before  the  <u>stackaddr</u>  attribute  has  been  set,  the
       behavior is unspecified.

       The  behavior  is  undefined  if  the  value specified by the <u>attr</u> argument to <u>pthread_attr_getstack</u>() or
       <u>pthread_attr_setstack</u>() does not refer to an initialized thread attributes object.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon successful completion, these functions shall return a value of 0; otherwise, an error  number  shall
       be returned to indicate the error.

       The <u>pthread_attr_getstack</u>() function shall store the stack attribute values in <u>stackaddr</u> and <u>stacksize</u> if
       successful.

</pre><h4><b>ERRORS</b></h4><pre>
       The <u>pthread_attr_setstack</u>() function shall fail if:

       <b>EINVAL</b> The  value  of  <u>stacksize</u>  is  less  than {PTHREAD_STACK_MIN} or exceeds an implementation-defined
              limit.

       The <u>pthread_attr_setstack</u>() function may fail if:

       <b>EINVAL</b> The value of <u>stackaddr</u> does not have proper alignment to be used as a stack, or ((<b>char</b> <b>*</b>)<u>stackaddr</u>
              + <u>stacksize</u>) lacks proper alignment.

       <b>EACCES</b> The stack page(s) described by <u>stackaddr</u> and <u>stacksize</u> are not both readable and writable  by  the
              thread.

       These functions shall not return an error code of <b>[EINTR]</b>.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       None.

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       These  functions  are  appropriate for use by applications in an environment where the stack for a thread
       must be placed in some particular region of memory.

       While it might seem that an application could detect stack overflow by providing a protected page outside
       the specified stack region, this cannot be done portably. Implementations are free to place the  thread's
       initial  stack  pointer  anywhere  within the specified region to accommodate the machine's stack pointer
       behavior and allocation requirements. Furthermore, on some architectures, such as the IA‐64, ``overflow''
       might mean that two separate stack pointers allocated within the region will  overlap  somewhere  in  the
       middle of the region.

       After a successful call to <u>pthread_attr_setstack</u>(), the storage area specified by the <u>stackaddr</u> parameter
       is  under  the  control  of the implementation, as described in <u>Section</u> <u>2.9.8</u>, <u>Use</u> <u>of</u> <u>Application-Managed</u>
       <u>Thread</u> <u>Stacks</u>.

       The specification of the <u>stackaddr</u> attribute presents several ambiguities that make portable use of these
       functions impossible. For example, the standard allows  implementations  to  impose  arbitrary  alignment
       requirements  on  <u>stackaddr</u>.  Applications cannot assume that a buffer obtained from <u>malloc</u>() is suitably
       aligned. Note that although the <u>stacksize</u> value passed to <u>pthread_attr_setstack</u>() must satisfy  alignment
       requirements, the same is not true for <u>pthread_attr_setstacksize</u>() where the implementation must increase
       the specified size if necessary to achieve the proper alignment.

</pre><h4><b>RATIONALE</b></h4><pre>
       If  an implementation detects that the value specified by the <u>attr</u> argument to <u>pthread_attr_getstack</u>() or
       <u>pthread_attr_setstack</u>() does not refer to an initialized thread attributes object, it is recommended that
       the function should fail and report an <b>[EINVAL]</b> error.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>pthread_attr_destroy</u>(), <u>pthread_attr_getdetachstate</u>(), <u>pthread_attr_getstacksize</u>(), <u>pthread_create</u>()

       The Base Definitions volume of POSIX.1‐2017, <b>&lt;limits.h&gt;</b>, <b>&lt;pthread.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                         <u><a href="../man3POSIX/PTHREAD_ATTR_GETSTACK.3POSIX.html">PTHREAD_ATTR_GETSTACK</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>