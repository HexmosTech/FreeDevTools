<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WWW::Mediawiki::Client - module providing a VCS like to MediaWiki</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libwww-mediawiki-client-perl">libwww-mediawiki-client-perl_0.31-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       WWW::Mediawiki::Client - module providing a VCS like to MediaWiki

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use WWW::Mediawiki::Client;

         my $filename = 'Subject.wiki';
         my $mvs = WWW::Mediawiki::Client-&gt;new(
             host =&gt; 'www.wikitravel.org'
         );

         # like cvs update
         $mvs-&gt;do_update($filename);

         # like cvs commit
         $mvs-&gt;do_commit($filename, $message);

         #aliases
         $mvs-&gt;do_up($filename);
         $mvs-&gt;do_com($filename, $message);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       WWW::Mediawiki::Client provides a very simple cvs-like interface for Mediawiki driven WikiWiki websites,
       such as &lt;<a href="http://www.wikitravel.org">http://www.wikitravel.org</a>|Wikitravel&gt; or &lt;<a href="http://www.wikipedia.org">http://www.wikipedia.org</a>|Wikipedia.&gt; The interface
       mimics the two most basic cvs commands: update and commit with similarly named methods.  Each of these
       has a shorter alias, as in cvs.

</pre><h4><b>CONSTANTS</b></h4><pre>
       <u>$VERSION</u>

   <b>Update</b> <b>Status</b>
       <u>STATUS_UNKNOWN</u>

       Indicates that "WWW::Mediawiki::Client" has no information about the file.

       <u>STATUS_UNCHANGED</u>

       Indicates that niether the file nor the server page have changed.

       <u>STATUS_LOCAL_ADDED</u>

       Indicates that the file is new locally, and does not exist on the server.

       <u>STATUS_LOCAL_MODIFIED</u>

       Indicates that the file has been modified locally.

       <u>STATUS_SERVER_MODIFIED</u>

       Indicates that the server page was modified, and that the modifications have been successfully merged
       into the local file.

       <u>STATUS_CONFLICT</u>

       Indicates that there are conflicts in the local file resulting from a failed merge between the server
       page and the local file.

   <b>Option</b> <b>Settings</b>
       <u>OPT_YES</u>

       Indicates that the setting should always be applied.

       <u>OPT_NO</u>

       Indicates that the setting should never be applied.

       <u>OPT_DEFAULT</u>

       Indicates that the setting should be applied based on the user profile default on the Wikimedia server.

       <u>OPT_KEEP</u>

       Four-state options only.  Indicates that the setting should not be changed from its current value on the
       server.

   <b>Mediawiki</b> <b>form</b> <b>widgets</b>
       <u>TEXTAREA_NAME</u>

       <u>COMMENT_NAME</u>

       <u>EDIT_SUBMIT_NAME</u>

       <u>EDIT_SUBMIT_VALUE</u>

       <u>EDIT_PREVIEW_NAME</u>

       <u>EDIT_PREVIEW_VALUE</u>

       <u>EDIT_TIME_NAME</u>

       <u>EDIT_TOKEN_NAME</u>

       <u>EDIT_WATCH_NAME</u>

       <u>EDIT_MINOR_NAME</u>

       <u>CHECKED</u>

       <u>UNCHECKED</u>

       <u>USERNAME_NAME</u>

       <u>PASSWORD_NAME</u>

       <u>REMEMBER_NAME</u>

       <u>LOGIN_SUBMIT_NAME</u>

       <u>LOGIN_SUBMIT_VALUE</u>

   <b>Files</b>
       <u>CONFIG_FILE</u>

         .mediawiki

       <u>COOKIE_FILE</u>

         .mediawiki.cookies

       <u>SAVED_ATTRIBUTES</u>

       Controls which attributes get saved out to the config file.

</pre><h4><b>CONSTRUCTORS</b></h4><pre>
   <b>new</b>
         my $mvs = WWW::Mediawiki::Client-&gt;new(host = 'www.wikitravel.org');

       Accepts name-value pairs which will be used as initial values for any of the fields which have accessors
       below.  Throws the same execptions as the accessor for any field named.

</pre><h4><b>ACCESSORS</b></h4><pre>
   <b>host</b>
         my $url = $mvs-&gt;host('www.wikipediea.org');

         my $url = $mvs-&gt;host('www.wikitravel.org');

       The "host" is the name of the Mediawiki server from which you want to obtain content, and to which your
       submissions will be made.  There is no default.  This has to be set before attempting to use any of the
       methods which attempt to access the server.

       <b>Side</b> <b>Effects:</b>

       Server defaults
           If WWW::Mediawiki::Client knows about the path settings for the Mediawiki installation you are trying
           to use then the various path fields will also be set as a side-effect.

       Trailing slashes
           Any trailing slashes are deleted <u>before</u> the value of "host" is set.

   <b>protocol</b>
         my $url = $mvs-&gt;protocol('www.wikipediea.org');

         my $url = $mvs-&gt;protocol('www.wikitravel.org');

       The "protocol" is the protocol used by the Mediawiki server from which you want to obtain content, and to
       which  your  submissions  will  be made.  It can be one of "http" or "https" with the default value being
       http.

       <b>Side</b> <b>Effects:</b>

       Server defaults
           If WWW::Mediawiki::Client knows about the settings for the Mediawiki installation you are  trying  to
           use then the various path fields will also be set as a side-effect.

   <b>language_code</b>
         my $lang = $mvs-&gt;language_code($lang);

       Most  Mediawiki  projects  have multiple language versions.  This field can be set to target a particular
       language version of the project the client  is  set  up  to  address.   When  the  "filename_to_url"  and
       "pagename_to_url"  methods  encounter  the  text  '__LANG__'  in  any  part  of their constructed URL the
       "language_code" will be substituted.

       "language_code" defaults to 'en'.

   <b>space_substitute</b>
         my $char = $mvs-&gt;space_substitute($char);

       Mediawiki allows article names to have spaces, for instance the default Meidawiki  main  page  is  called
       "Main Page".  The spaces need to be converted for the URL, and to avoid the normal but somewhat difficult
       to  read URL escape the Mediawiki software substitutes some other character.  Wikipedia uses a '+', as in
       "Main+Page" and Wikitravel uses a '_' as in "Main_page".  WWW::Mediawiki::Client always writes wiki files
       using the '_', but converts them to whatever the "space_substitute" is set to for the URL.

       <b>Throws:</b>

       WWW::Mediawiki::Client::URLConstructionException

   <b>escape_filenames</b>
         my $char = $mvs-&gt;escape_filenames($do_escape);

       Mediawiki allows article names to be in UTF-8 and most international Wikipedias use  this  feature.  That
       leads  us to UTF-8 encoded file names and not all filesystems can handle them. So you can set this option
       to some true value to make all your local file names with wiki articles URL-escaped.

   <b>wiki_path</b>
         my $path = $mvs-&gt;wiki_path($path);

       "wiki_path" is the path to the php page which handles all request to edit or submit a page, or to  login.
       If  you are using a Mediawiki site which WWW::Mediawiki::Client knows about this will be set for you when
       you set the "host".  Otherwise it defaults to the 'wiki/wiki.phtml' which  is  what  you'll  get  if  you
       follow the installation instructions that some with Mediawiki.

       <b>Side</b> <b>effects</b>

       Leading slashes
           Leading slashes in any incoming value will be stripped.

   <b>encoding</b>
         my $encoding = $mvs-&gt;encoding($encoding);

       "encoding"  is  the  charset  in which the Mediawiki server expects uploaded content to be encoded.  This
       should be set the first time you use do_login.

   <b>username</b>
         my $url = $mvs-&gt;username($url);

       The username to use if WWW::Mediawiki::Client is to log in to the Mediawiki server as a given user.

   <b>password</b>
         my $url = $mvs-&gt;password($url);

       The password to use if WWW::Mediawiki::Client is to log in to the Mediawiki server as a given user.  Note
       that this password is sent <u>en</u> <u>clair</u>, so it's probably not a good idea to use an important one.

   <b>http_authorization_method</b>
         my $method = $mvs-&gt;http_authorization_method($method);

       The method used for HTTP access to the web server.

       = over = item 'none'

       (Default) Indicates that the server does not use HTTP Authorization.  Most mediawiki's  web  servers  use
       this value, which is to say that access to the mediawiki software is available to any client, even if the
       mediawiki software itself may further limit privileges.

       = item 'Basic'

       Use  Basic HTTP Authorization.  A mediawiki web server which is set up to use this option, will not allow
       the client to talk to the mediawiki software unless the username and password is included in the request.
       The mediawiki software might require an additional log in using the same information, or  it  might  take
       the          credentials          from         the         web         server         using,         e.g.
       <a href="http://www.mediawiki.org/wiki/Extension">http://www.mediawiki.org/wiki/Extension</a>:AutomaticREMOTE_USER

       Basic HTTP Authorization is considered insecure unless used over a secure channel such as https.

       <b>Throws:</b>

       WWW::Mediawiki::Client::URLConstructionException

   <b>commit_message</b>
         my $msg = $mvs-&gt;commit_message($msg);

       A "commit_message" must be specified before "do_commit" can be run.  This will be  used  as  the  comment
       when submitting pages to the Mediawiki server.

   <b>watch</b>
         my $watch = $mvs-&gt;watch($watch);

       Mediawiki  allows users to add a page to thier watchlist at submit time using using the "Watch this page"
       checkbox.  The field "watch" allows commits from this library to add  or  remove  the  page  in  question
       to/from your watchlist.

       This is a four-state option:

       "OPT_YES"
           Always add pages to the watchlist.

       "OPT_NO"
           Remove pages from the watchlist.

       "OPT_KEEP"
           Maintain current watched state.

       "OPT_DEFAULT" (default)
           Adhere  to  user  profile  default  on the server.  Watched pages will always remain watched, and all
           other pages will be watched if the "watch all pages  by  default"  option  is  enabled  in  the  user
           profile.

       <b>Throws:</b>

       WWW::Mediawiki::Client::InvalidOptionException

   <b>minor_edit</b>
         my $minor = $mvs-&gt;minor_edit($minor);

       Mediawiki  allows  users  to mark some of their edits as minor using the "This is a minor edit" checkbox.
       The field "minor_edit" allows a commit from the mediawiki client to be marked as a minor edit.

       This is a three-state option:

       "OPT_YES"
           Always declare change as minor.

       "OPT_NO"
           Never declare change as minor.

       "OPT_DEFAULT" (default)
           Adhere to user profile default on the server.  Edits will be marked as minor if the "minor changes by
           default" option is enabled in the user profile.

       <b>Throws:</b>

       WWW::Mediawiki::Client::InvalidOptionException

   <b>status</b>
         my %status = $mvs-&gt;status;

       This field will be empty until do_update has been called, after which  it  will  be  set  to  a  hash  of
       "filename"  =&gt;  "status"  pairs.   Each  "status"  will  be  one  of  the  following  (see  CONSTANTS for
       discriptions):

       WWW::Mediawiki::Client::STATUS_UNKNOWN;
       WWW::Mediawiki::Client::STATUS_UNCHANGED;
       WWW::Mediawiki::Client::STATUS_LOCAL_ADDED;
       WWW::Mediawiki::Client::STATUS_LOCAL_MODIFIED;
       WWW::Mediawiki::Client::STATUS_SERVER_MODIFIED;
       WWW::Mediawiki::Client::STATUS_CONFLICT;

   <b>site_url</b> <b>DEPRICATED</b>
         my $url = $mvs-&gt;site_url($url);

       The site URL is the base url for reaching the Mediawiki server who's content  you  wish  to  edit.   This
       field  is  now  depricated  in  favor  of  the "host" field which is basically the same thing without the
       protocol string.

       <b>Side</b> <b>Effects:</b>

       Server defaults
           If WWW::Mediawiki::Client knows about the path settings for the Mediawiki installation you are trying
           to use then the various path fields will also be set as a side-effect.

       Trailing slashes
           Any trailing slashes are deleted <u>before</u> the value of "site_url" is set.

</pre><h4><b>Instance</b> <b>Methods</b></h4><pre>
   <b>do_login</b>
         $mvs-&gt;do_login;

       The "do_login" method operates like the cvs  login  command.   The  "host",  "username",  and  "password"
       attributes  must  be  set  before  attempting to login.  Once "do_login" has been called successfully any
       successful commit from the same directory will be logged in the Mediawiki server as having been  done  by
       "username".

       <b>Throws:</b>

       WWW::Mediawiki::Client::AuthException
       WWW::Mediawiki::Client::CookieJarException
       WWW::Mediawiki::Client::LoginException
       WWW::Mediawiki::Client::URLConstructionException

   <b>do_li</b>
         $mvs-&gt;do_li;

       An alias for "do_login".

   <b>do_update</b>
         $self-&gt;do_update($filename, ...);

       The  "do_update"  method operates like a much-simplified version of the cvs update command.  The argument
       is a list of filenames, whose contents will be compared to the version on the WikiMedia server and  to  a
       locally  stored  reference copy.  Lines which have changed only in the server version will be merged into
       the local version, while lines which have changed in both the server and local version will be flagged as
       possible conflicts, and marked as such, somewhate in the manner of cvs (actually this syntax  comes  from
       the default conflict behavior of VCS::Lite):

         ********************Start of conflict 1  Insert to Primary, Insert to Secondary ************************************************************

         The line as it appears on the server

         ****************************************************************************************************

         The line as it appears locally
         ********************End of conflict 1********************************************************************************

       After  the merging, and conflict marking is complete the server version will be copied into the reference
       version.

       If either the reference version or the local version are empty, or if either file  does  not  exist  they
       will both be created as a copy of the current server version.

       <b>Throws:</b>

       WWW::Mediawiki::Client::URLConstructionException
       WWW::Mediawiki::Client::FileAccessException
       WWW::Mediawiki::Client::FileTypeException
       WWW::Mediawiki::Client::ServerPageException
       WWW::Mediawiki::Client::AbsoluteFileNameException

   <b>do_up</b>
       An alias for "do_update".

   <b>do_commit</b>
         $self-&gt;do_commit($filename);

       As  with  "do_update"  the  "do_commit"  method operates like a much simplified version of the cvs commit
       command.  Again, the argument is a filename.  In keeping with the operation of cvs, "do_commit" does  not
       automatically  do an update, but does check the server version against the local reference copy, throwing
       an error if the server version has changed, thus forcing the user to do an update.  A different error  is
       thrown if the conflict pattern sometimes created by "do_update" is found.

       After the error checking is done the local copy is submitted to the server, and, if all goes well, copied
       to the local reference version.

       <b>Throws:</b>

       WWW::Mediawiki::Client::CommitMessageException
       WWW::Mediawiki::Client::ConflictsPresentException
       WWW::Mediawiki::Client::FileAccessException
       WWW::Mediawiki::Client::FileTypeException
       WWW::Mediawiki::Client::URLConstructionException
       WWW::Mediawiki::Client::UpdateNeededException
       WWW::Mediawiki::Client::InvalidOptionException

   <b>do_com</b>
       This is an alias for "do_commit".

   <b>do_preview</b>
         $self-&gt;do_preview($filename);

       The  "do_preview"  method  is  a  non-writing  version  of  the "do_commit" method.  It uploads the given
       filename to test its formatting.  Its behaviour and arguments are identical to "do_commit".

       The behaviour of "do_preview" is currently based on the  environment.   If  "MVS_BROWSER"  is  set,  this
       program  (typically  a web browser) will be launched on a temporary file.  Otherwise, the preview will be
       saved to the file specified by the "MVS_PREVIEW" variable,  or  preview.html  if  this  is  unset.   This
       behaviour  is  considered  a  prototype  for future functionality, and is "subject to change" in the near
       future.

       Returns the name of the preview file, or undef if the file was sent to a web browser.

       <b>Throws:</b>

       WWW::Mediawiki::Client::ConflictsPresentException
       WWW::Mediawiki::Client::FileAccessException
       WWW::Mediawiki::Client::FileTypeException
       WWW::Mediawiki::Client::URLConstructionException
       WWW::Mediawiki::Client::UpdateNeededException

   <b>do_clean</b>
         $self-&gt;do_clean;

       Removes all reference files under the current directory that have no corresponding Wiki files.

       <b>Throws:</b>

       WWW::Mediawiki::Client::FileAccessException

   <b>save_state</b>
         $mvs-&gt;save_state;

       Saves the current state of the wmc object in the current working directory.

       <b>Throws:</b>

       WWW::Mediawiki::Client::FileAccessException

   <b>load_state</b>
         $mvs = $mvs-&gt;load_state;

       Loads the state of the wmc object from that saved in the current working directory.

       <b>Throws:</b>

       WWW::Mediawiki::Client::CorruptedConfigFileException

   <b>get_server_page</b>
         my $wikitext = $mvs-&gt;get_server_page($pagename);

       Returns the wikitext of the given Mediawiki page name.

       <b>Throws:</b>

       WWW::Mediawiki::Client::ServerPageException

   <b>get_local_page</b>
         my $wikitext = $mvs-&gt;get_local_page($filename);

       Returns the wikitext from the given local file;

       <b>Throws:</b>

       WWW::Mediawiki::Client::FileAccessException
       WWW::Mediawiki::Client::FileTypeException
       WWW::Mediawiki::Client::AbsoluteFileNameException

   <b>pagename_to_url</b>
         my $url = $mvs-&gt;pagename_to_url($pagename);

       Returns the url at which a given pagename will be found on the Mediawiki server to which this instance of
       points.

       <b>Throws:</b>

       WWW::Mediawiki::Client::URLConstructionException;

   <b>filename_to_pagename</b>
         my $pagename = $mvs-&gt;filname_to_pagename($filename);

       Returns the cooresponding server page name given a filename.

       <b>Throws:</b>

       WWW::Mediawiki::Client::AbsoluteFileNameException
       WWW::Mediawiki::Client::FileTypeException

   <b>filename_to_url</b>
         my $pagename = $mvs-&gt;filname_to_url($filename);

       Returns the cooresponding server URL given a filename.

       <b>Throws:</b>

       WWW::Mediawiki::Client::AbsoluteFileNameException
       WWW::Mediawiki::Client::FileTypeException

   <b>pagename_to_filename</b>
         my $filename = $mvs-&gt;pagename_to_filename($pagename);

       Returns a local filename which cooresponds to the given Mediawiki page name.

   <b>url_to_filename</b>
         my $filename = $mvs-&gt;url_to_filename($url);

       Returns the local filename which cooresponds to a given URL.

   <b>list_wiki_files</b>
         @filenames = $mvs-&gt;list_wiki_files;

       Returns a recursive list of all wikitext files in the local repository.

</pre><h4><b>BUGS</b></h4><pre>
       Please      submit       bug       reports       to       the       CPAN       bug       tracker       at
       &lt;<a href="http://rt.cpan.org/NoAuth/Bugs.html">http://rt.cpan.org/NoAuth/Bugs.html</a>?Dist=WWW-Mediawiki-Client&gt;.

</pre><h4><b>DISCUSSION</b></h4><pre>
       There    is    a    discussion    list.     You    can    subscribe    or    read    the   archives   at:
       &lt;<a href="http://www.geekhive.net/cgi-bin/mailman/listinfo/www-mediawiki-client-l">http://www.geekhive.net/cgi-bin/mailman/listinfo/www-mediawiki-client-l</a>&gt;

</pre><h4><b>AUTHORS</b></h4><pre>
       Mark Jaroski &lt;<a href="mailto:mark@geekhive.net">mark@geekhive.net</a>&gt;
           Original author, maintainer

       Mike Wesemann &lt;<a href="mailto:mike@fhi-berlin.mpg.de">mike@fhi-berlin.mpg.de</a>&gt;
           Added support for Mediawiki 1.3.10+ edit tokens

       Bernhard Kaindl &lt;<a href="mailto:bkaindl@ffii.org">bkaindl@ffii.org</a>&gt;
           Improved error messages.

       Oleg Alexandrov &lt;<a href="mailto:aoleg@math.ucla.edu">aoleg@math.ucla.edu</a>&gt;, Thomas Widmann &lt;<a href="mailto:twid@bibulus.org">twid@bibulus.org</a>&gt;
           Bug reports and feedback.

       Adrian Irving-Beer &lt;<a href="mailto:wisq@wisq.net">wisq@wisq.net</a>&gt;
           Preview support, export support for multi-page update, more 'minor' and  'watch'  settings,  and  bug
           reports.

       Nicolas Brouard &lt;<a href="mailto:nicolas.brouard@libertysurf.fr">nicolas.brouard@libertysurf.fr</a>&gt;
           Fixed content-type bug.

       Alex Kapranoff &lt;<a href="mailto:alex@kapranoff.ru">alex@kapranoff.ru</a>&gt;
           Added "escape_filename" in order to support UTF-8 filenames on filesystems lacking UTF-8 support.

</pre><h4><b>LICENSE</b></h4><pre>
       Copyright (c) 2004-2006 Mark Jaroski.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

</pre><h4><b>POD</b> <b>ERRORS</b></h4><pre>
       Hey! <b>The</b> <b>above</b> <b>document</b> <b>had</b> <b>some</b> <b>coding</b> <b>errors,</b> <b>which</b> <b>are</b> <b>explained</b> <b>below:</b>

       Around line 614:
           =back without =over

perl v5.40.0                                       2025-01-13                        <u>WWW::Mediawiki::<a href="../man3pm/Client.3pm.html">Client</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>