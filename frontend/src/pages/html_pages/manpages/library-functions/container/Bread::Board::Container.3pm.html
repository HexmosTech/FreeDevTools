<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bread::Board::Container - A container for services and other containers</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbread-board-perl">libbread-board-perl_0.37-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Bread::Board::Container - A container for services and other containers

</pre><h4><b>VERSION</b></h4><pre>
       version 0.37

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Bread::Board;
         my $c = container MCP =&gt; as {
             container Users =&gt; as {
                 service flynn =&gt; ...;
                 service bradley =&gt; ...;
                 service dillinger =&gt; ...;
             };

             container Programs =&gt; as {
                 container Rebels =&gt; as {
                     service tron =&gt; ...;
                     service yori =&gt; ...;
                     alias flynn =&gt; '/Users/flynn';
                 };

                 # nested container
                 container Slaves =&gt; as {
                     service sark =&gt; ...;
                     service crom =&gt; ...;
                 };
             };
         };

         # OR directly...
         my $guardians =&gt; Bread::Board::Container-&gt;new( name =&gt; 'Guardians' );
         $guardians-&gt;add_service(
             Bread::Board::ConstructorInjection-&gt;new(
                 name =&gt; 'dumont',
                 ...,
             )
         );
         $c-&gt;get_sub_container('Programs')-&gt;add_sub_container($guardians);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class implements the container for Bread::Board: a container is a thing that contains services and
       other containers. Each container and service has a name, so you end up with a tree of named nodes, just
       like files and directories in a filesystem: each item can be referenced using a path (see
       Bread::Board::Traversable for the details).

</pre><h4><b>ATTRIBUTES</b></h4><pre>
   <b>"name"</b>
       Read/write string, required. Every container needs a name, by which it can be referenced when fetching
       it.

   <b>"services"</b>
       Hashref, constrained by "Bread::Board::Container::ServiceList", mapping names to services directly
       contained in this container. Every service added here will have its "parent" set to this container.

       You can pass an arrayref of services instead of a hashref, the keys will be the names of the services.

       You should probably use "add_service" and "get_service" to manipulate this attribute, instead of
       modifying it directly.

   <b>"sub_containers"</b>
       Hashref, constrained by "Bread::Board::Container::SubContainerList", mapping names to containers directly
       contained in this container. Every container added here will have its "parent" set to this container.

       You can pass an arrayref of containers instead of a hashref, the keys will be the names of the
       containers.

       You should probably use "add_sub_container" and "get_sub_container" to manipulate this attribute, instead
       of modifying it directly.

       Containers added here can either be normal Bread::Board::Container or
       Bread::Board::Container::Parameterized.

</pre><h4><b>METHODS</b></h4><pre>
   <b>"add_service"</b>
         $container-&gt;add_service($service);

       Adds a service into the "services" map, using its name as the key.

   <b>"get_service"</b>
         my $service = $container-&gt;get_service($name);

       Returns a service by name, or "undef" if there's no such service in the "services" map.

   <b>"has_service"</b>
         if ($container-&gt;has_service($name)) { ... }

       Returns true if a service with the given name name exists in the "services" map, false otherwise.

   <b>"has_services"</b>
         if ($container-&gt;has_services) { ... }

       Returns true if the "services" map contains any services, false if it's empty.

   <b>"get_service_list"</b>
         my @service_names = $container-&gt;get_service_list();

       Returns the names off all services present in the "services" map.

   <b>"add_sub_container"</b>
         $container-&gt;add_sub_container($container);

       Adds a container into the "sub_containers" map, using its name as the key.

   <b>"get_sub_container"</b>
         my $container = $container-&gt;get_sub_container($name);

       Returns a container by name, or "undef" if there's no such container in the "sub_containers" map.

   <b>"has_sub_container"</b>
         if ($container-&gt;has_sub_container($name)) { ... }

       Returns true if a container with the given name name exists in the "sub_containers" map, false otherwise.

   <b>"has_sub_containers"</b>
         if ($container-&gt;has_sub_containers) { ... }

       Returns true if the "sub_containers" map contains any contains, false if it's empty.

   <b>"get_sub_container_list"</b>
         my @container_names = $container-&gt;get_sub_container_list();

       Returns the names off all containers present in the "sub_containers" map.

   <b>"add_type_mapping_for"</b>
         $containers-&gt;add_type_mapping_for( $type_name, $service );

       Adds a mapping from a Moose type to a service: whenever we try to "resolve" that type, we'll use that
       service to instantiate it.

   <b>"get_type_mapping_for"</b>
         my $service = $container-&gt;get_type_mapping_for( $type_name );

       Returns the service to use to instantiate the given type name.

       Important: if a mapping for the exact type can't be found, but a mapping for a <u>subtype</u> of it can, you'll
       get the latter instead:

         package Superclass { use Moose };
         package Subclass { use Moose; exends 'Superclass' };

         $c-&gt;add_type_mapping_for(
          'Subclass',
          Bread::Board::ConstructorInjection-&gt;new(name=&gt;'sc',class=&gt;'Subclass'),
        );
        my $o = $c-&gt;get_type_mapping_for('Superclass')-&gt;get;

       $o is an instance of "Subclass". If there are more than one sub-type mapped, you get a random one. This
       is probably a bad idea.

   <b>"has_type_mapping_for"</b>
         if ($container-&gt;has_type_mapping_for( $type_name )) { ... }

       Returns true if we have a service defined to instantiate the given type name, but see the note on
       "get_type_mapping_for" about subtype mapping.

   <b>"resolve"</b>
         my $object = $container-&gt;resolve(service=&gt;$service_name);
         my $object = $container-&gt;resolve(service=&gt;$service_name,parameters=&gt;\%p);

       When given a service name, this method will fetch the service, then call "get" on it, optionally passing
       the given parameters.

         my $object = $container-&gt;resolve(type=&gt;$type);
         my $object = $container-&gt;resolve(type=&gt;$type,parameters=&gt;\%p);

       When given a type name, this method will use "get_type_mapping_for" to get the service, then call "get"
       on it, optionally passing the given parameters. If the instance is not of the expected type, the method
       will die.

</pre><h4><b>AUTHOR</b></h4><pre>
       Stevan Little &lt;<a href="mailto:stevan@iinteractive.com">stevan@iinteractive.com</a>&gt;

</pre><h4><b>BUGS</b></h4><pre>
       Please report any bugs or feature requests on the bugtracker website
       https://github.com/stevan/BreadBoard/issues

       When submitting a bug or request, please include a test-file or a patch to an existing test-file that
       illustrates the bug or desired feature.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2019, 2017, 2016, 2015, 2014, 2013, 2011, 2009 by Infinity Interactive.

       This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.36.0                                       2022-12-12                       <u>Bread::Board::<a href="../man3pm/Container.3pm.html">Container</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>