<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QmcGroup - container representing a single fetch group of metrics from multiple sources</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpcp3-dev">libpcp3-dev_6.3.8-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>QmcGroup</b> - container representing a single fetch group of metrics from multiple sources

</pre><h4><b>C++</b> <b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;QmcGroup.h&gt;</b>

       <b>c++</b> <b>...</b> <b>-lpcp_qmc</b> <b>-lpcp</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A  <b>QmcGroup</b>  object is a container for contexts and metrics that should be fetched at the same time.  The
       class  manages  the  <b><a href="../man3/QmcContext.3.html">QmcContext</a></b>(3)  objects,  timezones  and  bounds  for  every  context  created   with
       <b>QmcGroup::use</b> and <b>QmcGroup::addMetric</b>.

</pre><h4><b>CONSTRUCTORS</b> <b>&amp;</b> <b>DESTRUCTOR</b></h4><pre>
       <b>~QmcGroup();</b>
           Destructor which destroys all metrics and contexts created by this group.

       <b>QmcGroup(bool</b> <b>restrictArchives</b> <b>=</b> <b>false);</b>
           Construct  a  new  fetch  group.   <u>restrictArchives</u>  will  restrict  the creating of multiple archive
           contexts created from the same host.

</pre><h4><b>CONTEXTS</b></h4><pre>
       The default context of the group is defined as the first context created with  <b>QmcGroup::use</b>  before  the
       first  call  to  <b>QmcGroup::addMetric</b>.   If  no  context  is created before the first metric is added, the
       localhost is used as the default context.  Therefore,  if  any  metrics  specifications  contain  archive
       sources, an archive source must have been created with <b>QmcGroup::use</b> to avoid an error for mixing context
       types.

       <b>uint_t</b> <b>numContexts()</b> <b>const;</b>
           The number of valid contexts created in this group.

       <b>QmcContext</b> <b>const&amp;</b> <b>context(uint_t</b> <b>index)</b> <b>const</b>
           Return a handle to a context.

       <b>QmcContext&amp;</b> <b>context(uint_t</b> <b>index);</b>
           Return a modifiable handle to a context.

       <b>int</b> <b>mode()</b> <b>const;</b>
           Return the type of context, either <b>PM_CONTEXT_LOCAL</b>, <b>PM_CONTEXT_HOST</b> or <b>PM_CONTEXT_ARCHIVE</b>.

       <b>QmcContext*</b> <b>which()</b> <b>const;</b>
           Return  a  handle  to the current context of this group. This does not call <b><a href="../man3/pmUseContext.3.html">pmUseContext</a></b>(3) so it may
           not be the current <b><a href="../man3/PMAPI.3.html">PMAPI</a></b>(3) context.

       <b>uint_t</b> <b>contextIndex()</b> <b>const</b>
           The index to the current group context.

       <b>int</b> <b>use(int</b> <b>type,</b> <b>char</b> <b>const*</b> <b>source);</b>
           Use the context of <u>type</u> from <u>source</u>.  If a context to this <u>source</u> already exists in this group,  that
           context  will  become  the  current  <b><a href="../man3/PMAPI.3.html">PMAPI</a></b>(3) context.  Otherwise a new context will be created.  The
           result is the <b><a href="../man3/PMAPI.3.html">PMAPI</a></b>(3) context handle for the <b>QmcGroup::context</b> or  a  <b><a href="../man3/PMAPI.3.html">PMAPI</a></b>(3)  error  code  if  the
           context failed.

       <b>bool</b> <b>defaultDefined()</b> <b>const;</b>
           Returns <b>true</b> if a default context has been determined.

       <b>int</b> <b>useDefault();</b>
           Use  the  default  context.  If a default context has not been created, the context to the local host
           will be attempted.  A result less than zero indicates that the method failed with the <b><a href="../man3/PMAPI.3.html">PMAPI</a></b>(3)  error
           encoded in the result.

       <b>void</b> <b>createLocalContext();</b>
           Create and use a context to the local host.  A result less than zero indicates that the method failed
           with the <b><a href="../man3/PMAPI.3.html">PMAPI</a></b>(3) error encoded in the result.

</pre><h4><b>METRICS</b></h4><pre>
       These  <b>addMetric</b>  methods should be used to create new metrics as the <b>QmcMetric</b> constructors are private.
       These methods will always return a pointer to a <b>QmcMetric</b> object, however the  <b>QmcMetric::status()</b>  field
       should be checked to ensure the metric is valid.

       <b>QmcMetric*</b> <b>addMetric(char</b> <b>const*</b> <b>str,</b> <b>double</b> <b>theScale</b> <b>=</b> <b>0.0,</b>
           <b>bool</b> <b>active</b> <b>=</b> <b>false);</b>

           Add  the  metric  <u>str</u> to the group, with a scaling factor of <u>scale</u>.  If <u>active</u> is set the metric will
           use only active instances (see <b><a href="../man3/QmcMetric.3.html">QmcMetric</a></b>(3)).

       <b>QmcMetric*</b> <b>addMetric(pmMetricSpec*</b> <b>theMetric,</b> <b>double</b> <b>theScale</b>
           <b>=</b> <b>0.0,</b> <b>bool</b> <b>active);</b>

           Add the metric <u>theMetric</u> to the group, with a scaling factor of <u>scale</u>.  If <u>active</u> is set  the  metric
           will use only active instances (see <b><a href="../man3/QmcMetric.3.html">QmcMetric</a></b>(3)).

       <b>int</b> <b>fetch(bool</b> <b>update</b> <b>=</b> <b>true);</b>
           Fetch  all  the  metrics  in all the contexts in this group.  If <u>update</u> is equal to <b>true</b>, all counter
           metrics will be automatically converted to rates (see <b><a href="../man3/QmcMetric.3.html">QmcMetric</a></b>(3)).

       <b>int</b> <b>setArchiveMode(int</b> <b>mode,</b> <b>const</b> <b>struct</b> <b>timeval</b> <b>*when,</b>
           <b>int</b> <b>interval);</b>

           Set the mode and time to access all archive contexts  in  this  group.   See  <b><a href="../man3/pmSetMode.3.html">pmSetMode</a></b>(3)  for  more
           details.

</pre><h4><b>TIMEZONES</b></h4><pre>
       These methods assist in the management of multiple timezones and help to control the current timezone.

       <b>enum</b> <b>TimeZoneFlag</b> <b>{</b> <b>localTZ,</b> <b>userTZ,</b> <b>groupTZ,</b> <b>unknownTZ</b> <b>};</b>
           Enumeration  used  to  describe  the  origin  of  the  default timezone.  <b>localTZ</b>, <b>userTZ</b> and <b>groupTZ</b>
           indicate that the timezone was set with  <b>QmcGroup::useLocalTZ</b>,  <b>QmcGroup::useTZ(QString</b>  <b>const&amp;)</b>  and
           <b>QmcGroup::useTZ()</b>  respectively.   <b>unknownTZ</b>  indicates  that  a  timezone  has not been set.  <b>userTZ</b>
           indicates that the timezone was

       <b>int</b> <b>useTZ();</b>
           Use the timezone of the current group context as the default.

       <b>int</b> <b>useTZ(const</b> <b>QString</b> <b>&amp;tz);</b>
           Add and use <u>tz</u> as the default timezone of this group.

       <b>int</b> <b>useLocalTZ();</b>
           Use the timezone of the localhost as the default for this group.

       <b>void</b> <b>defaultTZ(QString</b> <b>&amp;label,</b> <b>QString</b> <b>&amp;tz);</b>
           Return the <u>label</u> and <u>tz</u> string of the default timezone of this group.

       <b>TimeZoneFlag</b> <b>defaultTZ()</b> <b>const</b>
           Return the origin of the default timezone.

       <b>int</b> <b>useDefaultTZ();</b>
           Set the timezone to be the default timezone as defined in  a  previous  call  to  <b>QmcGroup::useTZ</b>  or
           <b>QmcGroup::useLocalTZ</b>.

       <b>struct</b> <b>timeval</b> <b>const&amp;</b> <b>logStart()</b> <b>const;</b>
           Return the earliest starting time of any archives in this group.  Assumes that <b>QmcGroup::updateBounds</b>
           has been called.

       <b>struct</b> <b>timeval</b> <b>const&amp;</b> <b>logEnd()</b> <b>const;</b>
           Return the latest finish time of any archives in this group.  Assumes that <b>QmcGroup::updateBounds</b> has
           been called.

       <b>void</b> <b>updateBounds();</b>
           Determine the earliest start and latest finish times of all archives in this group.

</pre><h4><b>DEBUGGING</b></h4><pre>
       <b>void</b> <b>dump(ostream</b> <b>&amp;os);</b>
           Dump state information about this group to <u>os</u>.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Error  messages are generated using <b><a href="../man3/pmprintf.3.html">pmprintf</a></b>(3) but are not flushed. It is the responsibility of the user
       to call <b><a href="../man3/pmflush.3.html">pmflush</a></b>(3) to output any messages.

       Additional diagnostics may be activated by adding the option <b>pmc</b> to the global  debugging  specification,
       as described in <b><a href="../man3/pmSetDebug.3.html">pmSetDebug</a></b>(3).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/PMAPI.3.html">PMAPI</a></b>(3), <b><a href="../man3/QMC.3.html">QMC</a></b>(3), <b><a href="../man3/QmcContext.3.html">QmcContext</a></b>(3), <b><a href="../man3/QmcMetric.3.html">QmcMetric</a></b>(3), <b><a href="../man3/pmflush.3.html">pmflush</a></b>(3), <b><a href="../man3/pmprintf.3.html">pmprintf</a></b>(3) and <b><a href="../man3/pmSetMode.3.html">pmSetMode</a></b>(3).

Performance Co-Pilot                                   SGI                                           <u><a href="../man3/QMCGROUP.3.html">QMCGROUP</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>