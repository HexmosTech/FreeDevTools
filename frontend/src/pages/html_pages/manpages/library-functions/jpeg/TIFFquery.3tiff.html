<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TIFFquery - query routines</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtiff-dev">libtiff-dev_4.7.0-3ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       TIFFquery - query routines

</pre><h4><b>SYNOPSIS</b></h4><pre>
          #include &lt;tiffio.h&gt;

       <b>tdir_t</b> <b>TIFFCurrentDirectory(TIFF</b> <b>*tif)</b>

       <b>uint64_t</b> <b>TIFFCurrentDirOffset(TIFF</b> <b>*tif)</b>

       <b>int</b> <b>TIFFLastDirectory(TIFF</b> <b>*tif)</b>

       <b>tdir_t</b> <b>TIFFNumberOfDirectories(TIFF</b> <b>*tif)</b>

       <b>uint32_t</b> <b>TIFFCurrentRow(TIFF</b> <b>*tif)</b>

       <b>tstrip_t</b> <b>TIFFCurrentStrip(TIFF</b> <b>*tif)</b>

       <b>ttile_t</b> <b>TIFFCurrentTile(TIFF</b> <b>*tif)</b>

       <b>int</b> <b>TIFFFileno(TIFF</b> <b>*tif)</b>

       <b>char</b> <b>*TIFFFileName(TIFF</b> <b>*tif)</b>

       <b>int</b> <b>TIFFGetMode(TIFF</b> <b>*tif)</b>

       <b>int</b> <b>TIFFIsTiled(TIFF</b> <b>*tif)</b>

       <b>int</b> <b>TIFFIsBigEndian(TIFF</b> <b>*tif)</b>

       <b>int</b> <b>TIFFIsBigTIFF(TIFF</b> <b>*tif)</b>

       <b>int</b> <b>TIFFIsByteSwapped(TIFF</b> <b>*tif)</b>

       <b>int</b> <b>TIFFIsMSB2LSB(TIFF</b> <b>*tif)</b>

       <b>int</b> <b>TIFFIsUpSampled(TIFF</b> <b>*tif)</b>

       <b>const</b> <b>char</b> <b>*TIFFGetVersion(void)</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  following  query  routines  return  status information about the directory structure of an open TIFF
       file.

       <u>TIFFCurrentDirectory()</u> returns the index of the current <u>Image</u>  <u>File</u>  <u>Directory</u>  <u>(IFD)</u>.   Directories  are
       numbered  starting  at 0. This number is suitable for use with the <u>TIFFSetDirectory()</u> routine.  There are
       <u>IFDs</u> in the file and an "active" <u>IFD</u>  in memory, from which fields are "set" and "get". The index of  the
       current directory returned is:

       a. 65535  (non-existing directory) if there is no IFD in the file after opening, or the state is unknown,
          or the last read (i.e. TIFFFetchDirectory()) failed, or a custom directory was written.

       b. IFD index of last IFD written in the file.  In this case the active IFD is a new (empty) one  and  the
          current  directory offset from TIFFCurrentDirOffset() is zero.  If writing fails, the IFD index is not
          changed.

       c. IFD  index  of  IFD  read  from  file  into  memory  (=active  IFD),  even  if  IFD  is  corrupt   and
          TIFFReadDirectory()  returns  0.   Then  the  current directory offset is the offset of the IFD in the
          file.

       d. IFD index „0“, whenever a custom directory or an unchained SubIFD was read.

       <u>TIFFCurrentDirOffset()</u> returns the file offset of the current directory (instead of an index).  The  file
       offset  is  suitable  for  use  with  the  <u>TIFFSetSubDirectory()</u>  routine. This is required for accessing
       subdirectories linked through a <b>SubIFD</b> tag. See also <u>SubIFD</u> <u>access</u>.

       <u>TIFFLastDirectory()</u> returns a non-zero value if the current directory is the last directory in the  file;
       otherwise  zero  is  returned.   A  new  (empty)  directory  in the memory (after <u>TIFFWriteDirectory()</u> or
       <u>TIFFCreateDirectory()</u>) also counts as the last directory, even if it has not yet been written to a file.

       <u>TIFFNumberOfDirectories()</u> returns the number of directories  in  a  file.  Be  aware  that  just  created
       directories, which are not "written" to file do not count.

       <b>NOTE:</b>
          Be aware that the return value of the above directory query functions is not valid until the directory
          is "written" to file AND read back e.g. <u>TIFFSetDirectory()</u> or <u>TIFFReadDirectory()</u>.

       The following query routines return information about an open TIFF file and its image data.

       <u>TIFFCurrentRow()</u>,  <u>TIFFCurrentStrip()</u>,  and  <u>TIFFCurrentTile()</u>  return  the current row, strip, and tile,
       respectively, that is being read or written. These values are updated each time a read or write is done.

       <u>TIFFFileno()</u> returns the underlying file descriptor used to access the TIFF image in the filesystem.

       <u>TIFFFileName()</u> returns the pathname argument passed to <u>TIFFOpen()</u> or <u>TIFFFdOpen()</u>.

       <u>TIFFGetMode()</u> returns the mode with which the underlying file was opened. On UNIX systems,  this  is  the
       value passed to the <b>open()</b> (2) system call.

       <u>TIFFIsTiled()</u>  returns  a  non-zero value if the image data has a tiled organization. Zero is returned if
       the image data is organized in strips.

       <u>TIFFIsBigEndian()</u> returns a non-zero value if the file is BigEndian and zero if the file is LittleEndian.

       <u>TIFFIsBigTIFF()</u> returns a non-zero value if the file is in BigTIFF style.

       <u>TIFFIsByteSwapped()</u> returns a non-zero value if the image data was in a  different  byte-order  than  the
       host  machine.  Zero  is  returned  if  the TIFF file and local host byte-orders are the same.  Note that
       <u>TIFFReadTile()</u>, <u>TIFFReadEncodedStrip()</u> and <u>TIFFReadScanline()</u> functions  already  normally  perform  byte
       swapping to local host order if needed.

       <u>TIFFIsMSB2LSB()</u>  returns  a  non-zero  value  if  the image data is being returned with bit 0 as the most
       significant bit.

       <u>TIFFIsUpSampled()</u> returns a non-zero value if image data returned through the read interface routines  is
       being  up-sampled.  This can be useful to applications that want to calculate I/O buffer sizes to reflect
       this usage (though the usual strip and tile size routines already do this).

       <u>TIFFGetVersion()</u> returns an <b>ASCII</b> string that has a version stamp for the TIFF library software.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>libtiff</u> (3tiff), <u>TIFFOpen</u> (3tiff)

</pre><h4><b>AUTHOR</b></h4><pre>
       LibTIFF contributors

</pre><h4><b>COPYRIGHT</b></h4><pre>
       1988-2022, LibTIFF contributors

4.7                                               Apr 30, 2025                                  <u><a href="../man3tiff/TIFFQUERY.3tiff.html">TIFFQUERY</a></u>(3tiff)
</pre>
 </div>
</div></section>
</div>
</body>
</html>