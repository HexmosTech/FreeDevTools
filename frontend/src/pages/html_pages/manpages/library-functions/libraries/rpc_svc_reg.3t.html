<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rpc_svc_reg, rpc_reg, svc_reg, svc_unreg, svc_auth_reg, xprt_register, xprt_unregister — library routines</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtirpc-dev">libtirpc-dev_1.3.6+ds-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rpc_svc_reg, rpc_reg, svc_reg, svc_unreg, svc_auth_reg, xprt_register, xprt_unregister — library routines
       for registering servers

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;rpc/rpc.h&gt;</b>

       <u>int</u>
       <b>rpc_reg</b>(<u>rpcprog_t</u>  <u>prognum</u>,  <u>rpcvers_t</u> <u>versnum</u>, <u>rpcproc_t</u> <u>procnum</u>, <u>char</u> <u>*(*procname)()</u>, <u>xdrproc_t</u> <u>inproc</u>,
           <u>xdrproc_t</u> <u>outproc</u>, <u>char</u> <u>*nettype</u>);

       <u>bool_t</u>
       <b>svc_reg</b>(<u>SVCXPRT</u>     <u>*xprt</u>,     <u>const</u>      <u>rpcprog_t</u>      <u>prognum</u>,      <u>const</u>      <u>rpcvers_t</u>      <u>versnum</u>,
           <u>void</u> <u>(*dispatch)(struct</u> <u>svc_req</u> <u>*,</u> <u>SVCXPRT</u> <u>*)</u>, <u>const</u> <u>struct</u> <u>netconfig</u> <u>*netconf</u>);

       <u>void</u>
       <b>svc_unreg</b>(<u>const</u> <u>rpcprog_t</u> <u>prognum</u>, <u>const</u> <u>rpcvers_t</u> <u>versnum</u>);

       <u>int</u>
       <b>svc_auth_reg</b>(<u>int</u> <u>cred_flavor</u>, <u>enum</u> <u>auth_stat</u> <u>(*handler)(struct</u> <u>svc_req</u> <u>*,</u> <u>struct</u> <u>rpc_msg</u> <u>*)</u>);

       <u>void</u>
       <b>xprt_register</b>(<u>SVCXPRT</u> <u>*xprt</u>);

       <u>void</u>
       <b>xprt_unregister</b>(<u>SVCXPRT</u> <u>*xprt</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These  routines  are  a  part of the RPC library which allows the RPC servers to register themselves with
       rpcbind (see <u><a href="../man8/rpcbind.8.html">rpcbind</a></u>(8)), and associate the given program and version number with the dispatch  function.
       When the RPC server receives a RPC request, the library invokes the dispatch routine with the appropriate
       arguments.

</pre><h4><b>Routines</b></h4><pre>
       See <u><a href="../man3/rpc.3.html">rpc</a></u>(3) for the definition of the <u>SVCXPRT</u> data structure.

       <b>rpc_reg</b>()
              Register  program  <u>prognum</u>,  procedure <u>procname</u>, and version <u>versnum</u> with the RPC service package.
              If a request arrives for program <u>prognum</u>, version <u>versnum</u>,  and  procedure  <u>procnum</u>,  <u>procname</u>  is
              called  with  a  pointer  to  its  argument(s);  <u>procname</u>  should  return  a pointer to its static
              result(s); <u>inproc</u> is the XDR function used to decode  the  arguments  while  <u>outproc</u>  is  the  XDR
              function used to encode the results.  Procedures are registered on all available transports of the
              class <u>nettype</u>.  See <u><a href="../man3/rpc.3.html">rpc</a></u>(3).  This routine returns 0 if the registration succeeded, -1 otherwise.

       <b>svc_reg</b>()
              Associates <u>prognum</u> and <u>versnum</u> with the service dispatch procedure, <u>dispatch</u>.  If <u>netconf</u> is NULL,
              the service is not registered with the <u><a href="../man8/rpcbind.8.html">rpcbind</a></u>(8) service.  If <u>netconf</u> is non-zero, then a mapping
              of  the  triple  [<u>prognum</u>,  <u>versnum</u>, <u>netconf-&gt;nc_netid</u>] to <u>xprt-&gt;xp_ltaddr</u> is established with the
              local rpcbind service.

              The <b>svc_reg</b>() routine returns 1 if it succeeds, and 0 otherwise.

       <b>svc_unreg</b>()
              Remove from the rpcbind service, all mappings of the triple [<u>prognum</u>, <u>versnum</u>, all-transports]  to
              network  address  and all mappings within the RPC service package of the double [<u>prognum</u>, <u>versnum</u>]
              to dispatch routines.

       <b>svc_auth_reg</b>()
              Registers the service authentication routine <u>handler</u> with the dispatch mechanism so that it can be
              invoked to  authenticate  RPC  requests  received  with  authentication  type  <u>cred_flavor</u>.   This
              interface  allows  developers  to  add  new authentication types to their RPC applications without
              needing to modify the libraries.  Service implementors usually do not need this routine.

              Typical service application would call <b>svc_auth_reg</b>() after registering the service and  prior  to
              calling  <b>svc_run</b>().   When  needed  to  process an RPC credential of type <u>cred_flavor</u>, the <u>handler</u>
              procedure will be called with two arguments, <u>struct</u> <u>svc_req</u> <u>*rqst</u> and <u>struct</u> <u>rpc_msg</u> <u>*msg</u>, and  is
              expected  to  return  a  valid <u>enum</u> <u>auth_stat</u> value.  There is no provision to change or delete an
              authentication handler once registered.

              The <b>svc_auth_reg</b>() routine returns 0 if the registration is successful, 1 if  <u>cred_flavor</u>  already
              has an authentication handler registered for it, and -1 otherwise.

       <b>xprt_register</b>()
              After RPC service transport handle <u>xprt</u> is created, it is registered with the RPC service package.
              This  routine modifies the global variable <u>svc_fdset</u> (see <u><a href="../man3/rpc_svc_calls.3.html">rpc_svc_calls</a></u>(3)).  Service implementors
              usually do not need this routine.

       <b>xprt_unregister</b>()
              Before an RPC service transport handle <u>xprt</u> is destroyed,  it  unregisters  itself  with  the  RPC
              service  package.   This  routine  modifies  the global variable <u>svc_fdset</u> (see <u><a href="../man3/rpc_svc_calls.3.html">rpc_svc_calls</a></u>(3)).
              Service implementors usually do not need this routine.

</pre><h4><b>AVAILABILITY</b></h4><pre>
       These functions are part of libtirpc.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/select.2.html">select</a></u>(2), <u><a href="../man3/rpc.3.html">rpc</a></u>(3), <u><a href="../man3/rpcbind.3.html">rpcbind</a></u>(3), <u><a href="../man3/rpc_svc_calls.3.html">rpc_svc_calls</a></u>(3), <u><a href="../man3/rpc_svc_create.3.html">rpc_svc_create</a></u>(3), <u><a href="../man3/rpc_svc_err.3.html">rpc_svc_err</a></u>(3), <u><a href="../man8/rpcbind.8.html">rpcbind</a></u>(8)

Debian                                             May 3, 1993                                    <u><a href="../man3/RPC_SVC_REG.3.html">RPC_SVC_REG</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>