<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rpc_clnt_calls,   clnt_call,   clnt_freeres,   clnt_geterr,   clnt_perrno,   clnt_perror,   clnt_sperrno,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtirpc-dev">libtirpc-dev_1.3.6+ds-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rpc_clnt_calls,   clnt_call,   clnt_freeres,   clnt_geterr,   clnt_perrno,   clnt_perror,   clnt_sperrno,
       clnt_sperror, rpc_broadcast, rpc_broadcast_exp, rpc_call â€” library routines for client side calls

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;rpc/rpc.h&gt;</b>

       <u>enum</u> <u>clnt_stat</u>
       <b>clnt_call</b>(<u>CLIENT</u>  <u>*clnt</u>,  <u>const</u>  <u>rpcproc_t</u>  <u>procnum</u>,  <u>const</u>   <u>xdrproc_t</u>   <u>inproc</u>,   <u>const</u>   <u>caddr_t</u>   <u>in</u>,
           <u>const</u> <u>xdrproc_t</u> <u>outproc</u>, <u>caddr_t</u> <u>out</u>, <u>const</u> <u>struct</u> <u>timeval</u> <u>tout</u>);

       <u>bool_t</u>
       <b>clnt_freeres</b>(<u>CLIENT</u> <u>*clnt</u>, <u>const</u> <u>xdrproc_t</u> <u>outproc</u>, <u>caddr_t</u> <u>out</u>);

       <u>void</u>
       <b>clnt_geterr</b>(<u>const</u> <u>CLIENT</u> <u>*</u> <u>clnt</u>, <u>struct</u> <u>rpc_err</u> <u>*</u> <u>errp</u>);

       <u>void</u>
       <b>clnt_perrno</b>(<u>const</u> <u>enum</u> <u>clnt_stat</u> <u>stat</u>);

       <u>void</u>
       <b>clnt_perror</b>(<u>CLIENT</u> <u>*clnt</u>, <u>const</u> <u>char</u> <u>*s</u>);

       <u>char</u> <u>*</u>
       <b>clnt_sperrno</b>(<u>const</u> <u>enum</u> <u>clnt_stat</u> <u>stat</u>);

       <u>char</u> <u>*</u>
       <b>clnt_sperror</b>(<u>CLIENT</u> <u>*clnt</u>, <u>const</u> <u>char</u> <u>*</u> <u>s</u>);

       <u>enum</u> <u>clnt_stat</u>
       <b>rpc_broadcast</b>(<u>const</u> <u>rpcprog_t</u> <u>prognum</u>,          <u>const</u> <u>rpcvers_t</u> <u>versnum</u>,         <u>const</u> <u>rpcproc_t</u> <u>procnum</u>,
           <u>const</u> <u>xdrproc_t</u> <u>inproc</u>,        <u>const</u> <u>caddr_t</u> <u>in</u>,        <u>const</u> <u>xdrproc_t</u> <u>outproc</u>,         <u>caddr_t</u> <u>out</u>,
           <u>const</u> <u>resultproc_t</u> <u>eachresult</u>, <u>const</u> <u>char</u> <u>*nettype</u>);

       <u>enum</u> <u>clnt_stat</u>
       <b>rpc_broadcast_exp</b>(<u>const</u> <u>rpcprog_t</u> <u>prognum</u>,        <u>const</u> <u>rpcvers_t</u> <u>versnum</u>,       <u>const</u> <u>rpcproc_t</u> <u>procnum</u>,
           <u>const</u> <u>xdrproc_t</u> <u>xargs</u>,       <u>caddr_t</u> <u>argsp</u>,        <u>const</u> <u>xdrproc_t</u> <u>xresults</u>,        <u>caddr_t</u> <u>resultsp</u>,
           <u>const</u> <u>resultproc_t</u> <u>eachresult</u>, <u>const</u> <u>int</u> <u>inittime</u>, <u>const</u> <u>int</u> <u>waittime</u>, <u>const</u> <u>char</u> <u>*</u> <u>nettype</u>);

       <u>enum</u> <u>clnt_stat</u>
       <b>rpc_call</b>(<u>const</u> <u>char</u> <u>*host</u>,   <u>const</u> <u>rpcprog_t</u> <u>prognum</u>,  <u>const</u> <u>rpcvers_t</u> <u>versnum</u>,  <u>const</u> <u>rpcproc_t</u> <u>procnum</u>,
           <u>const</u> <u>xdrproc_t</u> <u>inproc</u>, <u>const</u> <u>char</u> <u>*in</u>, <u>const</u> <u>xdrproc_t</u> <u>outproc</u>, <u>char</u> <u>*out</u>, <u>const</u> <u>char</u> <u>*nettype</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       RPC library routines allow C language programs to make procedure  calls  on  other  machines  across  the
       network.   First,  the  client  calls  a  procedure to send a request to the server.  Upon receipt of the
       request, the server calls a dispatch routine to perform the requested service,  and  then  sends  back  a
       reply.

       The  <b>clnt_call</b>(),  <b>rpc_call</b>(), and <b>rpc_broadcast</b>() routines handle the client side of the procedure call.
       The remaining routines deal with error handling in the case of errors.

       Some of the routines take a <u>CLIENT</u> handle as one of the arguments.  A <u>CLIENT</u> handle can be created by  an
       RPC creation routine such as <b>clnt_create</b>() (see <u><a href="../man3/rpc_clnt_create.3.html">rpc_clnt_create</a></u>(3)).

       These  routines  are  safe  for  use in multithreaded applications.  <u>CLIENT</u> handles can be shared between
       threads, however in this implementation requests by different threads are serialized (that is, the  first
       request will receive its results before the second request is sent).

</pre><h4><b>Routines</b></h4><pre>
       See <u><a href="../man3/rpc.3.html">rpc</a></u>(3) for the definition of the <u>CLIENT</u> data structure.

       <b>clnt_call</b>()
              A  function macro that calls the remote procedure <u>procnum</u> associated with the client handle, <u>clnt</u>,
              which  is  obtained  with  an  RPC  client   creation   routine   such   as   <b>clnt_create</b>()   (see
              <u><a href="../man3/rpc_clnt_create.3.html">rpc_clnt_create</a></u>(3)).   The  <u>inproc</u>  argument  is  the  XDR function used to encode the procedure's
              arguments, and <u>outproc</u> is the XDR function used to decode  the  procedure's  results;  <u>in</u>  is  the
              address  of  the  procedure's argument(s), and <u>out</u> is the address of where to place the result(s).
              The <u>tout</u> argument is the time allowed for results to be returned, which is overridden by  a  time-
              out  set  explicitly through <b>clnt_control</b>(), see <u><a href="../man3/rpc_clnt_create.3.html">rpc_clnt_create</a></u>(3).  If the remote call succeeds,
              the status returned is RPC_SUCCESS, otherwise an appropriate status is returned.

       <b>clnt_freeres</b>()
              A function macro that frees any data allocated by the RPC/XDR system when it decoded  the  results
              of  an  RPC  call.  The <u>out</u> argument is the address of the results, and <u>outproc</u> is the XDR routine
              describing the results.  This routine returns 1 if the results  were  successfully  freed,  and  0
              otherwise.

       <b>clnt_geterr</b>()
              A  function  macro  that  copies  the error structure out of the client handle to the structure at
              address <u>errp</u>.

       <b>clnt_perrno</b>()
              Print a message to standard error corresponding to the condition indicated by <u>stat</u>.  A newline  is
              appended.   Normally  used after a procedure call fails for a routine for which a client handle is
              not needed, for instance <b>rpc_call</b>().

       <b>clnt_perror</b>()
              Print a message to the standard error indicating why an RPC call failed; <u>clnt</u> is the  handle  used
              to  do  the  call.   The  message  is prepended with string <u>s</u> and a colon.  A newline is appended.
              Normally used after a remote procedure call fails for a routine which requires  a  client  handle,
              for instance <b>clnt_call</b>().

       <b>clnt_sperrno</b>()
              Take  the  same arguments as <b>clnt_perrno</b>(), but instead of sending a message to the standard error
              indicating why an RPC call failed, return a pointer to a string which contains the  message.   The
              <b>clnt_sperrno</b>() function is normally used instead of <b>clnt_perrno</b>() when the program does not have a
              standard error (as a program running as a server quite likely does not), or if the programmer does
              not  want the message to be output with <b>printf</b>() (see <u><a href="../man3/printf.3.html">printf</a></u>(3)), or if a message format different
              than  that  supported  by  <b>clnt_perrno</b>()  is  to  be  used.   Note:  unlike   <b>clnt_sperror</b>()   and
              <b>clnt_spcreateerror</b>()  (see  <u><a href="../man3/rpc_clnt_create.3.html">rpc_clnt_create</a></u>(3)),  <b>clnt_sperrno</b>() does not return pointer to static
              data so the result will not get overwritten on each call.

       <b>clnt_sperror</b>()
              Like <b>clnt_perror</b>(), except that (like <b>clnt_sperrno</b>()) it returns a string instead of  printing  to
              standard  error.   However,  <b>clnt_sperror</b>()  does  not append a newline at the end of the message.
              Warning: returns pointer to a buffer that is overwritten on each call.

       <b>rpc_broadcast</b>()
              Like <b>rpc_call</b>(), except the call  message  is  broadcast  to  all  the  connectionless  transports
              specified  by  <u>nettype</u>.   If  <u>nettype</u>  is NULL, it defaults to "netpath".  Each time it receives a
              response, this routine calls <b>eachresult</b>(), whose form is:  <u>bool_t</u>  <b>eachresult</b>(<u>caddr_t</u>  <u>out</u>,  <u>const</u>
              <u>struct</u>  <u>netbuf</u>  <u>*</u>  <u>addr</u>,  <u>const</u> <u>struct</u> <u>netconfig</u> <u>*</u> <u>netconf</u>) where <u>out</u> is the same as <u>out</u> passed to
              <b>rpc_broadcast</b>(), except that the remote procedure's output is decoded there; <u>addr</u>  points  to  the
              address  of  the  machine  that  sent  the  results, and <u>netconf</u> is the netconfig structure of the
              transport on which the remote server responded.  If <b>eachresult</b>() returns 0, <b>rpc_broadcast</b>()  waits
              for  more  replies;  otherwise  it  returns  with  appropriate  status.   Warning:  broadcast file
              descriptors are limited in size to the maximum transfer size of  that  transport.   For  Ethernet,
              this  value is 1500 bytes.  The <b>rpc_broadcast</b>() function uses AUTH_SYS credentials by default (see
              <u><a href="../man3/rpc_clnt_auth.3.html">rpc_clnt_auth</a></u>(3)).

       <b>rpc_broadcast_exp</b>()
              Like <b>rpc_broadcast</b>(), except that the initial timeout, <u>inittime</u> and the maximum timeout,  <u>waittime</u>
              are specified in milliseconds.  The <u>inittime</u> argument is the initial time that <b>rpc_broadcast_exp</b>()
              waits  before  resending  the  request.   After  the  first  resend,  the re-transmission interval
              increases exponentially until it exceeds <u>waittime</u>.

       <b>rpc_call</b>()
              Call the remote procedure associated with <u>prognum</u>, <u>versnum</u>, and <u>procnum</u> on the machine, <u>host</u>.  The
              <u>inproc</u> argument is used to encode the procedure's arguments, and <u>outproc</u> is  used  to  decode  the
              procedure's  results;  <u>in</u> is the address of the procedure's argument(s), and <u>out</u> is the address of
              where to place the result(s).  The <u>nettype</u> argument can be any of the  values  listed  on  <u><a href="../man3/rpc.3.html">rpc</a></u>(3).
              This  routine  returns  RPC_SUCCESS if it succeeds, or an appropriate status is returned.  Use the
              <b>clnt_perrno</b>() routine to translate failure status into error messages.  Warning:  <b>rpc_call</b>()  uses
              the first available transport belonging to the class <u>nettype</u>, on which it can create a connection.
              You do not have control of timeouts or authentication using this routine.

</pre><h4><b>AVAILABILITY</b></h4><pre>
       These functions are part of libtirpc.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/printf.3.html">printf</a></u>(3), <u><a href="../man3/rpc.3.html">rpc</a></u>(3), <u><a href="../man3/rpc_clnt_auth.3.html">rpc_clnt_auth</a></u>(3), <u><a href="../man3/rpc_clnt_create.3.html">rpc_clnt_create</a></u>(3)

Debian                                             May 7, 1993                                 <u><a href="../man3/RPC_CLNT_CALLS.3.html">RPC_CLNT_CALLS</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>