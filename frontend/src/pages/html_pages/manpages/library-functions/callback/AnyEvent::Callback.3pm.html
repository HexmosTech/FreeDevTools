<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnyEvent::Callback - callback aggregator for AnyEvent watchers.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libanyevent-callback-perl">libanyevent-callback-perl_0.06-1.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       AnyEvent::Callback - callback aggregator for AnyEvent watchers.

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use AnyEvent::Callback;

           # usually watchers are looked as:
           AE::something @args, sub { ... };
           AE::something
               @args,
               sub { ... },    # result
               sub { ... };    # error

           use AnyEvent::Callback;

           AE::something @args, CB { ... };
           AE::something @args,
               CB sub { ... },     # result
                   sub { ... };    # error

           AE::something @args,
               CB sub { ... },     # result
                   sub { ... },    # error
                   sub { ... };    # anyway callback

       Callback hierarchy

           my $cbchild = $cb-&gt;CB(sub { ... });

           ...

           $cbchild-&gt;error('error'); # will call $cb-&gt;error('error');

       Inside Your callback You can:

           sub my_watcher {
               my $cb = pop;
               my @args = @_;

               # ...

               $cb-&gt;error( @error );   # error callback will be called
               # or:
               $cb-&gt;( $value );        # result callback will be called
           }

       Callbacks stack

           my $cbs = CBS;

           for (1 .. $n) {
               AE::something @args, $cbs-&gt;cb;
           }

           $cbs-&gt;wait(sub {
               for (@_) {
                   if ($_-&gt;is_error) {     # handle one error
                       my @err = $_-&gt;errors; # or:
                       my $errstr = $_-&gt;errstr;
                   } else {                # results
                       my @res = $_-&gt;results;
                   }
               }

           });

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The module allows You to create callback's hierarchy. Also the module groups error and result callbacks
       into one object.

       Also the module checks if one callback was called by watcher or not.  If a watcher doesn't call result or
       error callback, error callback will be called automatically.

       Also the module checks if a callback was called reentrant. In the case the module will complain (using
       "carp" in Carp).

       If a watcher touches error callback and if superior didn't define error callback, the module will call
       error callback upwards hierarchy. Example:

           AE::something @args, CB \&amp;my_watcher, \&amp;on_error;

           sub on_error {

           }

           sub my_watcher {
               my $cb = pop;

               ...

               the_other_watcher $cb-&gt;CB( sub { # error callback wasn't defined
                   my $cb = pop;
                   ...
                   yet_another_watcher1 $cb-&gt;CB( sub {
                       my $cb = pop;
                       ...
                       $cb-&gt;( 123 );   # upwards callback

                   });
                   yet_another_watcher2 $cb-&gt;CB( sub {
                       my $cb = pop;
                       ...

                       $cb-&gt;error( 456 );  # on_error will be called

                   });
               });
           }

</pre><h4><b>METHODS</b></h4><pre>
   <b>'CODE'</b> <b>(overloaded</b> <b>fake</b> <b>method)</b>
           $cb-&gt;( ... );

       You can use the object as usually <b>CODEREF</b>.

   <b>CB</b>
       Creates new callback object that have binding on parent callback.

           my $new_cb = $cb-&gt;CB(sub { ... });   # the cb doesn't catch errors

           my $new_cb = CB(sub { ... }, sub { ... }); # the cb catches errors

           my $new_cb = $cb-&gt;CB(sub { ... }, sub { ... }); # the same

   <b>error</b>
       Calls error callback. If the object has no registered error callbacks, parent object's error callback
       will be called.

           $cb-&gt;error('WTF?');

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENCE</b></h4><pre>
        Copyright (C) 2012 by Dmitry E. Oboukhov

       This library is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.32.0                                       2021-01-09                            <u>AnyEvent::<a href="../man3pm/Callback.3pm.html">Callback</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>