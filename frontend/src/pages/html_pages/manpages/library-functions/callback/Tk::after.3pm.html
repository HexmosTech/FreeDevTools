<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tk::after - Execute a command after a time delay</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/perl-tk">perl-tk_804.036+dfsg1-5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tk::after - Execute a command after a time delay

</pre><h4><b>SYNOPSIS</b></h4><pre>
         <u>$widget</u>-&gt;<b>after</b>(<u>ms</u>)

         <u>$id</u> = <u>$widget</u>-&gt;<b>after</b>(<u>ms</u>?,<u>callback</u>?)

         <u>$id</u> = <u>$widget</u>-&gt;<b>repeat</b>(<u>ms</u>?,<u>callback</u>?)

         <u>$widget</u>-&gt;<b>afterCancel</b>(<u>$id</u>)

         <u>$id</u> = <u>$widget</u>-&gt;<b>afterIdle</b>(<u>callback</u>)

         <u>$widget</u>-&gt;<b>afterInfo</b>?(<u>$id</u>)?

         <u>$id</u>-&gt;<b>time</b>(?<u>delay</u>?)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This method is used to delay execution of the program or to execute a callback in background sometime in
       the future.

       In perl/Tk <u>$widget</u>-&gt;<b>after</b> is implemented via the class "Tk::After", and callbacks are associated with
       <u>$widget</u>, and are automatically cancelled when the widget is destroyed. An almost identical interface, but
       without automatic cancel, and without repeat is provided via Tk::after method.

   <b>Internal</b> <b>Details</b>
       The internal Tk::After class has the following synopsis:

         $id = Tk::After-&gt;new($widget, tid, $time, 'once',   callback);
         $id = Tk::After-&gt;new($widget, tid, $time, 'repeat', callback);
         $id-&gt;cancel;
         $id-&gt;time(?delay?);

       $id is a Tk::After object, an array of 5 elements:

       <u>$widget</u> is the parent widget reference.

       <u>tid</u> is the internal timer id, a unique string.

       <u>$time</u> is the string 'idle', representing an idle queue timer, or a integer millisecond value.

       <u>once</u> or <u>repeat</u> specifies whether the timer is a one-time <b>after</b> event, or a repeating <b>repeat</b> event.

       <u>callback</u> specifies a Perl/Tk Tk::Callback object.

</pre><h4><b>Changing</b> <b>a</b> <b>repeat</b> <b>timer</b> <b>interval</b></h4><pre>
       It's possible to change a <b>repeat</b> timer's delay value, or even cancel any timer, using the <b>time</b> method. If
       <u>delay</u> is specified and non-zero, a new timer delay is established.  If <u>delay</u> is zero the timer event is
       canceled just as if <u>$id</u>-&gt;<b>cancel</b> were invoked.  In all cases the current millisecond timer delay is
       returned.

       Note: the new timer delay will take effect on the <u>subsequent</u> timer event - this command will not cancel
       the pending timer event and re-issue it with the new delay time.

</pre><h4><b>The</b> <b>after()</b> <b>method</b> <b>has</b> <b>several</b> <b>forms</b> <b>as</b> <b>follows:</b></h4><pre>
       <u>$widget</u>-&gt;<b>after</b>(<u>ms</u>)
           The  value  <u>ms</u>  must  be  an  integer  giving  a  time  in  milliseconds.   The command sleeps for <u>ms</u>
           milliseconds and then returns.  While the command is sleeping the application  does  not  respond  to
           events.

       <u>$widget</u>-&gt;<b>after</b>(<u>ms</u>,<u>callback</u>)
           In  this  form  the  command  returns  immediately,  but  it  arranges  for  <u>callback</u>  be executed <u>ms</u>
           milliseconds later as an event handler.  The callback will be executed exactly  once,  at  the  given
           time.   The  command  will be executed in context of <u>$widget</u>.  If an error occurs while executing the
           delayed command then the Tk::Error mechanism is used to report the error.  The <b>after</b> command  returns
           an  identifier  (an  object in the perl/Tk case) that can be used to cancel the delayed command using
           <b>afterCancel</b>.

       <u>$widget</u>-&gt;<b>repeat</b>(<u>ms</u>,<u>callback</u>)
           In this form  the  command  returns  immediately,  but  it  arranges  for  <u>callback</u>  be  executed  <u>ms</u>
           milliseconds  later  as  an  event  handler.  After  <u>callback</u>  has executed it is re-scheduled, to be
           executed in a futher <u>ms</u>, and so on until it is cancelled.

       <u>$widget</u>-&gt;<b>afterCancel</b>(<u>$id</u>)
       <u>$id</u>-&gt;<b>cancel</b>
           Cancels the execution of a delayed command  that  was  previously  scheduled.   <u>$id</u>  indicates  which
           command  should  be  canceled;  it must have been the return value from a previous <b>after</b> command.  If
           the command given by <u>$id</u> has already been executed (and is not scheduled to be executed  again)  then
           <b>afterCancel</b> has no effect.

       <u>$widget</u>-&gt;<b>afterCancel</b>(<u>callback</u>)
           <u>This</u>  <u>form</u>  <u>is</u>  <u>not</u>  <u>robust</u>  <u>in</u> <u>perl/Tk</u> <u>-</u> <u>its</u> <u>use</u> <u>is</u> <u>deprecated.</u>  This command should also cancel the
           execution of a delayed command.  The <u>callback</u> argument is compared with pending callbacks, if a match
           is found, that callback is cancelled and will never be executed;  if no such  callback  is  currently
           pending then the <b>afterCancel</b> has no effect.

       <u>$widget</u>-&gt;<b>afterIdle</b>(<u>callback</u>)
           Arranges  for  <u>callback</u>  to  be  evaluated later as an idle callback.  The script will be run exactly
           once, the next time the event loop is entered and there  are  no  events  to  process.   The  command
           returns  an identifier that can be used to cancel the delayed command using <b>afterCancel</b>.  If an error
           occurs while executing the script then the Tk::Error mechanism is used to report the error.

       <u>$widget</u>-&gt;<b>afterInfo</b>?(<u>$id</u>)?
           This command returns information about existing event handlers.  If no <u>$id</u> argument is supplied,  the
           command  returns  a  list of the identifiers for all existing event handlers created by the <b>after</b> and
           <b>repeat</b> commands for <u>$widget</u>. If <u>$id</u> is supplied, it specifies an existing handler; <u>$id</u> must have been
           the return value from some previous call to <b>after</b> or <b>repeat</b> and it must not  have  triggered  yet  or
           been  cancelled.  In  this case the command returns a list with three elements.  The first element of
           the list is the callback associated with <u>$id</u>, the second element is either <b>idle</b> or the <u>integer</u>  timer
           millisecond  value  to  indicate  what kind of event handler it is, and the third is a string <u>once</u> or
           <u>repeat</u> to differentiate an <b>after</b> from a <b>repeat</b> event.

       The <b>after</b>(<u>ms</u>) and <b>afterIdle</b> forms of the command assume  that  the  application  is  event  driven:   the
       delayed commands will not be executed unless the application enters the event loop.  In applications that
       are not normally event-driven, the event loop can be entered with the <b>vwait</b> and <b>update</b> commands.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Tk::Error Tk::callbacks

</pre><h4><b>KEYWORDS</b></h4><pre>
       cancel, delay, idle callback, sleep, time

perl v5.40.1                                       2025-04-13                                         <u><a href="../man3pm/after.3pm.html">after</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>