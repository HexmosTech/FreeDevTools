<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ssh_agent - Callback module for using an SSH agent instead of the default ssh_file callback.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/erlang-manpages">erlang-manpages_24.2.1+dfsg-1ubuntu0.5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ssh_agent - Callback module for using an SSH agent instead of the default ssh_file callback.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module defines a callback handler for the communication with an SSH Agent and can be used to replace
       the  default  callback. This allows to issue signing requests to an agent that stores SSH private keys to
       perform authentication.

       Ssh_agent implements the ssh_client_key_api, to allow it to be used by setting  the  option  <u>key_cb</u>  when
       starting a client (with for example ssh:connect, ssh:shell ).

             {key_cb, {ssh_agent, []}}

       The  agent communication is established through a UNIX domain socket. By default, the socket path will be
       fetched from the <u>SSH_AUTH_SOCK</u> enviroment variable, which  is  the  default  socket  path  in  the  agent
       implementation of OpenSSH.

       In order to set a different socket path the <u>socket_path</u> option can be set.

             {key_cb, {ssh_agent, [{socket_path, SocketPath}]}}

   <b>Note:</b>
       The functions are <u>Callbacks</u>  for the SSH app. They are not intended to be called from the user's code!

</pre><h4><b>DATA</b> <b>TYPES</b></h4><pre>
   <b>Options</b> <b>for</b> <b>the</b> <b>ssh_agent</b> <b>callback</b> <b>module</b>
       <b>socket_path_option()</b> = {socket_path, string()}

              Sets the socket path for the communication with the agent.

       <b>timeout_option()</b> = {timeout, integer()}

              Sets  the  time-out  in milliseconds when communicating with the agent via the socket. The default
              value is <u>1000</u>.

       <b>call_ssh_file_option()</b> = {call_ssh_file, atom()}

              The module which the <u>add_host_key</u> and <u>is_host_key</u> callbacks are  delegated  to.  Defaults  to  the
              ssh_file module.

</pre><h4><b>EXPORTS</b></h4><pre>
       <b>add_host_key(Host</b> <b>::</b> <b>string(),</b>
                    PublicKey :: public_key:public_key(),
                    Options) -&gt;
                       ok | {error, Error :: term()}

       <b>add_host_key(Host,</b>
                    Port :: inet:port_number(),
                    PublicKey :: public_key:public_key(),
                    Options) -&gt;
                       Result

              Types:

                 Host =
                     inet:ip_address() |
                     inet:hostname() |
                     [inet:ip_address() | inet:hostname()]
                 Options =
                     ssh_client_key_api:client_key_cb_options(call_ssh_file_option())
                 Result = ok | {error, Error :: term()}

              This callback is delegated to the ssh_file module.

       <b>is_host_key(Key</b> <b>::</b> <b>public_key:public_key(),</b>
                   Host :: string(),
                   Algorithm :: ssh:pubkey_alg(),
                   Options) -&gt;
                      boolean()

       <b>is_host_key(Key</b> <b>::</b> <b>public_key:public_key(),</b>
                   Host,
                   Port :: inet:port_number(),
                   Algorithm :: ssh:pubkey_alg(),
                   Options) -&gt;
                      boolean()

              Types:

                 Host =
                     inet:ip_address() |
                     inet:hostname() |
                     [inet:ip_address() | inet:hostname()]
                 Options =
                     ssh_client_key_api:client_key_cb_options(call_ssh_file_option())

              This callback is delegated to the ssh_file module.

       <b>user_key(Algorithm</b> <b>::</b> <b>ssh:pubkey_alg(),</b> <b>Options)</b> <b>-&gt;</b> <b>Result</b>

              Types:

                 Result =
                     {ok, public_key:private_key()} |
                     {ok, {ssh2_pubkey, PubKeyBlob :: binary()}} |
                     {error, string()}
                 Options =
                     ssh_client_key_api:client_key_cb_options(socket_path_option() |
                                                              timeout_option())

              <b>Types</b> <b>and</b> <b>description</b>

              See the api description in ssh_client_key_api, Module:user_key/2.

Ericsson AB                                         ssh 4.13                                     <u><a href="../man3erl/ssh_agent.3erl.html">ssh_agent</a></u>(3erl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>