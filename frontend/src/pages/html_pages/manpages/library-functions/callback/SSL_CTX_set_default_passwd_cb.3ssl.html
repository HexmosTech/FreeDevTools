<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSL_CTX_set_default_passwd_cb, SSL_CTX_set_default_passwd_cb_userdata, SSL_CTX_get_default_passwd_cb,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SSL_CTX_set_default_passwd_cb, SSL_CTX_set_default_passwd_cb_userdata, SSL_CTX_get_default_passwd_cb,
       SSL_CTX_get_default_passwd_cb_userdata, SSL_set_default_passwd_cb, SSL_set_default_passwd_cb_userdata,
       SSL_get_default_passwd_cb, SSL_get_default_passwd_cb_userdata - set or get passwd callback for encrypted
       PEM file handling

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/ssl.h&gt;

        void SSL_CTX_set_default_passwd_cb(SSL_CTX *ctx, pem_password_cb *cb);
        void SSL_CTX_set_default_passwd_cb_userdata(SSL_CTX *ctx, void *u);
        pem_password_cb *SSL_CTX_get_default_passwd_cb(SSL_CTX *ctx);
        void *SSL_CTX_get_default_passwd_cb_userdata(SSL_CTX *ctx);

        void SSL_set_default_passwd_cb(SSL *s, pem_password_cb *cb);
        void SSL_set_default_passwd_cb_userdata(SSL *s, void *u);
        pem_password_cb *SSL_get_default_passwd_cb(SSL *s);
        void *SSL_get_default_passwd_cb_userdata(SSL *s);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>SSL_CTX_set_default_passwd_cb()</b> sets the default password callback called when loading/storing a PEM
       certificate with encryption.

       <b>SSL_CTX_set_default_passwd_cb_userdata()</b> sets a pointer to userdata, <b>u</b>, which will be provided to the
       password callback on invocation.

       <b>SSL_CTX_get_default_passwd_cb()</b> returns a function pointer to the password callback currently set in <b>ctx</b>.
       If no callback was explicitly set, the NULL pointer is returned.

       <b>SSL_CTX_get_default_passwd_cb_userdata()</b> returns a pointer to the userdata currently set in <b>ctx</b>. If no
       userdata was explicitly set, the NULL pointer is returned.

       <b>SSL_set_default_passwd_cb()</b>, <b>SSL_set_default_passwd_cb_userdata()</b>, <b>SSL_get_default_passwd_cb()</b> and
       <b>SSL_get_default_passwd_cb_userdata()</b> perform the same function as their SSL_CTX counterparts, but using
       an SSL object.

       The password callback, which must be provided by the application, hands back the password to be used
       during decryption.  On invocation a pointer to userdata is provided. The function must store the password
       into the provided buffer <b>buf</b> which is of size <b>size</b>. The actual length of the password must be returned to
       the calling function. <b>rwflag</b> indicates whether the callback is used for reading/decryption (rwflag=0) or
       writing/encryption (rwflag=1).  For more details, see <b><a href="../man3/pem_password_cb.3.html">pem_password_cb</a></b>(3).

</pre><h4><b>NOTES</b></h4><pre>
       When loading or storing private keys, a password might be supplied to protect the private key. The way
       this password can be supplied may depend on the application. If only one private key is handled, it can
       be practical to have the callback handle the password dialog interactively. If several keys have to be
       handled, it can be practical to ask for the password once, then keep it in memory and use it several
       times. In the last case, the password could be stored into the userdata storage and the callback only
       returns the password already stored.

       When asking for the password interactively, the callback can use <b>rwflag</b> to check, whether an item shall
       be encrypted (rwflag=1).  In this case the password dialog may ask for the same password twice for
       comparison in order to catch typos, that would make decryption impossible.

       Other items in PEM formatting (certificates) can also be encrypted, it is however not usual, as
       certificate information is considered public.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       These functions do not provide diagnostic information.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following example returns the password provided as userdata to the calling function. The password is
       considered to be a '\0' terminated string. If the password does not fit into the buffer, the password is
       truncated.

        int my_cb(char *buf, int size, int rwflag, void *u)
        {
            strncpy(buf, (char *)u, size);
            buf[size - 1] = '\0';
            return strlen(buf);
        }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/ssl.7.html">ssl</a></b>(7), <b><a href="../man3/SSL_CTX_use_certificate.3.html">SSL_CTX_use_certificate</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       <b>SSL_CTX_get_default_passwd_cb()</b>, <b>SSL_CTX_get_default_passwd_cb_userdata()</b>, <b>SSL_set_default_passwd_cb()</b>
       and <b>SSL_set_default_passwd_cb_userdata()</b> were added in OpenSSL 1.1.0.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2000-2019 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                <u><a href="../man3SSL/SSL_CTX_SET_DEFAULT_PASSWD_CB.3SSL.html">SSL_CTX_SET_DEFAULT_PASSWD_CB</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>