<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIO_set_callback_ex, BIO_get_callback_ex, BIO_set_callback, BIO_get_callback, BIO_set_callback_arg,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       BIO_set_callback_ex, BIO_get_callback_ex, BIO_set_callback, BIO_get_callback, BIO_set_callback_arg,
       BIO_get_callback_arg, BIO_debug_callback, BIO_debug_callback_ex, BIO_callback_fn_ex, BIO_callback_fn -
       BIO callback functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/bio.h&gt;

        typedef long (*BIO_callback_fn_ex)(BIO *b, int oper, const char *argp,
                                           size_t len, int argi,
                                           long argl, int ret, size_t *processed);

        void BIO_set_callback_ex(BIO *b, BIO_callback_fn_ex callback);
        BIO_callback_fn_ex BIO_get_callback_ex(const BIO *b);

        void BIO_set_callback_arg(BIO *b, char *arg);
        char *BIO_get_callback_arg(const BIO *b);

        long BIO_debug_callback_ex(BIO *bio, int oper, const char *argp, size_t len,
                                   int argi, long argl, int ret, size_t *processed);

       The following functions have been deprecated since OpenSSL 3.0, and can be hidden entirely by defining
       <b>OPENSSL_API_COMPAT</b> with a suitable version value, see <b><a href="../man7/openssl_user_macros.7.html">openssl_user_macros</a></b>(7):

        typedef long (*BIO_callback_fn)(BIO *b, int oper, const char *argp, int argi,
                                        long argl, long ret);
        void BIO_set_callback(BIO *b, BIO_callback_fn cb);
        BIO_callback_fn BIO_get_callback(const BIO *b);
        long BIO_debug_callback(BIO *bio, int cmd, const char *argp, int argi,
                                long argl, long ret);

        typedef struct bio_mmsg_cb_args_st {
            BIO_MSG    *msg;
            size_t      stride, num_msg;
            uint64_t    flags;
            size_t     *msgs_processed;
        } BIO_MMSG_CB_ARGS;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>BIO_set_callback_ex()</b> and <b>BIO_get_callback_ex()</b> set and retrieve the BIO callback. The callback is called
       during most high-level BIO operations. It can be used for debugging purposes to trace operations on a BIO
       or to modify its operation.

       <b>BIO_set_callback()</b> and <b>BIO_get_callback()</b> set and retrieve the old format BIO callback. New code should
       not use these functions, but they are retained for backwards compatibility. Any callback set via
       <b>BIO_set_callback_ex()</b> will get called in preference to any set by <b>BIO_set_callback()</b>.

       <b>BIO_set_callback_arg()</b> and <b>BIO_get_callback_arg()</b> are macros which can be used to set and retrieve an
       argument for use in the callback.

       <b>BIO_debug_callback_ex()</b> is a standard debugging callback which prints out information relating to each
       BIO operation. If the callback argument is set it is interpreted as a BIO to send the information to,
       otherwise stderr is used. The <b>BIO_debug_callback()</b> function is the deprecated version of the same
       callback for use with the old callback format <b>BIO_set_callback()</b> function.

       BIO_callback_fn_ex is the type of the callback function and BIO_callback_fn is the type of the old format
       callback function. The meaning of each argument is described below:

       <b>b</b>   The BIO the callback is attached to is passed in <b>b</b>.

       <b>oper</b>
           <b>oper</b>  is set to the operation being performed. For some operations the callback is called twice, once
           before and once after the actual operation, the latter case has <b>oper</b> or'ed with BIO_CB_RETURN.

       <b>len</b> The length of the data requested to be read or written. This is only useful if <b>oper</b>  is  BIO_CB_READ,
           BIO_CB_WRITE or BIO_CB_GETS.

       <b>argp</b> <b>argi</b> <b>argl</b>
           The  meaning of the arguments <b>argp</b>, <b>argi</b> and <b>argl</b> depends on the value of <b>oper</b>, that is the operation
           being performed.

       <b>processed</b>
           <b>processed</b> is a pointer to a location which will be updated with the amount of data that was  actually
           read or written. Only used for BIO_CB_READ, BIO_CB_WRITE, BIO_CB_GETS and BIO_CB_PUTS.

       <b>ret</b> <b>ret</b>  is  the  return value that would be returned to the application if no callback were present. The
           actual value returned is the return value of the callback itself. In the  case  of  callbacks  called
           before  the  actual  BIO operation 1 is placed in <b>ret</b>, if the return value is not positive it will be
           immediately returned to the application and the BIO operation will not be performed.

       The callback should normally simply return <b>ret</b> when it has finished processing,  unless  it  specifically
       wishes to modify the value returned to the application.

</pre><h4><b>CALLBACK</b> <b>OPERATIONS</b></h4><pre>
       In the notes below, <b>callback</b> defers to the actual callback function that is called.

       <b>BIO_free(b)</b>
            callback_ex(b, BIO_CB_FREE, NULL, 0, 0, 0L, 1L, NULL)

           or

            callback(b, BIO_CB_FREE, NULL, 0L, 0L, 1L)

           is called before the free operation.

       <b>BIO_read_ex(b,</b> <b>data,</b> <b>dlen,</b> <b>readbytes)</b>
            callback_ex(b, BIO_CB_READ, data, dlen, 0, 0L, 1L, NULL)

           or

            callback(b, BIO_CB_READ, data, dlen, 0L, 1L)

           is called before the read and

            callback_ex(b, BIO_CB_READ | BIO_CB_RETURN, data, dlen, 0, 0L, retvalue,
                        &amp;readbytes)

           or

            callback(b, BIO_CB_READ|BIO_CB_RETURN, data, dlen, 0L, retvalue)

           after.

       <b>BIO_write(b,</b> <b>data,</b> <b>dlen,</b> <b>written)</b>
            callback_ex(b, BIO_CB_WRITE, data, dlen, 0, 0L, 1L, NULL)

           or

            callback(b, BIO_CB_WRITE, datat, dlen, 0L, 1L)

           is called before the write and

            callback_ex(b, BIO_CB_WRITE | BIO_CB_RETURN, data, dlen, 0, 0L, retvalue,
                        &amp;written)

           or

            callback(b, BIO_CB_WRITE|BIO_CB_RETURN, data, dlen, 0L, retvalue)

           after.

       <b>BIO_gets(b,</b> <b>buf,</b> <b>size)</b>
            callback_ex(b, BIO_CB_GETS, buf, size, 0, 0L, 1, NULL, NULL)

           or

            callback(b, BIO_CB_GETS, buf, size, 0L, 1L)

           is called before the operation and

            callback_ex(b, BIO_CB_GETS | BIO_CB_RETURN, buf, size, 0, 0L, retvalue,
                        &amp;readbytes)

           or

            callback(b, BIO_CB_GETS|BIO_CB_RETURN, buf, size, 0L, retvalue)

           after.

       <b>BIO_puts(b,</b> <b>buf)</b>
            callback_ex(b, BIO_CB_PUTS, buf, 0, 0, 0L, 1L, NULL);

           or

            callback(b, BIO_CB_PUTS, buf, 0, 0L, 1L)

           is called before the operation and

            callback_ex(b, BIO_CB_PUTS | BIO_CB_RETURN, buf, 0, 0, 0L, retvalue, &amp;written)

           or

            callback(b, BIO_CB_PUTS|BIO_CB_RETURN, buf, 0, 0L, retvalue)

           after.

       <b>BIO_ctrl(BIO</b> <b>*b,</b> <b>int</b> <b>cmd,</b> <b>long</b> <b>larg,</b> <b>void</b> <b>*parg)</b>
            callback_ex(b, BIO_CB_CTRL, parg, 0, cmd, larg, 1L, NULL)

           or

            callback(b, BIO_CB_CTRL, parg, cmd, larg, 1L)

           is called before the call and

            callback_ex(b, BIO_CB_CTRL | BIO_CB_RETURN, parg, 0, cmd, larg, ret, NULL)

           or

            callback(b, BIO_CB_CTRL|BIO_CB_RETURN, parg, cmd, larg, ret)

           after.

           Note:  <b>cmd</b>  == <b>BIO_CTRL_SET_CALLBACK</b> is special, because <b>parg</b> is not the argument of type <b>BIO_info_cb</b>
           itself.  In this case <b>parg</b> is a pointer to the actual call parameter, see <b>BIO_callback_ctrl</b>.

       <b>BIO_sendmmsg(BIO</b> <b>*b,</b> <b>BIO_MSG</b> <b>*msg,</b> <b>size_t</b> <b>stride,</b> <b>size_t</b> <b>num_msg,</b> <b>uint64_t</b> <b>flags,</b> <b>size_t</b> <b>*msgs_processed)</b>
             callback_ex(b, BIO_CB_SENDMMSG, args, 0, 0, 0, 1, NULL)

           or

             callback(b, BIO_CB_SENDMMSG, args, 0, 0, 1)

           is called before the call and

             callback_ex(b, BIO_CB_SENDMMSG | BIO_CB_RETURN, args, ret, 0, 0, ret, NULL)

           or

             callback(b, BIO_CB_SENDMMSG | BIO_CB_RETURN, args, ret, 0, 0, ret)

           after.

           <b>args</b> is a pointer to a <b>BIO_MMSG_CB_ARGS</b> structure containing the arguments passed to  <b>BIO_sendmmsg()</b>.
           <b>ret</b> is the return value of the <b>BIO_sendmmsg()</b> call.  The return value of <b>BIO_sendmmsg()</b> is altered to
           the value returned by the <b>BIO_CB_SENDMMSG</b> <b>|</b> <b>BIO_CB_RETURN</b> call.

       <b>BIO_recvmmsg(BIO</b> <b>*b,</b> <b>BIO_MSG</b> <b>*msg,</b> <b>size_t</b> <b>stride,</b> <b>size_t</b> <b>num_msg,</b> <b>uint64_t</b> <b>flags,</b> <b>size_t</b> <b>*msgs_processed)</b>
           See   the   documentation   for   <b>BIO_sendmmsg()</b>.   <b>BIO_recvmmsg()</b>   works  identically  except  that
           <b>BIO_CB_RECVMMSG</b> is used instead of <b>BIO_CB_SENDMMSG</b>.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>BIO_get_callback_ex()</b> and <b>BIO_get_callback()</b> return the callback function previously set  by  a  call  to
       <b>BIO_set_callback_ex()</b> and <b>BIO_set_callback()</b> respectively.

       <b>BIO_get_callback_arg()</b>   returns   a   <b>char</b>   pointer   to  the  value  previously  set  via  a  call  to
       <b>BIO_set_callback_arg()</b>.

       <b>BIO_debug_callback()</b> returns 1 or <b>ret</b> if it's called after specific BIO operations.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The <b>BIO_debug_callback_ex()</b> function is an example, its source is in crypto/bio/bio_cb.c

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>BIO_debug_callback_ex()</b> function was added in OpenSSL 3.0.

       <b>BIO_set_callback()</b>, <b>BIO_get_callback()</b>, and <b>BIO_debug_callback()</b> were deprecated in OpenSSL 3.0. Use  the
       non-deprecated _ex functions instead.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2000-2021 The OpenSSL Project Authors. All Rights Reserved.

       Licensed  under  the  Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain  a  copy  in  the  file  LICENSE  in  the  source  distribution  or  at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                             <u><a href="../man3SSL/BIO_SET_CALLBACK.3SSL.html">BIO_SET_CALLBACK</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>