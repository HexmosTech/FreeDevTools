<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DBIx::DBSchema::Table - Table objects</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdbix-dbschema-perl">libdbix-dbschema-perl_0.47-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       DBIx::DBSchema::Table - Table objects

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use DBIx::DBSchema::Table;

         #new style (preferred), pass a hashref of parameters
         $table = new DBIx::DBSchema::Table (
           {
             name         =&gt; "table_name",
             primary_key  =&gt; "primary_key",
             columns      =&gt; \@dbix_dbschema_column_objects,
             #deprecated# unique      =&gt; $dbix_dbschema_colgroup_unique_object,
             #deprecated# 'index'     =&gt; $dbix_dbschema_colgroup_index_object,
             indices      =&gt; \@dbix_dbschema_index_objects,
             foreign_keys =&gt; \@dbix_dbschema_foreign_key_objects,
           }
         );

         #old style (VERY deprecated)
         $table = new DBIx::DBSchema::Table (
           "table_name",
           "primary_key",
           $dbix_dbschema_colgroup_unique_object,
           $dbix_dbschema_colgroup_index_object,
           @dbix_dbschema_column_objects,
         );

         $table-&gt;addcolumn ( $dbix_dbschema_column_object );

         $table_name = $table-&gt;name;
         $table-&gt;name("table_name");

         $primary_key = $table-&gt;primary_key;
         $table-&gt;primary_key("primary_key");

         #deprecated# $dbix_dbschema_colgroup_unique_object = $table-&gt;unique;
         #deprecated# $table-&gt;unique( $dbix_dbschema__colgroup_unique_object );

         #deprecated# $dbix_dbschema_colgroup_index_object = $table-&gt;index;
         #deprecated# $table-&gt;index( $dbix_dbschema_colgroup_index_object );

         %indices = $table-&gt;indices;
         $dbix_dbschema_index_object = $indices{'index_name'};
         @all_index_names = keys %indices;
         @all_dbix_dbschema_index_objects = values %indices;

         @column_names = $table-&gt;columns;

         $dbix_dbschema_column_object = $table-&gt;column("column");

         #preferred
         @sql_statements = $table-&gt;sql_create_table( $dbh );
         @sql_statements = $table-&gt;sql_create_table( $datasrc, $username, $password );

         #possible problems
         @sql_statements = $table-&gt;sql_create_table( $datasrc );
         @sql_statements = $table-&gt;sql_create_table;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       DBIx::DBSchema::Table objects represent a single database table.

</pre><h4><b>METHODS</b></h4><pre>
       new HASHREF
           Creates a new DBIx::DBSchema::Table object.  The preferred usage is to pass a hash reference of named
           parameters.

             {
               name          =&gt; TABLE_NAME,
               primary_key   =&gt; PRIMARY_KEY,
               columns       =&gt; COLUMNS,
               indices       =&gt; INDICES,
               local_options =&gt; OPTIONS,
             }

           TABLE_NAME is the name of the table.

           PRIMARY_KEY is the primary key (may be empty).

           COLUMNS is a reference to an array of DBIx::DBSchema::Column objects (see DBIx::DBSchema::Column).

           INDICES is a reference to an array of DBIx::DBSchema::Index objects (see DBIx::DBSchema::Index), or a
           hash reference of index names (keys) and DBIx::DBSchema::Index objects (values).

           FOREIGN_KEYS   is   a   references   to   an   array   of   DBIx::DBSchema::ForeignKey  objects  (see
           DBIx::DBSchema::ForeignKey).

           OPTIONS is  a  scalar  of  database-specific  table  options,  such  as  "WITHOUT  OIDS"  for  Pg  or
           "TYPE=InnoDB" for mysql.

       new_odbc DATABASE_HANDLE TABLE_NAME
           Creates  a  new  DBIx::DBSchema::Table object from the supplied DBI database handle for the specified
           table.  This uses the experimental DBI type_info method to create a table with  standard  (ODBC)  SQL
           column  types  that  most closely correspond to any non-portable column types.   Use this to import a
           schema that you wish to use with many different database engines.  Although primary key and  (unique)
           index  information  will  only be imported from databases with DBIx::DBSchema::DBD drivers (currently
           MySQL and PostgreSQL), import of column names and attributes *should* work for any database.

           Note: the _odbc refers to the column types used and nothing else - you  do  not  have  to  have  ODBC
           installed or connect to the database via ODBC.

       new_native DATABASE_HANDLE TABLE_NAME
           Creates  a  new  DBIx::DBSchema::Table object from the supplied DBI database handle for the specified
           table.  This uses database-native methods to read the schema,  and  will  preserve  any  non-portable
           column  types.   The method is only available if there is a DBIx::DBSchema::DBD for the corresponding
           database engine (currently, MySQL and PostgreSQL).

       addcolumn COLUMN
           Adds this DBIx::DBSchema::Column object.

       delcolumn COLUMN_NAME
           Deletes this column.  Returns false if no column of this name was found to remove, true otherwise.

       name [ TABLE_NAME ]
           Returns or sets the table name.

       local_options [ OPTIONS ]
           Returns or sets the database-specific table options string.

       primary_key [ PRIMARY_KEY ]
           Returns or sets the primary key.

       columns
           Returns a list consisting of the names of all columns.

       column COLUMN_NAME
           Returns the column object (see DBIx::DBSchema::Column) for the specified COLUMN_NAME.

       indices
           Returns a list of key-value pairs suitable for assigning to a hash.  Keys are index names, and values
           are index objects (see DBIx::DBSchema::Index).

       unique_singles
           Meet exciting and unique singles using this method!

           This method returns a list of column names that are  indexed  with  their  own,  unique,  non-compond
           (that's the "single" part) indices.

       sql_create_table [ DATABASE_HANDLE | DATA_SOURCE [ USERNAME PASSWORD [ ATTR ] ] ]
           Returns a list of SQL statments to create this table.

           The  data  source can be specified by passing an open DBI database handle, or by passing the DBI data
           source name, username and password.

           Although the username and password are optional, it is best to  call  this  method  with  a  database
           handle  or  data source including a valid username and password - a DBI connection will be opened and
           the quoting and type mapping will be more reliable.

           If passed a DBI data source (or handle) such as `DBI:mysql:database', will use MySQL- or  PostgreSQL-
           specific  syntax.  Non-standard syntax for other engines (if applicable) may also be supported in the
           future.

       sql_add_constraints [ DATABASE_HANDLE | DATA_SOURCE [ USERNAME PASSWORD [ ATTR ] ] ]
           Returns a list of SQL statments to add constraints (foreign keys) to this table.

           The data source can be specified by passing an open DBI database handle, or by passing the  DBI  data
           source name, username and password.

           Although  the  username  and  password  are  optional, it is best to call this method with a database
           handle or data source including a valid username and password - a DBI connection will be  opened  and
           the quoting and type mapping will be more reliable.

           If  passed a DBI data source (or handle) such as `DBI:mysql:database', will use MySQL- or PostgreSQL-
           specific syntax.  Non-standard syntax for other engines (if applicable) may also be supported in  the
           future.

       sql_alter_table PROTOTYPE_TABLE, [ DATABASE_HANDLE | DATA_SOURCE [ USERNAME PASSWORD [ ATTR ] ] ]
           Returns  a  list of SQL statements to alter this table so that it is identical to the provided table,
           also a DBIx::DBSchema::Table object.

           The data source can be specified by passing an open DBI database handle, or by passing the  DBI  data
           source name, username and password.

           Although  the  username  and  password  are  optional, it is best to call this method with a database
           handle or data source including a valid username and password - a DBI connection will be  opened  and
           used  to check the database version as well as for more reliable quoting and type mapping.  Note that
           the database connection will be used passively, <b>not</b> to actually run the CREATE statements.

           If passed a DBI data source (or handle) such  as  `DBI:mysql:database'  or  `DBI:Pg:dbname=database',
           will  use  syntax  specific  to  that  database  engine.  Currently supported databases are MySQL and
           PostgreSQL.

           If not passed a data source (or handle), or if there is no driver for the  specified  database,  will
           attempt to use generic SQL syntax.

       sql_alter_constraints PROTOTYPE_TABLE, [ DATABASE_HANDLE | DATA_SOURCE [ USERNAME PASSWORD [ ATTR ] ] ]
           Returns  a  list  of SQL statements to alter this table's constraints (foreign keys) so that they are
           identical to the provided table, also a DBIx::DBSchema::Table object.

           The data source can be specified by passing an open DBI database handle, or by passing the  DBI  data
           source name, username and password.

           Although  the  username  and  password  are  optional, it is best to call this method with a database
           handle or data source including a valid username and password - a DBI connection will be  opened  and
           used  to check the database version as well as for more reliable quoting and type mapping.  Note that
           the database connection will be used passively, <b>not</b> to actually run the CREATE statements.

           If passed a DBI data source (or handle) such  as  `DBI:mysql:database'  or  `DBI:Pg:dbname=database',
           will  use  syntax  specific  to  that  database  engine.  Currently supported databases are MySQL and
           PostgreSQL.

           If not passed a data source (or handle), or if there is no driver for the  specified  database,  will
           attempt to use generic SQL syntax.

       foreign_keys_sql
       foreign_keys
           Returns a list of foreign keys (DBIx::DBSchema::ForeignKey objects).

</pre><h4><b>AUTHOR</b></h4><pre>
       Ivan Kohler &lt;<a href="mailto:ivan-dbix-dbschema@420.am">ivan-dbix-dbschema@420.am</a>&gt;

       Thanks to Mark Ethan Trostler &lt;<a href="mailto:mark@zzo.com">mark@zzo.com</a>&gt; for a patch to allow tables with no indices.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright  (c)  2000-2007  Ivan  Kohler Copyright (c) 2000 Mail Abuse Prevention System LLC Copyright (c)
       2007-2013 Freeside Internet Services, Inc.  All rights reserved.  This program is free software; you  can
       redistribute it and/or modify it under the same terms as Perl itself.

</pre><h4><b>BUGS</b></h4><pre>
       <b>sql_create_table()</b>   has   database-specific   foo   that  probably  ought  to  be  abstracted  into  the
       DBIx::DBSchema::DBD:: modules (or no?  it doesn't anymore?).

       <b>sql_alter_table()</b>  also  has   database-specific   foo   that   ought   to   be   abstracted   into   the
       DBIx::DBSchema::DBD:: modules.

       <b>sql_create_table()</b>  may  change  or  destroy  the  object's  data.   If  you need to use the object after
       sql_create_table, make a copy beforehand.

       Some of the logic in new_odbc might be better abstracted into Column.pm etc.

       Add methods to get and set specific indices, by name? (like column COLUMN_NAME)

       indices method should be a setter, not just a getter?

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       DBIx::DBSchema, DBIx::DBSchema::Column, DBI, DBIx::DBSchema::Index, DBIx::DBSchema::FoeignKey

perl v5.36.0                                       2022-09-10                               <u>DBSchema::<a href="../man3pm/Table.3pm.html">Table</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>