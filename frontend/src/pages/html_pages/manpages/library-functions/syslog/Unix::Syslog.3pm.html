<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unix::Syslog - Perl interface to the UNIX syslog(3) calls</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libunix-syslog-perl">libunix-syslog-perl_1.1-4build5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Unix::Syslog - Perl interface to the UNIX <a href="../man3/syslog.3.html">syslog</a>(3) calls

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use Unix::Syslog qw(:macros);  # Syslog macros
        use Unix::Syslog qw(:subs);    # Syslog functions

        openlog $ident, $option, $facility;
        syslog $priority, $format, @formatargs;
        closelog;
        $oldmask = setlogmask $mask_priority;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides an interface to the system logger <b><a href="../man8/syslogd.8.html">syslogd</a></b>(8) via Perl's XSUBs. The implementation
       attempts to resemble the native libc-functions of your system, so that anyone being familiar with
       <u>syslog.h</u> should be able to use this module right away.

       In contrary to <b>Sys::<a href="../man3/Syslog.3.html">Syslog</a></b>(3), this modules does not open a network connection to send the messages. This
       can help you to avoid opening security holes in your computer (see "FAQ").

       The subs imported by the tag "macros" are simply wrappers around the most important "#defines" in your
       system's C header file <u>syslog.h</u>. The macros return integer values that are used to specify options,
       facilities and priorities in a more or less portable way. They also provide general information about
       your local syslog mechanism. Check <b><a href="../man3/syslog.3.html">syslog</a></b>(3) and your local <u>syslog.h</u> for information about the macros,
       options and facilities available on your system.

       The following functions are provided:

       openlog $ident, $option, $facility
           opens  a connection to the system logger.  <u>$ident</u> is an identifier string that <b><a href="../man8/syslogd.8.html">syslogd</a></b>(8) prints into
           every message. It usually equals the process name. <u>$option</u> is an integer value that is the result  of
           ORed  options. <u>$facility</u> is an integer value that specifies the part of the system the message should
           be associated with (e.g. kernel message, mail subsystem).

       syslog $priority, $format, @formatargs
           Generates a log message and passes it to the system logger. If syslog()  is  called  without  calling
           openlog()  first,  probably system dependent default values will be used as arguments for an implicit
           call to openlog().

           <u>$priority</u> is an integer value that specifies the priority of the message. Alternatively <u>$priority</u> can
           be the ORed value of a priority and a facility. In that case a previously selected facility  will  be
           overridden.

           In  the  case  that  syslog() is called without calling openlog() first and <u>priority</u> does not specify
           both a priority <u>and</u> a facility, a default facility will be used. This behaviour is most likely system
           dependent and the user should not rely on any particular value in that case.

           <u>$format</u> is a format string in the style of <b><a href="../man3/printf.3.html">printf</a></b>(3). Additionally to the usual printf directives  %m
           can  be  specified in the string. It will be replaced implicitly by the contents of the Perl variable
           $! ($ERRNO). <u>@formatargs</u> is a list of values  that  the  format  directives  will  be  replaced  with
           subsequently.

       closelog
           closes the connection to the system logger.

       setlogmask $mask_priority
           sets  the  priority mask and returns the old mask. Logging is enabled for the priorities indicated by
           the bits in the mask that are set and is disabled where the bits are not set. Macros are provided  to
           specify  valid  and  portable  arguments  to  setlogmask().  Usually  the default log mask allows all
           messages to be logged.

       priorityname $priority
           returns a string containing the name of <u>$priority</u> as string.  If  this  functionality  has  not  been
           enabled at installation, the function returns <u>undef</u>.

       facilityname $facility
           returns  a  string  containing  the  name  of <u>$facility</u> as string. If this functionality has not been
           enabled at installation, the function returns <u>undef</u>.

       <b>NOTE</b>: The behaviour of this module is system dependent. It is highly recommended to consult  your  system
       manual for available macros and the behaviour of the provided functions.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The  functions  <b>openlog()</b>,  <b>syslog()</b>  and  <b>closelog()</b> return the undefined value. The function setlogmask
       returns the previous mask value.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Open a channel to syslogd specifying an identifier (usually  the  process  name)  some  options  and  the
       facility:
         "openlog "test.pl", LOG_PID | LOG_PERROR, LOG_LOCAL7;"

       Generate log message of specified priority using a printf-type formatted string:
         "syslog LOG_INFO, "This is message number %d", 42;"

       Set log priority mask to block all messages but those of priority "LOG_DEBUG":
         "$oldmask = setlogmask(LOG_MASK(LOG_DEBUG))"

       Set log priority mask to block all messages with a higher priority than "LOG_ERR":
         "$oldmask = setlogmask(LOG_UPTO(LOG_ERR))"

       Close channel to syslogd:
         "closelog;"

</pre><h4><b>FAQ</b></h4><pre>
       1.  What is the benefit of using this module instead of Sys::Syslog?

           Sys::Syslog  always  opens a network connection to the syslog service. At least on Linux systems this
           may lead to some trouble, because

           •   Linux syslogd (from package sysklogd) does not listen to the  network  by  default.  Most  people
               working  on  stand-alone machines (including me) didn't see any reason why to enable this option.
               Others didn't enable it for security reasons.

               OS-independent, some sysadmins may run a firewall on their network  that  blocks  connections  to
               port 514/udp.

           •   By  default  Linux  syslogd doesn't forward messages which have already already received from the
               network to other log hosts. There are reasons not to enable  this  option  unless  it  is  really
               necessary. Looping messages resulting from a misconfiguration may break down your (log-)system.

           Peter  Stamfest &lt;<a href="mailto:peter.stamfest@eunet.at">peter.stamfest@eunet.at</a>&gt; pointed out some other advantages of Unix::Syslog, I didn't
           came across my self.

           •   LOG_PERROR works.

           •   works with perl -Tw without warnings and problems due to tainted data  as  it  is  the  case  for
               Sys::Syslog in some special applications. [Especially when running a script as root]

       2.  Well, is there any reason to use Sys::Syslog any longer?

           Yes! In contrary to Unix::Syslog, Sys::Syslog works even if you don't have a syslog daemon running on
           your  system as long as you are connected to a log host via a network and have access to the <u>syslog.h</u>
           header file of your log host to generate the initial files for Sys::Syslog  (see  <b>Sys::<a href="../man3/Syslog.3.html">Syslog</a></b>(3)  for
           details).  Unix::Syslog  only  logs  to  your  local syslog daemon which in turn may be configured to
           distribute the message over the network.

       3.  Are calls to the functions provided by Unix::Syslog compatible to those of Sys::Syslog?

           Currently not. Sys::Syslog requires strings to specify many of the arguments to the functions,  while
           Unix::Syslog  uses numeric constants accessed via macros as defined in <u>syslog.h</u>. Although the strings
           used by Sys::Syslog are also defined in <u>syslog.h</u>, it seems that most people got used to  the  numeric
           arguments.  I will implement the string based calls if there are enough people (<u>$min_people</u> &gt; 10**40)
           complaining about the lack of compatibility.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/syslog.3.html">syslog</a></b>(3), <b>Sys::<a href="../man3/Syslog.3.html">Syslog</a></b>(3), <b><a href="../man8/syslogd.8.html">syslogd</a></b>(8), <b><a href="../man1/perl.1.html">perl</a></b>(1)

</pre><h4><b>AUTHOR</b></h4><pre>
       Marcus Harnisch &lt;<a href="mailto:marcus.harnisch@gmx.net">marcus.harnisch@gmx.net</a>&gt;

perl v5.40.0                                       2024-10-20                                        <u><a href="../man3pm/Syslog.3pm.html">Syslog</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>