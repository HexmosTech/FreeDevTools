<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       sleep — suspend execution for an interval of time

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/unistd.h">unistd.h</a>&gt;

       unsigned sleep(unsigned <u>seconds</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>sleep</u>()  function  shall  cause  the  calling thread to be suspended from execution until either the
       number of realtime seconds specified by the argument <u>seconds</u> has elapsed or a signal is delivered to  the
       calling  thread  and  its action is to invoke a signal-catching function or to terminate the process. The
       suspension time may be longer than requested due to the scheduling of other activity by the system.

       In single-threaded programs, <u>sleep</u>() may make use of SIGALRM. In multi-threaded programs,  <u>sleep</u>()  shall
       not make use of SIGALRM and the remainder of this DESCRIPTION does not apply.

       If  a  SIGALRM signal is generated for the calling process during execution of <u>sleep</u>() and if the SIGALRM
       signal is being ignored or blocked from delivery, it is unspecified  whether  <u>sleep</u>()  returns  when  the
       SIGALRM  signal  is  scheduled. If the signal is being blocked, it is also unspecified whether it remains
       pending after <u>sleep</u>() returns or it is discarded.

       If a SIGALRM signal is generated for the calling process during execution of <u>sleep</u>(), except as a  result
       of  a  prior call to <u>alarm</u>(), and if the SIGALRM signal is not being ignored or blocked from delivery, it
       is unspecified whether that signal has any effect other than causing <u>sleep</u>() to return.

       If a signal-catching function interrupts <u>sleep</u>() and examines or changes either the  time  a  SIGALRM  is
       scheduled  to  be generated, the action associated with the SIGALRM signal, or whether the SIGALRM signal
       is blocked from delivery, the results are unspecified.

       If a signal-catching function interrupts <u>sleep</u>() and  calls  <u>siglongjmp</u>()  or  <u>longjmp</u>()  to  restore  an
       environment  saved  prior to the <u>sleep</u>() call, the action associated with the SIGALRM signal and the time
       at which a SIGALRM signal is scheduled to be generated are unspecified.  It is also  unspecified  whether
       the  SIGALRM  signal  is  blocked,  unless  the  signal  mask  of  the process is restored as part of the
       environment.

       Interactions between <u>sleep</u>() and <u>setitimer</u>() are unspecified.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       If <u>sleep</u>() returns because the requested time has elapsed, the value returned  shall  be  0.  If  <u>sleep</u>()
       returns due to delivery of a signal, the return value shall be the ``unslept'' amount (the requested time
       minus the time actually slept) in seconds.

</pre><h4><b>ERRORS</b></h4><pre>
       No errors are defined.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       None.

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       None.

</pre><h4><b>RATIONALE</b></h4><pre>
       There are two general approaches to the implementation of the <u>sleep</u>() function. One is to use the <u>alarm</u>()
       function  to  schedule  a SIGALRM signal and then suspend the calling thread waiting for that signal. The
       other is to implement an independent facility. This volume of POSIX.1‐2017  permits  either  approach  in
       single-threaded  programs,  but  the  simple  alarm/suspend  implementation is not appropriate for multi-
       threaded programs.

       In order to comply with the requirement that  no  primitive  shall  change  a  process  attribute  unless
       explicitly  described by this volume of POSIX.1‐2017, an implementation using SIGALRM must carefully take
       into account any SIGALRM signal scheduled by previous <u>alarm</u>() calls, the  action  previously  established
       for  SIGALRM,  and  whether SIGALRM was blocked. If a SIGALRM has been scheduled before the <u>sleep</u>() would
       ordinarily complete, the <u>sleep</u>() must be shortened  to  that  time  and  a  SIGALRM  generated  (possibly
       simulated  by direct invocation of the signal-catching function) before <u>sleep</u>() returns. If a SIGALRM has
       been scheduled after the <u>sleep</u>() would ordinarily complete, it must be  rescheduled  for  the  same  time
       before <u>sleep</u>() returns. The action and blocking for SIGALRM must be saved and restored.

       Historical implementations often implement the SIGALRM-based version using <u>alarm</u>() and <u>pause</u>().  One such
       implementation  is  prone to infinite hangups, as described in <u>pause</u>().  Another such implementation uses
       the C-language <u>setjmp</u>() and <u>longjmp</u>() functions to avoid that window. That  implementation  introduces  a
       different problem: when the SIGALRM signal interrupts a signal-catching function installed by the user to
       catch  a different signal, the <u>longjmp</u>() aborts that signal-catching function. An implementation based on
       <u>sigprocmask</u>(), <u>alarm</u>(), and <u>sigsuspend</u>() can avoid these problems.

       Despite all reasonable care, there are several very subtle, but detectable and  unavoidable,  differences
       between  the  two  types of implementations. These are the cases mentioned in this volume of POSIX.1‐2017
       where some other activity relating to SIGALRM takes place, and the results are stated to be  unspecified.
       All of these cases are sufficiently unusual as not to be of concern to most applications.

       See also the discussion of the term <u>realtime</u> in <u>alarm</u>().

       Since <u>sleep</u>() can be implemented using <u>alarm</u>(), the discussion about alarms occurring early under <u>alarm</u>()
       applies to <u>sleep</u>() as well.

       Application  developers should note that the type of the argument <u>seconds</u> and the return value of <u>sleep</u>()
       is <b>unsigned</b>.  That means that a Strictly Conforming POSIX System Interfaces  Application  cannot  pass  a
       value  greater  than the minimum guaranteed value for {UINT_MAX}, which the ISO C standard sets as 65535,
       and any application passing a  larger  value  is  restricting  its  portability.  A  different  type  was
       considered,  but  historical  implementations,  including  those with a 16-bit <b>int</b> type, consistently use
       either <b>unsigned</b> or <b>int</b>.

       Scheduling delays may cause the process to return from  the  <u>sleep</u>()  function  significantly  after  the
       requested  time. In such cases, the return value should be set to zero, since the formula (requested time
       minus the time actually spent) yields a negative number and <u>sleep</u>() returns an <b>unsigned</b>.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       A future version of this standard may require that <u>sleep</u>() does not make use of SIGALRM in all  programs,
       not just multi-threaded programs.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>alarm</u>(), <u>getitimer</u>(), <u>nanosleep</u>(), <u>pause</u>(), <u>sigaction</u>(), <u>sigsetjmp</u>()

       The Base Definitions volume of POSIX.1‐2017, <b>&lt;unistd.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for  Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group Base
       Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical  and  Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE  and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any typographical or formatting errors that appear in this page are most likely to have  been  introduced
       during   the   conversion  of  the  source  files  to  man  page  format.  To  report  such  errors,  see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                         <u><a href="../man3POSIX/SLEEP.3POSIX.html">SLEEP</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>