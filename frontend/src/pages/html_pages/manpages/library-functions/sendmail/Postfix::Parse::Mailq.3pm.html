<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Postfix::Parse::Mailq - parse the output of the postfix mailq command</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpostfix-parse-mailq-perl">libpostfix-parse-mailq-perl_1.005-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Postfix::Parse::Mailq - parse the output of the postfix mailq command

</pre><h4><b>VERSION</b></h4><pre>
       version 1.005

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Postfix::Parse::Mailq;

         my $mailq_output = `mailq`;
         my $entries = Postfix::Parse::Mailq-&gt;read_string($mailq_output);

         my $bytes = 0;
         for my $entry (@$entries) {
           next unless grep { /\@aol.com$/ } @{ $entry-&gt;{remaining_rcpts} };
           $bytes += $entry-&gt;{size};
         }

         print "$bytes bytes remain to send to AOL destinations\n";

</pre><h4><b>METHODS</b></h4><pre>
   <b>read_file</b>
   <b>read_handle</b>
   <b>read_string</b>
         my $entries = Postfix::Parse::Mailq-&gt;read_string($string, \%arg);

       This methods read the output of postfix's <u>mailq</u> from a file (by name), a filehandle, or a string,
       respectively.  They return an arrayref of hashrefs, each hashref representing one entry in the queue as
       reported by <u>mailq</u>.

       Valid arguments are:

         spool - a hashref of { queue_id -&gt; spool_name } pairs
                 if given, this will be used to attempt to indicate in which
                 spool messages currently are; it is not entirely reliable (race!)

   <b>parse_block</b>
         my $entry = Mailq-&gt;parse_block(\@lines);

       Given all the lines in a single entry's block of lines in mailq output, this returns data about the
       entry.

</pre><h4><b>WARNING</b></h4><pre>
       This code is really rough and the interface will change.  Entries will be objects.  There will be some
       more methods.  Still, the basics are likely to keep working, or keep pretty close to what you see here
       now.

</pre><h4><b>AUTHOR</b></h4><pre>
       Ricardo SIGNES &lt;<a href="mailto:rjbs@cpan.org">rjbs@cpan.org</a>&gt;

</pre><h4><b>CONTRIBUTOR</b></h4><pre>
       Johan Carlquist &lt;<a href="mailto:jocar@su.se">jocar@su.se</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2015 by Ricardo SIGNES.

       This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.36.0                                       2022-10-14                         <u>Postfix::Parse::<a href="../man3pm/Mailq.3pm.html">Mailq</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>