<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Role::EventEmitter - Event emitter role</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/librole-eventemitter-perl">librole-eventemitter-perl_0.003-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Role::EventEmitter - Event emitter role

</pre><h4><b>SYNOPSIS</b></h4><pre>
         package Channel;
         use Moo;
         with 'Role::EventEmitter';

         # Emit events
         sub send_message {
           my $self = shift;
           $self-&gt;emit(message =&gt; @_);
         }

         package main;

         # Subscribe to events
         my $channel_a = Channel-&gt;new;
         $channel_a-&gt;on(message =&gt; sub {
           my ($channel, $text) = @_;
           say "Received message: $text";
         });
         $channel_a-&gt;send_message('All is well');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Role::EventEmitter is a simple Role::Tiny role for event emitting objects based on Mojo::EventEmitter.
       This role can be applied to any hash-based object class such as those created with Class::Tiny, Moo, or
       Moose.

</pre><h4><b>EVENTS</b></h4><pre>
       Role::EventEmitter can emit the following events.

   <b>error</b>
         $e-&gt;on(error =&gt; sub {
           my ($e, $err) = @_;
           ...
         });

       This is a special event for errors, it will not be emitted directly by this role but is fatal if
       unhandled.

         $e-&gt;on(error =&gt; sub {
           my ($e, $err) = @_;
           say "This looks bad: $err";
         });

</pre><h4><b>METHODS</b></h4><pre>
       Role::EventEmitter composes the following methods.

   <b>catch</b>
         $e = $e-&gt;catch(sub {...});

       Subscribe to "error" event.

         # Longer version
         $e-&gt;on(error =&gt; sub {...});

   <b>emit</b>
         $e = $e-&gt;emit('foo');
         $e = $e-&gt;emit('foo', 123);

       Emit event.

   <b>has_subscribers</b>
         my $bool = $e-&gt;has_subscribers('foo');

       Check if event has subscribers.

   <b>on</b>
         my $cb = $e-&gt;on(foo =&gt; sub {...});

       Subscribe to event.

         $e-&gt;on(foo =&gt; sub {
           my ($e, @args) = @_;
           ...
         });

   <b>once</b>
         my $cb = $e-&gt;once(foo =&gt; sub {...});

       Subscribe to event and unsubscribe again after it has been emitted once.

         $e-&gt;once(foo =&gt; sub {
           my ($e, @args) = @_;
           ...
         });

   <b>once_f</b>
         my $f = $e-&gt;once_f('foo');

       Subscribe to event as in "once", returning a Future that will be marked complete after it has been
       emitted once. Requires Future to be installed.

         my $f = $e-&gt;once_f('foo')-&gt;on_done(sub {
           my ($e, @args) = @_;
           ...
         });

       To unsubscribe the returned Future early, cancel it.

         $f-&gt;cancel;

   <b>subscribers</b>
         my $subscribers = $e-&gt;subscribers('foo');

       All subscribers for event.

         # Unsubscribe last subscriber
         $e-&gt;unsubscribe(foo =&gt; $e-&gt;subscribers('foo')-&gt;[-1]);

         # Change order of subscribers
         @{$e-&gt;subscribers('foo')} = reverse @{$e-&gt;subscribers('foo')};

   <b>unsubscribe</b>
         $e = $e-&gt;unsubscribe('foo');
         $e = $e-&gt;unsubscribe(foo =&gt; $cb);

       Unsubscribe from event. Related Futures will also be cancelled.

</pre><h4><b>DEBUGGING</b></h4><pre>
       You can set the "ROLE_EVENTEMITTER_DEBUG" environment variable to get some advanced diagnostics
       information printed to "STDERR".

         ROLE_EVENTEMITTER_DEBUG=1

</pre><h4><b>BUGS</b></h4><pre>
       Report any issues on the public bugtracker.

</pre><h4><b>AUTHOR</b></h4><pre>
       Dan Book &lt;<a href="mailto:dbook@cpan.org">dbook@cpan.org</a>&gt;

       Code and tests adapted from Mojo::EventEmitter, an event emitter base class by the Mojolicious team.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright (c) 2008-2015 Sebastian Riedel.

       Copyright (c) 2015 Dan Book for adaptation to a role and further changes.

       This is free software, licensed under:

         The Artistic License 2.0 (GPL Compatible)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mojo::EventEmitter, Mixin::Event::Dispatch, Beam::Emitter, Event::Distributor

perl v5.32.1                                       2021-12-10                            <u>Role::<a href="../man3pm/EventEmitter.3pm.html">EventEmitter</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>