<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON::Validator::Joi - Joi validation sugar for JSON::Validator</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libjson-validator-perl">libjson-validator-perl_5.15+dfsg-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       JSON::Validator::Joi - Joi validation sugar for JSON::Validator

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use JSON::Validator::Joi "joi";

         my @errors = joi-&gt;object-&gt;props(
           age   =&gt; joi-&gt;integer-&gt;<a href="../man0/min.0.html">min</a>(0)-&gt;<a href="../man200/max.200.html">max</a>(200),
           email =&gt; joi-&gt;regex(".@.")-&gt;required,
           name  =&gt; joi-&gt;string-&gt;<a href="../man1/min.1.html">min</a>(1),
         )-&gt;validate({
           name  =&gt; "Jan Henning",
           age   =&gt; 34,
           email =&gt; "<a href="mailto:jhthorsen@cpan.org">jhthorsen@cpan.org</a>",
         });

         die "@errors" if @errors;

   <b>EXPORTED</b> <b>FUNCTIONS</b>
   <b>joi</b>
         $joi = joi(%attrs);

       Same as:

         JSON::Validator::Joi-&gt;new(%attrs);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       JSON::Validator::Joi is an elegant DSL schema-builder. The main purpose is to build a JSON Schema
       &lt;https://json-schema.org/&gt; for JSON::Validator, but it can also validate data directly with sane
       defaults.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
   <b>enum</b>
         my $joi       = $joi-&gt;enum(["foo", "bar"]);
         my $array_ref = $joi-&gt;enum;

       Defines a list of enum values for "integer", "number" and "string".

   <b>format</b>
         my $joi = $joi-&gt;format("email");
         my $str = $joi-&gt;format;

       Used to set the format of the "string".  See also "iso_date", "email" and "uri".

   <b>max</b>
         my $joi = $joi-&gt;<a href="../man10/max.10.html">max</a>(10);
         my $int = $joi-&gt;max;

       • array

         Defines the max number of items in the array.

       • integer, number

         Defined the max value.

       • object

         Defines the max number of items in the object.

       • string

         Defines how long the string can be.

   <b>min</b>
         my $joi = $joi-&gt;<a href="../man10/min.10.html">min</a>(10);
         my $int = $joi-&gt;min;

       • array

         Defines the minimum number of items in the array.

       • integer, number

         Defined the minimum value.

       • object

         Defines the minimum number of items in the object.

       • string

         Defines how short the string can be.

   <b>multiple_of</b>
         my $joi = $joi-&gt;<a href="../man3/multiple_of.3.html">multiple_of</a>(3);
         my $int = $joi-&gt;multiple_of;

       Used by "integer" and "number" to define what the number must be a multiple of.

   <b>regex</b>
         my $joi = $joi-&gt;regex("^\w+$");
         my $str = $joi-&gt;regex;

       Defines a pattern that "string" will be validated against.

   <b>type</b>
         my $joi = $joi-&gt;type("string");
         my $joi = $joi-&gt;type([qw(null integer)]);
         my $any = $joi-&gt;type;

       Sets the required type. This attribute is set by the convenience methods "array", "integer", "object" and
       "string", but can be set manually if you need to check against a list of type.

   <b>validator</b>
         my $joi = $joi-&gt;validator(JSON::Validator::Schema::Draft7-&gt;new);
         my $jv  = $joi-&gt;validator;

       Defaults to a JSON::Validator object. This object is used by "validate".

       Note: This might change to JSON::Validator::Schema::Draft7 or a later schema in the future.

</pre><h4><b>METHODS</b></h4><pre>
   <b>TO_JSON</b>
       Alias for "compile".

   <b>alphanum</b>
         my $joi = $joi-&gt;alphanum;

       Sets "regex" to "^\w*$".

   <b>array</b>
         my $joi = $joi-&gt;array;

       Sets "type" to "array".

   <b>boolean</b>
         my $joi = $joi-&gt;boolean;

       Sets "type" to "boolean".

   <b>compile</b>
         my $hash_ref = $joi-&gt;compile;

       Will convert this object into a JSON-Schema data structure that "schema" in JSON::Validator understands.

   <b>date_time</b>
         my $joi = $joi-&gt;date_time;

       Sets "format" to date-time.

   <b>email</b>
         my $joi = $joi-&gt;email;

       Sets "format" to email.

   <b>extend</b>
         my $new_joi = $joi-&gt;extend($other_joi_object);

       Will extend $joi with the definitions in $other_joi_object and return a new object.

   <b>iso_date</b>
       Alias for "date_time".

   <b>integer</b>
         my $joi = $joi-&gt;integer;

       Sets "type" to "integer".

   <b>items</b>
         my $joi = $joi-&gt;items($joi);
         my $joi = $joi-&gt;items([$joi, ...]);

       Defines a list of items for the "array" type.

   <b>length</b>
         my $joi = $joi-&gt;<a href="../man10/length.10.html">length</a>(10);

       Sets both "min" and "max" to the number provided.

   <b>lowercase</b>
         my $joi = $joi-&gt;lowercase;

       Will set "regex" to only match lower case strings.

   <b>negative</b>
         my $joi = $joi-&gt;negative;

       Sets "max" to 0.

   <b>number</b>
         my $joi = $joi-&gt;number;

       Sets "type" to "number".

   <b>object</b>
         my $joi = $joi-&gt;object;

       Sets "type" to "object".

   <b>pattern</b>
       Alias for "regex".

   <b>positive</b>
         my $joi = $joi-&gt;positive;

       Sets "min" to 0.

   <b>props</b>
         my $joi = $joi-&gt;props(name =&gt; JSON::Validator::Joi-&gt;new-&gt;string, ...);

       Used to define properties for an "object" type. Each key is the name of the parameter and the values must
       be a JSON::Validator::Joi object.

   <b>required</b>
         my $joi = $joi-&gt;required;

       Marks the current property as required.

   <b>strict</b>
         my $joi = $joi-&gt;strict;

       Sets "array" and "object" to not allow any more items/keys than what is defined.

   <b>string</b>
         my $joi = $joi-&gt;string;

       Sets "type" to "string".

   <b>token</b>
         my $joi = $joi-&gt;token;

       Sets "regex" to "^[a-zA-Z0-9_]+$".

   <b>validate</b>
         my @errors = $joi-&gt;validate($data);

       Used  to  validate  $data  using  "validate" in JSON::Validator. Returns a list of JSON::Validator::Error
       objects on invalid input.

   <b>unique</b>
         my $joi = $joi-&gt;unique;

       Used to force the "array" to only contain unique items.

   <b>uppercase</b>
         my $joi = $joi-&gt;uppercase;

       Will set "regex" to only match upper case strings.

   <b>uri</b>
         my $joi = $joi-&gt;uri;

       Sets "format" to uri.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       JSON::Validator

       &lt;https://github.com/hapijs/joi&gt;.

perl v5.40.1                                       2025-03-29                          <u>JSON::Validator::<a href="../man3pm/Joi.3pm.html">Joi</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>