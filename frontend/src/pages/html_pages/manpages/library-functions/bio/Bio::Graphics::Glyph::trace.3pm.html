<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bio::Graphics::Glyph::trace - A glyph that visualizes a trace file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbio-graphics-perl">libbio-graphics-perl_2.40-6_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Bio::Graphics::Glyph::trace - A glyph that visualizes a trace file

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use Bio::Graphics;
        use Bio::Seq;
        use Bio::SeqFeature::Generic;

        my $bsg = 'Bio::SeqFeature::Generic';

        my $seq    = Bio::Seq-&gt;new(-length=&gt;1000);

        my $whole  = $bsg-&gt;new(-display_name =&gt; 'Clone82',
                               -start        =&gt; 1,
                               -end          =&gt; $seq-&gt;length);

        my $trace1 = $bsg-&gt;new(-start        =&gt; 100,
                               -end          =&gt; 300,
                               -display_name =&gt; 'Excretory System',
                               -tag=&gt;{
                                     trace=&gt;"/path/to/trace/file.scf"
                                     }
                              );

        my $trace2 = $bsg-&gt;new(-start        =&gt; 500,
                               -end          =&gt; 800,
                               -display_name =&gt; 'Expression Pattern',
                               -tag=&gt;{
                                     trace=&gt;"<a href="http://localhost/traces/file2.scf">http://localhost/traces/file2.scf</a>"
                                     }
                              );

        my $panel = Bio::Graphics::Panel-&gt;new(-length    =&gt; $seq-&gt;length,
                                              -width     =&gt; 800,
                                              -truecolor =&gt; 1,
                                              -key_style =&gt; 'between',
                                              -pad_left  =&gt; 10,
                                              -pad_right =&gt; 10,
                                             );

        $panel-&gt;add_track($whole,
                          -glyph    =&gt; 'arrow',
                          -double   =&gt; 1,
                          -tick     =&gt; 2,
                          -label    =&gt; 1,
                          );

        $panel-&gt;add_track([$trace1,$trace2],
                          -glyph    =&gt; 'trace',
                          -label    =&gt; 1,
                          -key       =&gt; 'Example traces');

        binmode STDOUT;
        print $panel-&gt;png;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This glyph parses and displays trace information from a file.  A generic glyph is used to show where the
       trace is located and when the display is zoomed in enough to see the sequence, the trace will be drawn.

       The trace file can only be in SCF format.  The file can be located on the local filesystem or located at
       a remote URL (provided that you have the LWP module installed).

       Until an alignment feature is added to this glyph, the feature start and end must correspond exactly with
       the beginning and end of the called sequence.  Meaning that even if the starting sequence is poor and
       doesn't match the sequence, it must still be included.

       The figure below illustrates this.  The trace and the reference sequence align from points "b" to "c".
       The positions "A" and "D" need to be calculated and used in order for the trace to line up correctly.

                    A      b         c     D
         ref -------------------------------------------------
                           |||||||||||
         trace      ------------------------

       The glyph may be modified in the future to avoid this hassle (and it should still be compatible with the
       method described above).

   <b>OPTIONS</b>
       The following options are standard among all Glyphs.  See Bio::Graphics::Glyph for a full explanation.

         Option      Description                      Default
         ------      -----------                      -------

         -fgcolor      Foreground color               black

         -outlinecolor Synonym for -fgcolor

         -bgcolor      Background color               turquoise

         -fillcolor    Synonym for -bgcolor

         -linewidth    Line width                     1

         -height       Height of glyph                10

         -font         Glyph font                     gdSmallFont

         -connector    Connector type                 0 (false)

         -connector_color
                       Connector color                black

         -label        Whether to draw a label        0 (false)

         -description  Whether to draw a description  0 (false)

         -hilite       Highlight color                undef (no color)

       The following additional options are available to the "image" glyph:

         Option            Description                       Default
         ------            -----------                       -------

         -trace            Specify the trace path or URL     none
                           to use for this feature

         -trace_prefix     String to prepend to              none
                           each trace path. You may prepend
                           a directory or a partial URL.

         -trace_height     The height in pixels that the     90
                           trace will be drawn

         -vertical_spacing Vertical distance from the box    20
                           that shows the physical span of
                           the feature to the top of the
                           picture (in pixels)

         -glyph_delegate   Glyph to use when zoomed out too  'generic'
                           far for the trace to be drawn

         -a_color          Color of the line representing    'green'
                           Adenine on the trace

         -c_color          Color of the line representing    'blue'
                           Cytosine on the trace

         -g_color          Color of the line representing    'black'
                           Guanine on the trace

         -t_color          Color of the line representing    'red'
                           Thymine on the trace

         -show_border      Show the black border from        0
                           around the trace

         -abi_scale        The scale factor for abi          1
                           formatted files.  This is
                           multiplied against the max
                           trace value to determine the
                           hight of peaks.

   <b>Specifying</b> <b>the</b> <b>Trace</b>
       The path to the trace file can be specified in two ways. First, you can place it in the feature itself
       using a tag named "trace". Second, you can specify it as a track option using a callback:

         $panel-&gt;add_track(\@features,
                           -glyph=&gt;'trace',
                           -trace =&gt; sub { my $feature = shift;
                                           my $trace_path = do_something();
                                           return $trace }
                           );

       You can of course give -trace a constant string, in which case each feature will show the same trace.

       The trace can be a file on the local operating system or a URL. However, URL fetching will only work if
       the LWP module is installed on your system.  Otherwise the glyph will fail with an error message.

       If the trace is a relative path (it does not begin with a slash or a URL protocol), then the contents of
       -trace_prefix will be prepended to it. This allows you to specify traces that are relative to a
       particular directory or a partial URL. Example:

         $panel-&gt;add_track(\@features,
                           -glyph =&gt; 'trace',
                           -trace_prefix =&gt; '<a href="http://localhost/anatomy/trace-browser_files">http://localhost/anatomy/trace-browser_files</a>',
                          );

       This specifies that each feature's "trace" tag is to be appended to the partial localhost URL, thereby
       saving space.

   <b>Glyph</b> <b>Delegation</b>
       The trace glyph consists of two parts: an upper part that shows the extent of the feature in base pair
       coordinates, and a lower part that shows the trace.  The upper part will always be displayed.  The lower
       part will only display if zoomed close enough to see the sequence.

       By default the upper part uses the "generic" glyph, which is a simple rectangle filled with the bgcolor
       and outlined with the fgcolor. To use a different glyph in the upper part, specify the -glyph_delegate
       option, giving the name of the glyph you wish to use. For instance, to use the "span" glyph:

         $panel-&gt;add_track(\@features,
                           -glyph          =&gt; 'trace',
                           -glyph_delegate =&gt; 'span'
                          );

       This feature does not work with all glyphs, and in particular requires a recent CVS checkout of Bio::Perl
       to work properly with the "arrow", "span" and "primers" glyphs (support for the feature did not make it
       into version 1.5).

</pre><h4><b>BUGS</b> <b>AND</b> <b>LIMITATIONS</b></h4><pre>
       See the DESCRIPTION for an explanation of how to align the trace with the reference.

       The trace looks a little off when the feature is on the negative strand of the reference.  This is
       because the letters are on the oppisite side of the position line.  This issue should be addressed.

       This glyph uses it's own version of the Bio::Graphics::Panel method, <b>map_pt()</b>, due to that method not
       behaving as needed.  The new copied method is called "trace_map_pt".

       If the trace file is gzipped, it will unzip it without destroying the gzipped file.  However, it will
       also not remove the newly created file.  This will only be an issue when the files are stored locally,
       since web accessed trace files are stored as temp files anyway.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Bio::Graphics::Panel, Bio::Graphics::Glyph, Bio::Graphics::Glyph::arrow, Bio::Graphics::Glyph::cds,
       Bio::Graphics::Glyph::crossbox, Bio::Graphics::Glyph::diamond, Bio::Graphics::Glyph::dna,
       Bio::Graphics::Glyph::dot, Bio::Graphics::Glyph::ellipse, Bio::Graphics::Glyph::extending_arrow,
       Bio::Graphics::Glyph::generic, Bio::Graphics::Glyph::graded_segments,
       Bio::Graphics::Glyph::heterogeneous_segments, Bio::Graphics::Glyph::image, Bio::Graphics::Glyph::line,
       Bio::Graphics::Glyph::pinsertion, Bio::Graphics::Glyph::primers, Bio::Graphics::Glyph::rndrect,
       Bio::Graphics::Glyph::segments, Bio::Graphics::Glyph::ruler_arrow, Bio::Graphics::Glyph::toomany,
       Bio::Graphics::Glyph::transcript, Bio::Graphics::Glyph::transcript2, Bio::Graphics::Glyph::translation,
       Bio::Graphics::Glyph::triangle, Bio::DB::GFF, Bio::SeqI, Bio::SeqFeatureI, Bio::Das, GD

</pre><h4><b>AUTHOR</b></h4><pre>
       Ben Faga &lt;<a href="mailto:faga@cshl.edu">faga@cshl.edu</a>&gt;, Lincoln Stein &lt;<a href="mailto:lstein@cshl.org">lstein@cshl.org</a>&gt;, Todd Harris &lt;<a href="mailto:harris@cshl.org">harris@cshl.org</a>&gt;

       Copyright (c) 2006 Cold Spring Harbor Laboratory

       This package and its accompanying libraries is free software; you can redistribute it and/or modify it
       under the terms of the GPL (either version 1, or at your option, any later version) or the Artistic
       License 2.0.  Refer to LICENSE for the full license text. In addition, please see DISCLAIMER.txt for
       disclaimers of warranty.

perl v5.30.0                                       2019-11-25                   <u>Bio::Graphics::Glyph::<a href="../man3pm/trace.3pm.html">trace</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>