<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SDLx::Music - A powerful, convenient interface to "SDL::Mixer::Music"</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsdl-perl">libsdl-perl_2.548-5build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SDLx::Music - A powerful, convenient interface to "SDL::Mixer::Music"

</pre><h4><b>CATEGORY</b></h4><pre>
       Extension

</pre><h4><b>SYNOPSIS</b></h4><pre>
               use SDL;
               use SDLx::Music;

               my $music = SDLx::Music-&gt;new;

               #define music data with just a name and file path
               $music-&gt;data(
                       fast =&gt; 'music/fast.ogg',
                       slow =&gt; 'music/slow.ogg',
                       magical =&gt; 'music/magic/cake.ogg',
               );

               #define more the long way with a parameter hash
               $music-&gt;data(
                       squelch =&gt; {
                               file    =&gt; 'music/squelch.ogg',
                               loops   =&gt; 3,
                               fade_in =&gt; 0.5,
                               volume  =&gt; 72,
                       }
                       splurge =&gt; {
                               file     =&gt; 'music/splurge.ogg',
                               finished =&gt; sub { print 'Splurged!' },
                       },
               );

               #instead, do it the short way with the help of defaults

               #clobber everything
               $music-&gt;clear;

               #specify the class-wide default for file extension
               SDLx::Music-&gt;default-&gt;ext('.ogg');

               #specify the object-wide default for file directory
               $music-&gt;default-&gt;dir('music/');

               #redefine squelch and splurge
               $music-&gt;data(
                       squelch =&gt; {
                               #file defaults to the data name, so the path becomes
                               #'music/squelch.ogg', which is what we wanted
                               loops   =&gt; 3,
                               fade_in =&gt; 0.5,
                               volume  =&gt; 72,
                       }
                       splurge =&gt; {
                               finished =&gt; sub { print 'Splurged!' },
                       },
               );

               #and we can redefine the others like this
               $music-&gt;data_for(
                       'fast',
                       'slow',
               )-&gt;data(
                       magical =&gt; 'magic/cake',
               );

               #get to that named data
               my $splurge = $music-&gt;data('splurge');

               #and add to/modify it without clobbering existing data
               $splurge
                       -&gt;<a href="../man55/volume.55.html">volume</a>(55)
                       -&gt;file('data/' . $splurge-&gt;file)
               ;

               #play it once, fading in for 2 seconds
               $music-&gt;play($splurge, loops =&gt; 1, fade_in =&gt; 2);
               #(it will be loaded automatically and played with its specified params)

               sleep 5;

               #pause it
               $music-&gt;pause if $music-&gt;playing;

               #load everything else
               $music-&gt;load;

               #resume playing it at a lower volume
               $music-&gt;<a href="../man44/volume.44.html">volume</a>(44);
               $music-&gt;play;

               #get the names for all music
               my @names = keys %{ $music-&gt;data };

               for my $name (@names) {
                       #play it in an infinite loop
                       $music-&gt;play($name, loops =&gt; 0);
                       warn "Cake!" if $music-&gt;playing eq "magical";
                       sleep 10;
               }

               #fade out the last song
               $music-&gt;<a href="../man5/fade_out.5.html">fade_out</a>(5);

               sleep 4;

               die "CAKE!" if $music-&gt;fading-&gt;name eq "magical";

               sleep 1;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class provides a powerful and convenient interface to SDL::Mixer::Music. The main goal was to make
       music code neater and clearer. Among the things that help this, this class provides class-wide and
       object-wide defaults and it automatically shares duplicate use of the same files.

       The following document is intended for reference. For a more beginner-friendly description of this class,
       see chapter X of the SDL Perl Manual (when it is written).

       <b>Please</b> <b>note:</b> do not mix use of this class with SDL::Mixer::Music if you want everything to work right.

</pre><h4><b>METHODS</b></h4><pre>
   <b>new</b>
               SDLx::Music-&gt;new;
               #Option arguments showing the default parameters
               SDLx::Music-&gt;new( freq =&gt; 44100, format =&gt; SDL::Audio::AUDIO_S16SYS, channels =&gt; 2, chunksize =&gt; 4096);

       Creates the new music object. Inits audio with a call to SDLx::Mixer::init, if it isn't already (if you
       want more precise control over what is initialized, make sure you call SDLx::Mixer::init before you call
       this method). Creates an empty default data object for object-wide defaults. If arguments are supplied,
       calls "data" with them to set up any initial data objects. Returns the new music object.

   <b>data</b>
               $music-&gt;data;
               $music-&gt;data( $name );
               $music-&gt;data( $data );
               $music-&gt;data( %args );

       With no arguments: returns a reference to the data hash. This hash has data names as keys and the
       associated data objects as values.

       With a name: creates the data name if it doesn't already exist. Does this with a call to
       SDLx::Music::Data-new|SDLx::Music::Data/new&gt; with "name =" $name&gt; and puts that new object in the data
       hash under the key of $name. Returns the data object for that name.

       With a hash of arguments: for each pair, and returns a  SDLx::Music::Data. Returns $music.

   <b>data_for</b>
               $music-&gt;data_for( @names_or_data_objects );

       Calls "data" repeatedly, passing it one element of the list at a time, to initialise multiple empty names
       and/or add data objects. Returns $music.

   <b>has_data</b>
               $music-&gt;has_data;
               $music-&gt;has_data( $name );
               $music-&gt;has_data( $data );

       Without arguments: returns how many data objects the class has.

       With a name: returns the data object for $name. If there is no data object for $name it is not created
       and undef is returned instead.

       With a data object: does a (slowish) reverse of the data hash to see if the data object belongs to
       $music. Returns it or undef.

   <b>default</b>
               $music-&gt;default;
               SDLx::Music-&gt;default;

       Returns the default data object belonging to $music (created in "new"), or to the class. See
       SDLx::Music::Data for information on how defaults work.

   <b>load</b>
               $music-&gt;load;
               $music-&gt;load( @names_or_data_objects );
               SDLx::Music-&gt;load( @data_objects );

       Without arguments: for every data object belonging to $music, if the data object doesn't already have a
       loaded file, loads the file named by dir, file and ext if it hasn't been loaded already. Sets the data
       object's loaded parameter to this. Two or more objects that use the same file will use the same loaded
       file. Reference counting is respected, so if two data objects use the same loaded file it will be removed
       from memory only after both are destroyed. Returns &lt;$music&gt;.

       With arguments: does the same, but only for the names or data objects in the list. If there isn't a data
       object for any name, it will be created.

   <b>unload</b>
               $music-&gt;unload;
               $music-&gt;unload( @names_or_data_objects );
               SDLx::Music-&gt;unload( @data_objects );

       Without arguments: clears the loaded parameter for all of the data objects in $music. The loaded file is
       removed from memory if it loses its last reference to it. Returns &lt;$music&gt;.

       With arguments: does the same, but only for the names or data objects in the list. Doesn't create a data
       object for a name that doesn't exist.

   <b>clear</b>
               $music-&gt;clear;
               $music-&gt;clear( @names );

       Without arguments: empties $music's data hash of all of its objects. The objects will be destroyed only
       if the last reference to them is removed, and no parameters will be cleared if this is not the case.
       Returns $music.

       With arguments: does the same, but only deletes the values of the data hash for the names in the list.

   <b>real_clear</b>
               $music-&gt;real_clear;
               $music-&gt;real_clear( @names_or_data_objects );
               SDLx::Music-&gt;real_clear( @data_objects );

       The full, brute force version of "clear".

       Without arguments: empties out the parameters of every data object in $music (including "unload"ing them)
       and then removes them from the data hash. This may not remove the objects from memory if there are still
       remaining references to them, but it is the closest thing to it. Returns $music.

       With arguments: does the same, but only clears out the names or data objects in the list.

   <b>play</b>
               $music_or_class-&gt;play;
               $music-&gt;play( $name, $params );
               $music_or_class-&gt;play( $data, %params );

       Without arguments: resumes any paused music. Returns the object or class.

       With arguments: plays the sound found in $music's $name, or in $data (depending on which is specified).
       "load"s it if it needs to be loaded (which in turn creates the name if it needs to be created). The
       %params are all optional and, if defined, are used instead of the values returned by the data object's
       parameter methods. The accepted parameters here are:

       loops
           Plays the music file "loops" times. If "loops" is 0, loops it infinitely.

       fade_in
           Fades the music in for its first "fade_in" milliseconds, if "fade_in" is defined.

       vol Sets the music volume to "vol".

       vol_portion
           Multiplies the "vol" by "vol_portion" (values from 0 to 1 are encouraged) before setting the volume.

       pos Sets the music position to "pos" if "pos" is defined.

       Returns the object or class.

   <b>pause</b>
               $music_or_class-&gt;pause;

       Pauses any playing music. Returns the object or class.

   <b>stop</b>
               $music_or_class-&gt;stop;

       Stops any playing music. Returns the object or class.

   <b>last_played</b>
               my $last_played = $music_or_class-&gt;last_played;

       Returns the data object that was "play"ed last.

   <b>playing</b>
               my $playing = $music-&gt;playing;

       If there is something playing, returns the data object that was "play"ed last. Otherwise, returns undef.

   <b>paused</b>
       If there is something paused, returns the data object that was "play"ed last. Otherwise, returns undef.

   <b>fading</b>
       If there is something fading, returns the data object that was "play"ed last. Otherwise, returns undef.

   <b>volume</b>
               my $volume = $music_or_class-&gt;volume;
               $music_or_class-&gt;volume( $volume );

       Without arguments: returns the current music volume

       With arguments: Sets the music volume to $volume. Returns the object or class.

   <b>fade_out</b>
               $music_or_class-&gt;fade_out( $fade_out );

       Fades the music out for its next "fade_in" milliseconds. Returns the object or class.

   <b>rewind</b>
               $music_or_class-&gt;rewind;

       Rewinds the music to its start. Returns the object or class.

   <b>pos</b>
               $music_or_class-&gt;pos( $pos );

       Sets  the  music position to $pos milliseconds. It does different things for different file types, so see
       SDL::Mixer::Music::set_music_position for details. Note that this method divides $pos by 1000 to pass  it
       to that function, which uses seconds. Returns the object or class.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       SDLx::Music::Data SDLx::Mixer SDL::Mixer::Music SDL::Mixer

</pre><h4><b>AUTHORS</b></h4><pre>
       See "AUTHORS" in SDL.

</pre><h4><b>COPYRIGHT</b> <b>&amp;</b> <b>LICENSE</b></h4><pre>
       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.40.0                                       2024-10-20                             <u>pods::SDLx::<a href="../man3pm/Music.3pm.html">Music</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>