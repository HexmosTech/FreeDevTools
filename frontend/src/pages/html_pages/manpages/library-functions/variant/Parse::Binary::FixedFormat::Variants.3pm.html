<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parse::Binary::FixedFormat::Variants - Convert between variant records and hashes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libparse-binary-perl">libparse-binary-perl_0.11-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Parse::Binary::FixedFormat::Variants - Convert between variant records and hashes

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Parse::Binary::FixedFormat</b> supports variant record formats.  To describe a variant structure, pass a hash
       reference containing the following elements to <b>new</b>.  The object returned to handle variant records will
       be a <b>Parse::Binary::FixedFormat::Variants</b>.

       Chooser
           When converting a buffer to a hash, this subroutine is invoked after applying the first format to the
           buffer.   The  generated  hash reference is passed to this routine.  Any field names specified in the
           first format are available to be used in making a decision on which format to  use  to  decipher  the
           buffer.  This routine should return the index of the proper format specification.

           When  converting  a  hash  to  a buffer, this subroutine is invoked first to choose a packing format.
           Since the same function is used for both conversions, this function should restrict itself  to  field
           names that exist in format 0 and those fields should exist in the same place in all formats.

       Formats
           This is a reference to a list of formats.  Each format contains a list of field specifications.

       For example:

           my $cvt = new Parse::Binary::FixedFormat {
               Chooser =&gt; sub { my $rec=shift;
                                $rec-&gt;{RecordType} eq '0' ? 1 : 2
                              },
               Formats =&gt; [ [ 'RecordType:A1' ],
                            [ 'RecordType:A1', 'FieldA:A6', 'FieldB:A4:4' ],
                            [ 'RecordType:A1', 'FieldC:A4', 'FieldD:A18' ] ]
               };
           my $rec0 = $cvt-&gt;unformat("0FieldAB[0]B[1]B[2]B[3]");
           my $rec1 = $cvt-&gt;unformat("1FldC&lt;-----FieldD-----&gt;");

       In  the  above  example,  the  "Chooser" function looks at the contents of the "RecordType" field.  If it
       contains a '0', format 1 is used.  Otherwise, format 2 is used.

       <b>Parse::Binary::FixedFormat::Variants</b> can be  used  is  if  it  were  a  <b>Parse::Binary::FixedFormat</b>.   The
       "format"  and  "unformat"  methods will determine which variant to use automatically.  The "blank" method
       requires an argument that specifies the variant number.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       Each Parse::Binary::FixedFormat::Variants instance contains the following attributes.

       Layouts
           Contains an array of Parse::Binary::FixedFormat objects.  Each of these objects  is  responsible  for
           converting a single record format variant.

       Chooser
           This attribute contains the function that chooses which variant to apply to the record.

</pre><h4><b>AUTHORS</b></h4><pre>
       Audrey Tang &lt;<a href="mailto:cpan@audreyt.org">cpan@audreyt.org</a>&gt;

       Based     on     Data::FixedFormat::Variants,     written     by     Thomas    Pfau    &lt;<a href="mailto:pfau@nbpfaus.net">pfau@nbpfaus.net</a>&gt;
       <a href="http://nbpfaus.net/~pfau/">http://nbpfaus.net/~pfau/</a>.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2004-2009 by Audrey Tang &lt;<a href="mailto:cpan@audreyt.org">cpan@audreyt.org</a>&gt;.

       Copyright (C) 2000,2002 Thomas Pfau.  All rights reserved.

       This module is free software; you can redistribute it and/or modify it under the terms of the GNU General
       Public License as published by the Free Software Foundation; either version 2 of the License, or (at your
       option) any later version.

       This library is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Library General
       Public License for more details.

       You  should have received a copy of the GNU General Public License along with this program; if not, write
       to the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.

perl v5.36.0                                       2022-12-04             <u>Parse::Binary::...ormat::<a href="../man3pm/Variants.3pm.html">Variants</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>