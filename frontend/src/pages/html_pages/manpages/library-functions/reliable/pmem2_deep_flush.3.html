<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmem2_deep_flush() - highly reliable persistent memory synchronization</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpmem2-dev">libpmem2-dev_1.13.1-1.1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmem2_deep_flush</b>() - highly reliable persistent memory synchronization

</pre><h4><b>SYNOPSIS</b></h4><pre>
              #include &lt;libpmem2.h&gt;

              int pmem2_deep_flush(struct pmem2_map *map, void *ptr, size_t size)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>pmem2_deep_flush</b>() function forces any changes in the range [<u>ptr</u>, <u>ptr</u>+<u>len</u>) from the <u>map</u> to be stored
       durably in the most reliable persistence domain available to software.  In particular, on supported plat‐
       forms, this enables the code not to rely on automatic cache or WPQ (write pending queue) flush  on  power
       failure (ADR/eADR).

       Since  this  operation  is usually much more expensive than regular persist, it should be used sparingly.
       Typically, the application should only ever use this function as a precaution against hardware  failures,
       e.g.,  in  code  that  detects silent data corruption caused by unsafe shutdown (see more in <b>libpmem2_un‐</b>
       <b><a href="../man7/safe_shutdown.7.html">safe_shutdown</a></b>(7)).

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       The <b>pmem2_deep_flush</b>() function returns 0 on success or an error code on failure.

</pre><h4><b>ERRORS</b></h4><pre>
       The <b>pmem2_deep_flush</b>() can fail with the following errors:

       • <b>PMEM2_E_DEEP_FLUSH_RANGE</b> - the provided flush range is not a subset of the map’s address space.

       • <b>PMEM2_E_DAX_REGION_NOT_FOUND</b> - the underlying device region id cannot be detected.

       • -<b>errno</b> set by failing <b><a href="../man2/msync.2.html">msync</a></b>(2), while trying to perform a deep flush on a regular DAX volume.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/msync.2.html">msync</a></b>(2), <b><a href="../man3/pmem2_get_drain_fn.3.html">pmem2_get_drain_fn</a></b>(3), <b><a href="../man3/pmem2_get_persist_fn.3.html">pmem2_get_persist_fn</a></b>(3) <b><a href="../man3/pmem2_map.3.html">pmem2_map</a></b>(3), <b><a href="../man7/libpmem2.7.html">libpmem2</a></b>(7) and <b>&lt;<a href="http://pmem.io">http://pmem.io</a>&gt;</b>
</pre>
 </div>
</div></section>
</div>
</body>
</html>