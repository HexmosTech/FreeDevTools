<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search::Elasticsearch::Client::1_0::Direct::Cluster - A client for running cluster-level requests</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsearch-elasticsearch-client-1-0-perl">libsearch-elasticsearch-client-1-0-perl_6.81-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Search::Elasticsearch::Client::1_0::Direct::Cluster - A client for running cluster-level requests

</pre><h4><b>VERSION</b></h4><pre>
       version 6.81

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides methods to make cluster-level requests, such as getting and setting cluster-level
       settings, manually rerouting shards, and retrieving for monitoring purposes.

       It does Search::Elasticsearch::Role::Client::Direct.

</pre><h4><b>METHODS</b></h4><pre>
   <b>"health()"</b>
           $response = $e-&gt;cluster-&gt;health(
               index   =&gt; 'index' | \@indices  # optional
           );

       The "health()" method is used to retrieve information about the cluster health, returning "red", "yellow"
       or "green" to indicate the state of the cluster, indices or shards.

       Query string parameters:
           "level",
           "local",
           "master_timeout",
           "timeout",
           "wait_for_active_shards",
           "wait_for_nodes",
           "wait_for_relocating_shards",
           "wait_for_status"

       See the cluster health docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/cluster">http://www.elastic.co/guide/en/elasticsearch/reference/current/cluster</a>-
       health.html&gt; for more information.

   <b>"stats()"</b>
           $response = $e-&gt;cluster-&gt;stats(
               node_id =&gt; 'node' | \@nodes     # optional
           );

       Returns high-level cluster stats, optionally limited to the listed nodes.

       Query string parameters:
           "flat_settings",
           "human"

       See the cluster stats docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/cluster">http://www.elastic.co/guide/en/elasticsearch/reference/current/cluster</a>-
       stats.html&gt; for more information.

   <b>"get_settings()"</b>
           $response = $e-&gt;cluster-&gt;get_settings()

       The "get_settings()" method is used to retrieve cluster-wide settings that have been set with the
       "<b>put_settings()</b>" method.

       Query string parameters:
           "flat_settings",
           "master_timeout",
           "timeout"

       See the cluster settings docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/cluster">http://www.elastic.co/guide/en/elasticsearch/reference/current/cluster</a>-
       update-settings.html&gt; for more information.

   <b>"put_settings()"</b>
           $response = $e-&gt;cluster-&gt;put_settings( %settings );

       The "put_settings()" method is used to set cluster-wide settings, either transiently (which don't survive
       restarts) or permanently (which do survive restarts).

       For instance:

           $response = $e-&gt;cluster-&gt;put_settings(
               body =&gt; {
                   transient =&gt; { "discovery.zen.minimum_master_nodes" =&gt; 5 }
               }
           );

       Query string parameters:
           "flat_settings"

       See the cluster settings docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/cluster">http://www.elastic.co/guide/en/elasticsearch/reference/current/cluster</a>-
       update-settings.html&gt;
        for more information.

   <b>"state()"</b>
           $response = $e-&gt;cluster-&gt;state(
               metric =&gt; $metric | \@metrics   # optional
               index  =&gt; $index  | \@indices   # optional
           );

       The "state()" method returns the current cluster state from the master node, or from the responding node
       if "local" is set to "true".

       It returns all metrics by default, but these can be limited to any of:
           "_all",
           "blocks",
           "metadata",
           "nodes",
           "routing_table"

       Metrics for indices can be limited to particular indices with the "index" parameter.

       Query string parameters:
           "allow_no_indices",
           "expand_wildcards",
           "flat_settings",
           "ignore_unavailable",
           "local",
           "master_timeout"

       See the cluster state docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/cluster">http://www.elastic.co/guide/en/elasticsearch/reference/current/cluster</a>-
       state.html&gt; for more information.

   <b>"pending_tasks()"</b>
           $response = $e-&gt;cluster-&gt;pending_tasks();

       Returns a list of cluster-level tasks still pending on the master node.

       Query string parameters:
           "local",
           "master_timeout"

       See the pending tasks docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/cluster">http://www.elastic.co/guide/en/elasticsearch/reference/current/cluster</a>-
       pending.html&gt; for more information.

   <b>"reroute()"</b>
           $e-&gt;cluster-&gt;reroute(
               body =&gt; { commands }
           );

       The "reroute()" method is used to manually reallocate shards from one node to another.  The "body" should
       contain the "commands" indicating which changes should be made. For instance:

           $e-&gt;cluster-&gt;reroute(
               body =&gt; {
                   commands =&gt; [
                       { move =&gt; {
                           index     =&gt; 'test',
                           shard     =&gt; 0,
                           from_node =&gt; 'node_1',
                           to_node   =&gt; 'node_2
                       }},
                       { allocate =&gt; {
                           index     =&gt; 'test',
                           shard     =&gt; 1,
                           node      =&gt; 'node_3'
                       }}
                   ]
               }
           );

       Query string parameters:
           "dry_run",
           "explain",
           "master_timeout",
           "metric",
           "timeout"

       See the reroute docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/cluster">http://www.elastic.co/guide/en/elasticsearch/reference/current/cluster</a>-
       reroute.html&gt; for more information.

</pre><h4><b>AUTHOR</b></h4><pre>
       Enrico Zimuel &lt;<a href="mailto:enrico.zimuel@elastic.co">enrico.zimuel@elastic.co</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2020 by Elasticsearch BV.

       This is free software, licensed under:

         The Apache License, Version 2.0, January 2004

perl v5.36.0                                       2022-08-28              <u>Search::Elasti...Direct::<a href="../man3pm/Cluster.3pm.html">Cluster</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>