<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paranoid::Network - Network functions for paranoid programs</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libparanoid-perl">libparanoid-perl_2.10-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Paranoid::Network - Network functions for paranoid programs

</pre><h4><b>VERSION</b></h4><pre>
       $Id: lib/Paranoid/Network.pm, 2.10 2022/03/08 00:01:04 acorliss Exp $

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Paranoid::Network;

         $rv  = ipInNetworks($ip, @networks);
         $rv  = hostInDomains($host, @domains);
         $cidr = Paranoid::Network::NETMATCH();
         @ips = extractIPs($string1);
         @ips = extractIPs(@lines);
         $rv  = netIntersect( $cidr1, $cidr2 );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This modules contains functions that may be useful for working with network data.  It attempts to be
       IPv4/IPv6 agnostic, assuming IPv6 support is present.  Due to the gradual introduction of IPv6 support
       into Perl there may be caveats.  Please consult Paranoid::Network::Socket for more details.

       <u>NETMATCH</u> and <u>HOSTNAME_REGEX</u> are not exported by default.

</pre><h4><b>IMPORT</b> <b>LISTS</b></h4><pre>
       This module exports the following symbols by default:

           ipInNetworks hostInDomains extractIPs netIntersect

       The following specialized import lists also exist:

           List        Members
           --------------------------------------------------------
           all         @defaults NETMATCH HOSTNAME_REGEX

</pre><h4><b>SUBROUTINES/METHODS</b></h4><pre>
   <b>ipInNetworks</b>
         $rv = ipInNetworks($ip, @networks);

       This function checks the passed IP (in string format) against each of the networks or IPs in the list and
       returns true if there's a match.  The list of networks can be either individual IP address or network
       addresses in CIDR notation or with full netmasks:

         @networks = qw(127.0.0.1
                        192.168.0.0/24
                        172.16.12.0/255.255.240.0);

       You can safely comingle IPv4 &amp; IPv6 addresses in the list to check against.  Addresses not belonging to
       the same address family as the IP being tested will be ignored.

       <b>NOTE:</b>  IPv4 addresses encoded as IPv6 addresses, e.g.:

         ::ffff:192.168.0.5

       are supported, however an IP address submitted in this format as the IP to test for will be converted to
       a pure IPv4 address and compared only against the IPv4 networks.  This is meant as a convenience to the
       developer supporting dual-stack systems to avoid having to list IPv4 networks in the array twice like so:

         ::ffff:192.168.0.0/120, 192.168.0.0/24

       Just list IPv4 as IPv4, IPv6 as IPv6, and this routine will convert IPv6-encoded IPv4 addresses
       automatically.  This would make the following test return a true value:

         ipInNetworks( '::ffff:192.168.0.5', '192.168.0.0/24' );

       but

         ipInNetworks( '::ffff:192.168.0.5', '::ffff:192.168.0.0/120' );

       return a false value.  This may seem counter intuitive, but it simplifies things in (my alternate)
       reality.

       Please note that this automatic conversion only applies to the <b>IP</b> argument, not to any member of the
       network array.

   <b>hostInDomains</b>
         $rv = hostInDomains($host, @domains);

       This function checks the passed hostname (fully qualified) against each of the domains in the list and
       returns true if there's a match.  None of the domains should have the preceding '.' (i.e., 'foo.com'
       rather than '.foo.com').

   <b>NETMATCH</b>
         $cidr = Paranoid::Network::NETMATCH();

       This stores the IP, network address, or domain that matched in <u>ipInNetworks</u> or <u>hostInDomains</u>.  This
       returns <b>undef</b> if any function call fails to make a match.

   <b>HOSTNAME_REGEX</b>
           $rv = $hostname =~ /^@{[ HOSTNAME_REGEX ]}$/so;

       This constant is just a regex meant to be a basic sanity check for appropriate hostnames.  It is probably
       overly strict in accordance with outdated RFCs.

   <b>extractIPs</b>
           @ips = extractIPs($string1);
           @ips = extractIPs(@lines);

       This function extracts IPv4/IPv6 addresses from arbitrary text.  IPv6 support is contingent upon the
       presence of proper support (please see Paranoid::Network::Socket for more details).

       This extracts only IP addresses, not network addresses in CIDR or dotted octet notation.  In the case of
       the latter the netmask will be extracted as an additional address.

       <b>NOTE:</b> in the interest of performance this function does only rough regex extraction of IP-looking
       candidates, then runs them through <b>inet_aton</b> (for IPv4) and <b>inet_pton</b> (for IPv6) to see if they
       successfully convert.  Even with the overhead of <b>Paranoid</b> (with debugging and <u>loadModule</u> calls for
       Socket6 and what-not) it seems that this is an order of a magnitude faster than doing a pure regex
       extraction &amp; validation of IPv6 addresses.

       <b>NOTE:</b> Like the <b>ipInNetworks</b> function we filter out IPv4 addresses encoded as IPv6 addresses since that
       address is already returned as a pure IPv4 address.

   <b>netIntersect</b>
         $rv = netIntersect( $cidr1, $cidr2 );

       This function is an IPv4/IPv6 agnostic wrapper for the <b>ipv{4,6}NetIntersect</b> functions provided by
       Paranoid::Network::IPv{4,6} modules.  The return value from which ever function called is passed on
       directly.  Passing this function non-IP or undefined values simply returns a zero.

</pre><h4><b>DEPENDENCIES</b></h4><pre>
       o   Paranoid

       o   Paranoid::Debug

       o   Paranoid::Network::Socket

       o   Paranoid::Network::IPv4

       o   Paranoid::Network::IPv6

</pre><h4><b>BUGS</b> <b>AND</b> <b>LIMITATIONS</b></h4><pre>
</pre><h4><b>AUTHOR</b></h4><pre>
       Arthur Corliss (<a href="mailto:corliss@digitalmages.com">corliss@digitalmages.com</a>)

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       This  software  is  free  software.   Similar to Perl, you can redistribute it and/or modify it under the
       terms of either:

         a)     the GNU General Public License
                &lt;https://www.gnu.org/licenses/gpl-1.0.html&gt; as published by the
                Free Software Foundation &lt;<a href="http://www.fsf.org/">http://www.fsf.org/</a>&gt;; either version 1
                &lt;https://www.gnu.org/licenses/gpl-1.0.html&gt;, or any later version
                &lt;https://www.gnu.org/licenses/license-list.html#GNUGPL&gt;, or
         b)     the Artistic License 2.0
                &lt;https://opensource.org/licenses/Artistic-2.0&gt;,

       subject to the following additional term:  No trademark rights to "Paranoid" have been  or  are  conveyed
       under  any  of  the  above  licenses.  However, "Paranoid" may be used fairly to describe this unmodified
       software, in good faith, but not as a trademark.

       (c)  2005  -  2020,  Arthur  Corliss  (<a href="mailto:corliss@digitalmages.com">corliss@digitalmages.com</a>)  (tm)  2008  -   2020,   Paranoid   Inc.
       (www.paranoid.com)

perl v5.38.2                                       2024-03-07                             <u>Paranoid::<a href="../man3pm/Network.3pm.html">Network</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>