<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>upsclient - Network UPS Tools client access library</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libupsclient-dev">libupsclient-dev_2.8.3-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       upsclient - Network UPS Tools client access library

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The Network UPS Tools (NUT) <b>upsclient</b> library provides a number of useful functions for client programs
       to use when communicating with <b><a href="../man8/upsd.8.html">upsd</a></b>(8). Many of the low-level socket and protocol details are handled
       automatically when using this interface, also known as "upscli" API.

       State is maintained across calls in an opaque structure called UPSCONN_t. Callers are expected to create
       one per connection. These will be provided to most of the <b>upsclient</b> functions. The format of this
       structure is subject to change, and client programs must not reference elements within it directly.

</pre><h4><b>INITIALIZATION</b> <b>AND</b> <b>CLEANUP</b></h4><pre>
       Before creating any connection, and in general using any upscli function, you must call <b><a href="../man3/upscli_init.3.html">upscli_init</a></b>(3)
       with proper parameters to initialize upscli module.

       To register a specific host security policy, you must call <b><a href="../man3/upscli_add_host_cert.3.html">upscli_add_host_cert</a></b>(3) before initializing a
       connection to it.

       In the same way, just before exiting, and after all upscli usage, you must call <b><a href="../man3/upscli_cleanup.3.html">upscli_cleanup</a></b>(3) to
       flush cache files and perform other cleanup.

</pre><h4><b>NETWORK</b> <b>FUNCTIONS</b></h4><pre>
       To create a new connection, use <b><a href="../man3/upscli_connect.3.html">upscli_connect</a></b>(3). This will also initialize the UPSCONN_t structure. To
       verify that a connection has been established later, <b><a href="../man3/upscli_fd.3.html">upscli_fd</a></b>(3) can be used to return the file
       descriptor. Clients wishing to check for the presence and operation of SSL on a connection may call
       <b><a href="../man3/upscli_ssl.3.html">upscli_ssl</a></b>(3).

       The majority of clients will use <b><a href="../man3/upscli_get.3.html">upscli_get</a></b>(3) to retrieve single items from the server. To retrieve a
       list, use <b><a href="../man3/upscli_list_start.3.html">upscli_list_start</a></b>(3) to get it started, then call <b><a href="../man3/upscli_list_next.3.html">upscli_list_next</a></b>(3) for each element.

       Raw lines of text may be sent to <b><a href="../man8/upsd.8.html">upsd</a></b>(8) with <b><a href="../man3/upscli_sendline.3.html">upscli_sendline</a></b>(3). Reading raw lines is possible with
       <b><a href="../man3/upscli_readline.3.html">upscli_readline</a></b>(3). Client programs are expected to format these lines according to the protocol, as no
       checking will be performed before transmission.

       At the end of a connection, you must call <b><a href="../man3/upsclient_disconnect.3.html">upsclient_disconnect</a></b>(3) to disconnect from <b>upsd</b> and release any
       dynamic memory associated with the UPSCONN_t structure. Failure to call this function will result in
       memory and file descriptor leaks in your program.

</pre><h4><b>STRING</b> <b>FUNCTIONS</b></h4><pre>
       To parse the ups.status values (check whether a particular token is present) you are encouraged to use
       the <b><a href="../man3/upscli_str_contains_token.3.html">upscli_str_contains_token</a></b>(3) method.

       To collect unique tokens into a string in the same manner a NUT driver does, the
       <b><a href="../man3/upscli_str_add_unique_token.3.html">upscli_str_add_unique_token</a></b>(3) can be helpful.

       You are welcome to consult the NUT source code base for use of equivalent methods to implement such
       features as status_init(), status_get(), status_set() and status_commit() methods in its data-processing
       loops.

</pre><h4><b>ERROR</b> <b>HANDLING</b></h4><pre>
       In the event of an error, <b><a href="../man3/upscli_strerror.3.html">upscli_strerror</a></b>(3) will provide human-readable details on what happened.
       <b><a href="../man3/upscli_upserror.3.html">upscli_upserror</a></b>(3) may also be used to retrieve the error number. These numbers are defined in
       <b>upsclient.h</b> as <u>UPSCLI_ERR_*</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/nutclient.3.html">nutclient</a></b>(3), <b><a href="../man1/libupsclient-config.1.html">libupsclient-config</a></b>(1), <b><a href="../man3/upscli_init.3.html">upscli_init</a></b>(3), <b><a href="../man3/upscli_cleanup.3.html">upscli_cleanup</a></b>(3), <b><a href="../man3/upscli_add_host_cert.3.html">upscli_add_host_cert</a></b>(3),
       <b><a href="../man3/upscli_connect.3.html">upscli_connect</a></b>(3), <b><a href="../man3/upscli_disconnect.3.html">upscli_disconnect</a></b>(3), <b><a href="../man3/upscli_fd.3.html">upscli_fd</a></b>(3), <b><a href="../man3/upscli_getvar.3.html">upscli_getvar</a></b>(3), <b><a href="../man3/upscli_list_next.3.html">upscli_list_next</a></b>(3),
       <b><a href="../man3/upscli_list_start.3.html">upscli_list_start</a></b>(3), <b><a href="../man3/upscli_readline.3.html">upscli_readline</a></b>(3), <b><a href="../man3/upscli_sendline.3.html">upscli_sendline</a></b>(3), <b><a href="../man3/upscli_splitaddr.3.html">upscli_splitaddr</a></b>(3), <b><a href="../man3/upscli_splitname.3.html">upscli_splitname</a></b>(3),
       <b><a href="../man3/upscli_ssl.3.html">upscli_ssl</a></b>(3), <b><a href="../man3/upscli_strerror.3.html">upscli_strerror</a></b>(3), <b><a href="../man3/upscli_upserror.3.html">upscli_upserror</a></b>(3), <b><a href="../man3/upscli_str_add_unique_token.3.html">upscli_str_add_unique_token</a></b>(3),
       <b><a href="../man3/upscli_str_contains_token.3.html">upscli_str_contains_token</a></b>(3)

Network UPS Tools 2.8.3                            07/08/2025                                       <u><a href="../man3/UPSCLIENT.3.html">UPSCLIENT</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>