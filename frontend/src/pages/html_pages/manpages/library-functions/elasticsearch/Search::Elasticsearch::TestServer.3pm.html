<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search::Elasticsearch::TestServer - A helper class to launch Elasticsearch nodes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsearch-elasticsearch-perl">libsearch-elasticsearch-perl_8.12-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Search::Elasticsearch::TestServer - A helper class to launch Elasticsearch nodes

</pre><h4><b>VERSION</b></h4><pre>
       version 8.12

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Search::Elasticsearch;
           use Search::Elasticsearch::TestServer;

           my $server = Search::Elasticsearch::TestServer-&gt;new(
               es_home    =&gt; '/path/to/elasticsearch',  # defaults to $ENV{ES_HOME}
               es_version =&gt; '6_0'                      # defaults to $ENV{ES_VERSION}
           );

           my $nodes = $server-&gt;start;
           my $es    = Search::Elasticsearch-&gt;new( nodes =&gt; $nodes );
           # run tests
           $server-&gt;shutdown;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The Search::Elasticsearch::TestServer class can be used to launch one or more instances of Elasticsearch
       for testing purposes.  The nodes will be shutdown automatically.

</pre><h4><b>METHODS</b></h4><pre>
   <b>new()</b>
           my $server = Search::Elasticsearch::TestServer-&gt;new(
               es_home    =&gt; '/path/to/elasticsearch',
               es_version =&gt; '6_0',
               instances =&gt; 1,
               http_port =&gt; 9600,
               es_port   =&gt; 9700,
               conf      =&gt; ['attr.foo=bar'],
           );

       Params:

       •   "es_home"

           Required.  Must  point  to  the  Elasticsearch  home directory, which contains "./bin/elasticsearch".
           Defaults to $ENV{ES_HOME}

       •   "es_version"

           Required. Accepts a version of the client, eg  `6_0`,  `5_0`,  `2_0`,  `1_0`,  `0_90`.   Defaults  to
           $ENV{ES_VERSION}.

       •   "instances"

           The number of nodes to start. Defaults to 1

       •   "http_port"

           The  port to use for HTTP. If multiple instances are started, the "http_port" will be incremented for
           each subsequent instance. Defaults to 9600.

       •   "es_port"

           The port to use for Elasticsearch's internal  transport.  If  multiple  instances  are  started,  the
           "es_port" will be incremented for each subsequent instance.  Defaults to 9700

       •   "conf"

           An array containing any extra startup options that should be passed to Elasticsearch.

</pre><h4><b>start()</b></h4><pre>
           $nodes = $server-&gt;start;

       Starts  the required instances and returns an array ref containing the IP and port of each node, suitable
       for passing to "<b>new()</b>" in Search::Elasticsearch:

           $es = Search::Elasticsearch-&gt;new( nodes =&gt; $nodes );

</pre><h4><b>shutdown()</b></h4><pre>
           $server-&gt;shutdown;

       Kills the running instances.  This will be called automatically when $server goes out of scope or if  the
       program receives a "SIGINT".

</pre><h4><b>AUTHOR</b></h4><pre>
       Enrico Zimuel &lt;<a href="mailto:enrico.zimuel@elastic.co">enrico.zimuel@elastic.co</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2024 by Elasticsearch BV.

       This is free software, licensed under:

         The Apache License, Version 2.0, January 2004

perl v5.38.2                                       2024-02-04             <u>Search::Elasticsearch::<a href="../man3pm/TestServer.3pm.html">TestServer</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>