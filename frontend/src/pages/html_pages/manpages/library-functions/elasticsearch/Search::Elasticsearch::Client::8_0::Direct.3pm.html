<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search::Elasticsearch::Client::8_0::Direct - Thin client with full support for Elasticsearch 8.x APIs</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsearch-elasticsearch-perl">libsearch-elasticsearch-perl_8.12-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Search::Elasticsearch::Client::8_0::Direct - Thin client with full support for Elasticsearch 8.x APIs

</pre><h4><b>VERSION</b></h4><pre>
       version 8.12

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Create a client:

           use Search::Elasticsearch;
           my $e = Search::Elasticsearch-&gt;new(
               client =&gt; '8_0::Direct'
           );

       Index a doc:

           $e-&gt;index(
               index   =&gt; 'my_index',
               type    =&gt; 'blog_post',
               id      =&gt; 123,
               body    =&gt; {
                   title   =&gt; "Elasticsearch clients",
                   content =&gt; "Interesting content...",
                   date    =&gt; "2013-09-23"
               }
           );

       Get a doc:

           $e-&gt;get(
               index   =&gt; 'my_index',
               type    =&gt; 'my_type',
               id      =&gt; 123
           );

       Search for docs:

           $results = $e-&gt;search(
               index   =&gt; 'my_index',
               body    =&gt; {
                   query =&gt; {
                       match =&gt; {
                           title =&gt; "elasticsearch"
                       }
                   }
               }
           );

       Index-level requests:

           $e-&gt;indices-&gt;create( index =&gt; 'my_index' );
           $e-&gt;indices-&gt;delete( index =&gt; 'my_index' )

       Ingest pipeline requests:

           $e-&gt;ingest-&gt;get_pipeline( id =&gt; 'apache-logs' );

       Cluster-level requests:

           $health = $e-&gt;cluster-&gt;health;

       Node-level requests:

           $info  = $e-&gt;nodes-&gt;info;
           $stats = $e-&gt;nodes-&gt;stats;

       Snapshot and restore:

           $e-&gt;snapshot-&gt;create_repository(
               repository =&gt; 'my_backups',
               type       =&gt; 'fs',
               settings   =&gt; {
                   location =&gt; '/mnt/backups'
               }
           );

           $e-&gt;snapshot-&gt;create(
               repository =&gt; 'my_backups',
               snapshot   =&gt; 'backup_2014'
           );

       Task management:

           $e-&gt;tasks-&gt;list;

       `cat` debugging:

           say $e-&gt;cat-&gt;allocation;
           say $e-&gt;cat-&gt;health;

       Cross-cluster replication requests:

           say $e-&gt;ccr-&gt;follow;

       Index lifecycle management requests:

           say $e-&gt;ilm-&gt;put_lifecycle;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The Search::Elasticsearch::Client::8_0::Direct class provides the Elasticsearch 8.x compatible client
       returned by:

           $e = Search::Elasticsearch-&gt;new(
               client =&gt; "8_0::Direct"  # default
           );

       It is intended to be as close as possible to the native REST API that Elasticsearch uses, so that it is
       easy to translate the Elasticsearch reference documentation &lt;<a href="http://www.elasticsearch/guide">http://www.elasticsearch/guide</a>&gt; for an API
       to the equivalent in this client.

       This class provides the methods for document CRUD, bulk document CRUD and search.  It also provides
       access to clients for managing indices and the cluster.

</pre><h4><b>PREVIOUS</b> <b>VERSIONS</b> <b>OF</b> <b>ELASTICSEARCH</b></h4><pre>
       This version of the client supports the Elasticsearch 8.0 branch, which is not backwards compatible with
       earlier branches.

       If you need to talk to a version of Elasticsearch before 8.0.0, please install one of the following
       modules:

       •   Search::Elasticsearch::Client::7_0

       •   Search::Elasticsearch::Client::6_0

       •   Search::Elasticsearch::Client::5_0

       •   Search::Elasticsearch::Client::2_0

       •   Search::Elasticsearch::Client::1_0

       •   Search::Elasticsearch::Client::0_90

</pre><h4><b>CONVENTIONS</b></h4><pre>
   <b>Parameter</b> <b>passing</b>
       Parameters  can  be  passed  to  any  request  method as a list or as a hash reference. The following two
       statements are equivalent:

           $e-&gt;search( size =&gt; 10 );
           $e-&gt;search({size =&gt; 10});

   <b>Path</b> <b>parameters</b>
       Any values that should be included in the URL path, eg "/{index}/{type}" should be passed  as  top  level
       parameters:

           $e-&gt;search( index =&gt; 'my_index', type =&gt; 'my_type' );

       Alternatively, you can specify a "path" parameter directly:

           $e-&gt;search( path =&gt; '/my_index/my_type' );

   <b>Query-string</b> <b>parameters</b>
       Any values that should be included in the query string should be passed as top level parameters:

           $e-&gt;search( size =&gt; 10 );

       If  you  pass  in  a "\%params" hash, then it will be included in the query string parameters without any
       error checking. The following:

           $e-&gt;search( size =&gt; 10, params =&gt; { from =&gt; 6, size =&gt; 6 })

       would result in this query string:

           ?from=6&amp;size=10

   <b>Body</b> <b>parameter</b>
       The request body should be passed in the "body" key:

           $e-&gt;search(
               body =&gt; {
                   query =&gt; {...}
               }
           );

       The body can also be a UTF8-decoded string, which will be converted into UTF-8 bytes and passed as is:

           $e-&gt;indices-&gt;analyze( body =&gt; "The quick brown fox");

   <b>Boolean</b> <b>parameters</b>
       Elasticsearch 7.0.0 and above no longer accepts truthy and falsey values for booleans.  Instead, it  will
       accept only a JSON "true" or "false", or the string equivalents "true" or "false".

       In the Perl client, you can use the following values:

       •   True: "true", "\1", or a JSON::PP::Boolean object.

       •   False: "false", "\0", or a JSON::PP::Boolean object.

   <b>Filter</b> <b>path</b> <b>parameter</b>
       Any  API  which  returns a JSON body accepts a "filter_path" parameter which will filter the JSON down to
       only the specified paths.  For instance, if you are running a search request and only  want  the  "total"
       hits and the "_source" field for each hit (without the "_id", "_index" etc), you can do:

           $e-&gt;search(
               query =&gt; {...},
               filter_paths =&gt; [ 'hits.total', 'hits.hits._source' ]
           );

   <b>Ignore</b> <b>parameter</b>
       Normally,  any  HTTP  status  code  outside  the  200-299 range will result in an error being thrown.  To
       suppress these errors, you can specify which status codes to ignore in the "ignore" parameter.

           $e-&gt;indices-&gt;delete(
               index  =&gt; 'my_index',
               ignore =&gt; 404
           );

       This is most useful for Missing errors, which are triggered by a 404  status  code  when  some  requested
       resource does not exist.

       Multiple error codes can be specified with an array:

           $e-&gt;indices-&gt;delete(
               index  =&gt; 'my_index',
               ignore =&gt; [404,409]
           );

</pre><h4><b>CONFIGURATION</b></h4><pre>
   <b>"bulk_helper_class"</b>
       The class to use for the "<b>bulk_helper()</b>" method. Defaults to Search::Elasticsearch::Client::8_0::Bulk.

   <b>"scroll_helper_class"</b>
       The      class      to      use      for      the      "<b>scroll_helper()</b>"      method.     Defaults     to
       Search::Elasticsearch::Client::8_0::Scroll.

</pre><h4><b>GENERAL</b> <b>METHODS</b></h4><pre>
   <b>info()</b>
           $info = $e-&gt;info

       Returns information about the version of Elasticsearch that the responding node is running.

   <b>ping()</b>
           $e-&gt;ping

       Pings a node in the cluster and returns 1 if it receives a 200 response, otherwise it throws an error.

   <b>indices()</b>
           $indices_client = $e-&gt;indices;

       Returns a Search::Elasticsearch::Client::8_0::Direct::Indices object  which  can  be  used  for  managing
       indices, eg creating, deleting indices, managing mapping, index settings etc.

   <b>ingest()</b>
           $ingest_client = $e-&gt;ingest;

       Returns a Search::Elasticsearch::Client::8_0::Direct::Ingest object which can be used for managing ingest
       pipelines.

   <b>cluster()</b>
           $cluster_client = $e-&gt;cluster;

       Returns  a  Search::Elasticsearch::Client::8_0::Direct::Cluster object which can be used for managing the
       cluster, eg cluster-wide settings and cluster health.

   <b>nodes()</b>
           $node_client = $e-&gt;nodes;

       Returns a Search::Elasticsearch::Client::8_0::Direct::Nodes object which can be  used  to  retrieve  node
       info and stats.

   <b>snapshot()</b>
           $snapshot_client = $e-&gt;snapshot;

       Returns  a  Search::Elasticsearch::Client::8_0::Direct::Snapshot object which is used for managing backup
       repositories and creating and restoring snapshots.

   <b>tasks()</b>
           $tasks_client = $e-&gt;tasks;

       Returns a Search::Elasticsearch::Client::8_0::Direct::Tasks object which is used for accessing  the  task
       management API.

   <b>cat()</b>
           $cat_client = $e-&gt;cat;

       Returns  a Search::Elasticsearch::Client::8_0::Direct::Cat object which can be used to retrieve simple to
       read text info for debugging and monitoring an Elasticsearch cluster.

   <b>ccr()</b>
           $ccr_client = $e-&gt;ccr;

       Returns a Search::Elasticsearch::Client::8_0::Direct::CCR object which  can  be  used  to  handle  cross-
       cluster replication requests.

   <b>ilm()</b>
           $ilm_client = $e-&gt;ilm;

       Returns  a  Search::Elasticsearch::Client::8_0::Direct::ILM  object  which  can  be  used to handle index
       lifecycle management requests.

</pre><h4><b>DOCUMENT</b> <b>CRUD</b> <b>METHODS</b></h4><pre>
       These methods allow you to perform create, index, update and delete requests for single documents:

   <b>index()</b>
           $response = $e-&gt;index(
               index   =&gt; 'index_name',        # required
               type    =&gt; 'type_name',         # required
               id      =&gt; 'doc_id',            # optional, otherwise auto-generated

               body    =&gt; { document }         # required
           );

       The index() method is used to index a new document or to reindex an existing document.

       Query string parameters:
           "error_trace",
           "human",
           "if_primary_term",
           "if_seq_no",
           "op_type",
           "parent",
           "pipeline",
           "refresh",
           "routing",
           "timeout",
           "version",
           "version_type",
           "wait_for_active_shards"

       See the index docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html</a>&gt;  for
       more information.

   <b>create()</b>
           $response = $e-&gt;create(
               index   =&gt; 'index_name',        # required
               type    =&gt; 'type_name',         # required
               id      =&gt; 'doc_id',            # required

               body    =&gt; { document }         # required
           );

       The create() method works exactly like the "<b>index()</b>" method, except that it will throw a "Conflict" error
       if a document with the same "index", "type" and "id" already exists.

       Query string parameters:
           "consistency",
           "error_trace",
           "human",
           "op_type",
           "parent",
           "refresh",
           "routing",
           "timeout",
           "version",
           "version_type"

       See the create docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-create.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-create.html</a>&gt; for
       more information.

   <b>get()</b>
           $response = $e-&gt;get(
               index   =&gt; 'index_name',        # required
               type    =&gt; 'type_name',         # required
               id      =&gt; 'doc_id',            # required
           );

       The  get() method will retrieve the document with the specified "index", "type" and "id", or will throw a
       "Missing" error.

       Query string parameters:
           "_source",
           "_source_excludes",
           "_source_includes",
           "error_trace",
           "human",
           "parent",
           "preference",
           "realtime",
           "refresh",
           "routing",
           "stored_fields",
           "version",
           "version_type"

       See the get docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html</a>&gt; for  more
       information.

   <b>get_source()</b>
           $response = $e-&gt;get_source(
               index   =&gt; 'index_name',        # required
               type    =&gt; 'type_name',         # required
               id      =&gt; 'doc_id',            # required
           );

       The  get_source()  method  works  just  like the "<b>get()</b>" method except that it returns just the "_source"
       field (the value of the "body" parameter in the "<b>index()</b>" method)  instead  of  returning  the  "_source"
       field plus the document metadata, ie the "_index", "_type" etc.

       Query string parameters:
           "_source",
           "_source_excludes",
           "_source_includes",
           "error_trace",
           "human",
           "parent",
           "preference",
           "realtime",
           "refresh",
           "routing",
           "version",
           "version_type"

       See  the  get_source  docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html</a>&gt;
       for more information.

   <b>exists()</b>
           $response = $e-&gt;exists(
               index   =&gt; 'index_name',        # required
               type    =&gt; 'type_name',         # required
               id      =&gt; 'doc_id',            # required
           );

       The exists() method returns 1 if a document with the specified "index", "type" and  "id"  exists,  or  an
       empty string if it doesn't.

       Query string parameters:
           "_source",
           "_source_excludes",
           "_source_includes",
           "error_trace",
           "human",
           "parent",
           "preference",
           "realtime",
           "refresh",
           "routing",
           "version",
           "version_type"

       See  the  exists  docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html</a>&gt; for
       more information.

   <b>delete()</b>
           $response = $e-&gt;delete(
               index   =&gt; 'index_name',        # required
               type    =&gt; 'type_name',         # required
               id      =&gt; 'doc_id',            # required
           );

       The delete() method will delete the document with the specified "index", "type" and "id", or will throw a
       "Missing" error.

       Query string parameters:
           "error_trace",
           "human",
           "if_primary_term",
           "if_seq_no",
           "parent",
           "refresh",
           "routing",
           "timeout",
           "version",
           "version_type",
           "wait_for_active_shards"

       See the delete docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-delete.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-delete.html</a>&gt; for
       more information.

   <b>update()</b>
           $response = $e-&gt;update(
               index   =&gt; 'index_name',        # required
               type    =&gt; 'type_name',         # required
               id      =&gt; 'doc_id',            # required

               body    =&gt; { update }           # required
           );

       The update() method updates a document with the corresponding "index", "type"  and  "id"  if  it  exists.
       Updates can be performed either by:

       •   providing a partial document to be merged in to the existing document:

               $response = $e-&gt;update(
                   ...,
                   body =&gt; {
                       doc =&gt; { new_field =&gt; 'new_value'},
                   }
               );

       •   with an inline script:

               $response = $e-&gt;update(
                   ...,
                   body =&gt; {
                       script =&gt; {
                           source =&gt; "ctx._source.counter += incr",
                           params =&gt; { incr =&gt; 6 }
                       }
                   }
               );

       •   with an indexed script:

               $response = $e-&gt;update(
                   ...,
                   body =&gt; {
                       script =&gt; {
                           id     =&gt; $id,
                           lang   =&gt; 'painless',
                           params =&gt; { incr =&gt; 6 }
                       }
                   }
               );

           See    indexed    scripts   &lt;https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-
           scripting.html#_indexed_scripts&gt; for more information.

       •   with a script stored as a file:

               $response = $e-&gt;update(
                   ...,
                   body =&gt; {
                       script =&gt; {
                           file   =&gt; 'counter',
                           lang   =&gt; 'painless',
                           params =&gt; { incr =&gt; 6 }
                       }
                   }
               );

           See    scripting    docs    &lt;https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-
           scripting.html&gt; for more information.

       Query string parameters:
           "_source",
           "_source_excludes",
           "_source_includes",
           "error_trace",
           "fields",
           "human",
           "if_primary_term",
           "if_seq_no",
           "lang",
           "parent",
           "refresh",
           "retry_on_conflict",
           "routing",
           "timeout",
           "version",
           "version_type",
           "wait_for_active_shards"

       See the update docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-update.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-update.html</a>&gt; for
       more information.

   <b>termvectors()</b>
           $results = $e-&gt;termvectors(
               index   =&gt; $index,          # required
               type    =&gt; $type,           # required

               id      =&gt; $id,             # optional
               body    =&gt; {...}            # optional
           )

       The  termvectors()  method  retrieves  term and field statistics, positions, offsets and payloads for the
       specified document, assuming that termvectors have been enabled.

       Query string parameters:
           "error_trace",
           "field_statistics",
           "fields",
           "human",
           "offsets",
           "parent",
           "payloads",
           "positions",
           "preference",
           "realtime",
           "routing",
           "term_statistics",
           "version",
           "version_type"

       See    the    termvector    docs    &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs</a>-
       termvectors.html&gt; for more information.

</pre><h4><b>BULK</b> <b>DOCUMENT</b> <b>CRUD</b> <b>METHODS</b></h4><pre>
       The  bulk  document  CRUD methods are used for running multiple CRUD actions within a single request.  By
       reducing the number of network requests that need to be made, bulk requests greatly improve performance.

   <b>bulk()</b>
           $response = $e-&gt;bulk(
               index   =&gt; 'index_name',        # required if type specified
               type    =&gt; 'type_name',         # optional

               body    =&gt; [ actions ]          # required
           );

       See Search::Elasticsearch::Client::8_0::Bulk and "<b>bulk_helper()</b>" for a  helper  module  that  makes  bulk
       indexing simpler to use.

       The  bulk()  method  can  perform multiple "<b>index()</b>", "<b>create()</b>", "<b>delete()</b>" or "<b>update()</b>" actions with a
       single request. The "body" parameter expects an array containing the list of actions to perform.

       An <u>action</u> consists of an initial metadata hash ref  containing  the  action  type,  plus  the  associated
       metadata, eg :

           { delete =&gt; { _index =&gt; 'index', _type =&gt; 'type', _id =&gt; 123 }}

       The "index" and "create" actions then expect a hashref containing the document itself:

           { create =&gt; { _index =&gt; 'index', _type =&gt; 'type', _id =&gt; 123 }},
           { title =&gt; "A newly created document" }

       And the "update" action expects a hashref containing the update commands, eg:

           { update =&gt; { _index =&gt; 'index', _type =&gt; 'type', _id =&gt; 123 }},
           { script =&gt; "ctx._source.counter+=1" }

       Each  action can include the same parameters that you would pass to the equivalent "<b>index()</b>", "<b>create()</b>",
       "<b>delete()</b>" or "<b>update()</b>" request, except that "_index", "_type" and "_id"  must  be  specified  with  the
       preceding underscore. All other parameters can be specified with or without the underscore.

       For instance:

           $response = $e-&gt;bulk(
               index   =&gt; 'index_name',        # default index name
               type    =&gt; 'type_name',         # default type name
               body    =&gt; [

                   # create action
                   { create =&gt; {
                       _index =&gt; 'not_the_default_index',
                       _type  =&gt; 'not_the_default_type',
                       _id    =&gt; 123
                   }},
                   { title =&gt; 'Foo' },

                   # index action
                   { index =&gt; { _id =&gt; 124 }},
                   { title =&gt; 'Foo' },

                   # delete action
                   { delete =&gt; { _id =&gt; 126 }},

                   # update action
                   { update =&gt; { _id =&gt; 126 }},
                   { script =&gt; "ctx._source.counter+1" }
               ]
           );

       Each action is performed separately. One failed action will not cause the others to fail as well.

       Query string parameters:
           "_source",
           "_source_excludes",
           "_source_includes",
           "error_trace",
           "fields",
           "human",
           "pipeline",
           "refresh",
           "routing",
           "timeout",
           "wait_for_active_shards"

       See  the  bulk  docs  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html</a>&gt; for
       more information.

   <b>bulk_helper()</b>
           $bulk_helper = $e-&gt;bulk_helper( @args );

       Returns  a  new  instance  of  the  class  specified  in  the  "bulk_helper_class",  which  defaults   to
       Search::Elasticsearch::Client::8_0::Bulk.

   <b>mget()</b>
           $results = $e-&gt;mget(
               index   =&gt; 'default_index',     # optional, required when type specified
               type    =&gt; 'default_type',      # optional

               body    =&gt; { docs or ids }      # required
           );

       The  mget()  method  will  retrieve  multiple documents with a single request.  The "body" consists of an
       array of documents to retrieve:

           $results = $e-&gt;mget(
               index   =&gt; 'default_index',
               type    =&gt; 'default_type',
               body    =&gt; {
                   docs =&gt; [
                       { _id =&gt; 1},
                       { _id =&gt; 2, _type =&gt; 'not_the_default_type' }
                   ]
               }
           );

       You can also pass any of the other parameters that the "<b>get()</b>" request accepts.

       If you have specified an "index" and "type", you can just include the "ids" of the documents to retrieve:

           $results = $e-&gt;mget(
               index   =&gt; 'default_index',
               type    =&gt; 'default_type',
               body    =&gt; {
                   ids =&gt; [ 1, 2, 3]
               }
           );

       Query string parameters:
           "_source",
           "_source_excludes",
           "_source_includes",
           "error_trace",
           "human",
           "preference",
           "realtime",
           "refresh",
           "routing",
           "stored_fields"

       See the  mget  docs  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-multi-get.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-multi-get.html</a>&gt;
       for more information.

   <b>mtermvectors()</b>
           $results = $e-&gt;mtermvectors(
               index   =&gt; $index,          # required if type specified
               type    =&gt; $type,           # optional

               body    =&gt; { }              # optional
           )

       Runs multiple "<b>termvector()</b>" requests in a single request, eg:

           $results = $e-&gt;mtermvectors(
               index   =&gt; 'test',
               body    =&gt; {
                   docs =&gt; [
                       { _type =&gt; 'test', _id =&gt; 1, fields =&gt; ['text'] },
                       { _type =&gt; 'test', _id =&gt; 2, payloads =&gt; 1 },
                   ]
               }
           );

       Query string parameters:
           "error_trace",
           "field_statistics",
           "fields",
           "human",
           "ids",
           "offsets",
           "parent",
           "payloads",
           "positions",
           "preference",
           "realtime",
           "routing",
           "term_statistics",
           "version",
           "version_type"

       See  the  mtermvectors  docs  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-multi">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-multi</a>-
       termvectors.html&gt; for more information.

</pre><h4><b>SEARCH</b> <b>METHODS</b></h4><pre>
       The search methods are used for querying documents in one, more or all indices and of one,  more  or  all
       types:

   <b>search()</b>
           $results = $e-&gt;search(
               index   =&gt; 'index' | \@indices,     # optional
               type    =&gt; 'type'  | \@types,       # optional

               body    =&gt; { search params }        # optional
           );

       The search() method searches for matching documents in one or more indices.  It is just as easy to search
       a  single  index  as  it  is  to search all the indices in your cluster.  It can also return aggregations
       &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations.html</a>&gt;     highlighted
       snippets   &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-highlighting.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-highlighting.html</a>&gt;  and
       did-you-mean           &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters</a>-
       phrase.html&gt;                                     or                                    search-as-you-type
       &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters-completion.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters-completion.html</a>&gt;
       suggestions.

       The <u>lite</u> version  of  search  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-uri">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-uri</a>-
       request.html&gt;  allows  you  to specify a query string in the "q" parameter, using the Lucene query string
       syntax:

           $results = $e-&gt;search( q =&gt; 'title:(elasticsearch clients)');

       However,    the     preferred     way     to     search     is     by     using     the     Query     DSL
       &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html</a>&gt;  to  create  a query, and
       passing           that            "query"            in            the            request            body
       &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-body.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-body.html</a>&gt;:

           $results = $e-&gt;search(
               body =&gt; {
                   query =&gt; {
                       match =&gt; { title =&gt; 'Elasticsearch clients'}
                   }
               }
           );

       Query string parameters:
           "_source",
           "_source_excludes",
           "_source_includes",
           "allow_no_indices",
           "allow_partial_search_results",
           "analyze_wildcard",
           "analyzer",
           "batched_reduce_size",
           "default_operator",
           "df",
           "docvalue_fields",
           "error_trace",
           "expand_wildcards",
           "explain",
           "from",
           "human",
           "ignore_throttled",
           "ignore_unavailable",
           "lenient",
           "max_concurrent_shard_requests",
           "pre_filter_shard_size",
           "preference",
           "q",
           "request_cache",
           "rest_total_hits_as_int",
           "routing",
           "scroll",
           "search_type",
           "seq_no_primary_term",
           "size",
           "sort",
           "stats",
           "stored_fields",
           "suggest_field",
           "suggest_mode",
           "suggest_size",
           "suggest_text",
           "terminate_after",
           "timeout",
           "track_scores",
           "track_total_hits",
           "typed_keys",
           "version"

       See  the search reference &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-request">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-request</a>-
       body.html&gt; for more information.

       Also see "send_get_body_as" in Search::Elasticsearch::Transport.

   <b>count()</b>
           $results = $e-&gt;count(
               index   =&gt; 'index' | \@indices,     # optional
               type    =&gt; 'type'  | \@types,       # optional

               body    =&gt; { query }                # optional
           )

       The count() method returns the total count of all documents matching the query:

           $results = $e-&gt;count(
               body =&gt; {
                   query =&gt; {
                       match =&gt; { title =&gt; 'Elasticsearch clients' }
                   }
               }
           );

       Query string parameters:
           "allow_no_indices",
           "analyze_wildcard",
           "analyzer",
           "default_operator",
           "df",
           "error_trace",
           "expand_wildcards",
           "human",
           "ignore_throttled",
           "ignore_unavailable",
           "lenient",
           "lowercase_expanded_terms"
           "min_score",
           "preference",
           "q",
           "routing",
           "terminate_after"

       See the count docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-count.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-count.html</a>&gt; for
       more information.

   <b>search_template()</b>
           $results = $e-&gt;search_template(
               index   =&gt; 'index' | \@indices,     # optional
               type    =&gt; 'type'  | \@types,       # optional

               body    =&gt; { search params }        # required
           );

       Perform a search by specifying a template (either predefined or defined within the "body") and parameters
       to use with the template, eg:

           $results = $e-&gt;search_template(
               body =&gt; {
                   source =&gt; {
                       query =&gt; {
                           match =&gt; {
                               "{{my_field}}" =&gt; "{{my_value}}"
                           }
                       },
                       size =&gt; "{{my_size}}"
                   },
                   params =&gt; {
                       my_field =&gt; 'foo',
                       my_value =&gt; 'bar',
                       my_size  =&gt; 6
                   }
               }
           );

       See  the  search  template  docs  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search">http://www.elastic.co/guide/en/elasticsearch/reference/current/search</a>-
       template.html&gt; for more information.

       Query string parameters:
           "allow_no_indices",
           "error_trace",
           "expand_wildcards",
           "explain",
           "human",
           "ignore_throttled",
           "ignore_unavailable",
           "preference",
           "profile",
           "rest_total_hits_as_int",
           "scroll",
           "search_type",
           "typed_keys"

   <b>render_search_template()</b>
           $response = $e-&gt;render_search_template(
               id   =&gt; 'id',           # optional
               body =&gt; { template }    # optional
           );

       Renders the template, filling in the passed-in parameters and returns the resulting JSON, eg:

           $results = $e-&gt;render_search_template(
               body =&gt; {
                   source =&gt; {
                       query =&gt; {
                           match =&gt; {
                               "{{my_field}}" =&gt; "{{my_value}}"
                           }
                       },
                       size =&gt; "{{my_size}}"
                   },
                   params =&gt; {
                       my_field =&gt; 'foo',
                       my_value =&gt; 'bar',
                       my_size  =&gt; 6
                   }
               }
           );

       See  the  search  template  docs  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search">http://www.elastic.co/guide/en/elasticsearch/reference/current/search</a>-
       template.html&gt; for more information.

   <b>scroll()</b>
           $results = $e-&gt;scroll(
               scroll      =&gt; '1m',
               body =&gt; {
                   scroll_id   =&gt; $id
               }
           );

       When a "<b>search()</b>" has been performed with the "scroll" parameter, the scroll() method allows you to  keep
       pulling more results until the results are exhausted.

       See  "<b>scroll_helper()</b>"  and  Search::Elasticsearch::Client::8_0::Scroll  for a helper utility which makes
       managing scroll requests much easier.

       Query string parameters:
           "error_trace",
           "human",
           "rest_total_hits_as_int",
           "scroll",
           "scroll_id"

       See  the  scroll   docs   &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-request">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-request</a>-
       scroll.html&gt;                  and                  the                  search_type                  docs
       &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search.html/search-request-search">http://www.elastic.co/guide/en/elasticsearch/reference/current/search.html/search-request-search</a>-
       type.html&gt; for more information.

   <b>clear_scroll()</b>
           $response = $e-&gt;clear_scroll(
               body =&gt; {
                   scroll_id =&gt; $id | \@ids    # required
               }
           );

       The clear_scroll() method can clear unfinished scroll requests, freeing up resources on the server.

   <b>scroll_helper()</b>
           $scroll_helper = $e-&gt;scroll_helper( @args );

       Returns a  new  instance  of  the  class  specified  in  the  "scroll_helper_class",  which  defaults  to
       Search::Elasticsearch::Client::8_0::Scroll.

   <b>msearch()</b>
           $results = $e-&gt;msearch(
               index   =&gt; 'default_index' | \@indices,     # optional
               type    =&gt; 'default_type'  | \@types,       # optional

               body    =&gt; [ searches ]                     # required
           );

       The  msearch()  method  allows  you  to  perform  multiple  searches in a single request.  Similar to the
       "<b>bulk()</b>" request, each search request in the "body" consists of two hashes: the metadata  hash  then  the
       search  request  hash  (the  same  data  that  you'd specify in the "body" of a "<b>search()</b>" request).  For
       instance:

           $results = $e-&gt;msearch(
               index   =&gt; 'default_index',
               type    =&gt; ['default_type_1', 'default_type_2'],
               body =&gt; [
                   # uses defaults
                   {},
                   { query =&gt; { match_all =&gt; {} }},

                   # uses a custom index
                   { index =&gt; 'not_the_default_index' },
                   { query =&gt; { match_all =&gt; {} }}
               ]
           );

       Query string parameters:
           "error_trace",
           "human",
           "max_concurrent_searches",
           "max__concurrent_shard_requests",
           "pre_filter_shard_size",
           "rest_total_hits_as_int",
           "search_type",
           "typed_keys"

       See  the   msearch   docs   &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-multi">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-multi</a>-
       search.html&gt; for more information.

   <b>msearch_template()</b>
           $results = $e-&gt;msearch_template(
               index   =&gt; 'default_index' | \@indices,     # optional
               type    =&gt; 'default_type'  | \@types,       # optional

               body    =&gt; [ search_templates ]             # required
           );

       The  msearch_template()  method  allows you to perform multiple searches in a single request using search
       templates.  Similar to the "<b>bulk()</b>" request, each search request in the "body" consists  of  two  hashes:
       the  metadata  hash  then  the  search  request hash (the same data that you'd specify in the "body" of a
       "<b>search()</b>" request).  For instance:

           $results = $e-&gt;msearch(
               index   =&gt; 'default_index',
               type    =&gt; ['default_type_1', 'default_type_2'],
               body =&gt; [
                   # uses defaults
                   {},
                   { source =&gt; { query =&gt; { match =&gt; { user =&gt; "{{user}}" }}} params =&gt; { user =&gt; 'joe' }},

                   # uses a custom index
                   { index =&gt; 'not_the_default_index' },
                   { source =&gt; { query =&gt; { match =&gt; { user =&gt; "{{user}}" }}} params =&gt; { user =&gt; 'joe' }},
               ]
           );

       Query string parameters:
           "error_trace",
           "human",
           "max_concurrent_searches",
           "rest_total_hits_as_int",
           "search_type",
           "typed_keys"

       See  the  msearch-template  docs  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search">http://www.elastic.co/guide/en/elasticsearch/reference/current/search</a>-
       multi-search.html&gt; for more information.

   <b>explain()</b>
           $response = $e-&gt;explain(
               index   =&gt; 'my_index',  # required
               type    =&gt; 'my_type',   # required
               id      =&gt; 123,         # required

               body    =&gt; { search }   # required
           );

       The  explain()  method  explains  why  the  specified  document did or did not match a query, and how the
       relevance score was calculated.  For instance:

           $response = $e-&gt;explain(
               index   =&gt; 'my_index',
               type    =&gt; 'my_type',
               id      =&gt; 123,
               body    =&gt; {
                   query =&gt; {
                       match =&gt; { title =&gt; 'Elasticsearch clients' }
                   }
               }
           );

       Query string parameters:
           "_source",
           "_source_excludes",
           "_source_includes",
           "analyze_wildcard",
           "analyzer",
           "default_operator",
           "df",
           "error_trace",
           "human",
           "lenient",
           "parent",
           "preference",
           "q",
           "routing",
           "stored_fields"

       See the explain docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-explain.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-explain.html</a>&gt;
       for more information.

   <b>field_caps()</b>
           $response = $e-&gt;field_caps(
               index   =&gt; 'index'   | \@indices,   # optional
               body    =&gt; { filters }              # optional
           );

       The "field-caps" API returns field types and abilities, merged across indices.

       Query string parameters:
           "allow_no_indices",
           "error_trace",
           "expand_wildcards",
           "fields",
           "human",
           "ignore_unavailable"

       See  the  field-caps  docs  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-field">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-field</a>-
       caps.html&gt; for more information.

   <b>search_shards()</b>
           $response = $e-&gt;search_shards(
               index   =&gt; 'index' | \@indices,     # optional
           )

       The  search_shards()  method  returns information about which shards on which nodes will execute a search
       request.

       Query string parameters:
           "allow_no_indices",
           "error_trace",
           "expand_wildcards",
           "human",
           "ignore_unavailable",
           "local",
           "preference",
           "routing"

       See  the   search-shards   docs   &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search">http://www.elastic.co/guide/en/elasticsearch/reference/current/search</a>-
       shards.html&gt; for more information.

   <b>rank_eval()</b>
           $result = $e-&gt;rank_eval(
               index   =&gt; 'index' | \@indices,     # optional
               body    =&gt; {...}                    # required
           );

       The  ranking  evaluation API provides a way to execute test cases to determine whether search results are
       improving or worsening.

       Query string parameters:
           "allow_no_indices",
           "error_trace",
           "expand_wildcards",
           "filter_path",
           "human",
           "ignore_unavailable"

       See  the  rank-eval  docs   &lt;https://www.elastic.co/guide/en/elasticsearch/reference/current/search-rank-
       eval.html&gt; for more information.

</pre><h4><b>CRUD-BY-QUERY</b> <b>METHODS</b></h4><pre>
   <b>delete_by_query()</b>
           $response = $e-&gt;delete_by_query(
               index   =&gt; 'index' | \@indices,     # optional
               type    =&gt; 'type'  | \@types,       # optional,
               body    =&gt; { delete-by-query }      # required
           );

       The delete_by_query() method deletes all documents which match the specified query.

       Query string parameters:
           "_source",
           "_source_excludes",
           "_source_includes",
           "allow_no_indices",
           "analyze_wildcard",
           "analyzer",
           "conflicts",
           "default_operator",
           "df",
           "error_trace",
           "expand_wildcards",
           "from",
           "human",
           "ignore_unavailable",
           "lenient",
           "preference",
           "q",
           "refresh",
           "request_cache",
           "requests_per_second",
           "routing",
           "scroll",
           "scroll_size",
           "search_timeout",
           "search_type",
           "size",
           "slices",
           "sort",
           "stats",
           "terminate_after",
           "version",
           "timeout",
           "wait_for_active_shards",
           "wait_for_completion"

       See   the   delete-by-query  docs  &lt;https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-
       delete-by-query.html&gt; for more information.

   <b>delete_by_query_rethrottle()</b>
           $response = $e-&gt;delete_by_query_rethrottle(
               task_id             =&gt; 'id'         # required
               requests_per_second =&gt; num
           );

       The delete_by_query_rethrottle() API is used to dynamically update the throtting of an  existing  delete-
       by-query request, identified by "task_id".

       Query string parameters:
           "error_trace",
           "filter_path",
           "human",
           "requests_per_second"

       See                       the                       delete-by-query-rethrottle                       docs
       &lt;https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-delete-by-query.html&gt;   for    more
       information.

   <b>reindex()</b>
           $response = $e-&gt;reindex(
               body =&gt; { reindex }     # required
           );

       The reindex() API is used to index documents from one index or multiple indices to a new index.

       Query string parameters:
           "error_trace",
           "human",
           "refresh",
           "requests_per_second",
           "slices",
           "timeout",
           "wait_for_active_shards",
           "wait_for_completion"

       See  the reindex docs &lt;https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html&gt;
       for more information.

   <b>reindex_rethrottle()</b>
           $response = $e-&gt;delete_by_query_rethrottle(
               task_id =&gt; 'id',            # required
               requests_per_second =&gt; num
           );

       The reindex_rethrottle() API is used to dynamically update the throtting of an existing reindex  request,
       identified by "task_id".

       Query string parameters:
           "error_trace",
           "filter_path",
           "human",
           "requests_per_second"

       See  the  reindex-rethrottle  docs &lt;https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-
       reindex.html&gt; for more information.

   <b>update_by_query()</b>
           $response = $e-&gt;update_by_query(
               index   =&gt; 'index' | \@indices,     # optional
               type    =&gt; 'type'  | \@types,       # optional,
               body    =&gt; { update-by-query }      # optional
           );

       The update_by_query() API is used to bulk update documents from one index or  multiple  indices  using  a
       script.

       Query string parameters:
           "_source",
           "_source_excludes",
           "_source_includes",
           "allow_no_indices",
           "analyze_wildcard",
           "analyzer",
           "conflicts",
           "default_operator",
           "df",
           "error_trace",
           "expand_wildcards",
           "from",
           "human",
           "ignore_unavailable",
           "lenient",
           "pipeline",
           "preference",
           "q",
           "refresh",
           "request_cache",
           "requests_per_second",
           "routing",
           "scroll",
           "scroll_size",
           "search_timeout",
           "search_type",
           "size",
           "slices",
           "sort",
           "stats",
           "terminate_after",
           "timeout",
           "version",
           "version_type",
           "wait_for_active_shards",
           "wait_for_completion"

       See   the   update_by_query  docs  &lt;https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-
       update-by-query.html&gt; for more information.

   <b>update_by_query_rethrottle()</b>
           $response = $e-&gt;update_by_query_rethrottle(
               task_id             =&gt; 'id'         # required
               requests_per_second =&gt; num
           );

       The update_by_query_rethrottle() API is used to dynamically update the throtting of an  existing  update-
       by-query request, identified by "task_id".

       Query string parameters:
           "error_trace",
           "filter_path",
           "human",
           "requests_per_second"

       See                       the                       update-by-query-rethrottle                       docs
       &lt;https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-update-by-query.html&gt;   for    more
       information.

</pre><h4><b>INDEXED</b> <b>SCRIPT</b> <b>METHODS</b></h4><pre>
       Elasticsearch  allows  you to store scripts in the cluster state and reference them by id. The methods to
       manage indexed scripts are as follows:

   <b>put_script()</b>
           $result  = $e-&gt;put_script(
               id      =&gt; 'id',       # required
               context =&gt; $context,   # optional
               body    =&gt; { script }  # required
           );

       The put_script() method is used to store a script in the cluster state. For instance:

           $result  = $e-&gt;put_scripts(
               id   =&gt; 'hello_world',
               body =&gt; {
                 script =&gt; {
                   lang   =&gt; 'painless',
                   source =&gt; q(return "hello world")
                 }
               }
           );

       Query string parameters:
           "error_trace",
           "human"

       See the  indexed  scripts  docs  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/modules">http://www.elastic.co/guide/en/elasticsearch/reference/current/modules</a>-
       scripting.html#_indexed_scripts&gt; for more.

   <b>get_script()</b>
           $script = $e-&gt;get_script(
               id   =&gt; 'id',       # required
           );

       Retrieve the indexed script from the cluster state.

       Query string parameters:
           "error_trace",
           "human",
           "master_timeout"

       See  the  indexed  scripts  docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/modules">http://www.elastic.co/guide/en/elasticsearch/reference/current/modules</a>-
       scripting.html#_indexed_scripts&gt; for more.

   <b>delete_script()</b>
           $script = $e-&gt;delete_script(
               id   =&gt; 'id',       # required
           );

       Delete the indexed script from the cluster state.

       Query string parameters:
           "error_trace",
           "human",
           "master_timeout",
           "timeout"

       See the  indexed  scripts  docs  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/modules">http://www.elastic.co/guide/en/elasticsearch/reference/current/modules</a>-
       scripting.html#_indexed_scripts&gt; for more.

   <b>scripts_painless_execute()</b>
           $result = $e-&gt;scripts_painless_execute(
               body =&gt; {...}   # required
           );

       The Painless execute API allows an arbitrary script to be executed and a result to be returned.

       Query string parameters:
           "error_trace",
           "filter_path",
           "human"

       See the painless execution docs &lt;https://www.elastic.co/guide/en/elasticsearch/painless/current/painless-
       execute-api.html&gt; for more.

</pre><h4><b>AUTHOR</b></h4><pre>
       Enrico Zimuel &lt;<a href="mailto:enrico.zimuel@elastic.co">enrico.zimuel@elastic.co</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2024 by Elasticsearch BV.

       This is free software, licensed under:

         The Apache License, Version 2.0, January 2004

perl v5.38.2                                       2024-02-04             <u>Search::Elastic...nt::8_0::<a href="../man3pm/Direct.3pm.html">Direct</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>