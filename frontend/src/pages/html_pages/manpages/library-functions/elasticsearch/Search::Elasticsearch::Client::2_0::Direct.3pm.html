<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search::Elasticsearch::Client::2_0::Direct - Thin client with full support for Elasticsearch 2.x APIs</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsearch-elasticsearch-client-2-0-perl">libsearch-elasticsearch-client-2-0-perl_6.81-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Search::Elasticsearch::Client::2_0::Direct - Thin client with full support for Elasticsearch 2.x APIs

</pre><h4><b>VERSION</b></h4><pre>
       version 6.81

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Create a client:

           use Search::Elasticsearch;
           my $e = Search::Elasticsearch-&gt;new(
               client =&gt; '2_0::Direct'
           );

       Index a doc:

           $e-&gt;index(
               index   =&gt; 'my_index',
               type    =&gt; 'blog_post',
               id      =&gt; 123,
               body    =&gt; {
                   title   =&gt; "Elasticsearch clients",
                   content =&gt; "Interesting content...",
                   date    =&gt; "2013-09-23"
               }
           );

       Get a doc:

           $e-&gt;get(
               index   =&gt; 'my_index',
               type    =&gt; 'my_type',
               id      =&gt; 123
           );

       Search for docs:

           $results = $e-&gt;search(
               index   =&gt; 'my_index',
               body    =&gt; {
                   query =&gt; {
                       match =&gt; {
                           title =&gt; "elasticsearch"
                       }
                   }
               }
           );

       Index-level requests:

           $e-&gt;indices-&gt;create( index =&gt; 'my_index' );
           $e-&gt;indices-&gt;delete( index =&gt; 'my_index' )

       Cluster-level requests:

           $health = $e-&gt;cluster-&gt;health;

       Node-level requests:

           $info  = $e-&gt;nodes-&gt;info;
           $stats = $e-&gt;nodes-&gt;stats;

       Snapshot and restore:

           $e-&gt;snapshot-&gt;create_repository(
               repository =&gt; 'my_backups',
               type       =&gt; 'fs',
               settings   =&gt; {
                   location =&gt; '/mnt/backups'
               }
           );

           $e-&gt;snapshot-&gt;create(
               repository =&gt; 'my_backups',
               snapshot   =&gt; 'backup_2014'
           );

       Task management:

           $e-&gt;tasks-&gt;list;

       `cat` debugging:

           say $e-&gt;cat-&gt;allocation;
           say $e-&gt;cat-&gt;health;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The Search::Elasticsearch::Client::2_0::Direct class provides the Elasticsearch 2.x compatible client
       returned by:

           $e = Search::Elasticsearch-&gt;new(
               client =&gt; "2_0::Direct"
           );

       It is intended to be as close as possible to the native REST API that Elasticsearch uses, so that it is
       easy to translate the Elasticsearch reference documentation &lt;<a href="http://www.elasticsearch/guide">http://www.elasticsearch/guide</a>&gt; for an API
       to the equivalent in this client.

       This class provides the methods for document CRUD, bulk document CRUD and search.  It also provides
       access to clients for managing indices and the cluster.

</pre><h4><b>CONVENTIONS</b></h4><pre>
   <b>Parameter</b> <b>passing</b>
       Parameters can be passed to any request method as a list or as a hash reference. The following two
       statements are equivalent:

           $e-&gt;search( size =&gt; 10 );
           $e-&gt;search({size =&gt; 10});

   <b>Path</b> <b>parameters</b>
       Any values that should be included in the URL path, eg "/{index}/{type}" should be passed as top level
       parameters:

           $e-&gt;search( index =&gt; 'my_index', type =&gt; 'my_type' );

       Alternatively, you can specify a "path" parameter directly:

           $e-&gt;search( path =&gt; '/my_index/my_type' );

   <b>Query-string</b> <b>parameters</b>
       Any values that should be included in the query string should be passed as top level parameters:

           $e-&gt;search( size =&gt; 10 );

       If you pass in a "\%params" hash, then it will be included in the query string parameters without any
       error checking. The following:

           $e-&gt;search( size =&gt; 10, params =&gt; { from =&gt; 5, size =&gt; 5 })

       would result in this query string:

           ?from=5&amp;size=10

   <b>Body</b> <b>parameter</b>
       The request body should be passed in the "body" key:

           $e-&gt;search(
               body =&gt; {
                   query =&gt; {...}
               }
           );

       The body can also be a UTF8-decoded string, which will be converted into UTF-8 bytes and passed as is:

           $e-&gt;indices-&gt;analyze( body =&gt; "The quick brown fox");

   <b>Filter</b> <b>path</b> <b>parameter</b>
       Any API which returns a JSON body accepts a "filter_path" parameter which will filter the JSON down to
       only the specified paths.  For instance, if you are running a search request and only want the "total"
       hits and the "_source" field for each hit (without the "_id", "_index" etc), you can do:

           $e-&gt;search(
               query =&gt; {...},
               filter_path =&gt; [ 'hits.total', 'hits.hits._source' ]
           );

   <b>Ignore</b> <b>parameter</b>
       Normally, any HTTP status code outside the 200-299 range will result in an error being thrown.  To
       suppress these errors, you can specify which status codes to ignore in the "ignore" parameter.

           $e-&gt;indices-&gt;delete(
               index  =&gt; 'my_index',
               ignore =&gt; 404
           );

       This is most useful for Missing errors, which are triggered by a 404 status code when some requested
       resource does not exist.

       Multiple error codes can be specified with an array:

           $e-&gt;indices-&gt;delete(
               index  =&gt; 'my_index',
               ignore =&gt; [404,409]
           );

</pre><h4><b>CONFIGURATION</b></h4><pre>
   <b>"bulk_helper_class"</b>
       The class to use for the "<b>bulk_helper()</b>" method. Defaults to Search::Elasticsearch::Client::2_0::Bulk.

   <b>"scroll_helper_class"</b>
       The class to use for the "<b>scroll_helper()</b>" method. Defaults to
       Search::Elasticsearch::Client::2_0::Scroll.

</pre><h4><b>GENERAL</b> <b>METHODS</b></h4><pre>
   <b>"info()"</b>
           $info = $e-&gt;info

       Returns information about the version of Elasticsearch that the responding node is running.

   <b>"ping()"</b>
           $e-&gt;ping

       Pings a node in the cluster and returns 1 if it receives a 200 response, otherwise it throws an error.

   <b>"indices()"</b>
           $indices_client = $e-&gt;indices;

       Returns an Search::Elasticsearch::Client::2_0::Direct::Indices object which can be used for managing
       indices, eg creating, deleting indices, managing mapping, index settings etc.

   <b>"cluster()"</b>
           $cluster_client = $e-&gt;cluster;

       Returns an Search::Elasticsearch::Client::2_0::Direct::Cluster object which can be used for managing the
       cluster, eg cluster-wide settings and cluster health.

   <b>"nodes()"</b>
           $node_client = $e-&gt;nodes;

       Returns an Search::Elasticsearch::Client::2_0::Direct::Nodes object which can be used to retrieve node
       info and stats.

   <b>"snapshot()"</b>
           $snapshot_client = $e-&gt;snapshot;

       Returns an Search::Elasticsearch::Client::2_0::Direct::Snapshot object which is used for managing backup
       repositories and creating and restoring snapshots.

   <b>"tasks()"</b>
           $tasks_client = $e-&gt;tasks;

       Returns an Search::Elasticsearch::Client::2_0::Direct::Tasks object which is used for accessing the task
       management API.

   <b>"cat()"</b>
           $cat_client = $e-&gt;cat;

       Returns an Search::Elasticsearch::Client::2_0::Direct::Cat object which can be used to retrieve simple to
       read text info for debugging and monitoring an Elasticsearch cluster.

</pre><h4><b>DOCUMENT</b> <b>CRUD</b> <b>METHODS</b></h4><pre>
       These methods allow you to perform create, index, update and delete requests for single documents:

   <b>"index()"</b>
           $response = $e-&gt;index(
               index   =&gt; 'index_name',        # required
               type    =&gt; 'type_name',         # required
               id      =&gt; 'doc_id',            # optional, otherwise auto-generated

               body    =&gt; { document }         # required
           );

       The "index()" method is used to index a new document or to reindex an existing document.

       Query string parameters:
           "consistency",
           "op_type",
           "parent",
           "refresh",
           "routing",
           "timeout",
           "timestamp",
           "ttl",
           "version",
           "version_type"

       See the index docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html</a>&gt; for
       more information.

   <b>"create()"</b>
           $response = $e-&gt;create(
               index   =&gt; 'index_name',        # required
               type    =&gt; 'type_name',         # required
               id      =&gt; 'doc_id',            # optional, otherwise auto-generated

               body    =&gt; { document }         # required
           );

       The "create()" method works exactly like the "<b>index()</b>" method, except that it will throw a "Conflict"
       error if a document with the same "index", "type" and "id" already exists.

       Query string parameters:
           "consistency",
           "op_type",
           "parent",
           "refresh",
           "routing",
           "timeout",
           "timestamp",
           "ttl",
           "version",
           "version_type"

       See the create docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-create.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-create.html</a>&gt; for
       more information.

   <b>"get()"</b>
           $response = $e-&gt;get(
               index   =&gt; 'index_name',        # required
               type    =&gt; 'type_name',         # required
               id      =&gt; 'doc_id',            # required
           );

       The "get()" method will retrieve the document with the specified "index", "type" and "id", or will throw
       a "Missing" error.

       Query string parameters:
           "_source",
           "_source_exclude",
           "_source_include",
           "fields",
           "parent",
           "preference",
           "realtime",
           "refresh",
           "routing",
           "version",
           "version_type"

       See the get docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html</a>&gt; for more
       information.

   <b>"get_source()"</b>
           $response = $e-&gt;get_source(
               index   =&gt; 'index_name',        # required
               type    =&gt; 'type_name',         # required
               id      =&gt; 'doc_id',            # required
           );

       The "get_source()" method works just like the "<b>get()</b>" method except that it returns just the "_source"
       field (the value of the "body" parameter in the "<b>index()</b>" method) instead of returning the "_source"
       field plus the document metadata, ie the "_index", "_type" etc.

       Query string parameters:
           "_source",
           "_source_exclude",
           "_source_include",
           "parent",
           "preference",
           "realtime",
           "refresh",
           "routing",
           "version",
           "version_type"

       See the get_source docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html</a>&gt;
       for more information.

   <b>"exists()"</b>
           $response = $e-&gt;exists(
               index   =&gt; 'index_name',        # required
               type    =&gt; 'type_name',         # required
               id      =&gt; 'doc_id',            # required
           );

       The "exists()" method returns 1 if a document with the specified "index", "type" and "id" exists, or an
       empty string if it doesn't.

       Query string parameters:
           "parent",
           "preference",
           "realtime",
           "refresh",
           "routing"

       See the exists docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html</a>&gt; for
       more information.

   <b>"delete()"</b>
           $response = $e-&gt;delete(
               index   =&gt; 'index_name',        # required
               type    =&gt; 'type_name',         # required
               id      =&gt; 'doc_id',            # required
           );

       The "delete()" method will delete the document with the specified "index", "type" and "id", or will throw
       a "Missing" error.

       Query string parameters:
           "consistency",
           "parent",
           "refresh",
           "routing",
           "timeout",
           "version",
           "version_type"

       See the delete docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-delete.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-delete.html</a>&gt; for
       more information.

   <b>"update()"</b>
           $response = $e-&gt;update(
               index   =&gt; 'index_name',        # required
               type    =&gt; 'type_name',         # required
               id      =&gt; 'doc_id',            # required

               body    =&gt; { update }           # required
           );

       The "update()" method updates a document with the corresponding "index", "type" and "id" if it exists.
       Updates can be performed either by:

       •   providing a partial document to be merged in to the existing document:

               $response = $e-&gt;update(
                   ...,
                   body =&gt; {
                       doc =&gt; { new_field =&gt; 'new_value'},
                   }
               );

       •   with an inline script:

               $response = $e-&gt;update(
                   ...,
                   body =&gt; {
                       script =&gt; {
                           inline =&gt; "ctx._source.counter += incr",
                           params =&gt; { incr =&gt; 5 }
                       }
                   }
               );

           Make              sure              you              enable             dynamic             scripting
           &lt;https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-scripting.html#enable-
           dynamic-scripting&gt; and know its implications.

       •   with an indexed script:

               $response = $e-&gt;update(
                   ...,
                   body =&gt; {
                       script =&gt; {
                           id     =&gt; $id,
                           params =&gt; { incr =&gt; 5 }
                       }
                   }
               );

           See   indexed    scripts    &lt;https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-
           scripting.html#_indexed_scripts&gt; for more information.

       •   with a script stored as a file:

               $response = $e-&gt;update(
                   ...,
                   body =&gt; {
                       script =&gt; {
                           file   =&gt; 'counter',
                           lang   =&gt; 'groovy',
                           params =&gt; { incr =&gt; 5 }
                       }
                   }
               );

           See    scripting    docs    &lt;https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-
           scripting.html&gt; for more information.

       Query string parameters:
           "consistency",
           "fields",
           "lang",
           "parent",
           "realtime",
           "refresh",
           "retry_on_conflict",
           "routing",
           "script",
           "script_id",
           "scripted_upsert",
           "timeout",
           "timestamp",
           "ttl",
           "version",
           "version_type"

       See the update docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-update.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-update.html</a>&gt; for
       more information.

   <b>"termvectors()"</b>
           $results = $e-&gt;termvectors(
               index   =&gt; $index,          # required
               type    =&gt; $type,           # required

               id      =&gt; $id,             # optional
               body    =&gt; {...}            # optional
           )

       The "termvectors()" method retrieves term and field statistics, positions, offsets and payloads  for  the
       specified document, assuming that termvectors have been enabled.

       Query string parameters:
           "dfs",
           "field_statistics",
           "fields",
           "offsets",
           "parent",
           "payloads",
           "positions",
           "preference",
           "realtime",
           "routing",
           "term_statistics",
           "version",
           "version_type"

       See    the    termvector    docs    &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs</a>-
       termvectors.html&gt; for more information.

</pre><h4><b>BULK</b> <b>DOCUMENT</b> <b>CRUD</b> <b>METHODS</b></h4><pre>
       The bulk document CRUD methods are used for running multiple CRUD actions within a  single  request.   By
       reducing the number of network requests that need to be made, bulk requests greatly improve performance.

   <b>"bulk()"</b>
           $response = $e-&gt;bulk(
               index   =&gt; 'index_name',        # required if type specified
               type    =&gt; 'type_name',         # optional

               body    =&gt; [ actions ]          # required
           );

       See  Search::Elasticsearch::Client::2_0::Bulk  and  "<b>bulk_helper()</b>"  for  a helper module that makes bulk
       indexing simpler to use.

       The "bulk()" method can perform multiple "<b>index()</b>", "<b>create()</b>", "<b>delete()</b>" or "<b>update()</b>" actions  with  a
       single request. The "body" parameter expects an array containing the list of actions to perform.

       An  <u>action</u>  consists  of  an  initial  metadata  hash ref containing the action type, plus the associated
       metadata, eg :

           { delete =&gt; { _index =&gt; 'index', _type =&gt; 'type', _id =&gt; 123 }}

       The "index" and "create" actions then expect a hashref containing the document itself:

           { create =&gt; { _index =&gt; 'index', _type =&gt; 'type', _id =&gt; 123 }},
           { title =&gt; "A newly created document" }

       And the "update" action expects a hashref containing the update commands, eg:

           { update =&gt; { _index =&gt; 'index', _type =&gt; 'type', _id =&gt; 123 }},
           { script =&gt; "ctx._source.counter+=1" }

       Each action can include the same parameters that you would pass to the equivalent "<b>index()</b>",  "<b>create()</b>",
       "<b>delete()</b>"  or  "<b>update()</b>"  request,  except  that "_index", "_type" and "_id" must be specified with the
       preceding underscore. All other parameters can be specified with or without the underscore.

       For instance:

           $response = $e-&gt;bulk(
               index   =&gt; 'index_name',        # default index name
               type    =&gt; 'type_name',         # default type name
               body    =&gt; [

                   # create action
                   { create =&gt; {
                       _index =&gt; 'not_the_default_index',
                       _type  =&gt; 'not_the_default_type',
                       _id    =&gt; 123
                   }},
                   { title =&gt; 'Foo' },

                   # index action
                   { index =&gt; { _id =&gt; 124 }},
                   { title =&gt; 'Foo' },

                   # delete action
                   { delete =&gt; { _id =&gt; 125 }},

                   # update action
                   { update =&gt; { _id =&gt; 126 }},
                   { script =&gt; "ctx._source.counter+1" }
               ]
           );

       Each action is performed separately. One failed action will not cause the others to fail as well.

       Query string parameters:
           "consistency",
           "fields",
           "refresh",
           "routing",
           "timeout"

       See the  bulk  docs  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html</a>&gt;  for
       more information.

   <b>"bulk_helper()"</b>
           $bulk_helper = $e-&gt;bulk_helper( @args );

       Returns   a  new  instance  of  the  class  specified  in  the  "bulk_helper_class",  which  defaults  to
       Search::Elasticsearch::Client::2_0::Bulk.

   <b>"mget()"</b>
           $results = $e-&gt;mget(
               index   =&gt; 'default_index',     # optional, required when type specified
               type    =&gt; 'default_type',      # optional

               body    =&gt; { docs or ids }      # required
           );

       The "mget()" method will retrieve multiple documents with a single request.  The "body"  consists  of  an
       array of documents to retrieve:

           $results = $e-&gt;mget(
               index   =&gt; 'default_index',
               type    =&gt; 'default_type',
               body    =&gt; {
                   docs =&gt; [
                       { _id =&gt; 1},
                       { _id =&gt; 2, _type =&gt; 'not_the_default_type' }
                   ]
               }
           );

       You can also pass any of the other parameters that the "<b>get()</b>" request accepts.

       If you have specified an "index" and "type", you can just include the "ids" of the documents to retrieve:

           $results = $e-&gt;mget(
               index   =&gt; 'default_index',
               type    =&gt; 'default_type',
               body    =&gt; {
                   ids =&gt; [ 1, 2, 3]
               }
           );

       Query string parameters:
           "_source",
           "_source_exclude",
           "_source_include",
           "fields",
           "preference",
           "realtime",
           "refresh"

       See  the  mget  docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-multi-get.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-multi-get.html</a>&gt;
       for more information.

   <b>"mtermvectors()"</b>
           $results = $e-&gt;mtermvectors(
               index   =&gt; $index,          # required if type specified
               type    =&gt; $type,           # optional

               body    =&gt; { }              # optional
           )

       Runs multiple "<b>termvector()</b>" requests in a single request, eg:

           $results = $e-&gt;mtermvectors(
               index   =&gt; 'test',
               body    =&gt; {
                   docs =&gt; [
                       { _type =&gt; 'test', _id =&gt; 1, fields =&gt; ['text'] },
                       { _type =&gt; 'test', _id =&gt; 2, payloads =&gt; 1 },
                   ]
               }
           );

       Query string parameters:
           "field_statistics",
           "fields",
           "ids",
           "offsets",
           "parent",
           "payloads",
           "positions",
           "preference",
           "realtime",
           "routing",
           "term_statistics",
           "version",
           "version_type"

       See  the  mtermvectors  docs  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-multi">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-multi</a>-
       termvectors.html&gt; for more information.

</pre><h4><b>SEARCH</b> <b>METHODS</b></h4><pre>
       The  search  methods  are used for querying documents in one, more or all indices and of one, more or all
       types:

   <b>"search()"</b>
           $results = $e-&gt;search(
               index   =&gt; 'index' | \@indices,     # optional
               type    =&gt; 'type'  | \@types,       # optional

               body    =&gt; { search params }        # optional
           );

       The "search()" method searches for matching documents in one or more indices.  It  is  just  as  easy  to
       search  a  single  index  as  it  is  to  search  all  the  indices  in your cluster.  It can also return
       aggregations    &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations.html</a>&gt;
       highlighted        snippets       &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search">http://www.elastic.co/guide/en/elasticsearch/reference/current/search</a>-
       highlighting.html&gt;                                    and                                    did-you-mean
       &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters-phrase.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters-phrase.html</a>&gt; or search-
       as-you-type            &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters</a>-
       completion.html&gt; suggestions.

       The <u>lite</u> version  of  search  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-uri">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-uri</a>-
       request.html&gt;  allows  you  to specify a query string in the "q" parameter, using the Lucene query string
       syntax:

           $results = $e-&gt;search( q =&gt; 'title:(elasticsearch clients)');

       However,    the     preferred     way     to     search     is     by     using     the     Query     DSL
       &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html</a>&gt;  to  create  a query, and
       passing           that            "query"            in            the            request            body
       &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-body.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-body.html</a>&gt;:

           $results = $e-&gt;search(
               body =&gt; {
                   query =&gt; {
                       match =&gt; { title =&gt; 'Elasticsearch clients'}
                   }
               }
           );

       Query string parameters:
           "_source",
           "_source_exclude",
           "_source_include",
           "allow_no_indices",
           "analyze_wildcard",
           "analyzer",
           "default_operator",
           "df",
           "expand_wildcards",
           "explain",
           "fielddata_fields",
           "fields",
           "from",
           "ignore_unavailable",
           "lenient",
           "lowercase_expanded_terms",
           "preference",
           "q",
           "request_cache",
           "routing",
           "scroll",
           "search_type",
           "size",
           "sort",
           "stats",
           "suggest_field",
           "suggest_mode",
           "suggest_size",
           "suggest_text",
           "terminate_after",
           "timeout",
           "track_scores",
           "version"

       See  the search reference &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-request">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-request</a>-
       body.html&gt; for more information.

       Also see "send_get_body_as" in Search::Elasticsearch::Transport.

   <b>"search_exists()"</b>
       The "search_exists()" method is a quick version of search which can be used to find out whether there are
       matching search results or not.  It doesn't return any results itself.

           $results = $e-&gt;search_exists(
               index   =&gt; 'index' | \@indices,     # optional
               type    =&gt; 'type'  | \@types,       # optional

               body    =&gt; { search params }        # optional
           );

       Query string parameters:
           "allow_no_indices",
           "analyze_wildcard",
           "analyzer",
           "default_operator",
           "df",
           "expand_wildcards",
           "ignore_unavailable",
           "lenient",
           "lowercase_expanded_terms"
           "min_score",
           "preference",
           "q",
           "routing"

       See the search exists  reference  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search">http://www.elastic.co/guide/en/elasticsearch/reference/current/search</a>-
       exists.html&gt; for more information.

   <b>"count()"</b>
           $results = $e-&gt;count(
               index   =&gt; 'index' | \@indices,     # optional
               type    =&gt; 'type'  | \@types,       # optional

               body    =&gt; { query }                # optional
           )

       The "count()" method returns the total count of all documents matching the query:

           $results = $e-&gt;count(
               body =&gt; {
                   query =&gt; {
                       match =&gt; { title =&gt; 'Elasticsearch clients' }
                   }
               }
           );

       Query string parameters:
           "allow_no_indices",
           "analyze_wildcard",
           "analyzer",
           "default_operator",
           "df",
           "expand_wildcards",
           "ignore_unavailable",
           "lenient",
           "lowercase_expanded_terms"
           "min_score",
           "preference",
           "q",
           "routing"

       See the count docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-count.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-count.html</a>&gt; for
       more information.

   <b>"search_template()"</b>
           $results = $e-&gt;search_template(
               index   =&gt; 'index' | \@indices,     # optional
               type    =&gt; 'type'  | \@types,       # optional

               body    =&gt; { search params }        # optional
           );

       Perform a search by specifying a template (either predefined or defined within the "body") and parameters
       to use with the template, eg:

           $results = $e-&gt;search_template(
               body =&gt; {
                   inline =&gt; {
                       query =&gt; {
                           match =&gt; {
                               "{{my_field}}" =&gt; "{{my_value}}"
                           }
                       },
                       size =&gt; "{{my_size}}"
                   },
                   params =&gt; {
                       my_field =&gt; 'foo',
                       my_value =&gt; 'bar',
                       my_size  =&gt; 5
                   }
               }
           );

       See  the  search  template  docs  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search">http://www.elastic.co/guide/en/elasticsearch/reference/current/search</a>-
       template.html&gt; for more information.

       Query string parameters:
           "allow_no_indices",
           "expand_wildcards",
           "ignore_unavailable",
           "preference",
           "scroll",
           "search_type"

   <b>"render_search_template()"</b>
           $response = $e-&gt;render_search_template(
               id   =&gt; 'id',           # optional
               body =&gt; { template }    # optional
           );

       Renders the template, filling in the passed-in parameters and returns the resulting JSON, eg:

           $results = $e-&gt;render_search_template(
               body =&gt; {
                   inline =&gt; {
                       query =&gt; {
                           match =&gt; {
                               "{{my_field}}" =&gt; "{{my_value}}"
                           }
                       },
                       size =&gt; "{{my_size}}"
                   },
                   params =&gt; {
                       my_field =&gt; 'foo',
                       my_value =&gt; 'bar',
                       my_size  =&gt; 5
                   }
               }
           );

       See  the  search  template  docs  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search">http://www.elastic.co/guide/en/elasticsearch/reference/current/search</a>-
       template.html&gt; for more information.

   <b>"scroll()"</b>
           $results = $e-&gt;scroll(
               scroll      =&gt; '1m',
               scroll_id   =&gt; $id
           );

       When  a  "<b>search()</b>"  has  been performed with the "scroll" parameter, the "scroll()" method allows you to
       keep pulling more results until the results are exhausted.

       <b>NOTE:</b> you will almost always want to set the "search_type" to "scan" in your original "search()" request.

       See "<b>scroll_helper()</b>" and Search::Elasticsearch::Client::2_0::Scroll for a  helper  utility  which  makes
       managing scroll requests much easier.

       Query string parameters:
           "scroll",
           "scroll_id"

       See   the   scroll  docs  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-request">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-request</a>-
       scroll.html&gt;                  and                  the                  search_type                  docs
       &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search.html/search-request-search">http://www.elastic.co/guide/en/elasticsearch/reference/current/search.html/search-request-search</a>-
       type.html&gt; for more information.

   <b>"clear_scroll()"</b>
           $response = $e-&gt;clear_scroll(
               scroll_id =&gt; $id | \@ids    # required
           );

       Or

           $response = $e-&gt;clear_scroll(
               body =&gt; $id
           );

       The "clear_scroll()" method can clear unfinished scroll requests, freeing up resources on the server.

   <b>"scroll_helper()"</b>
           $scroll_helper = $e-&gt;scroll_helper( @args );

       Returns  a  new  instance  of  the  class  specified  in  the  "scroll_helper_class",  which  defaults to
       Search::Elasticsearch::Client::2_0::Scroll.

   <b>"msearch()"</b>
           $results = $e-&gt;msearch(
               index   =&gt; 'default_index' | \@indices,     # optional
               type    =&gt; 'default_type'  | \@types,       # optional

               body    =&gt; [ searches ]                     # required
           );

       The "msearch()" method allows you to perform multiple searches in  a  single  request.   Similar  to  the
       "<b>bulk()</b>"  request,  each  search request in the "body" consists of two hashes: the metadata hash then the
       search request hash (the same data that you'd specify in  the  "body"  of  a  "<b>search()</b>"  request).   For
       instance:

           $results = $e-&gt;msearch(
               index   =&gt; 'default_index',
               type    =&gt; ['default_type_1', 'default_type_2'],
               body =&gt; [
                   # uses defaults
                   {},
                   { query =&gt; { match_all =&gt; {} }},

                   # uses a custom index
                   { index =&gt; 'not_the_default_index' },
                   { query =&gt; { match_all =&gt; {} }}
               ]
           );

       Query string parameters:
           "search_type"

       See   the   msearch   docs  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-multi">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-multi</a>-
       search.html&gt; for more information.

   <b>"explain()"</b>
           $response = $e-&gt;explain(
               index   =&gt; 'my_index',  # required
               type    =&gt; 'my_type',   # required
               id      =&gt; 123,         # required

               body    =&gt; { search }   # required
           );

       The "explain()" method explains why the specified document did or did not match  a  query,  and  how  the
       relevance score was calculated.  For instance:

           $response = $e-&gt;explain(
               index   =&gt; 'my_index',
               type    =&gt; 'my_type',
               id      =&gt; 123,
               body    =&gt; {
                   query =&gt; {
                       match =&gt; { title =&gt; 'Elasticsearch clients' }
                   }
               }
           );

       Query string parameters:
           "_source",
           "_source_exclude",
           "_source_include",
           "analyze_wildcard",
           "analyzer",
           "default_operator",
           "df",
           "fields",
           "lenient",
           "lowercase_expanded_terms",
           "parent",
           "preference",
           "q",
           "routing"

       See the explain docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-explain.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-explain.html</a>&gt;
       for more information.

   <b>"field_stats()"</b>
           $response = $e-&gt;field_stats(
               index   =&gt; 'index'   | \@indices,   # optional
               fields  =&gt; 'field'   | \@fields,    # optional
               level   =&gt; 'cluster' | 'indices',   # optional
               body    =&gt; { filters }              # optional
           );

       The  "field-stats"  API  returns  statistical  properties of a field (such as min and max values) without
       executing a search.

       Query string parameters:
           "allow_no_indices",
           "expand_wildcards",
           "fields",
           "ignore_unavailable",
           "level"

       See the  field-stats  docs  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-field">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-field</a>-
       stats.html&gt; for more information.

   <b>"search_shards()"</b>
           $response = $e-&gt;search_shards(
               index   =&gt; 'index' | \@indices,     # optional
               type    =&gt; 'type'  | \@types,       # optional
           )

       The  "search_shards()" method returns information about which shards on which nodes will execute a search
       request.

       Query string parameters:
           "allow_no_indices",
           "expand_wildcards",
           "ignore_unavailable",
           "local",
           "preference",
           "routing"

       See  the   search-shards   docs   &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search">http://www.elastic.co/guide/en/elasticsearch/reference/current/search</a>-
       shards.html&gt; for more information.

</pre><h4><b>CRUD-BY-QUERY</b> <b>METHODS</b></h4><pre>
   <b>"delete_by_query()"</b>
           $response = $e-&gt;delete_by_query(
               index   =&gt; 'index' | \@indices,     # optional
               type    =&gt; 'type'  | \@types,       # optional,
               body    =&gt; { delete-by-query }      # optional
           );

       The      "delete_by_query()"      method      (available      with     the     delete-by-query     plugin
       &lt;https://www.elastic.co/guide/en/elasticsearch/plugins/current/plugins-delete-by-query.html&gt;) deletes all
       documents which match the specified query.

       Query string parameters:
           "allow_no_indices",
           "analyzer",
           "default_operator",
           "df",
           "expand_wildcards",
           "filter_path",
           "ignore_unavailable",
           "q",
           "routing",
           "timeout"

       See  the  delete-by-query  docs   &lt;https://www.elastic.co/guide/en/elasticsearch/plugins/current/plugins-
       delete-by-query.html&gt; for more information.

   <b>"reindex()"</b>
           $response = $e-&gt;reindex(
               body =&gt; { reindex }     # required
           );

       The "reindex()" API is used to index documents from one index or multiple indices to a new index.

       Query string parameters:
           "consistency",
           "refresh",
           "requests_per_second",
           "timeout",
           "wait_for_completion"

       See  the reindex docs &lt;https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html&gt;
       for more information.

   <b>"update_by_query()"</b>
           $response = $e-&gt;update_by_query(
               index   =&gt; 'index' | \@indices,     # optional
               type    =&gt; 'type'  | \@types,       # optional,
               body    =&gt; { update-by-query }      # optional
           );

       The "update_by_query()" API is used to bulk update documents from one index or multiple indices  using  a
       script.

       Query string parameters:
           "_source",
           "_source_exclude",
           "_source_include",
           "allow_no_indices",
           "analyze_wildcard",
           "analyzer",
           "conflicts",
           "consistency",
           "default_operator",
           "df",
           "expand_wildcards",
           "explain",
           "fielddata_fields",
           "fields",
           "from",
           "ignore_unavailable",
           "lenient",
           "lowercase_expanded_terms",
           "preference",
           "q",
           "refresh",
           "request_cache",
           "requests_per_second",
           "routing",
           "scroll",
           "scroll_size",
           "search_timeout",
           "search_type",
           "size",
           "sort",
           "stats",
           "suggest_field",
           "suggest_mode",
           "suggest_size",
           "suggest_text",
           "terminate_after",
           "timeout",
           "track_scores",
           "version",
           "version_type",
           "wait_for_completion"

       See   the   update_by_query  docs  &lt;https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-
       update-by-query.html&gt; for more information.

   <b>"reindex_rethrottle"</b>
           $response = $e-&gt;reindex_rethrottle(
               task_id             =&gt; 'task_id',       # required
               requests_per_second =&gt; $req_per_second
           );

       The "reindex_rethrottle()" API is used to  dynamically  update  the  throtting  of  an  existing  reindex
       request, identified by "task_id".

       Query string parameters:
           "requests_per_second"

       See  the reindex docs &lt;https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html&gt;
       for more information.

</pre><h4><b>PERCOLATION</b> <b>METHODS</b></h4><pre>
   <b>"percolate()"</b>
           $results = $e-&gt;percolate(
               index   =&gt; 'my_index',      # required
               type    =&gt; 'my_type',       # required

               body    =&gt; { percolation }  # required
           );

       Percolation is search inverted: instead of finding docs which match a particular query, it finds  queries
       which match a particular document, eg for <u>alert-me-when</u> functionality.

       The  "percolate()"  method runs a percolation request to find the queries matching a particular document.
       In the "body" you should pass the "_source" field of the document under the "doc" key:

           $results = $e-&gt;percolate(
               index   =&gt; 'my_index',
               type    =&gt; 'my_type',
               body    =&gt; {
                   doc =&gt; {
                       title =&gt; 'Elasticsearch rocks'
                   }
               }
           );

       Query string parameters:
           "allow_no_indices",
           "expand_wildcards",
           "ignore_unavailable",
           "percolate_format",
           "percolate_index",
           "percolate_preference",
           "percolate_routing",
           "percolate_type",
           "preference",
           "routing",
           "version",
           "version_type"

       See   the    percolate    docs    &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search">http://www.elastic.co/guide/en/elasticsearch/reference/current/search</a>-
       percolate.html&gt; for more information.

   <b>"count_percolate()"</b>
           $results = $e-&gt;count_percolate(
               index   =&gt; 'my_index',      # required
               type    =&gt; 'my_type',       # required

               body    =&gt; { percolation }  # required
           );

       The  "<b>count_percolate()</b>" request works just like the "<b>percolate()</b>" request except that it returns a count
       of all matching queries, instead of the queries themselves.

           $results = $e-&gt;count_percolate(
               index   =&gt; 'my_index',
               type    =&gt; 'my_type',
               body    =&gt; {
                   doc =&gt; {
                       title =&gt; 'Elasticsearch rocks'
                   }
               }
           );

       Query string parameters:
           "allow_no_indices",
           "expand_wildcards",
           "ignore_unavailable",
           "percolate_index",
           "percolate_type",
           "preference",
           "routing",
           "version",
           "version_type"

       See   the    percolate    docs    &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search">http://www.elastic.co/guide/en/elasticsearch/reference/current/search</a>-
       percolate.html&gt; for more information.

   <b>"mpercolate()"</b>
           $results = $e-&gt;mpercolate(
               index   =&gt; 'my_index',               # required if type
               type    =&gt; 'my_type',                # optional

               body    =&gt; [ percolation requests ]  # required
           );

       Multi-percolation allows multiple "<b>percolate()</b>" requests to be run in a single request.

           $results = $e-&gt;mpercolate(
               index   =&gt; 'my_index',
               type    =&gt; 'my_type',
               body    =&gt; [
                   # first request
                   { percolate =&gt; {
                       index =&gt; 'twitter',
                       type  =&gt; 'tweet'
                   }},
                   { doc =&gt; {message =&gt; 'some_text' }},

                   # second request
                   { percolate =&gt; {
                       index =&gt; 'twitter',
                       type  =&gt; 'tweet',
                       id    =&gt; 1
                   }},
                   {},
               ]
           );

       Query string parameters:
           "allow_no_indices",
           "expand_wildcards",
           "ignore_unavailable"

       See    the    mpercolate   docs   &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search">http://www.elastic.co/guide/en/elasticsearch/reference/current/search</a>-
       percolate.html&gt; for more information.

   <b>"suggest()"</b>
           $results = $e-&gt;suggest(
               index   =&gt; 'index' | \@indices,     # optional

               body    =&gt; { suggest request }      # required
           );

       The        "suggest()"         method         is         used         to         run         did-you-mean
       &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesteres-phrase.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesteres-phrase.html</a>&gt;        or
       search-as-you-type     &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters</a>-
       completion.html&gt; suggestion requests, which can also be run as part of a "<b>search()</b>" request.

           $results = $e-&gt;suggest(
               index   =&gt; 'my_index',
               body    =&gt; {
                   my_suggestions =&gt; {
                       phrase  =&gt; {
                           text    =&gt; 'johnny walker',
                           field   =&gt; 'title'
                       }
                   }
               }
           );

       Query string parameters:
           "allow_no_indices",
           "expand_wildcards",
           "ignore_unavailable",
           "preference",
           "routing"

</pre><h4><b>INDEXED</b> <b>SCRIPT</b> <b>METHODS</b></h4><pre>
       If  dynamic scripting is enabled, Elasticsearch allows you to store scripts in an internal index known as
       ".scripts" and reference them by id. The methods to manage indexed scripts are as follows:

   <b>"put_script()"</b>
           $result  = $e-&gt;put_script(
               lang =&gt; 'lang',     # required
               id   =&gt; 'id',       # required
               body =&gt; { script }  # required
           );

       The "put_script()" method is used to store a script in the ".scripts" index. For instance:

           $result  = $e-&gt;put_scripts(
               lang =&gt; 'groovy',
               id   =&gt; 'hello_world',
               body =&gt; {
                 script =&gt; q(return "hello world");
               }
           );

       Query string parameters:
           "op_type",
           "version",
           "version_type"

       See the  indexed  scripts  docs  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/modules">http://www.elastic.co/guide/en/elasticsearch/reference/current/modules</a>-
       scripting.html#_indexed_scripts&gt; for more.

   <b>"get_script()"</b>
           $script = $e-&gt;get_script(
               lang =&gt; 'lang',     # required
               id   =&gt; 'id',       # required
           );

       Retrieve the indexed script from the ".scripts" index.

       Query string parameters:
           "version",
           "version_type"

       See  the  indexed  scripts  docs &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/modules">http://www.elastic.co/guide/en/elasticsearch/reference/current/modules</a>-
       scripting.html#_indexed_scripts&gt; for more.

   <b>"delete_script()"</b>
           $script = $e-&gt;delete_script(
               lang =&gt; 'lang',     # required
               id   =&gt; 'id',       # required
           );

       Delete the indexed script from the ".scripts" index.

       Query string parameters:
           "version",
           "version_type"

       See the  indexed  scripts  docs  &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/modules">http://www.elastic.co/guide/en/elasticsearch/reference/current/modules</a>-
       scripting.html#_indexed_scripts&gt; for more.

</pre><h4><b>INDEXED</b> <b>SEARCH</b> <b>TEMPLATE</b> <b>METHODS</b></h4><pre>
       Mustache  templates  can  be  used  to  create  search  requests.   These  templates can be stored in the
       ".scripts" index and retrieved by ID. The methods to manage indexed scripts are as follows:

   <b>"put_template()"</b>
           $result  = $e-&gt;put_template(
               id   =&gt; 'id',                       # required
               body =&gt; { template } || "template"  # required
           );

       The "put_template()" method is used to store a template in the ".scripts" index.  For instance:

           $result  = $e-&gt;put_template(
               id   =&gt; 'hello_world',
               body =&gt; {
                 template =&gt; {
                   query =&gt; {
                     match =&gt; {
                       title =&gt; "hello world"
                     }
                   }
                 }
             }
           );

       Query string parameters: None

       See              the               indexed               search               template               docs
       &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search">http://www.elastic.co/guide/en/elasticsearch/reference/current/search</a>-
       template.html#_pre_registered_template&gt; for more.

   <b>"get_template()"</b>
           $script = $e-&gt;get_template(
               id   =&gt; 'id',       # required
           );

       Retrieve the indexed template from the ".scripts" index.

       Query string parameters:
           "version",
           "version_type"

       See               the               indexed               search               template              docs
       &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search">http://www.elastic.co/guide/en/elasticsearch/reference/current/search</a>-
       template.html#_pre_registered_template&gt; for more.

   <b>"delete_template()"</b>
           $script = $e-&gt;delete_template(
               id   =&gt; 'id',       # required
           );

       Delete the indexed template from the ".scripts" index.

       Query string parameters: None

       See              the               indexed               search               template               docs
       &lt;<a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search">http://www.elastic.co/guide/en/elasticsearch/reference/current/search</a>-
       template.html#_pre_registered_template&gt; for more.

</pre><h4><b>AUTHOR</b></h4><pre>
       Enrico Zimuel &lt;<a href="mailto:enrico.zimuel@elastic.co">enrico.zimuel@elastic.co</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2020 by Elasticsearch BV.

       This is free software, licensed under:

         The Apache License, Version 2.0, January 2004

perl v5.32.0                                       2020-11-25             <u>Search::Elastic...nt::2_0::<a href="../man3pm/Direct.3pm.html">Direct</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>