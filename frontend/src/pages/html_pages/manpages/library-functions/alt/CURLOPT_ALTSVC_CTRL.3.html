<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_ALTSVC_CTRL - control alt-svc behavior</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_ALTSVC_CTRL - control alt-svc behavior

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       #define CURLALTSVC_READONLYFILE (1&lt;&lt;2)
       #define CURLALTSVC_H1           (1&lt;&lt;3)
       #define CURLALTSVC_H2           (1&lt;&lt;4)
       #define CURLALTSVC_H3           (1&lt;&lt;5)

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_ALTSVC_CTRL, long bitmask);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Populate  the long <u>bitmask</u> with the correct set of features to instruct libcurl how to handle Alt-Svc for
       the transfers using this handle.

       libcurl only accepts Alt-Svc headers over a Secure Transport, meaning HTTPS. It  also  only  completes  a
       request  to  an  alternative  origin if that origin is properly hosted over HTTPS. These requirements are
       there to make sure both the source and the destination are legitimate.

       Alternative services are only used  when  setting  up  new  connections.  If  there  exists  an  existing
       connection to the host in the connection pool, then that is preferred.

       If <u><a href="../man3/CURLOPT_ALTSVC.3.html">CURLOPT_ALTSVC</a>(3)</u> is set, <u><a href="../man3/CURLOPT_ALTSVC_CTRL.3.html">CURLOPT_ALTSVC_CTRL</a>(3)</u> gets a default value corresponding to CURLALTSVC_H1 |
       CURLALTSVC_H2 | CURLALTSVC_H3 - the HTTP/2 and HTTP/3 bits are only set if libcurl was built with support
       for those versions.

       Setting any bit enables the alt-svc engine.

       CURLALTSVC_READONLYFILE
              Do  not  write the alt-svc cache back to the file specified with <u><a href="../man3/CURLOPT_ALTSVC.3.html">CURLOPT_ALTSVC</a>(3)</u> even if it gets
              updated. By default a file specified with that option is read and written to as deemed necessary.

       CURLALTSVC_H1
              Accept alternative services offered over HTTP/1.1.

       CURLALTSVC_H2
              Accept alternative services offered over HTTP/2. This is only used if libcurl was  also  built  to
              actually support HTTP/2, otherwise this bit is ignored.

       CURLALTSVC_H3
              Accept  alternative  services  offered over HTTP/3. This is only used if libcurl was also built to
              actually support HTTP/3, otherwise this bit is ignored.

</pre><h4><b>DEFAULT</b></h4><pre>
       0 - Alt-Svc handling is disabled

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects http only

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           curl_easy_setopt(curl, CURLOPT_ALTSVC_CTRL, (long)CURLALTSVC_H1);
           curl_easy_setopt(curl, CURLOPT_ALTSVC, "altsvc-cache.txt");
           curl_easy_perform(curl);
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.64.1

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLOPT_ALTSVC.3.html">CURLOPT_ALTSVC</a></b>(3), <b><a href="../man3/CURLOPT_CONNECT_TO.3.html">CURLOPT_CONNECT_TO</a></b>(3), <b><a href="../man3/CURLOPT_RESOLVE.3.html">CURLOPT_RESOLVE</a></b>(3)

libcurl                                            2025-06-16                             <u><a href="../man3/CURLOPT_ALTSVC_CTRL.3.html">CURLOPT_ALTSVC_CTRL</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>