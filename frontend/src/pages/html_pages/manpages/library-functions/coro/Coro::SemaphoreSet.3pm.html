<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coro::SemaphoreSet - efficient set of counting semaphores</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcoro-perl">libcoro-perl_6.570-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Coro::SemaphoreSet - efficient set of counting semaphores

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use Coro;

        $sig = new Coro::SemaphoreSet [initial value];

        $sig-&gt;down ("semaphoreid"); # wait for signal

        # ... some other "thread"

        $sig-&gt;up ("semaphoreid");

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module implements sets of counting semaphores (see Coro::Semaphore). It is nothing more than a hash
       with normal semaphores as members, but is more efficiently managed.

       This is useful if you want to allow parallel tasks to run in parallel but not on the same problem. Just
       use a SemaphoreSet and lock on the problem identifier.

       You don't have to load "Coro::SemaphoreSet" manually, it will be loaded automatically when you "use Coro"
       and call the "new" constructor.

       new [initial count]
           Creates  a  new  semaphore  set  with the given initial lock count for each individual semaphore. See
           Coro::Semaphore.

       $semset-&gt;down ($id)
           Decrement the counter, therefore "locking" the named semaphore. This method waits until the semaphore
           is available if the counter is zero.

       $semset-&gt;up ($id)
           Unlock the semaphore again. If the semaphore reaches the default  count  for  this  set  and  has  no
           waiters, the space allocated for it will be freed.

       $semset-&gt;try ($id)
           Try  to  "down"  the semaphore. Returns true when this was possible, otherwise return false and leave
           the semaphore unchanged.

       $semset-&gt;count ($id)
           Return the current semaphore count for the specified semaphore.

       $semset-&gt;waiters ($id)
           Returns the number (in scalar context) or list (in list context) of waiters waiting on the  specified
           semaphore.

       $semset-&gt;wait ($id)
           Same as Coro::Semaphore::wait on the specified semaphore.

       $guard = $semset-&gt;guard ($id)
           This  method  calls  "down"  and  then  creates a guard object. When the guard object is destroyed it
           automatically calls "up".

       $semaphore = $semset-&gt;sem ($id)
           This SemaphoreSet version is based on Coro::Semaphore's. This function  creates  (if  necessary)  the
           underlying  Coro::Semaphore object and returns it. You may legally call any Coro::Semaphore method on
           it, but note that calling "$semset-&gt;up" can invalidate the returned semaphore.

</pre><h4><b>AUTHOR/SUPPORT/CONTACT</b></h4><pre>
          Marc A. Lehmann &lt;<a href="mailto:schmorp@schmorp.de">schmorp@schmorp.de</a>&gt;
          <a href="http://software.schmorp.de/pkg/Coro.html">http://software.schmorp.de/pkg/Coro.html</a>

perl v5.40.1                                       2025-03-21                                  <u><a href="../man3pm/SemaphoreSet.3pm.html">SemaphoreSet</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>