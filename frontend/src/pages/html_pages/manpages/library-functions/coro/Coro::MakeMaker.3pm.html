<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coro::MakeMaker - MakeMaker glue for the XS-level Coro API</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcoro-perl">libcoro-perl_6.570-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Coro::MakeMaker - MakeMaker glue for the XS-level Coro API

</pre><h4><b>SYNOPSIS</b></h4><pre>
       This allows you to control coroutines from C/XS.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       For optimal performance, hook into Coro at the C-level. You'll need to make changes to your "Makefile.PL"
       and add code to your "xs" / "c" file(s).

</pre><h4><b>WARNING</b></h4><pre>
       When you hook in at the C-level you can get a <u>huge</u> performance gain, but you also reduce the chances that
       your code will work unmodified with newer versions of "perl" or "Coro". This may or may not be a problem.
       Just be aware, and set your expectations accordingly.

</pre><h4><b>HOW</b> <b>TO</b></h4><pre>
   <b>Makefile.PL</b>
         use Coro::MakeMaker qw(coro_args);

         # ... set up %args ...

         WriteMakefile (coro_args (%args));

   <b>XS</b>
         #include "CoroAPI.h"

         BOOT:
           I_CORO_API ("YourModule");

   <b>API</b>
       This is just a small overview - read the Coro/CoroAPI.h header file in the distribution, and check the
       examples in <u>EV/</u> and <u>Event/*</u>, or as a more real-world example, the Deliantra game server (which uses
       Coro::MakeMaker).

       You can also drop me a mail if you run into any trouble.

        #define CORO_TRANSFER(prev,next) /* transfer from prev to next */
        #define CORO_SCHEDULE            /* like Coro::schedule */
        #define CORO_CEDE                /* like Coro::cede */
        #define CORO_CEDE_NOTSELF        /* like Coro::cede_notself */
        #define CORO_READY(coro)         /* like $coro-&gt;ready */
        #define CORO_IS_READY(coro)      /* like $coro-&gt;is_ready */
        #define CORO_NREADY              /* # of procs in ready queue */
        #define CORO_CURRENT             /* returns $Coro::current */
        #define CORO_THROW               /* exception pending? */
        #define CORO_READYHOOK           /* hook for event libs, see Coro::EV */

        /* C-level coroutine struct, opaque, not used much */
        struct coro;

        /* used for schedule-like-function prepares */
        struct coro_transfer_args
        {
          struct coro *prev, *next;
        };

        /* this is the per-perl-coro slf frame info */
        struct CoroSLF
        {
          void (*prepare) (pTHX_ struct coro_transfer_args *ta); /* 0 means not yet initialised */
          int (*check) (pTHX_ struct CoroSLF *frame);
          void *data; /* for use by prepare/check/destroy */
          void (*destroy) (pTHX_ struct CoroSLF *frame);
        };

        /* needs to fill in the *frame */
        typedef void (*coro_slf_cb) (pTHX_ struct CoroSLF *frame, CV *cv, SV **arg, int items);

        #define CORO_SV_STATE(coro)      /* returns the internal struct coro * */
        #define CORO_EXECUTE_SLF(cv,init,ax) /* execute a schedule-like function */
        #define CORO_EXECUTE_SLF_XS(init) /* SLF in XS, see e.g. Coro::EV */

        /* called on enter/leave */
        typedef void (*coro_enterleave_hook) (pTHX_ void *arg);

        #define CORO_ENTERLEAVE_HOOK(coro,enter,enter_arg,leave,leave_arg)   /* install an XS-level enter/leave hook */
        #define CORO_ENTERLEAVE_UNHOOK(coro,enter,leave)                     /* remove an XS-level enter/leave hook */
        #define CORO_ENTERLEAVE_SCOPE_HOOK(enter,enter_arg,leave,leave_arg)  /* install an XS-level enter/leave hook for the corrent scope */

</pre><h4><b>AUTHOR/SUPPORT/CONTACT</b></h4><pre>
          Marc A. Lehmann &lt;<a href="mailto:schmorp@schmorp.de">schmorp@schmorp.de</a>&gt;
          <a href="http://software.schmorp.de/pkg/Coro.html">http://software.schmorp.de/pkg/Coro.html</a>

perl v5.40.1                                       2025-03-21                                     <u><a href="../man3pm/MakeMaker.3pm.html">MakeMaker</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>