<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalyst::Request::Upload - handles file upload requests</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcatalyst-perl">libcatalyst-perl_5.90132-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Catalyst::Request::Upload - handles file upload requests

</pre><h4><b>SYNOPSIS</b></h4><pre>
           my $upload = $c-&gt;req-&gt;upload('field');

           $upload-&gt;basename;
           $upload-&gt;copy_to;
           $upload-&gt;fh;
           $upload-&gt;decoded_fh
           $upload-&gt;filename;
           $upload-&gt;headers;
           $upload-&gt;link_to;
           $upload-&gt;size;
           $upload-&gt;slurp;
           $upload-&gt;decoded_slurp;
           $upload-&gt;tempname;
           $upload-&gt;type;
           $upload-&gt;charset;

       To specify where Catalyst should put the temporary files, set the 'uploadtmp' option in the Catalyst
       config. If unset, Catalyst will use the system temp dir.

           __PACKAGE__-&gt;config( uploadtmp =&gt; '/path/to/tmpdir' );

       See also Catalyst.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class provides accessors and methods to handle client upload requests.

</pre><h4><b>METHODS</b></h4><pre>
   <b>$upload-&gt;new</b>
       Simple constructor.

   <b>$upload-&gt;copy_to</b>
       Copies the temporary file using File::Copy. Returns true for success, false for failure.

            $upload-&gt;copy_to('/path/to/target');

       Please note the filename used for the copy target is the 'tempname' that is the actual filename on the
       filesystem, NOT the 'filename' that was part of the upload headers.  This might seem counter intuitive
       but at this point this behavior is so established that its not something we can change.

       You can always create your own copy routine that munges the target path as you wish.

   <b>$upload-&gt;is_utf8_encoded</b>
       Returns true of the upload defines a character set at that value is 'UTF-8'.  This does not try to
       inspect your upload and make any guesses if the Content Type charset is undefined.

   <b>$upload-&gt;fh</b>
       Opens a temporary file (see tempname below) and returns an IO::File handle.

       This is a filehandle that is opened with no additional IO Layers.

   <b>$upload-&gt;decoded_fh(?$encoding)</b>
       Returns a filehandle that has binmode set to UTF-8 if a UTF-8 character set is found. This also accepts
       an override encoding value that you can use to force a particular PerlIO layer.  If neither are found the
       filehandle is set to :raw.

       This is useful if you are pulling the file into code and inspecting bits and maybe then sending those
       bits back as the response.  (Please note this is not a suitable filehandle to set in the body; use "fh"
       if you are doing that).

       Please note that using this method sets the underlying filehandle IO layer so once you use this method if
       you go back and use the "fh" method you still get the IO layer applied.

   <b>$upload-&gt;filename</b>
       Returns the client-supplied filename.

   <b>$upload-&gt;headers</b>
       Returns an HTTP::Headers object for the request.

   <b>$upload-&gt;link_to</b>
       Creates a hard link to the temporary file. Returns true for success, false for failure.

           $upload-&gt;link_to('/path/to/target');

   <b>$upload-&gt;size</b>
       Returns the size of the uploaded file in bytes.

   <b>$upload-&gt;slurp(?$encoding)</b>
       Optionally accepts an argument to define an IO Layer (which is applied to the filehandle via binmode; if
       no layer is defined the default is set to ":raw".

       Returns a scalar containing the contents of the temporary file.

       Note that this will cause the filehandle pointed to by "$upload-&gt;fh" to be reset to the start of the file
       using seek and the file handle to be put into whatever encoding mode is applied.

   <b>$upload-&gt;decoded_slurp(?$encoding)</b>
       Works just like "slurp" except we use "decoded_fh" instead of "fh" to open a filehandle to slurp.  This
       means if your upload charset is UTF8 we binmode the filehandle to that encoding.

   <b>$upload-&gt;basename</b>
       Returns basename for "filename".  This filters the name through a regexp "basename =~ s|[^\w\.-]+|_|g" to
       make it safe for filesystems that don't like advanced characters.  This will of course filter UTF8
       characters.  If you need the exact basename unfiltered use "raw_basename".

   <b>$upload-&gt;raw_basename</b>
       Just like "basename" but without filtering the filename for characters that don't always write to a
       filesystem.

   <b>$upload-&gt;tempname</b>
       Returns the path to the temporary file.

   <b>$upload-&gt;type</b>
       Returns the client-supplied Content-Type.

   <b>$upload-&gt;charset</b>
       The character set information part of the content type, if any.  Useful if you need to figure out any
       encodings on the file upload.

   <b>meta</b>
       Provided by Moose

</pre><h4><b>AUTHORS</b></h4><pre>
       Catalyst Contributors, see Catalyst.pm

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This library is free software. You can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.40.0                                       2024-11-15                     <u>Catalyst::Request::<a href="../man3pm/Upload.3pm.html">Upload</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>