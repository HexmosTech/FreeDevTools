<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rex::Commands::Cron - Simple Cron Management</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/rex">rex_1.16.0-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Rex::Commands::Cron - Simple Cron Management

</pre><h4><b>DESCRIPTION</b></h4><pre>
       With this Module you can manage your cronjobs.

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use Rex::Commands::Cron;

        cron add =&gt; "root", {
               minute =&gt; '5',
               hour  =&gt; '*',
               day_of_month   =&gt; '*',
               month =&gt; '*',
               day_of_week =&gt; '*',
               command =&gt; '/path/to/your/cronjob',
             };

        cron list =&gt; "root";

        cron delete =&gt; "root", 3;

</pre><h4><b>EXPORTED</b> <b>FUNCTIONS</b></h4><pre>
   <b>cron_entry($name,</b> <b>%option)</b>
       Manage cron entries.

        cron_entry "reload-httpd",
          ensure       =&gt; "present",
          command      =&gt; "/etc/init.d/httpd restart",
          minute       =&gt; "1,5",
          hour         =&gt; "11,23",
          month        =&gt; "1,5",
          day_of_week  =&gt; "1,3",
          day_of_month =&gt; "1,3,5",
          user         =&gt; "root",
          on_change    =&gt; sub { say "cron added"; };

        # remove an entry
        cron_entry "reload-httpd",
          ensure       =&gt; "absent",
          command      =&gt; "/etc/init.d/httpd restart",
          minute       =&gt; "1,5",
          hour         =&gt; "11,23",
          month        =&gt; "1,5",
          day_of_week  =&gt; "1,3",
          day_of_month =&gt; "1,3,5",
          user         =&gt; "root",
          on_change    =&gt; sub { say "cron removed."; };

   <b>cron($action</b> <b>=&gt;</b> <b>$user,</b> <b>...)</b>
       With this function you can manage cronjobs.

       List cronjobs.

        use Rex::Commands::Cron;
        use Data::Dumper;

        task "listcron", "server1", sub {
          my @crons = cron list =&gt; "root";
          print Dumper(\@crons);
        };

       Add a cronjob.

       This example will add a cronjob running on minute 1, 5, 19 and 40. Every hour and every day.

        use Rex::Commands::Cron;
        use Data::Dumper;

        task "addcron", "server1", sub {
           cron add =&gt; "root", {
             minute =&gt; "1,5,19,40",
             command =&gt; '/path/to/your/cronjob',
           };
        };

       This example will add a cronjob running on the 1st, 3rd and 5th day of January and May, but only when
       it's a Monday or Wednesday. On those days, the job will run when the hour is 11 or 23, and the minute is
       1 or 5 (in other words at 11:01, 11:05, 23:01 and 23:05).

        task "addcron", "server1", sub {
           cron add =&gt; "root", {
             minute =&gt; "1,5",
             hour  =&gt; "11,23",
             month  =&gt; "1,5",
             day_of_week =&gt; "1,3",
             day_of_month =&gt; "1,3,5",
             command =&gt; '/path/to/your/cronjob',
           };
        };

       Delete a cronjob.

       This example will delete the 4th cronjob. Counting starts with zero (0).

        task "delcron", "server1", sub {
           cron delete =&gt; "root", 3;
        };

       Managing Environment Variables inside cron.

        task "mycron", "server1", sub {
           cron env =&gt; user =&gt; add =&gt; {
             MYVAR =&gt; "foo",
           };

           cron env =&gt; user =&gt; delete =&gt; $index;
           cron env =&gt; user =&gt; delete =&gt; 1;

           cron env =&gt; user =&gt; "list";
        };

perl v5.40.0                                       2025-02-06                           <u>Rex::Commands::<a href="../man3pm/Cron.3pm.html">Cron</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>