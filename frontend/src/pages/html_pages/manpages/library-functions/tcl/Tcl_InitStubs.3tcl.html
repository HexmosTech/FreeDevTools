<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tcl_InitStubs - initialize the Tcl stubs mechanism</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl9.0-doc">tcl9.0-doc_9.0.1+dfsg-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tcl_InitStubs - initialize the Tcl stubs mechanism

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;tcl.h&gt;</b>

       const char *
       <b>Tcl_InitStubs</b>(<u>interp,</u> <u>version,</u> <u>exact</u>)

</pre><h4><b>ARGUMENTS</b></h4><pre>
       Tcl_Interp <u>*interp</u> (in)          Tcl interpreter handle.

       const char <u>*version</u> (in)         A  version string consisting of one or more decimal numbers separated by
                                        dots.

       int <u>exact</u> (in)                   1 means that  only  the  particular  version  specified  by  <u>version</u>  is
                                        acceptable.    0  means  that  versions  newer  than  <u>version</u>  are  also
                                        acceptable as long as  they  have  the  same  major  version  number  as
                                        <u>version</u>. Other bits have no effect.
________________________________________________________________________________________________________________

</pre><h4><b>INTRODUCTION</b></h4><pre>
       The  Tcl  stubs mechanism defines a way to dynamically bind extensions to a particular Tcl implementation
       at run time.  This provides two significant benefits to Tcl users:

       1)   Extensions that use the stubs mechanism can be loaded into multiple versions of  Tcl  without  being
            recompiled or relinked.

       2)   Extensions  that  use  the  stubs  mechanism  can  be  dynamically loaded into statically-linked Tcl
            applications.

       The stubs mechanism accomplishes this by exporting function tables that define an interface  to  the  Tcl
       API.   The  extension  then accesses the Tcl API through offsets into the function table, so there are no
       direct references to any of the Tcl library's symbols.  This redirection is transparent to the extension,
       so an extension writer can continue to use all public Tcl functions as documented.

       The stubs mechanism requires no changes to applications incorporating Tcl interpreters.  Only  developers
       creating C-based Tcl extensions need to take steps to use the stubs mechanism with their extensions.

       Enabling the stubs mechanism for an extension requires the following steps:

       1)   Call <b>Tcl_InitStubs</b> in the extension before calling any other Tcl functions.

       2)   Define  the  <b>USE_TCL_STUBS</b>  symbol.   Typically,  you  would  include  the <b>-DUSE_TCL_STUBS</b> flag when
            compiling the extension.

       3)   Link the extension with the Tcl stubs library instead of the standard Tcl library.  For example,  to
            use  the  Tcl 9.0 ABI on Unix platforms, the library name is <u>libtclstub.a</u>; on Windows platforms, the
            library name is <u>tclstub.lib</u>.

       If the extension also requires the Tk API, it must also call <b>Tk_InitStubs</b>  to  initialize  the  Tk  stubs
       interface and link with the Tk stubs libraries.  See the <b>Tk_InitStubs</b> page for more information.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Tcl_InitStubs</b>  attempts  to initialize the stub table pointers and ensure that the correct version of Tcl
       is loaded.  In addition to an interpreter handle, it accepts as arguments a version number and a  Boolean
       flag  indicating  whether  the extension requires an exact version match or not.  If <u>exact</u> is 0, then the
       extension is indicating that newer versions of Tcl are acceptable as long as they  have  the  same  major
       version  number  as <u>version</u>; non-zero means that only the specified <u>version</u> is acceptable.  <b>Tcl_InitStubs</b>
       returns a string containing the actual version of Tcl satisfying the request, or NULL if the Tcl  version
       is not acceptable, does not support stubs, or any other error condition occurred.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Tk_InitStubs

</pre><h4><b>KEYWORDS</b></h4><pre>
       stubs

Tcl                                                    8.1                                   <u><a href="../man3tcl/Tcl_InitStubs.3tcl.html">Tcl_InitStubs</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>