<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>notcurses_reel - high-level widget for hierarchical data</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnotcurses-core-dev">libnotcurses-core-dev_3.0.7+dfsg.1-1ubuntu8_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       notcurses_reel - high-level widget for hierarchical data

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;notcurses/notcurses.h&gt;</b>

              #define NCREEL_OPTION_INFINITESCROLL 0x0001
              #define NCREEL_OPTION_CIRCULAR       0x0002

              struct ncreel;
              struct ncplane;
              struct nctablet;

              typedef struct ncreel_options {
                // notcurses can draw a border around the ncreel, and also
                // around the component tablets. inhibit borders by setting all
                // valid bits in the masks. partially inhibit borders by setting
                // individual bits in the masks. the appropriate attr and pair
                // values will be used to style the borders. focused and
                // non-focused tablets can have different styles. you can instead
                // draw your own borders, or forgo borders entirely.
                unsigned bordermask; // bitfield; 1s will not be drawn
                uint64_t borderchan; // attributes used for ncreel border
                unsigned tabletmask; // bitfield for tablet borders
                uint64_t tabletchan; // tablet border styling channel
                uint64_t focusedchan;// focused tablet border styling channel
                uint64_t flags;      // bitfield over NCREEL_OPTION_*
              } ncreel_options;

       <b>struct</b> <b>ncreel*</b> <b>ncreel_create(struct</b> <b>ncplane*</b> <u>nc</u><b>,</b> <b>const</b> <b>ncreel_options*</b> <u>popts</u><b>);</b>

       <b>struct</b> <b>ncplane*</b> <b>ncreel_plane(struct</b> <b>ncreel*</b> <u>nr</u><b>);</b>

       <b>typedef</b> <b>int</b> <b>(</b><u><b>tabletcb)(struct</b></u> <u><b>nctablet</b></u> <u>t</u><b>,</b> <b>bool</b> <u>cliptop</u><b>);</b>

       <b>struct</b>  <b>nctablet*</b> <b>ncreel_add(struct</b> <b>ncreel*</b> <u>nr</u><b>,</b> <b>struct</b> <b>nctablet*</b> <u>after</u><b>,</b> <b>struct</b> <b>nctablet*</b> <u>before</u><b>,</b> <b>tabletcb</b>
       <u>cb</u><b>,</b> <b>void*</b> <u>opaque</u><b>);</b>

       <b>int</b> <b>ncreel_tabletcount(const</b> <b>struct</b> <b>ncreel*</b> <u>nr</u><b>);</b>

       <b>int</b> <b>ncreel_del(struct</b> <b>ncreel*</b> <u>nr</u><b>,</b> <b>struct</b> <b>nctablet*</b> <u>t</u><b>);</b>

       <b>int</b> <b>ncreel_redraw(struct</b> <b>ncreel*</b> <u>nr</u><b>);</b>

       <b>struct</b> <b>nctablet*</b> <b>ncreel_focused(struct</b> <b>ncreel*</b> <u>nr</u><b>);</b>

       <b>struct</b> <b>nctablet*</b> <b>ncreel_next(struct</b> <b>ncreel*</b> <u>nr</u><b>);</b>

       <b>struct</b> <b>nctablet*</b> <b>ncreel_prev(struct</b> <b>ncreel*</b> <u>nr</u><b>);</b>

       <b>bool</b> <b>ncreel_offer_input(struct</b> <b>ncreel*</b> <u>nr</u><b>,</b> <b>const</b> <b>ncinput*</b> <u>ni</u><b>);</b>

       <b>void</b> <b>ncreel_destroy(struct</b> <b>ncreel*</b> <u>nr</u><b>);</b>

       <b>void*</b> <b>nctablet_userptr(struct</b> <b>nctablet*</b> <u>t</u><b>);</b>

       <b>struct</b> <b>ncplane*</b> <b>nctablet_plane(struct</b> <b>nctablet*</b> <u>t</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       An <b>ncreel</b> is a widget for display and manipulation of hierarchical data, intended to make  effective  use
       of  the  display area while supporting keyboards, mice, and haptic interfaces.  A series of <b>nctablet</b>s are
       ordered on a virtual cylinder; the tablets can grow and shrink freely.  Moving among the tablets  "spins"
       the cylinder.  <b>ncreel</b>s support optional borders around the reel and/or tablets.

       <b>ncreel_redraw</b>  arranges the tablets, invoking the <b>tabletcb</b> defined by each.  It will invoke the callbacks
       of only those tablets currently visible.  This function ought be called whenever the data within a tablet
       need be refreshed.  The return value of this callback is the number of lines drawn into the <b>ncplane</b>.  The
       tablet will be grown or shrunk as necessary to reflect this return value.

       Unless the reel is devoid of tablets, there is always a "focused" tablet (the first tablet  added  to  an
       empty  reel  becomes  focused).   The  focused  tablet  can  change  via <b>ncreel_next</b> and <b>ncreel_prev</b>.  If
       <b>ncreel_del</b> is called on the focused tablet, and at least one other tablet remains, some  tablet  receives
       the focus.

       Calling  functions which change the reel, including <b>ncreel_next</b>, <b>ncreel_prev</b>, <b>ncreel_del</b>, and <b>ncreel_add</b>,
       implicitly calls <b>ncreel_redraw</b>.  This behavior <b>must</b> <b>not</b> <b>be</b> <b>relied</b> <b>upon</b>, as it is likely to go away.

   <b>LAYOUT</b>
       When the user invokes <b>ncreel_redraw</b>, Notcurses can't assume it knows the size of any tablets--one or more
       might have changed since the last draw.  Only after a callback does <b>ncreel_redraw</b> know how  many  rows  a
       tablet will occupy.

       A  redraw operation starts with the focused tablet.  Its callback is invoked with a plane as large as the
       reel, i.e.  the focused tablet can occupy the entire reel, to the exclusion of any  other  tablets.   The
       focused  tablet  will be kept where it was, if possible; growth might force it to move.  There is now one
       tablet locked into place, and zero, one, or two areas of empty space.  Tablets are successively lain  out
       in these spaces until the reel is filled.

       In  general, if the reel is not full, tablets will be drawn towards the top, but this ought not be relied
       on.

   <b>THE</b> <b>TABLET</b> <b>CALLBACK</b>
       The tablet callback (of type <b>tabletcb</b>) is called with an <b>ncplane</b> and a <b>bool</b>.  The callback function ought
       not rely on the absolute position of the plane, as it might be moved.  The  <b>bool</b>  indicates  whether  the
       plane ought be filled in from the bottom, or from the top (this is only meaningful if the plane is insuf‚Äê
       ficiently large to contain all the tablet's available data).  The callback ought not resize the plane (it
       will  be  resized  following  return).  The callback must return the number of rows used (it is perfectly
       valid to use zero rows), or a negative number if there was an error.

       Returning more rows than the plane has available is an error.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>ncreel_focused</b>, <b>ncreel_prev</b>, and <b>ncreel_next</b> all return the focused tablet, unless no tablets  exist,  in
       which case they return <b>NULL</b>.

       <b>ncreel_add</b> returns the newly-added <b>nctablet</b>.

</pre><h4><b>BUGS</b></h4><pre>
       I  can't decide whether to require the user to explicitly call <b>ncreel_redraw</b>.  Doing so means changes can
       be batched up without a redraw, but it also makes things more complicated for both me and the user.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/notcurses.3.html">notcurses</a>(3)</b>, <b><a href="../man3/notcurses_input.3.html">notcurses_input</a>(3)</b>, <b><a href="../man3/notcurses_plane.3.html">notcurses_plane</a>(3)</b>

</pre><h4><b>AUTHORS</b></h4><pre>
       nick black &lt;<a href="mailto:nickblack@linux.com">nickblack@linux.com</a>&gt;.

                                                     v3.0.7                                    <u><a href="../man3/notcurses_reel.3.html">notcurses_reel</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>