<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CGI::SSI - Use SSI from CGI scripts</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcgi-ssi-perl">libcgi-ssi-perl_0.92-6build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
        CGI::SSI - Use SSI from CGI scripts

</pre><h4><b>SYNOPSIS</b></h4><pre>
        # autotie STDOUT or any other open filehandle

          use CGI::SSI (autotie =&gt; 'STDOUT');

          print $shtml; # browser sees resulting HTML

        # or tie it yourself to any open filehandle

          use CGI::SSI;

          open(FILE,'+&gt;'.$html_file) or die $!;
          $ssi = tie(*FILE, 'CGI::SSI', filehandle =&gt; 'FILE');
          print FILE $shtml; # HTML arrives in the file

        # or use the object-oriented interface

          use CGI::SSI;

          $ssi = CGI::SSI-&gt;new();

          $ssi-&gt;if('"$varname" =~ /^foo/');
             $html .= $ssi-&gt;process($shtml);
          $ssi-&gt;else();
             $html .= $ssi-&gt;include(file =&gt; $filename);
          $ssi-&gt;endif();

          print $ssi-&gt;exec(cgi =&gt; $url);
          print $ssi-&gt;flastmod(file =&gt; $filename);

        #
        # or roll your own favorite flavor of SSI
        #

          package CGI::SSI::MySSI;
          use CGI::SSI;
          @CGI::SSI::MySSI::ISA = qw(CGI::SSI);

          sub include {
             my($self,$type,$file_or_url) = @_;
             # my idea of include goes something like this...
             return $html;
          }
          1;
          __END__

        #
        # or use .htaccess to include all files in a dir
        #

          # in .htaccess
          Action cgi-ssi /cgi-bin/ssi/process.cgi
          &lt;FilesMatch "\.shtml"&gt;
             SetHandler cgi-ssi
          &lt;/FilesMatch&gt;

          # in /cgi-bin/ssi/process.cgi
          #!/usr/local/bin/perl
          use CGI::SSI;
          CGI::SSI-&gt;handler();
          __END__

</pre><h4><b>DESCRIPTION</b></h4><pre>
       CGI::SSI is meant to be used as an easy way to filter shtml through CGI scripts in a loose imitation of
       Apache's mod_include.  If you're using Apache, you may want to use either mod_include or the Apache::SSI
       module instead of CGI::SSI. Limitations in a CGI script's knowledge of how the server behaves make some
       SSI directives impossible to imitate from a CGI script.

       Most of the time, you'll simply want to filter shtml through STDOUT or some other open filehandle.
       "autotie" is available for STDOUT, but in general, you'll want to tie other filehandles yourself:

           $ssi = tie(*FH, 'CGI::SSI', filehandle =&gt; 'FH');
           print FH $shtml;

       Note that you'll need to pass the name of the filehandle to tie() as a named parameter. Other named
       parameters are possible, as detailed below. These parameters are the same as those passed to the new()
       method. However, new() will not tie a filehandle for you.

       CGI::SSI has it's own flavor of SSI. Test expressions are Perlish.  You may create and use multiple
       CGI::SSI objects; they will not step on each others' variables.

       Object-Oriented methods use the same general format so as to imitate SSI directives:

           &lt;!--#include virtual="/foo/bar.footer" --&gt;

         would be

           $ssi-&gt;include(virtual =&gt; '/foo/bar.footer');

       likewise,

           &lt;!--#exec cgi="/cgi-bin/foo.cgi" --&gt;

         would be

           $ssi-&gt;exec(cgi =&gt; '/cgi-bin/foo.cgi');

       Usually, if there's no chance for ambiguity, the first argument may be left out:

           &lt;!--#echo var="var_name" --&gt;

         could be either

           $ssi-&gt;echo(var =&gt; 'var_name');

         or

           $ssi-&gt;echo('var_name');

       Likewise,

           $ssi-&gt;set(var =&gt; $varname, value =&gt; $value)

         is the same as

           $ssi-&gt;set($varname =&gt; $value)

       $ssi-&gt;new([%args])
           Creates a new CGI::SSI object. The following are valid (optional) arguments:

            DOCUMENT_URI    =&gt; $doc_uri,
            DOCUMENT_NAME   =&gt; $doc_name,
            DOCUMENT_ROOT   =&gt; $doc_root,
            errmsg          =&gt; $oops,
            sizefmt         =&gt; ('bytes' || 'abbrev'),
            timefmt         =&gt; $time_fmt,
            MAX_RECURSIONS  =&gt; $default_100, # when to stop infinite loops w/ error msg
            COOKIE_JAR      =&gt; HTTP::Cookies-&gt;new,

       $ssi-&gt;config($type, $arg)
           $type  is  either  'sizefmt',  'timefmt',  or  'errmsg'.  $arg is similar to those of the SSI "spec",
           referenced below.

       $ssi-&gt;set($varname =&gt; $value)
           Sets variables internal to the CGI::SSI object. (Not to be confused with the  normal  variables  your
           script   uses!)   These   variables   may   be   used   in  test  expressions,  and  retrieved  using
           $ssi-&gt;echo($varname). These variables also will not be available in external, included resources.

       $ssi-&gt;echo($varname)
           Returns the value of the variable named $varname. Such variables may be set manually using the  set()
           method. There are also several built-in variables:

            DOCUMENT_URI  - the URI of this document
            DOCUMENT_NAME - the name of the current document
            DATE_GMT      - the same as 'gmtime'
            DATE_LOCAL    - the same as 'localtime'
            LAST_MODIFIED - the last time this script was modified

       $ssi-&gt;exec($type, $arg)
           $type is either 'cmd' or 'cgi'. $arg is similar to the SSI "spec" (see below).

       $ssi-&gt;include($type, $arg)
           Similar  to  "exec",  but  "virtual"  and  "file" are the two valid types.  SSI variables will not be
           available outside of your CGI::SSI object, regardless of whether the virtual resource is on the local
           system or a remote system.

       $ssi-&gt;flastmod($type, $filename)
           Similar to "include".

       $ssi-&gt;fsize($type, $filename)
           Same as "flastmod".

       $ssi-&gt;printenv
           Returns the environment similar to Apache's mod_include.

       $ssi-&gt;cookie_jar([$jar])
           Returns the currently-used HTTP::Cookies object. You may  optionally  pass  in  a  new  HTTP::Cookies
           object. The jar is used for web requests in exec cgi and include virtual directives.

   <b>FLOW-CONTROL</b> <b>METHODS</b>
       The  following  methods  may be used to test expressions. During a "block" where the test $expr is false,
       nothing will be returned (or printed, if tied).

       $ssi-&gt;if($expr)
           The expr can be anything Perl, but care should be taken. This causes problems:

            $ssi-&gt;set(varname =&gt; "foo");
            &lt;!--#if expr="'\$varname' =~ /^foo$/" --&gt;ok&lt;!--#endif --&gt;

           The $varname is expanded as you would expect. (We escape it so as to  use  the  $varname  within  the
           CGI::SSI  object,  instead  of that within our progam.) But the $/ inside the regex is also expanded.
           This is fixed by escaping the "$":

            &lt;!--#if expr="'\$varname' =~ /^value\$/" --&gt;ok&lt;!--#endif --&gt;

           The expressions used in if and elif tags/calls are tricky due to the number of escapes  required.  In
           some cases, you'll need to write "\\\\" to mean "\".

       $ssi-&gt;elif($expr)
       $ssi-&gt;else
       $ssi-&gt;endif

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       "Apache::SSI" and the SSI "spec" at <a href="http://www.apache.org/docs/mod/mod_include.html">http://www.apache.org/docs/mod/mod_include.html</a>

</pre><h4><b>AUTHOR</b></h4><pre>
       (c) 2000-2005 James Tolley &lt;<a href="mailto:james@bitperfect.com">james@bitperfect.com</a>&gt; All Rights Reserved.

       This is free software. You may copy and/or modify it under the same terms as perl itself.

</pre><h4><b>CREDITS</b></h4><pre>
       Many Thanks to Corey Wilson and Fitz Elliot for bug reports and fixes.

perl v5.40.1                                       2025-02-18                                           <u><a href="../man3pm/SSI.3pm.html">SSI</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>