<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nfs4_uid_to_name,    nfs4_gid_to_name,    nfs4_name_to_uid,   nfs4_name_to_gid,   nfs4_init_name_mapping,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/nfs-common">nfs-common_2.8.3-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nfs4_uid_to_name,    nfs4_gid_to_name,    nfs4_name_to_uid,   nfs4_name_to_gid,   nfs4_init_name_mapping,
       nfs4_get_default_domain,  nfs4_gss_princ_to_ids,  nfs4_gss_princ_to_grouplist,  nfs4_gss_princ_to_ids_ex,
       nfs4_gss_princ_to_grouplist_ex, nfs4_set_debug - ID mapping routines used for NFSv4

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;nfs4_idmap.h&gt;</b>

       <b>int</b> <b>nfs4_init_name_mapping(char</b> <b>*conffile);</b>

       <b>int</b> <b>nfs4_get_default_domain(char</b> <b>*server,</b> <b>char</b> <b>*domain,</b> <b>size_t</b> <b>len);</b>

       <b>int</b> <b>nfs4_uid_to_name(uid_t</b> <b>uid,</b> <b>char</b> <b>*domain,</b> <b>char</b> <b>*name,</b> <b>size_t</b> <b>len);</b>

       <b>int</b> <b>nfs4_uid_to_owner(uid_t</b> <b>uid,</b> <b>char</b> <b>*domain,</b> <b>char</b> <b>*name,</b> <b>size_t</b> <b>len);</b>

       <b>int</b> <b>nfs4_gid_to_name(gid_t</b> <b>gid,</b> <b>char</b> <b>*domain,</b> <b>char</b> <b>*name,</b> <b>size_t</b> <b>len);</b>

       <b>int</b> <b>nfs4_gid_to_owner(gid_t</b> <b>gid,</b> <b>char</b> <b>*domain,</b> <b>char</b> <b>*name,</b> <b>size_t</b> <b>len);</b>

       <b>int</b> <b>nfs4_name_to_uid(char</b> <b>*name,</b> <b>uid_t</b> <b>*uid);</b>

       <b>int</b> <b>nfs4_name_to_gid(char</b> <b>*name,</b> <b>gid_t</b> <b>*gid);</b>

       <b>int</b> <b>nfs4_owner_to_uid(char</b> <b>*name,</b> <b>uid_t</b> <b>*uid);</b>

       <b>int</b> <b>nfs4_owner_to_gid(char</b> <b>*name,</b> <b>gid_t</b> <b>*gid);</b>

       <b>int</b> <b>nfs4_gss_princ_to_ids(char</b> <b>*secname,</b> <b>char</b> <b>*princ,</b> <b>uid_t</b> <b>*uid,</b> <b>gid_t</b> <b>*gid);</b>

       <b>int</b> <b>nfs4_gss_princ_to_grouplist(char</b> <b>*secname,</b> <b>char</b> <b>*princ,</b> <b>gid_t</b> <b>*groups,</b> <b>int</b> <b>*ngroups);</b>

       <b>int</b>  <b>nfs4_gss_princ_to_ids_ex(char</b>  <b>*secname,</b>  <b>char</b>  <b>*princ,</b> <b>uid_t</b> <b>*uid,</b> <b>gid_t</b> <b>*gid,</b> <b>extra_mapping_params</b>
       <b>**ex);</b>

       <b>int</b>  <b>nfs4_gss_princ_to_grouplist_ex(char</b>  <b>*secname,</b>   <b>char</b>   <b>*princ,</b>   <b>gid_t</b>   <b>*groups,</b>   <b>int</b>   <b>*ngroups,</b>
       <b>extra_mapping_params</b> <b>**ex);</b>

       <b>void</b> <b>nfs4_set_debug(int</b> <b>dbg_level,</b> <b>void</b> <b>(*logger)(const</b> <b>char</b> <b>*,</b> <b>...));</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       NFSv4  uses  names of the form <u>user@domain</u>.  To write code that helps the kernel map uid's (as rpc.idmapd
       does) or that processes NFSv4 ACLs, you need to be able to convert between NFSv4 names and local uids and
       gids.

       The <b>nfs4_uid_to_name()</b> and <b>nfs4_gid_to_name()</b> functions,  given  <u>uid</u>  or  <u>gid</u>  and  <u>domain</u>  (as  a  null-
       terminated string), write the corresponding nfsv4 name into the buffer provided in <u>name</u>, which must be of
       length at least <u>len</u>.

       The  <b>nfs4_uid_to_owner()</b> and <b>nfs4_gid_to_group_owner()</b> functions, given <u>uid</u> or <u>gid</u> and <u>domain</u> (as a null-
       terminated string), write the corresponding nfsv4 name into the buffer provided in <u>name</u>, which must be of
       length at least <u>len</u>.  If there is no valid mapping from <u>uid</u> or <u>gid</u> to <u>name</u>,  then  the  numerical  string
       representing uid or gid is returned instead.

       The <b>nfs4_name_to_uid()</b> and <b>nfs4_name_to_gid()</b> functions, given <u>name</u> (as a null-terminated string), return
       the corresponding uid or gid in the second parameter.

       The  <b>nfs4_owner_to_uid()</b>  and  <b>nfs4_group_owner_to_gid()</b>  functions,  given  <u>name</u>  (as  a null-terminated
       string), return the corresponding uid or gid in the second parameter.  If there is no valid mapping  from
       <u>name</u> to <u>uid</u> or <u>gid</u> the value for the user or group "nobody" will be returned instead.

       The  <b>nfs4_init_name_mapping()</b>  function  must  be  called  before using any of these functions.  It reads
       defaults from the configuration file at the provided path, usually "etc/idmapd.conf".

       The <u>domain</u> argument to the id-to-name functions is there to provide a hint to the name mapper in the case
       where an id might be mapped to names in multiple domains.  In most cases, this argument  should  just  be
       the  name returned in the <u>domain</u> argument to <b>nfs4_get_default_domain()</b> which should be called with <u>server</u>
       set to NULL.  The <u>domain</u> should be a buffer of length <u>len</u>.  The constant NFS4_MAX_DOMAIN_LEN may be  used
       to determine a reasonable value for that length.

       The  function  <b>nfs4_get_grouplist()</b>,  given  a  <u>name</u>, fills the provided array <u>groups</u> with up to <u>*ngroups</u>
       group IDs corresponding to which the user <u>name</u> belongs to, setting <u>*ngroups</u> to the actual number of  such
       groups.   If  the  user  belongs  to  more than <u>*ngroups</u> groups, then an error is returned and the actual
       number of groups is stored in *ngroups.

       Functions   <b>nfs4_gss_princ_to_ids()</b>,   <b>nfs4_gss_princ_to_grouplist()</b>,   <b>nfs4_gss_princ_to_ids_ex()</b>,   and
       <b>nfs4_gss_princ_to_grouplist_ex()</b>  are  used  to  convert  from  a  gss  principal  name  (as  returned by
       <b>gss_display_name()</b>) to a uid and gid, or list of gids.

       Finally, <b>nfs4_set_debug()</b> allows the application to set a debugging  level  to  produce  extra  debugging
       information  from  within  the  library.   The  optional <u>logger</u> function specifies an alternative logging
       function to call for the debug messages rather than the default internal function within the library.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       All functions return 0 or, in the case of error, -ERRNO.

                                                   2004-08-05                                <u><a href="../man3/nfs4_uid_to_name.3.html">nfs4_uid_to_name</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>