<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PPI::Find - Object version of the Element->find method</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libppi-perl">libppi-perl_1.281-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       PPI::Find - Object version of the Element-&gt;find method

</pre><h4><b>SYNOPSIS</b></h4><pre>
         # Create the Find object
         my $Find = PPI::Find-&gt;new( \&amp;wanted );

         # Return all matching Elements as a list
         my @found = $Find-&gt;in( $Document );

         # Can we find any matching Elements
         if ( $Find-&gt;any_matches($Document) ) {
               print "Found at least one matching Element";
         }

         # Use the object as an iterator
         $Find-&gt;start($Document) or die "Failed to execute search";
         while ( my $token = $Find-&gt;match ) {
               ...
         }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       PPI::Find is the primary PDOM searching class in the core PPI package.

   <b>History</b>
       It became quite obvious during the development of PPI that many of the modules that would be built on top
       of it were going to need large numbers of saved, storable or easily creatable search objects that could
       be reused a number of times.

       Although the internal -&gt;find method provides a basic ability to search, it is by no means thorough.
       PPI::Find attempts to resolve this problem.

   <b>Structure</b> <b>and</b> <b>Style</b>
       PPI::Find provides a similar API to the popular File::Find::Rule module for file searching, but without
       the ability to assemble queries.

       The implementation of a separate PPI::Find::Rule sub-class that does provide this ability is left as an
       exercise for the reader.

   <b>The</b> <b>&amp;wanted</b> <b>function</b>
       At the core of each PPI::Find object is a "wanted" function that is passed a number of arguments and
       returns a value which controls the flow of the search.

       As the search executes, each Element will be passed to the wanted function in depth-first order.

       It will be provided with two arguments. The current Element to test as $_[0], and the top-level Element
       of the search as $_[1].

       The &amp;wanted function is expected to return 1 (positive) if the Element matches the condition, 0 (false)
       if it does not, and undef (undefined) if the condition does not match, and the Find search should not
       descend to any of the current Element's children.

       Errors should be reported from the &amp;wanted function via die, which will be caught by the Find object and
       returned as an error.

</pre><h4><b>METHODS</b></h4><pre>
   <b>new</b> <b>&amp;wanted</b>
       The "new" constructor takes a single argument of the &amp;wanted function, as described above and creates a
       new search.

       Returns a new PPI::Find object, or "undef" if not passed a CODE reference.

   <b>clone</b>
       The "clone" method creates another instance of the same Find object.

       The cloning is done safely, so if your existing Find object is in the middle of an iteration, the cloned
       Find object will not also be in the iteration and can be safely used independently.

       Returns a duplicate PPI::Find object.

   <b>in</b> <b>$Document</b> <b>[,</b> <b>array_ref</b> <b>=&gt;</b> <b>1</b> <b>]</b>
       The "in" method starts and completes a full run of the search.

       It takes as argument a single PPI::Element object which will serve as the top of the search process.

       Returns a list of PPI::Element objects that match the condition described by the &amp;wanted function, or the
       null list on error.

       You should check the -&gt;errstr method for any errors if you are returned the null list, which may also
       mean simply that no Elements were found that matched the condition.

       Because of this need to explicitly check for errors, an alternative return value mechanism is provide. If
       you pass the "array_ref =&gt; 1" parameter to the method, it will return the list of matched Elements as a
       reference to an ARRAY. The method will return false if no elements were matched, or "undef" on error.

       The -&gt;errstr method can still be used to get the error message as normal.

   <b>start</b> <b>$Element</b>
       The "start" method lets the Find object act as an iterator. The method is passed the parent PPI::Element
       object as for the "in" method, but does not accept any parameters.

       To simplify error handling, the entire search is done at once, with the results cached and provided as-
       requested.

       Returns true if the search completes, and false on error.

   <b>match</b>
       The "match" method returns the next matching Element in the iteration.

       Returns a PPI::Element object, or "undef" if there are no remaining Elements to be returned.

   <b>finish</b>
       The "finish" method provides a mechanism to end iteration if you wish to stop the iteration prematurely.
       It resets the Find object and allows it to be safely reused.

       A Find object will be automatically finished when "match" returns false.  This means you should only need
       to call "finish" when you stop iterating early.

       You may safely call this method even when not iterating and it will return without failure.

       Always returns true

   <b>errstr</b>
       The "errstr" method returns the error messages when a given PPI::Find object fails any action.

       Returns a string, or "undef" if there is no error.

</pre><h4><b>TO</b> <b>DO</b></h4><pre>
       - Implement the PPI::Find::Rule class

</pre><h4><b>SUPPORT</b></h4><pre>
       See the support section in the main module.

</pre><h4><b>AUTHOR</b></h4><pre>
       Adam Kennedy &lt;<a href="mailto:adamk@cpan.org">adamk@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2001 - 2011 Adam Kennedy.

       This program is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

       The full text of the license can be found in the LICENSE file included with this module.

perl v5.40.0                                       2025-01-12                                     <u>PPI::<a href="../man3pm/Find.3pm.html">Find</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>