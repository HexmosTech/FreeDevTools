<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geo::IP - Look up location and network information by IP Address</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libgeo-ip-perl">libgeo-ip-perl_1.51-4build4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Geo::IP - Look up location and network information by IP Address

</pre><h4><b>VERSION</b></h4><pre>
       version 1.51

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Geo::IP;
         my $gi = Geo::IP-&gt;new(GEOIP_MEMORY_CACHE);
         # look up IP address '24.24.24.24'
         # returns undef if country is unallocated, or not defined in our database
         my $country = $gi-&gt;country_code_by_addr('24.24.24.24');
         $country = $gi-&gt;country_code_by_name('yahoo.com');
         # $country is equal to "US"

         use Geo::IP;
         my $gi = Geo::IP-&gt;open("/usr/local/share/GeoIP/GeoIPCity.dat", GEOIP_STANDARD);
         my $record = $gi-&gt;record_by_addr('24.24.24.24');
         print $record-&gt;country_code,
               $record-&gt;country_code3,
               $record-&gt;country_name,
               $record-&gt;region,
               $record-&gt;region_name,
               $record-&gt;city,
               $record-&gt;postal_code,
               $record-&gt;latitude,
               $record-&gt;longitude,
               $record-&gt;time_zone,
               $record-&gt;area_code,
               $record-&gt;continent_code,
               $record-&gt;metro_code;

         # the IPv6 support is currently only avail if you use the CAPI which is much
         # faster anyway. ie: print Geo::IP-&gt;api equals to 'CAPI'
         use Socket;
         use Socket6;
         use Geo::IP;
         my $g = Geo::IP-&gt;open('/usr/local/share/GeoIP/GeoIPv6.dat') or die;
         print $g-&gt;country_code_by_ipnum_v6(inet_pton AF_INET6, '::24.24.24.24');
         print $g-&gt;country_code_by_addr_v6('2a02:e88::');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module uses the GeoIP Legacy file based database.  This database simply contains IP blocks as keys,
       and countries as values. This database should be more complete and accurate than reverse DNS lookups.

       This module can be used to automatically select the geographically closest mirror, to analyze your web
       server logs to determine the countries of your visitors, for credit card fraud detection, and for
       software export controls.

</pre><h4><b>IP</b> <b>GEOLOCATION</b> <b>USAGE</b></h4><pre>
       IP geolocation is inherently imprecise. Locations are often near the center of the population. Any
       location provided by a GeoIP database or web service should not be used to identify a particular address
       or household.

</pre><h4><b>IP</b> <b>ADDRESS</b> <b>TO</b> <b>COUNTRY</b> <b>DATABASES</b></h4><pre>
       Free monthly updates to the database are available from

         <a href="http://dev.maxmind.com/geoip/geolite">http://dev.maxmind.com/geoip/geolite</a>

       This free database is similar to the database contained in IP::Country, as well as many paid databases.
       It uses ARIN, RIPE, APNIC, and LACNIC whois to obtain the IP-&gt;Country mappings.

       If you require greater accuracy, MaxMind offers a database on a paid subscription basis.  Also included
       with this is a service that updates your database automatically each month, by running a program called
       geoipupdate included with the C API from a cronjob.  For more details on the differences between the free
       and paid databases, see:

       <a href="http://www.maxmind.com/en/geolocation_landing">http://www.maxmind.com/en/geolocation_landing</a>

       Do not miss the city database, described in Geo::IP::Record

       Make sure to use the <u>geolite-mirror-simple.pl</u> script from the example directory to stay current with the
       databases.

</pre><h4><b>BENCHMARK</b> <b>the</b> <b>lookups</b> <b>are</b> <b>fast.</b> <b>This</b> <b>is</b> <b>my</b> <b>laptop</b> <b>(</b> <b>examples/benchmark.pl</b> <b>):</b></h4><pre>
         Benchmark: running city_mem, city_std, country_mem, country_std, country_v6_mem, country_v6_std, isp_mem, isp_std for at least 10 CPU seconds...
           city_mem: 10.3121 wallclock secs (10.30 usr +  0.01 sys = 10.31 CPU) @ 387271.48/s (n=3992769)
           city_std: 10.0658 wallclock secs ( 2.86 usr +  7.17 sys = 10.03 CPU) @ 54392.62/s (n=545558)
         country_mem: 10.1772 wallclock secs (10.16 usr +  0.00 sys = 10.16 CPU) @ 1077507.97/s (n=10947481)
         country_std: 10.1432 wallclock secs ( 2.30 usr +  7.85 sys = 10.15 CPU) @ 83629.56/s (n=848840)
         country_v6_mem: 10.2579 wallclock secs (10.25 usr + -0.00 sys = 10.25 CPU) @ 365997.37/s (n=3751473)
         country_v6_std: 10.8541 wallclock secs ( 1.77 usr +  9.07 sys = 10.84 CPU) @ 10110.42/s (n=109597)
            isp_mem: 10.147 wallclock secs (10.13 usr +  0.01 sys = 10.14 CPU) @ 590109.66/s (n=5983712)
            isp_std: 10.0484 wallclock secs ( 2.71 usr +  7.33 sys = 10.04 CPU) @ 73186.35/s (n=734791)

</pre><h4><b>CLASS</b> <b>METHODS</b></h4><pre>
       $gi = Geo::IP-&gt;new( $flags );
           Constructs  a  new  Geo::IP  object  with  the default database located inside your system's <u>datadir</u>,
           typically <u>/usr/local/share/GeoIP/GeoIP.dat</u>.

           Flags can be set to either GEOIP_STANDARD, or for  faster  performance  (at  a  cost  of  using  more
           memory), GEOIP_MEMORY_CACHE. When using memory cache you can force a reload if the file is updated by
           setting  GEOIP_CHECK_CACHE.   GEOIP_INDEX_CACHE  caches the most frequently accessed index portion of
           the  database,  resulting  in  faster  lookups  than  GEOIP_STANDARD,  but  less  memory  usage  than
           GEOIP_MEMORY_CACHE  -  useful  for larger databases such as GeoIP Legacy Organization and GeoIP City.
           Note,  for  GeoIP  Country,  Region  and  Netspeed  databases,  GEOIP_INDEX_CACHE  is  equivalent  to
           GEOIP_MEMORY_CACHE.

           Prior   to   geoip-api  version  1.6.3,  the  C  API  would  leak  diagnostic  messages  onto  stderr
           unconditionally. From Geo::IP v1.44 onwards, the flag squelching  this  behavior  (GEOIP_SILENCE)  is
           implicitly added to the flags passed in <b>new()</b>, <b>open()</b>, and <b>open_type()</b>.

           To  combine flags, use the bitwise OR operator, |.  For example, to cache the database in memory, but
           check for an updated GeoIP.dat file, use: Geo::IP-&gt;new( GEOIP_MEMORY_CACHE | GEOIP_CHECK_CACHE );

       $gi = Geo::IP-&gt;open( $database_filename, $flags );
           Constructs a new Geo::IP object with the database located at $database_filename.

       $gi = Geo::IP-&gt;open_type( $database_type, $flags );
           Constructs a new Geo::IP object with the $database_type database located in  the  standard  location.
           For example

             $gi = Geo::IP-&gt;open_type( GEOIP_CITY_EDITION_REV1 , GEOIP_STANDARD );

           opens   the   database   file   in   the   standard   location   for  GeoIP  Legacy  City,  typically
           <u>/usr/local/share/GeoIP/GeoIPCity.dat</u>.

</pre><h4><b>OBJECT</b> <b>METHODS</b></h4><pre>
       $code = $gi-&gt;country_code_by_addr( $ipaddr );
           Returns the ISO 3166 country code for an IP address.

       $code = $gi-&gt;country_code_by_name( $hostname );
           Returns the ISO 3166 country code for a hostname.

       $code = $gi-&gt;country_code3_by_addr( $ipaddr );
           Returns the 3 letter country code for an IP address.

       $code = $gi-&gt;country_code3_by_name( $hostname );
           Returns the 3 letter country code for a hostname.

       $name = $gi-&gt;country_name_by_addr( $ipaddr );
           Returns the full country name for an IP address.

       $name = $gi-&gt;country_name_by_name( $hostname );
           Returns the full country name for a hostname.

       $r = $gi-&gt;record_by_addr( $ipaddr );
           Returns a Geo::IP::Record object containing city location for an IP address.

       $r = $gi-&gt;record_by_name( $hostname );
           Returns a Geo::IP::Record object containing city location for a hostname.

       $org = $gi-&gt;org_by_addr( $ipaddr ); <b>deprecated</b> use "name_by_addr" instead.
           Returns the Organization, ISP name or Domain Name for an IP address.

       $org = $gi-&gt;org_by_name( $hostname );  <b>deprecated</b> use "name_by_name" instead.
           Returns the Organization, ISP name or Domain Name for a hostname.

       $info = $gi-&gt;database_info;
           Returns database string, includes version, date, build number and copyright notice.

       $old_charset = $gi-&gt;set_charset( $charset );
           Set the charset for the city  name  -  defaults  to  GEOIP_CHARSET_ISO_8859_1.   To  set  UTF8,  pass
           GEOIP_CHARSET_UTF8 to set_charset.  For perl &gt;= 5.008 the utf8 flag is honored.

       $charset = $gi-&gt;charset;
           Gets the currently used charset.

       ( $country, $region ) = $gi-&gt;region_by_addr('24.24.24.24');
           Returns a list containing country and region. If region and/or country is unknown, undef is returned.
           Sure this works only for region databases.

       ( $country, $region ) = $gi-&gt;region_by_name('www.xyz.com');
           Returns a list containing country and region. If region and/or country is unknown, undef is returned.
           Sure this works only for region databases.

       $netmask = $gi-&gt;last_netmask;
           Gets netmask of network block from last lookup.

       $gi-&gt;<a href="../man12/netmask.12.html">netmask</a>(12);
           Sets netmask for the last lookup

       my ( $from, $to ) = $gi-&gt;range_by_ip('24.24.24.24');
           Returns  the  start and end of the current network block. The method tries to join several continuous
           netblocks.

       $api = $gi-&gt;api or $api = Geo::IP-&gt;api
           Returns the currently used API.

             # prints either CAPI or PurePerl
             print Geo::IP-&gt;api;

       $continent = $gi-&gt;continent_code_by_country_code('US');
           Returns the continent code by country code.

       $dbe = $gi-&gt;database_edition
           Returns the database_edition of the currently opened database.

             if ( $gi-&gt;database_edition == GEOIP_COUNTRY_EDITION ){
               ...
             }

       $isp = $gi-&gt;isp_by_addr('24.24.24.24');
           Returns the isp for 24.24.24.24

       $isp = $gi-&gt;isp_by_name('www.maxmind.com');
           Returns the isp for www.something.de

       my $time_zone = $gi-&gt;time_zone('US', 'AZ');
           Returns the time zone for country/region.

             # undef
             print  $gi-&gt;time_zone('US', '');

             # America/Phoenix
             print  $gi-&gt;time_zone('US', 'AZ');

             # Europe/Berlin
             print  $gi-&gt;time_zone('DE', '00');

             # Europe/Berlin
             print  $gi-&gt;time_zone('DE', '');

       $id = $gi-&gt;id_by_addr('24.24.24.24');
           Returns the country_id for 24.24.24.24. The country_id might be useful as array index. 0 is unknown.

       $id = $gi-&gt;id_by_name('www.maxmind.com');
           Returns the country_id for www.maxmind.com. The country_id might be  useful  as  array  index.  0  is
           unknown.

       $cc = $gi-&gt;country_code3_by_addr_v6('::24.24.24.24');
       $cc = $gi-&gt;country_code3_by_name_v6('ipv6.google.com');
       $cc = $gi-&gt;country_code_by_addr_v6('2a02:ea0::');
       $cc = $gi-&gt;country_code_by_ipnum_v6($ipnum);
             use Socket;
             use Socket6;
             use Geo::IP;
             my $g = Geo::IP-&gt;open('/usr/local/share/GeoIP/GeoIPv6.dat') or die;
             print $g-&gt;country_code_by_ipnum_v6(inet_pton AF_INET6, '::24.24.24.24');

       $cc = $gi-&gt;country_code_by_name_v6('ipv6.google.com');
       name_by_addr
           Returns the Organization, ISP name or Domain Name for a IP address.

       name_by_addr_v6
           Returns the Organization, ISP name or Domain Name for an IPv6 address.

       name_by_ipnum_v6
           Returns the Organization, ISP name or Domain Name for an ipnum.

       name_by_name
           Returns the Organization, ISP name or Domain Name for a hostname.

       name_by_name_v6
           Returns the Organization, ISP name or Domain Name for a hostname.

       org_by_addr_v6 <b>deprecated</b> use "name_by_addr_v6"
           Returns the Organization, ISP name or Domain Name for an IPv6 address.

       org_by_name_v6  <b>deprecated</b> use "name_by_name_v6"
           Returns the Organization, ISP name or Domain Name for a hostname.

       teredo
           Returns the current setting for teredo.

       enable_teredo
           Enable / disable teredo

             $gi-&gt;<a href="../man1/enable_teredo.1.html">enable_teredo</a>(1); # enable
             $gi-&gt;<a href="../man0/enable_teredo.0.html">enable_teredo</a>(0); # disable

       lib_version
             if ( $gi-&gt;api eq 'CAPI' ){
                 print $gi-&gt;lib_version;
             }

</pre><h4><b>ISSUE</b> <b>TRACKER</b> <b>AND</b> <b>GIT</b> <b>repo</b></h4><pre>
       Is available from GitHub, see

       https://github.com/maxmind/geoip-api-perl

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       GeoIP2 - database reader for the GeoIP2 format.

</pre><h4><b>SUPPORT</b></h4><pre>
       Bugs may be submitted through &lt;https://github.com/maxmind/geoip-api-perl/issues&gt;.

</pre><h4><b>AUTHORS</b></h4><pre>
       •   Dave Rolsky &lt;<a href="mailto:drolsky@maxmind.com">drolsky@maxmind.com</a>&gt;

       •   Greg Oschwald &lt;<a href="mailto:goschwald@maxmind.com">goschwald@maxmind.com</a>&gt;

</pre><h4><b>CONTRIBUTORS</b></h4><pre>
       •   asb-cpan &lt;<a href="mailto:asb-cpan@users.noreply.github.com">asb-cpan@users.noreply.github.com</a>&gt;

       •   Boris Zentner &lt;<a href="mailto:bzentner@maxmind.com">bzentner@maxmind.com</a>&gt;

       •   Boris Zentner &lt;<a href="mailto:bzm@2bz.de">bzm@2bz.de</a>&gt;

       •   John SJ Anderson &lt;<a href="mailto:genehack@genehack.org">genehack@genehack.org</a>&gt;

       •   Olaf Alders &lt;<a href="mailto:oalders@maxmind.com">oalders@maxmind.com</a>&gt;

       •   Philip A. Prindeville &lt;<a href="mailto:philipp@redfish-solutions.com">philipp@redfish-solutions.com</a>&gt;

       •   shawniverson &lt;<a href="mailto:shawniverson@gmail.com">shawniverson@gmail.com</a>&gt;

       •   Thomas J Mather &lt;<a href="mailto:tjmather@maxmind.com">tjmather@maxmind.com</a>&gt;

       •   Tina Mueller &lt;<a href="mailto:TINITA@cpan.org">TINITA@cpan.org</a>&gt;

       •   Will Storey &lt;<a href="mailto:will@summercat.com">will@summercat.com</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2002 - 2017 by MaxMind, Inc.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.40.0                                       2024-10-20                                       <u>Geo::<a href="../man3pm/IP.3pm.html">IP</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>