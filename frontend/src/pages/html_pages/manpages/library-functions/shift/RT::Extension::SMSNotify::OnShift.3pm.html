<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RT::Extension::SMSNotify::IsOnShift - enable notifications based on shifts</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/rt4-extension-smsnotify">rt4-extension-smsnotify_1.04-1.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       RT::Extension::SMSNotify::IsOnShift - enable notifications based on shifts

</pre><h4><b>DESCRIPTION</b></h4><pre>
       An example that uses a 'ShiftCode' custom field on users to look shift definitions up from the RT config
       file and return user phone numbers only if they are currently on shift.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       This module must be specified as a phone number lookup function by passing the module name.
       RT::Extension::SMSNotify will look for a function named "GetPhoneForUser" in the module as per the docs
       for $SMSNotifyGetPhoneForUserFn.

         Set($SMSNotifyGetPhoneForUserFn, 'RT::Extension::SMSNotify::IsOnShift');

       Now the RT config $SMSNotifyShiftMap must be set to a hashref pointing to a hash where the shift names
       are keys and the values are arrayrefs pointing to two-element arrays of integers. Each key is a shift
       code that matches the ShiftCode custom field values. Both values are integers representing minutes since
       midnight UTC and are in the range 0 &lt;= x &lt; 1440. For example:

         Set($SMSNotifyShiftMap, {
             'AU' =&gt; [22*60+0, 4*60+0],
             'UK' =&gt; [8*60+30, 17*60+30]
         });

       Be careful to avoid leading zeroes, since Perl will interpret the value as octal:

        $ perl -e 'print 0600 . "\n"';
        384

       At this point there's no provision for special notification rules if no users are found on shift, since
       the filter function only sees one user at a time.  Make sure you define your shifts and user assignments
       carefully.

</pre><h4><b>AUTHOR</b></h4><pre>
       Craig Ringer &lt;<a href="mailto:craig@2ndquadrant.com">craig@2ndquadrant.com</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2013 2ndQuadrant

       Released under the same license as Perl its self.

   <b>GetPhoneForUser</b>
       Look up the PagerPhone field of the specified user and return it only if the user is currently on shift
       according to their 'ShiftCode' custom field as looked up in the RT configuration 'SMSNotifyShiftMap'.

       See the configuration section and RT::Extension::SMSNotify.

perl v5.32.0                                       2021-01-09             <u>RT::Extension::SMSNotify::<a href="../man3pm/OnShift.3pm.html">OnShift</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>