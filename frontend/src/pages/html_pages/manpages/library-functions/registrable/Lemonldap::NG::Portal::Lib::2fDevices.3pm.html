<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lemonldap::NG::Portal::Lib::2fDevices - Role for registrable second factors</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liblemonldap-ng-portal-perl">liblemonldap-ng-portal-perl_2.21.0+ds-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Lemonldap::NG::Portal::Lib::2fDevices - Role for registrable second factors

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This role provides LemonLDAP::NG modules with a high-level interface to storing information on
       registrable second factors into the persistent session.

       It is recommended that _2fDevices is never accessed directly from code outside of this module

</pre><h4><b>METHODS</b></h4><pre>
       update2fDevice
           Updates one field of a registered device

               $self-&gt;update2fDevice($req, $info, $type, $key, $value, $update_key, $update_value);

           req: Current LemonLDAP::NG request
           info: hashref of current session information
           type: 'type' field of the device to update
           key, value: update the device whose 'key' field equals value
           update_key, update_value: set the matched devices' 'update_key' field to update_value

           Returns true if the update was sucessful

       add2fDevice
           Store a new device

               $self-&gt;add2fDevice($req, $info, $device);

           req: Current LemonLDAP::NG request
           info: hashref of current session information
           device: hashref of device details. It must contain at least a 'type', 'name' and 'epoch' key

           Returns true if the update was sucessful

       del2fDevices
           Delete the devices specified in the @$devices array

               $self-&gt;del2fDevices($req, $info, $devices);

           req: Current LemonLDAP::NG request
           info: hashref of current session information
           device: arrayref of type+epoch hashrefs
                   [ { type =&gt; xxx, epoch =&gt; xxx }, { type =&gt; xxx, epoch =&gt; xxx } ]

           Returns true if the update was sucessful

       del2fDevice
           Delete a single device

               $self-&gt;del2fDevice($req, $info, $type, $epoch);

           req: Current LemonLDAP::NG request
           info: hashref of current session information
           type: type of the device to remove
           epoch: timestamp of the device to remove

           Returns true if the update was sucessful

       find2fDevicesByKey
           Find devices from one of its attributes

               $self-&gt;find2fDevicesByKey($req, $info, $type, $key, $value);

           req: Current LemonLDAP::NG request
           info: hashref of current session information
           type: device type
           key, value: attribute to search in the device hash and the value to filter on

           Returns an array of devices for which type, key and value match the supplied ones

       get2fDevices
           Return all registrable devices.

               $self-&gt;get2fDevices($req, $info);

           req: Current LemonLDAP::NG request
           info: hashref of current session information

           Returns an arrayref of all registrable devices, or undef if an error occured

       find2fDevicesByType
           Return  all  registrable  devices  of  a  certain  type. If type is not given, return all registrable
           devices

               $self-&gt;find2fDevicesByType($req, $info, $type);

           req: Current LemonLDAP::NG request
           info: hashref of current session information
           type: type of registrable device to return

           Returns an array of all matching devices

perl v5.40.1                                       2025-05-01              <u>Lemonldap::NG:...:Lib::<a href="../man3pm/2fDevices.3pm.html">2fDevices</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>