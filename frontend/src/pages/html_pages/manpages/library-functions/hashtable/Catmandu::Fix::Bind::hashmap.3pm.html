<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catmandu::Fix::Bind::hashmap - a binder to add key/value pairs to an internal hashmap</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcatmandu-perl">libcatmandu-perl_1.2024-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Catmandu::Fix::Bind::hashmap - a binder to add key/value pairs to an internal hashmap

</pre><h4><b>SYNOPSIS</b></h4><pre>
        # Find non unique ISBN numbers in the record stream
        do hashmap(join: ',')
           copy_field(isbn,key)
           copy_field(_id,value)
        end

        # will export to the JSON exporter a hash map containing all isbn occurrences in the stream

        { "_id": "9781565920422" , "value": "rec0001,rec0329,rec1032" }
        { "_id": "9780596004927" , "value": "rec0718" }

        # Ignore the values. Count the number of ISBN occurrences in a stream
        # File: count.fix:
        do hashmap(count: 1)
           copy_field(isbn,key)
        end

        # Use the Null exporter to suppress the normal output
        $ cat /tmp/data.json | catmandu convert JSON --fix count.fix to Null

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The hashmap binder will insert all key/value pairs given to a internal hashmap that can be exported using
       an Catmandu::Exporter.

       The 'key' fields in the internal hashmap will be exported as '_id' field.

       If the key in the hashmap Bind is an ARRAY, then multiple key/value pairs will be inserted into the
       hashmap.

       By default all the values will be added as an array to the hashmap. Every key will have one or more
       values. Use the 'join' parameter to create a string out of this array.

</pre><h4><b>CONFIGURATION</b></h4><pre>
   <b>exporter:</b> <b>EXPORTER</b>
       The name of an exporter to send the results to. Default: JSON  Extra parameters can be added:

           do hashmap(exporter: JSON, file:/tmp/data.json, count: 1)
             ...
           end

   <b>store:</b> <b>STORE</b>
       Send the output to a store instead of an exporter. Extra parameters can be added:

           do hashmap(store: MongoDB, database_name: test, bag: data, count: 1)
             ...
           end

   <b>uniq:</b> <b>0|1</b>
       When set to 1, then all values in the key 'value' will be made unique

   <b>join:</b> <b>CHAR</b>
       Join all the values of a key using a delimiter.

   <b>count:</b> <b>0|1</b>
       Don't store the values only count the number of key occurrences.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Catmandu::Fix::Bind

perl v5.40.0                                       2025-01-17                  <u>Catmandu::Fix::Bind::<a href="../man3pm/hashmap.3pm.html">hashmap</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>