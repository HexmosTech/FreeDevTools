<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>canvas::edit::points - Editing a cloud of points on a canvas</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tklib">tklib_0.9-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       canvas::edit::points - Editing a cloud of points on a canvas

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.5</b>

       package require <b>Tk</b> <b>8.5</b>

       package require <b>canvas::edit::points</b> <b>?0.3?</b>

       <b>::canvas::edit</b> <b>points</b> <u>objectName</u> <u>canvas</u> <u>options</u>...

       <b>objectName</b> <b>destroy</b>

       <b>objectName</b> <b>enable</b>

       <b>objectName</b> <b>disable</b>

       <b>objectName</b> <b>active</b>

       <b>objectName</b> <b>add</b> <u>x</u> <u>y</u>

       <b>objectName</b> <b>clear</b>

       <b>activeCmd</b> <u>editorObj</u> <u>id</u>

       <b>createCmd</b> <u>canvas</u> <u>x</u> <u>y</u>

       <b>dataCmd</b> <b>add</b> <u>editorObj</u> <u>id</u> <u>x</u> <u>y</u>

       <b>dataCmd</b> <b>remove</b> <u>editorObj</u> <u>id</u>

       <b>dataCmd</b> <b>move</b> <b>start</b> <u>editorObj</u> <u>id</u>

       <b>dataCmd</b> <b>move</b> <b>delta</b> <u>editorObj</u> <u>id</u> <u>x</u> <u>y</u> <u>dx</u> <u>dy</u>

       <b>dataCmd</b> <b>move</b> <b>done</b> <u>editorObj</u> <u>id</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  package  provides  a  class  whose  instances  handle editing a cloud of point markers on a canvas.
       Instances can be configured with regard to the visual appearance of markers. Note that instances  do  not
       store the edited points themselves, but delegate this to a configurable object.

</pre><h4><b>INTERACTION</b></h4><pre>
       The default bindings enable the creation, removal and dragging of point (markers) using the mouse buttons
       1, 2, and 3. Specifically:

       [1]    Clicking anywhere with button 1 adds a new point.

       [2]    Clicking on a point with button 2 removes that point.

       [3]    Clicking on a point with button 3 starts a drag operation ending with the release of the button.

       The  option  <b>-drag-point</b> can be used to change the button used to initiate drag operations. Note that the
       option value may not only contain the button number, but also modifier prefix separated from  the  button
       by a dash "<b>-</b>".  The recognized modifiers are <b>Control</b>, <b>Shift</b>, and <b>Alt</b>.

       The  option  <b>-add-remove-point</b>  can  be  used  to change the button used to add/remove points. This works
       because removal is an item binding, while adding is canvas global. The option recognizes the same  syntax
       for button as <b>-drag-point</b>.

       In  the  standard  configuration  the  canvas  item representing a point is a circle configured using the
       appearance options  <b>-color</b>,  <b>-hilit-color</b>,  and  <b>-radius</b>.  Their  defaults  are  <b>Skyblue2</b>,  <b>red</b>,  and  <b>3</b>,
       repsectively.

       The option <b>-kind</b> can be used to slightly customize the canvas item to any kind accepting the item options
       <b>-width</b>, <b>-outline</b>, <b>-fill</b>, and <b>-activefill</b>.

       For  more extensive customization its is necessary to configure a creation callback using option <b>-create-</b>
       <b>cmd</b>. The callback takes the canvas and x. y coordinates as arguments, in this order, and is  expected  to
       return a list of the canvas items representing the point.

       Note the plural. With the callback it is possible to visualize a point using a group of items.

       Further  note  that  when  the  callback  return  an  empty list no point is created. In other words, the
       callback can also be used to perform checks if a point at the given location is desirable, or  not.  This
       can  be  combined with the default creation behaviour as the option can be queried, and its default value
       is the callback for the default behaviour.

       Keeping with the callback for a bit, the option <b>-active-cmd</b> sets a callback invoked whenever the mouse is
       over one of the created points, i.e. active. This can be used to  drive  derived  displays.  For  example
       highlighting the point's entry in a table or other widget.

       The last option of importance is <b>-tag</b>. Its value is the name of the canvas tag used to mark all the items
       owned, i.e. created and managed by an. The default is <b>POINT</b>.

       When attaching multiple instances of this behaviour to the same canvas each instance has to be configured
       with a unique tag, to prevent them from interfering with each other.

</pre><h4><b>CLASS</b> <b>API</b></h4><pre>
       <b>::canvas::edit</b> <b>points</b> <u>objectName</u> <u>canvas</u> <u>options</u>...
              This,  the  class  command,  creates  and configures a new instance of a point cloud editor, named
              <u>objectName</u>. The instance will be connected to the specified <u>canvas</u> widget.

              The result of the command is the fully qualified name of the instance command.

              The options accepted here, and their values, are explained in the section <b>Options</b>.

</pre><h4><b>INSTANCE</b> <b>API</b></h4><pre>
       Instances of the point cloud editors provide the following API:

       <b>objectName</b> <b>destroy</b>
              This method destroys the point cloud editor and releases all its internal resources.

              Note that this operation does not destroy the items of the point markers the editor managed on the
              attached canvas, nor the canvas itself.

              The result of the method is an empty string.

       <b>objectName</b> <b>enable</b>
              This method activates editing of the point cloud on the canvas. This is the default after instance
              creation. A call is ignored if the editor is already active.

              The result of the method is an empty string.

              The complementary method is <b>disable</b>. The interogatory method for the current state is <b>active</b>.

       <b>objectName</b> <b>disable</b>
              This method disables editing of the point cloud on the canvas. A call is ignored if the editor  is
              already disabled.

              The result of the method is an empty string.

              The complementary method is <b>enable</b>. The interogatory method for the current state is <b>active</b>.

       <b>objectName</b> <b>active</b>
              This method queries the editor state.

              The  result  of  the method is a boolean value, <b>true</b> if the editor is active, and <b>false</b> otherwise,
              i.e. disabled.

              The methods to change the state are <b>enable</b> and <b>disable</b>.

       <b>objectName</b> <b>add</b> <u>x</u> <u>y</u>
              This method programmatically creates a point at the specified location.

              The result of the method is an empty string.

              Note that this method goes through the whole set of callbacks invoked when the user  interactively
              creates a point, i.e.  <b>-create-cmd</b>, and, more importantly, <b>-data-cmd</b>.

              This is the method through which to load pre-existing points into an editor instance.

       <b>objectName</b> <b>clear</b>
              This method programmatically removes all points from the editor.

              The result of the method is an empty string.

              Note that this method goes through the same callback invoked when the user interactively removes a
              point, i.e. <b>-data-cmd</b>.

</pre><h4><b>OPTIONS</b></h4><pre>
       The class command accepts the following options

       <b>-active-cmd</b> <u>command-prefix</u>
              The  value  of  this  option  is  a command prefix the editor will invoke when the mouse enters or
              leaves a point managed by the instance.

              If not specified it defaults to an empty command which does nothing.

              The signature of this command prefix is

              <b>activeCmd</b> <u>editorObj</u> <u>id</u>

                     The <u>id</u> identifies the point within the editor.

                     An empty <u>id</u> indicates that the last entered point was left.

                     The result of this method is ignored.

       <b>-add-remove-point</b> <u>eventspec</u>
              The value of this option is an event specification (without  bracketing  angles)  declaring  which
              event will trigger adding and removing a point.

              This option can only be set at construction time.

              The  default  setup  uses  different  events  for  adding  and  removing points, <b>ButtonPress-1</b> and
              <b>ButtonPress-2</b> respectively.

              When using this option the same event is used for both operations.  This  is  no  problem  because
              adding is bound as canvas-global event while removal is bound to the relevant canvas items.

       <b>-color</b> <u>colorspec</u>
              The  value  of this option is the fill color for the default item created when adding a point, and
              no <b>-create-cmd</b> is specified.

              The default value is <b>SkyBlue2</b>.

       <b>-create-cmd</b> <u>command-prefix</u>
              The value of this option is a command prefix the editor will invoke when it has to  create  a  new
              point.

              While  this  option can be set after construction, it is recommended to use this feature only as a
              means of inserting custom processing to be done at creation time which  remembers  and  calls  the
              previous value of the option.

              If not specified it defaults to a command which will create a black-bordered blue circle of radius
              3 centered on the location of the new point.

              The signature of this command prefix is

              <b>createCmd</b> <u>canvas</u> <u>x</u> <u>y</u>
                     The result of the command prefix <u>must</u> be a list of the canvas items it created to represent
                     the  marker.  Note here that the visual representation of a "point" may consist of multiple
                     canvas items in an arbitrary shape.

                     The returned list of items is allowed to be empty, and such is taken  as  signal  that  the
                     callback vetoed the creation of the point.

       <b>-data-cmd</b> <u>command-prefix</u>
              The  value  of  this  option is a command prefix the editor will invoke when a point was edited in
              some way. This is how the editor delegates the actual storage of point information to  an  outside
              object.

              This option can only be set at construction time.

              If not specified it defaults to an empty string and is ignored by the editor, i.e. not invoked.

              The signatures of this command prefix are

              <b>dataCmd</b> <b>add</b> <u>editorObj</u> <u>id</u> <u>x</u> <u>y</u>
                     This  callback is invoked when a new point was added to the instance, either interactively,
                     or programmatically.  See instance method <b>add</b> for the latter.

                     The <u>id</u> identifies the point within the editor and will be used by the two  other  callbacks
                     to specify which point to modify.

                     The last two arguments <u>x</u> and <u>y</u> specify the location of the new point in canvas coordinates.

                     The result of this method is ignored.

              <b>dataCmd</b> <b>remove</b> <u>editorObj</u> <u>id</u>
                     This callback is invoked when a point removed from the editor instance.

                     The <u>id</u> identifies the removed point within the editor.

                     The result of this method is ignored.

              <b>dataCmd</b> <b>move</b> <b>start</b> <u>editorObj</u> <u>id</u>
                     This callback is invoked when the movement of a point in the editor instance has started.

                     The <u>id</u> identifies the point within the editor about to be moved.

                     The result of this method is ignored.

              <b>dataCmd</b> <b>move</b> <b>delta</b> <u>editorObj</u> <u>id</u> <u>x</u> <u>y</u> <u>dx</u> <u>dy</u>
                     This callback is invoked when the point moved in the editor instance.

                     The  <u>id</u> identifies the moved point within the editor, and the remaining arguments <u>x</u>, <u>y</u>, <u>dx</u>,
                     and <u>dy</u> provide the new absolute location of the point,  and  full  delta  to  the  original
                     location.

                     At  the  time  of  the calls the system is <u>not</u> committed to the move yet. Only after method
                     <b>move</b> <b>done</b> was invoked and has accepted or rejected the last position will the editor update
                     its internal data structures, either committing to the new location, or  rolling  the  move
                     back to the original one.

                     Given  this the location data provided here should be saved only in temporary storage until
                     then.

                     The result of this method is ignored.

              <b>dataCmd</b> <b>move</b> <b>done</b> <u>editorObj</u> <u>id</u>
                     This callback is invoked when the movement of a point in the editor instance is complete.

                     The <u>id</u> identifies the moved point within the editor.

                     The result of this method must be a boolean value. If the method returns <b>false</b> the move  is
                     vetoed and rollbed back.

       <b>-drag-point</b> <u>eventspec</u>
              The  value  of  this  option is an event specification (without bracketing angles) declaring which
              event will trigger a drag action on points.

              This option can only be set at construction time.

              The default specification is <b>ButtonPress-3</b>.

       <b>-hilit-color</b> <u>colorspec</u>
              The value of this option is the highlight color for the default item created when adding a  point,
              and no <b>-highlight-cmd</b> is specified.

              The default value is <b>red</b>.

       <b>-kind</b> <u>name</u>
              The value of this option is the canvas item type for the default item created when adding a point,
              and no <b>-create-cmd</b> is specified.  Only item types specified through a bounding box are suitable.

              The default value is <b>oval</b>.

       <b>-radius</b> <u>int</u>
              The  value  of  this option is the radius for the default item created when adding a point, and no
              <b>-create-cmd</b> is specified.

              The default value is <b>3</b>.

       <b>-tag</b> <u>string</u>
              The value of this option is the name of the canvas tag with which to identify  all  items  of  all
              points managed by the editor.

              This option can only be set at construction time.

              If not specified it defaults to <b>POINT</b>

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This  document,  and  the package it describes, will undoubtedly contain bugs and other problems.  Please
       report such in the category <u>canvas</u> of the <u>Tklib</u> <u>Trackers</u>  [<a href="http://core.tcl.tk/tklib/reportlist">http://core.tcl.tk/tklib/reportlist</a>].   Please
       also report any ideas for enhancements you may have for either package and/or documentation.

</pre><h4><b>KEYWORDS</b></h4><pre>
       canvas, editing, point cloud, points

tklib                                                  0.3                             <u>canvas::edit::<a href="../man3tk/points.3tk.html">points</a></u>(3tk)
</pre>
 </div>
</div></section>
</div>
</body>
</html>