<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thread::Queue::Any - thread-safe queues for any data-structure</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libthread-queue-any-perl">libthread-queue-any-perl_1.17-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Thread::Queue::Any - thread-safe queues for any data-structure

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Thread::Queue::Any;
           my $q= Thread::Queue::Any-&gt;new;
           $q-&gt;enqueue("foo", ["bar"], {"zoo"});
           my ( $foo, $bar, $zoo )= $q-&gt;dequeue;
           my ( $foo, $bar, $zoo )= $q-&gt;dequeue_dontwait;
           my ( $iffoo, $ifbar, $ifzoo)= $q-&gt;dequeue_keep;
           my $left= $q-&gt;pending;

           # specify class with "freeze" and "thaw" methods
           use Thread::Queue::Any serializer =&gt; 'Storable';

           # specify custom freeze and thaw subroutines
           use Thread::Queue::Any freeze =&gt; \&amp;solid, thaw =&gt; \&amp;liquid;

           # thaw hook for subclasses
           package Thread::Queue::Any::Foo;
           @ISA= 'Thread::Queue::Any';
           my $THAW= __PACKAGE__-&gt;THAW;

</pre><h4><b>VERSION</b></h4><pre>
       This documentation describes version 1.17.

</pre><h4><b>DESCRIPTION</b></h4><pre>
                           *** A note of CAUTION ***

        This module only functions if threading has been enabled when building
        Perl, or if the "forks" module has been installed on an unthreaded Perl.

                           *************************

       A queue, as implemented by "Thread::Queue::Any" is a thread-safe data structure that inherits from
       "Thread::Queue".  But unlike the standard "Thread::Queue", you can pass (a reference to) any data
       structure to the queue.

       Apart from the fact that the parameters to "enqueue" are considered to be a set that needs to be enqueued
       together and that "dequeue" returns all of the parameters that were enqueued together, this module is a
       drop-in replacement for "Thread::Queue" in every other aspect.

       Any number of threads can safely add elements to the end of the list, or remove elements from the head of
       the list.

</pre><h4><b>CLASS</b> <b>METHODS</b></h4><pre>
   <b>new</b>
        $queue= Thread::Queue::Any-&gt;new;

       The "new" function creates a new empty queue.

   <b>THAW</b>
        $THAW= $subclass-&gt;THAW;

       Return the code reference for de-serializing enqueued data.  Intended to be used by subclasses only, such
       as Thread::Queue::Any::Monitored.

</pre><h4><b>OBJECT</b> <b>METHODS</b></h4><pre>
   <b>enqueue</b> <b>LIST</b>
        $queue-&gt;enqueue( 'string', $scalar, [], {} );

       The "enqueue" method adds a reference to all the specified parameters on to the end of the queue.  The
       queue will grow as needed.

   <b>dequeue</b>
        ( $string, $scalar, $listref, $hashref )= $queue-&gt;dequeue;

        $string= $queue-&gt;dequeue;          # first only in scalar context

       The "dequeue" method removes a reference from the head of the queue, dereferences it and returns the
       resulting values.  If the queue is currently empty, "dequeue" will block the thread until another thread
       "enqueue"s.

       If called in scalar context, only the first value will be returned.  This is only recommended if enqueue
       is always only called with one parameter.

   <b>dequeue_dontwait</b>
        ( $string, $scalar, $listref, $hashref )= $queue-&gt;dequeue_dontwait;

        $string= $queue-&gt;dequeue_dontwait; # first only in scalar context

       The "dequeue_dontwait" method, like the "dequeue" method, removes a reference from the head of the queue,
       dereferences it and returns the resulting values.  Unlike "dequeue", though, "dequeue_dontwait" won't
       wait if the queue is empty, instead returning an empty list if the queue is empty.

       For compatibility with Thread::Queue, the name "dequeue_nb" is available as a synonym for this method.

       If called in scalar context, only the first value will be returned.  This is only recommended if enqueue
       is always only called with one parameter.

   <b>dequeue_keep</b>
        ( $string, $scalar, $listref, $hashref )= $queue-&gt;dequeue_keep;

        $string= $queue-&gt;dequeue_keep;     # first only in scalar context

       The "dequeue_keep" method, like the "dequeue_dontwait" method, takes a reference from the head of the
       queue, dereferences it and returns the resulting values.  Unlike "dequeue_dontwait", though, the
       "dequeue_keep" <b>won't</b> <b>remove</b> the set from the queue.  It can therefore be used to test if the next set to
       be returned from the queue with "dequeue" or "dequeue_dontwait" will have a specific value.

       If called in scalar context, only the first value will be returned.  This is only recommended if enqueue
       is always only called with one parameter.

   <b>pending</b>
        $pending= $queue-&gt;pending;

       The "pending" method returns the number of items still in the queue.

</pre><h4><b>USING</b> <b>ANOTHER</b> <b>SERIALIZER</b></h4><pre>
       Passing unshared values between threads is accomplished by serializing the specified values when
       enqueuing and de-serializing the queued value on equeuing.  This allows for great flexibility at the
       expense of more CPU usage.  It also limits what can be passed, as e.g. code references can <b>not</b> be
       serialized with the default serializer and therefore not be passed.

       By default, the Storable module is used to serialize data.  If you want to use a different serializer,
       you can specify this when you load this module with the "serializer" parameter:

        use Thread::Queue::Any serializer =&gt; 'Thread::Serialize';

       The value of the parameter is the name of the class that will provide a "freeze" and "thaw" subroutine.
       It will be automatically loaded if specified.

       If you happen to have subroutines in another module with a different name, you can also specify the
       "freeze" and "thaw" parameter with a code reference of the subroutine to be called.  So the above example
       could also be specified as:

        use Thread::Serialize;
        use Thread::Queue::Any
          freeze =&gt; \&amp;Thread::Serialize::freeze,
          thaw   =&gt; \&amp;Thread::Serialize::thaw,
        ;

</pre><h4><b>REQUIRED</b> <b>MODULES</b></h4><pre>
        Test::More (0.88)
        Thread::Queue (any)

</pre><h4><b>INSTALLATION</b></h4><pre>
       This distribution contains two versions of the code: one maintenance version for versions of perl &lt; 5.014
       (known as 'maint'), and the version currently in development (known as 'blead').  The standard build for
       your perl version is:

        perl Makefile.PL
        make
        make test
        make install

       This will try to test and install the "blead" version of the code.  If the Perl version does not support
       the "blead" version, then the running of the Makefile.PL will *fail*.  In such a case, one can force the
       installing of the "maint" version of the code by doing:

        perl Makefile.PL maint

       Alternately, if you want automatic selection behavior, you can set the AUTO_SELECT_MAINT_OR_BLEAD
       environment variable to a true value.  On Unix-like systems like so:

        AUTO_SELECT_MAINT_OR_BLEAD=1 perl Makefile.PL

       If your perl does not support the "blead" version of the code, then it will automatically install the
       "maint" version of the code.

       Please note that any additional parameters will simply be passed on to the underlying Makefile.PL
       processing.

</pre><h4><b>AUTHOR</b></h4><pre>
       Elizabeth Mattijsen, &lt;<a href="mailto:liz@dijkmat.nl">liz@dijkmat.nl</a>&gt;.

       Maintained by LNATION &lt;<a href="mailto:email@lnation.org">email@lnation.org</a>&gt;

       Please report bugs to &lt;<a href="mailto:email@lnation.org">email@lnation.org</a>&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2002, 2003, 2007, 2012 Elizabeth Mattijsen &lt;<a href="mailto:liz@dijkmat.nl">liz@dijkmat.nl</a>&gt;.  2025 LNATION
       &lt;<a href="mailto:email@lnation.org">email@lnation.org</a>&gt; All rights reserved.  This program is free software; you can redistribute it and/or
       modify it under the same terms as Perl itself.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       threads, threads::shared, Thread::Queue, Storable.

perl v5.40.1                                       2025-04-20                            <u>Thread::Queue::<a href="../man3pm/Any.3pm.html">Any</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>