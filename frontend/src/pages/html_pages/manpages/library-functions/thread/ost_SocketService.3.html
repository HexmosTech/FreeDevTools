<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ost::SocketService - The SocketService is a thread pool object that is meant to service attached socket</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libcommoncpp2-doc">libcommoncpp2-doc_1.8.1-10_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ost::SocketService - The <b>SocketService</b> is a thread pool object that is meant to service attached socket
       ports.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;socketport.h&gt;

       Inherits <b>ost::Thread</b>, and <b>ost::Mutex</b>.

   <b>Public</b> <b>Member</b> <b>Functions</b>
       void <b>update</b> (unsigned char flag=0xff)
           Notify service thread that a port has been added or removed, or a timer changed, so that a new
           schedule can be computed for expiring attached ports.
       <b>SocketService</b> (int pri=0, size_t stack=0, const char *id=NULL)
           Create a service thread for attaching socket ports.
       virtual <b>~SocketService</b> ()
           Terminate the thread pool and eliminate any attached socket ports.
       int <b>getCount</b> (void) const
           Get current reference count.

   <b>Protected</b> <b>Member</b> <b>Functions</b>
       virtual void <b>onUpdate</b> (unsigned char buf)
           Handles all requests other than 'termination'.
       virtual void <b>onEvent</b> (void)
           Called once each time the service thread is rescheduled.
       virtual void <b>onCallback</b> (<b>SocketPort</b> *port)
           Called for each port that is being processed in response to an event.

   <b>Friends</b>
       class <b>SocketPort</b>

   <b>Additional</b> <b>Inherited</b> <b>Members</b>
</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       The <b>SocketService</b> is a thread pool object that is meant to service attached socket ports.

       Multiple pool objects may be created and multiple socket ports may be attached to the same thread of
       execution. This allows one to balance threads and sockets they service rather than either using a single
       thread for all connections or a separate thread for each connection. Features can be added through
       supported virtual methods.

       <b>Author</b>
           David Sugar <a href="mailto:dyfet@ostel.com">dyfet@ostel.com</a>

       <b>Thread</b> pool service object for socket ports.

       <b>Examples</b>
           <b>tcpservice.cpp</b>.

</pre><h4><b>Constructor</b> <b>&amp;</b> <b>Destructor</b> <b>Documentation</b></h4><pre>
   <b>ost::SocketService::SocketService</b> <b>(int</b> <b>pri</b> <b>=</b> <b>0,</b> <b>size_t</b> <b>stack</b> <b>=</b> <b>0,</b> <b>const</b> <b>char</b> <b>*</b> <b>id</b> <b>=</b> <b>NULL)</b>
       Create a service thread for attaching socket ports. The thread begins execution with the first attached
       socket.

       <b>Parameters</b>
           <u>pri</u> of this thread to run under.
           <u>stack</u> stack size.
           <u>id</u> thread ID.

   <b>virtual</b> <b>ost::SocketService::~SocketService</b> <b>()</b> <b>[virtual]</b>
       Terminate the thread pool and eliminate any attached socket ports.

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b> <b>ost::SocketService::getCount</b> <b>(void)</b> <b>const</b> <b>[inline]</b>
       Get current reference count. This can be used when selecting the least used service handler from a pool.

       <b>Returns</b>
           count of active ports.

   <b>virtual</b> <b>void</b> <b>ost::SocketService::onCallback</b> <b>(SocketPort</b> <b>*</b> <b>port)</b> <b>[protected],</b>  <b>[virtual]</b>
       Called for each port that is being processed in response to an event. This can be used to add additional
       notification options during callback in combination with <b>update()</b>.

       <b>Parameters</b>
           <u>port</u> <b>SocketPort</b> who's callback events are being evaluated.

   <b>virtual</b> <b>void</b> <b>ost::SocketService::onEvent</b> <b>(void)</b> <b>[protected],</b>  <b>[virtual]</b>
       Called once each time the service thread is rescheduled. This is called after the mutex is locked and can
       be used to slip in additional processing.

   <b>virtual</b> <b>void</b> <b>ost::SocketService::onUpdate</b> <b>(unsigned</b> <b>char</b> <b>buf)</b> <b>[protected],</b>  <b>[virtual]</b>
       Handles all requests other than 'termination'.

       <b>Parameters</b>
           <u>buf</u> request id as posted from <b>update()</b>.

   <b>void</b> <b>ost::SocketService::update</b> <b>(unsigned</b> <b>char</b> <b>flag</b> <b>=</b> <b>0xff)</b>
       Notify service thread that a port has been added or removed, or a timer changed, so that a new schedule
       can be computed for expiring attached ports. A '0' is used to terminate the service thread, and
       additional values can be specified which will be 'caught' in the <b>onUpdate()</b> handler.

       <b>Parameters</b>
           <u>flag</u> update flag value.

</pre><h4><b>Friends</b> <b>And</b> <b>Related</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>friend</b> <b>class</b> <b>SocketPort</b> <b>[friend]</b>
</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for GNU CommonC++ from the source code.

GNU CommonC++                                    Sun Dec 27 2020                           <u>ost::<a href="../man3/SocketService.3.html">SocketService</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>