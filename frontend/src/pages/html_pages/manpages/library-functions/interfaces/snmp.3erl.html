<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>snmp - Interface functions to the SNMP toolkit</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/erlang-manpages">erlang-manpages_24.2.1+dfsg-1ubuntu0.5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       snmp - Interface functions to the SNMP toolkit

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The module <u>snmp</u> contains interface functions to the SNMP toolkit.

</pre><h4><b>COMMON</b> <b>DATA</b> <b>TYPES</b></h4><pre>
       The following data-types are used in the functions below:

         * <u>datetime()</u> <u>=</u> <u>{date(),</u> <u>time()}</u>

           See calendar for more info.

</pre><h4><b>EXPORTS</b></h4><pre>
       <b>config()</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{error,</b> <b>Reason}</b>

              A  simple  interactive  configuration  tool. Simple configuration files can be generated, but more
              complex configurations still have to be edited manually.

              The tool is a textual based tool that asks some questions  and  generates  <u>sys.config</u>  and  <u>*.conf</u>
              files.

              <u>Note</u>  that  if the application shall support version 3, then the crypto app must be started before
              running this function (password generation).

              <u>Note</u> also that some of the configuration files for the agent and manager  share  the  same  names.
              This means that they have to be stored in <u>different</u> directories!

       <b>start()</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{error,</b> <b>Reason}</b>
       <b>start(Type)</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{error,</b> <b>Reason}</b>

              Types:

                 Type = start_type()

              Starts the SNMP application.

              See application for more info.

       <b>start_agent()</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{error,</b> <b>Reason}</b>
       <b>start_agent(Type)</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{error,</b> <b>Reason}</b>

              Types:

                 Type = start_type()

              The SNMP application consists of several entities, of which the agent is one. This function starts
              the agent entity of the application.

              Note  that the only way to actually start the agent in this way is to add the agent related config
              after starting the  application  (e.g  it  cannot  be  part  of  the  normal  application  config;
              sys.config). This is done by calling: <u>application:set_env(snmp,</u> <u>agent,</u> <u>Conf)</u>.

              The default value for <u>Type</u> is <u>normal</u>.

       <b>start_manager()</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{error,</b> <b>Reason}</b>
       <b>start_manager(Type)</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{error,</b> <b>Reason}</b>

              Types:

                 Type = start_type()

              The  SNMP  application  consists  of  several entities, of which the manager is one. This function
              starts the manager entity of the application.

              Note that the only way to actually start the manager in this way is to  add  the  manager  related
              config  after  starting  the  application (e.g it cannot be part of the normal application config;
              sys.config). This is done by calling: <u>application:set_env(snmp,</u> <u>manager,</u> <u>Conf)</u>.

              The default value for <u>Type</u> is <u>normal</u>.

       <b>date_and_time()</b> <b>-&gt;</b> <b>DateAndTime</b>

              Types:

                 DateAndTime = [int()]

              Returns current date and time as the data type DateAndTime, as specified in RFC1903.  This  is  an
              OCTET STRING.

       <b>date_and_time_to_universal_time_dst(DateAndTime)</b> <b>-&gt;</b> <b>[utc()]</b>

              Types:

                 DateAndTime = [int()]
                 utc() = {{Y,Mo,D},{H,M,S}}

              Converts  a  DateAndTime list to a list of possible universal time(s). The universal time value on
              the same format as defined in <a href="../man3erl/calendar.3erl.html">calendar</a>(3erl).

       <b>date_and_time_to_string(DateAndTime)</b> <b>-&gt;</b> <b>string()</b>
       <b>date_and_time_to_string(DateAndTime,</b> <b>Validate)</b> <b>-&gt;</b> <b>string()</b>

              Types:

                 DateAndTime = [int()]
                 Validate = fun(Kind, Data) -&gt; boolean()

              Converts a DateAndTime list to a printable string, according to  the  DISPLAY-HINT  definition  in
              RFC2579.

              The validation fun, <u>Validate</u>, allows for a more "flexible" validation of the <u>DateAndTime</u> argument.
              Whenever  the  data  is  found  to  not  follow  RFC2579,  the fun is called to allow a more "lax"
              validation. See the validate_date_and_time/2 function for more info on the <u>Validate</u> fun.

       <b>date_and_time_to_string2(DateAndTime)</b> <b>-&gt;</b> <b>string()</b>

              Types:

                 DateAndTime = [int()]

              Converts a DateAndTime list to a printable string, according to  the  DISPLAY-HINT  definition  in
              RFC2579,  with  the  extension  that it also allows the values "hours from UTC" = 14 together with
              "minutes from UTC" = 0.

       <b>local_time_to_date_and_time_dst(Local)</b> <b>-&gt;</b> <b>[DateAndTime]</b>

              Types:

                 Local = {{Y,Mo,D},{H,M,S}}
                 DateAndTime = [int()]

              Converts a local time value to a list of possible DateAndTime list(s). The local time value on the
              same format as defined in <a href="../man3erl/calendar.3erl.html">calendar</a>(3erl).

       <b>universal_time_to_date_and_time(UTC)</b> <b>-&gt;</b> <b>DateAndTime</b>

              Types:

                 UTC = {{Y,Mo,D},{H,M,S}}
                 DateAndTime = [int()]

              Converts a universal time value to a DateAndTime list. The universal time value on the same format
              as defined in <a href="../man3erl/calendar.3erl.html">calendar</a>(3erl).

       <b>validate_date_and_time(DateAndTime)</b> <b>-&gt;</b> <b>bool()</b>
       <b>validate_date_and_time(DateAndTime,</b> <b>Validate)</b> <b>-&gt;</b> <b>bool()</b>

              Types:

                 DateAndTime = term()
                 Validate = fun(Kind, Data) -&gt; boolean()

              Checks if <u>DateAndTime</u> is a correct DateAndTime value, as specified in RFC2579. This  function  can
              be used in instrumentation functions to validate a DateAndTime value.

              The validation fun, <u>Validate</u>, allows for a more "flexible" validation of the <u>DateAndTime</u> argument.
              Whenever  the  data  is  found  to  not  follow  RFC2579,  the fun is called to allow a more "lax"
              validation. The input to the validation fun looks like this:

                        Kind             Data
                        --------------   ----------------------
                        year             {Year1, Year2}
                        month            Month
                        day              Day
                        hour             Hour
                        minute           Minute
                        seconds          Seconds
                        deci_seconds     DeciSeconds
                        diff             [Sign, Hour, Minute]
                        valid_date       {Year, Month, Day}

       <b>passwd2localized_key(Alg,</b> <b>Passwd,</b> <b>EngineID)</b> <b>-&gt;</b> <b>Key</b>

              Types:

                 Alg = algorithm()
                 algorithm() = md5 | sha | sha224 | sha256 | sha384 | sha512
                 Passwd = string()
                 EngineID = string()
                 Key = list()

              Generates a key that can be used as an authentication or  privacy  key  using  MD5,  SHA,  SHA224,
              SHA256, SHA384 or SHA512. The key is localized for EngineID.

       <b>octet_string_to_bits(S)</b> <b>-&gt;</b> <b>Val</b>

              Types:

                 Val = bits()

              Utility function for converting a value of type <u>OCTET-STRING</u> to <u>BITS</u>.

       <b>bits_to_octet_string(B)</b> <b>-&gt;</b> <b>Val</b>

              Types:

                 Val = octet_string()

              Utility function for converting a value of type <u>BITS</u> to <u>OCTET-STRING</u>.

       <b>read_mib(FileName)</b> <b>-&gt;</b> <b>{ok,</b> <b>mib()}</b> <b>|</b> <b>{error,</b> <b>Reason}</b>

              Types:

                 FileName = string()
                 mib() = #mib{}
                 Reason = term()

              Read a compiled mib.

       <b>log_to_txt(LogDir,</b> <b>Mibs,</b> <b>OutFile,</b> <b>LogName,</b> <b>LogFile)</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{ok,</b> <b>Cnt}</b> <b>|</b> <b>{error,</b> <b>Reason}</b>
       <b>log_to_txt(LogDir,</b> <b>Mibs,</b> <b>OutFile,</b> <b>LogName,</b> <b>LogFile,</b> <b>Block</b> <b>|</b> <b>Start)</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{ok,</b> <b>Cnt}</b> <b>|</b> <b>{error,</b> <b>Reason}</b>
       <b>log_to_txt(LogDir,</b>  <b>Mibs,</b>  <b>OutFile,</b>  <b>LogName,</b>  <b>LogFile,</b>  <b>Start,</b> <b>Block</b> <b>|</b> <b>Stop)</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{ok,</b> <b>Cnt}</b> <b>|</b> <b>{error,</b>
       <b>Reason}</b>
       <b>log_to_txt(LogDir,</b> <b>Mibs,</b> <b>OutFile,</b> <b>LogName,</b> <b>LogFile,</b> <b>Start,</b> <b>Stop,</b> <b>Block)</b> <b>-&gt;</b>  <b>ok</b>  <b>|</b>  <b>{ok,</b>  <b>Cnt}</b>  <b>|</b>  <b>{error,</b>
       <b>Reason}</b>

              Types:

                 LogDir = string()
                 Mibs = [MibName]
                 OutFile = string()
                 MibName = string()
                 LogName = string()
                 LogFile = string()
                 Start = Stop = null | datetime() | {local_time,datetime()} | {universal_time,datetime()}
                 Block = boolean()
                 Cnt = {NumOK, NumERR}
                 NumOK = non_neg_integer()
                 NumERR = pos_integer()
                 Reason = term()

              Converts an Audit Trail Log to a readable text file, where each item has a trailing TAB character,
              and any TAB character in the body of an item has been replaced by ESC TAB.

              The  function  can be used on a running system, or by copying the entire log directory and calling
              this function. SNMP must be running in order to provide MIB information.

              <u>LogDir</u> is the name of the directory where the audit trail log is stored. <u>Mibs</u> is a list of Mibs to
              be used. The function uses the information in the Mibs to convert for example  object  identifiers
              to their symbolic name. <u>OutFile</u> is the name of the generated text-file. <u>LogName</u> is the name of the
              log,  <u>LogFile</u> is the name of the log file. <u>Start</u> is the start (first) date and time from which log
              events will be converted and <u>Stop</u> is the stop (last) date and time to which  log  events  will  be
              converted. The <u>Block</u> argument indicates if the log should be blocked during conversion. This could
              be  usefull  when  converting  large  logs  (when otherwise the log could wrap during conversion).
              Defaults to <u>true</u>.

              The format of an audit trail log text item is as follows:

              <u>Tag</u> <u>Addr</u> <u>-</u> <u>Community</u> <u>[TimeStamp]</u> <u>Vsn</u>
              <u>PDU</u>

              where <u>Tag</u> is <u>request</u>, <u>response</u>, <u>report</u>, <u>trap</u> or <u>inform</u>; Addr is <u>IP:Port</u> (or comma space  separated
              list   of   such);   <u>Community</u>   is   the  community  parameter  (SNMP  version  v1  and  v2),  or
              <u>SecLevel:"AuthEngineID":"UserName"</u> (SNMP v3); <u>TimeStamp</u> is a date and time stamp, and <u>Vsn</u>  is  the
              SNMP  version. <u>PDU</u> is a textual version of the protocol data unit. There is a new line between <u>Vsn</u>
              and <u>PDU</u>.

              If the entire log is successfully converted, the function will return <u>ok</u>. If one of  more  entries
              fail  to  convert,  the  function  will  instead  return <u>{ok,</u> <u>{NumOK,</u> <u>NumERR}}</u>, where the counters
              indicate how many valid and erroneous entries where found. If instead <u>{error,</u> <u>Reason}</u> is returned,
              the conversion encountered a fatal error and where either never done of aborted midway.

       <b>log_to_io(LogDir,</b> <b>Mibs,</b> <b>LogName,</b> <b>LogFile)</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{ok,</b> <b>Cnt}</b> <b>|</b> <b>{error,</b> <b>Reason}</b>
       <b>log_to_io(LogDir,</b> <b>Mibs,</b> <b>LogName,</b> <b>LogFile,</b> <b>Block</b> <b>|</b> <b>Start)</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{ok,</b> <b>Cnt}</b> <b>|</b> <b>{error,</b> <b>Reason}</b>
       <b>log_to_io(LogDir,</b> <b>Mibs,</b> <b>LogName,</b> <b>LogFile,</b> <b>Start,</b> <b>Block</b> <b>|</b> <b>Stop)</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{ok,</b> <b>Cnt}</b> <b>|</b> <b>{error,</b> <b>Reason}</b>
       <b>log_to_io(LogDir,</b> <b>Mibs,</b> <b>LogName,</b> <b>LogFile,</b> <b>Start,</b> <b>Stop,</b> <b>Block)</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{ok,</b> <b>Cnt}</b> <b>|</b> <b>{error,</b> <b>Reason}</b>

              Types:

                 LogDir = string()
                 Mibs = [MibName]
                 MibName = string()
                 LogName = string()
                 LogFile = string()
                 Start = Stop = null | datetime() | {local_time,datetime()} | {universal_time,datetime()}
                 Cnt = {NumOK, NumERR}
                 NumOK = non_neg_integer()
                 NumERR = pos_integer()
                 Reason = term()

              Converts an Audit Trail Log to a readable format and prints it on stdio. See log_to_txt above  for
              more info.

       <b>change_log_size(LogName,</b> <b>NewSize)</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{error,</b> <b>Reason}</b>

              Types:

                 LogName = string()
                 NewSize = {MaxBytes, MaxFiles}
                 MaxBytes = integer()
                 MaxFiles = integer()
                 Reason = term()

              Changes  the  log size of the Audit Trail Log. The application must be configured to use the audit
              trail log function. Please refer to <a href="../man3erl/disk_log.3erl.html">disk_log</a>(3erl) in Kernel Reference Manual for a description of
              how to change the log size.

              The change is permanent, as long as the log is not deleted. That means, the log size is remembered
              across reboots.

       <b>print_version_info()</b> <b>-&gt;</b> <b>void()</b>
       <b>print_version_info(Prefix)</b> <b>-&gt;</b> <b>void()</b>

              Types:

                 Prefix = string() | integer()

              Utility function(s) to produce a  formatted  printout  of  the  versions  info  generated  by  the
              <u>versions1</u> function

              This is the same as doing, e.g.:

                         {ok, V} = snmp:versions1(),
                         snmp:print_versions(V).

       <b>versions1()</b> <b>-&gt;</b> <b>{ok,</b> <b>Info}</b> <b>|</b> <b>{error,</b> <b>Reason}</b>
       <b>versions2()</b> <b>-&gt;</b> <b>{ok,</b> <b>Info}</b> <b>|</b> <b>{error,</b> <b>Reason}</b>

              Types:

                 Info = [info()]
                 info() = term()
                 Reason = term()

              Utility functions used to retrieve some system and application info.

              The  difference  between the two functions is in how they get the modules to check. <u>versions1</u> uses
              the app-file and <u>versions2</u> uses the function <u>application:get_key</u>.

       <b>print_versions(VersionInfo)</b> <b>-&gt;</b> <b>void()</b>
       <b>print_versions(Prefix,</b> <b>VersionInfo)</b> <b>-&gt;</b> <b>void()</b>

              Types:

                 VersionInfo = [version_info()]
                 version_info() = term()
                 Prefix = string() | integer()

              Utility function to produce a formatted printout of the versions info generated by  the  <u>versions1</u>
              and <u>versions2</u> functions

              Example:

                         {ok, V} = snmp:versions1(),
                         snmp:print_versions(V).

       <b>enable_trace()</b> <b>-&gt;</b> <b>void()</b>

              Starts  a  dbg  tracer  that  prints  trace  events to stdout (using plain io:format after a minor
              formatting).

       <b>disable_trace()</b> <b>-&gt;</b> <b>void()</b>

              Stop the tracer.

       <b>set_trace(Targets)</b> <b>-&gt;</b> <b>void()</b>

              Types:

                 Targets = target() | targets()
                 target() = module()
                 module() = atom()
                 targets() = [target() | {target(), target_options()}]
                 target_options() = [target_option()]
                 target_option() = {return_trace, boolean()} | {scope, scope()}
                 scope()  =  all_functions  |   exported_functions   |   function_name()   |   {function_name(),
                 function_arity()}
                 function_name() = atom()
                 function_arity() = integer() &gt;= 0

              This  function is used to set up default trace on function(s) for the given module or modules. The
              scope of the trace will be all <u>exported</u> functions (both the  call  info  and  the  return  value).
              Timestamp info will also be included.

       <b>reset_trace(Targets)</b> <b>-&gt;</b> <b>void()</b>

              Types:

                 Targets = module() | modules()
                 modules() = [module()]
                 module() = atom()

              This function is used to reset (disable) trace for the given module(s).

       <b>set_trace(Targets,</b> <b>Opts)</b> <b>-&gt;</b> <b>void()</b>

              Types:

                 Targets = target() | targets()
                 target() = module()
                 module() = atom()
                 targets() = [target() | {target(), target_options()}]
                 target_options() = [target_option()]
                 target_option() = {return_trace, boolean()} | {scope, scope()}
                 scope()   =   all_functions   |   exported_functions   |  function_name()  |  {function_name(),
                 function_arity()}
                 function_name() = atom()
                 function_arity() = integer() &gt;= 0
                 Opts = disable | trace_options()
                 trace_options() = [trace_option()]
                 trace_option() = {timestamp, boolean()} | target_option()

              This function is used to set up trace on function(s) for the given module or modules.

              The example below sets up trace on the exported functions (default) of module <u>snmp_generic</u> and all
              functions of module <u>snmp_generic_mnesia</u>. With return values (which is default) and  timestamps  in
              both cases (which is also default):

                     snmp:enable_trace(),
                     snmp:set_trace([snmp_generic,
                                        {snmp_generic_mnesia, [{scope, all_functions}]}]),
                     .
                     .
                     .
                        snmp:set_trace(snmp_generic, disable),
                     .
                     .
                     .
                     snmp:disable_trace(),

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3erl/calendar.3erl.html">calendar</a>(3erl)

Ericsson AB                                         snmp 5.11                                         <u><a href="../man3erl/snmp.3erl.html">snmp</a></u>(3erl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>