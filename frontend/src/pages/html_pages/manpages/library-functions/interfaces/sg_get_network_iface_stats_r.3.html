<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sg_get_network_iface_stats,           sg_get_network_iface_stats_r,          sg_free_network_iface_stats,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libstatgrab-dev">libstatgrab-dev_0.92.1-1.2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sg_get_network_iface_stats,           sg_get_network_iface_stats_r,          sg_free_network_iface_stats,
       sg_network_iface_compare_name - get network interface statistics

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;statgrab.h&gt;

       sg_network_iface_stats *<b>sg_get_network_iface_stats</b> (size_t *<u>entries</u>);

       sg_network_iface_stats *<b>sg_get_network_iface_stats_r</b> (size_t *<u>entries</u>);

       sg_error <b>sg_free_network_iface_stats</b> (sg_network_iface_stats *<u>data</u>);

       int <b>sg_network_iface_compare_name</b> (const void *<u>va</u>, const void *<u>vb</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The functions <b>sg_get_network_iface_stats</b>() and <b>sg_get_network_iface_stats_r</b>() return statistics about the
       network interfaces in the machine. Specifically, they return the  speed  of  the  interface,  the  duplex
       state,  and  whether  it is currently up. Both functions take an optional entries parameter, which points
       (when given) to a size_t to take the number of returned vector entries.

       <b>API</b> <b>Shortcut</b>
       ┌──────────────────────────────┬──────────────────────────┬────────────────────────────┐
       │ function                     │ returns                  │ data owner                 │
       ├──────────────────────────────┼──────────────────────────┼────────────────────────────┤
       │ sg_get_network_iface_stats   │ sg_network_iface_stats * │ libstatgrab (thread local) │
       ├──────────────────────────────┼──────────────────────────┼────────────────────────────┤
       │ sg_get_network_iface_stats_r │ sg_network_iface_stats * │ caller                     │
       └──────────────────────────────┴──────────────────────────┴────────────────────────────┘

       The sg_network_iface_stats vectors received  from  <b>sg_get_network_iface_stats_r</b>()  must  be  freed  using
       <b>sg_free_network_iface_stats</b>() when not needed any more. The caller is responsible for doing it.

       Additionally a support function for <b><a href="../man3/qsort.3.html">qsort</a></b>(3) in available: <b>sg_network_iface_compare_name</b>().

       <b>Sort</b> <b>Example</b>

       size_t entries;
       sg_network_iface_stats *network_iface_stats = NULL;
       while( NULL != ( network_iface_stats = sg_get_network_iface_stats(&amp;entries) ) ) {
           /* order entries alphabetically using the mountpoint */
           qsort( network_iface_stats, entries, sizeof(network_iface_stats[0]), &amp;sg_network_iface_compare_name );
           show_network_iface_stats( network_iface_stats );
       }

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The <b>sg_get_network_iface_stats</b> returns a pointer to a structure of type sg_network_iface_stats.

       typedef enum{
               SG_IFACE_DUPLEX_FULL,
               SG_IFACE_DUPLEX_HALF,
               SG_IFACE_DUPLEX_UNKNOWN
       }sg_iface_duplex;

       Note: The SG_IFACE_DUPLEX_UNKNOWN value could mean that duplex hasn't been negotiated yet.

       typedef struct {
               char *interface_name;
               int speed;
               sg_iface_duplex duplex;
               int up;
               time_t systime;
       } sg_network_iface_stats;

       interface_name
              The name known to the operating system.  (eg. on linux it might be eth0)

       speed  The speed of the interface, in megabits/sec.

       duplex The duplex state the interface is in. See sg_iface_duplex for permitted values.

       up     Whether the interface is up.

       systime
              The timestamp when the above stats where collected in seconds since epoch

</pre><h4><b>BUGS</b></h4><pre>
       Getting  specific details may require elevated privileges, eg. on Linux the interface speed isn't visible
       to non-privileged processes.

       The compare functions exist rather for backward compatibility than for functionality enhancements. Limit‐
       ed flexibility (e.g. reverse order) and lack of optimising opportunities for the compiler  leads  to  the
       recommendation to implement the required compare routines locally.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/statgrab.3.html">statgrab</a></b>(3)

</pre><h4><b>WEBSITE</b></h4><pre>
       ⟨https://libstatgrab.org/⟩

libstatgrab                                        2019-03-08                      <u><a href="../man3/sg_get_network_iface_stats.3.html">sg_get_network_iface_stats</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>