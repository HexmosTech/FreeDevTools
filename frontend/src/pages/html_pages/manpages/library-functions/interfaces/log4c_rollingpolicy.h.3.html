<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rollingpolicy.h - Log4c rolling policy interface. Defines the interface for managing and providing</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liblog4c-doc">liblog4c-doc_1.2.4-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rollingpolicy.h - Log4c rolling policy interface. Defines the interface for managing and providing
       rolling policies.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;
       #include &lt;log4c/defs.h&gt;
       #include &lt;log4c/layout.h&gt;

   <b>Data</b> <b>Structures</b>
       struct <b>log4c_rollingpolicy_type</b>
           log4c rollingpolicy type. Defines the interface a specific policy must provide to the rollingfile
           appender.

   <b>Macros</b>
       #define <b>ROLLINGPOLICY_ROLLOVER_ERR_CAN_LOG</b>   0x05

   <b>Typedefs</b>
       typedef struct __log4c_rollingpolicy <b>log4c_rollingpolicy_t</b>
       typedef struct <b>log4c_rollingpolicy_type</b> <b>log4c_rollingpolicy_type_t</b>
           log4c rollingpolicy type. Defines the interface a specific policy must provide to the rollingfile
           appender.

   <b>Functions</b>
       <b>log4c_rollingpolicy_t</b> * <b>log4c_rollingpolicy_get</b> (const char *policy_name)
       const <b>log4c_rollingpolicy_type_t</b> * <b>log4c_rollingpolicy_type_set</b> (const <b>log4c_rollingpolicy_type_t</b>
           *a_type)
       void <b>log4c_rollingpolicy_set_udata</b> (<b>log4c_rollingpolicy_t</b> *policyp, void *udatap)
       int <b>log4c_rollingpolicy_init</b> (<b>log4c_rollingpolicy_t</b> *policyp, rollingfile_udata_t *rfup)
       int <b>log4c_rollingpolicy_fini</b> (<b>log4c_rollingpolicy_t</b> *policyp)
       int <b>log4c_rollingpolicy_is_triggering_event</b> (<b>log4c_rollingpolicy_t</b> *policyp, const <b>log4c_logging_event_t</b>
           *evtp, long current_file_size)
       const <b>log4c_rollingpolicy_type_t</b> * <b>log4c_rollingpolicy_set_type</b> (<b>log4c_rollingpolicy_t</b> *a_rollingpolicy,
           const <b>log4c_rollingpolicy_type_t</b> *a_type)
       const <b>log4c_rollingpolicy_type_t</b> * <b>log4c_rollingpolicy_type_get</b> (const char *a_name)
       void * <b>log4c_rollingpolicy_get_udata</b> (const <b>log4c_rollingpolicy_t</b> *policyp)
       rollingfile_udata_t * <b>log4c_rollingpolicy_get_rfudata</b> (const <b>log4c_rollingpolicy_t</b> *policyp)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Log4c rolling policy interface. Defines the interface for managing and providing rolling policies.

       A rolling policy is used to confogure a rollingfile appender to tell it when to trigger a rolover event.

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>ROLLINGPOLICY_ROLLOVER_ERR_CAN_LOG</b>   <b>0x05</b>
       Effect a rollover according to policyp on the given file stream.

       <b>Parameters</b>
           <u>policyp</u> pointer to the rolling policy
           <u>fp</u> filestream to rollover.

       <b>Returns</b>
           zero if successful, non-zero otherwise. The policy can return an indication that something went wrong
           but that the rollingfile appender can stull go ahead and log by returning an error code &lt;=
           ROLLINGPOLICY_ROLLOVER_ERR_CAN_LOG. Anything greater than means that the rolling file appender will
           not try to log it's message.

</pre><h4><b>Typedef</b> <b>Documentation</b></h4><pre>
   <b>typedef</b> <b>struct</b> <b>__log4c_rollingpolicy</b> <b>log4c_rollingpolicy_t</b>
       log4c rollingpolicy type

   <b>typedef</b> <b>struct</b> <b>log4c_rollingpolicy_type</b> <b>log4c_rollingpolicy_type_t</b>
       log4c rollingpolicy type. Defines the interface a specific policy must provide to the rollingfile
       appender. Attributes description:

       •
        name rollingpolicy type name
       •
        init() init the rollingpolicy
       •
        is_triggering_event()
       •
        rollover()
</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b> <b>log4c_rollingpolicy_fini</b> <b>(log4c_rollingpolicy_t</b> <b>*</b> <b>policyp)</b>
       Call  the  un  initialization code of a rolling policy. This will call the fini routine of the particular
       rollingpolicy type to allow it to free up resources. If the call to fini in the rollingpolicy type  fails
       then the rollingpolicy is not uninitialized. Try again later model...
       <b>Parameters</b>
           <u>policyp</u> pointer to the rolling policy
       <b>Returns</b>
           zero if successful, non-zero otherwise.
   <b>log4c_rollingpolicy_t</b> <b>*</b> <b>log4c_rollingpolicy_get</b> <b>(const</b> <b>char</b> <b>*</b> <b>policy_name)</b>
       Get a new rolling policy
       <b>Parameters</b>
           <u>policy_name</u> a name for the policy
       <b>Returns</b>
           a new rolling policy, otherwise NULL.
   <b>rollingfile_udata_t</b> <b>*</b> <b>log4c_rollingpolicy_get_rfudata</b> <b>(const</b> <b>log4c_rollingpolicy_t</b> <b>*</b> <b>policyp)</b>
       Get the rollingfile appender associated with this policy.
       <b>Parameters</b>
           <u>policyp</u> pointer to the rolling policy
       <b>Returns</b>
           pointer to the rolling file appender associated with this policy
   <b>void</b> <b>*</b> <b>log4c_rollingpolicy_get_udata</b> <b>(const</b> <b>log4c_rollingpolicy_t</b> <b>*</b> <b>policyp)</b>
       Get the rolling policy configuration.
       <b>Parameters</b>
           <u>policyp</u> pointer to the rolling policy
       <b>Returns</b>
           pointer to the rolling policy configuration.
   <b>int</b> <b>log4c_rollingpolicy_init</b> <b>(log4c_rollingpolicy_t</b> <b>*</b> <b>policyp,</b> <b>rollingfile_udata_t</b> <b>*</b> <b>rfup)</b>
       Call the initialization code of a rolling policy.
       <b>Parameters</b>
           <u>policyp</u> pointer to the rolling policy
           <u>rfup</u> the rolling appender user data this policy is used with
       <b>Returns</b>
           zero if successful, non-zero otherwise.
   <b>int</b>  <b>log4c_rollingpolicy_is_triggering_event</b>  <b>(log4c_rollingpolicy_t</b> <b>*</b> <b>policyp,</b> <b>const</b> <b>log4c_logging_event_t</b> <b>*</b>
       <b>evtp,</b> <b>long</b> <b>current_file_size)</b>
       Determine if a logging event should trigger a rollover according to the given policy.
       <b>Parameters</b>
           <u>policyp</u> pointer to the rolling policy
           <u>evtp</u> the logging event pointer.
           <u>current_file_size</u> the size of the current file being logged to.
       <b>Returns</b>
           non-zero if rollover required, zero otherwise.
   <b>const</b> <b>log4c_rollingpolicy_type_t</b> <b>*</b>  <b>log4c_rollingpolicy_set_type</b>  <b>(log4c_rollingpolicy_t</b>  <b>*</b>  <b>a_rollingpolicy,</b>
       <b>const</b> <b>log4c_rollingpolicy_type_t</b> <b>*</b> <b>a_type)</b>
       sets the rolling policy type
       <b>Parameters</b>
           <u>a_rollingpolicy</u> the log4c_rollingpolicy_t object
           <u>a_type</u> the new rollingpolicy type
       <b>Returns</b>
           the previous appender type
   <b>void</b> <b>log4c_rollingpolicy_set_udata</b> <b>(log4c_rollingpolicy_t</b> <b>*</b> <b>policyp,</b> <b>void</b> <b>*</b> <b>udatap)</b>
       Configure a rolling policy with a specific policy.
       <b>Parameters</b>
           <u>policyp</u> pointer to the rolling policy
           <u>udatap</u> a specific policy type, for example sizewin.
       <b>Returns</b>
           zero if successful, non-zero otherwise.
   <b>const</b> <b>log4c_rollingpolicy_type_t</b> <b>*</b> <b>log4c_rollingpolicy_type_get</b> <b>(const</b> <b>char</b> <b>*</b> <b>a_name)</b>
       Get a pointer to an existing rollingpolicy type.
       <b>Parameters</b>
           <u>a_name</u> the name of the rollingpolicy type to return.

       <b>Returns</b>
           a pointer to an existing rollingpolicy type, or NULL if no rollingpolicy type with the specified name
           exists.
   <b>const</b> <b>log4c_rollingpolicy_type_t</b> <b>*</b> <b>log4c_rollingpolicy_type_set</b> <b>(const</b> <b>log4c_rollingpolicy_type_t</b> <b>*</b> <b>a_type)</b>
       Use  this  function  to register a rollingpolicy type with log4c. Once this is done you may refer to this
       type by name both programmatically and in the log4c configuration file.
       <b>Parameters</b>
           <u>a_type</u> a pointer to the new rollingpolicy type to register.
       <b>Returns</b>
           a pointer to the previous rollingpolicy type of same name.
       Example code fragment:
       const log4c_rollingpolicy_type_t log4c_rollingpolicy_type_sizewin = {
         "sizewin",
         sizewin_init,
         sizewin_is_triggering_event,
         sizewin_rollover
       };

       log4c_rollingpolicy_type_set(&amp;log4c_rollingpolicy_type_sizewin);

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for log4c from the source code.

log4c                                             Version 1.2.4                               <u><a href="../man3/rollingpolicy.h.3.html">rollingpolicy.h</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>