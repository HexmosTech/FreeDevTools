<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ldapx - LDAP extended object interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ldapx - LDAP extended object interface

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.5</b> <b>9</b>

       package require <b>ldapx</b> <b>?1.3?</b>

       <u>e</u> <b>reset</b>

       <u>e</u> <b>dn</b> ?<u>newdn</u>?

       <u>e</u> <b>rdn</b>

       <u>e</u> <b>superior</b>

       <u>e</u> <b>print</b>

       <u>se</u> <b>isempty</b>

       <u>se</u> <b>get</b> <u>attr</u>

       <u>se</u> <b>get1</b> <u>attr</u>

       <u>se</u> <b>set</b> <u>attr</u> <u>values</u>

       <u>se</u> <b>set1</b> <u>attr</u> <u>value</u>

       <u>se</u> <b>add</b> <u>attr</u> <u>values</u>

       <u>se</u> <b>add1</b> <u>attr</u> <u>value</u>

       <u>se</u> <b>del</b> <u>attr</u> ?<u>values</u>?

       <u>se</u> <b>del1</b> <u>attr</u> <u>value</u>

       <u>se</u> <b>getattr</b>

       <u>se</u> <b>getall</b>

       <u>se</u> <b>setall</b> <u>avpairs</u>

       <u>se</u> <b>backup</b> ?<u>other</u>?

       <u>se</u> <b>swap</b>

       <u>se</u> <b>restore</b> ?<u>other</u>?

       <u>se</u> <b>apply</b> <u>centry</u>

       <u>ce</u> <b>change</b> ?<u>new</u>?

       <u>ce</u> <b>diff</b> <u>new</u> ?<u>old</u>?

       <u>la</u> <b>error</b> ?<u>newmsg</u>?

       <u>la</u> <b>connect</b> <u>url</u> ?<u>binddn</u>? ?<u>bindpw</u>? ?<u>starttls</u>?

       <u>la</u> <b>disconnect</b>

       <u>la</u> <b>traverse</b> <u>base</u> <u>filter</u> <u>attrs</u> <u>entry</u> <u>body</u>

       <u>la</u> <b>search</b> <u>base</u> <u>filter</u> <u>attrs</u>

       <u>la</u> <b>read</b> <u>base</u> <u>filter</u> <u>entry</u> ... <u>entry</u>

       <u>la</u> <b>commit</b> <u>entry</u> ... <u>entry</u>

       <u>li</u> <b>channel</b> <u>chan</u>

       <u>li</u> <b>error</b> ?<u>newmsg</u>?

       <u>li</u> <b>read</b> <u>entry</u>

       <u>li</u> <b>write</b> <u>entry</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>ldapx</b> package provides an extended Tcl interface to LDAP directores and LDIF files. The <b>ldapx</b> package
       is built upon the <b>ldap</b> package in order to get low level LDAP access.

       LDAP  access  is  compatible  with  RFC 2251 (<u><a href="http://www.rfc-editor.org/rfc/rfc2251.txt">http://www.rfc-editor.org/rfc/rfc2251.txt</a></u>).  LDIF access is
       compatible with RFC 2849 (<u><a href="http://www.rfc-editor.org/rfc/rfc2849.txt">http://www.rfc-editor.org/rfc/rfc2849.txt</a></u>).

</pre><h4><b>OVERVIEW</b></h4><pre>
       The <b>ldapx</b> package provides objects to interact with LDAP directories and LDIF files with an easy  to  use
       programming interface.  It implements three <b>snit</b>::type classes.

       The  first  class,  <b>entry</b>, is used to store individual entries.  Two different formats are available: the
       first one is the <u>standard</u> format, which represents an entry as read from the directory. The second format
       is the <u>change</u> format, which stores differences between two standard entries.

       With these entries, an application which wants to modify  an  entry  in  a  directory  needs  to  read  a
       (standard)  entry  from  the  directory,  create a fresh copy into a new (standard) entry, modify the new
       copy, and then compute the differences between the two entries into a new (change) entry,  which  may  be
       commited to the directory.

       Such  kinds  of modifications are so heavily used that standard entries may contain their own copy of the
       original data. With such a copy, the application described  above  reads  a  (standard)  entry  from  the
       directory, backs-up the original data, modifies the entry, and computes the differences between the entry
       and its backup. These differences are then commited to the directory.

       Methods  are  provided  to  compute  differences between two entries, to apply differences to an entry in
       order to get a new entry, and to get or set attributes in standard entries.

       The second class is the <b>ldap</b> class. It provides a method to <b>connect</b> and bind  to  the  directory  with  a
       uniform  access  to  LDAP  and LDAPS through an URL (ldap:// or ldaps://). The <b>traverse</b> control structure
       executes a body for  each  entry  found  in  the  directory.  The  <b>commit</b>  method  applies  some  changes
       (represented as <b>entry</b> objects) to the directory.  Since some attributes are represented as UTF-8 strings,
       the option <b>-utf8</b> controls which attributes must be converted and which attributes must not be converted.

       The  last  class  is  the <b>ldif</b> class. It provides a method to associate a standard Tcl <u>channel</u> to an LDIF
       object. Then, methods <b>read</b> and <b>write</b> read or write entries from or to this channel. This class  can  make
       use  of  standard  or  change  entries,  according  to the type of the LDIF file which may contain either
       standard entries or change entries (but not both at the same time). The option  <b>-utf8</b>  works  exactly  as
       with the <b>ldap</b> class.

</pre><h4><b>ENTRY</b> <b>CLASS</b></h4><pre>
   <b>ENTRY</b> <b>INSTANCE</b> <b>DATA</b>
       An instance of the <b>entry</b> class keeps the following data:

       dn     This  is  the  DN of the entry, which includes (in LDAP terminology) the RDN (relative DN) and the
              Superior parts.

       format The format may be <u>uninitialized</u> (entry not yet used), <u>standard</u> or <u>change</u>. Most methods  check  the
              format of the entry, which can be reset with the <b>reset</b> method.

       attrvals
              In  a  <u>standard</u> entry, this is where the attributes and associated values are stored. Many methods
              provide access to these informations. Attribute names are always converted into lower case.

       backup In a <u>standard</u> entry, the backup may contain a copy of  the  dn  and  all  attributes  and  values.
              Methods <b>backup</b> and <b>restore</b> manipulate these data, and method <b>diff</b> may use this backup.

       change In  a  <u>change</u>  entry,  these  data  represent the modifications. Such modifications are handled by
              specialized methods such as <b>apply</b> or <b>commit</b>.  Detailed format  should  not  be  used  directly  by
              programs.

              Internally,  modifications  are  represented  as  a  list of elements, each element has one of the
              following formats (which match the corresponding LDAP operations):

              [1]    {<b>add</b> {attr1 {val1...valn} attr2 {...} ...}}

                     Addition of a new entry.

              [2]    {<b>mod</b> {modop {attr1 ?val1...valn?} attr2 ...} {modop ...} ...}

                     Modification of one or more attributes and/or values, where &lt;modop&gt; can be  <b>modadd</b>,  <b>moddel</b>
                     or <b>modrepl</b> (see the LDAP modify operation).

              [3]    {<b>del</b>}

                     Deletion of an old entry.

              [4]    {<b>modrdn</b> newrdn deleteoldrdn ?newsuperior?}

                     Renaming of an entry.

   <b>ENTRY</b> <b>OPTIONS</b>
       No option is defined by this class.

   <b>METHODS</b> <b>FOR</b> <b>ALL</b> <b>KINDS</b> <b>OF</b> <b>ENTRIES</b>
       <u>e</u> <b>reset</b>
              This method resets the entry to an uninitialized state.

       <u>e</u> <b>dn</b> ?<u>newdn</u>?
              This  method  returns the current DN of the entry. If the optional <u>newdn</u> is specified, it replaces
              the current DN of the entry.

       <u>e</u> <b>rdn</b>  This method returns the RDN part of the DN of the entry.

       <u>e</u> <b>superior</b>
              This method returns the superior part of the DN of the entry.

       <u>e</u> <b>print</b>
              This method returns the entry as a string ready to be printed.

   <b>METHODS</b> <b>FOR</b> <b>STANDARD</b> <b>ENTRIES</b> <b>ONLY</b>
       In all methods, attribute names are converted in lower case.

       <u>se</u> <b>isempty</b>
              This method returns 1 if the entry is empty (i.e. without any attribute).

       <u>se</u> <b>get</b> <u>attr</u>
              This method returns all values of the attribute <u>attr</u>, or the empty list if the  attribute  is  not
              fond.

       <u>se</u> <b>get1</b> <u>attr</u>
              This method returns the first value of the attribute.

       <u>se</u> <b>set</b> <u>attr</u> <u>values</u>
              This method sets the values (list <u>values</u>) of the attribute <u>attr</u>. If the list is empty, this method
              deletes all

       <u>se</u> <b>set1</b> <u>attr</u> <u>value</u>
              This method sets the values of the attribute <u>attr</u> to be an unique value <u>value</u>. Previous values, if
              any, are replaced by the new value.

       <u>se</u> <b>add</b> <u>attr</u> <u>values</u>
              This method adds all elements the list <u>values</u> to the values of the attribute <u>attr</u>.

       <u>se</u> <b>add1</b> <u>attr</u> <u>value</u>
              This method adds a single value given by the parameter <u>value</u> to the attribute <u>attr</u>.

       <u>se</u> <b>del</b> <u>attr</u> ?<u>values</u>?
              If  the  optional  list  <u>values</u>  is  specified,  this method deletes all specified values from the
              attribute <u>attr</u>.  If the argument <u>values</u> is not specified, this method deletes all values.

       <u>se</u> <b>del1</b> <u>attr</u> <u>value</u>
              This method deletes a unique <u>value</u> from the attribute <u>attr</u>.

       <u>se</u> <b>getattr</b>
              This method returns all attributes names.

       <u>se</u> <b>getall</b>
              This method returns all attributes  and  values  from  the  entry,  packed  in  a  list  of  pairs
              &lt;attribute, list of values&gt;.

       <u>se</u> <b>setall</b> <u>avpairs</u>
              This method sets at once all attributes and values. The format of the <u>avpairs</u> argument is the same
              as the one returned by method <b>getall</b>.

       <u>se</u> <b>backup</b> ?<u>other</u>?
              This   method   stores  in  an  <u>other</u>  standard  entry  object  a  copy  of  the  current  DN  and
              attributes/values. If the optional <u>other</u> argument is not specified, copy is done  in  the  current
              entry (in a specific place, see section <b>OVERVIEW</b>).

       <u>se</u> <b>swap</b>
              This method swaps the current and backup contexts of the entry.

       <u>se</u> <b>restore</b> ?<u>other</u>?
              If the optional argument <u>other</u> is given, which must then be a <u>standard</u> entry, this method restores
              the  current  entry  into  the  <u>other</u> entry. If the argument <u>other</u> argument is not specified, this
              methods restores the current entry from its internal backup (see section <b>OVERVIEW</b>).

       <u>se</u> <b>apply</b> <u>centry</u>
              This method applies changes defined in the <u>centry</u> argument, which must be a <u>change</u> entry.

   <b>METHODS</b> <b>FOR</b> <b>CHANGE</b> <b>ENTRIES</b> <b>ONLY</b>
       <u>ce</u> <b>change</b> ?<u>new</u>?
              If the optional argument <u>new</u> is specified, this method modifies the change  list  (see  subsection
              <b>Entry</b>  <b>Instance</b>  <b>Data</b>  for  the  exact  format).  In  both cases, current change list is returned.
              Warning: values returned by this method should only be used by specialized methods such  as  <b>apply</b>
              or <b>commit</b>.

       <u>ce</u> <b>diff</b> <u>new</u> ?<u>old</u>?
              This  method  computes  the differences between the <u>new</u> and <u>old</u> entries under the form of a change
              list, and stores this list into the current <u>change</u> entry. If the  optional  argument  <u>old</u>  is  not
              specified,  difference  is computed from the entry and its internal backup (see section <b>OVERVIEW</b>).
              Return value is the computed change list.

   <b>ENTRY</b> <b>EXAMPLE</b>
                  package require ldapx

                  #
                  # Create an entry and fill it as a standard entry with
                  # attributes and values
                  #
                  ::ldapx::entry create e
                  e dn "uid=joe,ou=people,o=mycomp"
                  e set1 "uid"             "joe"
                  e set  "objectClass"     {person anotherObjectClass}
                  e set1 "givenName"       "Joe"
                  e set1 "sn"              "User"
                  e set  "telephoneNumber" {+31415926535 +2182818}
                  e set1 "anotherAttr"     "This is a beautiful day, isn't it?"

                  puts stdout "e\n[e print]"

                  #
                  # Create a second entry as a backup of the first, and
                  # make some changes on it.
                  # Entry is named automatically by snit.
                  #

                  set b [::ldapx::entry create %AUTO%]
                  e backup $b

                  puts stdout "$b\n[$b print]"

                  $b del  "anotherAttr"
                  $b del1 "objectClass" "anotherObjectClass"

                  #
                  # Create a change entry, a compute differences between first
                  # and second entry.
                  #

                  ::ldapx::entry create c
                  c diff e $b

                  puts stdout "$c\n[$c print]"

                  #
                  # Apply changes to first entry. It should be the same as the
                  # second entry, now.
                  #

                  e apply c

                  ::ldapx::entry create nc
                  nc diff e $b

                  puts stdout "nc\n[nc print]"

                  #
                  # Clean-up
                  #

                  e destroy
                  $b destroy
                  c destroy
                  nc destroy

</pre><h4><b>LDAP</b> <b>CLASS</b></h4><pre>
   <b>LDAP</b> <b>INSTANCE</b> <b>DATA</b>
       An instance of the <b>ldap</b> class keeps the following data:

       channel
              This is the channel used by the <b>ldap</b> package for communication with the LDAP server.

       lastError
              This variable contains the error message which appeared in the last method of the <b>ldap</b> class (this
              string is modified in nearly all methods). The <b>error</b> method may be used to fetch this message.

   <b>LDAP</b> <b>OPTIONS</b>
       Options are configured on <b>ldap</b> instances using the <b>configure</b> method.

       The first option is used for TLS parameters:

       <b>-tlsoptions</b> <u>list</u>
              Specify the set of TLS options to use when connecting to the LDAP server (see the <b>connect</b> method).
              For the list of valid options, see the <b>LDAP</b> package documentation.

              The default is <b>-request</b> <b>1</b> <b>-require</b> <b>1</b> <b>-ssl2</b> <b>no</b> <b>-ssl3</b> <b>no</b> <b>-tls1</b> <b>yes</b> <b>-tls1.1</b> <b>yes</b> <b>-tls1.2</b> <b>yes</b>.

              Example:

              $l configure -tlsoptions {-request yes -require yes}

       A set of options of the <b>ldap</b> class is used during search operations (methods <b>traverse</b>, <b>search</b>  and  <b>read</b>,
       see below).

       <b>-scope</b> <b>base</b>|<b>one</b>|<b>sub</b>
              Specify  the scope of the LDAP search to be one of <b>base</b>, <b>one</b> or <b>sub</b> to specify a base object, one-
              level or subtree search.

              The default is <b>sub</b>.

       <b>-derefaliases</b> <b>never</b>|<b>seach</b>|<b>find</b>|<b>always</b>
              Specify how aliases dereferencing is handled: <b>never</b> is used to  specify  that  aliases  are  never
              derefenced,  <b>always</b>  that aliases are always derefenced, <b>search</b> that aliases are dereferenced when
              searching, or <b>find</b> that aliases are dereferenced only  when locating  the   base  object  for  the
              search.

              The default is <b>never</b>.

       <b>-sizelimit</b> integer
              Specify  the  maximum  number  of  entries  to be retreived during a search. A value of <b>0</b> means no
              limit.

              Default is <b>0</b>.

       <b>-timelimit</b> integer
              Specify the time limit for a search to complete.  A value of <b>0</b> means no limit.

              Default is <b>0</b>.

       <b>-attrsonly</b> <b>0</b>|<b>1</b>
              Specify if only attribute names are to be retrieved  (value  <b>1</b>).  Normally  (value  <b>0</b>),  attribute
              values are also retrieved.

              Default is <b>0</b>.

       The last option is used when getting entries or committing changes in the directory:

       <b>-utf8</b> pattern-yes pattern-no
              Specify  which  attribute  values  are  encoded in UTF-8. This information is specific to the LDAP
              schema in use by the application, since some attributes such as jpegPhoto, for  example,  are  not
              encoded  in  UTF-8. This option takes the form of a list with two regular expressions suitable for
              the <b>regexp</b> command (anchored by ^ and $).  The first specifies which attribute  names  are  to  be
              UTF-8  encoded,  and  the second selects, among those, the attribute names which will not be UTF-8
              encoded.  It is thus possible to say: convert all attributes, except jpegPhoto.

              Default is {{.*} {}}, meaning: all attributes are converted, without exception.

   <b>LDAP</b> <b>METHODS</b>
       <u>la</u> <b>error</b> ?<u>newmsg</u>?
              This method returns the error message that occurred in the last call to a <b>ldap</b>  class  method.  If
              the optional argument <u>newmsg</u> is supplied, it becomes the last error message.

       <u>la</u> <b>connect</b> <u>url</u> ?<u>binddn</u>? ?<u>bindpw</u>? ?<u>starttls</u>?
              This method connects to the LDAP server using given URL (which can be of the form <u>ldap://host:port</u>
              or  <u>ldaps://host:port</u>). If an optional <u>binddn</u> argument is given together with the <u>bindpw</u> argument,
              the <b>connect</b> binds to the LDAP server using the specified DN and password.

              If the <u>starttls</u> argument is given a true value (<b>1</b>, <b>yes</b>, etc.) and the URL uses the <u>ldap://</u> scheme,
              a TLS negotiation is initiated with the newly created connection, before  LDAP  binding.   Default
              value: <b>no</b>.

              This  method  returns  1  if  connection  was successful, or 0 if an error occurred (use the <b>error</b>
              method to get the message).

       <u>la</u> <b>disconnect</b>
              This method disconnects (and unbinds, if necessary) from the LDAP server.

       <u>la</u> <b>traverse</b> <u>base</u> <u>filter</u> <u>attrs</u> <u>entry</u> <u>body</u>
              This method is a new control structure. It searches the LDAP directory from the specified base  DN
              (given  by  the  <u>base</u>  argument)  and selects entries based on the argument <u>filter</u>. For each entry
              found, this method fetches attributes specified by the <u>attrs</u> argument (or all attributes if it  is
              an  empty  list), stores them in the <u>entry</u> instance of class <b>entry</b> and executes the script defined
              by the argument <u>body</u>. Options are used to refine the search.

              Caution: when this method is used, the script <u>body</u> cannot perform  another  LDAP  search  (methods
              <b>traverse</b>, <b>search</b> or <b>read</b>).

       <u>la</u> <b>search</b> <u>base</u> <u>filter</u> <u>attrs</u>
              This  method  searches  the directory using the same way as method <b>traverse</b>. All found entries are
              stored in newly created instances of class <b>entry</b>, which are returned in a list. The newly  created
              instances should be destroyed when they are no longer used.

       <u>la</u> <b>read</b> <u>base</u> <u>filter</u> <u>entry</u> ... <u>entry</u>
              This  method  reads  one  or  more entries, using the same search criteria as methods <b>traverse</b> and
              <b>search</b>.  All attributes are stored in the entries. This method provides a quick way to  read  some
              entries.  It  returns  the  number  of  entries found in the directory (which may be more than the
              number of read entries). If called without any <u>entry</u> argument, this method just returns the number
              of entries found, without returning any data.

       <u>la</u> <b>commit</b> <u>entry</u> ... <u>entry</u>
              This method commits the changes stored in the <u>entry</u> arguments. Each <u>entry</u> may be either  a  <u>change</u>
              entry, or a <u>standard</u> entry with a backup.

              Note:  in  the  future, this method should use the LDAP transaction extension provided by OpenLDAP
              2.3 and later.

   <b>LDAP</b> <b>EXAMPLE</b>
                  package require ldapx

                  #
                  # Connects to the LDAP directory using StartTLS
                  #

                  ::ldapx::ldap create l
                  l configure -tlsoptions {-cadir <a href="file:/etc/ssl/certs">/etc/ssl/certs</a> -request yes -require yes}
                  set url "ldap://server.mycomp.com"
                  if {! [l connect $url "cn=admin,o=mycomp" "mypasswd" yes]} then {
                puts stderr "error: [l error]"
                exit 1
                  }

                  #
                  # Search all entries matching some criterion
                  #

                  l configure -scope one
                  ::ldapx::entry create e
                  set n 0
                  l traverse "ou=people,o=mycomp" "(sn=Joe*)" {sn givenName} e {
                puts "dn: [e dn]"
                puts "  sn:        [e get1 sn]"
                puts "  givenName: [e get1 givenName]"
                incr n
                  }
                  puts "$n entries found"
                  e destroy

                  #
                  # Add a telephone number to some entries
                  # Note this modification cannot be done in the "traverse" operation.
                  #

                  set lent [l search "ou=people,o=mycomp" "(sn=Joe*)" {}]
                  ::ldapx::entry create c
                  foreach e $lent {
                $e backup
                $e add1 "telephoneNumber" "+31415926535"
                c diff $e
                if {! [l commit c]} then {
                    puts stderr "error: [l error]"
                    exit 1
                }
                $e destroy
                  }
                  c destroy

                  l disconnect
                  l destroy

</pre><h4><b>LDIF</b> <b>CLASS</b></h4><pre>
   <b>LDIF</b> <b>INSTANCE</b> <b>DATA</b>
       An instance of the <b>ldif</b> class keeps the following data:

       channel
              This is the Tcl channel used to retrieve or store LDIF file contents. The association  between  an
              instance and a channel is made by the method <b>channel</b>. There is no need to disrupt this association
              when the LDIF file operation has ended.

       format LDIF  files  may  contain <u>standard</u> entries or <u>change</u> entries, but not both. This variable contains
              the detected format of the file (when reading) or the format of entries written to the file  (when
              writing).

       lastError
              This variable contains the error message which appeared in the last method of the <b>ldif</b> class (this
              string is modified in nearly all methods). The <b>error</b> method may be used to fetch this message.

       version
              This  is  the version of the LDIF file. Only version 1 is supported: the method <b>read</b> can only read
              from version 1 files, and method <b>write</b> only creates version 1 files.

   <b>LDIF</b> <b>OPTIONS</b>
       This class defines two options:

       <b>-ignore</b> list-of-attributes
              This option is used to ignore certain attribute names on reading. For example,  to  read  OpenLDAP
              replica  files  (replog), one must ignore <b>replica</b> and <b>time</b> attributes since they do not conform to
              the RFC 2849 standard for LDIF files.

              Default is empty list: no attribute is ignored.

       <b>-utf8</b> pattern-yes pattern-no
              Specify which attribute values are encoded in UTF-8. This information  is  specific  to  the  LDAP
              schema  in  use  by the application, since some attributes such as jpegPhoto, for example, are not
              encoded in UTF-8. This option takes the form of a list with two regular expressions  suitable  for
              the  <b>regexp</b>  command  (anchored  by ^ and $).  The first specifies which attribute names are to be
              UTF-8 encoded, and the second selects, among those, the attribute names which will  not  be  UTF-8
              encoded.  It is thus possible to say: convert all attributes, except jpegPhoto.

              Default is {{.*} {}}, meaning: all attributes are converted, without exception.

   <b>LDIF</b> <b>METHODS</b>
       <u>li</u> <b>channel</b> <u>chan</u>
              This  method  associates  the Tcl channel named <u>chan</u> with the LDIF instance. It resets the type of
              LDIF object to <u>uninitialized</u>.

       <u>li</u> <b>error</b> ?<u>newmsg</u>?
              This method returns the error message that occurred in the last call to a <b>ldif</b>  class  method.  If
              the optional argument <u>newmsg</u> is supplied, it becomes the last error message.

       <u>li</u> <b>read</b> <u>entry</u>
              This  method  reads  the  next entry from the LDIF file and stores it in the <u>entry</u> object of class
              <b>entry</b>.  The entry may be a <u>standard</u> or <u>change</u> entry.

       <u>li</u> <b>write</b> <u>entry</u>
              This method writes the entry given in the argument <u>entry</u> to the LDIF file.

   <b>LDIF</b> <b>EXAMPLE</b>
                  package require ldapx

                  # This examples reads a LDIF file containing entries,
                  # compare them to a LDAP directory, and writes on standard
                  # output an LDIF file containing changes to apply to the
                  # LDAP directory to match exactly the LDIF file.

                  ::ldapx::ldif create liin
                  liin channel stdin

                  ::ldapx::ldif create liout
                  liout channel stdout

                  ::ldapx::ldap create la
                  if {! [la connect "ldap://server.mycomp.com"]} then {
                puts stderr "error: [la error]"
                exit 1
                  }
                  la configure -scope one

                  # Reads LDIF file

                  ::ldapx::entry create e1
                  ::ldapx::entry create e2
                  ::ldapx::entry create c

                  while {[liin read e1] != 0} {
                set base [e1 superior]
                set id [e1 rdn]
                if {[la read $base "($id)" e2] == 0} then {
                    e2 reset
                }

                c diff e1 e2
                if {[llength [c change]] != 0} then {
                    liout write c
                }
                  }

                  la disconnect
                  la destroy
                  e1 destroy
                  e2 destroy
                  c destroy
                  liout destroy
                  liin destroy

</pre><h4><b>REFERENCES</b></h4><pre>
</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This document, and the package it describes, will undoubtedly contain bugs and  other  problems.   Please
       report  such  in the category <u>ldap</u> of the <u>Tcllib</u> <u>Trackers</u> [<a href="http://core.tcl.tk/tcllib/reportlist">http://core.tcl.tk/tcllib/reportlist</a>].  Please
       also report any ideas for enhancements you may have for either package and/or documentation.

       When proposing code changes, please provide <u>unified</u> <u>diffs</u>, i.e the output of <b>diff</b> <b>-u</b>.

       Note further that <u>attachments</u> are strongly preferred over inlined patches. Attachments  can  be  made  by
       going  to the <b>Edit</b> form of the ticket immediately after its creation, and then using the left-most button
       in the secondary navigation bar.

</pre><h4><b>KEYWORDS</b></h4><pre>
       directory access, internet, ldap, ldap client, ldif, protocol, rfc 2251, rfc 2849

</pre><h4><b>CATEGORY</b></h4><pre>
       Networking

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2006-2018 Pierre David &lt;<a href="mailto:pdav@users.sourceforge.net">pdav@users.sourceforge.net</a>&gt;

tcllib                                                 1.3                                           <u><a href="../man3tcl/ldapx.3tcl.html">ldapx</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>