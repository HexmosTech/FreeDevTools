<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>libcurl-url - URL interface overview</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       libcurl-url - URL interface overview

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The URL interface provides functions for parsing and generating URLs.

</pre><h4><b>INCLUDE</b></h4><pre>
       You still only include &lt;curl/curl.h&gt; in your code.

</pre><h4><b>CREATE</b></h4><pre>
       Create a handle that holds URL info and resources with <u><a href="../man3/curl_url.3.html">curl_url</a>(3)</u>:
         CURLU *h = curl_url();

</pre><h4><b>CLEANUP</b></h4><pre>
       When done with it, clean it up with <u><a href="../man3/curl_url_cleanup.3.html">curl_url_cleanup</a>(3)</u>
         curl_url_cleanup(h);

</pre><h4><b>DUPLICATE</b></h4><pre>
       When you need a copy of a handle, just duplicate it with <u><a href="../man3/curl_url_dup.3.html">curl_url_dup</a>(3)</u>:
         CURLU *nh = curl_url_dup(h);

</pre><h4><b>PARSING</b></h4><pre>
       By  setting  a URL to the handle with <u><a href="../man3/curl_url_set.3.html">curl_url_set</a>(3)</u>, the URL is parsed and stored in the handle. If the
       URL is not syntactically correct it returns an error instead.
         rc = curl_url_set(h, CURLUPART_URL,
                           "https://example.com:449/foo/bar?name=moo", 0);

       The zero in the fourth argument is a bitmask for changing specific features.

       If successful, this stores the URL in its individual parts within the handle.

</pre><h4><b>REDIRECT</b></h4><pre>
       When a handle already contains info about a URL, setting a relative URL makes it "redirect" to that.
         rc = curl_url_set(h, CURLUPART_URL, "../test?another", 0);

</pre><h4><b>GET</b> <b>URL</b></h4><pre>
       The <b>CURLU</b> handle represents a URL and you can easily extract that with <u><a href="../man3/curl_url_get.3.html">curl_url_get</a>(3)</u>:
         char *url;
         rc = curl_url_get(h, CURLUPART_URL, &amp;url, 0);
         curl_free(url);
       The zero in the fourth argument is a bitmask for changing specific features.

</pre><h4><b>GET</b> <b>PARTS</b></h4><pre>
       When a URL has been parsed or parts have been set, you can extract those pieces from the  handle  at  any
       time.

         rc = curl_url_get(h, CURLUPART_FRAGMENT, &amp;fragment, 0);
         rc = curl_url_get(h, CURLUPART_HOST, &amp;host, 0);
         rc = curl_url_get(h, CURLUPART_PASSWORD, &amp;password, 0);
         rc = curl_url_get(h, CURLUPART_PATH, &amp;path, 0);
         rc = curl_url_get(h, CURLUPART_PORT, &amp;port, 0);
         rc = curl_url_get(h, CURLUPART_QUERY, &amp;query, 0);
         rc = curl_url_get(h, CURLUPART_SCHEME, &amp;scheme, 0);
         rc = curl_url_get(h, CURLUPART_USER, &amp;user, 0);
         rc = curl_url_get(h, CURLUPART_ZONEID, &amp;zoneid, 0);

       Extracted parts are not URL decoded unless the user also asks for it with the <u>CURLU_URLDECODE</u> flag set in
       the fourth bitmask argument.

       Remember to free the returned string with <u><a href="../man3/curl_free.3.html">curl_free</a>(3)</u> when you are done with it.

</pre><h4><b>SET</b> <b>PARTS</b></h4><pre>
       A user set individual URL parts, either after having parsed a full URL or instead of parsing such.

         rc = curl_url_set(urlp, CURLUPART_FRAGMENT, "anchor", 0);
         rc = curl_url_set(urlp, CURLUPART_HOST, "www.example.com", 0);
         rc = curl_url_set(urlp, CURLUPART_PASSWORD, "doe", 0);
         rc = curl_url_set(urlp, CURLUPART_PATH, "/index.html", 0);
         rc = curl_url_set(urlp, CURLUPART_PORT, "443", 0);
         rc = curl_url_set(urlp, CURLUPART_QUERY, "name=john", 0);
         rc = curl_url_set(urlp, CURLUPART_SCHEME, "https", 0);
         rc = curl_url_set(urlp, CURLUPART_USER, "john", 0);
         rc = curl_url_set(urlp, CURLUPART_ZONEID, "eth0", 0);

       Set parts are not URL encoded unless the user asks for it with the <u>CURLU_URLENCODE</u> flag.

</pre><h4><b>CURLU_APPENDQUERY</b></h4><pre>
       An  application can append a string to the right end of the query part with the <u>CURLU_APPENDQUERY</u> flag to
       <u><a href="../man3/curl_url_set.3.html">curl_url_set</a>(3)</u>.

       Imagine a handle that holds the URL "https://example.com/?shoes=2".  An  application  can  then  add  the
       string "hat=1" to the query part like this:

         rc = curl_url_set(urlp, CURLUPART_QUERY, "hat=1", CURLU_APPENDQUERY);

       It  notices the lack of an ampersand (&amp;) separator and injects one, and the handle's full URL then equals
       "https://example.com/?shoes=2&amp;hat=1".

       The appended string can of course also get URL encoded on add, and if asked to URL encode,  the  encoding
       process  skips the '=' character. For example, append "candy=N&amp;N" to what we already have, and URL encode
       it to deal with the ampersand in the data:

         rc = curl_url_set(urlp, CURLUPART_QUERY, "candy=N&amp;N",
                           CURLU_APPENDQUERY | CURLU_URLENCODE);

       Now the URL looks like

         https://example.com/?shoes=2&amp;hat=1&amp;candy=N%26N

</pre><h4><b>NOTES</b></h4><pre>
       A URL with a literal IPv6 address can be parsed even when IPv6 support is not enabled.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLOPT_URL.3.html">CURLOPT_URL</a></b>(3),  <b><a href="../man3/curl_url.3.html">curl_url</a></b>(3),  <b><a href="../man3/curl_url_cleanup.3.html">curl_url_cleanup</a></b>(3),  <b><a href="../man3/curl_url_dup.3.html">curl_url_dup</a></b>(3),  <b><a href="../man3/curl_url_get.3.html">curl_url_get</a></b>(3),  <b><a href="../man3/curl_url_set.3.html">curl_url_set</a></b>(3),
       <b><a href="../man3/curl_url_strerror.3.html">curl_url_strerror</a></b>(3)

libcurl                                            2025-06-16                                     <u><a href="../man3/libcurl-url.3.html">libcurl-url</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>