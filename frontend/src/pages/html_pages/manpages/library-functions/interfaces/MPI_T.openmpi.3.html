<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>There are a few Open MPI-specific notes worth mentioning about its MPI_T interface implementation.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openmpi-doc">openmpi-doc_5.0.7-1build1_all</a> <br><br><pre>
</pre><h4><b>DESCRIPTION</b></h4><pre>
       There are a few Open MPI-specific notes worth mentioning about its MPI_T interface implementation.

   <b>MPI_T</b> <b>Control</b> <b>Variables</b>
       Open  MPI’s  implementation  of  the  MPI_T  Control Variable (“cvar”) APIs is an interface to Open MPI’s
       underlying Modular Component Architecture (MCA) parameters/variables. Simply put: using  the  MPI_T  cvar
       interface is another mechanism to get/set Open MPI MCA parameters.

       In  order  of  precedence  (highest  to  lowest),  Open  MPI provides the following mechanisms to set MCA
       parameters:

       1. The MPI_T interface has the highest precedence. Specifically: values set via the MPI_T interface  will
          override all other settings.

       2. The <a href="../man1/mpirun.1.html">mpirun</a>(1) / <a href="../man1/mpiexec.1.html">mpiexec</a>(1) command line (e.g., via the –mca parameter).

       3. Environment variables.

       4. Parameter  files  have  the  lowest  precedence.  Specifically:  values set via parameter files can be
          overridden by any of the other MCA-variable setting mechanisms.

   <b>MPI</b> <b>initialization</b>
       An application may use the MPI_T interface before MPI is  initialized  to  set  MCA  parameters.  Setting
       MPI-level  MCA  parameters  before  MPI  is  initialized  may  affect  <u>how</u>  MPI  is initialized (e.g., by
       influencing which frameworks and components are selected).

       The following example sets the pml and btl MCA params before  invoking  <u>MPI_Init</u>  in  order  to  force  a
       specific selection of PML and BTL components:

          int provided, index, count;
          MPI_T_cvar_handle pml_handle, btl_handle;
          char pml_value[64], btl_value[64];

          MPI_T_init_thread(MPI_THREAD_SINGLE, &amp;provided);

          MPI_T_cvar_get_index("pml", &amp;index);
          MPI_T_cvar_handle_alloc(index, NULL, &amp;pml_handle, &amp;count);
          MPI_T_cvar_write(pml_handle, "ob1");

          MPI_T_cvar_get_index("btl", &amp;index);
          MPI_T_cvar_handle_alloc(index, NULL, &amp;btl_handle, &amp;count);
          MPI_T_cvar_write(btl_handle, "tcp,vader,self");

          MPI_T_cvar_read(pml_handle, pml_value);
          MPI_T_cvar_read(btl_handle, btl_value);
          printf("Set value of cvars: PML: %s, BTL: %s\n",
                 pml_value, btl_value);

          MPI_T_cvar_handle_free(&amp;pml_handle);
          MPI_T_cvar_handle_free(&amp;btl_handle);

          MPI_Init(NULL, NULL);

          // ...

          MPI_Finalize();

          MPI_T_finalize();

       Note that once MPI is initialized, most Open MPI cvars become read-only.

       For  example,  after  MPI  is  initialized,  it  is  no  longer possible to set the PML and BTL selection
       mechanisms. This is because many of these MCA parameters are only used during MPI initialization; setting
       them after MPI has already been initialized would be meaningless, anyway.

   <b>MPI_T</b> <b>Categories</b>
       Open MPI’s MPI_T categories are organized hierarchically:

       1. Layer (or “project”). There are two layers in Open MPI:

          • ompi: This layer contains cvars, pvars, and sub categories related to MPI characteristics.

          • opal: This layer generally contains cvars, pvars, and sub categories of  lower-layer  constructions,
            such as operating system issues, networking issues, etc.

       2. Framework or section.

          • In most cases, the next level in the hierarchy is the Open MPI MCA framework.

             • For  example,  you can find the btl framework under the opal layer (because it has to do with the
               underlying networking).

             • Additionally, the pml framework is under the ompi layer (because it has to do with MPI  semantics
               of point-to-point messaging).

          • There are a few non-MCA-framework entities under the layer, however.

             • For  example,  there  is  an mpi section under both the opal and ompi layers for general/core MPI
               constructs.

       3. Component.

          • If relevant, the third level in the hierarchy is the MCA component.

          • For example, the tcp component can be found under the opal framework in the opal layer.

       <b>SEE</b> <b>ALSO:</b>

          • <u>MPI_T_init_thread</u>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2003-2025, The Open MPI Community

                                                  Jun 07, 2025                                          <u><a href="../man3/MPI_T.3.html">MPI_T</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>