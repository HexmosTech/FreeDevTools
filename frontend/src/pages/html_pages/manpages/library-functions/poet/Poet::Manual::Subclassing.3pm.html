<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poet::Manual::Subclassing - Customizing Poet with subclasses</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpoet-perl">libpoet-perl_0.16-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Poet::Manual::Subclassing - Customizing Poet with subclasses

</pre><h4><b>DESCRIPTION</b></h4><pre>
       You can subclass the following Poet classes for your application:

           Poet::Cache
           Poet::Conf
           Poet::Log
           Poet::Mason
           Poet::Import
           Poet::Plack::Request
           Poet::Plack::Response

       and arrange things so that Poet always uses your subclass instead of its default class.

       Place Poet subclasses under "lib/MyApp/Class.pm" in your environment, where "MyApp" is your app name and
       "Class" is the class you are subclassing minus the "Poet" prefix. A few of these subclasses are generated
       for you by "poet new".

       For example, to subclass "Poet::Cache":

           package MyApp::Cache;
           use Poet::Moose;
           extends 'Poet::Cache';

           # put your modifications here

           1;

       (Note: Poet::Moose is Moose plus a few Poet standards. You could also use plain "Moose" here.)

       Poet will automatically detect, load and use any such subclasses. Internally it uses the app_class
       environment method whenever it needs a classname, e.g.

           # Do something with MyApp::Cache or Poet::Cache
           $poet-&gt;app_class('Cache')-&gt;...

   <b>Subclassing</b> <b>Mason</b>
       As long as you have even a bare-bones "Poet::Mason" subclass, e.g.

           package MyApp::Mason;
           use Poet::Moose;
           extends 'Poet::Mason';

           1;

       then your Mason subclasses will be autodetected as well, e.g.

           package MyApp::Mason::Interp;
           use Moose;
           extends 'Mason::Interp';
           # put your modifications here
           1;

       "poet new" will create the bare-bones subclass for you; it is otherwise harmless.

       See Mason::Manual::Subclasses for more information.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Use</b> <b>INI</b> <b>instead</b> <b>of</b> <b>YAML</b> <b>for</b> <b>config</b> <b>files</b>
           package MyApp::Conf;
           use Config::INI;
           use Moose;
           extends 'Poet::Conf';

           override 'read_conf_file' =&gt; sub {
               my ($self, $file) = @_;
               return Config::INI::Reader-&gt;read_file($file);
           };

   <b>Perform</b> <b>tasks</b> <b>before</b> <b>and</b> <b>after</b> <b>each</b> <b>Mason</b> <b>request</b>
           package MyApp::Mason::Request;
           use Moose;
           extends 'Mason::Request';

           override 'run' =&gt; sub {
               my $self = shift;

               # Perform tasks before request
               my $result = super();
               # Perform tasks after request

               return $result;
           };

   <b>Add</b> <b>Perl</b> <b>code</b> <b>to</b> <b>the</b> <b>top</b> <b>of</b> <b>every</b> <b>compiled</b> <b>component</b>
           package MyApp::Mason::Compilation;
           use Moose;
           extends 'Mason::Compilation';

           override 'output_class_header' =&gt; sub {
                return join("\n", super(), 'use Foo;', 'use Bar qw(baz);');
           };

   <b>Use</b> <b>Log::Dispatch</b> <b>instead</b> <b>of</b> <b>Log4perl</b> <b>for</b> <b>logging</b>
           package MyApp::Log;
           use Log::Any::Adapter;
           use Log::Dispatch;
           use Moose;
           extends 'Poet::Log';

           override 'initialize_logging' =&gt; sub {
               my $log = Log::Dispatch-&gt;new( ... );
               Log::Any::Adapter-&gt;set('Dispatch', dispatcher =&gt; $log);
           };

   <b>Add</b> <b>your</b> <b>own</b> <b>$dbh</b> <b>quick</b> <b>var</b>
           package MyApp::Import
           use DBI;
           use Poet::Moose;
           extends 'Poet::Import';

           method provide_dbh ($caller, $poet) {
               $dbh = DBI-&gt;connect(...);
           }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Poet

</pre><h4><b>AUTHOR</b></h4><pre>
       Jonathan Swartz &lt;<a href="mailto:swartz@pobox.com">swartz@pobox.com</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2012 by Jonathan Swartz.

       This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.34.0                                       2022-06-18                     <u>Poet::Manual::<a href="../man3pm/Subclassing.3pm.html">Subclassing</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>