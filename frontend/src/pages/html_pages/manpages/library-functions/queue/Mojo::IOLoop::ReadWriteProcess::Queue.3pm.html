<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mojo::IOLoop::ReadWriteProcess::Queue - Queue for Mojo::IOLoop::ReadWriteProcess objects.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmojo-ioloop-readwriteprocess-perl">libmojo-ioloop-readwriteprocess-perl_0.34-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mojo::IOLoop::ReadWriteProcess::Queue - Queue for Mojo::IOLoop::ReadWriteProcess objects.

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Mojo::IOLoop::ReadWriteProcess qw(queue process);
           my $n_proc = 20;
           my $fired;

           my $q = queue;

           $q-&gt;pool-&gt;<a href="../man2/maximum_processes.2.html">maximum_processes</a>(2); # Max 2 processes in parallel
           $q-&gt;queue-&gt;<a href="../man10/maximum_processes.10.html">maximum_processes</a>(10); # Max queue is 10

           $q-&gt;add( process sub { return 42 } ) for 1..7;

           # Subscribe to all "stop" events in the pool
           $q-&gt;once(stop =&gt; sub { $fired++; });

           # Consume the queue
           $q-&gt;consume();

           my $all = $q-&gt;done; # All processes, Mojo::Collection of Mojo::IOLoop::ReadWriteProcess

           # Set your own running pool
           $q-&gt;pool(parallel sub { return 42 } =&gt; 5);

           # Set your own queue
           $q-&gt;queue(parallel sub { return 42 } =&gt; 20);

           $q-&gt;consume();

</pre><h4><b>METHODS</b></h4><pre>
       Mojo::IOLoop::ReadWriteProcess::Queue inherits all methods from Mojo::Base and implements the following
       new ones.  Note: It proxies all the other methods of Mojo::IOLoop::ReadWriteProcess for the whole process
       group.

   <b>add</b>
           use Mojo::IOLoop::ReadWriteProcess qw(queue process);
           my $q = queue();
           $q-&gt;add(sub { print "Hello 2! " });
           $q-&gt;add(process sub { print "Hello 2! " });

       Add the process to the queue.

   <b>consume</b>
           use Mojo::IOLoop::ReadWriteProcess qw(queue);
           my $q = queue();
           $q-&gt;add(sub { print "Hello 2! " });
           $q-&gt;add(process sub { print "Hello 2! " });
           $q-&gt;consume; # executes and exhaust the processes

       Starts the processes and empties the queue.  Note: maximum_processes can be set both to the pool (number
       of process to be run in parallel), and for the queue (that gets exhausted during the "consume()" phase).

           $q-&gt;pool-&gt;<a href="../man2/maximum_processes.2.html">maximum_processes</a>(2); # Max 2 processes in parallel
           $q-&gt;queue-&gt;<a href="../man10/maximum_processes.10.html">maximum_processes</a>(10); # Max queue is 10

   <b>exhausted</b>
           use Mojo::IOLoop::ReadWriteProcess qw(queue);
           my $q = queue();
           $q-&gt;add(sub { print "Hello 2! " });
           $q-&gt;add(process sub { print "Hello 2! " });
           $q-&gt;consume; # executes and exhaust the processes
           $q-&gt;exhausted; # 1

       Returns 1 if the queue is exhausted.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       You can set the MOJO_PROCESS_MAXIMUM_PROCESSES environment variable to specify the the maximum number of
       processes allowed in the pool and the queue, that are Mojo::IOLoop::ReadWriteProcess::Pool instances.

           MOJO_PROCESS_MAXIMUM_PROCESSES=10000

</pre><h4><b>LICENSE</b></h4><pre>
       Copyright (C) Ettore Di Giacinto.

       This library is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

</pre><h4><b>AUTHOR</b></h4><pre>
       Ettore Di Giacinto &lt;<a href="mailto:edigiacinto@suse.com">edigiacinto@suse.com</a>&gt;

perl v5.36.0                                       2023-10-26              <u>Mojo::IOLoop::...eProcess::<a href="../man3pm/Queue.3pm.html">Queue</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>