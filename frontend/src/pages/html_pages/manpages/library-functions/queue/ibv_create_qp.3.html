<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ibv_create_qp, ibv_destroy_qp - create or destroy a queue pair (QP)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libibverbs-dev">libibverbs-dev_56.1-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ibv_create_qp, ibv_destroy_qp - create or destroy a queue pair (QP)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;infiniband/verbs.h&gt;</b>

       <b>struct</b> <b>ibv_qp</b> <b>*ibv_create_qp(struct</b> <b>ibv_pd</b> <u>*pd</u><b>,</b>
                                    <b>struct</b> <b>ibv_qp_init_attr</b> <u>*qp_init_attr</u><b>);</b>

       <b>int</b> <b>ibv_destroy_qp(struct</b> <b>ibv_qp</b> <u>*qp</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ibv_create_qp()</b>  creates  a  queue  pair  (QP)  associated  with  the protection domain <u>pd</u>.  The argument
       <u>qp_init_attr</u> is an ibv_qp_init_attr struct, as defined in &lt;infiniband/verbs.h&gt;.

       struct ibv_qp_init_attr {
               void                   *qp_context;     /* Associated context of the QP */
               struct ibv_cq          *send_cq;        /* CQ to be associated with the Send Queue (SQ) */
               struct ibv_cq          *recv_cq;        /* CQ to be associated with the Receive Queue (RQ) */
               struct ibv_srq         *srq;            /* SRQ handle if QP is to be associated with an SRQ, otherwise NULL */
               struct ibv_qp_cap       cap;            /* QP capabilities */
               enum ibv_qp_type        qp_type;        /* QP Transport Service Type: IBV_QPT_RC, IBV_QPT_UC, IBV_QPT_UD, IBV_QPT_RAW_PACKET or IBV_QPT_DRIVER */
               int                     sq_sig_all;     /* If set, each Work Request (WR) submitted to the SQ generates a completion entry */
       };

       struct ibv_qp_cap {
               uint32_t                max_send_wr;    /* Requested max number of outstanding WRs in the SQ */
               uint32_t                max_recv_wr;    /* Requested max number of outstanding WRs in the RQ */
               uint32_t                max_send_sge;   /* Requested max number of scatter/gather (s/g) elements in a WR in the SQ */
               uint32_t                max_recv_sge;   /* Requested max number of s/g elements in a WR in the RQ */
               uint32_t                max_inline_data;/* Requested max number of data (bytes) that can be posted inline to the SQ, otherwise 0 */
       };

       The function <b>ibv_create_qp()</b> will update the <u>qp_init_attr</u>-&gt;cap struct with the actual QP values of the QP
       that was created; the values will be greater than or equal to the values requested.

       <b>ibv_destroy_qp()</b> destroys the QP <u>qp</u>.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>ibv_create_qp()</b> returns a pointer to the created QP, or NULL if the request fails.  Check the  QP  number
       (<b>qp_num</b>) in the returned QP.

       <b>ibv_destroy_qp()</b>  returns  0  on  success,  or the value of errno on failure (which indicates the failure
       reason).

</pre><h4><b>NOTES</b></h4><pre>
       <b>ibv_create_qp()</b> will fail if a it is asked to create QP of a type other  than  <b>IBV_QPT_RC</b>  or  <b>IBV_QPT_UD</b>
       associated with an SRQ.

       The  attributes max_recv_wr and max_recv_sge are ignored by <b>ibv_create_qp()</b> if the QP is to be associated
       with an SRQ.

       <b>ibv_destroy_qp()</b> fails if the QP is attached to a multicast group.

       <b>IBV_QPT_DRIVER</b> does not represent a specific service and is used for vendor specific QP logic.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ibv_alloc_pd.3.html">ibv_alloc_pd</a></b>(3), <b><a href="../man3/ibv_modify_qp.3.html">ibv_modify_qp</a></b>(3), <b><a href="../man3/ibv_query_qp.3.html">ibv_query_qp</a></b>(3)

</pre><h4><b>AUTHORS</b></h4><pre>
       Dotan Barak &lt;<a href="mailto:dotanba@gmail.com">dotanba@gmail.com</a>&gt;

libibverbs                                         2006-10-31                                   <u><a href="../man3/IBV_CREATE_QP.3.html">IBV_CREATE_QP</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>