<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       fsync — synchronize changes to a file

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/unistd.h">unistd.h</a>&gt;

       int fsync(int <u>fildes</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>fsync</u>()  function  shall request that all data for the open file descriptor named by <u>fildes</u> is to be
       transferred to the storage device associated with the file  described  by  <u>fildes</u>.   The  nature  of  the
       transfer  is implementation-defined. The <u>fsync</u>() function shall not return until the system has completed
       that action or until an error is detected.

       If _POSIX_SYNCHRONIZED_IO is  defined,  the  <u>fsync</u>()  function  shall  force  all  currently  queued  I/O
       operations  associated  with  the  file  indicated  by  file  descriptor  <u>fildes</u>  to the synchronized I/O
       completion state. All I/O operations shall be completed as defined for synchronized  I/O  file  integrity
       completion.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon  successful  completion,  <u>fsync</u>()  shall  return 0. Otherwise, -1 shall be returned and <u>errno</u> set to
       indicate the error. If the <u>fsync</u>() function fails, outstanding I/O operations are not guaranteed to  have
       been completed.

</pre><h4><b>ERRORS</b></h4><pre>
       The <u>fsync</u>() function shall fail if:

       <b>EBADF</b>  The <u>fildes</u> argument is not a valid descriptor.

       <b>EINTR</b>  The <u>fsync</u>() function was interrupted by a signal.

       <b>EINVAL</b> The <u>fildes</u> argument does not refer to a file on which this operation is possible.

       <b>EIO</b>    An I/O error occurred while reading from or writing to the file system.

       In  the  event  that  any  of  the  queued I/O operations fail, <u>fsync</u>() shall return the error conditions
       defined for <u>read</u>() and <u>write</u>().

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       None.

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       The <u>fsync</u>() function should be used by programs which require modifications to a  file  to  be  completed
       before  continuing;  for  example, a program which contains a simple transaction facility might use it to
       ensure that all modifications to a file or files caused by a transaction are recorded.

</pre><h4><b>RATIONALE</b></h4><pre>
       The <u>fsync</u>() function is intended to force a physical write of data from the buffer cache, and  to  assure
       that  after  a system crash or other failure that all data up to the time of the <u>fsync</u>() call is recorded
       on the disk. Since the concepts of ``buffer cache'', ``system crash'',  ``physical  write'',  and  ``non-
       volatile storage'' are not defined here, the wording has to be more abstract.

       If  _POSIX_SYNCHRONIZED_IO is not defined, the wording relies heavily on the conformance document to tell
       the user what can be expected from the system. It is explicitly intended that a  null  implementation  is
       permitted.  This could be valid in the case where the system cannot assure non-volatile storage under any
       circumstances or when the system is highly fault-tolerant and the functionality is not required.  In  the
       middle  ground between these extremes, <u>fsync</u>() might or might not actually cause data to be written where
       it is safe from a power failure. The conformance document should identify at least that one configuration
       exists (and how to obtain that configuration) where this can be assured for at least some files that  the
       user  can  select  to  use for critical data. It is not intended that an exhaustive list is required, but
       rather sufficient information is provided so that if critical data  needs  to  be  saved,  the  user  can
       determine how the system is to be configured to allow the data to be written to non-volatile storage.

       It is reasonable to assert that the key aspects of <u>fsync</u>() are unreasonable to test in a test suite. That
       does  not  make  the  function  any less valuable, just more difficult to test. A formal conformance test
       should probably force a system crash (power shutdown) during the test for this condition, but it needs to
       be done in such a way that automated testing does not require this to be done except when a formal record
       of the results is being made. It would also not be unreasonable to omit testing for <u>fsync</u>(), allowing  it
       to be treated as a quality-of-implementation issue.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>sync</u>()

       The Base Definitions volume of POSIX.1‐2017, <b>&lt;unistd.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for  Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group Base
       Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical  and  Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE  and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any typographical or formatting errors that appear in this page are most likely to have  been  introduced
       during   the   conversion  of  the  source  files  to  man  page  format.  To  report  such  errors,  see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                         <u><a href="../man3POSIX/FSYNC.3POSIX.html">FSYNC</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>