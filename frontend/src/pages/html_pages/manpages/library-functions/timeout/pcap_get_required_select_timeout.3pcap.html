<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pcap_get_required_select_timeout - get a timeout to be used when doing select() for a live capture</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpcap0.8-dev">libpcap0.8-dev_1.10.5-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pcap_get_required_select_timeout - get a timeout to be used when doing select() for a live capture

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;pcap/pcap.h&gt;</b>

       <b>const</b> <b>struct</b> <b>timeval</b> <b>*pcap_get_required_select_timeout(pcap_t</b> <b>*p);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pcap_get_required_select_timeout</b>()  returns,  on  UNIX,  a pointer to a <b>struct</b> <b>timeval</b> containing a value
       that must be used as the minimum timeout in <b><a href="../man2/select.2.html">select</a></b>(2), <b><a href="../man2/poll.2.html">poll</a></b>(2), <b><a href="../man2/epoll_wait.2.html">epoll_wait</a></b>(2), and  <b><a href="../man2/kevent.2.html">kevent</a></b>(2)  calls,  or
       <b>NULL</b> if there is no such timeout.  If a non-<b>NULL</b> value is returned, it must be used regardless of whether
       <b><a href="../man3PCAP/pcap_get_selectable_fd.3PCAP.html">pcap_get_selectable_fd</a></b>(3PCAP)  returns  <b>-1</b>  for  any  descriptor  on  which  those  calls are being done.
       <b>pcap_get_required_select_timeout</b>() should be called for all <b>pcap_t</b>s before a call  to  <b>select</b>(),  <b>poll</b>(),
       <b>epoll_wait</b>(),  or  <b>kevent</b>(), and any timeouts used for those calls should be updated as appropriate given
       the new value of the timeout.

       For <b>kevent</b>(), one <b>EVFILT_TIMER</b> filter per selectable descriptor  can  be  used,  rather  than  using  the
       timeout argument to <b>kevent</b>(); if the <b>EVFILT_TIMER</b> event for a particular selectable descriptor signals an
       event, <b><a href="../man3PCAP/pcap_dispatch.3PCAP.html">pcap_dispatch</a></b>(3PCAP) should be called for the corresponding <b>pcap_t</b>.

       On  Linux  systems  with  <b><a href="../man2/timerfd_create.2.html">timerfd_create</a></b>(2),  one timer object created by <b>timerfd_create</b>() per selectable
       descriptor can be used, rather than using the timeout argument to <b>epoll_wait</b>(); if the timer object for a
       particular selectable descriptor  signals  an  event,  <b><a href="../man3PCAP/pcap_dispatch.3PCAP.html">pcap_dispatch</a></b>(3PCAP)  should  be  called  for  the
       corresponding <b>pcap_t</b>.

       Otherwise,   a   timeout   value   no   larger   than   the   smallest   of   all  timeouts  returned  by
       <b>pcap_get_required_select_timeout</b>() for devices from which packets will be captured and any other timeouts
       to be used in the call should be used  as  the  timeout  for  the  call,  and,  when  the  call  returns,
       <b><a href="../man3PCAP/pcap_dispatch.3PCAP.html">pcap_dispatch</a></b>(3PCAP)  should  be  called  for  all  <b>pcap_t</b>s  for  which  a non-<b>NULL</b> timeout was returned,
       regardless of whether it's indicated as having anything to read from it or not.

       All devices with a non-<b>NULL</b> timeout must be put in non-blocking mode with <b><a href="../man3PCAP/pcap_setnonblock.3PCAP.html">pcap_setnonblock</a></b>(3PCAP).

       Note that a device on which a read can be done without blocking may, on  some  platforms,  not  have  any
       packets   to   read   if   the  packet  buffer  timeout  has  expired.   A  call  to  <b>pcap_dispatch</b>()  or
       <b><a href="../man3PCAP/pcap_next_ex.3PCAP.html">pcap_next_ex</a></b>(3PCAP) will return <b>0</b> in this case, but will not block.

       <b>pcap_get_required_select_timeout</b>() is not available on Windows.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       A pointer to a <b>struct</b> <b>timeval</b> is returned if the timeout is required; otherwise <b>NULL</b> is returned.

</pre><h4><b>BACKWARD</b> <b>COMPATIBILITY</b></h4><pre>
       This function became available in  libpcap  release  1.9.0.   In  previous  releases,  <b>select</b>(),  <b>poll</b>(),
       <b>epoll_wait</b>(),  and <b>kevent</b>() could not be used for devices that don't provide a selectable file descriptor
       (in other words, on any capture source for that <b>pcap_get_selectable_fd</b>() returns <b>-1</b>).

       In  libpcap  release  1.10.0  and  later,  the  timeout  value  can  change  from  call   to   call,   so
       <b>pcap_get_required_select_timeout</b>()  must be called before each call to <b>select</b>(), <b>poll</b>(), <b>epoll_wait</b>(), or
       <b>kevent</b>(), and the new value must be used to calculate timeouts for the call.  Code that  does  that  will
       also work with libpcap 1.9.x releases, so code using <b>pcap_get_required_select_timeout</b>() should be changed
       to  call  it for each call to <b>select</b>(), <b>poll</b>(), <b>epoll_wait</b>(), or <b>kevent</b>() even if the code must also work
       with libpcap 1.9.x.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3PCAP/pcap.3PCAP.html">pcap</a></b>(3PCAP), <b><a href="../man3PCAP/pcap_get_selectable_fd.3PCAP.html">pcap_get_selectable_fd</a></b>(3PCAP), <b><a href="../man2/select.2.html">select</a></b>(2), <b><a href="../man2/poll.2.html">poll</a></b>(2), <b><a href="../man2/epoll_wait.2.html">epoll_wait</a></b>(2), <b><a href="../man2/kqueue.2.html">kqueue</a></b>(2)

                                                 29 January 2020         <u><a href="../man3PCAP/PCAP_GET_REQUIRED_SELECT_TIMEOUT.3PCAP.html">PCAP_GET_REQUIRED_SELECT_TIMEOUT</a></u>(3PCAP)
</pre>
 </div>
</div></section>
</div>
</body>
</html>