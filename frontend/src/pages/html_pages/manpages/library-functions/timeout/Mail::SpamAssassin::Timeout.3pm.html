<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::SpamAssassin::Timeout - safe, reliable timeouts in perl</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/spamassassin">spamassassin_4.0.1-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::SpamAssassin::Timeout - safe, reliable timeouts in perl

</pre><h4><b>SYNOPSIS</b></h4><pre>
           # non-timeout code...

           my $t = Mail::SpamAssassin::Timeout-&gt;new({ secs =&gt; 5, deadline =&gt; $when });

           $t-&gt;run(sub {
               # code to run with a 5-second timeout...
           });

           if ($t-&gt;timed_out()) {
               # do something...
           }

           # more non-timeout code...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides a safe, reliable and clean API to provide <a href="../man2/alarm.2.html">alarm</a>(2)-based timeouts for perl code.

       Note that $SIG{ALRM} is used to provide the timeout, so this will not interrupt out-of-control regular
       expression matches.

       Nested timeouts are supported.

</pre><h4><b>PUBLIC</b> <b>METHODS</b></h4><pre>
       my $t = Mail::SpamAssassin::Timeout-&gt;new({ ... options ... });
           Constructor.  Options include:

           secs =&gt; $seconds
               time  interval,  in seconds. Optional; if neither "secs" nor "deadline" is specified, no timeouts
               will be applied.

           deadline =&gt; $unix_timestamp
               Unix timestamp (seconds since epoch) when a timeout is  reached  in  the  latest.   Optional;  if
               neither  <b>secs</b>  nor <b>deadline</b> is specified, no timeouts will be applied. If both are specified, the
               shorter interval of the two prevails.

       $t-&gt;run($coderef)
           Run a code reference within the currently-defined timeout.

           The timeout is as defined by the <b>secs</b> and <b>deadline</b> parameters to the constructor.

           Returns  whatever  the  subroutine  returns,  or  "undef"  on  timeout.   If  the  timer  times  out,
           "$t-&gt;timed_out()" will return 1.

           Time  elapsed is not cumulative; multiple runs of "run" will restart the timeout from scratch. On the
           other hand, nested timers do observe outer timeouts if they are shorter, resignalling  a  timeout  to
           the  level  which  established  them,  i.e. code running under an inner timer can not exceed the time
           limit established by an outer timer. When restarting an outer timer on  return,  elapsed  time  of  a
           running code is taken into account.

       $t-&gt;run_and_catch($coderef)
           Run  a  code  reference,  as  per  "$t-&gt;run()",  but  also  catching  any die() calls within the code
           reference.

           Returns "undef" if no die() call was executed and $@ was unset, or the value of $@  if  it  was  set.
           (The timeout event doesn't count as a die().)

       $t-&gt;<b>timed_out()</b>
           Returns 1 if the most recent code executed in run() timed out, or "undef" if it did not.

       $t-&gt;<b>reset()</b>
           If  called  within  a  run()  code  reference,  causes  the current alarm timer to be restored to its
           original setting (useful after our alarm setting was clobbered by some underlying module).

perl v5.40.1                                       2025-06-26                   <u>Mail::SpamAssassin::<a href="../man3pm/Timeout.3pm.html">Timeout</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>