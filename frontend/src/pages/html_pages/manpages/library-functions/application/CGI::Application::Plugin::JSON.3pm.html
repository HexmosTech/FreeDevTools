<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CGI::Application::Plugin::JSON - easy manipulation of JSON headers</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcgi-application-plugin-json-perl">libcgi-application-plugin-json-perl_1.02-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CGI::Application::Plugin::JSON - easy manipulation of JSON headers

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use CGI::Application::Plugin::JSON ':all';

           # add_json_header() is cumulative
           $self-&gt;add_json_header( foo =&gt; 'Lorem ipsum...');
           $self-&gt;add_json_header( bar =&gt; [ 0, 2, 3, 4 ] );
           $self-&gt;add_json_header( baz =&gt; { stuff =&gt; 1, more_stuff =&gt; 2 } );

           # json_header() is not cumulative
           $self-&gt;json_header( foo =&gt; 'Lorem ipsum...');

           # in case we're printing our own headers
           print "X-JSON: " . $self-&gt;json_header_string();

           # clear out everything in the outgoing JSON headers
           $self-&gt;clear_json_header();

           # or send the JSON in the document body
           $self-&gt;json_body( { foo =&gt; 'Lorem ipsum', bar =&gt; [ 0, 2, 3 ] } );

           # send the JSON back in the document body, but execute it using a Javascript callback
           $self-&gt;json_callback('alert', { foo =&gt; 'Lorem ipsum', bar =&gt; [ 0, 2, 3 ] } );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       When communicating with client-side JavaScript, it is common to send data in "X-JSON" HTTP headers or
       through the document body as content-type "application/json".

       This plugin adds a couple of convenience methods to make that just a little bit easier.

</pre><h4><b>HEADER</b> <b>METHODS</b></h4><pre>
   <b>json_header</b>
       This method takes name-value pairs and sets them to be used in the outgoing JSON. It is not cummulative
       and works similarly to "header_props". Use it only if you have all of the values up front. In most cases
       add_json_header is probably what you want.

           # only the 2nd call will actually set data that will be sent
           $self-&gt;json_header( foo =&gt; 'Lorem ipsum...');
           $self-&gt;json_header( bar =&gt; [ 0, 2, 3, 4 ] );

   <b>add_json_header</b>
       This method takes name-value pairs and sets them to be used in the outgoing JSON. It is cummulative and
       works similarly to "header_add"; meaning multiple calls will add to the hash of outgoing values.

           # both 'foo' and 'bar' will exist in the hash sent out
           $self-&gt;json_header( foo =&gt; 'Lorem ipsum...');
           $self-&gt;json_header( bar =&gt; [ 0, 2, 3, 4 ] );

   <b>clear_json_header</b>
       This method will remove anything that was previously set by both json_header and add_json_header. This
       means that no "X-JSON" header will be sent.

   <b>json_header_string</b>
       This method will create the actual HTTP header string that will be sent to the browser. This plugin uses
       it internally to send the header, but it might be useful to use directly if you are printing your own
       HTTP headers (using a "header_type" of "none").

           $self-&gt;header_type('none');
           print $self-&gt;json_header_string();

   <b>json_header_value</b>
       This method will return the values being sent in the JSON header.  If you pass in the key of the value
       you want, you will get just that value. Else all name-value pairs will be returned.

           my $value = $self-&gt;json_header_value('foo');

           my %values = $self-&gt;json_header_value();

</pre><h4><b>BODY</b> <b>METHODS</b></h4><pre>
   <b>json_body</b>
       This method will take the given Perl structure, turn it into JSON, set the appropriate content-type, and
       then return the JSON.

           return $self-&gt;json_body({ foo =&gt; 'stuff', bar =&gt; [0,1,2,3]} );

   <b>json_callback</b>
       This method will take the given Perl structure, turn it into JSON, set the appropriate content-type, and
       then return a Javascript snippet where the given callback is called with the resulting JSON.

           return $self-&gt;json_callback('alert', { foo =&gt; 'stuff', bar =&gt; [0,1,2,3]} );

           # would result in something like the following being sent to the client
           alert({ foo =&gt; 'stuff', bar =&gt; [0,1,2,3]});

</pre><h4><b>MISC</b> <b>METHODS</b></h4><pre>
   <b>to_json</b>
       This method is just a convenient wrapper around JSON::Any's "encode".

   <b>from_json</b>
       This method is just a convenient wrapper around JSON::Any's "decode".

</pre><h4><b>AUTHOR</b></h4><pre>
       Michael Peters, "&lt;<a href="mailto:mpeters@plusthree.com">mpeters@plusthree.com</a>&gt;"

</pre><h4><b>BUGS</b></h4><pre>
       Please report any bugs or feature requests to "<a href="mailto:bug-cgi-application-plugin-viewsource@rt.cpan.org">bug-cgi-application-plugin-viewsource@rt.cpan.org</a>", or
       through the web interface at
       &lt;<a href="http://rt.cpan.org/NoAuth/ReportBug.html">http://rt.cpan.org/NoAuth/ReportBug.html</a>?Queue=CGI-Application-Plugin-JSON&gt;.  I will be notified, and
       then you'll automatically be notified of progress on your bug as I make changes.

</pre><h4><b>COPYRIGHT</b> <b>&amp;</b> <b>LICENSE</b></h4><pre>
       Copyright 2006 Michael Peters, All Rights Reserved.

       This program is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.34.0                                       2022-06-09                <u>CGI::Application::Plugin::<a href="../man3pm/JSON.3pm.html">JSON</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>