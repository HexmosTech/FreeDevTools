<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CGI::Application::Plugin::CAPTCHA - Easily create, use, and verify CAPTCHAs in CGI::Application-based web</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcgi-application-plugin-captcha-perl">libcgi-application-plugin-captcha-perl_0.04-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CGI::Application::Plugin::CAPTCHA - Easily create, use, and verify CAPTCHAs in CGI::Application-based web
       applications.

</pre><h4><b>VERSION</b></h4><pre>
       Version 0.04

</pre><h4><b>SYNOPSIS</b></h4><pre>
           # In your CGI::Application-based web application module. . .
           use CGI::Application::Plugin::CAPTCHA;

           sub setup
           {
               my $self = shift;

               $self-&gt;run_modes([ qw/
                   create
                   # Your other run modes go here
               /]);

               $self-&gt;captcha_config(
                   IMAGE_OPTIONS    =&gt; {
                       width    =&gt; 150,
                       height   =&gt; 40,
                       lines    =&gt; 10,
                       font     =&gt; "/Library/Fonts/Arial",
                       ptsize   =&gt; 18,
                       bgcolor  =&gt; "#FFFF00",
                   },
                   CREATE_OPTIONS   =&gt; [ 'ttf', 'rect' ],
                   PARTICLE_OPTIONS =&gt; [ 300 ],
               );
           }

           # Create a run mode that calls the CAPTCHA creation method...
           sub create
           {
               my $self = shift;
               return $self-&gt;captcha_create;
           }

           # In a template far, far away. . .
           &lt;img src="/delight/Ident/create"&gt; (to generate a CAPTCHA image)

           # Back in your application, to verify the CAPTCHA...
           sub some_other_runmode
           {
               my $self    = shift;
               my $request = $self-&gt;query;

               return unless $self-&gt;captcha_verify($request-&gt;cookie("hash"), $request-&gt;param("verify"));
           }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       "CGI::Application::Plugin::CAPTCHA" allows programmers to easily add and verify CAPTCHAs in their
       CGI::Application-derived web applications.

       A CAPTCHA (or Completely Automated Public Turing Test to Tell Computers and Humans Apart) is an image
       with a random string of characters.  A user must successfully enter the random string in order to submit
       a form.  This is a simple (yet annoying) procedure for humans to complete, but one that is significantly
       more difficult for a form-stuffing script to complete without having to integrate some sort of OCR.

       CAPTCHAs are not a perfect solution.  Any skilled, diligent cracker will eventually be able to bypass a
       CAPTCHA, but it should be able to shut down your average script-kiddie.

       "CGI::Application::Plugin::CAPTCHA" is a wrapper for GD::SecurityImage.  It makes it more convenient to
       access GD::SecurityImage functionality, and gives a more CGI::Application-like way of doing it.

       When a CAPTCHA is created with this module, raw image data is transmitted from your web application to
       the client browser.  A cookie containing a checksum is also transmitted with the image.  When the client
       submits their form for processing (along with their verification of the random string),
       "captcha_verify()" generates a checksum of the verification string the user entered.  If the newly
       generated checksum matches the checksum found in the cookie, we trust that the CAPTCHA has been
       successfully entered, and we allow the user to continue processing their form.

       The checksum is generated by taking the string in question, and joining it with a SECRET. We then
       generate an SHA1 hex digest of the resulting string.  The end user will not be able to generate their own
       checksums to bypass the CAPTCHA check, because they do not know the value of our SECRET.  This means it
       is important to choose a good value for your SECRET.

       An easy way to generate a relatively good secret is to run the following perl snippet:

         perl -MDigest::SHA=sha1_base64 -le 'print sha1_base64($$,time(),<a href="../man9999/rand.9999.html">rand</a>(9999))'

       The author recognizes that the transmission of a cookie with the CAPTCHA image may not be a popular
       decision, and welcomes any patches from those who can provide an equally easy-to-implement solution.

</pre><h4><b>FUNCTIONS</b></h4><pre>
   <b>captcha_config()</b>
       This method is used to customize how new CAPTCHA images will be created.  Values specified here are
       passed along to the appropriate functions in GD::SecurityImage when a new CAPTCHA is created.

       It is recommended that you call "captcha_config()" in the "cgiapp_init()" method of your CGI::Application
       base class, and in the "setup()" method of any derived applications.

       The following parameters are currently accepted:

       <u>IMAGE_OPTIONS</u>

       This specifies what options will be passed to the constructor of GD::SecurityImage.  Please see the
       documentation for GD::SecurityImage for more information.

       <u>CREATE_OPTIONS</u>

       This specifies what options will be passed to the "create()" method of GD::SecurityImage.  Please see the
       documentation for GD::SecurityImage for more information.

       <u>PARTICLE_OPTIONS</u>

       This specifies what options will be passed to the "particle()" method of GD::SecurityImage.  Please see
       the documentation for GD::SecurityImage for more information.

       <u>SECRET</u>

       This specifies the secret that will be used when generating the checksum hash.

   <b>captcha_create()</b>
       Creates the CAPTCHA image, and return a cookie with the encrypted hash of the random string.  Takes no
       arguments.

       The cookie created in this method is named "hash", and contains only the encrypted hash.  Future versions
       of this module will allow you to specify cookie options in greater detail.

   <b>captcha_verify()</b>
       Verifies that the value entered by the user matches what was in the CAPTCHA image.  Argument 1 is the
       encrypted hash from the cookie sent by "captcha_create()", and argument 2 is the value the user entered
       to verify the CAPTCHA image.  Returns true if the CAPTCHA was successfully verified, else returns false.

</pre><h4><b>AUTHOR</b></h4><pre>
       Jason A. Crome, "&lt;<a href="mailto:cromedome@cpan.org">cromedome@cpan.org</a>&gt;"

</pre><h4><b>TODO</b></h4><pre>
       •   Allow "captcha_config()" to take cookie configuration arguments.

       •   Allow  the  plugin  to  actually  create a run mode in your CGI::Application-based webapp without the
           developer having to manually create one.

</pre><h4><b>BUGS</b></h4><pre>
       Please report any  bugs  or  feature  requests  to  "<a href="mailto:bug-cgi-application-plugin-captcha@rt.cpan.org">bug-cgi-application-plugin-captcha@rt.cpan.org</a>",  or
       through                     the                    web                    interface                    at
       &lt;<a href="http://rt.cpan.org/NoAuth/ReportBug.html">http://rt.cpan.org/NoAuth/ReportBug.html</a>?Queue=CGI-Application-Plugin-CAPTCHA&gt;.  I will be notified, and
       then you'll automatically be notified of progress on your bug as I make changes.

</pre><h4><b>CONTRIBUTING</b></h4><pre>
       Patches, questions, and feedback are welcome.

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
       A  big  thanks  to  Cees  Hek  for  providing   a   great   module   for   me   to   borrow   code   from
       (CGI::Application::Plugin::Session),  to  Michael Peters and Tony Fraser for all of their valuable input,
       and to the rest who contributed ideas and criticisms on the CGI::Application mailing list.

       Additional thanks to chorny and Cees for the various bug fixes and patches they have submitted.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       CGI::Application GD::SecurityImage Wikipedia entry for CAPTCHA - &lt;<a href="http://en.wikipedia.org/wiki/Captcha">http://en.wikipedia.org/wiki/Captcha</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>&amp;</b> <b>LICENSE</b></h4><pre>
       Copyright 2005-2011 Jason A. Crome, all rights reserved.

       This program is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

perl v5.36.0                                       2022-12-20             <u>CGI::Application::Plugin::<a href="../man3pm/CAPTCHA.3pm.html">CAPTCHA</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>