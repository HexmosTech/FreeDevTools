<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tspi_Data_Unseal  -  dencrypt  data  encrypted  by  Tspi_Data_Seal() only if it was encrypted on the same</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtspi-dev">libtspi-dev_0.3.15-0.4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tspi_Data_Unseal  -  dencrypt  data  encrypted  by  Tspi_Data_Seal() only if it was encrypted on the same
       platform and under the current configuration.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;tss/platform.h&gt;</b>
       <b>#include</b> <b>&lt;tss/tcpa_defines.h&gt;</b>
       <b>#include</b> <b>&lt;tss/tcpa_typedef.h&gt;</b>
       <b>#include</b> <b>&lt;tss/tcpa_struct.h&gt;</b>
       <b>#include</b> <b>&lt;tss/tss_typedef.h&gt;</b>
       <b>#include</b> <b>&lt;tss/tss_structs.h&gt;</b>
       <b>#include</b> <b>&lt;tss/tspi.h&gt;</b>

       <b>TSS_RESULT</b> <b>Tspi_Data_Unseal(TSS_HENCDATA</b> <u>hEncData</u><b>,</b>              <b>TSS_HKEY</b> <u>hKey</u><b>,</b>
                                   <b>UINT32</b>       <u>pulUnsealedDataLength</u><b>,</b> <b>BYTE**</b>   <u>prgbUnsealedData</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Tspi_Data_Unseal</b> reveals data encrypted by the Tspi_Data_Seal only if it was encrypted on the same  plat‚Äê
       form and the current configuration. This is internally proofed and guaranteed by the TPM.

</pre><h4><b>PARAMETERS</b></h4><pre>
   <b>hEncData</b>
       Handle of the data object which contains the sealed data.

   <b>hKey</b>
       Handle to the key object addressing the nonmigratable key which is used to decrypt the data.

   <b>pulUnsealedDataLength</b>
       The length (in bytes) of the prgbUnsealedData parameter.

   <b>prgbUnsealedData</b>
       On successful completion of the command, this parameter points to a buffer containing the plaintext data.

   <b>hPcrComposite</b>
       Handle  of  the  PCR  Composite object specifying the PCRs which are part of the sealed data blob. Set to
       NULL, if the encrypted data should only be bound to the system and PCRs are not of interest.

</pre><h4><b>RETURN</b> <b>CODES</b></h4><pre>
       <b>Tspi_Data_Unseal</b> returns TSS_SUCCESS on success, otherwise one of the following values are returned:

       TSS_E_INVALID_HANDLE - Either <b>hEncData</b> or <b>hKey</b> is not a valid handle.

       TSS_E_INTERNAL_ERROR - An error occurred internal to the TSS.

</pre><h4><b>CONFORMING</b> <b>TO</b></h4><pre>
       <b>Tspi_Data_Unseal</b> conforms to the Trusted Computing Group Software Specification version 1.1 Golden

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/Tspi_Data_Seal.3.html">Tspi_Data_Seal</a></b>(3).

TSS 1.1                                            2004-05-26                                <u><a href="../man3/Tspi_Data_Unseal.3.html">Tspi_Data_Unseal</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>