<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Embperl::Recipe - base class for defining custom recipes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libembperl-perl">libembperl-perl_2.5.0-16build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Embperl::Recipe - base class for defining custom recipes

</pre><h4><b>SYNOPSIS</b></h4><pre>
          EMBPERL_RECIPE "XSLT Embperl"

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Embperl::Recipe provides basic features that are necessary for createing your own recipes.  To do so you
       have to create a class that provides a "get_recipe" method which returns a array reference that contains
       the description what to do.

   <b>get_recipe</b> <b>($class,</b> <b>$r,</b> <b>$recipe)</b>
       $class
           The class name

       $r  The  Embperl  request  record  object  (Embperl::Req),  maybe  a  derived  object  when running under
           EmbperlObject.

       $recipe
           The name of the recipe

       The function must return an array that describes the desired action.  The array contains a tree structure
       of providers.

   <b>Providers</b>
       file
           read file data

           Parameter:

           filename
               Gives the file to read

       memory
           get data from a scalar

           Parameter:

           source
               Gives the source as a scalar reference

           name
               Gives the name under which this item should be cache

       epparse
           parse file into a Embperl tree structure

           Parameter:

           source
               Gives the source

           syntax
               Syntax to use

       epcompile
           compile Embperl tree structure

           Parameter:

           source
               Gives the source

       eprun
           execute Embperl tree structure

           Parameter:

           source
               Gives the source

           cache_key
               See description of cacheing

           cache_key_options
               See description of cacheing

           cache_key_func
               See description of cacheing

       eptostring
           convert Embperl tree structure to string

           Parameter:

           source
               Gives the source

       libxslt-parse-xml
           parse xml source for libxslt

           Parameter:

           source
               Gives the xml source

       libxslt-compile-xsl
           parse and compile stylesheet for libxslt

           Parameter:

           stylesheet
               Gives the stylesheet source

       libxslt
           do a xsl transformation via libxslt

           Parameter:

           source
               Gives the parsed xml source

           stylesheet
               Gives the compiled stylesheet source

           param
               Gives the parameters as hash ref

       xalan-parse-xml
           parse xml source for xalan

           Parameter:

           source
               Gives the xml source

       xalan-compile-xsl
           parse and compile stylesheet for xalan

           Parameter:

           stylesheet
               Gives the stylesheet source

       xalan
           do a xsl transformation via xalan

           Parameter:

           source
               Gives the parsed xml source

           stylesheet
               Gives the compiled stylesheet source

           param
               Gives the parameters as hash ref

   <b>Cache</b> <b>parameter</b>
       expires_in
       expires_func
       expires_filename
       cache

   <b>Format</b>
       Heres an example that show how the recipe must be build:

         sub get_recipe

           {
           my ($class, $r, $recipe) = @_ ;

           my $param  = $r -&gt; component -&gt; param  ;
           my @recipe ;

           push @recipe, {'type'   =&gt;  'file'      } ;
           push @recipe, {'type'   =&gt;  'epparse'   } ;
           push @recipe, {'type'   =&gt;  'epcompile', cache =&gt; 1 } ;
           push @recipe, {'type'   =&gt;  'eprun'     }  ;

           my $config = $r -&gt; component -&gt; config  ;
           my $xsltproc = $config -&gt; xsltproc ;

           my @stylesheet =
               (
               { type =&gt; 'file',  filename  =&gt; $config -&gt; xsltstylesheet, },
               { type =&gt;  $xsltproc . '-compile-xsl', cache =&gt; 1 },
               ) ;

           push @recipe, {'type'   =&gt;  'eptostring' } ;
           push @recipe, {'type'   =&gt;  $xsltproc . '-parse-xml', } ;
           push @recipe, {'type'   =&gt;  $xsltproc,   stylesheet =&gt; \@stylesheet } ;

           return \@recipe ;
           }

       This corresponds to the following diagramm (when xsltproc = xalan):

           +-------------------+   +--------------------+
           + file {inputfile}  +   +file{xsltstylesheet}+
           +-------------------+   +--------------------+
                 |                         |
                 v                         v
           +-------------------+   +-------------------+
           + xalan-parse-xml   +   + xalan-compile-xsl +
           +-------------------+   +-------------------+
                 |                         |
                 |                         |
                 |         +-----------+   |
                 +-------&gt; + xalan     + &lt;-+
                           +-----------+

       Take a look at the recipes that comes with Embperl to get more ideas what can be done.

perl v5.34.0                                       2022-02-06                                        <u><a href="../man3pm/Recipe.3pm.html">Recipe</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>