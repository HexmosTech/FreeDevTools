<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDL::Options - simplifies option passing by hash in PerlDL</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/pdl">pdl_2.100-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       PDL::Options - simplifies option passing by hash in PerlDL

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use PDL::Options;

         %hash = parse( \%defaults, \%user_options);

         use PDL::Options ();

         $opt = PDL::Options-&gt;new;
         $opt = PDL::Options-&gt;new( \%defaults );

         $opt-&gt;defaults ( \%defaults );
         $opt-&gt;synonyms ( { 'COLOR' =&gt; 'COLOUR' } );

         $hashref = $opt-&gt;defaults;

         $opt-&gt;options ( \%user_options );

         $hashref = $opt-&gt;options;

         $opt-&gt;<a href="../man1/incremental.1.html">incremental</a>(1);
         $opt-&gt;<a href="../man0/full_options.0.html">full_options</a>(0);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Object to simplify option passing for PerlDL subroutines.  Allows you to merge a user defined options
       with defaults.  A simplified (non-OO) interface is provided.

</pre><h4><b>Utility</b> <b>functions</b></h4><pre>
   <b>ifhref</b>
         parse({Ext =&gt; 'TIF', ifhref($opt)});

       just return the argument if it is a hashref otherwise return an empty hashref. Useful in conjunction with
       parse to return just the default values if argument is not a hash ref

</pre><h4><b>NON-OO</b> <b>INTERFACE</b></h4><pre>
       A simplified non-object oriented interface is provided.  These routines are exported into the callers
       namespace by default.

       parse( \%defaults, \%user_options)
           This will parse user options by using the defaults.  The following settings are used for parsing: The
           options  are  case-sensitive, a default synonym table is consulted (see "Default Synonyms"), minimum-
           matching is turned on, and translation of values is not performed.

           A hash (not hash reference) containing the processed options is returned.

             %options = parse( { LINE =&gt; 1, COLOUR =&gt; 'red'}, { COLOR =&gt; 'blue'});

       iparse( \%defaults, \%user_options)
           Same as "parse" but matching is case insensitive

   <b>Default</b> <b>Synonyms</b>
       The following default synonyms are available in the non-OO interface:

         COLOR  =&gt; COLOUR
         COLOUR =&gt; COLOR
         CENTER =&gt; CENTRE
         CENTRE =&gt; CENTER

</pre><h4><b>METHODS</b></h4><pre>
       The following methods are available to PDL::Options objects.

       <b>new()</b>
           Constructor. Creates the object. With an optional argument can also set the default options.

       extend (\%options)
           This will copy the existing options object and extend it with the requested extra options.

       defaults( \%defaults )
           Method to set or return the current defaults. The argument should be a reference to a hash. The  hash
           reference is returned if no arguments are supplied.

           The current values are reset whenever the defaults are changed.

       add_synonym (\%synonyms)
           Method to add another synonym to an option set The argument should be a reference to a hash.

       add_translation (\%translation)
           Method  to  add  another  translation rule to an option set.  The argument should be a reference to a
           hash.

       synonyms( \%synonyms )
           Method to set or return the current synonyms. The argument should be a reference to a hash. The  hash
           reference is returned if no arguments are supplied.

           This  allows  you  to  provide  alternate  keywords  (such as allowing 'COLOR' as an option when your
           defaults uses 'COLOUR').

       current
           Returns the current state of the options. This is returned as a hash reference (although it is not  a
           reference  to  the actual hash stored in the object). If <b>full_options()</b> is true the full options hash
           is returned, if <b>full_options()</b> is false only the modified options are returned (as set  by  the  last
           call to <b>options()</b>).

       clear_current
           This  routine  clears  the 'state' of the "PDL::Options" object so that the next call to current will
           return an empty list

       translation
           Provide translation of options to more specific values that  are  recognised  by  the  program.  This
           allows, for example, the automatic translation of the string 'red' to '#ff0000'.

           This method can be used to setup the dictionary and is hash reference with the following structure:

               OPTIONA =&gt; {
                           'string1' =&gt; decode1,
                           'string2' =&gt; decode2
                           },
               OPTIONB =&gt; {
                           's4' =&gt; decodeb1,
                          }
               etc....

           Where OPTION? corresponds to the top level option name as stored in the defaults array (eg LINECOLOR)
           and the anonymous hashes provide the translation from string1 ('red') to decode1 ('#ff0000').

           An  options  string  will  be  translated  automatically  during  the  main  <b>options()</b>  processing if
           <b>autotrans()</b> is set to true. Else translation can be initiated  by  the  user  using  the  <b>translate()</b>
           method.

       incremental
           Specifies  whether  the user defined options will be treated as additions to the current state of the
           object (1) or modifications to the default values only (0).

           Can be used to set or return this value.  Default is false.

       full_options
           Governs whether a complete set of options is returned (ie defaults + expanded user options), true, or
           if just the expanded user options are returned, false (ie the values specified by the user).

           This can be useful when you are only interested in the changes to the options rather than knowing the
           full state. (For example, if defaults contains keys for COLOUR and LINESTYLE and the user supplied  a
           key  of  COL,  you  may  simply  be interested in the modification to COLOUR rather than the state of
           LINESTYLE and COLOUR.)

           Default is true.

       casesens
           Specifies whether the user defined options will be processed independent of  case  (0)  or  not  (1).
           Default is to be case insensitive.

           Can be used to set or return this value.

       minmatch
           Specifies  whether  the user defined options will be minimum matched with the defaults (1) or whether
           the user defined options should match the default keys exactly. Defaults is true (1).

           If a particular key matches exactly (within the constraints imposed bby case  sensitivity)  this  key
           will  always  be  taken  as  correct  even if others are similar. For example COL would match COL and
           COLOUR but this implementation will always return COL in this case (note that for CO it  will  return
           both COL and COLOUR and pick one at random.

           Can be used to set or return this value.

       autotrans
           Specifies  whether  the user defined options will be processed via the <b>translate()</b> method immediately
           following the main options parsing. Default is to autotranslate (1).

           Can be used to set or return this value.

       casesenstrans
           Specifies whether the keys in the options hash  will  be  matched  insensitive  of  case  (0)  during
           <b>translation()</b> or not (1). Default is to be case insensitive.

           Can be used to set or return this value.

       minmatchtrans
           Specifies whether the keys in the options hash  will be minimum matched during <b>translation()</b>. Default
           is false (0).

           If  a  particular  key matches exactly (within the constraints imposed bby case sensitivity) this key
           will always be taken as correct even if others are similar. For  example  COL  would  match  COL  and
           COLOUR  but  this implementation will always return COL in this case (note that for CO it will return
           both COL and COLOUR and pick one at random.

           Can be used to set or return this value.

       warnonmissing
           Turn on or off the warning message printed when an options is not in the options hash.  This  can  be
           convenient  when  a  user  passes  a set of options that has to be parsed by several different option
           objects down the line.

       debug
           Turn on or off debug messages. Default is off (0).  Can be used to set or return this value.

       options
           Takes a set of user-defined options (as a reference to a hash) and merges them with the current state
           (or the defaults; depends on the state of <b>incremental()</b>).

           The user-supplied keys will be compared with the defaults.  Case sensitivity and minimum matching can
           be configured using the <b>mimatch()</b> and <b>casesens()</b> methods.

           A warning is raised if keys present in the user options  are  not  present  in  the  defaults  unless
           warnonmissing is set.

           A reference to a hash containing the merged options is returned.

             $merged = $opt-&gt;options( { COL =&gt; 'red', Width =&gt; 1});

           The  state  of  the  object can be retrieved after this by using the <b>current()</b> method or by using the
           <b>options()</b> method with no arguments.  If <b>full_options()</b> is true, all  options  are  returned  (options
           plus overrides), if <b>full_options()</b> is false then only the modified options are returned.

           Synonyms are supported if they have been configured via the <b>synonyms()</b> method.

       translate
           Translate  the  current  option  values  (eg  those  set via the <b>options()</b> method) using the provided
           <b>translation()</b>.

           This method updates the current state of the object  and  returns  the  updated  options  hash  as  a
           reference.

               $ref = $opt-&gt;translate;

</pre><h4><b>EXAMPLE</b></h4><pre>
       Two  examples  are shown. The first uses the simplified interface and the second uses the object-oriented
       interface.

</pre><h4><b>Non-OO</b></h4><pre>
          use PDL::Options (':Func');

          %options = parse( {
                          LINE =&gt; 1,
                          COLOUR =&gt; 'red',
                         },
                         {
                          COLOR =&gt; 'blue'
                         }
                       );

       This will return a hash containing

           %options = (
                        LINE =&gt; 1,
                        COLOUR =&gt; 'blue'
                      )

</pre><h4><b>Object</b> <b>oriented</b></h4><pre>
       The following example will try to show the main points:

          use PDL::Options ();

          # Create new object and supply defaults
          $opt = PDL::Options-&gt;new(   { Colour =&gt; 'red',
                                       LineStyle =&gt; 'dashed',
                                       LineWidth =&gt; 1
                                     }
                                  );

          # Create synonyms
          $opt-&gt;synonyms( { Color =&gt; 'Colour' } );

          # Create translation dictionary
          $opt-&gt;translation( { Colour =&gt; {
                                'blue' =&gt; '#0000ff',
                                'red'  =&gt; '#ff0000',
                                'green'=&gt; '#00ff00'
                                       },
                               LineStyle =&gt; {
                                'solid' =&gt; 1,
                                'dashed' =&gt; 2,
                                'dotted' =&gt; 3
                                }
                             }
                           );

          # Generate and parse test hash
          $options = $opt-&gt;options( { Color =&gt; 'green',
                                      lines =&gt; 'solid',
                                     }
                                  );

       When this code is run, $options will be the reference to a hash containing the following:

          Colour =&gt; '#00ff00',
          LineStyle =&gt; 1,
          LineWidth =&gt; 1

       If <b>full_options()</b> was set to false (0), $options would be a reference to a hash containing:

          Colour =&gt; '#00ff00',
          LineStyle =&gt; 1

       Minimum matching and case insensitivity can be configured for  both  the  initial  parsing  and  for  the
       subsequent translating. The translation can be turned off if not desired.

       Currently synonyms are not available for the translation although this could be added quite simply.

</pre><h4><b>AUTHOR</b></h4><pre>
       Copyright  (C)  Tim Jenness 1998 (<a href="mailto:t.jenness@jach.hawaii.edu">t.jenness@jach.hawaii.edu</a>).  All rights reserved. There is no warranty.
       You are allowed to redistribute this software / documentation under certain conditions. For details,  see
       the  file  COPYING  in  the  PDL  distribution.  If this file is separated from the PDL distribution, the
       copyright notice should be included in the file.

perl v5.40.1                                       2025-03-27                                  <u>PDL::<a href="../man3pm/Options.3pm.html">Options</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>