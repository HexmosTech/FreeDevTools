<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ping_setopt - Set options for a liboping object</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liboping-dev">liboping-dev_1.10.0-5build6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ping_setopt - Set options for a liboping object

</pre><h4><b>SYNOPSIS</b></h4><pre>
         #include &lt;oping.h&gt;

         int ping_setopt (pingobj_t *obj, int opt, void *val);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>ping_setopt</b> method sets options that apply to all hosts associated with the object <u>obj</u> and hosts that
       are yet to be added to the object.

       The <u>obj</u> argument is a pointer to an <u>liboping</u> object, as returned by <b><a href="../man3/ping_construct.3.html">ping_construct</a></b>(3).

       The <u>opt</u> argument specifies the option to set. Use one of the following constants. You can check if the
       required constant is supported by the library at compile time using "#ifdef". It is recommended to check
       for desired features using the "OPING_VERSION" define.

       <b>PING_OPT_TIMEOUT</b>
           The time to wait for a "echo reply" to be received; in seconds. In this case the memory pointed to by
           <u>val</u> is interpreted as a double value and must be greater than zero. The default is <b>PING_DEF_TIMEOUT</b>.

       <b>PING_OPT_TTL</b>
           The  value  written into the time-to-live (= TTL) field of generated ICMP packets. The memory pointed
           to by <u>val</u> is interpreted as an integer. Valid values are 1 through 255. Default is <b>PING_DEF_TTL</b>.

       <b>PING_OPT_AF</b>
           The address family to use. The memory pointed to by <u>val</u> is interpreted as  an  integer  and  must  be
           either  <b>AF_UNSPEC</b>,  <b>AF_INET</b>,  or  <b>AF_INET6</b>. This option only affects hosts that are being added <b>after</b>
           this option has been set. Default is <b>PING_DEF_AF</b>. If you change this option, and a source address  is
           set (see <b>PING_OPT_SOURCE</b>) that setting will be reset.

       <b>PING_OPT_DATA</b>
           Set the data to send. The value passed must be a char-pointer to a null-terminated string. By default
           a 56 byte long string is used so that the packet size of an ICMPv4 packet is exactly 64 bytes. That's
           the behavior of the <b><a href="../man1/ping.1.html">ping</a></b>(1) command.

       <b>PING_OPT_SOURCE</b>
           Set  the  source  address to use. The value passed must be a char-pointer to a null-terminated string
           specifying either a numerical network address or  network  hostname.  This  option  will  ignore  the
           address  family  setting (as set with <b>PING_OPT_AF</b>) and will set the object's address family according
           to the source address assigned.

       <b>PING_OPT_DEVICE</b>
           Set the outgoing network device to be used. The value passed  must  be  a  char-pointer  to  a  null-
           terminated  string  specifying  an  interface name (e. g. "eth0"). Please note that this might not be
           supported by all operating systems. In that case,  <b>ping_setopt</b>  sets  the  error  to  "operation  not
           supported".

       <b>PING_OPT_QOS</b>
           Sets  the  <u>Quality</u>  <u>of</u>  <u>Service</u>  flags that should be used when crafting ICMP and ICMPv6 packets. The
           memory pointed to by <u>val</u> is interpreted as a "uint8_t".  The byte is passed to <b><a href="../man2/setsockopt.2.html">setsockopt</a></b>(2)  without
           modification,  using  the  "IP_TOS"  (IPv4)  or  "IPV6_TCLASS"  (IPv6)  option.  It  is  the caller's
           responsibility to chose a valid bit combination. For details,  read  the  <b><a href="../man7/ip.7.html">ip</a></b>(7)  and  <b><a href="../man7/ipv6.7.html">ipv6</a></b>(7)  manual
           pages, as well as <u>RFC</u> <u>2474</u>.

       <b>PING_OPT_MARK</b>
           Mark  (as  in netfilter) outgoing packets using the SO_MARK socket option. Takes an int* pointer as a
           value. Setting this requires CAP_NET_ADMIN under Linux.  Fails  with  "operation  not  supported"  on
           platforms which don't have SO_MARK.

       The  <u>val</u> argument is a pointer to the new value. It must not be NULL. It is dereferenced depending on the
       value of the <u>opt</u> argument, see above. The memory pointed to by <u>val</u> is not changed.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>ping_setopt</b> returns zero upon success or less than zero upon failure.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ping_construct.3.html">ping_construct</a></b>(3), <b><a href="../man3/liboping.3.html">liboping</a></b>(3)

</pre><h4><b>AUTHOR</b></h4><pre>
       liboping is written  by  Florian  "octo"  Forster  &lt;ff  at  octo.it&gt;.   Its  homepage  can  be  found  at
       &lt;<a href="http://noping.cc/">http://noping.cc/</a>&gt;.

       Copyright (c) 2006-2017 by Florian "octo" Forster.

1.10.0                                             2024-10-20                                     <u><a href="../man3/ping_setopt.3.html">ping_setopt</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>