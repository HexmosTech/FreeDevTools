<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       initstate, random, setstate, srandom — pseudo-random number functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;

       char *initstate(unsigned <u>seed</u>, char *<u>state</u>, size_t <u>size</u>);
       long random(void);
       char *setstate(char *<u>state</u>);
       void srandom(unsigned <u>seed</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>random</u>()  function  shall  use  a  non-linear  additive feedback random-number generator employing a
       default state array size of 31 <b>long</b> integers to return successive pseudo-random numbers in the range from
       0 to 231-1. The period of this random-number generator is approximately 16 x (231-1).  The  size  of  the
       state  array  determines the period of the random-number generator. Increasing the state array size shall
       increase the period.

       With 256 bytes of state information, the period of the random-number generator shall be greater than 269.

       Like <u>rand</u>(), <u>random</u>() shall produce by default a sequence of numbers that can be  duplicated  by  calling
       <u>srandom</u>() with 1 as the seed.

       The <u>srandom</u>() function shall initialize the current state array using the value of <u>seed</u>.

       The  <u>initstate</u>()  and  <u>setstate</u>()  functions handle restarting and changing random-number generators. The
       <u>initstate</u>() function allows a state array, pointed to by the <u>state</u> argument, to be initialized for future
       use. The <u>size</u> argument, which specifies the  size  in  bytes  of  the  state  array,  shall  be  used  by
       <u>initstate</u>()  to  decide what type of random-number generator to use; the larger the state array, the more
       random the numbers. Values for the amount of state information are 8, 32, 64, 128, and 256  bytes.  Other
       values greater than 8 bytes are rounded down to the nearest one of these values. If <u>initstate</u>() is called
       with  8≤<u>size</u>&lt;32,  then  <u>random</u>() shall use a simple linear congruential random number generator. The <u>seed</u>
       argument specifies a starting point for the random-number sequence and provides  for  restarting  at  the
       same point. The <u>initstate</u>() function shall return a pointer to the previous state information array.

       If <u>initstate</u>() has not been called, then <u>random</u>() shall behave as though <u>initstate</u>() had been called with
       <u>seed</u>=1 and <u>size</u>=128.

       Once a state has been initialized, <u>setstate</u>() allows switching between state arrays. The array defined by
       the  <u>state</u>  argument  shall  be  used for further random-number generation until <u>initstate</u>() is called or
       <u>setstate</u>() is called again. The <u>setstate</u>() function shall return a pointer to the previous state array.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       If <u>initstate</u>() is called with <u>size</u> less than 8, it shall return NULL.

       The <u>random</u>() function shall return the generated pseudo-random number.

       The <u>srandom</u>() function shall not return a value.

       Upon successful completion, <u>initstate</u>() and <u>setstate</u>() shall return  a  pointer  to  the  previous  state
       array; otherwise, a null pointer shall be returned.

</pre><h4><b>ERRORS</b></h4><pre>
       No errors are defined.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       None.

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       After initialization, a state array can be restarted at a different point in one of two ways:

        1. The <u>initstate</u>() function can be used, with the desired seed, state array, and size of the array.

        2. The  <u>setstate</u>() function, with the desired state, can be used, followed by <u>srandom</u>() with the desired
           seed. The advantage of using both of these functions is that the size of the  state  array  does  not
           have to be saved once it is initialized.

       Although  some  implementations of <u>random</u>() have written messages to standard error, such implementations
       do not conform to POSIX.1‐2008.

       Issue 5 restored the historical behavior of this function.

       Threaded applications should  use  <u>erand48</u>(),  <u>nrand48</u>(),  or  <u>jrand48</u>()  instead  of  <u>random</u>()  when  an
       independent random number sequence in multiple threads is required.

       These  functions  should  be  avoided  whenever  non-trivial  requirements  (including safety) have to be
       fulfilled.

</pre><h4><b>RATIONALE</b></h4><pre>
       None.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>drand48</u>(), <u>rand</u>()

       The Base Definitions volume of POSIX.1‐2017, <b>&lt;stdlib.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                     <u><a href="../man3POSIX/INITSTATE.3POSIX.html">INITSTATE</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>