<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sam_rehister - Register component for health checking</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsam-dev">libsam-dev_3.1.9-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sam_rehister - Register component for health checking

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;corosync/sam.h&gt;</b>

       <b>cs_error_t</b> <b>sam_register</b> <b>(unsigned</b> <b>int</b> <b>*</b><u>instance_id</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>sam_register</b> function is used to register a process for healthchecking.  If recovery policy is set to
       <u>SAM_RECOVERY_POLICY_RESTART</u>  and  recovery  action  will  be  taken,  the new process instance will begin
       execution at the next code line after this function is called.

       This function can be called only once and SAM must be initialized by <b><a href="../man3/sam_initialize.3.html">sam_initialize</a>(3)</b> function.

       The <u>instance_id</u> argument is a pointer to a  value  storing  the  current  iteration  instance.   If  this
       parameter  is  NULL,  no  <u>instance_id</u> is returned.  and then, no <u>instance_id</u> will be returned. This value
       starts at 0 for the first iteration instance, and  increases  by  1  each  time  a  recovery  restart  is
       executed.  After reaching MAX_INT, the instance_id will reset to 0.

       The placement of this function is important because after it is called, the process id will change.

       After registration, event driven health checking is not running.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       This call return CS_OK value if successful, otherwise and error is returned.

</pre><h4><b>ERRORS</b></h4><pre>
       CS_ERR_BAD_HANDLE
              health checking was not started by calling <b><a href="../man3/sam_start.3.html">sam_start</a>(3)</b> function.

       CS_ERR_LIBRARY
              internal library call failed. This can be one of pipe creation or fork.  It's possible to get more
              information from errno.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/sam_start.3.html">sam_start</a></b>(3), <b><a href="../man3/sam_initialize.3.html">sam_initialize</a></b>(3), <b><a href="../man3/sam_hc_callback_register.3.html">sam_hc_callback_register</a></b>(3)

       <b>CS_ERR_TRY_AGAIN</b> Resource temporarily unavailable

       <b>CS_ERR_INVALID_PARAM</b> Invalid argument

       <b>CS_ERR_ACCESS</b> Permission denied

       <b>CS_ERR_LIBRARY</b> The connection failed

       <b>CS_ERR_INTERRUPT</b> System call interrupted by a signal

       <b>CS_ERR_NOT_SUPPORTED</b> The requested protocol/functionality not supported

       <b>CS_ERR_MESSAGE_ERROR</b> Incorrect auth message received

       <b>CS_ERR_NO_MEMORY</b> Not enough memory to complete the requested task

corosync Man Page                                  12/01/2009                                    <u><a href="../man3/SAM_REGISTER.3.html">SAM_REGISTER</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>