<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cache::File::Heap - A file based heap for use by Cache::File</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcache-perl">libcache-perl_2.11-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Cache::File::Heap - A file based heap for use by Cache::File

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Cache::File::Heap;

         $heap = Cache::File::Heap-&gt;new('/path/to/some/heap/file');
         $heap-&gt;add($key, $val);
         ($key, $val) = $heap-&gt;minimum;
         ($key, $val) = $heap-&gt;extract_minimum;
         $heap-&gt;delete($key, $val);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module is a wrapper around a Berkeley DB using a btree structure to implement a heap.  It is
       specifically for use by Cache::File for storing expiry times (although with a bit of work it could be
       made more general).

       See LIMITATIONS below.

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
         my $heap = Cache::File::Heap-&gt;new( [$dbfile] );

       The heap constructor takes an optional argument which is the name of the database file to open.  If
       specified, it will attempt to open the database during construction.  A new Cache::File::Heap blessed
       reference will be returned, or undef if the open failed.

</pre><h4><b>METHODS</b></h4><pre>
       $h-&gt;open($dbfile)
           Opens the specified database file.

       $h-&gt;<b>close()</b>
           Closes  a  previously opened heap database.  Note that the database will be automatically closed when
           the heap reference is destroyed.

       $h-&gt;add($key, $val)
           Adds a key and value pair to the heap.  Currently the key should be a number, whilst the value may be
           any scalar.  Invokes 'die' on failure (use eval to catch it).

       $h-&gt;delete($key, $val)
           Removes a key and value pair from the heap.  Returns 1 if the  pair  was  found  and  removed,  or  0
           otherwise.

       ($key, $val) = $h-&gt;<b>minimum()</b>
           In  list  context, returns the smallest key and value pair from the heap.  In scalar context only the
           key is returned.  Note smallest is defined via a numerical comparison (hence keys  should  always  be
           numbers).

       ($key, $vals) = $h-&gt;<b>minimum_dup()</b>
           In  list  context, returns the smallest key and an array reference containing all the values for that
           key from the heap.  In scalar context only the key is returned.

       ($key, $val) = $h-&gt;<b>extract_minimum()</b>
           As for $h-&gt;<b>minimum()</b>, but the key and value pair is removed from the heap.

       ($key, $vals) = $h-&gt;<b>extract_minimum_dup()</b>
           As for $h-&gt;<b>minimum_dup()</b>, but all the values are removed from the heap.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Cache::File

</pre><h4><b>AUTHOR</b></h4><pre>
        Chris Leishman &lt;<a href="mailto:chris@leishman.org">chris@leishman.org</a>&gt;
        Based on work by DeWitt Clinton &lt;<a href="mailto:dewitt@unto.net">dewitt@unto.net</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
        Copyright (C) 2003-2006 Chris Leishman.  All Rights Reserved.

       This module is distributed on an "AS IS" basis,  WITHOUT  WARRANTY  OF  ANY  KIND,  either  expressed  or
       implied.  This  program  is free software; you can redistribute or modify it under the same terms as Perl
       itself.

       $Id: Heap.pm,v 1.6 2006/01/31 15:23:58 caleishm Exp $

perl v5.34.0                                       2022-06-09                             <u>Cache::File::<a href="../man3pm/Heap.3pm.html">Heap</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>