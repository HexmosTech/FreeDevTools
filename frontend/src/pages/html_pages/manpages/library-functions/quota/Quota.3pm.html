<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quota - Perl interface to file system quotas</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libquota-perl">libquota-perl_1.8.2+dfsg-3build3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Quota - Perl interface to file system quotas

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Quota;

           ($block_curr, $block_soft, $block_hard, $block_timelimit,
            $inode_curr, $inode_soft, $inode_hard, $inode_timelimit) =
           Quota::query($dev [,$uid [,kind]]);

           ($block_curr, $block_soft, $block_hard, $block_timelimit,
            $inode_curr, $inode_soft, $inode_hard, $inode_timelimit) =
           Quota::rpcquery($host, $path [,$uid [,kind]]);

           Quota::rpcpeer([$port [,$use_tcp [,timeout]]]);

           Quota::rpcauth([$uid [,$gid [,$hostname]]]);

           Quota::setqlim($dev, $uid, $block_soft, $block_hard,
                          $inode_soft, $inode_hard [,$tlo [,kind]]);

           Quota::sync([$dev]);

           $arg = Quota::getqcarg([$path]);

           Quota::setmntent();
           ($dev, $path, $type, $opts) = Quota::getmntent();
           Quota::endmntent();

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>Quota</b> module provides access to file system quotas.  The quotactl system call or ioctl is used to
       query or set quotas on the local host, or queries are submitted via RPC to a remote host.  Mount tables
       can be parsed with <b>getmntent</b> and paths can be translated to device files (or whatever the actual <b>quotactl</b>
       implementations needs as argument) of the according file system.

   <b>Functions</b>
       <u>($bc,$bs,$bh,$bt,</u> <u>$ic,$is,$ih,$it)</u> <u>=</u> <u>Quota::query($dev,</u> <u>$uid,</u> <u>$kind)</u>
           Get  current  usage  and quota limits for a given file system and user.  The user is specified by its
           numeric uid; defaults to the process' real uid.

           The type of <u>$dev</u> varies from system to system. It's the  argument  which  is  used  by  the  <b>quotactl</b>
           implementation  to  address  a  specific  file  system.  It  may  be  the path of a device file (e.g.
           <u>/dev/sd0a</u>) or the path of the mount point or the quotas file at the top  of  the  file  system  (e.g.
           <u>/home.stand/quotas</u>).   However  you  do  not  have  to  worry  about  that;  use  <b>Quota::getqcarg</b>  to
           automatically translate any path inside a file system to the required <u>$dev</u> argument.

           <u>$dev</u> may also be in the form of "hostname:path", which has the module transparently query  the  given
           host  via  a remote procedure call (RPC). In case you have <b>NFS</b> (or similar network mounts), this type
           of argument may also be produced by <b>Quota::getqcarg</b>. Note: RPC  queries  require  <u><b><a href="../man1m/rquotad.1m.html">rquotad</a></b>(1m)</u>  to  be
           running on the target system. If the daemon or host are down, the timeout is 12 seconds.

           In  <u>$bc</u> and <u>$ic</u> the current usage in blocks and inodes is returned.  <u>$bs</u> and <u>$is</u> are the soft limits,
           <u>$bh</u> and <u>$ih</u> hard limits. If the soft limit is exceeded, writes by this user will fail for  blocks  or
           inodes after <u>$bt</u> or <u>$it</u> is reached. These times are expressed as usual, i.e. in elapsed seconds since
           00:00 1/Jan/1970 GMT.

           Note:  When  the quota limits are not exceeded, the timestamps are meaningless and should be ignored.
           When hard and soft limits are both zero, this means there  is  no  limit  for  that  user.  (On  some
           platforms  the  query  may  fail  with error code <u>ESRCH</u> in that case; most however still report valid
           usage values.)

           When <u>$kind</u> is given and set to 1, the value in <u>$uid</u> is taken as gid and  group  quotas  are  queried.
           Group quotas may not be supported across all platforms (e.g. Linux and other BSD based Unix variants,
           OSF/1 and  AIX - check the <b><a href="../man2/quotactl.2.html">quotactl</a></b>(2) man page on your systems).

           When  <u>$kind</u>  is  set to 2, project quotas are queried; this is currently only supported for XFS. When
           unsupported, this flag is ignored.

       <u>Quota::setqlim($dev,</u> <u>$uid,</u> <u>$bs,$bh,</u> <u>$is,$ih,</u> <u>$tlo,</u> <u>$kind)</u>
           Sets quota limits for the given user. Meanings of <u>$dev</u>, <u>$uid</u>, <u>$bs</u>, <u>$bh</u>, <u>$is</u> and <u>$ih</u> are the  same  as
           in <b>Quota::query</b>.

           For  file  systems  exceeding 2 TB: To allow passing block or inode values larger or equal to 2^32 on
           32-bit Perl versions, pass them either as strings or floating point.

           <u>$tlo</u> decides how the time limits are initialized: <u>0</u>: The time limits are set to <u>NOT</u> <u>STARTED</u>, i.e. the
           time limits are not initialized until the first write attempt by this user.  This is the default.  <u>1</u>:
           The time limits are set to <u>7.0</u> <u>days</u>.   More  alternatives  (i.e.  setting  a  specific  time)  aren't
           available in most implementations.

           When  <u>$kind</u>  is  given and set to 1, <u>$uid</u> is taken as gid and group quota limits are set. This is not
           supported on all platforms (see above). When <u>$kind</u> is set to 2, project quotas are modified; this  is
           currently only supported for XFS. When unsupported, this flag is ignored.

           Note:  if you want to set the quota of a particular user to zero, i.e.  no write permission, you must
           not set all limits to zero, since that is equivalent to unlimited access. Instead set only  the  hard
           limit to 0 and the soft limit for example to 1.

           Note that you cannot set quotas via RPC.

       <u>Quota::sync($dev)</u>
           Have  the  kernel  update  the quota file on disk or all quota files if no argument given (the latter
           doesn't work on all systems, in particular on <u>HP-UX</u> <u>10.10</u>).

           The main purpose of this function is to check if quota is enabled in the kernel and for a  particular
           file system. Read the <b><a href="../man1m/quotaon.1m.html">quotaon</a>(1m)</b> man page on how to enable quotas on a file system.

           Note:  on some systems this function always returns a success indication, even on partitions which do
           not have quotas enabled (e.g. Linux 2.4).  This is not a bug in this module;  it's  a  limitation  in
           certain kernels.

       <u>($bc,$bs,$bh,$bt,</u> <u>$ic,$is,$ih,$it)</u> <u>=</u>
           <u>Quota::rpcquery($host,$path,$uid,$kind)</u>

           This is equivalent to "Quota::query("$host:$path",$uid,$kind)", i.e.  query quota for a given user on
           a  given  remote  host via RPC.  <u>$path</u> is the path of any file or directory inside the file system on
           the remote host.

           Querying group quotas ($kind = 1) is only recently supported on some platforms  (e.g.  on  Linux  via
           "extended"  quota  RPC,  i.e.  quota  RPC  version 2) so it may fail due to lack of support either on
           client or server side, or both.

       <u>Quota::rpcpeer($port,$use_tcp,timeout)</u>
           Configure parameters for subsequent RPC  queries;  all  parameters  are  optional.   By  default  the
           portmapper  on the remote host is used (i.e. default port is 0, protocol is UDP)  The default timeout
           is 4 seconds.

       <u>Quota::rpcauth($uid,$gid,$hostname)</u>
           Configure authorization parameters for subsequent  RPC  queries;  all  parameters  are  optional.  By
           default  uid  and  gid  are  taken from owner of the process and hostname is the host name of current
           machine.

       <u>$arg</u> <u>=</u> <u>Quota::getqcarg($path)</u>
           Get the required <u>$dev</u> argument for <b>Quota::query</b> and <b>Quota::setqlim</b> for the file system  you  want  to
           operate  on.  <u>$path</u>  is  any  path of an existing file or directory inside that file system. The path
           argument is optional and defaults to the current working directory.

           The type of <u>$dev</u> varies between operating systems, i.e. different  implementations  of  the  quotactl
           functionality.  Hence  it's  important  for  compatibility to always use this module function and not
           really pass a device file to  <b>Quota::query</b>  (as  returned  by  <b>Quota::getdev</b>).   See  also  above  at
           <u>Quota::query</u>

       <u>$dev</u> <u>=</u> <u>Quota::getdev($path)</u>
           Returns the device entry in the mount table for a particular file system, specified by any path of an
           existing file or directory inside it. <u>$path</u> defaults to the working directory. This device entry need
           not  really  be  a device. For example on network mounts (<b>NFS</b>) it's <u>"host:mountpath"</u>, with <u><b><a href="../man1m/amd.1m.html">amd</a></b>(1m)</u> it
           may be something completely different.

           <u>NEVER</u> use this to produce a <u>$dev</u> argument  for  other  functions  of  this  module,  since  it's  not
           compatible.  On  some  systems <u>quotactl</u> does not work on devices but on the <u>quotas</u> file or some other
           kind of argument. Always use <b>Quota::getqcarg</b>.

       <u><b>Quota::setmntent()</b></u>
           Opens or resets the mount table. This is required before the first invocation of <b>Quota::getmntent</b>.

           Note: on some systems there is no equivalent function in the C library.  But you still have  to  call
           this module procedure for initialization of module-internal variables.

       <u>($dev,</u> <u>$path,</u> <u>$type,</u> <u>$opts)</u> <u>=</u> <u><b>Quota::getmntent()</b></u>
           Returns the next entry in the system mount table. This table contains information about all currently
           mounted  (local or remote) file systems.  The format and location of this table (e.g. <u><a href="file:/etc/mtab">/etc/mtab</a></u>) vary
           from system to system. This function is provided as a compatible way to parse it. (On  some  systems,
           like <u>OSF/1</u>, this table isn't accessible as a file at all, i.e. only via <b>Quota::getmntent</b>).

       <u><b>Quota::endmntent()</b></u>
           Close  the  mount  table.  Should  be  called after the last use of <b>Quota::getmntent</b> to free possibly
           allocated file handles and memory.  Always returns undef.

       <u><b>Quota::strerr()</b></u>
           Translates $! to a quota-specific error text. You should always use this  function  to  output  error
           messages,  since  the  normal  messages don't always make sense for quota errors (e.g. <u>ESRCH</u>: <b>No</b> <b>such</b>
           <b>process</b>, here: <b>No</b> <b>quota</b> <b>for</b> <b>this</b> <b>user</b>)

           Note that this function only returns a defined result if you called a Quota command  directly  before
           which returned an error indication.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       Functions  that  are supposed return lists or scalars, return <u>undef</u> upon errors. As usual $! contains the
       error code (see <b>Quota::strerr</b>).

       <b>Quota::endmntent</b> always returns <u>undef</u>.  All other functions  return  0  upon  success,  non-zero  integer
       otherwise.

</pre><h4><b>EXAMPLES</b></h4><pre>
       An  example  for  each  function can be found in the test script <u>test.pl</u>. See also the contrib directory,
       which contains some longer scripts, kindly donated by users of the module.

</pre><h4><b>BUGS</b></h4><pre>
       With remote quotas we have to rely on the remote system to state correctly which  block  size  the  quota
       values  are  referring  to.  Old  versions of the Linux rpc.rquotad reported a block size of 4 kilobytes,
       which was wildly incorrect. For more info on this and other Linux bugs please see INSTALL.

</pre><h4><b>AUTHORS</b></h4><pre>
       This module was created 1995 by T.  Zoerner  (email:  tomzo  AT  users.sourceforge.net)  and  since  then
       continually  improved and ported to many operating- and file-systems. Numerous people have contributed to
       this process; for a complete list of names please see the CHANGES document.

       The quota module was in the public domain 1995-2001. Since 2001  it  is  licensed  under  both  the  Perl
       Artistic  License  and  version  1  or  later  of the GNU General Public License as published by the Free
       Software Foundation.  For a  copy  of  these  licenses  see  &lt;<a href="http://www.opensource.org/licenses/">http://www.opensource.org/licenses/</a>&gt;.   The
       respective authors of the source code are it's owner in regard to copyright.

       A  repository  for sources of this module is at &lt;https://github.com/tomzox/Perl-Quota&gt;. In April 2020 the
       module has been ported to Python: &lt;https://github.com/tomzox/Python-Quota&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/perl.1.html">perl</a></b>(1),  <b><a href="../man1m/edquota.1m.html">edquota</a></b>(1m),  <b><a href="../man2/quotactl.2.html">quotactl</a></b>(2)  or  <a href="../man7I/quotactl.7I.html">quotactl</a>(7I),  <b><a href="../man1m/mount.1m.html">mount</a></b>(1m),  <b><a href="../man4/mtab.4.html">mtab</a></b>(4)  or  <b><a href="../man4/mnttab.4.html">mnttab</a></b>(4),  <b><a href="../man1m/quotaon.1m.html">quotaon</a></b>(1m),
       <b><a href="../man3/setmntent.3.html">setmntent</a></b>(3), <b><a href="../man3/getmntent.3.html">getmntent</a></b>(3) or <b><a href="../man3/getmntinfo.3.html">getmntinfo</a></b>(3), <b><a href="../man3/endmntent.3.html">endmntent</a></b>(3), <b><a href="../man3/rpc.3.html">rpc</a></b>(3), <b><a href="../man1m/rquotad.1m.html">rquotad</a></b>(1m).

perl v5.40.0                                       2024-10-20                                         <u><a href="../man3pm/Quota.3pm.html">Quota</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>