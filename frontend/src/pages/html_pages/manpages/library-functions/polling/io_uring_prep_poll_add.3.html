<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>io_uring_prep_poll_add - prepare a poll request</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liburing-dev">liburing-dev_2.9-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       io_uring_prep_poll_add - prepare a poll request

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/poll.h">poll.h</a>&gt;</b>
       <b>#include</b> <b>&lt;liburing.h&gt;</b>

       <b>void</b> <b>io_uring_prep_poll_add(struct</b> <b>io_uring_sqe</b> <b>*</b><u>sqe</u><b>,</b>
                                   <b>int</b> <u>fd</u><b>,</b>
                                   <b>unsigned</b> <u>poll_mask</u><b>);</b>

       <b>void</b> <b>io_uring_prep_poll_multishot(struct</b> <b>io_uring_sqe</b> <b>*</b><u>sqe</u><b>,</b>
                                         <b>int</b> <u>fd</u><b>,</b>
                                         <b>unsigned</b> <u>poll_mask</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b><a href="../man3/io_uring_prep_poll_add.3.html">io_uring_prep_poll_add</a></b>(3)  function prepares a poll request. The submission queue entry <u>sqe</u> is setup
       to use the file descriptor <u>fd</u> that should get polled, with the events desired specified in the  <u>poll_mask</u>
       argument.

       The  default behavior is a single-shot poll request. When the specified event has triggered, a completion
       CQE is posted and no more events will be generated by the poll request.   <b><a href="../man3/io_uring_prep_poll_multishot.3.html">io_uring_prep_poll_multishot</a></b>(3)
       behaves  identically  in  terms  of events, but it persists across notifications and will repeatedly post
       notifications for the  same  registration.  A  CQE  posted  from  a  multishot  poll  request  will  have
       <b>IORING_CQE_F_MORE</b>  set  in  the  CQE  <u>flags</u>  member,  indicating  that the application should expect more
       completions from this request. If the multishot poll request gets terminated  or  experiences  an  error,
       this  flag  will  not  be set in the CQE. If this happens, the application should not expect further CQEs
       from the original request and must reissue a new one if it still wishes to get notifications on this file
       descriptor.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       None

</pre><h4><b>ERRORS</b></h4><pre>
       The CQE <u>res</u> field will contain the result of the operation, which is a bitmask of  the  events  notified.
       See  the <b><a href="../man2/poll.2.html">poll</a></b>(2) man page for details. Note that where synchronous system calls will return <b>-1</b> on failure
       and set <u>errno</u> to the actual error value, io_uring never uses <u>errno</u>.  Instead it returns the negated <u>errno</u>
       directly in the CQE <u>res</u> field.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/io_uring_get_sqe.3.html">io_uring_get_sqe</a></b>(3), <b><a href="../man3/io_uring_submit.3.html">io_uring_submit</a></b>(3), <b><a href="../man2/poll.2.html">poll</a></b>(2), <b><a href="../man3/epoll_ctl.3.html">epoll_ctl</a></b>(3)

liburing-2.2                                     March 12, 2022                        <u><a href="../man3/io_uring_prep_poll_add.3.html">io_uring_prep_poll_add</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>