<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>io_uring_prep_poll_update - update an existing poll request</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liburing-dev">liburing-dev_2.9-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       io_uring_prep_poll_update - update an existing poll request

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/poll.h">poll.h</a>&gt;</b>
       <b>#include</b> <b>&lt;liburing.h&gt;</b>

       <b>void</b> <b>io_uring_prep_poll_update(struct</b> <b>io_uring_sqe</b> <b>*</b><u>sqe</u><b>,</b>
                                      <b>__u64</b> <u>old_user_data</u><b>,</b>
                                      <b>__u64</b> <u>new_user_data</u><b>,</b>
                                      <b>unsigned</b> <u>poll_mask</u><b>,</b>
                                      <b>unsigned</b> <u>flags</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b><a href="../man3/io_uring_prep_poll_update.3.html">io_uring_prep_poll_update</a></b>(3) function prepares a poll update request. The submission queue entry <u>sqe</u>
       is setup to update a poll request identified  by  <u>old_user_data</u>,  replacing  it  with  the  <u>new_user_data</u>
       information.  The  <u>poll_mask</u>  arguments  contains  the  new  mask  to use for the poll request, and <u>flags</u>
       argument contains modifier flags telling io_uring what fields to update.

       The <u>flags</u> modifier flags is a bitmask and may contain and OR'ed mask of:

       <b>IORING_POLL_UPDATE_EVENTS</b>
              If set, the poll update request will replace the existing events being waited for  with  the  ones
              specified  in  the  <u>poll_mask</u> argument to the function. Note that only the lower 16 bits of events
              can be updated. This includes things like <b>EPOLLIN</b> and <b>EPOLLOUT</b> <b>.</b>  Higher order masks/settings  are
              included  as  internal  state,  and cannot be modified. That includes settings like <b>EPOLLONESHOT</b> <b>,</b>
              <b>EPOLLEXCLUSIVE</b> <b>,</b> and <b>EPOLLET</b> <b>.</b>  If an application wishes to modify these,  it  must  cancel/remove
              the existing poll request and arm a new one.

       <b>IORING_POLL_UPDATE_USER_DATA</b>
              If  set,  the poll update request will update the existing user_data of the request with the value
              passed in as the <u>new_user_data</u> argument.

       <b>IORING_POLL_ADD_MULTI</b>
              If set, this will change the poll request from a singleshot to a multishot request. This  must  be
              used along with <b>IORING_POLL_UPDATE_EVENTS</b> as the event field must be updated to enable multishot.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       None

</pre><h4><b>ERRORS</b></h4><pre>
       These are the errors that are reported in the CQE <u>res</u> field. On success, <b>0</b> is returned.

       <b>-ENOENT</b>
              The  request  identified  by  <u>user_data</u>  could  not be located. This could be because it completed
              before the cancelation request was issued, or if an invalid identifier is used.

       <b>-EINVAL</b>
              One of the fields set in the SQE was invalid.

       <b>-EALREADY</b>
              The execution state of the request has  progressed  far  enough  that  cancelation  is  no  longer
              possible.  This  should  normally  mean  that  it  will  complete shortly, either successfully, or
              interrupted due to the cancelation.

       <b>-ECANCELED</b>
              <b>IORING_POLL_UPDATE_EVENTS</b> was set and an error occurred re-arming the poll request  with  the  new
              mask.   The  original  poll  request  is terminated if this happens, and that termination CQE will
              contain the reason for the error re-arming.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/io_uring_get_sqe.3.html">io_uring_get_sqe</a></b>(3), <b><a href="../man3/io_uring_submit.3.html">io_uring_submit</a></b>(3), <b><a href="../man3/io_uring_prep_poll_add.3.html">io_uring_prep_poll_add</a></b>(3), <b><a href="../man3/io_uring_prep_poll_multishot.3.html">io_uring_prep_poll_multishot</a></b>(3)

liburing-2.2                                     March 12, 2022                     <u><a href="../man3/io_uring_prep_poll_update.3.html">io_uring_prep_poll_update</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>