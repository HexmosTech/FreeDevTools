<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flickr::API - Perl interface to the Flickr API</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libflickr-api-perl">libflickr-api-perl_1.29-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Flickr::API - Perl interface to the Flickr API

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Using</b> <b>OAuth</b> <b>to</b> <b>call</b> <b>a</b> <b>method</b> <b>not</b> <b>requiring</b> <b>authentication</b>
         use Flickr::API;

         my $api = Flickr::API-&gt;new({
               'consumer_key'    =&gt; 'your_api_key',
               'consumer_secret' =&gt; 'your_app_secret',
           });

         my $response = $api-&gt;execute_method('flickr.test.echo', {
               'foo' =&gt; 'bar',
               'baz' =&gt; 'quux',
           });

         my $config_file = $HOME/saved-flickr.st;
         $api-&gt;export_storable_config($config_file);

   <b>Non-OAuth</b> <b>method</b> <b>calling</b> <b>method</b> <b>not</b> <b>requiring</b> <b>authentication</b>
         use Flickr::API;

         # key deprecated in favor of api_key
         # secret deprecated in favor of api_secret
         #
         my $api = Flickr::API-&gt;new({
               'api_key'    =&gt; 'your_api_key',
               'api_secret' =&gt; 'your_app_secret',
           });

         my $response = $api-&gt;execute_method('flickr.test.echo', {
               'foo' =&gt; 'bar',
               'baz' =&gt; 'quux',
           });

   <b>Alternatively,</b> <b>Using</b> <b>OAuth</b> <b>for</b> <b>non-authenticated</b> <b>request</b>
         use Flickr::API;
         use Flickr::API::Request;

         my $api = Flickr::API-&gt;new({'consumer_key' =&gt; 'your_api_key','consumer_secret' =&gt; 'your_app_secret'});

         my $request = Flickr::API::Request-&gt;new({
               'method' =&gt; 'flickr.test.echo',
               'args' =&gt; {},
           });

         my $response = $api-&gt;execute_request($request);

   <b>Authenticate</b> <b>an</b> <b>OAuth</b> <b>API</b> <b>Object</b> <b>starting</b> <b>with</b> <b>saved</b> <b>configuration</b>
         use Flickr::API;
         use Term::ReadLine;

         my $config_file = "$ENV{HOME}/saved-flickr.st";
         my $term   = Term::ReadLine-&gt;new('Testing Flickr::API');
         $term-&gt;<a href="../man0/ornaments.0.html">ornaments</a>(0);

         my $api = Flickr::API-&gt;import_storable_config($config_file);

         my $rt_rc =  $api-&gt;oauth_request_token( { 'callback' =&gt; 'https://127.0.0.1/' } );

         my %request_token;
         if ( $rt_rc eq 'ok' ) {

             my $uri = $api-&gt;oauth_authorize_uri({ 'perms' =&gt; 'read' });

             my $prompt = "\n\n$uri\n\n" .
                 "Copy the above url to a browser, and authenticate with Flickr\n" .
                 "Press [ENTER] once you get the redirect: ";
             my $input = $term-&gt;readline($prompt);

             $prompt = "\n\nCopy the redirect URL from your browser and enter it\nHere: ";
             $input = $term-&gt;readline($prompt);

             chomp($input);

             my ($callback_returned,$token_received) = split(/\?/,$input);
             my (@parms) = split(/\&amp;/,$token_received);
             foreach my $pair (@parms) {

                 my ($key,$val) = split(/=/,$pair);
                 $key =~ s/oauth_//;
                 $request_token{$key}=$val;

             }
         }

         my $ac_rc = $api-&gt;oauth_access_token(\%request_token);
         if ( $ac_rc eq 'ok' ) {

             $api-&gt;export_storable_config($config_file);

             my $response = $api-&gt;execute_method('flickr.auth.oauth.checkToken');
             my $hash_ref = $response-&gt;as_hash();

             $response    = $api-&gt;execute_method('flickr.prefs.getPrivacy');
             my $rsp_node = $response-&gt;as_tree();
         }

   <b>The</b> <b>OAuth</b> <b>authorization</b> <b>uri</b> <b>will</b> <b>look</b> <b>something</b> <b>like:</b>
         https://api.flickr.com/services/oauth/authorize?oauth_token=12345678901234567-890abcdefedcba98&amp;perms=read

   <b>The</b> <b>callback</b> <b>is</b> <b>called</b> <b>with</b> <b>a</b> <b>token</b> <b>and</b> <b>verifier</b> <b>such</b> <b>as:</b>
         https://127.0.0.1/?oauth_token=12345678901234567-890abcdefedcba98&amp;oauth_verifier=cafe12345678feed

</pre><h4><b>DESCRIPTION</b></h4><pre>
       An interface for using the Flickr API.

       "Flickr::API" is a subclass of LWP::UserAgent, so all of the various proxy, request limits, caching, etc
       are available. "Flickr::API" can instantiate using either the Flickr Authentication (deprecated) or the
       OAuth Authentication. OAuth is handled using Net::OAuth.

</pre><h4><b>SUBROUTINES/METHODS</b></h4><pre>
       "new({ opt =&gt; 'value', ... })"
           Returns as new Flickr::API object. The options are as follows:

           either "api_key" for the Flickr auth or "consumer_key" for OAuth
               Your API key (one or the other form is required)

           either "api_secret" for the Flickr auth or "consumer_secret" for OAuth
               Your API key's secret (the one matching the api_key/consumer_key is required)

           "rest_uri" &amp; "auth_uri"
               Override the URIs used for contacting the API.

           "lwpobj"
               Base  the  "Flickr::API"  on  this  object, instead of creating a new instance of LWP::UserAgent.
               This is useful for using the features of e.g. LWP::UserAgent::Cached.

           "unicode"
               This flag controls whether Flickr::API expects you to pass UTF-8 bytes (unicode=0,  the  default)
               or actual unicode strings (unicode=1) in the request.

           "nonce", "timestamp", "request_method", "signature_method", "request_url"
               These values are used by Net::OAuth to assemble and sign OAuth <u>consumer</u> request Flickr API calls.
               The defaults are usually fine.

           "callback"
               The  callback  is used in oauth authentication. When Flickr authorizes you, it returns the access
               token and access token secret in a callback URL. This defaults to https://127.0.0.1/

           "token" and "token_secret"
               These values are used by Net::OAuth to assemble and sign OAuth <u>protected</u> <u>resource</u> request  Flickr
               API calls.

       "execute_method($method, $args)"
           Constructs a Flickr::API::Request object and executes it, returning a Flickr::API::Response object.

       execute_request($request)
           Executes a Flickr::API::Request object, returning a Flickr::API::Response object. Calls are signed if
           a secret was specified when creating the Flickr::API object.

       "request_auth_url($perms,$frob)"
           Returns  a  URI object representing the URL that an application must redirect a user to for approving
           an authentication token.

           $perms must be <b>read</b>, <b>write</b>, or <b>delete</b>.

           For web-based applications <u>$frob</u> is an optional parameter.

           Returns undef if a secret was not specified when creating the "Flickr::API" object.

       "export_config([$type,$params])"
           Returns a hash of all or part of the persistent parts  of  the  Flickr::API  object  with  additional
           behaviors for Flickr::API objects using OAuth.

           oauth message type: one of "Consumer", "Protected Resource", "Request Token", "Authorize User" or
           "Access Token"
               This is one of the the message type that Net::OAuth handles. Message type is optional.

           oauth parameter set: "message" or "API" or undef.
               Net::OAuth  will  return message params, api params or all params depending on what is requested.
               All params is the default.

           If the Flickr::API object identifies as Flickr original authentication, return a hashref

             $VAR1 = {
                       'frob' =&gt; '12332112332112300-feedabcde123456c-1234567',
                       'api_key' =&gt; 'cafefeedbeef13579246801234567890',
                       'api_secret' =&gt; 'beef321432154321',
                       'token' =&gt; '97531086421234567-cafe123456789abc'
                     };

           or the subset thereof depending on what has been used by the API. If the older form of key/secret was
           used, the constructor will change these to the api_key/api_secret forms.

           If the API object  identifies  as  OAuth  authentication,  and  "message  type"  is  specified,  then
           export_config  will  return a hash of the OAuth parameters for the specified Net::OAuth message type.
           Further, if parameter is specified, then export_config returns  either  either  the  set  of  <b>message</b>
           parameters  or <b>api</b> parameters for the message type. If parameter is not specified then both parameter
           type are returned. For example:

             my %config = $api-&gt;export_config('protected resource');

           or

             my %config = $api-&gt;export_config('protected resource','message');

           When export_config is called without arguments, then it returns the OAuth portion of the  Flickr::API
           object. If present the Net::OAuth <u>Request</u> <u>Token</u> and <u>Access</u> <u>Token</u> objects are also included.

             VAR1 = {
                       'access_token' =&gt; bless( {
                                                  'extra_params' =&gt; {
                                                                      'fullname' =&gt; 'Louis',
                                                                      'user_nsid' =&gt; '12345678@N00',
                                                                      'username' =&gt; 'meanameicallmyself'
                                                                    },
                                                  'from_hash' =&gt; 1,
                                                  'token' =&gt; '12345678901234567-cafe123098765432',
                                                  'token_secret' =&gt; 'eebeef000fedbca1'
                                                }, 'Net::OAuth::AccessTokenResponse' ),
                       'callback' =&gt; 'https://127.0.0.1',
                       'consumer_key' =&gt; 'cafefeedbeef13579246801234567890',
                       'consumer_secret' =&gt; 'fedcba9876543210',
                       'nonce' =&gt; '917fa882fa7babd5a1b7702e7d19502a',
                       'request_method' =&gt; 'GET',
                       'request_url' =&gt; 'https://api.flickr.com/services/rest/',
                       'signature_method' =&gt; 'HMAC-SHA1',
                       'timestamp' =&gt; 1436129308,
                       'token' =&gt; '12345678901234567-cafe123098765432',
                       'token_secret' =&gt; 'eebeef000fedbca1',
                       'version' =&gt; '1.0'
                     };

             my %config = $api-&gt;export_config();

       This method can be used to extract and save the API parameters for future use.

       export_storable_config(filename)
           This  method  wraps export_config with a file open and storable store_fd to add some persistence to a
           Flickr::API object.

       import_storable_config(filename)
           This method retrieves a storable config of a Flickr::API object and revivifies the object.

       get_oauth_request_type()
           Returns the oauth request type in  the  Flickr::API  object.  Some  Flickr  methods  will  require  a
           "protected resource" request type and others a simple "consumer" request type.

       oauth_request_token(\%args)
           Assembles,  signs,  and  makes  the OAuth <b>Request</b> <b>Token</b> call, and if successful stores the Net::OAuth
           <u>Request</u> <u>Token</u> in the Flickr::API object.

           The required parameters are:

           "consumer_key"
               Your API Key

           "consumer_secret"
               Your API Key's secret

           "request_method"
               The URI Method: GET or POST

           "request_url"
               Defaults to: &lt;https://api.flickr.com/services/oauth/request_token&gt;

       "flickr_access_token"
           The required parameters are:

           "key"
       oauth_access_token(\%args)
           Assembles, signs, and makes the OAuth <b>Access</b> <b>Token</b> call, and  if  successful  stores  the  Net::OAuth
           <u>Access</u> <u>Token</u> in the Flickr::API object.

           The required parameters are:

           "consumer_key"
               Your API Key

           "consumer_secret"
               Your API Key's secret

           "request_method"
               The URI Method: GET or POST

           "request_url"
               Defaults to: &lt;https://api.flickr.com/services/oauth/access_token&gt;

           "token_secret"
               The   request   token  secret  from  the  Net::OAuth  <u>Request</u>  <u>Token</u>  object  returned  from  the
               <u>oauth_request_token</u> call.

       oauth_authorize_uri(\%args)
           Returns a URI object representing the URL that an application must redirect a user to for approving a
           request token.

           "perms"
               Permission the application is requesting, one of <b>read,</b> <b>write,</b> <b>or</b> <b>delete</b>, defaults to <b>read</b>.

       "is_oauth"
           Returns <b>1</b> if the Flickr::API object is OAuth flavored, <b>0</b> otherwise.

</pre><h4><b>AUTHOR</b></h4><pre>
       Cal Henderson, &lt;<a href="mailto:cal@iamcal.com">cal@iamcal.com</a>&gt;

       Auth API patches provided by Aaron Straup Cope

       Subclassing patch from AHP

       OAuth patches and additions Louis B. Moore &lt;<a href="mailto:lbmoore@cpan.org">lbmoore@cpan.org</a>&gt;

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2004-2013, Cal Henderson, &lt;<a href="mailto:cal@iamcal.com">cal@iamcal.com</a>&gt;

       OAuth patches and additions Copyright (C) 2014-2016 Louis B. Moore &lt;<a href="mailto:lbmoore@cpan.org">lbmoore@cpan.org</a>&gt;

       This program is released under the Artistic License 2.0 by The Perl Foundation.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Flickr::API::Request,      Flickr::API::Response,       Net::OAuth,       XML::Parser::Lite,       Flickr
       &lt;<a href="http://www.flickr.com/">http://www.flickr.com/</a>&gt;,                                           &lt;<a href="http://www.flickr.com/services/api/">http://www.flickr.com/services/api/</a>&gt;
       &lt;https://www.flickr.com/services/api/auth.oauth.html&gt; &lt;https://github.com/iamcal/perl-Flickr-API&gt;

perl v5.40.1                                       2025-05-04                                   <u>Flickr::<a href="../man3pm/API.3pm.html">API</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>