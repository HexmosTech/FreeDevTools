<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Courier::Filter::Module::SPFout - Outbound SPF filter module for the Courier::Filter framework</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/courier-filter-perl">courier-filter-perl_0.200+ds-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Courier::Filter::Module::SPFout - Outbound SPF filter module for the Courier::Filter framework

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Courier::Filter::Module::SPFout;

           my $module = Courier::Filter::Module::SPFout-&gt;new(
               match_on            =&gt; ['fail', 'permerror', 'temperror'],
               default_response    =&gt; $default_response_text,
               force_response      =&gt; $force_response_text,
               outbound_ip_addresses
                                   =&gt; ['129.257.16.1', '2001:6ag:10e1::1'],
               spf_options         =&gt; {
                   # any Mail::SPF::Server options
               },

               logger      =&gt; $logger,
               inverse     =&gt; 0,
               trusting    =&gt; 0,
               testing     =&gt; 0,
               debugging   =&gt; 0
           );

           my $filter = Courier::Filter-&gt;new(
               ...
               modules     =&gt; [ $module ],
               ...
           );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class is a filter module for use with Courier::Filter.  It matches a message if any of the receiving
       (local) machine's outbound IP addresses are <u>not</u> authorized to send mail from the envelope sender's (MAIL
       FROM) domain according to that domain's DNS SPF (Sender Policy Framework) record.  This is <u>outbound</u> SPF
       checking.

       The point of inbound SPF checking is for message submission agents (MSAs, smarthosts) to protect <u>others</u>
       against forged envelope sender addresses in messages submitted by the MSA's users.

   <b>Constructor</b>
       The following constructor is provided:

       <b>new(%options)</b>: returns <u>Courier::Filter::Module::SPFout</u>
           Creates a new <b>SPFout</b> filter module.

           %options is a list of key/value pairs representing any of the following options:

           <b>trusting</b>
               <u>Disabled</u>.  Since <u>outbound</u> SPF checking, as opposed to <u>inbound</u> SPF checking, is applied to trusted
               (authenticated)  messages  only,  setting  this  module to be <b>trusting</b> does not make sense.  This
               property is thus locked to <b>false</b>.  Also  see  the  description  of  Courier::Message's  "trusted"
               property .

           <b>match_on</b>
               A  reference  to  an  array  containing the set of SPF result codes which should cause the filter
               module to match a message.  Possible result codes  are  "pass",  "fail",  "softfail",  "neutral",
               "none",  "permerror",  and  "temperror".  See the SPF specification for details on the meaning of
               those.  If "temperror" is listed,  an  "temperror"  result  will  by  definition  never  cause  a
               <u>permanent</u> rejection, but only a <u>temporary</u> one.  Defaults to <b>['fail',</b> <b>'permerror',</b> <b>'temperror']</b>.

               <u>Note</u>:   With  early SPF specification drafts as well as the obsolete Mail::SPF::Query module, the
               "permerror" and "temperror" result codes were known as "unknown" and "error",  respectively;  the
               old codes are now deprecated but still supported for the time being.

           <b>default_response</b>
               A string that is to be returned as the module's match result in case of a match, that is when the
               "match_on"  option includes the result code of the SPF check (by default when a message fails the
               SPF check).  However, this default response is used only if the (claimed) envelope sender  domain
               does  not provide an explicit response.  See "default_authority_explanation" in Mail::SPF::Server
               for more information.

               SPF macro substitution is performed on the default response, just like on  explanations  provided
               by domain owners.  If <b>undef</b>, Mail::SPF's default explanation will be used.  Defaults to <b>undef</b>.

           <b>force_response</b>
               Instead  of  merely  specifying  a  default  response  for cases where the sender domain does not
               provide an explicit response, you can also specify a response to be used in <u>all</u>  cases,  even  if
               the  sender  domain  does provide one.  This may be useful if you do not want to confuse your own
               users with <u>3rd-party</u> provided explanations when in fact they are only dealing  with  <u>your</u>  server
               not wanting to relay their messages.  Defaults to <b>undef</b>.

           <b>outbound_ip_addresses</b>
               A  reference  to an array containing the local system's set of outbound IP addresses that will be
               assumed as the sender IP address in outbound SPF checks.  This set should include <u>all</u>  public  IP
               addresses  that  are  used  for  relaying mail.  By default, automatic discovery of one public IP
               address that is "en route" to "the internet" is attempted for  each  of  IPv4  and  IPv6.   Auto-
               discovery does not work from behind NATs.

           <b>spf_options</b>
               A  hash-ref  specifying  options for the Mail::SPF server object used by this filter module.  See
               "new" in Mail::SPF::Server for the supported options.

           All options of the <b>Courier::Filter::Module</b> constructor (except for  the  <b>trusting</b>  option)  are  also
           supported.  Please see "new" in Courier::Filter::Module for their descriptions.

   <b>Instance</b> <b>methods</b>
       See "Instance methods" in Courier::Filter::Module for a description of the provided instance methods.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Courier::Filter::Module::SPF, Courier::Filter::Module, Courier::Filter::Overview, Mail::SPF.

       For AVAILABILITY, SUPPORT, and LICENSE information, see Courier::Filter::Overview.

</pre><h4><b>REFERENCES</b></h4><pre>
       <b>SPF</b> <b>website</b> (Sender Policy Framework)
           &lt;<a href="http://www.openspf.org">http://www.openspf.org</a>&gt;

       <b>SPF</b> <b>specification</b>
           &lt;<a href="http://www.openspf.org/Specifications">http://www.openspf.org/Specifications</a>&gt;

</pre><h4><b>AUTHOR</b></h4><pre>
       Julian Mehnle &lt;<a href="mailto:julian@mehnle.net">julian@mehnle.net</a>&gt;

perl v5.20.2                                       2015-11-28               <u>Courier::Filter::Module::<a href="../man3pm/SPFout.3pm.html">SPFout</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>