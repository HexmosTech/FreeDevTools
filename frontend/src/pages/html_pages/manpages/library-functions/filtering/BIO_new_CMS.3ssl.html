<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIO_new_CMS - CMS streaming filter BIO</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       BIO_new_CMS - CMS streaming filter BIO

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/cms.h&gt;

        BIO *BIO_new_CMS(BIO *out, CMS_ContentInfo *cms);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>BIO_new_CMS()</b> returns a streaming filter BIO chain based on <b>cms</b>. The output of the filter is written to
       <b>out</b>. Any data written to the chain is automatically translated to a BER format CMS structure of the
       appropriate type.

</pre><h4><b>NOTES</b></h4><pre>
       The chain returned by this function behaves like a standard filter BIO. It supports non blocking I/O.
       Content is processed and streamed on the fly and not all held in memory at once: so it is possible to
       encode very large structures.  After all content has been written through the chain <b>BIO_flush()</b> must be
       called to finalise the structure.

       The <b>CMS_STREAM</b> flag must be included in the corresponding <b>flags</b> parameter of the <b>cms</b> creation function.

       If an application wishes to write additional data to <b>out</b> BIOs should be removed from the chain using
       <b>BIO_pop()</b> and freed with <b>BIO_free()</b> until <b>out</b> is reached. If no additional data needs to be written
       <b>BIO_free_all()</b> can be called to free up the whole chain.

       Any content written through the filter is used verbatim: no canonical translation is performed.

       It is possible to chain multiple BIOs to, for example, create a triple wrapped signed, enveloped, signed
       structure. In this case it is the applications responsibility to set the inner content type of any outer
       CMS_ContentInfo structures.

       Large numbers of small writes through the chain should be avoided as this will produce an output
       consisting of lots of OCTET STRING structures. Prepending a <b>BIO_f_buffer()</b> buffering BIO will prevent
       this.

</pre><h4><b>BUGS</b></h4><pre>
       There is currently no corresponding inverse BIO: i.e. one which can decode a CMS structure on the fly.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>BIO_new_CMS()</b> returns a BIO chain when successful or NULL if an error occurred. The error can be obtained
       from <b><a href="../man3/ERR_get_error.3.html">ERR_get_error</a></b>(3).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ERR_get_error.3.html">ERR_get_error</a></b>(3), <b><a href="../man3/CMS_sign.3.html">CMS_sign</a></b>(3), <b><a href="../man3/CMS_encrypt.3.html">CMS_encrypt</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>BIO_new_CMS()</b> function was added in OpenSSL 1.0.0.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2008-2016 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                                  <u><a href="../man3SSL/BIO_NEW_CMS.3SSL.html">BIO_NEW_CMS</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>