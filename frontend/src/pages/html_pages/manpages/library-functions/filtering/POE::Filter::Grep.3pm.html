<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POE::Filter::Grep - select or remove items based on simple rules</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpoe-perl">libpoe-perl_1.3700-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       POE::Filter::Grep - select or remove items based on simple rules

</pre><h4><b>SYNOPSIS</b></h4><pre>
         #!perl

         use POE qw(
           Wheel::FollowTail
           Filter::Line Filter::Grep Filter::Stackable
         );

         POE::Session-&gt;create(
           inline_states =&gt; {
             _start =&gt; sub {
               my $parse_input_as_lines = POE::Filter::Line-&gt;new();

               my $select_sudo_log_lines = POE::Filter::Grep-&gt;new(
                 Put =&gt; sub { 1 },
                 Get =&gt; sub {
                   my $input = shift;
                   return $input =~ /sudo\[\d+\]/i;
                 },
               );

               my $filter_stack = POE::Filter::Stackable-&gt;new(
                 Filters =&gt; [
                   $parse_input_as_lines, # first on get, last on put
                   $select_sudo_log_lines, # first on put, last on get
                 ]
               );

               $_[HEAP]{tailor} = POE::Wheel::FollowTail-&gt;new(
                 Filename =&gt; "/var/log/system.log",
                 InputEvent =&gt; "got_log_line",
                 Filter =&gt; $filter_stack,
               );
             },
             got_log_line =&gt; sub {
               print "Log: $_[ARG0]\n";
             }
           }
         );

         POE::Kernel-&gt;run();
         exit;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       POE::Filter::Grep selects or removes items based on simple tests.  It may be used to filter input,
       output, or both.  This filter is named and modeled after Perl's built-in <b>grep()</b> function.

       POE::Filter::Grep is designed to be combined with other filters through POE::Filter::Stackable.  In the
       "SYNOPSIS" example, a filter stack is created to parse logs as lines and remove all entries that don't
       pertain to a sudo process.  (Or if your glass is half full, the stack only selects entries that DO
       mention sudo.)

</pre><h4><b>PUBLIC</b> <b>FILTER</b> <b>METHODS</b></h4><pre>
       In addition to the usual POE::Filter methods, POE::Filter::Grep also supports the following.

   <b>new</b>
       <b>new()</b> constructs a new POE::Filter::Grep object.  It must either be called with a single Code parameter,
       or both a Put and a Get parameter.  The values for Code, Put, and Get are code references that, when
       invoked, return true to select an item or false to reject it.  A Code function will be used for both
       input and output, while Get and Put functions allow input and output to be filtered in different ways.
       The item in question will be passed as the function's sole parameter.

         sub reject_bidoofs {
           my $pokemon = shift;
           return 1 if $pokemon ne "bidoof";
           return;
         }

         my $gotta_catch_nearly_all = POE::Filter::Grep-&gt;new(
           Code =&gt; \&amp;reject_bidoofs,
         );

       Enforce read-only behavior:

         my $read_only = POE::Filter::Grep-&gt;new(
           Get =&gt; sub { 1 },
           Put =&gt; sub { 0 },
         );

   <b>modify</b>
       <b>modify()</b> changes a POE::Filter::Grep object's behavior at run-time.  It accepts the same parameters as
       <b>new()</b>, and it replaces the existing tests with new ones.

         # Don't give away our Dialgas.
         $gotta_catch_nearly_all-&gt;modify(
           Get =&gt; sub { 1 },
           Put =&gt; sub { return shift() ne "dialga" },
         );

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       POE::Filter for more information about filters in general.

       POE::Filter::Stackable for more details on stacking filters.

</pre><h4><b>BUGS</b></h4><pre>
       None known.

</pre><h4><b>AUTHORS</b> <b>&amp;</b> <b>COPYRIGHTS</b></h4><pre>
       The Grep filter was contributed by Dieter Pearcey.  Documentation is provided by Rocco Caputo.

       Please see the POE manpage for more information about authors and contributors.

perl v5.34.0                                       2022-03-25                             <u>POE::Filter::<a href="../man3pm/Grep.3pm.html">Grep</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>