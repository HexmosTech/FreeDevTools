<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XML::Filter::Distributor - Multipass processing of documents</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libxml-sax-machines-perl">libxml-sax-machines-perl_0.46-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       XML::Filter::Distributor - Multipass processing of documents

</pre><h4><b>VERSION</b></h4><pre>
       version 0.46

</pre><h4><b>SYNOPSIS</b></h4><pre>
           ## See XML::SAX::Manifold for an easier way to use this filter.

           use XML::SAX::Machines qw( Machine ) ;

           ## See the wondrous ASCII ART below for help visualizing this
           ## XML::SAX::Manifold makes this a lot easier.
           my $m = Machine(
               [ Intake =&gt; "XML::Filter::Distributor" =&gt; qw( V TOC Body ) ],
                   [ V      =&gt; "My::Validator" ],
                   [ TOC    =&gt; "My::TOCExtractor" =&gt; qw( Merger ) ],
                   [ Body   =&gt; "My::BodyMasseuse" =&gt; qw( Merger ) ],
               [ Merger =&gt; "XML::Filter::Merger" =&gt; qw( Output ) ],
               [ Output =&gt; \*STDOUT ],
           );

           ## Let the distributor coordinate with the merger.
           ## XML::SAX::Manifold does this for you.
           $m-&gt;Intake-&gt;set_aggregator( $m-&gt;Merger );

           $m-&gt;parse_file( "foo" );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       XML::Filter::Distributor is a SAX filter that allows "multipass" processing of a document by sending the
       document through several channels of SAX processors one channel at a time.  A channel may be a single SAX
       processor or a machine like a pipeline (see XML::SAX::Pipeline).

       This can be used to send the source document through one entire processing chain before beginning the
       next one, for instance if the first channel is a validator or linter that throws exceptions on error.

       It can also be used to run the document through multiple processing chains and glue all of the chains'
       output documents back together with something like XML::Filter::Merger.  The SYNOPSIS does both.

       This differs from XML::Filter::SAXT in that the channels are prioritized and each channel receives all
       events for a document before the next channel receives any events.  XML::Filter::Distributor buffers all
       events while feeding them to the highest priority channel ($processor1 in the synopsis), and replays them
       for each lower priority channel one at a time.

       The event flow for the example in the SYNOPSIS would look like, with the numbers next to the connection
       arrow indicating when the document's events flow along that arrow.

                                   +-------------+
                                +-&gt;| Validator   |
                              1/   +-------------+
                              /
                 1   +-------+ 2   +--------------+ 2    +--------+
        upstream ----| Dist. |----&gt;| TOCExtractor |--*--&gt;| Merger |-&gt; STDOUT
                     +-------+     +--------------+ /    +--------+
                              \3                   /3
                               \   +--------------+
                                +-&gt;| BodyMasseuse |
                                   +--------------+                         |

       Here's the timing of the event flows:

          1: upstream -&gt; Dist -&gt;  Validator
          2:             Dist -&gt; TOCExtractorc -&gt; Merger -&gt; STDOUT
          3:             Dist -&gt; BodyMassseuse -&gt; Merger -&gt; STDOUT

       When the document arrives from upstream, the events all arrive during time period 1 and are buffered and
       also passed through processor 1.  After all events have been received (as indicated by an "end_document"
       event from upstream), all events are then played back through processor 2, and then through processor 3.

</pre><h4><b>NAME</b></h4><pre>
       XML::Filter::Distributor - Multipass processing of documents

</pre><h4><b>METHODS</b></h4><pre>
       new
               my $d = XML::Filter::Distributor-&gt;new(
                   { Handler =&gt; $h1 },
                   { Handler =&gt; $h2 },
                   ...
               );

           A channel may be any SAX machine, frequently they are pipelines.

       set_handlers
               $p-&gt;set_handlers( $handler1, $handler2 );

           Provided for compatibility with other SAX processors, use set_handlers instead.

       set_handler
           Provided for compatibility with other SAX processors, use set_handlers instead.

</pre><h4><b>LIMITATIONS</b></h4><pre>
       Can only feed a single aggregator at the moment :).  I can fix this with a bit of effort.

</pre><h4><b>AUTHOR</b></h4><pre>
           Barrie Slaymaker &lt;<a href="mailto:barries@slaysys.com">barries@slaysys.com</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
           Copyright 2000, Barrie Slaymaker, All Rights Reserved.

       You may use this module under the terms of the Artistic, GPL, or the BSD licenses.

</pre><h4><b>AUTHORS</b></h4><pre>
       •   Barry Slaymaker

       •   Chris Prather &lt;<a href="mailto:chris@prather.org">chris@prather.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2013 by Barry Slaymaker.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.34.0                                       2022-06-28                      <u>XML::Filter::<a href="../man3pm/Distributor.3pm.html">Distributor</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>