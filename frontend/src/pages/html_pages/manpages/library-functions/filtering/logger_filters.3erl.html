<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>logger_filters - Filters to use with Logger.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/erlang-manpages">erlang-manpages_24.2.1+dfsg-1ubuntu0.5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       logger_filters - Filters to use with Logger.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       All   functions   exported   from   this   module  can  be  used  as  primary  or  handler  filters.  See
       <u>logger:add_primary_filter/2</u> and <u>logger:add_handler_filter/3</u> for more information about  how  filters  are
       added.

       Filters are removed with <u>logger:remove_primary_filter/1</u> and <u>logger:remove_handler_filter/2</u>.

</pre><h4><b>EXPORTS</b></h4><pre>
       <b>domain(LogEvent,</b> <b>Extra)</b> <b>-&gt;</b> <b>logger:filter_return()</b>

              Types:

                 LogEvent = logger:log_event()
                 Extra = {Action, Compare, MatchDomain}
                 Action = log | stop
                 Compare = super | sub | equal | not_equal | undefined
                 MatchDomain = [atom()]

              This filter provides a way of filtering log events based on a <u>domain</u> field in <u>Metadata</u>. This field
              is  optional,  and  the  purpose  of using it is to group log events from, for example, a specific
              functional area. This allows filtering or other specialized treatment in a Logger handler.

              A domain field must be a list of atoms, creating smaller and more specialized domains as the  list
              grows longer. The greatest domain is <u>[]</u>, which comprises all possible domains.

              For example, consider the following domains:

              D1 = [otp]
              D2 = [otp, sasl]

              <u>D1</u> is the greatest of the two, and is said to be a super-domain of <u>D2</u>. <u>D2</u> is a sub-domain <u>D1</u>. Both
              <u>D1</u> and <u>D2</u> are sub-domains of <u>[]</u>.

              The  above  domains are used for logs originating from Erlang/OTP. D1 specifies that the log event
              comes from Erlang/OTP in general, and D2 indicates that the log event is a so called SASL report.

              The  <u>Extra</u>  parameter  to  the  <u>domain/2</u>  function  is  specified  when  adding  the  filter   via
              <u>logger:add_primary_filter/2</u> or <u>logger:add_handler_filter/3</u>.

              The  filter  compares  the  value of the <u>domain</u> field in the log event's metadata (<u>Domain</u>) against
              <u>MatchDomain</u>. The filter matches if the value of <u>Compare</u> is:

                <u>sub</u>:
                  and <u>Domain</u> is equal to or a sub-domain of <u>MatchDomain</u>, that is, if <u>MatchDomain</u> is a prefix  of
                  <u>Domain</u>.

                <u>super</u>:
                  and  <u>Domain</u>  is  equal  to or a super-domain of <u>MatchDomain</u>, that is, if <u>Domain</u> is a prefix of
                  <u>MatchDomain</u>.

                <u>equal</u>:
                  and <u>Domain</u> is equal to <u>MatchDomain</u>.

                <u>not_equal</u>:
                  and <u>Domain</u> differs from <u>MatchDomain</u>, or if there is no domain field in metadata.

                <u>undefined</u>:
                  and there is no domain field in metadata. In this case <u>MatchDomain</u> must be set to <u>[]</u>.

              If the filter matches and <u>Action</u> is <u>log</u>, the log event is  allowed.  If  the  filter  matches  and
              <u>Action</u> is <u>stop</u>, the log event is stopped.

              If  the  filter does not match, it returns <u>ignore</u>, meaning that other filters, or the value of the
              configuration parameter <u>filter_default</u>, decide if the event is allowed or not.

              Log events that do not contain any domain field, match only when <u>Compare</u> is equal to <u>undefined</u>  or
              <u>not_equal</u>.

              Example: stop all events with domain <u>[otp,</u> <u>sasl</u> <u>|</u> <b>_</b><u>]</u>

              logger:set_handler_config(h1, filter_default, log). % this is the default
              Filter = {fun logger_filters:domain/2, {stop, sub, [otp, sasl]}}.
              logger:add_handler_filter(h1, no_sasl, Filter).
              ok

       <b>level(LogEvent,</b> <b>Extra)</b> <b>-&gt;</b> <b>logger:filter_return()</b>

              Types:

                 LogEvent = logger:log_event()
                 Extra = {Action, Operator, MatchLevel}
                 Action = log | stop
                 Operator = neq | eq | lt | gt | lteq | gteq
                 MatchLevel = logger:level()

              This  filter  provides a way of filtering log events based on the log level. It matches log events
              by comparing the log level with a specified <u>MatchLevel</u>

              The <u>Extra</u> parameter is  specified  when  adding  the  filter  via  <u>logger:add_primary_filter/2</u>  or
              <u>logger:add_handler_filter/3</u>.

              The  filter  compares  the  value  of  the  event's  log  level  (<u>Level</u>)  to <u>MatchLevel</u> by calling
              <u>logger:compare_levels(Level,</u> <u>MatchLevel)</u>. The filter matches if the value of <u>Operator</u> is:

                <u>neq</u>:
                  and the compare function returns <u>lt</u> or <u>gt</u>.

                <u>eq</u>:
                  and the compare function returns <u>eq</u>.

                <u>lt</u>:
                  and the compare function returns <u>lt</u>.

                <u>gt</u>:
                  and the compare function returns <u>gt</u>.

                <u>lteq</u>:
                  and the compare function returns <u>lt</u> or <u>eq</u>.

                <u>gteq</u>:
                  and the compare function returns <u>gt</u> or <u>eq</u>.

              If the filter matches and <u>Action</u> is <u>log</u>, the log event is  allowed.  If  the  filter  matches  and
              <u>Action</u> is <u>stop</u>, the log event is stopped.

              If  the  filter does not match, it returns <u>ignore</u>, meaning that other filters, or the value of the
              configuration parameter <u>filter_default</u>, will decide if the event is allowed or not.

              Example: only allow debug level log events

              logger:set_handler_config(h1, filter_default, stop).
              Filter = {fun logger_filters:level/2, {log, eq, debug}}.
              logger:add_handler_filter(h1, debug_only, Filter).
              ok

       <b>progress(LogEvent,</b> <b>Extra)</b> <b>-&gt;</b> <b>logger:filter_return()</b>

              Types:

                 LogEvent = logger:log_event()
                 Extra = log | stop

              This filter matches all progress reports from <u>supervisor</u> and <u>application_controller</u>.

              If <u>Extra</u> is <u>log</u>, the progress reports are allowed. If <u>Extra</u> is  <u>stop</u>,  the  progress  reports  are
              stopped.

              The filter returns <u>ignore</u> for all other log events.

       <b>remote_gl(LogEvent,</b> <b>Extra)</b> <b>-&gt;</b> <b>logger:filter_return()</b>

              Types:

                 LogEvent = logger:log_event()
                 Extra = log | stop

              This  filter  matches  all events originating from a process that has its group leader on a remote
              node.

              If <u>Extra</u> is <u>log</u>, the matching events are allowed. If  <u>Extra</u>  is  <u>stop</u>,  the  matching  events  are
              stopped.

              The filter returns <u>ignore</u> for all other log events.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3erl/logger.3erl.html">logger</a>(3erl)</u>

Ericsson AB                                        kernel 8.2                               <u><a href="../man3erl/logger_filters.3erl.html">logger_filters</a></u>(3erl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>