<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio::Wav::Write - Module for writing Microsoft WAV files.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libaudio-wav-perl">libaudio-wav-perl_0.14-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Audio::Wav::Write - Module for writing Microsoft WAV files.

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Audio::Wav;

           my $wav = new Audio::Wav;

           my $sample_rate = 44100;
           my $bits_sample = 16;

           my $details = {
               'bits_sample'   =&gt; $bits_sample,
               'sample_rate'   =&gt; $sample_rate,
               'channels'      =&gt; 1,
               # if you'd like this module not to use a write cache, uncomment the next line
               #'no_cache'     =&gt; 1,

           };

           my $write = $wav -&gt; write( 'testout.wav', $details );

           &amp;add_sine( 200, 1 );

           sub add_sine {
               my $hz = shift;
               my $length = shift;
               my $pi = ( 22 / 7 ) * 2;
               $length *= $sample_rate;
               my $max_no =  ( 2 ** $bits_sample ) / 2 - 1;
               for my $pos ( 0 .. $length ) {
                   $time = $pos / $sample_rate;
                   $time *= $hz;
                   my $val = sin $pi * $time;
                   my $samp = $val * $max_no;
                   $write -&gt; write( $samp );
               }
           }

           $write -&gt; finish();

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Currently only writes to a file.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Audio::Wav

       Audio::Wav::Read

</pre><h4><b>NOTES</b></h4><pre>
       This module shouldn't be used directly, a blessed object can be returned from Audio::Wav.

</pre><h4><b>METHODS</b></h4><pre>
   <b>finish</b>
       Finishes off &amp; closes the current wav file.

           $write -&gt; finish();

   <b>add_cue</b>
       Adds a cue point to the wav file. If $sample is undefined then the position will be the current position
       (end of all data written so far).

           # $byte_offset for 01 compatibility mode
           $write -&gt; add_cue( $sample, "label", "note"  );

   <b>set_sampler_info</b>
       All parameters are optional.

           my %info = (
               'midi_pitch_fraction' =&gt; 0,
               'smpte_format'        =&gt; 0,
               'smpte_offset'        =&gt; 0,
               'product'             =&gt; 0,
               'sample_period'       =&gt; 0,
               'manufacturer'        =&gt; 0,
               'sample_data'         =&gt; 0,
               'midi_unity_note'     =&gt; 65,
           );
           $write -&gt; set_sampler_info( %info );

   <b>add_sampler_loop</b>
       All parameters are optional except start &amp; end.

           my $length = $read -&gt; length_samples();
           my( $third, $twothirds ) = map int( $length / $_ ), ( 3, 1.5 );
           my %loop = (
               'start'                 =&gt; $third,
               'end'                   =&gt; $twothirds,
               'fraction'              =&gt; 0,
               'type'                  =&gt; 0,
           );
           $write -&gt; add_sampler_loop( %loop );

   <b>add_display</b>
   <b>set_info</b>
       Sets information to be contained in the wav file.

           $write -&gt; set_info( 'artist' =&gt; 'Nightmares on Wax', 'name' =&gt; 'Mission Venice' );

   <b>file_name</b>
       Returns the current filename.

           my $file = $write -&gt; file_name();

   <b>write</b>
       Adds a sample to the current file.

           $write -&gt; write( @sample_channels );

       Each element in @sample_channels should be in the range of;

           where $samp_max = ( 2 ** bits_per_sample ) / 2
           -$samp_max to +$samp_max

   <b>write_raw</b>
       Adds some pre-packed data to the current file.

           $write -&gt; write_raw( $data, $data_length );

       Where;

           $data is the packed data
           $data_length (optional) is the length in bytes of the data

   <b>write_raw_samples</b>
       Adds some pre-packed data to the current file, returns number of samples written.

           $write -&gt; write_raw_samples( $data, $data_length );

       Where;

           $data is the packed data
           $data_length (optional) is the length in bytes of the data

</pre><h4><b>AUTHORS</b></h4><pre>
           Nick Peskett (see <a href="http://www.peskett.co.uk/">http://www.peskett.co.uk/</a> for contact details).
           Kurt George Gjerde &lt;<a href="mailto:kurt.gjerde@media.uib.no">kurt.gjerde@media.uib.no</a>&gt;. (0.02-0.03)

perl v5.36.0                                       2022-10-13                                    <u>Wav::<a href="../man3pm/Write.3pm.html">Write</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>