<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VM::EC2::Security::Credentials -- Temporary security credentials for EC2</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libvm-ec2-perl">libvm-ec2-perl_1.28-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       VM::EC2::Security::Credentials -- Temporary security credentials for EC2

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use VM::EC2;
        use VM::EC2::Security::Policy

        # under your account
        $ec2 = VM::EC2-&gt;new(...);  # as usual
        my $policy = VM::EC2::Security::Policy-&gt;new;
        $policy-&gt;allow('DescribeImages','RunInstances');
        my $token = $ec2-&gt;get_federation_token(-name     =&gt; 'TemporaryUser',
                                               -duration =&gt; 60*60*3, # 3 hrs, as seconds
                                               -policy   =&gt; $policy);
        print $token-&gt;sessionToken,"\n";
        print $token-&gt;accessKeyId,"\n";
        print $token-&gt;secretAccessKey,"\n";
        print $token-&gt;federatedUser,"\n";

        my $serialized = $token-&gt;serialize;

        # get the serialized token to the temporary user
        send_data_to_user_somehow($serialized);

        # under the temporary user's account
        my $serialized = get_data_somehow();

        # create a copy of the token from its serialized form
        my $token = VM::EC2::Security::Credentials-&gt;new_from_serialized($serialized);

        # create a copy of the token from its JSON representation (e.g. as returned
        # from instance metadata of an instance that is assigned an IAM role
        my $token = VM::EC2::Security::Credentials-&gt;new_from_json($json);

        # open a new EC2 connection with this token. User will be
        # able to run all the methods specified in the policy.
        my $ec2   = VM::EC2-&gt;new(-security_token =&gt; $token);
        print $ec2-&gt;describe_images(-owner=&gt;'self');

        # convenience routine; will return a VM::EC2 object authorized
        # to use the current token
        my $ec2   = $token-&gt;new_ec2;
        print $ec2-&gt;describe_images(-owner=&gt;'self');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The VM::EC2::Security::Credentials object is returned by the VM::EC2::Security::Token-&gt;<b>credentials()</b>
       method, which in turn is generated by calls to VM::EC2-&gt;<b>get_federation_token()</b> and
       VM::EC2-&gt;<b>get_session_token()</b>. The Credentials object contains time-limited EC2 authentication
       information, including access key ID, secret access key, and a temporary authentication session token.

       A Credentials object can be passed to VM::EC2-&gt;<b>new()</b> via the -security_token parameter, in which case the
       -access_key and -secret_key parameters can be omitted.

       As Credentials typically need to be transmitted from a process being run by an AWS account holder to a
       process being run by another user, the object provides serialization methods that allow the object to be
       transmitted as a simple string.

</pre><h4><b>DATA</b> <b>ACCESS</b> <b>METHODS</b></h4><pre>
        accessKeyId()          -- The temporary access key ID
        secretAccessKey()      -- The secret access key
        sessionToken()         -- The temporary security token, as a long
                                     opaque string
        expiration()           -- The expiration time of these credentials, as a
                                     DateTime string.

       As in all VM::EC2 classes, <b>mixedCase()</b> and <b>broken_out_with_underscores()</b> names may be used
       interchangeably.

</pre><h4><b>SERIALIZATION</b> <b>METHODS</b></h4><pre>
       These two methods allow you to serialize the credentials into a string suitable for sending via SSL,
       S/MIME or another secure channel, and then reconstructing the object at the other end. For sending the
       credentials to a non-perl process, you can simply retrieve each individual field (access key, etc) and
       send them individually.

   <b>$serialized</b> <b>=</b> <b>$credentials-&gt;serialize()</b>
       Return a serialized form of the object as a base64-encoded string. Note that the serialized form contains
       the secret access key and session token in unencrypted, but very slightly obfuscated, form.

   <b>$credentials</b> <b>=</b> <b>VM::EC2::Security::Credentials-&gt;new_from_serialized($serialized)</b>
       Given a previously-serialized Credentials object, unserialize it and return a copy.

</pre><h4><b>CONVENIENCE</b> <b>METHODS</b></h4><pre>
       These are convenience methods.

   <b>$ec2</b> <b>=</b> <b>$credentials-&gt;new_ec2(@args)</b>
       Create a new VM::EC2 object which is authorized using the security token contained in the credentials
       object. You may pass all the arguments, such as -endpoint, that are accepted by VM::EC2-&gt;<b>new()</b>, but
       -access_key and -secret_access_key will be ignored.

</pre><h4><b>STRING</b> <b>OVERLOADING</b></h4><pre>
       When used in a string context, this object will interpolate the

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       VM::EC2 VM::EC2::Generic

</pre><h4><b>AUTHOR</b></h4><pre>
       Lincoln Stein &lt;<a href="mailto:lincoln.stein@gmail.com">lincoln.stein@gmail.com</a>&gt;.

       Copyright (c) 2011 Ontario Institute for Cancer Research

       This package and its accompanying libraries is free software; you can redistribute it and/or modify it
       under the terms of the GPL (either version 1, or at your option, any later version) or the Artistic
       License 2.0.  Refer to LICENSE for the full license text. In addition, please see DISCLAIMER.txt for
       disclaimers of warranty.

perl v5.38.2                                       2024-08-10                <u>VM::EC2::Security::<a href="../man3pm/Credentials.3pm.html">Credentials</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>