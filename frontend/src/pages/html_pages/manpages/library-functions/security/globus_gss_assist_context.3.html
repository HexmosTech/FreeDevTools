<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>globus_gss_assist_context - Security Context Management</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libglobus-gss-assist-doc">libglobus-gss-assist-doc_12.7-3build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       globus_gss_assist_context - Security Context Management

        - Security Context Creation and Use.

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Functions</b>
       OM_uint32 <b>globus_gss_assist_accept_sec_context</b> (OM_uint32 *minor_status, gss_ctx_id_t *context_handle,
           const gss_cred_id_t cred_handle, char **src_name_char, OM_uint32 *ret_flags, int *user_to_user_flag,
           int *token_status, gss_cred_id_t *delegated_cred_handle, int(*gss_assist_get_token)(void *, void **,
           size_t *), void *gss_assist_get_context, int(*gss_assist_send_token)(void *, void *, size_t), void
           *gss_assist_send_context)
           Accept a Security Context.
       OM_uint32 <b>globus_gss_assist_accept_sec_context_async</b> (OM_uint32 *minor_status, gss_ctx_id_t
           *context_handle, const gss_cred_id_t cred_handle, char **src_name_char, OM_uint32 *ret_flags, int
           *user_to_user_flag, void *input_buffer, size_t input_buffer_len, void **output_bufferp, size_t
           *output_buffer_lenp, gss_cred_id_t *delegated_cred_handle)
           Accept a Security Context Without Blocking.
       OM_uint32 <b>globus_gss_assist_export_sec_context</b> (OM_uint32 *minor_status, gss_ctx_id_t *context_handle,
           int *token_status, int fdp, FILE *fperr)
       OM_uint32 <b>globus_gss_assist_import_sec_context</b> (OM_uint32 *minor_status, gss_ctx_id_t *context_handle,
           int *token_status, int fdp, FILE *fperr)
       OM_uint32 <b>globus_gss_assist_init_sec_context</b> (OM_uint32 *minor_status, const gss_cred_id_t cred_handle,
           gss_ctx_id_t *context_handle, char *target_name_char, OM_uint32 req_flags, OM_uint32 *ret_flags, int
           *token_status, int(*gss_assist_get_token)(void *, void **, size_t *), void *gss_assist_get_context,
           int(*gss_assist_send_token)(void *, void *, size_t), void *gss_assist_send_context)
       OM_uint32 <b>globus_gss_assist_init_sec_context_async</b> (OM_uint32 *minor_status, const gss_cred_id_t
           cred_handle, gss_ctx_id_t *context_handle, char *target_name_char, OM_uint32 req_flags, OM_uint32
           *ret_flags, void *input_buffer, size_t input_buffer_len, void **output_bufferp, size_t
           *output_buffer_lenp)
       OM_uint32 <b>globus_gss_assist_will_handle_restrictions</b> (OM_uint32 *minor_status, gss_ctx_id_t
           *context_handle)
       OM_uint32 <b>globus_gss_assist_get_unwrap</b> (OM_uint32 *minor_status, const gss_ctx_id_t context_handle, char
           **data, size_t *length, int *token_status, int(*gss_assist_get_token)(void *, void **, size_t *),
           void *gss_assist_get_context, FILE *fperr)
           Get Unwrap.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Security Context Creation and Use.

       The functions in this section are used to create security contexts and send and receive messages sent
       over them. They use the functions provided by <b>Token</b> <b>Transport</b> or user-supplied functions to communicate
       security tokens over the context, looping over continue results from the GSSAPI as needed.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>OM_uint32</b> <b>globus_gss_assist_accept_sec_context</b> <b>(OM_uint32</b> <b>*</b> <b>minor_status,</b> <b>gss_ctx_id_t</b> <b>*</b> <b>context_handle,</b>
       <b>const</b> <b>gss_cred_id_t</b> <b>cred_handle,</b> <b>char</b> <b>**</b> <b>src_name_char,</b> <b>OM_uint32</b> <b>*</b> <b>ret_flags,</b> <b>int</b> <b>*</b> <b>user_to_user_flag,</b>
       <b>int</b> <b>*</b> <b>token_status,</b> <b>gss_cred_id_t</b> <b>*</b> <b>delegated_cred_handle,</b> <b>int(*)(void</b> <b>*,</b> <b>void</b> <b>**,</b> <b>size_t</b> <b>*)</b>
       <b>gss_assist_get_token,</b> <b>void</b> <b>*</b> <b>gss_assist_get_context,</b> <b>int(*)(void</b> <b>*,</b> <b>void</b> <b>*,</b> <b>size_t)</b>
       <b>gss_assist_send_token,</b> <b>void</b> <b>*</b> <b>gss_assist_send_context)</b>
       Accept a Security Context. This routine accepts a GSSAPI security context and is called by the
       gram_gatekeeper. It isolates the GSSAPI from the rest of the gram code.

       Initialize a GSSAPI security connection. Used by the server. The context_handle is returned, and there is
       one for each connection. This routine will take cake of the looping and token processing, using the
       supplied get_token and send_token routines.

       <b>Parameters</b>
           <u>minor_status</u> GSSAPI return code
           <u>context_handle</u> pointer to returned context.
           <u>cred_handle</u> the cred handle obtained by acquire_cred.
           <u>src_name_char</u> Pointer to char string representation of the client which contacted the server. Maybe
           NULL if not wanted. Should be freed when done.
           <u>ret_flags</u> Pointer to which services are available after the connection is established. Maybe NULL if
           not wanted. We will also use this to pass in flags to the globus version of GSSAPI
           <u>user_to_user_flag</u> Pointer to flag to be set if the src_name is the same as our name. (Following are
           particular to this assist routine)
           <u>token_status</u> assist routine get/send token status
           <u>delegated_cred_handle</u> pointer to be set to the credential delegated by the client if delegation
           occurs during the security handshake
           <u>gss_assist_get_token</u> a get token routine
           <u>gss_assist_get_context</u> first arg for the get token routine
           <u>gss_assist_send_token</u> a send token routine
           <u>gss_assist_send_context</u> first arg for the send token routine

       <b>Returns</b>
           GSS_S_COMPLETE on success Other GSSAPI errors on failure.

   <b>OM_uint32</b> <b>globus_gss_assist_accept_sec_context_async</b> <b>(OM_uint32</b> <b>*</b> <b>minor_status,</b> <b>gss_ctx_id_t</b> <b>*</b>
       <b>context_handle,</b> <b>const</b> <b>gss_cred_id_t</b> <b>cred_handle,</b> <b>char</b> <b>**</b> <b>src_name_char,</b> <b>OM_uint32</b> <b>*</b> <b>ret_flags,</b> <b>int</b> <b>*</b>
       <b>user_to_user_flag,</b> <b>void</b> <b>*</b> <b>input_buffer,</b> <b>size_t</b> <b>input_buffer_len,</b> <b>void</b> <b>**</b> <b>output_bufferp,</b> <b>size_t</b> <b>*</b>
       <b>output_buffer_lenp,</b> <b>gss_cred_id_t</b> <b>*</b> <b>delegated_cred_handle)</b>
       Accept a Security Context Without Blocking. This is an asynchronous version of the
       <b>globus_gss_assist_accept_sec_context()</b> function. Instead of looping itself it passes in and out the read
       and written buffers and the calling application is responsible for doing the I/O directly.

       <b>Parameters</b>
           <u>minor_status</u> GSSAPI return code
           <u>context_handle</u> pointer to returned context.
           <u>cred_handle</u> the cred handle obtained by acquire_cred.
           <u>src_name_char</u> Pointer to char string representation of the client which contacted the server. Maybe
           NULL if not wanted. Should be freed when done.
           <u>ret_flags</u> Pointer to which services are available after the connection is established. Maybe NULL if
           not wanted. We will also use this to pass in flags to the Globus version of GSSAPI
           <u>user_to_user_flag</u> Pointer to flag to be set if the src_name is the same as our name.
           <u>input_buffer</u> pointer to a buffer received from peer.
           <u>input_buffer_len</u> length of the buffer input_buffer.
           <u>output_bufferp</u> pointer to a pointer which will be filled in with a pointer to an allocated block of
           memory. If non-NULL the contents of this block should be written to the peer where they will be fed
           into the <b>globus_gss_assist_init_sec_context_async()</b> function.
           <u>output_buffer_lenp</u> pointer to an integer which will be filled in with the length of the allocated
           output buffer pointed to by *output_bufferp.
           <u>delegated_cred_handle</u> pointer to be set to the credential delegated by the client if delegation
           occurs during the security handshake

       <b>Returns</b>
           GSS_S_COMPLETE on successful completion when this function does not need to be called again.

       GSS_S_CONTINUE_NEEDED when *output_bufferp should be sent to the peer and a new input_buffer read and
       this function called again.

       Other GSSAPI errors on failure.

   <b>OM_uint32</b> <b>globus_gss_assist_export_sec_context</b> <b>(OM_uint32</b> <b>*</b> <b>minor_status,</b> <b>gss_ctx_id_t</b> <b>*</b> <b>context_handle,</b> <b>int</b>
       <b>*</b> <b>token_status,</b> <b>int</b> <b>fdp,</b> <b>FILE</b> <b>*</b> <b>fperr)</b>
       Export the security context from a file

       <b>Parameters</b>
           <u>minor_status</u> GSSAPI return code. This is a Globus Error code (or GLOBUS_SUCCESS) cast to a OM_uint32
           pointer. If an error has occurred, the resulting error (from calling globus_error_get on this
           variable) needs to be freed by the caller
           <u>context_handle</u> The context to export
           <u>token_status</u> Errors that occurred while reading from the file
           <u>fdp</u> the file descriptor pointing to a file containing the security context
           <u>fperr</u> FILE * to write error messages

       <b>Returns</b>
           the major status

   <b>OM_uint32</b> <b>globus_gss_assist_get_unwrap</b> <b>(OM_uint32</b> <b>*</b> <b>minor_status,</b> <b>const</b> <b>gss_ctx_id_t</b> <b>context_handle,</b> <b>char</b> <b>**</b>
       <b>data,</b> <b>size_t</b> <b>*</b> <b>length,</b> <b>int</b> <b>*</b> <b>token_status,</b> <b>int(*)(void</b> <b>*,</b> <b>void</b> <b>**,</b> <b>size_t</b> <b>*)</b> <b>gss_assist_get_token,</b> <b>void</b> <b>*</b>
       <b>gss_assist_get_context,</b> <b>FILE</b> <b>*</b> <b>fperr)</b>
       Get Unwrap. Gets a token using the specific tokenizing functions, and performs the GSS unwrap of that
       token

       <b>See</b> <b>also</b>
           gss_unwrap

       <b>Parameters</b>
           <u>minor_status</u> GSSAPI return code,

       <b>See</b> <b>also</b>
           gss_unwrap

       <b>Parameters</b>
           <u>context_handle</u> the context
           <u>data</u> pointer to be set to the unwrapped application data. This must be freed by the caller.
           <u>length</u> pointer to be set to the length of the <u>data</u> byte array.
           <u>token_status</u> assist routine get/send token status
           <u>gss_assist_get_token</u> a detokenizing routine
           <u>gss_assist_get_context</u> first arg for above routine
           <u>fperr</u> error stream to print to

       <b>Returns</b>
           GSS_S_COMPLETE on success Other gss errors on failure.

   <b>OM_uint32</b> <b>globus_gss_assist_import_sec_context</b> <b>(OM_uint32</b> <b>*</b> <b>minor_status,</b> <b>gss_ctx_id_t</b> <b>*</b> <b>context_handle,</b> <b>int</b>
       <b>*</b> <b>token_status,</b> <b>int</b> <b>fdp,</b> <b>FILE</b> <b>*</b> <b>fperr)</b>
       Import the security context from a file

       <b>Parameters</b>
           <u>minor_status</u> GSSAPI return code. This is a Globus Error code (or GLOBUS_SUCCESS) cast to a OM_uint32
           pointer. If an error has occurred, the resulting error (from calling globus_error_get on this
           variable) needs to be freed by the caller
           <u>context_handle</u> The imported context
           <u>token_status</u> Errors that occurred while reading from the file
           <u>fdp</u> the file descriptor pointing to a file containing the security context
           <u>fperr</u> FILE * to write error messages

       <b>Returns</b>
           the major status

   <b>OM_uint32</b> <b>globus_gss_assist_init_sec_context</b> <b>(OM_uint32</b> <b>*</b> <b>minor_status,</b> <b>const</b> <b>gss_cred_id_t</b> <b>cred_handle,</b>
       <b>gss_ctx_id_t</b> <b>*</b> <b>context_handle,</b> <b>char</b> <b>*</b> <b>target_name_char,</b> <b>OM_uint32</b> <b>req_flags,</b> <b>OM_uint32</b> <b>*</b> <b>ret_flags,</b> <b>int</b> <b>*</b>
       <b>token_status,</b> <b>int(*)(void</b> <b>*,</b> <b>void</b> <b>**,</b> <b>size_t</b> <b>*)</b> <b>gss_assist_get_token,</b> <b>void</b> <b>*</b> <b>gss_assist_get_context,</b>
       <b>int(*)(void</b> <b>*,</b> <b>void</b> <b>*,</b> <b>size_t)</b> <b>gss_assist_send_token,</b> <b>void</b> <b>*</b> <b>gss_assist_send_context)</b>
       Initialize a GSSAPI security connection. Used by the client. The context_handle is returned, and there is
       one for each connection. This routine will take cake of the looping and token processing, using the
       supplied get_token and send_token routines.

       <b>Parameters</b>
           <u>minor_status</u> GSSAPI return code. The new minor_status is a globus_result_t cast to an OM_uint32. If
           the call was successful, the minor status is equivalent to GLOBUS_SUCCESS. Otherwise, it is a globus
           error object ID that can be passed to globus_error_get to get the error object. The error object
           needs to be freed with globus_object_free.
           <u>cred_handle</u> the cred handle obtained by acquire_cred.
           <u>context_handle</u> pointer to returned context.
           <u>target_name_char</u> char string representation of the server to be contacted.
           <u>req_flags</u> request flags, such as GSS_C_DELEG_FLAG for delegation and the GSS_C_MUTUAL_FLAG for mutual
           authentication.
           <u>ret_flags</u> Pointer to which services are available after the connection is established. Maybe NULL if
           not wanted.

       The following are particular to this assist routine:

       <b>Parameters</b>
           <u>token_status</u> the assist routine's get/send token status
           <u>gss_assist_get_token</u> function pointer for getting the token
           <u>gss_assist_get_context</u> first argument passed to the gss_assist_get_token function
           <u>gss_assist_send_token</u> function pointer for setting the token
           <u>gss_assist_send_context</u> first argument passed to the gss_assist_set_token function pointer

       <b>Returns</b>
           The major status

   <b>OM_uint32</b> <b>globus_gss_assist_init_sec_context_async</b> <b>(OM_uint32</b> <b>*</b> <b>minor_status,</b> <b>const</b> <b>gss_cred_id_t</b>
       <b>cred_handle,</b> <b>gss_ctx_id_t</b> <b>*</b> <b>context_handle,</b> <b>char</b> <b>*</b> <b>target_name_char,</b> <b>OM_uint32</b> <b>req_flags,</b> <b>OM_uint32</b> <b>*</b>
       <b>ret_flags,</b> <b>void</b> <b>*</b> <b>input_buffer,</b> <b>size_t</b> <b>input_buffer_len,</b> <b>void</b> <b>**</b> <b>output_bufferp,</b> <b>size_t</b> <b>*</b>
       <b>output_buffer_lenp)</b>
       This is an asynchronous version of the <b>globus_gss_assist_init_sec_context()</b> function. Instead of looping
       itself it passes in and out the read and written buffers and the calling application is responsible for
       doing the I/O directly.

       <b>Parameters</b>
           <u>minor_status</u> GSSAPI return code. The new minor status is a globus_result_t cast to a OM_uint32. If an
           error occurred (<a href="../manmajor_status/GSS_ERROR.major_status.html">GSS_ERROR</a>(major_status)) the minor_status is a globus error object id. The error
           object can be obtained via globus_error_get and should be destroyed with globus_object_free when no
           longer needed. If no error occurred, the minor status is equal to GLOBUS_SUCCESS.
           <u>cred_handle</u> the cred handle obtained by acquire_cred.
           <u>context_handle</u> pointer to returned context.
           <u>target_name_char</u> char string representation of the server to be contacted.
           <u>req_flags</u> request flags, such as GSS_C_DELEG_FLAG for delegation and the GSS_C_MUTUAL_FLAG for mutual
           authentication.
           <u>ret_flags</u> Pointer to which services are available after the connection is established. Maybe NULL if
           not wanted.
           <u>input_buffer</u> pointer to a buffer received from peer. Should be NULL on first call.
           <u>input_buffer_len</u> length of the buffer input_buffer. Should be zero on first call.
           <u>output_bufferp</u> pointer to a pointer which will be filled in with a pointer to an allocated block of
           memory. If non-NULL the contents of this block should be written to the peer where they will be fed
           into the <b>globus_gss_assist_accept_sec_context_async()</b> function.
           <u>output_buffer_lenp</u> pointer to an integer which will be filled in with the length of the allocated
           output buffer pointed to by *output_bufferp.

       <b>Returns</b>
           GSS_S_COMPLETE on successful completion when this function does not need to be called again.

       GSS_S_CONTINUE_NEEDED when *output_bufferp should be sent to the peer and a new input_buffer read and
       this function called again.

       Other gss errors on failure.

   <b>OM_uint32</b> <b>globus_gss_assist_will_handle_restrictions</b> <b>(OM_uint32</b> <b>*</b> <b>minor_status,</b> <b>gss_ctx_id_t</b> <b>*</b>
       <b>context_handle)</b>
       Sets the context to handle restrictions

       <b>Parameters</b>
           <u>minor_status</u> the resulting minor status from setting the context handle
           <u>context_handle</u> the context handle to set the minor status of

       <b>Returns</b>
           the major status from setting the context

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for globus_gss_assist from the source code.

globus_gss_assist                                 Version 12.7                      <u><a href="../man3/globus_gss_assist_context.3.html">globus_gss_assist_context</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>