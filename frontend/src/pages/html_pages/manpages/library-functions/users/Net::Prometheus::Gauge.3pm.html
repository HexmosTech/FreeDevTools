<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>"Net::Prometheus::Gauge" - a snapshot value-reporting metric</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-prometheus-perl">libnet-prometheus-perl_0.14-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       "Net::Prometheus::Gauge" - a snapshot value-reporting metric

</pre><h4><b>SYNOPSIS</b></h4><pre>
          use Net::Prometheus;

          my $client = Net::Prometheus-&gt;new;

          my $gauge = $client-&gt;new_gauge(
             name =&gt; "users",
             help =&gt; "Number of current users",
          );

          my %users;
          ...

          $gauge-&gt;set( scalar keys %users );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class provides a gauge metric - an arbitrary value that observes some snapshot of state at some
       instant in time. This is often used to report on the current usage of resources by the instrumented
       program, in a way that can decrease as well as increase. It is a subclass of Net::Prometheus::Metric.

   <b>Value-Reporting</b> <b>Functions</b>
       As an alternative to using the "set" method to update the value of the gauge, a callback function can be
       used instead which should return the current value to report for that gauge. This function is invoked at
       collection time, meaning the reported value is up-to-date.

       These functions are invoked inline as part of the collection process, so they should be as small and
       lightweight as possible. Typical applications involve reporting the size of an array or hash within the
       implementation's code.

          $gauge-&gt;set_function( sub { scalar @items } );

          $gauge-&gt;set_function( sub { scalar keys %things } );

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
       Instances of this class are not usually constructed directly, but instead via the Net::Prometheus object
       that will serve it:

          $gauge = $prometheus-&gt;new_gauge( %args );

       This takes the same constructor arguments as documented in Net::Prometheus::Metric.

</pre><h4><b>METHODS</b></h4><pre>
   <b>set</b>
          $gauge-&gt;set( @label_values, $value );
          $gauge-&gt;set( \%labels, $value );

          $child-&gt;set( $value );

       Sets the current value for the gauge.

       If the gauge has any labels defined, the values for them must be given first.

   <b>set_function</b>
          $gauge-&gt;set_function( @label_values, $func );
          $gauge-&gt;set_function( \%labels, $func );

          $child-&gt;set_function( $func );

       Sets a value-returning callback function for the gauge. If the gauge is labeled, each label combination
       requires its own function.

       When invoked, the function will be passed no arguments and is expected to return a single value

          $value = $func-&gt;();

   <b>inc</b>
          $gauge-&gt;inc( @label_values, $delta );
          $gauge-&gt;inc( \%labels, $delta );

          $child-&gt;inc( $delta );

       Increment the current value for the gauge. $delta will default to 1 if not supplied.

   <b>dec</b>
          $gauge-&gt;dec( @label_values, $delta );
          $gauge-&gt;dec( \%labels, $delta );

          $child-&gt;dec( $delta );

       Decrement the current value for the gauge. $delta will default to 1 if not supplied.

</pre><h4><b>AUTHOR</b></h4><pre>
       Paul Evans &lt;<a href="mailto:leonerd@leonerd.org.uk">leonerd@leonerd.org.uk</a>&gt;

perl v5.40.0                                       2024-11-09                        <u>Net::Prometheus::<a href="../man3pm/Gauge.3pm.html">Gauge</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>