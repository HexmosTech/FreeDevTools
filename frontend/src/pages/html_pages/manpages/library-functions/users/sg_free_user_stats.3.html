<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sg_get_user_stats, sg_get_user_stats_r, sg_free_user_stats - get the current logged in users</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libstatgrab-dev">libstatgrab-dev_0.92.1-1.2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sg_get_user_stats, sg_get_user_stats_r, sg_free_user_stats - get the current logged in users

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;statgrab.h&gt;

       sg_user_stats *<b>sg_get_user_stats</b> (size_t *<u>entries</u>);

       sg_user_stats *<b>sg_get_user_stats_r</b> (size_t *<u>entries</u>);

       sg_error <b>sg_free_user_stats</b> (sg_user_stats *<u>data</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  user  statistics module delivers some information about logged on users. Each logon is treated sepa‐
       rately. Both statistic get functions, <b>sg_get_user_stats</b>() and <b>sg_get_user_stats_r</b>(), return a  vector  of
       sg_user_stats with entries elements.

       <b>API</b> <b>Shortcut</b>
       ┌─────────────────────┬─────────────────┬────────────────────────────┐
       │ function            │ returns         │ data owner                 │
       ├─────────────────────┼─────────────────┼────────────────────────────┤
       │ sg_get_user_stats   │ sg_user_stats * │ libstatgrab (thread local) │
       ├─────────────────────┼─────────────────┼────────────────────────────┤
       │ sg_get_user_stats_r │ sg_user_stats * │ caller                     │
       └─────────────────────┴─────────────────┴────────────────────────────┘

       The  sg_user_stats  vector  received  from <b>sg_get_user_stats_r</b>() must be freed using <b>sg_free_user_stats</b>()
       when not needed any more. The caller is responsible for doing it.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The structure returned is of type sg_user_stats.

       typedef struct {
               char *login_name;
               char *record_id;
               size_t record_id_size;
               char *device;
               char *hostname;
               pid_t pid;
               time_t login_time;
               time_t systime;
       } sg_user_stats;

       login_name
              The username which was used to log in

       record_id
              Record identifier of host database containing login information (not necessarily 0-terminated)

       record_id_size
              Size of the record identifier

       device Device name (eg. "pts/0") of the tty assigned to the login session

       hostname
              (remote) Hostname from where the user is logged  on,  eg.   "infoterm7.some.kind.of.domain.local",
              "localhost", "10.42.17.4" or ":0.0" (in case it's a local logon via new xterm)

       pid    Process identifier of the process which made the entry to the logged on users database

       login_time
              Timestamp (time in seconds since epoch) when the user logged on

       systime
              The timestamp when the above stats where collected in seconds since epoch

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/statgrab.3.html">statgrab</a></b>(3)

</pre><h4><b>WEBSITE</b></h4><pre>
       ⟨https://libstatgrab.org/⟩

libstatgrab                                        2019-03-08                               <u><a href="../man3/sg_get_user_stats.3.html">sg_get_user_stats</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>