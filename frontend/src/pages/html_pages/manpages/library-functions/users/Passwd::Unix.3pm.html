<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passwd::Unix - access to standard unix files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpasswd-unix-perl">libpasswd-unix-perl_0.700-1.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Passwd::Unix - access to standard unix files

</pre><h4><b>SYNOPSIS</b></h4><pre>
               use Passwd::Unix;

               my $pu = Passwd::Unix-&gt;new();
               my $err = $pu-&gt;user("example", $pu-&gt;encpass("my_secret"), $pu-&gt;maxuid + 1, 10,
                                                       "My User", "/home/example", "<a href="file:/bin/bash">/bin/bash</a>" );
               $pu-&gt;passwd("example", $pu-&gt;encpass("newsecret"));
               foreach my $user ($pu-&gt;users) {
                       print "Username: $user\nFull Name: ", $pu-&gt;gecos($user), "\n\n";
               }
               my $uid = $pu-&gt;uid('example');
               $pu-&gt;del("example");

               # or

               use Passwd::Unix qw(check_sanity reset encpass passwd_file shadow_file
                                       group_file backup warnings del del_user uid gid gecos
                                       home shell passwd rename maxgid maxuid exists_user
                                       exists_group user users users_from_shadow del_group
                                       group groups groups_from_gshadow);

               my $err = user( "example", encpass("my_secret"), $pu-&gt;maxuid + 1, 10,
                                               "My User", "/home/example", "<a href="file:/bin/bash">/bin/bash</a>" );
               passwd("example",encpass("newsecret"));
               foreach my $user (users()) {
                       print "Username: $user\nFull Name: ", gecos($user), "\n\n";
               }
               my $uid = uid('example');
               del("example");

</pre><h4><b>ABSTRACT</b></h4><pre>
       Passwd::Unix provides an abstract object-oriented and function interface to standard Unix files, such as
       <a href="file:/etc/passwd">/etc/passwd</a>, <a href="file:/etc/shadow">/etc/shadow</a>, /etc/group. Additionally this module provides  environment to testing new
       software, without using system critical files in /etc/dir.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The Passwd::Unix module provides an abstract interface to <a href="file:/etc/passwd">/etc/passwd</a>, <a href="file:/etc/shadow">/etc/shadow</a> and <a href="file:/etc/group">/etc/group</a> format
       files. It is inspired by Unix::PasswdFile module (that one does not handle <a href="file:/etc/shadow">/etc/shadow</a> file, what is
       necessary in modern systems like Sun Solaris 10 or Linux).

</pre><h4><b>SUBROUTINES/METHODS</b></h4><pre>
       <b>new(</b> <b>[</b> <b>param0</b> <b>=</b> 1, param1 =&gt; 0... ] )&gt;
           Constructor. Possible parameters are:

           <b>passwd</b> - path to passwd file; default "<a href="file:/etc/passwd">/etc/passwd</a>"
           <b>shadow</b> - path to shadow file; default "<a href="file:/etc/shadow">/etc/shadow</a>"
           <b>group</b> - path to group file; default "<a href="file:/etc/group">/etc/group</a>"
           <b>gshadow</b> - path to gshadow file if any; default "<a href="file:/etc/gshadow">/etc/gshadow</a>"
           <b>umask</b> - umask for creating files; default 0022 (standard for UNIX and Linux systems)
           <b>backup</b> - boolean; if set to 1, backup will be made; default 1
           <b>warnings</b> - boolean; if set to 1, important warnings will be displayed; default 0
       <b>check_sanity()</b>
           This  method  check  if environment is sane. I.e. if users in <u>shadow</u> and in <u>passwd</u> are the same. This
           method is invoked in constructor.

       <b>del(</b> <b>USERNAME0,</b> <b>USERNAME1...</b> <b>)</b>
           This method is an alias for "del_user". It's for transition only.

       <b>del_user(</b> <b>USERNAME0,</b> <b>USERNAME1...</b> <b>)</b>
           This method will delete the list of users. It has no effect if the supplied users do not exist.

       <b>del_group(</b> <b>GROUPNAME0,</b> <b>GROUPNAME1...</b> <b>)</b>
           This method will delete the list of groups. It has no effect if the supplied groups do not exist.

       <b>encpass(</b> <b>PASSWORD</b> <b>)</b>
           This method will encrypt plain text into unix style MD5 password.

       <b>gecos(</b> <b>USERNAME</b> <b>[,GECOS]</b> <b>)</b>
           Read or modify a user's GECOS string (typically their full name).  Returns the result of operation (1
           or "undef") if GECOS was specified.  Otherwhise returns the GECOS.

       <b>gid(</b> <b>USERNAME</b> <b>[,GID]</b> <b>)</b>
           Read or modify a user's GID. Returns the result of operation (TRUE or FALSE)  if  GID  was  specified
           otherwhise returns the GID.

       <b>home(</b> <b>USERNAME</b> <b>[,HOMEDIR]</b> <b>)</b>
           Read or modify a user's home directory. Returns the result of operation (1 or "undef") if HOMEDIR was
           specified otherwhise returns the HOMEDIR.

       <b>maxuid(</b> <b>)</b>
           This method returns the maximum UID in use by all users.

       <b>maxgid(</b> <b>)</b>
           This method returns the maximum GID in use by all groups.

       <b>unused_uid(</b> <b>[MINUID]</b> <b>[,MAXUID]</b> <b>)</b>
           This  method  returns  the  first  unused  UID in a given range. The default MINUID is 0. The default
           MAXUID is maximal integer value (computed from $Config{ intsize } ).

       <b>unused_gid(</b> <b>[MINGID]</b> <b>[,MAXGID]</b> <b>)</b>
           This method returns the first unused GID in a given range. The  default  MINGID  is  0.  The  default
           MAXGID is maximal integer value (computed from $Config{ intsize } ).

       <b>passwd(</b> <b>USERNAME</b> <b>[,PASSWD]</b> <b>)</b>
           Read or modify a user's password. If you have a plaintext password, use the encpass method to encrypt
           it  before  passing  it to this method.  Returns the result of operation (1 or "undef") if PASSWD was
           specified.  Otherwhise returns the PASSWD.

       <b>rename(</b> <b>OLDNAME,</b> <b>NEWNAME</b> <b>)</b>
           This method changes the username for a user. If NEWNAME corresponds to an existing  user,  that  user
           will be overwritten. It returns FALSE on failure and TRUE on success.

       <b>shell(</b> <b>USERNAME</b> <b>[,SHELL]</b> <b>)</b>
           Read or modify a user's shell. Returns the result of operation (TRUE or FALSE) if SHELL was specified
           otherwhise returns the SHELL.

       <b>uid(</b> <b>USERNAME</b> <b>[,UID]</b> <b>)</b>
           Read  or  modify  a  user's UID. Returns the result of operation (TRUE or FALSE) if UID was specified
           otherwhise returns the UID.

       <b>user(</b> <b>USERNAME</b> <b>[,PASSWD,</b> <b>UID,</b> <b>GID,</b> <b>GECOS,</b> <b>HOMEDIR,</b> <b>SHELL]</b> <b>)</b>
           This method can add, modify, or return information about a user.  Supplied  with  a  single  username
           parameter,  it  will  return  a  six  element list consisting of (PASSWORD, UID, GID, GECOS, HOMEDIR,
           SHELL), or undef if no such user exists. If you supply all seven parameters, the named user  will  be
           created or modified if it already exists.

       <b>group(</b> <b>GROUPNAME</b> <b>[,GID,</b> <b>ARRAYREF]</b> <b>)</b>
           This  method  can add, modify, or return information about a group.  Supplied with a single groupname
           parameter, it will return a two element list consisting of (GID, ARRAYREF), where ARRAYREF is  a  ref
           to  array  consisting  names  of  users  in  this  GROUP. It will return undef and ref to empty array
           ("undef, [ ]") if no such group exists. If you supply all three parameters, the named group  will  be
           created or modified if it already exists.

       <b>users()</b>
           This method returns a list of all existing usernames.

       <b>users_from_shadow()</b>
           This method returns a list of all existing usernames in a shadow file.

       <b>groups()</b>
           This method returns a list of all existing groups.

       <b>groups_from_gshadow()</b>
           This method returns a list of all existing groups in a gshadow file.

       <b>exists_user(USERNAME)</b>
           This method checks if specified user exists. It returns TRUE or FALSE.

       <b>exists_group(GROUPNAME)</b>
           This method checks if specified group exists. It returns TRUE or FALSE.

       <b>default_umask([UMASK])</b>
           This  method,  if  called  with  an argument, sets default umask for this module (not Your program!).
           Otherwise returns the current UMASK. Probably You don't want to change this.

       <b>passwd_file([PATH])</b>
           This method, if called with an argument, sets path to the <u>passwd</u> file.  Otherwise returns the current
           PATH.

       <b>shadow_file([PATH])</b>
           This method, if called with an argument, sets path to the <u>shadow</u> file.  Otherwise returns the current
           PATH.

       <b>group_file([PATH])</b>
           This method, if called with an argument, sets path to the <u>group</u> file.  Otherwise returns the  current
           PATH.

       <b>gshadow_file([PATH])</b>
           This  method,  if  called  with  an  argument,  sets path to the <u>gshadow</u> file.  Otherwise returns the
           current PATH.

       <b>reset()</b>
           This method sets paths to files <u>passwd</u>, <u>shadow</u>, <u>group</u> to the default values.

       <b>error()</b>
           This method returns the last error (even if "warnings" is disabled).

</pre><h4><b>DEPENDENCIES</b></h4><pre>
       Struct::Compare
       Crypt::PasswdMD5

</pre><h4><b>INCOMPATIBILITIES</b></h4><pre>
       None known.

</pre><h4><b>BUGS</b> <b>AND</b> <b>LIMITATIONS</b></h4><pre>
       None. I hope.

</pre><h4><b>THANKS</b></h4><pre>
       Thanks to Christian Kuelker for suggestions and reporting some bugs :-).
       Thanks to Steven Haryanto for suggestions.
       Thanks to Jonas Genannt for suggestions as well as supplying relevant patch!
       BIG THANKS to Lopes Victor for reporting some bugs and his exact sugesstions :-)
       Thanks to Foudil BRÉTEL for some remarks, suggestions as well as supplying relevant patch!
       BIG thanks to Artem Russakovskii for reporting a bug.

</pre><h4><b>AUTHOR</b></h4><pre>
       Strzelecki Lukasz &lt;<a href="mailto:lukasz@strzeleccy.eu">lukasz@strzeleccy.eu</a>&gt;

</pre><h4><b>LICENCE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       This program is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

       See <a href="http://www.perl.com/perl/misc/Artistic.html">http://www.perl.com/perl/misc/Artistic.html</a>

perl v5.32.0                                       2021-01-07                                  <u>Passwd::<a href="../man3pm/Unix.3pm.html">Unix</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>