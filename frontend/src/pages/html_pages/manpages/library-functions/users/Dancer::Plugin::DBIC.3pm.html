<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dancer::Plugin::DBIC - DBIx::Class interface for Dancer applications</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdancer-plugin-dbic-perl">libdancer-plugin-dbic-perl_0.2104-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Dancer::Plugin::DBIC - DBIx::Class interface for Dancer applications

</pre><h4><b>VERSION</b></h4><pre>
       version 0.2104

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Dancer;
           use Dancer::Plugin::DBIC qw(schema resultset rset);

           get '/users/:user_id' =&gt; sub {
               my $user_id = param 'user_id';
               my $user;

               # all of the following are equivalent:
               $user = schema('default')-&gt;resultset('User')-&gt;find($user_id);
               $user = schema-&gt;resultset('User')-&gt;find($user_id);
               $user = resultset('User')-&gt;find($user_id);
               $user = rset('User')-&gt;find($user_id);

               template user_profile =&gt; {
                   user =&gt; $user
               };
           };

           dance;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This plugin makes it very easy to create Dancer applications that interface with databases.  It
       automatically exports the keyword "schema" which returns a DBIx::Class::Schema object.  You just need to
       configure your database connection information.  For performance, schema objects are cached in memory and
       are lazy loaded the first time they are accessed.

       This plugin is now just a thin wrapper around DBICx::Sugar.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       Configuration can be done in your Dancer config file.

   <b>simple</b> <b>example</b>
       Here is a simple example. It defines one database named "default":

           plugins:
             DBIC:
               default:
                 dsn: dbi:SQLite:dbname=myapp.db
                 schema_class: MyApp::Schema

   <b>multiple</b> <b>schemas</b>
       In this example, there are 2 databases configured named "default" and "foo":

           plugins:
             DBIC:
               default:
                 dsn: dbi:SQLite:dbname=myapp.db
                 schema_class: MyApp::Schema
               foo:
                 dsn: dbi:Pg:dbname=foo
                 schema_class: Foo::Schema
                 user: bob
                 password: secret
                 options:
                   RaiseError: 1
                   PrintError: 1

       Each database configured must at least have a dsn option.  The dsn option should be the DBI driver
       connection string.  All other options are optional.

       If you only have one schema configured, or one of them is named "default", you can call "schema" without
       an argument to get the only or "default" schema, respectively.

       If a schema_class option is not provided, then DBIx::Class::Schema::Loader will be used to dynamically
       load the schema by introspecting the database corresponding to the dsn value.  You need
       DBIx::Class::Schema::Loader installed for this to work.

       WARNING: Dynamic loading is not recommended for production environments.  It is almost always better to
       provide a schema_class option.

       The schema_class option should be the name of your DBIx::Class::Schema class.  See "SCHEMA GENERATION"
       Optionally, a database configuration may have user, password, and options parameters as described in the
       documentation for connect() in DBI.

   <b>connect_info</b>
       Alternatively, you may also declare your connection information inside an array named "connect_info":

           plugins:
             DBIC:
               default:
                 schema_class: MyApp::Schema
                 connect_info:
                   - dbi:Pg:dbname=foo
                   - bob
                   - secret
                   -
                     RaiseError: 1
                     PrintError: 1

   <b>replicated</b>
       You can also add database read slaves to your configuration with the "replicated" config option.  This
       will automatically make your read queries go to a slave and your write queries go to the master.  Keep in
       mind that this will require additional dependencies:
       DBIx::Class::Optional::Dependencies#Storage::Replicated See DBIx::Class::Storage::DBI::Replicated for
       more details.  Here is an example configuration that adds two read slaves:

           plugins:
             DBIC:
               default:
                 schema_class: MyApp::Schema
                 dsn: dbi:Pg:dbname=master
                 replicated:
                   balancer_type: ::Random     # optional
                   balancer_args:              # optional
                       auto_validate_every: 5  # optional
                       master_read_weight:1    # optional
                   # pool_type and pool_args are also allowed and are also optional
                   replicants:
                     -
                       - dbi:Pg:dbname=slave1
                       - user1
                       - password1
                       -
                         quote_names: 1
                         pg_enable_utf8: 1
                     -
                       - dbi:Pg:dbname=slave2
                       - user2
                       - password2
                       -
                         quote_names: 1
                         pg_enable_utf8: 1

   <b>alias</b>
       Schema aliases allow you to reference the same underlying database by multiple names.  For example:

           plugins:
             DBIC:
               default:
                 dsn: dbi:Pg:dbname=master
                 schema_class: MyApp::Schema
               slave1:
                 alias: default

       Now you can access the default schema with schema(), schema('default'), or schema('slave1').  This can
       come in handy if, for example, you have master/slave replication in your production environment but only
       a single database in your development environment.  You can continue to reference schema('slave1') in
       your code in both environments by simply creating a schema alias in your development.yml config file, as
       shown above.

</pre><h4><b>FUNCTIONS</b></h4><pre>
   <b>schema</b>
           my $user = schema-&gt;resultset('User')-&gt;find('bob');

       The "schema" keyword returns a DBIx::Class::Schema object ready for you to use.  If you have configured
       only one database, then you can simply call "schema" with no arguments.  If you have configured multiple
       databases, you can still call "schema" with no arguments if there is a database named "default" in the
       configuration.  With no argument, the "default" schema is returned.  Otherwise, you <b>must</b> provide schema()
       with the name of the database:

           my $user = schema('foo')-&gt;resultset('User')-&gt;find('bob');

   <b>resultset</b>
       This is a convenience method that will save you some typing.  Use this <b>only</b> when accessing the "default"
       schema.

           my $user = resultset('User')-&gt;find('bob');

       is equivalent to:

           my $user = schema-&gt;resultset('User')-&gt;find('bob');

   <b>rset</b>
           my $user = rset('User')-&gt;find('bob');

       This is simply an alias for "resultset".

</pre><h4><b>SCHEMA</b> <b>GENERATION</b></h4><pre>
       Setting the schema_class option and having proper DBIx::Class classes is the recommended approach for
       performance and stability.  You can use the dbicdump command line tool provided by
       DBIx::Class::Schema::Loader to help you.  For example, if your app were named Foo, then you could run the
       following from the root of your project directory:

           dbicdump -o dump_directory=.<a href="file:/lib">/lib</a> Foo::Schema dbi:SQLite:/path/to/foo.db

       For this example, your "schema_class" setting would be 'Foo::Schema'.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       •   DBICx::Sugar

</pre><h4><b>CONTRIBUTORS</b></h4><pre>
       •   Alexis Sukrieh &lt;<a href="mailto:sukria@sukria.net">sukria@sukria.net</a>&gt;

       •   Dagfinn Ilmari Mannsåker &lt;&lt;https://github.com/ilmari&gt;&gt;

       •   David Precious &lt;<a href="mailto:davidp@preshweb.co.uk">davidp@preshweb.co.uk</a>&gt;

       •   Fabrice Gabolde &lt;&lt;https://github.com/fgabolde&gt;&gt;

       •   Franck Cuny &lt;<a href="mailto:franck@lumberjaph.net">franck@lumberjaph.net</a>&gt;

       •   Steven Humphrey &lt;&lt;https://github.com/shumphrey&gt;&gt;

       •   Yanick Champoux &lt;&lt;https://github.com/yanick&gt;&gt;

</pre><h4><b>AUTHORS</b></h4><pre>
       •   Al Newkirk &lt;<a href="mailto:awncorp@cpan.org">awncorp@cpan.org</a>&gt;

       •   Naveed Massjouni &lt;<a href="mailto:naveed@vt.edu">naveed@vt.edu</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2010 by awncorp.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.38.2                                       2024-01-21                          <u>Dancer::Plugin::<a href="../man3pm/DBIC.3pm.html">DBIC</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>