<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kcapi_aead_stream_init_dec - start a decryption operation (stream)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libkcapi-dev">libkcapi-dev_1.4.0-1ubuntu4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       kcapi_aead_stream_init_dec - start a decryption operation (stream)

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>ssize_t</b> <b>kcapi_aead_stream_init_dec(struct</b> <b>kcapi_handle</b> <b>*</b> <u>handle</u><b>,</b> <b>const</b> <b>uint8_t</b> <b>*</b> <u>iv</u><b>,</b> <b>struct</b> <b>iovec</b> <b>*</b> <u>iov</u><b>,</b>
                                          <b>size_t</b> <u>iovlen</u><b>);</b>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>handle</u>
           [in] cipher handle

       <u>iv</u>
           [in] IV to be used for cipher operation

       <u>iov</u>
           [in] scatter/gather list with data to be encrypted. This is the pointer to the first iov entry if an
           array of iov entries is supplied. See <a href="../man2/sendmsg.2.html">sendmsg</a>(2) for details on how iov is to be used. This pointer
           may be NULL if no data to be encrypted is available at the point of the call.

       <u>iovlen</u>
           [in] number of scatter/gather list elements. If iov is NULL, this value must be zero.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A stream decryption operation is started with this call. Multiple successive <b>kcapi_aead_stream_update</b>
       function calls can be invoked to send more ciphertext data to be encrypted. The kernel buffers the input
       until <b>kcapi_aead_stream_op</b> picks up the decrypted data. Once ciphertext is decrypted during the
       <b>kcapi_aead_stream_op</b> it is removed from the kernel buffer.

       Note, unlike the corresponding symmetric cipher API, the function calls of <b>kcapi_aead_stream_update</b> and
       <b>kcapi_aead_stream_op</b> cannot be mixed! This due to the nature of AEAD where the cipher operation ensures
       the integrity of the entire data (decryption) or calculates a message digest over the entire data
       (encryption).

       When using the stream API, the caller must ensure that data is sent in the correct order (regardless
       whether data is sent in multiple chunks using <b>kcapi_aead_stream_init_enc</b> or <b>kcapi_cipher_stream_update</b>):
       (i) the complete associated data must be provided, followed by (ii) the plaintext. For decryption, also
       (iii) the tag value must be sent.

       The IV buffer must be exactly <b>kcapi_cipher_ivsize</b> bytes in size.

       <u>return</u> number of bytes sent to the kernel upon success; a negative errno-style error code if an error
       occurred

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>Stephan</b> <b>Mueller</b> &lt;<a href="mailto:smueller@chronox.de">smueller@chronox.de</a>&gt;
           Author.

</pre><h4><b>COPYRIGHT</b></h4><pre>
libkcapi Manual 1.5.0                              April 2024                            <u><a href="../man3/KCAPI_AEAD_STREAM_IN.3.html">KCAPI_AEAD_STREAM_IN</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>