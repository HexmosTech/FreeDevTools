<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tk::Selection - Manipulate the X selection</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/perl-tk">perl-tk_804.036+dfsg1-5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tk::Selection - Manipulate the X selection

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>$widget</u>-&gt;<b>Selection</b><u>Option</u>?(<u>args</u>)?

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This command provides an interface to the X selection mechanism and implements the full selection
       functionality described in the X Inter-Client Communication Conventions Manual (ICCCM).

       The widget object used to invoke the methods below determines which display is used to access the
       selection.  In order to avoid conflicts with <b>selection</b> methods of widget classes (e.g. <b>Text</b>) this set of
       methods uses the prefix <b>Selection</b>.  The following methods are currently supported:

       <u>$widget</u>-&gt;<b>SelectionClear</b>?(<b>-selection</b>=&gt;<u>selection</u>)?
           If  <u>selection</u>  exists  anywhere  on  <u>$widget</u>'s display, clear it so that no window owns the selection
           anymore.  <u>Selection</u> specifies the X selection that should be cleared, and should be an atom name such
           as PRIMARY or CLIPBOARD; see the Inter-Client Communication Conventions Manual for complete  details.
           <u>Selection</u> defaults to PRIMARY.  Returns an empty string.

       <u>$widget</u>-&gt;<b>SelectionGet</b>?(?<b>-selection</b>=&gt;<u>selection</u>?,?<b>-type</b>=&gt;<u>type</u>?)?
           Retrieves  the  value  of  <u>selection</u>  from  <u>$widget</u>'s  display and returns it as a result.  <u>Selection</u>
           defaults to PRIMARY.

           <u>Type</u> specifies the form in which the  selection  is  to  be  returned  (the  desired  ``target''  for
           conversion,  in  ICCCM  terminology), and should be an atom name such as STRING or FILE_NAME; see the
           Inter-Client Communication Conventions Manual for complete details.  <u>Type</u> defaults  to  STRING.   The
           selection  owner  may  choose  to  return  the  selection  in any of several different representation
           formats, such as STRING, ATOM, INTEGER, etc. (this format is different than the selection  type;  see
           the ICCCM for all the confusing details).

           If  <u>format</u> is not STRING then things get messy, the following description is from the Tcl/Tk man page
           as yet incompetely translated for the perl version - it is misleading at best.

           If the selection is returned in a non-string format,  such  as  INTEGER  or  ATOM,  the  <b>SelectionGet</b>
           converts  it  to a list of perl values: atoms are converted to their textual names, and anything else
           is converted integers.

           A goal of the perl port is to provide better handling of different formats than  Tcl/Tk  does,  which
           should  be  possible  given  perl's wider range of ``types''. Although some thought went into this in
           very early days of perl/Tk what exactly happens is still "not quite right" and subject to change.

       <u>$widget</u>-&gt;<b>SelectionHandle</b>(?<b>-selection</b>=&gt;<u>selection</u>?,?<b>-type</b>=&gt;<u>type</u>?,?<b>-format</b>=&gt;<u>format</u>? <u>callback</u>)
           Creates a handler for selection requests, such that <u>callback</u> will be executed whenever  <u>selection</u>  is
           owned  by  <u>$widget</u>  and  someone  attempts  to  retrieve  it  in the form given by <u>type</u> (e.g. <u>type</u> is
           specified in the <b>selection</b> <b>get</b> command).  <u>Selection</u> defaults to PRIMARY, <u>type</u> defaults to STRING, and
           <u>format</u> defaults to STRING.  If <u>callback</u> is an empty string then any  existing  handler  for  <u>$widget</u>,
           <u>type</u>, and <u>selection</u> is removed.

           When <u>selection</u> is requested, <u>$widget</u> is the selection owner, and <u>type</u> is the requested type, <u>callback</u>
           will  be  executed  with  two  additional  arguments.   The  two  additional arguments are <u>offset</u> and
           <u>maxBytes</u>:  <u>offset</u> specifies a starting character position in the selection  and  <u>maxBytes</u>  gives  the
           maximum  number  of  bytes  to  retrieve.   The  command  should return a value consisting of at most
           <u>maxBytes</u> of the selection, starting at position <u>offset</u>.   For  very  large  selections  (larger  than
           <u>maxBytes</u>)  the  selection  will  be  retrieved  using several invocations of <u>callback</u> with increasing
           <u>offset</u> values.  If <u>callback</u> returns a string whose length is less than <u>maxBytes</u>, the return value  is
           assumed  to  include  all  of  the remainder of the selection;  if the length of <u>callback</u>'s result is
           equal to <u>maxBytes</u> then <u>callback</u> will be invoked again, until it eventually returns a  result  shorter
           than <u>maxBytes</u>.  The value of <u>maxBytes</u> will always be relatively large (thousands of bytes).

           If  <u>callback</u>  returns an error (e.g. via <b>die</b>) then the selection retrieval is rejected just as if the
           selection didn't exist at all.

           The <u>format</u> argument specifies the representation that should be used to transmit the selection to the
           requester (the second column of Table 2 of the ICCCM), and defaults to STRING.  If <u>format</u> is  STRING,
           the selection is transmitted as 8-bit ASCII characters (i.e.  just in the form returned by <u>command</u>).

           If  <u>format</u> is not STRING then things get messy, the following description is from the Tcl/Tk man page
           as yet untranslated for the perl version - it is misleading at best.

           If <u>format</u> is ATOM, then the return value from <u>command</u> is  divided  into  fields  separated  by  white
           space;   each  field is converted to its atom value, and the 32-bit atom value is transmitted instead
           of the atom name.  For any other <u>format</u>, the  return  value  from  <u>command</u>  is  divided  into  fields
           separated  by  white  space and each field is converted to a 32-bit integer;  an array of integers is
           transmitted to the selection requester.

           The <u>format</u> argument is needed only for compatibility with many selection requesters,  except  Tcl/Tk.
           If Tcl/Tk is being used to retrieve the selection then the value is converted back to a string at the
           requesting end, so <u>format</u> is irrelevant.

           A  goal  of  the perl port is to provide better handling of different formats than Tcl/Tk does, which
           should be possible given perl's wider range of ``types''. Although some thought  went  into  this  in
           very early days of perl/Tk what exactly happens is still "not quite right" and subject to change.

       <u>$widget</u>-&gt;<b>SelectionOwner</b>?(<b>-selection</b>=&gt;<u>selection</u>)?
           <b>SelectionOwner</b>  returns  the window in this application that owns <u>selection</u> on the display containing
           <u>$widget</u>, or an empty string if no window in this application owns the selection.  <u>Selection</u>  defaults
           to PRIMARY.

       <u>$widget</u>-&gt;<b>SelectionOwn</b>?(?<b>-command</b>=&gt;<u>callback</u>?,?<b>-selection</b>=&gt;<u>selection</u>?)?
           <b>SelectionOwn</b>  causes  <u>$widget</u> to become the new owner of <u>selection</u> on <u>$widget</u>'s display, returning an
           empty string as result. The existing owner, if any, is notified that it has lost the  selection.   If
           <u>callback</u>  is  specified, it will be executed when some other window claims ownership of the selection
           away from <u>$widget</u>.  <u>Selection</u> defaults to PRIMARY.

</pre><h4><b>KEYWORDS</b></h4><pre>
       clear, format, handler, ICCCM, own, selection, target, type

perl v5.40.1                                       2025-04-13                                     <u><a href="../man3pm/selection.3pm.html">selection</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>