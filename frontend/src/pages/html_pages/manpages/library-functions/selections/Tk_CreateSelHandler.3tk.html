<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tk_CreateSelHandler, Tk_DeleteSelHandler - arrange to handle requests for a selection</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tk9.0-doc">tk9.0-doc_9.0.1-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tk_CreateSelHandler, Tk_DeleteSelHandler - arrange to handle requests for a selection

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;tk.h&gt;</b>

       <b>Tk_CreateSelHandler</b>(<u>tkwin,</u> <u>selection,</u> <u>target,</u> <u>proc,</u> <u>clientData,</u> <u>format</u>)

       <b>Tk_DeleteSelHandler</b>(<u>tkwin,</u> <u>selection,</u> <u>target</u>)

</pre><h4><b>ARGUMENTS</b></h4><pre>
       Tk_Window <u>tkwin</u> (in)                      Window for which <u>proc</u> will provide selection information.

       Atom <u>selection</u> (in)                       The name of the selection for which <u>proc</u> will provide selection
                                                 information.

       Atom <u>target</u> (in)                          Form  in  which  <u>proc</u> can provide the selection (e.g. STRING or
                                                 FILE_NAME).   Corresponds  to  <u>type</u>  arguments   in   <b>selection</b>
                                                 commands.

       Tk_SelectionProc <u>*proc</u> (in)               Procedure  to  invoke  whenever the selection is owned by <u>tkwin</u>
                                                 and the selection contents are requested in the format given by
                                                 <u>target</u>.

       void <u>*clientData</u> (in)                     Arbitrary one-word value to pass to <u>proc</u>.

       Atom <u>format</u> (in)                          If the selection requestor  is  not  in  this  process,  <u>format</u>
                                                 determines the representation used to transmit the selection to
                                                 its requestor.
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Tk_CreateSelHandler</b>  arranges  for a particular procedure (<u>proc</u>) to be called whenever <u>selection</u> is owned
       by <u>tkwin</u> and the selection contents are requested in the form given by <u>target</u>.  <u>Target</u> should be  one  of
       the  entries defined in the left column of Table 2 of the X Inter-Client Communication Conventions Manual
       (ICCCM) or any other form in which an application is willing to present the selection.  The  most  common
       form is STRING.

       <u>Proc</u> should have arguments and result that match the type <b>Tk_SelectionProc</b>:
              typedef Tcl_Size <b>Tk_SelectionProc</b>(
                      void *<u>clientData</u>,
                      Tcl_Size <u>offset</u>,
                      char *<u>buffer</u>,
                      Tcl_Size <u>maxBytes</u>);
       The  <u>clientData</u>  parameter  to  <u>proc</u>  is  a copy of the <u>clientData</u> argument given to <b>Tk_CreateSelHandler</b>.
       Typically, <u>clientData</u> points to a data structure  containing  application-specific  information  that  is
       needed  to  retrieve  the  selection.   <u>Offset</u>  specifies  an  offset position into the selection, <u>buffer</u>
       specifies a location at which to copy information about the selection, and <u>maxBytes</u> specifies the  amount
       of  space  available at <u>buffer</u>.  <u>Proc</u> should place a NULL-terminated string at <u>buffer</u> containing <u>maxBytes</u>
       or fewer characters (not including the terminating NULL), and it should return a count of the  number  of
       non-NULL  characters  stored  at <u>buffer</u>.  If the selection no longer exists (e.g. it once existed but the
       user deleted the range of characters containing it), then <u>proc</u> should return -1.

       When transferring large selections, Tk will break them up into smaller pieces (typically a  few  thousand
       bytes  each)  for  more efficient transmission.  It will do this by calling <u>proc</u> one or more times, using
       successively higher values of <u>offset</u> to retrieve successive portions of the selection.  If <u>proc</u> returns a
       count less than <u>maxBytes</u> it means that the entire remainder of  the  selection  has  been  returned.   If
       <u>proc</u>'s return value is <u>maxBytes</u> it means there may be additional information in the selection, so Tk must
       make another call to <u>proc</u> to retrieve the next portion.

       <u>Proc</u>  always  returns selection information in the form of a character string.  However, the ICCCM allows
       for information to be transmitted from the selection owner to the selection requestor in any  of  several
       formats,  such  as  a  string,  an  array  of  atoms,  an array of integers, etc.  The <u>format</u> argument to
       <b>Tk_CreateSelHandler</b> indicates what format should be used to transmit the selection to its requestor  (see
       the  middle column of Table 2 of the ICCCM for examples).  If <u>format</u> is not STRING, then Tk will take the
       value returned by <u>proc</u> and divided it into fields separated by white space.  If <u>format</u> is ATOM,  then  Tk
       will  return  the selection as an array of atoms, with each field in <u>proc</u>'s result treated as the name of
       one atom.  For any other value of <u>format</u>, Tk will return the selection as an array of 32-bit values where
       each field of <u>proc</u>'s result is treated as a number and translated to a 32-bit value.  In any  event,  the
       <u>format</u> atom is returned to the selection requestor along with the contents of the selection.

       If  <b>Tk_CreateSelHandler</b>  is called when there already exists a handler for <u>selection</u> and <u>target</u> on <u>tkwin</u>,
       then the existing handler is replaced with a new one.

       <b>Tk_DeleteSelHandler</b> removes the handler given by <u>tkwin</u>, <u>selection</u>, and <u>target</u>, if such a handler  exists.
       If there is no such handler then it has no effect.

</pre><h4><b>KEYWORDS</b></h4><pre>
       format, handler, selection, target

Tk                                                     4.0                              <u><a href="../man3tk/Tk_CreateSelHandler.3tk.html">Tk_CreateSelHandler</a></u>(3tk)
</pre>
 </div>
</div></section>
</div>
</body>
</html>