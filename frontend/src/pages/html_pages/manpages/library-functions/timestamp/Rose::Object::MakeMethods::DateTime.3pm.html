<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rose::Object::MakeMethods::DateTime - Create methods that store DateTime objects.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/librose-object-perl">librose-object-perl_0.860-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Rose::Object::MakeMethods::DateTime - Create methods that store DateTime objects.

</pre><h4><b>SYNOPSIS</b></h4><pre>
         package MyObject;

         use Rose::Object::MakeMethods::DateTime
         (
           datetime =&gt;
           [
             'birthday',
             'arrival' =&gt; { tz =&gt; 'UTC' }
           ],
         );

         ...

         $obj = MyObject-&gt;new(birthday =&gt; '1/24/1984 1am');

         $dt = $obj-&gt;birthday; # DateTime object

         $bday = $obj-&gt;birthday(format =&gt; '%B %E'); # 'January 24th'

         # Shortcut for $obj-&gt;birthday-&gt;clone-&gt;truncate(to =&gt; 'month');
         $month = $obj-&gt;birthday(truncate =&gt; 'month');

         $obj-&gt;birthday('blah');       # croaks - invalid date!
         $obj-&gt;birthday('1999-04-31'); # croaks - invalid date!

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Rose::Object::MakeMethods::DateTime is a method maker that inherits from Rose::Object::MakeMethods.  See
       the Rose::Object::MakeMethods documentation to learn about the interface.  The method types provided by
       this module are described below.  All methods work only with hash-based objects.

</pre><h4><b>METHODS</b> <b>TYPES</b></h4><pre>
       <b>datetime</b>
           Create get/set methods for scalar attributes that store DateTime objects.

           Options
               "hash_key"
                   The  key  inside  the hash-based object to use for the storage of this attribute. Defaults to
                   the name of the method.

               "init_method"
                   The name of the method to call when initializing the value of an undefined  attribute.   This
                   option  is  only  applicable  when using the "get_set_init" interface. Defaults to the method
                   name with the prefix "init_" added.

                   This method  should  return  a  value  that  can  be  parsed  by  Rose::DateTime::Util's  the
                   <b>parse_date()</b>  function.  If the return value is a DateTime object, it will have its time zone
                   set (see the "tz" option below) using DateTime's <b>set_time_zone()</b> method.

               "interface"
                   Chooses one of the two possible interfaces.  Defaults to "get_set".

               "tz"
                   The time zone of the DateTime object to be stored.  If present, this value will be passed  as
                   the  second  argument  to  Rose::DateTime::Util's  the  <b>parse_date()</b>  function  when creating
                   DateTime objects for storage. If absent, DateTime objects will use the default time  zone  of
                   the  Rose::DateTime::Util  class,  which  is  set by Rose::DateTime::Util's <b>time_zone()</b> class
                   method.  See the Rose::DateTime::Util documentation for more information.

           Interfaces
               "get_set"
                   Creates a get/set accessor method for an object attribute that stores a DateTime object.

                   When called with a single argument, the argument  is  passed  through  Rose::DateTime::Util's
                   <b>parse_date()</b>  function  in  order  to create the DateTime object that is stored.  The current
                   value  of  the  attribute  is  returned.   Passing  a  value  that  is  not   understood   by
                   Rose::DateTime::Util's <b>parse_date()</b> function causes a fatal error.

                   When called with two arguments and the first argument is the string 'format', then the second
                   argument   is  taken  as  a  format  specifier  which  is  passed  to  Rose::DateTime::Util's
                   <b>format_date()</b> function.  The formatted string is returned.  In other words, this:

                       $obj-&gt;birthday(format =&gt; '%m/%d/%Y');

                   Is just a shortcut for this:

                       Rose::DateTime::Util::format_date($obj-&gt;birthday,
                                                         '%m/%d/%Y');

                   When called with two arguments and the first argument is  the  string  'truncate',  then  the
                   second  argument  is taken as a truncation specifier which is passed to DateTime's <b>truncate()</b>
                   method called on a clone of the existing DateTime object.   The  cloned,  truncated  DateTime
                   object is returned.  In other words, this:

                       $obj-&gt;birthday(truncate =&gt; 'month');

                   Is just a shortcut for this:

                       $obj-&gt;birthday-&gt;clone-&gt;truncate(to =&gt; 'month');

                   Passing  more  than  two  arguments  or passing two arguments where the first argument is not
                   'format' or 'truncate' will cause a fatal error.

               "get_set_init"
                   Behaves like the "get_set" interface unless the value of the attribute is undefined.  In that
                   case, the method specified by the "init_method" option is called, the return value is  passed
                   through  Rose::DateTime::Util's <b>parse_date()</b> function, and the attribute is set to the return
                   value.  An init method that returns a value that is not understood by  Rose::DateTime::Util's
                   <b>parse_date()</b> function will cause a fatal error.

           Example:

               package MyObject;

               use Rose::Object::MakeMethods::DateTime
               (
                 datetime =&gt;
                 [
                   'birthday',
                   'arrival' =&gt; { tz =&gt; 'UTC' }
                 ],

                 'datetime --get_set_init' =&gt;
                 [
                   'departure' =&gt; { tz =&gt; 'UTC' }
                 ],
               );

               sub init_departure
               {
                 DateTime-&gt;new(month =&gt; 1,
                               day   =&gt; 10,
                               year  =&gt; 2000,
                               time_zone =&gt; 'America/Chicago');
               }

               ...

               $obj = MyObject-&gt;new(birthday =&gt; '1/24/1984 1am');

               $dt = $obj-&gt;birthday; # DateTime object

               $bday = $obj-&gt;birthday(format =&gt; '%B %E'); # 'January 24th'

               # Shortcut for $obj-&gt;birthday-&gt;clone-&gt;truncate(to =&gt; 'month');
               $month = $obj-&gt;birthday(truncate =&gt; 'month');

               $obj-&gt;birthday('blah');       # croaks - invalid date!
               $obj-&gt;birthday('1999-04-31'); # croaks - invalid date!

               # DateTime object with time zone set to UTC
               $dt = $obj-&gt;arrival('2005-21-01 4pm');

               # DateTime object with time zone set to UTC, not America/Chicago!
               #   Start with 2000-01-10T00:00:00 America/Chicago,
               #   then set_time_zone('UTC'),
               #   which results in: 2000-01-10T06:00:00 UTC
               $dt = $obj-&gt;departure;

               print $dt; # "2000-01-10T06:00:00"

</pre><h4><b>AUTHOR</b></h4><pre>
       John C. Siracusa (<a href="mailto:siracusa@gmail.com">siracusa@gmail.com</a>)

</pre><h4><b>LICENSE</b></h4><pre>
       Copyright  (c)  2010  by  John C. Siracusa.  All rights reserved.  This program is free software; you can
       redistribute it and/or modify it under the same terms as Perl itself.

perl v5.34.0                                       2022-05-28              <u>Rose::Object::...thods::<a href="../man3pm/DateTime.3pm.html">DateTime</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>