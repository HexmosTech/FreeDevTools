<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Badger::Timestamp - object representation of a timestamp</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbadger-perl">libbadger-perl_0.16-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Badger::Timestamp - object representation of a timestamp

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Badger::Timestamp;

           # timestamp defaults to date/time now
           my $stamp = Badger::Timestamp-&gt;new();
           my $stamp = Badger::Timestamp-&gt;now();   # alias to new()

           # construct from seconds since epoch
           my $stamp = Badger::Timestamp-&gt;new($epoch_seconds);

           # or from ISO-8601 timestamp (or similar)
           my $stamp = Badger::Timestamp-&gt;new('2006-03-19 04:20:42');

           # or from individual arguments
           my $stamp = Badger::Timestamp-&gt;new(
               year    =&gt; 2006,
               month   =&gt; 3,
               day     =&gt; 19
               hours   =&gt; 4
               minutes =&gt; 20
               seconds =&gt; 42
           );

           # overloaded stringification operator calls timestamp() method
           print $stamp-&gt;timestamp;                # 2006-03-19 04:20:42
           print $stamp;                           # 2006-03-19 04:20:42

           # format using strftime()
           print $stamp-&gt;format('%d-%b-%y');

           # methods to access parts of date and time - in both singular
           # (month, year, etc) and plural (months, years, etc) forms
           print $stamp-&gt;date;                     # 2006-03-19
           print $stamp-&gt;year;                     # 2006
           print $stamp-&gt;month;                    # 03
           print $stamp-&gt;day;                      # 19
           print $stamp-&gt;time;                     # 04:20:42
           print $stamp-&gt;hours;                    # 04
           print $stamp-&gt;minutes;                  # 20
           print $stamp-&gt;seconds;                  # 42

           # update parts of date/time
           $stamp-&gt;<a href="../man2007/year.2007.html">year</a>(2007);
           print $stamp;                           # 2007-03-19 04:20:42

           # adjust date/time
           $stamp-&gt;adjust( months =&gt; 3  );         # 3 months time
           $stamp-&gt;adjust( days   =&gt; 60 );         # 60 days time
           $stamp-&gt;adjust( hours  =&gt; -3 );         # 3 hours ago

           # comparisons
           $stamp-&gt;compare($epoch_seconds);        # returns -1/0/1
           $stamp-&gt;compare($timestamp_string);
           $stamp-&gt;compare($timestamp_object);
           $stamp-&gt;compare( year =&gt; 2006, month =&gt; 03, ...etc... );
           $stamp-&gt;compare($hash_ref_of_named_params);

           $stamp-&gt;before($any_of_the_above);      # returns 1/0
           $stamp-&gt;after($any_of_the_above);       # returns 1/0

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module implements a small and simple object for representing a moment in time. Its scope is
       intentionally limited to the kind of applications that require very basic date and time functionality
       with minimal overhead. A typical example would be a CGI script or library generating a timestamp for a
       cookie, printing out a "last modified" date at the bottom of a web page, or adding a time stamp to a log
       file message without having the remember the right incantation to pass to "strftime()".

       For any non-trivial date manipulation you should almost certainly be using the most excellent DateTime
       modules instead.

       The goals of this implementation are:

       •   To  provide  an  OO  wrapper  of  convenience  around  the  core  date and time functions and modules
           ("time()", "localtime()", "strftime()", etc).

       •   To parse timestamps in ISO-8601 format (and formats sufficiently similar to it), such as  those  used
           to store timestamps in databases. e.g.  2009-04-20T04:20:00.

       •   To grok epoch times (seconds since lst January 1970) such as those used for file modification times.

       •   To  perform basic date manipulation, e.g adding or subtracting days, months, years, etc., such as you
           might want to do when constructing expiry dates for web content, cookies, etc.

       •   To perform simple date comparisons, e.g. so that you can see  if  one  of  the  previously  mentioned
           expiry dates has lapsed.

       The  module is derived from the Template Toolkit date plugin. It was moved out into stand-alone module in
       2006 for use in various commercial projects. It was made fully generic and moved into the Badger fold  in
       January 2009.

       Please note that this documentation may be incorrect or incomplete in places.

</pre><h4><b>EXPORTABLE</b> <b>SUBROUTINES</b></h4><pre>
   <b>TS</b> <b>/</b> <b>TIMESTAMP</b>
       These are shortcut aliases to "Badger::Timestamp".

           use Badger::Timestamp 'TS';

           my $ts = TS-&gt;new();         # same as Badger::Timestamp-&gt;new();

   <b>Timestamp()</b>
       This  subroutine returns the name of the "Badger::Timestamp" class when called without arguments. Thus it
       can be used as an alias for "Badger::Timestamp" as per TS.

           use Badger::Timestamp 'Timestamp';

           my $ts = Timestamp-&gt;new();  # same as Badger::Timestamp-&gt;new();

       When called with arguments, it creates a new "Badger::Timestamp" object.

           my $ts = Timestamp($date);  # same as Badger::Timestamp-&gt;new($date);

   <b>Now()</b>
       Returns a "Badger::Timestamp" for the current time.

</pre><h4><b>METHODS</b></h4><pre>
   <b>new($timestamp)</b>
       Constructor method to create a new "Badger::Timestamp" object from a timestamp string  or  seconds  since
       the epoch.

       The  timestamp should be specified as a date and time separated by a single space or upper case "T".  The
       date should contain 4 digits for the year and two for each of the month and day  separated  by  any  non-
       numerical  characters.   The  time is comprised of two digits for each of the hours, minutes and seconds,
       also separated by any non-numerical characters.

           # examples of valid formats
           my $stamp = Badger::Timestamp-&gt;new('2006-03-19 04:20:42');
           my $stamp = Badger::Timestamp-&gt;new('2006-03-19T04:20:42');
           my $stamp = Badger::Timestamp-&gt;new('2006/03/19 04:20:42');
           my $stamp = Badger::Timestamp-&gt;new('2006/03/19T04:20:42');

       The "Badger::Timestamp" module converts these to the canonical form of "YYYY-MM-DD HH:MM:SS"

           my $stamp = Badger::Timestamp-&gt;new('2006/03/19T04.20.42');
           print $stamp;       # 2006-03-19 04:20:42

       You can also construct a "Badger::Timestamp" object by specifying the number of seconds since the  epoch.
       This is the value return by system functions like "time()" and used for file creation/modification times.

           my $stamp = Badger::Timestamp-&gt;new(time());

       Or can can pass it an existing "Badger::Timestamp" object.

           my $stamp2 = Badger::Timestamp-&gt;new($stamp);

       If you don't specify any argument then you get the current system time as returned by "time()".

           my $now = Badger::Timestamp-&gt;new;

   <b>now()</b>
       Returns a "Badger::Timestamp" object representing the current date and time.

   <b>copy()</b>
       Returns a new "Badger::Timestamp" object creates as a copy of the current one.

           my $copy = $stamp-&gt;copy;

       This can be useful for making adjustments to a timestamp without affecting the original object.

           my $later = $stamp-&gt;copy-&gt;adjust( months =&gt; 3 );

   <b>timestamp()</b>
       Returns the complete timestamp in canonical form.

           print $stamp-&gt;timestamp();  # 2006-03-19 04:20:42

       This method is called automatically whenever the object is used as a string value.

           print $stamp;               # 2006-03-19 04:20:42

   <b>format($format)</b>
       Returns a formatted version of the timestamp, generated using the POSIX strftime function.

           print $stamp-&gt;format('%d-%b-%y');

   <b>date()</b>
       Returns the date component of the timestamp.

           print $stamp-&gt;date();       # 2006-03-19

   <b>year()</b> <b>/</b> <b>years()</b>
       Returns the year.

           print $stamp-&gt;year();       # 2006

       Can also be called with an argument to change the year.

           $stamp-&gt;<a href="../man2007/year.2007.html">year</a>(2007);

   <b>month()</b> <b>/</b> <b>months()</b>
       Returns the month.

           print $stamp-&gt;month();      # 03

       Can also be called with an argument to change the yonth.

           $stamp-&gt;<a href="../man04/month.04.html">month</a>(04);

   <b>day()</b> <b>/</b> <b>days()</b>
       Returns the day.

           print $stamp-&gt;day();        # 19

       Can also be called with an argument to change the day.

           $stamp-&gt;<a href="../man20/day.20.html">day</a>(20);

   <b>days_in_month()</b>
       Returns the number of days in the current month.  Accounts correctly for leap years.

   <b>leap_year()</b>
       Returns a true value (1) if the year is a leap year, a false value (0) if not.

   <b>time()</b>
       Returns the time component of the timestamp.

           print $stamp-&gt;time();       # 04:20:42

   <b>hour()</b> <b>/</b> <b>hours()</b>
       Returns the hours.

           print $stamp-&gt;hours();      # 04

       Can also be called with an argument to change the hours.

           $stamp-&gt;<a href="../man05/hours.05.html">hours</a>(05);

   <b>minute()</b> <b>/</b> <b>minutes()</b>
       Returns the minutes.

           print $stamp-&gt;minutes();    # 20

       Can also be called with an argument to change the minutes.

           $stamp-&gt;<a href="../man21/minutes.21.html">minutes</a>(21);

   <b>second()</b> <b>/</b> <b>seconds()</b>
       Returns the seconds.

           print $stamp-&gt;seconds();    # 42

       Can also be called with an argument to change the seconds.

           $stamp-&gt;<a href="../man42/seconds.42.html">seconds</a>(42);

   <b>epoch_time()</b>
       Returns the timestamp object as the number of seconds since the epoch time.

   <b>compare($when)</b>
       This  method  is used to chronologically compare two timestamps to determine if one is earlier, later, or
       exactly equal to another.

       The method can be passed another  "Badger::Timestamp"  object  to  compare  against  or  an  argument  or
       arguments  from which a "Badger::Timestamp" object can be constructed. If no arguments are passed then it
       defaults to a comparison against the current time.

           my $stamp = Badger::Timestamp-&gt;new('2009-01-10 04:20:00');

           $stamp-&gt;before($another_timestamp_object);
           $stamp-&gt;before('2009-04-20 04:20:00');
           $stamp-&gt;before($epoch_seconds);
           $stamp-&gt;before;                          # before now

       The method returns -1 if the timestamp object represents  a  time  before  the  timestamp  passed  as  an
       argument, 1 if it's after, or 0 if it's equal.

   <b>equal($when)</b>
       This  is  a method of convenience which uses <b>compare()</b> to test if two timestamps are equal.  You can pass
       it any of the arguments accepted by the <b>compare()</b> method.

           if ($time1-&gt;equal($time2)) {
               print "both timestamps are equal\n";
           }

       This method is overloaded onto the "==" operator, allowing you to perform more natural comparisons.

           if ($time1 == $time2) {
               print "both timestamps are equal\n";
           }

   <b>before($when)</b>
       This is a method of convenience which uses <b>compare()</b> to test if one timestamp occurs before another.   It
       returns  a  true  value (1) if the first timestamp (the object) is before the second (the argument), or a
       false value (0) otherwise.

           if ($time1-&gt;before($time2)) {
               print "time1 is before time2\n";
           }

       This method is overloaded onto the "&lt;" operator.

           if ($time1 &lt; $time2) {
               print "time1 is before time2\n";
           }

   <b>after($when)</b>
       This is a method of convenience which uses <b>compare()</b> to test if one timestamp occurs after  another.   It
       returns  a  true  value  (1) if the first timestamp (the object) is after the second (the argument), or a
       false value (0) otherwise.

           if ($time1-&gt;after($time2)) {
               print "time1 is after time2\n";
           }

       This method is overloaded onto the "&gt;" operator.

           if ($time1 &gt; $time2) {
               print "time1 is after time2\n";
           }

   <b>not_equal($when)</b>
       This is an alias to the <b>compare()</b> method.  It returns a  true  value  (-1  or  +1,  both  of  which  Perl
       considers to be true values) if the timestamps are not equal or false value (0) if they are.

           if ($time1-&gt;not_equal($time2)) {
               print "time1 is not equal to time2\n";
           }

       This method is overloaded onto the "!=" operator.

           if ($time1 != $time2) {
               print "time1 is not equal to time2\n";
           }

   <b>not_before($when)</b>
       This  is  a  method  of  convenience  which uses <b>compare()</b> to test if one timestamp does not occur before
       another. It returns a true value (1) if the first timestamp (the object) is equal to or after the  second
       (the argument), or a false value (0) otherwise.

           if ($time1-&gt;not_before($time2)) {
               print "time1 is not before time2\n";
           }

       This method is overloaded onto the "&gt;=" operator.

           if ($time1 &gt;= $time2) {
               print "time1 is not before time2\n";
           }

   <b>not_after($when)</b>
       This  is  a  method  of  convenience  which  uses <b>compare()</b> to test if one timestamp does not occur after
       another. It returns a true value (1) if the first timestamp (the object) is equal to or before the second
       (the argument), or a false value (0) otherwise.

           if ($time1-&gt;not_after($time2)) {
               print "time1 is not after time2\n";
           }

       This method is overloaded onto the "&lt;=" operator.

           if ($time1 &lt;= $time2) {
               print "time1 is not after time2\n";
           }

   <b>adjust(%adjustments)</b>
       Method to adjust the timestamp by a fixed amount or amounts.

           # positive adjustment
           $date-&gt;adjust( months =&gt; 6, years =&gt; 1 );

           # negative adjustment
           $date-&gt;adjust( months =&gt; -18, hours =&gt; -200 );

       Named parameters can be passed as arguments or via a hash reference.

           $date-&gt;adjust(  months =&gt; -18, hours =&gt; -200  );        # naked
           $date-&gt;adjust({ months =&gt; -18, hours =&gt; -200 });        # clothed

       You can specify units using singular (second, hour, month, etc) or plural (seconds, hours, minutes,  etc)
       keys.  The  method  will correctly handle values outside the usual ranges. For example, you can specify a
       change of 18 months, -200 hours, -99 seconds, and so on.

       A single non-reference argument is assumed to be a duration which is converted to a number of seconds via
       the <b>duration()</b> method.

   <b>duration($duration)</b>
       Returns the number of seconds in a duration. A single numerical argument is assumed to  be  a  number  of
       seconds and is returned unchanged.

           $date-&gt;<a href="../man300/adjust.300.html">adjust</a>(300);     # 300 seconds

       A  single  non-numerical argument should have a suffix indicating the units.  In "compact form" this is a
       single letter.  We use lower case "m" for minutes and upper case "M" for months.

           $date-&gt;adjust("300s");  # or "300 seconds"
           $date-&gt;adjust("90m");   # or "90 minutes"
           $date-&gt;adjust("3h");    # or "3 hours"
           $date-&gt;adjust("2d");    # or "2 days"
           $date-&gt;adjust("6M");    # or "6 months"
           $date-&gt;adjust("5y");    # or "5 years"

       Alternately you can spell the units out in full as shown in the right column  above.   However,  we  only
       look  at  the  first character of the following word so you can write all sorts of nonsense which we will
       dutifully accept without complaint.

           $date-&gt;adjust("5 sheep");   # 5 seconds
           $date-&gt;adjust("9 men");     # 9 minutes
           $date-&gt;adjust("3 yaks");    # 3 years

       For the sake of convenience, the method will automatically convert the word "month" into "Month" so  that
       the first letter is correctly capitalised.

</pre><h4><b>INTERNAL</b> <b>METHODS</b></h4><pre>
   <b>split_timestamp()</b>
       Splits a timestamp into its constituent parts.

   <b>join_timestamp()</b>
       Joins the constituent parts of a date back into a timestamp.

   <b>uncache()</b>
       Removes any internally cached items.  This is called automatically whenever the timestamp is modified.

</pre><h4><b>AUTHOR</b></h4><pre>
       Andy Wardley &lt;<a href="http://wardley.org">http://wardley.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2001-2009 Andy Wardley.  All Rights Reserved.

       This  module  is  free  software;  you  can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.36.0                                       2023-08-28                             <u>Badger::<a href="../man3pm/Timestamp.3pm.html">Timestamp</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>