<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dispatch_time, dispatch_walltime — Calculate temporal milestones</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libdispatch-dev">libdispatch-dev_0~svn197-3.3ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dispatch_time, dispatch_walltime — Calculate temporal milestones

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;dispatch/dispatch.h&gt;</b>

       <u>static</u> <u>const</u> <u>dispatch_time_t</u> <u>DISPATCH_TIME_NOW</u> <u>=</u> <u>0</u>;
       <u>static</u> <u>const</u> <u>dispatch_time_t</u> <u>DISPATCH_TIME_FOREVER</u> <u>=</u> <u>~0ull</u>;

       <u>dispatch_time_t</u>
       <b>dispatch_time</b>(<u>dispatch_time_t</u> <u>base</u>, <u>int64_t</u> <u>offset</u>);

       <u>dispatch_time_t</u>
       <b>dispatch_walltime</b>(<u>struct</u> <u>timespec</u> <u>*base</u>, <u>int64_t</u> <u>offset</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>dispatch_time</b>() and <b>dispatch_walltime</b>() functions provide a simple mechanism for expressing temporal
       milestones for use with dispatch functions that need timeouts or operate on a schedule.

       The <u>dispatch_time_t</u> type is a semi-opaque integer, with only the  special  values  <u>DISPATCH_TIME_NOW</u>  and
       <u>DISPATCH_TIME_FOREVER</u> being externally defined. All other values are represented using an internal format
       that is not safe for integer arithmetic or comparison.  The internal format is subject to change.

       The  <b>dispatch_time</b>()  function  returns a milestone relative to an existing milestone after adding <u>offset</u>
       nanoseconds.  If the <u>base</u> parameter maps internally to a wall clock, then the returned value is  relative
       to  the  wall  clock.   Otherwise, if <u>base</u> is <u>DISPATCH_TIME_NOW</u>, then the the current time of the default
       host clock is used.

       The <b>dispatch_walltime</b>() function is useful for creating a milestone relative to a  fixed  point  in  time
       using the wall clock, as specified by the optional <u>base</u> parameter. If <u>base</u> is NULL, then the current time
       of the wall clock is used.

</pre><h4><b>EDGE</b> <b>CONDITIONS</b></h4><pre>
       The  <b>dispatch_time</b>()  and  <b>dispatch_walltime</b>()  functions  detect  overflow and underflow conditions when
       applying the <u>offset</u> parameter.

       Overflow causes <u>DISPATCH_TIME_FOREVER</u> to be returned. When <u>base</u> is <u>DISPATCH_TIME_FOREVER</u>, then the <u>offset</u>
       parameter is ignored.

       Underflow causes the smallest representable value to be returned for a given clock.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Create a milestone two seconds in the future:

             milestone = dispatch_time(DISPATCH_TIME_NOW, 2LL * NSEC_PER_SEC);

       Create a milestone for use as an infinite timeout:

             milestone = DISPATCH_TIME_FOREVER;

       Create a milestone on Tuesday, January 19, 2038:

             struct timespec ts;
             ts.tv_sec = 0x7FFFFFFF;
             ts.tv_nsec = 0;
             milestone = dispatch_walltime(&amp;ts, 0);

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       These functions return an  abstract  value  for  use  with  <b>dispatch_after</b>(),  <b>dispatch_group_wait</b>(),  or
       <b>dispatch_semaphore_wait</b>().

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/dispatch.3.html">dispatch</a></u>(3), <u><a href="../man3/dispatch_after.3.html">dispatch_after</a></u>(3), <u><a href="../man3/dispatch_group_create.3.html">dispatch_group_create</a></u>(3), <u><a href="../man3/dispatch_semaphore_create.3.html">dispatch_semaphore_create</a></u>(3)

Darwin                                             May 1, 2009                                  <u><a href="../man3/dispatch_time.3.html">dispatch_time</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>