<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALLEGRO_EVENT - Allegro 5 API</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/allegro5-doc">allegro5-doc_5.2.10.1+dfsg-1build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ALLEGRO_EVENT - Allegro 5 API

</pre><h4><b>SYNOPSIS</b></h4><pre>
              #include &lt;allegro5/allegro.h&gt;

              typedef union ALLEGRO_EVENT ALLEGRO_EVENT;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       An  ALLEGRO_EVENT  is  a union of all builtin event structures, i.e. it is an object large enough to hold
       the data of any event type.  All events have the following fields in common:

       type (ALLEGRO_EVENT_TYPE)
              Indicates the type of event.

       any.source (ALLEGRO_EVENT_SOURCE *)
              The event source which generated the event.

       any.timestamp (double)
              When the event was generated.

       By examining the type field you can then access type-specific fields.  The  any.source  field  tells  you
       which event source generated that particular event.  The any.timestamp field tells you when the event was
       generated.  The time is referenced to the same starting point as <a href="../man3alleg5/al_get_time.3alleg5.html">al_get_time</a>(3alleg5).

       Each event is of one of the following types, with the usable fields given.

   <b>ALLEGRO_EVENT_JOYSTICK_AXIS</b>
       A joystick axis value changed.

       joystick.id (ALLEGRO_JOYSTICK *)
              The joystick which generated the event.  This is not the same as the event source joystick.source.

       joystick.stick (int)
              The stick number, counting from zero.  Axes on a joystick are grouped into “sticks”.

       joystick.axis (int)
              The axis number on the stick, counting from zero.

       joystick.pos (float)
              The axis position, from -1.0 to +1.0.

   <b>ALLEGRO_EVENT_JOYSTICK_BUTTON_DOWN</b>
       A joystick button was pressed.

       joystick.id (ALLEGRO_JOYSTICK *)
              The joystick which generated the event.

       joystick.button (int)
              The button which was pressed, counting from zero.

   <b>ALLEGRO_EVENT_JOYSTICK_BUTTON_UP</b>
       A joystick button was released.

       joystick.id (ALLEGRO_JOYSTICK *)
              The joystick which generated the event.

       joystick.button (int)
              The button which was released, counting from zero.

   <b>ALLEGRO_EVENT_JOYSTICK_CONFIGURATION</b>
       A joystick was plugged in or unplugged.  See <a href="../man3alleg5/al_reconfigure_joysticks.3alleg5.html">al_reconfigure_joysticks</a>(3alleg5) for details.

   <b>ALLEGRO_EVENT_KEY_DOWN</b>
       A keyboard key was pressed.

       keyboard.keycode (int)
              The code corresponding to the physical key which was pressed.  See the [Key codes] section for the
              list of ALLEGRO_KEY_* constants.

       keyboard.display (ALLEGRO_DISPLAY *)
              The display which had keyboard focus when the event occurred.

              <u>Note:</u>  this  event  is  about  the  physical  keys  being  pressed  on  the  keyboard.   Look  for
              ALLEGRO_EVENT_KEY_CHAR events for character input.

   <b>ALLEGRO_EVENT_KEY_UP</b>
       A keyboard key was released.

       keyboard.keycode (int)
              The code corresponding to the physical key which was released.  See the [Key  codes]  section  for
              the list of ALLEGRO_KEY_* constants.

       keyboard.display (ALLEGRO_DISPLAY *)
              The display which had keyboard focus when the event occurred.

   <b>ALLEGRO_EVENT_KEY_CHAR</b>
       A character was typed on the keyboard, or a character was auto-repeated.

       keyboard.keycode (int)
              The  code  corresponding  to the physical key which was last pressed.  See the [Key codes] section
              for the list of ALLEGRO_KEY_* constants.

       keyboard.unichar (int)
              A Unicode code point (character).  This <u>may</u> be zero or negative if the event was generated  for  a
              non-visible  “character”,  such  as  an  arrow or Function key.  In that case you can act upon the
              keycode field.

              Some special keys will set the unichar field to their standard  ASCII  values:  Tab=9,  Return=13,
              Escape=27.   In  addition if you press the Control key together with A to Z the unichar field will
              have the values 1 to 26.  For example Ctrl-A will set unichar to 1 and Ctrl-H will set it to 8.

              As of Allegro 5.0.2 there are some inconsistencies in the treatment of Backspace (8  or  127)  and
              Delete (127 or 0) keys on different platforms.  These can be worked around by checking the keycode
              field.

       keyboard.modifiers (unsigned)
              This is a bitfield of the modifier keys which were pressed when the event occurred.  See “Keyboard
              modifier flags” for the constants.

       keyboard.repeat (bool)
              Indicates if this is a repeated character.

       keyboard.display (ALLEGRO_DISPLAY *)
              The display which had keyboard focus when the event occurred.

              <u>Note</u>:  in  many  input  methods, characters are <u>not</u> entered one-for-one with physical key presses.
              Multiple key presses can combine to generate a single character, e.g. apostrophe + e  may  produce
              `é'.   Fewer  key  presses  can  also  generate more characters, e.g. macro sequences expanding to
              common phrases.

   <b>ALLEGRO_EVENT_MOUSE_AXES</b>
       One or more mouse axis values changed.

       mouse.x (int)
              x-coordinate

       mouse.y (int)
              y-coordinate

       mouse.z (int)
              z-coordinate.  This usually means the vertical axis of a mouse wheel, where  up  is  positive  and
              down is negative.

       mouse.w (int)
              w-coordinate.  This usually means the horizontal axis of a mouse wheel.

       mouse.dx (int)
              Change in the x-coordinate value since the previous ALLEGRO_EVENT_MOUSE_AXES event.

       mouse.dy (int)
              Change in the y-coordinate value since the previous ALLEGRO_EVENT_MOUSE_AXES event.

       mouse.dz (int)
              Change in the z-coordinate value since the previous ALLEGRO_EVENT_MOUSE_AXES event.

       mouse.dw (int)
              Change in the w-coordinate value since the previous ALLEGRO_EVENT_MOUSE_AXES event.

       mouse.pressure (float)
              Pressure, ranging from 0.0 to 1.0.

       mouse.display (ALLEGRO_DISPLAY *)
              The display which had mouse focus.

              <u>Note:</u>  Calling  <a href="../man3alleg5/al_set_mouse_xy.3alleg5.html">al_set_mouse_xy</a>(3alleg5)  also  will result in a change of axis values, but such a
              change is reported with <a href="../man3alleg5/ALLEGRO_EVENT_MOUSE_WARPED.3alleg5.html">ALLEGRO_EVENT_MOUSE_WARPED</a>(3alleg5) events  instead  which  are  identical
              except for their type.

              <u>Note:</u>   currently   mouse.display   may   be  NULL  if  an  event  is  generated  in  response  to
              <a href="../man3alleg5/al_set_mouse_axis.3alleg5.html">al_set_mouse_axis</a>(3alleg5).

   <b>ALLEGRO_EVENT_MOUSE_BUTTON_DOWN</b>
       A mouse button was pressed.

       mouse.x (int)
              x-coordinate

       mouse.y (int)
              y-coordinate

       mouse.z (int)
              z-coordinate

       mouse.w (int)
              w-coordinate

       mouse.button (unsigned)
              The mouse  button  which  was  pressed,  numbering  from  1.   As  a  convenience,  the  constants
              ALLEGRO_MOUSE_BUTTON_LEFT,  ALLEGRO_MOUSE_BUTTON_RIGHT,  ALLEGRO_MOUSE_BUTTON_MIDDLE are provided.
              However, depending on the hardware there may be more  or  fewer  mouse  buttons.   You  can  check
              <a href="../man3alleg5/al_get_mouse_num_buttons.3alleg5.html">al_get_mouse_num_buttons</a>(3alleg5) if you want to be sure.

       mouse.pressure (float)
              Pressure, ranging from 0.0 to 1.0.

       mouse.display (ALLEGRO_DISPLAY *)
              The display which had mouse focus.

   <b>ALLEGRO_EVENT_MOUSE_BUTTON_UP</b>
       A mouse button was released.

       mouse.x (int)
              x-coordinate

       mouse.y (int)
              y-coordinate

       mouse.z (int)
              z-coordinate

       mouse.w (int)
              w-coordinate

       mouse.button (unsigned)
              The  mouse  button  which  was  released,  numbering  from  1.   As  a  convenience, the constants
              ALLEGRO_MOUSE_BUTTON_LEFT, ALLEGRO_MOUSE_BUTTON_RIGHT, ALLEGRO_MOUSE_BUTTON_MIDDLE  are  provided.
              However,  depending  on  the  hardware  there  may  be more or fewer mouse buttons.  You can check
              <a href="../man3alleg5/al_get_mouse_num_buttons.3alleg5.html">al_get_mouse_num_buttons</a>(3alleg5) if you want to be sure.

       mouse.pressure (float)
              Pressure, ranging from 0.0 to 1.0.

       mouse.display (ALLEGRO_DISPLAY *)
              The display which had mouse focus.

   <b>ALLEGRO_EVENT_MOUSE_WARPED</b>
       <a href="../man3alleg5/al_set_mouse_xy.3alleg5.html">al_set_mouse_xy</a>(3alleg5)   was   called   to   move   the   mouse.    This   event   is   identical    to
       ALLEGRO_EVENT_MOUSE_AXES otherwise.

   <b>ALLEGRO_EVENT_MOUSE_ENTER_DISPLAY</b>
       The mouse cursor entered a window opened by the program.

       mouse.x (int)
              x-coordinate

       mouse.y (int)
              y-coordinate

       mouse.z (int)
              z-coordinate

       mouse.w (int)
              w-coordinate

       mouse.display (ALLEGRO_DISPLAY *)
              The display which had mouse focus.

   <b>ALLEGRO_EVENT_MOUSE_LEAVE_DISPLAY</b>
       The mouse cursor left the boundaries of a window opened by the program.

       mouse.x (int)
              x-coordinate

       mouse.y (int)
              y-coordinate

       mouse.z (int)
              z-coordinate

       mouse.w (int)
              w-coordinate

       mouse.display (ALLEGRO_DISPLAY *)
              The display which had mouse focus.

   <b>ALLEGRO_EVENT_TOUCH_BEGIN</b>
       The touch input device registered a new touch.

       touch.display (ALLEGRO_DISPLAY)
              The display which was touched.

       touch.id (int)
              An  identifier  for  this touch.  If supported by the device it will stay the same for events from
              the same finger until the touch ends.

       touch.x (float)
              The x coordinate of the touch in pixels.

       touch.y (float)
              The y coordinate of the touch in pixels.

       touch.dx (float)
              Movement speed in pixels in x direction.

       touch.dy (float)
              Movement speed in pixels in y direction.

       touch.primary (bool)
              Whether this is the only/first touch or an additional touch.

</pre><h4><b>SINCE</b></h4><pre>
       5.1.0

   <b>ALLEGRO_EVENT_TOUCH_END</b>
       A touch ended.

       Has the same fields as <a href="../man3alleg5/ALLEGRO_EVENT_TOUCH_BEGIN.3alleg5.html">ALLEGRO_EVENT_TOUCH_BEGIN</a>(3alleg5).

</pre><h4><b>SINCE</b></h4><pre>
       5.1.0

   <b>ALLEGRO_EVENT_TOUCH_MOVE</b>
       The position of a touch changed.

       Has the same fields as <a href="../man3alleg5/ALLEGRO_EVENT_TOUCH_BEGIN.3alleg5.html">ALLEGRO_EVENT_TOUCH_BEGIN</a>(3alleg5).

</pre><h4><b>SINCE</b></h4><pre>
       5.1.0

   <b>ALLEGRO_EVENT_TOUCH_CANCEL</b>
       A touch was cancelled.  This is device specific but could for example mean that a finger  moved  off  the
       border of the device or moved so fast that it could not be tracked any longer.

       Has the same fields as <a href="../man3alleg5/ALLEGRO_EVENT_TOUCH_BEGIN.3alleg5.html">ALLEGRO_EVENT_TOUCH_BEGIN</a>(3alleg5).

</pre><h4><b>SINCE</b></h4><pre>
       5.1.0

   <b>ALLEGRO_EVENT_TIMER</b>
       A [timer]<a href="../man3alleg5/ALLEGRO_TIMER.3alleg5.html">ALLEGRO_TIMER</a>(3alleg5) counter incremented.

       timer.source (ALLEGRO_TIMER *)
              The timer which generated the event.

       timer.count (int64_t)
              The timer count value.

   <b>ALLEGRO_EVENT_DISPLAY_EXPOSE</b>
       The display (or a portion thereof) has become visible.

       display.source (ALLEGRO_DISPLAY *)
              The display which was exposed.

       display.x (int)
              The X position of the top-left corner of the rectangle which was exposed.

       display.y (int)
              The Y position of the top-left corner of the rectangle which was exposed.

       display.width (int)
              The width of the rectangle which was exposed.

       display.height (int)
              The height of the rectangle which was exposed.

              <u>Note:</u> The display needs to be created with ALLEGRO_GENERATE_EXPOSE_EVENTS flag for these events to
              be generated.

   <b>ALLEGRO_EVENT_DISPLAY_RESIZE</b>
       The window has been resized.

       display.source (ALLEGRO_DISPLAY *)
              The display which was resized.

       display.x (int)
              The X position of the top-left corner of the display.

       display.y (int)
              The Y position of the top-left corner of the display.

       display.width (int)
              The new width of the display.

       display.height (int)
              The new height of the display.

       You should normally respond to these events by calling <a href="../man3alleg5/al_acknowledge_resize.3alleg5.html">al_acknowledge_resize</a>(3alleg5).  Note that further
       resize  events  may  be  generated  by  the time you process the event, so these fields may hold outdated
       information.

   <b>ALLEGRO_EVENT_DISPLAY_CLOSE</b>
       The close button of the window has been pressed.

       display.source (ALLEGRO_DISPLAY *)
              The display which was closed.

   <b>ALLEGRO_EVENT_DISPLAY_LOST</b>
       When using Direct3D, displays can enter a “lost” state.  In that state, drawing calls  are  ignored,  and
       upon entering the state, bitmap’s pixel data can become undefined.  Allegro does its best to preserve the
       correct  contents  of bitmaps (see the ALLEGRO_NO_PRESERVE_TEXTURE flag) and restore them when the device
       is “found” (see <a href="../man3alleg5/ALLEGRO_EVENT_DISPLAY_FOUND.3alleg5.html">ALLEGRO_EVENT_DISPLAY_FOUND</a>(3alleg5)).   However,  this  is  not  100%  fool  proof  (see
       discussion in <a href="../man3alleg5/al_create_bitmap.3alleg5.html">al_create_bitmap</a>(3alleg5)’s documentation).

              <u>Note:</u>  This  event  merely  means  that  the  display was lost, that is, DirectX suddenly lost the
              contents of all video bitmaps.  In particular, you can keep calling drawing functions – they  just
              most likely won’t do anything.  If Allegro’s restoration of the bitmaps works well for you then no
              further action is required when you receive this event.

       display.source (ALLEGRO_DISPLAY *)
              The display which was lost.

   <b>ALLEGRO_EVENT_DISPLAY_FOUND</b>
       Generated when a lost device is restored to operating state.  See <a href="../man3alleg5/ALLEGRO_EVENT_DISPLAY_LOST.3alleg5.html">ALLEGRO_EVENT_DISPLAY_LOST</a>(3alleg5).

       display.source (ALLEGRO_DISPLAY *)
              The display which was found.

   <b>ALLEGRO_EVENT_DISPLAY_SWITCH_OUT</b>
       The window is no longer active, that is the user might have clicked into another window or “tabbed” away.
       In  response  to  this  event  you  might want to call <a href="../man3alleg5/al_clear_keyboard_state.3alleg5.html">al_clear_keyboard_state</a>(3alleg5) (possibly passing
       display.source as its argument) in order to prevent Allegro’s keyboard state from getting out of sync.

       display.source (ALLEGRO_DISPLAY *)
              The display which was switched out of.

   <b>ALLEGRO_EVENT_DISPLAY_SWITCH_IN</b>
       The window is the active one again.

       display.source (ALLEGRO_DISPLAY *)
              The display which was switched into.

   <b>ALLEGRO_EVENT_DISPLAY_ORIENTATION</b>
       Generated when the rotation or orientation of a display changes.

       display.source (ALLEGRO_DISPLAY *)
              The display which generated the event.

       event.display.orientation
              Contains one of the following values:

              • ALLEGRO_DISPLAY_ORIENTATION_0_DEGREES

              • ALLEGRO_DISPLAY_ORIENTATION_90_DEGREES

              • ALLEGRO_DISPLAY_ORIENTATION_180_DEGREES

              • ALLEGRO_DISPLAY_ORIENTATION_270_DEGREES

              • ALLEGRO_DISPLAY_ORIENTATION_FACE_UP

              • ALLEGRO_DISPLAY_ORIENTATION_FACE_DOWN

   <b>ALLEGRO_EVENT_DISPLAY_HALT_DRAWING</b>
       When  a  display  receives  this   event   it   should   stop   doing   any   drawing   and   then   call
       <a href="../man3alleg5/al_acknowledge_drawing_halt.3alleg5.html">al_acknowledge_drawing_halt</a>(3alleg5) immediately.

       This is currently only relevant for Android and iOS.  It will be sent when the application is switched to
       background  mode,  in addition to <a href="../man3alleg5/ALLEGRO_EVENT_DISPLAY_SWITCH_OUT.3alleg5.html">ALLEGRO_EVENT_DISPLAY_SWITCH_OUT</a>(3alleg5).  The latter may also be sent
       in situations where the application is not active but still should continue drawing, for example  when  a
       popup is displayed in front of it.

              <u>Note:</u>  This  event  means that the next time you call a drawing function, your program will crash.
              So you <u>must</u> stop drawing and you <u>must</u> immediately reply with <a href="../man3alleg5/al_acknowledge_drawing_halt.3alleg5.html">al_acknowledge_drawing_halt</a>(3alleg5).
              Allegro sends this event because it cannot handle this automatically.  Your program might be doing
              the drawing in a different thread from the event handling, in which case the drawing thread  needs
              to be signaled to stop drawing before acknowledging this event.

              <u>Note:</u>  Mobile  devices  usually never quit an application, so to prevent the battery from draining
              while your application is halted it can be a good idea to call <a href="../man3alleg5/al_stop_timer.3alleg5.html">al_stop_timer</a>(3alleg5) on all  your
              timers, otherwise they will keep generating events.  If you are using audio, you can also stop all
              audio  voices  (or  pass  NULL  to  <a href="../man3alleg5/al_set_default_voice.3alleg5.html">al_set_default_voice</a>(3alleg5)  if  you use the default mixer),
              otherwise Allegro will keep streaming silence to the voice even if the stream or mixer are stopped
              or detached.

</pre><h4><b>SINCE</b></h4><pre>
       5.1.0

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3alleg5/ALLEGRO_EVENT_DISPLAY_RESUME_DRAWING.3alleg5.html">ALLEGRO_EVENT_DISPLAY_RESUME_DRAWING</a>(3alleg5)

   <b>ALLEGRO_EVENT_DISPLAY_RESUME_DRAWING</b>
       When  a  display  receives  this   event,   it   may   resume   drawing   again,   and   it   must   call
       <a href="../man3alleg5/al_acknowledge_drawing_resume.3alleg5.html">al_acknowledge_drawing_resume</a>(3alleg5) immediately.

       This  is currently only relevant for Android and iOS.  The event will be sent when an application returns
       from  background  mode  and   is   allowed   to   draw   to   the   display   again,   in   addition   to
       <a href="../man3alleg5/ALLEGRO_EVENT_DISPLAY_SWITCH_IN.3alleg5.html">ALLEGRO_EVENT_DISPLAY_SWITCH_IN</a>(3alleg5).   The  latter  event  may also be sent in a situation where the
       application is already active, for example when a popup in front of it closes.

              <u>Note:</u> Unlike <a href="../man3alleg5/ALLEGRO_EVENT_DISPLAY_FOUND.3alleg5.html">ALLEGRO_EVENT_DISPLAY_FOUND</a>(3alleg5) it is not necessary to reload any  bitmaps  when
              you receive this event.

</pre><h4><b>SINCE</b></h4><pre>
       5.1.0

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3alleg5/ALLEGRO_EVENT_DISPLAY_HALT_DRAWING.3alleg5.html">ALLEGRO_EVENT_DISPLAY_HALT_DRAWING</a>(3alleg5)

   <b>ALLEGRO_EVENT_DISPLAY_CONNECTED</b>
       This  event  is  sent  when a physical display is connected to the device Allegro runs on.  Currently, on
       most platforms, Allegro supports only a single physical display.  However, on iOS, a  secondary  physical
       display is supported.

       display.source (ALLEGRO_DISPLAY *)
              The display which was connected.

</pre><h4><b>SINCE</b></h4><pre>
       5.1.1

   <b>ALLEGRO_EVENT_DISPLAY_DISCONNECTED</b>
       This  event  is sent when a physical display is disconnected from the device Allegro runs on.  Currently,
       on most platforms, Allegro supports only a  single  physical  display.   However,  on  iOS,  a  secondary
       physical display is supported.

       display.source (ALLEGRO_DISPLAY *)
              The display which was disconnected.

   <b>ALLEGRO_EVENT_DROP</b>
       If  a  display  is created with the ALLEGRO_DRAG_AND_DROP flag it will generate ALLEGRO_EVENT_DROP events
       when files or text are dropped over the display.

       drop.x (int)
              X coordinate that something is being dragged to

       drop.y (int)
              Y coordinate that something is being dragged to

       drop.text (char *)
              the filename or text that was dropped - this will be NULL while the item is being dragged and only
              set at the final drop.

                     <u>Note</u>: if the <u>text</u> field is not NULL ownership transfers to the event receiver and  it  must
                     eventually be freed with al_free.

       drop.is_file (bool)
              if text is not NULL whether the text is a filename or just plain text.

       drop.row (int)
              if there is multiple files or multiple rows of text this will number them, starting with 0.

       drop.is_complete (bool)
              indicates  that  this event will be the last one sent for the drag&amp;drop action.  If <u>is_complete</u> is
              set before receiving an event where <u>text</u> was not NULL it means the user aborted the drag&amp;drop.

</pre><h4><b>SINCE</b></h4><pre>
       5.2.9

              <u>[Unstable</u> <u>API]:</u> This is an experimental feature and currently only works for the X11 backend.

Allegro reference manual                                                                  <u><a href="../man3alleg5/ALLEGRO_EVENT.3alleg5.html">ALLEGRO_EVENT</a></u>(3alleg5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>