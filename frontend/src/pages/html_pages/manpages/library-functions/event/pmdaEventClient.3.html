<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmdaEventNewClient, pmdaEventEndClient, pmdaEventClients - client context tracking interfaces for event</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpcp3-dev">libpcp3-dev_6.3.8-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmdaEventNewClient</b>, <b>pmdaEventEndClient</b>, <b>pmdaEventClients</b> - client context tracking interfaces for event
       queues

</pre><h4><b>C</b> <b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;pcp/pmapi.h&gt;</b>
       <b>#include</b> <b>&lt;pcp/pmda.h&gt;</b>

       <b>int</b> <b>pmdaEventNewClient(int</b> <u>context</u><b>);</b>
       <b>int</b> <b>pmdaEventEndClient(int</b> <u>context</u><b>);</b>
       <b>int</b> <b>pmdaEventClients(pmAtomValue</b> <b>*</b><u>avp</u><b>);</b>

       <b>cc</b> <b>...</b> <b>-lpcp_pmda</b> <b>-lpcp</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A  Performance  Metrics  Domain  Agent (PMDA) that exports event records needs to track which clients are
       connected to it, in order that it can track which events have been sent to which clients  so  far.   Only
       once an event has been sent to all monitoring tools that registered an interest can the event be discard‐
       ed and any memory reclaimed.

       The  <b><a href="../man3/PMDA.3.html">PMDA</a></b>(3)  library provides callback routines for PMDA developers to provide custom handling of client
       connections and disconnections.  If the PMDA is making use of the event queuing mechanism provided by <b>pm‐</b>
       <b><a href="../man3/daEventNewQueue.3.html">daEventNewQueue</a></b>(3) and friends, client connections and disconnections must be tracked via  calls  to  <b>pm‐</b>
       <b>daEventNewClient</b>  and  <b>pmdaEventEndClient</b>  respectively.   This  allows the library to keep track of when
       events can be discarded from a queue, for example, for the <u>context</u> specified.  This parameter  is  passed
       into the e_endCallBack function directly, and for other callback functions is available via the e_context
       field of the pmdaExt structure.  Additionally, it can be queried at any time using <b><a href="../man3/pmdaGetContext.3.html">pmdaGetContext</a></b>(3).

       Sometimes it is useful for the PMDA to export a metric indicating the current count of attached clients -
       this is available using the <b>pmdaEventClients</b> routine, which will fill in the <u>avp</u> pmAtomValue structure on
       behalf of a PMDA fetch callback routine.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/pmdaEventNewArray.3.html">pmdaEventNewArray</a></b>(3), <b><a href="../man3/pmdaEventNewQueue.3.html">pmdaEventNewQueue</a></b>(3), <b><a href="../man3/PMAPI.3.html">PMAPI</a></b>(3), <b><a href="../man3/PMDA.3.html">PMDA</a></b>(3) and <b><a href="../man3/pmEventFlagsStr.3.html">pmEventFlagsStr</a></b>(3).

Performance Co-Pilot                                   PCP                                    <u><a href="../man3/PMDAEVENTCLIENT.3.html">PMDAEVENTCLIENT</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>