<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::SIP::DTMF - DTMF RTP packet generating and extracting</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-sip-perl">libnet-sip-perl_0.838-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::SIP::DTMF - DTMF RTP packet generating and extracting

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Net::SIP::DTMF;
         my $sub = dtmf_generator(
           11,                  # event '#'
               100,                 # duration 100ms
               rfc2833_type =&gt; 101, # RTP type 101 for telephone-event/8000
               # audio_type =&gt; 0,   # RTP type 0 for PCMU/8000, 8 for PCMA/8000
         );
         while (...) {
               my @pkt = $sub-&gt;($sequence,$timestamp,$srcid);
               last if ! @pkt;        # dtmf done
               next if $buf[0] eq ''; # more coming, but no data this time (pause)
               .. send @pkts ...
         }

         use Net::SIP::DTMF;
         my $sub = dtmf_extractor(
               rfc2833_type =&gt; 101, # RTP type 101 for telephone-event/8000
               audio_type =&gt; 0,     # RTP type 0 for PCMU/8000, 8 for PCMA/8000
         );
         while (...) {
               if ( my ($event,$duration,$type) = $sub-&gt;($packet)) {
                 # event received
                 ...
               }
         }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This package provides functions for generating RTP packets containing DTMF events or extracting DTMF
       events from RTP packets.

</pre><h4><b>FUNCTIONS</b></h4><pre>
       dtmf_generator ( EVENT, DURATION, %ARGS )
           Generates a function which is used to generate packets for the given EVENT.

           EVENT  is  the  event numer (0..15) or undef if it should just generate silence or pause. DURATION is
           the time for the event in ms. ARGS contain information how the event  should  be  packed:  either  as
           RFC2833 RTP event or as RTP audio PCMU/8000 or PCMA/8000.  %ARGS can be

           rfc2833_type =&gt; rtp_type
                   Gives  the  RTP  payload  type  number for rfc2833 RTP events (telephone-event/8000).  If not
                   given will try <b>audio_type</b> instead.

           audio_type =&gt; rtp_type
                   Gives the RTP payload type number. 8 for PCMA/8000 and 0 for PCMU/8000.  If not given and  no
                   <b>rfc2833_type</b> given it will croak.

           volume =&gt; volume
                   Sets the volume for RTP event according to rfc2833.

           The  generated  function  should  then  be  called  with SEQUENCE,TIMESTAMP,SRCID to generate the RTP
           packets and will return @RTP_PACKETS, with

           () - DTMF event is finished
           $RTP_PACKETS[0] eq '' - no RTP packet for this call (pause)
           @RTP_PACKETS - RTP packets which can be send to the peer
       dtmf_extractor ( %ARGS )
           Generates a function which is used to extract DTMF events.  Keys <b>rfc2833_type</b> and <b>audio_type</b> have the
           same meaning as in <b>generate_dtmf</b>. It will only attempt to extract DTMF events from rfc2833 RTP events
           or audio if the relevant rtp_type is given.

           The function will be called with the RTP packet as the only argument and will return  ()  if  no  new
           events  where  found or (EVENT,DURATION,TYPE) if an event finished, where DURATION is the duration in
           ms and TYPE is audio|rfc2833.

           For performance reasons it is best to use only rfc2833 if the peer supports it.

perl v5.40.0                                       2024-09-08                                <u>Net::SIP::<a href="../man3pm/DTMF.3pm.html">DTMF</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>