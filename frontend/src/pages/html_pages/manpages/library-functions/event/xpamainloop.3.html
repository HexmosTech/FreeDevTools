<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XPAMainLoop - optional main loop for XPA</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libxpa-dev">libxpa-dev_2.1.20-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>XPAMainLoop</b> <b>-</b> <b>optional</b> <b>main</b> <b>loop</b> <b>for</b> <b>XPA</b>

</pre><h4><b>SYNOPSIS</b></h4><pre>
         #include &lt;xpa.h&gt;

         void XPAMainLoop();

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Once XPA access points have been defined, a program must enter an event loop to watch for requests from
       external programs. This can be done in a variety of ways, depending on whether the event loop is
       processing events other than XPA events.  In cases where there are no non-XPA events to be processed, the
       program can simply call the <u>XPAMainLoop()</u> event loop.  This loop is implemented essentially as follows
       (error checking is simplified in this example):

         FD_ZERO(&amp;readfds);
         while( XPAAddSelect(NULL, &amp;readfds) ){
           if( sgot = select(swidth, &amp;readfds, NULL, NULL, NULL) &gt;0 )
             XPAProcessSelect(&amp;readfds, 0);
           else
             break;
           FD_ZERO(&amp;readfds);
         }

       The <u>XPAAddSelect()</u> routine sets up the <u>select()</u> readfds variable so that <u>select()</u> will wait for I/O on
       all the active XPA channels.  It returns the number of XPAs that are active; the loop will end when there
       are no active XPAs. The standard <u>select()</u> routine is called to wait for an external I/O request.  Since
       no timeout struct is passed in argument 5, the <u>select()</u> call hangs until there is an external request.
       When an external I/O request is made, the <u>XPAProcessSelect()</u> routine is executed to process the pending
       requests.  In this routine, the maxreq value determines how many requests will be processed: if maxreq
       &lt;=0, then all currently pending requests will be processed.  Otherwise, up to maxreq requests will be
       processed.  (The most usual values for maxreq is 0 to process all requests.)

       If a program has its own Unix <u>select()</u> loop, then XPA access points can be added to it by using a
       variation of the standard XPAMainLoop:

         XPAAddSelect(xpa, &amp;readfds);
         [app-specific ...]
         if( select(width, &amp;readfds, ...) ){
           XPAProcessSelect(&amp;readfds, maxreq);
           [app-specific ...]
           FD_ZERO(&amp;readfds);
         }

       <u>XPAAddSelect()</u> is called before <u>select()</u> to add the access points.  If the first argument is NULL, then
       all active XPA access points are added. Otherwise only the specified access point is added.  After
       <u>select()</u> is called, the <u>XPAProcessSelect()</u> routine can be called to process XPA requests.  Once again,
       the maxreq value determines how many requests will be processed: if maxreq &lt;=0, then all currently
       pending requests will be processed.  Otherwise, up to maxreq requests will be processed.

       XPA access points can be added to Xt event loops (using <u>XtAppMainLoop()</u>) and Tcl/Tk event loops (using
       vwait and the Tk loop).  When using XPA with these event loops, you only need to call:

       int XPAXtAddInput(XtAppContext app, XPA xpa)

       or

         int XPATclAddInput(XPA xpa)

       respectively before entering the loop.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       See xpa(n) for a list of XPA help pages

version 2.1.15                                    July 23, 2013                                   <u><a href="../man3/xpamainloop.3.html">xpamainloop</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>