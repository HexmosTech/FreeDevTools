<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>libpfm_perf_event_raw - support for perf_events raw events syntax</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpfm4-dev">libpfm4-dev_4.13.0+git99-gc5587f9-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       libpfm_perf_event_raw - support for perf_events raw events syntax

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;perfmon/pfmlib.h&gt;</b>

       <b>PMU</b> <b>name:</b> <b>perf_raw</b>
       <b>PMU</b> <b>desc:</b> <b>Raw</b> <b>perf_events</b> <b>event</b> <b>syntax</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  library  supports  a pseudo PMU model to allow raw encodings of PMU events for the Linux perf_events
       kernel interface.

       With this PMU, it is possible to provide the raw hexadecimal encoding of any hardware event for  any  PMU
       models. The raw encoding is passed as is to the kernel. All events are encoded as <b>PERF_TYPE_RAW</b>. As such,
       perf_events generic events, such as cycles, instructions, cannot be encoded by this PMU.

       The  syntax  is  very  simple: rX. X is the hexadecimal 64-bit value for the event.  It may include event
       filters on some PMU models. The hexadecimal number is passed without the 0x prefix, e.g., r01c4.

       The library's standard perf_events attributes are supported by this PMU model.  They are  separated  with
       colons as is customary with the library.

</pre><h4><b>MODIFIERS</b></h4><pre>
       The following modifiers are supported by this PMU model:

       <b>u</b>      Measure at user level which includes privilege levels 1, 2, 3. This corresponds to <b>PFM_PLM3</b>.  This
              is a boolean modifier.

       <b>k</b>      Measure at kernel level which includes privilege level 0. This corresponds to <b>PFM_PLM0</b>.  This is a
              boolean modifier.

       <b>h</b>      Measure at the hypervisor level. This corresponds to <b>PFM_PLMH</b>.  This is a boolean modifier

       <b>mg</b>     Measure guest execution only. This is a boolean modifier

       <b>mh</b>     Measure host execution only. This is a boolean modifier

       <b>period</b> Specify the the sampling period value. Value can be expressed in decimal or hexadecimal.  Value is
              64-bit  wide.  This option is mutually exclusive with <b>freq</b>. The period is expressed in the unit of
              the event. There is no default value.

       <b>freq</b>   Specify the the sampling frequency value. Value can be expressed in decimal or hexadecimal.  Value
              is 64-bit wide. This options is mutually exclusive with <b>period</b>. The value is expressed  in  Hertz.
              For  instance,  freq=100,  means that the event should be sampled 100 times per second on average.
              There is no default value.

       <b>excl</b>   The associated event is the only event measured on the PMU. This applies only to hardware  events.
              This attribute requires admin privileges. Default is off.

       <b>precise</b>
              Enables  precise  sampling  mode.  This  option is only valid when sampling on events. The options
              takes an integer argument. It can have the following values: 1=enable precise  sampling,  2=enable
              precise  sampling  and eliminate skid, 3=enable precise sampling, eliminate skid and bias. Not all
              events necessarily support precise mode at all levels, this is dependent on  the  underlying  PMU.
              Eliminating  skid  is  a  best  effort  feature.  It  may not work for all samples. This option is
              mutually exclusive  with  <b>hw_smpl</b>.  This  options  implies  using  the  hardware  assist  sampling
              mechanism.

       <b>hw_smpl</b>
              Enables  hardware  assist  sampling.  This  is  a  boolean option. It is false by default. On some
              processors, it is possible to have the hardware record samples in a buffer  and  then  notify  the
              kernel when it is full.  Such feature may not be available for all events. Using a hardware buffer
              does  not  necessarily  eliminate skid and bias, it usually lowers the overhead of interrupt-based
              sampling by amortizing the interrupt over multiple samples. This option is usually  implicit  with
              precise sampling events.

       <b>cpu</b>    This  integer  option is used with system-wide events, i.e., events attached to a CPU instead of a
              thread. The value designate the CPU to attach the event to. It is up to the caller of the  library
              to  use  the cpu field in the library event encoding argument to create the event. No verification
              on the validity of the CPU number is made by the library. Default value is -1 for this field.

       <b>pinned</b> This boolean option is used with system-wide events, i.e., events attached to a CPU instead  of  a
              thread.  If set, then the event is marked as pinned. That means it needs to remain on the counters
              at all time, i.e., it cannot be multiplexed. There can only be as many pinned events as there  are
              counters,  yet  the  library  does  not check for that, the perf_event subsystem does. The default
              value for this field is false, i.e., the event is not pinned.

</pre><h4><b>AUTHORS</b></h4><pre>
       Stephane Eranian &lt;<a href="mailto:eranian@gmail.com">eranian@gmail.com</a>&gt;

                                                 February, 2014                                        <u><a href="../man3/LIBPFM.3.html">LIBPFM</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>