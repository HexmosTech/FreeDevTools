<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sd_event_set_signal_exit - Automatically leave event loop on SIGINT and SIGTERM</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsystemd-dev">libsystemd-dev_257.7-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sd_event_set_signal_exit - Automatically leave event loop on <b>SIGINT</b> and <b>SIGTERM</b>

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;systemd/sd-event.h&gt;</b>

       <b>int</b> <b>sd_event_set_signal_exit(sd_event</b> <b>*</b><u>event</u><b>,</b> <b>int</b> <b>b);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sd_event_set_signal_exit()</b> may be used to ensure the event loop terminates once a <b>SIGINT</b> or <b>SIGTERM</b>
       signal is received. It is a convenience wrapper around invocations of <b><a href="../man3/sd_event_add_signal.3.html">sd_event_add_signal</a></b>(3) for both
       signals. The two signals are automatically added to the calling thread's signal mask (if a program is
       multi-threaded care should be taken to either invoke this function before the first thread is started or
       to manually block the two signals process-wide first).

       If the parameter <u>b</u> is specified as true, the event loop will terminate on <b>SIGINT</b> and <b>SIGTERM</b>. If
       specified as false, it will no longer. When this functionality is turned off the calling thread's signal
       mask is restored to match the state before it was turned on, for the two signals. By default, the two
       signals are not handled by the event loop, and Linux' default signal handling for them is in effect.

       It is customary for UNIX programs to exit on either of these two signals, hence it is typically a good
       idea to enable this functionality for the main event loop of a program.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>sd_event_set_signal_exit()</b> returns a positive non-zero value when the setting was successfully changed.
       It returns a zero when the specified setting was already in effect. On failure, it returns a negative
       errno-style error code.

   <b>Errors</b>
       Returned errors may indicate the following problems:

       <b>-ECHILD</b>
           The event loop has been created in a different process, library or module instance.

           Added in version 252.

       <b>-EINVAL</b>
           The passed event loop object was invalid.

           Added in version 252.

</pre><h4><b>NOTES</b></h4><pre>
       Functions described here are available as a shared library, which can be compiled against and linked to
       with the <b>libsystemd</b> <b><a href="../man1/pkg-config.1.html">pkg-config</a></b>(1) file.

       The code described here uses <b><a href="../man3/getenv.3.html">getenv</a></b>(3), which is declared to be not multi-thread-safe. This means that
       the code calling the functions described here must not call <b><a href="../man3/setenv.3.html">setenv</a></b>(3) from a parallel thread. It is
       recommended to only do calls to <b>setenv()</b> from an early phase of the program when no other threads have
       been started.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>sd_event_set_signal_exit()</b> was added in version 252.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man3/sd-event.3.html">sd-event</a></b>(3), <b><a href="../man3/sd_event_new.3.html">sd_event_new</a></b>(3), <b><a href="../man3/sd_event_add_signal.3.html">sd_event_add_signal</a></b>(3)

systemd 257.7                                                                        <u><a href="../man3/SD_EVENT_SET_SIGNAL_EXIT.3.html">SD_EVENT_SET_SIGNAL_EXIT</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>