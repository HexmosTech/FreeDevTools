<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sympa::Spindle::ProcessIncoming - Workflow of processing incoming messages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sympa">sympa_6.2.76~dfsg-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Sympa::Spindle::ProcessIncoming - Workflow of processing incoming messages

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Sympa::Spindle::ProcessIncoming;

         my $spindle = Sympa::Spindle::ProcessIncoming-&gt;new;
         $spindle-&gt;spin;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Sympa::Spindle::ProcessIncoming defines workflow to process incoming messages.

       When <b>spin()</b> method is invoked, it reads the messages in incoming spool and rejects, quarantines or
       modifies them.  Processing are done in the following order:

       •   Checks  if message has message ID and sender, and if not, quarantines it.  Because such messages will
           be source of various troubles.

       •   Checks if robot which message is bound for exists, and if not, rejects it.

       •   Checks spam status, DKIM signature and S/MIME signature, and decrypts message if possible.  Result of
           these checks are stored in message object and used in succeeding process.

       •   If message is bound for the list, checks if the list exists, and if not, rejects it.

       •   Loop prevention.  If loop is detected, ignores message.

       •   Virus checking, if enabled by configuration.   And  if  malware  is  detected,  rejects  or  discards
           message.

       •   Splices  message to appropriate class according to the type of message: Sympa::Spindle::DoCommand for
           command    message;    Sympa::Spindle::DoForward    for    message    bound    for     administrator;
           Sympa::Spindle::DoMessage for ordinal post.

       Order to process messages in source spool are controlled by modification time of files and delivery date.
       Some messages are skipped according to these priorities (See Sympa::Spool::Incoming):

       •   Messages with lowest priority ("z" or "Z") are skipped.

       •   Messages  with  possibly  higher  priority  are chosen.  This is done by skipping messages with lower
           priority than those already found.

   <b>Public</b> <b>methods</b>
       See also "Public methods" in Sympa::Spindle.

       new ( [ keepcopy =&gt; $directory ], [ lang =&gt; $lang ], [ log_level =&gt; $level ], [ log_smtp =&gt; 0|1 ] )
       spin ( )
           <b>new()</b> may take following options:

           keepcopy =&gt; $directory
               <b>spin()</b> keeps copy of successfully processed messages in $directory.

           lang =&gt; $lang
               Overwrites lang parameter in configuration.

           log_level =&gt; $level
               Overwrites log_level parameter in configuration.

           log_smtp =&gt; 0|1
               Overwrites log_smtp parameter in configuration.

   <b>Properties</b>
       See also "Properties" in Sympa::Spindle.

       {distaff}
           Instance of Sympa::Spool::Incoming class.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Sympa::Message,       Sympa::Spindle,        Sympa::Spindle::DoCommand,        Sympa::Spindle::DoForward,
       Sympa::Spindle::DoMessage, Sympa::Spool::Incoming.

</pre><h4><b>HISTORY</b></h4><pre>
       Sympa::Spindle::ProcessIncoming appeared on Sympa 6.2.13.

6.2.76                                             2025-02-12            <u>Sympa::Spindle::<a href="../man3Sympa/ProcessIncoming.3Sympa.html">ProcessIncoming</a></u>(3Sympa)
</pre>
 </div>
</div></section>
</div>
</body>
</html>