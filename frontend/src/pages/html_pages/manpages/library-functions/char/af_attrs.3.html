<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>af_retattr,   af_retnumattr,   af_retuserattr,   af_rettimeattr,  af_setattr,  af_allattrs,  af_isstdval,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/atfs-dev">atfs-dev_1.4pl6-16.1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       af_retattr,   af_retnumattr,   af_retuserattr,   af_rettimeattr,  af_setattr,  af_allattrs,  af_isstdval,
       af_freeattr, af_freeattrbuf - AtFS attribute handling

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;atfs.h&gt;

       char  *af_retattr (Af_key *aso, char *attrName)

       int   af_retnumattr (Af_key *aso, char *attrName)

       Af_useraf_retuserattr (Af_key *aso, char *attrName)

       time_taf_rettimeattr (Af_key *aso, char *attrName)

       int   af_setattr (Af_key *aso, int mode, char *attrName)

       int   af_allattrs (Af_key *aso, Af_attrs *attrBuf)

       void  af_freeattr (char *attrValue);

       void  af_freeattrbuf (Af_attrs *attrBuf);

       int   af_isstdval (char *attrValue);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>af_retattr</u> returns the value of any ASO attribute in string representation. The <u>attrName</u> argument denotes
       either a standard attribute (according to  the  list  below)  or  a  user  defined  attribute.   Standard
       attributes are converted to a meaningful string representation if necessary.  If the attribute name given
       to  af_retattr  contains an equal sign (this may be the case with user defined attributes), only the part
       before the equal sign will be interpreted as name.  If the named attribute is a  user  defined  attribute
       carrying  multiple  values,  these  will  be returned in <u>one</u> string, with the values separated by newline
       ('\n') characters. If the named attribute does not exist, af_retattr returns a null pointer. If the value
       is empty, an empty string is returned. <b>Note:</b> The result string of af_retattr may reside in static  memory
       which is overwritten on subsequent calls of af_retattr.

       <u>af_retnumattr</u>,  <u>af_retuserattr</u>,  and  <u>af_rettimeattr</u>  return the value of the named attribute as integer,
       user structure or time value. These functions only apply to standard attributes with a matching type.

       <u>Af_setattr</u> sets, modifies, or deletes user defined attributes of the ASO  identified  by  <u>aso</u>.  The  <u>attr</u>
       parameter  is  a  string  of  the  form:  <u>name=value</u>.   The  name  may  consist  of  any characters (even
       non-printable) but it may not contain Ctrl-A (\001) characters. The first equal sign that appears in  the
       string  is  interpreted  as the delimiter between name and value. If the string does not contain an equal
       sign, it is interpreted as just an attribute name without value.   The  <u>mode</u>  parameter  is  one  of  the
       following:

       AF_ADD    Attach  the  given attribute to the identified ASO. If an attribute with the given name already
                 exists, add just the value to the existing attribute. Subsequent calls of af_setattr  with  the
                 same attribute name construct attributes with multiple (any number) values.

       AF_REMOVE
                 Remove  the  named  attribute.  This  mode requires only the attribute name to be given as attr
                 parameter. Removal of single values is not supported.

       AF_REPLACE
                 Replace an existing user defined attribute. The replacement fails, if  no  attribute  with  the
                 given name exists.

       <u>af_allattrs</u>  returns  the  complete  attribute  buffer  (<u>attrBuf</u>)  of the ASO identified by <u>aso</u> including
       standard and user defined attributes. The <a href="../man3/af_retrieve.3.html">af_retrieve</a>(3) manual page shows the structure of the attribute
       buffer.

       <u>af_freeattr</u> and <u>af_freeattrbuf</u> release memory eventually allocated during  a  af_retattr  or  af_allattrs
       call.  As  the result of af_retattr may reside either in static or dynamic (<a href="../man3/malloc.3.html">malloc</a>(3)) memory, you should
       not use <a href="../man3/free.3.html">free</a>(3) for releasing attribute value memory.

       <u>af_isstdval</u> returns TRUE if the given <u>attrValue</u> string is the return value of an  af_retattr  call  where
       the result was written to static rather than allocated memory. Otherwise it returns FALSE.

</pre><h4><b>AtFS</b> <b>STANDARD</b> <b>ATTRIBUTES</b></h4><pre>
       The  following  is  an alphabetically ordered list of all known standard attributes. AF_ATT... are string
       constants that may be used as <u>attrName</u> argument for any of the function calls described  on  this  manual
       page. In parenthesis behind each symbolic constant, the type of the attribute is shown.

       AF_ATTAUTHOR (user)
                         The versions author.

       AF_ATTATIME (time)
                         The date of last access (read or write) to the version contents.

       AF_ATTBOUND (string)
                         The version name in bound version notation (e.g. <u>foo.c[1.2]</u>).

       AF_ATTBOUNDPATH (string)
                         Absolute    pathname    of    the    version    in   bound   version   notation   (e.g.
                         <u>/usr/andy/foo.c[1.2]</u>).

       AF_ATTCTIME (time)
                         The date of last status change. Updated, when an attributes value is changed.

       AF_ATTDSIZE (numeric)
                         The size of the delta if there is any. If the version is not stored  as  delta,  -1  is
                         returned.

       AF_ATTGEN (numeric)
                         The generation number.

       AF_ATTHOST (string)
                         The  host from where the version was accessed (this attribute is quite useless, as this
                         is always the current host).

       AF_ATTLOCKER (user)
                         The user who has set a lock on the version (if any).

       AF_ATTLTIME (time)
                         The date of last lock change. This is empty, when there was never a lock set.

       AF_ATTMODE (numeric)
                         The version file type and protection. Same as st_mode in struct stat (see <a href="../man2/stat.2.html">stat</a>(2)).

       AF_ATTMTIME (time)
                         The date of the last contents modification.

       AF_ATTNAME (string)
                         The AtFS name of the version. This  has  the  filename  extension,  if  there  is  any,
                         stripped off.

       AF_ATTOWNER (user)
                         The versions owner.

       AF_ATTREV (numeric)
                         The revision number.

       AF_ATTSIZE (numeric)
                         The file size. This may be independent of the real storage size, as most saved versions
                         are stored as deltas (see also AF_ATTDSIZE).

       AF_ATTSPATH (string)
                         The  UNIX  pathname  leading  to  the version. This may be different when accessing the
                         version from different hosts.

       AF_ATTSTATE (numeric)
                         The version state. States are numbered 0 trough 5 from <u>busy</u> to <u>frozen</u>.

       AF_ATTSTIME (time)
                         The save date. This date is not set for busy versions.

       AF_ATTTYPE (string)
                         The filename extension (the string behind the rightmost period  in  the  versions  full
                         name). See <a href="../man3/af_misc.3.html">af_misc</a>(3) for details.

       AF_ATTUNIXNAME (string)
                         The full UNIX name (without path).

       AF_ATTUNIXPATH (string)
                         The full UNIX path.

       AF_ATTVERSION (string)
                         The complete version number <u>generation.revision</u> .

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man2/stat.2.html">stat</a>(2), <a href="../man3/free.3.html">free</a>(3), <a href="../man3/af_misc.3.html">af_misc</a>(3), <a href="../man3/af_retrieve.3.html">af_retrieve</a>(3)

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Upon  error,  -1  or  a nil pointer (depending on the return type) is returned and <u>af_errno</u> is set to the
       corresponding error number.

</pre><h4><b>LIMITS</b></h4><pre>
       Although AtFS promises the storage of an  arbitrary  number  of  user  defined  attributes,  the  current
       implementation limits their number to 255. af_setattr sets the corresponding error condition if the limit
       is reached.

AtFS-1.71                                   Fri Jun 25 14:33:00 1993                                 <u><a href="../man3/af_attrs.3.html">af_attrs</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>