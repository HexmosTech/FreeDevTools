<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XPASetFd - send data from stdin to one or more XPA servers</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libxpa-dev">libxpa-dev_2.1.20-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>XPASetFd</b> <b>-</b> <b>send</b> <b>data</b> <b>from</b> <b>stdin</b> <b>to</b> <b>one</b> <b>or</b> <b>more</b> <b>XPA</b> <b>servers</b>

</pre><h4><b>SYNOPSIS</b></h4><pre>
         #include &lt;xpa.h&gt;

         int XPASetFd(XPA xpa,
                      char *template, char *paramlist, char *mode,
                      int fd, char **names, char **messages, int n)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Read data from a standard I/O fd and send it to one or more XPA servers whose class:name identifier
       matches the specified template.

       A template of the form "class1:name1" is sent to the XPA name server, which returns a list of at most n
       matching XPA servers.  A connection is established with each of these servers and the paramlist string is
       passed to the server as the data transfer request is initiated. If an XPA struct is passed to the call,
       then the persistent connections are updated as described above. Otherwise, temporary connections are made
       to the servers (which will be closed when the call completes).

       The <u>XPASetFd()</u> routine then reads bytes from the specified fd until EOF and sends these bytes to the XPA
       servers.  The final parameter n specifies the maximum number of servers to contact.  A string containing
       the class:name and ip:port of each server is returned in the name array.  If a given server returned an
       error, then the error message will be stored in the associated element of the messages array.  NB: if
       specified, the name and messages arrays must be of size n or greater.

       The return value will contain the actual number of servers that were processed.  This value thus will
       hold the number of valid entries in the names and messages arrays, and can be used to loop through these
       arrays.  In names and/or messages is NULL, no information is passed back in that array.

       The mode string is of the form: "key1=value1,key2=value2,..."  The following keywords are recognized:

         key           value           default         explanation
         ------        --------        --------        -----------
         ack           true/false      true            if false, don't wait for ack from server (after callback completes)
         verify        true/false      false           send buf from XPASet[Fd] to stdout

       The ack keyword is useful in cases where one does not want to wait for the server to complete, e.g. is a
       lot of processing needs to be done on the passed data or when the success of the server operation is not
       relevant to the client.

       <b>Example:</b>

         #include &lt;xpa.h&gt;

         #define NXPA 10
         int  i, got;
         int fd;
         char *names[NXPA];
         char *messages[NXPA];
         fd = open(...);
         got = XPASetFd(NULL, "ds9", "fits", NULL, fd, names, messages, NXPA);
         for(i=0; i&lt;got; i++){
           if( messages[i] != NULL ){
             /* error processing */
             fprintf(stderr, "ERROR: %s (%s)\n", messages[i], names[i]);
           }
           if( names[i] )
             free(names[i]);
           if( messages[i] )
             free(messages[i]);
         }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       See xpa(n) for a list of XPA help pages

version 2.1.15                                    July 23, 2013                                      <u><a href="../man3/xpasetfd.3.html">xpasetfd</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>