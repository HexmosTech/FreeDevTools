<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XPAInfo - send short message to one or more XPA servers</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libxpa-dev">libxpa-dev_2.1.20-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>XPAInfo</b> <b>-</b> <b>send</b> <b>short</b> <b>message</b> <b>to</b> <b>one</b> <b>or</b> <b>more</b> <b>XPA</b> <b>servers</b>

</pre><h4><b>SYNOPSIS</b></h4><pre>
         #include &lt;xpa.h&gt;

         int XPAInfo(XPA xpa,
                     char *template, char *paramlist, char *mode,
                     char **names, char **messages, int n);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Send a short paramlist message to one or more XPA servers whose class:name identifier matches the
       specified template.

       A template of the form "class1:name1" is sent to the XPA name server, which returns a list of at most n
       matching XPA servers.  A connection is established with each of these servers and the paramlist string is
       passed to the server as the data transfer request is initiated. If an XPA struct is passed to the call,
       then the persistent connections are updated as described above. Otherwise, temporary connections are made
       to the servers (which will be closed when the call completes).

       The <u>XPAInfo()</u> routine does not send data from a buf to the XPA servers. Only the paramlist is sent.  The
       semantics of the paramlist is not formalized, but at a minimum is should tell the server how to get more
       information.  For example, it might contain the class:name of the XPA access point from which the server
       (acting as a client) can obtain more info using XPAGet.

       A string containing the class:name and ip:port of each server is returned in the name array.  If a given
       server returned an error or the server callback sends a message back to the client, then the message will
       be stored in the associated element of the messages array.  The returned message string will be of the
       form:

         XPA$ERROR   error-message (class:name ip:port)

       or

         XPA$MESSAGE message     (class:name ip:port)

       The return value will contain the actual number of servers that were processed.  This value thus will
       hold the number of valid entries in the names and messages arrays, and can be used to loop through these
       arrays.  In names and/or messages is NULL, no information is passed back in that array.

       The following keywords are recognized:

         key           value           default         explanation
         ------        --------        --------        -----------
         ack           true/false      true            if false, don't wait for ack from server

       When ack is false, <u>XPAInfo()</u> will not wait for an error return from the XPA server. This means, in
       effect, that XPAInfo will send its paramlist string to the XPA server and then exit: no information will
       be sent from the server to the client. This UDP-like behavior is essential to avoid race conditions in
       cases where XPA servers are sending info messages to other servers. If two servers try to send each other
       an info message at the same time and then wait for an ack, a race condition will result and one or both
       will time out.

       <b>Example:</b>

         (void)XPAInfo(NULL, "IMAGE", "ds9 image", NULL, NULL, NULL, 0);

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       See xpa(n) for a list of XPA help pages

version 2.1.15                                    July 23, 2013                                       <u><a href="../man3/xpainfo.3.html">xpainfo</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>