<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>strvars - expand variables in string</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/publib-dev">publib-dev_0.40-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       strvars - expand variables in string

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;publib.h&gt;
       int <b>strvars</b>(char **<u>res</u>, const char *<u>str</u>, char *(*<u>expand</u>)(const char *));

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>strvars</u>  will  replaces  references  to  variables in the string <u>str</u> with the values of the variables.  A
       reference to a variable is of the form <u>$(foo)</u> or <u>$x</u> (where <u>x</u> is a single character, but not <u>$</u>).  A dollar
       sign is expressed in the string as <u>$$</u>, and will be converted to <u>$</u> in the output.  Memory for the expanded
       string is allocated dynamically, and <u>*res</u> is set to point to it.

       The values of the variables are fetched using the function <u>expand</u>.  It is given the name of the  variable
       as its argument, and must return a pointer to the value, or NULL if that variable doesn't exist.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u>strvars</u>  will  return  0  if successful, or NULL if an error occurred (malformed input string, result too
       big, or unknown variable).

</pre><h4><b>EXAMPLE</b></h4><pre>
       To replace references to environment variables, one would the following.

            #include &lt;publib.h&gt;
            #include &lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;

            char line[1024];
            char *res;

            if (strvars(&amp;res, line, getenv) == NULL)
                errormsg(1, 0, "strvars failed");
            printf("res = &lt;%s&gt;\n", res);

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3/publib.3.html">publib</a>(3), <a href="../man3/getenv.3.html">getenv</a>(3)

</pre><h4><b>AUTHOR</b></h4><pre>
       Lars Wirzenius (<a href="mailto:lars.wirzenius@helsinki.fi">lars.wirzenius@helsinki.fi</a>)

Publib                                        C Programmer's Manual                                <u><a href="../man3pub/STRVARS.3pub.html">STRVARS</a></u>(3pub)
</pre>
 </div>
</div></section>
</div>
</body>
</html>