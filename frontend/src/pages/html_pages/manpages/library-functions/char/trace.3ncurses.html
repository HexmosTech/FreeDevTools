<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>curses_trace,   trace,  _tracef,  _traceattr,  _traceattr2,  _tracecchar_t,  _tracecchar_t2,  _tracechar,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ncurses-doc">ncurses-doc_6.5+20250216-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>curses_trace</b>,   <b>trace</b>,  <b>_tracef</b>,  <b>_traceattr</b>,  <b>_traceattr2</b>,  <b>_tracecchar_t</b>,  <b>_tracecchar_t2</b>,  <b>_tracechar</b>,
       <b>_tracechtype</b>, <b>_tracechtype2</b>, <b>_nc_tracebits</b>, <b>_tracedump</b>, <b>_tracemouse</b> - <u>curses</u> debugging routines

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;curses.h&gt;</b>

       <b>unsigned</b> <b>curses_trace(const</b> <b>unsigned</b> <u>trace-mask</u><b>);</b>

       <b>void</b> <b>_tracef(const</b> <b>char</b> <b>*</b><u>format</u><b>,</b> <b>...);</b>

       <b>char</b> <b>*_traceattr(attr_t</b> <u>attr</u><b>);</b>
       <b>char</b> <b>*_traceattr2(int</b> <u>buffer</u><b>,</b> <b>chtype</b> <u>ch</u><b>);</b>
       <b>char</b> <b>*_tracecchar_t(const</b> <b>cchar_t</b> <b>*</b><u>string</u><b>);</b>
       <b>char</b> <b>*_tracecchar_t2(int</b> <u>buffer</u><b>,</b> <b>const</b> <b>cchar_t</b> <b>*</b><u>string</u><b>);</b>
       <b>char</b> <b>*_tracechar(int</b> <u>c</u><b>);</b>
       <b>char</b> <b>*_tracechtype(chtype</b> <u>ch</u><b>);</b>
       <b>char</b> <b>*_tracechtype2(int</b> <u>buffer</u><b>,</b> <b>chtype</b> <u>ch</u><b>);</b>

       <b>void</b> <b>_tracedump(const</b> <b>char</b> <b>*</b><u>label</u><b>,</b> <b>WINDOW</b> <b>*</b><u>win</u><b>);</b>
       <b>char</b> <b>*_nc_tracebits(void);</b>
       <b>char</b> <b>*_tracemouse(const</b> <b>MEVENT</b> <b>*</b><u>event</u><b>);</b>

       <u>/*</u> <u>deprecated</u> <u>*/</u>
       <b>void</b> <b>trace(const</b> <b>unsigned</b> <b>int</b> <u>trace-mask</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <u>curses</u> <u>trace</u> routines are used for debugging the <u>ncurses</u> libraries, as well as applications which use
       the <u>ncurses</u> libraries.  Some limitations apply:

       •   Aside from <b>curses_trace</b>, the other functions are normally available only with the  debugging  library
           e.g., <b>libncurses_g.a</b>.

           All  of  the trace functions may be compiled into any model (shared, static, profile) by defining the
           symbol <b>TRACE</b>.

       •   Additionally,  the  functions  which  use  <b>cchar_t</b>  are  only  available  with   the   wide-character
           configuration of the libraries.

   <b>Functions</b>
       The principal parts of this interface are

       •   <b>curses_trace</b>, which selectively enables different tracing features, and

       •   <b>_tracef</b>, which writes formatted data to the <u>trace</u> file.

           The  other  functions  either  return  a  pointer  to  a  string-area (allocated by the corresponding
           function),  or  return  no  value  (such  as  <b>_tracedump</b>,  which  implements  the  screen  dump   for
           <b>TRACE_UPDATE</b>).   The  caller  should  not  free  these  strings,  since  the  allocation is reused on
           successive calls.  To work around the problem of a  single  string-area  per  function,  some  use  a
           buffer-number parameter, telling the library to allocate additional string-areas.

       The <b>curses_trace</b> function is always available, whether or not the other trace functions are available:

       •   If  tracing  is  available, calling <b>curses_trace</b> with a nonzero parameter updates the trace mask, and
           returns the previous trace mask.

           When the trace mask is nonzero, <u>ncurses</u> creates the file “trace” in the current directory for output.
           If the file already exists, no tracing is done.

       •   If tracing is not available, <b>curses_trace</b> returns zero (0).

   <b>Trace</b> <b>Parameter</b>
       The trace parameter is formed by logically “or”-ing values from the  list  of  <b>TRACE_</b><u>xxx</u>  definitions  in
       <b>&lt;curses.h&gt;</b>.  These include:

       <b>TRACE_DISABLE</b>
            turn off tracing by passing a zero parameter.

            The  library  flushes the output file, but retains an open file-descriptor to the trace file so that
            it can resume tracing later if a nonzero parameter is passed to the <b>curses_trace</b> function.

       <b>TRACE_TIMES</b>
            trace user and system times of updates.

       <b>TRACE_TPUTS</b>
            trace <b><a href="../man3NCURSES/tputs.3NCURSES.html">tputs</a></b>(3NCURSES) calls.

       <b>TRACE_UPDATE</b>
            trace update actions, old &amp; new screens.

       <b>TRACE_MOVE</b>
            trace cursor movement and scrolling.

       <b>TRACE_CHARPUT</b>
            trace all character outputs.

       <b>TRACE_ORDINARY</b>
            trace all update actions.  The old and new screen contents are written to the trace  file  for  each
            refresh.

       <b>TRACE_CALLS</b>
            trace all curses calls.  The parameters for each call are traced, as well as return values.

       <b>TRACE_VIRTPUT</b>
            trace virtual character puts, i.e., calls to <b>addch</b>.

       <b>TRACE_IEVENT</b>
            trace low-level input processing, including timeouts.

       <b>TRACE_BITS</b>
            trace state of TTY control bits.

       <b>TRACE_ICALLS</b>
            trace internal/nested calls.

       <b>TRACE_CCALLS</b>
            trace per-character calls.

       <b>TRACE_DATABASE</b>
            trace read/write of terminfo/termcap data.

       <b>TRACE_ATTRS</b>
            trace changes to video attributes and colors.

       <b>TRACE_MAXIMUM</b>
            maximum trace level, enables all of the separate trace features.

       Some tracing features are enabled whenever the <b>curses_trace</b> parameter is nonzero.  Some features overlap.
       The specific names are used as a guideline.

   <b>Command-line</b> <b>Utilities</b>
       The  command-line  utilities  such  as  <b><a href="../man1/tic.1.html">tic</a></b>(1) provide a verbose option which extends the set of messages
       written using the <b>curses_trace</b> function.  Both of these (<b>-v</b>  and  <b>curses_trace</b>)  use  the  same  variable
       (<b>_nc_tracing</b>), which determines the messages which are written.

       Because  the  command-line  utilities  may  call  initialization  functions such as <b>setupterm</b>, <b>tgetent</b> or
       <b>use_extended_names</b>, some of their debugging output may be directed to the <u>trace</u> file if the <u>NCURSES_TRACE</u>
       environment variable is set:

       •   messages produced in the utility are written to the standard error.

       •   messages produced by the underlying library are written to <u>trace</u>.

       If <u>ncurses</u> is built without tracing, none of the latter are produced, and fewer diagnostics are  provided
       by the command-line utilities.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Routines which return a value are designed to be used as parameters to the <b>_tracef</b> routine.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
   <b>NCURSES_TRACE</b>
       A  positive  integral  value stored in this variable causes the following functions to enable the tracing
       feature as if <b>curses_trace</b> were called.

           <b>filter</b>, <b>initscr</b>, <b>new_prescr</b>, <b>newterm</b>, <b>nofilter</b>, <b>restartterm</b>, <b>ripoffline</b>, <b>setupterm</b>, <b>slk_init</b>,
           <b>tgetent</b>, <b>use_env</b>, <b>use_extended_names</b>, <b>use_tioctl</b>

</pre><h4><b>PORTABILITY</b></h4><pre>
       These functions are not part of the X/Open Curses interface.  Some other curses implementations are known
       to have similar features, but they are not compatible with <u>ncurses</u>:

       •   SVr4 provided <b>traceon</b> and <b>traceoff</b>, to control whether  debugging  information  was  written  to  the
           “trace”  file.  While the functions were always available, this feature was only enabled if <b>DEBUG</b> was
           defined when building the library.

           The SVr4 tracing feature is undocumented.

       •   <u>PDCurses</u> provides <b>traceon</b> and <b>traceoff</b>, which (like SVr4) are always available, and enable tracing to
           the “trace” file only when a debug-library is built.

           <u>PDCurses</u> has a short description of these functions, with a note that they are not present in  X/Open
           Curses,  <u>ncurses</u>  or NetBSD.  It does not mention SVr4, but the functions' inclusion in a header file
           section labeled “Quasi-standard” hints at the origin.

       •   NetBSD does not provide functions for  enabling/disabling  traces.   It  uses  environment  variables
           <u>CURSES_TRACE_MASK</u>  and  <u>CURSES_TRACE_FILE</u>  to  determine  what  is  traced, and where the results are
           written.  This is available only when a debug-library is built.

           The NetBSD tracing feature is undocumented.

       A few <u>ncurses</u> functions are not provided when symbol versioning is used:

           _nc_tracebits, _tracedump, _tracemouse

       The original <b>trace</b> routine was deprecated because it often conflicted with application names.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3NCURSES/ncurses.3NCURSES.html">ncurses</a></b>(3NCURSES)

ncurses 6.5                                        2025-01-18                                    <u><a href="../man3NCURSES/trace.3NCURSES.html">trace</a></u>(3NCURSES)
</pre>
 </div>
</div></section>
</div>
</body>
</html>