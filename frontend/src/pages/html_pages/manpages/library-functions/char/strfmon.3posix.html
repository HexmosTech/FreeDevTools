<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       strfmon, strfmon_l — convert monetary value to a string

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/monetary.h">monetary.h</a>&gt;

       ssize_t strfmon(char *restrict <u>s</u>, size_t <u>maxsize</u>,
           const char *restrict <u>format</u>, ...);
       ssize_t strfmon_l(char *restrict <u>s</u>, size_t <u>maxsize</u>,
           locale_t <u>locale</u>, const char *restrict <u>format</u>, ...);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>strfmon</u>() function shall place characters into the array pointed to by <u>s</u> as controlled by the string
       pointed to by <u>format</u>.  No more than <u>maxsize</u> bytes are placed into the array.

       The format is a character string, beginning and ending in its initial state, if any,  that  contains  two
       types  of  objects:  <u>plain</u>  <u>characters</u>,  which  are  simply  copied  to the output stream, and <u>conversion</u>
       <u>specifications</u>, each of which shall result in the fetching of zero or more arguments which are  converted
       and  formatted.  The  results  are  undefined  if there are insufficient arguments for the format. If the
       format is exhausted while arguments remain, the excess arguments are simply ignored.

       The application shall ensure that a conversion specification consists of the following sequence:

        *  A <b>'%'</b> character

        *  Optional flags

        *  Optional field width

        *  Optional left precision

        *  Optional right precision

        *  A required conversion specifier character that determines the conversion to be performed

       The <u>strfmon_l</u>() function shall be equivalent to the <u>strfmon</u>() function, except that the locale data  used
       is from the locale represented by <u>locale</u>.

   <b>Flags</b>
       One or more of the following optional flags can be specified to control the conversion:

       =<u>f</u>      An  <b>'='</b> followed by a single character <u>f</u> which is used as the numeric fill character. In order to
               work with precision or width counts, the fill character shall be a single byte character; if not,
               the behavior is undefined. The default numeric fill character is the &lt;space&gt;.  This flag does not
               affect field width filling which always uses the &lt;space&gt;.  This flag is  ignored  unless  a  left
               precision (see below) is specified.

       ^       Do not format the currency amount with grouping characters. The default is to insert the grouping
               characters if defined for the current locale.

       + or (  Specify  the style of representing positive and negative currency amounts. Only one of <b>'+'</b> or <b>'('</b>
               may be specified. If <b>'+'</b> is specified, the locale's equivalent of  <b>'+'</b>  and  <b>'-'</b>  are  used  (for
               example, in many locales, the empty string if positive and <b>'-'</b> if negative). If <b>'('</b> is specified,
               negative  amounts are enclosed within parentheses. If neither flag is specified, the <b>'+'</b> style is
               used.

       !       Suppress the currency symbol from the output conversion.

       -       Specify the alignment. If this flag is present the result of  the  conversion  is  left-justified
               (padded  to  the  right)  rather  than right-justified. This flag shall be ignored unless a field
               width (see below) is specified.

   <b>Field</b> <b>Width</b>
       <u>w</u>       A decimal digit string <u>w</u> specifying a minimum field width in bytes in which  the  result  of  the
               conversion is right-justified (or left-justified if the flag <b>'-'</b> is specified). The default is 0.

   <b>Left</b> <b>Precision</b>
       #<u>n</u>      A  <b>'#'</b>  followed by a decimal digit string <u>n</u> specifying a maximum number of digits expected to be
               formatted to the left of the radix character. This option can  be  used  to  keep  the  formatted
               output  from multiple calls to the <u>strfmon</u>() function aligned in the same columns. It can also be
               used to fill unused positions with a special character as in <b>"$***123.45"</b>.  This option causes an
               amount to be formatted as if it has the number of digits specified by <u>n</u>.  If more  than  <u>n</u>  digit
               positions  are  required, this conversion specification is ignored.  Digit positions in excess of
               those actually required are filled with the numeric fill character (see the =<u>f</u> flag above).

               If grouping has not been suppressed with the <b>'^'</b> flag, and it is defined for the current  locale,
               grouping  separators  are  inserted  before  the  fill  characters  (if  any) are added. Grouping
               separators are not applied to fill characters even if the fill character is a digit.

               To ensure alignment, any characters appearing before or after the number in the formatted  output
               such  as  currency  or sign symbols are padded as necessary with &lt;space&gt; characters to make their
               positive and negative formats an equal length.

   <b>Right</b> <b>Precision</b>
       .<u>p</u>      A &lt;period&gt; followed by a decimal digit string <u>p</u> specifying the number of digits after  the  radix
               character.  If  the  value  of the right precision <u>p</u> is 0, no radix character appears. If a right
               precision is not included, a default specified by the current locale is used.  The  amount  being
               formatted is rounded to the specified number of digits prior to formatting.

   <b>Conversion</b> <b>Specifier</b> <b>Characters</b>
       The conversion specifier characters and their meanings are:

       i       The  <b>double</b>  argument  is  formatted according to the locale's international currency format (for
               example, in the US: USD 1,234.56). If the argument is ±Inf or NaN, the result of  the  conversion
               is unspecified.

       n       The <b>double</b> argument is formatted according to the locale's national currency format (for example,
               in  the  US:  $1,234.56).  If  the  argument  is  ±Inf  or  NaN,  the result of the conversion is
               unspecified.

       %       Convert to a <b>'%'</b>; no argument is converted. The entire conversion specification shall be <b>%%</b>.

   <b>Locale</b> <b>Information</b>
       The <u>LC_MONETARY</u> category of the current locale affects  the  behavior  of  this  function  including  the
       monetary  radix  character  (which  may  be  different  from  the numeric radix character affected by the
       <u>LC_NUMERIC</u> category), the grouping separator, the  currency  symbols,  and  formats.   The  international
       currency symbol should be conformant with the ISO 4217:2001 standard.

       If the value of <u>maxsize</u> is greater than {SSIZE_MAX}, the result is implementation-defined.

       The  behavior  is  undefined  if  the  <u>locale</u>  argument  to  <u>strfmon_l</u>()  is  the  special  locale object
       LC_GLOBAL_LOCALE or is not a valid locale object handle.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       If the total number of resulting bytes including the terminating null byte  is  not  more  than  <u>maxsize</u>,
       these functions shall return the number of bytes placed into the array pointed to by <u>s</u>, not including the
       terminating  NUL  character.  Otherwise, -1 shall be returned, the contents of the array are unspecified,
       and <u>errno</u> shall be set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       These functions shall fail if:

       <b>E2BIG</b>  Conversion stopped due to lack of space in the buffer.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       Given a locale for the US and the values 123.45, -123.45, and 3456.781, the  following  output  might  be
       produced. Square brackets (<b>"[]"</b>) are used in this example to delimit the output.

           %n         [$123.45]         Default formatting
                      [-$123.45]
                      [$3,456.78]

           %11n       [    $123.45]     Right align within an 11-character field
                      [   -$123.45]
                      [  $3,456.78]

           %#5n       [ $   123.45]     Aligned columns for values up to 99999
                      [-$   123.45]
                      [ $ 3,456.78]

           %=*#5n     [ $***123.45]     Specify a fill character
                      [-$***123.45]
                      [ $*3,456.78]

           %=0#5n     [ $000123.45]     Fill characters do not use grouping
                      [-$000123.45]     even if the fill character is a digit
                      [ $03,456.78]

           %^#5n      [ $  123.45]      Disable the grouping separator
                      [-$  123.45]
                      [ $ 3456.78]

           %^#5.0n    [ $  123]         Round off to whole units
                      [-$  123]
                      [ $ 3457]

           %^#5.4n    [ $  123.4500]    Increase the precision
                      [-$  123.4500]
                      [ $ 3456.7810]

           %(#5n      [ $   123.45 ]    Use an alternative pos/neg style
                      [($   123.45)]
                      [ $ 3,456.78 ]

           %!(#5n     [    123.45 ]     Disable the currency symbol
                      [(   123.45)]
                      [  3,456.78 ]

           %-14#5.4n  [ $   123.4500 ]  Left-justify the output
                      [-$   123.4500 ]
                      [ $ 3,456.7810 ]

           %14#5.4n   [  $   123.4500]  Corresponding right-justified output
                      [ -$   123.4500]
                      [  $ 3,456.7810]

       See also the EXAMPLES section in <u>fprintf</u>().

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       None.

</pre><h4><b>RATIONALE</b></h4><pre>
       None.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       Lowercase  conversion  characters are reserved for future standards use and uppercase for implementation-
       defined use.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>fprintf</u>(), <u>localeconv</u>()

       The Base Definitions volume of POSIX.1‐2017, <b>&lt;monetary.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                       <u><a href="../man3POSIX/STRFMON.3POSIX.html">STRFMON</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>