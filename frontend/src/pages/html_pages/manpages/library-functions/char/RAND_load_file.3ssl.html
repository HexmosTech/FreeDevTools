<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAND_load_file, RAND_write_file, RAND_file_name - PRNG seed file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       RAND_load_file, RAND_write_file, RAND_file_name - PRNG seed file

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/rand.h&gt;

        int RAND_load_file(const char *filename, long max_bytes);

        int RAND_write_file(const char *filename);

        const char *RAND_file_name(char *buf, size_t num);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>RAND_load_file()</b> reads a number of bytes from file <b>filename</b> and adds them to the PRNG. If <b>max_bytes</b> is
       nonnegative, up to <b>max_bytes</b> are read; if <b>max_bytes</b> is -1, the complete file is read.  Do not load the
       same file multiple times unless its contents have been updated by <b>RAND_write_file()</b> between reads.  Also,
       note that <b>filename</b> should be adequately protected so that an attacker cannot replace or examine the
       contents.  If <b>filename</b> is not a regular file, then user is considered to be responsible for any side
       effects, e.g. non-anticipated blocking or capture of controlling terminal.

       <b>RAND_write_file()</b> writes a number of random bytes (currently 128) to file <b>filename</b> which can be used to
       initialize the PRNG by calling <b>RAND_load_file()</b> in a later session.

       <b>RAND_file_name()</b> generates a default path for the random seed file. <b>buf</b> points to a buffer of size <b>num</b> in
       which to store the filename.

       On all systems, if the environment variable <b>RANDFILE</b> is set, its value will be used as the seed filename.
       Otherwise, the file is called ".rnd", found in platform dependent locations:

       On Windows (in order of preference)
            %HOME%, %USERPROFILE%, %SYSTEMROOT%, C:\

       On VMS
            SYS$LOGIN:

       On all other systems
            $HOME

       If  $HOME (on non-Windows and non-VMS system) is not set either, or <b>num</b> is too small for the pathname, an
       error occurs.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>RAND_load_file()</b> returns the number of bytes read or -1 on error.

       <b>RAND_write_file()</b> returns the number of bytes written, or -1 if the bytes written were generated  without
       appropriate seeding.

       <b>RAND_file_name()</b> returns a pointer to <b>buf</b> on success, and NULL on error.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/RAND_add.3.html">RAND_add</a></b>(3), <b><a href="../man3/RAND_bytes.3.html">RAND_bytes</a></b>(3), <b><a href="../man7/RAND.7.html">RAND</a></b>(7)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2000-2020 The OpenSSL Project Authors. All Rights Reserved.

       Licensed  under  the  Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain  a  copy  in  the  file  LICENSE  in  the  source  distribution  or  at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                               <u><a href="../man3SSL/RAND_LOAD_FILE.3SSL.html">RAND_LOAD_FILE</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>