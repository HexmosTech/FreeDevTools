<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>g2cdegrib2.c - Write summary output to a file, as is done by utility grb2index.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libg2c-dev">libg2c-dev_2.1.0-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       g2cdegrib2.c - Write summary output to a file, as is done by utility grb2index.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include 'grib2_int.h'
       #include &lt;<a href="file:/usr/include/math.h">math.h</a>&gt;
       #include &lt;stdarg.h&gt;

   <b>Macros</b>
       #define <b>G2C_DATE_TIME_LEN</b>   25
           Size of the date/time string.
       #define <b>G2C_MAX_TYPE_OF_FIXED_SURFACE_LEN</b>   40
           Maximum length of 'Type of first fixed surface' string.

   <b>Functions</b>
       static int <b>format_level</b> (char *cbuf, int ival, int scale)
           Format the level string for degrib2 output.
       int <b>g2c_degrib2</b> (int g2cid, const char *fileout)
           Write a summary file like the degrib2 utility.
       int <b>g2c_get_datetime</b> (int ipdtn, long long int *ipdtmpl, short year, unsigned char month, unsigned char
           day, unsigned char hour, unsigned char minute, unsigned char second, char *tabbrev)
           Convert date and time from GRIB2 info to string output.
       int <b>g2c_get_level_desc</b> (int ipdtn, long long int *ipdtmpl, char *level_desc)
           Determine the string that describes the level information, given the GRIB2 Product Definition
           Template information.

   <b>Variables</b>
       <b>G2C_FILE_INFO_T</b> <b>g2c_file</b> [<b>G2C_MAX_FILES</b>+1]
           Global file information.
       <b>G2C_CODE_TABLE_T</b> * <b>g2c_table</b>
           Pointer to the list of code tables.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Write summary output to a file, as is done by utility grb2index.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           Sep 17, 2022

       Definition in file <b>g2cdegrib2.c</b>.

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>G2C_DATE_TIME_LEN</b>   <b>25</b>
       Size of the date/time string.

       Definition at line <b>21</b> of file <b>g2cdegrib2.c</b>.

   <b>#define</b> <b>G2C_MAX_TYPE_OF_FIXED_SURFACE_LEN</b>   <b>40</b>
       Maximum length of 'Type of first fixed surface' string.

       Definition at line <b>19</b> of file <b>g2cdegrib2.c</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>static</b> <b>int</b> <b>format_level</b> <b>(char</b> <b>*</b> <b>cbuf,</b> <b>int</b> <b>ival,</b> <b>int</b> <b>scale)</b> <b>[static]</b>
       Format the level string for degrib2 output.

       <b>Parameters</b>
           <u>cbuf</u> Character buffer of length 11 which will get the formatted level description.
           <u>ival</u> Integer value which may need scaling.
           <u>scale</u> Scaling factor information.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           11/16/22

       Definition at line <b>254</b> of file <b>g2cdegrib2.c</b>.

       References <b>G2C_NOERROR</b>.

       Referenced by <b>g2c_get_level_desc()</b>.

   <b>int</b> <b>g2c_degrib2</b> <b>(int</b> <b>g2cid,</b> <b>const</b> <b>char</b> <b>*</b> <b>fileout)</b>
       Write a summary file like the degrib2 utility.

       <b>Parameters</b>
           <u>g2cid</u> Indentifier for the file, returned by <b>g2c_open()</b> or g2c_create().
           <u>fileout</u> Path of output file. Any existing file of this name will be overwritten.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

           • <b>G2C_EINVAL</b> Invalid parameters.

           • <b>G2C_EFILE</b> File I/O error.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           Sep 17, 2022

       Definition at line <b>634</b> of file <b>g2cdegrib2.c</b>.

       References   <b>g2c_message_info::bytes_in_msg</b>,   <b>g2c_message_info::bytes_to_msg</b>,  <b>g2c_message_info::center</b>,
       <b>g2c_section5_info::data_def</b>, <b>g2c_message_info::day</b>, <b>g2c_message_info::discipline</b>, <b>G2C_EBADID</b>,  <b>G2C_EFILE</b>,
       <b>G2C_EINVAL</b>,    <b>G2C_ENOSECTION</b>,    <b>G2C_ERROR</b>,    <b>g2c_file</b>,    <b>g2c_get_datetime()</b>,    <b>g2c_get_level_desc()</b>,
       <b>g2c_get_prod()</b>, <b>G2C_MAX_FILES</b>, <b>G2C_MAX_NOAA_ABBREV_LEN</b>,  <b>G2C_MAX_TYPE_OF_FIXED_SURFACE_LEN</b>,  <b>G2C_NOERROR</b>,
       <b>g2c_param_abbrev()</b>,  <b>g2c_section3_info::grid_def</b>,  <b>g2c_message_info::hour</b>,  <b>g2c_section6_info::indicator</b>,
       <b>g2c_section3_info::interp_list</b>, <b>g2c_message_info::local_version</b>,  <b>LOG</b>,  <b>g2c_message_info::master_version</b>,
       <b>g2c_message_info::minute</b>,   <b>g2c_message_info::month</b>,   <b>g2c_section_info::msg</b>,  <b>g2c_message_info::msg_num</b>,
       <b>g2c_message_info::next</b>,               <b>g2c_section_info::next</b>,               <b>g2c_section4_info::num_coord</b>,
       <b>g2c_section3_info::num_data_points</b>,   <b>g2c_section5_info::num_data_points</b>,   <b>g2c_message_info::num_fields</b>,
       <b>g2c_message_info::num_local</b>,           <b>g2c_section3_info::num_opt</b>,           <b>g2c_section3_info::optional</b>,
       <b>g2c_section_info::prev</b>,  <b>g2c_section4_info::prod_def</b>,  <b>g2c_message_info::sec</b>, <b>g2c_section_info::sec_info</b>,
       <b>g2c_section_info::sec_len</b>,              <b>g2c_section_info::sec_num</b>,              <b>g2c_message_info::second</b>,
       <b>g2c_message_info::sig_ref_time</b>,       <b>g2c_section3_info::source_grid_def</b>,       <b>g2c_message_info::status</b>,
       <b>g2c_message_info::subcenter</b>,         <b>g2c_section_info::template</b>,          <b>g2c_section_info::template_len</b>,
       <b>g2c_message_info::type</b>, and <b>g2c_message_info::year</b>.

       Referenced by <b>main()</b>.

   <b>int</b> <b>g2c_get_datetime</b> <b>(int</b> <b>ipdtn,</b> <b>long</b> <b>long</b> <b>int</b> <b>*</b> <b>ipdtmpl,</b> <b>short</b> <b>year,</b> <b>unsigned</b> <b>char</b> <b>month,</b> <b>unsigned</b> <b>char</b> <b>day,</b>
       <b>unsigned</b> <b>char</b> <b>hour,</b> <b>unsigned</b> <b>char</b> <b>minute,</b> <b>unsigned</b> <b>char</b> <b>second,</b> <b>char</b> <b>*</b> <b>tabbrev)</b>
       Convert date and time from GRIB2 info to string output.

       <b>Note</b>
           This function is based on the prvtime() function in NCEPLIBS-grib_utils.

       <b>Parameters</b>
           <u>ipdtn</u>        Product       Definition       Template       Number       ([Code       Table       4.0]
           (https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-0.shtml)).
           <u>ipdtmpl</u> Array of data values for the Product Definition Template specified by ipdtn.
           <u>year</u> year
           <u>month</u> month
           <u>day</u> day
           <u>hour</u> hour
           <u>minute</u> minute
           <u>second</u> second
           <u>tabbrev</u> Character array that will get the date and time string. Must be of length 100.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           Sep 28, 2022

       Definition at line <b>49</b> of file <b>g2cdegrib2.c</b>.

       References <b>G2C_DATE_TIME_LEN</b>, and <b>G2C_NOERROR</b>.

       Referenced by <b>g2c_degrib2()</b>.

   <b>int</b> <b>g2c_get_level_desc</b> <b>(int</b> <b>ipdtn,</b> <b>long</b> <b>long</b> <b>int</b> <b>*</b> <b>ipdtmpl,</b> <b>char</b> <b>*</b> <b>level_desc)</b>
       Determine the string that describes the level information, given the GRIB2  Product  Definition  Template
       information.   This   subroutine   finds   the   'Type   of   first   fixed  surface'  (see  [Code  table
       4.5](https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_temp4-0.shtml))   using   the   product
       definition template value and product template array. The location in the template array varies depending
       on the template number.

       <b>Parameters</b>
           <u>ipdtn</u>        Product       Definition       Template       Number       ([Code       Table       4.0]
           (https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-0.shtml)).
           <u>ipdtmpl</u> Array of data values for the Product Definition Template specified by ipdtn.
           <u>level_desc</u> Character array which gets the string describing the level. Must be of length 40.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           Sep 28, 2022

       Definition at line <b>309</b> of file <b>g2cdegrib2.c</b>.

       References <b>format_level()</b>, and <b>G2C_NOERROR</b>.

       Referenced by <b>g2c_degrib2()</b>.

</pre><h4><b>Variable</b> <b>Documentation</b></h4><pre>
   <b>G2C_FILE_INFO_T</b> <b>g2c_file[G2C_MAX_FILES+1]</b> <b>[extern]</b>
       Global file information.

       Definition at line <b>10</b> of file <b>g2cfile.c</b>.

       Referenced by <b>g2c_degrib2()</b>.

   <b>G2C_CODE_TABLE_T*</b> <b>g2c_table</b> <b>[extern]</b>
       Pointer to the list of code tables.

       Definition at line <b>16</b> of file <b>g2ccsv.c</b>.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for NCEPLIBS-g2c from the source code.

NCEPLIBS-g2c                                      Version 2.1.0                                  <u><a href="../man3/g2cdegrib2.c.3.html">g2cdegrib2.c</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>