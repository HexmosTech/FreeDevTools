<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>clientlib - NNTP clientlib part of InterNetNews library</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/inn">inn_1.7.2q-52_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       clientlib - NNTP clientlib part of InterNetNews library

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>extern</b> <b>FILE</b>          <b>*ser_rd_fp;</b>
       <b>extern</b> <b>FILE</b>          <b>*ser_wr_fp;</b>
       <b>extern</b> <b>char</b>          <b>ser_line[];</b>

       <b>char</b> <b>*</b>
       <b>getserverbyfile(file)</b>
           <b>char</b>             <b>*file;</b>

       <b>int</b>
       <b>server_init(host)</b>
           <b>char</b>             <b>*host;</b>

       <b>int</b>
       <b>handle_server_response(response,</b> <b>host)</b>
           <b>int</b>              <b>reponse;</b>
           <b>char</b>             <b>*host;</b>

       <b>void</b>
       <b>put_server(text)</b>
           <b>char</b>             <b>*text;</b>

       <b>int</b>
       <b>get_server(buff,</b> <b>buffsize)</b>
           <b>char</b>             <b>*buff;</b>
           <b>int</b>              <b>buffsize;</b>

       <b>void</b>
       <b>close_server()</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  routines  described  in  this manual page are part of the InterNetNews library, <u><a href="../man3/libinn.3.html">libinn</a></u>(3).  They are
       replacements for the ``clientlib'' part of the NNTP distribution, and are intended to be used in building
       programs like <u>rrn</u>.

       <u>Getserverbyfile</u> calls <u>GetConfigValue</u> to get the name of the local NNTP server.  It returns a  pointer  to
       static space.  The <u>file</u> parameter is ignored.

       <u>Server_init</u>  opens  a connect to the NNTP server at the specified <u>host</u>.  It returns the server's response
       code or -1 on error.  If a connection was made, then <u>ser_rd_fp</u> and <u>ser_wr_fp</u> can be used to read from and
       write to the server, respectively, and <u>ser_line</u> will contain the server's response.  <u>Ser_line</u> can also be
       used in other routines.

       <u>Handle_server_response</u> decodes the <u>response</u>, which comes from the server  on  <u>host.</u>   If  the  client  is
       authorized,   it   returns   0.    A   client   that   is   only  allowed  to  read  is  authorized,  but
       <u>handle_server_response</u> will print a message on the standard output.  If the client is not  authorized  to
       talk to the server, then a message is printed and the routine returns -1.

       <u>Put_server</u> sends the text in <u>buff</u> to the server, adding the necessary NNTP line terminators, and flushing
       the I/O buffer.

       <u>Get_server</u>  reads  a  line  of  text from the server into <u>buff</u>, reading at most <u>buffsize</u> characters.  Any
       trailing \r\n terminators are stripped off.  <u>Get_server</u> returns -1 on error.

       <u>Close_server</u> sends a ``quit'' command to the server and closes the connection.

</pre><h4><b>HISTORY</b></h4><pre>
       Written by Rich $alz &lt;<a href="mailto:rsalz@uunet.uu.net">rsalz@uunet.uu.net</a>&gt; for InterNetNews.  This is revision 1.4, dated 1992/04/03.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3/libinn.3.html">libinn</a>(3).

                                                                                                    <u><a href="../man3/CLIENTLIB.3.html">CLIENTLIB</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>