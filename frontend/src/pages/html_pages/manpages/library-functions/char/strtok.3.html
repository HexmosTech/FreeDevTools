<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>strtok, strtok_r - extract tokens from strings</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       strtok, strtok_r - extract tokens from strings

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/string.h">string.h</a>&gt;</b>

       <b>char</b> <b>*strtok(char</b> <b>*_Nullable</b> <b>restrict</b> <u>str</u><b>,</b> <b>const</b> <b>char</b> <b>*restrict</b> <u>delim</u><b>);</b>
       <b>char</b> <b>*strtok_r(char</b> <b>*_Nullable</b> <b>restrict</b> <u>str</u><b>,</b> <b>const</b> <b>char</b> <b>*restrict</b> <u>delim</u><b>,</b>
                      <b>char</b> <b>**restrict</b> <u>saveptr</u><b>);</b>

   Feature Test Macro Requirements for glibc (see <b><a href="../man7/feature_test_macros.7.html">feature_test_macros</a></b>(7)):

       <b>strtok_r</b>():
           _POSIX_C_SOURCE
               || /* glibc &lt;= 2.19: */ _BSD_SOURCE || _SVID_SOURCE

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>strtok</b>() function breaks a string into a sequence of zero or more nonempty tokens.  On the first call
       to  <b>strtok</b>(),  the  string  to be parsed should be specified in <u>str</u>.  In each subsequent call that should
       parse the same string, <u>str</u> must be NULL.

       The <u>delim</u> argument specifies a set of bytes that delimit the tokens in the parsed string.  The caller may
       specify different strings in <u>delim</u> in successive calls that parse the same string.

       Each call to <b>strtok</b>() returns a pointer to a null-terminated string  containing  the  next  token.   This
       string does not include the delimiting byte.  If no more tokens are found, <b>strtok</b>() returns NULL.

       A  sequence  of calls to <b>strtok</b>() that operate on the same string maintains a pointer that determines the
       point from which to start searching for the next token.  The first call to <b>strtok</b>() sets this pointer  to
       point to the first byte of the string.  The start of the next token is determined by scanning forward for
       the  next nondelimiter byte in <u>str</u>.  If such a byte is found, it is taken as the start of the next token.
       If no such byte is found, then there are no more tokens, and <b>strtok</b>() returns NULL.  (A  string  that  is
       empty or that contains only delimiters will thus cause <b>strtok</b>() to return NULL on the first call.)

       The end of each token is found by scanning forward until either the next delimiter byte is found or until
       the  terminating null byte ('\0') is encountered.  If a delimiter byte is found, it is overwritten with a
       null byte to terminate the current token, and <b>strtok</b>() saves  a  pointer  to  the  following  byte;  that
       pointer  will  be  used  as the starting point when searching for the next token.  In this case, <b>strtok</b>()
       returns a pointer to the start of the found token.

       From the above description, it follows that a sequence of two or more contiguous delimiter bytes  in  the
       parsed string is considered to be a single delimiter, and that delimiter bytes at the start or end of the
       string are ignored.  Put another way: the tokens returned by <b>strtok</b>() are always nonempty strings.  Thus,
       for example, given the string "<u>aaa;;bbb,</u>", successive calls to <b>strtok</b>() that specify the delimiter string
       "<u>;,</u>" would return the strings "<u>aaa</u>" and "<u>bbb</u>", and then a null pointer.

       The  <b>strtok_r</b>()  function  is  a  reentrant  version of <b>strtok</b>().  The <u>saveptr</u> argument is a pointer to a
       <u>char</u> <u>*</u> variable that is used internally by <b>strtok_r</b>() in order to  maintain  context  between  successive
       calls that parse the same string.

       On  the  first call to <b>strtok_r</b>(), <u>str</u> should point to the string to be parsed, and the value of <u>*saveptr</u>
       is ignored (but see VERSIONS).  In subsequent calls, <u>str</u> should be NULL, and <u>saveptr</u> (and the buffer that
       it points to) should be unchanged since the previous call.

       Different strings may be parsed  concurrently  using  sequences  of  calls  to  <b>strtok_r</b>()  that  specify
       different <u>saveptr</u> arguments.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       The  <b>strtok</b>()  and  <b>strtok_r</b>() functions return a pointer to the next token, or NULL if there are no more
       tokens.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       For an explanation of the terms used in this section, see <b><a href="../man7/attributes.7.html">attributes</a></b>(7).
       ┌───────────────────────────────────────────────────────────────┬───────────────┬───────────────────────┐
       │ <b>Interface</b>                                                     │ <b>Attribute</b>     │ <b>Value</b>                 │
       ├───────────────────────────────────────────────────────────────┼───────────────┼───────────────────────┤
       │ <b>strtok</b>()                                                      │ Thread safety │ MT-Unsafe race:strtok │
       ├───────────────────────────────────────────────────────────────┼───────────────┼───────────────────────┤
       │ <b>strtok_r</b>()                                                    │ Thread safety │ MT-Safe               │
       └───────────────────────────────────────────────────────────────┴───────────────┴───────────────────────┘

</pre><h4><b>VERSIONS</b></h4><pre>
       On some implementations, <u>*saveptr</u> is required to be NULL on the first call to <b>strtok_r</b>()  that  is  being
       used to parse <u>str</u>.

</pre><h4><b>STANDARDS</b></h4><pre>
       <b>strtok</b>()
              C11, POSIX.1-2008.

       <b>strtok_r</b>()
              POSIX.1-2008.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>strtok</b>()
              POSIX.1-2001, C89, SVr4, 4.3BSD.

       <b>strtok_r</b>()
              POSIX.1-2001.

</pre><h4><b>BUGS</b></h4><pre>
       Be cautious when using these functions.  If you do use them, note that:

       •  These functions modify their first argument.

       •  These functions cannot be used on constant strings.

       •  The identity of the delimiting byte is lost.

       •  The  <b>strtok</b>() function uses a static buffer while parsing, so it's not thread safe.  Use <b>strtok_r</b>() if
          this matters to you.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The program below uses nested loops that employ <b>strtok_r</b>() to break a string into a  two-level  hierarchy
       of  tokens.   The  first  command-line  argument  specifies the string to be parsed.  The second argument
       specifies the delimiter byte(s) to be used to separate  that  string  into  "major"  tokens.   The  third
       argument specifies the delimiter byte(s) to be used to separate the "major" tokens into subtokens.

       An example of the output produced by this program is the following:

           $ <b>./a.out</b> <b>'a/bbb///cc;xxx:yyy:'</b> <b>':;'</b> <b>'/'</b>
           1: a/bbb///cc
                    --&gt; a
                    --&gt; bbb
                    --&gt; cc
           2: xxx
                    --&gt; xxx
           3: yyy
                    --&gt; yyy

   <b>Program</b> <b>source</b>

       #include &lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;
       #include &lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;
       #include &lt;<a href="file:/usr/include/string.h">string.h</a>&gt;

       int
       main(int argc, char *argv[])
       {
           char *str1, *str2, *token, *subtoken;
           char *saveptr1, *saveptr2;
           int j;

           if (argc != 4) {
               fprintf(stderr, "Usage: %s string delim subdelim\n",
                       argv[0]);
               exit(EXIT_FAILURE);
           }

           for (j = 1, str1 = argv[1]; ; j++, str1 = NULL) {
               token = strtok_r(str1, argv[2], &amp;saveptr1);
               if (token == NULL)
                   break;
               printf("%d: %s\n", j, token);

               for (str2 = token; ; str2 = NULL) {
                   subtoken = strtok_r(str2, argv[3], &amp;saveptr2);
                   if (subtoken == NULL)
                       break;
                   printf("\t --&gt; %s\n", subtoken);
               }
           }

           exit(EXIT_SUCCESS);
       }

       Another example program using <b>strtok</b>() can be found in <b><a href="../man3/getaddrinfo_a.3.html">getaddrinfo_a</a></b>(3).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/memchr.3.html">memchr</a></b>(3), <b><a href="../man3/strchr.3.html">strchr</a></b>(3), <b><a href="../man3/string.3.html">string</a></b>(3), <b><a href="../man3/strpbrk.3.html">strpbrk</a></b>(3), <b><a href="../man3/strsep.3.html">strsep</a></b>(3), <b><a href="../man3/strspn.3.html">strspn</a></b>(3), <b><a href="../man3/strstr.3.html">strstr</a></b>(3), <b><a href="../man3/wcstok.3.html">wcstok</a></b>(3)

Linux man-pages 6.9.1                              2024-06-16                                          <u><a href="../man3/strtok.3.html">strtok</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>