<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       strtok, strtok_r — split string into tokens

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/string.h">string.h</a>&gt;

       char *strtok(char *restrict <u>s</u>, const char *restrict <u>sep</u>);
       char *strtok_r(char *restrict <u>s</u>, const char *restrict <u>sep</u>,
           char **restrict <u>state</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       For  <u>strtok</u>(): The functionality described on this reference page is aligned with the ISO C standard. Any
       conflict between the requirements described here and the ISO C standard is unintentional. This volume  of
       POSIX.1‐2017 defers to the ISO C standard.

       A  sequence  of  calls  to  <u>strtok</u>() breaks the string pointed to by <u>s</u> into a sequence of tokens, each of
       which is delimited by a byte from the string pointed to by <u>sep</u>.  The first call in the sequence has <u>s</u>  as
       its  first  argument, and is followed by calls with a null pointer as their first argument. The separator
       string pointed to by <u>sep</u> may be different from call to call.

       The first call in the sequence searches the string pointed to by  <u>s</u>  for  the  first  byte  that  is  <u>not</u>
       contained in the current separator string pointed to by <u>sep</u>.  If no such byte is found, then there are no
       tokens  in  the string pointed to by <u>s</u> and <u>strtok</u>() shall return a null pointer. If such a byte is found,
       it is the start of the first token.

       The <u>strtok</u>() function then searches from there for a byte that <u>is</u>  contained  in  the  current  separator
       string. If no such byte is found, the current token extends to the end of the string pointed to by <u>s</u>, and
       subsequent  searches  for a token shall return a null pointer. If such a byte is found, it is overwritten
       by a NUL character, which terminates the current token. The <u>strtok</u>() function  saves  a  pointer  to  the
       following byte, from which the next search for a token shall start.

       Each  subsequent  call, with a null pointer as the value of the first argument, starts searching from the
       saved pointer and behaves as described above.

       The implementation shall behave as if no function defined in this volume of POSIX.1‐2017 calls <u>strtok</u>().

       The <u>strtok</u>() function need not be thread-safe.

       The <u>strtok_r</u>() function shall be equivalent to <u>strtok</u>(), except that <u>strtok_r</u>() shall be thread-safe  and
       the  argument  <u>state</u>  points  to a user-provided pointer that allows <u>strtok_r</u>() to maintain state between
       calls which scan the same string. The application shall ensure that the pointer pointed to  by  <u>state</u>  is
       unique  for  each  string  (<u>s</u>) being processed concurrently by <u>strtok_r</u>() calls. The application need not
       initialize the pointer pointed to by <u>state</u> to any particular value. The implementation shall  not  update
       the  pointer  pointed  to  by <u>state</u> to point (directly or indirectly) to resources, other than within the
       string <u>s</u>, that need to be freed or released by the caller.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon successful completion, <u>strtok</u>() shall return a pointer to the first byte of a token.  Otherwise,  if
       there is no token, <u>strtok</u>() shall return a null pointer.

       The  <u>strtok_r</u>()  function  shall  return a pointer to the token found, or a null pointer when no token is
       found.

</pre><h4><b>ERRORS</b></h4><pre>
       No errors are defined.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Searching</b> <b>for</b> <b>Word</b> <b>Separators</b>
       The following example searches for tokens separated by &lt;space&gt; characters.

           #include &lt;<a href="file:/usr/include/string.h">string.h</a>&gt;
           ...
           char *token;
           char line[] = "LINE TO BE SEPARATED";
           char *search = " ";

           /* Token will point to "LINE". */
           token = strtok(line, search);

           /* Token will point to "TO". */
           token = strtok(NULL, search);

   <b>Find</b> <b>First</b> <b>two</b> <b>Fields</b> <b>in</b> <b>a</b> <b>Buffer</b>
       The following example uses <u>strtok</u>() to find two character strings (a key and data  associated  with  that
       key) separated by any combination of &lt;space&gt;, &lt;tab&gt;, or &lt;newline&gt; characters at the start of the array of
       characters pointed to by <u>buffer</u>.

           #include &lt;<a href="file:/usr/include/string.h">string.h</a>&gt;
           ...
           char    *buffer;
           ...
           struct element {
               char *key;
               char *data;
           } e;
           ...
           // Load the buffer...
           ...
           // Get the key and its data...
           e.key = strtok(buffer, " \t\n");
           e.data = strtok(NULL, " \t\n");
           // Process the rest of the contents of the buffer...
           ...

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       Note  that  if  <u>sep</u> is the empty string, <u>strtok</u>() and <u>strtok_r</u>() return a pointer to the remainder of the
       string being tokenized.

       The <u>strtok_r</u>() function is thread-safe and stores its state in a user-supplied buffer instead of possibly
       using a static data area that may be overwritten by an unrelated call from another thread.

</pre><h4><b>RATIONALE</b></h4><pre>
       The <u>strtok</u>() function searches for a separator string within a larger string. It returns a pointer to the
       last substring between separator strings.  This function uses static storage to keep track of the current
       string position between calls. The new function, <u>strtok_r</u>(), takes an additional argument, <u>state</u>, to keep
       track of the current position in the string.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The Base Definitions volume of POSIX.1‐2017, <b>&lt;string.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                        <u><a href="../man3POSIX/STRTOK.3POSIX.html">STRTOK</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>