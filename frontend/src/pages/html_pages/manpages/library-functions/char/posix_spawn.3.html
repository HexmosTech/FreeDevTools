<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>posix_spawn, posix_spawnp - spawn a process</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       posix_spawn, posix_spawnp - spawn a process

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/spawn.h">spawn.h</a>&gt;</b>

       <b>int</b> <b>posix_spawn(pid_t</b> <b>*restrict</b> <u>pid</u><b>,</b> <b>const</b> <b>char</b> <b>*restrict</b> <u>path</u><b>,</b>
                       <b>const</b> <b>posix_spawn_file_actions_t</b> <b>*restrict</b> <u>file_actions</u><b>,</b>
                       <b>const</b> <b>posix_spawnattr_t</b> <b>*restrict</b> <u>attrp</u><b>,</b>
                       <b>char</b> <b>*const</b> <u>argv</u><b>[restrict],</b>
                       <b>char</b> <b>*const</b> <u>envp</u><b>[restrict]);</b>
       <b>int</b> <b>posix_spawnp(pid_t</b> <b>*restrict</b> <u>pid</u><b>,</b> <b>const</b> <b>char</b> <b>*restrict</b> <u>file</u><b>,</b>
                       <b>const</b> <b>posix_spawn_file_actions_t</b> <b>*restrict</b> <u>file_actions</u><b>,</b>
                       <b>const</b> <b>posix_spawnattr_t</b> <b>*restrict</b> <u>attrp</u><b>,</b>
                       <b>char</b> <b>*const</b> <u>argv</u><b>[restrict],</b>
                       <b>char</b> <b>*const</b> <u>envp</u><b>[restrict]);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>posix_spawn</b>()  and  <b>posix_spawnp</b>()  functions are used to create a new child process that executes a
       specified file.  These functions were specified by POSIX to provide a standardized method of creating new
       processes on machines that lack the capability to support the <b><a href="../man2/fork.2.html">fork</a></b>(2) system call.   These  machines  are
       generally small, embedded systems lacking MMU support.

       The  <b>posix_spawn</b>()  and  <b>posix_spawnp</b>()  functions  provide  the  functionality of a combined <b><a href="../man2/fork.2.html">fork</a></b>(2) and
       <b><a href="../man3/exec.3.html">exec</a></b>(3), with some optional housekeeping steps in the child process before the <b><a href="../man3/exec.3.html">exec</a></b>(3).  These  functions
       are  not meant to replace the <b><a href="../man2/fork.2.html">fork</a></b>(2) and <b><a href="../man2/execve.2.html">execve</a></b>(2) system calls.  In fact, they provide only a subset of
       the functionality that can be achieved by using the system calls.

       The only difference between <b>posix_spawn</b>() and <b>posix_spawnp</b>() is the manner in which they specify the file
       to be executed by the child process.  With <b>posix_spawn</b>(), the executable file is specified as a  pathname
       (which  can  be absolute or relative).  With <b>posix_spawnp</b>(), the executable file is specified as a simple
       filename; the system searches for this file in the list of directories specified by <b>PATH</b> (in the same way
       as for <b><a href="../man3/execvp.3.html">execvp</a></b>(3)).  For the remainder of this page, the discussion is phrased in terms of  <b>posix_spawn</b>(),
       with the understanding that <b>posix_spawnp</b>() differs only on the point just described.

       The remaining arguments to these two functions are as follows:

       <u>pid</u>    points to a buffer that is used to return the process ID of the new child process.

       <u>file_actions</u>
              points  to  a <u>spawn</u> <u>file</u> <u>actions</u> <u>object</u> that specifies file-related actions to be performed in the
              child between the <b><a href="../man2/fork.2.html">fork</a></b>(2) and <b><a href="../man3/exec.3.html">exec</a></b>(3) steps.  This object is initialized and populated before  the
              <b>posix_spawn</b>()  call  using  <b><a href="../man3/posix_spawn_file_actions_init.3.html">posix_spawn_file_actions_init</a></b>(3)  and the <b>posix_spawn_file_actions_*</b>()
              functions.

       <u>attrp</u>  points to an <u>attributes</u> <u>objects</u> that specifies various attributes of the  created  child  process.
              This    object    is   initialized   and   populated   before   the   <b>posix_spawn</b>()   call   using
              <b><a href="../man3/posix_spawnattr_init.3.html">posix_spawnattr_init</a></b>(3) and the <b>posix_spawnattr_*</b>() functions.

       <u>argv</u>
       <u>envp</u>   specify the argument list and environment for the program that is executed in the  child  process,
              as for <b><a href="../man2/execve.2.html">execve</a></b>(2).

       Below, the functions are described in terms of a three-step process: the <b>fork</b>() step, the pre-<b>exec</b>() step
       (executed in the child), and the <b>exec</b>() step (executed in the child).

   <b>fork()</b> <b>step</b>
       Since  glibc 2.24, the <b>posix_spawn</b>() function commences by calling <b><a href="../man2/clone.2.html">clone</a></b>(2) with <b>CLONE_VM</b> and <b>CLONE_VFORK</b>
       flags.  Older implementations use <b><a href="../man2/fork.2.html">fork</a></b>(2), or possibly <b><a href="../man2/vfork.2.html">vfork</a></b>(2) (see below).

       The PID of the new child process is placed in <u>*pid</u>.  The <b>posix_spawn</b>() function then returns  control  to
       the parent process.

       Subsequently,  the parent can use one of the system calls described in <b><a href="../man2/wait.2.html">wait</a></b>(2) to check the status of the
       child process.  If the child fails in any of the housekeeping steps described below, or fails to  execute
       the desired file, it exits with a status of 127.

       Before  glibc  2.24,  the  child  process is created using <b><a href="../man2/vfork.2.html">vfork</a></b>(2) instead of <b><a href="../man2/fork.2.html">fork</a></b>(2) when either of the
       following is true:

       •  the <u>spawn-flags</u> element of the attributes object pointed to by <u>attrp</u> contains  the  GNU-specific  flag
          <b>POSIX_SPAWN_USEVFORK</b>; or

       •  <u>file_actions</u> is NULL and the <u>spawn-flags</u> element of the attributes object pointed to by <u>attrp</u> does <u>not</u>
          contain        <b>POSIX_SPAWN_SETSIGMASK</b>,        <b>POSIX_SPAWN_SETSIGDEF</b>,        <b>POSIX_SPAWN_SETSCHEDPARAM</b>,
          <b>POSIX_SPAWN_SETSCHEDULER</b>, <b>POSIX_SPAWN_SETPGROUP</b>, or <b>POSIX_SPAWN_RESETIDS</b>.

       In other words, <b><a href="../man2/vfork.2.html">vfork</a></b>(2) is used if the caller requests it, or if there is no  cleanup  expected  in  the
       child before it <b><a href="../man3/exec.3.html">exec</a></b>(3)s the requested file.

   <b>pre-exec()</b> <b>step:</b> <b>housekeeping</b>
       In  between  the  <b>fork()</b>  and the <b>exec()</b> steps, a child process may need to perform a set of housekeeping
       actions.  The <b>posix_spawn</b>() and <b>posix_spawnp</b>() functions support a  small,  well-defined  set  of  system
       tasks that the child process can accomplish before it executes the executable file.  These operations are
       controlled  by  the  attributes  object  pointed  to  by  <u>attrp</u> and the file actions object pointed to by
       <u>file_actions</u>.  In the child, processing is done in the following sequence:

       (1)  Process  attribute  actions:  signal  mask,  signal  default  handlers,  scheduling  algorithm   and
            parameters,  process  group,  and  effective  user  and  group  IDs  are changed as specified by the
            attributes object pointed to by <u>attrp</u>.

       (2)  File actions, as specified in the <u>file_actions</u> argument, are performed in the order that  they  were
            specified using calls to the <b>posix_spawn_file_actions_add*</b>() functions.

       (3)  File descriptors with the <b>FD_CLOEXEC</b> flag set are closed.

       All  process  attributes  in  the  child, other than those affected by attributes specified in the object
       pointed to by <u>attrp</u> and the file actions in the object pointed to by <u>file_actions</u>, will  be  affected  as
       though the child was created with <b><a href="../man2/fork.2.html">fork</a></b>(2) and it executed the program with <b><a href="../man2/execve.2.html">execve</a></b>(2).

       The process attributes actions are defined by the attributes object pointed to by <u>attrp</u>.  The <u>spawn-flags</u>
       attribute  (set  using  <b><a href="../man3/posix_spawnattr_setflags.3.html">posix_spawnattr_setflags</a></b>(3))  controls  the general actions that occur, and other
       attributes in the object specify values to be used during those actions.

       The effects of the flags that may be specified in <u>spawn-flags</u> are as follows:

       <b>POSIX_SPAWN_SETSIGMASK</b>
              Set the signal mask to the signal set specified in  the  <u>spawn-sigmask</u>  attribute  of  the  object
              pointed  to  by <u>attrp</u>.  If the <b>POSIX_SPAWN_SETSIGMASK</b> flag is not set, then the child inherits the
              parent's signal mask.

       <b>POSIX_SPAWN_SETSIGDEF</b>
              Reset the disposition of all signals in the set specified in the <u>spawn-sigdefault</u> attribute of the
              object pointed to by <u>attrp</u> to the default.  For the treatment of the dispositions of  signals  not
              specified  in  the  <u>spawn-sigdefault</u> attribute, or the treatment when <b>POSIX_SPAWN_SETSIGDEF</b> is not
              specified, see <b><a href="../man2/execve.2.html">execve</a></b>(2).

       <b>POSIX_SPAWN_SETSCHEDPARAM</b>
              If this flag is set, and the <b>POSIX_SPAWN_SETSCHEDULER</b> flag is not set,  then  set  the  scheduling
              parameters  to the parameters specified in the <u>spawn-schedparam</u> attribute of the object pointed to
              by <u>attrp</u>.

       <b>POSIX_SPAWN_SETSCHEDULER</b>
              Set the scheduling policy algorithm and parameters of the child, as follows:

              •  The scheduling policy is set to the value specified in the <u>spawn-schedpolicy</u> attribute  of  the
                 object pointed to by <u>attrp</u>.

              •  The  scheduling  parameters are set to the value specified in the <u>spawn-schedparam</u> attribute of
                 the object pointed to by <u>attrp</u> (but see BUGS).

              If the <b>POSIX_SPAWN_SETSCHEDPARAM</b> and <b>POSIX_SPAWN_SETSCHEDPOLICY</b> flags are not specified, the child
              inherits the corresponding scheduling attributes from the parent.

       <b>POSIX_SPAWN_RESETIDS</b>
              If this flag is set, reset the effective UID and GID to  the  real  UID  and  GID  of  the  parent
              process.  If this flag is not set, then the child retains the effective UID and GID of the parent.
              In  either case, if the set-user-ID and set-group-ID permission bits are enabled on the executable
              file, their effect will override the setting of the effective UID and GID (se <b><a href="../man2/execve.2.html">execve</a></b>(2)).

       <b>POSIX_SPAWN_SETPGROUP</b>
              Set the process group to the value specified in the <u>spawn-pgroup</u> attribute of the  object  pointed
              to  by <u>attrp</u>.  If the <u>spawn-pgroup</u> attribute has the value 0, the child's process group ID is made
              the same as its process ID.  If the <b>POSIX_SPAWN_SETPGROUP</b> flag is not set, the child inherits  the
              parent's process group ID.

       <b>POSIX_SPAWN_USEVFORK</b>
              Since glibc 2.24, this flag has no effect.  On older implementations, setting this flag forces the
              <b>fork()</b>  step  to  use  <b><a href="../man2/vfork.2.html">vfork</a></b>(2)  instead  of  <b><a href="../man2/fork.2.html">fork</a></b>(2).  The <b>_GNU_SOURCE</b> feature test macro must be
              defined to obtain the definition of this constant.

       <b>POSIX_SPAWN_SETSID</b> (since glibc 2.26)
              If this flag is set, the child process shall create a new session and become the  session  leader.
              The  child  process  shall  also  become  the process group leader of the new process group in the
              session (see <b><a href="../man2/setsid.2.html">setsid</a></b>(2)).  The <b>_GNU_SOURCE</b> feature  test  macro  must  be  defined  to  obtain  the
              definition of this constant.

       If <u>attrp</u> is NULL, then the default behaviors described above for each flag apply.

       The <u>file_actions</u> argument specifies a sequence of file operations that are performed in the child process
       after  the  general  processing  described above, and before it performs the <b><a href="../man3/exec.3.html">exec</a></b>(3).  If <u>file_actions</u> is
       NULL, then no special action is taken, and standard <b><a href="../man3/exec.3.html">exec</a></b>(3) semantics apply—file descriptors open  before
       the  exec  remain open in the new process, except those for which the <b>FD_CLOEXEC</b> flag has been set.  File
       locks remain in place.

       If <u>file_actions</u> is not NULL, then it contains an ordered  set  of  requests  to  <b><a href="../man2/open.2.html">open</a></b>(2),  <b><a href="../man2/close.2.html">close</a></b>(2),  and
       <b><a href="../man2/dup2.2.html">dup2</a></b>(2)  files.   These  requests  are  added to the <u>file_actions</u> by <b><a href="../man3/posix_spawn_file_actions_addopen.3.html">posix_spawn_file_actions_addopen</a></b>(3),
       <b><a href="../man3/posix_spawn_file_actions_addclose.3.html">posix_spawn_file_actions_addclose</a></b>(3), and <b><a href="../man3/posix_spawn_file_actions_adddup2.3.html">posix_spawn_file_actions_adddup2</a></b>(3).  The requested  operations
       are performed in the order they were added to <u>file_actions</u>.

       If  any  of  the housekeeping actions fails (due to bogus values being passed or other reasons why signal
       handling, process scheduling, process group ID functions, and file descriptor operations might fail), the
       child process exits with exit value 127.

   <b>exec()</b> <b>step</b>
       Once the child has successfully forked and performed all requested pre-exec steps,  the  child  runs  the
       requested executable.

       The  child  process  takes its environment from the <u>envp</u> argument, which is interpreted as if it had been
       passed to <b><a href="../man2/execve.2.html">execve</a></b>(2).  The arguments to the  created  process  come  from  the  <u>argv</u>  argument,  which  is
       processed as for <b><a href="../man2/execve.2.html">execve</a></b>(2).

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon  successful  completion, <b>posix_spawn</b>() and <b>posix_spawnp</b>() place the PID of the child process in <u>pid</u>,
       and return 0.  If there is an error during the <b>fork()</b> step, then no child is  created,  the  contents  of
       <u>*pid</u> are unspecified, and these functions return an error number as described below.

       Even  when  these  functions  return a success status, the child process may still fail for a plethora of
       reasons related to its pre-<b>exec</b>() initialization.  In addition, the <b><a href="../man3/exec.3.html">exec</a></b>(3) may fail.  In  all  of  these
       cases, the child process will exit with the exit value of 127.

</pre><h4><b>ERRORS</b></h4><pre>
       The  <b>posix_spawn</b>()  and  <b>posix_spawnp</b>()  functions  fail  only  in the case where the underlying <b><a href="../man2/fork.2.html">fork</a></b>(2),
       <b><a href="../man2/vfork.2.html">vfork</a></b>(2), or <b><a href="../man2/clone.2.html">clone</a></b>(2) call fails;  in these cases, these functions return an error number, which will  be
       one of the errors described for <b><a href="../man2/fork.2.html">fork</a></b>(2), <b><a href="../man2/vfork.2.html">vfork</a></b>(2), or <b><a href="../man2/clone.2.html">clone</a></b>(2).

       In addition, these functions fail if:

       <b>ENOSYS</b> Function not supported on this system.

</pre><h4><b>STANDARDS</b></h4><pre>
       POSIX.1-2008.

</pre><h4><b>HISTORY</b></h4><pre>
       glibc 2.2.  POSIX.1-2001.

</pre><h4><b>NOTES</b></h4><pre>
       The  housekeeping activities in the child are controlled by the objects pointed to by <u>attrp</u> (for non-file
       actions) and <u>file_actions</u> In POSIX parlance, the <u>posix_spawnattr_t</u>  and  <u>posix_spawn_file_actions_t</u>  data
       types are referred to as objects, and their elements are not specified by name.  Portable programs should
       initialize  these  objects  using  only  the  POSIX-specified functions.  (In other words, although these
       objects may be implemented as structures containing fields, portable programs must  avoid  dependence  on
       such implementation details.)

       According to POSIX, it is unspecified whether fork handlers established with <b><a href="../man3/pthread_atfork.3.html">pthread_atfork</a></b>(3) are called
       when  <b>posix_spawn</b>()  is  invoked.   Since glibc 2.24, the fork handlers are not executed in any case.  On
       older implementations, fork handlers are called only if the child is created using <b><a href="../man2/fork.2.html">fork</a></b>(2).

       There is no "posix_fspawn" function (i.e., a function that  is  to  <b>posix_spawn</b>()  as  <b><a href="../man3/fexecve.3.html">fexecve</a></b>(3)  is  to
       <b><a href="../man2/execve.2.html">execve</a></b>(2)).   However,  this  functionality can be obtained by specifying the <u>path</u> argument as one of the
       files in the caller's <u><a href="file:/proc/self/fd">/proc/self/fd</a></u> directory.

</pre><h4><b>BUGS</b></h4><pre>
       POSIX.1   says   that   when   <b>POSIX_SPAWN_SETSCHEDULER</b>   is   specified   in   <u>spawn-flags</u>,   then   the
       <b>POSIX_SPAWN_SETSCHEDPARAM</b>  (if  present)  is ignored.  However, before glibc 2.14, calls to <b>posix_spawn</b>()
       failed  with   an   error   if   <b>POSIX_SPAWN_SETSCHEDULER</b>   was   specified   without   also   specifying
       <b>POSIX_SPAWN_SETSCHEDPARAM</b>.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The  program below demonstrates the use of various functions in the POSIX spawn API.  The program accepts
       command-line attributes that can be used to create file actions and attributes  objects.   The  remaining
       command-line  arguments are used as the executable name and command-line arguments of the program that is
       executed in the child.

       In the first run, the <b><a href="../man1/date.1.html">date</a></b>(1) command is executed in the child, and the  <b>posix_spawn</b>()  call  employs  no
       file actions or attributes objects.

           $ <b>./a.out</b> <b>date</b>
           PID of child: 7634
           Tue Feb  1 19:47:50 CEST 2011
           Child status: exited, status=0

       In  the next run, the <u>-c</u> command-line option is used to create a file actions object that closes standard
       output in the child.  Consequently, <b><a href="../man1/date.1.html">date</a></b>(1) fails when trying to perform output and exits with  a  status
       of 1.

           $ <b>./a.out</b> <b>-c</b> <b>date</b>
           PID of child: 7636
           date: write error: Bad file descriptor
           Child status: exited, status=1

       In  the  next  run, the <u>-s</u> command-line option is used to create an attributes object that specifies that
       all (blockable) signals in the child should be blocked.  Consequently, trying  to  kill  child  with  the
       default signal sent by <b><a href="../man1/kill.1.html">kill</a></b>(1) (i.e., <b>SIGTERM</b>) fails, because that signal is blocked.  Therefore, to kill
       the child, <b>SIGKILL</b> is necessary (<b>SIGKILL</b> can't be blocked).

           $ <b>./a.out</b> <b>-s</b> <b>sleep</b> <b>60</b> <b>&amp;</b>
           [1] 7637
           $ PID of child: 7638

       $ <b>kill</b> <b>7638</b>
       $ <b>kill</b> <b>-KILL</b> <b>7638</b>
       $ Child status: killed by signal 9
       [1]+  Done                    ./a.out -s sleep 60

       When  we  try to execute a nonexistent command in the child, the <b><a href="../man3/exec.3.html">exec</a></b>(3) fails and the child exits with a
       status of 127.

           $ <b>./a.out</b> <b>xxxxx</b>
           <b>PID</b> <b>of</b> <b>child:</b> <b>10190</b>
           <b>Child</b> <b>status:</b> <b>exited,</b> <b>status=127</b>

   <b>Program</b> <b>source</b>

       #include &lt;<a href="file:/usr/include/errno.h">errno.h</a>&gt;
       #include &lt;<a href="file:/usr/include/spawn.h">spawn.h</a>&gt;
       #include &lt;<a href="file:/usr/include/stdint.h">stdint.h</a>&gt;
       #include &lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;
       #include &lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;
       #include &lt;<a href="file:/usr/include/string.h">string.h</a>&gt;
       #include &lt;<a href="file:/usr/include/unistd.h">unistd.h</a>&gt;
       #include &lt;<a href="file:/usr/include/wait.h">wait.h</a>&gt;

       #define <a href="../manmsg/errExit.msg.html">errExit</a>(msg)    do { <a href="../manmsg/perror.msg.html">perror</a>(msg); \
                                    exit(EXIT_FAILURE); } while (0)

       #define errExitEN(en, msg) \
                               do { errno = en; <a href="../manmsg/perror.msg.html">perror</a>(msg); \
                                    exit(EXIT_FAILURE); } while (0)

       char **environ;

       int
       main(int argc, char *argv[])
       {
           pid_t child_pid;
           int s, opt, status;
           sigset_t mask;
           posix_spawnattr_t attr;
           posix_spawnattr_t *attrp;
           posix_spawn_file_actions_t file_actions;
           posix_spawn_file_actions_t *file_actionsp;

           /* Parse command-line options, which can be used to specify an
              attributes object and file actions object for the child. */

           attrp = NULL;
           file_actionsp = NULL;

           while ((opt = getopt(argc, argv, "sc")) != -1) {
               switch (opt) {
               case 'c':       /* -c: close standard output in child */

                   /* Create a file actions object and add a "close"
                      action to it. */

                   s = posix_spawn_file_actions_init(&amp;file_actions);
                   if (s != 0)
                       errExitEN(s, "posix_spawn_file_actions_init");

                   s = posix_spawn_file_actions_addclose(&amp;file_actions,
                                                         STDOUT_FILENO);
                   if (s != 0)
                       errExitEN(s, "posix_spawn_file_actions_addclose");

                   file_actionsp = &amp;file_actions;
                   break;

               case 's':       /* -s: block all signals in child */

                   /* Create an attributes object and add a "set signal mask"
                      action to it. */

                   s = posix_spawnattr_init(&amp;attr);
                   if (s != 0)
                       errExitEN(s, "posix_spawnattr_init");
                   s = posix_spawnattr_setflags(&amp;attr, POSIX_SPAWN_SETSIGMASK);
                   if (s != 0)
                       errExitEN(s, "posix_spawnattr_setflags");

                   sigfillset(&amp;mask);
                   s = posix_spawnattr_setsigmask(&amp;attr, &amp;mask);
                   if (s != 0)
                       errExitEN(s, "posix_spawnattr_setsigmask");

                   attrp = &amp;attr;
                   break;
               }
           }

           /* Spawn the child. The name of the program to execute and the
              command-line arguments are taken from the command-line arguments
              of this program. The environment of the program execed in the
              child is made the same as the parent's environment. */

           s = posix_spawnp(&amp;child_pid, argv[optind], file_actionsp, attrp,
                            &amp;argv[optind], environ);
           if (s != 0)
               errExitEN(s, "posix_spawn");

           /* Destroy any objects that we created earlier. */

           if (attrp != NULL) {
               s = posix_spawnattr_destroy(attrp);
               if (s != 0)
                   errExitEN(s, "posix_spawnattr_destroy");
           }

           if (file_actionsp != NULL) {
               s = posix_spawn_file_actions_destroy(file_actionsp);
               if (s != 0)
                   errExitEN(s, "posix_spawn_file_actions_destroy");
           }

           printf("PID of child: %jd\n", (intmax_t) child_pid);

           /* Monitor status of the child until it terminates. */

           do {
               s = waitpid(child_pid, &amp;status, WUNTRACED | WCONTINUED);
               if (s == -1)
                   errExit("waitpid");

               printf("Child status: ");
               if (WIFEXITED(status)) {
                   printf("exited, status=%d\n", WEXITSTATUS(status));
               } else if (WIFSIGNALED(status)) {
                   printf("killed by signal %d\n", WTERMSIG(status));
               } else if (WIFSTOPPED(status)) {
                   printf("stopped by signal %d\n", WSTOPSIG(status));
               } else if (WIFCONTINUED(status)) {
                   printf("continued\n");
               }
           } while (!WIFEXITED(status) &amp;&amp; !WIFSIGNALED(status));

           exit(EXIT_SUCCESS);
       }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/close.2.html">close</a></b>(2), <b><a href="../man2/dup2.2.html">dup2</a></b>(2), <b><a href="../man2/execl.2.html">execl</a></b>(2), <b><a href="../man2/execlp.2.html">execlp</a></b>(2), <b><a href="../man2/fork.2.html">fork</a></b>(2), <b><a href="../man2/open.2.html">open</a></b>(2), <b><a href="../man2/sched_setparam.2.html">sched_setparam</a></b>(2), <b><a href="../man2/sched_setscheduler.2.html">sched_setscheduler</a></b>(2),
       <b><a href="../man2/setpgid.2.html">setpgid</a></b>(2), <b><a href="../man2/setuid.2.html">setuid</a></b>(2), <b><a href="../man2/sigaction.2.html">sigaction</a></b>(2), <b><a href="../man2/sigprocmask.2.html">sigprocmask</a></b>(2), <b><a href="../man3/posix_spawn_file_actions_addclose.3.html">posix_spawn_file_actions_addclose</a></b>(3),
       <b><a href="../man3/posix_spawn_file_actions_adddup2.3.html">posix_spawn_file_actions_adddup2</a></b>(3), <b><a href="../man3/posix_spawn_file_actions_addopen.3.html">posix_spawn_file_actions_addopen</a></b>(3),
       <b><a href="../man3/posix_spawn_file_actions_destroy.3.html">posix_spawn_file_actions_destroy</a></b>(3), <b><a href="../man3/posix_spawn_file_actions_init.3.html">posix_spawn_file_actions_init</a></b>(3), <b><a href="../man3/posix_spawnattr_destroy.3.html">posix_spawnattr_destroy</a></b>(3),
       <b><a href="../man3/posix_spawnattr_getflags.3.html">posix_spawnattr_getflags</a></b>(3), <b><a href="../man3/posix_spawnattr_getpgroup.3.html">posix_spawnattr_getpgroup</a></b>(3), <b><a href="../man3/posix_spawnattr_getschedparam.3.html">posix_spawnattr_getschedparam</a></b>(3),
       <b><a href="../man3/posix_spawnattr_getschedpolicy.3.html">posix_spawnattr_getschedpolicy</a></b>(3), <b><a href="../man3/posix_spawnattr_getsigdefault.3.html">posix_spawnattr_getsigdefault</a></b>(3), <b><a href="../man3/posix_spawnattr_getsigmask.3.html">posix_spawnattr_getsigmask</a></b>(3),
       <b><a href="../man3/posix_spawnattr_init.3.html">posix_spawnattr_init</a></b>(3), <b><a href="../man3/posix_spawnattr_setflags.3.html">posix_spawnattr_setflags</a></b>(3), <b><a href="../man3/posix_spawnattr_setpgroup.3.html">posix_spawnattr_setpgroup</a></b>(3),
       <b><a href="../man3/posix_spawnattr_setschedparam.3.html">posix_spawnattr_setschedparam</a></b>(3), <b><a href="../man3/posix_spawnattr_setschedpolicy.3.html">posix_spawnattr_setschedpolicy</a></b>(3), <b><a href="../man3/posix_spawnattr_setsigdefault.3.html">posix_spawnattr_setsigdefault</a></b>(3),
       <b><a href="../man3/posix_spawnattr_setsigmask.3.html">posix_spawnattr_setsigmask</a></b>(3), <b><a href="../man3/pthread_atfork.3.html">pthread_atfork</a></b>(3), <u>&lt;spawn.h&gt;</u>, Base Definitions volume of POSIX.1-2001,
       <u><a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a></u>

Linux man-pages 6.9.1                              2024-06-15                                     <u><a href="../man3/posix_spawn.3.html">posix_spawn</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>