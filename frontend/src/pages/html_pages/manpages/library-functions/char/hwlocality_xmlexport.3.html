<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hwlocality_xmlexport - Exporting Topologies to XML</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libhwloc-doc">libhwloc-doc_2.12.0-4build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       hwlocality_xmlexport - Exporting Topologies to XML

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Enumerations</b>
       enum <b>hwloc_topology_export_xml_flags_e</b> { <b>HWLOC_TOPOLOGY_EXPORT_XML_FLAG_V1</b> }

   <b>Functions</b>
       int <b>hwloc_topology_export_xml</b> (<b>hwloc_topology_t</b> topology, const char *xmlpath, unsigned long flags)
       int <b>hwloc_topology_export_xmlbuffer</b> (<b>hwloc_topology_t</b> topology, char **xmlbuffer, int *buflen, unsigned
           long flags)
       void <b>hwloc_free_xmlbuffer</b> (<b>hwloc_topology_t</b> topology, char *xmlbuffer)
       void <b>hwloc_topology_set_userdata_export_callback</b> (<b>hwloc_topology_t</b> topology, void(*export_cb)(void
           *reserved, <b>hwloc_topology_t</b> topology, <b>hwloc_obj_t</b> obj))
       int <b>hwloc_export_obj_userdata</b> (void *reserved, <b>hwloc_topology_t</b> topology, <b>hwloc_obj_t</b> obj, const char
           *name, const void *buffer, size_t length)
       int <b>hwloc_export_obj_userdata_base64</b> (void *reserved, <b>hwloc_topology_t</b> topology, <b>hwloc_obj_t</b> obj, const
           char *name, const void *buffer, size_t length)
       void <b>hwloc_topology_set_userdata_import_callback</b> (<b>hwloc_topology_t</b> topology,
           void(*import_cb)(<b>hwloc_topology_t</b> topology, <b>hwloc_obj_t</b> obj, const char *name, const void *buffer,
           size_t length))

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
</pre><h4><b>Enumeration</b> <b>Type</b> <b>Documentation</b></h4><pre>
   <b>enum</b> <b>hwloc_topology_export_xml_flags_e</b>
       Flags for exporting XML topologies. Flags to be given as a OR'ed set to <b>hwloc_topology_export_xml()</b>.

       <b>Enumerator</b>

       <u>HWLOC_TOPOLOGY_EXPORT_XML_FLAG_V1</u>
              Export  XML  that  is  loadable by hwloc v1.x. However, the export may miss some details about the
              topology.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b> <b>hwloc_export_obj_userdata</b> <b>(void</b> <b>*</b> <b>reserved,</b> <b>hwloc_topology_t</b> <b>topology,</b>  <b>hwloc_obj_t</b>  <b>obj,</b>  <b>const</b>  <b>char</b>  <b>*</b>
       <b>name,</b> <b>const</b> <b>void</b> <b>*</b> <b>buffer,</b> <b>size_t</b> <b>length)</b>
       Export  some  object  userdata to XML. This function may only be called from within the export() callback
       passed to <b>hwloc_topology_set_userdata_export_callback()</b>. It may be  invoked  one  of  multiple  times  to
       export some userdata to XML. The buffer content of length length is stored with optional name name.

       When  importing  this  XML  file,  the import() callback (if set) will be called exactly as many times as
       <b>hwloc_export_obj_userdata()</b> was called during export(). It will receive the  corresponding  name,  buffer
       and length arguments.

       reserved, topology and obj must be the first three parameters that were given to the export callback.

       Only printable characters may be exported to XML string attributes.

       If  exporting  binary  data,  the  application should first encode into printable characters only (or use
       <b>hwloc_export_obj_userdata_base64()</b>). It should also take care of portability issues if the export may  be
       reimported on a different architecture.

       <b>Returns</b>
           0 on success.

           -1 with errno set to EINVAL if a non-printable character is passed in name or <b>buffer</b>.

   <b>int</b> <b>hwloc_export_obj_userdata_base64</b> <b>(void</b> <b>*</b> <b>reserved,</b> <b>hwloc_topology_t</b> <b>topology,</b> <b>hwloc_obj_t</b> <b>obj,</b> <b>const</b> <b>char</b>
       <b>*</b> <b>name,</b> <b>const</b> <b>void</b> <b>*</b> <b>buffer,</b> <b>size_t</b> <b>length)</b>
       Encode  and  export  some object userdata to XML. This function is similar to <b>hwloc_export_obj_userdata()</b>
       but it encodes the input buffer into printable  characters  before  exporting.  On  import,  decoding  is
       automatically performed before the data is given to the import() callback if any.

       This    function    may    only    be    called   from   within   the   export()   callback   passed   to
       <b>hwloc_topology_set_userdata_export_callback()</b>.

       The name must be made of printable characters for export to XML string attributes.

       The function does not take care of portability issues if the export may  be  reimported  on  a  different
       architecture.

       <b>Returns</b>
           0 on success.

           -1 with errno set to EINVAL if a non-printable character is passed in name.

   <b>void</b> <b>hwloc_free_xmlbuffer</b> <b>(hwloc_topology_t</b> <b>topology,</b> <b>char</b> <b>*</b> <b>xmlbuffer)</b>
       Free a buffer allocated by <b>hwloc_topology_export_xmlbuffer()</b>

   <b>int</b> <b>hwloc_topology_export_xml</b> <b>(hwloc_topology_t</b> <b>topology,</b> <b>const</b> <b>char</b> <b>*</b> <b>xmlpath,</b> <b>unsigned</b> <b>long</b> <b>flags)</b>
       Export the topology into an XML file. This file may be loaded later through <b>hwloc_topology_set_xml()</b>.

       By  default,  the  latest export format is used, which means older hwloc releases (e.g. v1.x) will not be
       able   to   import   it.   Exporting   to   v1.x   specific   XML   format   is   possible   using   flag
       <b>HWLOC_TOPOLOGY_EXPORT_XML_FLAG_V1</b> but it may miss some details about the topology. If there is any chance
       that  the  exported  file  may  ever  be  imported back by a process using hwloc 1.x, one should consider
       detecting it at runtime and using the corresponding export format.

       flags is a OR'ed set of <b>hwloc_topology_export_xml_flags_e</b>.

       <b>Returns</b>
           0 on success, or -1 on error.

       <b>Note</b>
           See also  <b>hwloc_topology_set_userdata_export_callback()</b>  for  exporting  application-specific  object
           userdata.

           The topology-specific userdata pointer is ignored when exporting to XML.

           Only  printable  characters may be exported to XML string attributes. Any other character, especially
           any non-ASCII character, will be silently dropped.

           If name is '-', the XML output is sent to the standard output.

   <b>int</b> <b>hwloc_topology_export_xmlbuffer</b> <b>(hwloc_topology_t</b> <b>topology,</b> <b>char</b> <b>**</b> <b>xmlbuffer,</b>  <b>int</b>  <b>*</b>  <b>buflen,</b>  <b>unsigned</b>
       <b>long</b> <b>flags)</b>
       Export  the  topology  into a newly-allocated XML memory buffer. xmlbuffer is allocated by the callee and
       should be freed with <b>hwloc_free_xmlbuffer()</b> later in the caller.

       This memory buffer may be loaded later through <b>hwloc_topology_set_xmlbuffer()</b>.

       By default, the latest export format is used, which means older hwloc releases (e.g. v1.x)  will  not  be
       able   to   import   it.   Exporting   to   v1.x   specific   XML   format   is   possible   using   flag
       <b>HWLOC_TOPOLOGY_EXPORT_XML_FLAG_V1</b> but it may miss some details about the topology. If there is any chance
       that the exported buffer may ever be imported back by a process using  hwloc  1.x,  one  should  consider
       detecting it at runtime and using the corresponding export format.

       The returned buffer ends with a \0 that is included in the returned length.

       flags is a OR'ed set of <b>hwloc_topology_export_xml_flags_e</b>.

       <b>Returns</b>
           0 on success, or -1 on error.

       <b>Note</b>
           See  also  <b>hwloc_topology_set_userdata_export_callback()</b>  for  exporting  application-specific object
           userdata.

           The topology-specific userdata pointer is ignored when exporting to XML.

           Only printable characters may be exported to XML string attributes. Any other  character,  especially
           any non-ASCII character, will be silently dropped.

   <b>void</b>   <b>hwloc_topology_set_userdata_export_callback</b>   <b>(hwloc_topology_t</b>   <b>topology,</b>   <b>void(*)(void</b>  <b>*reserved,</b>
       <b>hwloc_topology_t</b> <b>topology,</b> <b>hwloc_obj_t</b> <b>obj)</b> <b>export_cb)</b>
       Set the application-specific callback for exporting object userdata. The object userdata pointer  is  not
       exported to XML by default because hwloc does not know what it contains.

       This  function  lets applications set export_cb to a callback function that converts this opaque userdata
       into an exportable string.

       export_cb is invoked during XML export for each object whose userdata pointer is not NULL.  The  callback
       should use <b>hwloc_export_obj_userdata()</b> or <b>hwloc_export_obj_userdata_base64()</b> to actually export something
       to XML (possibly multiple times per object).

       export_cb may be set to NULL if userdata should not be exported to XML.

       <b>Note</b>
           The topology-specific userdata pointer is ignored when exporting to XML.

   <b>void</b>   <b>hwloc_topology_set_userdata_import_callback</b>   <b>(hwloc_topology_t</b>   <b>topology,</b>   <b>void(*)(hwloc_topology_t</b>
       <b>topology,</b> <b>hwloc_obj_t</b> <b>obj,</b> <b>const</b> <b>char</b> <b>*name,</b> <b>const</b> <b>void</b> <b>*buffer,</b> <b>size_t</b> <b>length)</b> <b>import_cb)</b>
       Set the application-specific callback for importing userdata. On  XML  import,  userdata  is  ignored  by
       default because hwloc does not know how to store it in memory.

       This  function  lets  applications  set  import_cb  to  a  callback function that will get the XML-stored
       userdata and store it in the object as expected by the application.

       import_cb is called during <b>hwloc_topology_load()</b> as many times as <b>hwloc_export_obj_userdata()</b> was  called
       during  export. The topology is not entirely setup yet. Object attributes are ready to consult, but links
       between objects are not.

       import_cb may be NULL if userdata should be ignored during import.

       <b>Note</b>
           buffer contains length characters followed by a null byte ('\0').

           This function should be called before <b>hwloc_topology_load()</b>.

           The topology-specific userdata pointer is ignored when importing from XML.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for Hardware Locality (hwloc) from the source code.

Hardware Locality (hwloc)                        Version 2.12.0                          <u><a href="../man3/hwlocality_xmlexport.3.html">hwlocality_xmlexport</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>