<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ldap_search,  ldap_search_s,  ldap_search_st, ldap_search_ext, ldap_search_ext_s - Perform an LDAP search</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libldap-dev">libldap-dev_2.6.9+dfsg-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ldap_search,  ldap_search_s,  ldap_search_st, ldap_search_ext, ldap_search_ext_s - Perform an LDAP search
       operation

</pre><h4><b>LIBRARY</b></h4><pre>
       OpenLDAP LDAP (libldap, -lldap)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/types.h&gt;</b>
       <b>#include</b> <b>&lt;ldap.h&gt;</b>

       <b>int</b> <b>ldap_search_ext(</b>
              <b>LDAP</b> <b>*</b><u>ld</u><b>,</b>
              <b>char</b> <b>*</b><u>base</u><b>,</b>
              <b>int</b> <u>scope</u><b>,</b>
              <b>char</b> <b>*</b><u>filter</u><b>,</b>
              <b>char</b> <b>*</b><u>attrs</u><b>[],</b>
              <b>int</b> <u>attrsonly</u><b>,</b>
              <b>LDAPControl</b> <b>**</b><u>serverctrls</u><b>,</b>
              <b>LDAPControl</b> <b>**</b><u>clientctrls</u><b>,</b>
              <b>struct</b> <b>timeval</b> <b>*</b><u>timeout</u><b>,</b>
              <b>int</b> <u>sizelimit</u><b>,</b>
              <b>int</b> <b>*</b><u>msgidp</u> <b>);</b>

       <b>int</b> <b>ldap_search_ext_s(</b>
              <b>LDAP</b> <b>*</b><u>ld</u><b>,</b>
              <b>char</b> <b>*</b><u>base</u><b>,</b>
              <b>int</b> <u>scope</u><b>,</b>
              <b>char</b> <b>*</b><u>filter</u><b>,</b>
              <b>char</b> <b>*</b><u>attrs</u><b>[],</b>
              <b>int</b> <u>attrsonly</u><b>,</b>
              <b>LDAPControl</b> <b>**</b><u>serverctrls</u><b>,</b>
              <b>LDAPControl</b> <b>**</b><u>clientctrls</u><b>,</b>
              <b>struct</b> <b>timeval</b> <b>*</b><u>timeout</u><b>,</b>
              <b>int</b> <u>sizelimit</u><b>,</b>
              <b>LDAPMessage</b> <b>**</b><u>res</u> <b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These routines are used to perform LDAP search operations.   The  <b>ldap_search_ext_s()</b>  routine  does  the
       search  synchronously  (i.e.,  not  returning  until the operation completes), providing a pointer to the
       resulting LDAP messages at the location pointed to by the <u>res</u> parameter.

       The <b>ldap_search_ext()</b> routine is the asynchronous  version,  initiating  the  search  and  returning  the
       message id of the operation it initiated in the integer pointed to by the <u>msgidp</u> parameter.

       The <u>base</u> parameter is the DN of the entry at which to start the search.

       The <u>scope</u> parameter is the scope of the search and should be one of LDAP_SCOPE_BASE, to search the object
       itself, LDAP_SCOPE_ONELEVEL, to search the object's immediate children, LDAP_SCOPE_SUBTREE, to search the
       object and all its descendants, or LDAP_SCOPE_CHILDREN, to search all of the descendants.   Note that the
       latter requires the server support the LDAP Subordinates Search Scope extension.

       The <u>filter</u> is a string representation of the filter to apply in the search.  The string should conform to
       the  format specified in RFC 4515 as extended by RFC 4526.  For instance, "(cn=Jane Doe)".  Note that use
       of the extension requires the server to support the LDAP Absolute True/False Filter extension.  NULL  may
       be specified to indicate the library should send the filter (objectClass=*).

       The <u>attrs</u> parameter is a null-terminated array of attribute descriptions to return from matching entries.
       If   NULL  is  specified,  the  return  of  all  user  attributes  is  requested.   The  description  "*"
       (LDAP_ALL_USER_ATTRIBUTES) may be used to request all user attributes to be  returned.   The  description
       "+"(LDAP_ALL_OPERATIONAL_ATTRIBUTES)  may  be  used to request all operational attributes to be returned.
       Note that this requires the server to support the LDAP All Operational Attribute extension.   To  request
       no attributes, the description "1.1" (LDAP_NO_ATTRS) should be listed by itself.

       The  <u>attrsonly</u> parameter should be set to a non-zero value if only attribute descriptions are wanted.  It
       should be set to zero (0) if both attributes descriptions and attribute values are wanted.

       The <u>serverctrls</u>  and  <u>clientctrls</u>  parameters  may  be  used  to  specify  server  and  client  controls,
       respectively.

       The <b>ldap_search_ext_s()</b> routine is the synchronous version of <b>ldap_search_ext().</b>

       It  also  returns  a  code  indicating  success  or, in the case of failure, indicating the nature of the
       failure of the operation.  See <b><a href="../man3/ldap_error.3.html">ldap_error</a></b>(3) for details.

</pre><h4><b>NOTES</b></h4><pre>
       Note that both read and list functionality are subsumed  by  these  routines,  by  using  a  filter  like
       "(objectclass=*)"  and  a  scope  of LDAP_SCOPE_BASE (to emulate read) or LDAP_SCOPE_ONELEVEL (to emulate
       list).

       These routines may dynamically allocate memory. The caller is responsible for freeing such  memory  using
       supplied deallocation routines. Return values are contained in &lt;ldap.h&gt;.

       Note  that  <u>res</u>  parameter of <b>ldap_search_ext_s()</b> and <b>ldap_search_s()</b> should be freed with <b>ldap_msgfree()</b>
       regardless of return value of these functions.

</pre><h4><b>DEPRECATED</b> <b>INTERFACES</b></h4><pre>
       The <b>ldap_search()</b> routine is deprecated in favor of the <b>ldap_search_ext()</b> routine.   The  <b>ldap_search_s()</b>
       and <b>ldap_search_st()</b> routines are deprecated in favor of the <b>ldap_search_ext_s()</b> routine.

       Deprecated  interfaces  generally  remain  in the library.  The macro LDAP_DEPRECATED can be defined to a
       non-zero value (e.g., -DLDAP_DEPRECATED=1) when compiling program designed to use deprecated  interfaces.
       It is recommended that developers writing new programs, or updating old programs, avoid use of deprecated
       interfaces.   Over  time,  it  is  expected  that documentation (and, eventually, support) for deprecated
       interfaces to be eliminated.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ldap.3.html">ldap</a></b>(3), <b><a href="../man3/ldap_result.3.html">ldap_result</a></b>(3), <b><a href="../man3/ldap_error.3.html">ldap_error</a></b>(3)

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
       <b>OpenLDAP</b> <b>Software</b> is  developed  and  maintained  by  The  OpenLDAP  Project  &lt;<a href="http://www.openldap.org/">http://www.openldap.org/</a>&gt;.
       <b>OpenLDAP</b> <b>Software</b> is derived from the University of Michigan LDAP 3.3 Release.

OpenLDAP 2.6.9+dfsg-2ubuntu1                       2024/11/26                                     <u><a href="../man3/LDAP_SEARCH.3.html">LDAP_SEARCH</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>