<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>detect, detect_r - Detecting character set and measuring accuracy of charset</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libchardet-dev">libchardet-dev_1.0.6-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       detect, detect_r - Detecting character set and measuring accuracy of charset

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;chardet.h&gt;</b>

       <b>short</b> <b>detect</b> <b>(char</b> <b>*</b> <b>inbuf,</b> <b>DetectObj</b> <b>**</b> <b>outbuf);</b>

       <b>short</b> <b>detect_r</b> <b>(char</b> <b>*</b> <b>inbuf,</b> <b>size_t</b> <b>inlen,</b> <b>DetectObj</b> <b>**</b> <b>outbuf);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Storing charset and accuracy of <b>inbuf</b> <b>to</b> <b>outbuf</b>

       The <b>detect</b> API is deprecated becase this api is not binary safe. Use or replace to <b>detect_r</b> api.

   <b>Arguments:</b>
       <b>inbuf</b>
              input string for detecting

       <b>inlen</b>
              length of input string for detecting

       <b>outbuf</b>
              Storing inforamtion of <b>inbuf.</b>  The structure of <b>outbuf</b> is follows.

                   typedef struct DetectObject {
                        char * encoding;
                        float confidence;
                   } DetectObj;

              The <b>outbuf</b> variable must be initialized by <b>detect_obj_init</b> API before calling this detect api.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Returns following condition as case by case.

       <b>CHARDET_SUCCESS</b>
              Detecting success

       <b>CHARDET_NO_RESULT</b>
              Detection failure

       <b>CHARDET_NULL_OBJECT</b>
              Don't initializing <b>outbuf</b> with <b>chardet_obj_init</b>

       <b>CHARDET_OUT_OF_MEMORY</b>
              Occurring <b>out</b> <b>of</b> <b>memory</b> at internal API

</pre><h4><b>EXAMPLE</b></h4><pre>
       #include &lt;chardet.h&gt;

       int main (void) {
            DetectObj *obj;
            char * checkstr = "안녕하세요";

            if ( (obj = detect_obj_init ()) == NULL ) {
                 fprintf (stderr, "Memory Allocation failed\n");
                 return CHARDET_MEM_ALLOCATED_FAIL;
            }

            //switch (detect (checkstr, &amp;obj))
            switch (detect_r (checkstr, strlen (checkstr), &amp;obj))
            {
                 case CHARDET_OUT_OF_MEMORY :
                      fprintf (stderr, "On handle processing, occured out of memory\n");
                      detect_obj_free (&amp;obj);
                      return CHARDET_OUT_OF_MEMORY;
                 case CHARDET_NULL_OBJECT :
                      fprintf (stderr,
                                "2st argument of chardet() is must memory allocation "
                                "with detect_obj_init API\n");
                      return CHARDET_NULL_OBJECT;
            }

            # check support obj-&gt;bom with CHARDET_BOM_CHECK constant
            printf ("encoding: %s, confidence: %f, exists bom: %d\n", obj-&gt;encoding, obj-&gt;confidence, obj-&gt;bom);
            detect_obj_free (&amp;obj);

           return 0;
       }

</pre><h4><b>AUTHORS</b></h4><pre>
       JoungKyun.Kim &lt;<a href="http://oops.org">http://oops.org</a>&gt;

</pre><h4><b>BUG</b> <b>REPORTS</b></h4><pre>
       Use QnA board on https://github.com/Joungkyun/libchardet/issues

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3/detect_handledata.3.html">detect_handledata</a>(3), <a href="../man3/detect_obj_init.3.html">detect_obj_init</a>(3), <a href="../man3/detect_obj_free.3.html">detect_obj_free</a>(3)

libchardet manuals                                 2019-08-01                                          <u><a href="../man3/detect.3.html">detect</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>