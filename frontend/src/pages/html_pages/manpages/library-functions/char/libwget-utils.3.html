<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>libwget-utils - General utility functions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/wget2-dev">wget2-dev_2.2.0+ds-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       libwget-utils - General utility functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Functions</b>
       size_t <b>wget_strlcpy</b> (char *dst, const char *src, size_t size)
       ssize_t <b>wget_strscpy</b> (char *dst, const char *src, size_t size)
       int <b>wget_strcmp</b> (const char *s1, const char *s2)
       int <b>wget_strcasecmp</b> (const char *s1, const char *s2)
       int <b>wget_strcasecmp_ascii</b> (const char *s1, const char *s2)
       int <b>wget_strncasecmp_ascii</b> (const char *s1, const char *s2, size_t n)
       char * <b>wget_strtolower</b> (char *s)
       int <b>wget_strncmp</b> (const char *s1, const char *s2, size_t n)
       int <b>wget_strncasecmp</b> (const char *s1, const char *s2, size_t n)
       void <b>wget_memtohex</b> (const unsigned char *src, size_t src_len, char *dst, size_t dst_size)
       void <b>wget_millisleep</b> (int ms)
       long long <b>wget_get_timemillis</b> (void)
       int <b>wget_percent_unescape</b> (char *src)
       int <b>wget_match_tail</b> (const char *s, const char *tail)
       int <b>wget_match_tail_nocase</b> (const char *s, const char *tail)
       char * <b>wget_strnglob</b> (const char *str, size_t n, int flags)
       char * <b>wget_human_readable</b> (char *buf, size_t bufsize, uint64_t n)
       int <b>wget_get_screen_size</b> (int *width, int *height)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       This is a collections of short routines that are used with libwget and/or Wget code. They may be useful
       to other developers that is why they are exported.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>size_t</b> <b>wget_strlcpy</b> <b>(char</b> <b>*</b> <b>dst,</b> <b>const</b> <b>char</b> <b>*</b> <b>src,</b> <b>size_t</b> <b>size)</b>
       <b>Parameters</b>
           <u>dst</u> Output string buffer
           <u>src</u> Input string
           <u>size</u> Size of dst

       <b>Returns</b>
           Length of src

       Copy string src into dst with overflow checking.

       This is the same as snprintf(dst,size,'%s',src) but faster and more elegant.

       If src is NULL, the return value is 0 and nothing is written. If \ dst is NULL, the return value is the
       length of src and nothing is written.

   <b>ssize_t</b> <b>wget_strscpy</b> <b>(char</b> <b>*</b> <b>dst,</b> <b>const</b> <b>char</b> <b>*</b> <b>src,</b> <b>size_t</b> <b>size)</b>
       <b>Parameters</b>
           <u>dst</u> Output string buffer
           <u>src</u> Input string
           <u>size</u> Size of dst

       <b>Returns</b>
           Number of copied bytes (excluding trailing 0) or -1 when src doesn't fit into dst

       Copy string src into dst with overflow checking.

       If either dst is NULL or size is 0, the return value is -1 and nothing is written. If src is NULL and
       size is 0, the return value is -1. If src is NULL and size is &gt;0, the return value is 0 and dst is an
       empty string.

       Else the return value is the number of bytes copied to dst excluding the terminating 0.

   <b>int</b> <b>wget_strcmp</b> <b>(const</b> <b>char</b> <b>*</b> <b>s1,</b> <b>const</b> <b>char</b> <b>*</b> <b>s2)</b>
       <b>Parameters</b>
           <u>s1</u> String
           <u>s2</u> String

       <b>Returns</b>
           0 if both s1 and s2 are NULL
            -1 if s1 is NULL and s2 is not NULL
            1 if s1 is not NULL and s2 is NULL else it returns strcmp(s1, s2)

       This functions compares s1 and s2 in the same way as strcmp() does, except that it also handles NULL
       values.

   <b>int</b> <b>wget_strcasecmp</b> <b>(const</b> <b>char</b> <b>*</b> <b>s1,</b> <b>const</b> <b>char</b> <b>*</b> <b>s2)</b>
       <b>Parameters</b>
           <u>s1</u> String
           <u>s2</u> String

       <b>Returns</b>
           0 if both s1 and s2 are NULL
            -1 if s1 is NULL and s2 is not NULL
            1 if s1 is not NULL and s2 is NULL else it returns strcasecmp(s1, s2)

       This functions compares s1 and s2 in the same way as strcasecmp() does, except that it also handles NULL
       values.

   <b>int</b> <b>wget_strcasecmp_ascii</b> <b>(const</b> <b>char</b> <b>*</b> <b>s1,</b> <b>const</b> <b>char</b> <b>*</b> <b>s2)</b>
       <b>Parameters</b>
           <u>s1</u> String
           <u>s2</u> String

       <b>Returns</b>
           0 if both s1 and s2 are the same disregarding case for ASCII letters a-z
            0 if both s1 and s2 are NULL
            &lt;0 if s1 is NULL and s2 is not NULL or s1 is smaller than s2
            &gt;0 if s2 is NULL and s1 is not NULL or s1 is greater than s2.

       This functions compares s1 and s2 as ASCII strings, case insensitive. It also accepts NULL values.

   <b>int</b> <b>wget_strncasecmp_ascii</b> <b>(const</b> <b>char</b> <b>*</b> <b>s1,</b> <b>const</b> <b>char</b> <b>*</b> <b>s2,</b> <b>size_t</b> <b>n)</b>
       <b>Parameters</b>
           <u>s1</u> String
           <u>s2</u> String
           <u>n</u> Max. number of chars to compare

       <b>Returns</b>
           0 if both s1 and s2 are the same disregarding case for ASCII letters a-z
            0 if both s1 and s2 are NULL
            &lt;0 if s1 is NULL and s2 is not NULL or s1 is smaller than s2
            &gt;0 if s2 is NULL and s1 is not NULL or s1 is greater than s2.

       This functions compares s1 and s2 as ASCII strings, case insensitive, up to a max number of n chars. It
       also accepts NULL values.

   <b>char</b> <b>*</b> <b>wget_strtolower</b> <b>(char</b> <b>*</b> <b>s)</b>
       <b>Parameters</b>
           <u>s</u> String to convert

       <b>Returns</b>
           Value of s

       Converts ASCII string s to lowercase in place.

   <b>int</b> <b>wget_strncmp</b> <b>(const</b> <b>char</b> <b>*</b> <b>s1,</b> <b>const</b> <b>char</b> <b>*</b> <b>s2,</b> <b>size_t</b> <b>n)</b>
       <b>Parameters</b>
           <u>s1</u> String
           <u>s2</u> String
           <u>n</u> Max. number of chars to compare

       <b>Returns</b>
           0 if both s1 and s2 are the same or if both s1 and s2 are NULL
            &lt;0 if s1 is NULL and s2 is not NULL or s1 is smaller than s2
            &gt;0 if s2 is NULL and s1 is not NULL or s1 is greater than s2.

       This functions compares s1 and s2 in the same way as strncmp() does, except that it also handles NULL
       values.

   <b>int</b> <b>wget_strncasecmp</b> <b>(const</b> <b>char</b> <b>*</b> <b>s1,</b> <b>const</b> <b>char</b> <b>*</b> <b>s2,</b> <b>size_t</b> <b>n)</b>
       <b>Parameters</b>
           <u>s1</u> String
           <u>s2</u> String
           <u>n</u> Max. number of chars to compare

       <b>Returns</b>
           0 if both s1 and s2 are the same disregarding case or if both s1 and s2 are NULL
            &lt;0 if s1 is NULL and s2 is not NULL or s1 is smaller than s2
            &gt;0 if s2 is NULL and s1 is not NULL or s1 is greater than s2.

       This functions compares s1 and s2 in the same way as strncasecmp() does, except that it also handles NULL
       values.

   <b>void</b> <b>wget_memtohex</b> <b>(const</b> <b>unsigned</b> <b>char</b> <b>*</b> <b>src,</b> <b>size_t</b> <b>src_len,</b> <b>char</b> <b>*</b> <b>dst,</b> <b>size_t</b> <b>dst_size)</b>
       <b>Parameters</b>
           <u>src</u> Pointer to input buffer
           <u>src_len</u> Number of bytes to encode
           <u>dst</u> Buffer to hold the encoded string
           <u>dst_size</u> Size of dst in bytes

       Encodes a number of bytes into a lowercase hexadecimal C string.

   <b>void</b> <b>wget_millisleep</b> <b>(int</b> <b>ms)</b>
       <b>Parameters</b>
           <u>ms</u> Number of milliseconds to sleep

       Pause for ms milliseconds.

   <b>long</b> <b>long</b> <b>wget_get_timemillis</b> <b>(void)</b>
       Return the current milliseconds since the epoch.

   <b>int</b> <b>wget_percent_unescape</b> <b>(char</b> <b>*</b> <b>src)</b>
       <b>Parameters</b>
           <u>src</u> String to unescape

       <b>Returns</b>
           0 if the string did not change
            1 if unescaping took place

       Does an inline percent unescape. Each occurrence of xx (x = hex digit) will converted into it's byte
       representation.

   <b>int</b> <b>wget_match_tail</b> <b>(const</b> <b>char</b> <b>*</b> <b>s,</b> <b>const</b> <b>char</b> <b>*</b> <b>tail)</b>
       <b>Parameters</b>
           <u>s</u> String
           <u>tail</u> String

       <b>Returns</b>
           1 if tail matches the end of s, 0 if not

       Checks if tail matches the end of the string s.

   <b>int</b> <b>wget_match_tail_nocase</b> <b>(const</b> <b>char</b> <b>*</b> <b>s,</b> <b>const</b> <b>char</b> <b>*</b> <b>tail)</b>
       <b>Parameters</b>
           <u>s</u> String
           <u>tail</u> String

       <b>Returns</b>
           1 if tail matches the end of s, 0 if not

       Checks if tail matches the end of the string s, disregarding the case, ASCII only.

   <b>char</b> <b>*</b> <b>wget_strnglob</b> <b>(const</b> <b>char</b> <b>*</b> <b>str,</b> <b>size_t</b> <b>n,</b> <b>int</b> <b>flags)</b>
       <b>Parameters</b>
           <u>str</u> String to run glob() against
           <u>n</u> Length of string
           <u>flags</u> Flags to pass to glob()

       <b>Returns</b>
           Expanded string after running glob

       Finds a pathname by running <a href="../man3/glob.3.html">glob</a>(3) on the pattern in the first n bytes of globstr. Returns a newly
       allocated string with the first n bytes replaced with the matching pattern obtained via <a href="../man3/glob.3.html">glob</a>(3) if one
       was found. Otherwise it returns NULL.

   <b>char</b> <b>*</b> <b>wget_human_readable</b> <b>(char</b> <b>*</b> <b>buf,</b> <b>size_t</b> <b>bufsize,</b> <b>uint64_t</b> <b>n)</b>
       <b>Parameters</b>
           <u>buf</u> Result buffer
           <u>bufsize</u> Size of /p buf
           <u>n</u> Number to convert

       <b>Returns</b>
           Pointer to printable representation of n

       Returns a human readable representation of n. n, a byte quantity, is converted to a human-readable
       abbreviated form a la sizes printed by `ls -lh'. The result is written into the provided buffer.

       Unlike `with_thousand_seps', this approximates to the nearest unit. Quoting GNU libit: 'Most people
       visually process strings of 3-4 digits effectively, but longer strings of digits are more prone to
       misinterpretation.  Hence, converting to an abbreviated form usually improves readability.'

       This intentionally uses kilobyte (KB), megabyte (MB), etc. in their original computer-related meaning of
       'powers of 1024'. We don't use the '*bibyte' names invented in 1998, and seldom used in practice.
       Wikipedia's entry on 'binary prefix' discusses this in some detail.

   <b>int</b> <b>wget_get_screen_size</b> <b>(int</b> <b>*</b> <b>width,</b> <b>int</b> <b>*</b> <b>height)</b>
       <b>Parameters</b>
           <u>width</u> Number of columns in terminal
           <u>height</u> Number of rows in terminal

       <b>Returns</b>
           Upon successful completion, wget_get_screen_size will return 0, and the values of width and height
           will be set accordingly. If an error was encountered, the function will return -1 without touching
           the values of width and height.

       Get the size of the terminal to which the output is currently printed (stderr). This function accepts two
       int pointers and will set their values to the width and height of the active terminal in number of
       columns. If either of the parameter is NULL, its value will not be set by the function.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for wget2 from the source code.

wget2                                             Version 2.2.0                                 <u><a href="../man3/libwget-utils.3.html">libwget-utils</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>