<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ldap_get_dn, ldap_explode_dn, ldap_explode_rdn, ldap_dn2ufn - LDAP DN handling routines</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libldap-dev">libldap-dev_2.6.9+dfsg-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ldap_get_dn, ldap_explode_dn, ldap_explode_rdn, ldap_dn2ufn - LDAP DN handling routines

</pre><h4><b>LIBRARY</b></h4><pre>
       OpenLDAP LDAP (libldap, -lldap)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;ldap.h&gt;</b>

       <b>char</b> <b>*ldap_get_dn(</b> <b>LDAP</b> <b>*ld,</b> <b>LDAPMessage</b> <b>*entry</b> <b>)</b>

       <b>int</b> <b>ldap_str2dn(</b> <b>const</b> <b>char</b> <b>*str,</b> <b>LDAPDN</b> <b>*dn,</b> <b>unsigned</b> <b>flags</b> <b>)</b>

       <b>void</b> <b>ldap_dnfree(</b> <b>LDAPDN</b> <b>dn</b> <b>)</b>

       <b>int</b> <b>ldap_dn2str(</b> <b>LDAPDN</b> <b>dn,</b> <b>char</b> <b>**str,</b> <b>unsigned</b> <b>flags</b> <b>)</b>

       <b>char</b> <b>**ldap_explode_dn(</b> <b>const</b> <b>char</b> <b>*dn,</b> <b>int</b> <b>notypes</b> <b>)</b>

       <b>char</b> <b>**ldap_explode_rdn(</b> <b>const</b> <b>char</b> <b>*rdn,</b> <b>int</b> <b>notypes</b> <b>)</b>

       <b>char</b> <b>*ldap_dn2ufn(</b> <b>const</b> <b>char</b> <b>*</b> <b>dn</b> <b>)</b>

       <b>char</b> <b>*ldap_dn2dcedn(</b> <b>const</b> <b>char</b> <b>*</b> <b>dn</b> <b>)</b>

       <b>char</b> <b>*ldap_dcedn2dn(</b> <b>const</b> <b>char</b> <b>*</b> <b>dn</b> <b>)</b>

       <b>char</b> <b>*ldap_dn2ad_canonical(</b> <b>const</b> <b>char</b> <b>*</b> <b>dn</b> <b>)</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These  routines allow LDAP entry names (Distinguished Names, or DNs) to be obtained, parsed, converted to
       a user-friendly form, and tested.  A DN has the form described in RFC 4414 "Lightweight Directory  Access
       Protocol (LDAP): String Representation of Distinguished Names".

       The  <b>ldap_get_dn()</b>  routine  takes  an <u>entry</u> as returned by <b><a href="../man3/ldap_first_entry.3.html">ldap_first_entry</a></b>(3) or <b><a href="../man3/ldap_next_entry.3.html">ldap_next_entry</a></b>(3) and
       returns a copy of the entry's DN.  Space for the DN will be obtained dynamically and should be  freed  by
       the caller using <b><a href="../man3/ldap_memfree.3.html">ldap_memfree</a></b>(3).

       <b>ldap_str2dn()</b>  parses  a  string  representation  of  a  distinguished  name  contained  in  <b>str</b> into its
       components, which are stored in <b>dn</b> as <b>ldap_ava</b> structures,  arranged  in  <b>LDAPAVA,</b>  <b>LDAPRDN,</b>  and  <b>LDAPDN</b>
       terms.  Space for <b>dn</b> will be obtained dynamically and should be freed by the caller using <b><a href="../man3/ldap_dnfree.3.html">ldap_dnfree</a></b>(3).
       The <b>LDAPDN</b> is defined as:

       <b>typedef</b> <b>struct</b> <b>ldap_ava</b> <b>{</b>
           <b>struct</b> <b>berval</b> <b>la_attr;</b>
           <b>struct</b> <b>berval</b> <b>la_value;</b>
           <b>unsigned</b> <b>la_flags;</b>
       <b>}</b> <b>LDAPAVA;</b>

       <b>typedef</b> <b>LDAPAVA**</b> <b>LDAPRDN;</b>
       <b>typedef</b> <b>LDAPRDN*</b> <b>LDAPDN;</b>

       The  attribute  types  and  the  attribute  values  are  not  normalized.   The  <b>la_flags</b>  can  be either
       <b>LDAP_AVA_STRING</b> or <b>LDAP_AVA_BINARY,</b> the latter meaning that the value is BER/DER encoded and thus must be
       represented as, quoting from RFC 4514, " ... an octothorpe character  ('#'  ASCII  35)  followed  by  the
       hexadecimal  representation  of  each of the bytes of the BER encoding of the X.500 AttributeValue."  The
       <b>flags</b> parameter to <b>ldap_str2dn()</b> can be

            LDAP_DN_FORMAT_LDAPV3
            LDAP_DN_FORMAT_LDAPV2
            LDAP_DN_FORMAT_DCE

       which defines what DN syntax is expected (according to RFC 4514, RFC 1779 and  DCE,  respectively).   The
       format can be <u>OR</u>ed to the flags

            LDAP_DN_P_NO_SPACES
            LDAP_DN_P_NO_SPACE_AFTER_RDN
            ...
            LDAP_DN_PEDANTIC

       The latter is a shortcut for all the previous limitations.

       <b>LDAP_DN_P_NO_SPACES</b>  does  not  allow extra spaces in the dn; the default is to silently eliminate spaces
       around AVA separators ('='), RDN component separators ('+' for LDAPv3/LDAPv2 or  ','  for  DCE)  and  RDN
       separators (',' LDAPv3/LDAPv2 or '/' for DCE).

       <b>LDAP_DN_P_NO_SPACE_AFTER_RDN</b> does not allow a single space after RDN separators.

       <b>ldap_dn2str()</b>  performs  the inverse operation, yielding in <b>str</b> a string representation of <b>dn.</b>  It allows
       the same values for <b>flags</b> as <b>ldap_str2dn(),</b> plus

            LDAP_DN_FORMAT_UFN
            LDAP_DN_FORMAT_AD_CANONICAL

       for user-friendly naming (RFC 1781) and AD canonical.

       The following routines are viewed as deprecated in favor of <b>ldap_str2dn()</b> and  <b>ldap_dn2str().</b>   They  are
       provided to support legacy applications.

       The <b>ldap_explode_dn()</b> routine takes a DN as returned by <b>ldap_get_dn()</b> and breaks it up into its component
       parts.   Each  part is known as a Relative Distinguished Name, or RDN.  <b>ldap_explode_dn()</b> returns a NULL-
       terminated array, each component of which contains an RDN from the DN.  The <u>notypes</u> parameter is used  to
       request  that only the RDN values be returned, not their types.  For example, the DN "cn=Bob, c=US" would
       return as either { "cn=Bob", "c=US", NULL } or { "Bob", "US", NULL }, depending on whether notypes was  0
       or  1, respectively.  Assertion values in RDN strings may included escaped characters.  The result can be
       freed by calling <b><a href="../man3/ldap_value_free.3.html">ldap_value_free</a></b>(3).

       Similarly, the <b>ldap_explode_rdn()</b> routine takes an RDN as returned by <b>ldap_explode_dn(dn,0)</b> and breaks it
       up into its "type=value" component parts (or just "value", if the <u>notypes</u> parameter is  set).   Note  the
       value is not unescaped.  The result can be freed by calling <b><a href="../man3/ldap_value_free.3.html">ldap_value_free</a></b>(3).

       <b>ldap_dn2ufn()</b>  is  used  to  turn  a  DN  as  returned  by <b><a href="../man3/ldap_get_dn.3.html">ldap_get_dn</a></b>(3) into a more user-friendly form,
       stripping off all type names.  See "Using the Directory to Achieve User Friendly Naming" (RFC  1781)  for
       more details on the UFN format.  Due to the ambiguous nature of the format, it is generally only used for
       display purposes.  The space for the UFN returned is obtained dynamically and the user is responsible for
       freeing it via a call to <b><a href="../man3/ldap_memfree.3.html">ldap_memfree</a></b>(3).

       <b>ldap_dn2dcedn()</b>  is  used  to  turn a DN as returned by <b><a href="../man3/ldap_get_dn.3.html">ldap_get_dn</a></b>(3) into a DCE-style DN, e.g. a string
       with most-significant to least significant rdns separated by slashes ('/'); rdn components are  separated
       by  commas  (',').   Only  printable  chars  (e.g. LDAPv2 printable string) are allowed, at least in this
       implementation.  <b>ldap_dcedn2dn()</b> performs the opposite operation.  <b>ldap_dn2ad_canonical()</b> turns a DN into
       a AD canonical name, which is basically a DCE dn with attribute types omitted.  The trailing  domain,  if
       present,  is  turned  in a DNS-like domain.  The space for the returned value is obtained dynamically and
       the user is responsible for freeing it via a call to <b><a href="../man3/ldap_memfree.3.html">ldap_memfree</a></b>(3).

</pre><h4><b>ERRORS</b></h4><pre>
       If an error occurs in <b>ldap_get_dn()</b>, NULL is returned and the <b>ld_errno</b> field in the <u>ld</u> parameter  is  set
       to  indicate the error.  See <b><a href="../man3/ldap_error.3.html">ldap_error</a></b>(3) for a description of possible error codes.  <b>ldap_explode_dn()</b>,
       <b>ldap_explode_rdn()</b>, <b>ldap_dn2ufn(),</b>  <b>ldap_dn2dcedn(),</b>  <b>ldap_dcedn2dn(),</b>  and  <b>ldap_dn2ad_canonical()</b>  will
       return NULL with <b><a href="../man3/errno.3.html">errno</a></b>(3) set appropriately in case of trouble.

</pre><h4><b>NOTES</b></h4><pre>
       These routines dynamically allocate memory that the caller must free.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ldap.3.html">ldap</a></b>(3), <b><a href="../man3/ldap_error.3.html">ldap_error</a></b>(3), <b><a href="../man3/ldap_first_entry.3.html">ldap_first_entry</a></b>(3), <b><a href="../man3/ldap_memfree.3.html">ldap_memfree</a></b>(3), <b><a href="../man3/ldap_value_free.3.html">ldap_value_free</a></b>(3)

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
       <b>OpenLDAP</b>  <b>Software</b>  is  developed  and  maintained  by  The  OpenLDAP Project &lt;<a href="http://www.openldap.org/">http://www.openldap.org/</a>&gt;.
       <b>OpenLDAP</b> <b>Software</b> is derived from the University of Michigan LDAP 3.3 Release.

OpenLDAP 2.6.9+dfsg-2ubuntu1                       2024/11/26                                     <u><a href="../man3/LDAP_GET_DN.3.html">LDAP_GET_DN</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>