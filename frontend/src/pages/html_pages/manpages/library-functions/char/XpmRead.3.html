<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XpmRead - read an XPM file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libxpm-dev">libxpm-dev_3.5.17-1build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       XpmRead - read an XPM file

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>int</b> <b>XpmReadFileToImage(Display</b> <b>*</b><u>display</u><b>,</b> <b>char</b> <b>*</b><u>filename</u><b>,</b>
              <b>XImage</b> <b>**</b><u>image_return</u><b>,</b> <b>XImage</b> <b>**</b><u>shapeimage_return</u><b>,</b>
              <b>XpmAttributes</b> <b>*</b><u>attributes</u><b>);</b>

       <b>int</b> <b>XpmReadFileToPixmap(Display</b> <b>*</b><u>display</u><b>,</b> <b>Drawable</b> <u>d</u><b>,</b> <b>char</b> <b>*</b><u>filename</u><b>,</b>
              <b>Pixmap</b> <b>*</b><u>pixmap_return</u><b>,</b> <b>Pixmap</b> <b>*</b><u>shapemask_return</u><b>,</b>
              <b>XpmAttributes</b> <b>*</b><u>attributes</u><b>);</b>

       <b>int</b> <b>XpmReadFileToXpmImage(char</b> <b>*</b><u>filename</u><b>,</b> <b>XpmImage</b> <b>*</b><u>image</u><b>,</b>
              <b>XpmInfo</b> <b>*</b><u>info</u><b>);</b>

       <b>int</b> <b>XpmReadFileToBuffer(char</b> <b>*</b><u>filename</u><b>,</b> <b>char</b> <b>**</b><u>buffer_return</u><b>);</b>

       <b>int</b> <b>XpmReadFileToData(char</b> <b>*</b><u>filename</u><b>,</b> <b>char</b> <b>***</b><u>data_return</u><b>);</b>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>display</u>
              Specifies the connection to the X server.

       <u>filename</u>
              Specifies the file name to use.

       <u>image_return</u>
              Returns the image which is created.

       <u>shapeimage_return</u>
              Returns the shape mask image which is created if the color None is used.

       <u>attributes</u>
              Specifies the location of a structure to get and store information (or NULL).

       <u>buffer_return</u>
              Returns the buffer created.

       <u>data_return</u>
              Returns the data array created.

       <u>image</u>  Specifies the image structure location.

       <u>info</u>   Specifies the location of a structure to store possible information (or NULL).

</pre><h4><b>DESCRIPTION</b></h4><pre>
   <b>XpmReadFileToImage</b>
       The  <b>XpmReadFileToImage</b>()  function  reads  in a file in the XPM format.  If the file cannot be opened it
       returns <b>XpmOpenFailed</b>.  If the file can be opened but  does  not  contain  valid  XPM  data,  it  returns
       <b>XpmFileInvalid</b>.   If  insufficient  working  storage is allocated, it returns <b>XpmNoMemory</b>.  If the passed
       XpmAttributes structure pointer is not NULL, <b>XpmReadFileToImage</b>() looks  for  the  following  attributes:
       XpmVisual,   XpmColormap,   XpmDepth,  XpmColorSymbols,  XpmExactColors,  XpmCloseness,  XpmRGBCloseness,
       XpmAllocCloseColors,     XpmReturnPixels,     XpmReturnAllocPixels,     XpmAllocColor,     XpmFreeColors,
       XpmColorClosure,   XpmReturnExtensions,  XpmReturnColorTable,  XpmBitmapFormat,  sets  the  XpmSize,  the
       XpmCharsPerPixel, and possibly the XpmHotspot attributes when returning.   As  a  backward  compatibility
       feature,  <b>XpmReadFileToImage</b>()  also  looks for the XpmReturnInfos attributes.  As specified in the table
       (page  12),  if  the  data  related  to  the  attributes  XpmReturnExtensions,  XpmReturnColorTable,  and
       XpmReturnInfos   cannot   be   returned   as   requested   because   of   insufficient   memory  storage,
       <b>XpmReadFileToImage</b>() will change the valuemask to mention this and will try to continue.  So  the  caller
       should check on this before accessing this data.

       Note: The valuemask of the passed XpmAttributes must be set to some valid value, at least zero, otherwise
       unpredictable errors can occur.

       <b>XpmReadFileToImage</b>()  allocates  colors, as read from the file or possibly overridden as specified in the
       XpmColorSymbols attributes.  The colors are allocated using the color settings for the  visual  specified
       by  the  XpmColorKey  attribute, which has the value XPM_MONO, XPM_GRAY4, XPM_GRAY, or XPM_COLOR.  If the
       XpmColorKey attribute is not set it is determined by examining the type of visual.  If no  default  value
       exists  for  the specified visual, it first looks for other defaults nearer to the monochrome visual type
       and secondly nearer to the color visual type.  If the color which  is  found  is  not  valid  (cannot  be
       parsed),  it looks for another default one according to the same algorithm.  If allocating a color fails,
       and the closeness attribute is set, it tries to find a color already in the colormap that is  closest  to
       the  desired  color, and uses that.  If the alloc_close_colors attribute is set to False, the found close
       color is not allocated but it is used anyway.  This is especially useful for  applications  which  use  a
       private  colormap  containing read/write cells and have complete control over the colormap.  On the other
       hand, since in such a case there is no guarantee that the color pixel will  not  change  any  time,  this
       should  be avoided when using the default colormap.  If no color can be found that is within closeness of
       the Red, Green, and Blue components of the desired color, it reverts to trying other  default  values  as
       explained  above.   For  finer  control  over  the  closeness  requirements  of  a  particular  icon, the
       red_closeness, green_closeness, and blue_closeness attributes may be used instead  of  the  more  general
       closeness attribute.

       The  RGB  components  are integers within the range 0 (black) to 65535 (white).  A closeness of less than
       10000, for example, will cause only quite close colors to be matched, while  a  closeness  of  more  than
       50000  will allow quite dissimilar colors to match.  Specifying a closeness of more than 65535 will allow
       any color to match, thus forcing the icon to be drawn in color no matter how bad the  colormap  is.   The
       value  40000  seems  to  be about right for many situations requiring reasonable but not perfect matches.
       With this setting the color must only be within the same general area of the  RGB  cube  as  the  desired
       color.   If  the  exactColors  attribute  is  set it then returns <b>XpmColorError</b>, otherwise it creates the
       images and returns <b>XpmSuccess</b>.  If no color is found, and no close color exists or  is  wanted,  and  all
       visuals have been exhausted, <b>XpmColorFailed</b> is returned.

       <b>XpmReadFileToImage</b>()  returns  the  created  image  to  <u>image_return</u> if not NULL and possibly the created
       shapemask to <u>shapeimage_return</u> if not NULL and the color None is used.  If required it  stores  into  the
       XpmAttributes  structure  the  list of the used pixels.  When the image depth is one, the image format is
       either as specified by the bitmap_format attribute if set or ZPixmap.  When the depth is  different  from
       one  the  image  format  is  always  ZPixmap.   When  finished  the  caller  must  free  the images using
       <b><a href="../man3/XDestroyImage.3.html">XDestroyImage</a></b>(3), the allocated colors using <b><a href="../man3/XFreeColors.3.html">XFreeColors</a></b>(3) or the application equivalent  function  when
       the  standard  Xlib  functions  are not used, and possibly the data returned into the XpmAttributes using
       <b><a href="../man3/XpmFreeAttributes.3.html">XpmFreeAttributes</a></b>(3).  In addition, on systems which support  such  features  <b>XpmReadFileToImage</b>()  deals
       with  compressed  files  by  forking  an uncompress or gzip process and reading from the piped result. It
       assumes that the specified file is compressed if the given file name ends by ’.Z’ or ’.gz’.  In case  the
       file  name  does  not  end  so,  <b>XpmReadFileToImage</b>()  looks for the given file name assuming it is not a
       compressed file.  And if instead of a file name NULL is passed to <b>XpmReadFileToImage</b>(), it reads from the
       standard input.

   <b>XpmReadFileToPixmap</b>
       The <b>XpmReadFileToPixmap</b>() function creates X images using <b>XpmReadFileToImage</b>() and thus returns the  same
       errors.   In  addition  on  success  it  then  creates the related pixmaps, using <b><a href="../man3/XPutImage.3.html">XPutImage</a></b>(3), which are
       returned to <u>pixmap_return</u> and <u>shapemask_return</u> if not NULL, and finally destroys the created images using
       <b><a href="../man3/XDestroyImage.3.html">XDestroyImage</a></b>(3).  When finished the caller must free the pixmaps  using  <b><a href="../man3/XFreePixmap.3.html">XFreePixmap</a></b>(3),  the  allocated
       colors  using  <b><a href="../man3/XFreeColors.3.html">XFreeColors</a></b>(3) or the application equivalent function when the standard Xlib functions are
       not used, and possibly the data returned into the XpmAttributes using <b><a href="../man3/XpmFreeAttributes.3.html">XpmFreeAttributes</a></b>(3).

   <b>XpmReadFileToBuffer</b>
       <b>XpmReadFileToBuffer</b>()  allocates  and  fills  a  buffer  from  a  file.   <b>XpmReadFileToBuffer</b>()   returns
       <b>XpmOpenFailed</b>  if  it  cannot  open  the  file,  returns  <b>XpmNoMemory</b>  if insufficient working storage is
       allocated, and <b>XpmSuccess</b> otherwise. The allocated buffer returned  by  <b>XpmReadFileToBuffer</b>()  should  be
       freed with <b><a href="../man3/XpmFree.3.html">XpmFree</a></b>(3) when done.

       As  a convenience, the <b>XpmReadFileToBuffer</b>() and <b><a href="../man3/XpmWriteFileFromBuffer.3.html">XpmWriteFileFromBuffer</a></b>(3) are provided to copy a file to
       a  buffer  and  to  write  a  file  from  a  buffer.   Thus  for  instance  one   may   decide   to   use
       <b>XpmReadFileToBuffer</b>(), <b><a href="../man3/XpmCreatePixmapFromBuffer.3.html">XpmCreatePixmapFromBuffer</a></b>(3), and <b><a href="../man3/XpmFree.3.html">XpmFree</a></b>(3) instead of <b>XpmReadFileToPixmap</b>().  On
       some  systems  this may lead to a performance improvement, since the parsing will be performed in memory,
       but it uses more memory.

   <b>XpmReadFileToData</b>
       <b>XpmReadFileToData</b>() returns <b>XpmOpenFailed</b> if it cannot open the file, <b>XpmNoMemory</b> if insufficient working
       storage is allocated, <b>XpmFileInvalid</b> if this is not a valid XPM  file,  and  <b>XpmSuccess</b>  otherwise.   The
       allocated data returned by <b>XpmReadFileToData</b>() should be freed with <b><a href="../man3/XpmFree.3.html">XpmFree</a></b>(3) when done.

   <b>XpmReadFileToXpmImage</b>
       The  <b>XpmReadFileToXpmImage</b>() function reads in a file in the XPM format.  If the file cannot be opened it
       returns <b>XpmOpenFailed</b>.  If the file can be opened but  does  not  contain  valid  XPM  data,  it  returns
       <b>XpmFileInvalid</b>.   If  insufficient  working  storage is allocated, it returns <b>XpmNoMemory</b>.  On success it
       fills in the given XpmImage structure and returns <b>XpmSuccess</b>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/XpmCreateBuffer.3.html">XpmCreateBuffer</a></b>(3), <b><a href="../man3/XpmCreateData.3.html">XpmCreateData</a></b>(3), <b><a href="../man3/XpmCreateImage.3.html">XpmCreateImage</a></b>(3), <b><a href="../man3/XpmCreatePixmap.3.html">XpmCreatePixmap</a></b>(3), <b><a href="../man3/XpmCreateXpmImage.3.html">XpmCreateXpmImage</a></b>(3),
       <b><a href="../man3/XpmFreeAttributes.3.html">XpmFreeAttributes</a></b>(3), <b><a href="../man3/XpmWrite.3.html">XpmWrite</a></b>(3)

X Version 11                                      libXpm 3.5.17                                       <u><a href="../man3/XpmRead.3.html">XpmRead</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>