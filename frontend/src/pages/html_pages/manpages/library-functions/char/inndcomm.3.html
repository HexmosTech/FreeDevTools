<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>inndcomm - INND communication part of InterNetNews library</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/inn">inn_1.7.2q-52_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       inndcomm - INND communication part of InterNetNews library

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>"inndcomm.h"</b>

       <b>int</b>
       <b>ICCopen()</b>

       <b>int</b>
       <b>ICCclose()</b>

       <b>void</b>
       <b>ICCsettimeout(i)</b>
           <b>int</b>              <b>i;</b>

       <b>int</b>
       <b>ICCcommand(cmd,</b> <b>argv,</b> <b>replyp)</b>
           <b>char</b>             <b>cmd;</b>
           <b>char</b>             <b>*argv[];</b>
           <b>char</b>             <b>**replyp;</b>

       <b>int</b>
       <b><a href="../manmesgid/ICCcancel.mesgid.html">ICCcancel</a>(mesgid)</b>
           <b>char</b>             <b>*mesgid;</b>

       <b>int</b>
       <b>ICCreserve(why)</b>
           <b>char</b>             <b>*why;</b>

       <b>int</b>
       <b>ICCpause(why)</b>
           <b>char</b>             <b>*why;</b>

       <b>int</b>
       <b>ICCgo(why)</b>
           <b>char</b>             <b>*why;</b>

       <b>extern</b> <b>char</b> <b>*ICCfailure;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  routines  described  in  this manual page are part of the InterNetNews library, <u><a href="../man3/libinn.3.html">libinn</a></u>(3).  They are
       used to send commands to a running <u><a href="../man8/innd.8.html">innd</a></u>(8) daemon on the local host.  The letters ``ICC'' stand for  <u>I</u>nnd
       <u>C</u>ontrol <u>C</u>ommand.

       <u>ICCopen</u> creates a Unix-domain datagram socket and binds it to the server's control socket.  It returns -1
       on failure or zero on success.  This routine must be called before any other routine.

       <u>ICCclose</u>  closes  any descriptors that have been created by <u>ICCopen</u>.  It returns -1 on failure or zero on
       success.

       <u>ICCsettimeout</u> can be called before any of the following routines to determine how long the library should
       wait before giving up on getting the server's reply.  This is done by  setting  and  catching  a  SIGALRM
       <u><a href="../man2/signal.2.html">signal</a></u>(2).   If  the  timeout  is  less  then  zero  then  no reply will be waited for.  The SC_SHUTDOWN,
       SC_XABORT, and SC_XEXEC commands do not get a reply either.   The  default,  which  can  be  obtained  by
       setting the timeout to zero, is to wait until the server replies.

       <u>ICCcommand</u>  sends  the  command  <u>cmd</u> with parameters <u>argv</u> to the server.  It returns -1 on error.  If the
       server replies, and <u>replyp</u> is not NULL, it will be filled in with an allocated buffer that  contains  the
       full  text of the server's reply.  This buffer is a string in the form of ``&lt;digits&gt;&lt;space&gt;&lt;text&gt;'' where
       ``digits'' is the text value of the recommended exit code; zero indicates success.  Replies  longer  then
       4000  bytes will be truncated.  The possible values of <u>cmd</u> are defined in the ``inndcomm.h'' header file.
       The parameters for each command are described in <u><a href="../man8/ctlinnd.8.html">ctlinnd</a></u>(8).  This routine returns  -1  on  communication
       failure, or the exit status sent by the server which will never be negative.

       <u>ICCcancel</u>  sends a ``cancel'' message to the server.  <u>Mesgid</u> is the Message-ID of the article that should
       be canceled.  The return value is the same as for <u>ICCcommand</u>.

       <u>ICCpause</u>, <u>ICCreserve</u>, and <u>ICCgo</u>  send  a  ``pause,''  ``reserve,''  or  ``go''  command  to  the  server,
       respectively.   If <u>ICCreserve</u> is used, then the <u>why</u> value used in the <u>ICCpause</u> invocation must match; the
       value used in the <u>ICCgo</u> invocation must always match that the one used in the <u>ICCpause</u>  invocation.   The
       return value for all three routines is the same as for <u>ICCcommand</u>.

       If any routine described above fails, the <u>ICCfailure</u> variable will identify the system call that failed.

</pre><h4><b>HISTORY</b></h4><pre>
       Written by Rich $alz &lt;<a href="mailto:rsalz@uunet.uu.net">rsalz@uunet.uu.net</a>&gt; for InterNetNews.  This is revision 1.10, dated 1993/01/29.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/ctlinnd.8.html">ctlinnd</a>(8), <a href="../man8/innd.8.html">innd</a>(8), <a href="../man3/libinn.3.html">libinn</a>(3).

                                                                                                     <u><a href="../man3/INNDCOMM.3.html">INNDCOMM</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>