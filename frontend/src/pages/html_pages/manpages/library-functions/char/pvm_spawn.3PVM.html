<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pvm_spawn - Starts new PVM processes.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/pvm-dev">pvm-dev_3.4.6-3.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pvm_spawn - Starts new PVM processes.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>C</b>    <b>int</b> <b>numt</b> <b>=</b> <b>pvm_spawn(</b> <b>char</b> <b>*task,</b> <b>char</b> <b>**argv,</b> <b>int</b> <b>flag,</b>
       <b>char</b> <b>*where,</b> <b>int</b> <b>ntask,</b> <b>int</b> <b>*tids</b> <b>)</b>

       <b>Fortran</b>   <b>call</b> <b>pvmfspawn(</b> <b>task,</b> <b>flag,</b> <b>where,</b> <b>ntask,</b> <b>tids,</b> <b>numt</b> <b>)</b>

</pre><h4><b>PARAMETERS</b></h4><pre>
       task    Character  string  which  is  the  executable  file  name  of the PVM process to be started.  The
               executable must already reside on the host on which it is to be started.  The name may be a  file
               in   the   PVM   search   path   or   an   absolute   path.   The  default  PVM  search  path  is
               $HOME/pvm3/bin/$PVM_ARCH/ .

       argv    Pointer to an array of arguments to the executable (if supported  on  the  target  machine),  not
               including  the  executable  name,  with  the  end of the array specified by NULL.  argv[0] of the
               spawned task is set to the executable path relative to the PVM working directory (or absolute  if
               an  absolute  filename  was  specified).   If  the executable needs no arguments, then the second
               argument to pvm_spawn is NULL.

       flag    Integer specifying spawn options.

               In C, <u>flag</u> should be the <u>sum</u> of:
                    Option value        MEANING
                    PvmTaskDefault 0    PVM can choose any machine to start task
                    PvmTaskHost    1    <u>where</u> specifies a particular host
                    PvmTaskArch    2    <u>where</u> specifies a type of architecture
                    PvmTaskDebug   4    Start up processes under debugger
                    PvmTaskTrace   8    Processes will generate PVM trace data. *
                    PvmMppFront    16   Start process on MPP front-end.
                    PvmHostCompl   32   Use complement host set

               In Fortran, <u>flag</u> should be the <u>sum</u> of:
                    Option value        MEANING
                    PVMDEFAULT     0    PVM can choose any machine to start task
                    PVMHOST        1    <u>where</u> specifies a particular host
                    PVMARCH        2    <u>where</u> specifies a type of architecture
                    PVMDEBUG       4    Start up processes under debugger
                    PVMTRACE       8    Processes will generate PVM trace data. *

               * future extension

       where   Character string specifying where to start the PVM process.  Depending  on  the  value  of  <u>flag,</u>
               <u>where</u>  can be a host name such as "ibm1.epm.ornl.gov" or a PVM architecture class such as "SUN4".
               Also, the host name "." is taken as the localhost.  If <u>flag</u> is 0,  then  <u>where</u>  is  ignored  when
               determining the target host or architecture, and PVM will select the most appropriate host.

               The  <u>where</u>  argument  can also be used to specify a custom working directory for each given spawn
               command.  This is done by appending a ':' and the desired working directory  path  to  the  <u>where</u>
               string, i.e.:

               "ibm1.epm.ornl.gov:/home/user/project/foo"

               PVM will temporarily change the working directory to spawn the given task(s), and will then reset
               to  the  default  working directory after the spawn is executed.  This option need not be used in
               conjunction with either the <u>PvmTaskHost</u> or <u>PvmTaskArch</u> flags, as the working  directory  path  is
               stripped  off prior to parsing any host or architecture name.  A valid specification for <u>where</u> is
               therefore:

               ":/home/user/project/foo"

               The working directory can be either an absolute path name or  can  be  relative  to  the  current
               default working directory.

       ntask   Integer specifying the number of copies of the executable to start.

       tids    Integer  array  of length <u>ntask</u> returning the tids of the PVM processes started by this pvm_spawn
               call.

       numt    Integer returning the actual number of tasks started.  Values less than zero  indicate  a  system
               error.   A  positive  value  less  than <u>ntask</u> indicates a partial failure.  In this case the user
               should check the <u>tids</u> array for the error code(s).

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The routine <u>pvm_spawn</u> starts <u>ntask</u> copies  of  the  executable  named  <u>task.</u>   On  systems  that  support
       environment,  spawn  passes  selected  variables  from parent environment to children tasks.  If set, the
       envar <u>PVM_EXPORT</u> is passed.  If PVM_EXPORT contains other names (separated by ':') they  will  be  passed
       too.  This is useful for e.g.:

            setenv DISPLAY myworkstation:0.0
            setenv MYSTERYVAR 13
            setenv PVM_EXPORT DISPLAY:MYSTERYVAR

       The  hosts  on  which  the  PVM  processes are started are determined by the <u>flag</u> and <u>where</u> arguments. On
       return the array <u>tids</u> contains the PVM task identifiers for each process started.

       If pvm_spawn starts one or more tasks, <u>numt</u> will be the actual number of  tasks  started.   If  a  system
       error  occurs  then  <u>numt</u>  will  be &lt; 0.  If <u>numt</u> is less than <u>ntask</u> then some executables have failed to
       start and the user should check the last <u>ntask</u> <u>-</u> <u>numt</u> locations in the  <u>tids</u>  array  which  will  contain
       error codes (see below for meaning).  The first <u>numt</u> tids in the array are always valid.

       When  <u>flag</u>  is set to 0 and <u>where</u> is set to NULL (or "*" in Fortran) a heuristic (round-robin assignment)
       is used to distribute the <u>ntask</u> processes across the virtual machine.

       If the PvmHostCompl flag is set, the resulting host set gets complemented.  Given that the TaskHost  host
       name  "."  is taken as localhost, these can be used together, for example, to request n - 1 tasks on host
       "." but with flags TaskHost|HostCompl to spawn n - 1 tasks on hosts other than the localhost.

       In the special case where a multiprocessor is specified by <u>where,</u> pvm_spawn will start all  <u>ntask</u>  copies
       on this single machine using the vendor's underlying routines.

       The  spawned  task  will  have  <u>argv[0]</u>  set to the the executable path relative to its inherited working
       directory (or possibly an absolute path), so the base filename can be got by using:
            char *p;
            p = (p = rindex(argv[0], '/')) ? p + 1 : argv[0];

       If PvmTaskDebug is set, then the pvmd will start the task(s) under debugger(s). In this case, instead  of
       executing  <u>pvm3/bin/ARCH/task</u>  <u>args</u> it executes <u>pvm3/lib/debugger</u> <u>pvm3/bin/ARCH/task</u> <u>args</u>.  debugger is a
       shell script that the users can modify to their individual tastes.  Presently the script starts an  xterm
       with dbx or comparable debugger in it.

</pre><h4><b>EXAMPLES</b></h4><pre>
       C:
            numt = pvm_spawn( "host", 0, PvmTaskHost, "sparky", 1, &amp;tid[0] );
            numt = pvm_spawn( "host", 0, (PvmTaskHost+PvmTaskDebug),
                           "sparky", 1, &amp;tid[0] );
            numt = pvm_spawn( "node", 0, PvmTaskArch, "RIOS", 1, &amp;tid[i] );

            char *args[] = { "12", "60" , (char*)0 };
            numt = pvm_spawn( "FEM1", args, 0, 0, 16, tids );

            numt = pvm_spawn( "pde", 0, PvmTaskHost, "paragon.ornl", 512, tids );

       Fortran:
            FLAG = PVMARCH + PVMDEBUG
            CALL PVMFSPAWN( 'node', FLAG, 'SUN4', 1, <a href="../man3/TID.3.html">TID</a>(3), NUMT )
            CALL PVMFSPAWN( 'FEM1', PVMDEFAULT, '*', 16, TIDS, NUMT )
            CALL PVMFSPAWN( 'TBMD', PVMHOST, 'cm5.utk.edu', 32, TIDS, NUMT )

</pre><h4><b>ERRORS</b></h4><pre>
       These error conditions can be returned by <u>pvm_spawn</u> either in <u>numt</u> or in the <u>tids</u> array.

       PvmBadParam
              giving an invalid argument value.

       PvmNoHost
              Specified host is not in the virtual machine.

       PvmNoFile
              Specified  executable cannot be found. The default location PVM looks in is <a href="file:~/pvm3/bin/ARCH">~/pvm3/bin/ARCH</a>, where
              ARCH is a PVM architecture name.

       PvmNoMem
              Malloc failed. Not enough memory on host.

       PvmSysErr
              pvmd not responding.

       PvmOutOfRes
              out of resources.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3PVM/pvm_export.3PVM.html">pvm_export</a>(3PVM)

                                                 30 August, 1993                                     <u><a href="../man3PVM/SPAWN.3PVM.html">SPAWN</a></u>(3PVM)
</pre>
 </div>
</div></section>
</div>
</body>
</html>