<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>atRetAttr, atSetAttr, atAttrName, atAttrValue, atAllAttrs, atFreeAttrs - attribute handling</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/atfs-dev">atfs-dev_1.4pl6-16.1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       atRetAttr, atSetAttr, atAttrName, atAttrValue, atAllAttrs, atFreeAttrs - attribute handling

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;atfs.h&gt;
       #include &lt;atfstk.h&gt;

       char*atRetAttr (Af_key *aso, char *attributeName);

       void atFreeAttr (char *attributeValue);

       int  atSetAttr (Af_key *aso, char *attribute, int mode);

       int  atSetAttrFile (Af_key *aso, char *filename);

       char*atAttrName (char *attribute);

       char*atAttrValue (char *attribute);

       int  atMatchAttr (Af_key *aso, char *attribute);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The AtFS Toolkit Library extends the AtFS attribute handling. It introduces additional standard attribute
       names and a list of attribute value types.

       <u>atRetAttr</u>  returns  a  string representation of the value(s) of the <u>aso</u> attribute named <u>attributeName</u>. If
       the attribute value is preceded by a value special character (see  list  below),  it  will  be  evaluated
       accordingly.  When the evaluation fails, the original attribute value, including value special character,
       is returned.  When the attribute value is empty, an empty string is returned. When the attribute does not
       exist or on any other error condition, a null pointer is returned.

       Attribute citations (like 7.0) in attribute values will always be expanded by atRetAttr. There is no  way
       to  disable  attribute expansion. If you need the raw, unexpanded attribute value, use af_retattr (manual
       page <a href="../man3/af_attrs.3.html">af_attrs</a>(3)).

       The attribute value returned by atRetAttr either resides in static  memory  (in  case  of  AtFS  standard
       attributes)  or  in  allocated memory.  Use <u>atFreeAttr</u> on each attribute value returned by atRetAttr when
       this not needed any longer. This will recycle allocated memory if possible.

       <u>atSetAttr</u> sets the attribute <u>attribute</u> for <u>aso</u>. It calls af_setattr (manual page <a href="../man3/af_attrs.3.html">af_attrs</a>(3))  and  hence
       understands  the  <u>mode</u>s  AF_ADD,  AF_REMOVE, and AF_REPLACE. Alternatively, the mode argument is ignored,
       when the equal sign between attribute name and value is preceded by either a plus (+) or a minus (-) sign
       for adding and deleting attribute values. The value special character <u>at</u>  (@)  will  also  be  evaluated.
       atSetAttr  opens  the  file and reads its contents. If either the opening or reading fails, the attribute
       setting is aborted and returns FALSE. On successful execution, atSetAttr returns TRUE, otherwise FALSE.

       <u>atSetAttrFile</u> evaluates a file containing attributes. If opens the named file (<u>filename</u>)  and  interprets
       each line in the file as attribute argument to atSetAttr.

       <u>atAttrName</u>  fills  a  static  memory buffer with the name of the given <u>attribute</u> and returns a pointer to
       this buffer. Subsequent calls of atAttrName overwrite previous results.

       <u>atAttrValue</u> returns a pointer to the value part of <u>attribute</u>.

       <u>atMatchAttr</u> checks if <u>aso</u> has the given <u>attribute</u>. Result values are TRUE or FALSE. If just an  attribute
       name  is  given, atMatchAttr returns a positive result if the attribute exists in the asos attribute list
       or, in the case that it is a standard attribute, if it's value is non null. A full  attribute  (name  and
       value)  must match an attribute in the asos attribute list. The value of the given attribute argument may
       be a (<a href="../man1/sh.1.html">sh</a>(1)) pattern.

</pre><h4><b>ATTRIBUTE</b> <b>FORMAT</b></h4><pre>
       Attributes have the general format name=value. Additionally, a plus or minus sign may precede and a value
       special character may follow the equal sign (&lt;name&gt;[+-]=[^@!*]&lt;value&gt;).

       plus (+)
                A plus sign preceding the equal sign indicates, that the value shall be added to existing values
                (no matter if there are any).

       minus (-)
                With the minus sign, the value shall be removed from the list of values, if it exists.

       The following is the complete list of value special characters recognized by AtFStk.

       circumflex (^)
                The value is regarded as a <u>reference</u> to a file or ASO  carrying  the  real  attribute  value  as
                contents.

       at (@)   An  attribute  value starting with an at (@) is considered to be a file name from where the real
                attribute value is to be taken. In contrary to the circumflex notation above,  this  causes  the
                file read only once, when setting the attribute value.

       exclam (!)
                This introduces <u>execution</u> attributes. The attribute value is regarded as command to be passed to
                a  shell process. On access, the command will be executed and its output will be catched as real
                attribute value.

       asterisk (*)
                This denotes a pointer attribute modeling relationships  between  attributed  software  objects.
                When  atSetAttr  finds  an attribute value with an asterisk as first character it interprets the
                remaining value string as version identifier and tries to bind it  using  atBindVersion  (manual
                page  <a href="../man3/atbind.3.html">atbind</a>(3)). On success, the network path (see <a href="../man3/atNetworkPath.3.html">atNetworkPath</a>(3)) of the identifies ASO will
                be stored as attribute  value  together  with  the  leading  asterisk.  atRetAttr  maps  pointer
                attributes to local pathnames using atLocalPath (manual page <a href="../man3/atnetwork.3.html">atnetwork</a>(3)).

</pre><h4><b>STANDARD</b> <b>ATTRIBUTES</b></h4><pre>
       There  are  a  number  of  <u>standard</u> <u>attributes</u> defined by the AtFS toolkit library and by AtFS (Attribute
       Filesystem) for each ASO. For a list of the AtFS standard attributes see  the  <a href="../man3/af_attrs.3.html">af_attrs</a>(3)  manual  page.
       This is a list of all standard attribute names defined in AtFStk.

       Header  A   compound  attribute  consisting  of  a  <u>$Header:</u>  Label  followed  by  the  bound  file  name
               (AF_ATTBOUND), the version date (vtime - see below), the versions author and state and a trailing
               dollar sign ($).  Example:
               <b>$Header:</b> <b>attrs.c[1.1]</b> <b>Tue</b> <b>Dec</b>  <b>1</b> <b>17:01:10</b> <b>1992</b> <b><a href="mailto:andy@cs.tu-berlin.de">andy@cs.tu-berlin.de</a></b> <b>proposed</b> <b>$</b>

       Log     The versions modification history from the very beginning. This might be long.

       note    The modification note of the version as set by the author.

       pred, succ
               The physical predecessor/successor version as stored in AtFS. If there is none,  the  string  <u>n/a</u>
               (not available) is returned.

       vtime   The  version  date. For busy versions, this is the date of last modification, for saved versions,
               it is the saving date.

       xpon, xpoff
               Pseudo attribute turning attribute expansion on and off (see above).

       Some other names are mapped to the appropriate AtFS standard name:
         <u>AtFStk</u> <u>name</u>                  <u>AtFS</u> <u>name</u> <u>(constant</u> <u>definition)AtFStk</u> <u>nameAtFS</u> <u>name</u> <u>(constant</u> <u>definition)</u>
         atime     AF_ATTATIME        revision  AF_ATTREV
         author    AF_ATTAUTHOR       self      AF_ATTBOUND
         ctime     AF_ATTCTIME        selfpath  AF_ATTBOUNDPATH
         dsize     AF_ATTDSIZE        size      AF_ATTSIZE
         generation                   AF_ATTGEN stateAF_ATTSTATE
         host      AF_ATTHOST         stime     AF_ATTSTIME
         lock      AF_ATTLOCKER       syspath   AF_ATTSPATH
         ltime     AF_ATTLTIME        type      AF_ATTTYPE
         mtime     AF_ATTMTIME        unixname  AF_ATTUNIXNAME
         name      AF_ATTNAME         version   AF_ATTVERSION
         owner     AF_ATTOWNER

       atSetAttr may also be used to set standard attributes where possible. Attributes that may be altered are
         <u>Attribute</u>           <u>Mapped</u> <u>to</u> <u>AtFS</u> <u>function</u>
         author              af_chauthor (<a href="../man3/af_protect.3.html">af_protect</a>(3))
         generation, revision, versionaf_svnum (<a href="../man3/af_version.3.html">af_version</a>(3))
         mode                af_chmod (<a href="../man3/af_protect.3.html">af_protect</a>(3))
         owner               af_chowner (<a href="../man3/af_protect.3.html">af_protect</a>(3))
         state               af_sstate (<a href="../man3/af_version.3.html">af_version</a>(3))
         note                af_snote (<a href="../man3/af_note.3.html">af_note</a>(3))

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       On error, the <u>atError</u> variable is set to a nun null value,  and  <u>atErrMsg</u>  holds  a  diagnostic  message.
       <u>atRetAttr</u>  returns  a  null  pointer on error, or if the desired attribute does not exist.  <u>atSetAttr</u> and
       <u>atSetAttrFile</u> return FALSE on any error condition. <u>atMatchAttr</u> returns FALSE if an error occurred  or  if
       the attribute does not match.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3/af_attrs.3.html">af_attrs</a>(3), <a href="../man3/atbind.3.html">atbind</a>(3), <a href="../man3/atnetwork.3.html">atnetwork</a>(3)

AtFStk-1.12                                 Tue Jun 29 16:16:22 1993                              <u><a href="../man3/atattribute.3.html">atattribute</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>