<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>atBindVersion,   atBindSet,  atBindCache,  atBindNoMsg,  atScanBinding,  atBindTrace,  atBindExpandMacro,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/atfs-dev">atfs-dev_1.4pl6-16.1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       atBindVersion,   atBindSet,  atBindCache,  atBindNoMsg,  atScanBinding,  atBindTrace,  atBindExpandMacro,
       atBindOptions, atBindModeOption, atBindSetArgv, atBindUsage - version binding

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;atfs.h&gt;
       #include &lt;atfstk.h&gt;

       Af_key*atBindVersion (char *name, *binding);

       Af_set*atBindSet (char *pattern, char *binding, int bindMode);

       Af_set*atBindCache (char *pattern, *binding);

       int  atBindNoMsg;

       int  atScanBinding (char *binding, char **resultStr, int *resultGen, int *resultRev, time_t *resultDate);

       int  atBindTrace;

       char *(*atBindExpandMacro)(char *inputString);

       int  atBindOptions (int argc, char **argv, int newArgc, char *(*newArgv[]));

       int  atBindModeOption;

       int  atBindSetArgv (int *argc, char *(*argv[]));

       void atBindUsage (char *extraText);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>atBindVersion</u> performs a version binding, that means, it selects a unique version from a  named  history.
       It  expects  <u>name</u>  to be either a string of the form <u>historyName[binding]</u> or a plain name. With a version
       bind directive (binding) given in brackets after the  history  name,  the  second  argument  is  ignored.
       Otherwise  the  second  argument is taken as version bind directive. With no binding given, atBindVersion
       performs the default binding. This may be explicitly defined by afBindOptions (see below), or it  selects
       the  most  recent (modification/saving date) version. See below a list of different forms of version bind
       directives. <u>atBindVersion</u> returns the appropriate version key, if the bind operation leads  to  a  unique
       version selection, otherwise NULL.

       <u>atBindSet</u>  works  similar  to  atBindVersion,  with  the difference that the first argument may be a name
       <u>pattern</u> (a <a href="../man1/sh.1.html">sh</a>(1) pattern to be precise) instead of a unique file name. It uses the  af_histories  (manual
       page  <a href="../man3/af_history.3.html">af_history</a>(3))  call,  to  generate  a list of history names from the given pattern. After that, it
       performs a version binding for each name with a version bind directive given either in square brackets or
       as <u>binding</u> argument (see above). atBindSet returns a set of version keys containing all  found  versions,
       or a NULL pointer if something went wrong.

       Another  option  of  <u>atBindSet</u>  is  nonunique  version selection within a history. In this case, multiple
       versions from one history may be included in the result set. In detail atBindSet supports four options:

       AT_BIND_UNIQUE
                     Behave like atBindVersion for  each  name  generated  from  <u>pattern</u>.   Generates  no  error
                     condition in case of nonunique or empty selection.

       AT_BIND_SET   (default)  Do  not  require  uniqueness.  If more than one version from a history meets the
                     binding specifications, all these versions will be included in the result set.

       AT_BIND_LAST  Selects the last (modification/saving date) version  from  the  binding  hit  set  of  each
                     history. The resulting hit set contains at most one version of each history involved in the
                     bind operation.

       AT_BIND_LASTSAVED
                     Similar to AT_BIND_LAST but ignores busy versions.

       <u>atBindCache</u>  tries  to  bind  versions  from  the  derived object cache. It expects a <u>pattern</u> and <u>binding</u>
       argument similar to atBindSet.

       The <u>atBindNoMsg</u> switch allows the output of version binding rules, generated by predicates like 'msg`  or
       'confirm`,  to  be  suppressed. This can be done by setting atBindNoMsg TRUE. Initially, it is set FALSE.
       When evaluating a 'confirm` predicate, where user input is  expected,  with  atBindNoMsg  set  true,  the
       version binding algorithm proceeds without halting as if the user had accepted the default input.

       <u>atScanBinding</u> scans the version bind directive <u>binding</u>.  It returns the binding type, which is one of

       AT_BIND_ALIAS
                     A  version  alias  (symbolic  name).  Example  <b>foo[release-2]</b>.  The  alias name returned in
                     <u>resultStr</u> resides in allocated memory.

       AT_BIND_CACHEKEY
                     A unique identifier for cached objects. This is automatically  generated  for  each  cached
                     object and consists of three numbers (<b>like</b> <b>foo.o[739564427.16390.22]</b>).

       AT_BIND_DATE  A  date  specification.  (see  stMktime  (manual  pape  <a href="../man3/sttime.3.html">sttime</a>(3)) for a list of valid date
                     formats) Examples: <b>foo[Jan</b> <b>8,</b> <b>1993]</b>, <b>foo[8.1.93]</b>. The date is returned in <u>resultDate</u>.

       AT_BIND_DEFAULT
                     Default binding. This is the case when either an empty binding was given or something  like
                     <b>foo[]</b>.

       AT_BIND_RULE  Version   bind   Rule.   Example   <b>foo[bind_rule:]</b>.   A   rule   may  also  have  the  form
                     <b>foo[bind_rule(arg1,arg2,...argN):]</b> additionally passing the given arguments  to  bind  rule
                     evaluation. The rule name returned in <u>resultStr</u> resides in allocated memory.

       AT_BIND_VNUM  Version number. Example <b>foo[1.2]</b>. The resulting generation and revision number are returned
                     in <u>resultGen</u> and <u>resultRev</u>.

       One important issue is, that each version alias will also be tried as rule name, if it turns out to be no
       known  symbolic  name.  This  implies  that rule names may also be given without the trailing colon, when
       there are no naming conflicts with version aliases.

       The <u>atBindTrace</u> switch enables tracing of each version bind operation when set TRUE. Trace output is sent
       to standard error.  Initially, its value is FALSE.

       The atBind module provides a hook for an external macro processor to preprocess  any  version  bind  rule
       just  before  applying  it. The bind rule text may contain macro citations of the form <u>$C</u> or <u>$(macroName)</u>
       (like in Make-/Shapefiles) to be expanded by the external macro processor. This should expect any  string
       containing  macro  citations  as  input  and  return a string with expanded macros.  When assigned to the
       function variable <u>atBindExpandMacro</u>, the macro expansion routine will be invoked for each evaluated rule.

       <u>atBindOptions</u> calls stParseArgs (manual page <a href="../man3/atparseargs.3.html">atparseargs</a>(3)) with an internally defined  standard  option
       vector for command line version binding options. The <a href="../man1/vbind.1.html">vbind</a>(1) manual page contains a description of these
       options.  atBindOption  should  be  called before parsing the application specific options It fetches the
       version binding options off the command line (input arguments <u>argc</u> and <u>argv</u>) and  returns  all  remaining
       tokens (output arguments <u>newArgc</u> and <u>newArgv</u>). Return value is the number of erroneous options (e.g. with
       argument  missing)  found.  A  negative  return  value  indicates  an internal error, zero is returned un
       success.

       atBindOptions defines the default version selection policy as given on the command  line  for  the  whole
       application.  Each subsequent call of atBindVersion and atBindSet (see above) will conform to this policy
       unless an explicit version bind directive is given.

       <u>atBindSetArgv</u> preprocesses a command line (arguments <u>argc</u>  and  <u>argv</u>)  by  evaluating  and  fetching  off
       version  binding  options  and  replacing  all filename arguments by bound filenames (e.g.  foo[1.4]). It
       returns the number of arguments remaining on the command line.

       <u>atBindUsage</u> calls stShortUsage (manual page <a href="../man3/atparseargs.3.html">atparseargs</a>(3)) with  the  current  program  name,  the  bind
       standard options vector, and the given <u>extraText</u>. Result is a short usage description written to standard
       error.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Upon  error,  the  version  binding  functions  (atBindVersion,  atBindSet and atBindCache) return a null
       pointer. atScanBinding has no error conditions. atBindOptions and atBindSetArgv return -1 on error and  a
       value  greater  or equal null on success.  On any error, the variable <u>atBindError</u> is set true (non-zero),
       and an explaining message is copied to the <u>atBindErrorMsg</u> string  buffer.  The  atBindError  variable  is
       cleared upon successfull calls, the message buffer remains unchanged.

</pre><h4><b>FILES</b></h4><pre>
       $SHAPETOOLS/BindRules

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3/atfstkintro.3.html">atfstkintro</a>(3), <a href="../man1/vbind.1.html">vbind</a>(1), <a href="../man3/stparseargs.3.html">stparseargs</a>(3)

AtFStk-1.12                                 Fri Jun 25 16:39:30 1993                                   <u><a href="../man3/atbind.3.html">atbind</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>