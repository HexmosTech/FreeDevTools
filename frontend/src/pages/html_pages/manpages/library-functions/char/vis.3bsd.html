<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vis,  nvis,  strvis,  stravis,  strnvis,  strvisx,  strnvisx,  strenvisx, svis, snvis, strsvis, strsnvis,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbsd-dev">libbsd-dev_0.12.2-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       vis,  nvis,  strvis,  stravis,  strnvis,  strvisx,  strnvisx,  strenvisx, svis, snvis, strsvis, strsnvis,
       strsvisx, strsnvisx, strsenvisx — visually encode characters

</pre><h4><b>LIBRARY</b></h4><pre>
       Utility functions from BSD systems (libbsd, -lbsd)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;vis.h&gt;</b>
       (See <u><a href="../man7/libbsd.7.html">libbsd</a></u>(7) for include usage.)

       <u>char</u> <u>*</u>
       <b>vis</b>(<u>char</u> <u>*dst</u>, <u>int</u> <u>c</u>, <u>int</u> <u>flag</u>, <u>int</u> <u>nextc</u>);

       <u>char</u> <u>*</u>
       <b>nvis</b>(<u>char</u> <u>*dst</u>, <u>size_t</u> <u>dlen</u>, <u>int</u> <u>c</u>, <u>int</u> <u>flag</u>, <u>int</u> <u>nextc</u>);

       <u>int</u>
       <b>strvis</b>(<u>char</u> <u>*dst</u>, <u>const</u> <u>char</u> <u>*src</u>, <u>int</u> <u>flag</u>);

       <u>int</u>
       <b>stravis</b>(<u>char</u> <u>**dst</u>, <u>const</u> <u>char</u> <u>*src</u>, <u>int</u> <u>flag</u>);

       <u>int</u>
       <b>strnvis</b>(<u>char</u> <u>*dst</u>, <u>size_t</u> <u>dlen</u>, <u>const</u> <u>char</u> <u>*src</u>, <u>int</u> <u>flag</u>);

       <u>int</u>
       <b>strvisx</b>(<u>char</u> <u>*dst</u>, <u>const</u> <u>char</u> <u>*src</u>, <u>size_t</u> <u>len</u>, <u>int</u> <u>flag</u>);

       <u>int</u>
       <b>strnvisx</b>(<u>char</u> <u>*dst</u>, <u>size_t</u> <u>dlen</u>, <u>const</u> <u>char</u> <u>*src</u>, <u>size_t</u> <u>len</u>, <u>int</u> <u>flag</u>);

       <u>int</u>
       <b>strenvisx</b>(<u>char</u> <u>*dst</u>, <u>size_t</u> <u>dlen</u>, <u>const</u> <u>char</u> <u>*src</u>, <u>size_t</u> <u>len</u>, <u>int</u> <u>flag</u>, <u>int</u> <u>*cerr_ptr</u>);

       <u>char</u> <u>*</u>
       <b>svis</b>(<u>char</u> <u>*dst</u>, <u>int</u> <u>c</u>, <u>int</u> <u>flag</u>, <u>int</u> <u>nextc</u>, <u>const</u> <u>char</u> <u>*extra</u>);

       <u>char</u> <u>*</u>
       <b>snvis</b>(<u>char</u> <u>*dst</u>, <u>size_t</u> <u>dlen</u>, <u>int</u> <u>c</u>, <u>int</u> <u>flag</u>, <u>int</u> <u>nextc</u>, <u>const</u> <u>char</u> <u>*extra</u>);

       <u>int</u>
       <b>strsvis</b>(<u>char</u> <u>*dst</u>, <u>const</u> <u>char</u> <u>*src</u>, <u>int</u> <u>flag</u>, <u>const</u> <u>char</u> <u>*extra</u>);

       <u>int</u>
       <b>strsnvis</b>(<u>char</u> <u>*dst</u>, <u>size_t</u> <u>dlen</u>, <u>const</u> <u>char</u> <u>*src</u>, <u>int</u> <u>flag</u>, <u>const</u> <u>char</u> <u>*extra</u>);

       <u>int</u>
       <b>strsvisx</b>(<u>char</u> <u>*dst</u>, <u>const</u> <u>char</u> <u>*src</u>, <u>size_t</u> <u>len</u>, <u>int</u> <u>flag</u>, <u>const</u> <u>char</u> <u>*extra</u>);

       <u>int</u>
       <b>strsnvisx</b>(<u>char</u> <u>*dst</u>, <u>size_t</u> <u>dlen</u>, <u>const</u> <u>char</u> <u>*src</u>, <u>size_t</u> <u>len</u>, <u>int</u> <u>flag</u>, <u>const</u> <u>char</u> <u>*extra</u>);

       <u>int</u>
       <b>strsenvisx</b>(<u>char</u>  <u>*dst</u>,  <u>size_t</u>  <u>dlen</u>,  <u>const</u>  <u>char</u>  <u>*src</u>,  <u>size_t</u>  <u>len</u>,  <u>int</u>  <u>flag</u>,  <u>const</u>  <u>char</u>  <u>*extra</u>,
           <u>int</u> <u>*cerr_ptr</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>vis</b>() function copies into <u>dst</u> a string which represents the character <u>c</u>.  If <u>c</u> needs no encoding, it
       is  copied  in  unaltered.   The  string  is  null  terminated, and a pointer to the end of the string is
       returned.  The maximum length of any encoding is four bytes (not including the trailing NUL); thus,  when
       encoding  a  set  of  characters into a buffer, the size of the buffer should be four times the number of
       bytes encoded, plus one for the trailing NUL.  The flag parameter is used for altering the default  range
       of  characters  considered  for  encoding  and  for  altering  the visual representation.  The additional
       character, <u>nextc</u>, is only used when selecting the VIS_CSTYLE encoding format (explained below).

       The <b>strvis</b>(),  <b>stravis</b>(),  <b>strnvis</b>(),  <b>strvisx</b>(),  and  <b>strnvisx</b>()  functions  copy  into  <u>dst</u>  a  visual
       representation  of the string <u>src</u>.  The <b>strvis</b>() and <b>strnvis</b>() functions encode characters from <u>src</u> up to
       the first NUL.  The <b>strvisx</b>() and <b>strnvisx</b>() functions encode exactly <u>len</u> characters from  <u>src</u>  (this  is
       useful  for encoding a block of data that may contain NUL's).  Both forms NUL terminate <u>dst</u>.  The size of
       <u>dst</u> must be four times the number of bytes encoded from <u>src</u> (plus one for the NUL).   Both  forms  return
       the number of characters in <u>dst</u> (not including the trailing NUL).  The <b>stravis</b>() function allocates space
       dynamically  to hold the string.  The “<b>n</b>” versions of the functions also take an additional argument <u>dlen</u>
       that indicates the length of the <u>dst</u> buffer.  If <u>dlen</u> is not large enough to  fit  the  converted  string
       then  the <b>strnvis</b>() and <b>strnvisx</b>() functions return -1 and set <u>errno</u> to ENOSPC.  The <b>strenvisx</b>() function
       takes an additional argument, <u>cerr_ptr</u>, that is used to pass in and  out  a  multibyte  conversion  error
       flag.  This is useful when processing single characters at a time when it is possible that the locale may
       be set to something other than the locale of the characters in the input data.

       The   functions  <b>svis</b>(),  <b>snvis</b>(),  <b>strsvis</b>(),  <b>strsnvis</b>(),  <b>strsvisx</b>(),  <b>strsnvisx</b>(),  and  <b>strsenvisx</b>()
       correspond to <b>vis</b>(), <b>nvis</b>(), <b>strvis</b>(), <b>strnvis</b>(), <b>strvisx</b>(), <b>strnvisx</b>(),  and  <b>strenvisx</b>()  but  have  an
       additional  argument  <u>extra</u>,  pointing  to a NUL terminated list of characters.  These characters will be
       copied encoded or backslash-escaped into <u>dst</u>.  These functions are useful  e.g.  to  remove  the  special
       meaning of certain characters to shells.

       The  encoding  is  a unique, invertible representation composed entirely of graphic characters; it can be
       decoded back into the original form using the <u><a href="../man3bsd/unvis.3bsd.html">unvis</a></u>(3bsd), <u><a href="../man3bsd/strunvis.3bsd.html">strunvis</a></u>(3bsd) or <u><a href="../man3bsd/strnunvis.3bsd.html">strnunvis</a></u>(3bsd) functions.

       There are two parameters that can be controlled: the range of characters that are encoded  (applies  only
       to  <b>vis</b>(),  <b>nvis</b>(), <b>strvis</b>(), <b>strnvis</b>(), <b>strvisx</b>(), and <b>strnvisx</b>()), and the type of representation used.
       By default, all non-graphic characters, except space, tab, and newline are encoded (see <u><a href="../man3/isgraph.3.html">isgraph</a></u>(3)).  The
       following flags alter this:

       VIS_DQ      Also encode double quotes

       VIS_GLOB    Also encode the magic characters (‘*’, ‘?’, ‘[’, and ‘#’) recognized by <u><a href="../man3/glob.3.html">glob</a></u>(3).

       VIS_SHELL   Also encode the meta characters used by shells (in addition to the  glob  characters):  (‘'’,
                   ‘`’, ‘"’, ‘;’, ‘&amp;’, ‘&lt;’, ‘&gt;’, ‘(’, ‘)’, ‘|’, ‘]’, ‘\’, ‘$’, ‘!’, ‘^’, and ‘~’).

       VIS_SP      Also encode space.

       VIS_TAB     Also encode tab.

       VIS_NL      Also encode newline.

       VIS_WHITE   Synonym for VIS_SP | VIS_TAB | VIS_NL.

       VIS_META    Synonym for VIS_WHITE | VIS_GLOB | VIS_SHELL.

       VIS_SAFE    Only  encode  “unsafe”  characters.   Unsafe  means control characters which may cause common
                   terminals to perform unexpected functions.  Currently this form allows space,  tab,  newline,
                   backspace, bell, and return — in addition to all graphic characters — unencoded.

       (The  above flags have no effect for <b>svis</b>(), <b>snvis</b>(), <b>strsvis</b>(), <b>strsnvis</b>(), <b>strsvisx</b>(), and <b>strsnvisx</b>().
       When using these functions, place all graphic characters to be encoded in an array pointed to  by  <u>extra</u>.
       In  general,  the backslash character should be included in this array, see the warning on the use of the
       VIS_NOSLASH flag below).

       There are six forms of encoding.  All forms use the  backslash  character  ‘\’  to  introduce  a  special
       sequence;  two backslashes are used to represent a real backslash, except VIS_HTTPSTYLE that uses ‘%’, or
       VIS_MIMESTYLE that uses ‘=’.  These are the visual formats:

       (default)   Use an ‘M’ to represent meta characters (characters with the 8th bit set), and use caret  ‘^’
                   to represent control characters (see <u><a href="../man3/iscntrl.3.html">iscntrl</a></u>(3)).  The following formats are used:

                   \^C    Represents  the  control  character  ‘C’.  Spans characters ‘\000’ through ‘\037’, and
                          ‘\177’ (as ‘\^?’).

                   \M-C   Represents character ‘C’ with the  8th  bit  set.   Spans  characters  ‘\241’  through
                          ‘\376’.

                   \M^C   Represents  control  character  ‘C’  with  the  8th  bit set.  Spans characters ‘\200’
                          through ‘\237’, and ‘\377’ (as ‘\M^?’).

                   \040   Represents ASCII space.

                   \240   Represents Meta-space.

       VIS_CSTYLE  Use  C-style  backslash  sequences  to  represent  standard  non-printable  characters.   The
                   following sequences are used to represent the indicated characters:

                         <b>\a</b> — BEL (007)
                         <b>\b</b> — BS (010)
                         <b>\f</b> — NP (014)
                         <b>\n</b> — NL (012)
                         <b>\r</b> — CR (015)
                         <b>\s</b> — SP (040)
                         <b>\t</b> — HT (011)
                         <b>\v</b> — VT (013)
                         <b>\0</b> — NUL (000)

                   When  using this format, the <u>nextc</u> parameter is looked at to determine if a NUL character can
                   be encoded as ‘\0’ instead of ‘\000’.  If <u>nextc</u> is an octal digit, the latter  representation
                   is used to avoid ambiguity.

                   Non-printable characters without C-style backslash sequences use the default representation.

       VIS_OCTAL   Use a three digit octal sequence.  The form is ‘\ddd’ where <u>d</u> represents an octal digit.

       VIS_CSTYLE | VIS_OCTAL
                   Same  as  VIS_CSTYLE except that non-printable characters without C-style backslash sequences
                   use a three digit octal sequence.

       VIS_HTTPSTYLE
                   Use URI encoding as described in RFC 1738.  The form is ‘%xx’ where <u>x</u> represents a lower case
                   hexadecimal digit.

       VIS_MIMESTYLE
                   Use MIME Quoted-Printable encoding as described in RFC 2045, only don't break lines and don't
                   handle CRLF.  The form is ‘=XX’ where <u>X</u> represents an upper case hexadecimal digit.

       There is one additional flag, VIS_NOSLASH, which inhibits the doubling of backslashes and  the  backslash
       before  the  default  format  (that is, control characters are represented by ‘^C’ and meta characters as
       ‘M-C’).  With this flag set, the encoding is ambiguous and non-invertible.

</pre><h4><b>MULTIBYTE</b> <b>CHARACTER</b> <b>SUPPORT</b></h4><pre>
       These functions support multibyte character input.  The encoding conversion is influenced by the  setting
       of  the  LC_CTYPE  environment  variable  which  defines the set of characters that can be copied without
       encoding.

       If VIS_NOLOCALE is set, processing is done assuming the C locale and  overriding  any  other  environment
       settings.

       When  8-bit  data is present in the input, LC_CTYPE must be set to the correct locale or to the C locale.
       If the locales of the data and the conversion are mismatched, multibyte character  recognition  may  fail
       and encoding will be performed byte-by-byte instead.

       As  noted  above,  <u>dst</u>  must  be  four  times the number of bytes processed from <u>src</u>.  But note that each
       multibyte character can be up to MB_LEN_MAX bytes so in terms of multibyte characters, <u>dst</u> must  be  four
       times MB_LEN_MAX times the number of characters processed from <u>src</u>.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       LC_CTYPE  Specify the locale of the input data.  Set to C if the input data locale is unknown.

</pre><h4><b>ERRORS</b></h4><pre>
       The  functions  <b>nvis</b>()  and <b>snvis</b>() will return NULL and the functions <b>strnvis</b>(), <b>strnvisx</b>(), <b>strsnvis</b>(),
       and <b>strsnvisx</b>(), will return -1 when the <u>dlen</u> destination buffer  size  is  not  enough  to  perform  the
       conversion while setting <u>errno</u> to:

       [ENOSPC]  The destination buffer size is not large enough to perform the conversion.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/unvis.1.html">unvis</a></u>(1), <u><a href="../man1/vis.1.html">vis</a></u>(1), <u><a href="../man3/glob.3.html">glob</a></u>(3), <u><a href="../man3bsd/unvis.3bsd.html">unvis</a></u>(3bsd)

       T. Berners-Lee, <u>Uniform</u> <u>Resource</u> <u>Locators</u> <u>(URL)</u>, RFC 1738.

       <u>Multipurpose</u> <u>Internet</u> <u>Mail</u> <u>Extensions</u> <u>(MIME)</u> <u>Part</u> <u>One:</u> <u>Format</u> <u>of</u> <u>Internet</u> <u>Message</u> <u>Bodies</u>, RFC 2045.

</pre><h4><b>HISTORY</b></h4><pre>
       The  <b>vis</b>(),  <b>strvis</b>(),  and  <b>strvisx</b>()  functions  first  appeared in 4.4BSD.  The <b>svis</b>(), <b>strsvis</b>(), and
       <b>strsvisx</b>() functions appeared in NetBSD 1.5.  The buffer size limited versions of the functions  (<b>nvis</b>(),
       <b>strnvis</b>(),  <b>strnvisx</b>(),  <b>snvis</b>(),  <b>strsnvis</b>(),  and  <b>strsnvisx</b>()) appeared in NetBSD 6.0 and FreeBSD 9.2.
       Multibyte character support was added in NetBSD 7.0 and FreeBSD 9.2.

Debian                                           April 22, 2017                                        <u><a href="../man3bsd/vis.3bsd.html">vis</a></u>(3bsd)
</pre>
 </div>
</div></section>
</div>
</body>
</html>