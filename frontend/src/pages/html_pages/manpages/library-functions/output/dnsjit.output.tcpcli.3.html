<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dnsjit.output.tcpcli - Simple, length aware, TCP client</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dnsjit">dnsjit_1.5.0-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dnsjit.output.tcpcli - Simple, length aware, TCP client

</pre><h4><b>SYNOPSIS</b></h4><pre>
         local output = require("dnsjit.output.tcpcli").new("127.0.0.1", "53")

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Simple  TCP  client that takes any payload you give it, sends the length of the payload as an unsigned 16
       bit integer and then sends the payload.  When receiving it will first retrieve the length of the  payload
       as an unsigned 16 bit integer and it will stall until it gets, even if nonblocking mode is used.  Then it
       will  retrieve  at  least  that  amount  of bytes, if nonblocking mode is used here then it will return a
       payload object with length zero if there was nothing to receive or if the  full  payload  have  not  been
       received yet.  Additional calls will continue retrieving the payload.

   <b>Attributes</b>
       timeout
              A <u>core.timespec</u> that is used when producing objects.

   <b>Functions</b>
       <b>Tcpcli.new</b>()
              Create a new Tcpcli output.

       <b>Tcpcli:timeout</b>(seconds, nanoseconds)
              Set the timeout when producing objects.

       <b>Tcpcli:connect</b>(host, port)
              Connect to the <u>host</u> and <u>port</u> and return 0 if successful.

       <b>Tcpcli:nonblocking</b>(bool)
              Enable  (true)  or  disable  (false)  nonblocking  mode and return 0 if successful, if <u>bool</u> is not
              specified then return if nonblocking mode is on (true) or off (false).

       <b>Tcpcli:receive</b>()
              Return the C functions and context for receiving objects, these objects will be sent.

       <b>Tcpcli:produce</b>()
              Return the C functions and  context  for  producing  objects,  these  objects  are  received.   If
              nonblocking  mode  is  enabled the producer will return a payload object with length zero if there
              was nothing to receive or if the full payload have not been received yet.  If nonblocking mode  is
              disabled  the  producer will wait for data and if timed out (see <u>timeout</u>) it will return a payload
              object with length zero.  If a timeout happens during during the first stage, getting the  length,
              it will fail and return nil.  Additional calls will continue retrieving the payload.  The producer
              returns nil on error.

       <b>Tcpcli:packets</b>()
              Return the number of "packets" sent, actually the number of completely sent payloads.

       <b>Tcpcli:received</b>()
              Return the number of "packets" received, actually the number of completely received DNS messages.

       <b>Tcpcli:errors</b>()
              Return the number of errors when sending.

</pre><h4><b>AUTHORS</b> <b>and</b> <b>CONTRIBUTORS</b></h4><pre>
       Jerry Lundström (DNS-OARC), Tomáš Křížek (CZ.NIC), Petr Špaček (ISC)

       Maintained by DNS-OARC

              <u>https://www.dns-oarc.net/</u>

</pre><h4><b>BUGS</b></h4><pre>
       For issues and feature requests please use:

              <u>https://github.com/DNS-OARC/dnsjit/issues</u>

       For question and help please use:

              <u><a href="mailto:admin@dns-oarc.net">admin@dns-oarc.net</a></u>

dnsjit                                                1.5.0                              <u><a href="../man3/dnsjit.output.tcpcli.3.html">dnsjit.output.tcpcli</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>