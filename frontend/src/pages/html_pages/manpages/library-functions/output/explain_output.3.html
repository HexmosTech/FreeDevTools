<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>explain_output - output error messages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libexplain-dev">libexplain-dev_1.4.D001-16_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       explain_output - output error messages

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;libexplain/output.h&gt;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These functions may be used to write error messages.

   <b>explain_output_message</b>
       void explain_output_message(const char *text);

       The  explain_output_message  function  is  used  to  print text.  It is printed via the registered output
       class, see <u><a href="../man3/explain_output_register.3.html">explain_output_register</a></u>(3) for how.

       <u>text</u>    The text of the message to be printed.  It has not been wrapped (yet).

   <b>explain_output_error</b>
       void explain_output_error(const char *fmt, ...);

       The explain_output_error function is used to print a formatted error message.  The printing is  done  via
       the <u><a href="../man3/explain_output_message.3.html">explain_output_message</a></u>(3) function.

       <u>fmt</u>     The format text of the message to be printed.  See <u><a href="../man3/printf.3.html">printf</a></u>(3) for more information.

   <b>explain_output_error_and_die</b>
       void explain_output_error_and_die(const char *fmt, ...);

       The  explain_output_error_and_die  function  is  used to print text, and then terminate immediately.  The
       printing  is  done  via  the  <u><a href="../man3/explain_output_message.3.html">explain_output_message</a></u>(3)  function,  process  termination   is   via   the
       <u><a href="../man3/explain_output_exit_failure.3.html">explain_output_exit_failure</a></u>(3) function.

       <u>fmt</u>     The format text of the message to be printed.  See <a href="../man3/printf.3.html">printf</a>(3) for more information.

   <b>explain_output_warning</b>
       void explain_output_warning(const char *fmt, ...);

       The  explain_output_warning  function  is  used  to  print  a formatted error message, including the word
       “warning”.  The printing is done via the <u><a href="../man3/explain_output_message.3.html">explain_output_message</a></u>(3) function.

       <u>fmt</u>     The format text of the message to be printed.  See <u><a href="../man3/printf.3.html">printf</a></u>(3) for more information.

   <b>explain_output_exit</b>
       void explain_output_exit(int status);

       The explain_output_exit function is used to terminate execution.   It  is  executed  via  the  registered
       output class, <u><a href="../man3/explain_output_register.3.html">explain_output_register</a></u>(3) for how.

       <u>status</u>  The exist status requested.

   <b>explain_output_exit_failure</b>
       void explain_output_exit_failure(void);

       The  explain_output_exit_failure  function is used to terminate execution, with exit status EXIT_FAILURE.
       It is executed via the registered output class, see <u><a href="../man3/explain_output_register.3.html">explain_output_register</a></u>(3) for how.

   <b>explain_option_hanging_indent_set</b>
       void explain_option_hanging_indent_set(int columns);

       The explain_option_hanging_indent_set function is used to  cause  the  output  wrapping  to  use  hanging
       indents.   By  default  no  hanging indent is used, but this can sometimes obfuscate the end of one error
       message and the beginning of another.  A hanging indent results in continuation lines starting with white
       space, similar to RFC822 headers.

       This can be set using the “hanging‐indent=<u>n</u>” string in the  EXPLAIN_OPTIONS  environment  variable.   See
       <u><a href="../man3/explain.3.html">explain</a></u>(3) for more information.

       Using this function will override any environment variable setting.

       <u>columns</u> The  number  of  columns of hanging indent to be used.  A value of 0 means no hanging indent (all
               lines flush with left margin).  A common value to use is 4: it doesn't consume too much  of  each
               line, and it is a clear indent.

</pre><h4><b>OUTPUT</b> <b>REDIRECTION</b></h4><pre>
       It  is  possible  to  change how and where libexplain sends its output, and even how it calls the <u><a href="../man2/exit.2.html">exit</a></u>(2)
       function.  This functionality is used by the explain_*_or_die and explain_*_on_error functions.

       By default, libexplain will wrap and print error messages on stderr, and call the <u><a href="../man2/exit.2.html">exit</a></u>(2) system call  to
       terminate execution.

       Clients  of  the  libexplain  library  may  choose  to  use  some message handling facilities provided by
       libexplain, or they may choose to implement their own.

       <b>syslog</b>
               To cause all output to be sent to syslog, use

                      explain_output_register(explain_output_syslog_new());

               This is useful for servers and daemons.

       <b>stderr</b> <b>and</b> <b>syslog</b>
               The “tee” output class can be used to duplicate output.  To cause all output to be sent  to  both
               stderr and syslog, use

                      explain_output_register
                      (
                          explain_output_tee_new
                          (
                              explain_output_stderr_new(),
                              explain_output_syslog_new()
                          )
                      );

               If you need more than two, use several instances of “tee”, cascaded.

       <b>stderr</b> <b>and</b> <b>a</b> <b>file</b>
               To cause all output to be sent to both stderr and a regular file, use

                      explain_output_register
                      (
                          explain_output_tee_new
                          (
                              explain_output_stderr_new(),
                              explain_output_file_new(filename, 0)
                          )
                      );

       See the &lt;libexplain/output.h&gt; file for extensive documentation.

   <b>explain_output_new</b>
       explain_output_t *explain_output_new(const explain_output_vtable_t *vtable);

       The  explain_output_new  function  may  be  used  to  create  a  new  dynamically  allocated  instance of
       explain_output_t.

       <u>vtable</u>  The struct containing the pointers to the methods of the derived class.

       <u>returns</u> NULL on error (i.e. malloc failed), or a pointer to a new dynamically allocated instance  of  the
               class.

   <b>explain_output_stderr_new</b>
       explain_output_t *explain_output_stderr_new(void);

       The  explain_output_stderr_new  function may be used to create a new dynamically allocated instance of an
       explain_output_t class that writes to stderr, and exits via <u><a href="../man2/exit.2.html">exit</a></u>(2);

       This is the default output handler.

       <u>returns</u> NULL on error (i.e. malloc failed), or a pointer to a new dynamically allocated instance  of  the
               stderr class.

   <b>explain_output_syslog_new</b>
       explain_output_t *explain_output_syslog_new(void);

       The  explain_output_syslog_new  function may be used to create a new dynamically allocated instance of an
       explain_output_t class that writes to syslog, and exits via <u><a href="../man2/exit.2.html">exit</a></u>(2);

       The following values are used:

              option = 0
              facility = LOG_USER
              level = LOG_ERR

       See <u><a href="../man3/syslog.3.html">syslog</a></u>(3) for more information.

       <u>returns</u> NULL on error (i.e. <u><a href="../man3/malloc.3.html">malloc</a></u>(3) failed), or a pointer to a new dynamically  allocated  instance  of
               the syslog class.

   <b>explain_output_syslog_new1</b>
       explain_output_t *explain_output_syslog_new1(int level);

       The  explain_output_syslog_new1 function may be used to create a new dynamically allocated instance of an
       explain_output_t class that writes to syslog, and exits via <u><a href="../man2/exit.2.html">exit</a></u>(2);

       The following values are used:

              option = 0
              facility = LOG_USER

       See <u><a href="../man3/syslog.3.html">syslog</a></u>(3) for more information.

       <u>level</u>   The syslog level to be used, see <a href="../man3/syslog.3.html">syslog</a>(3) for a definition.

       <u>returns</u> NULL on error (i.e. <u><a href="../man3/malloc.3.html">malloc</a></u>(3) failed), or a pointer to a new dynamically  allocated  instance  of
               the syslog class.

   <b>explain_output_syslog_new3</b>
       explain_output_t *explain_output_syslog_new3(int option, int facility, int level);

       The  explain_output_syslog_new3 function may be used to create a new dynamically allocated instance of an
       explain_output_t class that writes to syslog, and exits via <u><a href="../man2/exit.2.html">exit</a></u>(2);

       If you want different facilities or levels, create multiple instances.

       <u>option</u>  The syslog option to be used, see <a href="../man3/syslog.3.html">syslog</a>(3) for a definition.

       <u>facility</u>
               The syslog facility to be used, see <a href="../man3/syslog.3.html">syslog</a>(3) for a definition.

       <u>level</u>   The syslog level to be used, see <a href="../man3/syslog.3.html">syslog</a>(3) for a definition.

       <u>returns</u> NULL on error (i.e. <u><a href="../man3/malloc.3.html">malloc</a></u>(3) failed), or a pointer to a new dynamically  allocated  instance  of
               the syslog class.

   <b>explain_output_file_new</b>
       explain_output_t *explain_output_file_new(const char *filename, int append);

       The  explain_output_file_new  function  may  be used to create a new dynamically allocated instance of an
       explain_output_t class that writes to a file, and exits via <u><a href="../man2/exit.2.html">exit</a></u>(2).

       <u>filename</u>
               The file to be opened and written to.

       <u>append</u>  true (non‐zero) if messages are to be appended to the file, false (zero) if the  file  is  to  be
               replaced with new contents.

       <u>returns</u> NULL  on  error  (i.e.  <u><a href="../man3/malloc.3.html">malloc</a></u>(3) or <u><a href="../man2/open.2.html">open</a></u>(2) failed), or a pointer to a new dynamically allocated
               instance of the syslog class.

   <b>explain_output_tee_new</b>
       explain_output_t *explain_output_tee_new(explain_output_t *first, explain_output_t *second);

       The explain_output_tee_new function may be used to create a new  dynamically  allocated  instance  of  an
       explain_output_t class that writes to <b>two</b> other output classes.

       <u>first</u>   The first output class to write to.

       <u>second</u>  The second output class to write to.

       <u>returns</u> NULL  on  error  (i.e. <u><a href="../man3/malloc.3.html">malloc</a></u>(3) failed), or a pointer to a new dynamically allocated instance of
               the syslog class.

       The output subsystem will “own” the <u>first</u> and <u>second</u> objects after this  call.   You  may  not  make  any
       reference  to  these  pointers  ever again.  The output subsystem will destroy these objects and free the
       memory when it feels like it.

   <b>explain_output_register</b>
       void explain_output_register(explain_output_t *op);

       The explain_output_register function is used to change libexplain's default  output  handling  facilities
       with something else.  The NULL pointer restores libexplain's default processing.

       If no output class is registered, the default is to wrap and print to stderr, and to exit via the <u><a href="../man2/exit.2.html">exit</a></u>(2)
       system call.

       <u>op</u>      Pointer to the explain_output_t instance to be operated on.

       The  output  subsystem  will  “own”  the pointer after this call.  You may not make any reference to this
       pointer ever again.  The output subsystem will destroy the object and free the memory when it feels  like
       it.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       libexplain version 1.4
       Copyright (C) 2010 Peter Miller

</pre><h4><b>AUTHOR</b></h4><pre>
       Written by Peter Miller &lt;<a href="mailto:pmiller@opensource.org.au">pmiller@opensource.org.au</a>&gt;

                                                                                               <u><a href="../man3/explain_output.3.html">explain_output</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>