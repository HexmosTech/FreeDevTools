<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_INFILESIZE - size of the input file to send off</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_INFILESIZE - size of the input file to send off

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_INFILESIZE, long filesize);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       When uploading a file to a remote site, <u>filesize</u> should be used to tell libcurl what the expected size of
       the  input file is. This value must be passed as a long. See also <u><a href="../man3/CURLOPT_INFILESIZE_LARGE.3.html">CURLOPT_INFILESIZE_LARGE</a>(3)</u> for sending
       files larger than 2GB.

       For uploading using SCP, this option or <u><a href="../man3/CURLOPT_INFILESIZE_LARGE.3.html">CURLOPT_INFILESIZE_LARGE</a>(3)</u> is mandatory.

       To unset this value again, set it to -1.

       Using <u><a href="../man3/CURLOPT_UPLOAD.3.html">CURLOPT_UPLOAD</a>(3)</u> to an HTTP/1.1 server and this value set  to  -1,  makes  libcurl  do  a  chunked
       transfer-encoded upload.

       When  sending  emails using SMTP, this command can be used to specify the optional SIZE parameter for the
       MAIL FROM command.

       This option does not limit how much data libcurl actually sends, as that is controlled entirely  by  what
       the read callback returns, but telling one value and sending a different amount may lead to errors.

</pre><h4><b>DEFAULT</b></h4><pre>
       Unset

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects all supported protocols

</pre><h4><b>EXAMPLE</b></h4><pre>
       #define FILE_SIZE 12345L

       int main(void)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           long uploadsize = FILE_SIZE;

           curl_easy_setopt(curl, CURLOPT_URL,
                            "<a href="ftp://example.com/destination.tar.gz">ftp://example.com/destination.tar.gz</a>");

           curl_easy_setopt(curl, CURLOPT_UPLOAD, 1L);

           curl_easy_setopt(curl, CURLOPT_INFILESIZE, uploadsize);

           curl_easy_perform(curl);
         }
       }

</pre><h4><b>HISTORY</b></h4><pre>
       SMTP support added in 7.23.0

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.1

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLINFO_CONTENT_LENGTH_UPLOAD_T.3.html">CURLINFO_CONTENT_LENGTH_UPLOAD_T</a></b>(3), <b><a href="../man3/CURLOPT_INFILESIZE_LARGE.3.html">CURLOPT_INFILESIZE_LARGE</a></b>(3), <b><a href="../man3/CURLOPT_UPLOAD.3.html">CURLOPT_UPLOAD</a></b>(3)

libcurl                                            2025-06-16                              <u><a href="../man3/CURLOPT_INFILESIZE.3.html">CURLOPT_INFILESIZE</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>