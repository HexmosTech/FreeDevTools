<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lowdown_buf — parse a Markdown buffer into formatted output</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liblowdown-dev">liblowdown-dev_2.0.2-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lowdown_buf — parse a Markdown buffer into formatted output

</pre><h4><b>LIBRARY</b></h4><pre>
       library “liblowdown”

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/queue.h&gt;</b>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;</b>
       <b>#include</b> <b>&lt;lowdown.h&gt;</b>

       <u>int</u>
       <b>lowdown_buf</b>(<u>const</u> <u>struct</u> <u>lowdown_opts</u> <u>*opts</u>,  <u>const</u> <u>char</u> <u>*buf</u>,  <u>size_t</u> <u>bufsz</u>,  <u>char</u> <u>**ret</u>, <u>size_t</u> <u>*retsz</u>,
           <u>struct</u> <u>lowdown_metaq</u> <u>*metaq</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Parses a <u><a href="../man5/lowdown.5.html">lowdown</a></u>(5) buffer <u>buf</u> of size <u>bufsz</u> into an output buffer <u>ret</u>  of  size  <u>retsz</u>  according  to  a
       configuration  <u>opts</u>.   The  output  format  is  specified  by  <u>opts-&gt;type</u>.  If LOWDOWN_METADATA is set in
       <u>opts-&gt;feat</u> and <u>metaq</u> is not NULL, <u>metaq</u> is filled with metadata rendered in the given output format.

       The caller is responsible for freeing <u>ret</u> and <u>metaq</u>.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       Returns zero on failure, non-zero on success.  On failure, the values pointed  to  by  <u>res</u>  and  <u>rsz</u>  are
       undefined.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The  following  parses standard input into a standalone HTML5 document.  It enables footnotes, autolinks,
       tables, superscript, strikethrough, fenced  codeblocks,  commonmark,  definition  lists,  extended  image
       attributes, and metadata processing.  The output passes through raw HTML and has smart typography.

             struct lowdown_opts opts;
             char *buf = NULL, *obuf;
             char rbuf[1024];
             size_t sz, bufsz = 0, obufsz;

             while (!(feof(stdin) || ferror(stdin))) {
                     sz = fread(rbuf, 1, sizeof(rbuf), stdin);
                     if (sz == 0)
                             err(1, "fread");
                     buf = realloc(buf, bufsz + sz);
                     if (buf == NULL)
                             err(1, NULL);
                     memcpy(buf + bufsz, rbuf, sz);
                     bufsz += sz;
             }

             if (ferror(stdin))
                     err(1, "fread");

             memset(&amp;opts, 0, sizeof(struct lowdown_opts));
             opts.type = LOWDOWN_HTML;
             opts.feat = LOWDOWN_FOOTNOTES |
                     LOWDOWN_AUTOLINK |
                     LOWDOWN_TABLES |
                     LOWDOWN_SUPER |
                     LOWDOWN_STRIKE |
                     LOWDOWN_FENCED |
                     LOWDOWN_COMMONMARK |
                     LOWDOWN_DEFLIST |
                     LOWDOWN_IMG_EXT |
                     LOWDOWN_METADATA;
             opts.oflags = LOWDOWN_HTML_HEAD_IDS |
                     LOWDOWN_HTML_NUM_ENT |
                     LOWDOWN_HTML_OWASP |
                     LOWDOWN_SMARTY |
                     LOWDOWN_STANDALONE;
             if (!lowdown_buf(&amp;opts, buf, bufsz, &amp;obuf, &amp;obufsz, NULL))
                     errx(1, "lowdown_buf");
             fwrite(buf, 1, bufsz, stdout);
             free(buf);
             free(obuf);

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/lowdown.3.html">lowdown</a></u>(3), <u><a href="../man3/lowdown_metaq_free.3.html">lowdown_metaq_free</a></u>(3)

Debian                                             $Mdocdate$                                     <u><a href="../man3/LOWDOWN_BUF.3.html">LOWDOWN_BUF</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>