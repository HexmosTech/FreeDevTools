<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::SIP::SDP - Parsing and manipulation of SDP data for SIP</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-sip-perl">libnet-sip-perl_0.838-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::SIP::SDP - Parsing and manipulation of SDP data for SIP

</pre><h4><b>SYNOPSIS</b></h4><pre>
         my $sdp = Net::SIP::SDP-&gt;new( sdp_string );
         my @media = $sdp-&gt;get_media;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Net::SIP::SDP can parse and manipulate SDP data.

       It's not a general purpose SDP class (like Net::SDP) but designed to work with SDP data contained in SIP
       packets and for easy extraction and manipulation (for NAT etc) of media information contained in the SDP.

       The class is also designed for easy creation of SDP bodies in the context of the rest of Net::SIP::*.

</pre><h4><b>EXAMPLES</b></h4><pre>
         # creation based on media data
         my $sdp = Net::SIP::SDP-&gt;new(
               { addr =&gt; '192.168.0.1' },
               { port =&gt; 2012, proto =&gt; 'RTP/AVP', media =&gt; 'audio', fmt =&gt; 0 },
               { port =&gt; 2014, proto =&gt; 'RTP/AVP', media =&gt; 'video', fmt =&gt; 0 },
         );

         # parse from string
         my $sdp = Net::SIP::SDP-&gt;new( sdp_string );

         # extract all media data
         my @media = $sdp-&gt;get_media;

         # and replace them with new addr + port (for NAT)
         my @new_media,;
         foreach (@media) {
               my ($port,@socks) = create_rtp_sockets( '192.168.178.1', $_-&gt;{range} );
               push @new_media, [ '192.168.178.1', $port ];
               ...
         }
         $sdp-&gt;replace_media_listen( @new_media );

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
       new Default constructor.  Depending on kind of arguments branches into <b>new_from_string</b> or <b>new_from_parts</b>.
           See there.

       new_from_string ( STRING )
           Creates  object  from  STRING  containing  the  SDP data.  Raises an exception (e.g. <b>die()</b>) if SDP is
           invalid.

       new_from_parts ( \%GLOBAL, @MEDIA )
           Creates object from specification.  %GLOBAL describes the global keys, usually only a  common  "addr"
           for all media but any of the keys defined in RFC2327 can be used.

           @MEDIA  is  a list of hash references, one hash for each media part. These hashes can contain as keys
           the one-letter keys specified in RFC2327 and/or special keys for constructing the 'c' and 'm' line:

           addr - The address, used in the 'c' line.
           port -  The port number
           range - Range of ports, for RTP/AVP defaults to 2, else 1
           media - The media typ, e.g. 'audio','video',...
           proto - Transport protocol, usually 'RTP/AVP' or 'udp'

           If the SDP should contain multiple values for the same key in the same media section on  can  specify
           the value for the key as a \@list instead of a string (this is often the case for 'a' lines).

</pre><h4><b>METHODS</b></h4><pre>
       as_string
           Returns string representation for object.

       content_type
           Returns 'application/sdp'

       get_media
           Returns  list  of all media described in the SDP. If the caller expects an array the result will be a
           list, otherwise a reference to a list.

           Each element of the list is a hash with the following keys:

           addr - IP4/IP6 address for media
           port - Start port
           range - Range for ports
           proto - Media proto, usually 'RTP/AVP' or 'udp'
           media - Media typ, usually 'audio', 'video' or 'data'
           fmt - Format info from media line as \@list, e.g "[ 0,10,5 ]".
           lines - All lines from media description as \@list of [ key,value ].

           <b>WARNING!</b> You should never manipulate the values you got from this function, because this might affect
           the objects internals.

       replace_media_listen ( NEW_MEDIA )
           Replaces the exisisting media in the object with new media. Useful for NAT.

           NEW_MEDIA is ether an array or a reference to an array. Each element in the list consists of the  new
           [ addr,port ] mapping for the matching media entry.

           The  number  of entries in the list should be the same as the number of media entries in the object (
           see <b>get_media</b> ). If this is not the case it will die().

       name2int ( NAME, INDEX )
           Returns the RTP payload id for NAME (e.g. "telephone-event/8000").  INDEX is the index into the  list
           of media information, matching the list returned from get_media. INDEX can also be 'audio','video'..,
           which will then lookup at the first matching entry in the media list.

perl v5.40.0                                       2024-09-08                                 <u>Net::SIP::<a href="../man3pm/SDP.3pm.html">SDP</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>