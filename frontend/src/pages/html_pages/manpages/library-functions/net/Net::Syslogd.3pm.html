<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::Syslogd - Perl implementation of Syslog Listener</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-syslogd-perl">libnet-syslogd-perl_0.16-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::Syslogd - Perl implementation of Syslog Listener

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Net::Syslogd;

         my $syslogd = Net::Syslogd-&gt;new()
           or die "Error creating Syslogd listener: ", Net::Syslogd-&gt;error;

         while (1) {
             my $message = $syslogd-&gt;get_message();

             if (!defined($message)) {
                 printf "$0: %s\n", Net::Syslogd-&gt;error;
                 exit 1
             } elsif ($message == 0) {
                 next
             }

             if (!defined($message-&gt;process_message())) {
                 printf "$0: %s\n", Net::Syslogd-&gt;error
             } else {
                 printf "%s\t%i\t%s\t%s\t%s\t%s\t%s\n",
                        $message-&gt;remoteaddr,
                        $message-&gt;remoteport,
                        $message-&gt;facility,
                        $message-&gt;severity,
                        $message-&gt;time,
                        $message-&gt;hostname,
                        $message-&gt;message
             }
         }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Net::Syslogd is a class implementing a simple Syslog listener in Perl.  Net::Syslogd will accept messages
       on the default Syslog port (UDP 514) and attempt to decode them according to RFC 3164.

</pre><h4><b>METHODS</b></h4><pre>
   <b>new()</b> <b>-</b> <b>create</b> <b>a</b> <b>new</b> <b>Net::Syslogd</b> <b>object</b>
         my $syslogd = Net::Syslogd-&gt;new([OPTIONS]);

       Create a new Net::Syslogd object with OPTIONS as optional parameters.  Valid options are:

         Option     Description                            Default
         ------     -----------                            -------
         -Family    Address family IPv4/IPv6                  IPv4
                      Valid values for IPv4:
                        4, v4, ip4, ipv4, AF_INET (constant)
                      Valid values for IPv6:
                        6, v6, ip6, ipv6, AF_INET6 (constant)
         -LocalAddr Interface to bind to                       any
         -LocalPort Port to bind server to                     514
         -timeout   Timeout in seconds for socket               10
                    operations and to wait for request

       <b>NOTE</b>:  IPv6 requires IO::Socket::IP.  Failback is IO::Socket::INET and only IPv4 support.

       Allows the following accessors to be called.

       <u><b>server()</b></u> <u>-</u> <u>return</u> <u>IO::Socket::IP</u> <u>object</u> <u>for</u> <u>server</u>

         $syslogd-&gt;server();

       Return <b>IO::Socket::IP</b> object for the created server.  All <b>IO::Socket::IP</b> accessors can then be called.

   <b>get_message()</b> <b>-</b> <b>listen</b> <b>for</b> <b>Syslog</b> <b>message</b>
         my $message = $syslogd-&gt;get_message([OPTIONS]);

       Listen for Syslog messages.  Timeout after default or user specified timeout set in "new" method and
       return '0'.  If message is received before timeout, return is defined.  Return is not defined if error
       encountered.

       Valid options are:

         Option     Description                            Default
         ------     -----------                            -------
         -maxsize   Max size in bytes of acceptable          65467
                    message.
                    Value can be integer 1 &lt;= # &lt;= 65467.
                    Keywords: 'RFC'         = 1024
                              'recommended' = 2048
         -timeout   Timeout in seconds to wait for              10
                    request.  Overrides value set with
                    new().

       Allows the following accessors to be called.

       <u><b>remoteaddr()</b></u> <u>-</u> <u>return</u> <u>remote</u> <u>address</u> <u>from</u> <u>Syslog</u> <u>message</u>

         $message-&gt;remoteaddr();

       Return remote address value from a received ("get_message()") Syslog message.  This is the address from
       the IP header on the UDP datagram.

       <u><b>remoteport()</b></u> <u>-</u> <u>return</u> <u>remote</u> <u>port</u> <u>from</u> <u>Syslog</u> <u>message</u>

         $message-&gt;remoteport();

       Return remote port value from a received ("get_message()") Syslog message.  This is the port from the IP
       header on the UDP datagram.

       <u><b>datagram()</b></u> <u>-</u> <u>return</u> <u>datagram</u> <u>from</u> <u>Syslog</u> <u>message</u>

         $message-&gt;datagram();

       Return the raw datagram from a received ("get_message()") Syslog message.

   <b>process_message()</b> <b>-</b> <b>process</b> <b>received</b> <b>Syslog</b> <b>message</b>
         $message-&gt;process_message([OPTIONS]);

       Process a received Syslog message according to RFC 3164 - or as close as possible. RFC 3164 format is as
       follows:

         &lt;###&gt;Mmm dd hh:mm:ss hostname tag content
         |___||_____________| |______| |_________|
           |     Timestamp    Hostname   Message
           |
          Priority -&gt; (facility and severity)

       <b>NOTE:</b>  This module parses the tag and content as a single field.

       Called with one argument, interpreted as the datagram to process.  Valid options are:

         Option     Description                            Default
         ------     -----------                            -------
         -datagram  Datagram to process                    -Provided by
                                                            get_message()-
         -regex     Regular expression to parse received   -Provided in
                    syslog message.                         this method-
                    Keywords: 'RFC' = Strict RFC 3164
                    Must include ()-matching:
                      $1 = priority
                      $2 = time
                      $3 = hostname
                      $4 = message

       <b>NOTE:</b>  This uses a regex that parses RFC 3164 compliant syslog messages.  It will also recoginize Cisco
       syslog messages (not fully RFC 3164 compliant) sent with 'timestamp' rather than 'uptime'.

       This can also be called as a procedure if one is inclined to write their own UDP listener instead of
       using "get_message()".  For example:

         $sock = IO::Socket::IP-&gt;new( blah blah blah );
         $sock-&gt;recv($datagram, 1500);
         # process datagram in $datagram variable
         $message = Net::Syslogd-&gt;process_message($datagram);

       In either instantiation, allows the following accessors to be called.

       <u><b>priority()</b></u> <u>-</u> <u>return</u> <u>priority</u> <u>from</u> <u>Syslog</u> <u>message</u>

         $message-&gt;priority();

       Return priority value from a received and processed ("process_message()") Syslog message.  This is the
       raw priority number not decoded into facility and severity.

       <u><b>facility()</b></u> <u>-</u> <u>return</u> <u>facility</u> <u>from</u> <u>Syslog</u> <u>message</u>

         $message-&gt;facility([1]);

       Return facility value from a received and processed ("process_message()") Syslog message.  This is the
       text representation of the facility.  For the raw number, use the optional boolean argument.

       <u><b>severity()</b></u> <u>-</u> <u>return</u> <u>severity</u> <u>from</u> <u>Syslog</u> <u>message</u>

         $message-&gt;severity([1]);

       Return severity value from a received and processed ("process_message()") Syslog message.  This is the
       text representation of the severity.  For the raw number, use the optional boolean argument.

       <u><b>time()</b></u> <u>-</u> <u>return</u> <u>time</u> <u>from</u> <u>Syslog</u> <u>message</u>

         $message-&gt;time();

       Return time value from a received and processed ("process_message()") Syslog message.

       <u><b>hostname()</b></u> <u>-</u> <u>return</u> <u>hostname</u> <u>from</u> <u>Syslog</u> <u>message</u>

         $message-&gt;hostname();

       Return hostname value from a received and processed ("process_message()") Syslog message.

       <u><b>message()</b></u> <u>-</u> <u>return</u> <u>message</u> <u>from</u> <u>Syslog</u> <u>message</u>

         $message-&gt;message();

       Return message value from a received and processed ("process_message()") Syslog message.  Note this is
       the tag <b>and</b> msg field from a properly formatted RFC 3164 Syslog message.

   <b>error()</b> <b>-</b> <b>return</b> <b>last</b> <b>error</b>
         printf "Error: %s\n", Net::Syslogd-&gt;error;

       Return last error.

</pre><h4><b>EXPORT</b></h4><pre>
       None by default.

</pre><h4><b>EXAMPLES</b></h4><pre>
       This distribution comes with several scripts (installed to the default "bin" install directory) that not
       only demonstrate example uses but also provide functional execution.

</pre><h4><b>LICENSE</b></h4><pre>
       This software is released under the same terms as Perl itself.  If you don't know what that means visit
       &lt;<a href="http://perl.com/">http://perl.com/</a>&gt;.

</pre><h4><b>AUTHOR</b></h4><pre>
       Copyright (C) Michael Vincent 2010

       &lt;<a href="http://www.VinsWorld.com">http://www.VinsWorld.com</a>&gt;

       All rights reserved

perl v5.34.0                                       2022-06-30                                  <u>Net::<a href="../man3pm/Syslogd.3pm.html">Syslogd</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>