<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::PH - CCSO Nameserver Client class</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-ph-perl">libnet-ph-perl_2.21-10_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::PH - CCSO Nameserver Client class

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Net::PH;

           $ph = Net::PH-&gt;new("some.host.name",
                              Port    =&gt; 105,
                              Timeout =&gt; 120,
                              Debug   =&gt; 0);

           if($ph) {
               $q = $ph-&gt;query({ field1 =&gt; "value1" },
                               [qw(name address pobox)]);

               if($q) {
               }
           }

           # Alternative syntax

           if($ph) {
               $q = $ph-&gt;query('field1=value1',
                               'name address pobox');

               if($q) {
               }
           }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       "Net::PH" is a class implementing a simple Nameserver/PH client in Perl as described in the CCSO
       Nameserver -- Server-Client Protocol. Like other modules in the Net:: family the "Net::PH" object
       inherits methods from "Net::Cmd".

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
       new ( [ HOST ] [, OPTIONS ])
               $ph = Net::PH-&gt;new("some.host.name",
                                  Port    =&gt; 105,
                                  Timeout =&gt; 120,
                                  Debug   =&gt; 0
                                 );

           This is the constructor for a new Net::PH object. "HOST" is the name of the remote host to which a PH
           connection is required.

           If "HOST" is not given, then the "SNPP_Host" specified in "Net::Config" will be used.

           "OPTIONS" is an optional list of named options which are passed in a hash like fashion, using key and
           value pairs. Possible options are:-

           <b>Port</b> - Port number to connect to on remote host.

           <b>Timeout</b>  - Maximum time, in seconds, to wait for a response from the Nameserver, a value of zero will
           cause all IO operations to block.  (default: 120)

           <b>Debug</b> - Enable the printing of debugging information to STDERR

</pre><h4><b>METHODS</b></h4><pre>
       Unless otherwise stated all methods return either a <u>true</u> or <u>false</u>  value,  with  <u>true</u>  meaning  that  the
       operation  was a success. When a method states that it returns a value, failure will be returned as <u>undef</u>
       or an empty list.

       query( SEARCH [, RETURN ] )
               $q = $ph-&gt;query({ name =&gt; $myname },
                               [qw(name email schedule)]);

               foreach $handle (@{$q}) {
                   foreach $field (keys %{$handle}) {
                       $c = ${$handle}{$field}-&gt;code;
                       $v = ${$handle}{$field}-&gt;value;
                       $f = ${$handle}{$field}-&gt;field;
                       $t = ${$handle}{$field}-&gt;text;
                       print "field:[$field] [$c][$v][$f][$t]\n" ;
                   }
               }

           Search the database and return fields from all matching entries.

           The "SEARCH" argument is a reference to a HASH which contains field/value pairs which will be  passed
           to the Nameserver as the search criteria.

           "RETURN"  is  optional, but if given it should be a reference to a list which contains field names to
           be returned.

           The alternative syntax is to pass strings instead of references, for example

               $q = $ph-&gt;query('name=myname',
                               'name email schedule');

           The "SEARCH" argument is a string that is passed to  the  Nameserver  as  the  search  criteria.  The
           strings being passed should <b>not</b> contain any carriage returns, or else the query command might fail or
           return invalid data.

           "RETURN"  is  optional,  but  if  given  it  should  be a string which will contain field names to be
           returned.

           Each match from the server will be returned as a HASH where the keys are  the  field  names  and  the
           values are "Net::PH:Result" objects (<u>code</u>, <u>value</u>, <u>field</u>, <u>text</u>).

           Returns a reference to an ARRAY which contains references to HASHs, one per match from the server.

       change( SEARCH , MAKE )
               $r = $ph-&gt;change({ email =&gt; "*.domain.name" },
                                { schedule =&gt; "busy");

           Change field values for matching entries.

           The  "SEARCH" argument is a reference to a HASH which contains field/value pairs which will be passed
           to the Nameserver as the search criteria.

           The "MAKE" argument is a reference to a HASH which contains field/value pairs which will be passed to
           the Nameserver that will set new values to designated fields.

           The alternative syntax is to pass strings instead of references, for example

               $r = $ph-&gt;change('email="*.domain.name"',
                                'schedule="busy"');

           The "SEARCH" argument is a string to be passed to the Nameserver as the search criteria. The  strings
           being  passed should <b>not</b> contain any carriage returns, or else the query command might fail or return
           invalid data.

           The "MAKE" argument is a string to be passed to the Nameserver that will set new values to designated
           fields.

           Upon success all entries that match the search criteria will have the field values, given in the Make
           argument, changed.

       login( USER, PASS [, ENCRYPT ])
               $r = $ph-&gt;login('username','password',1);

           Enter login mode using "USER" and "PASS". If "ENCRYPT" is given and is <u>true</u> then the password will be
           used to encrypt a challenge text string provided by the server, and the encrypted string will be sent
           back to the server. If "ENCRYPT" is not given, or <u>false</u> then the password will be sent in clear  text
           (<u>this</u> <u>is</u> <u>not</u> <u>recommended</u>)

       <b>logout()</b>
               $r = $ph-&gt;logout();

           Exit login mode and return to anonymous mode.

       fields( [ FIELD_LIST ] )
               $fields = $ph-&gt;fields();
               foreach $field (keys %{$fields}) {
                   $c = ${$fields}{$field}-&gt;code;
                   $v = ${$fields}{$field}-&gt;value;
                   $f = ${$fields}{$field}-&gt;field;
                   $t = ${$fields}{$field}-&gt;text;
                   print "field:[$field] [$c][$v][$f][$t]\n";
               }

           In  a scalar context, returns a reference to a HASH. The keys of the HASH are the field names and the
           values are "Net::PH:Result" objects (<u>code</u>, <u>value</u>, <u>field</u>, <u>text</u>).

           In an array context, returns a two element array. The first element is  a  reference  to  a  HASH  as
           above,  the  second element is a reference to an array which contains the tag names in the order that
           they were returned from the server.

           "FIELD_LIST" is a string that lists the fields for which info will be returned.

       add( FIELD_VALUES )
               $r = $ph-&gt;add( { name =&gt; $name, phone =&gt; $phone });

           This method is used to add new entries to the Nameserver database. You must successfully  call  login
           before this method can be used.

           <b>Note</b> that this method adds new entries to the database. To modify an existing entry use change.

           "FIELD_VALUES"  is a reference to a HASH which contains field/value pairs which will be passed to the
           Nameserver and will be used to initialize the new entry.

           The alternative syntax is to pass a string instead of a reference, for example

               $r = $ph-&gt;add('name=myname phone=myphone');

           "FIELD_VALUES" is a string that consists of field/value pairs which the new entry will  contain.  The
           strings being passed should <b>not</b> contain any carriage returns, or else the query command might fail or
           return invalid data.

       delete( FIELD_VALUES )
               $r = $ph-&gt;delete('name=myname phone=myphone');

           This  method  is used to delete existing entries from the Nameserver database.  You must successfully
           call login before this method can be used.

           <b>Note</b> that this method deletes entries to the database. To modify an existing entry use change.

           "FIELD_VALUES" is a string that serves as the search criteria for the  records  to  be  deleted.  Any
           entry in the database which matches this search criteria will be deleted.

       id( [ ID ] )
               $r = $ph-&gt;id('709');

           Sends  "ID" to the Nameserver, which will enter this into its logs. If "ID" is not given then the UID
           of the user running the process will be sent.

       <b>status()</b>
           Returns the current status of the Nameserver.

       <b>siteinfo()</b>
               $siteinfo = $ph-&gt;siteinfo();
               foreach $field (keys %{$siteinfo}) {
                   $c = ${$siteinfo}{$field}-&gt;code;
                   $v = ${$siteinfo}{$field}-&gt;value;
                   $f = ${$siteinfo}{$field}-&gt;field;
                   $t = ${$siteinfo}{$field}-&gt;text;
                   print "field:[$field] [$c][$v][$f][$t]\n";
               }

           Returns a reference to a HASH containing information about the server's site. The keys  of  the  HASH
           are the field names and values are "Net::PH:Result" objects (<u>code</u>, <u>value</u>, <u>field</u>, <u>text</u>).

       <b>quit()</b>
               $r = $ph-&gt;quit();

           Quit the connection

</pre><h4><b>Q&amp;A</b></h4><pre>
       How do I get the values of a Net::PH::Result object?

           foreach $handle (@{$q}) {
               foreach $field (keys %{$handle}) {
                   $my_code  = ${$q}{$field}-&gt;code;
                   $my_value = ${$q}{$field}-&gt;value;
                   $my_field = ${$q}{$field}-&gt;field;
                   $my_text  = ${$q}{$field}-&gt;text;
               }
           }

       How do I get a count of the returned matches to my query?

           $my_count = scalar(@{$query_result});

       How do I get the status code and message of the last $ph command?

           $status_code    = $ph-&gt;code;
           $status_message = $ph-&gt;message;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Net::Cmd

</pre><h4><b>AUTHORS</b></h4><pre>
       Graham Barr &lt;<a href="mailto:gbarr@pobox.com">gbarr@pobox.com</a>&gt; Alex Hristov &lt;<a href="mailto:hristov@slb.com">hristov@slb.com</a>&gt;

</pre><h4><b>ACKNOWLEDGMENTS</b></h4><pre>
       Password  encryption  code  ported  to  perl by Broc Seib &lt;<a href="mailto:bseib@purdue.edu">bseib@purdue.edu</a>&gt;, Purdue University Computing
       Center.

       Otis Gospodnetic &lt;<a href="mailto:otisg@panther.middlebury.edu">otisg@panther.middlebury.edu</a>&gt; suggested passing parameters as  string  constants.  Some
       queries cannot be executed when passing parameters as string references.

               Example: query first_name last_name email="*.domain"

</pre><h4><b>COPYRIGHT</b></h4><pre>
       The encryption code is based upon cryptit.c, Copyright (C) 1988 by Steven Dorner, and Paul Pomes, and the
       University of Illinois Board of Trustees, and by CSNET.

       All   other   code   is   Copyright   (c)  1996-1997  Graham  Barr  &lt;<a href="mailto:gbarr@pobox.com">gbarr@pobox.com</a>&gt;  and  Alex  Hristov
       &lt;<a href="mailto:hristov@slb.com">hristov@slb.com</a>&gt;. All rights reserved. This program is free software; you  can  redistribute  it  and/or
       modify it under the same terms as Perl itself.

       <u>$Id:</u> <u>//depot/ph/PH.pm#2</u> <u>$</u>

perl v5.36.0                                       2022-10-13                                            <u><a href="../man3pm/PH.3pm.html">PH</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>