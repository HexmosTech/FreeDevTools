<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::DNS::Resolver::Programmable - programmable DNS resolver class for offline emulation of DNS</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-dns-resolver-programmable-perl">libnet-dns-resolver-programmable-perl_0.009-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::DNS::Resolver::Programmable - programmable DNS resolver class for offline emulation of DNS

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Net::DNS::Resolver::Programmable;
           use Net::DNS::RR;

           my $resolver = Net::DNS::Resolver::Programmable-&gt;new(
               records         =&gt; {
                   'example.com'     =&gt; [
                       Net::DNS::RR-&gt;new('example.com.     NS  ns.example.org.'),
                       Net::DNS::RR-&gt;new('example.com.     A   192.168.0.1')
                   ],
                   'ns.example.org'  =&gt; [
                       Net::DNS::RR-&gt;new('ns.example.org.  A   192.168.1.1')
                   ]
               },

               resolver_code   =&gt; sub {
                   my ($domain, $rr_type, $class) = @_;
                   ...
                   return ($result, $aa, @rrs);
               }
           );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Net::DNS::Resolver::Programmable</b> is a <b>Net::DNS::Resolver</b> descendant class that allows a virtual DNS to be
       emulated instead of querying the real DNS.  A set of static DNS records may be supplied, or arbitrary
       code may be specified as a means for retrieving DNS records, or even generating them on the fly.

   <b>Constructor</b>
       The following constructor is provided:

       <b>new(%options)</b>: returns <u>Net::DNS::Resolver::Programmable</u>
           Creates a new programmed DNS resolver object.

           %options is a list of key/value pairs representing any of the following options:

           <b>records</b>
               A  reference  to  a  hash  of  arrays  containing a static set of <u>Net::DNS::RR</u> objects.  The hash
               entries must be indexed by fully qualified domain names (lower-case, without any trailing  dots),
               and  the  entries  themselves  must be arrays of the RR objects pertaining to these domain names.
               For example:

                   records =&gt; {
                       'example.com'     =&gt; [
                           Net::DNS::RR-&gt;new('example.com.     NS  ns.example.org.'),
                           Net::DNS::RR-&gt;new('example.com.     A   192.168.0.1')
                       ],
                       'www.example.com' =&gt; [
                           Net::DNS::RR-&gt;new('www.example.com. A   192.168.0.2')
                       ],
                       'ns.example.org'  =&gt; [
                           Net::DNS::RR-&gt;new('ns.example.org.  A   192.168.1.1')
                       ]
                   }

               If this option is specified, the resolver retrieves requested RRs from this data structure.

           <b>resolver_code</b>
               A code reference used as a call-back for dynamically retrieving requested RRs.

               The code must take the following query parameters as arguments: the <u>domain</u>, <u>RR</u> <u>type</u>, and <u>class</u>.

               It  must  return  a  list  composed  of:  the  response's  <u>RCODE</u>  (by  name,   as   returned   by
               Net::DNS::Header-&gt;rcode),  the  <u>"aa"</u> <u>(authoritative</u> <u>answer)</u> <u>flag</u> (<u>boolean</u>, use <b>undef</b> if you don't
               care), and the <u>Net::DNS::RR</u> <u>answer</u> <u>objects</u>.  If an error string is returned instead  of  a  valid
               RCODE,  a  <u>Net::DNS::Packet</u>  object is not constructed but an error condition for the resolver is
               signaled instead.

               For example:

                   resolver_code =&gt; sub {
                       my ($domain, $rr_type, $class) = @_;
                       ...
                       return ($result, $aa, @rrs);
                   }

               If both this and the "records" option are specified, then statically programmed records are  used
               in addition to any that are returned by the configured resolver code.

           <b>defnames</b>
           <b>dnsrch</b>
           <b>domain</b>
           <b>searchlist</b>
           <b>debug</b>
               These  Net::DNS::Resolver options are also meaningful with Net::DNS::Resolver::Programmable.  See
               Net::DNS::Resolver for their descriptions.

   <b>Instance</b> <b>methods</b>
       The    following    instance    methods    of    <u>Net::DNS::Resolver</u>     are     also     supported     by
       <u>Net::DNS::Resolver::Programmable</u>:

       <b>search</b>: returns <u>Net::DNS::Packet</u>
       <b>query</b>: returns <u>Net::DNS::Packet</u>
       <b>send</b>: returns <u>Net::DNS::Packet</u>
           Performs  an offline DNS query, using the statically programmed DNS RRs and/or the configured dynamic
           resolver code.   See  the  "new"  constructor's  "records"  and  "resolver_code"  options.   See  the
           descriptions of search, query, and send for details about the calling syntax of these methods.

       <b>print</b>
       <b>string</b>: returns <u>string</u>
       <b>searchlist</b>: returns <u>list</u> of <u>string</u>
       <b>defnames</b>: returns <u>boolean</u>
       <b>dnsrch</b>: returns <u>boolean</u>
       <b>debug</b>: returns <u>boolean</u>
       <b>errorstring</b>: returns <u>string</u>
       <b>answerfrom</b>: returns <u>string</u>
       <b>answersize</b>: returns <u>integer</u>
           See "METHODS" in Net::DNS::Resolver.

       Currently  the  following  methods  of <u>Net::DNS::Resolver</u> are <b>not</b> supported: <b>axfr</b>, <b>axfr_start</b>, <b>axfr_next</b>,
       <b>nameservers</b>, <b>port</b>, <b>srcport</b>, <b>srcaddr</b>, <b>bgsend</b>, <b>bgread</b>, <b>bgisready</b>, <b>tsig</b>,  <b>retrans</b>,  <b>retry</b>,  <b>recurse</b>,  <b>usevc</b>,
       <b>tcp_timeout</b>,  <b>udp_timeout</b>,  <b>persistent_tcp</b>,  <b>persistent_udp</b>,  <b>igntc</b>,  <b>dnssec</b>, <b>cdflag</b>, <b>udppacketsize</b>.  The
       effects of using these on <u>Net::DNS::Resolver::Programmable</u> objects are undefined.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Net::DNS::Resolver

       For  availability,  support,   and   license   information,   see   the   README   file   included   with
       Net::DNS::Resolver::Programmable.

</pre><h4><b>AUTHORS</b></h4><pre>
       David Precious (BIGPRESH) "&lt;<a href="mailto:davidp@preshweb.co.uk">davidp@preshweb.co.uk</a>&gt;" took on maintainership in July 2017

       Original author Julian Mehnle "&lt;<a href="mailto:julian@mehnle.net">julian@mehnle.net</a>&gt;"

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
       Dick Franks (rwfranks)

       (This  section  was  added  by  BIGPRESH  in July 2017, so currently omits acknowledgements for those who
       contributed things in the past; I may retrospectively add them in future.)

perl v5.34.0                                       2022-06-16              <u>Net::DNS::Resolver::<a href="../man3pm/Programmable.3pm.html">Programmable</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>