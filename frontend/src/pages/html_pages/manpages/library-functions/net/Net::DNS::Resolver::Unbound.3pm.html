<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::DNS::Resolver::Unbound - Net::DNS resolver based on libunbound</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-dns-resolver-unbound-perl">libnet-dns-resolver-unbound-perl_1.32-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::DNS::Resolver::Unbound - Net::DNS resolver based on libunbound

</pre><h4><b>SYNOPSIS</b></h4><pre>
               use Net::DNS;
               use Net::DNS::Resolver::Unbound;
               my $resolver = Net::DNS::Resolver::Unbound-&gt;new(...);
               my $response = $resolver-&gt;send(...);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Net::DNS::Resolver::Unbound is designed as an extension to an existing Net::DNS installation which
       facilitates DNS(SEC) name resolution using the libunbound library developed by NLnet Labs.

       Net::DNS::Resolver::Unbound replaces the resolver <b>send()</b> and <b>bgsend()</b> functionality in the
       Net::DNS::Resolver::Base implementation.

       As of this writing, the implementation has some significant limitations:

       •  Selection  of  transport  protocol  and  associated parameters is almost entirely at the discretion of
          Unbound.

       •  There is no provision for specifying DNS header flags or EDNS options in outbound packets.

       •  It is not possible to send a pre-constructed packet to a nameserver.  A best-effort  attempt  is  made
          instead using (qname,qtype,qclass) extracted from the presented packet.

       •  Result  packet  is  synthesised  in  libunbound  and not the "real thing".  In particular, the queryID
          returned by Unbound is always zero.

   <b>Replacing</b> <b>Net::DNS::Resolver</b> <b>Base</b> <b>Class</b>
       Placing "-register" in the Net::DNS::Resolver::Unbound import list, will cause it to register itself with
       Net::DNS as the resolver base class.

               use Net::DNS;
               use Net::DNS::Resolver::Unbound -register;
               my $resolver = Net::DNS::Resolver-&gt;new(...);
               my $response = $resolver-&gt;send(...);

       Note that "-register" is a global setting that applies to the entire program; it cannot be  applied  only
       for certain callers, removed, or limited by lexical scope.

</pre><h4><b>METHODS</b></h4><pre>
   <b>new</b>
               # Use the default configuration
               my $resolver = Net::DNS::Resolver::Unbound-&gt;new();

               # Set options in the constructor
               my $resolver = Net::DNS::Resolver::Unbound-&gt;new(
                       debug_level =&gt; 2,
                       defnames    =&gt; 1,
                       dnsrch,     =&gt; 1,
                       domain      =&gt; 'domain',
                       nameservers =&gt; [ '2001:DB8::1', ... ],
                       ndots       =&gt; 1,
                       searchlist  =&gt; ['domain' ... ]
                       );

       Returns  a  new Net::DNS::Resolver::Unbound resolver object.  If no arguments are supplied, new() returns
       an object having the default configuration.

       On Unix and Linux systems, the default values are read from the following files, in the order indicated:

           <u><a href="file:/etc/resolv.conf">/etc/resolv.conf</a></u>, <u>$HOME/.resolv.conf</u>, <u>./.resolv.conf</u>

       The following keywords are recognised in resolver configuration files:

       <b>nameserver</b>
           IP address of a name server that the resolver should query.

       <b>domain</b>
           The domain suffix to be appended to a short non-absolute name.

       <b>search</b>
           A space-separated list of domains in the desired search path.

       Except for <u><a href="file:/etc/resolv.conf">/etc/resolv.conf</a></u>, files will only be read  if  owned  by  the  effective  userid  running  the
       program.

       Note  that the domain and searchlist keywords are mutually exclusive.  If both are present, the resulting
       behaviour is unspecified.  If neither is present, the domain is determined from the local hostname.

   <b>nameservers</b>
               my $dnssec_resolver = Net::DNS::Resolver::Unbound-&gt;new(
                       nameservers =&gt; [],      # override <a href="file:/etc/resolv.conf">/etc/resolv.conf</a>
                       add_ta_file =&gt; '/var/lib/unbound/root.key'
                       );

               my $DoT_resolver = Net::DNS::Resolver::Unbound-&gt;new(
                       nameserver =&gt; '2606:4700:4700::1111@853#cloudflare-dns.com',
                       nameserver =&gt; '1.1.1.1@853#cloudflare-dns.com',
                       nameserver =&gt; '2001:4860:4860::8888@853#dns.google',
                       nameserver =&gt; '8.8.8.8@853#dns.google',
                       option  =&gt; ['tls-cert-bundle' =&gt; '/etc/ssl/cert.pem'],
                       set_tls =&gt; 1
                       );

               $resolver-&gt;nameservers( '::1', '127.0.0.1', ... );
               @nameservers = $resolver-&gt;nameservers;

       By default, DNS queries are sent to the IP addresses listed  in  <u><a href="file:/etc/resolv.conf">/etc/resolv.conf</a></u>  or  similar  platform-
       specific sources.

   <b>search,</b> <b>query,</b> <b>send,</b> <b>bgsend,</b> <b>bgbusy,</b> <b>bgread</b>
       See Net::DNS::Resolver.

   <b>option</b>
               $resolver-&gt;option( 'tls-cert-bundle' =&gt; '/etc/ssl/cert.pem' );

       Set Unbound resolver (name,value) context option.

   <b>config</b>
               $resolver-&gt;config( 'Unbound.cfg' );

       This is a power-users interface that lets you specify all sorts of Unbound configuration options.

   <b>set_fwd</b>
               $resolver-&gt;set_fwd( 'IP address' );

       Set IPv4 or IPv6 address to which DNS queries are to be directed.  The destination machine is expected to
       run  a  recursive  resolver.   If  the  proxy  is not DNSSEC-capable, validation may fail.  Can be called
       several times, in that case the addresses are used as backup servers.

   <b>set_tls</b>
               $resolver-&gt;set_tls( 0 );
               $resolver-&gt;set_tls( 1 );

       Use DNS over TLS for queries to nameservers specified using <b>set_fwd()</b>.

   <b>set_stub</b>
               $resolver-&gt;set_stub( 'zone', '10.1.2.3', 0 );

       Add a stub zone, with given address to send to. This is for custom root hints  or  pointing  to  a  local
       authoritative DNS server. For DNS resolvers and the 'DHCP DNS' IP address, use <b>set_fwd()</b>.

   <b>resolv_conf</b>
               $resolver-&gt;resolv_conf( 'filename' );

       Extract  nameserver list from <b><a href="../man5/resolv.conf.5.html">resolv.conf</a></b>(5) format configuration file.  Any domain, searchlist, ndots or
       other settings are ignored.

       Note that Net::DNS builds its own nameserver  list  using  <u><a href="file:/etc/resolv.conf">/etc/resolv.conf</a></u>  or  other  platform-specific
       sources.

   <b>hosts</b>
               $resolver-&gt;hosts( 'filename' );

       Read  list  of  hosts  from  the  filename given, usually <u><a href="file:/etc/hosts">/etc/hosts</a></u>.  These addresses are not flagged as
       DNSSEC secure when queried.

   <b>add_ta</b>
               $resolver-&gt;add_ta( 'trust anchor' );

       Add a trust anchor which is a string that holds a valid DNSKEY or DS RR in RFC1035 zonefile format.

   <b>add_ta_file</b>
               $resolver-&gt;add_ta_file( '/var/lib/unbound/root.key' );

       Pass the name of a file containing DS and DNSKEY records (as from dig or drill).

   <b>add_ta_autr</b>
               $resolver-&gt;add_ta_autr( 'filename' );

       Add trust anchor to the given context that is tracked with RFC5011 automated  trust  anchor  maintenance.
       The file is written when the trust anchor is changed.

   <b>trusted_keys</b>
               $resolver-&gt;trusted_keys( 'filename' );

       Pass the name of a BIND-style config file containing trusted-keys{}.

   <b>debug_out</b>
               $resolver-&gt;debug_out( out );

       Send  debug  output  (and  error  output)  to the specified stream.  Pass a null argument to disable. The
       default is stderr.

   <b>debug_level</b>
               $resolver-&gt;<a href="../man0/debug_level.0.html">debug_level</a>(0);

       Set verbosity of the debug output directed to stderr.  The default level 0 is off, 1 minimal, 2 detailed,
       3 lots, and 4 lots more.

   <b>async_thread</b>
               $resolver-&gt;<a href="../man1/async_thread.1.html">async_thread</a>(1);

       Set the context behaviour for asynchronous actions.  Enable a call to <b>resolve_async()</b> to create a  thread
       to handle work in the background.  If false (by default), a process is forked to perform the work.

   <b>print,</b> <b>string</b>
               $resolver-&gt;print;
               print $resolver-&gt;string;

       Prints the resolver state on the standard output.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c)2022,2024 Dick Franks

       All Rights Reserved

</pre><h4><b>LICENSE</b></h4><pre>
       Permission  to  use, copy, modify, and distribute this software and its documentation for any purpose and
       without fee is hereby granted, provided that the original copyright notices appear in all copies and that
       both copyright notice and this permission notice appear in supporting documentation, and that the name of
       the author not be used in advertising or publicity pertaining to distribution  of  the  software  without
       specific prior written permission.

       THE  SOFTWARE  IS  PROVIDED  "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT
       LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO
       EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
       IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE  SOFTWARE  OR
       THE USE OR OTHER DEALINGS IN THE SOFTWARE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       perl, Net::DNS, Net::DNS::Resolver, Unbound &lt;https://www.nlnetlabs.nl/projects/unbound/&gt;

perl v5.40.0                                       2025-02-07                   <u>Net::DNS::Resolver::<a href="../man3pm/Unbound.3pm.html">Unbound</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>