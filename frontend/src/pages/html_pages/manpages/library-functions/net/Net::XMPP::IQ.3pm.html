<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::XMPP::IQ - XMPP Info/Query Module</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-xmpp-perl">libnet-xmpp-perl_1.05-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::XMPP::IQ - XMPP Info/Query Module

</pre><h4><b>SYNOPSIS</b></h4><pre>
         Net::XMPP::IQ is a companion to the Net::XMPP module. It
         provides the user a simple interface to set and retrieve all
         parts of an XMPP IQ.

</pre><h4><b>DESCRIPTION</b></h4><pre>
         Net::XMPP::IQ differs from the other Net::XMPP::* modules in that
         the XMLNS of the query is split out into a submodule under
         IQ.  For specifics on each module please view the documentation
         for the Net::XMPP::Namespaces module.

         A Net::XMPP::IQ object is passed to the callback function for the
         message.  Also, the first argument to the callback functions is the
         session ID from XML::Stream.  There are some cases where you might
         want this information, like if you created a Client that connects to
         two servers at once, or for writing a mini server.

           use Net::XMPP;

           sub iq {
             my ($sid,$IQ) = @_;
             .
             .
             my $reply = $IQ-&gt;Reply();
             my $replyQuery-&gt;GetQuery();
             .
           }

         You now have access to all of the retrieval functions available.

         To create a new iq to send to the server:

           use Net::XMPP;

           $IQ = Net::XMPP::IQ-&gt;new();
           $IQType = $IQ-&gt;NewChild( type );
           $IQType-&gt;SetXXXXX("yyyyy");

         Now you can call the creation functions for the IQ, and for the
         &lt;query/&gt; on the new query object itself.  See below for the &lt;iq/&gt;
         functions, and in each query module for those functions.

</pre><h4><b>METHODS</b></h4><pre>
   <b>General</b> <b>functions</b>
         Reply(%args) - Creates a return &lt;iq/&gt; with the to and from
                        filled in correctly, and a query object already
                        added in.  The %args that you pass are passed
                        to SetIQ() and will overwrite the IQ settings
                        that Reply sets.

   <b>Retrieval</b> <b>functions</b>
         GetTo()      - returns either a string with the JID, or a
         GetTo("jid")   Net::XMPP::JID object for the person who is
                        going to receive the &lt;iq/&gt;.  To get the JID
                        object set the string to "jid", otherwise leave
                        blank for the text string.

                        $to    = $IQ-&gt;GetTo();
                        $toJID = $IQ-&gt;GetTo("jid");

         GetFrom()      -  returns either a string with the JID, or a
         GetFrom("jid")    Net::XMPP::JID object for the person who
                           sent the &lt;iq/&gt;.  To get the JID object set
                           the string to "jid", otherwise leave blank for the
                           text string.

                           $from    = $IQ-&gt;GetFrom();
                           $fromJID = $IQ-&gt;GetFrom("jid");

         GetType() - returns a string with the type &lt;iq/&gt; this is.

                     $type = $IQ-&gt;GetType();

         GetID() - returns an integer with the id of the &lt;iq/&gt;.

                   $id = $IQ-&gt;GetID();

         GetError() - returns a string with the text description of the error.

                      $error = $IQ-&gt;GetError();

         GetErrorCode() - returns a string with the code of error.

                          $errorCode = $IQ-&gt;GetErrorCode();

         GetQuery() - returns a Net::XMPP::Stanza object that contains the data
                      in the query of the &lt;iq/&gt;.  Basically, it returns the
                      first child in the &lt;iq/&gt;.

                      $query = $IQ-&gt;GetQuery();

         GetQueryXMLNS() - returns a string with the namespace of the query
                           for this &lt;iq/&gt;, if one exists.

                           $xmlns = $IQ-&gt;GetQueryXMLNS();

   <b>Creation</b> <b>functions</b>
         SetIQ(to=&gt;string|JID,    - set multiple fields in the &lt;iq/&gt; at one
               from=&gt;string|JID,    time.  This is a cumulative and over
               id=&gt;string,          writing action.  If you set the "to"
               type=&gt;string,        attribute twice, the second setting is
               errorcode=&gt;string,   what is used.  If you set the status, and
               error=&gt;string)       then set the priority then both will be in
                                    the &lt;iq/&gt; tag.  For valid settings read the
                                    specific Set functions below.

                                    $IQ-&gt;SetIQ(type=&gt;"get",
                                               to=&gt;"bob\@jabber.org");

                                    $IQ-&gt;SetIQ(to=&gt;"bob\@jabber.org",
                                               errorcode=&gt;403,
                                               error=&gt;"Permission Denied");

         SetTo(string) - sets the to attribute.  You can either pass a string
         SetTo(JID)      or a JID object.  They must be a valid Jabber
                         Identifiers or the server will return an error message.
                         (ie.  <a href="mailto:bob@jabber.org">bob@jabber.org</a>, etc...)

                         $IQ-&gt;SetTo("bob\@jabber.org");

         SetFrom(string) - sets the from attribute.  You can either pass a
         SetFrom(JID)      string or a JID object.  They must be a valid JIDs
                           or the server will return an error message.
                           (ie.  <a href="mailto:bob@jabber.org">bob@jabber.org</a>, etc...)

                           $IQ-&gt;SetFrom("me\@jabber.org");

         SetType(string) - sets the type attribute.  Valid settings are:

                           get      request information
                           set      set information
                           result   results of a get
                           error    there was an error

                           $IQ-&gt;SetType("set");

         SetErrorCode(string) - sets the error code of the &lt;iq/&gt;.

                                $IQ-&gt;<a href="../man403/SetErrorCode.403.html">SetErrorCode</a>(403);

         SetError(string) - sets the error string of the &lt;iq/&gt;.

                            $IQ-&gt;SetError("Permission Denied");

         NewChild(string) - creates a new Net::XMPP::Stanza object with the
                            namespace in the string.  In order for this
                            function to work with a custom namespace, you
                            must define and register that namespace with the
                            IQ module.  For more information please read the
                            documentation for Net::XMPP::Stanza.

                            $queryObj = $IQ-&gt;NewChild("jabber:iq:auth");
                            $queryObj = $IQ-&gt;NewChild("jabber:iq:roster");

         Reply(hash) - creates a new IQ object and populates the to/from
                       fields.  If you specify a hash the same as with SetIQ
                       then those values will override the Reply values.

                       $iqReply = $IQ-&gt;Reply();
                       $iqReply = $IQ-&gt;Reply(type=&gt;"result");

   <b>Removal</b> <b>functions</b>
         RemoveTo() - removes the to attribute from the &lt;iq/&gt;.

                      $IQ-&gt;RemoveTo();

         RemoveFrom() - removes the from attribute from the &lt;iq/&gt;.

                        $IQ-&gt;RemoveFrom();

         RemoveID() - removes the id attribute from the &lt;iq/&gt;.

                      $IQ-&gt;RemoveID();

         RemoveType() - removes the type attribute from the &lt;iq/&gt;.

                        $IQ-&gt;RemoveType();

         RemoveError() - removes the &lt;error/&gt; element from the &lt;iq/&gt;.

                         $IQ-&gt;RemoveError();

         RemoveErrorCode() - removes the code attribute from the &lt;error/&gt;
                             element in the &lt;iq/&gt;.

                             $IQ-&gt;RemoveErrorCode();

   <b>Test</b> <b>functions</b>
         DefinedTo() - returns 1 if the to attribute is defined in the &lt;iq/&gt;,
                       0 otherwise.

                       $test = $IQ-&gt;DefinedTo();

         DefinedFrom() - returns 1 if the from attribute is defined in the
                         &lt;iq/&gt;, 0 otherwise.

                         $test = $IQ-&gt;DefinedFrom();

         DefinedID() - returns 1 if the id attribute is defined in the &lt;iq/&gt;,
                       0 otherwise.

                       $test = $IQ-&gt;DefinedID();

         DefinedType() - returns 1 if the type attribute is defined in the
                         &lt;iq/&gt;, 0 otherwise.

                         $test = $IQ-&gt;DefinedType();

         DefinedError() - returns 1 if &lt;error/&gt; is defined in the &lt;iq/&gt;,
                          0 otherwise.

                          $test = $IQ-&gt;DefinedError();

         DefinedErrorCode() - returns 1 if the code attribute is defined in
                              &lt;error/&gt;, 0 otherwise.

                              $test = $IQ-&gt;DefinedErrorCode();

         DefinedQuery() - returns 1 if there is at least one namespaced
                          child in the object.

</pre><h4><b>AUTHOR</b></h4><pre>
       Originally authored by Ryan Eatmon.

       Previously maintained by Eric Hacker.

       Currently maintained by Darian Anthony Patrick.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This module is free software, you can redistribute it and/or modify it under the LGPL 2.1.

perl v5.34.0                                       2022-06-16                                 <u>Net::XMPP::<a href="../man3pm/IQ.3pm.html">IQ</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>