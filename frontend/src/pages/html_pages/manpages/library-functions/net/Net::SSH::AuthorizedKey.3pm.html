<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::SSH::AuthorizedKey - Virtual Base Class for SSH Public Keys</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-ssh-authorizedkeysfile-perl">libnet-ssh-authorizedkeysfile-perl_0.18-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::SSH::AuthorizedKey - Virtual Base Class for SSH Public Keys

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Net::SSH::AuthorizedKey;

             # Either parse a string (without leading whitespace or comments):
           my $key = Net::SSH::AuthorizedKey-&gt;parse( $line );

           if(defined $key) {
                 # ssh-1 or ssh-2
               print "Key parsed, type is ", $key-&gt;type(), "\n";
           } else {
               die "Cannot parse key '$line'";
           }

             # ... or create an object yourself:
           my $pubkey = Net::SSH::AuthorizedKey-&gt;new(
               options  =&gt; { from                  =&gt; '<a href="mailto:foo@bar.com">foo@bar.com</a>',
                             "no-agent-forwarding" =&gt; 1 },
               key      =&gt; "123....890",
               keylen   =&gt; 1024,
               exponent =&gt; 35,
               type     =&gt; "ssh-1",
           );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Net::SSH::AuthorizedKey is a virtual base class for ssh public keys.  Real implementations of it are
       Net::SSH::AuthorizedKey::SSH1 and Net::SSH::AuthorizedKey::SSH2.

       The only way to using it directly is by calling its <b>parse()</b> method, and passing it an authorized_keys
       string (aka a line from an authorized_keys file). If it recognizes either a ssh-1 or a ssh-2 type key, it
       will return a Net::SSH::AuthorizedKey::SSH1 or a Net::SSH::AuthorizedKey::SSH2 object, both of which
       support the accessor methods defined in the FIELDS section below.

       The <b>as_string()</b> method will cobble the (perhaps modified) fields together and return them as a string
       suitable as a line for an authorized_keys file.

   <b>METHODS</b>
       "parse( $line )"
           Reads in a single text line containing a ssh-1 or ssh-2 key.  Returns a Net::SSH::AuthorizedKey::SSH1
           or a Net::SSH::AuthorizedKey::SSH2 object, or "undef" in case of an error.

       "fingerprint()"
           Returns  a MD5 hex hash of the parsed key. The hash is unique for functionally identical keys. Fields
           not contributing to the key's functional uniqueness are ignored.

       "error()"
           Returns the last parsing error encountered as a text string.

       "as_string( )"
           Return the object as a string suitable as a autorized_keys line.

   <b>FIELDS</b>
       All of the following fields are available via accessors:

       "type"
           Type of ssh key, usually "ssh-1" or "ssh-2".

       "key"
           Public key, either a long number (ssh-1) or a line of alphanumeric characters (ssh-2).

       "keylen"
           Length of the key in bit (e.g. 1024).

       "exponent"
           Two-digit number in front of the key in ssh-1 authorized_keys lines.

       "options"
           Returns a reference to a hash with options key/value pairs, listed in front of the key.

   <b>IMPLEMENTATION</b> <b>REFERENCE</b>
       The key parsers implemented in this distribution are implemented similarily as the  authorized_keys  file
       parser in the openssh source distribution.

       Openssh  contains the authorized_keys parser in its auth2_pubkey.c file. The <b>user_key_allowed2()</b> function
       opens the file and reads it line by line, ignoring leading whitespace, empty and comment lines.

       After that, if a line doesn't contain a plain key, the parser skips  ahead  until  the  first  whitespace
       (zooming  through  quoted  areas  "..."  and  interpreting  '\"'  as  an  escaped quote), then skips this
       whitespace and tries to read a key one more time.

       Regarding options,  the  Perl  parser  isn't  as  elaborate  with  semantic  peculiarities  as  openssh's
       <b>auth_parse_options()</b>, but this might be added in the future.

</pre><h4><b>NOTES</b> <b>FOR</b> <b>SUBCLASS</b> <b>DEVELOPERS</b></h4><pre>
       If  you're  just  using Net::SSH::AuthorizedKey to parse keys, the following section doesn't concern you.
       It's only relevant if you add new subclasses to this package, on top of what's already provided.

       Net::SSH::AuthorizedKey is a (semi-)virtual base class that implements options handling for its SSH1  and
       SSH2 subclasses.

       SSH  key  lines  can  contain  options  that carry values (like command="ls") and binary options that are
       either set or unset (like "no_agent_forwarding"). To distinguish the two, and to provide a set of allowed
       option names, the subclass has to implement the method <b>option_type()</b>, which takes  an  option  name,  and
       returns

       •   undef if the option is not supported

       •   "s" if the option is a "string" option that carries a value

       •   1 if the option is a binary option

       The subclasses Net::SSH::AuthorizedKey::SSH1 and Net::SSH::AuthorizedKey::SSH2 are doing this already.

</pre><h4><b>LEGALESE</b></h4><pre>
       Copyright  2005-2009  by  Mike  Schilli,  all  rights  reserved.   This program is free software, you can
       redistribute it and/or modify it under the same terms as Perl itself.

</pre><h4><b>AUTHOR</b></h4><pre>
       2005, Mike Schilli &lt;<a href="mailto:m@perlmeister.com">m@perlmeister.com</a>&gt;

perl v5.36.0                                       2022-10-13                       <u>Net::SSH::<a href="../man3pm/AuthorizedKey.3pm.html">AuthorizedKey</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>