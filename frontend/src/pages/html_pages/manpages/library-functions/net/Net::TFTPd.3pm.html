<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::TFTPd - Perl extension for Trivial File Transfer Protocol Server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-tftpd-perl">libnet-tftpd-perl_0.10-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::TFTPd - Perl extension for Trivial File Transfer Protocol Server

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use strict;
         use Net::TFTPd;

         my $tftpdOBJ = Net::TFTPd-&gt;new('RootDir' =&gt; 'path/to/files')
           or die "Error creating TFTPd listener: %s", Net::TFTPd-&gt;error;

         my $tftpRQ = $tftpdOBJ-&gt;<a href="../man10/waitRQ.10.html">waitRQ</a>(10)
           or die "Error waiting for TFTP request: %s", Net::TFTPd-&gt;error;

         $tftpRQ-&gt;processRQ()
           or die "Error processing TFTP request: %s", Net::TFTPd-&gt;error;

         printf "%u bytes has been transferred", $tftpRQ-&gt;getTotalBytes() || 0;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       "Net::TFTPd" is a class implementing a simple <u>Trivial</u> <u>File</u> <u>Transfer</u> <u>Protocol</u> server in Perl as described
       in RFC1350.

       "Net::TFTPd" also supports the TFTP Option Extension (as described in RFC2347), with the following
       options:

         RFC2348 TFTP Blocksize Option
         RFC2349 TFTP Timeout Interval and Transfer Size Options

</pre><h4><b>EXPORT</b></h4><pre>
       None by default.

   <b>%OPCODES</b>
       The %OPCODES tag exports the <u>%OPCODES</u> hash:

         %OPCODES = (
           1       =&gt; 'RRQ',
           2       =&gt; 'WRQ',
           3       =&gt; 'DATA',
           4       =&gt; 'ACK',
           5       =&gt; 'ERROR',
           6       =&gt; 'OACK',
           'RRQ'   =&gt; 1,
           'WRQ'   =&gt; 2,
           'DATA'  =&gt; 3,
           'ACK'   =&gt; 4,
           'ERROR' =&gt; 5,
           'OACK'  =&gt; 6
         );

</pre><h4><b>Listener</b> <b>constructor</b></h4><pre>
   <b>new()</b>
         $listener = new Net::TFTPd( ['RootDir' =&gt; 'path/to/files' | 'FileName' =&gt; 'path/to/file'] [, OPTIONS ] );

       or

         $listener = Net::TFTPd-&gt;new( ['RootDir' =&gt; 'path/to/files' | 'FileName' =&gt; 'path/to/file'] [, OPTIONS ] );

       Create a new Net::TFTPd object where 'path/to/files' is the default path to file repository or
       'path/to/file' is the single file allowed for download, and OPTIONS are the default server options.

       Valid options are:

         Option     Description                                        Default
         ------     -----------                                        -------
         LocalAddr  Interface to bind to (for multi-homed server)          any
         LocalPort  Port to bind server to                                  69
         Timeout    Timeout in seconds to wait for a request                10
         ACKtimeout Timeout in seconds to wait for an ACK packet             4
         ACKretries Maximum number of retries waiting for ACK                4
         Readable   Clients are allowed to read files                        1
         Writable   Clients are allowed to write files                       0
         BlkSize    Minimum blocksize to negotiate for transfers           512
         CallBack   Reference to code executed for each transferred block    -
         Debug      Activates debug mode (verbose)                           0
         Family     Address family IPv4/IPv6                              IPv4
                      Valid values for IPv4:
                        4, v4, ip4, ipv4, AF_INET (constant)
                      Valid values for IPv6:
                        6, v6, ip6, ipv6, AF_INET6 (constant)
         V6Only     Enable / disable v6only (see IO::Socket::IP)             1

       <b>NOTE</b>:  IPv6 requires <b>IO::Socket::IP</b>.  Failback is <b>IO::Socket::INET</b> and only IPv4 support.

   <b>CallBack</b>
       The CallBack code is called by processRQ method for each tranferred block.

       The code receives (into @_ array) a reference to internal <u>$request</u> object.

       Example:

         sub callback
         {
           my $req = shift;
           printf "block: %u\/%u\n", $req-&gt;{'_REQUEST_'}{'LASTACK'}, $req-&gt;{'_REQUEST_'}{'LASTBLK'};
         }

         my $tftpdOBJ = Net::TFTPd-&gt;new('RootDir' =&gt; 'c:/temp', 'Timeout' =&gt; 60, 'CallBack' =&gt; \&amp;callback) or die Net::TFTPd-&gt;error;

</pre><h4><b>Listener</b> <b>methods</b></h4><pre>
   <b>waitRQ()</b>
         $request = $listener-&gt;waitRQ([Timeout]);

       Waits for a client request (RRQ or WRQ) and returns a <u>$request</u> object or <u>undef</u> if timed out.

       If <u>Timeout</u> is missing, the timeout defined for <u>$listener</u> object is used instead.

       When the method returns, the program should <b>fork()</b> and process the request invoking <b>processRQ()</b> while the
       parent process should re-start waiting for another request.

</pre><h4><b>Request</b> <b>methods</b></h4><pre>
   <b>processRQ()</b>
         $ret = $request-&gt;processRQ();

       Processes a request and returns 1 if success, undef if error.

   <b>getFileName()</b>
         $ret = $request-&gt;getFileName();

       Returns the requested file name.

   <b>getMode()</b>
         $ret = $request-&gt;getMode();

       Returns the transfer mode for the request.

   <b>getBlkSize()</b>
         $ret = $request-&gt;getBlkSize();

       Returns the block size used for the transfer.

   <b>server()</b>
         $ret = $request-&gt;server();

       Return <b>IO::Socket::*</b> object for the created server.  All <b>IO::Socket::*</b> accessors can then be called.

   <b>getPeerAddr()</b>
         $ret = $request-&gt;getPeerAddr();

       Returns the address of the requesting client.

   <b>getPeerPort()</b>
         $ret = $request-&gt;getPeerMode();

       Returns the port of the requesting client.

   <b>getTotalBytes()</b>
         $ret = $request-&gt;getTotalBytes();

       Returns the number of bytes transferred for the request.

</pre><h4><b>CREDITS</b></h4><pre>
       Thanks to Michael Vincent (&lt;VINSWORLD&gt;) for the NETASCII support, transferred bytes and IPv6 patches.

</pre><h4><b>AUTHOR</b></h4><pre>
       Luigino Masarati, &lt;<a href="mailto:lmasarati@hotmail.com">lmasarati@hotmail.com</a>&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Net::TFTP.

perl v5.36.0                                       2022-10-13                                    <u>Net::<a href="../man3pm/TFTPd.3pm.html">TFTPd</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>