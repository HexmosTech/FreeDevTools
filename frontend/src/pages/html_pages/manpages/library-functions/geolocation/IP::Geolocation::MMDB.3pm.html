<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP::Geolocation::MMDB - Read MaxMind DB files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libip-geolocation-mmdb-perl">libip-geolocation-mmdb-perl_1.013-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       IP::Geolocation::MMDB - Read MaxMind DB files

</pre><h4><b>VERSION</b></h4><pre>
       version 1.013

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use IP::Geolocation::MMDB;
         my $db = IP::Geolocation::MMDB-&gt;new(file =&gt; '/path/to/Country.mmdb');
         my $metadata = $db-&gt;metadata;
         my $data = $db-&gt;get('1.2.3.4');
         my $country_code = $db-&gt;getcc('2620:fe::9');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A Perl module that reads MaxMind DB files and maps IP addresses to location information such as country
       and city names.

</pre><h4><b>SUBROUTINES/METHODS</b></h4><pre>
   <b>new</b>
         my $db = IP::Geolocation::MMDB-&gt;new(file =&gt; '/path/to/Country.mmdb');

       Returns a new database object.  Dies if the specified file cannot be read.

   <b>get</b>
         my $data = $db-&gt;get($ip_address);
         my ($data, $prefix_length) = $db-&gt;get($ip_address);

       Takes an IPv4 or IPv6 address as a string and returns the data associated with the IP address or the
       undefined value.  In list context, the data and the network prefix length associated with the IP address
       are returned.  Dies if the address is not a valid IP address.

       The returned data is usually a hash reference but could also be a an array reference or a scalar for
       custom databases.  Here's an example from an IP to city database:

         {
           city =&gt; {
             geoname_id =&gt; 2950159,
             names      =&gt; {
               en =&gt; "Berlin"
             }
           },
           country =&gt; {
             geoname_id =&gt; 2921044,
             iso_code   =&gt; "DE",
             names      =&gt; {
               en =&gt; "Germany",
               fr =&gt; "Allemagne"
             }
           },
           location =&gt; {
             latitude  =&gt; 52.524,
             longitude =&gt; 13.411
           }
         }

   <b>getcc</b>
         my $country_code = $db-&gt;getcc($ip_address);

       Takes an IPv4 or IPv6 address as a string and returns a two-letter country code or the undefined value.
       Dies if the address is not a valid IP address.

   <b>record_for_address</b>
         my $data = $db-&gt;record_for_address($ip_address);

       An alias for "get" that always returns a scalar.

   <b>iterate_search_tree</b>
         sub data_callback {
           my ($numeric_ip, $prefix_length, $data) = @_;
         }

         sub node_callback {
           my ($node_number, $left_node_number, $right_node_number) = @_;
         }

         $db-&gt;iterate_search_tree(\&amp;data_callback, \&amp;node_callback);

       Iterates over the entire search tree.  Calls the provided callbacks for each data record and node in the
       tree.  Both callbacks are optional.

       The data callback is called with a numeric IP address as a Math::BigInt object, a network prefix length
       and the data associated with the network.

       The node callback is called with the node's number in the tree and the children's node numbers.

   <b>metadata</b>
         my $metadata = $db-&gt;metadata;

       Returns an IP::Geolocation::MMDB::Metadata object for the database.

   <b>file</b>
         my $file = $db-&gt;file;

       Returns the file path passed to the constructor.

   <b>libmaxminddb_version</b>
         my $version = IP::Geolocation::MMDB::libmaxminddb_version;

       Returns the libmaxminddb version.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       <b>The</b> <b>"file"</b> <b>parameter</b> <b>is</b> <b>mandatory</b>
           The constructor was called without a database filename.

       <b>Error</b> <b>opening</b> <b>database</b> <b>file</b>
           The database file could not be read.

       <b>The</b> <b>IP</b> <b>address</b> <b>you</b> <b>provided</b> <b>is</b> <b>not</b> <b>a</b> <b>valid</b> <b>IPv4</b> <b>or</b> <b>IPv6</b> <b>address</b>
           A parameter did not contain a valid IP address.

       <b>Error</b> <b>looking</b> <b>up</b> <b>IP</b> <b>address</b>
           A database error occurred while looking up an IP address.

       <b>Entry</b> <b>data</b> <b>error</b> <b>looking</b> <b>up</b>
           A database error occurred while reading the data associated with an IP address.

       <b>Error</b> <b>getting</b> <b>metadata</b>
           An error occurred while reading the database's metadata.

       <b>Invalid</b> <b>record</b> <b>when</b> <b>reading</b> <b>node</b>
           Either an invalid node was looked up or the database is corrupt.

       <b>Unknown</b> <b>record</b> <b>type</b>
           An unknown record type was found in the database.

       <b>Invalid</b> <b>depth</b> <b>when</b> <b>reading</b> <b>node</b>
           An error occurred while traversing the search tree.

</pre><h4><b>CONFIGURATION</b> <b>AND</b> <b>ENVIRONMENT</b></h4><pre>
       None.

</pre><h4><b>DEPENDENCIES</b></h4><pre>
       Requires  Math::BigInt  version  1.999806,  which  is  distributed  with  Perl  5.26 and newer.  Requires
       libmaxminddb 1.2.0 or newer.

       Requires a database in the MaxMind DB file format from MaxMind  &lt;https://www.maxmind.com/&gt;  or  DP-IP.com
       &lt;https://db-ip.com/&gt;.

       Alien::libmaxminddb  from  CPAN is a build dependency.  The built module does only depend on modules that
       are distributed with Perl.

       Install "pkg-config" and "libmaxminddb-devel" or  "libmaxminddb-dev"  if  you  would  like  to  use  your
       operating system's libmaxminddb library.

</pre><h4><b>INCOMPATIBILITIES</b></h4><pre>
       None.

</pre><h4><b>BUGS</b> <b>AND</b> <b>LIMITATIONS</b></h4><pre>
       If  your  Perl  interpreter  does  not support 64-bit integers, MMDB_DATA_TYPE_UINT64 values are put into
       Math::BigInt objects.

       MMDB_DATA_TYPE_UINT128 values are put into Math::BigInt objects.

       IP::Geolocation::MMDB can replace MaxMind::DB::Reader in many cases with the following differences:

       •   The classes aren't Moo classes.

       •   There is no replacement for MaxMind::DB::Reader::Decoder.

       Create the file <u>MaxMind/DB/Reader.pm</u> in your @INC path if you want  to  try  IP::Geolocation::MMDB  as  a
       replacement for MaxMind::DB::Reader:

         use IP::Geolocation::MMDB;
         @MaxMind::DB::Reader::ISA = qw(IP::Geolocation::MMDB);
         1;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       See Geo::Location::IP for object-oriented wrapper classes.

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
       Thanks to all who have contributed patches and reported bugs:

       •   Yujuan Jiang

</pre><h4><b>AUTHOR</b></h4><pre>
       Andreas Vögele &lt;<a href="mailto:voegelas@cpan.org">voegelas@cpan.org</a>&gt;

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2025 Andreas Vögele

       This  module  is  free  software;  you  can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.40.1                                       2025-03-20                         <u>IP::Geolocation::<a href="../man3pm/MMDB.3pm.html">MMDB</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>