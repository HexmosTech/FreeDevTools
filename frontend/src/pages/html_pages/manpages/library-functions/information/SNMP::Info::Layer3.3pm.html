<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SNMP::Info::Layer3 - SNMP Interface to network devices serving Layer3 or Layers 2 & 3</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsnmp-info-perl">libsnmp-info-perl_3.972002-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SNMP::Info::Layer3 - SNMP Interface to network devices serving Layer3 or Layers 2 &amp; 3

</pre><h4><b>AUTHOR</b></h4><pre>
       Max Baker

</pre><h4><b>SYNOPSIS</b></h4><pre>
        # Let SNMP::Info determine the correct subclass for you.
        my $l3 = new SNMP::Info(
                                 AutoSpecify =&gt; 1,
                                 Debug       =&gt; 1,
                                 DestHost    =&gt; 'myswitch',
                                 Community   =&gt; 'public',
                                 Version     =&gt; 2
                               )
           or die "Can't connect to DestHost.\n";

        my $class = $l3-&gt;class();
        print "SNMP::Info determined this device to fall under subclass : $class\n";

        # Let's get some basic Port information
        my $interfaces = $l3-&gt;interfaces();
        my $i_up       = $l3-&gt;i_up();
        my $i_speed    = $l3-&gt;i_speed();
        foreach my $iid (keys %$interfaces) {
           my $port  = $interfaces-&gt;{$iid};
           my $up    = $i_up-&gt;{$iid};
           my $speed = $i_speed-&gt;{$iid}
           print "Port $port is $up. Port runs at $speed.\n";
        }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class is usually used as a superclass for more specific device classes listed under
       SNMP::Info::Layer3::*   Please read all docs under SNMP::Info first.

       Provides generic methods for accessing SNMP data for Layer 3 network devices.  Includes support for
       Layer2+3 devices.

       For speed or debugging purposes you can call the subclass directly, but not after determining a more
       specific class using the method above.

        my $l3 = new SNMP::Info::Layer3(...);

   <b>Inherited</b> <b>Classes</b>
       SNMP::Info
       SNMP::Info::Bridge (For L2/L3 devices)
       SNMP::Info::EtherLike
       SNMP::Info::Entity
       SNMP::Info::PowerEthernet
       SNMP::Info::IPv6
       SNMP::Info::LLDP
       SNMP::Info::DocsisHE
       SNMP::Info::AdslLine

   <b>Required</b> <b>MIBs</b>
       <u>IP-MIB</u>
       <u>ISIS-MIB</u>
       <u>OSPF-MIB</u>
       <u>BGP4-MIB</u>

   <b>Inherited</b> <b>MIBs</b>
       See "REQUIREMENTS" in SNMP::Info for its MIB requirements.

       See "Required MIBs" in SNMP::Info::Bridge for its MIB requirements.

       See "Required MIBs" in SNMP::Info::EtherLike for its MIB requirements.

       See "Required MIBs" in SNMP::Info::Entity for its MIB requirements.

       See "Required MIBs" in SNMP::Info::PowerEthernet for its MIB requirements.

       See "Required MIBs" in SNMP::Info::IPv6 for its MIB requirements.

       See "Required MIBs" in SNMP::Info::LLDP for its MIB requirements.

       See "Required MIBs" in SNMP::Info::DocsisHE for its MIB requirements.

       See "Required MIBs" in SNMP::Info::AdslLine for its MIB requirements.

</pre><h4><b>GLOBALS</b></h4><pre>
       These are methods that return scalar value from SNMP

       $l3-&gt;<b>mac()</b>
           Returns root port mac address

           ("ifPhysAddress.1")

       $l3-&gt;<b>router_ip()</b>
           ("ospfRouterId.0")

       $l3-&gt;<b>bgp_id()</b>
           ("bgpIdentifier.0")

           Returns the BGP identifier of the local system

       $l3-&gt;<b>bgp_local_as()</b>
           Returns the local autonomous system number

           ("bgpLocalAs.0")

   <b>Overrides</b>
       $l3-&gt;<b>model()</b>
           Tries to reference $l3-&gt;<b>id()</b> to one of the product MIBs listed above

           Removes 'cisco'  from cisco devices for readability.

       $l3-&gt;<b>serial()</b>
           Returns a serial number if found from <u>ENTITY-MIB</u> and <u>OLD-CISCO-</u>... MIB.

       $l3-&gt;<b>vendor()</b>
           Tries to cull a Vendor name from "sysDescr"

       $l3-&gt;<b>root_ip()</b>
           Returns the primary IP used to communicate with the device.  Returns the first found:  OSPF Router ID
           ("ospfRouterId") or any OSPF Host IP Address ("ospfHostIpAddress").

   <b>Globals</b> <b>imported</b> <b>from</b> <b>SNMP::Info</b>
       See "USAGE" in SNMP::Info for details.

   <b>Global</b> <b>Methods</b> <b>imported</b> <b>from</b> <b>SNMP::Info::Bridge</b>
       See "GLOBALS" in SNMP::Info::Bridge for details.

   <b>Global</b> <b>Methods</b> <b>imported</b> <b>from</b> <b>SNMP::Info::EtherLike</b>
       See "GLOBALS" in SNMP::Info::EtherLike for details.

   <b>Global</b> <b>Methods</b> <b>imported</b> <b>from</b> <b>SNMP::Info::Entity</b>
       See "GLOBALS" in SNMP::Info::Entity for details.

   <b>Global</b> <b>Methods</b> <b>imported</b> <b>from</b> <b>SNMP::Info:PowerEthernet</b>
       See "GLOBALS" in SNMP::Info::PowerEthernet for details.

   <b>Global</b> <b>Methods</b> <b>imported</b> <b>from</b> <b>SNMP::Info::IPv6</b>
       See "GLOBALS" in SNMP::Info::IPv6 for details.

   <b>Global</b> <b>Methods</b> <b>imported</b> <b>from</b> <b>SNMP::Info::LLDP</b>
       See "GLOBALS" in SNMP::Info::LLDP for details.

   <b>Global</b> <b>Methods</b> <b>imported</b> <b>from</b> <b>SNMP::Info::DocsisHE</b>
       See "GLOBALS" in SNMP::Info::DocsisHE for details.

   <b>Global</b> <b>Methods</b> <b>imported</b> <b>from</b> <b>SNMP::Info::AdslLine</b>
       See "GLOBALS" in SNMP::Info::AdslLine for details.

</pre><h4><b>TABLE</b> <b>METHODS</b></h4><pre>
       These are methods that return tables of information in the form of a reference to a hash.

   <b>Overrides</b>
       $l3-&gt;<b>interfaces()</b>
           Returns the map between SNMP Interface Identifier (iid) and physical port name.

           Only returns those iids that have a description listed in $l3-&gt;<b>i_description()</b>

       $l3-&gt;<b>i_subinterfaces()</b>
           Returns  reference to hash of arrays: key = "ifIndex", value = array of "ifIndex". These are the VLAN
           subinterfaces ("l2vlan" type) for the parent ("ethernetCsmacd" type) interface.

             Example:
             my $interfaces = $l3-&gt;interfaces();
             my $i_subs     = $l3-&gt;i_subinterfaces();

             foreach my $iid (sort keys %$interfaces) {
               my $port = $interfaces-&gt;{$iid};
               my $subs = join(',', sort(map {$interfaces-&gt;{$_}} @{$i_subs-&gt;{$iid}}));
               print "Port: $port has subinterfaces: $subs\n";
             }

       $l3-&gt;<b>i_name()</b>
           Returns reference to hash of iid to human set name.

           Defaults to "ifName", but checks for an "ifAlias"

       $l3-&gt;<b>i_duplex()</b>
           Returns reference to hash of iid to current link duplex setting.

           Maps $l3-&gt;<b>el_index()</b> to $l3-&gt;el_duplex, then culls out full,half, or auto and sets the  map  to  that
           value.

           See SNMP::Info::EtherLike for the <b>el_index()</b> and <b>el_duplex()</b> methods.

   <u><b>IP-MIB</b></u> <b>Arp</b> <b>Cache</b> <b>Table</b> <b>("ipNetToMediaTable")</b>
       $l3-&gt;<b>at_index()</b>
           Returns reference to hash.  Maps ARP table entries to Interface IIDs

           ("ipNetToMediaIfIndex")

           If the device doesn't support "ipNetToMediaIfIndex", this will try the deprecated "atIfIndex".

       $l3-&gt;<b>at_paddr()</b>
           Returns reference to hash.  Maps ARP table entries to MAC addresses.

           ("ipNetToMediaPhysAddress")

           If   the   device   doesn't   support   "ipNetToMediaPhysAddress",   this  will  try  the  deprecated
           "atPhysAddress".

       $l3-&gt;<b>at_netaddr()</b>
           Returns reference to hash.  Maps ARP table entries to IP addresses.

           ("ipNetToMediaNetAddress")

           If the device doesn't support "ipNetToMediaNetAddress", this will try the deprecated "atNetAddress".

   <b>ARP</b> <b>Cache</b> <b>Entries</b>
       The "atTable" has been deprecated since  1991.   You  should  never  need  to  use  these  methods.   See
       "ipNetToMediaTable" above.

       $l3-&gt;<b>old_at_index()</b>
           Returns reference to map of IID to Arp Cache Entry

           ("atIfIndex")

       $l3-&gt;<b>old_at_paddr()</b>
           Returns reference to hash of Arp Cache Entries to MAC address

           ("atPhysAddress")

       $l3-&gt;<b>old_at_netaddr()</b>
           Returns reference to hash of Arp Cache Entries to IP Address

           ("atNetAddress")

   <b>BGP</b> <b>Peer</b> <b>Table</b> <b>("bgpPeerTable")</b>
       $l3-&gt;<b>bgp_peers()</b>
           Returns reference to hash of BGP peer to local IP address

           ("bgpPeerLocalAddr")

       $l3-&gt;<b>bgp_peer_id()</b>
           Returns reference to hash of BGP peer to BGP peer identifier

           ("bgpPeerIdentifier")

       $l3-&gt;<b>bgp_peer_state()</b>
           Returns reference to hash of BGP peer to BGP peer state

           ("bgpPeerState")

       $l3-&gt;<b>bgp_peer_as()</b>
           Returns reference to hash of BGP peer to BGP peer autonomous system number

           ("bgpPeerRemoteAs")

       $l3-&gt;<b>bgp_peer_addr()</b>
           Returns reference to hash of BGP peer to BGP peer IP address

           ("bgpPeerRemoteAddr")

       $l3-&gt;<b>bgp_peer_fsm_est_trans()</b>
           Returns  reference to hash of BGP peer to the total number of times the BGP FSM transitioned into the
           established state

           ("bgpPeerFsmEstablishedTransitions")

       $l3-&gt;<b>bgp_peer_in_tot_msgs()</b>
           Returns reference to hash of BGP peer to the total number of messages received from the  remote  peer
           on this connection

           ("bgpPeerInTotalMessages")

       $l3-&gt;<b>bgp_peer_in_upd_el_time()</b>
           Returns  reference  to  hash  of  BGP  peer  to the elapsed time in seconds since the last BGP UPDATE
           message was received from the peer.

           ("bgpPeerInUpdateElapsedTime")

       $l3-&gt;<b>bgp_peer_in_upd()</b>
           Returns reference to hash of BGP peer  to  the  number  of  BGP  UPDATE  messages  received  on  this
           connection

           ("bgpPeerInUpdates")

       $l3-&gt;<b>bgp_peer_out_tot_msgs()</b>
           Returns  reference to hash of BGP peer to the total number of messages transmitted to the remote peer
           on this connection

           ("bgpPeerOutTotalMessages")

       $l3-&gt;<b>bgp_peer_out_upd()</b>
           Returns reference to hash of BGP peer to the number  of  BGP  UPDATE  messages  transmitted  on  this
           connection

           ("bgpPeerOutUpdates")

   <b>OSPF</b> <b>Interface</b> <b>Table</b> <b>("ospfIfTable")</b>
       $l3-&gt;<b>ospf_if_ip()</b>
           Returns reference to hash of OSPF interface IP addresses

           ("ospfIfIpAddress")

       $l3-&gt;<b>ospf_if_area()</b>
           Returns reference to hash of the OSPF area to which the interfaces connect

           ("ospfIfAreaId")

       $l3-&gt;<b>ospf_if_type()</b>
           Returns reference to hash of the OSPF interfaces' type

           ("ospfIfType")

       $l3-&gt;<b>ospf_if_hello()</b>
           Returns reference to hash of the OSPF interfaces' hello interval

           ("ospfIfHelloInterval")

       $l3-&gt;<b>ospf_if_dead()</b>
           Returns reference to hash of the OSPF interfaces' dead interval

           ("ospfIfRtrDeadInterval")

       $l3-&gt;<b>ospf_if_admin()</b>
           Returns reference to hash of the OSPF interfaces' administrative status

           ("ospfIfAdminStat")

       $l3-&gt;<b>ospf_if_state()</b>
           Returns reference to hash of the OSPF interfaces' state

           ("ospfIfState")

   <b>OSPF</b> <b>Neighbor</b> <b>Table</b> <b>("ospfNbrTable")</b>
       $l3-&gt;<b>ospf_peers()</b>
           Returns reference to hash of IP addresses the neighbor is using in its IP Source Addresses

           ("ospfNbrIpAddr")

       $l3-&gt;<b>ospf_peer_id()</b>
           Returns reference to hash of neighbor Router IDs

           ("ospfNbrRtrId")

       $l3-&gt;<b>ospf_peer_state()</b>
           Returns reference to hash of state of the relationship with the neighbor routers

           ("ospfNbrState")

   <b>IS-IS</b> <b>Circuit</b> <b>Table</b>
       $l3-&gt;<b>isis_circ_if_idx()</b>
           Returns   reference   to   hash   of   the   interface   index  associated  with  the  IS-IS  circuit
           ("isisCircIfIndex")

       $l3-&gt;<b>isis_circ_admin()</b>
           Returns reference to hash of the IS-IS circuit's admin status

           ("isisCircAdminState")

       $l3-&gt;<b>isis_circ_type()</b>
           Returns reference to hash of the IS-IS circuit's type

           ("isisCircType")

       $l3-&gt;<b>isis_circ_level_type()</b>
           Returns reference to hash of the IS-IS circuit's level

           ("isisCircLevelType")

   <b>IS-IS</b> <b>Adjacency</b> <b>Table</b>
       $l3-&gt;<b>isis_adj_id()</b>
           Returns reference to hash of the peer id of adjacencies.

           ("isisISAdjNeighSysID")

       $l3-&gt;<b>isis_adj_type()</b>
           Returns reference to hash  of  the  type  of  adjacencies  (Level  1  Intermediate  System,  Level  2
           Intermediate System, Level 1+2 Intermediate System, unknown)

           ("isisISAdjNeighSysType")

       $l3-&gt;<b>isis_adj_usage()</b>
           Returns reference to hash of the type of adjacencies in use (undefined, Level 1, Level 2, Level1+2)

           ("isisISAdjNeighUsage")

       $l3-&gt;<b>isis_adj_ip_type()</b>
           Returns reference to hash of type of address (IPv4, IPv6, etc) on adjacencies.

           ("isisISAdjIPAddrType")

       $l3-&gt;<b>isis_adj()</b>
           Returns  reference  to  hash  of addresses (IPv4, IPv6, etc) on adjacencies.  Note this returns hash-
           strings, for IPs, use $l3-&gt;<b>isis_peers()</b>

           ("isisISAdjIPAddrAddress")

       $l3-&gt;<b>isis_peers()</b>
           Returns reference to hash of addresses (IPv4,  IPv6)  on  adjacencies.   Convert  hash  strings  from
           isis_adj to proper IP (v4 and v6) formatting.

   <b>Table</b> <b>Methods</b> <b>imported</b> <b>from</b> <b>SNMP::Info</b>
       See "USAGE" in SNMP::Info for details.

   <b>Table</b> <b>Methods</b> <b>imported</b> <b>from</b> <b>SNMP::Info::Bridge</b>
       See "TABLE METHODS" in SNMP::Info::Bridge for details.

   <b>Table</b> <b>Methods</b> <b>imported</b> <b>from</b> <b>SNMP::Info::EtherLike</b>
       See "TABLE METHODS" in SNMP::Info::EtherLike for details.

   <b>Table</b> <b>Methods</b> <b>imported</b> <b>from</b> <b>SNMP::Info::Entity</b>
       See "TABLE METHODS" in SNMP::Info::Entity for details.

   <b>Table</b> <b>Methods</b> <b>imported</b> <b>from</b> <b>SNMP::Info::PowerEthernet</b>
       See "TABLE METHODS" in SNMP::Info::PowerEthernet for details.

   <b>Table</b> <b>Methods</b> <b>imported</b> <b>from</b> <b>SNMP::Info::IPv6</b>
       See "TABLE METHODS" in SNMP::Info::IPv6 for details.

   <b>Table</b> <b>Methods</b> <b>imported</b> <b>from</b> <b>SNMP::Info::LLDP</b>
       See "TABLE METHODS" in SNMP::Info::LLDP for details.

   <b>Table</b> <b>Methods</b> <b>imported</b> <b>from</b> <b>SNMP::Info::DocsisHE</b>
       See "TABLE METHODS" in SNMP::Info::DocsisHE for details.

   <b>Table</b> <b>Methods</b> <b>imported</b> <b>from</b> <b>SNMP::Info::AdslLine</b>
       See "TABLE METHODS" in SNMP::Info::AdslLine for details.

perl v5.40.0                                       2024-11-09                            <u>SNMP::Info::<a href="../man3pm/Layer3.3pm.html">Layer3</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>