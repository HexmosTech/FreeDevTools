<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SNMP::Info::SONMP - SNMP Interface to SynOptics Network Management Protocol (SONMP)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsnmp-info-perl">libsnmp-info-perl_3.972002-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SNMP::Info::SONMP - SNMP Interface to SynOptics Network Management Protocol (SONMP)

</pre><h4><b>AUTHOR</b></h4><pre>
       Eric Miller

</pre><h4><b>SYNOPSIS</b></h4><pre>
        my $sonmp = new SNMP::Info (
                                    AutoSpecify =&gt; 1,
                                    Debug       =&gt; 1,
                                    DestHost    =&gt; 'router',
                                    Community   =&gt; 'public',
                                    Version     =&gt; 2
                                  );

        my $class = $sonmp-&gt;class();
        print " Using device sub class : $class\n";

        $hassonmp   = $sonmp-&gt;hasSONMP() ? 'yes' : 'no';

        # Print out a map of device ports with SONMP neighbors:
        my $interfaces     = $sonmp-&gt;interfaces();
        my $sonmp_if       = $sonmp-&gt;sonmp_if();
        my $sonmp_ip       = $sonmp-&gt;sonmp_ip();
        my $sonmp_port     = $sonmp-&gt;sonmp_port();

        foreach my $sonmp_key (keys %$sonmp_ip){
           my $iid           = $sonmp_if-&gt;{$sonmp_key};
           my $port          = $interfaces-&gt;{$iid};
           my $neighbor      = $sonmp_ip-&gt;{$sonmp_key};
           my $neighbor_port = $sonmp_port-&gt;{$sonmp_key};
           print "Port : $port connected to $neighbor / $neighbor_port\n";
        }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       SNMP::Info::SONMP is a subclass of SNMP::Info that provides an object oriented interface to the SynOptics
       Network Management Protocol (SONMP) information through SNMP.

       SONMP is a Layer 2 protocol that supplies topology information of devices that also speak SONMP, mostly
       switches and hubs.  SONMP is implemented in SynOptics, Bay, Nortel, and Avaya devices.  SONMP has been
       rebranded by Bay then Nortel and may be referred to by several different names, including Nortel
       Discovery Protocol (NDP).

       Create or use a device subclass that inherits this class.  Do not use directly.

       Each device implements a subset of the global and cache entries.  Check the return value to see if that
       data is held by the device.

   <b>Inherited</b> <b>Classes</b>
       None.

   <b>Required</b> <b>MIBs</b>
       <u>SYNOPTICS-ROOT-MIB</u>
       <u>S5-ETH-MULTISEG-TOPOLOGY-MIB</u>

</pre><h4><b>GLOBALS</b></h4><pre>
       These are methods that return scalar values from SNMP

       $sonmp-&gt;<b>index_factor()</b>
           Returns  a number representing the number of ports reserved per slot or switch within the device MIB.
           Defaults to 32.

       $sonmp-&gt;<b>slot_offset()</b>
           Returns the offset if slot numbering does not start at 0.  Defaults to 1.

       $sonmp-&gt;<b>port_offset()</b>
           Returns the offset if port numbering does not start at 0.  Defaults to 0.

       $sonmp-&gt;<b>hasSONMP()</b>
           Is SONMP is active in this device?

       $sonmp-&gt;<b>sonmp_gid()</b>
           Returns the IP that the device is sending out for its Nmm topology info.

           ("s5EnMsTopIpAddr")

       $sonmp-&gt;<b>sonmp_run()</b>
           Returns true if SONMP is on for this device.

           ("s5EnMsTopStatus")

       $sonmp-&gt;<b>mac()</b>
           Returns MAC of the advertised IP address of this device.

</pre><h4><b>TABLE</b> <b>METHODS</b></h4><pre>
       These are methods that return tables of information in the form of a reference to a hash.

   <b>Layer2</b> <b>Topology</b> <b>info</b> <b>("s5EnMsTopNmmTable")</b>
       $sonmp-&gt;<b>sonmp_topo_slot()</b>
           Returns reference to hash.  Key: Table entry, Value:slot number

           ("s5EnMsTopNmmSlot")

       $sonmp-&gt;<b>sonmp_topo_port()</b>
           Returns reference to hash.  Key: Table entry, Value:Port Number (interface iid)

           ("s5EnMsTopNmmPort")

       $sonmp-&gt;<b>sonmp_topo_ip()</b>
           Returns reference to hash.  Key: Table entry, Value:Remote IP address of entry

           ("s5EnMsTopNmmIpAddr")

       $sonmp-&gt;<b>sonmp_topo_seg()</b>
           Returns reference to hash.  Key: Table entry, Value:Remote Segment ID

           ("s5EnMsTopNmmSegId")

       $sonmp-&gt;<b>sonmp_topo_mac()</b>
           ("s5EnMsTopNmmMacAddr")

           Returns reference to hash.  Key: Table entry, Value:Remote MAC address

       $sonmp-&gt;sonmp_topo_platform
           Returns reference to hash.  Key: Table entry, Value:Remote Device Type

           ("s5EnMsTopNmmChassisType")

       $sonmp-&gt;sonmp_topo_localseg
           Returns reference to hash.  Key: Table entry, Value: Boolean, if <b>bay_topo_seg()</b> is local.

           ("s5EnMsTopNmmLocalSeg")

   <b>Layer2</b> <b>Topology</b> <b>info</b> <b>("s5EnMsTopNmmEnhancedTable")</b>
       $sonmp-&gt;<b>sonmp_topo_e_mac()</b>
           ("s5EnMsTopNmmEnhancedMacAddr")

           Returns reference to hash.  Key: Table entry, Value:Remote MAC address

       $sonmp-&gt;sonmp_topo_e_platform
           Returns reference to hash.  Key: Table entry, Value:Remote Device Type

           ("s5EnMsTopNmmEnhancedChassisType")

   <b>Common</b> <b>topology</b> <b>information</b>
       All entries with port=0 are local and ignored.

       $sonmp-&gt;<b>sonmp_if()</b>
           Returns reference to hash.  Key: IID, Value: Local port (interfaces)

       $sonmp-&gt;<b>sonmp_ip()</b>
           Returns reference to hash.  Key: IID, Value: Remote IP address

           If multiple entries exist with the same  local  port,  <b>sonmp_if()</b>,  with  different  IPv4  addresses,
           <b>sonmp_ip()</b>,  there  is  either  a non SONMP device in between two or more devices or multiple devices
           which are not directly connected.

           Use the data from the Layer2 Topology Table below to dig deeper.

       $sonmp-&gt;<b>sonmp_port()</b>
           Returns reference to hash. Key: IID, Value: Remote port (interfaces)

       $sonmp-&gt;<b>sonmp_platform()</b>
           Returns reference to hash. Key: IID, Value: Remote device type

perl v5.40.0                                       2024-11-09                             <u>SNMP::Info::<a href="../man3pm/SONMP.3pm.html">SONMP</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>