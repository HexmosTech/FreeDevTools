<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>grib2_int.h - Header file with internal function prototypes NCEPLIBS-g2c library.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libg2c-dev">libg2c-dev_2.1.0-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       grib2_int.h - Header file with internal function prototypes NCEPLIBS-g2c library.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/assert.h">assert.h</a>&gt;
       #include &lt;<a href="file:/usr/include/ctype.h">ctype.h</a>&gt;
       #include &lt;<a href="file:/usr/include/stdint.h">stdint.h</a>&gt;
       #include &lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;
       #include &lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;
       #include &lt;<a href="file:/usr/include/errno.h">errno.h</a>&gt;
       #include &lt;<a href="file:/usr/include/arpa/inet.h">arpa/inet.h</a>&gt;
       #include 'grib2.h'

   <b>Data</b> <b>Structures</b>
       struct <b>g2c_code_table</b>
           A GRIB2 code table.
       struct <b>g2c_dim_info</b>
           Keep information about dimensions defined in section 3.
       struct <b>g2c_entry</b>
           An entry in a GRIB2 code table.
       struct <b>g2c_file_info</b>
           This is the information about each open file.
       struct <b>g2c_message_info</b>
           This is the information about each message.
       struct <b>g2c_param</b>
           An entry in the table of NOAA abbreviations for GRIB parameters.
       struct <b>g2c_section3_info</b>
           Information about Section 3 GRID DEFINITION SECTION.
       struct <b>g2c_section4_info</b>
           Information about Section 4 PRODUCT DEFINITION SECTION.
       struct <b>g2c_section5_info</b>
           Information about Section 5 DATA REPRESENTATION SECTION.
       struct <b>g2c_section6_info</b>
           Information about Section 6 BIT-MAP SECTION.
       struct <b>g2c_section_info</b>
           Information about a section 3 through 7 in a GRIB2 message.
       struct <b>gtemplate</b>
           Struct for GRIB template, returned by <b>getgridtemplate()</b>.

   <b>Macros</b>
       #define <b>ALOG2</b>   (0.69314718)
           ln(2.0)
       #define <b>BYTE</b>   8
           Number of bits in a byte.
       #define <b>EIGHT_BYTES</b>   8
           Eight bytes.
       #define <b><a href="../manm/EXTERN_MUTEX.m.html">EXTERN_MUTEX</a></b>(m)
           Pthreads not enabled, so do nothing.
       #define <b>FOUR_BYTES</b>   4
           Four bytes.
       #define <b>G2C_FILE_READ</b>   0
           Read.
       #define <b>G2C_FILE_WRITE</b>   1
           Write.
       #define <b>G2C_INDEX1_BDS_VAL_LEN</b>   10
           Length of the binary data section (bds) in index file.
       #define <b>G2C_INDEX1_BMS_VAL_LEN</b>   5
           Length of the bitmap section (bms) in index file.
       #define <b>G2C_INDEX1_GDS_VAL2_LEN</b>   27
           Length of the gds in index file.
       #define <b>G2C_INDEX1_GDS_VAL_LEN</b>   41
           Length of the grid definition section (gds) in index file.
       #define <b>G2C_INDEX1_PDS_VAL2_LEN</b>   27
           Length of the pds 2 section in the index file.
       #define <b>G2C_INDEX1_PDS_VAL3_LEN</b>   27
           Length of the pds 3 section in the index file.
       #define <b>G2C_INDEX1_PDS_VAL_LEN</b>   27
           Length of the product definition section (pds) in index file.
       #define <b>G2C_JASPER_JPEG_FORMAT_NAME</b>   'jpc'
           Name of JPEG codec in Jasper.
       #define <b>G2C_MAGIC_HEADER</b>   'GRIB'
           GRIB magic header string.
       #define <b>G2C_MAGIC_HEADER_LEN</b>   8
           Full length of magic header string (includes GRIB version byte).
       #define <b>G2C_MAX_MESSAGES</b>   1024
           Maximum number of messages in a file.
       #define <b>G2C_MIN_MAX_BYTES</b>   16
           Minimum acceptable value for max_bytes parameter of <b>g2c_get_msg()</b>.
       #define <b>hton64</b>(y)   (((uint64_t)htonl(y)) &lt;&lt; <b>WORD</b> | htonl(y &gt;&gt; <b>WORD</b>))
           Byte swap 64-bit ints.
       #define <b>LATITUDE</b>   'Latitude'
           Latitude.
       #define <b>LOG</b>(e)
           Ignore logging to stdout.
       #define <b>LONGITUDE</b>   'Longitude'
           Longitude.
       #define <b><a href="../manm/MUTEX.m.html">MUTEX</a></b>(m)
           Pthreads not enabled, so do nothing.
       #define <b><a href="../manm/MUTEX_LOCK.m.html">MUTEX_LOCK</a></b>(m)
           Pthreads not enabled, so do nothing.
       #define <b><a href="../manm/MUTEX_UNLOCK.m.html">MUTEX_UNLOCK</a></b>(m)
           Pthreads not enabled, so do nothing.
       #define <b>ntoh64</b>(y)   (((uint64_t)ntohl(y)) &lt;&lt; <b>WORD</b> | ntohl(y &gt;&gt; <b>WORD</b>))
           Byte swap 64-bit ints.
       #define <b>ONE_BYTE</b>   1
           One byte.
       #define <b>TWO_BYTES</b>   2
           Two bytes.
       #define <b>WORD</b>   32
           Number of bits in four bytes.

   <b>Typedefs</b>
       typedef struct <b>g2c_entry</b> <b>G2C_CODE_ENTRY_T</b>
           An entry in a GRIB2 code table.
       typedef struct <b>g2c_code_table</b> <b>G2C_CODE_TABLE_T</b>
           A GRIB2 code table.
       typedef struct <b>g2c_dim_info</b> <b>G2C_DIM_INFO_T</b>
           Keep information about dimensions defined in section 3.
       typedef struct <b>g2c_file_info</b> <b>G2C_FILE_INFO_T</b>
           This is the information about each open file.
       typedef struct <b>g2c_message_info</b> <b>G2C_MESSAGE_INFO_T</b>
           This is the information about each message.
       typedef struct <b>g2c_param</b> <b>G2C_PARAM_T</b>
           An entry in the table of NOAA abbreviations for GRIB parameters.
       typedef struct <b>g2c_section3_info</b> <b>G2C_SECTION3_INFO_T</b>
           Information about Section 3 GRID DEFINITION SECTION.
       typedef struct <b>g2c_section4_info</b> <b>G2C_SECTION4_INFO_T</b>
           Information about Section 4 PRODUCT DEFINITION SECTION.
       typedef struct <b>g2c_section5_info</b> <b>G2C_SECTION5_INFO_T</b>
           Information about Section 5 DATA REPRESENTATION SECTION.
       typedef struct <b>g2c_section6_info</b> <b>G2C_SECTION6_INFO_T</b>
           Information about Section 6 BIT-MAP SECTION.
       typedef struct <b>g2c_section_info</b> <b>G2C_SECTION_INFO_T</b>
           Information about a section 3 through 7 in a GRIB2 message.
       typedef struct <b>gtemplate</b> <b>gtemplate</b>
           Struct for GRIB template.

   <b>Functions</b>
       int <b>add_msg</b> (<b>G2C_FILE_INFO_T</b> *file, int msg_num, size_t bytes_to_msg, size_t bytes_in_msg, int read_file,
           <b>G2C_MESSAGE_INFO_T</b> **msg)
           Add new message to linked list.
       int <b>add_section</b> (FILE *f, <b>G2C_MESSAGE_INFO_T</b> *msg, int sec_id, unsigned int sec_len, size_t bytes_to_sec,
           unsigned char sec_num)
           Add metadata about a new section 3, 4, 5, 6, or 7.
       void <b>aecpack</b> (float *fld, <b>g2int</b> width, <b>g2int</b> height, <b>g2int</b> *idrstmpl, unsigned char *cpack, <b>g2int</b>
           *lcpack)
           This function packs up a float array into a AEC code stream.
       <b>g2int</b> <b>aecunpack</b> (unsigned char *cpack, <b>g2int</b> len, <b>g2int</b> *idrstmpl, <b>g2int</b> ndpts, float *fld)
           Unpack AEC compressed data into an array of floats, using info from the GRIB2 Data Representation
           Template 5.42.
       void <b>cmplxpack</b> (float *fld, <b>g2int</b> ndpts, <b>g2int</b> idrsnum, <b>g2int</b> *idrstmpl, unsigned char *cpack, <b>g2int</b>
           *lcpack)
           Pack up a data field using a complex packing algorithm.
       void <b>compack</b> (float *fld, <b>g2int</b> ndpts, <b>g2int</b> idrsnum, <b>g2int</b> *idrstmpl, unsigned char *cpack, <b>g2int</b>
           *lcpack)
           Pack a data field using a complex packing algorithm.
       int <b>comunpack</b> (unsigned char *cpack, <b>g2int</b> lensec, <b>g2int</b> idrsnum, <b>g2int</b> *idrstmpl, <b>g2int</b> ndpts, float
           *fld)
           Unpack a data field that was packed using a complex packing algorithm, using info from the GRIB2 Data
           Representation Template 5.2 or Template 5.3.
       int <b>dec_aec</b> (unsigned char *cpack, <b>g2int</b> len, <b>g2int</b> nbits, <b>g2int</b> flags, <b>g2int</b> block_size, <b>g2int</b> rsi,
           unsigned char *cfld, <b>g2int</b> cfldlen)
           Decode an AEC code stream specified in the CCSDS 121.0-B-3 Blue Book.
       int <b>dec_jpeg2000</b> (char *injpc, <b>g2int</b> bufsize, <b>g2int</b> *outfld)
           Decode a JPEG2000 code stream specified in the JPEG2000 Part-1 standard (i.e., ISO/IEC 15444-1) using
           JasPer Software.
       int <b>dec_png</b> (unsigned char *pngbuf, <b>g2int</b> *width, <b>g2int</b> *height, unsigned char *cout)
           Decode PNG.
       int <b>enc_aec</b> (unsigned char *data, <b>g2int</b> ctemplen, <b>g2int</b> nbits, <b>g2int</b> flags, <b>g2int</b> block_size, <b>g2int</b> rsi,
           unsigned char *aecbuf, <b>g2int</b> *aecbuflen)
           Encode data into an AEC code stream specified in the CCSDS 121.0-B-3 Blue Book.
       int <b>enc_jpeg2000</b> (unsigned char *cin, <b>g2int</b> width, <b>g2int</b> height, <b>g2int</b> nbits, <b>g2int</b> ltype, <b>g2int</b> ratio,
           <b>g2int</b> retry, char *outjpc, <b>g2int</b> jpclen)
           Encode a grayscale image into a JPEG2000 code stream specified in the JPEG2000 Part-1 standard (i.e.,
           ISO/IEC 15444-1) using JasPer Software.
       int <b>enc_png</b> (unsigned char *data, <b>g2int</b> width, <b>g2int</b> height, <b>g2int</b> nbits, unsigned char *pngbuf)
           Encode PNG.
       <b>gtemplate</b> * <b>extdrstemplate</b> (<b>g2int</b> number, <b>g2int</b> *list)
           This subroutine generates the remaining octet map for a given Data Representation Template, if
           required.
       <b>gtemplate</b> * <b>extgridtemplate</b> (<b>g2int</b> number, <b>g2int</b> *list)
           This subroutine generates the remaining octet map for a given Grid Definition Template, if required.
       <b>gtemplate</b> * <b>extpdstemplate</b> (<b>g2int</b> number, <b>g2int</b> *list)
           This subroutine generates the remaining octet map for a given Product Definition Template, if
           required.
       int <b>g2c_add_file</b> (const char *path, int mode, int *g2cid)
           Open a GRIB2 file and add it to the list of open files.
       int <b>g2c_check_msg</b> (unsigned char *cgrib, <b>g2int</b> *lencurr, int verbose)
           Check for 'GRIB' at the beginning of a GRIB message, and check to see if the message is already
           terminated with '7777'.
       int <b>g2c_file_io</b> (FILE *f, int write, int g2ctype, void *var)
           Read or write a big-endian integer type to an open file, with conversion between native and big-
           endian format.
       int <b>g2c_file_io_byte</b> (FILE *f, int write, char *var)
           Read or write a big-endian signed byte to an open GRIB2 file, with conversion between native and big-
           endian format, and special GRIB2 handling of negative numbers.
       int <b>g2c_file_io_int</b> (FILE *f, int write, int *var)
           Read or write a big-endian 4-byte signed int to an open GRIB2 file, with conversion between native
           and big-endian format, and special GRIB2 handling of negative numbers.
       int <b>g2c_file_io_longlong</b> (FILE *f, int write, long long *var)
           Read or write a big-endian signed long long to an open GRIB2 file, with conversion between native and
           big-endian format, and special GRIB2 handling of negative numbers.
       int <b>g2c_file_io_short</b> (FILE *f, int write, short *var)
           Read or write a big-endian signed short to an open GRIB2 file, with conversion between native and
           big-endian format, and special GRIB2 handling of negative numbers.
       int <b>g2c_file_io_template</b> (FILE *f, int rw_flag, int map, long long int *template_value)
           Read or write a big-endian 4-byte int or unsigned int from or to an open file, with conversion
           between native and big-endian format, and handling of GRIB negative numbers.
       int <b>g2c_file_io_ubyte</b> (FILE *f, int write, unsigned char *var)
           Read or write a big-endian unsigned byte to an open GRIB2 file, with conversion between native and
           big-endian format.
       int <b>g2c_file_io_uint</b> (FILE *f, int write, unsigned int *var)
           Read or write a big-endian 4-byte unsigned int to an open GRIB2 file, with conversion between native
           and big-endian format.
       int <b>g2c_file_io_ulonglong</b> (FILE *f, int write, unsigned long long *var)
           Read or write a big-endian unsigned long long to an open GRIB2 file, with conversion between native
           and big-endian format.
       int <b>g2c_file_io_ushort</b> (FILE *f, int write, unsigned short *var)
           Read or write a big-endian unsigned short to an open GRIB2 file, with conversion between native and
           big-endian format.
       int <b>g2c_get_datetime</b> (int ipdtn, long long int *ipdtmpl, short year, unsigned char month, unsigned char
           day, unsigned char hour, unsigned char minute, unsigned char second, char *tabbrev)
           Convert date and time from GRIB2 info to string output.
       int <b>g2c_get_level_desc</b> (int ipdtn, long long int *ipdtmpl, char *level_desc)
           Determine the string that describes the level information, given the GRIB2 Product Definition
           Template information.
       int <b>g2c_log_section1</b> (<b>G2C_MESSAGE_INFO_T</b> *msg)
           Log section 0 information.
       int <b>g2c_rw_section1_metadata</b> (FILE *f, int rw_flag, <b>G2C_MESSAGE_INFO_T</b> *msg)
           Read Section 1.
       int <b>g2c_rw_section3_metadata</b> (FILE *f, int rw_flag, <b>G2C_SECTION_INFO_T</b> *sec)
           Read the metadata from section 3 (Grid Definition Section) of a GRIB2 message.
       int <b>g2c_rw_section4_metadata</b> (FILE *f, int rw_flag, <b>G2C_SECTION_INFO_T</b> *sec)
           Read or write the metadata from section 4 (Product Definition Section) of a GRIB2 message.
       int <b>g2c_rw_section5_metadata</b> (FILE *f, int rw_flag, <b>G2C_SECTION_INFO_T</b> *sec)
           Read or write the metadata from section 5 (Data Representation Section) of a GRIB2 message.
       int <b>g2c_rw_section6_metadata</b> (FILE *f, int rw_flag, <b>G2C_SECTION_INFO_T</b> *sec)
           Read or write the metadata from section 6 (Data Representation Section) of a GRIB2 message.
       void <b>gbit</b> (unsigned char *in, <b>g2int</b> *iout, <b>g2int</b> iskip, <b>g2int</b> nbits)
           Get arbitrary size values from a packed bit string, right justifying each value in the unpacked iout
           array.
       void <b>gbits</b> (unsigned char *in, <b>g2int</b> *iout, <b>g2int</b> iskip, <b>g2int</b> nbits, <b>g2int</b> nskip, <b>g2int</b> n)
           Unpack arbitrary size values from a packed bit string, right justifying each value in the unpacked
           iout array.
       <b>g2int</b> <b>getdim</b> (unsigned char *csec3, <b>g2int</b> *width, <b>g2int</b> *height, <b>g2int</b> *iscan)
           Return the dimensions and scanning mode of a grid definition.
       <b>gtemplate</b> * <b>getdrstemplate</b> (<b>g2int</b> number)
           This subroutine returns DRS template information for a specified Data Representation Template.
       <b>gtemplate</b> * <b>getgridtemplate</b> (<b>g2int</b> number)
           This subroutine returns grid template information for a specified Grid Definition Template for
           [Section 3 - the Grid Definition Section
           (GDS)](https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_sect3.shtml).
       <b>gtemplate</b> * <b>getpdstemplate</b> (<b>g2int</b> number)
           This subroutine returns PDS template information for a specified Product Definition Template.
       <b>g2int</b> <b>getpoly</b> (unsigned char *csec3, <b>g2int</b> *jj, <b>g2int</b> *kk, <b>g2int</b> *mm)
           This subroutine returns the J, K, and M pentagonal resolution parameters specified in a GRIB Grid
           Definition Section (GDS) used spherical harmonic coefficients using GDT 5.50 through 5.53.
       double <b>int_power</b> (double x, <b>g2int</b> y)
           Function similar to C pow() power function.
       void <b>jpcpack</b> (float *fld, <b>g2int</b> width, <b>g2int</b> height, <b>g2int</b> *idrstmpl, unsigned char *cpack, <b>g2int</b>
           *lcpack)
           This function packs up a float array into a JPEG2000 code stream.
       <b>g2int</b> <b>jpcunpack</b> (unsigned char *cpack, <b>g2int</b> len, <b>g2int</b> *idrstmpl, <b>g2int</b> ndpts, float *fld)
           Unpack JPEG2000 compressed data into an array of floats, using info from the GRIB2 Data
           Representation Template 5.40 or 5.40000.
       void <b>misspack</b> (float *fld, <b>g2int</b> ndpts, <b>g2int</b> idrsnum, <b>g2int</b> *idrstmpl, unsigned char *cpack, <b>g2int</b>
           *lcpack)
           Pack a data field using a complex packing algorithm.
       void <b>mkieee</b> (float *a, <b>g2int</b> *rieee, <b>g2int</b> num)
           Store a list of real values in 32-bit IEEE floating point format.
       int <b>pack_gp</b> (<b>g2int</b> *kfildo, <b>g2int</b> *ic, <b>g2int</b> *nxy, <b>g2int</b> *is523, <b>g2int</b> *minpk, <b>g2int</b> *inc, <b>g2int</b> *missp,
           <b>g2int</b> *misss, <b>g2int</b> *jmin, <b>g2int</b> *jmax, <b>g2int</b> *lbit, <b>g2int</b> *nov, <b>g2int</b> *ndg, <b>g2int</b> *lx, <b>g2int</b> *ibit,
           <b>g2int</b> *jbit, <b>g2int</b> *kbit, <b>g2int</b> *novref, <b>g2int</b> *lbitref, <b>g2int</b> *ier)
           Determines groups of variable size, but at least of size minpk, the associated max (jmax( )) and min
           (jmin( )), the number of bits necessary to hold the values in each group (lbit( )), the number of
           values in each group (nov( )), the number of bits necessary to pack the jmin( ) values (ibit), the
           number of bits necessary to pack the lbit( ) values (jbit), and the number of bits necessary to pack
           the nov( ) values (kbit).
       void <b>pngpack</b> (float *fld, <b>g2int</b> width, <b>g2int</b> height, <b>g2int</b> *idrstmpl, unsigned char *cpack, <b>g2int</b>
           *lcpack)
           This subroutine packs up a float data field into PNG image format.
       <b>g2int</b> <b>pngunpack</b> (unsigned char *cpack, <b>g2int</b> len, <b>g2int</b> *idrstmpl, <b>g2int</b> ndpts, float *fld)
           This subroutine unpacks a data field that was packed into a PNG image format using info from the
           GRIB2 Data Representation Template 5.41 or 5.40010.
       void <b>rdieee</b> (<b>g2int</b> *rieee, float *a, <b>g2int</b> num)
           Read a list of real values in 32-bit IEEE floating point format.
       void <b>sbit</b> (unsigned char *out, <b>g2int</b> *in, <b>g2int</b> iskip, <b>g2int</b> nbits)
           Store arbitrary size values into a packed bit string, taking the low order bits from each value in
           the unpacked array.
       void <b>sbits</b> (unsigned char *out, <b>g2int</b> *in, <b>g2int</b> iskip, <b>g2int</b> nbits, <b>g2int</b> nskip, <b>g2int</b> n)
           Store arbitrary size values into a packed bit string, taking the low order bits from each value in
           the unpacked array.
       void <b>simpack</b> (float *fld, <b>g2int</b> ndpts, <b>g2int</b> *idrstmpl, unsigned char *cpack, <b>g2int</b> *lcpack)
           Packs a data field using the simple packing algorithm.
       <b>g2int</b> <b>simunpack</b> (unsigned char *cpack, <b>g2int</b> *idrstmpl, <b>g2int</b> ndpts, float *fld)
           Unpack a data field that was packed using a simple packing algorithm, using info from the GRIB2 Data
           Representation Template 5.0.
       void <b>specpack</b> (float *fld, <b>g2int</b> ndpts, <b>g2int</b> JJ, <b>g2int</b> KK, <b>g2int</b> MM, <b>g2int</b> *idrstmpl, unsigned char
           *cpack, <b>g2int</b> *lcpack)
           Pack a spectral data field using the complex packing algorithm for spherical harmonic data as defined
           in the GRIB2 Data Representation Template 5.51.
       <b>g2int</b> <b>specunpack</b> (unsigned char *cpack, <b>g2int</b> *idrstmpl, <b>g2int</b> ndpts, <b>g2int</b> JJ, <b>g2int</b> KK, <b>g2int</b> MM, float
           *fld)
           Unpack a spectral data field that was packed using the complex packing algorithm for spherical
           harmonic data as defined in the GRIB2 documention, using info from the GRIB2 Data Representation
           Template 5.51.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Header file with internal function prototypes NCEPLIBS-g2c library.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           2021-11-08

       Definition in file <b>grib2_int.h</b>.

</pre><h4><b>Data</b> <b>Type</b> <b>Documentation</b></h4><pre>
</pre><h4><b>struct</b> <b>g2c_code_table</b></h4><pre>
       A GRIB2 code table.

       Definition at line <b>256</b> of file <b>grib2_int.h</b>.

       <b>Data</b> <b>Fields:</b>
           <b>G2C_CODE_ENTRY_T</b> * <u>entry</u>

           struct <b>g2c_code_table</b> * <u>next</u>

           char <u>title[</u><b>G2C_MAX_GRIB_TITLE_LEN</b><u>+1]</u>

</pre><h4><b>struct</b> <b>g2c_dim_info</b></h4><pre>
       Keep information about dimensions defined in section 3.

       Definition at line <b>185</b> of file <b>grib2_int.h</b>.

       <b>Data</b> <b>Fields:</b>
           int <u>dimid</u> Dimension ID.

           size_t <u>len</u> Length of dimension.

           char <u>name[</u><b>G2C_MAX_NAME</b><u>+1]</u> <b>Name</b> <b>of</b> <b>dimension.</b>

           float * <u>value</u> Array of dimension values.

</pre><h4><b>struct</b> <b>g2c_entry</b></h4><pre>
       An entry in a GRIB2 code table.

       Definition at line <b>247</b> of file <b>grib2_int.h</b>.

       <b>Data</b> <b>Fields:</b>
           char <u>code[</u><b>G2C_MAX_GRIB_CODE_LEN</b><u>+1]</u>

           char <u>desc[</u><b>G2C_MAX_GRIB_DESC_LEN</b><u>+1]</u>

           struct <b>g2c_entry</b> * <u>next</u>

           char <u>status[</u><b>G2C_MAX_GRIB_STATUS_LEN</b><u>+1]</u>

</pre><h4><b>struct</b> <b>g2c_file_info</b></h4><pre>
       This is the information about each open file.

       Definition at line <b>237</b> of file <b>grib2_int.h</b>.

       <b>Data</b> <b>Fields:</b>
           <b>FILE</b> * <u>f</u> FILE pointer to open file.

           int <u>g2cid</u> ID of the file.

           <b>G2C_MESSAGE_INFO_T</b> * <u>msg</u> Information about each message in the file.

           <b>size_t</b> <u>num_messages</u> Number of messages in the file.

           <b>char</b> <u>path[</u><b>G2C_MAX_NAME</b><u>+1]</u> <b>Path</b> <b>of</b> <b>the</b> <b>file.</b>

</pre><h4><b>struct</b> <b>g2c_message_info</b></h4><pre>
       This is the information about each message.

       Definition at line <b>135</b> of file <b>grib2_int.h</b>.

       <b>Data</b> <b>Fields:</b>
           size_t <u>bytes_in_msg</u> Number of bytes in this message.

           size_t <u>bytes_to_bms</u> Number of bytes in the message to the bitmap section.

           size_t <u>bytes_to_data</u> Number of bytes in the message to the (first) data section.

           size_t <u>bytes_to_local</u> Number of bytes in the message before the (first) local section.

           size_t <u>bytes_to_msg</u> Number of bytes to skip in the file, to get to this message.

           short <u>center</u> Originating center.

           unsigned char <u>day</u> Day.

           unsigned char <u>discipline</u> Discipline from section 0.

           struct <b>g2c_file_info</b> * <u>file</u> Pointer to containing file.

           unsigned char <u>hour</u> Hour.

           unsigned char <u>local_version</u> Version number of GRIB local tables used to augment Master Tables.

           unsigned char <u>master_version</u> GRIB master tables version number.

           unsigned char <u>minute</u> Minute.

           unsigned char <u>month</u> Month.

           size_t <u>msg_num</u> Number of message in file (0-based).

           struct <b>g2c_message_info</b> * <u>next</u> Pointer to next in list.

           int <u>num_fields</u> Number of fields in the message.

           int <u>num_local</u> Number of local sections in the message.

           int <u>num_sections</u> Number of sections in the file.

           struct <b>g2c_section_info</b> * <u>sec</u> List of section metadata.

           int <u>sec1_len</u> Length of section 1.

           unsigned char <u>second</u> Second.

           int <u>section1[</u><b>G2C_SECTION1_ARRAY_LEN</b><u>]</u> <b>Section</b> <b>1</b> <b>array.</b>

           int * <u>section_number</u> Array (length num_sections) of section numbers.

           size_t * <u>section_offset</u> Array (length num_sections) of byte offsets from start of message to section.

           unsigned char <u>sig_ref_time</u> Significance of reference time.

           unsigned char <u>status</u> Production Status of Processed data in the GRIB message.

           short <u>subcenter</u> Originating subcenter.

           unsigned char <u>type</u> Type of processed data in this GRIB message.

           short <u>year</u> Year.

</pre><h4><b>struct</b> <b>g2c_param</b></h4><pre>
       An entry in the table of NOAA abbreviations for GRIB parameters.

       Definition at line <b>264</b> of file <b>grib2_int.h</b>.

       <b>Data</b> <b>Fields:</b>
           char <u>abbrev[</u><b>G2C_MAX_NOAA_ABBREV_LEN</b><u>+1]</u> <b>NOAA</b> <b>abbreviation</b> <b>for</b> <b>this</b> <b>parameter.</b>

           int <u>g1num</u> GRIB1 parameter number.

           int <u>g1ver</u> GRIB1 table version.

           int <u>g2cat</u> GRIB2 category number.

           int <u>g2disc</u> GRIB2 discipline.

           int <u>g2num</u> GRIB2 parameter number.

</pre><h4><b>struct</b> <b>g2c_section3_info</b></h4><pre>
       Information about Section 3 GRID DEFINITION SECTION.

       Definition at line <b>195</b> of file <b>grib2_int.h</b>.

       <b>Data</b> <b>Fields:</b>
           <b>G2C_DIM_INFO_T</b> <u>dim[2]</u> Dimension information.

           unsigned short <u>grid_def</u> Grid definition template number (= N) (See Table 3.1).

           unsigned char <u>interp_list</u> Interpetation of list of numbers defining number of points (See Table
           3.11).

           unsigned int <u>num_data_points</u> Number of data points.

           unsigned char <u>num_opt</u> Number of octets for optional list of numbers defining number of points.

           int * <u>optional</u> Optional list of numbers defining number of points.

           unsigned char <u>source_grid_def</u> Source of grid definition (See Table 3.0).

</pre><h4><b>struct</b> <b>g2c_section4_info</b></h4><pre>
       Information about Section 4 PRODUCT DEFINITION SECTION.

       Definition at line <b>208</b> of file <b>grib2_int.h</b>.

       <b>Data</b> <b>Fields:</b>
           int <u>field_num</u>

           unsigned short <u>num_coord</u> Number of coordinate values after template.

           int * <u>optional</u> Optional list of numbers defining number of points.

           unsigned short <u>prod_def</u> Product definition template number (See Table 4.0).

</pre><h4><b>struct</b> <b>g2c_section5_info</b></h4><pre>
       Information about Section 5 DATA REPRESENTATION SECTION.

       Definition at line <b>218</b> of file <b>grib2_int.h</b>.

       <b>Data</b> <b>Fields:</b>
           unsigned short <u>data_def</u> Data representation template number (See Table 5.0).

           unsigned int <u>num_data_points</u> Number of data points where one or more values are specified in Section
           7 when a bit map is present, total number of data points when a bit map is absent.

</pre><h4><b>struct</b> <b>g2c_section6_info</b></h4><pre>
       Information about Section 6 BIT-MAP SECTION.

       Definition at line <b>229</b> of file <b>grib2_int.h</b>.

       <b>Data</b> <b>Fields:</b>
           unsigned char <u>indicator</u> Bit map indicator.
           See Table 6.0.

</pre><h4><b>struct</b> <b>g2c_section_info</b></h4><pre>
       Information about a section 3 through 7 in a GRIB2 message.

       Definition at line <b>170</b> of file <b>grib2_int.h</b>.

       <b>Data</b> <b>Fields:</b>
           size_t <u>bytes_to_sec</u> Number of bytes from start of message to this section.

           <b>G2C_MESSAGE_INFO_T</b> * <u>msg</u> Pointer to contianing message.

           struct <b>g2c_section_info</b> * <u>next</u> Pointer to next in list.

           struct <b>g2c_section_info</b> * <u>prev</u> Pointer to previous in list.

           int <u>sec_id</u> ID of the section (0-based).

           void * <u>sec_info</u> Pointer to struct specific for section 3, 4, 5, 6, or 7.

           unsigned int <u>sec_len</u> Length of the section (in bytes).

           unsigned char <u>sec_num</u> Section number.

           long long int * <u>template</u> Grid, product, or data template.

           int <u>template_len</u> Number of entries in template.

</pre><h4><b>struct</b> <b>gtemplate</b></h4><pre>
       Struct for GRIB template, returned by <b>getgridtemplate()</b>.

       Definition at line <b>277</b> of file <b>grib2_int.h</b>.

       <b>Data</b> <b>Fields:</b>
           <b>g2int</b> * <u>ext</u> Number of octets of each entry in the extension part of the template.

           <b>g2int</b> <u>extlen</u> Number of entries in the template extension.

           <b>g2int</b> * <u>map</u> Number of octets of each entry in the static part of the template.

           <b>g2int</b> <u>maplen</u> Number of entries in the static part of the template.

           <b>g2int</b> <u>needext</u> Indicates whether or not the template needs to be extended.

           <b>g2int</b> <u>num</u> The template number.

           <b>g2int</b> <u>type</u> The template type: 3 Grid Defintion Template.
           4 Product Defintion Template. 5 Data Representation Template.

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>ALOG2</b>   <b>(0.69314718)</b>
       ln(2.0)

       Definition at line <b>30</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>BYTE</b>   <b>8</b>
       Number of bits in a byte.

       Definition at line <b>47</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>EIGHT_BYTES</b>   <b>8</b>
       Eight bytes.

       Definition at line <b>53</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b><a href="../manm/EXTERN_MUTEX.m.html">EXTERN_MUTEX</a>(m)</b>
       Pthreads not enabled, so do nothing.

       Definition at line <b>113</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>FOUR_BYTES</b>   <b>4</b>
       Four bytes.

       Definition at line <b>52</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>G2C_FILE_READ</b>   <b>0</b>
       Read.

       Definition at line <b>131</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>G2C_FILE_WRITE</b>   <b>1</b>
       Write.

       Definition at line <b>132</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>G2C_INDEX1_BDS_VAL_LEN</b>   <b>10</b>
       Length of the binary data section (bds) in index file.

       Definition at line <b>73</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>G2C_INDEX1_BMS_VAL_LEN</b>   <b>5</b>
       Length of the bitmap section (bms) in index file.

       Definition at line <b>70</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>G2C_INDEX1_GDS_VAL2_LEN</b>   <b>27</b>
       Length of the gds in index file.

       Definition at line <b>82</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>G2C_INDEX1_GDS_VAL_LEN</b>   <b>41</b>
       Length of the grid definition section (gds) in index file.

       Definition at line <b>67</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>G2C_INDEX1_PDS_VAL2_LEN</b>   <b>27</b>
       Length of the pds 2 section in the index file.

       Definition at line <b>76</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>G2C_INDEX1_PDS_VAL3_LEN</b>   <b>27</b>
       Length of the pds 3 section in the index file.

       Definition at line <b>79</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>G2C_INDEX1_PDS_VAL_LEN</b>   <b>27</b>
       Length of the product definition section (pds) in index file.

       Definition at line <b>64</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>G2C_JASPER_JPEG_FORMAT_NAME</b>   <b>'jpc'</b>
       Name of JPEG codec in Jasper.

       Definition at line <b>33</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>G2C_MAGIC_HEADER</b>   <b>'GRIB'</b>
       GRIB magic header string.

       Definition at line <b>39</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>G2C_MAGIC_HEADER_LEN</b>   <b>8</b>
       Full length of magic header string (includes GRIB version byte).

       Definition at line <b>42</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>G2C_MAX_MESSAGES</b>   <b>1024</b>
       Maximum number of messages in a file.

       Definition at line <b>45</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>G2C_MIN_MAX_BYTES</b>   <b>16</b>
       Minimum acceptable value for max_bytes parameter of <b>g2c_get_msg()</b>.

       Definition at line <b>36</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>hton64(y)</b>   <b>(((uint64_t)htonl(y))</b> <b>&lt;&lt;</b> <b>WORD</b> <b>|</b> <b>htonl(y</b> <b>&gt;&gt;</b> <b>WORD))</b>
       Byte swap 64-bit ints. This converts native-endian 8-byte ints into big-endian 8-byte ints.

       Definition at line <b>129</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>LATITUDE</b>   <b>'Latitude'</b>
       Latitude.

       Definition at line <b>56</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>LOG(e)</b>
       Ignore logging to stdout. Library was not built with LOGGING=ON.

       Definition at line <b>428</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>LONGITUDE</b>   <b>'Longitude'</b>
       Longitude.

       Definition at line <b>59</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b><a href="../manm/MUTEX.m.html">MUTEX</a>(m)</b>
       Pthreads not enabled, so do nothing.

       Definition at line <b>110</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b><a href="../manm/MUTEX_LOCK.m.html">MUTEX_LOCK</a>(m)</b>
       Pthreads not enabled, so do nothing.

       Definition at line <b>116</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b><a href="../manm/MUTEX_UNLOCK.m.html">MUTEX_UNLOCK</a>(m)</b>
       Pthreads not enabled, so do nothing.

       Definition at line <b>119</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>ntoh64(y)</b>   <b>(((uint64_t)ntohl(y))</b> <b>&lt;&lt;</b> <b>WORD</b> <b>|</b> <b>ntohl(y</b> <b>&gt;&gt;</b> <b>WORD))</b>
       Byte swap 64-bit ints. This converts big-endian 8-byte ints into native endian 8-byte ints.

       Definition at line <b>125</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>ONE_BYTE</b>   <b>1</b>
       One byte.

       Definition at line <b>50</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>TWO_BYTES</b>   <b>2</b>
       Two bytes.

       Definition at line <b>51</b> of file <b>grib2_int.h</b>.

   <b>#define</b> <b>WORD</b>   <b>32</b>
       Number of bits in four bytes.

       Definition at line <b>48</b> of file <b>grib2_int.h</b>.

</pre><h4><b>Typedef</b> <b>Documentation</b></h4><pre>
   <b>typedef</b> <b>struct</b> <b>g2c_entry</b> <b>G2C_CODE_ENTRY_T</b>
       An entry in a GRIB2 code table.

   <b>typedef</b> <b>struct</b> <b>g2c_code_table</b> <b>G2C_CODE_TABLE_T</b>
       A GRIB2 code table.

   <b>typedef</b> <b>struct</b> <b>g2c_dim_info</b> <b>G2C_DIM_INFO_T</b>
       Keep information about dimensions defined in section 3.

   <b>typedef</b> <b>struct</b> <b>g2c_file_info</b> <b>G2C_FILE_INFO_T</b>
       This is the information about each open file.

   <b>typedef</b> <b>struct</b> <b>g2c_message_info</b> <b>G2C_MESSAGE_INFO_T</b>
       This is the information about each message.

   <b>typedef</b> <b>struct</b> <b>g2c_param</b> <b>G2C_PARAM_T</b>
       An entry in the table of NOAA abbreviations for GRIB parameters.

   <b>typedef</b> <b>struct</b> <b>g2c_section3_info</b> <b>G2C_SECTION3_INFO_T</b>
       Information about Section 3 GRID DEFINITION SECTION.

   <b>typedef</b> <b>struct</b> <b>g2c_section4_info</b> <b>G2C_SECTION4_INFO_T</b>
       Information about Section 4 PRODUCT DEFINITION SECTION.

   <b>typedef</b> <b>struct</b> <b>g2c_section5_info</b> <b>G2C_SECTION5_INFO_T</b>
       Information about Section 5 DATA REPRESENTATION SECTION.

   <b>typedef</b> <b>struct</b> <b>g2c_section6_info</b> <b>G2C_SECTION6_INFO_T</b>
       Information about Section 6 BIT-MAP SECTION.

   <b>typedef</b> <b>struct</b> <b>g2c_section_info</b> <b>G2C_SECTION_INFO_T</b>
       Information about a section 3 through 7 in a GRIB2 message.

   <b>typedef</b> <b>struct</b> <b>gtemplate</b> <b>gtemplate</b>
       Struct for GRIB template.

       Definition at line <b>305</b> of file <b>grib2_int.h</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b> <b>add_msg</b> <b>(G2C_FILE_INFO_T</b> <b>*</b> <b>file,</b> <b>int</b> <b>msg_num,</b> <b>size_t</b> <b>bytes_to_msg,</b> <b>size_t</b> <b>bytes_in_msg,</b> <b>int</b> <b>read_file,</b>
       <b>G2C_MESSAGE_INFO_T</b> <b>**</b> <b>msg)</b>
       Add new message to linked list.

       <b>Parameters</b>
           <u>file</u> Pointer to the G2C_FILE_INFO_T for this file.
           <u>msg_num</u> Number of the message in file (0-based).
           <u>bytes_to_msg</u> Number of bytes to the start of the message in the file.
           <u>bytes_in_msg</u> Length of message in bytes.
           <u>read_file</u> Set to true to cause metadata to be read from a GRIB2 data file.
           <u>msg</u> Pointer to a pointer that will get the location of the newly created <b>G2C_MESSAGE_INFO_T</b> object.
           Ignored if NULL.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> - No error.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           Sep 12, 2022

       Definition at line <b>1017</b> of file <b>g2cfile.c</b>.

       References    <b>g2c_message_info::bytes_in_msg</b>,   <b>g2c_message_info::bytes_to_msg</b>,   <b>g2c_message_info::file</b>,
       <b>G2C_ENOMEM</b>,  <b>G2C_NOERROR</b>,  <b>LOG</b>,  <b>g2c_file_info::msg</b>,  <b>g2c_message_info::msg_num</b>,  <b>g2c_message_info::next</b>,
       <b>g2c_file_info::num_messages</b>, and <b>read_msg_metadata()</b>.

       Referenced by <b>g2c_open_index()</b>, and <b>read_metadata()</b>.

   <b>int</b>  <b>add_section</b>  <b>(FILE</b> <b>*</b> <b>f,</b> <b>G2C_MESSAGE_INFO_T</b> <b>*</b> <b>msg,</b> <b>int</b> <b>sec_id,</b> <b>unsigned</b> <b>int</b> <b>sec_len,</b> <b>size_t</b> <b>bytes_to_sec,</b>
       <b>unsigned</b> <b>char</b> <b>sec_num)</b>
       Add metadata about a new section 3, 4, 5, 6, or 7.

       <b>Parameters</b>
           <u>f</u> FILE pointer to open GRIB2 file.
           <u>msg</u> Pointer to the G2C_MESSAGE_INFO_T struct.
           <u>sec_id</u> 0-based section ID.
           <u>sec_len</u> Length of section.
           <u>bytes_to_sec</u> Number of bytes from start of message to this section.
           <u>sec_num</u> Section number.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> - No error.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           Sep 12, 2022

       Definition at line <b>794</b> of file <b>g2cfile.c</b>.

       References  <b>g2c_section_info::bytes_to_sec</b>,  <b>G2C_EBADSECTION</b>,  <b>G2C_ENOMEM</b>,  <b>G2C_FILE_READ</b>,   <b>G2C_NOERROR</b>,
       <b>g2c_rw_section3_metadata()</b>,            <b>g2c_rw_section4_metadata()</b>,            <b>g2c_rw_section5_metadata()</b>,
       <b>g2c_rw_section6_metadata()</b>,         <b>LOG</b>,          <b>g2c_section_info::msg</b>,          <b>g2c_section_info::next</b>,
       <b>g2c_message_info::num_local</b>,   <b>g2c_section_info::prev</b>,  <b>g2c_message_info::sec</b>,  <b>g2c_section_info::sec_id</b>,
       <b>g2c_section_info::sec_len</b>, and <b>g2c_section_info::sec_num</b>.

       Referenced by <b>g2c_open_index()</b>, and <b>read_msg_metadata()</b>.

   <b>void</b> <b>aecpack</b> <b>(float</b> <b>*</b> <b>fld,</b> <b>g2int</b> <b>width,</b> <b>g2int</b> <b>height,</b> <b>g2int</b> <b>*</b>  <b>idrstmpl,</b>  <b>unsigned</b>  <b>char</b>  <b>*</b>  <b>cpack,</b>  <b>g2int</b>  <b>*</b>
       <b>lcpack)</b>
       This function packs up a float array into a AEC code stream. After the data are scaled, and the reference
       value is subtracted out, the data are passed to the AEC encoder.

       This function also fills in GRIB2 Data Representation Template 5.42 with the appropriate values.

       <b>Parameters</b>
           <u>fld</u> Pointer to the float data values to pack.
           <u>width</u> The number of points in the x direction.
           <u>height</u> The number of points in the y direction.
           <u>idrstmpl</u> Contains the array of values for Data Representation Template Table 5.42.

           • 0 Reference value - ignored on input, set by aecpack routine.

           • 1 Binary Scale Factor - used on input, unchanged by aecpack routine.

           • 2 Decimal Scale Factor - used on input, unchanged by aecpack routine.

           • 3 number of bits for each data value - ignored on input

           • 4  Original  field  type  - currently ignored on input Data values assumed to be reals. Set to 0 on
             output.

           • 5 CCSDS compression options mask.

           • 6 Block size.

           • 7 Reference sample interval. May be modified in this function.

           <u>cpack</u> A pointer that will get the packed data field.  Must  be  allocated  before  this  function  is
           called. Pass the allocated size in the lcpack parameter.
           <u>lcpack</u>  Pointer  that  gets  the  length  of  packed  field in cpack. This must be set by the calling
           function to the size available in cpack.

       <b>Author</b>
           Eric Engle (adapted from jpcpack)

       Definition at line <b>297</b> of file <b>aecpack.c</b>.

       References <b>aecpack_int()</b>.

       Referenced by <b>g2_addfield()</b>.

   <b>g2int</b> <b>aecunpack</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>cpack,</b> <b>g2int</b> <b>len,</b> <b>g2int</b> <b>*</b> <b>idrstmpl,</b> <b>g2int</b> <b>ndpts,</b> <b>float</b> <b>*</b> <b>fld)</b>
       Unpack AEC compressed data into an array of  floats,  using  info  from  the  GRIB2  Data  Representation
       Template 5.42.

       <b>Parameters</b>
           <u>cpack</u> The packed data.
           <u>len</u> The length of the packed data.
           <u>idrstmpl</u> Pointer to array of values for Data Representation Template 5.42.
           <u>ndpts</u> The number of data values to unpack.
           <u>fld</u> A pointer that gets the unpacked data values as an array of float.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

       <b>Author</b>
           Eric Engle

       <b>Date</b>
           2023-10-16

       Definition at line <b>161</b> of file <b>aecunpack.c</b>.

       References <b>aecunpack_int()</b>, and <b>LOG</b>.

       Referenced by <b>g2c_unpack7_int()</b>.

   <b>void</b>  <b>cmplxpack</b>  <b>(float</b>  <b>*</b>  <b>fld,</b> <b>g2int</b> <b>ndpts,</b> <b>g2int</b> <b>idrsnum,</b> <b>g2int</b> <b>*</b> <b>idrstmpl,</b> <b>unsigned</b> <b>char</b> <b>*</b> <b>cpack,</b> <b>g2int</b> <b>*</b>
       <b>lcpack)</b>
       Pack up a data field using a complex packing algorithm. This  function  supports  GRIB2  complex  packing
       templates  with  or  without  spatial  differences  (i.e.  DRTs 5.2 and 5.3). It also fills in GRIB2 Data
       Representation Template 5.2 or 5.3 with the appropriate values.

       <b>Parameters</b>
           <u>fld</u> Contains the data values to pack.
           <u>ndpts</u> The number of data values in array fld
           <u>idrsnum</u> Data Representation Template number. Must equal 2 or 3.
           <u>idrstmpl</u> Contains the array of values for Data Representation Template 5.2 or 5.3

           • 0 Reference value - ignored on input, set by compack routine.

           • 1 Binary Scale Factor

           • 2 Decimal Scale Factor

           • 6 Missing value management

           • 7 Primary missing value

           • 8 Secondary missing value

           • 16 Order of Spatial Differencing ( 1 or 2 )

           <u>cpack</u> The packed data field.
           <u>lcpack</u> length of packed field cpack. Will be set to -1 if missing value management field is not 1  or
           2.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2004-08-27

       Definition at line <b>37</b> of file <b>cmplxpack.c</b>.

       References <b>compack()</b>, and <b>misspack()</b>.

       Referenced by <b>g2_addfield()</b>.

   <b>void</b>  <b>compack</b>  <b>(float</b>  <b>*</b>  <b>fld,</b>  <b>g2int</b>  <b>ndpts,</b> <b>g2int</b> <b>idrsnum,</b> <b>g2int</b> <b>*</b> <b>idrstmpl,</b> <b>unsigned</b> <b>char</b> <b>*</b> <b>cpack,</b> <b>g2int</b> <b>*</b>
       <b>lcpack)</b>
       Pack a data field using a complex  packing  algorithm.  This  function  supports  GRIB2  complex  packing
       templates  with  or  without  spatial  differences  (i.e.  DRTs 5.2 and 5.3). It also fills in GRIB2 Data
       Representation Template 5.2 or Template 5.3 with the appropriate values.

       <b>Parameters</b>
           <u>fld</u> Contains the data values to pack.
           <u>ndpts</u> The number of data values in array fld.
           <u>idrsnum</u> Data Representation Template number. Must equal 2 or 3.
           <u>idrstmpl</u> Contains the array of values for Data Representation Template 5.2 or 5.3.

           • 0 Reference value - ignored on input, set my <b>compack()</b>.

           • 1 Binary Scale Factor

           • 2 Decimal Scale Factor

           • 6 Missing value management

           • 7 Primary missing value

           • 8 Secondary missing value

           • 16 Order of Spatial Differencing (1 or 2)

           <u>cpack</u> The packed data field.
           <u>lcpack</u> length of packed field cpack.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2002-11-07

       Definition at line <b>42</b> of file <b>compack.c</b>.

       References <b>ALOG2</b>, <b>int_power()</b>, <b>mkieee()</b>, <b>pack_gp()</b>, <b>sbit()</b>, and <b>sbits()</b>.

       Referenced by <b>cmplxpack()</b>.

   <b>int</b> <b>comunpack</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>cpack,</b> <b>g2int</b> <b>lensec,</b> <b>g2int</b> <b>idrsnum,</b> <b>g2int</b> <b>*</b> <b>idrstmpl,</b>  <b>g2int</b>  <b>ndpts,</b>  <b>float</b>  <b>*</b>
       <b>fld)</b>
       Unpack  a  data  field  that was packed using a complex packing algorithm, using info from the GRIB2 Data
       Representation Template 5.2 or Template 5.3. Supports GRIB2 complex packing  templates  with  or  without
       spatial differences (i.e. DRTs 5.2 and 5.3).

   <b>Program</b> <b>History</b> <b>Log</b>
       Date   Programmer   Comments    2002-10-29   Gilbert   Initial    2004-12-16   Gilbert   Added test (from
       Arthur Taylor/MDL) verifying group widths/lengths

       <b>Parameters</b>
           <u>cpack</u> pointer to the packed data field.
           <u>lensec</u> length of section 7 (used for error checking).
           <u>idrsnum</u> Data Representation Template number. Must equal 2 or 3.
           <u>idrstmpl</u> pointer to the array of values for Data Representation Template 5.2 or 5.3
           <u>ndpts</u> The number of data values to unpack
           <u>fld</u>  Contains  the  unpacked data values. Must be allocated with at least ndpts * sizeof(float) bytes
           before calling this routine.

       <b>Returns</b>
           0 for success, error code otherwise.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2002-10-29

       Definition at line <b>41</b> of file <b>comunpack.c</b>.

       References <b>gbit()</b>, <b>gbits()</b>, <b>int_power()</b>, <b>LOG</b>, and <b>rdieee()</b>.

       Referenced by <b>g2c_unpack7_int()</b>.

   <b>int</b> <b>dec_aec</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>cpack,</b> <b>g2int</b> <b>len,</b>  <b>g2int</b>  <b>nbits,</b>  <b>g2int</b>  <b>flags,</b>  <b>g2int</b>  <b>block_size,</b>  <b>g2int</b>  <b>rsi,</b>
       <b>unsigned</b> <b>char</b> <b>*</b> <b>cfld,</b> <b>g2int</b> <b>cfldlen)</b>
       Decode an AEC code stream specified in the CCSDS 121.0-B-3 Blue Book.

       <b>Parameters</b>
           <u>cpack</u> Pointer to buffer that holds the input AEC code stream.
           <u>len</u> Length (in bytes) of the buffer that holds the input AEC code stream.
           <u>nbits</u> CCSDS bits per sample.
           <u>flags</u> CCSDS compression options mask.
           <u>block_size</u> CCSDS block size.
           <u>rsi</u> CCSDS reference sample interval.
           <u>cfld</u> Pointer to output buffer from the AEC decoder.
           <u>cfldlen</u> length of output buffer.

       <b>Returns</b>

           • &gt;0 Length of data from AEC decoder

           • 0 Successful decode (AEC_OK)

           • -1 AEC_CONF_ERROR

           • -2 AEC_STREAM_ERROR

           • -3 AEC_DATA_ERROR

           • -4 AEC_MEM_ERROR

           • -5 AEC_RSI_OFFSETS_ERROR

       <b>Author</b>
           Eric Engle

       <b>Date</b>
           2023-10-16

       Definition at line <b>38</b> of file <b>decenc_aec.c</b>.

       References <b>LOG</b>.

       Referenced by <b>aecunpack_int()</b>.

   <b>int</b> <b>dec_jpeg2000</b> <b>(char</b> <b>*</b> <b>injpc,</b> <b>g2int</b> <b>bufsize,</b> <b>g2int</b> <b>*</b> <b>outfld)</b>
       Decode  a  JPEG2000  code  stream specified in the JPEG2000 Part-1 standard (i.e., ISO/IEC 15444-1) using
       JasPer Software.

       <b>Parameters</b>
           <u>injpc</u> Pointer to buffer that holds the input JPEG2000 code stream.
           <u>bufsize</u> Length (in bytes) of the buffer that holds the input JPEG2000 code stream.
           <u>outfld</u> Pointer to g2int array, already allocated, that gets the unpacked data.

       <b>Returns</b>

           • 0 Successful decode

           • <b>G2_JASPER_DECODE</b> Error decode jpeg2000 code stream.

           • <b>G2_JASPER_DECODE_COLOR</b> decoded image had multiple color components. Only grayscale is expected.

           • <b>G2_JASPER_INIT</b> Error inializing Jasper library.

       <b>Author</b>
           Stephen Gilbert, Ed Hartnett

       Definition at line <b>377</b> of file <b>decenc_jpeg2000.c</b>.

       References <b>int_dec_jpeg2000()</b>.

       Referenced by <b>jpcunpack_int()</b>.

   <b>int</b> <b>dec_png</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>pngbuf,</b> <b>g2int</b> <b>*</b> <b>width,</b> <b>g2int</b> <b>*</b> <b>height,</b> <b>unsigned</b> <b>char</b> <b>*</b> <b>cout)</b>
       Decode PNG.

       <b>Parameters</b>
           <u>pngbuf</u> Pointer to PNG buffer.
           <u>width</u> Pointer to width.
           <u>height</u> Pointer to height.
           <u>cout</u> Output buffer.

       <b>Returns</b>
           0 for success, error code otherwise.

       <b>Author</b>
           Stephen Gilbert

       Definition at line <b>127</b> of file <b>decenc_png.c</b>.

       References <b>G2C_PNG_HEIGHT_MAX</b>, <b>G2C_PNG_WIDTH_MAX</b>, and <b>user_read_data()</b>.

       Referenced by <b>g2c_dec_png()</b>, and <b>pngunpack_int()</b>.

   <b>int</b> <b>enc_aec</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>data,</b> <b>g2int</b> <b>ctemplen,</b> <b>g2int</b> <b>nbits,</b> <b>g2int</b> <b>flags,</b>  <b>g2int</b>  <b>block_size,</b>  <b>g2int</b>  <b>rsi,</b>
       <b>unsigned</b> <b>char</b> <b>*</b> <b>aecbuf,</b> <b>g2int</b> <b>*</b> <b>aecbuflen)</b>
       Encode data into an AEC code stream specified in the CCSDS 121.0-B-3 Blue Book.

       <b>Parameters</b>
           <u>data</u> Pointer to buffer that holds the input data.
           <u>ctemplen</u> Length (in bytes) of the buffer that holds the input data..
           <u>nbits</u> CCSDS bits per sample.
           <u>flags</u> CCSDS compression options mask.
           <u>block_size</u> CCSDS block size.
           <u>rsi</u> CCSDS reference sample interval.
           <u>aecbuf</u> Pointer to buffer holding the AEC encoded stream.
           <u>aecbuflen</u> Length of AEC code stream.

       <b>Returns</b>

           • &gt;0 Exact length of AEC encoded data.

           • 0 Successful decode (AEC_OK)

           • -1 AEC_CONF_ERROR

           • -2 AEC_STREAM_ERROR

           • -3 AEC_DATA_ERROR

           • -4 AEC_MEM_ERROR

           • -5 AEC_RSI_OFFSETS_ERROR

       <b>Author</b>
           Eric Engle

       <b>Date</b>
           2023-10-16

       Definition at line <b>108</b> of file <b>decenc_aec.c</b>.

       References <b>LOG</b>.

       Referenced by <b>aecpack_int()</b>.

   <b>int</b>  <b>enc_jpeg2000</b>  <b>(unsigned</b>  <b>char</b>  <b>*</b>  <b>cin,</b> <b>g2int</b> <b>width,</b> <b>g2int</b> <b>height,</b> <b>g2int</b> <b>nbits,</b> <b>g2int</b> <b>ltype,</b> <b>g2int</b> <b>ratio,</b>
       <b>g2int</b> <b>retry,</b> <b>char</b> <b>*</b> <b>outjpc,</b> <b>g2int</b> <b>jpclen)</b>
       Encode a grayscale image into a JPEG2000 code stream specified in the  JPEG2000  Part-1  standard  (i.e.,
       ISO/IEC 15444-1) using JasPer Software.

       • ###  Program  History  Log Date   Programmer   Comments    2002-12-02   Gilbert   Initial    2004-12-16
         Gilbert   Added retry argument allowing increased guard bits.    2022-04-15   Hartnett    Converted  to
         use jas_ instead of jpc_ functions.

       <b>Parameters</b>
           <u>cin</u> Packed matrix of Grayscale image values to encode.
           <u>width</u> width of image.
           <u>height</u> height of image.
           <u>nbits</u> depth (in bits) of image. i.e number of bits used to hold each data value.
           <u>ltype</u> indicator of lossless or lossy compression.

           • 1, for lossy compression

           • != 1, for lossless compression

           <u>ratio</u> target compression ratio. (ratio:1) Used only when ltype == 1.
           <u>retry</u> If 1 try increasing number of guard bits.
           <u>outjpc</u> Output encoded JPEG2000 code stream.
           <u>jpclen</u> Number of bytes allocated for the output JPEG2000 code stream in outjpc.

       <b>Returns</b>

           • &gt; 0 = Length in bytes of encoded JPEG2000 code stream

           • <b>G2_JASPER_INIT</b> Error initializing jasper library.

           • <b>G2_JASPER_ENCODE</b> Error encode jpeg2000 code stream.

       <b>Note</b>
           Requires JasPer Software version 1.500.4 or 1.700.2 or later.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2002-12-02

       <b>Author</b>
           Ed Hartnett

       Definition at line <b>94</b> of file <b>decenc_jpeg2000.c</b>.

       References <b>G2_JASPER_ENCODE</b>, <b>G2_JASPER_INIT</b>, <b>G2C_JASPER_JPEG_FORMAT_NAME</b>, <b>LOG</b>, and <b>MAXOPTSSIZE</b>.

       Referenced by <b>g2c_enc_jpeg2000()</b>, and <b>jpcpack_int()</b>.

   <b>int</b> <b>enc_png</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>data,</b> <b>g2int</b> <b>width,</b> <b>g2int</b> <b>height,</b> <b>g2int</b> <b>nbits,</b> <b>unsigned</b> <b>char</b> <b>*</b> <b>pngbuf)</b>
       Encode PNG.

       <b>Parameters</b>
           <u>data</u> data.
           <u>width</u> width.
           <u>height</u> height.
           <u>nbits</u> number of bits.
           <u>pngbuf</u> PNG buffer.

       <b>Returns</b>
           PNG length, or negative number for error.

       <b>Author</b>
           Stephen Gilbert

       Definition at line <b>259</b> of file <b>decenc_png.c</b>.

       References <b>user_flush_data()</b>, and <b>user_write_data()</b>.

       Referenced by <b>g2c_enc_png()</b>, and <b>pngpack_int()</b>.

   <b>gtemplate</b> <b>*</b> <b>extdrstemplate</b> <b>(g2int</b> <b>number,</b> <b>g2int</b> <b>*</b> <b>list)</b>
       This  subroutine generates the remaining octet map for a given Data Representation Template, if required.
       Some Templates can vary depending on data values given in an earlier part of  the  Template,  and  it  is
       necessary to know some of the earlier entry values to generate the full octet map of the Template.

       <b>Parameters</b>
           <u>number</u> The number of the Data Representation Template that is being requested.
           <u>list</u> The list of values for each entry in the the Data Representation Template.

       <b>Returns</b>
           Pointer to the returned template struct. Returns NULL pointer, if template not found.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2000-05-11

       Definition at line <b>218</b> of file <b>drstemplates.c</b>.

       References <b>getdrsindex()</b>, and <b>getdrstemplate()</b>.

       Referenced by <b>g2_unpack5()</b>.

   <b>gtemplate</b> <b>*</b> <b>extgridtemplate</b> <b>(g2int</b> <b>number,</b> <b>g2int</b> <b>*</b> <b>template)</b>
       This subroutine generates the remaining octet map for a given Grid Definition Template, if required. Some
       Templates can vary depending on data values given in an earlier part of the Template, and it is necessary
       to know some of the earlier entry values to generate the full octet map of the Template.

       This  function  allocates memory for the extension. The pointer ext in the gtemplate struct must be freed
       to prevent memory leaks.

       <b>Parameters</b>
           <u>number</u> The number of the Grid Definition Template that is being requested.
           <u>template</u> The grid definition template array.

       <b>Returns</b>
           Pointer to the returned template struct. Returns NULL pointer, if template not found.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2000-05-09

       Definition at line <b>241</b> of file <b>gridtemplates.c</b>.

       References <b>getgridindex()</b>, and <b>getgridtemplate()</b>.

       Referenced by <b>g2_addgrid()</b>, <b>g2_unpack3()</b>, and <b>g2c_get_grid_template_extension()</b>.

   <b>gtemplate</b> <b>*</b> <b>extpdstemplate</b> <b>(g2int</b> <b>number,</b> <b>g2int</b> <b>*</b> <b>list)</b>
       This subroutine generates the remaining octet map for a given Product Definition Template,  if  required.
       Some  Templates  can  vary  depending  on data values given in an earlier part of the Template, and it is
       necessary to know some of the earlier entry values to generate the full octet map of the Template.

       This function allocates memory in the ext field of the gtemplate struct. This memory must be freed by the
       caller.

       <b>Parameters</b>
           <u>number</u> number of the Product Definition Template 4.NN that is being requested.
           <u>list</u> The list of values for each entry in the the Product Definition Template.

       <b>Returns</b>
           Pointer to the returned template struct. Returns NULL pointer if template not found.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2000-05-11

       Definition at line <b>553</b> of file <b>pdstemplates.c</b>.

       References <b>getpdsindex()</b>, and <b>getpdstemplate()</b>.

       Referenced by <b>g2_addfield()</b>, <b>g2_unpack4()</b>, and <b>g2c_get_pds_template_extension()</b>.

   <b>int</b> <b>g2c_add_file</b> <b>(const</b> <b>char</b> <b>*</b> <b>path,</b> <b>int</b> <b>mode,</b> <b>int</b> <b>*</b> <b>g2cid)</b>
       Open a GRIB2 file and add it to the list of open files.

       <b>Parameters</b>
           <u>path</u> Path of the file.
           <u>mode</u> Open mode flags.
           <u>g2cid</u> Pointer that gets an indentifier for the file.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> - No error.

           • <b>G2C_EINVAL</b> - Invalid input.

           • <b>G2C_ETOOMANYFILES</b> - Trying to open too many files at the same time.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           Aug 16, 2022

       Definition at line <b>1143</b> of file <b>g2cfile.c</b>.

       References  <b>find_available_g2cid()</b>,  <b>G2C_EFILE</b>,  <b>G2C_EINVAL</b>,  <b>G2C_ENAMETOOLONG</b>,  <b>g2c_file</b>,  <b>G2C_MAX_NAME</b>,
       <b>G2C_NOERROR</b>, <b>G2C_WRITE</b>, <b>g2c_file_info::g2cid</b>, <b>LOG</b>, <b>g2c_file_info::msg</b>, and <b>g2c_file_info::num_messages</b>.

       Referenced by <b>g2c_open()</b>, and <b>g2c_open_index()</b>.

   <b>int</b> <b>g2c_check_msg</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>cgrib,</b> <b>g2int</b> <b>*</b> <b>lencurr,</b> <b>int</b> <b>verbose)</b>
       Check  for  'GRIB'  at  the  beginning  of  a  GRIB  message,  and check to see if the message is already
       terminated with '7777'.

       <b>Parameters</b>
           <u>cgrib</u> Buffer that contains the GRIB message.
           <u>lencurr</u> Pointer that gets the length of the GRIB message.
           <u>verbose</u> If non-zero, print any error messages to stdout.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

           • <b>G2C_ENOTGRIB</b> GRIB header not found.

           • <b>G2C_EMSGCOMPLETE</b> GRIB message already complete.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           Nov 11, 2021

       Definition at line <b>26</b> of file <b>util.c</b>.

       References <b>G2C_EMSGCOMPLETE</b>, <b>G2C_ENOTGRIB</b>, <b>G2C_NOERROR</b>, and <b>gbit()</b>.

       Referenced by <b>g2_addfield()</b>, <b>g2_addgrid()</b>, <b>g2_addlocal()</b>, and <b>g2_gribend()</b>.

   <b>int</b> <b>g2c_file_io</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>int</b> <b>write,</b> <b>int</b> <b>g2ctype,</b> <b>void</b> <b>*</b> <b>var)</b>
       Read or write a big-endian integer type to an open file, with conversion between  native  and  big-endian
       format.  GRIB2  handles negative numbers in a special way. Instead of storing two-compliments, like every
       other programmer and computing organization in the world, GRIB2 flips the first bit, then stores the rest
       of the int as an unsigned number in the remaining 31 bits. How exciting!

       This function takes the excitement out of GRIB2 negative numbers.

       <b>Parameters</b>
           <u>f</u> Pointer to the open FILE.
           <u>write</u> Non-zero if function should write, otherwise function will read.
           <u>g2ctype</u> The type to be read or written.
           <u>var</u> Pointer to the int to be written, or pointer to the storage that gets the int read.

       <b>Returns</b>

           • :: G2C_NOERROR No error.

           • :: G2C_EINVAL Invalid input.

           • :: G2C_EFILE Error reading/writing file.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           11/7/22

       Definition at line <b>41</b> of file <b>g2cio.c</b>.

       References  <b>BITSHIFT_15</b>,  <b>BITSHIFT_31</b>,  <b>BITSHIFT_63</b>,  <b>BITSHIFT_7</b>,  <b>EIGHT_BYTES</b>,   <b>FOUR_BYTES</b>,   <b>G2C_BYTE</b>,
       <b>G2C_EBADTYPE</b>,  <b>G2C_EFILE</b>,  <b>G2C_EINVAL</b>,  <b>G2C_INT</b>,  <b>G2C_INT64</b>, <b>G2C_NOERROR</b>, <b>G2C_SHORT</b>, <b>G2C_UBYTE</b>, <b>G2C_UINT</b>,
       <b>G2C_UINT64</b>, <b>G2C_USHORT</b>, <b>hton64</b>, <b>ntoh64</b>, <b>ONE_BYTE</b>, and <b>TWO_BYTES</b>.

       Referenced  by  <b>g2c_file_io_byte()</b>,   <b>g2c_file_io_int()</b>,   <b>g2c_file_io_longlong()</b>,   <b>g2c_file_io_short()</b>,
       <b>g2c_file_io_ubyte()</b>, <b>g2c_file_io_uint()</b>, <b>g2c_file_io_ulonglong()</b>, and <b>g2c_file_io_ushort()</b>.

   <b>int</b> <b>g2c_file_io_byte</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>int</b> <b>write,</b> <b>char</b> <b>*</b> <b>var)</b>
       Read  or  write  a  big-endian signed byte to an open GRIB2 file, with conversion between native and big-
       endian format, and special GRIB2 handling of negative numbers.

       <b>Parameters</b>
           <u>f</u> Pointer to the open GRIB2 FILE.
           <u>write</u> Non-zero to write, zero to read.
           <u>var</u> Pointer to the byte.

       <b>Returns</b>

           • :: G2C_NOERROR No error.

           • :: G2C_EINVAL Invalid input.

           • :: G2C_EFILE Error reading/writing file.

       <b>Author</b>
           Ed Hartnett 11/13/22

       Definition at line <b>316</b> of file <b>g2cio.c</b>.

       References <b>G2C_BYTE</b>, and <b>g2c_file_io()</b>.

       Referenced by <b>g2c_file_io_template()</b>.

   <b>int</b> <b>g2c_file_io_int</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>int</b> <b>write,</b> <b>int</b> <b>*</b> <b>var)</b>
       Read or write a big-endian 4-byte signed int to an open GRIB2 file, with conversion  between  native  and
       big-endian format, and special GRIB2 handling of negative numbers.

       <b>Parameters</b>
           <u>f</u> Pointer to the open GRIB2 FILE.
           <u>write</u> Non-zero to write, zero to read.
           <u>var</u> Pointer to the int.

       <b>Returns</b>

           • :: G2C_NOERROR No error.

           • :: G2C_EINVAL Invalid input.

           • :: G2C_EFILE Error reading/writing file.

       <b>Author</b>
           Ed Hartnett 11/7/22

       Definition at line <b>230</b> of file <b>g2cio.c</b>.

       References <b>g2c_file_io()</b>, and <b>G2C_INT</b>.

       Referenced by <b>g2c_file_io_template()</b>.

   <b>int</b> <b>g2c_file_io_longlong</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>int</b> <b>write,</b> <b>long</b> <b>long</b> <b>*</b> <b>var)</b>
       Read  or  write  a  big-endian signed long long to an open GRIB2 file, with conversion between native and
       big-endian format, and special GRIB2 handling of negative numbers.

       <b>Parameters</b>
           <u>f</u> Pointer to the open GRIB2 FILE.
           <u>write</u> Non-zero to write, zero to read.
           <u>var</u> Pointer to the long long.

       <b>Returns</b>

           • :: G2C_NOERROR No error.

           • :: G2C_EINVAL Invalid input.

           • :: G2C_EFILE Error reading/writing file.

       <b>Author</b>
           Ed Hartnett 11/13/22

       Definition at line <b>359</b> of file <b>g2cio.c</b>.

       References <b>g2c_file_io()</b>, and <b>G2C_INT64</b>.

   <b>int</b> <b>g2c_file_io_short</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>int</b> <b>write,</b> <b>short</b> <b>*</b> <b>var)</b>
       Read or write a big-endian signed short to an open GRIB2 file, with conversion between  native  and  big-
       endian format, and special GRIB2 handling of negative numbers.

       <b>Parameters</b>
           <u>f</u> Pointer to the open GRIB2 FILE.
           <u>write</u> Non-zero to write, zero to read.
           <u>var</u> Pointer to the short.

       <b>Returns</b>

           • :: G2C_NOERROR No error.

           • :: G2C_EINVAL Invalid input.

           • :: G2C_EFILE Error reading/writing file.

       <b>Author</b>
           Ed Hartnett 11/13/22

       Definition at line <b>273</b> of file <b>g2cio.c</b>.

       References <b>g2c_file_io()</b>, and <b>G2C_SHORT</b>.

       Referenced   by   <b>g2c_file_io_template()</b>,   <b>g2c_rw_section1_metadata()</b>,   <b>g2c_start_index_record()</b>,   and
       <b>g2c_start_index_record_lf()</b>.

   <b>int</b> <b>g2c_file_io_template</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>int</b> <b>rw_flag,</b> <b>int</b> <b>map,</b> <b>long</b> <b>long</b> <b>int</b> <b>*</b> <b>template_value)</b>
       Read or write a big-endian 4-byte int or unsigned int from or to an open file,  with  conversion  between
       native and big-endian format, and handling of GRIB negative numbers. This is for template values.

       With template values, if the map value is negative, then the template value may be negative.

       <b>Parameters</b>
           <u>f</u> Pointer to the open FILE.
           <u>rw_flag</u> Non-zero if function should write, otherwise function will read.
           <u>map</u> The map value for this template item.
           <u>template_value</u>  Pointer  to the template value to be written, or pointer to the storage that gets the
           templage value read.

       <b>Returns</b>

           • :: G2C_NOERROR No error.

           • :: G2C_EINVAL Invalid input.

           • :: G2C_EFILE Error reading/writing file.

       <b>Author</b>
           Ed Hartnett 11/7/22

       Definition at line <b>408</b> of file <b>g2cio.c</b>.

       References  <b>FOUR_BYTES</b>,  <b>G2C_EBADTEMPLATE</b>,  <b>g2c_file_io_byte()</b>,  <b>g2c_file_io_int()</b>,  <b>g2c_file_io_short()</b>,
       <b>g2c_file_io_ubyte()</b>, <b>g2c_file_io_uint()</b>, <b>g2c_file_io_ushort()</b>, <b>G2C_NOERROR</b>, <b>ONE_BYTE</b>, and <b>TWO_BYTES</b>.

       Referenced by <b>g2c_rw_section3_metadata()</b>, <b>g2c_rw_section4_metadata()</b>, and <b>g2c_rw_section5_metadata()</b>.

   <b>int</b> <b>g2c_file_io_ubyte</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>int</b> <b>write,</b> <b>unsigned</b> <b>char</b> <b>*</b> <b>var)</b>
       Read  or  write a big-endian unsigned byte to an open GRIB2 file, with conversion between native and big-
       endian format.

       <b>Parameters</b>
           <u>f</u> Pointer to the open GRIB2 FILE.
           <u>write</u> Non-zero to write, zero to read.
           <u>var</u> Pointer to the unsigned byte.

       <b>Returns</b>

           • :: G2C_NOERROR No error.

           • :: G2C_EINVAL Invalid input.

           • :: G2C_EFILE Error reading/writing file.

       <b>Author</b>
           Ed Hartnett 11/13/22

       Definition at line <b>337</b> of file <b>g2cio.c</b>.

       References <b>g2c_file_io()</b>, and <b>G2C_UBYTE</b>.

       Referenced      by      <b>g2c_file_io_template()</b>,       <b>g2c_open_index()</b>,       <b>g2c_rw_section1_metadata()</b>,
       <b>g2c_rw_section3_metadata()</b>,             <b>g2c_rw_section6_metadata()</b>,            <b>g2c_start_index1_record()</b>,
       <b>g2c_start_index_record()</b>, <b>g2c_start_index_record_lf()</b>, <b>g2c_write_index()</b>, and <b>read_msg_metadata()</b>.

   <b>int</b> <b>g2c_file_io_uint</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>int</b> <b>write,</b> <b>unsigned</b> <b>int</b> <b>*</b> <b>var)</b>
       Read or write a big-endian 4-byte unsigned int to an open GRIB2 file, with conversion between native  and
       big-endian format.

       <b>Parameters</b>
           <u>f</u> Pointer to the open GRIB2 FILE.
           <u>write</u> Non-zero to write, zero to read.
           <u>var</u> Pointer to the unsigned int.

       <b>Returns</b>

           • :: G2C_NOERROR No error.

           • :: G2C_EINVAL Invalid input.

           • :: G2C_EFILE Error reading/writing file.

       <b>Author</b>
           Ed Hartnett 11/7/22

       Definition at line <b>251</b> of file <b>g2cio.c</b>.

       References <b>g2c_file_io()</b>, and <b>G2C_UINT</b>.

       Referenced       by       <b>g2c_file_io_template()</b>,      <b>g2c_open_index()</b>,      <b>g2c_rw_section1_metadata()</b>,
       <b>g2c_rw_section3_metadata()</b>,            <b>g2c_rw_section5_metadata()</b>,             <b>g2c_start_index1_record()</b>,
       <b>g2c_start_index_record()</b>, <b>g2c_start_index_record_lf()</b>, <b>g2c_write_index()</b>, and <b>read_msg_metadata()</b>.

   <b>int</b> <b>g2c_file_io_ulonglong</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>int</b> <b>write,</b> <b>unsigned</b> <b>long</b> <b>long</b> <b>*</b> <b>var)</b>
       Read  or  write a big-endian unsigned long long to an open GRIB2 file, with conversion between native and
       big-endian format.

       <b>Parameters</b>
           <u>f</u> Pointer to the open GRIB2 FILE.
           <u>write</u> Non-zero to write, zero to read.
           <u>var</u> Pointer to the unsigned long long.

       <b>Returns</b>

           • :: G2C_NOERROR No error.

           • :: G2C_EINVAL Invalid input.

           • :: G2C_EFILE Error reading/writing file.

       <b>Author</b>
           Ed Hartnett 11/13/22

       Definition at line <b>380</b> of file <b>g2cio.c</b>.

       References <b>g2c_file_io()</b>, and <b>G2C_UINT64</b>.

       Referenced by <b>g2c_start_index_record()</b>, and <b>g2c_start_index_record_lf()</b>.

   <b>int</b> <b>g2c_file_io_ushort</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>int</b> <b>write,</b> <b>unsigned</b> <b>short</b> <b>*</b> <b>var)</b>
       Read or write a big-endian unsigned short to an open GRIB2 file, with conversion between native and  big-
       endian format.

       <b>Parameters</b>
           <u>f</u> Pointer to the open GRIB2 FILE.
           <u>write</u> Non-zero to write, zero to read.
           <u>var</u> Pointer to the unsigned short.

       <b>Returns</b>

           • :: G2C_NOERROR No error.

           • :: G2C_EINVAL Invalid input.

           • :: G2C_EFILE Error reading/writing file.

       <b>Author</b>
           Ed Hartnett 11/13/22

       Definition at line <b>294</b> of file <b>g2cio.c</b>.

       References <b>g2c_file_io()</b>, and <b>G2C_USHORT</b>.

       Referenced   by   <b>g2c_file_io_template()</b>,   <b>g2c_rw_section3_metadata()</b>,  <b>g2c_rw_section4_metadata()</b>,  and
       <b>g2c_rw_section5_metadata()</b>.

   <b>int</b> <b>g2c_get_datetime</b> <b>(int</b> <b>ipdtn,</b> <b>long</b> <b>long</b> <b>int</b> <b>*</b> <b>ipdtmpl,</b> <b>short</b> <b>year,</b> <b>unsigned</b> <b>char</b> <b>month,</b> <b>unsigned</b> <b>char</b> <b>day,</b>
       <b>unsigned</b> <b>char</b> <b>hour,</b> <b>unsigned</b> <b>char</b> <b>minute,</b> <b>unsigned</b> <b>char</b> <b>second,</b> <b>char</b> <b>*</b> <b>tabbrev)</b>
       Convert date and time from GRIB2 info to string output.

       <b>Note</b>
           This function is based on the prvtime() function in NCEPLIBS-grib_utils.

       <b>Parameters</b>
           <u>ipdtn</u>       Product       Definition       Template       Number       ([Code       Table        4.0]
           (https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-0.shtml)).
           <u>ipdtmpl</u> Array of data values for the Product Definition Template specified by ipdtn.
           <u>year</u> year
           <u>month</u> month
           <u>day</u> day
           <u>hour</u> hour
           <u>minute</u> minute
           <u>second</u> second
           <u>tabbrev</u> Character array that will get the date and time string. Must be of length 100.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           Sep 28, 2022

       Definition at line <b>49</b> of file <b>g2cdegrib2.c</b>.

       References <b>G2C_DATE_TIME_LEN</b>, and <b>G2C_NOERROR</b>.

       Referenced by <b>g2c_degrib2()</b>.

   <b>int</b> <b>g2c_get_level_desc</b> <b>(int</b> <b>ipdtn,</b> <b>long</b> <b>long</b> <b>int</b> <b>*</b> <b>ipdtmpl,</b> <b>char</b> <b>*</b> <b>level_desc)</b>
       Determine  the  string  that describes the level information, given the GRIB2 Product Definition Template
       information.  This  subroutine  finds  the   'Type   of   first   fixed   surface'   (see   [Code   table
       4.5](https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_temp4-0.shtml))   using   the   product
       definition template value and product template array. The location in the template array varies depending
       on the template number.

       <b>Parameters</b>
           <u>ipdtn</u>       Product       Definition       Template       Number       ([Code       Table        4.0]
           (https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-0.shtml)).
           <u>ipdtmpl</u> Array of data values for the Product Definition Template specified by ipdtn.
           <u>level_desc</u> Character array which gets the string describing the level. Must be of length 40.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           Sep 28, 2022

       Definition at line <b>309</b> of file <b>g2cdegrib2.c</b>.

       References <b>format_level()</b>, and <b>G2C_NOERROR</b>.

       Referenced by <b>g2c_degrib2()</b>.

   <b>int</b> <b>g2c_log_section1</b> <b>(G2C_MESSAGE_INFO_T</b> <b>*</b> <b>msg)</b>
       Log section 0 information.

       <b>Parameters</b>
           <u>msg</u> Pointer to <b>G2C_MESSAGE_INFO_T</b> which contains section 0 information.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           10/16/22

       Definition at line <b>101</b> of file <b>g2cutil.c</b>.

       References <b>g2c_message_info::center</b>, <b>g2c_message_info::day</b>, <b>g2c_message_info::discipline</b>, <b>g2c_csv_init()</b>,
       <b>g2c_find_desc()</b>,           <b>G2C_MAX_GRIB_DESC_LEN</b>,           <b>G2C_NOERROR</b>,          <b>g2c_message_info::hour</b>,
       <b>g2c_message_info::local_version</b>,   <b>LOG</b>,    <b>g2c_message_info::master_version</b>,    <b>g2c_message_info::minute</b>,
       <b>g2c_message_info::month</b>,             <b>g2c_message_info::second</b>,            <b>g2c_message_info::sig_ref_time</b>,
       <b>g2c_message_info::status</b>,        <b>g2c_message_info::subcenter</b>,         <b>g2c_message_info::type</b>,         and
       <b>g2c_message_info::year</b>.

       Referenced by <b>g2c_log_file()</b>, and <b>g2c_open_index()</b>.

   <b>int</b> <b>g2c_rw_section1_metadata</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>int</b> <b>rw_flag,</b> <b>G2C_MESSAGE_INFO_T</b> <b>*</b> <b>msg)</b>
       Read Section 1.

       <b>Parameters</b>
           <u>f</u> Pointer to open file.
           <u>rw_flag</u> <b>G2C_FILE_WRITE</b> if function should write, <b>G2C_FILE_READ</b> if it should read.
           <u>msg</u> Pointer to G2C_MESSAGE_INFO_T which will be populated with the values of section 0.

       <b>Returns</b>
           -G2C_NOERROR No error.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           10/16/22

       Definition at line <b>874</b> of file <b>g2cfile.c</b>.

       References    <b>g2c_message_info::center</b>,   <b>g2c_message_info::day</b>,   <b>G2C_ENOSECTION</b>,   <b>g2c_file_io_short()</b>,
       <b>g2c_file_io_ubyte()</b>,   <b>g2c_file_io_uint()</b>,   <b>G2C_NOERROR</b>,   <b>G2C_SECTION1_BYTES</b>,   <b>g2c_message_info::hour</b>,
       <b>g2c_message_info::local_version</b>,    <b>LOG</b>,    <b>g2c_message_info::master_version</b>,   <b>g2c_message_info::minute</b>,
       <b>g2c_message_info::month</b>,              <b>g2c_message_info::sec1_len</b>,               <b>g2c_message_info::second</b>,
       <b>g2c_message_info::sig_ref_time</b>,           <b>g2c_message_info::status</b>,          <b>g2c_message_info::subcenter</b>,
       <b>g2c_message_info::type</b>, and <b>g2c_message_info::year</b>.

       Referenced by <b>g2c_open_index()</b>, <b>g2c_write_index()</b>, and <b>read_msg_metadata()</b>.

   <b>int</b> <b>g2c_rw_section3_metadata</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>int</b> <b>rw_flag,</b> <b>G2C_SECTION_INFO_T</b> <b>*</b> <b>sec)</b>
       Read the metadata from section 3 (Grid Definition Section) of a GRIB2  message.  When  this  function  is
       called, the file cursor is positioned just after the section number field in the section. The size of the
       section, and the section number, have already been read when this function is called.

       <b>Parameters</b>
           <u>f</u> FILE pointer to open GRIB2 file.
           <u>rw_flag</u> <b>G2C_FILE_WRITE</b> if function should write, <b>G2C_FILE_READ</b> (0) if it should read.
           <u>sec</u> Pointer to the G2C_SECTION_INFO_T struct.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

           • <b>G2C_EINVAL</b> Invalid input.

           • <b>G2C_ENOMEM</b> Out of memory.

           • <b>G2C_ENOTEMPLATE</b> Can't find template.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           Sep 15, 2022

       Definition at line <b>478</b> of file <b>g2cfile.c</b>.

       References   <b>determine_dims()</b>,   <b>G2C_EINVAL</b>,   <b>G2C_ENOMEM</b>,  <b>g2c_file_io_template()</b>,  <b>g2c_file_io_ubyte()</b>,
       <b>g2c_file_io_uint()</b>,    <b>g2c_file_io_ushort()</b>,    <b>g2c_get_grid_template()</b>,     <b>G2C_MAX_GDS_TEMPLATE_MAPLEN</b>,
       <b>G2C_NOERROR</b>,          <b>g2c_section3_info::grid_def</b>,          <b>g2c_section3_info::interp_list</b>,          <b>LOG</b>,
       <b>g2c_section3_info::num_data_points</b>,        <b>g2c_section3_info::num_opt</b>,        <b>g2c_section_info::sec_info</b>,
       <b>g2c_section_info::sec_num</b>,     <b>g2c_section3_info::source_grid_def</b>,     <b>g2c_section_info::template</b>,    and
       <b>g2c_section_info::template_len</b>.

       Referenced by <b>add_section()</b>, and <b>g2c_write_index()</b>.

   <b>int</b> <b>g2c_rw_section4_metadata</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>int</b> <b>rw_flag,</b> <b>G2C_SECTION_INFO_T</b> <b>*</b> <b>sec)</b>
       Read or write the metadata from section 4 (Product Definition Section) of  a  GRIB2  message.  When  this
       function is called, the file cursor is positioned just after the section number field in the section. The
       size of the section, and the section number, have already been read/written when this function is called.

       <b>Parameters</b>
           <u>f</u> FILE pointer to open GRIB2 file.
           <u>rw_flag</u> <b>G2C_FILE_WRITE</b> if function should write, <b>G2C_FILE_READ</b> if it should read.
           <u>sec</u> Pointer to the G2C_SECTION_INFO_T struct.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

           • <b>G2C_EINVAL</b> Invalid input.

           • <b>G2C_ENOMEM</b> Out of memory.

           • <b>G2C_ENOTEMPLATE</b> Can't find template.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           Sep 16, 2022

       Definition at line <b>574</b> of file <b>g2cfile.c</b>.

       References  <b>G2C_EINVAL</b>, <b>G2C_ENOMEM</b>, <b>g2c_file_io_template()</b>, <b>g2c_file_io_ushort()</b>, <b>g2c_get_pds_template()</b>,
       <b>G2C_MAX_PDS_TEMPLATE_MAPLEN</b>,  <b>G2C_NOERROR</b>,  <b>LOG</b>,   <b>g2c_section_info::msg</b>,   <b>g2c_section4_info::num_coord</b>,
       <b>g2c_message_info::num_fields</b>,           <b>g2c_section4_info::prod_def</b>,          <b>g2c_section_info::sec_info</b>,
       <b>g2c_section_info::sec_num</b>, <b>g2c_section_info::template</b>, and <b>g2c_section_info::template_len</b>.

       Referenced by <b>add_section()</b>, and <b>g2c_write_index()</b>.

   <b>int</b> <b>g2c_rw_section5_metadata</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>int</b> <b>rw_flag,</b> <b>G2C_SECTION_INFO_T</b> <b>*</b> <b>sec)</b>
       Read or write the metadata from section 5 (Data Representation Section) of a  GRIB2  message.  When  this
       function is called, the file cursor is positioned just after the section number field in the section. The
       size of the section, and the section number, have already been read when this function is called.

       <b>Parameters</b>
           <u>f</u> FILE pointer to open GRIB2 file.
           <u>rw_flag</u> <b>G2C_FILE_WRITE</b> if function should write, <b>G2C_FILE_READ</b> if it should read.
           <u>sec</u> Pointer to the G2C_SECTION_INFO_T struct.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

           • <b>G2C_EINVAL</b> Invalid input.

           • <b>G2C_ENOMEM</b> Out of memory.

           • <b>G2C_ENOTEMPLATE</b> Can't find template.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           Sep 16, 2022

       Definition at line <b>663</b> of file <b>g2cfile.c</b>.

       References      <b>g2c_section5_info::data_def</b>,      <b>G2C_EINVAL</b>,     <b>G2C_ENOMEM</b>,     <b>g2c_file_io_template()</b>,
       <b>g2c_file_io_uint()</b>,    <b>g2c_file_io_ushort()</b>,     <b>g2c_get_drs_template()</b>,     <b>G2C_MAX_PDS_TEMPLATE_MAPLEN</b>,
       <b>G2C_NOERROR</b>,         <b>LOG</b>,         <b>g2c_section5_info::num_data_points</b>,         <b>g2c_section_info::sec_info</b>,
       <b>g2c_section_info::template</b>, and <b>g2c_section_info::template_len</b>.

       Referenced by <b>add_section()</b>, and <b>g2c_write_index()</b>.

   <b>int</b> <b>g2c_rw_section6_metadata</b> <b>(FILE</b> <b>*</b> <b>f,</b> <b>int</b> <b>rw_flag,</b> <b>G2C_SECTION_INFO_T</b> <b>*</b> <b>sec)</b>
       Read or write the metadata from section 6 (Data Representation Section) of a  GRIB2  message.  When  this
       function is called, the file cursor is positioned just after the section number field in the section. The
       size of the section, and the section number, have already been read when this function is called.

       <b>Parameters</b>
           <u>f</u> FILE pointer to open GRIB2 file.
           <u>rw_flag</u> <b>G2C_FILE_WRITE</b> if function should write, <b>G2C_FILE_READ</b> if it should read.
           <u>sec</u> Pointer to the G2C_SECTION_INFO_T struct.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

           • <b>G2C_EINVAL</b> Invalid input.

           • <b>G2C_ENOMEM</b> Out of memory.

           • <b>G2C_ENOTEMPLATE</b> Can't find template.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           Sep 16, 2022

       Definition at line <b>745</b> of file <b>g2cfile.c</b>.

       References  <b>G2C_EINVAL</b>,  <b>G2C_ENOMEM</b>, <b>g2c_file_io_ubyte()</b>, <b>G2C_NOERROR</b>, <b>g2c_section6_info::indicator</b>, <b>LOG</b>,
       and <b>g2c_section_info::sec_info</b>.

       Referenced by <b>add_section()</b>.

   <b>void</b> <b>gbit</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>in,</b> <b>g2int</b> <b>*</b> <b>iout,</b> <b>g2int</b> <b>iskip,</b> <b>g2int</b> <b>nbits)</b>
       Get arbitrary size values from a packed bit string, right justifying each  value  in  the  unpacked  iout
       array.

       <b>Parameters</b>
           <u>in</u> pointer to character array input.
           <u>iout</u> pointer that gets the unpacked array output.
           <u>iskip</u> initial number of bits to skip.
           <u>nbits</u> number of bits to take.

       <b>Author</b>
           NOAA Programmer

       Definition at line <b>20</b> of file <b>gbits.c</b>.

       References <b>gbits()</b>.

       Referenced   by  <b>comunpack()</b>,  <b>g2_addfield()</b>,  <b>g2_addgrid()</b>,  <b>g2_addlocal()</b>,  <b>g2_getfld()</b>,  <b>g2_gribend()</b>,
       <b>g2_info()</b>,  <b>g2_unpack1()</b>,   <b>g2_unpack2()</b>,   <b>g2_unpack3()</b>,   <b>g2_unpack4()</b>,   <b>g2_unpack5()</b>,   <b>g2_unpack6()</b>,
       <b>g2c_check_msg()</b>, <b>g2c_unpack7_int()</b>, and <b>seekgb()</b>.

   <b>void</b> <b>gbits</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>in,</b> <b>g2int</b> <b>*</b> <b>iout,</b> <b>g2int</b> <b>iskip,</b> <b>g2int</b> <b>nbits,</b> <b>g2int</b> <b>nskip,</b> <b>g2int</b> <b>n)</b>
       Unpack  arbitrary  size values from a packed bit string, right justifying each value in the unpacked iout
       array.

       <b>Parameters</b>
           <u>in</u> Pointer to character array input.
           <u>iout</u> Pointer that gets the unpacked array output.
           <u>iskip</u> Initial number of bits to skip.
           <u>nbits</u> Number of bits to take.
           <u>nskip</u> Additional number of bits to skip on each iteration.
           <u>n</u> Number of iterations.

       <b>Author</b>
           NOAA Programmer

       Definition at line <b>57</b> of file <b>gbits.c</b>.

       Referenced by <b>aecunpack_int()</b>, <b>comunpack()</b>, <b>g2_unpack3()</b>,  <b>g2_unpack4()</b>,  <b>g2_unpack6()</b>,  <b>g2c_gbits_int()</b>,
       <b>gbit()</b>, <b>pngunpack_int()</b>, <b>simunpack()</b>, and <b>specunpack()</b>.

   <b>g2int</b> <b>getdim</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>csec3,</b> <b>g2int</b> <b>*</b> <b>width,</b> <b>g2int</b> <b>*</b> <b>height,</b> <b>g2int</b> <b>*</b> <b>iscan)</b>
       Return the dimensions and scanning mode of a grid definition.

       <b>Parameters</b>
           <u>csec3</u> Character array that contains the packed GRIB2 GDS.
           <u>width</u> x (or i) dimension of the grid. 0 if grid is not recognized.
           <u>height</u> y (or j) dimension of the grid. 0 if grid is not recognized.
           <u>iscan</u> Scanning mode (see Table 3.4). 0 of grid not recognized.

       <b>Returns</b>
           Always returns 0.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2002-12-11

       Definition at line <b>27</b> of file <b>getdim.c</b>.

       References <b>g2_unpack3()</b>.

       Referenced by <b>g2_addfield()</b>.

   <b>gtemplate</b> <b>*</b> <b>getdrstemplate</b> <b>(g2int</b> <b>number)</b>
       This subroutine returns DRS template information for a specified Data Representation Template. The number
       of  entries  in the template is returned along with a map of the number of octets occupied by each entry.
       Also, a flag is returned to indicate whether the template would need to be extended.

       <b>Parameters</b>
           <u>number</u> The number of the Data Representation Template that is being requested.

       <b>Returns</b>
           Pointer to the returned template struct. Returns NULL if template not found.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2000-05-11

       Definition at line <b>172</b> of file <b>drstemplates.c</b>.

       References <b>getdrsindex()</b>, and <b>templatesdrs</b>.

       Referenced by <b>extdrstemplate()</b>, <b>g2_addfield()</b>, and <b>g2_unpack5()</b>.

   <b>gtemplate</b> <b>*</b> <b>getgridtemplate</b> <b>(g2int</b> <b>number)</b>
       This subroutine returns grid template information for a specified Grid Definition Template for [Section 3
       -                    the                    Grid                    Definition                    Section
       (GDS)](https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_sect3.shtml).  The  number of entries
       in the template is returned along with a map of the number of octets occupied by each entry. Also, a flag
       is returned to indicate whether the template would need to be extended.

       This function allocates storage for the template. The returned pointer must be freed by the caller.

       <b>Parameters</b>
           <u>number</u> The number of the Grid Definition Template that is being requested.

       <b>Returns</b>
           Pointer to the returned template struct (must be freed by caller). Returns NULL pointer, if  template
           not found.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2000-05-09

       Definition at line <b>193</b> of file <b>gridtemplates.c</b>.

       References <b>getgridindex()</b>, and <b>templatesgrid</b>.

       Referenced by <b>extgridtemplate()</b>, <b>g2_addgrid()</b>, and <b>g2_unpack3()</b>.

   <b>gtemplate</b> <b>*</b> <b>getpdstemplate</b> <b>(g2int</b> <b>number)</b>
       This  subroutine returns PDS template information for a specified Product Definition Template. The number
       of entries in the template is returned along with a map of the number of octets occupied by  each  entry.
       Also, a flag is returned to indicate whether the template would need to be extended.

       This function allocates memory for the gtemplate struct, which must be freed by the caller.

       <b>Parameters</b>
           <u>number</u> the number of the Product Definition Template that is being requested.

       <b>Returns</b>
           Pointer to the returned template struct. Returns NULL pointer if template not found.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2000-05-11

       Definition at line <b>504</b> of file <b>pdstemplates.c</b>.

       References <b>getpdsindex()</b>, and <b>templatespds</b>.

       Referenced by <b>extpdstemplate()</b>, <b>g2_addfield()</b>, and <b>g2_unpack4()</b>.

   <b>g2int</b> <b>getpoly</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>csec3,</b> <b>g2int</b> <b>*</b> <b>jj,</b> <b>g2int</b> <b>*</b> <b>kk,</b> <b>g2int</b> <b>*</b> <b>mm)</b>
       This  subroutine  returns  the  J,  K,  and  M  pentagonal resolution parameters specified in a GRIB Grid
       Definition Section (GDS) used spherical harmonic coefficients using  GDT  5.50  through  5.53.  If  51  -
       complex  data  spectral  packing is used as the data representation template number (see Table 5.0), then
       the Grid Definition Template Number in section 3 should be one of:

       • 50: Spherical Harmonic Coefficients (See Template 3.50)

       • 51: Rotated Spherical Harmonic Coefficients (See Template 3.51)

       • 52: Stretched Spherical Harmonic Coefficients (See Template 3.52)

       • 53: Rotated and Stretched Spherical Harmonic Coefficients (See Template 3.53)

       <b>Parameters</b>
           <u>csec3</u> Character array that contains the packed GRIB2 GDS.
           <u>jj</u> J pentagonal resolution parameter.
           <u>kk</u> K pentagonal resolution parameter.
           <u>mm</u> M pentagonal resolution parameter.

       <b>Returns</b>
           always returns 0.

       <b>Note</b>
           Returns jj, kk, and mm set to zero, if grid template not recognized.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2002-12-11

       Definition at line <b>40</b> of file <b>getpoly.c</b>.

       References <b>g2_unpack3()</b>.

       Referenced by <b>g2_addfield()</b>.

   <b>double</b> <b>int_power</b> <b>(double</b> <b>x,</b> <b>g2int</b> <b>y)</b>
       Function similar to C pow() power function.

       <b>Parameters</b>
           <u>x</u> The base value whose power is to be calculated.
           <u>y</u> The power value.

       <b>Returns</b>
           x**y

       <b>Author</b>
           Wesley Ebisuzaki

       Definition at line <b>18</b> of file <b>int_power.c</b>.

       Referenced by <b>aecpack_int()</b>, <b>aecunpack_int()</b>,  <b>compack()</b>,  <b>comunpack()</b>,  <b>jpcpack_int()</b>,  <b>jpcunpack_int()</b>,
       <b>misspack()</b>, <b>mkieee()</b>, <b>pngpack_int()</b>, <b>pngunpack_int()</b>, <b>rdieee()</b>, <b>simpack()</b>, <b>simunpack()</b>, and <b>specunpack()</b>.

   <b>void</b>  <b>jpcpack</b>  <b>(float</b>  <b>*</b>  <b>fld,</b>  <b>g2int</b>  <b>width,</b>  <b>g2int</b> <b>height,</b> <b>g2int</b> <b>*</b> <b>idrstmpl,</b> <b>unsigned</b> <b>char</b> <b>*</b> <b>cpack,</b> <b>g2int</b> <b>*</b>
       <b>lcpack)</b>
       This function packs up a float array into a JPEG2000 code stream. After the  data  are  scaled,  and  the
       reference  value  is  subtracted  out, the data are treated as a grayscale image and passed to a JPEG2000
       encoder.

       This function also fills in GRIB2 Data Representation Template  5.40  or  5.40000  with  the  appropriate
       values.

       <b>Parameters</b>
           <u>fld</u> Pointer to the float data values to pack.
           <u>width</u> The number of points in the x direction.
           <u>height</u> The number of points in the y direction.
           <u>idrstmpl</u> Contains the array of values for Data Representation Template Table 5.40 or 5.40000.

           • 0 Reference value - ignored on input, set by jpcpack routine.

           • 1 Binary Scale Factor - used on input, unchanged by jpcpack routine.

           • 2 Decimal Scale Factor - used on input, unchanged by jpcpack routine.

           • 3 number of bits for each data value - ignored on input

           • 4  Original  field  type  - currently ignored on input Data values assumed to be reals. Set to 0 on
             output.

           • 5 if 0 use lossless compression, if 1 use lossy compression.

           • 6 Desired compression ratio, if idrstmpl[5]=1. Set to 255, if idrstmpl[5]=0.  May  be  modified  in
             this function.

           <u>cpack</u>  A  pointer  that  will  get  the  packed data field. Must be allocated before this function is
           called. Pass the allocated size in the lcpack parameter.
           <u>lcpack</u> Pointer that gets the length of packed field in  cpack.  This  must  be  set  by  the  calling
           function to the size available in cpack.

       <b>Author</b>
           Stephen Gilbert, Ed Hartnett

       Definition at line <b>269</b> of file <b>jpcpack.c</b>.

       References <b>jpcpack_int()</b>.

       Referenced by <b>g2_addfield()</b>.

   <b>g2int</b> <b>jpcunpack</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>cpack,</b> <b>g2int</b> <b>len,</b> <b>g2int</b> <b>*</b> <b>idrstmpl,</b> <b>g2int</b> <b>ndpts,</b> <b>float</b> <b>*</b> <b>fld)</b>
       Unpack  JPEG2000  compressed  data into an array of floats, using info from the GRIB2 Data Representation
       Template 5.40 or 5.40000.

       <b>Parameters</b>
           <u>cpack</u> The packed data.
           <u>len</u> The length of the packed data.
           <u>idrstmpl</u> Pointer to array of values for Data Representation Template 5.40 or 5.40000.
           <u>ndpts</u> The number of data values to unpack.
           <u>fld</u> A pointer that gets the unpacked data values as an array of float.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

           • <b>G2_JPCUNPACK_MEM</b> Out of memory.

       <b>Author</b>
           Stephem Gilbert

       <b>Date</b>
           2003-08-27

       Definition at line <b>123</b> of file <b>jpcunpack.c</b>.

       References <b>G2_JPCUNPACK_MEM</b>, <b>jpcunpack_int()</b>, and <b>LOG</b>.

       Referenced by <b>g2c_unpack7_int()</b>.

   <b>void</b> <b>misspack</b> <b>(float</b> <b>*</b> <b>fld,</b> <b>g2int</b> <b>ndpts,</b> <b>g2int</b> <b>idrsnum,</b> <b>g2int</b> <b>*</b> <b>idrstmpl,</b> <b>unsigned</b>  <b>char</b>  <b>*</b>  <b>cpack,</b>  <b>g2int</b>  <b>*</b>
       <b>lcpack)</b>
       Pack  a  data  field  using  a  complex  packing  algorithm. This funciton supports GRIB2 complex packing
       templates with or without spatial differences (See Template 5.2 and Template 5.3).

       This function fills in GRIB2 Data Representation template arrays with the appropriate values.

       <b>Parameters</b>
           <u>fld</u> Contains the data values to pack
           <u>ndpts</u> The number of data values in array fld
           <u>idrsnum</u> Data Representation Template number. Must equal 2 or 3.
           <u>idrstmpl</u> Contains the array of values for Data Representation Template 5.2 or 5.3.

           • 0 Reference value - ignored on input, set by misspack routine.

           • 1 Binary Scale Factor - used on input.

           • 2 Decimal Scale Factor- used on input.

           • 6 Missing value management.

           • 7 Primary missing value.

           • 8 Secondary missing value.

           • 16 Order of Spatial Differencing (1 or 2).

           <u>cpack</u> The packed data field (character*1 array).
           <u>lcpack</u> length of packed field cpack.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2000-06-21

       Definition at line <b>43</b> of file <b>misspack.c</b>.

       References <b>ALOG2</b>, <b>int_power()</b>, <b>mkieee()</b>, <b>pack_gp()</b>, <b>rdieee()</b>, <b>sbit()</b>, and <b>sbits()</b>.

       Referenced by <b>cmplxpack()</b>.

   <b>void</b> <b>mkieee</b> <b>(float</b> <b>*</b> <b>a,</b> <b>g2int</b> <b>*</b> <b>rieee,</b> <b>g2int</b> <b>num)</b>
       Store a list of real values in 32-bit IEEE floating point format.

       <b>Parameters</b>
           <u>a</u> Input array of floating point values.
           <u>num</u> Number of floating point values to convert.
           <u>rieee</u> Output array of data values in 32-bit IEEE format stored in g2int integer array. rieee must  be
           allocated with at least 4*num bytes of memory before calling this function.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2002-10-29

       Definition at line <b>22</b> of file <b>mkieee.c</b>.

       References <b>int_power()</b>.

       Referenced   by   <b>aecpack_int()</b>,  <b>compack()</b>,  <b>g2_addfield()</b>,  <b>jpcpack_int()</b>,  <b>misspack()</b>,  <b>pngpack_int()</b>,
       <b>simpack()</b>, and <b>specpack()</b>.

   <b>int</b> <b>pack_gp</b> <b>(g2int</b> <b>*</b> <b>kfildo,</b> <b>g2int</b> <b>*</b> <b>ic,</b> <b>g2int</b> <b>*</b> <b>nxy,</b> <b>g2int</b> <b>*</b> <b>is523,</b> <b>g2int</b> <b>*</b> <b>minpk,</b>  <b>g2int</b>  <b>*</b>  <b>inc,</b>  <b>g2int</b>  <b>*</b>
       <b>missp,</b>  <b>g2int</b>  <b>*</b>  <b>misss,</b>  <b>g2int</b> <b>*</b> <b>jmin,</b> <b>g2int</b> <b>*</b> <b>jmax,</b> <b>g2int</b> <b>*</b> <b>lbit,</b> <b>g2int</b> <b>*</b> <b>nov,</b> <b>g2int</b> <b>*</b> <b>ndg,</b> <b>g2int</b> <b>*</b> <b>lx,</b>
       <b>g2int</b> <b>*</b> <b>ibit,</b> <b>g2int</b> <b>*</b> <b>jbit,</b> <b>g2int</b> <b>*</b> <b>kbit,</b> <b>g2int</b> <b>*</b> <b>novref,</b> <b>g2int</b> <b>*</b> <b>lbitref,</b> <b>g2int</b> <b>*</b> <b>ier)</b>
       Determines groups of variable size, but at least of size minpk, the associated  max  (jmax(  ))  and  min
       (jmin(  )), the number of bits necessary to hold the values in each group (lbit( )), the number of values
       in each group (nov( )), the number of bits necessary to pack the jmin( ) values  (ibit),  the  number  of
       bits  necessary  to  pack  the lbit( ) values (jbit), and the number of bits necessary to pack the nov( )
       values (kbit). The routine is designed to determine the groups such  that  a  small  number  of  bits  is
       necessary  to  pack  the  data  without  excessive computations. If all values in the group are zero, the
       number of bits to use in packing is defined as zero when there can be no missing values; when  there  can
       be  missing values, the number of bits must be at least 1 to have the capability to recognize the missing
       value. However, if all values in a group are missing, the number of bits needed is 0,  and  the  unpacker
       recognizes  this.  All variables are g2int. Even though the groups are initially of size minpk or larger,
       an adjustment between two groups (the lookback procedure) may  make  a  group  smaller  than  minpk.  The
       control  on  group size is that the sum of the sizes of the two consecutive groups, each of size minpk or
       larger, is not decreased. When determining the number of bits necessary for packing,  the  largest  value
       that  can be accommodated in, say, mbits, is 2**mbits-1; this largest value (and the next smallest value)
       is reserved for the missing value indicator (only) when is523 ne 0. If the dimension  ndg  is  not  large
       enough  to  hold  all  the  groups, the local value of minpk is increased by 50 percent. This is repeated
       until ndg will suffice. A diagnostic is printed whenever this happens, which should be very rarely. If it
       happens often, ndg in subroutine pack should be increased and  a  corresponding  increase  in  subroutine
       unpack  made.  Considerable  code is provided so that no more checking for missing values within loops is
       done than necessary; the added efficiency of this is relatively minor, but does no harm. For  grib2,  the
       reference  value  for  the  length of groups in nov( ) and for the number of bits necessary to pack group
       values are determined, and subtracted before jbit and kbit are determined.

       When 1 or more groups are large compared to the others, the width of all groups must be as large  as  the
       largest.  A  subroutine  reduce  breaks  up large groups into 2 or more to reduce total bits required. If
       reduce should abort, pack_gp will be executed again without the call to reduce.

       PROGRAM HISTORY LOG:

       • February 1994 Glahn tdl mos-2000

       • June 1995 Glahn modified for lmiss error.

       • July 1996 Glahn added misss

       • February 1997 Glahn removed 4 redundant tests for missp.eq.0; inserted a test to better handle a string
         of 9999's

       • February 1997 Glahn added loops to eliminate test for misss when misss = 0

       • March 1997 Glahn corrected for secondary missing value

       • March 1997 Glahn corrected for use of local value of minpk

       • March 1997 Glahn corrected for secondary missing value

       • March 1997 Glahn changed calculating number of bits through exponents to  an  array  (improved  overall
         packing performance by about 35 percent!). allowed 0 bits for packing jmin( ), lbit( ), and nov( ).

       • May 1997 Glahn a number of changes for efficiency. mod functions eliminated and one ifthen added. jount
         removed. recomputation of bits not made unless necessary after moving points from one group to another.
         nendb  adjusted to eliminate possibility of very small group at the end. about 8 percent improvement in
         overall packing. iskipa removed; there is always a group b that can become group a. control on size  of
         group  b  (statement  below  150) added. added adda, and use of ge and le instead of gt and lt in loops
         between 150 and 160. ibitbs added to shorten trips through loop.

       • March 2000 Glahn modified for grib2; changed name from packgp

       • january 2001 Glahn comments; ier = 706 substituted for stops; added return1; removed  statement  number
         110; added ier and * return

       • November 2001 Glahn changed some diagnostic formats to allow printing larger numbers

       • November  2001 Glahn added misslx( ) to put maximum value into jmin( ) when all values missing to agree
         with grib standard.

       • November 2001 Glahn changed two tests on missp and misss eq 0 to tests on  is523.  however,  missp  and
         misss cannot in general be = 0.

       • November  2001  Glahn  added  call to reduce; defined itest before loops to reduce computation; started
         large group when all same value

       • December 2001 Glahn modified and added a few comments

       • January 2002 Glahn removed loop before 150 to determine a group of all same value

       • January 2002 Glahn changed mallow from 9999999 to 2**30+1, and made it a parameter

       • March 2002 Glahn added non fatal ier = 716, 717; removed nendb=nxy above 150; added iersav=0; comments

       DATA SET USE

       • kfildo - unit number for output (print) file. (output)

       <b>Parameters</b>
           <u>kfildo</u> unit number for output (print) file. (input)
           <u>ic</u> array to hold data for packing. the values do not have to be positive at this point, but  must  be
           in  the range -2**30 to +2**30 (the the value of mallow). these g2int values will be retained exactly
           through packing and unpacking. (input)
           <u>nxy</u> number of values in ic( ). also treated as its dimension. (input)
           <u>is523</u> missing value management 0=data contains no missing  values  1=data  contains  primary  missing
           values 2=data contains primary and secondary missing values (input)
           <u>minpk</u> the minimum size of each group, except possibly the last one. (input)
           <u>inc</u> the number of values to add to an already existing group in determining whether or not to start a
           new  group.  ideally, this would be 1, but each time inc values are attempted, the max and min of the
           next minpk values must be found. this is 'a loop within a loop,' and a slightly larger value may give
           about as good results with slightly less computational time. if inc  is  le  0,  1  is  used,  and  a
           diagnostic  is output. note: it is expected that inc will equal 1. the code uses inc primarily in the
           loops starting at statement 180. if inc were 1, there would not need to be loops  as  such.  however,
           kinc  (the  local  value  of inc) is set ge 1 when near the end of the data to forestall a very small
           group at the end. (input)
           <u>missp</u> when missing points can be present in the data, they will have the value missp or misss.  missp
           is the primary missing value and misss is the secondary missing value . these must not be values that
           would  occur  with subtracting the minimum (reference) value or scaling. for example, missp = 0 would
           not be advisable. (input)
           <u>misss</u> secondary missing value indicator (see missp). (input)
           <u>jmin</u> the minimum of each group (j=1,lx). (output)
           <u>jmax</u> the maximum of each group (j=1,lx). this is not really needed, but since the max of  each  group
           must be found, saving it here is cheap in case the user wants it. (output)
           <u>lbit</u>  the  number  of  bits  necessary to pack each group (j=1,lx). it is assumed the minimum of each
           group will be removed before packing, and the values  to  pack  will,  therefore,  all  be  positive.
           however,  ic(  )  does  not  necessarily contain all positive values. if the overall minimum has been
           removed (the usual case), then ic( ) will contain only positive values. (output)
           <u>nov</u> the number of values in each group (j=1,lx). (output)
           <u>ndg</u> the dimension of jmin, jmax, lbit, and nov. (input)
           <u>lx</u> the number of groups determined. (output)
           <u>ibit</u> the number of bits necessary to pack the jmin(j) values, j=1,lx. (output)
           <u>jbit</u> the number of bits necessary to pack the lbit(j) values, j=1,lx. (output)
           <u>kbit</u> the number of bits necessary to pack the nov(j) values, j=1,lx. (output)
           <u>novref</u> reference value for nov( ). (output)
           <u>lbitref</u> reference value for lbit( ). (output)
           <u>ier</u> Error code

           • 0 No error.

           • 706 value will not pack in 30 bits--fatal

           • 714 error in reduce--non-fatal

           • 715 ngp not large enough in reduce--non-fatal

           • 716 minpk inceased--non-fatal

           • 717 inc set

           • 1--non-fatal

           • alternate return when ier ne 0 and fatal error.

       <b>Returns</b>
           0 - check ier for error code.

              INTERNAL VARIABLES

                         cfeed = contains the character representation
                                 of a printer form feed.
                         ifeed = contains the g2int value of a printer
                                 form feed.
                          kinc = working copy of inc. may be modified.
                          mina = minimum value in group a.
                          maxa = maximum value in group a.
                         nenda = the place in ic( ) where group a ends.
                        kstart = the place in ic( ) where group a starts.
                         ibita = number of bits needed to hold values in group a.
                          minb = minimum value in group b.
                          maxb = maximum value in group b.
                         nendb = the place in ic( ) where group b ends.
                         ibitb = number of bits needed to hold values in group b.
                          minc = minimum value in group c.
                          maxc = maximum value in group c.
                        ktotal = count of number of values in ic( ) processed.
                         nount = number of values added to group a.
                         lmiss = 0 when is523 = 0. when packing into a
                                 specific number of bits, say mbits,
                                 the maximum value that can be handled is
                                 2**mbits-1. when is523 = 1, indicating
                                 primary missing values, this maximum value
                                 is reserved to hold the primary missing value
                                 indicator and lmiss = 1. when is523 = 2,
                                 the value just below the maximum i.e.,
                                 2**mbits-2 is reserved to hold the secondary
                                 missing value indicator and lmiss = 2.
                        lminpk = local value of minpk. this will be adjusted
                                 upward whenever ndg is not large enough to hold
                                 all the groups.
                        mallow = the largest allowable value for packing.
                        mislla = set to 1 when all values in group a are missing.
                                 this is used to distinguish between a real
                                 minimum when all values are not missing
                                 and a minimum that has been set to zero when
                                 all values are missing. 0 otherwise.
                                 note that this does not distinguish between
                                 primary and secondary missings when secondary
                                 missings are present. this means that
                                 lbit( ) will not be zero with the resulting
                                 compression efficiency when secondary missings
                                 are present. also note that a check has been
                                 made earlier to determine that secondary
                                 missings are really there.
                        misllb = set to 1 when all values in group b are missing.
                                 this is used to distinguish between a real
                                 minimum when all values are not missing
                                 and a minimum that has been set to zero when
                                 all values are missing. 0 otherwise.
                        misllc = performs the same function for group c that
                                 mislla and misllb do for groups b and c,
                                 respectively.
                      ibxx2(j) = an array that when this routine is first entered
                                 is set to 2**j, j=0,30. <a href="../man30/ibxx2.30.html">ibxx2</a>(30) = 2**30, which
                                 is the largest value packable, because 2**31
                                 is larger than the g2int word size.
                        ifirst = set by data statement to 0. changed to 1 on
                                 first
                                 entry when ibxx2( ) is filled.
                         minak = keeps track of the location in ic( ) where the
                                 minimum value in group a is located.
                         maxak = does the same as minak, except for the maximum.
                         minbk = the same as minak for group b.
                         maxbk = the same as maxak for group b.
                         minck = the same as minak for group c.
                         maxck = the same as maxak for group c.
                          adda = keeps track whether or not an attempt to add
                                 points to group a was made. if so, then adda
                                 keeps from trying to put one back into b.
                                 (g2int)
                        ibitbs = keeps current value if ibitb so that loop
                                 ending at 166 doesn't have to start at
                                 ibitb = 0 every time.
                     misslx(j) = mallow except when a group is all one value (and
                                 lbit(j) = 0) and that value is missing. in
                                 that case, misslx(j) is missp or misss. this
                                 gets inserted into jmin(j) later as the
                                 missing indicator; it can't be put in until
                                 the end, because jmin( ) is used to calculate
                                 the maximum number of bits (ibits) needed to
                                 pack jmin( ).

       Definition at line <b>255</b> of file <b>pack_gp.c</b>.

       References <b>FALSE_</b>, <b>reduce()</b>, and <b>TRUE_</b>.

       Referenced by <b>compack()</b>, and <b>misspack()</b>.

   <b>void</b> <b>pngpack</b> <b>(float</b> <b>*</b> <b>fld,</b> <b>g2int</b> <b>width,</b> <b>g2int</b> <b>height,</b> <b>g2int</b> <b>*</b>  <b>idrstmpl,</b>  <b>unsigned</b>  <b>char</b>  <b>*</b>  <b>cpack,</b>  <b>g2int</b>  <b>*</b>
       <b>lcpack)</b>
       This  subroutine  packs  up a float data field into PNG image format. After the data field is scaled, and
       the reference value is subtracted out, it is treated as a grayscale image and passed to a PNG encoder. It
       also fills in GRIB2 Data Representation Template 5.41 or 5.40010 with the appropriate values.

       <b>Parameters</b>
           <u>fld</u> Pointer to array of float that contains the data values to pack.
           <u>width</u> Number of points in the x direction.
           <u>height</u> Number of points in the y direction.
           <u>idrstmpl</u> Contains the array of values for Data Representation Template 5.41 or 5.40010.

           • 0 Reference value - ignored on input, set by pngpack routine.

           • 1 Binary Scale Factor - used on input.

           • 2 Decimal Scale Factor - used on input.

           • 3 number of bits for each grayscale pixel value - ignored on input.

           • 4 Original field type - currently ignored on input, set = 0 on output. Data values  assumed  to  be
             reals.

           <u>cpack</u> The packed data field.
           <u>lcpack</u> length of packed field cpack.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2003-08-27

       <b>Author</b>
           Ed Hartnett

       Definition at line <b>254</b> of file <b>pngpack.c</b>.

       References <b>pngpack_int()</b>.

       Referenced by <b>g2_addfield()</b>.

   <b>g2int</b> <b>pngunpack</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>cpack,</b> <b>g2int</b> <b>len,</b> <b>g2int</b> <b>*</b> <b>idrstmpl,</b> <b>g2int</b> <b>ndpts,</b> <b>float</b> <b>*</b> <b>fld)</b>
       This  subroutine  unpacks  a data field that was packed into a PNG image format using info from the GRIB2
       Data Representation Template 5.41 or 5.40010.

       <b>Parameters</b>
           <u>cpack</u> The packed data field (character*1 array).
           <u>len</u> length of packed field cpack().
           <u>idrstmpl</u> Pointer to array of values for Data Representation Template 5.41 or 5.40010.
           <u>ndpts</u> The number of data values to unpack.
           <u>fld</u> Contains the unpacked data values.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

           • <b>G2_JPCUNPACK_MEM</b> Out of memory.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2003-08-27

       <b>Author</b>
           Ed Hartnett

       Definition at line <b>126</b> of file <b>pngunpack.c</b>.

       References <b>G2_JPCUNPACK_MEM</b>, <b>G2C_ENOMEM</b>, and <b>pngunpack_int()</b>.

       Referenced by <b>g2c_unpack7_int()</b>.

   <b>void</b> <b>rdieee</b> <b>(g2int</b> <b>*</b> <b>rieee,</b> <b>float</b> <b>*</b> <b>a,</b> <b>g2int</b> <b>num)</b>
       Read a list of real values in 32-bit IEEE floating point format.

       <b>Parameters</b>
           <u>rieee</u> g2int array of floating point values in 32-bit IEEE format.
           <u>num</u> Number of floating point values to convert.
           <u>a</u> float array of real values. a must be allocated with at least 4*num bytes of memory before  calling
           this function.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2002-10-25

       Definition at line <b>20</b> of file <b>rdieee.c</b>.

       References <b>int_power()</b>.

       Referenced  by <b>aecunpack_int()</b>, <b>comunpack()</b>, <b>g2_miss()</b>, <b>g2_unpack4()</b>, <b>g2c_unpack7_int()</b>, <b>jpcunpack_int()</b>,
       <b>misspack()</b>, <b>pngunpack_int()</b>, <b>simunpack()</b>, and <b>specunpack()</b>.

   <b>void</b> <b>sbit</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>out,</b> <b>g2int</b> <b>*</b> <b>in,</b> <b>g2int</b> <b>iskip,</b> <b>g2int</b> <b>nbits)</b>
       Store arbitrary size values into a packed bit string, taking the low order bits from each  value  in  the
       unpacked array.

       <b>Parameters</b>
           <u>out</u> Pointer to packed array output. Must be allocated large enough to hold output.
           <u>in</u> Pointer that gets the unpacked array input.
           <u>iskip</u> Initial number of bits to skip.
           <u>nbits</u> Number of bits to pack.

       <b>Author</b>
           NOAA Programmer

       Definition at line <b>38</b> of file <b>gbits.c</b>.

       References <b>sbits()</b>.

       Referenced   by   <b>compack()</b>,   <b>g2_addfield()</b>,  <b>g2_addgrid()</b>,  <b>g2_addlocal()</b>,  <b>g2_create()</b>,  <b>g2_gribend()</b>,
       <b>misspack()</b>, and <b>simpack()</b>.

   <b>void</b> <b>sbits</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>out,</b> <b>g2int</b> <b>*</b> <b>in,</b> <b>g2int</b> <b>iskip,</b> <b>g2int</b> <b>nbits,</b> <b>g2int</b> <b>nskip,</b> <b>g2int</b> <b>n)</b>
       Store arbitrary size values into a packed bit string, taking the low order bits from each  value  in  the
       unpacked array.

       <b>Parameters</b>
           <u>out</u> Pointer to packed array output. Must be allocated large enough to hold output.
           <u>in</u> Pointer that gets the unpacked array input.
           <u>iskip</u> Initial number of bits to skip.
           <u>nbits</u> Number of bits to pack.
           <u>nskip</u> Additional number of bits to skip on each iteration.
           <u>n</u> Number of iterations.

       <b>Author</b>
           NOAA Programmer

       Definition at line <b>178</b> of file <b>gbits.c</b>.

       Referenced   by   <b>aecpack_int()</b>,   <b>compack()</b>,  <b>g2_addfield()</b>,  <b>g2_addgrid()</b>,  <b>jpcpack_int()</b>,  <b>misspack()</b>,
       <b>pngpack_int()</b>, <b>sbit()</b>, and <b>simpack()</b>.

   <b>void</b> <b>simpack</b> <b>(float</b> <b>*</b> <b>fld,</b> <b>g2int</b> <b>ndpts,</b> <b>g2int</b> <b>*</b> <b>idrstmpl,</b> <b>unsigned</b> <b>char</b> <b>*</b> <b>cpack,</b> <b>g2int</b> <b>*</b> <b>lcpack)</b>
       Packs a data field  using  the  simple  packing  algorithm.  This  function  also  fills  in  GRIB2  Data
       Representation Template 5.0 with the appropriate values.

       <b>Parameters</b>
           <u>fld</u> Contains the data values to pack.
           <u>ndpts</u> The number of data values in array fld.
           <u>idrstmpl</u>     Contains     the     array    of    values    for    [Data    Representation    Template
           5.0](https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_temp5-0.shtml).

           • 0 Reference value - ignored on input - set by simpack routine.

           • 1 Binary Scale Factor - unchanged from input.

           • 2 Decimal Scale Factor - unchanged from input.

           • 3 Number of bits used to pack data, if value is &gt; 0 and &lt;= 31. If this input value is 0 or  outside
             above range then the num of bits is calculated based on given data and scale factors.

           • 4  Original  field  type - currently ignored on input. Data values assumed to be reals. Set to 0 by
             simpack routine.

           <u>cpack</u> The packed data field
           <u>lcpack</u> length of packed field starting at cpack.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2002-11-06

       Definition at line <b>36</b> of file <b>simpack.c</b>.

       References <b>ALOG2</b>, <b>int_power()</b>, <b>LOG</b>, <b>mkieee()</b>, <b>sbit()</b>, and <b>sbits()</b>.

       Referenced by <b>g2_addfield()</b>, and <b>specpack()</b>.

   <b>g2int</b> <b>simunpack</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>cpack,</b> <b>g2int</b> <b>*</b> <b>idrstmpl,</b> <b>g2int</b> <b>ndpts,</b> <b>float</b> <b>*</b> <b>fld)</b>
       Unpack a data field that was packed using a simple packing algorithm, using  info  from  the  GRIB2  Data
       Representation Template 5.0.

       <b>Parameters</b>
           <u>cpack</u> pointer to the packed data field.
           <u>idrstmpl</u> pointer to the array of values for Data Representation Template 5.0.
           <u>ndpts</u> The number of data values to unpack.
           <u>fld</u>  A  pointer  that  gets  the unpacked data values. fld must be `* allocated with at least ndpts *
           sizeof(float) bytes before calling this routine.

       <b>Returns</b>
           0 for success, error code otherwise.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2002-10-29

       Definition at line <b>28</b> of file <b>simunpack.c</b>.

       References <b>G2_JPCUNPACK_MEM</b>, <b>G2_NO_ERROR</b>, <b>gbits()</b>, <b>int_power()</b>, <b>LOG</b>, and <b>rdieee()</b>.

       Referenced by <b>g2c_unpack7_int()</b>.

   <b>void</b> <b>specpack</b> <b>(float</b> <b>*</b> <b>fld,</b> <b>g2int</b> <b>ndpts,</b> <b>g2int</b> <b>JJ,</b> <b>g2int</b> <b>KK,</b> <b>g2int</b> <b>MM,</b> <b>g2int</b>  <b>*</b>  <b>idrstmpl,</b>  <b>unsigned</b>  <b>char</b>  <b>*</b>
       <b>cpack,</b> <b>g2int</b> <b>*</b> <b>lcpack)</b>
       Pack  a spectral data field using the complex packing algorithm for spherical harmonic data as defined in
       the GRIB2 Data Representation Template 5.51.

       <b>Parameters</b>
           <u>fld</u> Contains the data values to be packed.
           <u>ndpts</u> The number of data values to pack.
           <u>JJ</u> J - pentagonal resolution parameter.
           <u>KK</u> K - pentagonal resolution parameter.
           <u>MM</u> M - pentagonal resolution parameter.
           <u>idrstmpl</u>   Contains   the   array    of    10    values    for    [Data    Representation    Template
           5.51](https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_temp5-51.shtml).
           <u>cpack</u> Pointer that gets the packed data field. Must be allocated by caller.
           <u>lcpack</u> length of packed field cpack.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2002-12-19

       Definition at line <b>33</b> of file <b>specpack.c</b>.

       References <b>mkieee()</b>, and <b>simpack()</b>.

       Referenced by <b>g2_addfield()</b>.

   <b>g2int</b> <b>specunpack</b> <b>(unsigned</b> <b>char</b> <b>*</b> <b>cpack,</b> <b>g2int</b> <b>*</b> <b>idrstmpl,</b> <b>g2int</b> <b>ndpts,</b> <b>g2int</b> <b>JJ,</b> <b>g2int</b> <b>KK,</b> <b>g2int</b> <b>MM,</b> <b>float</b> <b>*</b>
       <b>fld)</b>
       Unpack  a  spectral data field that was packed using the complex packing algorithm for spherical harmonic
       data as defined in the GRIB2 documention, using info from the GRIB2 Data Representation Template 5.51.

       <b>Parameters</b>
           <u>cpack</u> pointer to the packed data field.
           <u>idrstmpl</u> pointer to the array of values for Data Representation Template 5.51.
           <u>ndpts</u> The number of data values to unpack (real and imaginary parts).
           <u>JJ</u> pentagonal resolution parameter.
           <u>KK</u> pentagonal resolution parameter.
           <u>MM</u> pentagonal resolution parameter.
           <u>fld</u> Contains the unpacked data values. fld must be allocated with  at  least  ndpts  *  sizeof(float)
           bytes before calling this routine.

       <b>Returns</b>
           0 for success, -3 for wrong type.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2000-06-21

       Definition at line <b>35</b> of file <b>specunpack.c</b>.

       References <b>G2_NO_ERROR</b>, <b>G2_SPECUNPACK_TYPE</b>, <b>gbits()</b>, <b>int_power()</b>, and <b>rdieee()</b>.

       Referenced by <b>g2c_unpack7_int()</b>.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for NCEPLIBS-g2c from the source code.

NCEPLIBS-g2c                                      Version 2.1.0                                   <u><a href="../man3/grib2_int.h.3.html">grib2_int.h</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>