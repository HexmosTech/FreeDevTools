<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tdbc::resultset - TDBC result set object</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl8.6-tdbc">tcl8.6-tdbc_1.1.10-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       tdbc::resultset - TDBC result set object

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>tdbc</b> <b>1.0</b>
       package require <b>tdbc::</b><u>driver</u> <u>version</u>

       <b>tdbc::</b><u>driver</u><b>::connection</b> <b>create</b> <u>db</u> <u>?-option</u> <u>value</u>...?

       <b>set</b> <u>stmt</u> <b>[</b><u>db</u> <b>prepare</b> <u>sql-code</u><b>]</b>
       <b>set</b> <u>resultset</u> <b>[</b><u>$stmt</u> <b>execute</b> ?<u>args...</u>?<b>]</b>

       <u>$resultset</u> <b>columns</b>
       <u>$resultset</u> <b>rowcount</b>
       <u>$resultset</u> <b>nextrow</b> ?<b>-as</b> <b>lists</b>|<b>dicts</b>? ?<b>--</b>? <u>varname</u>
       <u>$resultset</u> <b>nextlist</b> <u>varname</u>
       <u>$resultset</u> <b>nextdict</b> <u>varname</u>
       <u>$resultset</u> <b>nextresults</b>
       <u>$resultset</u> <b>allrows</b> ?<b>-as</b> <b>lists|dicts</b>? ?<b>-columnsvariable</b> <u>name</u>? ?<b>--</b>?
       <u>$resultset</u> <b>foreach</b> ?<b>-as</b> <b>lists|dicts</b>? ?<b>-columnsvariable</b> <u>name</u>? ?<b>--</b>? <u>varname</u> <u>script</u>
       <u>$resultset</u> <b>close</b>
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Every database driver for TDBC (Tcl DataBase Connectivity) implements a <u>result</u> <u>set</u> object that represents
       a  the  results returned from executing SQL statement in a database. Instances of this object are created
       by executing the <b>execute</b> object command on a statement object.

       The <b>columns</b> object command returns a list of the names of the columns in the result set. The columns will
       appear in the same order as they appeared in the SQL statement that performed the database query. If  the
       SQL  statement  does  not  return  a  set of columns (for instance, if it is an INSERT, UPDATE, or DELETE
       statement), the <b>columns</b> command will return an empty list.

       The <b>rowcount</b> object command returns the number of  rows  in  the  database  that  were  affected  by  the
       execution  of  an  INSERT,  UPDATE  or  DELETE  statement.   For  a  SELECT  statement,  the row count is
       unspecified.

       The <b>nextlist</b> object command sets the variable given by <u>varname</u> in the caller's scope to the next  row  of
       the results, expressed as a list of column values. NULL values are replaced by empty strings. The columns
       of  the result row appear in the same order in which they appeared on the SELECT statement. The return of
       <b>nextlist</b> is <b>1</b> if the operation succeeded, and <b>0</b>  if the end of the result set was reached.

       The <b>nextdict</b> object command sets the variable given by <u>varname</u> in the caller's scope to the next  row  of
       the  results,  expressed  as a dictionary. The dictionary's keys are column names, and the values are the
       values of those columns in the row. If a column's value in the row is NULL, its key is omitted  from  the
       dictionary.   The  keys  appear  in the dictionary in the same order in which the columns appeared on the
       SELECT statement. The return of <b>nextdict</b> is <b>1</b> if the operation succeeded, and <b>0</b>  if the end of the result
       set was reached.

       The <b>nextrow</b> object command is precisely equivalent to the <b>nextdict</b> or <b>nextlist</b> object command,  depending
       on whether <b>-as</b> <b>dicts</b> (the default) or <b>-as</b> <b>lists</b> is specified.

       Some  databases  support  the  idea  of  a  single  statement  that returns multiple sets of results. The
       <b>nextresults</b> object command is executed, typically after the  <b>nextlist</b>  of  <b>nextdict</b>  object  command  has
       returned  <b>0</b>,  to  advance to the next result set. It returns <b>1</b> if there is another result set to process,
       and <b>0</b> if the result set just processed was the last. After calling <b>nextresults</b>  and  getting  the  return
       value of <b>1</b>, the caller may once again call <b>columns</b> to get the column descriptions of the next result set,
       and  then  return  to  calling <b>nextdict</b> or <b>nextlist</b> to process the rows of the next result set.  It is an
       error to call <b>columns</b>, <b>nextdict</b>, <b>nextlist</b> or <b>nextrow</b> after <b>nextresults</b> has returned <b>0</b>.

       The <b>allrows</b> object command sets the variable designated by the <b>-columnsvariable</b> option  (if  present)  to
       the  result  of  the <b>columns</b> object command. It then executes the <b>nextrow</b> object command repeatedly until
       the end of the result set is reached. If <b>nextresults</b> returns a nonzero value, it executes the  above  two
       steps  (<b>columns</b>  followed  by  iterated <b>nextrow</b> calls) as long as further results are available. The rows
       returned by <b>nextrow</b> are assembled into a Tcl list and become the return value of the <b>allrows</b> command; the
       last value returned from <b>columns</b> is what the application will see in <b>-columnsvariable</b>.

       The <b>foreach</b> object command sets the variable designated by the <b>-columnsvariable</b> option  (if  present)  to
       the  result  of  the <b>columns</b> object command. It then executes the <b>nextrow</b> object command repeatedly until
       the end of the result set is reached, storing the successive rows in the variable designated by  <u>varName</u>.
       For each row, it executes the given <u>script</u>. If the script terminates with an error, the error is reported
       by  the  <b>foreach</b>  command,  and  iteration stops. If the script performs a <b>break</b> operation, the iteration
       terminates prematurely. If the script performs a <b>continue</b> operation, the iteration recommences  with  the
       next  row.   If  the script performs a <b>return</b>, results are the same as if a script outside the control of
       <b>foreach</b> had returned. Any other unusual return code terminates the iteration and  is  reported  from  the
       <b>foreach</b>.

       Once  <b>nextrow</b>  returns  <b>0</b>,  the  <b>foreach</b>  object  command  tries  to advance to the next result set using
       <b>nextresults</b>.  If <b>nextresults</b> returns <b>1</b>, the above steps (<b>columns</b> and <b>nextrow</b>, with script invocation) are
       repeated as long as more result sets remain. The <u>script</u> will always see the correct  description  of  the
       columns  of  the  current  result  set in the variable designated byt <b>-columnsvariable</b>. At the end of the
       call, the variable designated by <b>-columnsvariable</b> will have the description of the columns  of  the  last
       result set.

       The <b>close</b> object command deletes the result set and frees any associated system resources.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3tcl/encoding.3tcl.html">encoding</a>(3tcl), <a href="../man3tcl/tdbc.3tcl.html">tdbc</a>(3tcl), tdbc::<a href="../man3tcl/connection.3tcl.html">connection</a>(3tcl), tdbc::<a href="../man3tcl/statement.3tcl.html">statement</a>(3tcl), tdbc::<a href="../man3tcl/tokenize.3tcl.html">tokenize</a>(3tcl)

</pre><h4><b>KEYWORDS</b></h4><pre>
       TDBC,  SQL,  database,  connectivity, connection, resultset, statement, bound variable, stored procedure,
       call

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2008 by Kevin B. Kenny.

Tcl                                                    8.6                                 <u>tdbc::<a href="../man3tcl/resultset.3tcl.html">resultset</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>