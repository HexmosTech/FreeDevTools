<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DBIx::Class::Helper::ResultSet::Random - Get random rows from a ResultSet</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdbix-class-helpers-perl">libdbix-class-helpers-perl_2.037000-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       DBIx::Class::Helper::ResultSet::Random - Get random rows from a ResultSet

</pre><h4><b>SYNOPSIS</b></h4><pre>
        # note that this is normally a component for a ResultSet
        package MySchema::ResultSet::Bar;

        use strict;
        use warnings;

        use parent 'DBIx::Class::ResultSet';

        __PACKAGE__-&gt;load_components('Helper::ResultSet::Random');

        # in code using resultset:
        my $random_row  = $schema-&gt;resultset('Bar')-&gt;rand-&gt;single;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This component allows convenient selection of random rows.  See "NOTE" in DBIx::Class::Helper::ResultSet
       for a nice way to apply it to your entire schema.

       Currently this works by doing something akin to

        SELECT TOP($x) from $table ORDER BY RANDOM()

       Lots of people think this is slow.  My own benchmarks show that doing the above, for 10 rows in a table
       with just over 8 million rows, is nearly instant.  Although that was with SQL Server, and different
       databases will handle that differently.

       So please, if you have performance issues and want this to work with your database, get in touch and I
       will do what I can to get it to work quickly enough to suite your needs.

</pre><h4><b>METHODS</b></h4><pre>
   <b>rand</b>
       This method takes a single argument, being the size of the random ResultSet to return.  It defaults to 1.
       This Component will throw exceptions if the argument is not an integer or not greater than zero.

   <b>_rand_order_by</b>
       This module currently does an "ORDER BY" on some db specific function.  If for some reason it guesses
       incorrectly for your database the easiest way to fix that in the short-term (ie without patching
       upstream) is to override this method.  So for example, if your db uses RAND() instead of RANDOM() and
       it's not in the predefined list of dbs you could just do the following in your ResultSet class:

        sub _rand_order_by { 'RAND()' }

</pre><h4><b>AUTHOR</b></h4><pre>
       Arthur Axel "fREW" Schmidt &lt;frioux+<a href="mailto:cpan@gmail.com">cpan@gmail.com</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2024 by Arthur Axel "fREW" Schmidt.

       This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.40.0                                       2024-11-16             <u>DBIx::Class::He...sultSet::<a href="../man3pm/Random.3pm.html">Random</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>