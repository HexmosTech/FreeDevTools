<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>disksup - A Disk Supervisor Process</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/erlang-manpages">erlang-manpages_24.2.1+dfsg-1ubuntu0.5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       disksup - A Disk Supervisor Process

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>disksup</u>  is  a  process which supervises the available disk space in the system. It is part of the OS_Mon
       application, see <a href="../man7/os_mon.7.html">os_mon</a>(7). Available for Unix and Windows.

       Periodically checks the disks. For each disk or partition which uses more than a certain  amount  of  the
       available space, the alarm <u>{{disk_almost_full,</u> <u>MountedOn},</u> <u>[]}</u> is set.

         <b>On</b> <b>Unix:</b>
           All (locally) mounted disks are checked, including the swap disk if it is present.

         <b>On</b> <b>WIN32:</b>
           All logical drives of type "FIXED_DISK" are checked.

       Alarms   are   reported   to   the  SASL  alarm  handler,  see  <a href="../man3erl/alarm_handler.3erl.html">alarm_handler</a>(3erl).  To  set  an  alarm,
       <u>alarm_handler:set_alarm(Alarm)</u> is called where <u>Alarm</u> is the alarm specified above.

       The alarms are cleared automatically when the alarm cause is no longer valid.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       The following configuration parameters can be used to change the default values  for  time  interval  and
       threshold:

         <u>disk_space_check_interval</u> <u>=</u> <u>int()&gt;0</u>:
           The time interval, in minutes, for the periodic disk space check. The default is 30 minutes.

         <u>disk_almost_full_threshold</u> <u>=</u> <u>float()</u>:
           The  threshold,  as  percentage  of  total  disk  space, for how much disk can be utilized before the
           <u>disk_almost_full</u> alarm is set. The default is 0.80 (80%).

         <u>disksup_posix_only</u> <u>=</u> <u>bool()</u>:
           Specifies whether the <u>disksup</u> helper process should only use POSIX conformant commands (<u>true</u>) or not.
           The default is <u>false</u>. Setting this parameter to <u>true</u>  can  be  necessary  on  embedded  systems  with
           stripped-down versions of Unix tools like <u>df</u>. The returned disk data and alarms can be different when
           using this option.

           The parameter is ignored on platforms that are known to not be POSIX compatible (Windows and SunOS).

       See <a href="../man5/config.5.html">config</a>(5) for information about how to change the value of configuration parameters.

</pre><h4><b>EXPORTS</b></h4><pre>
       <b>get_disk_data()</b> <b>-&gt;</b> <b>[DiskData]</b>

              Types:

                 DiskData = {Id, KByte, Capacity}
                  Id = string()
                  KByte = int()
                  Capacity = int()

              Returns the result of the latest disk check. <u>Id</u> is a string that identifies the disk or partition.
              <u>KByte</u>  is  the  total  size of the disk or partition in kbytes. <u>Capacity</u> is the percentage of disk
              space used.

              The function is asynchronous in the sense that it does not invoke a disk check,  but  returns  the
              latest available value.

              Returns <u>[{"none",0,0}]</u> if <u>disksup</u> is not available.

       <b>get_check_interval()</b> <b>-&gt;</b> <b>MS</b>

              Types:

                 MS = int()

              Returns the time interval, in milliseconds, for the periodic disk space check.

       <b>set_check_interval(Minutes)</b> <b>-&gt;</b> <b>ok</b>

              Types:

                 Minutes = int()&gt;=1

              Changes the time interval, given in minutes, for the periodic disk space check.

              The  change  will take effect after the next disk space check and is non-persist. That is, in case
              of a process  restart,  this  value  is  forgotten  and  the  default  value  will  be  used.  See
              Configuration above.

       <b>get_almost_full_threshold()</b> <b>-&gt;</b> <b>Percent</b>

              Types:

                 Percent = int()

              Returns the threshold, in percent, for disk space utilization.

       <b>set_almost_full_threshold(Float)</b> <b>-&gt;</b> <b>ok</b>

              Types:

                 Float = float(), 0=&lt;Float=&lt;1

              Changes the threshold, given as a float, for disk space utilization.

              The  change will take effect during the next disk space check and is non-persist. That is, in case
              of a process  restart,  this  value  is  forgotten  and  the  default  value  will  be  used.  See
              Configuration above.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3erl/alarm_handler.3erl.html">alarm_handler</a>(3erl), <a href="../man3erl/os_mon.3erl.html">os_mon</a>(3erl)

Ericsson AB                                       os_mon 2.7.1                                     <u><a href="../man3erl/disksup.3erl.html">disksup</a></u>(3erl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>