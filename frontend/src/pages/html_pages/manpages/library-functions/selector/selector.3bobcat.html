<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FBB::Selector - Timed delays, Alarms and Multiple File I/O.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbobcat-dev">libbobcat-dev_6.07.01-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       FBB::Selector - Timed delays, Alarms and Multiple File I/O.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;bobcat/selector&gt;</b>
       Linking option: <u>-lbobcat</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>FBB::Selector</b>  objects  are  wrappers  around  the  <b><a href="../man2/select.2.html">select</a></b>(2)  system calls and allow timed delays, alarm
       functionality and/or multiple file I/O. It requires the  use  of  <u>file</u>  <u>descriptors</u>,  which  are  not  an
       official part of <b>C++</b>. However, most operating systems offer <u>file</u> <u>descriptors</u>. Sockets are well-known file
       descriptors.

</pre><h4><b>NAMESPACE</b></h4><pre>
       <b>FBB</b>
       All  constructors,  members,  operators  and manipulators, mentioned in this man-page, are defined in the
       namespace <b>FBB</b>.

</pre><h4><b>INHERITS</b> <b>FROM</b></h4><pre>
       -

</pre><h4><b>CONSTRUCTORS</b></h4><pre>
       o      <b>Selector()</b>:
              This constructor initializes the object.

       Copy and move constructors (and assignment operators) are available.

</pre><h4><b>MEMBER</b> <b>FUNCTIONS</b></h4><pre>
       o      <b>void</b> <b>addExceptFd(int</b> <b>fd)</b>:
              Adds a filedescriptor to the set of file descriptors that are monitored for exceptions (note these
              are not <b>C++</b> exceptions. See <u>man</u> <u>2</u> <u>select</u> for details).

       o      <b>void</b> <b>addReadFd(int</b> <b>fd)</b>:
              Adds a filedescriptor to the set of file descriptors that are monitored for reading.

       o      <b>void</b> <b>addWriteFd(int</b> <b>fd)</b>:
              Adds a filedescriptor to the set of file descriptors that are monitored for writing.

       o      <b>int</b> <b>exceptFd()</b>:
              Returns -1 of no more file descriptors are available in the <u>exception</u> category. Otherwise the next
              available file descriptor in the  <u>exception</u>  category  is  returned.  Returning  from  <u>wait</u>,  this
              function can be called repeatedly until -1 is returned, servicing each available filedescriptor in
              turn.

       o      <b>void</b> <b>noAlarm()</b>:
              This member prevents any timeout-alarm from occurring.

       o      <b>int</b> <b>nReady()</b>:
              Returns  the  number  of  available file descriptors.  0 is returned at a timeout, -1: is returned
              when <u><a href="../man2/select.2.html">select</a></u>(2) itself failed.

       o      <b>int</b> <b>readFd()</b>:
              Returns -1 of no more file descriptors are available for reading.  Otherwise  the  next  available
              file  descriptor  for  reading  is  returned.  Returning  from  <u>wait</u>,  this function can be called
              repeatedly until -1 is returned, servicing each available filedescriptor in turn.  Note  that  the
              file whose file descriptor is returned by <u>readFd</u> may also be at its end-of-file position. The file
              is  `ready for reading’, but no characters will be returned when trying to read from it due to its
              end-of-file status. In that case the file descriptor is probably best  removed  from  the  set  of
              active file descriptors.

       o      <b>void</b> <b>rmExceptFd(int</b> <b>fd)</b>:
              Removes  a filedescriptor from the set of file descriptors that are monitored for exceptions (note
              these are not <b>C++</b> exceptions. See <u>man</u> <u>2</u> <u>select</u> for details).

       o      <b>void</b> <b>rmReadFd(int</b> <b>fd)</b>:
              Removes a filedescriptor from the set of file descriptors that are monitored for reading.

       o      <b>void</b> <b>rmWriteFd(int</b> <b>fd)</b>:
              Removes a filedescriptor from the set of file descriptors that are monitored for writing.

       o      <b>void</b> <b>setAlarm(int</b> <b>sec,</b> <b>int</b> <b>usec</b> <b>=</b> <b>0)</b>:
              This member sets the alarm at the indicated seconds and micro-seconds. If no  action  occurred  on
              one  of  the  monitored file descriptions following the indicated amount of time, <u>wait</u> will return
              with <u>nReady</u> returning 0. The requested alarm time (<u>sec</u> <u>+</u> <u>usec</u> <u>/</u> <u>1e+6</u>) may not be negative and  may
              not  exceed  <u>std::numeric_limits&lt;int&gt;::max()</u>  or  an  <u>FBB::Exception</u> exception will be thrown. A 0
              alarm time specification results in <u>wait</u> returning immediately. To switch off the alarm  time  use
              <u>noAlarm</u>.

       o      <b>int</b> <b>wait()</b>:
              This  member  should  be  called  to  wait  for  activities  on  the installed file descriptors or
              timeout-period. The members <u>exceptFd,</u> <u>nReady,</u> <u>readFd</u> and <u>writeFd</u> show their defined behaviors only
              after <u>wait</u> has returned.

              It throws an <u>FBB::Exception</u> exception when <b><a href="../man2/select.2.html">select</a></b>(2) fails, which may very well indicate  the  end
              of any available input. An exception is also thrown if the program received a signal.

              If  <u>wait</u>  returns  normally  its return value represents the number of available file descriptors.
              Note that <u>wait</u> may also return with an input file descriptor returned by <u>readFd</u> of a file  at  its
              end-of-file  position.  The  file  is `ready for reading’, but no characters will be returned when
              trying to read from it due to its end-of-file status.

       o      <b>int</b> <b>writeFd()</b>:
              Returns -1 of no more file descriptors are available for writing.  Otherwise  the  next  available
              file  descriptor  for  writing  is  returned.  Returning  from  <u>wait</u>,  this function can be called
              repeatedly until -1 is returned, servicing each available filedescriptor in turn.

</pre><h4><b>EXAMPLE</b></h4><pre>
       #include &lt;string&gt;
       #include &lt;iostream&gt;

       #include &lt;bobcat/selector&gt;
       #include &lt;bobcat/exception&gt;

       using namespace std;
       using namespace FBB;

       int main(int argc, char **argv, char **envp)
       try
       {
           Selector selector;

           <a href="../man5/selector.setAlarm.5.html">selector.setAlarm</a>(5);               // every 5 secs: alarm fires
           selector.addReadFd(STDIN_FILENO);   // look also at cin

           while (true)
           {
               if (!selector.wait())           // 0: alarm fires
                   cout &lt;&lt; "Are you still there?" &lt;&lt; endl;
               else
               {
                   string s;
                   if (!getline(cin, s) || !s.length())
                       return 0;
                   cout &lt;&lt; "Thank you for: " &lt;&lt; s &lt;&lt; endl;
               }
           }
       }
       catch (Exception const &amp;e)
       {
           cout &lt;&lt; e.what() &lt;&lt; ’\n’;
           return 1;
       }

</pre><h4><b>FILES</b></h4><pre>
       <u>bobcat/selector</u> - defines the class interface

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/bobcat.7.html">bobcat</a></b>(7), <b><a href="../man2/select.2.html">select</a></b>(2)

</pre><h4><b>BUGS</b></h4><pre>
       None reported

</pre><h4><b>BOBCAT</b> <b>PROJECT</b> <b>FILES</b></h4><pre>
       o      <u>https://fbb-git.gitlab.io/bobcat/</u>: gitlab project page;

       Debian Bobcat project files:

       o      <u>libbobcat6</u>: debian package containing the shared library, changelog and copyright note;

       o      <u>libbobcat-dev</u>: debian package containing the static library, headers, manual pages, and  developer
              info;

</pre><h4><b>BOBCAT</b></h4><pre>
       Bobcat is an acronym of `Brokken’s Own Base Classes And Templates’.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This is free software, distributed under the terms of the GNU General Public License (GPL).

</pre><h4><b>AUTHOR</b></h4><pre>
       Frank B. Brokken (<b><a href="mailto:f.b.brokken@rug.nl">f.b.brokken@rug.nl</a></b>).

libbobcat-dev_6.07.01                               2005-2025                             <u>FBB::<a href="../man3bobcat/Selector.3bobcat.html">Selector</a></u>(3bobcat)
</pre>
 </div>
</div></section>
</div>
</body>
</html>