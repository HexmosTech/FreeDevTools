<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>globus_ftp_client_restart_marker_plugin - Restart Marker Plugin</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libglobus-ftp-client-doc">libglobus-ftp-client-doc_9.8-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       globus_ftp_client_restart_marker_plugin - Restart Marker Plugin

        - Restart Marker Plugin.

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Macros</b>
       #define <b>GLOBUS_FTP_CLIENT_RESTART_MARKER_PLUGIN_MODULE</b>
           (&amp;globus_i_ftp_client_restart_marker_plugin_module)

   <b>Typedefs</b>
       typedef globus_bool_t(* <b>globus_ftp_client_restart_marker_plugin_begin_cb_t</b>) (void *user_arg,
           <b>globus_ftp_client_handle_t</b> *handle, const char *source_url, const char *dest_url,
           <b>globus_ftp_client_restart_marker_t</b> *user_saved_marker)
           Transfer begin callback.
       typedef void(* <b>globus_ftp_client_restart_marker_plugin_marker_cb_t</b>) (void *user_arg,
           <b>globus_ftp_client_handle_t</b> *handle, <b>globus_ftp_client_restart_marker_t</b> *marker)
       typedef void(* <b>globus_ftp_client_restart_marker_plugin_complete_cb_t</b>) (void *user_arg,
           <b>globus_ftp_client_handle_t</b> *handle, globus_object_t *error, const char *error_url)

   <b>Functions</b>
       globus_result_t <b>globus_ftp_client_restart_marker_plugin_init</b> (<b>globus_ftp_client_plugin_t</b> *plugin,
           <b>globus_ftp_client_restart_marker_plugin_begin_cb_t</b> begin_cb,
           <b>globus_ftp_client_restart_marker_plugin_marker_cb_t</b> marker_cb,
           <b>globus_ftp_client_restart_marker_plugin_complete_cb_t</b> complete_cb, void *user_arg)
       globus_result_t <b>globus_ftp_client_restart_marker_plugin_destroy</b> (<b>globus_ftp_client_plugin_t</b> *plugin)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Restart Marker Plugin.

       This plugin is intended to allow users to make restart markers persistent. During a transfer, every
       marker received will result in the user's 'marker' callback being called with the new restart marker that
       can be stored. If the application were to prematurely terminate (while transferring), the user (after
       restarting the application) could pass this stored marker back to the plugin via the 'begin' callback to
       force the transfer to be restarted from the last marked point.

</pre><h4><b>Macro</b> <b>Definition</b> <b>Documentation</b></h4><pre>
   <b>#define</b> <b>GLOBUS_FTP_CLIENT_RESTART_MARKER_PLUGIN_MODULE</b>   <b>(&amp;globus_i_ftp_client_restart_marker_plugin_module)</b>
       Module descriptor

</pre><h4><b>Typedef</b> <b>Documentation</b></h4><pre>
   <b>typedef</b> <b>globus_bool_t(*</b> <b>globus_ftp_client_restart_marker_plugin_begin_cb_t)</b> <b>(void</b> <b>*user_arg,</b>
       <b>globus_ftp_client_handle_t</b> <b>*handle,</b> <b>const</b> <b>char</b> <b>*source_url,</b> <b>const</b> <b>char</b> <b>*dest_url,</b>
       <b>globus_ftp_client_restart_marker_t</b> <b>*user_saved_marker)</b>
       Transfer begin callback. This callback is called when a get, put, or third party transfer is started.

       The intended use for this callback is for the user to use the transfer urls to locate a restart marker in
       some persistent storage. If one is found, it should be copied into 'user_saved_marker' and the callback
       should return GLOBUS_TRUE. This will cause the transfer to be restarted using that restart marker. If one
       is not found, return GLOBUS_FALSE to indicate that the transfer should proceed from the beginning.

       In any case, this is also an opportunity for the user to set up any storage in anticipation of restart
       markers for this transfer.

       <b>Parameters</b>
           <u>handle</u> this the client handle that this transfer will be occurring on
           <u>user_arg</u> this is the user_arg passed to the init func
           <u>source_url</u> source of the transfer (GLOBUS_NULL if 'put')
           <u>dest_url</u> dest of the transfer (GLOBUS_NULL if 'get')
           <u>user_saved_marker</u> pointer to an initialized restart marker

       <b>Returns</b>

           • GLOBUS_TRUE to indicate that the plugin should use 'user_saved_marker' to restart the transfer (and
             subsequently, destroy the marker)

           • GLOBUS_FALSE  to  indicate  that  'user_saved_marker'  has not been modified, and that the transfer
             should proceed normally

   <b>typedef</b>      <b>void(*</b>       <b>globus_ftp_client_restart_marker_plugin_complete_cb_t)</b>       <b>(void</b>       <b>*user_arg,</b>
       <b>globus_ftp_client_handle_t</b> <b>*handle,</b> <b>globus_object_t</b> <b>*error,</b> <b>const</b> <b>char</b> <b>*error_url)</b>
       Transfer complete callback

       This callback will be called upon transfer completion (successful or otherwise)

       <b>Parameters</b>
           <u>handle</u> this the client handle that this transfer was occurring on
           <u>user_arg</u> this is the user_arg passed to the init func
           <u>error</u> the error object indicating what went wrong (GLOBUS_NULL on success)
           <u>error_url</u> the url which is the source of the above error (GLOBUS_NULL on success)

       <b>Returns</b>

           • n/a

   <b>typedef</b>        <b>void(*</b>       <b>globus_ftp_client_restart_marker_plugin_marker_cb_t)</b>       <b>(void</b>       <b>*user_arg,</b>
       <b>globus_ftp_client_handle_t</b> <b>*handle,</b> <b>globus_ftp_client_restart_marker_t</b> <b>*marker)</b>
       Restart marker received callback

       This callback will be called every time a restart marker is available.

       To receive restart markers in a 'put' or 'third_party_transfer', the transfer must be in  Extended  Block
       mode.  'get' transfers will have their markers generated internally. Markers generated internally will be
       'sent' at most, once per second.

       The intended use for this callback is to allow the user to store this marker (most likely in place of any
       previous marker) in a format that the 'begin_cb' can parse and pass back.

       <b>Parameters</b>
           <u>handle</u> this the client handle that this transfer is occurring on
           <u>user_arg</u> this is the user_arg passed to the init func
           <u>marker</u> the restart marker that has been received. This marker is owned by the caller. The  user  must
           use  the  copy method to keep it. Note: this restart marker currently contains all ranges received as
           of yet. Should I instead only pass a marker with the ranges just made available? If so, the user  may
           need a way to combine restart markers (globus_ftp_client_restart_marker_combine)

       <b>Returns</b>

           • n/a

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>globus_result_t</b> <b>globus_ftp_client_restart_marker_plugin_destroy</b> <b>(globus_ftp_client_plugin_t</b> <b>*</b> <b>plugin)</b>
       Destroy restart marker plugin

       Frees up memory associated with plugin

       <b>Parameters</b>
           <u>plugin</u> plugin previously initialized with init (above)

       <b>Returns</b>

           • GLOBUS_SUCCESS

           • Error on NULL plugin

   <b>globus_result_t</b>    <b>globus_ftp_client_restart_marker_plugin_init</b>    <b>(globus_ftp_client_plugin_t</b>    <b>*</b>   <b>plugin,</b>
       <b>globus_ftp_client_restart_marker_plugin_begin_cb_t</b>                                              <b>begin_cb,</b>
       <b>globus_ftp_client_restart_marker_plugin_marker_cb_t</b>                                            <b>marker_cb,</b>
       <b>globus_ftp_client_restart_marker_plugin_complete_cb_t</b> <b>complete_cb,</b> <b>void</b> <b>*</b> <b>user_arg)</b>
       Initialize a restart marker plugin

       This function initializes a restart marker plugin. Any params except for the plugin may be GLOBUS_NULL

       <b>Parameters</b>
           <u>plugin</u> a pointer to a plugin type to be initialized
           <u>user_arg</u> a pointer to some user specific data that will be provided to all callbacks
           <u>begin_cb</u> the callback to be called upon the start of a transfer
           <u>marker_cb</u> the callback to be called with every restart marker received
           <u>complete_cb</u> the callback to be called to indicate transfer completion

       <b>Returns</b>

           • GLOBUS_SUCCESS

           • Error on NULL plugin

           • Error on init internal plugin

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for globus_ftp_client from the source code.

globus_ftp_client                                  Version 9.8        <u><a href="../man3/globus_ftp_client_restart_marker_plugin.3.html">globus_ftp_client_restart_marker_plugin</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>