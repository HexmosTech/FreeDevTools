<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON::Schema::Modern::Result - Contains the result of a JSON Schema evaluation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libjson-schema-modern-perl">libjson-schema-modern-perl_0.611-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       JSON::Schema::Modern::Result - Contains the result of a JSON Schema evaluation

</pre><h4><b>VERSION</b></h4><pre>
       version 0.611

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use JSON::Schema::Modern;
         my $js = JSON::Schema::Modern-&gt;new;
         my $result = $js-&gt;evaluate($data, $schema);
         my @errors = $result-&gt;errors;

         my $result_data_encoded = encode_json($result); # calls TO_JSON

         # use in numeric and boolean context
         say sprintf('got %d %ss', $result, ($result ? 'annotation' : 'error'));

         # use in string context
         say 'full results: ', $result;

         # combine two results into one:
         my $overall_result = $result1 &amp; $result2;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This object holds the complete results of evaluating a data payload against a JSON Schema using
       JSON::Schema::Modern.

</pre><h4><b>OVERLOADS</b></h4><pre>
       The object contains a string overload, which evaluates to a potentially multi-line string summarizing the
       errors within (if any); this is intended to be used as a user-oriented error message that references data
       locations, but not schema locations.

       The object also contains a <u>bitwise</u> <u>AND</u> overload ("&amp;"), for combining two results into one (the result is
       valid iff both inputs are valid; annotations and errors from the second argument are appended to those of
       the first in a new Result object).

</pre><h4><b>ATTRIBUTES</b></h4><pre>
   <b>valid</b>
       A boolean. Indicates whether validation was successful or failed.

   <b>errors</b>
       Returns an array of JSON::Schema::Modern::Error objects.

   <b>annotations</b>
       Returns an array of JSON::Schema::Modern::Annotation objects.

   <b>output_format</b>
       One of: "flag", "basic", "strict_basic", "terse", "data_only". Defaults to "basic".

       •   "flag" returns just the result of the evaluation: either "{"valid": true}" or "{"valid": false}".

       •   "basic"   adds   the   list   of   "errors"  or  "annotations"  to  the  boolean  evaluation  result.
           "instance_location" and "keyword_location" are always included, as JSON pointers, describing the path
           to the evaluation location; "absolute_keyword_location" is added (as a resolved URI) whenever  it  is
           known and different from "keyword_location".

       •   "strict_basic"  is  like  "basic"  but  follows  the draft-2019-09 specification precisely, including
           replicating an error fixed in the next draft,  in  that  "instance_location"  and  "keyword_location"
           values are provided as fragment-only URI references rather than JSON pointers.

       •   "terse"  is  not  described in any specification; it is like "basic", but omits some redundant errors
           (for example the one for the "allOf" keyword that is added when any of the subschemas  under  "allOf"
           failed evaluation).

       •   "data_only"  returns  a string, not a data structure: it contains a list of errors identified only by
           their "instance_location" and error message (or "keyword_location", when  the  error  occurred  while
           loading  the  schema  itself).  This  format is suitable for generating errors when the schema is not
           published, or for describing errors with the schema itself. This is  not  an  official  specification
           format and may change slightly over time, as it is tested in production environments.

   <b>formatted_annotations</b>
       A boolean flag indicating whether "format" should include annotations in the output. Defaults to true.

   <b>exception</b>
       Indicates that evaluation stopped due to a severe error.

   <b>recommended_response</b>
       A tuple, consisting of "[ integer, string ]", indicating the recommended HTTP response code and string to
       use  for  this  result  (if  validating  an  HTTP  request).  This  could  exist for things like a failed
       authentication check in OpenAPI validation, in which case it would contain "[ 401, 'Unauthorized' ]".

       Only populated when there are errors; when not explicitly set  by  an  evaluator,  defaults  to  "[  500,
       'Internal  Server  Error'  ]"  if  any  errors indicate an exception, and "[ 400, &lt;first error string&gt; ]"
       otherwise. The exact error string is hidden in the case  of  500  errors  because  you  should  not  leak
       internal  issues  with  your application, but you may also wish to obfuscate normal validation errors, in
       which case you should check for 400 and change the string to 'Bad Request'.

</pre><h4><b>METHODS</b></h4><pre>
   <b>format</b>
       Returns a data structure suitable for serialization; requires one argument specifying the  output  format
       to        use,        which        corresponds       to       the       formats       documented       in
       &lt;https://json-schema.org/draft/2019-09/json-schema-core.html#rfc.section.10.4&gt;.   The   only    supported
       formats at this time are "flag", "basic", "strict_basic", and "terse".

   <b>TO_JSON</b>
       Calls "format" with the style configured in "output_format".

   <b>count</b>
       Returns  the  number  of  annotations when the result is true, or the number of errors when the result is
       false.

   <b>combine</b>
       When provided with another result object, returns a new object with the combination of all results.   See
       "&amp;" at "OVERLOADS".

   <b>dump</b>
       Returns  a  JSON  string  representing  the result object, using the requested "format", according to the
       draft2019-09  specification  &lt;https://json-schema.org/draft/2019-09/json-schema-core.html#rfc.section.10&gt;
       and the draft2020-12 specification &lt;https://json-schema.org/draft/2020-12/json-schema-core#section-12&gt;.

</pre><h4><b>SERIALIZATION</b></h4><pre>
       Results (and their contained errors and annotations) can be serialized in a number of ways.

       Results  have  defined "output_format"s, which can be generated as nested unblessed hashes/arrays and are
       suitable for serializing using a JSON encoder for use in another application. A JSON string of the result
       can be obtained directly using "dump".

       If it is preferable to omit direct references to the schema (for example  in  an  application  where  the
       schema  is  not  published),  but  still convey some semantic information about the nature of the errors,
       stringify the object directly. This also means that result  objects  can  be  thrown  as  exceptions,  or
       embedded in error messages.

       If  you are embedding the full result inside another data structure, perhaps to be serialized to JSON (or
       another format) later on, use "TO_JSON" or "format".

</pre><h4><b>SUPPORT</b></h4><pre>
       Bugs may be submitted through &lt;https://github.com/karenetheridge/JSON-Schema-Modern/issues&gt;.

       I am also usually active on irc, as 'ether' at "irc.perl.org" and "irc.libera.chat".

       You can also find me on the JSON Schema Slack server &lt;https://json-schema.slack.com&gt;  and  OpenAPI  Slack
       server &lt;https://open-api.slack.com&gt;, which are also great resources for finding help.

</pre><h4><b>AUTHOR</b></h4><pre>
       Karen Etheridge &lt;<a href="mailto:ether@cpan.org">ether@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENCE</b></h4><pre>
       This software is copyright (c) 2020 by Karen Etheridge.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

       Some schema files have their own licence, in share/LICENSE.

perl v5.40.1                                       2025-05-31                  <u>JSON::Schema::Modern::<a href="../man3pm/Result.3pm.html">Result</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>