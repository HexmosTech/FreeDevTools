<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>odbx_result - Retrieves a result set from the database server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libopendbx1-dev">libopendbx1-dev_1.4.6-18build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       odbx_result - Retrieves a result set from the database server

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;opendbx/api.h&gt;

       int <b>odbx_result</b> (odbx_t* <u>handle</u>, odbx_result_t** <u>result</u>, struct timeval* <u>timeout</u>, unsigned long <u>chunk</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Retrieves  the  result of a query statement sent by <b>odbx_query</b>() from the database server. After a state‐
       ment was successfully executed, a dynamically allocated object representing the result set is  stored  in
       result which must be freed afterwards by <b>odbx_result_finish</b>(). Result sets for SELECT-like statements re‐
       turned  successfully by this function can be processed by calling <b>odbx_row_fetch</b>() until all rows are re‐
       trieved. If the statement was an INSERT, UPDATE, DELETE or a similar statement, the  number  of  affected
       rows is available via <b>odbx_rows_affected</b>().

       If  a  timeout  or  error  occurs, the result pointer is set to NULL. In case of a timeout, <b>odbx_result</b>()
       should be called again because the query isn't canceled. This function must be called multiple times  un‐
       til  it returns zero, even if the query contains only one statement. Otherwise, memory will be leaked and
       <b>odbx_query</b>() will return an error.

       The third parameter (timeout) restricts the time the function is waiting for a result form the server. It
       may be NULL to wait until a result arrives. Otherwise, it can contain any number of seconds and microsec‐
       onds in a timeval structure to wait for. The timeval structure must  be  set  each  time  before  calling
       <b>odbx_result</b>()  because  its content may get changed by the function. If the server doesn't respond within
       the timeout, the query isn't canceled! Instead, the next call to this function will wait for the same re‐
       sult set. Waiting the specified time may be implemented in the backends if it is possible, but  there  is
       no guarantee. If not, <b>odbx_result</b>() will return not before a responds arrives.

       Dependent  on  the  native database library, it may be possible to retrieve all rows at once (if chunk is
       zero), one by one or more than one row at once. All positive values including zero are allowed as  values
       for chunk If paging (more than one row at once) is not supported by the backend, it will use "one by one"
       or "all at once" if this is the only option provided.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>odbx_result</b>()  returns  ODBX_RES_ROWS ("3") if a result set is available and zero if no more results will
       be returned for the last query string sent via <b>odbx_query</b>() successfully. ODBX_RES_NOROWS  ("2")  is  re‐
       turned if the statement was executed successfully but will not return a results set (like for INSERT, UP‐
       DATE  and  DELETE  statements)  and  ODBX_RES_TIMEOUT ("1") indicates a timeout. As soon as ODBX_RES_DONE
       ("0") is returned, the available result sets were processed. The  named  constants  are  available  since
       OpenDBX  1.3.2  and the numbers in brackets have to be used instead if a previous release is is the basis
       for the application development.

       It returns an error code whose value is less than zero if one of the  operations  couldn't  be  completed
       successfully.  Possible  error codes are listed in the error section and they can be feed to <b>odbx_error</b>()
       and <b>odbx_error_type</b>() to get further details. In this case, the backends are responsible for freeing  the
       data  structures  they allocated inside the function and to clear the errornous result set if there's one
       available. The backends will also set the given result pointer to NULL before returning the error. Never‐
       theless, if a non-fatal error occurred it's possible to retrieve further result sets and this  is  neces‐
       sary before calling <b>odbx_query</b>() on the same connection again.

</pre><h4><b>ERRORS</b></h4><pre>
       -ODBX_ERR_BACKEND
              The native database library returned an error

       -ODBX_ERR_PARAM
              Either handle or result are NULL or handle is invalid

       -ODBX_ERR_NOMEM
              Allocating the required memory for the result failed

       -ODBX_ERR_RESULT
              Waiting for a response from the server failed because the connection was lost

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>odbx_column_count</b>(),   <b>odbx_column_name</b>(),  <b>odbx_column_type</b>(),  <b>odbx_rows_affected</b>(),  <b>odbx_row_fetch</b>(),
       <b>odbx_result_finish</b>()

                                                 8 January 2025                                   <u><a href="../man3/odbx_result.3.html">odbx_result</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>