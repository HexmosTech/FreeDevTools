<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>memcached_result_key_value - Working with result sets</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmemcached-dev">libmemcached-dev_1.1.4-1.1build3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       memcached_result_key_value - Working with result sets

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;libmemcached/memcached.h&gt;</b>
              Compile and link with -lmemcachedutil -lmemcached

       <b>typedef</b> <b>struct</b> <u>memcached_result_st</u> <b>memcached_result_st</b>

       <u>memcached_result_st</u> <b>*memcached_result_create(</b><u>memcached_st</u> <b>*ptr,</b> <u>memcached_result_st</u> <b>*result)</b>

              <b>Parameters</b>

                     • <b>ptr</b> -- pointer to initialized <u>memcached_st</u> struct

                     • <b>result</b> -- pointer to an <u>memcached_result_st</u> instance to initialize or nullptr to allocate
                       a new instance

              <b>Returns</b>
                     pointer to initialized <u>memcached_result_st</u> instance

       <b>void</b> <b>memcached_result_free(</b><u>memcached_result_st</u> <b>*result)</b>

              <b>Parameters</b>
                     <b>result</b> -- pointer to initialized <u>memcached_result_st</u> struct

       <b>const</b> <b>char</b> <b>*memcached_result_key_value(</b><u>memcached_result_st</u> <b>*result)</b>

              <b>Parameters</b>
                     <b>result</b> -- pointer to initialized <u>memcached_result_st</u> struct

              <b>Returns</b>
                     the key value associated with the current result object

       <b>size_t</b> <b>memcached_result_key_length(const</b> <u>memcached_result_st</u> <b>*result)</b>

              <b>Parameters</b>
                     <b>result</b> -- pointer to initialized <u>memcached_result_st</u> struct

              <b>Returns</b>
                     the key length associated with the current result object

       <b>const</b> <b>char</b> <b>*memcached_result_value(</b><u>memcached_result_st</u> <b>*result)</b>

              <b>Parameters</b>
                     <b>result</b> -- pointer to initialized <u>memcached_result_st</u> struct

              <b>Returns</b>
                     the result value associated with the current result object

       <b>char</b> <b>*memcached_result_take_value(</b><u>memcached_result_st</u> <b>*result)</b>

              <b>Parameters</b>
                     <b>result</b> -- pointer to initialized <u>memcached_result_st</u> struct

              <b>Returns</b>
                     the result value associated with the current result object

       <b>size_t</b> <b>memcached_result_length(const</b> <u>memcached_result_st</u> <b>*result)</b>

              <b>Parameters</b>
                     <b>result</b> -- pointer to initialized <u>memcached_result_st</u> struct

              <b>Returns</b>
                     the result length associated with the current result object

       <b>uint32_t</b> <b>memcached_result_flags(const</b> <u>memcached_result_st</u> <b>*result)</b>

              <b>Parameters</b>
                     <b>result</b> -- pointer to initialized <u>memcached_result_st</u> struct

              <b>Returns</b>
                     the flags associated with the current result object

       <b>uint64_t</b> <b>memcached_result_cas(const</b> <u>memcached_result_st</u> <b>*result)</b>

              <b>Parameters</b>
                     <b>result</b> -- pointer to initialized <u>memcached_result_st</u> struct

              <b>Returns</b>
                     the cas associated with the current result object

       <u>memcached_return_t</u> <b>memcached_result_set_value(</b><u>memcached_result_st</u> <b>*result,</b> <b>const</b> <b>char</b> <b>*value,</b> <b>size_t</b>
       <b>length)</b>

              <b>Parameters</b>

                     • <b>result</b> -- pointer to initialized <u>memcached_result_st</u> struct

                     • <b>value</b> -- byte array to set the value of the current result object to

                     • <b>length</b> -- the length of <u>value</u> wothout any terminating zero

              <b>Returns</b>
                     <u>memcached_return_t</u> indicating success

       <b>void</b> <b>memcached_result_set_flags(</b><u>memcached_result_st</u> <b>*result,</b> <b>uint32_t</b> <b>flags)</b>

              <b>Parameters</b>

                     • <b>result</b> -- pointer to initialized <u>memcached_result_st</u> struct

                     • <b>flags</b> -- a new value for the flags field

       <b>void</b> <b>memcached_result_set_expiration(</b><u>memcached_result_st</u> <b>*result,</b> <b>time_t</b> <b>expiration)</b>

              <b>Parameters</b>

                     • <b>result</b> -- pointer to initialized <u>memcached_result_st</u> struct

                     • <b>expiration</b> -- a new value for the expiration field

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>libmemcached</b>  can  optionally  return  a  <u>memcached_result_st</u>  which  acts as a result object. The result
       objects have added benefits over the character pointer return values, in that they are forward compatible
       with new return items that future memcached servers may implement (the best current example  of  this  is
       the  CAS  return  item).  The structures can also be reused, which will save on calls to <b><a href="../man3/malloc.3.html">malloc</a>(3)</b>. It is
       suggested that you use result objects over char * return functions.

       The structure of <u>memcached_result_st</u> has been encapsulated, you should not write code directly  accessing
       members of the structure.

       <u>memcached_result_create()</u>  will  either  allocate  memory  for a <u>memcached_result_st</u> or will initialize a
       structure passed to it.

       <u>memcached_result_free()</u> will deallocate any memory attached to the structure. If the structure  was  also
       allocated, it will deallocate it.

       <u>memcached_result_key_value()</u> returns the key value associated with the current result object.

       <u>memcached_result_key_length()</u> returns the key length associated with the current result object.

       <u>memcached_result_value()</u> returns the result value associated with the current result object.

       <u>memcached_result_take_value()</u>  returns and hands over the result value associated with the current result
       object. You must call <b><a href="../man3/free.3.html">free</a>(3)</b> to release this value, unless you have made use of a custom allocator.  Use
       of a custom allocator requires that you create your own custom free() to release it.

       <u>memcached_result_length()</u> returns the result length associated with the current result object.

       <u>memcached_result_flags()</u> returns the flags associated with the current result object.

       <u>memcached_result_cas()</u> returns the cas associated with the current result object. This value will only be
       available if the server tests it.

       <u>memcached_result_set_value()</u>  takes  a  byte  array  and  a  size and sets the result to this value. This
       function is used for trigger responses.

       <u>memcached_result_set_flags()</u> takes a result structure and stores a new value for the flags field.

       <u>memcached_result_set_expiration()</u> takes a result structure and stores a  new  value  for  the  expiration
       field (this is only used by read through triggers).

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Varies,  see  particular  functions.  All structures must have <u>memcached_result_free()</u> called on them for
       cleanup purposes. Failure to do this will result in leaked memory.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/memcached.1.html">memcached</a>(1)</b> <b><a href="../man3/libmemcached.3.html">libmemcached</a>(3)</b> <b><a href="../man3/memcached_strerror.3.html">memcached_strerror</a>(3)</b> <b><a href="../man3/memcached_memory_allocators.3.html">memcached_memory_allocators</a>(3)</b>

1.1                                               Mar 31, 2024                     <u><a href="../man3/MEMCACHED_RESULT_KEY_VALUE.3.html">MEMCACHED_RESULT_KEY_VALUE</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>