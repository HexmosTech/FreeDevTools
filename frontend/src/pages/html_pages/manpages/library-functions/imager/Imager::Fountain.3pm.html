<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Imager::Fountain - a class for building fountain fills suitable for use by</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libimager-perl">libimager-perl_1.027+dfsg-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
         Imager::Fountain - a class for building fountain fills suitable for use by
        the fountain filter.

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Imager::Fountain;
         my $f1 = Imager::Fountain-&gt;read(gimp=&gt;$filename);
         $f-&gt;write(gimp=&gt;$filename);
         my $f1 = Imager::Fountain-&gt;new;
         $f1-&gt;add(start=&gt;0, middle=&gt;0.5, end=&gt;1.0,
                  c0=&gt;Imager::Color-&gt;new(...),
                  c1=&gt;Imager::Color-&gt;new(...),
                  type=&gt;$trans_type, color=&gt;$color_trans_type);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Provide an interface to build arrays suitable for use by the Imager fountain filter.  These can be loaded
       from or saved to a GIMP gradient file or you can build them from scratch.

       read(gimp=&gt;$filename)
       read(gimp=&gt;$filename, name=&gt;\$name)
           Loads a gradient from the given GIMP gradient file, and returns a new Imager::Fountain object.

           If  the name parameter is supplied as a scalar reference then any name field from newer GIMP gradient
           files will be returned in it.

             my $gradient = Imager::Fountain-&gt;read(gimp=&gt;'foo.ggr');
             my $name;
             my $gradient2 = Imager::Fountain-&gt;read(gimp=&gt;'bar.ggr', name=&gt;\$name);

       write(gimp=&gt;$filename)
       write(gimp=&gt;$filename, name=&gt;$name)
           Save the gradient to a GIMP gradient file.

           The second variant allows the gradient name to be set (for newer versions of the GIMP).

             $gradient-&gt;write(gimp=&gt;'foo.ggr')
               or die Imager-&gt;errstr;
             $gradient-&gt;write(gimp=&gt;'bar.ggr', name=&gt;'the bar gradient')
               or die Imager-&gt;errstr;

       new Create an empty fountain fill description.

       add(start=&gt;$start, middle=&gt;$middle, end=&gt;1.0, c0=&gt;$start_color, c1=&gt;$end_color, type=&gt;$trans_type,
       color=&gt;$color_trans_type)
           Adds a new segment to the fountain fill, the possible options are:

           •   "start" - the start position in the gradient where this segment takes effect  between  0  and  1.
               Default: 0.

           •   "middle"  -  the  mid-point  of  the  transition between the 2 colors, between 0 and 1.  Default:
               average of "start" and "end".

           •   "end" - the end of the gradient, from 0 to 1.  Default: 1.

           •   "c0" - the color of the fountain fill where the fill  parameter  is  equal  to  <u>start</u>.   Default:
               opaque black.

           •   "c1"  - the color of the fountain fill where the fill parameter is equal to <u>end</u>.  Default: opaque
               black.

           •   "type" - the type of segment, controls the way in which the fill parameter moves  from  0  to  1.
               Default: linear.

               This can take any of the following values:

               •   "linear"

               •   "curved" - unimplemented so far.

               •   "sine"

               •   "sphereup"

               •   "spheredown"

           •   "color" - the way in which the color transitions between "c0" and "c1".  Default: direct.

               This can take any of the following values:

               •   "direct" - each channel is simple scaled between c0 and c1.

               •   "hueup"  -  the  color  is converted to a HSV value and the scaling is done such that the hue
                   increases as the fill parameter increases.

               •   "huedown" - the color is converted to a HSV value and the scaling is done such that  the  hue
                   decreases as the fill parameter increases.

           In most cases you can ignore some of the arguments, eg.

             # assuming $f is a new Imager::Fountain in each case here
             use Imager ':handy';
             # simple transition from red to blue
             $f-&gt;add(c0=&gt;NC('#FF0000'), c1=&gt;NC('#0000FF'));
             # simple 2 stages from red to green to blue
             $f-&gt;add(end=&gt;0.5, c0=&gt;NC('#FF0000'), c1=&gt;NC('#00FF00'))
             $f-&gt;add(start=&gt;0.5, c0=&gt;NC('#00FF00'), c1=&gt;NC('#0000FF'));

       simple(positions=&gt;[ ... ], colors=&gt;[...])
           Creates a simple fountain fill object consisting of linear segments.

           The array references passed as positions and colors must have the same number of elements.  They must
           have at least 2 elements each.

           colors must contain Imager::Color or Imager::Color::Float objects.

           eg.

             my $f = Imager::Fountain-&gt;simple(positions=&gt;[0, 0.2, 1.0],
                                              colors=&gt;[ NC(255,0,0), NC(0,255,0),
                                                        NC(0,0,255) ]);

   <b>Implementation</b> <b>Functions</b>
       Documented for internal use.

       _load_gimp_gradient($class, $fh, $name)
           Does the work of loading a GIMP gradient file.

       _save_gimp_gradient($self, $fh, $name)
           Does the work of saving to a GIMP gradient file.

</pre><h4><b>FILL</b> <b>PARAMETER</b></h4><pre>
       The  <b>add()</b>  documentation  mentions  a  fill parameter in a few places, this is as good a place as any to
       discuss it.

       The process of deciding the color produced by the gradient works through the following steps:

       1.  calculate the base value, which is typically a distance or an  angle  of  some  sort.   This  can  be
           positive  or  occasionally  negative,  depending on the type of fill being performed (linear, radial,
           etc).

       2.  clamp or convert the base value to the range 0 through 1, how this is  done  depends  on  the  repeat
           parameter.  I'm calling this result the fill parameter.

       3.  the  appropriate  segment  is  found.   This  is  currently  done with a linear search, and the first
           matching segment is used.  If there is no matching segment the pixel is not touched.

       4.  the fill parameter is scaled from 0 to 1 depending on the segment type.

       5.  the color produced, depending on the segment color type.

</pre><h4><b>AUTHOR</b></h4><pre>
       Tony Cook &lt;<a href="mailto:tony@develop-help.com">tony@develop-help.com</a>&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/Imager.3.html">Imager</a></b>(3)

perl v5.40.1                                       2025-03-16                              <u>Imager::<a href="../man3pm/Fountain.3pm.html">Fountain</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>