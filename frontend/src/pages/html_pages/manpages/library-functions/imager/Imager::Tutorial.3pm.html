<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Imager::Tutorial - an introduction to Imager.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libimager-perl">libimager-perl_1.027+dfsg-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Imager::Tutorial - an introduction to Imager.

</pre><h4><b>DESCRIPTION</b></h4><pre>
   <b>Before</b> <b>you</b> <b>start</b>
       If you have the necessary knowledge, install the image format libraries you want Imager image file
       support for, and Imager itself, otherwise arrange to have it done.

       You will also want some sort of image viewer tool, whether an image editor like Photoshop or the GIMP, or
       a web browser.

   <b>Hello</b> <b>Boxes!</b> <b>-</b> <b>A</b> <b>Simple</b> <b>Start</b>
       As with any perl program it's useful to start with a #! line, and to enable strict mode:

         #!<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?perl">/usr/bin/perl</a> -w
         # you might to 'use warnings;' instead of the -w above
         use strict;

       These lines will be omitted in further examples.

       As with any module, you need to load it:

         use Imager;

       Now create a image to draw on:

         my $image = Imager-&gt;new(xsize =&gt; 100, ysize =&gt; 100);

       and draw a couple of filled rectangles on it:

         $image-&gt;box(xmin =&gt; 0, ymin =&gt; 0, xmax =&gt; 99, ymax =&gt; 99,
                     filled =&gt; 1, color =&gt; 'blue');
         $image-&gt;box(xmin =&gt; 20, ymin =&gt; 20, xmax =&gt; 79, ymax =&gt; 79,
                     filled =&gt; 1, color =&gt; 'green');

       Since the first box fills the whole image, it can be simplified to:

         $image-&gt;box(filled =&gt; 1, color =&gt; 'blue');

       and save it to a file:

         $image-&gt;write(file=&gt;'tutorial1.ppm')
             or die 'Cannot save tutorial1.ppm: ', $image-&gt;errstr;

       So our completed program is:

         use Imager;

         my $image = Imager-&gt;new(xsize =&gt; 100, ysize =&gt; 100);

         $image-&gt;box(filled =&gt; 1, color =&gt; 'blue');
         $image-&gt;box(xmin =&gt; 20, ymin =&gt; 20, xmax =&gt; 79, ymax =&gt; 79,
                     filled =&gt; 1, color =&gt; 'green');

         $image-&gt;write(file=&gt;'tutorial1.ppm')
             or die 'Cannot save tutorial1.ppm: ', $image-&gt;errstr;

   <b>Adding</b> <b>some</b> <b>text</b>
       The first thing you need to draw text is a font object:

         # use a different file, depending on the font support you have in
         # your installed Imager.
         my $font_filename = 'fontfiles/ImUgly.ttf';
         my $font = Imager::Font-&gt;new(file=&gt;$font_filename)
           or die "Cannot load $font_filename: ", Imager-&gt;errstr;

       If you're on Windows, you can supply a face name instead:

         my $font = Imager::Font-&gt;new(face=&gt;'Arial Bold')
           or die "Cannot load 'Arial Bold: ", Imager-&gt;errstr;

       and draw the text:

         my $text = "Hello Boxes!";
         my $text_size = 12;

         $font-&gt;align(string =&gt; $text,
                      size =&gt; $text_size,
                      color =&gt; 'red',
                      x =&gt; $image-&gt;getwidth/2,
                      y =&gt; $image-&gt;getheight/2,
                      halign =&gt; 'center',
                      valign =&gt; 'center',
                      image =&gt; $image);

       So inserting this into our existing code we have:

         use Imager;

         my $image = Imager-&gt;new(xsize =&gt; 100, ysize =&gt; 100);

         $image-&gt;box(xmin =&gt; 0, ymin =&gt; 0, xmax =&gt; 99, ymax =&gt; 99,
                     filled =&gt; 1, color =&gt; 'blue');
         $image-&gt;box(xmin =&gt; 20, ymin =&gt; 20, xmax =&gt; 79, ymax =&gt; 79,
                     filled =&gt; 1, color =&gt; 'green');

         # use a different file, depending on the font support you have in
         # your installed Imager.
         my $font_filename = 'fontfiles/ImUgly.ttf';
         my $font = Imager::Font-&gt;new(file=&gt;$font_filename)
           or die "Cannot load $font_filename: ", Imager-&gt;errstr;

         my $text = "Hello Boxes!";
         my $text_size = 12;

         $font-&gt;align(string =&gt; $text,
                      size =&gt; $text_size,
                      color =&gt; 'red',
                      x =&gt; $image-&gt;getwidth/2,
                      y =&gt; $image-&gt;getheight/2,
                      halign =&gt; 'center',
                      valign =&gt; 'center',
                      image =&gt; $image);

         $image-&gt;write(file=&gt;'tutorial2.ppm')
             or die 'Cannot save tutorial2.ppm: ', $image-&gt;errstr;

   <b>Using</b> <b>an</b> <b>existing</b> <b>image</b> <b>as</b> <b>a</b> <b>base</b>
       To load an image from a file, first create an empty image object:

         my $read_image = Imager-&gt;new;

       then call the read method:

         my $image_source = shift; # from the command-line
         $read_image-&gt;read(file=&gt;$image_source)
           or die "Cannot load $image_source: ", $image-&gt;errstr;

       To keep to our working size, we'll scale the image:

         # the scale() method always does a proportional scale, we don't want
         # that here
         my $scaled_image = $read_image-&gt;scaleX(pixels=&gt;100)-&gt;scaleY(pixels=&gt;100);

       draw our inner box on that, and save the result:

         $scaled_image-&gt;box(xmin =&gt; 20, ymin =&gt; 20, xmax =&gt; 79, ymax =&gt; 79,
                     filled =&gt; 1, color =&gt; 'green');

         $scaled_image-&gt;write(file=&gt;'tutorial3.ppm')
             or die 'Cannot save tutorial3.ppm: ', $image-&gt;errstr;

       so the complete program is:

         use Imager;

         my $read_image = Imager-&gt;new;

         my $image_source = shift; # from the command-line
         $read_image-&gt;read(file=&gt;$image_source)
           or die "Cannot load $image_source: ", $image-&gt;errstr;

         # the scale() method always does a proportional scale, we don't want
         # that here
         my $scaled_image = $read_image-&gt;scaleX(pixels=&gt;100)-&gt;scaleY(pixels=&gt;100);

         $scaled_image-&gt;box(xmin =&gt; 20, ymin =&gt; 20, xmax =&gt; 79, ymax =&gt; 79,
                     filled =&gt; 1, color =&gt; 'green');

         $scaled_image-&gt;write(file=&gt;'tutorial3.ppm')
             or die 'Cannot save tutorial3.ppm: ', $image-&gt;errstr;

</pre><h4><b>AUTHOR</b></h4><pre>
       Tony Cook &lt;<a href="mailto:tonyc@cpan.org">tonyc@cpan.org</a>&gt;

</pre><h4><b>REVISION</b></h4><pre>
       $Revision$

perl v5.40.1                                       2025-03-16                              <u>Imager::<a href="../man3pm/Tutorial.3pm.html">Tutorial</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>