<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>seccomp_api_get, seccomp_api_set - Manage the libseccomp API level</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libseccomp-dev">libseccomp-dev_2.6.0-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       seccomp_api_get, seccomp_api_set - Manage the libseccomp API level

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;seccomp.h&gt;</b>

       <b>const</b> <b>unsigned</b> <b>int</b> <b>seccomp_api_get(</b><u>void</u><b>);</b>
       <b>int</b> <b>seccomp_api_set(unsigned</b> <b>int</b> <u>level</u><b>);</b>

       Link with <u>-lseccomp</u>.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>seccomp_api_get</b>()  function returns an integer representing the functionality ("API level") provided
       by the current running kernel.  It is important to  note  that  while  <b>seccomp_api_get</b>()  can  be  called
       multiple  times,  the  kernel  is  only probed the first time to see what functionality is supported, all
       following calls to <b>seccomp_api_get</b>() return a cached value.

       The <b>seccomp_api_set</b>() function allows callers to force the API level to the provided value; however, this
       is almost always a bad idea and use of this function is strongly discouraged.

       The different API level values are described below:

       <b>0</b>      Reserved value, not currently used.

       <b>1</b>      Base level support.

       <b>2</b>      The SCMP_FLTATR_CTL_TSYNC filter attribute is supported and libseccomp uses the <b><a href="../man2/seccomp.2.html">seccomp</a>(2)</b> syscall
              to load the seccomp filter into the kernel.

       <b>3</b>      The SCMP_FLTATR_CTL_LOG filter attribute and the SCMP_ACT_LOG action are supported.

       <b>4</b>      The SCMP_FLTATR_CTL_SSB filter attribute is supported.

       <b>5</b>      The SCMP_ACT_NOTIFY action and the notify APIs are supported.

       <b>6</b>      The simultaneous use of SCMP_FLTATR_CTL_TSYNC and the notify APIs are supported.

       <b>7</b>      The SCMP_FLTATR_CTL_WAITKILL filter attribute is supported.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       The  <b>seccomp_api_get</b>()  function  returns  an  integer  representing  the  supported  API   level.    The
       <b>seccomp_api_set</b>() function returns zero on success, negative values on failure.

</pre><h4><b>EXAMPLES</b></h4><pre>
       #include &lt;seccomp.h&gt;

       int main(int argc, char *argv[])
       {
            unsigned int api;

            api = seccomp_api_get();
            switch (api) {
            case 2:
                 /* ... */
            default:
                 /* ... */
            }

            return 0;

       err:
            return 1;
       }

</pre><h4><b>NOTES</b></h4><pre>
       While  the  seccomp filter can be generated independent of the kernel, kernel support is required to load
       and enforce the seccomp filter generated by libseccomp.

       The libseccomp project site, with more information and the  source  code  repository,  can  be  found  at
       https://github.com/seccomp/libseccomp.   This tool, as well as the libseccomp library, is currently under
       development, please report any bugs at the project site or directly to the author.

</pre><h4><b>AUTHOR</b></h4><pre>
       Paul Moore &lt;<a href="mailto:paul@paul-moore.com">paul@paul-moore.com</a>&gt;

<a href="mailto:paul@paul-moore.com">paul@paul-moore.com</a>                             22 September 2022                             <u><a href="../man3/seccomp_api_get.3.html">seccomp_api_get</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>