<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>canvas::edit::polyline - Editing a polyline on a canvas</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tklib">tklib_0.9-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       canvas::edit::polyline - Editing a polyline on a canvas

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Tcl</b> <b>8.5</b>

       package require <b>Tk</b> <b>8.5</b>

       package require <b>canvas::edit::points</b> <b>?0.1?</b>

       package require <b>canvas::edit::polyline</b> <b>?0.2?</b>

       <b>::canvas::edit</b> <b>polyline</b> <u>objectName</u> <u>canvas</u> <u>options</u>...

       <b>objectName</b> <b>destroy</b>

       <b>objectName</b> <b>enable</b>

       <b>objectName</b> <b>disable</b>

       <b>objectName</b> <b>active</b>

       <b>objectName</b> <b>add</b> <u>x</u> <u>y</u>

       <b>objectName</b> <b>clear</b>

       <b>activeCmd</b> <u>editorObj</u> <u>id</u>

       <b>createCmd</b> <u>canvas</u> <u>x</u> <u>y</u>

       <b>dataCmd</b> <u>editorObj</u> <u>coordinates</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  package  provides  a class whose instances handle editing a single poly-line (or -gon) on a canvas.
       Instances can be configured with regard to the visual appearance  of  the  markers  denoting  the  line's
       vertices, as well as if the line is to be closed or not, and further if a closed line has to be convex or
       not. Note that instances do not store the edited polyline themselves, but delegate this to a configurable
       object.

</pre><h4><b>INTERACTION</b></h4><pre>
       The  polyline  editor  internally  uses an instance of package <b>canvas::edit::points</b>, and inherits all the
       options and behaviours for it. The color options are additionally applied to the  line  element  of  this
       editor

       Beyond  that  it  provides  2  options  to  configure  the  editing mode, and one option to customize the
       line/polygon item used to render the line through the points.

       The main editing mode is controlled by option <b>-closed</b> for <u>line</u> (i.e. open) versus <u>polygon</u> (i.e.  closed).
       The default is line/open mode.

       In  polygon/closed  mode  the option <b>-convex</b> controls if the editor enforces convexity of the polygon, or
       not. The default is no enforcement of convexity.

       The option <b>-line-config</b> enables basic customization of the line/polygon item. Note that it cannot overide
       the inherited color options.

</pre><h4><b>CLASS</b> <b>API</b></h4><pre>
       <b>::canvas::edit</b> <b>polyline</b> <u>objectName</u> <u>canvas</u> <u>options</u>...
              This, the class command, creates and configures  a  new  instance  of  a  polyline  editor,  named
              <u>objectName</u>. The instance will be connected to the specified <u>canvas</u> widget.

              The result of the command is the fully qualified name of the instance command.

              The options accepted here, and their values, are explained in the section <b>Options</b>.

</pre><h4><b>INSTANCE</b> <b>API</b></h4><pre>
       Instances of the polyline editors provide the following API:

       <b>objectName</b> <b>destroy</b>
              This method destroys the polyline editor and releases all its internal resources.

              Note that this operation does not destroy the items the editor managed on the attached canvas, nor
              the canvas itself.

              The result of the method is an empty string.

       <b>objectName</b> <b>enable</b>
              This  method  activates  editing of the polyline on the canvas. This is the default after instance
              creation. A call is ignored if the editor is already active.

              The result of the method is an empty string.

              The complementary method is <b>disable</b>. The interogatory method for the current state is <b>active</b>.

       <b>objectName</b> <b>disable</b>
              This method disables editing of the polyline on the canvas. A call is ignored  if  the  editor  is
              already disabled.

              The result of the method is an empty string.

              The complementary method is <b>enable</b>. The interogatory method for the current state is <b>active</b>.

       <b>objectName</b> <b>active</b>
              This method queries the editor state.

              The  result  of  the method is a boolean value, <b>true</b> if the editor is active, and <b>false</b> otherwise,
              i.e. disabled.

              The methods to change the state are <b>enable</b> and <b>disable</b>.

       <b>objectName</b> <b>add</b> <u>x</u> <u>y</u>
              This method programmatically adds a vertex at the specified location to the line.

              The result of the method is an empty string.

              Note that this method goes through the whole set of callbacks invoked when the user  interactively
              creates a vertex, i.e.  <b>-create-cmd</b>, and, more importantly, <b>-data-cmd</b>.

              One  important  difference however. The new vertex is always added at the end of the line, whereas
              interactive creation uses heuristics to splice it into the line at a suitable location.

              This is the method through which to load the vertices  of  a  pre-existing  line  into  an  editor
              instance.

       <b>objectName</b> <b>clear</b>
              This  method programmatically removes all vertices from the editor, essentially removing the whole
              line.

              The result of the method is an empty string.

              Note that this method goes through the same callbacks invoked when the user interactively  removes
              a vertex, i.e. <b>-data-cmd</b>.

</pre><h4><b>OPTIONS</b></h4><pre>
       The class command accepts the following options

       <b>-active-cmd</b> <u>command-prefix</u>
              The  value  of  this  option  is  a command prefix the editor will invoke when the mouse enters or
              leaves the line or a point managed by the instance.

              If not specified it defaults to an empty command which does nothing.

              The signature of this command prefix is

              <b>activeCmd</b> <u>editorObj</u> <u>id</u>

                     The <u>id</u> identifies the entered object.

                     An empty <u>id</u> indicates that the last entered object was left.

                     The value <b>line</b> indicates that the line was entered.

                     A numeric value <b>N</b> indicates that the <b>N</b>'th vertex of the line was entered, counting from <b>0</b>.

                     The result of this method is ignored.

       <b>-add-remove-point</b> <u>eventspec</u>
              The value of this option is an event specification (without  bracketing  angles)  declaring  which
              event will trigger adding and removing a point.

              This option can only be set at construction time.

              The  default  setup  uses  different  events  for  adding  and  removing points, <b>ButtonPress-1</b> and
              <b>ButtonPress-2</b> respectively.

              When using this option the same event is used for both operations.  This  is  no  problem  because
              adding is bound as canvas-global event while removal is bound to the relevant canvas items.

       <b>-closed</b> <u>boolean</u>
              The  value  of  this  option is a boolean flag indicating if the edited polyline is closed, i.e. a
              loop, or not. <u>NOTE</u> that a proper loop requires at least 3 points. For less than that an open  line
              is shown, or even just a point.

              This option can only be set at construction time.

              If not specified it defaults to <b>false</b>

       <b>-color</b> <u>colorspec</u>
              The  value  of this option is the fill color for the default item created when adding a point, and
              no <b>-create-cmd</b> is specified.

              The default value is <b>SkyBlue2</b>.

       <b>-convex</b> <u>boolean</u>
              The value of this option is a boolean flag indicating if the edited polyline is  strictly  convex,
              or not.  This option has meaning if and only if option <b>-closed</b> is configured to be <b>true</b>.

              This option can only be set at construction time.

              If not specified it defaults to <b>false</b>

       <b>-create-cmd</b> <u>command-prefix</u>
              The  value  of  this option is a command prefix the editor will invoke when it has to create a new
              vertex.

              While this option can be set after construction, it is recommended to use this feature only  as  a
              means  of  inserting  custom  processing to be done at creation time which remembers and calls the
              previous value of the option.

              If not specified it defaults to a command which will create a black-bordered blue circle of radius
              3 centered on the location of the new point.

              The signature of this command prefix is

              <b>createCmd</b> <u>canvas</u> <u>x</u> <u>y</u>
                     The result of the command prefix <u>must</u> be a list of the canvas items it created to represent
                     the marker. Note here that the visual representation of a "vertex" may consist of  multiple
                     canvas items in an arbitrary shape.

                     The  returned  list  of  items is allowed to be empty, and such is taken as signal that the
                     callback vetoed the creation of the vertex.

       <b>-data-cmd</b> <u>command-prefix</u>
              The value of this option is a command prefix the editor will invoke when the line  was  edited  in
              some  way  (vertex  added, removed, moved). This is how the editor delegates the actual storage of
              the line information to an outside object.

              This option can only be set at construction time.

              If not specified it defaults to an empty string and is ignored by the editor, i.e. not invoked.

              The signature of this command prefix is

              <b>dataCmd</b> <u>editorObj</u> <u>coordinates</u>
                     This  callback  is  invoked  when  the  line   was   changed   either   interactively,   or
                     programmatically.  See instance method <b>add</b> for the latter.

                     The  <u>editorObj</u> identifies the instance invoking the callback, whereas <u>coordinates</u> is a list
                     of vertex locations, with each location a pair of x- and y-coordinates.

                     The result of this method is ignored.

       <b>-drag-point</b> <u>eventspec</u>
              The value of this option is an event specification (without  bracketing  angles)  declaring  which
              event will trigger a drag action on points.

              This option can only be set at construction time.

              The default specification is <b>ButtonPress-3</b>.

       <b>-hilit-color</b> <u>colorspec</u>
              The  value of this option is the highlight color for the default item created when adding a point,
              and no <b>-highlight-cmd</b> is specified.

              The default value is <b>red</b>.

       <b>-kind</b> <u>name</u>
              The value of this option is the canvas item type for the default item created when adding a point,
              and no <b>-create-cmd</b> is specified.  Only item types specified through a bounding box are suitable.

              The default value is <b>oval</b>.

       <b>-line-config</b> <u>list</u>
              The value of this option is a list of options and their values  to  be  applied  to  the  internal
              line/polygon  item  whenever  it  is  regenerated  after  changes.  Note that these options <u>cannot</u>
              override the principal coloring of the line/polygon as applied by  the  main  options  <b>-color</b>  and
              <b>-hilit-color</b>.

              If not specified it defaults to the empty list.

       <b>-radius</b> <u>int</u>
              The  value  of  this option is the radius for the default item created when adding a point, and no
              <b>-create-cmd</b> is specified.

              The default value is <b>3</b>.

       <b>-tag</b> <u>string</u>
              The value of this option is the name of the canvas tag with which to identify  all  items  of  all
              vertices managed by the editor.

              This option can only be set at construction time.

              If not specified it defaults to <b>POLYLINE</b>

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This  document,  and  the package it describes, will undoubtedly contain bugs and other problems.  Please
       report such in the category <u>canvas</u> of the <u>Tklib</u> <u>Trackers</u>  [<a href="http://core.tcl.tk/tklib/reportlist">http://core.tcl.tk/tklib/reportlist</a>].   Please
       also report any ideas for enhancements you may have for either package and/or documentation.

</pre><h4><b>KEYWORDS</b></h4><pre>
       canvas, editing, polyline

tklib                                                  0.2                           <u>canvas::edit::<a href="../man3tk/polyline.3tk.html">polyline</a></u>(3tk)
</pre>
 </div>
</div></section>
</div>
</body>
</html>