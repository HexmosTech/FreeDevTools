<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sg_get_network_io_stats,             sg_get_network_io_stats_r,             sg_get_network_io_stats_diff,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libstatgrab-dev">libstatgrab-dev_0.92.1-1.2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sg_get_network_io_stats,             sg_get_network_io_stats_r,             sg_get_network_io_stats_diff,
       sg_get_network_io_stats_diff_between, sg_free_network_io_stats, sg_network_io_compare_name - get  network
       statistics

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;statgrab.h&gt;

       sg_network_io_stats *<b>sg_get_network_io_stats</b> (size_t *<u>entries</u>);

       sg_network_io_stats *<b>sg_get_network_io_stats_r</b> (size_t *<u>entries</u>);

       sg_network_io_stats *<b>sg_get_network_io_stats_diff</b> (size_t *<u>entries</u>);

       sg_network_io_stats *<b>sg_get_network_io_stats_diff_between</b> (const sg_network_io_stats *<u>cur</u>, const
                             sg_network_io_stats *<u>last</u>, size_t *<u>entries</u>);

       sg_error <b>sg_free_network_io_stats</b> (sg_network_iface_stats *<u>data</u>);

       int <b>sg_network_io_compare_name</b> (const void *<u>va</u>, const void *<u>vb</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>sg_get_network_io_stats</b> functions provide network interface I/O statistics on a per interface basis.
       All get- and diff-functions take an optional entries parameter, which points (when given) to a size_t  to
       take the number of returned vector entries.

       The  <b>sg_get_network_io_stats</b>() and <b>sg_get_network_io_stats_r</b>() functions deliver the I/O-statistics since
       the interface has been attached  to  the  system.   The  <b>sg_get_network_io_stats_diff</b>()  and  <b>sg_get_net‐</b>
       <b>work_io_stats_diff_between</b>()  deliver  the  difference  between two calls of <b>sg_get_network_io_stats</b>() or
       <b>sg_get_network_io_stats_r</b>(), respectively.

       <b>API</b> <b>Shortcut</b>
       ┌──────────────────────────────┬───────────────────────┬────────────────────────────┐
       │ function                     │ returns               │ data owner                 │
       ├──────────────────────────────┼───────────────────────┼────────────────────────────┤
       │ sg_get_network_io_stats      │ sg_network_io_stats * │ libstatgrab (thread local) │
       ├──────────────────────────────┼───────────────────────┼────────────────────────────┤
       │ sg_get_network_io_stats_r    │ sg_network_io_stats * │ caller                     │
       ├──────────────────────────────┼───────────────────────┼────────────────────────────┤
       │ sg_get_network_io_stats_diff │ sg_network_io_stats * │ libstatgrab (thread local) │
       ├──────────────────────────────┼───────────────────────┼────────────────────────────┤
       │ sg_get_net‐                  │ sg_network_io_stats * │ caller                     │
       │ work_io_stats_diff_between   │                       │                            │
       └──────────────────────────────┴───────────────────────┴────────────────────────────┘

       sg_network_io_stats vectors received from <b>sg_get_network_io_stats_r</b>() or <b>sg_get_network_io_stats_diff_be‐</b>
       <b>tween</b>() must be freed using <b>sg_free_network_io_stats</b>() when not needed any more. The caller is  responsi‐
       ble for doing it.

       Additionally a support function for <b><a href="../man3/qsort.3.html">qsort</a></b>(3) are available: <b>sg_network_io_compare_name</b>().

       <b>Example</b>

       size_t entries;
       sg_network_io_stats *network_stats = NULL;
       while( NULL != ( network_stats = sg_get_network_io_stats_diff(&amp;entries) ) ) {
           /* sort interface by name */
           qsort( network_stats, entries, sizeof(network_stats[0]), &amp;sg_network_io_compare_name );
           show_network_io_stats( network_stats );
       }

       <b>sg_get_network_io_stats</b>  returns  the network traffic stored in the kernel which holds the amount of data
       transferred since device was attached. On some platforms, such as Solaris 7, this value is  stored  in  a
       32bit  int,  so wraps around when it reaches 4GB. Other platforms, such as Solaris 8, hold the value in a
       64bit int, which wraps somewhere near 17 million terabytes.  The <b>sg_get_network_io_stats_diff</b>()  function
       and  the  <b>sg_get_network_io_stats_diff_between</b>()  function  care  about these overflows and try to detect
       overflows when the diff is calculated.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       All network statistics return a pointer to a structure of type sg_network_io_stats.

       typedef struct {
               char *interface_name;
               unsigned long long tx;
               unsigned long long rx;
               unsigned long long ipackets;
               unsigned long long opackets;
               unsigned long long ierrors;
               unsigned long long oerrors;
               unsigned long long collisions;
               time_t systime;
       } sg_network_io_stats;

       interface_name
              The name known to the operating system.  (eg. on linux it might be eth0, on AIX en0 and on FreeBSD
              fxp0)

       tx     The number of bytes transmitted.

       rx     The number of bytes received.

       ipackets
              The number of packets received.

       opackets
              The number of packets transmitted.

       ierrors
              The number of receive errors.

       oerrors
              The number of transmit errors.

       collisions
              The number of collisions.

       systime
              The timestamp when the above stats where collected in seconds since epoch or the time period  over
              which tx and rx were transferred.

</pre><h4><b>BUGS</b></h4><pre>
       <b>sg_get_network_io_stats_diff</b> and <b>sg_get_network_io_stats_diff_between</b> compare two lists of network inter‐
       face  related  I/O  statistics. Each entry occurring only in the second list is passed through to the re‐
       sulting list as if it would have been compared to an entry with all statistic values set to 0.  This  im‐
       plies,  on  the  very  first  call  <b>sg_get_network_io_stats_diff</b>  will  return  the  same  as <b>sg_get_net‐</b>
       <b>work_io_stats</b>.

       On operating systems that hold only 32bits of data there is a problem if the values wrap twice. For exam‐
       ple, on Solaris 7 if 9GB  is  transferred  and  the  operating  system  wraps  at  4GB,  the  <b>sg_get_net‐</b>
       <b>work_io_stats_diff</b> function will return 5GB.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/statgrab.3.html">statgrab</a></b>(3)

</pre><h4><b>WEBSITE</b></h4><pre>
       ⟨https://libstatgrab.org/⟩

libstatgrab                                        2019-03-08                         <u><a href="../man3/sg_get_network_io_stats.3.html">sg_get_network_io_stats</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>