<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MooX::Cmd - Giving an easy Moo style way to make command organized CLI apps</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmoox-cmd-perl">libmoox-cmd-perl_0.017-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       MooX::Cmd - Giving an easy Moo style way to make command organized CLI apps

</pre><h4><b>SYNOPSIS</b></h4><pre>
         package MyApp;

         use Moo;
         use MooX::Cmd;

         sub execute {
           my ( $self, $args_ref, $chain_ref ) = @_;
           my @extra_argv = @{$args_ref};
           my @chain = @{$chain_ref} # in this case only ( $myapp )
                                     # where $myapp == $self
         }

         1;

         package MyApp::Cmd::Command;
         # for "myapp command"

         use Moo;
         use MooX::Cmd;

         # gets executed on "myapp command" but not on "myapp command command"
         # there MyApp::Cmd::Command still gets instantiated and for the chain
         sub execute {
           my ( $self, $args_ref, $chain_ref ) = @_;
           my @chain = @{$chain_ref} # in this case ( $myapp, $myapp_cmd_command )
                                     # where $myapp_cmd_command == $self
         }

         1;

         package MyApp::Cmd::Command::Cmd::Command;
         # for "myapp command command"

         use Moo;
         use MooX::Cmd;

         # gets executed on "myapp command command" and will not get instantiated
         # on "myapp command" cause it doesnt appear in the chain there
         sub execute {
           my ( $self, $args_ref, $chain_ref ) = @_;
           my @chain = @{$chain_ref} # in this case ( $myapp, $myapp_cmd_command,
                                     # $myapp_cmd_command_cmd_command )
                                     # where $myapp_cmd_command_cmd_command == $self
         }

         package MyZapp;

         use Moo;
         use MooX::Cmd execute_from_new =&gt; 0;

         sub execute {
           my ( $self ) = @_;
           my @extra_argv = @{$self-&gt;command_args};
           my @chain = @{$self-&gt;command_chain} # in this case only ( $myzapp )
                                     # where $myzapp == $self
         }

         1;

         package MyZapp::Cmd::Command;
         # for "myapp command"

         use Moo;
         use MooX::Cmd execute_from_new =&gt; 0;

         # gets executed on "myapp command" but not on "myapp command command"
         # there MyApp::Cmd::Command still gets instantiated and for the chain
         sub execute {
           my ( $self ) = @_;
           my @extra_argv = @{$self-&gt;command_args};
           my @chain = @{$self-&gt;command_chain} # in this case ( $myzapp, $myzapp_cmd_command )
                                     # where $myzapp_cmd_command == $self
         }

         1;
         package main;

         use MyApp;

         MyZapp-&gt;new_with_cmd-&gt;execute();
         MyApp-&gt;new_with_cmd;

         1;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Eases the writing of command line utilities, accepting commands and subcommands and so on. These commands
       can form a tree, which is mirrored in the package structure. On invocation each command along the path
       through the tree (starting from the toplevel command through to the most specific one) is instanciated.

       Each command needs to have an "execute" function, accepting three parameters:

       "self"
           A reference to the specific MooX::Cmd object that is executing.

       "args"
           An  ArrayRef  of  arguments  passed  to  "self". This only encompasses arguments of the most specific
           (read: right-most) command.

       "chain"
           An ArrayRef of "MooX::Cmd"s along the tree path, as specified on the command line.

       <b>Note</b> <b>that</b> <b>only</b> <b>the</b> <b>execute</b> <b>function</b> <b>of</b> <b>the</b> <b>most</b> <b>specific</b> <b>command</b> <b>is</b> <b>executed.</b>

       <u>MooX::Cmd</u> <u>Attributes</u>

       Each command has some attributes set by MooX::Cmd during initialization:

       "command_chain"
           Same as "chain" argument to "execute".

       "command_name"
           TODO

       "command_commands"
           TODO

       "command_args"
           TODO

       "command_base"
           TODO

   <b>Examples</b>
       <u>A</u> <u>Single</u> <u>Toplevel</u> <u>Command</u>

         #!<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?env">/usr/bin/env</a> perl
         package MyApp;
         use Moo;
         use MooX::Cmd;

         sub execute {
           my ($self,$args,$chain) = @_;
           printf("%s.execute(\$self,[%s],[%s])\n",
             ref($self),                       # which command is executing?
             join(", ", @$args ),              # what where the arguments?
             join(", ", map { ref } @$chain)   # what's in the command chain?
           );
         }

         package main;
         MyApp-&gt;new_with_cmd();

       Some sample invocations:

        $ ./MyApp.pl
        MyApp.execute($self,[],[MyApp])

        $./MyApp.pl --opt1
        MyApp.execute($self,[--opt1],[MyApp])

        $ ./MyApp.pl --opt1 arg
        MyApp.execute($self,[--opt1, arg],[MyApp])

       <u>Toplevel</u> <u>Command</u> <u>with</u> <u>Subcommand</u>

         #!<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?env">/usr/bin/env</a> perl
         # let's define a base class containing our generic execute
         # function to save some typing...
         package CmdBase;
         use Moo;

         sub execute {
           my ($self,$args,$chain) = @_;
           printf("%s.execute(\$self,[%s],[%s])\n",
             ref($self),
             join(", ", @$args ),
             join(", ", map { ref } @$chain)
           );
         }

         package MyApp;
         # toplevel command/app
         use Moo;
         use MooX::Cmd;
         extends 'CmdBase';

         package MyApp::Cmd::frobnicate;
         # can be called via ./MyApp.pl frobnicate
         use Moo;
         use MooX::Cmd;
         extends 'CmdBase';

         package main;
         MyApp-&gt;new_with_cmd();

       And some sample invocations:

         $ ./MyApp.pl frobnicate
         MyApp::Cmd::frobnicate.execute($self,[],[MyApp, MyApp::Cmd::frobnicate])

       As you can see the chain contains our toplevel command object and then the specififc one.

         $ ./MyApp.pl frobnicate arg1
         MyApp::Cmd::frobnicate.execute($self,[arg1],[MyApp, MyApp::Cmd::frobnicate])

       Arguments are passed via the "args" parameter.

         $ ./MyApp.pl some --stuff frobnicate arg1
         MyApp::Cmd::frobnicate.execute($self,[arg1],[MyApp, MyApp::Cmd::frobnicate])

       Arguments to commands higher in the tree get ignored if they don't match a command.

       <u>Access</u> <u>Toplevel</u> <u>Attributes</u> <u>via</u> <u>Chain</u>

         #!<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?env">/usr/bin/env</a> perl
         package CmdBase;
         use Moo;

         sub execute {
           my ($self,$args,$chain) = @_;
           printf("%s.execute(\$self,[%s],[%s])\n",
             ref($self),
             join(", ", @$args ),
             join(", ", map { ref } @$chain)
           );
         }

         package MyApp;
         use Moo;
         use MooX::Cmd;
         extends 'CmdBase';

         has somevar =&gt; ( is =&gt; 'ro', default =&gt; 'someval' );

         package MyApp::Cmd::frobnicate;
         use Moo;
         use MooX::Cmd;
         extends 'CmdBase';

         around execute =&gt; sub {
           my ($orig,$self,$args,$chain) = @_;
           $self-&gt;$orig($args,$chain);
           # we can access toplevel attributes via the chain...
           printf("MyApp-&gt;somevar = '%s'\n", $chain-&gt;[0]-&gt;somevar);
         };

         package main;
         MyApp-&gt;new_with_cmd();

       A sample invocation

         $ ./MyApp.pl some --stuff frobnicate arg1
         MyApp::Cmd::frobnicate.execute($self,[arg1],[MyApp, MyApp::Cmd::frobnicate])
         MyApp-&gt;somevar = someval

   <b>MooX::Options</b> <b>integration</b>
       You can integrate MooX::Options simply by using it and declaring some options, like so:

         #!<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?env">/usr/bin/env</a> perl
         package MyApp;
         use Moo;
         use MooX::Cmd;
         use MooX::Options;

         option debug =&gt; ( is =&gt; 'ro' );

         sub execute {
           my ($self,$args,$chain) = @_;
           print "debugging enabled!\n" if $self-&gt;{debug};
         }

         package main;
         MyApp-&gt;new_with_cmd();

       A sample invocation

         $ ./MyApp-Options.pl --debug
         debugging enabled!

       <b>Note,</b> <b>that</b> <b>each</b> <b>command</b> <b>and</b> <b>subcommand</b> <b>has</b> <b>its</b> <b>own</b> <b>options.</b>, so  options  are  parsed  for  the  specific
       context and used for the instantiation:

         $ ./MyApp.pl --argformyapp command --argformyappcmdcommand ...

</pre><h4><b>SUPPORT</b></h4><pre>
       Repository

         <a href="http://github.com/Getty/p5-moox-cmd">http://github.com/Getty/p5-moox-cmd</a>
         Pull request and additional contributors are welcome

       Issue Tracker

         <a href="http://github.com/Getty/p5-moox-cmd/issues">http://github.com/Getty/p5-moox-cmd/issues</a>
         <a href="http://rt.cpan.org/NoAuth/Bugs.html">http://rt.cpan.org/NoAuth/Bugs.html</a>?Dist=MooX-Cmd
         bug-moox-cmd at rt.cpan.org

</pre><h4><b>THANKS</b></h4><pre>
       Lukas Mai (mauke), Toby Inkster (tobyink)
           Gave some helpful advice for solving difficult issues

       Celogeek San
           Integration into MooX::Options for better help messages and suit team play

       Torsten Raudssus (Getty)
           did the initial work and brought it to CPAN

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       Copyright 2012-2013 Torsten Raudssus, Copyright 2013-2017 Jens Rehsack.

       This  program  is  free software; you can redistribute it and/or modify it under the terms of either: the
       GNU General Public License as published by the Free Software Foundation; or the Artistic License.

       See &lt;<a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a>&gt; for more information.

perl v5.36.0                                       2022-11-19                                     <u>MooX::<a href="../man3pm/Cmd.3pm.html">Cmd</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>