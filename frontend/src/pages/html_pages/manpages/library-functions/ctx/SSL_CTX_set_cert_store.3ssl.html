<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSL_CTX_set_cert_store, SSL_CTX_set1_cert_store, SSL_CTX_get_cert_store - manipulate X509 certificate</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SSL_CTX_set_cert_store, SSL_CTX_set1_cert_store, SSL_CTX_get_cert_store - manipulate X509 certificate
       verification storage

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/ssl.h&gt;

        void SSL_CTX_set_cert_store(SSL_CTX *ctx, X509_STORE *store);
        void SSL_CTX_set1_cert_store(SSL_CTX *ctx, X509_STORE *store);
        X509_STORE *SSL_CTX_get_cert_store(const SSL_CTX *ctx);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>SSL_CTX_set_cert_store()</b> sets/replaces the certificate verification storage of <b>ctx</b> to/with <b>store</b>. If
       another X509_STORE object is currently set in <b>ctx</b>, it will be <b>X509_STORE_free()</b>ed.
       <b>SSL_CTX_set_cert_store()</b> will take ownership of the <b>store</b>, i.e., the call X509_STORE_free(store) is no
       longer needed.

       <b>SSL_CTX_set1_cert_store()</b> sets/replaces the certificate verification storage of <b>ctx</b> to/with <b>store</b>. The
       <b>store</b>'s reference count is incremented.  If another X509_STORE object is currently set in <b>ctx</b>, it will be
       <b>X509_STORE_free()</b>ed.

       <b>SSL_CTX_get_cert_store()</b> returns a pointer to the current certificate verification storage. <b>ctx</b> <b>MUST</b> <b>NOT</b>
       be NULL.

</pre><h4><b>NOTES</b></h4><pre>
       In order to verify the certificates presented by the peer, trusted CA certificates must be accessed.
       These CA certificates are made available via lookup methods, handled inside the X509_STORE. From the
       X509_STORE the X509_STORE_CTX used when verifying certificates is created.

       Typically the trusted certificate store is handled indirectly via using <b><a href="../man3/SSL_CTX_load_verify_locations.3.html">SSL_CTX_load_verify_locations</a></b>(3).
       Using the <b>SSL_CTX_set_cert_store()</b> and <b>SSL_CTX_get_cert_store()</b> functions it is possible to manipulate
       the X509_STORE object beyond the <b><a href="../man3/SSL_CTX_load_verify_locations.3.html">SSL_CTX_load_verify_locations</a></b>(3) call.

       Currently no detailed documentation on how to use the X509_STORE object is available. Not all members of
       the X509_STORE are used when the verification takes place. So will e.g. the <b>verify_callback()</b> be
       overridden with the <b>verify_callback()</b> set via the <b><a href="../man3/SSL_CTX_set_verify.3.html">SSL_CTX_set_verify</a></b>(3) family of functions.  This
       document must therefore be updated when documentation about the X509_STORE object and its handling
       becomes available.

       <b>SSL_CTX_set_cert_store()</b> does not increment the <b>store</b>'s reference count, so it should not be used to
       assign an X509_STORE that is owned by another SSL_CTX.

       To share X509_STOREs between two SSL_CTXs, use <b>SSL_CTX_get_cert_store()</b> to get the X509_STORE from the
       first SSL_CTX, and then use <b>SSL_CTX_set1_cert_store()</b> to assign to the second SSL_CTX and increment the
       reference count of the X509_STORE.

</pre><h4><b>RESTRICTIONS</b></h4><pre>
       The X509_STORE structure used by an SSL_CTX is used for verifying peer certificates and building
       certificate chains, it is also shared by every child SSL structure. Applications wanting finer control
       can use functions such as <b>SSL_CTX_set1_verify_cert_store()</b> instead.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>SSL_CTX_set_cert_store()</b> does not return diagnostic output.

       <b>SSL_CTX_set1_cert_store()</b> does not return diagnostic output.

       <b>SSL_CTX_get_cert_store()</b> returns the current setting.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/ssl.7.html">ssl</a></b>(7), <b><a href="../man3/SSL_CTX_load_verify_locations.3.html">SSL_CTX_load_verify_locations</a></b>(3), <b><a href="../man3/SSL_CTX_set_verify.3.html">SSL_CTX_set_verify</a></b>(3)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2001-2024 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                       <u><a href="../man3SSL/SSL_CTX_SET_CERT_STORE.3SSL.html">SSL_CTX_SET_CERT_STORE</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>