<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>itcl::code - capture the namespace context for a code fragment</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl-itcl4-doc">tcl-itcl4-doc_4.3.2-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       itcl::code - capture the namespace context for a code fragment

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>itcl::code</b> ?<b>-namespace</b> <u>name</u>? <u>command</u> ?<u>arg</u> <u>arg</u> <u>...</u>?
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Creates  a  scoped value for the specified <u>command</u> and its associated <u>arg</u> arguments.  A scoped value is a
       list with three elements:  the "@scope" keyword, a namespace context, and a value string.   For  example,
       the command
              namespace foo {
                  code puts "Hello World!"
              }
       produces the scoped value:
              @scope ::foo {puts {Hello World!}}
       Note  that the <b>code</b> command captures the current namespace context.  If the <b>-namespace</b> flag is specified,
       then the current context is ignored, and the <u>name</u> string is used as the namespace context.

       Extensions like Tk execute ordinary code fragments in the global namespace.  A scoped  value  captures  a
       code  fragment together with its namespace context in a way that allows it to be executed properly later.
       It is needed, for example, to wrap up code fragments when a Tk widget is used within a namespace:
              namespace foo {
                  private proc report {mesg} {
                      puts "click: $mesg"
                  }

                  button .b1 -text "Push Me"         -command [code report "Hello World!"]
                  pack .b1
              }
       The code fragment associated with button .b1  only  makes  sense  in  the  context  of  namespace  "foo".
       Furthermore, the "report" procedure is private, and can only be accessed within that namespace.  The <b>code</b>
       command  wraps  up  the  code fragment in a way that allows it to be executed properly when the button is
       pressed.

       Also, note that the <b>code</b> command preserves the integrity of arguments on the command line.  This makes it
       a natural replacement for the <b>list</b> command, which is often used to format Tcl code fragments.   In  other
       words, instead of using the <b>list</b> command like this:
              after 1000 [list puts "Hello $name!"]
       use the <b>code</b> command like this:
              after 1000 [code puts "Hello $name!"]
       This not only formats the command correctly, but also captures its namespace context.

       Scoped  commands  can  be  invoked  like  ordinary code fragments, with or without the <b>eval</b> command.  For
       example, the following statements work properly:
              set cmd {@scope ::foo .b1}
              $cmd configure -background red

              set opts {-bg blue -fg white}
              eval $cmd configure $opts
       Note that scoped commands by-pass the usual protection mechanisms; the command:
              @scope ::foo {report {Hello World!}}
       can be used to access the "foo::report" proc from any namespace context, even though it is private.

</pre><h4><b>KEYWORDS</b></h4><pre>
       scope, callback, namespace, public, protected, private

itcl                                                   3.0                                           <u><a href="../man3itcl/code.3itcl.html">code</a></u>(3itcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>