<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MooX::Cmd::Tester - MooX cli app commands tester</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmoox-cmd-perl">libmoox-cmd-perl_0.017-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       MooX::Cmd::Tester - MooX cli app commands tester

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use MooX::Cmd::Tester;
         use Test::More;

         use MyFoo;

         # basic tests as instance check, initialization check etc. is done there
         my $rv = test_cmd( MyFoo =&gt; [ command(s) option(s) ] );

         like( $rv-&gt;stdout, qr/operation successful/, "Command performed" );
         like( $rv-&gt;stderr, qr/patient dead/, "Deal with expected command error" );

         is_deeply( $rv-&gt;execute_rv, \@expected_return_values, "got what I deserve?" );

         cmp_ok( $rv-&gt;exit_code, "==", 0, "Command successful" );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The test coverage of most CLI apps is somewhere between poor and wretched.  With the same approach as
       App::Cmd::Tester comes MooX::Cmd::Tester to ease writing tests for CLI apps.

</pre><h4><b>FUNCTIONS</b></h4><pre>
   <b>test_cmd</b>
         my $rv = test_cmd( MyApp =&gt; \@argv );

       test_cmd invokes the app with given argv as if would be invoked from command line and captures the
       output, the return values and exit code.

       Some minor tests are done to prove whether class matches, execute succeeds, command_name and
       command_chain are not totally scrambled.

       It returns an object with following attributes/accessors:

       <u>app</u>

       Name of package of App

       <u>cmd</u>

       Name of executed (1st level) command

       <u>stdout</u>

       Content of stdout

       <u>stderr</u>

       Content of stderr

       <u>output</u>

       Content of merged stdout and stderr

       <u>error</u>

       the exception thrown by running the application (if any)

       <u>execute_rv</u>

       return values from execute

       <u>exit_code</u>

       0 on success, $! when error occurred and $! available, -1 otherwise

   <b>test_cmd_ok</b>
         my $rv = test_cmd_ok( MyApp =&gt; \@argv );

       Runs "test_cmd" and expects it being successful - command_name must be in command_commands, etc.

       Returns the same object "test_cmd" returns.

       If an error occurred, no additional test is done (behavior as "test_cmd").

   <b>result_class</b>
       Builder for result class to use. Returns "MooX::Cmd::Tester::Result" by default.

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
       MooX::Cmd::Tester is <u>inspired</u> by App::Cmd::Tester from Ricardo Signes.  In fact, I reused the entire
       design and adopt it to the requirements of MooX::Cmd.

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       Copyright 2013-2017 Jens Rehsack.

       This program is free software; you can redistribute it and/or modify it under the terms of either: the
       GNU General Public License as published by the Free Software Foundation; or the Artistic License.

       See &lt;<a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a>&gt; for more information.

perl v5.36.0                                       2022-11-19                             <u>MooX::Cmd::<a href="../man3pm/Tester.3pm.html">Tester</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>