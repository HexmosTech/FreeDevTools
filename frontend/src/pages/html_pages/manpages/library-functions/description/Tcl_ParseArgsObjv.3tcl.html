<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tcl_ParseArgsObjv - parse arguments according to a tabular description</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl9.0-doc">tcl9.0-doc_9.0.1+dfsg-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tcl_ParseArgsObjv - parse arguments according to a tabular description

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;tcl.h&gt;</b>

       int
       <b>Tcl_ParseArgsObjv</b>(<u>interp,</u> <u>argTable,</u> <u>objcPtr,</u> <u>objv,</u> <u>remObjv</u>)

</pre><h4><b>ARGUMENTS</b></h4><pre>
       Tcl_Interp <u>*interp</u> (out)                    Where to store error messages.

       const Tcl_ArgvInfo <u>*argTable</u> (in)           Pointer to array of option descriptors.

       Tcl_Size | int <u>*objcPtr</u> (in/out)            A  pointer  to  variable holding number of arguments in <u>objv</u>.
                                                   Will be modified to hold number  of  arguments  left  in  the
                                                   unprocessed   argument   list  stored  in  <u>remObjv</u>.   May  be
                                                   (Tcl_Size *)NULL when not used. If it points  to  a  variable
                                                   which  type  is  not  <b>Tcl_Size</b>,  a  compiler  warning will be
                                                   generated.  If your extensions is compiled with  -DTCL_8_API,
                                                   this  function  will return NULL for argument lists with more
                                                   than INT_MAX elements (which  should  trigger  proper  error-
                                                   handling), otherwise expect it to crash.

       Tcl_Obj *const <u>*objv</u> (in)                   The array of arguments to be parsed.

       Tcl_Obj <u>***remObjv</u> (out)                    Pointer to a variable that will hold the array of unprocessed
                                                   arguments.   Should  be  NULL  if  no  return  of unprocessed
                                                   arguments is required. If <u>objcPtr</u> is updated  to  a  non-zero
                                                   value,  the  array  returned through this must be deallocated
                                                   using <b>Tcl_Free</b>.
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>Tcl_ParseArgsObjv</b> function provides a system for  parsing  argument  lists  of  the  form  “<b>-someName</b>
       <u>someValue</u>  ...”.   Such  argument  lists are commonly found both in the arguments to a program and in the
       arguments to an individual Tcl command. This parser assumes that the order  of  the  arguments  does  not
       matter, other than in so far as later copies of a duplicated option overriding earlier ones.

       The argument array is described by the <u>objcPtr</u> and <u>objv</u> parameters, and an array of unprocessed arguments
       is returned through the <u>objcPtr</u> and <u>remObjv</u> parameters; if no return of unprocessed arguments is desired,
       the  <u>remObjv</u> parameter should be NULL. If any problems happen, including if the “generate help” option is
       selected, an error message is left in the interpreter result and TCL_ERROR is  returned.  Otherwise,  the
       interpreter result is left unchanged and TCL_OK is returned.

       The  collection  of arguments to be parsed is described by the <u>argTable</u> parameter. This points to a table
       of descriptor structures that is terminated by an entry with the  <u>type</u>  field  set  to  TCL_ARGV_END.  As
       convenience, the following prototypical entries are provided:

       <b>TCL_ARGV_AUTO_HELP</b>
              Enables the argument processor to provide help when passed the argument “<b>-help</b>”.

       <b>TCL_ARGV_AUTO_REST</b>
              Instructs the argument processor that arguments after “<b>--</b>” are to be unprocessed.

       <b>TCL_ARGV_TABLE_END</b>
              Marks the end of the table of argument descriptors.

   <b>ARGUMENT</b> <b>DESCRIPTOR</b> <b>ENTRIES</b>
       Each  entry  of  the argument descriptor table must be a structure of type <b>Tcl_ArgvInfo</b>. The structure is
       defined as this:

              typedef struct {
                  int <u>type</u>;
                  const char *<u>keyStr</u>;
                  void *<u>srcPtr</u>;
                  void *<u>dstPtr</u>;
                  const char *<u>helpStr</u>;
                  void *<u>clientData</u>;
              } <b>Tcl_ArgvInfo</b>;

       The <u>keyStr</u> field contains the name of the option; by convention, this will  normally  begin  with  a  “<b>-</b>”
       character. The <u>type</u>, <u>srcPtr</u>, <u>dstPtr</u> and <u>clientData</u> fields describe the interpretation of the value of the
       argument,  as  described  below.  The <u>helpStr</u> field gives some text that is used to provide help to users
       when they request it.

       As noted above, the <u>type</u> field is used to describe  the  interpretation  of  the  argument's  value.  The
       following values are acceptable values for <u>type</u>:

       <b>TCL_ARGV_CONSTANT</b>
              The  argument  does  not  take  any  following  value  argument.  If this argument is present, the
              (integer) value of the <u>srcPtr</u> field is copied to the variable pointed to by the <u>dstPtr</u> field.  The
              <u>clientData</u> field is ignored.

       <b>TCL_ARGV_END</b>
              This value marks the end of all option descriptors in the table. All other fields are ignored.

       <b>TCL_ARGV_FLOAT</b>
              This  argument  takes  a  following  floating  point  value  argument.  The  value (once parsed by
              <b>Tcl_GetDoubleFromObj</b>) will be stored as a double-precision value in the variable pointed to by the
              <u>dstPtr</u> field. The <u>srcPtr</u> and <u>clientData</u> fields are ignored.

       <b>TCL_ARGV_FUNC</b>
              This argument optionally takes a following value argument;  it  is  up  to  the  handler  callback
              function passed in <u>srcPtr</u> to decide. That function will have the following signature:

                     typedef int (<b>Tcl_ArgvFuncProc</b>)(
                             void *<u>clientData</u>,
                             Tcl_Obj *<u>objPtr</u>,
                             void *<u>dstPtr</u>);

              The result is a boolean value indicating whether to consume the following argument. The <u>clientData</u>
              is  the value from the table entry, the <u>objPtr</u> is the value that represents the following argument
              or  NULL  if  there  are  no  following  arguments  at  all,  and  the  <u>dstPtr</u>  argument  to   the
              <b>Tcl_ArgvFuncProc</b> is the location to write the parsed value to.

       <b>TCL_ARGV_GENFUNC</b>
              This  argument  takes  zero  or  more following arguments; the handler callback function passed in
              <u>srcPtr</u> returns how many (or a negative number to signal an error, in which case it should also set
              the interpreter result). The function will have the following signature:

                     typedef Tcl_Size (<b>Tcl_ArgvGenFuncProc</b>)(
                             void *<u>clientData</u>,
                             Tcl_Interp *<u>interp</u>,
                             Tcl_Size <u>objc</u>,
                             Tcl_Obj *const *<u>objv</u>,
                             void *<u>dstPtr</u>);

              The <u>clientData</u> is the value from the table entry, the <u>interp</u> is where to store any error messages,
              <u>objc</u> and <u>objv</u> describe an array of all  the  remaining  arguments,  and  <u>dstPtr</u>  argument  to  the
              <b>Tcl_ArgvGenFuncProc</b> is the location to write the parsed value (or values) to.

       <b>TCL_ARGV_HELP</b>
              This   special   argument  does  not  take  any  following  value  argument,  but  instead  causes
              <b>Tcl_ParseArgsObjv</b> to generate an error message  describing  the  arguments  supported.  All  other
              fields except the <u>helpStr</u> field are ignored.

       <b>TCL_ARGV_INT</b>
              This   argument   takes   a   following   integer  value  argument.  The  value  (once  parsed  by
              <b>Tcl_GetIntFromObj</b>) will be stored as an int in the variable pointed to by the  <u>dstPtr</u>  field.  The
              <u>srcPtr</u> field is ignored.

       <b>TCL_ARGV_REST</b>
              This  special argument does not take any following value argument, but instead marks all following
              arguments to be left unprocessed. The <u>srcPtr</u>, <u>dstPtr</u> and <u>clientData</u> fields are ignored.

       <b>TCL_ARGV_STRING</b>
              This argument takes a following string value argument. A pointer to the string will be  stored  at
              <u>dstPtr</u>; the string inside will have a lifetime linked to the lifetime of the string representation
              of  the  argument value that it came from, and so should be copied if it needs to be retained. The
              <u>srcPtr</u> and <u>clientData</u> fields are ignored.

</pre><h4><b>REFERENCE</b> <b>COUNT</b> <b>MANAGEMENT</b></h4><pre>
       The values in the <u>objv</u> argument to <b>Tcl_ParseArgsObjv</b> will not have their  reference  counts  modified  by
       this  function.  The  interpreter  result  may  be modified on error; the values passed should not be the
       interpreter result with no further reference added.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3tcl/Tcl_GetIndexFromObj.3tcl.html">Tcl_GetIndexFromObj</a>(3tcl), <a href="../man3tcl/Tcl_Main.3tcl.html">Tcl_Main</a>(3tcl), <a href="../man3tcl/Tcl_CreateObjCommand.3tcl.html">Tcl_CreateObjCommand</a>(3tcl)

</pre><h4><b>KEYWORDS</b></h4><pre>
       argument, parse

Tcl                                                    8.6                               <u><a href="../man3tcl/Tcl_ParseArgsObjv.3tcl.html">Tcl_ParseArgsObjv</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>