<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stdlib.Arg - no description</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ocaml-man">ocaml-man_5.3.0-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Stdlib.Arg - no description

</pre><h4><b>Module</b></h4><pre>
       Module   Stdlib.Arg

</pre><h4><b>Documentation</b></h4><pre>
       Module <b>Arg</b>
        : <b>(module</b> <b>Stdlib__Arg)</b>

       <u>type</u> <u>spec</u> =
        | Unit <b>of</b> <b>(unit</b> <b>-&gt;</b> <b>unit)</b>
         (* Call the function with unit argument
        *)
        | Bool <b>of</b> <b>(bool</b> <b>-&gt;</b> <b>unit)</b>
         (* Call the function with a bool argument
        *)
        | Set <b>of</b> <b>bool</b> <b>ref</b>
         (* Set the reference to true
        *)
        | Clear <b>of</b> <b>bool</b> <b>ref</b>
         (* Set the reference to false
        *)
        | String <b>of</b> <b>(string</b> <b>-&gt;</b> <b>unit)</b>
         (* Call the function with a string argument
        *)
        | Set_string <b>of</b> <b>string</b> <b>ref</b>
         (* Set the reference to the string argument
        *)
        | Int <b>of</b> <b>(int</b> <b>-&gt;</b> <b>unit)</b>
         (* Call the function with an int argument
        *)
        | Set_int <b>of</b> <b>int</b> <b>ref</b>
         (* Set the reference to the int argument
        *)
        | Float <b>of</b> <b>(float</b> <b>-&gt;</b> <b>unit)</b>
         (* Call the function with a float argument
        *)
        | Set_float <b>of</b> <b>float</b> <b>ref</b>
         (* Set the reference to the float argument
        *)
        | Tuple <b>of</b> <b>spec</b> <b>list</b>
         (* Take several arguments according to the spec list
        *)
        | Symbol <b>of</b> <b>string</b> <b>list</b> <b>*</b> <b>(string</b> <b>-&gt;</b> <b>unit)</b>
         (* Take one of the symbols as argument and call the function with the symbol
        *)
        | Rest <b>of</b> <b>(string</b> <b>-&gt;</b> <b>unit)</b>
         (* Stop interpreting keywords and call the function with each remaining argument
        *)
        | Rest_all <b>of</b> <b>(string</b> <b>list</b> <b>-&gt;</b> <b>unit)</b>
         (* Stop interpreting keywords and call the function with all remaining arguments
        *)
        | Expand <b>of</b> <b>(string</b> <b>-&gt;</b> <b>string</b> <b>array)</b>
         (*  If  the  remaining  arguments  to  process  are  of  the form <b>["-foo";</b> <b>"arg"]</b> <b>@</b> <b>rest</b> where "foo" is
       registered  as  <b>Expand</b>  <b>f</b>  ,  then  the  arguments  <b>f</b>  <b>"arg"</b>  <b>@</b>  <b>rest</b>  are  processed.  Only  allowed  in
       <b>parse_and_expand_argv_dynamic</b> .
        *)

       The concrete type describing the behavior associated with a keyword.

       <u>type</u> <u>key</u> = <b>string</b>

       <u>type</u> <u>doc</u> = <b>string</b>

       <u>type</u> <u>usage_msg</u> = <b>string</b>

       <u>type</u> <u>anon_fun</u> = <b>string</b> <b>-&gt;</b> <b>unit</b>

       <u>val</u> <u>parse</u> : <b>(key</b> <b>*</b> <b>spec</b> <b>*</b> <b>doc)</b> <b>list</b> <b>-&gt;</b> <b>anon_fun</b> <b>-&gt;</b> <b>usage_msg</b> <b>-&gt;</b> <b>unit</b>

       <b>Arg.parse</b> <b>speclist</b> <b>anon_fun</b> <b>usage_msg</b> parses the command line.  <b>speclist</b> is a list of triples <b>(key,</b> <b>spec,</b>
       <b>doc)</b>  .   <b>key</b>  is the option keyword, it must start with a <b>'-'</b> character.  <b>spec</b> gives the option type and
       the function to call when this option is found on the command line.  <b>doc</b> is  a  one-line  description  of
       this  option.   <b>anon_fun</b> is called on anonymous arguments.  The functions in <b>spec</b> and <b>anon_fun</b> are called
       in the same order as their arguments appear on the command line.

       If an error occurs, <b>Arg.parse</b> exits the program, after printing to standard error  an  error  message  as
       follows:

       -  The reason for the error: unknown option, invalid or missing argument, etc.

       - <b>usage_msg</b>

       -   The  list  of  options,  each followed by the corresponding <b>doc</b> string.  Beware: options that have an
       empty <b>doc</b> string will not be included in the list.

       For the user to be able to specify anonymous arguments starting with a <b>-</b>  ,  include  for  example  <b>("-",</b>
       <b>String</b> <b>anon_fun,</b> <b>doc)</b> in <b>speclist</b> .

       By  default,  <b>parse</b>  recognizes  two unit options, <b>-help</b> and <b>--help</b> , which will print to standard output
       <b>usage_msg</b> and the list of options, and exit the program.  You can override this behaviour  by  specifying
       your own <b>-help</b> and <b>--help</b> options in <b>speclist</b> .

       <u>val</u> <u>parse_dynamic</u> : <b>(key</b> <b>*</b> <b>spec</b> <b>*</b> <b>doc)</b> <b>list</b> <b>ref</b> <b>-&gt;</b> <b>anon_fun</b> <b>-&gt;</b> <b>usage_msg</b> <b>-&gt;</b> <b>unit</b>

       Same  as  <b>Arg.parse</b>  ,  except  that  the  <b>speclist</b> argument is a reference and may be updated during the
       parsing. A typical use for this feature is to parse command lines of the form:

       -    command subcommand <b>options</b> where the list  of  options  depends  on  the  value  of  the  subcommand
       argument.

       <b>Since</b> 4.01

       <u>val</u>  <u>parse_argv</u> : <b>?current:int</b> <b>ref</b> <b>-&gt;</b> <b>string</b> <b>array</b> <b>-&gt;</b> <b>(key</b> <b>*</b> <b>spec</b> <b>*</b> <b>doc)</b> <b>list</b> <b>-&gt;</b> <b>anon_fun</b> <b>-&gt;</b> <b>usage_msg</b> <b>-&gt;</b>
       <b>unit</b>

       <b>Arg.parse_argv</b> <b>~current</b> <b>args</b> <b>speclist</b> <b>anon_fun</b> <b>usage_msg</b> parses the array <b>args</b> as if it were the  command
       line.   It  uses  and  updates the value of <b>~current</b> (if given), or <b>Arg.current</b> .  You must set it before
       calling <b>parse_argv</b> .  The initial value of <b>current</b> is the index of the program name (argument 0)  in  the
       array.   If an error occurs, <b>Arg.parse_argv</b> raises <b>Arg.Bad</b> with the error message as argument.  If option
       <b>-help</b> or <b>--help</b> is given, <b>Arg.parse_argv</b> raises <b>Arg.Help</b> with the help message as argument.

       <u>val</u> <u>parse_argv_dynamic</u> : <b>?current:int</b> <b>ref</b> <b>-&gt;</b> <b>string</b> <b>array</b> <b>-&gt;</b> <b>(key</b> <b>*</b> <b>spec</b> <b>*</b> <b>doc)</b> <b>list</b> <b>ref</b> <b>-&gt;</b>  <b>anon_fun</b>  <b>-&gt;</b>
       <b>string</b> <b>-&gt;</b> <b>unit</b>

       Same  as  <b>Arg.parse_argv</b> , except that the <b>speclist</b> argument is a reference and may be updated during the
       parsing.  See <b>Arg.parse_dynamic</b> .

       <b>Since</b> 4.01

       <u>val</u> <u>parse_and_expand_argv_dynamic</u> : <b>int</b> <b>ref</b> <b>-&gt;</b> <b>string</b> <b>array</b> <b>ref</b> <b>-&gt;</b>  <b>(key</b>  <b>*</b>  <b>spec</b>  <b>*</b>  <b>doc)</b>  <b>list</b>  <b>ref</b>  <b>-&gt;</b>
       <b>anon_fun</b> <b>-&gt;</b> <b>string</b> <b>-&gt;</b> <b>unit</b>

       Same  as  <b>Arg.parse_argv_dynamic</b> , except that the <b>argv</b> argument is a reference and may be updated during
       the parsing of <b>Expand</b> arguments.  See <b>Arg.parse_argv_dynamic</b> .

       <b>Since</b> 4.05

       <u>val</u> <u>parse_expand</u> : <b>(key</b> <b>*</b> <b>spec</b> <b>*</b> <b>doc)</b> <b>list</b> <b>-&gt;</b> <b>anon_fun</b> <b>-&gt;</b> <b>usage_msg</b> <b>-&gt;</b> <b>unit</b>

       Same as <b>Arg.parse</b> , except that the <b>Expand</b> arguments are allowed and the  <b>Arg.current</b>  reference  is  not
       updated.

       <b>Since</b> 4.05

       <u>exception</u> <u>Help</u> <b>of</b> <b>string</b>

       Raised by <b>Arg.parse_argv</b> when the user asks for help.

       <u>exception</u> <u>Bad</u> <b>of</b> <b>string</b>

       Functions  in  <b>spec</b>  or  <b>anon_fun</b>  can  raise  <b>Arg.Bad</b> with an error message to reject invalid arguments.
       <b>Arg.Bad</b> is also raised by <b>Arg.parse_argv</b> in case of an error.

       <u>val</u> <u>usage</u> : <b>(key</b> <b>*</b> <b>spec</b> <b>*</b> <b>doc)</b> <b>list</b> <b>-&gt;</b> <b>usage_msg</b> <b>-&gt;</b> <b>unit</b>

       <b>Arg.usage</b> <b>speclist</b> <b>usage_msg</b> prints to standard error an error message that includes the  list  of  valid
       options.   This  is  the same message that <b>Arg.parse</b> prints in case of error.  <b>speclist</b> and <b>usage_msg</b> are
       the same as for <b>Arg.parse</b> .

       <u>val</u> <u>usage_string</u> : <b>(key</b> <b>*</b> <b>spec</b> <b>*</b> <b>doc)</b> <b>list</b> <b>-&gt;</b> <b>usage_msg</b> <b>-&gt;</b> <b>string</b>

       Returns the message that would have been printed by <b>Arg.usage</b> , if provided with the same parameters.

       <u>val</u> <u>align</u> : <b>?limit:int</b> <b>-&gt;</b> <b>(key</b> <b>*</b> <b>spec</b> <b>*</b> <b>doc)</b> <b>list</b> <b>-&gt;</b> <b>(key</b> <b>*</b> <b>spec</b> <b>*</b> <b>doc)</b> <b>list</b>

       Align the documentation strings by inserting spaces at the first alignment separator (tab or, if  tab  is
       not  found,  space),  according  to  the  length  of the keyword.  Use a alignment separator as the first
       character in a doc string if you want to align the whole string.  The doc strings corresponding to <b>Symbol</b>
       arguments are aligned on the next line.

       <u>val</u> <u>current</u> : <b>int</b> <b>ref</b>

       Position (in <b>Sys.argv</b> ) of the argument being processed.  You  can  change  this  value,  e.g.  to  force
       <b>Arg.parse</b>  to  skip  some  arguments.   <b>Arg.parse</b>  uses  the initial value of <b>Arg.current</b> as the index of
       argument 0 (the program name) and starts parsing arguments at the next element.

       <u>val</u> <u>read_arg</u> : <b>string</b> <b>-&gt;</b> <b>string</b> <b>array</b>

       <b>Arg.read_arg</b> <b>file</b> reads newline-terminated command line arguments from file <b>file</b> .

       <b>Since</b> 4.05

       <u>val</u> <u>read_arg0</u> : <b>string</b> <b>-&gt;</b> <b>string</b> <b>array</b>

       Identical to <b>Arg.read_arg</b> but assumes null character terminated command line arguments.

       <b>Since</b> 4.05

       <u>val</u> <u>write_arg</u> : <b>string</b> <b>-&gt;</b> <b>string</b> <b>array</b> <b>-&gt;</b> <b>unit</b>

       <b>Arg.write_arg</b> <b>file</b> <b>args</b> writes the arguments <b>args</b> newline-terminated into the file <b>file</b> . If any  of  the
       arguments in <b>args</b> contains a newline, use <b>Arg.write_arg0</b> instead.

       <b>Since</b> 4.05

       <u>val</u> <u>write_arg0</u> : <b>string</b> <b>-&gt;</b> <b>string</b> <b>array</b> <b>-&gt;</b> <b>unit</b>

       Identical to <b>Arg.write_arg</b> but uses the null character for terminator instead of newline.

       <b>Since</b> 4.05

OCamldoc                                           2025-06-12                                     <u><a href="../man3o/Stdlib.Arg.3o.html">Stdlib.Arg</a></u>(3o)
</pre>
 </div>
</div></section>
</div>
</body>
</html>