<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XkbGetDeviceInfo  -  Determine whether the X server allows Xkb access to particular capabilities of input</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libx11-doc">libx11-doc_1.8.12-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       XkbGetDeviceInfo  -  Determine whether the X server allows Xkb access to particular capabilities of input
       devices other than the core X keyboard, or to determine the status of indicator maps, indicator names  or
       button actions on a non-KeyClass extension device

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>XkbDeviceInfoPtr</b>  <b>XkbGetDeviceInfo</b>  <b>(Display</b> <b>*</b><u>dpy</u><b>,</b> <b>unsigned</b> <b>int</b> <u>which</u><b>,</b> <b>unsigned</b> <b>int</b> <u>device_spec</u><b>,</b> <b>unsigned</b>
              <b>int</b> <u>ind_class</u><b>,</b> <b>unsigned</b> <b>int</b> <u>ind_id</u><b>);</b>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>dpy</u>    connection to X server

       <u>which</u>  mask indicating information to return

       <u>device_spec</u>
              device ID, or XkbUseCoreKbd

       <u>ind_class</u>
              feedback class for indicator requests

       <u>ind_id</u> feedback ID for indicator requests

</pre><h4><b>DESCRIPTION</b></h4><pre>
       To determine whether the X server allows Xkb access to particular capabilities  of  input  devices  other
       than the core X keyboard, or to determine the status of indicator maps, indicator names or button actions
       on a non-KeyClass extension device, use <u>XkbGetDeviceInfo.</u>

       <u>XkbGetDeviceInfo</u>  returns  information  about  the  input  device  specified  by <u>device_spec.</u>  Unlike the
       <u>device_spec</u> parameter of most Xkb functions, <u>device_spec</u> does not need to be a keyboard device. It  must,
       however, indicate either the core keyboard or a valid X Input Extension device.

       The  <u>which</u>  parameter  is a mask specifying optional information to be returned. It is an inclusive OR of
       one or more of the values from Table 1 and causes the returned XkbDeviceInfoRec to contain values for the
       corresponding fields specified in the table.

                                Table 1 XkbDeviceInfoRec Mask Bits
       ____________________________________________________________________________________
       Name                         XkbDeviceInfoRec Value     Capability If Set
                                    Fields Effected
       ____________________________________________________________________________________
       XkbXI_KeyboardsMask                           (1L &lt;&lt;0) Clients can use all
                                                              Xkb requests and events
                                                              with KeyClass devices
                                                              supported by the input
                                                              device extension.

       XkbXI_ButtonActionsMask       num_btns        (1L &lt;&lt;1) Clients can assign key
                                     btn_acts                 actions to buttons
                                                              non-KeyClass input
                                                              extension devices.

       XkbXI_IndicatorNamesMask      leds-&gt;names     (1L &lt;&lt;2) Clients can assign
                                                              names to indicators on
                                                              non-KeyClass input
                                                              extension devices.

       XkbXI_IndicatorMapsMask       leds-&gt;maps      (1L &lt;&lt;3) Clients can assign
                                                              indicator maps to
                                                              indicators on
                                                              non-KeyClass input
                                                              extension devices.

       XkbXI_IndicatorStateMask      leds-&gt;state     (1L &lt;&lt;4) Clients can request
                                                              the status of indicators
                                                              on non-KeyClass input
                                                              extension devices.

       XkbXI_IndicatorsMask          sz_leds         (0x1c)   XkbXI_IndicatorNamesMask |
                                     num_leds                 XkbXI_IndicatorMapsMask |
                                     leds-&gt;*                  XkbXI_IndicatorStateMask

       XkbXI_UnsupportedFeaturesMask unsupported     (1L &lt;&lt;15)

       XkbXI_AllDeviceFeaturesMask   Those selected  (0x1e)   XkbXI_IndicatorsMask |
                                     by Value Column          XkbSI_ButtonActionsMask
                                     masks

       XkbXI_AllFeaturesMask         Those selected  (0x1f)   XkbSI_AllDeviceFeaturesMask |
                                     by Value Column          XkbSI_KeyboardsMask
                                     masks

       XkbXI_AllDetailsMask          Those selected  (0x801f) XkbXI_AllFeaturesMask |
                                     by Value column          XkbXI_UnsupportedFeaturesMask
                                     masks

       The XkbDeviceInfoRec returned by <u>XkbGetDeviceInfo</u> always has values for <u>name</u> (may be a null string,  ""),
       <u>type,</u> <u>supported,</u> <u>unsupported,</u> <u>has_own_state,</u> <u>dflt_kbd_fd,</u> and <u>dflt_kbd_fb.</u>  Other fields are filled in as
       specified by <u>which.</u>

       Upon  return, the <u>supported</u> field will be set to the inclusive OR of zero or more bits from Table 1; each
       bit set indicates an optional Xkb extension device feature supported by the server implementation, and  a
       client may modify the associated behavior.

       If  the  XkbButtonActionsMask  bit  is  set  in <u>which,</u> the XkbDeviceInfoRec returned will have the button
       actions <u>(btn_acts</u> field) filled in for all buttons.

       If <u>which</u> includes one of the bits in XkbXI_IndicatorsMask, the feedback class of the indicators  must  be
       specified  in  <u>ind_class,</u>  and  the  feedback  ID  of the indicators must be specified in <u>ind_id.</u>  If the
       request does not include any of the bits in XkbXI_IndicatorsMask, the <u>ind_class</u> and <u>ind_id</u> parameters are
       ignored. The class and ID can be obtained via the input device extension <u>XListInputDevices</u> request.

       If any of the XkbXI_IndicatorsMask bits are set in <u>which,</u> the XkbDeviceInfoRec returned will have  filled
       in the portions of the <u>leds</u> structure corresponding to the indicator feedback identified by <u>ind_class</u> and
       <u>ind_id.</u>   The  <u>leds</u>  vector  of  the  XkbDeviceInfoRec is allocated if necessary and <u>sz_leds</u> and <u>num_leds</u>
       filled in. The <u>led_class,</u> <u>led_id</u> and <u>phys_indicators</u> fields of the <u>leds</u> entry corresponding to  <u>ind_class</u>
       and  <u>ind_id</u> are always filled in. If <u>which</u> contains XkbXI_IndicatorNamesMask, the <u>names_present</u> and <u>names</u>
       fields of the <u>leds</u> structure corresponding to <u>ind_class</u>  and  <u>ind_id</u>  are  returned.  If  <u>which</u>  contains
       XkbXI_IndicatorStateMask,    the    corresponding   <u>state</u>   field   is   updated.   If   <u>which</u>   contains
       XkbXI_IndicatorMapsMask, the <u>maps_present</u> and <u>maps</u> fields are updated.

       Xkb provides convenience functions to request subsets of the information available via  <u>XkbGetDeviceInfo.</u>
       These  convenience  functions mirror some of the mask bits. The functions all take an XkbDeviceInfoPtr as
       an input argument and operate on the X Input Extension device specified by the <u>device_spec</u> field  of  the
       structure.  Only  the  parts  of  the  structure  indicated  in the function description are updated. The
       XkbDeviceInfoRec structure used in the function call can be obtained by calling <u>XkbGetDeviceInfo</u>  or  can
       be allocated by calling <u>XkbAllocDeviceInfo.</u>

</pre><h4><b>STRUCTURES</b></h4><pre>
       Information about X Input Extension devices is transferred between a client program and the Xkb extension
       in an XkbDeviceInfoRec structure:

       typedef struct {
           char *               name;          /* name for device */
           Atom                 type;          /* name for class of devices */
           unsigned short       device_spec;   /* device of interest */
           Bool                 has_own_state; /* True=&gt;this device has its own state */
           unsigned short       supported;     /* bits indicating supported capabilities */
           unsigned short       unsupported;   /* bits indicating unsupported capabilities */
           unsigned short       num_btns;      /* number of entries in btn_acts */
           XkbAction *          btn_acts;      /* button actions */
           unsigned short       sz_leds;       /* total number of entries in LEDs vector */
           unsigned short       num_leds;      /* number of valid entries in LEDs vector */
           unsigned short       dflt_kbd_fb;   /* input extension ID of default (core kbd) indicator */
           unsigned short       dflt_led_fb;   /* input extension ID of default indicator feedback */
           XkbDeviceLedInfoPtr  leds;          /* LED descriptions */
       } XkbDeviceInfoRec, *XkbDeviceInfoPtr;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/XkbAllocDeviceInfo.3.html">XkbAllocDeviceInfo</a></b>(3), <b><a href="../man3/XListInputDevices.3.html">XListInputDevices</a></b>(3)

X Version 11                                      libX11 1.8.12                              <u><a href="../man3/XkbGetDeviceInfo.3.html">XkbGetDeviceInfo</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>