<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSL_set_shutdown, SSL_get_shutdown - manipulate shutdown state of an SSL connection</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SSL_set_shutdown, SSL_get_shutdown - manipulate shutdown state of an SSL connection

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/ssl.h&gt;

        void SSL_set_shutdown(SSL *ssl, int mode);

        int SSL_get_shutdown(const SSL *ssl);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>SSL_set_shutdown()</b> sets the shutdown state of <b>ssl</b> to <b>mode</b>.

       <b>SSL_get_shutdown()</b> returns the shutdown mode of <b>ssl</b>.

</pre><h4><b>NOTES</b></h4><pre>
       The shutdown state of an ssl connection is a bit-mask of:

       0   No shutdown setting, yet.

       SSL_SENT_SHUTDOWN
           A close_notify shutdown alert was sent to the peer, the connection is being considered closed and the
           session is closed and correct.

       SSL_RECEIVED_SHUTDOWN
           A shutdown alert was received form the peer, either a normal close_notify or a fatal error.

       SSL_SENT_SHUTDOWN and SSL_RECEIVED_SHUTDOWN can be set at the same time.

       The shutdown state of the connection is used to determine the state of the ssl session. If the session is
       still  open,  when  <b><a href="../man3/SSL_clear.3.html">SSL_clear</a></b>(3)  or <b><a href="../man3/SSL_free.3.html">SSL_free</a></b>(3) is called, it is considered bad and removed according to
       RFC2246.  The actual condition for a correctly closed session is SSL_SENT_SHUTDOWN (according to the  TLS
       RFC, it is acceptable to only send the close_notify alert but to not wait for the peer's answer, when the
       underlying  connection  is  closed).   <b>SSL_set_shutdown()</b> can be used to set this state without sending a
       close alert to the peer (see <b><a href="../man3/SSL_shutdown.3.html">SSL_shutdown</a></b>(3)).

       If a close_notify was received, SSL_RECEIVED_SHUTDOWN will be  set,  for  setting  SSL_SENT_SHUTDOWN  the
       application must however still call <b><a href="../man3/SSL_shutdown.3.html">SSL_shutdown</a></b>(3) or <b>SSL_set_shutdown()</b> itself.

       <b>SSL_set_shutdown()</b> is not supported for QUIC SSL objects.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>SSL_set_shutdown()</b> does not return diagnostic information.

       <b>SSL_get_shutdown()</b> returns the current shutdown state as set or based on the actual connection state.

       <b>SSL_get_shutdown()</b>  returns 0 if called on a QUIC stream SSL object. If it is called on a QUIC connection
       SSL object, it returns a value with SSL_SENT_SHUTDOWN set if CONNECTION_CLOSE has been sent to  the  peer
       and it returns a value with SSL_RECEIVED_SHUTDOWN set if CONNECTION_CLOSE has been received from the peer
       or the QUIC connection is fully terminated for other reasons.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/ssl.7.html">ssl</a></b>(7), <b><a href="../man3/SSL_shutdown.3.html">SSL_shutdown</a></b>(3), <b><a href="../man3/SSL_CTX_set_quiet_shutdown.3.html">SSL_CTX_set_quiet_shutdown</a></b>(3), <b><a href="../man3/SSL_clear.3.html">SSL_clear</a></b>(3), <b><a href="../man3/SSL_free.3.html">SSL_free</a></b>(3)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2001-2023 The OpenSSL Project Authors. All Rights Reserved.

       Licensed  under  the  Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain  a  copy  in  the  file  LICENSE  in  the  source  distribution  or  at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                             <u><a href="../man3SSL/SSL_SET_SHUTDOWN.3SSL.html">SSL_SET_SHUTDOWN</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>