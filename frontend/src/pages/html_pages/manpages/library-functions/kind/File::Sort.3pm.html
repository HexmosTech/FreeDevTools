<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File::Sort - Sort a file or merge sort multiple files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libfile-sort-perl">libfile-sort-perl_1.01-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       File::Sort - Sort a file or merge sort multiple files

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use File::Sort qw(sort_file);
         sort_file({
           I =&gt; [qw(file_1 file_2)],
           o =&gt; 'file_new', k =&gt; '5.3,5.5rn', -t =&gt; '|'
         });

         sort_file('file1', 'file1.sorted');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module sorts text files by lines (or records).  Comparisons are based on one or more sort keys
       extracted from each line of input, and are performed lexicographically. By default, if keys are not
       given, sort regards each input line as a single field.  The sort is a merge sort.  If you don't like
       that, feel free to change it.

   <b>Options</b>
       The following options are available, and are passed in the hash reference passed to the function in the
       format:

         OPTION =&gt; VALUE

       Where an option can take multiple values (like "I", "k", and "pos"), values may be passed via an
       anonymous array:

         OPTION =&gt; [VALUE1, VALUE2]

       Where the OPTION is a switch, it should be passed a boolean VALUE of 1 or 0.

       This interface will always be supported, though a more perlish interface may be offered in the future, as
       well.  This interface is basically a mapping of the command-line options to the Unix sort utility.

       "I" <u>INPUT</u>
           Pass  in  the  input  file(s).   This  can  be  either a single string with the filename, or an array
           reference containing multiple filename strings.

       "c" Check that single input fle is ordered as specified by the arguments and the  collating  sequence  of
           the current locale.  No output is produced; only the exit code is affected.

       "m" Merge only; the input files are assumed to already be sorted.

       "o" <u>OUTPUT</u>
           Specify the name of an <u>OUTPUT</u> file to be used instead of the standard output.

       "u" Unique:  Suppresses  all  but  one in each set of lines having equal keys.  If used with the <b>c</b> option
           check that there are no lines with consecutive lines with duplicate keys,  in  addition  to  checking
           that the input file is sorted.

       "y" <u>MAX_SORT_RECORDS</u>
           Maximum  number  of  lines  (records) read before writing to temp file.  Default is 200,000. This may
           eventually change to be kbytes instead of lines.  Lines was easier to implement.   Can  also  specify
           with MAX_SORT_RECORDS environment variable.

       "F" <u>MAX_SORT_FILES</u>
           Maximum  number  of  temp  files  to be held open at once.  Default to 40, as older Windows ports had
           quite a small limit.  Can also specify with MAX_SORT_FILES environment variable.  No temp files  will
           be used at all if MAX_SORT_RECORDS is never reached.

       "D" Send debugging information to STDERR.  Behavior subject to change.

       The  following  options  override the default ordering rules. When ordering options appear independent of
       any key field specifications, the requested field ordering rules are applied globally to all  sort  keys.
       When  attached  to  a  specific  key (see <b>k</b>), the specified ordering options override all global ordering
       options for that key.

       "d" Specify that only blank characters and alphanumeric  characters,  according  to  the  current  locale
           setting, are significant in comparisons.  <b>d</b> overrides <b>i</b>.

       "f" Consider  all lower-case characters that have upper-case equivalents, according to the current locale
           setting, to be the upper-case equivalent for the purposes of comparison.

       "i" Ignores all characters that are non-printable, according to the current locale setting.

       "n" Does numeric instead of string compare, using whatever perl considers  to  be  a  number  in  numeric
           comparisons.

       "r" Reverse the sense of the comparisons.

       "b" Ignore  leading  blank  characters when determining the starting and ending positions of a restricted
           sort key.  If the <b>b</b> option is specified before the first <b>k</b> option, it is applied to  all  <b>k</b>  options.
           Otherwise,  the  <b>b</b> option can be attached indepently to each field_start or field_end option argument
           (see below).

       "t" <u>STRING</u>
           Use <u>STRING</u> as the field separator character; char is not considered to be part of a  field  (although
           it can be included in a sort key).  Each occurrence of char is significant (for example, &lt;char&gt;&lt;char&gt;
           delimits  an  empty  field).   If  <b>t</b>  is  not  specified,  blank characters are used as default field
           separators; each maximal non-empty sequence of blank characters that follows a non-blank character is
           a field separator.

       "X" <u>STRING</u>
           Same as <b>t</b>, but <u>STRING</u> is interpreted as a  Perl  regular  expression  instead.   Do  not  escape  any
           characters ("/" characters need to be escaped internally, and will be escaped for you).

           The  string  matched  by  <u>STRING</u>  is not included in the fields themselves, unless demanded by perl's
           regex and split semantics (e.g., regexes in parentheses will add that matched expression as an  extra
           field).  See perlre and "split" in perlfunc.

       "R" <u>STRING</u>
           Record separator, defaults to newline.

       "k" <u>pos1[,pos2]</u>
           The keydef argument is a restricted sort key field definition. The format of this definition is:

               field_start[.first_char][type][,field_end[.last_char][type]]

           where field_start and field_end define a key field restricted to a portion of the line, and type is a
           modifier from the list of characters <b>b</b>, <b>d</b>, <b>f</b>, <b>i</b>, <b>n</b>, <b>r</b>.  The b modifier behaves like the <b>b</b> option, but
           applies only to the field_start or field_end to which it is attached. The other modifiers behave like
           the corresponding options, but apply only to the key field to which they are attached; they have this
           effect  if  specified  with  field_start,  field_end,  or  both.   If  any  modifier is attached to a
           field_start or a field_end, no option applies to either.

           Occurrences of the <b>k</b> option are significant in command line order.  If no <b>k</b> option  is  specified,  a
           default  sort  key  of  the entire line is used.  When there are multiple keys fields, later keys are
           compared only after all earlier keys compare equal.

           Except when the <b>u</b> option is specified, lines that otherwise compare equal are ordered as if  none  of
           the  options  <b>d</b>, <b>f</b>, <b>i</b>, <b>n</b> or <b>k</b> were present (but with <b>r</b> still in effect, if it was specified) and with
           all bytes in the lines significant to the comparison.  The order in which lines  that  still  compare
           equal are written is unspecified.

       "pos" <u>+pos1</u> <u>[-pos2]</u>
           Similar  to  <b>k</b>,  these  are mostly obsolete switches, but some people like them and want to use them.
           Usage is:

               +field_start[.first_char][type] [-field_end[.last_char][type]]

           Where field_end in <b>k</b> specified the last position to be included, it specifes the last position to NOT
           be included.  Also, numbers  are  counted  from  0  instead  of  1.   <b>pos2</b>  must  immediately  follow
           corresponding <b>+pos1</b>.  The rest should be the same as the <b>k</b> option.

           Mixing  <b>+pos1</b>  <b>pos2</b> with <b>k</b> is allowed, but will result in all of the <b>+pos1</b> <b>pos2</b> options being ordered
           AFTER the <b>k</b> options.  It is best if you Don't Do That.  Pick one and stick with it.

           Here are some equivalencies:

               pos =&gt; '+1 -2'              -&gt;  k =&gt; '2,2'
               pos =&gt; '+1.1 -1.2'          -&gt;  k =&gt; '2.2,2.2'
               pos =&gt; ['+1 -2', '+3 -5']   -&gt;  k =&gt; ['2,2', '4,5']
               pos =&gt; ['+2', '+0b -1']     -&gt;  k =&gt; ['3', '1b,1']
               pos =&gt; '+2.1 -2.4'          -&gt;  k =&gt; '3.2,3.4'
               pos =&gt; '+2.0 -3.0'          -&gt;  k =&gt; '3.1,4.0'

   <b>Not</b> <b>Implemented</b>
       If the options are not listed as implemented above, or are not listed in TODO below, they are not in  the
       plan for implementation.  This includes <b>T</b> and <b>z</b>.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Sort file by straight string compare of each line, sending output to STDOUT.

           use File::Sort qw(sort_file);
           sort_file('file');

       Sort contents of file by second key in file.

           sort_file({k =&gt; 2, I =&gt; 'file'});

       Sort, in reverse order, contents of file1 and file2, placing output in outfile and using second character
       of second field as the sort key.

           sort_file({
               r =&gt; 1, k =&gt; '2.2,2.2', o =&gt; 'outfile',
               I =&gt; ['file1', 'file2']
           });

       Same  sort  but  sorting  numerically on characters 3 through 5 of the fifth field first, and only return
       records with unique keys.

           sort_file({
               u =&gt; 1, r =&gt; 1, k =&gt; ['5.3,5.5rn', '2.2,2.2'],
               o =&gt; 'outfile', I =&gt; ['file1', 'file2']
           });

       Print <b><a href="../man4/passwd.4.html">passwd</a></b>(4) file sorted by numeric user ID.

           sort_file({t =&gt; ':', k =&gt; '3n', I =&gt; '<a href="file:/etc/passwd">/etc/passwd</a>'});

       For the anal sysadmin, check that <b><a href="../man4/passwd.4.html">passwd</a></b>(4) file is sorted by numeric user ID.

           sort_file({c =&gt; 1, t =&gt; ':', k =&gt; '3n', I =&gt; '<a href="file:/etc/passwd">/etc/passwd</a>'});

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       Note that if you change the locale settings after the program has started up, you must  call  <b>setlocale()</b>
       for the new settings to take effect.  For example:

           # get constants
           use POSIX 'locale_h';

           # e.g., blank out locale
           $ENV{LC_ALL} = $ENV{LANG} = '';

           # use new ENV settings
           setlocale(LC_CTYPE, '');
           setlocale(LC_COLLATE, '');

       LC_COLLATE
           Determine the locale for ordering rules.

       LC_CTYPE
           Determine  the  locale  for  the interpretation of sequences of bytes of text data as characters (for
           example, single- versus multi-byte characters in arguments and input  files)  and  the  behaviour  of
           character classification for the <b>b</b>, <b>d</b>, <b>f</b>, <b>i</b> and <b>n</b> options.

       MAX_SORT_RECORDS
           Default is 200,000.  Maximum number of records to use before writing to a temp file.  Overridden by <b>y</b>
           option.

       MAX_SORT_FILES
           Maximum number of open temp files to use before merging open temp files.  Overridden by <b>F</b> option.

</pre><h4><b>EXPORT</b></h4><pre>
       Exports "sort_file" on request.

</pre><h4><b>TODO</b></h4><pre>
       Better debugging and error reporting
       Performance hit with -u
       Do bytes instead of lines
       Better test suite
       Switch for turning off locale ... ?

</pre><h4><b>HISTORY</b></h4><pre>
       v1.01, Monday, January 14, 2002
           Change license to be that of Perl.

       v1.00, Tuesday, November 13, 2001
           Long overdue release.

           Add O_TRUNC to output open (D'oh!).

           Played with somem of the -k options (Marco A. Romero).

           Fix filehandle close test of STDOUT (Gael Marziou).

           Some cleanup.

       v0.91, Saturday, February 12, 2000
           Closed all files in test.pl so they could be unlinked on some platforms.  (Hubert Toullec)

           Documented "I" option.  (Hubert Toullec)

           Removed O_EXCL flag from "sort_file".

           Fixed bug in sorting multiple files.  (Paul Eckert)

       v0.90, Friday, April 30, 1999
           Complete rewrite.  Took the code from this module to write sort utility for PPT project, then brought
           changes  back over.  As a result the interface has changed slightly, mostly in regard to what letters
           are used for options, but there are also some key  behavioral  differences.   If  you  need  the  old
           interface,  the  old  module  will  remain  on  CPAN,  but  will  not  be  supported.   Sorry for any
           inconvenience this may cause.  The good news is that it should not be too difficult  to  update  your
           code to use the new interface.

       v0.20
           Fixed bug with unique option (didn't work :).

           Switched to sysopen for better portability.

           Print to STDOUT if no output file supplied.

           Added c option to check sorting.

       v0.18 (31 January 1998)
           Tests  3 and 4 failed because we hit the open file limit in the standard Windows port of perl5.004_02
           (50).  Adjusted the default for total number of temp files from 50 to 40 (leave room for  other  open
           files), changed docs.  (Mike Blazer, Gurusamy Sarathy)

       v0.17 (30 December 1998)
           Fixed bug in "_merge_files" that tried to "open" a passed "IO::File" object.

           Fixed up docs and did some more tests and benchmarks.

       v0.16 (24 December 1998)
           One  year  between  releases  was too long.  I made changes Miko O'Sullivan wanted, and I didn't even
           know I had made them.

           Also now use "IO::File" to create temp files, so the TMPDIR option is no longer supported.  Hopefully
           made the whole thing more robust and faster, while supporting more  options  for  sorting,  including
           delimited sorts, and arbitrary sorts.

           Made  CHUNK default a lot larger, which improves performance.  On low-memory systems, or where (e.g.)
           the MacPerl binary is not allocated much RAM, it might need to be lowered.

       v0.11 (04 January 1998)
           More cleanup; fixed special case of no linebreak on last line; wrote test suite;  fixed  warning  for
           redefined subs (sort1 and sort2).

       v0.10 (03 January 1998)
           Some  cleanup; made it not subject to system file limitations; separated many parts out into separate
           functions.

       v0.03 (23 December 1997)
           Added reverse and numeric sorting options.

       v0.02 (19 December 1997)
           Added unique and merge-only options.

       v0.01 (18 December 1997)
           First release.

</pre><h4><b>THANKS</b></h4><pre>
       Mike Blazer &lt;<a href="mailto:blazer@mail.nevalink.ru">blazer@mail.nevalink.ru</a>&gt;, Vicki Brown &lt;<a href="mailto:vlb@cfcl.com">vlb@cfcl.com</a>&gt;, Tom  Christiansen  &lt;<a href="mailto:tchrist@perl.com">tchrist@perl.com</a>&gt;,
       Albert  Dvornik &lt;<a href="mailto:bert@mit.edu">bert@mit.edu</a>&gt;, Paul Eckert &lt;<a href="mailto:peckert@epicrealm.com">peckert@epicrealm.com</a>&gt;, Gene Hsu &lt;<a href="mailto:gene@moreinfo.com">gene@moreinfo.com</a>&gt;, Andrew
       M. Langmead &lt;<a href="mailto:aml@world.std.com">aml@world.std.com</a>&gt;, Gael Marziou &lt;<a href="mailto:gael_marziou@hp.com">gael_marziou@hp.com</a>&gt;, Brian L. Matthews &lt;<a href="mailto:blm@halcyon.com">blm@halcyon.com</a>&gt;,
       Rich Morin &lt;<a href="mailto:rdm@cfcl.com">rdm@cfcl.com</a>&gt;, Matthias Neeracher &lt;<a href="mailto:neeri@iis.ee.ethz.ch">neeri@iis.ee.ethz.ch</a>&gt;, Miko  O'Sullivan  &lt;<a href="mailto:miko@idocs.com">miko@idocs.com</a>&gt;,
       Tom   Phoneix   &lt;<a href="mailto:rootbeer@teleport.com">rootbeer@teleport.com</a>&gt;,   Marco   A.   Romero   &lt;<a href="mailto:mromero@iglou.com">mromero@iglou.com</a>&gt;,   Gurusamy  Sarathy
       &lt;<a href="mailto:gsar@activestate.com">gsar@activestate.com</a>&gt;, Hubert Toullec &lt;<a href="mailto:Hubert.Toullec@wanadoo.fr">Hubert.Toullec@wanadoo.fr</a>&gt;.

</pre><h4><b>AUTHOR</b></h4><pre>
       Chris Nandor &lt;<a href="mailto:pudge@pobox.com">pudge@pobox.com</a>&gt;, <a href="http://pudge.net/">http://pudge.net/</a>

       Copyright (c) 1997-2002 Chris Nandor.  All rights reserved.  This  program  is  free  software;  you  can
       redistribute it and/or modify it under the same terms as Perl itself.

</pre><h4><b>VERSION</b></h4><pre>
       v1.01, Monday, January 14, 2002

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/sort.1.html">sort</a></b>(1), locale, PPT project, &lt;URL:<a href="http://sf.net/projects/ppt/">http://sf.net/projects/ppt/</a>&gt;.

perl v5.40.1                                       2025-08-12                                          <u><a href="../man3pm/Sort.3pm.html">Sort</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>