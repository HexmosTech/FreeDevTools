<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::Message::Construct::Read - read a Mail::Message from a file handle</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-message-perl">libmail-message-perl_3.017-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::Message::Construct::Read - read a Mail::Message from a file handle

</pre><h4><b>SYNOPSIS</b></h4><pre>
        my $msg1 = Mail::Message-&gt;read(\*STDIN);
        my $msg2 = Mail::Message-&gt;read(\@lines);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       When complex methods are called on a "Mail::Message" object, this package is autoloaded to support the
       reading of messages directly from any file handle.

</pre><h4><b>METHODS</b></h4><pre>
   <b>Constructing</b> <b>a</b> <b>message</b>
       Mail::Message-&gt;<b>read</b>($fh|STRING|SCALAR|ARRAY, %options)
           Read  a  message  from a $fh, STRING, SCALAR, or a reference to an ARRAY of lines.  Most %options are
           passed to the <b>new()</b> of the message which is created, but a few extra are defined.

           Please have a look at <b>build()</b> and <b>buildFromBody()</b> before thinking about this "read" method.  Use this
           "read" only when you have a file-handle like STDIN to parse from, or some external source of  message
           lines.   When  you  already  have a separate set of head and body lines, then "read" is certainly <b>not</b>
           your best choice.

           Some people use this method in a procmail script: the message arrives at stdin, so  we  only  have  a
           filehandle.   In  this case, you are stuck with this method.  The message is preceded by a line which
           can be used as message separator in mbox folders.  See the example how to handle that one.

           This method will remove "Status" and "X-Status" fields when they appear in the source, to  avoid  the
           risk  that  these  fields  accidentally  interfere  with your internal administration, which may have
           security implications.

            -Option             --Default
             body_type            undef
             strip_status_fields  &lt;true&gt;

           body_type =&gt; CLASS
             Force a body type (any specific implementation of a Mail::Message::Body) to be used  to  store  the
             message content.  When the body is a multipart or nested, this will be overruled.

           strip_status_fields =&gt; BOOLEAN
             Remove  the  "Status"  and "X-Status" fields from the message after reading, to lower the risk that
             received messages from external sources interfere with your internal administration.  If  you  want
             fields  not  to  be stripped (you would like to disable the stripping) you probably process folders
             yourself, which is a Bad Thing!

           example:

            my $msg1 = Mail::Message-&gt;read(\*STDIN);
            my $msg2 = Mail::Message-&gt;read(\@lines, log =&gt; 'PROGRESS');
            $folder-&gt;addMessages($msg1, $msg2);

            my $msg3 = Mail::Message-&gt;read(&lt;&lt;MSG);
            Subject: hello world
            To: <a href="mailto:you@example.com">you@example.com</a>
                                 # warning: empty line required !!!
            Hi, greetings!
            MSG

            # promail example
            my $fromline = &lt;STDIN&gt;;
            my $msg      = Mail::Message-&gt;read(\*STDIN);
            my $coerced  = $mboxfolder-&gt;addMessage($msg);
            $coerced-&gt;fromLine($fromline);

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       This module is part of Mail-Message distribution  version  3.017,  built  on  April  18,  2025.  Website:
       <u><a href="http://perl.overmeer.net/CPAN/">http://perl.overmeer.net/CPAN/</a></u>

</pre><h4><b>LICENSE</b></h4><pre>
       Copyrights 2001-2025 by [Mark Overmeer &lt;<a href="mailto:markov@cpan.org">markov@cpan.org</a>&gt;]. For other contributors see ChangeLog.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.  See <u><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></u>

perl v5.40.1                                       2025-04-25                <u>Mail::Message::Construct::<a href="../man3pm/Read.3pm.html">Read</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>