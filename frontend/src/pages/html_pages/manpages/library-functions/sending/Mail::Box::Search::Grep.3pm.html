<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::Box::Search::Grep - select messages within a mail box like grep does</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-box-perl">libmail-box-perl_3.011-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::Box::Search::Grep - select messages within a mail box like grep does

</pre><h4><b>INHERITANCE</b></h4><pre>
        Mail::Box::Search::Grep
          is a Mail::Box::Search
          is a Mail::Reporter

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use Mail::Box::Manager;
        my $mgr    = Mail::Box::Manager-&gt;new;
        my $folder = $mgr-&gt;open('Inbox');

        my $filter = Mail::Box::Search::Grep-&gt;new
           ( label =&gt; 'selected'
           , in =&gt; 'BODY', match =&gt; qr/abc?d*e/
           );

        my @msgs   = $filter-&gt;search($folder);

        my $filter = Mail::Box::Search::Grep-&gt;new
          ( field =&gt; 'To'
          , match =&gt; $my_email
          );

        if($filter-&gt;search($message)) {...}

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Try to find some text strings in the header and footer of messages.  Various ways to limit the search to
       certain header fields, the whole header, only the body, the whole message, but even binary multiparts,
       are provided for.

       The name <u>grep</u> is derived from the UNIX tool <u>grep</u>, which means: "Get Regular Expression and Print".
       Although you can search using regular expressions (the Perl way of them), you do not have to print those
       as result.

       Extends "DESCRIPTION" in Mail::Box::Search.

</pre><h4><b>METHODS</b></h4><pre>
       Extends "METHODS" in Mail::Box::Search.

   <b>Constructors</b>
       Extends "Constructors" in Mail::Box::Search.

       Mail::Box::Search::Grep-&gt;<b>new</b>(%options)
           Create a UNIX-grep like search filter.

            -Option    --Defined in       --Default
             binaries    Mail::Box::Search  &lt;false&gt;
             decode      Mail::Box::Search  &lt;true&gt;
             delayed     Mail::Box::Search  &lt;true&gt;
             deleted     Mail::Box::Search  &lt;false&gt;
             deliver                        undef
             field                          undef
             in          Mail::Box::Search  &lt;$field ? 'HEAD' : C&lt;'BODY'&gt;&gt;
             label       Mail::Box::Search  undef
             limit       Mail::Box::Search  0
             log         Mail::Reporter     'WARNINGS'
             logical     Mail::Box::Search  'REPLACE'
             match                          &lt;required&gt;
             multiparts  Mail::Box::Search  &lt;true&gt;
             trace       Mail::Reporter     'WARNINGS'

           binaries =&gt; BOOLEAN
           decode =&gt; BOOLEAN
           delayed =&gt; BOOLEAN
           deleted =&gt; BOOLEAN
           deliver =&gt; undef|CODE|'DELETE'|LABEL|'PRINT'|REF-ARRAY
             Store  the  details  about  where  the  match was found.  The search may take much longer when this
             feature is enabled.

             When an ARRAY is specified it will contain a list of references to hashes.  Each hash contains  the
             information  of  one  match.  A match in a header line will result in a line with fields "message",
             "part", and "field", where the field is a Mail::Message::Field object.  When the match  is  in  the
             body the hash will contain a "message", "part", "linenr", and "line".

             In  case  of  a  CODE  reference, that routine is called for each match. The first argument is this
             search object and the second a reference to same hash as would be stored in the array.

             The "PRINT" will call <b>printMatchedHead()</b> or <b>printMatchedBody()</b> when any matching header  resp  body
             line  was found.  The output is minimized by not reprinting the message info on multiple matches in
             the same message.

             "DELETE" will flag the message to be deleted in case of  a  match.   When  a  multipart's  part  is
             matched, the whole message will be flagged for deletion.

           field =&gt; undef|STRING|REGEX|CODE
             Not  valid  in  combination  with  "in"  set  to  "BODY".  The STRING is one full field name (case-
             insensitive).  Use a REGEX to select more than one header line to be scanned.  CODE  is  a  routine
             which  is  called  for each field in the header.   The CODE is called with the header as first, and
             the field as second argument.  If the CODE returns true, the message is selected.

           in =&gt; 'HEAD'|'BODY'|'MESSAGE'
           label =&gt; STRING
           limit =&gt; NUMBER
           log =&gt; LEVEL
           logical =&gt; 'REPLACE'|'AND'|'OR'|'NOT'|'AND NOT'|'OR NOT'
           match =&gt; STRING|REGEX|CODE
             The pattern to be search for can be a REGular EXpression, or a STRING.  In both  cases,  the  match
             succeeds if it is found anywhere within the selected fields.

             With  a  CODE  reference, that function will be called each field or body-line.  When the result is
             true, the details are delivered.  The call formats are

              $code-&gt;($head, $field);          # for HEAD searches
              $code-&gt;($body, $linenr, $line);  # for BODY searches

             The $head resp $body are one message's head resp. body object.  The $field is a header  line  which
             matches.  The $line and $linenr tell the matching line in the body.

             Be warned that when you search in "MESSAGE" the code must accept both formats.

           multiparts =&gt; BOOLEAN
           trace =&gt; LEVEL

   <b>Searching</b>
       Extends "Searching" in Mail::Box::Search.

       $obj-&gt;<b>inBody</b>($part, $body)
           Inherited, see "Searching" in Mail::Box::Search

       $obj-&gt;<b>inHead</b>($part, $head)
           Inherited, see "Searching" in Mail::Box::Search

       $obj-&gt;<b>search</b>($folder|$thread|$message|ARRAY)
           Inherited, see "Searching" in Mail::Box::Search

       $obj-&gt;<b>searchPart</b>($part)
           Inherited, see "Searching" in Mail::Box::Search

   <b>The</b> <b>Results</b>
       Extends "The Results" in Mail::Box::Search.

       $obj-&gt;<b>printMatch</b>( [$fh], $match )
       $obj-&gt;<b>printMatchedBody</b>($fh, $match)
       $obj-&gt;<b>printMatchedHead</b>($fh, $match)

   <b>Error</b> <b>handling</b>
       Extends "Error handling" in Mail::Box::Search.

       $obj-&gt;<b>AUTOLOAD</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>addReport</b>($object)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
       Mail::Box::Search::Grep-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>errors</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>log</b>( [$level, [$strings]] )
       Mail::Box::Search::Grep-&gt;<b>log</b>( [$level, [$strings]] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logPriority</b>($level)
       Mail::Box::Search::Grep-&gt;<b>logPriority</b>($level)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logSettings</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>notImplemented</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>report</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>reportAll</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>trace</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>warnings</b>()
           Inherited, see "Error handling" in Mail::Reporter

   <b>Cleanup</b>
       Extends "Cleanup" in Mail::Box::Search.

       $obj-&gt;<b>DESTROY</b>()
           Inherited, see "Cleanup" in Mail::Reporter

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Error: Package $package does not implement $method.
           Fatal  error:  the specific package (or one of its superclasses) does not implement this method where
           it should. This message means that some other related classes do implement this  method  however  the
           class  at  hand does not.  Probably you should investigate this and probably inform the author of the
           package.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       This module is  part  of  Mail-Box  distribution  version  3.011,  built  on  April  18,  2025.  Website:
       <u><a href="http://perl.overmeer.net/CPAN/">http://perl.overmeer.net/CPAN/</a></u>

</pre><h4><b>LICENSE</b></h4><pre>
       Copyrights 2001-2025 by [Mark Overmeer]. For other contributors see ChangeLog.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.  See <u><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></u>

perl v5.40.1                                       2025-04-25                       <u>Mail::Box::Search::<a href="../man3pm/Grep.3pm.html">Grep</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>