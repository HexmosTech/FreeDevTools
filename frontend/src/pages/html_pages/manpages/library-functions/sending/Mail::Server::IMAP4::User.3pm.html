<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::Server::IMAP4::User - manage the folders of one user</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-box-imap4-perl">libmail-box-imap4-perl_3.009-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::Server::IMAP4::User - manage the folders of one user

</pre><h4><b>INHERITANCE</b></h4><pre>
        Mail::Server::IMAP4::User
          is a Mail::Box::Manage::User
          is a Mail::Box::Manager
          is a Mail::Reporter

</pre><h4><b>SYNOPSIS</b></h4><pre>
        my $mgr = Mail::Server::IMAP4::User-&gt;new(...);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class adds IMAP protocol features to the normal Mail::Box::Manager.

       Extends "DESCRIPTION" in Mail::Box::Manage::User.

</pre><h4><b>METHODS</b></h4><pre>
       Extends "METHODS" in Mail::Box::Manage::User.

   <b>Constructors</b>
       Extends "Constructors" in Mail::Box::Manage::User.

       Mail::Server::IMAP4::User-&gt;<b>new</b>(%options)
            -Option             --Defined in             --Default
             autodetect           Mail::Box::Manager       undef
             collection_type      Mail::Box::Manage::User  Mail::Box::Collection
             default_folder_type  Mail::Box::Manager       'mbox'
             delimiter            Mail::Box::Manage::User  "/"
             folder_id_type       Mail::Box::Manage::User  Mail::Box::Identity
             folder_types         Mail::Box::Manager       &lt;all standard types&gt;
             folderdir            Mail::Box::Manager       [ '.' ]
             folderdirs           Mail::Box::Manager       &lt;synonym for C&lt;folderdir&gt;&gt;
             identity             Mail::Box::Manage::User  &lt;required&gt;
             inbox                Mail::Box::Manage::User  undef
             index_filename                                $folderdir/index
             log                  Mail::Reporter           'WARNINGS'
             topfolder_name       Mail::Box::Manage::User  '='
             trace                Mail::Reporter           'WARNINGS'

           autodetect =&gt; TYPE|ARRAY-OF-TYPES
           collection_type =&gt; CLASS
           default_folder_type =&gt; NAME|CLASS
           delimiter =&gt; STRING
           folder_id_type =&gt; CLASS|OBJECT
           folder_types =&gt; NEW-TYPE | ARRAY-OF-NEW-TYPES
           folderdir =&gt; DIRECTORY
           folderdirs =&gt; [DIRECTORIES]
           identity =&gt; OBJECT
           inbox =&gt; NAME
           index_filename =&gt; FILENAME
           log =&gt; LEVEL
           topfolder_name =&gt; STRING
           trace =&gt; LEVEL

   <b>Attributes</b>
       Extends "Attributes" in Mail::Box::Manage::User.

       $obj-&gt;<b>defaultFolderType</b>()
           Inherited, see "Attributes" in Mail::Box::Manager

       $obj-&gt;<b>folderTypes</b>()
           Inherited, see "Attributes" in Mail::Box::Manager

       $obj-&gt;<b>folderdir</b>()
           Inherited, see "Attributes" in Mail::Box::Manager

       $obj-&gt;<b>identity</b>()
           Inherited, see "Attributes" in Mail::Box::Manage::User

       $obj-&gt;<b>inbox</b>( [$name] )
           Inherited, see "Attributes" in Mail::Box::Manage::User

       $obj-&gt;<b>indexFilename</b>()
           Returns the filename of the index file.

       $obj-&gt;<b>registerType</b>($type, $class, %options)
           Inherited, see "Attributes" in Mail::Box::Manager

   <b>Manage</b> <b>open</b> <b>folders</b>
       Extends "Manage open folders" in Mail::Box::Manage::User.

       $obj-&gt;<b>close</b>($folder, %options)
           Inherited, see "Manage open folders" in Mail::Box::Manager

       $obj-&gt;<b>closeAllFolders</b>(, %options)
           Inherited, see "Manage open folders" in Mail::Box::Manager

       $obj-&gt;<b>isOpenFolder</b>($folder)
           Inherited, see "Manage open folders" in Mail::Box::Manager

       $obj-&gt;<b>open</b>( [$foldername], %options )
           Inherited, see "Manage open folders" in Mail::Box::Manager

       $obj-&gt;<b>openFolders</b>()
           Inherited, see "Manage open folders" in Mail::Box::Manager

   <b>Manage</b> <b>existing</b> <b>folders</b>
       Extends "Manage existing folders" in Mail::Box::Manage::User.

   <b>Manage</b> <b>folders</b>
       Extends "Manage folders" in Mail::Box::Manage::User.

       $obj-&gt;<b>create</b>($name, %options)
           Creates  a  new  folder with the specified name.  Folder info is returned, which will be very simple.
           In the accidental case that the folder already exists, a warning will be issued,  and  that  folder's
           data returned.

            -Option       --Defined in             --Default
             create_real    Mail::Box::Manage::User  &lt;true&gt;
             create_supers  Mail::Box::Manage::User  &lt;false&gt;
             deleted        Mail::Box::Manage::User  &lt;false&gt;
             id_options     Mail::Box::Manage::User  []

           create_real =&gt; BOOLEAN
           create_supers =&gt; BOOLEAN
           deleted =&gt; BOOLEAN
           id_options =&gt; ARRAY
       $obj-&gt;<b>delete</b>($name, %options)
           Remove  all  signs from the folder on the file-system.  Messages still in the folder will be removed.
           This method returns a true value when the folder has been removed or  not  found,  so  "false"  means
           failure.

           It  is  also  possible  to delete a folder using "$folder-&gt;delete", which will call this method here.
           %options, which are used for some other folder types, will be ignored here: the user's index contains
           the required details.

            -Option   --Defined in        --Default
             recursive  Mail::Box::Manager  &lt;folder's default&gt;

           recursive =&gt; BOOLEAN

           example: how to delete a folder

            print "no xyz (anymore)\n" if $user-&gt;delete('xyz');

       $obj-&gt;<b>folder</b>($name)
           Inherited, see "Manage folders" in Mail::Box::Manage::User

       $obj-&gt;<b>folderCollection</b>($name)
           Inherited, see "Manage folders" in Mail::Box::Manage::User

       $obj-&gt;<b>folderInfo</b>($name)
           Returns a hash with folder information.  In normal circumstances, it is cheap to get  these  details,
           because they are cached in an index file, maintained by Mail::Box::Netzwert::UserIndex.

           DO  NOT  modify  the  values  you  find  in  the  hash, because that data may or may not be lost (see
           Mail::Box::Netzwert::UserIndex subroutine change).

           DO NOT trust on the existence of any field in the info: fields may get  renamed,  removed,  or  added
           over time.  Not all folder indexes will be generated by the same software release.

           example: how to get global info about a folder

            my $info = $user-&gt;folderInfo($name); # get info

       $obj-&gt;<b>rename</b>($oldname, $newname, %options)
           Inherited, see "Manage folders" in Mail::Box::Manage::User

       $obj-&gt;<b>topfolder</b>()
           Inherited, see "Manage folders" in Mail::Box::Manage::User

   <b>Move</b> <b>messages</b> <b>to</b> <b>folders</b>
       Extends "Move messages to folders" in Mail::Box::Manage::User.

       $obj-&gt;<b>appendMessage</b>( [$folder|$foldername], $messages, %options )
           Inherited, see "Move messages to folders" in Mail::Box::Manager

       $obj-&gt;<b>copyMessage</b>( [$folder|$foldername], $messages, %options )
           Inherited, see "Move messages to folders" in Mail::Box::Manager

       $obj-&gt;<b>moveMessage</b>( [$folder|$foldername], $messages, %options )
           Inherited, see "Move messages to folders" in Mail::Box::Manager

   <b>Manage</b> <b>message</b> <b>threads</b>
       Extends "Manage message threads" in Mail::Box::Manage::User.

       $obj-&gt;<b>threads</b>( [$folders], %options )
           Inherited, see "Manage message threads" in Mail::Box::Manager

   <b>Internals</b>
       Extends "Internals" in Mail::Box::Manage::User.

       $obj-&gt;<b>decodeFolderURL</b>($url)
           Inherited, see "Internals" in Mail::Box::Manager

       $obj-&gt;<b>toBeThreaded</b>($folder, $messages)
           Inherited, see "Internals" in Mail::Box::Manager

       $obj-&gt;<b>toBeUnthreaded</b>($folder, $messages)
           Inherited, see "Internals" in Mail::Box::Manager

   <b>Error</b> <b>handling</b>
       Extends "Error handling" in Mail::Box::Manage::User.

       $obj-&gt;<b>AUTOLOAD</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>addReport</b>($object)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
       Mail::Server::IMAP4::User-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>errors</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>log</b>( [$level, [$strings]] )
       Mail::Server::IMAP4::User-&gt;<b>log</b>( [$level, [$strings]] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logPriority</b>($level)
       Mail::Server::IMAP4::User-&gt;<b>logPriority</b>($level)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logSettings</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>notImplemented</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>report</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>reportAll</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>trace</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>warnings</b>()
           Inherited, see "Error handling" in Mail::Reporter

   <b>Cleanup</b>
       Extends "Cleanup" in Mail::Box::Manage::User.

       $obj-&gt;<b>DESTROY</b>()
           Inherited, see "Cleanup" in Mail::Reporter

</pre><h4><b>DETAILS</b></h4><pre>
       Extends "DETAILS" in Mail::Box::Manage::User.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Error: Cannot create folder directory $dir: $!
       Error: Cannot rename $name to $new: higher levels missing
           Unless  you set create(create_supers), all higher level folders must exist before this new one can be
           created.

       Error: Cannot write name for folder in $file: $!
       Error: Failed writing folder name to $file: $!
       Warning: Folder $name already exists, creation skipped
       Error: Folder $name is already open.
           You cannot ask the manager for a folder which is already open. In some older releases (before MailBox
           2.049), this was permitted, but then behaviour changed, because many nasty  side-effects  are  to  be
           expected.   For  instance,  an  <b>Mail::Box::update()</b>  on one folder handle would influence the second,
           probably unexpectedly.

       Error: Folder $name is not a Mail::Box; cannot add a message.
           The folder where the message should be appended to is an object which is  not  a  folder  type  which
           extends Mail::Box.  Probably, it is not a folder at all.

       Warning: Folder does not exist, failed opening $type folder $name.
           The  folder does not exist and creating is not permitted (see open(create)) or did not succeed.  When
           you do not have sufficient access rights to the folder (for instance wrong password for  POP3),  this
           warning will be produced as well.

           The  manager  tried to open a folder of the specified type.  It may help to explicitly state the type
           of your folder with the "type" option.  There will probably be another warning or error message which
           is related to this report and provides more details about its cause.  You may also  have  a  look  at
           new(autodetect) and new(folder_types).

       Warning: Folder type $type is unknown, using autodetect.
           The  specified  folder  type (see open(type), possibly derived from the folder name when specified as
           url) is not known to the manager.  This may mean that you forgot to require the  Mail::Box  extension
           which  implements  this  folder  type,  but  probably  it is a typo.  Usually, the manager is able to
           figure-out which type to use by itself.

       Error: Illegal folder URL '$url'.
           The folder name was specified as URL, but not according to the syntax.  See <b>decodeFolderURL()</b> for  an
           description of the syntax.

       Error: No foldername specified to open.
           open()  needs  a  folder  name  as  first argument (before the list of options), or with the "folder"
           option within the list.  If no name was found, the MAIL environment variable is checked.   When  even
           that  does not result in a usable folder, then this error is produced.  The error may be caused by an
           accidental odd-length option list.

       Error: Package $package does not implement $method.
           Fatal error: the specific package (or one of its superclasses) does not implement this  method  where
           it  should.  This  message means that some other related classes do implement this method however the
           class at hand does not.  Probably you should investigate this and probably inform the author  of  the
           package.

       Error: Unable to remove folder $dir
       Error: Use <b>appendMessage()</b> to add messages which are not in a folder.
           You  do  not  need to copy this message into the folder, because you do not share the message between
           folders.

       Warning: Use <b>moveMessage()</b> or <b>copyMessage()</b> to move between open folders.
           The message is already part of a folder, and now it should be appended to a  different  folder.   You
           need  to  decide  between copy or move, which both will clone the message (not the body, because they
           are immutable).

       Warning: Will never create a folder $name without having write access.
           You have set open(create), but only want to read the folder.  Create is only useful for folders which
           have write or append access modes (see Mail::Box::new(access)).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       This module is part of Mail-Box-IMAP4 distribution version 3.009,  built  on  April  18,  2025.  Website:
       <u><a href="http://perl.overmeer.net/CPAN/">http://perl.overmeer.net/CPAN/</a></u>

</pre><h4><b>LICENSE</b></h4><pre>
       Copyrights 2001-2025 by [Mark Overmeer]. For other contributors see ChangeLog.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.  See <u><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></u>

perl v5.40.1                                       2025-04-19                     <u>Mail::Server::IMAP4::<a href="../man3pm/User.3pm.html">User</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>