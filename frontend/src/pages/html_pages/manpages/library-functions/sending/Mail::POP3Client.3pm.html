<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::POP3Client - Perl 5 module to talk to a POP3 (RFC1939) server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-pop3client-perl">libmail-pop3client-perl_2.21-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::POP3Client - Perl 5 module to talk to a POP3 (RFC1939) server

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Mail::POP3Client;
         $pop = new Mail::POP3Client( USER     =&gt; "me",
                                      PASSWORD =&gt; "mypassword",
                                      HOST     =&gt; "pop3.do.main" );
         for( $i = 1; $i &lt;= $pop-&gt;Count(); $i++ ) {
           foreach( $pop-&gt;Head( $i ) ) {
             /^(From|Subject):\s+/i &amp;&amp; print $_, "\n";
           }
         }
         $pop-&gt;Close();

         # OR with SSL
         $pop = new Mail::POP3Client( USER     =&gt; "me",
                                      PASSWORD =&gt; "mypassword",
                                      HOST     =&gt; "pop3.do.main",
                                      USESSL   =&gt; true,
                                    );

         # OR
         $pop2 = new Mail::POP3Client( HOST  =&gt; "pop3.otherdo.main" );
         $pop2-&gt;User( "somebody" );
         $pop2-&gt;Pass( "doublesecret" );
         $pop2-&gt;Connect() &gt;= 0 || die $pop2-&gt;Message();
         $pop2-&gt;Close();

         # OR to use your own SSL socket...
         my $socket = IO::Socket::SSL-&gt;new( PeerAddr =&gt; 'pop.securedo.main',
                                            PeerPort =&gt; 993,
                                            Proto    =&gt; 'tcp') || die "No socket!";
         my $pop = Mail::POP3Client-&gt;new();
         $pop-&gt;User('somebody');
         $pop-&gt;Pass('doublesecret');
         $pop-&gt;Socket($socket);
         $pop-&gt;Connect();

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module implements an Object-Oriented interface to a POP3 server.  It implements RFC1939
       (<a href="http://www.faqs.org/rfcs/rfc1939.html">http://www.faqs.org/rfcs/rfc1939.html</a>)

</pre><h4><b>EXAMPLES</b></h4><pre>
       Here is a simple example to list out the From: and Subject: headers in your remote mailbox:

         #!/usr/local/bin/perl

         use Mail::POP3Client;

         $pop = new Mail::POP3Client( USER     =&gt; "me",
                                      PASSWORD =&gt; "mypassword",
                                      HOST     =&gt; "pop3.do.main" );
         for ($i = 1; $i &lt;= $pop-&gt;Count(); $i++) {
           foreach ( $pop-&gt;Head( $i ) ) {
             /^(From|Subject):\s+/i and print $_, "\n";
           }
           print "\n";
         }

</pre><h4><b>CONSTRUCTORS</b></h4><pre>
       Old style (deprecated):
          new Mail::POP3Client( USER, PASSWORD [, HOST, PORT, DEBUG, AUTH_MODE] );

       New style (shown with defaults):
          new Mail::POP3Client( USER      =&gt; "",
                                PASSWORD  =&gt; "",
                                HOST      =&gt; "pop3",
                                PORT      =&gt; 110,
                                AUTH_MODE =&gt; 'BEST',
                                DEBUG     =&gt; 0,
                                TIMEOUT   =&gt; 60,
                                LOCALADDR =&gt; 'xxx.xxx.xxx.xxx[:xx]',
                                SOCKET =&gt; undef,
                                USESSL =&gt; 0,
                              );

       •   USER is the userID of the account on the POP server

       •   PASSWORD is the cleartext password for the userID

       •   HOST is the POP server name or IP address (default = 'pop3')

       •   PORT is the POP server port (default = 110)

       •   DEBUG - any non-null, non-zero value turns on debugging (default = 0)

       •   AUTH_MODE - pass 'APOP' to force APOP (MD5) authorization. (default is 'BEST')

       •   TIMEOUT - set a timeout value for socket operations (default = 60)

       •   LOCALADDR - allow selecting a local inet address to use

</pre><h4><b>METHODS</b></h4><pre>
       These  commands  are intended to make writing a POP3 client easier.  They do not necessarily map directly
       to POP3 commands defined in RFC1081 or RFC1939, although all commands should be supported.  Some commands
       return multiple lines as an array in an array context.

       <u>new</u>( USER =&gt; 'user', PASSWORD =&gt; 'password', HOST =&gt; 'host', PORT =&gt; 110, DEBUG =&gt; 0, AUTH_MODE =&gt;
       'BEST', TIMEOUT =&gt; 60,, LOCALADDR =&gt; 'xxx.xxx.xxx.xxx[:xx]', SOCKET =&gt; undef, USESSL =&gt; 0 ) )
               Construct a new POP3 connection with this.  You should use the hash-style constructor.   <b>The</b>  <b>old</b>
               <b>positional</b>  <b>constructor</b>  <b>is</b>  <b>deprecated</b>  <b>and</b> <b>will</b> <b>be</b> <b>removed</b> <b>in</b> <b>a</b> <b>future</b> <b>release.</b>  <b>It</b> <b>is</b> <b>strongly</b>
               <b>recommended</b> <b>that</b> <b>you</b> <b>convert</b> <b>your</b> <b>code</b> <b>to</b> <b>the</b> <b>new</b> <b>version.</b>

               You should give it at least 2 arguments: USER and PASSWORD.  The default HOST is 'pop3' which may
               or may not work for you.  You can specify a different PORT (be careful here).

               new will attempt to Connect to and Login to the POP3 server if you supply a  USER  and  PASSWORD.
               If you do not supply them in the constructor, you will need to call Connect yourself.

               The  valid values for AUTH_MODE are 'BEST', 'PASS', 'APOP' and 'CRAM-MD5'.  BEST says to try APOP
               if the server appears to support it and it can be used to successfully log on, next try similarly
               with CRAM-MD5, and finally revert to PASS. APOP and CRAM-MD5 imply that an MD5 checksum  will  be
               used  instead  of  sending  your password in cleartext.  However, <b>if</b> <b>the</b> <b>server</b> <b>does</b> <b>not</b> <b>claim</b> <b>to</b>
               <b>support</b> <b>APOP</b> <b>or</b> <b>CRAM-MD5,</b> <b>the</b> <b>cleartext</b> <b>method</b> <b>will</b> <b>be</b> <b>used.</b> <b>Be</b> <b>careful.</b> There are a few  servers
               that will send a timestamp in the banner greeting, but APOP will not work with them (for instance
               if  the  server  does  not  know  your  password in cleartext).  If you think your authentication
               information is correct, run in DEBUG mode and look for errors regarding  authorization.   If  so,
               then you may have to use 'PASS' for that server.  The same applies to CRAM-MD5, too.

               If you enable debugging with DEBUG =&gt; 1, socket traffic will be echoed to STDERR.

               Another warning, it's impossible to differentiate between a timeout and a failure.

               If  you pass a true value for USESSL, the port will be changed to 995 if it is not set or is 110.
               Otherwise, it will use your port.  If USESSL is true, IO::Socket::SSL will be loaded.  If  it  is
               not in your perl, the call to connect will fail.

               new  returns a valid Mail::POP3Client object in all cases.  To test for a connection failure, you
               will need to check the number of messages: -1 indicates a connection  error.   This  will  likely
               change  sometime  in  the  future to return undef on an error, setting $! as a side effect.  This
               change will not happen in any 2.x version.

       <u>Head</u>( MESSAGE_NUMBER [, PREVIEW_LINES ] )
               Get the headers of the specified message, either as  an  array  or  as  a  string,  depending  on
               context.

               You can also specify a number of preview lines which will be returned with the headers.  This may
               not  be  supported  by  all  POP3  server implementations as it is marked as optional in the RFC.
               Submitted by Dennis Moroney &lt;<a href="mailto:dennis@hub.iwl.net">dennis@hub.iwl.net</a>&gt;.

       <u>Body</u>( MESSAGE_NUMBER )
               Get the body of the specified message, either as an array of lines or as a string,  depending  on
               context.

       <u>BodyToFile</u>( FILE_HANDLE, MESSAGE_NUMBER )
               Get  the  body  of  the  specified  message  and write it to the given file handle.  my $fh = new
               <b>IO::Handle()</b>; $fh-&gt;fdopen( fileno( STDOUT ), "w" ); $pop-&gt;BodyToFile( $fh, 1 );

               Does no stripping of NL or CR.

       <u>HeadAndBody</u>( MESSAGE_NUMBER )
               Get the head and body of the specified message, either as an array  of  lines  or  as  a  string,
               depending on context.

               Example
                   foreach ( $pop-&gt;HeadAndBody( 1 ) )
                      print $_, "\n";

                   prints out the complete text of message 1.

       <u>HeadAndBodyToFile</u>( FILE_HANDLE, MESSAGE_NUMBER )
               Get  the  head and body of the specified message and write it to the given file handle.  my $fh =
               new <b>IO::Handle()</b>; $fh-&gt;fdopen( fileno( STDOUT ), "w" ); $pop-&gt;HeadAndBodyToFile( $fh, 1 );

               Does no stripping of NL or CR.

       <u>Retrieve</u>( MESSAGE_NUMBER )
               Same as HeadAndBody.

       <u>RetrieveToFile</u>( FILE_HANDLE, MESSAGE_NUMBER )
               Same as HeadAndBodyToFile.

       <u>Delete</u>( MESSAGE_NUMBER )
               Mark the specified message number as DELETED.  Becomes effective upon QUIT  (invoking  the  Close
               method).  Can be reset with a Reset message.

       <u>Connect</u> Start  the  connection  to the POP3 server.  You can pass in the host and port.  Returns 1 if the
               connection succeeds, or 0 if it fails (Message will contain a reason).   The  constructor  always
               returns  a  blessed  reference  to  a  Mail::POP3Client obhect.  This may change in a version 3.x
               release, but never in a 2.x release.

       <u>Close</u>   Close the connection gracefully.  POP3 says this will perform any pending deletes on the server.

       <u>Alive</u>   Return true or false on whether the connection is active.

       <u>Socket</u>  Return the file descriptor for the socket, or set if supplied.

       <u>Size</u>    Set/Return the size of the remote mailbox.  Set by POPStat.

       <u>Count</u>   Set/Return the number of remote messages.  Set during Login.

       <u>Message</u> The last status message received from the server or a message describing any problem encountered.

       <u>State</u>   The internal state of the connection: DEAD, AUTHORIZATION, TRANSACTION.

       <u>POPStat</u> Return the results of a POP3 STAT command.  Sets the size of the mailbox.

       <u>List</u>([message_number])
               Returns the size of the given message number when called with an  argument  using  the  following
               format:

                  &lt;message_number&gt; &lt;size_in_bytes&gt;

               If  message_number  is omitted, List behaves the same as ListArray, returning an indexed array of
               the sizes of each message in the same format.

               You can parse the size in bytes using split:
                ($msgnum, $size) = split('\s+', $pop -&gt; List( n ));

       <u>ListArray</u>
               Return a list of sizes of each message.  This returns an indexed array, with each message  number
               as  an  index  (starting  from  1) and the value as the next entry on the line.  Beware that some
               servers send additional info for each message for the list command.  That info may be lost.

       <u>Uidl</u>( [MESSAGE_NUMBER] )
               Return the unique ID for the given message (or all of them).  Returns an indexed  array  with  an
               entry  for  each  valid  message  number.   Indexing  begins  at  1 to coincide with the server's
               indexing.

       <u>Capa</u>    Query server capabilities, as described in RFC 2449. Returns the capabilities in an array.  Valid
               in all states.

       <u>XTND</u>    Optional extended commands.  Transaction state only.

       <u>UTF8</u>    Add support for UTF8.

       <u>Last</u>    Return the number of the last message, retrieved from the server.

       <u>Reset</u>   Tell the server to unmark any message marked for deletion.

       <u>User</u>( [USER_NAME] )
               Set/Return the current user name.

       <u>Pass</u>( [PASSWORD] )
               Set/Return the current user name.

       <u>Login</u>   Attempt to login to the server connection.

       <u>Host</u>( [HOSTNAME] )
               Set/Return the current host.

       <u>Port</u>( [PORT_NUMBER] )
               Set/Return the current port number.

</pre><h4><b>IMAP</b> <b>COMPATIBILITY</b></h4><pre>
       Basic  Mail::IMAPClient method calls are also supported: close, connect, login, message_string, Password,
       and unseen.  Also, empty stubs are provided for Folder, folders, Peek, select, and Uid.

</pre><h4><b>REQUIREMENTS</b></h4><pre>
       This module does not have mandatory requirements for modules that are  not  part  of  the  standard  Perl
       distribution. However, APOP needs need Digest::MD5 and CRAM-MD5 needs Digest::HMAC_MD5 and MIME::Base64.

</pre><h4><b>AUTHOR</b></h4><pre>
       Sean Dowd &lt;<a href="mailto:pop3client@dowds.net">pop3client@dowds.net</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

</pre><h4><b>CREDITS</b></h4><pre>
       Based loosely on News::NNTPClient by Rodger Anderson &lt;<a href="mailto:rodger@boi.hp.com">rodger@boi.hp.com</a>&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/perl.1.html">perl</a></b>(1)

       the Digest::MD5 manpage, the Digest::HMAC_MD5 manpage, the MIME::Base64 manpage

       RFC 1939: Post Office Protocol - Version 3

       RFC 2195: IMAP/POP AUTHorize Extension for Simple Challenge/Response

       RFC 2449: POP3 Extension Mechanism

perl v5.36.0                                       2022-11-20                              <u>Mail::<a href="../man3pm/POP3Client.3pm.html">POP3Client</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>