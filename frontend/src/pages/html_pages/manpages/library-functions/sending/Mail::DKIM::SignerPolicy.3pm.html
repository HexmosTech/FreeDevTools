<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::DKIM::SignerPolicy - determines signing parameters for a message</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-dkim-perl">libmail-dkim-perl_1.20230212-1ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::DKIM::SignerPolicy - determines signing parameters for a message

</pre><h4><b>VERSION</b></h4><pre>
       version 1.20230212

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A "signer policy" is an object, class, or function used by Mail::DKIM::Signer to determine what
       signatures to add to the current message. To take advantage of signer policies, create your own Perl
       class that extends the Mail::DKIM::SignerPolicy class.  The only method you need to implement is the
       <b>apply()</b> method.

       The <b>apply()</b> method takes as a parameter the Mail::DKIM::Signer object.  Using this object, it can
       determine some properties of the message (e.g.  what the From: address or Sender: address is). Then it
       sets various signer properties as desired. The <b>apply()</b> method should return a nonzero value if the
       message should be signed. If a false value is returned, then the message is "skipped" (i.e. not signed).

       Here is an example of a policy that always returns the same values:

         package MySignerPolicy;
         use base 'Mail::DKIM::SignerPolicy';

         sub apply
         {
             my $self = shift;
             my $signer = shift;

             $signer-&gt;algorithm('rsa-sha1');
             $signer-&gt;method('relaxed');
             $signer-&gt;domain('example.org');
             $signer-&gt;selector('selector1');
             $signer-&gt;key_file('private.key');

             return 1;
         }

       To use this policy, simply specify the name of the class as the Policy parameter...

         my $dkim = Mail::DKIM::Signer-&gt;new(
                         Policy =&gt; 'MySignerPolicy',
                    );

</pre><h4><b>ADVANCED</b></h4><pre>
       You can also have the policy actually build the signature for the Signer to use. To do this, call the
       signer's <b>add_signature()</b> method from within your <b>apply()</b> callback. E.g.,

         sub apply
         {
             my $self = shift;
             my $signer = shift;

             $signer-&gt;add_signature(
                     new Mail::DKIM::Signature(
                         Algorithm =&gt; $signer-&gt;algorithm,
                         Method =&gt; $signer-&gt;method,
                         Headers =&gt; $signer-&gt;headers,
                         Domain =&gt; $signer-&gt;domain,
                         Selector =&gt; $signer-&gt;selector,
                     ));
             return;
         }

       Again, if you do not want any signatures, return zero or undef. If you use <b>add_signature()</b> to create a
       signature, the default signature will not be created, even if you return nonzero.

</pre><h4><b>AUTHORS</b></h4><pre>
       •   Jason Long &lt;<a href="mailto:jason@long.name">jason@long.name</a>&gt;

       •   Marc Bradshaw &lt;<a href="mailto:marc@marcbradshaw.net">marc@marcbradshaw.net</a>&gt;

       •   Bron Gondwana &lt;<a href="mailto:brong@fastmailteam.com">brong@fastmailteam.com</a>&gt; (ARC)

</pre><h4><b>THANKS</b></h4><pre>
       Work  on  ensuring  that  this  module  passes  the  ARC  test suite was generously sponsored by Valimail
       (https://www.valimail.com/)

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       •   Copyright (C) 2013 by Messiah College

       •   Copyright (C) 2010 by Jason Long

       •   Copyright (C) 2017 by Standcore LLC

       •   Copyright (C) 2020 by FastMail Pty Ltd

       This library is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself, either Perl version 5.8.6 or, at your option, any later version of Perl 5 you may have available.

perl v5.38.2                                       2024-02-27                      <u>Mail::DKIM::<a href="../man3pm/SignerPolicy.3pm.html">SignerPolicy</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>