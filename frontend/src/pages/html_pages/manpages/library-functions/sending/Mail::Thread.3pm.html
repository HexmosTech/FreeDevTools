<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::Thread - Perl implementation of JWZ's mail threading algorithm</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-thread-perl">libmail-thread-perl_2.55-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::Thread - Perl implementation of JWZ's mail threading algorithm

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Mail::Thread;
           my $threader = new Mail::Thread (@messages);

           $threader-&gt;thread;

           dump_em($_,0) for $threader-&gt;rootset;

           sub dump_em {
               my ($self, $level) = @_;
               print ' \\-&gt; ' x $level;
               if ($self-&gt;message) {
                   print $self-&gt;message-&gt;head-&gt;get("Subject") , "\n";
               } else {
                   print "[ Message $self not available ]\n";
               }
               dump_em($self-&gt;child, $level+1) if $self-&gt;child;
               dump_em($self-&gt;next, $level) if $self-&gt;next;
           }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module implements something relatively close to Jamie Zawinski's mail threading algorithm, as
       described by <a href="http://www.jwz.org/doc/threading.html">http://www.jwz.org/doc/threading.html</a>.  Any deviations from the algorithm are accidental.

       It's happy to be handed any mail object supported by "Email::Abstract".  If you need to do anything else,
       you'll have to subclass and override "_get_hdr".

</pre><h4><b>METHODS</b></h4><pre>
   <b>new(@messages)</b>
       Creates a new threader; requires a bunch of messages to thread.

   <b>thread</b>
       Goes away and threads the messages together.

   <b>rootset</b>
       Returns a list of "Mail::Thread::Container"s which are not the parents of any other message.

   <b>order($ordering_sub)</b>
       calls "order_children" over each member of the root set, from one level higher

</pre><h4><b>Mail::Thread::Container"</b> <b>methods</b></h4><pre>
       "Mail::Thread::Container"s are the nodes of the thread tree. You can't just have the ordinary messages,
       because we might not have the message in question.  For instance, a mailbox could contain two replies to
       a question that we haven't received yet. So all "logical" messages are stuffed in containers, whether we
       happen to have that container or not.

       To do anything useful with the thread tree, you're going to have to recurse around the list of
       "Mail::Thread::Containers". You do this with the following methods:

   <b>parent</b>
   <b>child</b>
   <b>next</b>
       Returns the container which is the parent, child or immediate sibling of this one, if one exists.

   <b>message</b>
       Returns the message held in this container, if we have one.

   <b>messageid</b>
       Returns the message ID for this container. This will be around whether we have the message or not, since
       some other message will have referred to it by message ID.

   <b>header(</b> <b>$name</b> <b>)</b>
       returns the named header of the contained message

   <b>subject</b>
       returns the subject line of the contained message

   <b>isreply</b>
       examines the results of -&gt;subject and returns true if it looks like a reply

   <b>simple_subject</b>
       the simplified version of -&gt;subject (with reply markers removed)

   <b>has_descendent($child)</b>
       Returns true if this container has the given container as a child somewhere beneath it.

   <b>add_child($child)</b>
       Add the $child as a child of oneself.

   <b>remove_child($child)</b>
       Remove the $child as a child from oneself.

   <b>children</b>
       Returns a list of the <b>immediate</b> children of this container.

   <b>set_children(@children)</b>
       set the children of a node.  does not update the -&gt;parents of the @children

   <b>order_children($ordering_sub)</b>
       Recursively reorders children according to the results of $ordering_sub

       $ordering_sub is called with the containers children, and is expected to return them in their new order.

        # order by subject line
        $container-&gt;order_children( sub {
           sort { $a-&gt;topmost-&gt;message-&gt;subject cmp $b-&gt;topmost-&gt;message-&gt;subject } @_
         } );

       $ordering_sub may be omitted, in which case no ordering takes place

   <b>topmost</b>
       Walks the tree depth-first and returns the first message container found with a message attached

   <b>recurse_down($callback)</b>
       Calls the given callback on this node and <b>all</b> of its children.

</pre><h4><b>DEBUGGING</b></h4><pre>
       You can set $Mail::Thread::debug=1 to watch what's going on.

</pre><h4><b>MAINTAINER</b></h4><pre>
       Tony Bowden

</pre><h4><b>BUGS</b> <b>and</b> <b>QUERIES</b></h4><pre>
       Please direct all correspondence regarding this module to:
         <a href="mailto:bug-Mail-Thread@rt.cpan.org">bug-Mail-Thread@rt.cpan.org</a>

</pre><h4><b>ORIGINAL</b> <b>AUTHOR</b></h4><pre>
       Simon Cozens, &lt;<a href="mailto:simon@cpan.org">simon@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright 2003 by Kasei Copyright 2004 by Simon Cozens

       This library is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.34.0                                       2022-06-15                                        <u><a href="../man3pm/Thread.3pm.html">Thread</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>