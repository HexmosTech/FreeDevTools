<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::Box::Search - select messages within a mail box</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-box-perl">libmail-box-perl_3.011-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::Box::Search - select messages within a mail box

</pre><h4><b>INHERITANCE</b></h4><pre>
        Mail::Box::Search
          is a Mail::Reporter

        Mail::Box::Search is extended by
          Mail::Box::Search::Grep
          Mail::Box::Search::SpamAssassin
          Mail::Server::IMAP4::Search

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use Mail::Box::Manager;
        my $mgr    = Mail::Box::Manager-&gt;new;
        my $folder = $mgr-&gt;open('Inbox');

        my $filter = Mail::Box::Search::[something]-&gt;new;
        my @msgs   = $filter-&gt;search($folder, ...);
        if($filter-&gt;search($message)) {...}

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This "Mail::Box::Search" class is the base class for various message scan algorithms.  The selected
       messages can be labeled.  Boolean operations on messages are supported.

       Currently implemented searches:

       Mail::Box::Search::Grep
           Match header or body against a regular expression in a UNIX "grep" like fashion.

       Mail::Box::Search::SpamAssassin
           Try to detect spam, using Mail::SpamAssassin.

       Mail::Box::Search::IMAP
           Search  an  IMAP  folder  for special interface IMAP folders provide for it.  UNDER CONSTRUCTION till
           Mail::Transport::IMAP4 is complete.

       Extends "DESCRIPTION" in Mail::Reporter.

</pre><h4><b>METHODS</b></h4><pre>
       Extends "METHODS" in Mail::Reporter.

   <b>Constructors</b>
       Extends "Constructors" in Mail::Reporter.

       Mail::Box::Search-&gt;<b>new</b>(%options)
           Create a filter.

            -Option    --Defined in     --Default
             binaries                     &lt;false&gt;
             decode                       &lt;true&gt;
             delayed                      &lt;true&gt;
             deleted                      &lt;false&gt;
             deliver                      undef
             in                           'BODY'
             label                        undef
             limit                        0
             log         Mail::Reporter   'WARNINGS'
             logical                      'REPLACE'
             multiparts                   &lt;true&gt;
             trace       Mail::Reporter   'WARNINGS'

           binaries =&gt; BOOLEAN
             Whether to include binary bodies in the search.

           decode =&gt; BOOLEAN
             Decode the messages before the search takes place.  Even plain text messages can  be  encoded,  for
             instance  as  "quoted-printable",  which may disturb the results.  However, decoding will slow-down
             the search.

           delayed =&gt; BOOLEAN
             Include the delayed messages (which will be parsed) in the search.  If you set this to  false,  you
             may find fewer hits.

           deleted =&gt; BOOLEAN
             In  most  cases,  you  will  not be interested in results which are found in messages flagged to be
             deleted.  However, with this option you can specify you want them to be searched too.

           deliver =&gt; undef|CODE|'DELETE'
             The exact functionality of this parameter differs per search method, so read  the  applicable  man-
             page.   In  any  case  "undef"  means  that details are not collected for this search, which is the
             fastest search.

             "DELETE" will flag the message to be flagged for deletion.  You may  also  specify  your  own  CODE
             reference.  With an reference to an array, the information about the matches is collected as a list
             of hashes, one hash per match.

           in =&gt; 'HEAD'|'BODY'|'MESSAGE'
             Where to look for the match.

           label =&gt; STRING
             Mark  all selected messages with the specified STRING.  If this field is not specified, the message
             will not get a label; <b>search()</b> also returns a list of selected messages.

           limit =&gt; NUMBER
             Limit the search to the specified NUMBER of messages.  When the  NUMBER  is  positive,  the  search
             starts  at  the  first message in the folder or thread.  A negative NUMBER starts at the end of the
             folder.  If the limit is set to zero, there is no limit.

           log =&gt; LEVEL
           logical =&gt; 'REPLACE'|'AND'|'OR'|'NOT'|'AND NOT'|'OR NOT'
             Only applicable in combination with a "label".  How to handle the  existing  labels.   In  case  of
             "REPLACE",  messages which already are carrying the label are stripped from their selection (unless
             they match again).  With "AND", the message must be selected by this search and already  carry  the
             label,  otherwise the label will not be set.  Specify "OR" to have newly selected messages added to
             the set of already selected messages.

             "NOT" is true for messages which do not fulfil the search.  The details output will  still  contain
             the  places  where  the  match was found, however those messages will complementary set of messages
             will be labeled and returned.

           multiparts =&gt; BOOLEAN
             Are multiparts to be included in the search results?   Some  MUA  have  problems  handling  details
             received  from  the  search.  When this flag is turned off, the body of multiparts will be ignored.
             The parts search will include the preamble and epilogue.

           trace =&gt; LEVEL

   <b>Searching</b>
       $obj-&gt;<b>inBody</b>($part, $body)
           Tests whether body contains the requesting information.  See  the  specific  search  module  for  its
           parameters.

       $obj-&gt;<b>inHead</b>($part, $head)
           Tests  whether  header  contains  the requesting information.  See the specific search module for its
           parameters.

       $obj-&gt;<b>search</b>($folder|$thread|$message|ARRAY)
           Check which messages from the $folder (Mail::Box) match the search parameters.  The matched  messages
           are  returned  as  list.   You  can  also  specify  a $thread (a Mail::Box::Thread::Node), one single
           $message (a Mail::Message), or an ARRAY of messages.

           Sometimes we know how only one match is needed.  In this case, this searching will stop at the  first
           match.  For instance, when "limit" is -1 or 1, or when the search in done in scalar context.

           example:

            my $grep = Mail::Box::Search::Grep-&gt;new
             ( match   =&gt; 'My Name Is Nobody'
             , deliver =&gt; 'PRINT'
             );

            $grep-&gt;search($folder);

            my $message = $folder-&gt;<a href="../man3/message.3.html">message</a>(3);
            $grep-&gt;search($message);

            my $thread  = $message-&gt;threadStart;
            $grep-&gt;search($thread);

       $obj-&gt;<b>searchPart</b>($part)
           Search this message $part for matches.

   <b>The</b> <b>Results</b>
       $obj-&gt;<b>printMatch</b>( [$fh], HASH )
           Print  the  information  about  the  match (see new(deliver)) in some understandable way.  If no file
           handle is specified, the output will go to the selected filehandle (see "perldoc -f select").

   <b>Error</b> <b>handling</b>
       Extends "Error handling" in Mail::Reporter.

       $obj-&gt;<b>AUTOLOAD</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>addReport</b>($object)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
       Mail::Box::Search-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>errors</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>log</b>( [$level, [$strings]] )
       Mail::Box::Search-&gt;<b>log</b>( [$level, [$strings]] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logPriority</b>($level)
       Mail::Box::Search-&gt;<b>logPriority</b>($level)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logSettings</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>notImplemented</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>report</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>reportAll</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>trace</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>warnings</b>()
           Inherited, see "Error handling" in Mail::Reporter

   <b>Cleanup</b>
       Extends "Cleanup" in Mail::Reporter.

       $obj-&gt;<b>DESTROY</b>()
           Inherited, see "Cleanup" in Mail::Reporter

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Error: Cannot search in body.
           Th search object does not implement <b>inBody()</b>, and can therefore not search a message body.

       Error: Cannot search in header.
           Th search object does not implement <b>inHead()</b>, and can therefore not search a message header.

       Error: Don't know how to deliver via results in $way.
           The search results cannot  be  delivered  in  the  specific  way,  because  that  is  not  a  defined
           alternative.

       Error: Package $package does not implement $method.
           Fatal  error:  the specific package (or one of its superclasses) does not implement this method where
           it should. This message means that some other related classes do implement this  method  however  the
           class  at  hand does not.  Probably you should investigate this and probably inform the author of the
           package.

       Error: Search in BODY, HEAD or MESSAGE not $in.
           The "in" option defines only three names.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       This module is  part  of  Mail-Box  distribution  version  3.011,  built  on  April  18,  2025.  Website:
       <u><a href="http://perl.overmeer.net/CPAN/">http://perl.overmeer.net/CPAN/</a></u>

</pre><h4><b>LICENSE</b></h4><pre>
       Copyrights 2001-2025 by [Mark Overmeer]. For other contributors see ChangeLog.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.  See <u><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></u>

perl v5.40.1                                       2025-04-25                             <u>Mail::Box::<a href="../man3pm/Search.3pm.html">Search</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>