<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dancer::Plugin::Email - Simple email sending for Dancer applications</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdancer-plugin-email-perl">libdancer-plugin-email-perl_1.0400-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Dancer::Plugin::Email - Simple email sending for Dancer applications

</pre><h4><b>VERSION</b></h4><pre>
       version 1.0400

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Dancer;
           use Dancer::Plugin::Email;

           post '/contact' =&gt; sub {
               email {
                   from    =&gt; '<a href="mailto:bob@foo.com">bob@foo.com</a>',
                   to      =&gt; '<a href="mailto:sue@foo.com">sue@foo.com</a>',
                   subject =&gt; 'allo',
                   body    =&gt; 'Dear Sue, ...',
                   attach  =&gt; '/path/to/attachment',
               };
           };

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This plugin tries to make sending emails from Dancer applications as simple as possible.  It uses
       Email::Sender under the hood.  In a lot of cases, no configuration is required.  For example, if your app
       is hosted on a unix-like server with sendmail installed, calling "email()" will just do the right thing.

       IMPORTANT: Version 1.x of this module is not backwards compatible with the 0.x versions.  This module was
       originally built on Email::Stuff which was built on Email::Send which has been deprecated in favor of
       Email::Sender.  Versions 1.x and on have be refactored to use Email::Sender.  I have tried to keep the
       interface the same as much as possible.  The main difference is the configuration.  If there are features
       missing that you were using in older versions, then please let me know by creating an issue on github
       &lt;https://github.com/ironcamel/Dancer-Plugin-Email&gt;.

</pre><h4><b>FUNCTIONS</b></h4><pre>
       This module by default exports the single function "email".

   <b>email</b>
       This function sends an email.  It takes a single argument, a hashref of parameters.  Default values for
       the parameters may be provided in the headers section of the "CONFIGURATION".  Paramaters provided to
       this function will override the corresponding configuration values if there is any overlap.  An exception
       is thrown if sending the email fails, so wrapping calls to "email" with try/catch is recommended.

           use Dancer;
           use Dancer::Plugin::Email;
           use Try::Tiny;

           post '/contact' =&gt; sub {
               try {
                   email {
                       sender  =&gt; '<a href="mailto:bounces-here@foo.com">bounces-here@foo.com</a>', # optional
                       from    =&gt; '<a href="mailto:bob@foo.com">bob@foo.com</a>',
                       to      =&gt; '<a href="mailto:sue@foo.com">sue@foo.com</a>, <a href="mailto:jane@foo.com">jane@foo.com</a>',
                       bcc     =&gt; '<a href="mailto:sam@foo.com">sam@foo.com</a>',
                       subject =&gt; 'allo',
                       body    =&gt; 'Dear Sue, ...&lt;img src="cid:blabla"&gt;',
                       multipart =&gt; 'related', # optional, see below
                       attach  =&gt; [
                           '/path/to/attachment1',
                           '/path/to/attachment2',
                           {
                               Path =&gt; "/path/to/attachment3",
                               # Path is required when passing a hashref.
                               # See Mime::Entity for other optional values.
                               Id =&gt; "blabla",
                           }
                       ],
                       type    =&gt; 'html', # can be 'html' or 'plain'
                       # Optional extra headers
                       headers =&gt; {
                           "X-Mailer"          =&gt; 'This fine Dancer application',
                           "X-Accept-Language" =&gt; 'en',
                       }
                   };
               } catch {
                   error "Could not send email: $_";
               };
           };

</pre><h4><b>CONFIGURATION</b></h4><pre>
       No configuration is necessarily required.  Email::Sender::Simple tries to make a good guess about how to
       send the message.  It will usually try to use the sendmail program on unix-like systems and SMTP on
       Windows.  However, you may explicitly configure a transport in your configuration.  Only one transport
       may be configured.  For documentation for the parameters of the transport, see the corresponding
       Email::Sender::Transport::* module.  For example, the parameters available for the SMTP transport are
       documented here "ATTRIBUTES" in Email::Sender::Transport::SMTP.

       You may also provide default headers in the configuration:

           plugins:
             Email:
               # Set default headers (OPTIONAL)
               headers:
                 sender: '<a href="mailto:bounces-here@foo.com">bounces-here@foo.com</a>'
                 from: '<a href="mailto:bob@foo.com">bob@foo.com</a>'
                 subject: 'default subject'
                 X-Mailer: 'MyDancer 1.0'
                 X-Accept-Language: 'en'
               # Explicity set a transport (OPTIONAL)
               transport:
                 Sendmail:
                   sendmail: '/usr/sbin/sendmail'

       Example configuration for sending mail via Gmail:

           plugins:
             Email:
               transport:
                 SMTP:
                   ssl: 1
                   host: 'smtp.gmail.com'
                   port: 465
                   sasl_username: '<a href="mailto:bob@gmail.com">bob@gmail.com</a>'
                   sasl_password: 'secret'

       Use the Sendmail transport using the sendmail program in the system path:

           plugins:
             Email:
               transport:
                 Sendmail:

       Use the Sendmail transport with an explicit path to the sendmail program:

           plugins:
             Email:
               transport:
                 Sendmail:
                   sendmail: '/usr/sbin/sendmail'

   <b>Multipart</b> <b>messages</b>
       You can embed images in HTML messages this way: first, set the "type" to "html". Then pass the
       attachments as hashrefs, setting "Path" and "Id". In the HTML body, refer to the attachment using the
       "Id", prepending "cid:" in the "src" attribute. This works for popular webmail clients like Gmail and OE,
       but is not enough for Thunderbird, which wants a "multipart/related" mail, not the default
       "multipart/mixed". You can fix this adding the "multipart" parameter set to "related", which set the
       desired subtype when you pass attachments.

       Example:

         email {
                from    =&gt; $from,
                to      =&gt; $to,
                subject =&gt; $subject,
                body    =&gt; q{&lt;p&gt;Image embedded: &lt;img src="cid:mycid"/&gt;&lt;/p&gt;},
                type    =&gt; 'html',
                attach  =&gt; [ { Id =&gt; 'mycid', Path =&gt; '/path/to/file' }],
                multipart =&gt; 'related'
               };

       The "attach" value accepts either a single attachment or an arrayref of attachment. Each attachment may
       be a scalar, with the path of the file to attach, or an hashref, in which case the hashref is passed to
       the Mime::Entity's "attach" method.

</pre><h4><b>CONTRIBUTORS</b></h4><pre>
       •   Marco Pessotto &lt;<a href="mailto:melmothx@gmail.com">melmothx@gmail.com</a>&gt;

       •   Oleg A. Mamontov &lt;<a href="mailto:oleg@mamontov.net">oleg@mamontov.net</a>&gt;

       •   Rusty Conover &lt;https://github.com/rustyconover&gt;

       •   Stefan Hornburg &lt;<a href="mailto:racke@linuxia.de">racke@linuxia.de</a>&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Email::Sender
       MIME::Entity

</pre><h4><b>AUTHORS</b></h4><pre>
       •   Naveed Massjouni &lt;<a href="mailto:naveed@vt.edu">naveed@vt.edu</a>&gt;

       •   Al Newkirk &lt;<a href="mailto:awncorp@cpan.org">awncorp@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2010 by awncorp.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.34.0                                       2022-06-12                         <u>Dancer::Plugin::<a href="../man3pm/Email.3pm.html">Email</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>