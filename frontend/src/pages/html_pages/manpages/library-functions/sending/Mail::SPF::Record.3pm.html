<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::SPF::Record - Abstract base class for SPF records</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-spf-perl">libmail-spf-perl_3.20250505-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::SPF::Record - Abstract base class for SPF records

</pre><h4><b>VERSION</b></h4><pre>
       version 3.20250505

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Creating</b> <b>a</b> <b>record</b> <b>from</b> <b>a</b> <b>string</b>
           use Mail::SPF::v1::Record;

           my $record = Mail::SPF::v1::Record-&gt;new_from_string("v=spf1 a mx -all");

   <b>Creating</b> <b>a</b> <b>record</b> <b>synthetically</b>
           use Mail::SPF::v2::Record;

           my $record = Mail::SPF::v2::Record-&gt;new(
               scopes      =&gt; ['mfrom', 'pra'],
               terms       =&gt; [
                   Mail::SPF::Mech::A-&gt;new(),
                   Mail::SPF::Mech::MX-&gt;new(),
                   Mail::SPF::Mech::All-&gt;new(qualifier =&gt; '-')
               ],
               global_mods =&gt; [
                   Mail::SPF::Mod::Exp-&gt;new(domain_spec =&gt; 'spf-exp.example.com')
               ]
           );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Mail::SPF::Record</b> is an abstract base class for SPF records.  It cannot be instantiated directly.  Create
       an instance of a concrete sub-class instead.

   <b>Constructor</b>
       The following constructors are provided:

       <b>new(%options)</b>: returns <u>Mail::SPF::Record</u>
           Creates a new SPF record object.

           %options is a list of key/value pairs representing any of the following options:

           <b>text</b>
               A <u>string</u> denoting the unparsed text of the record.

           <b>scopes</b>
               A  reference  to  an <u>array</u> of <u>string</u>s denoting the scopes that are covered by the record (see the
               description of the "scope" option of Mail::SPF::Request's "new" constructor).

           <b>terms</b>
               A reference to an <u>array</u> of <u>Mail::SPF::Term</u> (i.e. <u>Mail::SPF::Mech</u> or <u>Mail::SPF::Mod</u>) objects  that
               make  up  the  record.   <u>Mail::SPF::GlobalMod</u>  objects  must  not be included here, but should be
               specified using the "global_mods" option instead.

           <b>global_mods</b>
               A reference to an <u>array</u> of <u>Mail::SPF::GlobalMod</u> objects that are global modifiers of the record.

       <b>new_from_string($text,</b> <b>%options)</b>: returns <u>Mail::SPF::Record</u>; throws <u>Mail::SPF::ENothingToParse</u>,
       <u>Mail::SPF::EInvalidRecordVersion</u>, <u>Mail::SPF::ESyntaxError</u>
           Creates a new SPF record object by parsing the string and any options given.

   <b>Class</b> <b>methods</b>
       The following class methods are provided:

       <b>version_tag_pattern</b>: returns <u>Regexp</u>
           <u>Abstract</u>.  Returns a regular expression that matches a legal version tag.

           This method is abstract and must be implemented by sub-classes of Mail::SPF::Record.

       <b>default_qualifier</b>: returns <u>string</u>
           Returns the default qualifier, i.e. <b>'+'</b>.

       <b>results_by_qualifier</b>: returns <u>hash</u> of <u>string</u>
           Returns a reference to a hash that maps qualifiers to result codes as follows:

                Qualifier | Result code
               -----------+-------------
                    +     | pass
                    -     | fail
                    ~     | softfail
                    ?     | neutral

   <b>Instance</b> <b>methods</b>
       The following instance methods are provided:

       <b>text</b>: returns <u>string</u>; throws <u>Mail::SPF::ENoUnparsedText</u>
           Returns the unparsed text of the record.  Throws a <u>Mail::SPF::ENoUnparsedText</u> exception if the record
           was created synthetically instead of being parsed, and no text was provided.

       <b>version_tag</b>: returns <u>string</u>
           <u>Abstract</u>.  Returns the version tag of the record.

           This method is abstract and must be implemented by sub-classes of Mail::SPF::Record.

       <b>scopes</b>: returns <u>list</u> of <u>string</u>
           Returns a list of the scopes that are covered by the  record.   See  the  description  of  the  "new"
           constructor's "scopes" option.

       <b>terms</b>: returns <u>list</u> of <u>Mail::SPF::Term</u>
           Returns  a  list  of  the  terms  that  make up the record, excluding any global modifiers, which are
           returned by the "global_mods" method.  See the description of the "new" constructor's "terms" option.

       <b>global_mods</b>: returns <u>list</u> of <u>Mail::SPF::GlobalMod</u>
           Returns a list of the global modifiers of the record, ordered ascending by modifier precedence.   See
           the description of the "new" constructor's "global_mods" option.

       <b>global_mod($mod_name)</b>: returns <u>Mail::SPF::GlobalMod</u>
           Returns  the  global  modifier  of  the  given  name  if  it is present in the record.  Returns <b>undef</b>
           otherwise.  Use this method if you wish to retrieve a specific global modifier as opposed to  getting
           all of them.

       <b>stringify</b>: returns <u>string</u>
           Returns  the  record's  version tag and terms (including the global modifiers) formatted as a string.
           You can simply use a Mail::SPF::Record object as a string for the same effect, see "OVERLOADING".

       <b>eval($server,</b> <b>$request)</b>: throws <u>Mail::SPF::Result</u>
           Evaluates the SPF record  in  the  context  of  the  request  parameters  represented  by  the  given
           <u>Mail::SPF::Request</u>  object.   The given <u>Mail::SPF::Server</u> object is used for performing DNS look-ups.
           Throws a <u>Mail::SPF::Result</u> object matching the outcome of the evaluation; see Mail::SPF::Result.  See
           RFC 4408, 4.6 and 4.7, for the exact algorithm used.

</pre><h4><b>OVERLOADING</b></h4><pre>
       If a Mail::SPF::Record object is used as a <u>string</u>, the "stringify" method is used to convert  the  object
       into a string.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mail::SPF, Mail::SPF::v1::Record, Mail::SPF::v2::Record, Mail::SPF::Term, Mail::SPF::Mech, Mail::SPF::Mod

       &lt;<a href="http://tools.ietf.org/html/rfc4408">http://tools.ietf.org/html/rfc4408</a>&gt;

       For availability, support, and license information, see the README file included with Mail::SPF.

</pre><h4><b>AUTHORS</b></h4><pre>
       Julian Mehnle &lt;<a href="mailto:julian@mehnle.net">julian@mehnle.net</a>&gt;, Shevek &lt;<a href="mailto:cpan@anarres.org">cpan@anarres.org</a>&gt;

perl v5.40.1                                       2025-05-10                             <u>Mail::SPF::<a href="../man3pm/Record.3pm.html">Record</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>