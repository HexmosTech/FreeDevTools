<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::SPF::Util - Mail::SPF utility class</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-spf-perl">libmail-spf-perl_3.20250505-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::SPF::Util - Mail::SPF utility class

</pre><h4><b>VERSION</b></h4><pre>
       version 3.20250505

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Mail::SPF::Util;

           $hostname = Mail::SPF::Util-&gt;hostname;

           $ipv6_address_v4mapped =
               Mail::SPF::Util-&gt;ipv4_address_to_ipv6($ipv4_address);

           $ipv4_address =
               Mail::SPF::Util-&gt;ipv6_address_to_ipv4($ipv6_address_v4mapped);

           $is_v4mapped =
               Mail::SPF::Util-&gt;ipv6_address_is_ipv4_mapped($ipv6_address);

           $ip_address_string  = Mail::SPF::Util-&gt;ip_address_to_string($ip_address);
           $reverse_name       = Mail::SPF::Util-&gt;ip_address_reverse($ip_address);

           $validated_domain = Mail::SPF::Util-&gt;valid_domain_for_ip_address(
               $spf_server, $request,
               $ip_address, $domain,
               $find_best_match,       # defaults to false
               $accept_any_domain      # defaults to false
           );

           $sanitized_string = Mail::SPF::Util-&gt;sanitize_string($string);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Mail::SPF::Util</b> is Mail::SPF's utility class.

   <b>Class</b> <b>methods</b>
       The following class methods are provided:

       <b>hostname</b>: returns <u>string</u>
           Returns the fully qualified domain name (FQDN) of the local host.

       <b>ipv4_address_to_ipv6($ipv4_address)</b>: returns <u>NetAddr::IP</u>; throws <u>Mail::SPF::EInvalidOptionValue</u>
           Converts  the  specified  <u>NetAddr::IP</u>  IPv4  address  into  an  IPv4-mapped  IPv6  address.  Throws a
           <u>Mail::SPF::EInvalidOptionValue</u> exception if the specified IP address is not an IPv4 address.

       <b>ipv6_address_to_ipv4($ipv6_address)</b>: returns <u>NetAddr::IP</u>; throws <u>Mail::SPF::EInvalidOptionValue</u>
           Converts the specified <u>NetAddr::IP</u> IPv4-mapped IPv6 address into a proper  IPv4  address.   Throws  a
           <u>Mail::SPF::EInvalidOptionValue</u>  exception  if  the  specified  IP  address is not an IPv4-mapped IPv6
           address.

       <b>ipv6_address_is_ipv4_mapped($ipv6_address)</b>: returns <u>boolean</u>
           Returns <b>true</b> if the specified <u>NetAddr::IP</u> IPv6 address is an IPv4-mapped address, <b>false</b> otherwise.

       <b>ip_address_to_string($ip_address)</b>: returns <u>string</u>; throws <u>Mail::SPF::EInvalidOptionValue</u>
           Returns the given <u>NetAddr::IP</u> IPv4 or IPv6  address  compactly  formatted  as  a  <u>string</u>.   For  IPv4
           addresses,  this  is  equivalent to calling NetAddr::IP's "addr" method.  For IPv6 addresses, this is
           equivalent  to  calling  NetAddr::IP's  "short"  method.   Throws  a   <u>Mail::SPF::EInvalidOptionValue</u>
           exception if the specified object is not a <u>NetAddr::IP</u> IPv4 or IPv6 address object.

       <b>ip_address_reverse($ip_address)</b>: returns <u>string</u>; throws <u>Mail::SPF::EInvalidOptionValue</u>
           Returns  the  "in-addr.arpa."/"ip6.arpa."  reverse  notation  of  the  given <u>NetAddr::IP</u> IPv4 or IPv6
           address.  Throws a  <u>Mail::SPF::EInvalidOptionValue</u>  exception  if  the  specified  object  is  not  a
           <u>NetAddr::IP</u> IPv4 or IPv6 address object.

       <b>valid_domain_for_ip_address($server,</b> <b>$request,</b> <b>$ip_address,</b> <b>$domain,</b> <b>$find_best_match</b> <b>=</b> <b>false,</b>
       <b>$accept_any_domain</b> <b>=</b> <b>false)</b>: returns <u>string</u> or <b>undef</b>
           Finds  a  valid  domain  name for the given <u>NetAddr::IP</u> IP address that matches the given domain or a
           sub-domain thereof.  A domain name is valid for the given IP address if the IP  address  reverse-maps
           to  that  domain  name  in DNS, and the domain name in turn forward-maps to the IP address.  Uses the
           given <u>Mail::SPF::Server</u>  and  <u>Mail::SPF::Request</u>  objects  to  perform  DNS  look-ups.   Returns  the
           validated domain name.

           If $find_best_match is <b>true</b>, the one domain name is selected that best matches the given domain name,
           preferring direct matches over sub-domain matches.  Defaults to <b>false</b>.

           If  $accept_any_domain  is  <b>true</b>,  <u>any</u>  domain  names  are considered acceptable, even if they differ
           completely from the given domain name (which is then  effectively  unused  unless  a  best  match  is
           requested).  Defaults to <b>false</b>.

       <b>sanitize_string($string)</b>: returns <u>string</u> or <b>undef</b>
           Replaces  all non-printable or non-ascii characters in a string with their hex-escaped representation
           (e.g., "\x00").

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mail::SPF

       For availability, support, and license information, see the README file included with Mail::SPF.

</pre><h4><b>AUTHORS</b></h4><pre>
       Julian Mehnle &lt;<a href="mailto:julian@mehnle.net">julian@mehnle.net</a>&gt;, Shevek &lt;<a href="mailto:cpan@anarres.org">cpan@anarres.org</a>&gt;

perl v5.40.1                                       2025-05-10                               <u>Mail::SPF::<a href="../man3pm/Util.3pm.html">Util</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>