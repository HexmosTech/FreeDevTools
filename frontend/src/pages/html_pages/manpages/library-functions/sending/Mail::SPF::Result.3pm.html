<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::SPF::Result - SPF result class</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-spf-perl">libmail-spf-perl_3.20250505-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::SPF::Result - SPF result class

</pre><h4><b>VERSION</b></h4><pre>
       version 3.20250505

</pre><h4><b>SYNOPSIS</b></h4><pre>
       For the general usage of <u>Mail::SPF::Result</u> objects in code that calls Mail::SPF, see Mail::SPF.  For the
       detailed interface of <u>Mail::SPF::Result</u> and its derivatives, see below.

   <b>Throwing</b> <b>results</b>
           package Mail::SPF::Foo;
           use Error ':try';
           use Mail::SPF::Result;

           sub foo {
               if (...) {
                   $server-&gt;throw_result('pass', $request)
               }
               else {
                   $server-&gt;throw_result('permerror', $request, 'Invalid foo');
               }
           }

   <b>Catching</b> <b>results</b>
           package Mail::SPF::Bar;
           use Error ':try';
           use Mail::SPF::Foo;

           try {
               Mail::SPF::Foo-&gt;foo();
           }
           catch Mail::SPF::Result with {
               my ($result) = @_;
               ...
           };

   <b>Using</b> <b>results</b>
           my $result_name     = $result-&gt;name;
           my $result_code     = $result-&gt;code;
           my $request         = $result-&gt;request;
           my $local_exp       = $result-&gt;local_explanation;
           my $authority_exp   = $result-&gt;authority_explanation
               if $result-&gt;can('authority_explanation');
           my $spf_header      = $result-&gt;received_spf_header;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       An object of class <b>Mail::SPF::Result</b> represents the result of an SPF request.

       There is usually no need to construct an SPF result object directly using the "new" constructor.
       Instead, use the "throw" class method to signal to the calling code that a definite SPF result has been
       determined.  In other words, use Mail::SPF::Result and its derivatives just like exceptions.  See Error
       or "eval" in perlfunc for how to handle exceptions in Perl.

   <b>Constructor</b>
       The following constructor is provided:

       <b>new($server,</b> <b>$request)</b>: returns <u>Mail::SPF::Result</u>
       <b>new($server,</b> <b>$request,</b> <b>$text)</b>: returns <u>Mail::SPF::Result</u>
           Creates  a  new  SPF  result object and associates the given <u>Mail::SPF::Server</u> and <u>Mail::SPF::Request</u>
           objects with it.  An optional result text may be specified.

   <b>Class</b> <b>methods</b>
       The following class methods are provided:

       <b>throw($server,</b> <b>$request)</b>: throws <u>Mail::SPF::Result</u>
       <b>throw($server,</b> <b>$request,</b> <b>$text)</b>: throws <u>Mail::SPF::Result</u>
           Throws a new SPF result  object,  associating  the  given  <u>Mail::SPF::Server</u>  and  <u>Mail::SPF::Request</u>
           objects with it.  An optional result text may be specified.

           <u>Note</u>:   Do  not  write  code  invoking "throw" on <u>literal</u> result class names as this would ignore any
           derivative result classes provided by <b>Mail::SPF</b> extension modules.  Invoke the "throw_result"  method
           on a <u>Mail::SPF::Server</u> object instead.

       <b>name</b>: returns <u>string</u>
           <u>Abstract</u>.   Returns  the  result  name  of  the  result  class  (or  object).   For  classes  of  the
           <u>Mail::SPF::Result::*</u> hierarchy, this roughly corresponds to the trailing part of the class name.  For
           example, returns "neutral-by-default" if invoked on  <u>Mail::SPF::Result::NeutralByDefault</u>.   Also  see
           the "code" method.  This method may also be used as an instance method.

           This method must be implemented by sub-classes of Mail::SPF::Result for which the result <u>name</u> differs
           from the result <u>code</u>.

       <b>class</b>: returns <u>class</u>
       <b>class($name)</b>: returns <u>class</u>
           Maps  the  given  result  name to the corresponding <u>Mail::SPF::Result::*</u> class, or returns the result
           base class (the class on which it is invoked) if no result name is given.  If an unknown result  name
           is specified, returns <b>undef</b>.

       <b>isa_by_name($name)</b>: returns <u>boolean</u>
           If  the  class  (or  object)  on  which this method is invoked represents the given result name (or a
           derivative name), returns <b>true</b>.  Returns <b>false</b> otherwise.   This  method  may  also  be  used  as  an
           instance method.

           For example, "Mail::SPF::Result::NeutralByDefault-&gt;isa_by_name('neutral')" returns <b>true</b>.

       <b>code</b>: returns <u>string</u>
           <u>Abstract</u>.  Returns the basic SPF result code ("pass", "fail", "softfail", "neutral", "none", "error",
           "permerror",  "temperror")  of  the  result class on which it is invoked.  All valid result codes are
           valid result names as well, the reverse however does not apply.  This method may also be used  as  an
           instance method.

           This method is abstract and must be implemented by sub-classes of Mail::SPF::Result.

       <b>is_code($code)</b>: returns <u>boolean</u>
           If  the  class  (or object) on which this method is invoked represents the given result code, returns
           <b>true</b>.  Returns <b>false</b> otherwise.  This method may also be used as an instance method.

           <u>Note</u>:  The "isa_by_name" method provides a superset of this method's functionality.

       <b>received_spf_header_name</b>: returns <u>string</u>
           Returns <b>'Received-SPF'</b> as the field name for "Received-SPF" header fields.   This  method  should  be
           overridden  by  <b>Mail::SPF</b> extension modules that provide non-standard features (such as local policy)
           with the capacity to dilute the purity of SPF results, in order not to deceive users  of  the  header
           field into mistaking it as an indication of a natural SPF result.

   <b>Instance</b> <b>methods</b>
       The following instance methods are provided:

       <b>throw</b>: throws <u>Mail::SPF::Result</u>
       <b>throw($server,</b> <b>$request)</b>: throws <u>Mail::SPF::Result</u>
       <b>throw($server,</b> <b>$request,</b> <b>$text)</b>: throws <u>Mail::SPF::Result</u>
           Re-throws  an  existing  SPF  result object.  If <u>Mail::SPF::Server</u> and <u>Mail::SPF::Request</u> objects are
           specified, associates them with the result object, replacing the prior server  and  request  objects.
           If a result text is specified as well, overrides the prior result text.

       <b>server</b>: returns <u>Mail::SPF::Server</u>
           Returns the Mail::SPF server object that produced the result at hand.

       <b>request</b>: returns <u>Mail::SPF::Request</u>
           Returns the SPF request that led to the result at hand.

       <b>text</b>: returns <u>string</u>
           Returns the text message of the result object.

       <b>stringify</b>: returns <u>string</u>
           Returns  the  result's  name  and  text  message  formatted  as  a  string.   You  can  simply  use a
           Mail::SPF::Result object as a string for the same effect, see "OVERLOADING".

       <b>local_explanation</b>: returns <u>string</u>; throws <u>Mail::SPF::EDNSError</u>, <u>Mail::SPF::EInvalidMacroString</u>
           Returns a locally generated explanation for the result.

           The local explanation is prefixed with the authority domain whose sender policy  is  responsible  for
           the  result.   If  the  responsible  sender  policy  referred  to  another domain's policy (using the
           "include" mechanism or the "redirect" modifier), that other domain which is <u>directly</u> responsible  for
           the result is also included in the local explanation's head.  For example:

               example.com: &lt;local-explanation&gt;

           The authority domain "example.com"'s sender policy is directly responsible for the result.

               example.com ... other.example.org: &lt;local-explanation&gt;

           The   authority   domain   "example.com"   (directly   or   indirectly)   referred   to   the  domain
           "other.example.org", whose sender policy then led to the result.

       <b>received_spf_header</b>: returns <u>string</u>
           Returns a string containing an appropriate "Received-SPF" header field for the  result  object.   The
           header field is not line-wrapped and contains no trailing newline character.

</pre><h4><b>OVERLOADING</b></h4><pre>
       If  a  Mail::SPF::Result object is used as a <u>string</u>, the "stringify" method is used to convert the object
       into a string.

</pre><h4><b>RESULT</b> <b>CLASSES</b></h4><pre>
       The following result classes are provided:

       •   <u>Mail::SPF::Result::Pass</u>

       •   <u>Mail::SPF::Result::Fail</u>

       •   <u>Mail::SPF::Result::SoftFail</u>

       •   <u>Mail::SPF::Result::Neutral</u>

           •   <u>Mail::SPF::Result::NeutralByDefault</u>

               This is a special case of the "neutral" result that is thrown as a default when "falling off" the
               end of the record during evaluation.  See RFC 4408, 4.7.

       •   <u>Mail::SPF::Result::None</u>

       •   <u>Mail::SPF::Result::Error</u>

           •   <u>Mail::SPF::Result::PermError</u>

           •   <u>Mail::SPF::Result::TempError</u>

       The following result classes have additional functionality:

       <u>Mail::SPF::Result::Fail</u>
           The following additional instance method is provided:

           <b>authority_explanation</b>: returns <u>string</u>; throws <u>Mail::SPF::EDNSError</u>, <u>Mail::SPF::EInvalidMacroString</u>
               Returns the authority domain's explanation for the result.  Be aware that  the  authority  domain
               may  be  a malicious party and thus the authority explanation should not be trusted blindly.  See
               RFC 4408, 10.5, for a detailed discussion of this issue.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mail::SPF, Mail::SPF::Server, Error, "eval" in perlfunc

       &lt;<a href="http://tools.ietf.org/html/rfc4408">http://tools.ietf.org/html/rfc4408</a>&gt;

       For availability, support, and license information, see the README file included with Mail::SPF.

</pre><h4><b>AUTHORS</b></h4><pre>
       Julian Mehnle &lt;<a href="mailto:julian@mehnle.net">julian@mehnle.net</a>&gt;

perl v5.40.1                                       2025-05-10                             <u>Mail::SPF::<a href="../man3pm/Result.3pm.html">Result</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>