<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log::Handler::Output::Email - Log messages as email (via Net::SMTP).</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liblog-handler-perl">liblog-handler-perl_0.90-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Log::Handler::Output::Email - Log messages as email (via Net::SMTP).

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Log::Handler::Output::Email;

           my $email = Log::Handler::Output::Email-&gt;new(
               host     =&gt; "mx.bar.example",
               hello    =&gt; "EHLO my.domain.example",
               timeout  =&gt; 120,
               debug    =&gt; 0,
               from     =&gt; '<a href="mailto:bar@foo.example">bar@foo.example</a>',
               to       =&gt; '<a href="mailto:foo@bar.example">foo@bar.example</a>',
               subject  =&gt; "your subject",
               buffer   =&gt; 0
           );

           $email-&gt;log(message =&gt; $message);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       With this output module it's possible to log messages via email and it used Net::SMTP to do it. The date
       for the email is generated with "Email::Date::format_date".

       Net::SMTP is from Graham Barr and it does it's job very well.

</pre><h4><b>METHODS</b></h4><pre>
   <b>new()</b>
       Call "new()" to create a new Log::Handler::Output::Email object.

       The following opts are possible:

       <b>host</b>
           With this option you has to define the SMTP host to connect to.

               host =&gt; "mx.host.com"

               # or

               host =&gt; [ "mx.host.example", "mx.host-backup.example" ]

       <b>hello</b>
           Identify yourself with a HELO. The default is set to "EHLO BELO".

       <b>timeout</b>
           With this option you can set the maximum time in seconds to wait for a response from the SMTP server.
           The default is set to 120 seconds.

       <b>from</b>
           The sender address (MAIL FROM).

       <b>to</b>  The receipient address (RCPT TO).

           Additional options are <b>cc</b> and <b>bcc</b>.

       <b>subject</b>
           The subject of the mail.

           The default subject is "Log message from $progname".

       <b>buffer</b>
           This  opts  exists only for security. The thing is that it would be very bad if something wents wrong
           in your program and hundreds of mails would be send.  For this reason you can set a  buffer  to  take
           care.

           With the buffer you can set the maximum size of the buffer in lines. If you set

               buffer =&gt; 10

           then 10 messages would be buffered. Set "buffer" to 0 if you want to disable the buffer.

           The default buffer size is set to 20.

       <b>debug</b>
           With  this  option  it's  possible  to  enable  debugging.  The  information  can be intercepted with
           $SIG{__WARN__}.

   <b>log()</b>
       Call "log()" if you want to log a message as email.

       If you set a buffer size then the message will be pushed into the buffer first.

       Example:

           $email-&gt;log(message =&gt; "this message will be mailed");

       If you pass the level then its placed into the subject:

           $email-&gt;log(message =&gt; "foo", level =&gt; "INFO");
           $email-&gt;log(message =&gt; "bar", level =&gt; "ERROR");
           $email-&gt;log(message =&gt; "baz", level =&gt; "DEBUG");

       The lowest level is used:

           Subject: ERROR: ...

       You can pass the level with "Log::Handler" by setting

           message_pattern =&gt; '%L'

   <b>flush()</b>
       Call "flush()" if you want to flush the buffered lines.

   <b>sendmail()</b>
       Call "sendmail()" if you want to send an email.

       The difference to "log()" is that the message won't be buffered.

   <b>validate()</b>
       Validate a configuration.

   <b>reload()</b>
       Reload with a new configuration.

   <b>errstr()</b>
       This function returns the last error message.

</pre><h4><b>DESTROY</b></h4><pre>
       "DESTROY" is defined and called "flush()".

</pre><h4><b>PREREQUISITES</b></h4><pre>
           Carp
           Email::Date
           Net::SMTP
           Params::Validate

</pre><h4><b>EXPORTS</b></h4><pre>
       No exports.

</pre><h4><b>REPORT</b> <b>BUGS</b></h4><pre>
       Please report all bugs to &lt;jschulz.cpan(at)bloonix.de&gt;.

       If you send me a mail then add Log::Handler into the subject.

</pre><h4><b>AUTHOR</b></h4><pre>
       Jonny Schulz &lt;jschulz.cpan(at)bloonix.de&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2007-2009 by Jonny Schulz. All rights reserved.

       This program is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

perl v5.36.0                                       2022-08-28                   <u>Log::Handler::Output::<a href="../man3pm/Email.3pm.html">Email</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>