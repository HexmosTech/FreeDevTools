<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::Reporter - base-class and error reporter for Mail::Box</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-message-perl">libmail-message-perl_3.017-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::Reporter - base-class and error reporter for Mail::Box

</pre><h4><b>INHERITANCE</b></h4><pre>
        Mail::Reporter is extended by
          Mail::Box
          Mail::Box::Collection
          Mail::Box::Identity
          Mail::Box::Locker
          Mail::Box::MH::Index
          Mail::Box::MH::Labels
          Mail::Box::Manager
          Mail::Box::Parser
          Mail::Box::Search
          Mail::Box::Thread::Manager
          Mail::Box::Thread::Node
          Mail::Message
          Mail::Message::Body
          Mail::Message::Body::Delayed
          Mail::Message::Convert
          Mail::Message::Field
          Mail::Message::Field::Attribute
          Mail::Message::Head
          Mail::Message::Head::FieldGroup
          Mail::Message::TransferEnc
          Mail::Server
          Mail::Transport

</pre><h4><b>SYNOPSIS</b></h4><pre>
        $folder-&gt;log(WARNING =&gt; 'go away');
        print $folder-&gt;trace;        # current level
        $folder-&gt;trace('PROGRESS');  # set level
        print $folder-&gt;errors;
        print $folder-&gt;report('PROGRESS');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The "Mail::Reporter" class is the base class for all classes, except Mail::Message::Field::Fast because
       it would become slow...  This base class is used during initiation of the objects, and for configuring
       and logging error messages.

</pre><h4><b>METHODS</b></h4><pre>
       The "Mail::Reporter" class is the base for nearly all other objects.  It can store and report problems,
       and contains the general constructor <b>new()</b>.

   <b>Constructors</b>
       Mail::Reporter-&gt;<b>new</b>(%options)
           This  error  container is also the base constructor for all modules, (as long as there is no need for
           another base object)  The constructor always accepts the following %options related to error reports.

            -Option--Default
             log     'WARNINGS'
             trace   'WARNINGS'

           log =&gt; LEVEL
             Log messages which have a priority higher or equal to the specified level are stored internally and
             can be retrieved later.  The global default for this option can be changed with <b>defaultTrace()</b>.

             Known levels are "INTERNAL", "ERRORS", "WARNINGS", "PROGRESS", "NOTICES" "DEBUG", and "NONE".   The
             "PROGRESS"  level relates to the reading and writing of folders.  "NONE" will cause only "INTERNAL"
             errors to be logged.  By the way: "ERROR" is an alias for "ERRORS", as "WARNING" is  an  alias  for
             "WARNINGS", and "NOTICE" for "NOTICES".

           trace =&gt; LEVEL
             Trace messages which have a level higher or equal to the specified level are directly printed using
             warn.  The global default for this option can be changed with <b>defaultTrace()</b>.

   <b>Error</b> <b>handling</b>
       $obj-&gt;<b>AUTOLOAD</b>()
           By default, produce a nice warning if the sub-classes cannot resolve a method.

       $obj-&gt;<b>addReport</b>($object)
           Add  the  report from other $object to the report of this object. This is useful when complex actions
           use temporary objects which are not returned to the main application but where the  main  application
           would like to know about any problems.

       $obj-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
       Mail::Reporter-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
           Reports  the  default log and trace level which is used for object as list of two elements.  When not
           explicitly set, both are set to "WARNINGS".

           This method has three different uses. When one argument is specified, that $level  is  set  for  both
           loglevel as tracelevel.

           With  two arguments, the second determines which configuration you like.  If the second argument is a
           CODE reference, you install a $callback.  The loglevel will be set to NONE, and all warnings produced
           in your program will get passed to the $callback function.  That function will get the problem level,
           the object or class which reports the problem, and the problem text passed as arguments.

           In any case two values are returned: the first is the log level,  the  second  represents  the  trace
           level.   Both  are  special  variables:  in numeric context they deliver a value (the internally used
           value), and in string context the string name.  Be warned that the string is always in singular form!

           example: setting loglevels

            my ($loglevel, $tracelevel) = Mail::Reporter-&gt;defaultTrace;
            Mail::Reporter-&gt;defaultTrace('NOTICES');

            my ($l, $t) = Mail::Reporter-&gt;defaultTrace('WARNINGS', 'DEBUG');
            print $l;     # prints "WARNING"  (no S!)
            print $l+0;   # prints "4"
            print "Auch" if $l &gt;= $self-&gt;logPriority('ERROR');

            Mail::Reporter-&gt;defaultTrace('NONE');  # silence all reports

            $folder-&gt;defaultTrace('DEBUG');   # Still set as global default!
            $folder-&gt;trace('DEBUG');          # local default

           example: installing a callback

            Mail::Reporter-&gt;defaultTrace

       $obj-&gt;<b>errors</b>()
           Equivalent to

            $folder-&gt;report('ERRORS')

       $obj-&gt;<b>log</b>( [$level, [$strings]] )
       Mail::Reporter-&gt;<b>log</b>( [$level, [$strings]] )
           As instance method, this function has three different purposes.  Without any argument, it returns one
           scalar containing the number which is internally used to represent the current  log  level,  and  the
           textual  representation  of  the  string  at  the same time. See Scalar::Util method "dualvar" for an
           explanation.

           With one argument, a new level of logging detail is set (specify a number of one  of  the  predefined
           strings).  With more arguments, it is a report which may need to be logged or traced.

           As  class  method,  only  a  message  can  be  passed.   The  global  configuration  value  set  with
           <b>defaultTrace()</b> is used to decide whether the message is shown or ignored.

           Each log-entry has a $level and a text string which will be constructed by joining the $strings.   If
           there is no newline, it will be added.

           example:

            print $message-&gt;log;      # may print "NOTICE"
            print $message-&gt;log +0;   # may print "3"
            $message-&gt;log('ERRORS');  # sets a new level, returns the numeric value

            $message-&gt;log(WARNING =&gt; "This message is too large.");
            $folder -&gt;log(NOTICE  =&gt; "Cannot read from file $filename.");
            $manager-&gt;log(DEBUG   =&gt; "Hi there!", reverse sort @l);

            Mail::Message-&gt;log(ERROR =&gt; 'Unknown');

       $obj-&gt;<b>logPriority</b>($level)
       Mail::Reporter-&gt;<b>logPriority</b>($level)
           One  error  level  (log  or  trace) has more than one representation: a numeric value and one or more
           strings.  For instance, 4, 'WARNING', and 'WARNINGS' are all the same.  You can specify any of these,
           and in return you get a dualvar (see Scalar::Util method "dualvar") back, which contains  the  number
           and the singular form.

           The  higher  the number, the more important the message.  Only messages about "INTERNAL" problems are
           more important than "NONE".

           example:

            my $r = Mail::Reporter-&gt;logPriority('WARNINGS');
            my $r = Mail::Reporter-&gt;logPriority('WARNING');    # same
            my $r = Mail::Reporter-&gt;<a href="../man4/logPriority.4.html">logPriority</a>(4);            # same, deprecated
            print $r;      # prints 'WARNING'  (no S!)
            print $r + 0;  # prints 4
            if($r &lt; Mail::Reporter-&gt;logPriority('ERROR')) {..} # true

       $obj-&gt;<b>logSettings</b>()
           Returns a list of "(key =" value)&gt; pairs which can be used to initiate a new  object  with  the  same
           log-settings as this one.

           example:

            $head-&gt;new($folder-&gt;logSettings);

       $obj-&gt;<b>notImplemented</b>()
           A  special  case  of <b>log()</b>, which logs a "INTERNAL"-error and then croaks.  This is used by extension
           writers.

       $obj-&gt;<b>report</b>( [$level] )
           Get logged reports, as list of strings.  If a  $level  is  specified,  the  log  for  that  level  is
           returned.

           In  case  no  $level  is  specified, you get all messages each as reference to a tuple with level and
           message.

           example:

            my @warns = $message-&gt;report('WARNINGS');
              # previous indirectly callable with
              my @warns = $msg-&gt;warnings;

            print $folder-&gt;report('ERRORS');

            if($folder-&gt;report('DEBUG')) {...}

            my @reports = $folder-&gt;report;
            foreach (@reports) {
               my ($level, $text) = @$_;
               print "$level report: $text";
            }

       $obj-&gt;<b>reportAll</b>( [$level] )
           Report all messages which were produced by this object and all the objects which  are  maintained  by
           this  object.   This  will return a list of triplets, each containing a reference to the object which
           caught the report, the level of the report, and the message.

           example:

            my $folder = Mail::Box::Manager-&gt;new-&gt;open(folder =&gt; 'inbox');
            my @reports = $folder-&gt;reportAll;
            foreach (@reports) {
               my ($object, $level, $text) = @$_;

               if($object-&gt;isa('Mail::Box')) {
                  print "Folder $object: $level: $message";
               } elsif($object-&gt;isa('Mail::Message') {
                  print "Message ".$object-&gt;seqnr.": $level: $message";
               }
            }

       $obj-&gt;<b>trace</b>( [$level] )
           Change the trace $level of the object. When no arguments are specified, the current level is returned
           only.  It will be returned in one scalar which contains both the number which is internally  used  to
           represent the level, and the string which represents it.  See <b>logPriority()</b>.

       $obj-&gt;<b>warnings</b>()
           Equivalent to

            $folder-&gt;report('WARNINGS')

   <b>Cleanup</b>
       $obj-&gt;<b>DESTROY</b>()
           Cleanup the object.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Error: Package $package does not implement $method.
           Fatal  error:  the specific package (or one of its superclasses) does not implement this method where
           it should. This message means that some other related classes do implement this  method  however  the
           class  at  hand does not.  Probably you should investigate this and probably inform the author of the
           package.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       This module is part of Mail-Message distribution  version  3.017,  built  on  April  18,  2025.  Website:
       <u><a href="http://perl.overmeer.net/CPAN/">http://perl.overmeer.net/CPAN/</a></u>

</pre><h4><b>LICENSE</b></h4><pre>
       Copyrights 2001-2025 by [Mark Overmeer &lt;<a href="mailto:markov@cpan.org">markov@cpan.org</a>&gt;]. For other contributors see ChangeLog.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.  See <u><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></u>

perl v5.40.1                                       2025-04-25                                <u>Mail::<a href="../man3pm/Reporter.3pm.html">Reporter</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>