<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>error,   error_at_line,  error_message_count,  error_one_per_line,  error_print_progname  -  glibc  error</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       error,   error_at_line,  error_message_count,  error_one_per_line,  error_print_progname  -  glibc  error
       reporting functions

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/error.h">error.h</a>&gt;</b>

       <b>void</b> <b>error(int</b> <u>status</u><b>,</b> <b>int</b> <u>errnum</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>format</u><b>,</b> <b>...);</b>
       <b>void</b> <b>error_at_line(int</b> <u>status</u><b>,</b> <b>int</b> <u>errnum</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>filename</u><b>,</b>
                          <b>unsigned</b> <b>int</b> <u>linenum</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>format</u><b>,</b> <b>...);</b>

       <b>extern</b> <b>unsigned</b> <b>int</b> <u>error_message_count</u><b>;</b>
       <b>extern</b> <b>int</b> <u>error_one_per_line</u><b>;</b>

       <b>extern</b> <b>void</b> <b>(*</b><u>error_print_progname</u><b>)(void);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>error</b>() is a general error-reporting function.  It flushes <u>stdout</u>, and then outputs to <u>stderr</u> the program
       name, a colon and a space, the message specified by the <b><a href="../man3/printf.3.html">printf</a></b>(3)-style format  string  <u>format</u>,  and,  if
       <u>errnum</u>  is  nonzero,  a  second  colon and a space followed by the string given by <u>strerror(errnum)</u>.  Any
       arguments required for <u>format</u> should follow <u>format</u> in the argument list.  The output is terminated  by  a
       newline character.

       The  program  name  printed  by  <b>error</b>()  is the value of the global variable <b><a href="../man3/program_invocation_name.3.html">program_invocation_name</a></b>(3).
       <u>program_invocation_name</u> initially has the same value as <u>main</u>()'s <u>argv[0]</u>.  The value of this variable can
       be modified to change the output of <b>error</b>().

       If <u>status</u> has a nonzero value, then <b>error</b>() calls <b><a href="../man3/exit.3.html">exit</a></b>(3) to terminate the program using the given  value
       as the exit status; otherwise it returns after printing the error message.

       The  <b>error_at_line</b>()  function  is  exactly the same as <b>error</b>(), except for the addition of the arguments
       <u>filename</u> and <u>linenum</u>.  The output produced is as for <b>error</b>(), except that  after  the  program  name  are
       written:  a  colon,  the  value  of <u>filename</u>, a colon, and the value of <u>linenum</u>.  The preprocessor values
       <b>__LINE__</b> and <b>__FILE__</b> may be useful when calling <b>error_at_line</b>(), but other values can also be used.  For
       example, these arguments could refer to a location in an input file.

       If the global variable <u>error_one_per_line</u> is set nonzero, a sequence of <b>error_at_line</b>()  calls  with  the
       same value of <u>filename</u> and <u>linenum</u> will result in only one message (the first) being output.

       The  global  variable  <u>error_message_count</u> counts the number of messages that have been output by <b>error</b>()
       and <b>error_at_line</b>().

       If the global variable <u>error_print_progname</u> is assigned the address of a function (i.e.,  is  not  NULL),
       then  that  function  is  called  instead  of prefixing the message with the program name and colon.  The
       function should print a suitable string to <u>stderr</u>.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       For an explanation of the terms used in this section, see <b><a href="../man7/attributes.7.html">attributes</a></b>(7).
       ┌─────────────────┬───────────────┬─────────────────────────────────────────────────────────────────────┐
       │ <b>Interface</b>       │ <b>Attribute</b>     │ <b>Value</b>                                                               │
       ├─────────────────┼───────────────┼─────────────────────────────────────────────────────────────────────┤
       │ <b>error</b>()         │ Thread safety │ MT-Safe locale                                                      │
       ├─────────────────┼───────────────┼─────────────────────────────────────────────────────────────────────┤
       │ <b>error_at_line</b>() │ Thread safety │ MT-Unsafe race: error_at_line/error_one_per_line locale             │
       └─────────────────┴───────────────┴─────────────────────────────────────────────────────────────────────┘

       The internal <u>error_one_per_line</u> variable is accessed (without any form of synchronization, but since it's
       an <u>int</u> used once, it should be safe enough) and, if  <u>error_one_per_line</u>  is  set  nonzero,  the  internal
       static  variables  (not  exposed  to  users)  used  to hold the last printed filename and line number are
       accessed and modified without synchronization; the update is not atomic and it  occurs  before  disabling
       cancelation,  so  it  can  be  interrupted  only after one of the two variables is modified.  After that,
       <b>error_at_line</b>() is very much like <b>error</b>().

</pre><h4><b>STANDARDS</b></h4><pre>
       GNU.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/err.3.html">err</a></b>(3), <b><a href="../man3/errno.3.html">errno</a></b>(3), <b><a href="../man3/exit.3.html">exit</a></b>(3), <b><a href="../man3/perror.3.html">perror</a></b>(3), <b><a href="../man3/program_invocation_name.3.html">program_invocation_name</a></b>(3), <b><a href="../man3/strerror.3.html">strerror</a></b>(3)

Linux man-pages 6.9.1                              2024-05-02                                           <u><a href="../man3/error.3.html">error</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>