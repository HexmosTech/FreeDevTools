<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>catch - Evaluate script and trap exceptional returns</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl9.0-doc">tcl9.0-doc_9.0.1+dfsg-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       catch - Evaluate script and trap exceptional returns

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>catch</b> <u>script</u> ?<u>resultVarName</u>? ?<u>optionsVarName</u>?
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>catch</b> command may be used to prevent errors from aborting command interpretation.  The <b>catch</b> command
       calls the Tcl interpreter recursively to execute <u>script</u>, and always returns  without  raising  an  error,
       regardless of any errors that might occur while executing <u>script</u>.

       If  <u>script</u>  raises  an error, <b>catch</b> will return a non-zero integer value corresponding to the exceptional
       return code returned by evaluation of <u>script</u>.  Tcl defines the normal return code from script  evaluation
       to  be  zero  (0),  or  <b>TCL_OK</b>.   Tcl  also  defines  four  exceptional  return  codes:  1 (<b>TCL_ERROR</b>), 2
       (<b>TCL_RETURN</b>), 3 (<b>TCL_BREAK</b>), and 4 (<b>TCL_CONTINUE</b>).  Errors during evaluation of a script are indicated by
       a return code of <b>TCL_ERROR</b>.  The other exceptional return codes are returned by the  <b>return</b>,  <b>break</b>,  and
       <b>continue</b> commands and in other special situations as documented.  New commands defined by Tcl packages as
       well  as scripts that make use of the <b>return</b> <b>-code</b>  command can return other integer values as the return
       code. These must however lie outside the range reserved for Tcl as documented for the <b>return</b> command.

       If the <u>resultVarName</u> argument is given, then the variable it names is set to the  result  of  the  script
       evaluation.   When the return code from the script is 1 (<b>TCL_ERROR</b>), the value stored in <u>resultVarName</u> is
       an error message.  When the return code from the script is 0 (<b>TCL_OK</b>), the value stored in  <u>resultVarName</u>
       is the value returned from <u>script</u>.

       If  the  <u>optionsVarName</u>  argument  is  given, then the variable it names is set to a dictionary of return
       options returned by evaluation of <u>script</u>.  Tcl specifies two entries  that  are  always  defined  in  the
       dictionary:  <b>-code</b>  and  <b>-level</b>.   When  the return code from evaluation of <u>script</u> is not <b>TCL_RETURN</b>, the
       value of the <b>-level</b> entry will be 0, and the value of the <b>-code</b> entry will be  the  same  as  the  return
       code.   Only  when  the  return  code  is  <b>TCL_RETURN</b>  will the values of the <b>-level</b> and <b>-code</b> entries be
       something else, as further described in the documentation for the <b>return</b> command.

       When the return code from evaluation of <u>script</u> is <b>TCL_ERROR</b>, four additional entries are defined  in  the
       dictionary   of  return  options  stored  in  <u>optionsVarName</u>:  <b>-errorinfo</b>,  <b>-errorcode</b>,  <b>-errorline</b>,  and
       <b>-errorstack</b>.  The value of the <b>-errorinfo</b> entry is a formatted stack trace  containing  more  information
       about  the  context  in  which  the  error  happened.  The formatted stack trace is meant to be read by a
       person.  The value of the <b>-errorcode</b> entry is additional information about the error stored  as  a  list.
       The  <b>-errorcode</b>  value is meant to be further processed by programs, and may not be particularly readable
       by people.  The value of the <b>-errorline</b> entry is an integer indicating which line  of  <u>script</u>  was  being
       evaluated  when  the  error  occurred.   The value of the <b>-errorstack</b> entry is an even-sized list made of
       token-parameter pairs accumulated while unwinding the stack. The token may be “<b>CALL</b>”, in which  case  the
       parameter is a list made of the proc name and arguments at the corresponding level; or it may be “<b>UP</b>”, in
       which  case  the  parameter  is  the  relative  level  (as  in <b>uplevel</b>) of the previous <b>CALL</b>. The salient
       differences with respect to <b>-errorinfo</b> are that:

       [1]    it is a machine-readable form that is amenable to processing with [<b>foreach</b> {tok prm} ...],

       [2]    it contains the true (substituted) values passed to the functions, instead of the static  text  of
              the calling sites, and

       [3]    it is coarser-grained, with only one element per stack frame (like procs; no separate elements for
              <b>foreach</b> constructs for example).

       The values of the <b>-errorinfo</b> and <b>-errorcode</b> entries of the most recent error are also available as values
       of  the  global  variables  <b>::errorInfo</b> and <b>::errorCode</b> respectively.  The value of the <b>-errorstack</b> entry
       surfaces as <b>info</b> <b>errorstack</b>.

       Tcl packages may provide commands that set other entries in the dictionary of  return  options,  and  the
       <b>return</b> command may be used by scripts to set return options in addition to those defined above.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The <b>catch</b> command may be used in an <b>if</b> to branch based on the success of a script.

              if { [<b>catch</b> {open $someFile w} fid] } {
                  puts stderr "Could not open $someFile for writing\n$fid"
                  exit 1
              }

       There are more complex examples of <b>catch</b> usage in the documentation for the <b>return</b> command.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3tcl/break.3tcl.html">break</a>(3tcl),  <a href="../man3tcl/continue.3tcl.html">continue</a>(3tcl),  <a href="../man3tcl/dict.3tcl.html">dict</a>(3tcl),  <a href="../man3tcl/error.3tcl.html">error</a>(3tcl),  <a href="../man3tcl/errorCode.3tcl.html">errorCode</a>(3tcl),  <a href="../man3tcl/errorInfo.3tcl.html">errorInfo</a>(3tcl),  <a href="../man3tcl/info.3tcl.html">info</a>(3tcl),
       <a href="../man3tcl/return.3tcl.html">return</a>(3tcl)

</pre><h4><b>KEYWORDS</b></h4><pre>
       catch, error, exception

Tcl                                                    8.5                                           <u><a href="../man3tcl/catch.3tcl.html">catch</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>