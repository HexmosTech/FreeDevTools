<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tk::Error - Method invoked to process background errors</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/perl-tk">perl-tk_804.036+dfsg1-5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tk::Error - Method invoked to process background errors

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Customization:

           require Tk::ErrorDialog;

       or

           sub Tk::Error
           {
             my ($widget,$error,@locations) = @_;
             ...

           }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>Tk::Error</b> method is invoked by perl/Tk when a background error occurs. Two possible implementations
       are provided in the distribution and individual applications or users can (re)define a <b>Tk::Error</b> method
       (e.g. as a perl sub) if they wish to handle background errors in some other manner.

       A background error is one that occurs in a command that didn't originate with the application.  For
       example, if an error occurs while executing a callback specified with a bind or a after command, then it
       is a background error.  For a non-background error, the error can simply be returned up through nested
       subroutines until it reaches the top-level code in the application; then the application can report the
       error in whatever way it wishes.  When a background error occurs, the unwinding ends in the Tk library
       and there is no obvious way for Tk to report the error.

       When Tk detects a background error, it saves information about the error and invokes the <b>Tk::Error</b> method
       later when Tk is idle.

       <b>Tk::Error</b> is invoked by perl/Tk as if by the perl code:

           <u>$mainwindow</u>-&gt;<b>Tk::Error</b>(<u>"error</u> <u>message"</u>, <u>location</u> <u>...</u>);

       <u>$mainwindow</u> is the <b>MainWindow</b> associated with widget which detected the error, <u>"error</u> <u>message"</u> is a
       string describing the error that has been detected, <u>location</u> is a list of one or more "locations" which
       describe the call sequence at the point the error was detected.

       The locations are a typically a mixture of perl location reports giving script name and line number, and
       simple strings describing locations in core Tk or perl/Tk C code.

       Tk will ignore any result returned by the <b>Tk::Error</b> method.  If another error occurs within the <b>Tk::Error</b>
       method (for example if it calls <b>die</b>) then Tk reports this error itself by writing a message to stderr
       (this is to avoid infinite loops due to any bugs in <b>Tk::Error</b>).

       If several background errors accumulate before <b>Tk::Error</b> is invoked to process them, <b>Tk::Error</b> will be
       invoked once for each error, in the order they occurred.  However, if <b>Tk::Error</b> calls <b>Tk-&gt;break</b>, then any
       remaining errors are skipped without calling <b>Tk::Error</b>.

       The <b>Tk</b> module includes a default <b>Tk::Error</b> subroutine that simply reports the error on stderr.

</pre><h4><b>Tk::ErrorDialog</b></h4><pre>
       An alternate definition is provided via:

           "require Tk::ErrorDialog;"

       that posts a dialog box containing the error message and offers the user a chance to see a stack trace
       showing where the error occurred.

       This is an OO implementation of the Tcl/Tk command <b>bgerror</b>, with a twist: since there is only one
       <b>ErrorDialog</b> widget, you aren't required to invoke the constructor to create it; it will be created
       automatically when the first background error occurs.  However, in order to configure the <u>-cleanupcode</u>
       and <u>-appendtraceback</u> <b>ErrorDialog</b> options you must call the constructor and create it manually.

       The <b>ErrorDialog</b> object essentially consists of two subwidgets: a <b>Dialog</b> widget to display the background
       error and a <b>Text</b> widget for the traceback information.  If required, you can invoke various widget
       methods to customize these subwidgets - their advertised names are described below.

           <u>$mw</u>-&gt;<b>ErrorDialog</b>(-cleanupcode =&gt; <u>code</u>, -appendtraceback =&gt; <u>bool</u>);

       $mw is a window reference.

       <u>code</u> is a CODE reference if special post-background error processing is required (default is undefined).
       The callback subroutine is called with @_ having the same arguments that <b>Tk::Error</b> was invoked with.

       <u>bool</u> is a boolean indicating whether or not to append successive tracebacks (default is 1, do append).

   <b>Advertised</b> <b>ErrorDialog</b> <b>widgets</b>
       <u>error_dialog</u> is the Dialog widget reference.

       <u>text</u> is the Text widget reference containing the traceback information.

</pre><h4><b>BUGS</b></h4><pre>
       If <b>after</b> or <b>fileevent</b> are not invoked as methods of a widget then perl/Tk is unable to provide a
       <u>$mainwindow</u> argument.  To support such code from earlier versions of perl/Tk perl/Tk therefore calls
       <b>Tk::Error</b> with string 'Tk' instead: <b>Tk-&gt;Tk::Error\(...\)</b>.  In this case the <b>Tk::Error</b> in <b>Tk::ErrorDialog</b>
       and similar implementations cannot "popup" a window as they don't know which display to use.  A mechanism
       to supply <u>the</u> <b>MainWindow</b> in applications which only have one (a very common case) should be provided.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Tk::bind Tk::after Tk::fileevent

</pre><h4><b>KEYWORDS</b></h4><pre>
       background error, reporting

perl v5.40.1                                       2025-04-13                                         <u><a href="../man3pm/Error.3pm.html">Error</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>