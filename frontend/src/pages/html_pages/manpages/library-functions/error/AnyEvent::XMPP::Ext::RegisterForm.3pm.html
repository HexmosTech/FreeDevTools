<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnyEvent::XMPP::Ext::RegisterForm - Handle for in band registration</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libanyevent-xmpp-perl">libanyevent-xmpp-perl_0.55-7_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       AnyEvent::XMPP::Ext::RegisterForm - Handle for in band registration

</pre><h4><b>SYNOPSIS</b></h4><pre>
          my $con = AnyEvent::XMPP::Connection-&gt;new (...);
          ...
          $con-&gt;do_in_band_register (sub {
             my ($form, $error) = @_;
             if ($error) { print "ERROR: ".$error-&gt;string."\n" }
             else {
                if ($form-&gt;type eq 'simple') {
                   if ($form-&gt;has_field ('username') &amp;&amp; $form-&gt;has_field ('password')) {
                      $form-&gt;set_field (
                         username =&gt; 'test',
                         password =&gt; 'qwerty',
                      );
                      $form-&gt;submit (sub {
                         my ($form, $error) = @_;
                         if ($error) { print "SUBMIT ERROR: ".$error-&gt;string."\n" }
                         else {
                            print "Successfully registered as ".$form-&gt;field ('username')."\n"
                         }
                      });
                   } else {
                      print "Couldn't fill out the form: " . $form-&gt;field ('instructions') ."\n";
                   }
                } elsif ($form-&gt;type eq 'data_form' {
                   my $dform = $form-&gt;data_form;
                   ... fill out the form $dform (of type AnyEvent::XMPP::DataForm) ...
                   $form-&gt;submit_data_form ($dform, sub {
                      my ($form, $error) = @_;
                      if ($error) { print "DATA FORM SUBMIT ERROR: ".$error-&gt;string."\n" }
                      else {
                         print "Successfully registered as ".$form-&gt;field ('username')."\n"
                      }
                   })
                }
             }
          });

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module represents an in band registration form which can be filled out and submitted.

       You can get an instance of this class only by requesting it from a AnyEvent::XMPP::Connection by calling
       the "request_inband_register_form" method.

       <b>new</b> <b>(%args)</b>
           Usually the constructor takes no arguments except when you want to construct an answer form, then you
           call the constructor like this:

           If you have legacy form fields as a hash ref in $filled_legacy_form:

              AnyEvent::XMPP::Ext::RegisterForm (
                 legacy_form =&gt; $filled_legacy_form,
                 answered =&gt; 1
              );

           If you have a data form in $answer_data_form:

              AnyEvent::XMPP::Ext::RegisterForm (
                 legacy_form =&gt; $answer_data_form,
                 answered =&gt; 1
              );

       <b>try_fillout_registration</b> <b>($username,</b> <b>$password)</b>
           This  method  tries  to fill out a form which was received from the other end. It enters the username
           and password and returns a new AnyEvent::XMPP::Ext::RegisterForm object which is the answer form.

           <b>NOTE:</b> This function is just a heuristic to fill out a form for automatic registration, but  it  might
           fail if the forms are more complex and have required fields that we don't know.

           Registration  without  user  interaction is theoretically not possible because forms can be different
           from server to server and require different information.  Please also have a look at XEP-0077.

           Note that if the form is more complicated this method will not work and it's not guranteed  that  the
           registration will be successful.

           Calling  this  method  on  a answer form (where "is_answer_form" returns true) will have an undefined
           result.

       <b>is_answer_form</b>
           This method will return a true value if this form was returned by eg.  "try_fillout_registration"  or
           generally represents an answer form.

       <b>is_already_registered</b>
           This method returns true if the received form were just the current registration data. Basically this
           method returns true when you are already registered to the server.

       <b>get_legacy_form_fields</b>
           This  method returns a hash with the keys being the fields of the legacy form as described in the XML
           scheme of XEP-0077.

           If the form contained just nodes the keys will have undef as value.

           If the form contained also register information,  in  case  "is_already_registered"  returns  a  true
           value, the values will contain the strings for the fields.

       <b>get_data_form</b>
           This method returns the AnyEvent::XMPP::Ext::DataForm that came with the registration response. If no
           data form was provided by the server this method returns undef.

       <b>get_oob</b>
           This   method   returns   a  hash  like  the  one  returned  from  the  function  "url_from_node"  in
           AnyEvent::XMPP::Ext::OOB.  It contains the out of band data for this registration form.

       <b>answer_form_to_simxml</b>
           This method returns a list of "simxml" nodes.

</pre><h4><b>AUTHOR</b></h4><pre>
       Robin Redeker, "&lt;elmex at ta-sa.org&gt;", JID: "&lt;elmex at jabber.org&gt;"

</pre><h4><b>COPYRIGHT</b> <b>&amp;</b> <b>LICENSE</b></h4><pre>
       Copyright 2007, 2008 Robin Redeker, all rights reserved.

       This program is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

perl v5.38.2                                       2024-08-03             <u>AnyEvent::XMPP::Ext::<a href="../man3pm/RegisterForm.3pm.html">RegisterForm</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>