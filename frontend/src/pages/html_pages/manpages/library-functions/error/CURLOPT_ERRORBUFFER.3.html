<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_ERRORBUFFER - error buffer for error messages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_ERRORBUFFER - error buffer for error messages

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_ERRORBUFFER, char *buf);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Pass  a  char pointer to a buffer that libcurl may use to store human readable error messages on failures
       or problems. This may be more helpful than just the return code  from  <u><a href="../man3/curl_easy_perform.3.html">curl_easy_perform</a>(3)</u>  and  related
       functions. The buffer must be at least <b>CURL_ERROR_SIZE</b> bytes big.

       You  must  keep  the associated buffer available until libcurl no longer needs it. Failing to do so might
       cause odd behavior or even crashes. libcurl might need it until you call <u><a href="../man3/curl_easy_cleanup.3.html">curl_easy_cleanup</a>(3)</u> or you  set
       the same option again to use a different pointer.

       Do  not  rely  on  the  contents  of  the buffer unless an error code was returned.  Since 7.60.0 libcurl
       initializes the contents of the error buffer to an empty  string  before  performing  the  transfer.  For
       earlier  versions  if  an  error  code  was  returned  but  there was no error detail then the buffer was
       untouched.

       Do not attempt to set the contents of the buffer yourself, including in any callbacks you write that  may
       be called by libcurl. The library may overwrite the buffer after your callback returns.

       Consider <u><a href="../man3/CURLOPT_VERBOSE.3.html">CURLOPT_VERBOSE</a>(3)</u> and <u><a href="../man3/CURLOPT_DEBUGFUNCTION.3.html">CURLOPT_DEBUGFUNCTION</a>(3)</u> to better debug and trace why errors happen.

       Using this option multiple times makes the last set pointer override the previous ones. Set it to NULL to
       disable its use again.

</pre><h4><b>DEFAULT</b></h4><pre>
       NULL

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects all supported protocols

</pre><h4><b>EXAMPLE</b></h4><pre>
       #include &lt;<a href="file:/usr/include/string.h">string.h</a>&gt; /* for strlen() */
       int main(void)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           CURLcode res;
           char errbuf[CURL_ERROR_SIZE];

           curl_easy_setopt(curl, CURLOPT_URL, "https://example.com");

           /* provide a buffer to store errors in */
           curl_easy_setopt(curl, CURLOPT_ERRORBUFFER, errbuf);

           /* set the error buffer as empty before performing a request */
           errbuf[0] = 0;

           /* perform the request */
           res = curl_easy_perform(curl);

           /* if the request did not complete correctly, show the error
           information. if no detailed error information was written to errbuf
           show the more generic information from curl_easy_strerror instead.
           */
           if(res != CURLE_OK) {
             size_t len = strlen(errbuf);
             fprintf(stderr, "\nlibcurl: (%d) ", res);
             if(len)
               fprintf(stderr, "%s%s", errbuf,
                       ((errbuf[len - 1] != '\n') ? "\n" : ""));
             else
               fprintf(stderr, "%s\n", curl_easy_strerror(res));
           }
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.1

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLOPT_DEBUGFUNCTION.3.html">CURLOPT_DEBUGFUNCTION</a></b>(3),      <b><a href="../man3/CURLOPT_VERBOSE.3.html">CURLOPT_VERBOSE</a></b>(3),     <b><a href="../man3/curl_easy_strerror.3.html">curl_easy_strerror</a></b>(3),     <b><a href="../man3/curl_multi_strerror.3.html">curl_multi_strerror</a></b>(3),
       <b><a href="../man3/curl_share_strerror.3.html">curl_share_strerror</a></b>(3), <b><a href="../man3/curl_url_strerror.3.html">curl_url_strerror</a></b>(3)

libcurl                                            2025-06-16                             <u><a href="../man3/CURLOPT_ERRORBUFFER.3.html">CURLOPT_ERRORBUFFER</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>