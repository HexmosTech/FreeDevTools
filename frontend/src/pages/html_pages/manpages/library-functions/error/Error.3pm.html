<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error - Error/exception handling in an OO-ish way</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liberror-perl">liberror-perl_0.17030-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Error - Error/exception handling in an OO-ish way

</pre><h4><b>VERSION</b></h4><pre>
       version 0.17030

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Error qw(:try);

           throw Error::Simple( "A simple error");

           sub xyz {
               ...
               record Error::Simple("A simple error")
                   and return;
           }

           unlink($file) or throw Error::Simple("$file: $!",$!);

           try {
               do_some_stuff();
               die "error!" if $condition;
               throw Error::Simple "Oops!" if $other_condition;
           }
           catch Error::IO with {
               my $E = shift;
               print STDERR "File ", $E-&gt;{'-file'}, " had a problem\n";
           }
           except {
               my $E = shift;
               my $general_handler=sub {send_message $E-&gt;{-description}};
               return {
                   UserException1 =&gt; $general_handler,
                   UserException2 =&gt; $general_handler
               };
           }
           otherwise {
               print STDERR "Well I don't know what to say\n";
           }
           finally {
               close_the_garage_door_already(); # Should be reliable
           }; # Don't forget the trailing ; or you might be surprised

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The "Error" package provides two interfaces. Firstly "Error" provides a procedural interface to exception
       handling. Secondly "Error" is a base class for errors/exceptions that can either be thrown, for
       subsequent catch, or can simply be recorded.

       Errors in the class "Error" should not be thrown directly, but the user should throw errors from a sub-
       class of "Error".

</pre><h4><b>WARNING</b></h4><pre>
       Using the "Error" module is <b>no</b> <b>longer</b> <b>recommended</b> due to the black-magical nature of its syntactic sugar,
       which often tends to break. Its maintainers have stopped actively writing code that uses it, and
       discourage people from doing so. See the "SEE ALSO" section below for better recommendations.

</pre><h4><b>PROCEDURAL</b> <b>INTERFACE</b></h4><pre>
       "Error" exports subroutines to perform exception handling. These will be exported if the ":try" tag is
       used in the "use" line.

       try BLOCK CLAUSES
           "try"  is  the  main subroutine called by the user. All other subroutines exported are clauses to the
           try subroutine.

           The BLOCK will be evaluated and, if no error is throw, try will return the result of the block.

           "CLAUSES" are the subroutines below, which describe what to do in the event of an error being  thrown
           within BLOCK.

       catch CLASS with BLOCK
           This  clauses  will  cause  all  errors  that  satisfy "$err-&gt;isa(CLASS)" to be caught and handled by
           evaluating "BLOCK".

           "BLOCK" will be passed two arguments. The first will be the error  being  thrown.  The  second  is  a
           reference  to  a scalar variable. If this variable is set by the catch block then, on return from the
           catch block, try will continue processing as if the catch block was never found. The error will  also
           be available in $@.

           To propagate the error the catch block may call "$err-&gt;throw"

           If  the  scalar  reference  by  the second argument is not set, and the error is not thrown. Then the
           current try block will return with the result from the catch block.

       except BLOCK
           When "try" is looking for a handler, if an except clause is found "BLOCK" is  evaluated.  The  return
           value  from  this  block  should  be a HASHREF or a list of key-value pairs, where the keys are class
           names and the values are CODE references for the handler of errors of that type.

       otherwise BLOCK
           Catch any error by executing the code in "BLOCK"

           When evaluated "BLOCK" will be passed one argument, which will be  the  error  being  processed.  The
           error will also be available in $@.

           Only one otherwise block may be specified per try block

       finally BLOCK
           Execute  the code in "BLOCK" either after the code in the try block has successfully completed, or if
           the try block throws an error then "BLOCK" will be executed after the handler has completed.

           If the handler throws an error then the error will be caught, the finally block will be executed  and
           the error will be re-thrown.

           Only one finally block may be specified per try block

</pre><h4><b>COMPATIBILITY</b></h4><pre>
       Moose  exports  a  keyword  called  "with"  which  clashes with Error's. This example returns a prototype
       mismatch error:

           package MyTest;

           use warnings;
           use Moose;
           use Error qw(:try);

       (Thanks to "<a href="mailto:maik.hentsche@amd.com">maik.hentsche@amd.com</a>" for the report.).

</pre><h4><b>CLASS</b> <b>INTERFACE</b></h4><pre>
   <b>CONSTRUCTORS</b>
       The "Error" object is implemented as a HASH. This HASH is initialized with the arguments that are  passed
       to  it's  constructor.  The elements that are used by, or are retrievable by the "Error" class are listed
       below, other classes may add to these.

               -file
               -line
               -text
               -value
               -object

       If "-file" or "-line" are not specified in the constructor arguments then these will be initialized  with
       the file name and line number where the constructor was called from.

       If  the  error  is  associated with an object then the object should be passed as the "-object" argument.
       This will allow the "Error" package to associate the error with the object.

       The "Error" package remembers the last error created, and also the last error associated with a  package.
       This  could  either be the last error created by a sub in that package, or the last error which passed an
       object blessed into that package as the "-object" argument.

       Error-&gt;<b>new()</b>
           See the Error::Simple documentation.

       throw ( [ ARGS ] )
           Create a new "Error" object and throw an error, which will be caught by a surrounding "try" block, if
           there is one. Otherwise it will cause the program to exit.

           "throw" may also be called on an existing error to re-throw it.

       with ( [ ARGS ] )
           Create a new "Error" object and returns it. This is defined for syntactic sugar, eg

               die with Some::Error ( ... );

       record ( [ ARGS ] )
           Create a new "Error" object and returns it. This is defined for syntactic sugar, eg

               record Some::Error ( ... )
                   and return;

   <b>STATIC</b> <b>METHODS</b>
       prior ( [ PACKAGE ] )
           Return the last error created, or the last error associated with "PACKAGE"

       flush ( [ PACKAGE ] )
           Flush the last error created, or the last error associated with "PACKAGE".It is  necessary  to  clear
           the  error  stack  before  exiting  the  package  or uncaught errors generated using "record" will be
           reported.

                $Error-&gt;flush;

   <b>OBJECT</b> <b>METHODS</b>
       stacktrace
           If the variable $Error::Debug was non-zero when the error was created, then  "stacktrace"  returns  a
           string  created  by  calling  "Carp::longmess". If the variable was zero the "stacktrace" returns the
           text of the error appended with the filename  and  line  number  of  where  the  error  was  created,
           providing the text does not end with a newline.

       object
           The object this error was associated with

       file
           The file where the constructor of this error was called from

       line
           The line where the constructor of this error was called from

       text
           The text of the error

       $err-&gt;associate($obj)
           Associates an error with an object to allow error propagation. I.e:

               $ber-&gt;encode(...) or
                   return Error-&gt;prior($ber)-&gt;associate($ldap);

   <b>OVERLOAD</b> <b>METHODS</b>
       stringify
           A method that converts the object into a string. This method may simply return the same as the "text"
           method, or it may append more information. For example the file name and line number.

           By default this method returns the "-text" argument that was passed to the constructor, or the string
           "Died" if none was given.

       value
           A  method that will return a value that can be associated with the error. For example if an error was
           created due to the failure of a system call, then this may return the numeric  value  of  $!  at  the
           time.

           By default this method returns the "-value" argument that was passed to the constructor.

</pre><h4><b>PRE-DEFINED</b> <b>ERROR</b> <b>CLASSES</b></h4><pre>
   <b>Error::Simple</b>
       This class can be used to hold simple error strings and values. It's constructor takes two arguments. The
       first  is  a  text  value,  the  second is a numeric value. These values are what will be returned by the
       overload methods.

       If the text value ends with "at file line 1" as $@ strings do, then this information will be used to  set
       the "-file" and "-line" arguments of the error object.

       This  class  is  used  internally  if an eval'd block die's with an error that is a plain string. (Unless
       $Error::ObjectifyCallback is modified)

</pre><h4><b>$Error::ObjectifyCallback</b></h4><pre>
       This variable holds a reference to a subroutine that converts errors that are plain strings  to  objects.
       It is used by Error.pm to convert textual errors to objects, and can be overridden by the user.

       It  accepts  a  single  argument which is a hash reference to named parameters.  Currently the only named
       parameter passed is 'text' which is the text of the error, but others may be available in the future.

       For example the following code will cause Error.pm to throw objects of the class MyError::Bar by default:

           sub throw_MyError_Bar
           {
               my $args = shift;
               my $err = MyError::Bar-&gt;new();
               $err-&gt;{'MyBarText'} = $args-&gt;{'text'};
               return $err;
           }

           {
               local $Error::ObjectifyCallback = \&amp;throw_MyError_Bar;

               # Error handling here.
           }

</pre><h4><b>MESSAGE</b> <b>HANDLERS</b></h4><pre>
       "Error" also provides handlers to extend the output of the  warn()  perl  function,  and  to  handle  the
       printing of a thrown "Error" that is not caught or otherwise handled. These are not installed by default,
       but are requested using the ":warndie" tag in the "use" line.

        use Error qw( :warndie );

       These new error handlers are installed in $SIG{__WARN__} and $SIG{__DIE__}. If these handlers are already
       defined  when  the  tag  is  imported,  the old values are stored, and used during the new code. Thus, to
       arrange for custom handling of warnings  and  errors,  you  will  need  to  perform  something  like  the
       following:

        BEGIN {
          $SIG{__WARN__} = sub {
            print STDERR "My special warning handler: $_[0]"
          };
        }

        use Error qw( :warndie );

       Note  that  setting  $SIG{__WARN__} after the ":warndie" tag has been imported will overwrite the handler
       that "Error" provides. If this cannot be avoided, then the tag can be explicitly "import"ed later

        use Error;

        $SIG{__WARN__} = ...;

        import Error qw( :warndie );

   <b>EXAMPLE</b>
       The "__DIE__" handler turns messages such as

        Can't call method "foo" on an undefined value at examples/warndie.pl line 16.

       into

        Unhandled perl error caught at toplevel:

          Can't call method "foo" on an undefined value

        Thrown from: examples/warndie.pl:16

        Full stack trace:

                main::inner('undef') called at examples/warndie.pl line 20
                main::outer('undef') called at examples/warndie.pl line 23

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       See Exception::Class for a different module providing Object-Oriented exception handling,  along  with  a
       convenient  syntax for declaring hierarchies for them. It doesn't provide Error's syntactic sugar of "try
       { ... }", "catch { ... }", etc. which may be a good thing or a bad thing based on what you want. (Because
       Error's syntactic sugar tends to break.)

       Error::Exception aims to combine Error and Exception::Class "with correct stringification".

       TryCatch and Try::Tiny are similar in concept to Error.pm only providing a syntax that  hopefully  breaks
       less.

</pre><h4><b>KNOWN</b> <b>BUGS</b></h4><pre>
       None, but that does not mean there are not any.

</pre><h4><b>AUTHORS</b></h4><pre>
       Graham Barr &lt;<a href="mailto:gbarr@pobox.com">gbarr@pobox.com</a>&gt;

       The  code  that inspired me to write this was originally written by Peter Seibel &lt;<a href="mailto:peter@weblogic.com">peter@weblogic.com</a>&gt; and
       adapted by Jesse Glick &lt;<a href="mailto:jglick@sig.bsh.com">jglick@sig.bsh.com</a>&gt;.

       ":warndie" handlers added by Paul Evans &lt;<a href="mailto:leonerd@leonerd.org.uk">leonerd@leonerd.org.uk</a>&gt;

</pre><h4><b>MAINTAINER</b></h4><pre>
       Shlomi Fish, &lt;<a href="http://www.shlomifish.org/">http://www.shlomifish.org/</a>&gt; .

</pre><h4><b>PAST</b> <b>MAINTAINERS</b></h4><pre>
       Arun Kumar U &lt;<a href="mailto:u_arunkumar@yahoo.com">u_arunkumar@yahoo.com</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 1997-8  Graham Barr.  All  rights  reserved.   This  program  is  free  software;  you  can
       redistribute it and/or modify it under the same terms as Perl itself.

</pre><h4><b>SUPPORT</b></h4><pre>
   <b>Websites</b>
       The  following websites have more information about this module, and may be of help to you. As always, in
       addition to those websites please use your favorite search engine to discover more resources.

       •   MetaCPAN

           A modern, open-source CPAN search engine, useful to view POD in HTML format.

           &lt;https://metacpan.org/release/Error&gt;

       •   RT: CPAN's Bug Tracker

           The RT ( Request Tracker ) website is the default bug/issue tracking system for CPAN.

           &lt;https://rt.cpan.org/Public/Dist/Display.html?Name=Error&gt;

       •   CPANTS

           The CPANTS is a website that analyzes the Kwalitee ( code metrics ) of a distribution.

           &lt;<a href="http://cpants.cpanauthors.org/dist/Error">http://cpants.cpanauthors.org/dist/Error</a>&gt;

       •   CPAN Testers

           The CPAN  Testers  is  a  network  of  smoke  testers  who  run  automated  tests  on  uploaded  CPAN
           distributions.

           &lt;<a href="http://www.cpantesters.org/distro/E/Error">http://www.cpantesters.org/distro/E/Error</a>&gt;

       •   CPAN Testers Matrix

           The  CPAN  Testers  Matrix  is  a  website  that provides a visual overview of the test results for a
           distribution on various Perls/platforms.

           &lt;<a href="http://matrix.cpantesters.org/">http://matrix.cpantesters.org/</a>?dist=Error&gt;

       •   CPAN Testers Dependencies

           The CPAN Testers Dependencies is a website that shows a chart of the test results of all dependencies
           for a distribution.

           &lt;<a href="http://deps.cpantesters.org/">http://deps.cpantesters.org/</a>?module=Error&gt;

   <b>Bugs</b> <b>/</b> <b>Feature</b> <b>Requests</b>
       Please report any bugs or feature requests by email to "bug-error at rt.cpan.org",  or  through  the  web
       interface at &lt;https://rt.cpan.org/Public/Bug/Report.html?Queue=Error&gt;. You will be automatically notified
       of any progress on the request by the system.

   <b>Source</b> <b>Code</b>
       The  code  is open to the world, and available for you to hack on. Please feel free to browse it and play
       with it, or whatever. If you want to contribute patches, please send me a diff or prod me  to  pull  from
       your repository :)

       &lt;https://github.com/shlomif/perl-error.pm&gt;

         git clone git://github.com/shlomif/perl-error.pm.git

</pre><h4><b>AUTHOR</b></h4><pre>
       Shlomi Fish ( <a href="http://www.shlomifish.org/">http://www.shlomifish.org/</a> )

</pre><h4><b>BUGS</b></h4><pre>
       Please     report     any     bugs     or     feature     requests     on    the    bugtracker    website
       &lt;https://github.com/shlomif/perl-error.pm/issues&gt;

       When submitting a bug or request, please include a test-file or a patch to  an  existing  test-file  that
       illustrates the bug or desired feature.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2025 by Shlomi Fish ( <a href="http://www.shlomifish.org/">http://www.shlomifish.org/</a> ).

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.40.1                                       2025-03-01                                         <u><a href="../man3pm/Error.3pm.html">Error</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>