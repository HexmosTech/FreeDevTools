<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>open_memstream, open_wmemstream - open a dynamic memory buffer stream</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       open_memstream, open_wmemstream - open a dynamic memory buffer stream

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;</b>

       <b>FILE</b> <b>*open_memstream(char</b> <b>**</b><u>ptr</u><b>,</b> <b>size_t</b> <b>*</b><u>sizeloc</u><b>);</b>

       <b>#include</b> <b>&lt;<a href="file:/usr/include/wchar.h">wchar.h</a>&gt;</b>

       <b>FILE</b> <b>*open_wmemstream(wchar_t</b> <b>**</b><u>ptr</u><b>,</b> <b>size_t</b> <b>*</b><u>sizeloc</u><b>);</b>

   Feature Test Macro Requirements for glibc (see <b><a href="../man7/feature_test_macros.7.html">feature_test_macros</a></b>(7)):

       <b>open_memstream</b>(), <b>open_wmemstream</b>():
           Since glibc 2.10:
               _POSIX_C_SOURCE &gt;= 200809L
           Before glibc 2.10:
               _GNU_SOURCE

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>open_memstream</b>()  function  opens a stream for writing to a memory buffer.  The function dynamically
       allocates the buffer, and the buffer automatically grows as needed.  Initially, the buffer has a size  of
       zero.  After closing the stream, the caller should <b><a href="../man3/free.3.html">free</a></b>(3) this buffer.

       The  locations  pointed  to by <u>ptr</u> and <u>sizeloc</u> are used to report, respectively, the current location and
       the size of the buffer.  The locations referred to by these pointers are updated each time the stream  is
       flushed (<b><a href="../man3/fflush.3.html">fflush</a></b>(3)) and when the stream is closed (<b><a href="../man3/fclose.3.html">fclose</a></b>(3)).  These values remain valid only as long as
       the  caller  performs  no  further output on the stream.  If further output is performed, then the stream
       must again be flushed before trying to access these values.

       A null byte is maintained at the end of the buffer.  This byte is <u>not</u> included in the size  value  stored
       at <u>sizeloc</u>.

       The stream maintains the notion of a current position, which is initially zero (the start of the buffer).
       Each  write  operation  implicitly  adjusts  the  buffer  position.   The stream's buffer position can be
       explicitly changed with <b><a href="../man3/fseek.3.html">fseek</a></b>(3) or <b><a href="../man3/fseeko.3.html">fseeko</a></b>(3).  Moving the buffer position  past  the  end  of  the  data
       already written fills the intervening space with null characters.

       The <b>open_wmemstream</b>() is similar to <b>open_memstream</b>(), but operates on wide characters instead of bytes.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon  successful  completion,  <b>open_memstream</b>()  and <b>open_wmemstream</b>() return a <u>FILE</u> pointer.  Otherwise,
       NULL is returned and <u>errno</u> is set to indicate the error.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       For an explanation of the terms used in this section, see <b><a href="../man7/attributes.7.html">attributes</a></b>(7).
       ┌─────────────────────────────────────────────────────────────────────────────┬───────────────┬─────────┐
       │ <b>Interface</b>                                                                   │ <b>Attribute</b>     │ <b>Value</b>   │
       ├─────────────────────────────────────────────────────────────────────────────┼───────────────┼─────────┤
       │ <b>open_memstream</b>(), <b>open_wmemstream</b>()                                         │ Thread safety │ MT-Safe │
       └─────────────────────────────────────────────────────────────────────────────┴───────────────┴─────────┘

</pre><h4><b>STANDARDS</b></h4><pre>
       POSIX.1-2008.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>open_memstream</b>()
              glibc 1.0.x.

       <b>open_wmemstream</b>()
              glibc 2.4.

</pre><h4><b>NOTES</b></h4><pre>
       There is no file descriptor associated with the file stream returned by these functions (i.e.,  <b><a href="../man3/fileno.3.html">fileno</a></b>(3)
       will return an error if called on the returned stream).

</pre><h4><b>BUGS</b></h4><pre>
       Before  glibc  2.7,  seeking  past  the  end of a stream created by <b>open_memstream</b>() does not enlarge the
       buffer; instead the <b><a href="../man3/fseek.3.html">fseek</a></b>(3) call fails, returning -1.

</pre><h4><b>EXAMPLES</b></h4><pre>
       See <b><a href="../man3/fmemopen.3.html">fmemopen</a></b>(3).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/fmemopen.3.html">fmemopen</a></b>(3), <b><a href="../man3/fopen.3.html">fopen</a></b>(3), <b><a href="../man3/setbuf.3.html">setbuf</a></b>(3)

Linux man-pages 6.9.1                              2024-05-02                                  <u><a href="../man3/open_memstream.3.html">open_memstream</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>