<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>adjtime - correct the time to synchronize the system clock</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       adjtime - correct the time to synchronize the system clock

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/time.h&gt;</b>

       <b>int</b> <b>adjtime(const</b> <b>struct</b> <b>timeval</b> <b>*</b><u>delta</u><b>,</b> <b>struct</b> <b>timeval</b> <b>*</b><u>olddelta</u><b>);</b>

   Feature Test Macro Requirements for glibc (see <b><a href="../man7/feature_test_macros.7.html">feature_test_macros</a></b>(7)):

       <b>adjtime</b>():
           Since glibc 2.19:
               _DEFAULT_SOURCE
           glibc 2.19 and earlier:
               _BSD_SOURCE

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>adjtime</b>()  function gradually adjusts the system clock (as returned by <b><a href="../man2/gettimeofday.2.html">gettimeofday</a></b>(2)).  The amount
       of time by which the clock is to be adjusted is specified in the structure pointed  to  by  <u>delta</u>.   This
       structure has the following form:

           struct timeval {
               time_t      tv_sec;     /* seconds */
               suseconds_t tv_usec;    /* microseconds */
           };

       If  the  adjustment  in  <u>delta</u>  is positive, then the system clock is speeded up by some small percentage
       (i.e., by adding a small amount of time to the clock value in each second) until the adjustment has  been
       completed.  If the adjustment in <u>delta</u> is negative, then the clock is slowed down in a similar fashion.

       If  a  clock  adjustment  from  an  earlier  <b>adjtime</b>() call is already in progress at the time of a later
       <b>adjtime</b>() call, and <u>delta</u> is not NULL for the later call, then the earlier adjustment is stopped, but any
       already completed part of that adjustment is not undone.

       If <u>olddelta</u> is not NULL, then the buffer that it points to is used to return the amount of time remaining
       from any previous adjustment that has not yet been completed.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, <b>adjtime</b>() returns 0.  On failure, -1 is returned, and <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>EINVAL</b> The adjustment in <u>delta</u> is outside the permitted range.

       <b>EPERM</b>  The caller does not have sufficient privilege to adjust the time.  Under Linux,  the  <b>CAP_SYS_TIME</b>
              capability is required.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       For an explanation of the terms used in this section, see <b><a href="../man7/attributes.7.html">attributes</a></b>(7).
       ┌─────────────────────────────────────────────────────────────────────────────┬───────────────┬─────────┐
       │ <b>Interface</b>                                                                   │ <b>Attribute</b>     │ <b>Value</b>   │
       ├─────────────────────────────────────────────────────────────────────────────┼───────────────┼─────────┤
       │ <b>adjtime</b>()                                                                   │ Thread safety │ MT-Safe │
       └─────────────────────────────────────────────────────────────────────────────┴───────────────┴─────────┘

</pre><h4><b>STANDARDS</b></h4><pre>
       None.

</pre><h4><b>HISTORY</b></h4><pre>
       4.3BSD, System V.

</pre><h4><b>NOTES</b></h4><pre>
       The adjustment that <b>adjtime</b>() makes to the clock is carried out in such a manner that the clock is always
       monotonically  increasing.  Using <b>adjtime</b>() to adjust the time prevents the problems that could be caused
       for certain applications (e.g., <b><a href="../man1/make.1.html">make</a></b>(1)) by abrupt positive or negative jumps in the system time.

       <b>adjtime</b>() is intended to be used to make small adjustments to the system time.   Most  systems  impose  a
       limit  on the adjustment that can be specified in <u>delta</u>.  In the glibc implementation, <u>delta</u> must be less
       than or equal to (INT_MAX / 1000000 -  2)  and  greater  than  or  equal  to  (INT_MIN  /  1000000  +  2)
       (respectively 2145 and -2145 seconds on i386).

</pre><h4><b>BUGS</b></h4><pre>
       A  longstanding bug meant that if <u>delta</u> was specified as NULL, no valid information about the outstanding
       clock adjustment  was  returned  in  <u>olddelta</u>.   (In  this  circumstance,  <b>adjtime</b>()  should  return  the
       outstanding clock adjustment, without changing it.)  This bug is fixed on systems with glibc 2.8 or later
       and Linux kernel 2.6.26 or later.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/adjtimex.2.html">adjtimex</a></b>(2), <b><a href="../man2/gettimeofday.2.html">gettimeofday</a></b>(2), <b><a href="../man7/time.7.html">time</a></b>(7)

Linux man-pages 6.9.1                              2024-05-02                                         <u><a href="../man3/adjtime.3.html">adjtime</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>