<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tzset, tzname, timezone, daylight - initialize time conversion information</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       tzset, tzname, timezone, daylight - initialize time conversion information

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/time.h">time.h</a>&gt;</b>

       <b>void</b> <b>tzset(void);</b>

       <b>extern</b> <b>char</b> <b>*</b><u>tzname</u><b>[2];</b>
       <b>extern</b> <b>long</b> <u>timezone</u><b>;</b>
       <b>extern</b> <b>int</b> <u>daylight</u><b>;</b>

   Feature Test Macro Requirements for glibc (see <b><a href="../man7/feature_test_macros.7.html">feature_test_macros</a></b>(7)):

       <b>tzset</b>():
           _POSIX_C_SOURCE

       <u>tzname</u>:
           _POSIX_C_SOURCE

       <u>timezone</u>, <u>daylight</u>:
           _XOPEN_SOURCE
               || /* glibc &gt;= 2.19: */ _DEFAULT_SOURCE
               || /* glibc &lt;= 2.19: */ _SVID_SOURCE

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>tzset</b>() function initializes the <u>tzname</u> variable from the <b>TZ</b> environment variable.  This function is
       automatically called by the other time conversion functions that depend on the timezone.  In a  System-V-
       like  environment,  it  will  also set the variables <u>timezone</u> (seconds West of UTC) and <u>daylight</u> (to 0 if
       this timezone does not have any daylight saving time rules, or to nonzero  if  there  is  a  time,  past,
       present, or future when daylight saving time applies).

       The <b>tzset</b>() function initializes these variables to unspecified values if this timezone is a geographical
       timezone like "America/New_York" (see below).

       If  the <b>TZ</b> variable does not appear in the environment, the system timezone is used.  The system timezone
       is configured by copying, or linking, a file in the  <b><a href="../man5/tzfile.5.html">tzfile</a></b>(5)  format  to  <u><a href="file:/etc/localtime">/etc/localtime</a></u>.   A  timezone
       database of these files may be located in the system timezone directory (see the <b>FILES</b> section below).

       If  the  <b>TZ</b>  variable  does  appear  in  the  environment, but its value is empty, or its value cannot be
       interpreted using any of the formats specified below, then Coordinated Universal Time (UTC) is used.

       A nonempty value of <b>TZ</b> can be one of two formats, either of which can be preceded by  a  colon  which  is
       ignored.  The first format is a string of characters that directly represent the timezone to be used:

           <u>std</u> <u>offset</u>[<u>dst</u>[<u>offset</u>][,<u>start</u>[<u>/time</u>],<u>end</u>[<u>/time</u>]]]

       There  are no spaces in the specification.  The <u>std</u> string specifies an abbreviation for the timezone and
       must be three or more alphabetic characters.  When enclosed between the less-than  (&lt;)  and  greater-than
       (&gt;)  signs,  the  character set is expanded to include the plus (+) sign, the minus (-) sign, and digits.
       The <u>offset</u> string immediately follows <u>std</u> and specifies the time value to be added to the local  time  to
       get  Coordinated Universal Time (UTC).  The <u>offset</u> is positive if the local timezone is west of the Prime
       Meridian and negative if it is east.  The hour must be between 0 and 24, and the minutes and  seconds  00
       and 59:

           [<u>+</u>|<u>-</u>]<u>hh</u>[<u>:mm</u>[<u>:ss</u>]]

       The <u>dst</u> string and <u>offset</u> specify the name and offset for the corresponding daylight saving timezone.  If
       the offset is omitted, it defaults to one hour ahead of standard time.

       The <u>start</u> field specifies when daylight saving time goes into effect and the <u>end</u> field specifies when the
       change is made back to standard time.  These fields may have the following formats:

       J<u>n</u>     This  specifies  the  Julian  day  with  <u>n</u> between 1 and 365.  Leap days are not counted.  In this
              format, February 29 can't be represented; February 28 is day 59, and March 1 is always day 60.

       <u>n</u>      This specifies the zero-based Julian day with <u>n</u> between 0 and 365.  February 29 is counted in leap
              years.

       M<u>m</u>.<u>w</u>.<u>d</u> This specifies day <u>d</u> (0 &lt;= <u>d</u> &lt;= 6) of week <u>w</u> (1 &lt;= <u>w</u> &lt;= 5) of month <u>m</u> (1 &lt;= <u>m</u> &lt;= 12).  Week  1  is
              the  first week in which day <u>d</u> occurs and week 5 is the last week in which day <u>d</u> occurs.  Day 0 is
              a Sunday.

       The <u>time</u> fields specify when, in the local time currently in effect, the change to the other time occurs.
       They use the same format as <u>offset</u> except that the hour can be in the  range  [<b>-167</b>,  <b>167</b>]  to  represent
       times before and after the named day.  If omitted, the default is 02:00:00.

       Here is an example for New Zealand, where the standard time (NZST) is 12 hours ahead of UTC, and daylight
       saving  time  (NZDT),  13  hours  ahead  of  UTC,  runs from September's last Sunday, at the default time
       02:00:00, to April's first Sunday at 03:00:00.

           TZ="NZST-12:00:00NZDT-13:00:00,M9.5.0,M4.1.0/3"

       The second —or "geographical"— format specifies that the timezone information should be read from a file:

           filespec

       The <u>filespec</u> specifies a <b><a href="../man5/tzfile.5.html">tzfile</a></b>(5)-format file to read the timezone information from.  If  <u>filespec</u>  does
       not  begin  with  a  '/',  the  file  specification is relative to the system timezone directory.  If the
       specified file cannot be read  or  interpreted,  Coordinated  Universal  Time  (UTC)  is  used;  however,
       applications  should not depend on random <u>filespec</u> values standing for UTC, as <b>TZ</b> formats may be extended
       in the future.

       Here's an example, once more for New Zealand:

           TZ="Pacific/Auckland"

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>TZ</b>     If this variable is set its value takes precedence over the system configured timezone.

       <b>TZDIR</b>  If this variable is set its value takes precedence over the system  configured  timezone  database
              directory path.

</pre><h4><b>FILES</b></h4><pre>
       <u><a href="file:/etc/localtime">/etc/localtime</a></u>
              The system timezone file.

       <u><a href="file:/usr/share/zoneinfo/">/usr/share/zoneinfo/</a></u>
              The system timezone database directory.

       <u><a href="file:/usr/share/zoneinfo/posixrules">/usr/share/zoneinfo/posixrules</a></u>
              When a TZ string includes a dst timezone without anything following it, then this file is used for
              the start/end rules.  It is in the <b><a href="../man5/tzfile.5.html">tzfile</a></b>(5) format.  By default, the zoneinfo Makefile hard links
              it to the <u>America/New_York</u> tzfile.

       Above are the current standard file locations, but they are configurable when glibc is compiled.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       For an explanation of the terms used in this section, see <b><a href="../man7/attributes.7.html">attributes</a></b>(7).
       ┌──────────────────────────────────────────────────────────────────┬───────────────┬────────────────────┐
       │ <b>Interface</b>                                                        │ <b>Attribute</b>     │ <b>Value</b>              │
       ├──────────────────────────────────────────────────────────────────┼───────────────┼────────────────────┤
       │ <b>tzset</b>()                                                          │ Thread safety │ MT-Safe env locale │
       └──────────────────────────────────────────────────────────────────┴───────────────┴────────────────────┘

</pre><h4><b>STANDARDS</b></h4><pre>
       POSIX.1-2024.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>tzset</b>()
       <u>tzname</u> POSIX.1-1988, SVr4, 4.3BSD.

       <u>timezone</u>
       <u>daylight</u>
              POSIX.1-2001 (XSI), SVr4, 4.3BSD.

       4.3BSD  had  a function <b>char</b> <b>*timezone(</b><u>zone</u><b>,</b> <u>dst</u><b>)</b> that returned the name of the timezone corresponding to
       its first argument (minutes West of UTC).  If the second argument was 0,  the  standard  name  was  used,
       otherwise the daylight saving time version.

</pre><h4><b>CAVEATS</b></h4><pre>
       Because  the  values of <u>tzname</u>, <u>timezone</u>, and <u>daylight</u> are often unspecified, and accessing them can lead
       to undefined behavior in multithreaded applications, code should instead  obtain  time  zone  offset  and
       abbreviations from the <u>tm_gmtoff</u> and <u>tm_zone</u> members of the broken-down time structure <b><a href="../man3type/tm.3type.html">tm</a></b>(3type).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/date.1.html">date</a></b>(1), <b><a href="../man2/gettimeofday.2.html">gettimeofday</a></b>(2), <b><a href="../man2/time.2.html">time</a></b>(2), <b><a href="../man3/ctime.3.html">ctime</a></b>(3), <b><a href="../man3/getenv.3.html">getenv</a></b>(3), <b><a href="../man5/tzfile.5.html">tzfile</a></b>(5)

Linux man-pages 6.9.1                              2024-06-12                                           <u><a href="../man3/tzset.3.html">tzset</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>