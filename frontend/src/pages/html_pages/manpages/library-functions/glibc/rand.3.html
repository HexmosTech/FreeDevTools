<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rand, rand_r, srand - pseudo-random number generator</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rand, rand_r, srand - pseudo-random number generator

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;</b>

       <b>int</b> <b>rand(void);</b>
       <b>void</b> <b>srand(unsigned</b> <b>int</b> <u>seed</u><b>);</b>

       <b>[[deprecated]]</b> <b>int</b> <b>rand_r(unsigned</b> <b>int</b> <b>*</b><u>seedp</u><b>);</b>

   Feature Test Macro Requirements for glibc (see <b><a href="../man7/feature_test_macros.7.html">feature_test_macros</a></b>(7)):

       <b>rand_r</b>():
           Since glibc 2.24:
               _POSIX_C_SOURCE &gt;= 199506L
           glibc 2.23 and earlier
               _POSIX_C_SOURCE

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>rand</b>()  function  returns  a  pseudo-random  integer in the range 0 to <b>RAND_MAX</b> inclusive (i.e., the
       mathematical range [0, <b>RAND_MAX</b>]).

       The <b>srand</b>() function sets its argument as the seed for a new sequence of  pseudo-random  integers  to  be
       returned by <b>rand</b>().  These sequences are repeatable by calling <b>srand</b>() with the same seed value.

       If no seed value is provided, the <b>rand</b>() function is automatically seeded with a value of 1.

       The  function  <b>rand</b>()  is  not reentrant, since it uses hidden state that is modified on each call.  This
       might just be the seed value to be used by the next call, or it might be something  more  elaborate.   In
       order  to get reproducible behavior in a threaded application, this state must be made explicit; this can
       be done using the reentrant function <b>rand_r</b>().

       Like <b>rand</b>(), <b>rand_r</b>() returns a pseudo-random integer in the range [0, <b>RAND_MAX</b>].  The <u>seedp</u> argument  is
       a  pointer  to an <u>unsigned</u> <u>int</u> that is used to store state between calls.  If <b>rand_r</b>() is called with the
       same initial value for the integer pointed to by <u>seedp</u>, and that value is  not  modified  between  calls,
       then the same pseudo-random sequence will result.

       The  value  pointed  to  by the <u>seedp</u> argument of <b>rand_r</b>() provides only a very small amount of state, so
       this function will be a weak pseudo-random generator.  Try <b><a href="../man3/drand48_r.3.html">drand48_r</a></b>(3) instead.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       The <b>rand</b>() and <b>rand_r</b>() functions return a  value  between  0  and  <b>RAND_MAX</b>  (inclusive).   The  <b>srand</b>()
       function returns no value.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       For an explanation of the terms used in this section, see <b><a href="../man7/attributes.7.html">attributes</a></b>(7).
       ┌─────────────────────────────────────────────────────────────────────────────┬───────────────┬─────────┐
       │ <b>Interface</b>                                                                   │ <b>Attribute</b>     │ <b>Value</b>   │
       ├─────────────────────────────────────────────────────────────────────────────┼───────────────┼─────────┤
       │ <b>rand</b>(), <b>rand_r</b>(), <b>srand</b>()                                                   │ Thread safety │ MT-Safe │
       └─────────────────────────────────────────────────────────────────────────────┴───────────────┴─────────┘

</pre><h4><b>VERSIONS</b></h4><pre>
       The  versions  of  <b>rand</b>()  and  <b>srand</b>()  in  the  Linux C Library use the same random number generator as
       <b><a href="../man3/random.3.html">random</a></b>(3) and <b><a href="../man3/srandom.3.html">srandom</a></b>(3), so the lower-order bits should be as random as the higher-order bits.  However,
       on older <b>rand</b>() implementations, and on current implementations on  different  systems,  the  lower-order
       bits  are much less random than the higher-order bits.  Do not use this function in applications intended
       to be portable when good randomness is needed.  (Use <b><a href="../man3/random.3.html">random</a></b>(3) instead.)

</pre><h4><b>STANDARDS</b></h4><pre>
       <b>rand</b>()
       <b>srand</b>()
              C11, POSIX.1-2008.

       <b>rand_r</b>()
              POSIX.1-2008.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>rand</b>()
       <b>srand</b>()
              SVr4, 4.3BSD, C89, POSIX.1-2001.

       <b>rand_r</b>()
              POSIX.1-2001.  Obsolete in POSIX.1-2008.

</pre><h4><b>EXAMPLES</b></h4><pre>
       POSIX.1-2001 gives the following example of an implementation of <b>rand</b>() and <b>srand</b>(), possibly useful when
       one needs the same sequence on two different machines.

           static unsigned long next = 1;

           /* RAND_MAX assumed to be 32767 */
           int myrand(void) {
               next = next * 1103515245 + 12345;
               return((unsigned)(next/65536) % 32768);
           }

           void mysrand(unsigned int seed) {
               next = seed;
           }

       The following program can be used to display the pseudo-random sequence produced by <b>rand</b>() when  given  a
       particular seed.  When the seed is <u>-1</u>, the program uses a random seed.

           #include &lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;
           #include &lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;

           int
           main(int argc, char *argv[])
           {
               int           r;
               unsigned int  seed, nloops;

               if (argc != 3) {
                   fprintf(stderr, "Usage: %s &lt;seed&gt; &lt;nloops&gt;\n", argv[0]);
                   exit(EXIT_FAILURE);
               }

               seed = atoi(argv[1]);
               nloops = atoi(argv[2]);

               if (seed == -1) {
                   seed = arc4random();
                   printf("seed: %u\n", seed);
               }

               srand(seed);
               for (unsigned int j = 0; j &lt; nloops; j++) {
                   r =  rand();
                   printf("%d\n", r);
               }

               exit(EXIT_SUCCESS);
           }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/drand48.3.html">drand48</a></b>(3), <b><a href="../man3/random.3.html">random</a></b>(3)

Linux man-pages 6.9.1                              2024-06-15                                            <u><a href="../man3/rand.3.html">rand</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>