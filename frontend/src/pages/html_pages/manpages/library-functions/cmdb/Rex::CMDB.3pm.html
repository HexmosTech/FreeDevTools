<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rex::CMDB - Function to access the CMDB (configuration management database)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/rex">rex_1.16.0-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Rex::CMDB - Function to access the CMDB (configuration management database)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module exports a function to access a CMDB via a common interface. When the 0.51 feature flag or
       later is used, the CMDB is enabled by default with Rex::CMDB::YAML as the default provider.

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use Rex::CMDB;

        set cmdb =&gt; {
          type           =&gt; 'YAML',
          path           =&gt; [ 'cmdb/{hostname}.yml', 'cmdb/default.yml', ],
          merge_behavior =&gt; 'LEFT_PRECEDENT',
        };

        task 'prepare', 'server1', sub {
          my %all_information          = get cmdb;
          my $specific_item            = get cmdb('item');
          my $specific_item_for_server = get cmdb( 'item', 'server' );
        };

</pre><h4><b>EXPORTED</b> <b>FUNCTIONS</b></h4><pre>
   <b>set</b> <b>cmdb</b>
        set cmdb =&gt; {
          type =&gt; 'YAML',
          %provider_options,
        };

       Instantiate a specific "type" of CMDB provider with the given options. Returns the provider instance.

       Please consult the documentation of the given provider for their supported options.

   <b>cmdb([$item,</b> <b>$server])</b>
       Function to query a CMDB.

       If called without arguments, it returns the full CMDB data structure for the current connection.

       If only a defined $item is passed, it returns only the value for the given CMDB item, for the current
       connection.

       If only a defined $server is passed, it returns the whole CMDB data structure for the given server.

       If both $item and $server are defined, it returns the given CMDB item for the given server.

       The value returned is a Rex::Value, so you may need to use the "get cmdb(...)" form if you'd like to
       assign the result to a Perl variable:

        task 'prepare', 'server1', sub {
          my %all_information          = get cmdb;
          my $specific_item            = get cmdb('item');
          my $specific_item_for_server = get cmdb( 'item', 'server' );
        };

       If caching is enabled, this function caches the full data structure for the given server under the
       "cmdb/$CMDB_PROVIDER/$server" cache key after the first query.

perl v5.40.0                                       2025-02-06                                     <u>Rex::<a href="../man3pm/CMDB.3pm.html">CMDB</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>