<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmiStart - establish a new LOGIMPORT context</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpcp3-dev">libpcp3-dev_6.3.8-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmiStart</b> - establish a new LOGIMPORT context

</pre><h4><b>C</b> <b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;pcp/pmapi.h&gt;</b>
       <b>#include</b> <b>&lt;pcp/import.h&gt;</b>

       <b>int</b> <b>pmiStart(const</b> <b>char</b> <b>*</b><u>archive</u><b>,</b> <b>int</b> <u>inherit</u><b>);</b>

       <b>cc</b> <b>...</b> <b>-lpcp_import</b> <b>-lpcp</b>

</pre><h4><b>Perl</b> <b>SYNOPSIS</b></h4><pre>
       <b>use</b> <b>PCP::LogImport;</b>

       <b>pmiStart($</b><u>archive</u><b>,</b> <b>$</b><u>inherit</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       As  part  of  the Performance Co-Pilot Log Import API (see <b><a href="../man3/LOGIMPORT.3.html">LOGIMPORT</a></b>(3)), <b>pmiStart</b> creates a new context.
       Each context maintains the following state and metadata:

       •  The base name (<u>archive</u>) for the physical  files that constitute the output PCP archive.

       •  The source hostname for the data that will be written to the PCP archive.  Defaults to the hostname of
          the localhost, but can be set using <b><a href="../man3/pmiSetHostname.3.html">pmiSetHostname</a></b>(3).

       •  The source timezone for the PCP archive.  Defaults to the timezone of the localhost, but  can  be  set
          using <b><a href="../man3/pmiSetTimezone.3.html">pmiSetTimezone</a></b>(3).

       •  The  output archive version number for the PCP archive.  Defaults to the traditional version 2 format,
          but can be set using <b><a href="../man3/pmiSetVersion.3.html">pmiSetVersion</a></b>(3).

       •  Metrics and instance domains, as defined by <b><a href="../man3/pmiAddMetric.3.html">pmiAddMetric</a></b>(3).

       •  Instances for each instance domain, as defined by <b><a href="../man3/pmiAddInstance.3.html">pmiAddInstance</a></b>(3).

       •  Handles as defined by <b><a href="../man3/pmiGetHandle.3.html">pmiGetHandle</a></b>(3).  Each handle  is  a  metric-instance  pair,  and  each  metric-
          instance pair may have an associated value in each record written to the output PCP archive.

       •  An  optional set of data values for one or more metric-instance pairs (ready for the next record to be
          written to the output PCP archive) as defined by calls to <b><a href="../man3/pmiPutValue.3.html">pmiPutValue</a></b>(3) or <b><a href="../man3/pmiPutValueHandle.3.html">pmiPutValueHandle</a></b>(3).

       If <u>inherit</u> is true, then the new context will inherit any and all metadata  (metrics,  instance  domains,
       instances  and  handles) from the current context, otherwise the new context is created with no metadata.
       The basename for the output PCP archive, the source hostname, the source timezone  and  any  data  values
       from  the  current context are <b>not</b> inherited.  If this is the first call to <b>pmiStart</b> the metadata will be
       empty independent of the value of <u>inherit</u>.

       Since no physical files for the output PCP archive will be created until the first call to <b><a href="../man3/pmiWrite.3.html">pmiWrite</a></b>(3) or
       <b><a href="../man3/pmiPutResult.3.html">pmiPutResult</a>(3),</b> <u>archive</u> could be NULL to create a convenience context that is populated with metadata to
       be inherited by subsequent contexts.

       The return value is a context identifier that could be used in a subsequent call to  <b><a href="../man3/pmUseContext.3.html">pmUseContext</a></b>(3)  and
       the  new context becomes the current context which persists for all subsequent calls up to either another
       <b>pmiStart</b> call or a call to <b><a href="../man3/pmiUseContext.3.html">pmiUseContext</a></b>(3) or a call to <b><a href="../man3/pmiEnd.3.html">pmiEnd</a></b>(3).

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       It is an error if the physical files <u>archive</u>.<b>0</b> and/or <u>archive</u>.<b>index</b> and/or  <u>archive</u>.<b>meta</b>  already  exist,
       but  this is not discovered until the first attempt is made to output some data by calling <b><a href="../man3/pmiWrite.3.html">pmiWrite</a></b>(3) or
       <b><a href="../man3/pmiPutResult.3.html">pmiPutResult</a>(3),</b> so <b>pmiStart</b> always returns a positive context identifier.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/LOGIMPORT.3.html">LOGIMPORT</a></b>(3), <b><a href="../man3/PMAPI.3.html">PMAPI</a></b>(3), <b><a href="../man3/pmiAddInstance.3.html">pmiAddInstance</a></b>(3),  <b><a href="../man3/pmiAddMetric.3.html">pmiAddMetric</a></b>(3),  <b><a href="../man3/pmiEnd.3.html">pmiEnd</a></b>(3),  <b><a href="../man3/pmiErrStr.3.html">pmiErrStr</a></b>(3),  <b><a href="../man3/pmiGetHandle.3.html">pmiGetHandle</a></b>(3),
       <b><a href="../man3/pmiPutLabel.3.html">pmiPutLabel</a></b>(3),  <b><a href="../man3/pmiPutResult.3.html">pmiPutResult</a></b>(3), <b><a href="../man3/pmiPutText.3.html">pmiPutText</a></b>(3), <b><a href="../man3/pmiPutValue.3.html">pmiPutValue</a></b>(3), <b><a href="../man3/pmiPutValueHandle.3.html">pmiPutValueHandle</a></b>(3), <b><a href="../man3/pmiSetHostname.3.html">pmiSetHostname</a></b>(3),
       <b><a href="../man3/pmiSetTimezone.3.html">pmiSetTimezone</a></b>(3), <b><a href="../man3/pmiSetVersion.3.html">pmiSetVersion</a></b>(3), <b><a href="../man3/pmiUseContext.3.html">pmiUseContext</a></b>(3) and <b><a href="../man3/pmiWrite.3.html">pmiWrite</a></b>(3).

Performance Co-Pilot                                                                                 <u><a href="../man3/PMISTART.3.html">PMISTART</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>