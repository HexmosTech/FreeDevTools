<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tss2_TctiLdr_Initialize, Tss2_TctiLdr_Initialize_Ex - Instantiate and initialize a TCTI context.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtss2-doc">libtss2-doc_4.1.3-1.2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tss2_TctiLdr_Initialize, Tss2_TctiLdr_Initialize_Ex - Instantiate and initialize a TCTI context.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;tss2/tss2_tctildr.h&gt;</b>

       <b>TSS2_RC</b> <b>Tss2_TctiLdr_Initialize</b> <b>(const</b> <b>char</b> <u>*nameConf</u><b>,</b> <b>TSS2_TCTI_CONTEXT</b> <u>**context</u><b>);</b>

       <b>TSS2_RC</b> <b>Tss2_TctiLdr_Initialize_Ex</b> <b>(const</b> <b>char</b> <u>*name</u><b>,</b> <b>const</b> <b>char</b> <u>*conf</u><b>,</b> <b>TSS2_TCTI_CONTEXT</b> <u>**context</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>Tss2_TctiLdr_Initialize</b>()  and <b>Tss2_TctiLdr_Initialize_Ex</b>() functions initialize a TCTI context used
       to communicate with the TPM2 or some intermediate component in the TCG TPM2 software stack.

       <b>Tss2_TctiLdr_Initialize</b>() takes a single string that encodes both the name of the TCTI library the caller
       wishes to instantiate and its desired configuration in the <u>nameConf</u>  parameter.   <u>nameConf</u>  is  a  string
       comprised  of  two substrings: <u>name</u> and <u>conf</u> parameters respectively.  These substrings are combined with
       <u>name</u> first, separated by a single ':' / colon character: 'name:conf'. Consult  the  section  titled  TCTI
       CONFIG  for  information  about the encoding of these strings.  The <u>context</u> parameter is used to return a
       reference to the TCTI context created by the function.

       <b>Tss2_TctiLdr_Initialize_Ex</b>() behaves identically  to  the  <b>Tss2_TctiLdr_Initialize</b>()  function  with  the
       exception  that  the  TCTI  name  and configuration are passed as separate strings. The encoding of these
       strings is described in section TCTI_CONFIG.

</pre><h4><b>TCTI</b> <b>CONFIG</b></h4><pre>
       If the <u>name</u> string is NULL or the emptry string then the initialization functions will select  a  default
       TCTI appropriate for the platform. On Linux this means first trying to load a library named <u>libtss2-tcti-</u>
       <u>default.so.</u>   This  is  a placeholder for distros to provide a distro specific default. It is recommended
       that this be a symlink to another installed TCTI library.  If attempts to load this shared  object  fails
       the implementation will attempt known TCTIs in the following order:

       • libtss2-tcti-tabrmd.so.0

       • libtss2-tcti-device.so.0

       • libtss2-tcti-mssim.so.0

       When  the  <u>name</u>  string  is neither NULL nor the empty string the implementation will attempt to <u>dlopen</u> a
       library with the given name. If this fails then the implementation assumes it has been passed a shortened
       name and will attempt to load libraries by name with the following permutations:

       • &lt;name&gt;

       • libtss2-tcti-&lt;name&gt;.so.0

       • libtss2-tcti-&lt;name&gt;.so

       The <u>config</u> string is not interpreted by the TctiLdr  init  functions  and  is  passed  unaltered  to  the
       initialization function for the selected TCTI. The format for this string is TCTI specific.

       The  <b>Tss2_TctiLdr_Initialize</b>  function is passed the <u>name</u> and <u>conf</u> strings as a single parameter. In this
       case the <u>name</u> and <u>conf</u> strings are concatinated with a single ':' / colon character separating them.

       For a more thorough discussion of the TCTILDR API see the “TCG TSS 2.0 TPM Command Transmission Interface
       (TCTI) API Specification”.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       A successful call to this function will return <b>TSS2_RC_SUCCESS.</b>  An  unsuccessful  call  will  produce  a
       response code described in section <b>ERRORS.</b>

</pre><h4><b>ERRORS</b></h4><pre>
       <b>TSS2_TCTI_RC_MEMORY</b> is returned if memory allocation fails

       <b>TSS2_TCTI_RC_NOT_SUPPORTED</b>  is  returned  when  the  loader  is  unable to locate a TCTI library with the
       provided <u>name</u>

       <b>TSS2_TCTI_RC_IO_ERROR</b> is returned if a failure occurs in the underlying library loading mechanism

       <b>TSS2_TCTI_RC_BAD_REFERENCE</b> is returned if the <u>tctiContext</u> parameter is NULL

</pre><h4><b>EXAMPLE</b></h4><pre>
       Example code.

       #include &lt;<a href="file:/usr/include/inttypes.h">inttypes.h</a>&gt;
       #include &lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;
       #include &lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;
       #include &lt;tss2/tss2_tctildr.h&gt;

       TSS2_TCTI_CONTEXT *ctx = NULL;
       TSS2_RC rc = Tss2_TctiLdr_Initialize (NULL, &amp;ctx);
       if (rc != TSS2_RC_SUCCESS) {
           fprintf (stderr, "Initialization of default TCTI context failed with "
                    "response code: 0x%" PRIx32 "0, rc);
           exit (EXIT_FAILURE);
       }
       exit (EXIT_SUCCESS);

</pre><h4><b>AUTHOR</b></h4><pre>
       TPM2 Software Project &lt;https://github.com/tpm2-software/tpm2-tss&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/Tss2_Tcti_Device_Init.3.html">Tss2_Tcti_Device_Init</a></b>(3), <b><a href="../man3/Tss2_Tcti_Socket_Init.3.html">Tss2_Tcti_Socket_Init</a></b>(3), <b><a href="../man3/Tss2_TctiLdr_Initialize.3.html">Tss2_TctiLdr_Initialize</a></b>(3), <b><a href="../man3/Tss2_TctiLdr_Finalize.3.html">Tss2_TctiLdr_Finalize</a></b>(3),
       <b><a href="../man7/tcti-device.7.html">tcti-device</a></b>(7), <b><a href="../man7/tcti-socket.7.html">tcti-socket</a></b>(7), <b><a href="../man7/tcti-tabrmd.7.html">tcti-tabrmd</a></b>(7), <b><a href="../man8/tpm2-abrmd.8.html">tpm2-abrmd</a></b>(8)

</pre><h4><b>COLOPHON</b></h4><pre>
       This page is part of release 4.1.3 of Open Source implementation of the TCG TPM2 Software Stack (TSS2). A
       description of the project, information about reporting bugs, and the latest version of this page can  be
       found at https://github.com/tpm2-software/tpm2-tss/.

TPM2 Software Stack                                MARCH 2019                         <u><a href="../man3/Tss2_TctiLdr_Initialize.3.html">Tss2_TctiLdr_Initialize</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>