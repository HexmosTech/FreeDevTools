<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pvm_newcontext,  pvm_setcontext,  pvm_freecontext,  pvm_getcontext - Request new context, change context,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/pvm-dev">pvm-dev_3.4.6-3.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pvm_newcontext,  pvm_setcontext,  pvm_freecontext,  pvm_getcontext - Request new context, change context,
       free existing context, and get current context, respectively.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>C</b>    <b>int</b> <b>ctx</b> <b>=</b> <b>pvm_newcontext(</b> <b>void</b> <b>)</b>
            <b>int</b> <b>old_ctx</b> <b>=</b> <b>pvm_setcontext(</b> <b>int</b> <b>new_ctx</b> <b>)</b>
            <b>int</b> <b>info</b> <b>=</b> <b>pvm_freecontext(</b> <b>ctx</b> <b>)</b>
            <b>int</b> <b>ctx</b> <b>=</b> <b>pvm_getcontext(</b> <b>void</b> <b>)</b>

       <b>Fortran</b>
            <b>call</b> <b>pvmfnewcontext(</b> <b>ctx</b> <b>)</b>
            <b>call</b> <b>pvmfsetcontext(</b> <b>new_ctx,</b> <b>old_ctx</b> <b>)</b>
            <b>call</b> <b>pvmffreecontext(</b> <b>ctx,</b> <b>info</b> <b>)</b>
            <b>call</b> <b>pvmfgetcontext(</b> <b>ctx</b> <b>)</b>

</pre><h4><b>PARAMETERS</b></h4><pre>
       ctx
              Context value.

       new_ctx
              New context value.

       old_ctx
              Prior context value.

       info
              Result code.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The context functions provide a system-wide unique context and the means to manipulate this context.

       Contexts provide the ability for communicating tasks  to  automatically  differentiate  messages  by  the
       context  in  which  they  were  sent.  Thus a message sent in context A by the sender must be received in
       context A by the recipient.  A sender may send in any context.  However, a recipient will  not  accept  a
       message sent in a context that differs from its own.

       One  such  use of contexts is with library routines.  Using contexts, library routine inter-communication
       may be logically seperated from  the  user's  application  inter-communication.  This  will  prevent  the
       inadvertent receipt of one another's messages.

       Spawned  tasks  inherit the spawn-time context of their parent.  Existing PVM applications work unchanged
       using the default context.

       pvm_newcontext returns a newly allocated context.  However, this new context is not yet active.

       pvm_setcontext changes the current context from <u>old_ctx</u> to <u>new_ctx</u>.

       pvm_freecontext frees <u>ctx</u> so that it may be  reused.   Contexts  are  a  system  resource  that  will  be
       exhausted if not recycled.

       pvm_getcontext returns the current context of the requesting task.

</pre><h4><b>EXAMPLES</b></h4><pre>
       /* parent task with context */
            int cc, context0, context1;
            char buf[25];

            context0 = pvm_getcontext();       /*  get my current context */
            context1 = pvm_newcontext();       /*  get a new context */
            pvm_setcontext(context1);          /*  set my context to new context */
            printf("My context is: %d", context1);
            pvm_spawn("child", (char**)0, PvmTaskDefault, "", 1, &amp;tid);
            cc = pvm_recv(-1, -1);             /*  receive message from child - in context1 */
            pvm_upkstr(buf);
            printf("%s", buf);
            pvm_setcontext(context0);          /*  reset my context to my original context0 */

       /* child task with context - child inherits parent's context as default */
            int context;
            int ptid;
            char buf[25];

            ptid = pvm_parent();
            context = pvm_getcontext();        /*  get my current context */
            sprintf(buf, "Greetings from child who's context is: %d.", context);
            pvm_initsend(PvmDataDefault);
            pvm_pkstr(buf);
            pvm_send(ptid, 1);

</pre><h4><b>ERRORS</b></h4><pre>
       Only system resource errors will be returned as the context programs themselves do not generate errors.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
                                                  8 April, 1997                                    <u><a href="../man3PVM/CONTEXT.3PVM.html">CONTEXT</a></u>(3PVM)
</pre>
 </div>
</div></section>
</div>
</body>
</html>