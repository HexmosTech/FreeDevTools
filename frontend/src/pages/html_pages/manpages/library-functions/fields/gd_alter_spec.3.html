<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gd_alter_spec, gd_malter_spec — modify a field in a Dirfile</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libgetdata-doc">libgetdata-doc_0.11.0-15_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gd_alter_spec, gd_malter_spec — modify a field in a Dirfile

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;getdata.h&gt;</b>

       <b>int</b> <b>gd_alter_spec(DIRFILE</b> <b>*</b><u>dirfile</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>line</u><b>,</b> <b>int</b> <u>recode</u><b>);</b>

       <b>int</b> <b>gd_malter_spec(DIRFILE</b> <b>*</b><u>dirfile</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>line</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>parent</u><b>,</b> <b>int</b> <u>recode</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>gd_alter_spec</b>() function modifies the field described by the field specification line in <u>line</u> to the
       dirfile specified by  <u>dirfile</u>.   The  <b>gd_malter_spec</b>()  function  behaves  similarly,  but  modifies  the
       metafield under the field indicated by the field code <u>parent</u>.  Field specification lines are described in
       detail in <a href="../man5/dirfile-format.5.html">dirfile-format</a>(5).

       The  name of the field to be modified, which must already exist, will be obtained from the field specifi‐
       cation line.  When adding a metafield, <u>line</u> should only contain a field specification, and  not  a  <b>/META</b>
       directive.

       If the modified field is of type <b>RAW</b> and the <u>recode</u> argument is non-zero, the binary file associated with
       the  field  will  be converted for changes in data type and samples-per-frame.  In this case, the field's
       I/O pointer will be reset to the beginning-of-frame.  If <u>recode</u> is zero, no binary file  conversion  will
       take place.

       If the modified field is of type <b>LINTERP</b> and the <u>recode</u> argument is non-zero, the look-up table file will
       be  moved  if  <u>line</u>  specifies  a  different path, overwriting an existing file with the new pathname, if
       present.  If the field specified by <u>field_code</u> is of type other than <b>RAW</b> or <b>LINTERP</b>, the <u>recode</u>  argument
       is ignored.

       Passing  these  functions  a directive line instead of a field specification line will result in a syntax
       error.  These functions never call the registered parser callback function, even if <u>line</u> contains a  syn‐
       tax error.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, <b>gd_alter_spec</b>() and <b>gd_malter_spec</b>() return zero.  On error, it returns a negative-valued er‐
       ror code.  Possible error codes are:

       <b>GD_E_ACCMODE</b>
               The specified dirfile was opened read-only.

       <b>GD_E_ALLOC</b>
               The library was unable to allocate memory.

       <b>GD_E_BAD_CODE</b>
               The field specified in <u>line</u> was not found, or the <u>parent</u> field code was not found.

       <b>GD_E_BAD_DIRFILE</b>
               The supplied dirfile was invalid.

       <b>GD_E_FORMAT</b>
               A syntax error was encountered in <u>line</u>.

       <b>GD_E_IO</b> An  I/O error occurred while translating the binary file associated with a modified <b>RAW</b> field, or
               an I/O error occurred while attempting to rename a <b>LINTERP</b> table file.

       <b>GD_E_LINE_TOO_LONG</b>
               The supplied <u>line</u> was longer than the parser was able to deal with.  Line lengths are limited  by
               the storage size of <b>size_t</b>.

       <b>GD_E_PROTECTED</b>
               The  metadata  of  the fragment was protected from change.  Or, a request to translate the binary
               file associated with a <b>RAW</b> field was attempted, but the data of the fragment was protected.

       <b>GD_E_UNKNOWN_ENCODING</b>
               The encoding scheme of the indicated format specification fragment is not known to  the  library.
               As  a  result,  the library was unable to translate the binary file be associated with a modified
               <b>RAW</b> field.

       <b>GD_E_UNSUPPORTED</b>
               The encoding scheme of the indicated format specification fragment does not  support  translating
               the empty binary file associated with a modified <b>RAW</b> field.

       The  error  code is also stored in the <b>DIRFILE</b> object and may be retrieved after this function returns by
       calling  <b><a href="../man3/gd_error.3.html">gd_error</a></b>(3).   A  descriptive  error  string  for  the  error  may  be   obtained   by   calling
       <b><a href="../man3/gd_error_string.3.html">gd_error_string</a></b>(3).

</pre><h4><b>HISTORY</b></h4><pre>
       The functions <b>dirfile_alter_spec</b>() and <b>dirfile_malter_spec</b>() appeared in GetData-0.5.0.

       In GetData-0.7.0, these functions were renamed to <b>gd_alter_spec</b>() and <b>gd_malter_spec.</b>()

       In GetData-0.10.0, the error return from these functions changed from -1 to a negative-valued error code.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Any  of  the  <b>gd_alter_</b>&lt;entry-type&gt;  functions  (e.g.,  <b><a href="../man3/gd_alter_bit.3.html">gd_alter_bit</a></b>(3)),  <b><a href="../man3/gd_alter_spec.3.html">gd_alter_spec</a></b>(3), <b><a href="../man3/gd_error.3.html">gd_error</a></b>(3),
       <b><a href="../man3/gd_error_string.3.html">gd_error_string</a></b>(3), <b><a href="../man3/gd_metaflush.3.html">gd_metaflush</a></b>(3), <b><a href="../man3/gd_open.3.html">gd_open</a></b>(3), <a href="../man5/dirfile-format.5.html">dirfile-format</a>(5)

Version 0.10.0                                  25 December 2016                                <u><a href="../man3/gd_alter_spec.3.html">gd_alter_spec</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>