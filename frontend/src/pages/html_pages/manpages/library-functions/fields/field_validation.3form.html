<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>form_field_validation - data type validation for fields</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ncurses-doc">ncurses-doc_6.5+20250216-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>form_field_validation</b> - data type validation for fields

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;form.h&gt;</b>

       <b>void</b> <b>*field_arg(const</b> <b>FIELD</b> <b>*</b><u>field</u><b>);</b>
       <b>FIELDTYPE</b> <b>*field_type(const</b> <b>FIELD</b> <b>*</b><u>field</u><b>);</b>
       <b>int</b> <b>set_field_type(FIELD</b> <b>*</b><u>field</u><b>,</b> <b>FIELDTYPE</b> <b>*</b><u>type</u><b>,</b> <b>...);</b>

       <u>/*</u> <u>predefined</u> <u>field</u> <u>types</u> <u>*/</u>
       <b>FIELDTYPE</b> <b>*TYPE_ALNUM;</b>
       <b>FIELDTYPE</b> <b>*TYPE_ALPHA;</b>
       <b>FIELDTYPE</b> <b>*TYPE_ENUM;</b>
       <b>FIELDTYPE</b> <b>*TYPE_INTEGER;</b>
       <b>FIELDTYPE</b> <b>*TYPE_NUMERIC;</b>
       <b>FIELDTYPE</b> <b>*TYPE_REGEXP;</b>
       <b>FIELDTYPE</b> <b>*TYPE_IPV4;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       By default, no validation is done on form fields.  You can associate a form with a <u>field</u> <u>type</u>, making the
       form library validate input.

   <b>field_arg</b>
       Returns  a pointer to the field's argument block.  The <u>argument</u> <u>block</u> is an opaque structure containing a
       copy of the arguments provided in a <b>set_field_type</b> call.

   <b>field_type</b>
       Returns a pointer to the <u>field</u> <u>type</u> associated with the form field, i.e., by calling <b>set_field_type</b>.

   <b>set_field_type</b>
       The function <b>set_field_type</b> associates a field type with a given form field.  This is the type checked by
       validation functions.  Most field types are configurable, via arguments which the  caller  provides  when
       calling <b>set_field_type</b>.

       Several field types are predefined by the form library.

</pre><h4><b>PREDEFINED</b> <b>TYPES</b></h4><pre>
       It  is  possible  to  set  up  new  programmer-defined  field types.  Field types are implemented via the
       <b>FIELDTYPE</b> data structure, which contains several pointers to functions.

       See the <b><a href="../man3FORM/fieldtype.3FORM.html">fieldtype</a></b>(3FORM) manual page, which describes functions which can be used to construct  a  field-
       type dynamically.

       The predefined types are as follows:

   <b>TYPE_ALNUM</b>
       Alphanumeric data.  Required parameter:

       •   a third <b>int</b> argument, a minimum field width.

   <b>TYPE_ALPHA</b>
       Character data.  Required parameter:

       •   a third <b>int</b> argument, a minimum field width.

   <b>TYPE_ENUM</b>
       Accept one of a specified set of strings.  Required parameters:

       •   a third <b>(char</b> <b>**)</b> argument pointing to a string list;

       •   a fourth <b>int</b> flag argument to enable case-sensitivity;

       •   a  fifth  <b>int</b> flag argument specifying whether a partial match must be a unique one.  If this flag is
           off, a prefix matches the first of any set of more than one list elements with that prefix.

       The library copies the string list, so you may use a list that lives in automatic variables on the stack.

   <b>TYPE_INTEGER</b>
       Integer data, parsable to an integer by <b><a href="../man3/atoi.3.html">atoi</a></b>(3).  Required parameters:

       •   a third <b>int</b> argument controlling the precision,

       •   a fourth <b>long</b> argument constraining minimum value,

       •   a fifth <b>long</b> constraining maximum value.  If the maximum value is less than or equal to  the  minimum
           value, the range is simply ignored.

       On  return,  the field buffer is formatted according to the <b>printf</b> format specification “.*ld”, where the
       “*” is replaced by the precision argument.

       For details of the precision handling see <b><a href="../man3/printf.3.html">printf</a></b>(3).

   <b>TYPE_NUMERIC</b>
       Numeric data (may have a decimal-point part).  Required parameters:

       •   a third <b>int</b> argument controlling the precision,

       •   a fourth <b>double</b> argument constraining minimum value,

       •   and a fifth <b>double</b> constraining maximum value.  If your system supports locales,  the  decimal  point
           character  must  be  the one specified by your locale.  If the maximum value is less than or equal to
           the minimum value, the range is simply ignored.

       On return, the field buffer is formatted according to the <b>printf</b> format specification  “.*f”,  where  the
       “*” is replaced by the precision argument.

       For details of the precision handling see <b><a href="../man3/printf.3.html">printf</a></b>(3).

   <b>TYPE_REGEXP</b>
       Regular expression data.  Required parameter:

       •   a  third argument, a regular expression <b>(char</b> <b>*)</b> string.  The data is valid if the regular expression
           matches it.

       Regular expressions are in the format of <b>regcomp</b> and <b>regexec</b>.

       The regular expression must match the whole field.  If you have for  example,  an  eight  character  wide
       field,  a  regular  expression  "^[0-9]*$"  always  means  that you have to fill all eight positions with
       digits.  If you want to allow fewer digits, you may use for  example  "^[0-9]*  *$"  which  is  good  for
       trailing  spaces  (up to an empty field), or "^ *[0-9]* *$" which is good for leading and trailing spaces
       around the digits.

   <b>TYPE_IPV4</b>
       An Internet Protocol Version 4 address.  Required parameter:

       •   none

       The form library checks whether or not the buffer has the form <u>a.b.c.d</u>, where <u>a</u>, <u>b</u>, <u>c</u>, and <u>d</u> are  numbers
       in the range 0 to 255.  Trailing blanks in the buffer are ignored.  The address itself is not validated.

       This is an <u>ncurses</u> extension; this field type may not be available in other curses implementations.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       The  functions <b>field_type</b> and <b>field_arg</b> return <u>NULL</u> on error.  The function <b>set_field_type</b> returns one of
       the following:

       <b>E_OK</b> The routine succeeded.

       <b>E_SYSTEM_ERROR</b>
            System error occurred (see <b><a href="../man3/errno.3.html">errno</a></b>(3)).

</pre><h4><b>PORTABILITY</b></h4><pre>
       These routines emulate the System V forms library.  They were not supported on Version 7 or BSD versions.

</pre><h4><b>AUTHORS</b></h4><pre>
       Juergen Pfeifer.  Manual pages and adaptation for new curses by Eric S. Raymond.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3NCURSES/ncurses.3NCURSES.html">ncurses</a></b>(3NCURSES), <b><a href="../man3FORM/form.3FORM.html">form</a></b>(3FORM), <b><a href="../man3FORM/fieldtype.3FORM.html">fieldtype</a></b>(3FORM), <b><a href="../man3FORM/form_variables.3FORM.html">form_variables</a></b>(3FORM)

ncurses 6.5                                        2025-02-15                            <u><a href="../man3FORM/field_validation.3FORM.html">field_validation</a></u>(3FORM)
</pre>
 </div>
</div></section>
</div>
</body>
</html>