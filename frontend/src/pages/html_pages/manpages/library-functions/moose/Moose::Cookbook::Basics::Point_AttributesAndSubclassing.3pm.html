<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moose::Cookbook::Basics::Point_AttributesAndSubclassing - Point and Point3D classes, showing basic</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmoose-perl">libmoose-perl_2.2207-1build3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Moose::Cookbook::Basics::Point_AttributesAndSubclassing - Point and Point3D classes, showing basic
       attributes and subclassing.

</pre><h4><b>VERSION</b></h4><pre>
       version 2.2207

</pre><h4><b>SYNOPSIS</b></h4><pre>
         package Point;
         use Moose;

         has 'x' =&gt; (isa =&gt; 'Int', is =&gt; 'rw', required =&gt; 1);
         has 'y' =&gt; (isa =&gt; 'Int', is =&gt; 'rw', required =&gt; 1);

         sub clear {
             my $self = shift;
             $self-&gt;<a href="../man0/x.0.html">x</a>(0);
             $self-&gt;<a href="../man0/y.0.html">y</a>(0);
         }

         package Point3D;
         use Moose;

         extends 'Point';

         has 'z' =&gt; (isa =&gt; 'Int', is =&gt; 'rw', required =&gt; 1);

         after 'clear' =&gt; sub {
             my $self = shift;
             $self-&gt;<a href="../man0/z.0.html">z</a>(0);
         };

         package main;

         # hash or hashrefs are ok for the constructor
         my $point1 = Point-&gt;new(x =&gt; 5, y =&gt; 7);
         my $point2 = Point-&gt;new({x =&gt; 5, y =&gt; 7});

         my $point3d = Point3D-&gt;new(x =&gt; 5, y =&gt; 42, z =&gt; -5);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This is the classic Point example. It is taken directly from the Perl 6 Apocalypse 12 document, and is
       similar to the example found in the classic K&amp;R C book as well.

       As with all Perl 5 classes, a Moose class is defined in a package.  Moose handles turning on "strict" and
       "warnings" for us, so all we need to do is say "use Moose", and no kittens will die.

       When Moose is loaded, it exports a set of sugar functions into our package. This means that we import
       some functions which serve as Moose "keywords". These aren't real language keywords, they're just Perl
       functions exported into our package.

       Moose automatically makes our package a subclass of Moose::Object.  The Moose::Object class provides us
       with a constructor that respects our attributes, as well other features. See Moose::Object for details.

       Now, onto the keywords. The first one we see here is "has", which defines an instance attribute in our
       class:

         has 'x' =&gt; (isa =&gt; 'Int', is =&gt; 'rw', required =&gt; 1);

       This will create an attribute named "x". The "isa" parameter says that we expect the value stored in this
       attribute to pass the type constraint for "Int" (1). The accessor generated for this attribute will be
       read-write.

       The "required =&gt; 1" parameter means that this attribute must be provided when a new object is created. A
       point object without coordinates doesn't make much sense, so we don't allow it.

       We have defined our attributes; next we define our methods. In Moose, as with regular Perl 5 OO, a method
       is just a subroutine defined within the package:

         sub clear {
             my $self = shift;
             $self-&gt;<a href="../man0/x.0.html">x</a>(0);
             $self-&gt;<a href="../man0/y.0.html">y</a>(0);
         }

       That concludes the <b>Point</b> class.

       Next we have a subclass of <b>Point</b>, <b>Point3D</b>. To declare our superclass, we use the Moose keyword "extends":

         extends 'Point';

       The "extends" keyword works much like "use base"/"use parent". First, it will attempt to load your class
       if needed. However, unlike "base", the "extends" keyword will <u>overwrite</u> any previous values in your
       package's @ISA, where "use base" will "push" values onto the package's @ISA.

       It is my opinion that the behavior of "extends" is more intuitive.  (2).

       Next we create a new attribute for <b>Point3D</b> called "z".

         has 'z' =&gt; (isa =&gt; 'Int', is =&gt; 'rw', required =&gt; 1);

       This attribute is just like <b>Point</b>'s "x" and "y" attributes.

       The "after" keyword demonstrates a Moose feature called "method modifiers" (or "advice" for the AOP
       inclined):

         after 'clear' =&gt; sub {
             my $self = shift;
             $self-&gt;<a href="../man0/z.0.html">z</a>(0);
         };

       When "clear" is called on a <b>Point3D</b> object, our modifier method gets called as well. Unsurprisingly, the
       modifier is called <u>after</u> the real method.

       In this case, the real "clear" method is inherited from <b>Point</b>. Our modifier method receives the same
       arguments as those passed to the modified method (just $self here).

       Of course, using the "after" modifier is not the only way to accomplish this. This <b>is</b> Perl, right? You
       can get the same results with this code:

         sub clear {
             my $self = shift;
             $self-&gt;SUPER::clear();
             $self-&gt;<a href="../man0/z.0.html">z</a>(0);
         }

       You could also use another Moose method modifier, "override":

         override 'clear' =&gt; sub {
             my $self = shift;
             super();
             $self-&gt;<a href="../man0/z.0.html">z</a>(0);
         };

       The "override" modifier allows you to use the "super" keyword to dispatch to the superclass's method in a
       very Ruby-ish style.

       The choice of whether to use a method modifier, and which one to use, is often a question of style as
       much as functionality.

       Since <b>Point</b> inherits from Moose::Object, it will also inherit the default Moose::Object constructor:

         my $point1 = Point-&gt;new(x =&gt; 5, y =&gt; 7);
         my $point2 = Point-&gt;new({x =&gt; 5, y =&gt; 7});

         my $point3d = Point3D-&gt;new(x =&gt; 5, y =&gt; 42, z =&gt; -5);

       The "new" constructor accepts a named argument pair for each attribute defined by the class, which you
       can provide as a hash or hash reference. In this particular example, the attributes are required, and
       calling "new" without them will throw an error.

         my $point = Point-&gt;new( x =&gt; 5 ); # no y, kaboom!

       From here on, we can use $point and $point3d just as you would any other Perl 5 object. For a more
       detailed example of what can be done, you can refer to the
       <u>t/recipes/basics_point_attributesandsubclassing.t</u> test file.

   <b>Moose</b> <b>Objects</b> <b>are</b> <b>Just</b> <b>Hashrefs</b>
       While this all may appear rather magical, it's important to realize that Moose objects are just hash
       references under the hood (3). For example, you could pass $self to "Data::Dumper" and you'd get exactly
       what you'd expect.

       You could even poke around inside the object's data structure, but that is strongly discouraged.

       The fact that Moose objects are hashrefs means it is easy to use Moose to extend non-Moose classes, as
       long as they too are hash references. If you want to extend a non-hashref class, check out
       "MooseX::InsideOut".

</pre><h4><b>CONCLUSION</b></h4><pre>
       This recipe demonstrates some basic Moose concepts, attributes, subclassing, and a simple method
       modifier.

</pre><h4><b>FOOTNOTES</b></h4><pre>
       (1) Moose  provides  a number of builtin type constraints, of which "Int" is one. For more information on
           the type constraint system, see Moose::Util::TypeConstraints.

       (2) The "extends" keyword supports  multiple  inheritance.  Simply  pass  all  of  your  superclasses  to
           "extends" as a list:

             extends 'Foo', 'Bar', 'Baz';

       (3) Moose  supports using instance structures other than blessed hash references (such as glob references
           - see MooseX::GlobRef).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Method Modifiers
           The concept of method modifiers is directly ripped off from CLOS. A great explanation of them can  be
           found by following this link.

           &lt;<a href="http://www.gigamonkeys.com/book/object-reorientation-generic-functions.html">http://www.gigamonkeys.com/book/object-reorientation-generic-functions.html</a>&gt;

</pre><h4><b>AUTHORS</b></h4><pre>
       •   Stevan Little &lt;<a href="mailto:stevan@cpan.org">stevan@cpan.org</a>&gt;

       •   Dave Rolsky &lt;<a href="mailto:autarch@urth.org">autarch@urth.org</a>&gt;

       •   Jesse Luehrs &lt;<a href="mailto:doy@cpan.org">doy@cpan.org</a>&gt;

       •   Shawn M Moore &lt;<a href="mailto:sartak@cpan.org">sartak@cpan.org</a>&gt;

       •   יובל קוג'מן (Yuval Kogman) &lt;<a href="mailto:nothingmuch@woobling.org">nothingmuch@woobling.org</a>&gt;

       •   Karen Etheridge &lt;<a href="mailto:ether@cpan.org">ether@cpan.org</a>&gt;

       •   Florian Ragwitz &lt;<a href="mailto:rafl@debian.org">rafl@debian.org</a>&gt;

       •   Hans Dieter Pearcey &lt;<a href="mailto:hdp@cpan.org">hdp@cpan.org</a>&gt;

       •   Chris Prather &lt;<a href="mailto:chris@prather.org">chris@prather.org</a>&gt;

       •   Matt S Trout &lt;<a href="mailto:mstrout@cpan.org">mstrout@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2006 by Infinity Interactive, Inc.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.40.0                                       2024-10-20              <u>Moose::<a href="../man3pm/Cookboo...sAndSubclassing.3pm.html">Cookboo...sAndSubclassing</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>