<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moose::Cookbook::Meta::Table_MetaclassTrait - Adding a "table" attribute as a metaclass trait</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmoose-perl">libmoose-perl_2.2207-1build3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Moose::Cookbook::Meta::Table_MetaclassTrait - Adding a "table" attribute as a metaclass trait

</pre><h4><b>VERSION</b></h4><pre>
       version 2.2207

</pre><h4><b>SYNOPSIS</b></h4><pre>
         # in lib/MyApp/Meta/Class/Trait/HasTable.pm
         package MyApp::Meta::Class::Trait::HasTable;
         use Moose::Role;
         Moose::Util::meta_class_alias('HasTable');

         has table =&gt; (
             is  =&gt; 'rw',
             isa =&gt; 'Str',
         );

         # in lib/MyApp/User.pm
         package MyApp::User;
         use Moose -traits =&gt; 'HasTable';

         __PACKAGE__-&gt;meta-&gt;table('User');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       In this recipe, we'll create a class metaclass trait which has a "table" attribute. This trait is for
       classes associated with a DBMS table, as one might do for an ORM.

       In this example, the table name is just a string, but in a real ORM the table might be an object
       describing the table.

</pre><h4><b>THE</b> <b>METACLASS</b> <b>TRAIT</b></h4><pre>
       This really is as simple as the recipe "SYNOPSIS" shows. The trick is getting your classes to use this
       metaclass, and providing some sort of sugar for declaring the table. This is covered in
       Moose::Cookbook::Extending::Debugging_BaseClassRole, which shows how to make a module like "Moose.pm"
       itself, with sugar like has_table().

   <b>Using</b> <b>this</b> <b>Metaclass</b> <b>Trait</b> <b>in</b> <b>Practice</b>
       Accessing this new "table" attribute is quite simple. Given a class named "MyApp::User", we could simply
       write the following:

         my $table = MyApp::User-&gt;meta-&gt;table;

       As long as "MyApp::User" has arranged to apply the "MyApp::Meta::Class::Trait::HasTable" to its
       metaclass, this method call just works. If we want to be more careful, we can check that the class
       metaclass object has a "table" method:

         $table = MyApp::User-&gt;meta-&gt;table
             if MyApp::User-&gt;meta-&gt;can('table');

       In theory, this is not entirely correct, since the metaclass might be getting its "table" method from a
       <u>different</u> trait. In practice, you are unlikely to encounter this sort of problem.

</pre><h4><b>RECIPE</b> <b>CAVEAT</b></h4><pre>
       This recipe doesn't work when you paste it all into a single file. This is because the "use Moose -traits
       =&gt; 'HasTable';" line ends up being executed before the "table" attribute is defined.

       When the two packages are separate files, this just works.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Moose::Cookbook::Meta::Labeled_AttributeTrait - Labels implemented via attribute traits =pod

</pre><h4><b>AUTHORS</b></h4><pre>
       •   Stevan Little &lt;<a href="mailto:stevan@cpan.org">stevan@cpan.org</a>&gt;

       •   Dave Rolsky &lt;<a href="mailto:autarch@urth.org">autarch@urth.org</a>&gt;

       •   Jesse Luehrs &lt;<a href="mailto:doy@cpan.org">doy@cpan.org</a>&gt;

       •   Shawn M Moore &lt;<a href="mailto:sartak@cpan.org">sartak@cpan.org</a>&gt;

       •   יובל קוג'מן (Yuval Kogman) &lt;<a href="mailto:nothingmuch@woobling.org">nothingmuch@woobling.org</a>&gt;

       •   Karen Etheridge &lt;<a href="mailto:ether@cpan.org">ether@cpan.org</a>&gt;

       •   Florian Ragwitz &lt;<a href="mailto:rafl@debian.org">rafl@debian.org</a>&gt;

       •   Hans Dieter Pearcey &lt;<a href="mailto:hdp@cpan.org">hdp@cpan.org</a>&gt;

       •   Chris Prather &lt;<a href="mailto:chris@prather.org">chris@prather.org</a>&gt;

       •   Matt S Trout &lt;<a href="mailto:mstrout@cpan.org">mstrout@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2006 by Infinity Interactive, Inc.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.40.0                                       2024-10-20              <u>Moose::<a href="../man3pm/Cookboo..._MetaclassTrait.3pm.html">Cookboo..._MetaclassTrait</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>