<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test::Moose::More - More tools for testing Moose packages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtest-moose-more-perl">libtest-moose-more-perl_0.050-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Test::Moose::More - More tools for testing Moose packages

</pre><h4><b>VERSION</b></h4><pre>
       This document describes version 0.050 of Test::Moose::More - released September 20, 2017 as part of Test-
       Moose-More.

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Test::Moose::More;

           is_class_ok 'Some::Class';
           is_role_ok  'Some::Role';
           has_method_ok 'Some::Class', 'foo';

           # ... etc

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This package contains a number of additional tests that can be employed against Moose classes/roles.  It
       is intended to replace Test::Moose in your tests, and re-exports any tests that it has and we do not,
       yet.

   <b>Export</b> <b>Groups</b>
       By default, this package exports all test functions.  You can be more selective, however, and there are a
       number of export groups (aside from the default ":all") to help you achieve those dreams!

       :all
           All exportable functions.

       :validate
           "validate_attribute", "validate_class", "validate_role", "validate_thing"

</pre><h4><b>TEST</b> <b>FUNCTIONS</b></h4><pre>
   <b>meta_ok</b> <b>$thing</b>
       Tests $thing to see if it has a metaclass; $thing may be the class name or instance of the class you wish
       to check.  Passes if $thing has a metaclass.

   <b>no_meta_ok</b> <b>$thing</b>
       Tests  $thing  to  see  if  it does not have a metaclass; $thing may be the class name or instance of the
       class you wish to check.  Passes if $thing does not have a metaclass.

   <b>does_ok</b> <b>$thing,</b> <b>&lt;</b> <b>$role</b> <b>|</b> <b>\@roles</b> <b>&gt;,</b> <b>[</b> <b>$message</b> <b>]</b>
       Checks to see if $thing does the given roles.  $thing may be the class name or instance of the class  you
       wish to check.

       Note  that the message will be taken verbatim unless it contains %s somewhere; this will be replaced with
       the name of the role being tested for.

   <b>does_not_ok</b> <b>$thing,</b> <b>&lt;</b> <b>$role</b> <b>|</b> <b>\@roles</b> <b>&gt;,</b> <b>[</b> <b>$message</b> <b>]</b>
       Checks to see if $thing does not do the given roles.  $thing may be the class name  or  instance  of  the
       class you wish to check.

       Note  that the message will be taken verbatim unless it contains %s somewhere; this will be replaced with
       the name of the role being tested for.

   <b>has_attribute_ok</b> <b>$thing,</b> <b>$attribute_name,</b> <b>[</b> <b>$message</b> <b>]</b>
       Checks $thing for an attribute named $attribute_name; $thing may be a class name, instance, or role name.

   <b>has_method_ok</b> <b>$thing,</b> <b>@methods</b>
       Queries $thing's metaclass to see if $thing has the methods named in @methods.

       Note: This does <b>not</b> include inherited methods; see "has_method" in Class::MOP::Class.

   <b>has_no_method_ok</b> <b>$thing,</b> <b>@methods</b>
       Queries $thing's metaclass to ensure $thing does not provide the methods named in @methods.

       Note: This does <b>not</b> include inherited methods; see "has_method" in Class::MOP::Class.

   <b>has_method_from_anywhere_ok</b> <b>$thing,</b> <b>@methods</b>
       Queries $thing's metaclass to see if $thing has the methods named in @methods.

       Note: This <b>does</b> include inherited methods; see "find_method_by_name" in Class::MOP::Class.

   <b>has_no_method_from_anywhere_ok</b> <b>$thing,</b> <b>@methods</b>
       Queries $thing's metaclass to ensure $thing does not provide the methods named in @methods.

       Note: This <b>does</b> include inherited methods; see "find_method_by_name" in Class::MOP::Class.

   <b>method_from_pkg_ok</b> <b>$thing,</b> <b>$method,</b> <b>$orig_pkg</b>
       Given a thing (role, class, etc) and a method, test that it originally came from $orig_pkg.

   <b>method_not_from_pkg_ok</b> <b>$thing,</b> <b>$method,</b> <b>$orig_pkg</b>
       Given a thing (role, class, etc) and a method, test that it did not come from $orig_pkg.

   <b>method_is_accessor_ok</b> <b>$thing,</b> <b>$method</b>
       Given a thing (role, class, etc) and a method, test that the  method  is  an  accessor  --  that  is,  it
       descends from Class::MOP::Method::Accessor.

   <b>method_is_not_accessor_ok</b> <b>$thing,</b> <b>$method</b>
       Given  a  thing  (role,  class, etc) and a method, test that the method is <b>not</b> an accessor -- that is, it
       does not descend from Class::MOP::Method::Accessor.

   <b>definition_context_ok</b> <b>$meta,</b> <b>\%dc</b>
       Validates the definition context of a metaclass instance.  This is a strict comparison.

   <b>role_wraps_around_method_ok</b> <b>$role,</b> <b>@methods</b>
       Queries $role's metaclass to see if $role wraps the methods named  in  @methods  with  an  around  method
       modifier.

   <b>role_wraps_before_method_ok</b> <b>$role,</b> <b>@methods</b>
       Queries  $role's  metaclass  to  see  if  $role wraps the methods named in @methods with an before method
       modifier.

   <b>role_wraps_after_method_ok</b> <b>$role,</b> <b>@methods</b>
       Queries $role's metaclass to see if $role wraps the methods  named  in  @methods  with  an  after  method
       modifier.

   <b>requires_method_ok</b> <b>$thing,</b> <b>@methods</b>
       Queries $thing's metaclass to see if $thing requires the methods named in @methods.

       Note that this really only makes sense if $thing is a role.

   <b>does_not_require_method_ok</b> <b>$thing,</b> <b>@methods</b>
       Queries $thing's metaclass to ensure $thing does not require the methods named in @methods.

       Note that this really only makes sense if $thing is a role.

   <b>is_immutable_ok</b> <b>$thing</b>
       Passes if $thing is immutable.

   <b>is_not_immutable_ok</b> <b>$thing</b>
       Passes if $thing is not immutable; that is, is mutable.

   <b>is_pristine_ok</b> <b>$thing</b>
       Passes if $thing is pristine.  See "is_pristine" in Class::MOP::Class.

   <b>is_not_pristine_ok</b> <b>$thing</b>
       Passes if $thing is not pristine.  See "is_pristine" in Class::MOP::Class.

   <b>is_role_ok</b> <b>$thing</b>
       Passes if "$thing's" metaclass is a Moose::Meta::Role.

   <b>is_class_ok</b> <b>$thing</b>
       Passes if "$thing's" metaclass is a Moose::Meta::Class.

   <b>is_anon_ok</b> <b>$thing</b>
       Passes if $thing is "anonymous".

   <b>is_not_anon_ok</b> <b>$thing</b>
       Passes if $thing is not "anonymous".

   <b>check_sugar_removed_ok</b> <b>$thing</b>
       Ensures that all the standard Moose sugar is no longer directly callable on a given package.

   <b>check_sugar_ok</b> <b>$thing</b>
       Checks and makes sure a class/etc can still do all the standard Moose sugar.

   <b>does_metaroles_ok</b> <b>$thing</b> <b>=&gt;</b> <b>{</b> <b>$mop</b> <b>=&gt;</b> <b>[</b> <b>@traits</b> <b>],</b> <b>...</b> <b>};</b>
       Validate the metaclasses associated with a class/role metaclass.

       e.g.,  if  I  wanted  to  validate  that  the  attribute trait for MooseX::AttributeShortcuts is actually
       applied, I could do this:

           { package TestClass; use Moose; use MooseX::AttributeShortcuts; }
           use Test::Moose::More;
           use Test::More;

           does_metaroles_ok TestClass =&gt; {
              attribute =&gt; ['MooseX::AttributeShortcuts::Trait::Attribute'],
           };
           done_testing;

       This function will accept either class or role metaclasses for $thing.

       The MOPs available for classes (Moose::Meta::Class) are:

       class
       attribute
       method
       wrapped_method
       instance
       constructor
       destructor

       The MOPs available for roles (Moose::Meta::Role) are:

       role
       attribute
       method
       required_method
       wrapped_method
       conflicting_method
       application_to_class
       application_to_role
       application_to_instance
       applied_attribute

       Note!  Neither this function nor "does_not_metaroles_ok()" attempts to validate that the MOP type  passed
       in  is a member of the above lists.  There's no gain here in implementing such a check, and a negative to
       be had: specifying an invalid MOP type will result in immediate explosions, while it's entirely  possible
       other  MOP types will be added (either to core, via traits, or "let's subclass Moose::Meta::Class/etc and
       implement something new").

   <b>does_not_metaroles_ok</b> <b>$thing</b> <b>=&gt;</b> <b>{</b> <b>$mop</b> <b>=&gt;</b> <b>[</b> <b>@traits</b> <b>],</b> <b>...</b> <b>};</b>
       As with "does_metaroles_ok", but test that the metaroles are not consumed, a la "does_not_ok".

   <b>attribute_options_ok</b>
       Validates that an attribute is set up as expected; like "validate_attribute()", but only concerns  itself
       with attribute options.

       Note that some of these options will skip if used against attributes defined in a role.

       â€¢   "-subtest =&gt; 'subtest name...'"

           If  set,  all  tests  run  (save the first, "does this thing even have this attribute?" test) will be
           wrapped in a subtest, the name of which will be whatever "-subtest" is set to.

       â€¢   "is =&gt; ro|rw"

           Tests for reader/writer options set as one would expect.

       â€¢   "isa =&gt; ..."

           Validates that the attribute requires its value to be a given type.

       â€¢   "does =&gt; ..."

           Validates that the attribute requires its value to do a given role.

       â€¢   "builder =&gt; '...'"

           Validates that the attribute expects the method name given to be its builder.

       â€¢   "default =&gt; ..."

           Validates that the attribute has the given default.

       â€¢   "init_arg =&gt; '...'"

           Validates that the attribute has the given initial argument name.

       â€¢   "lazy =&gt; 0|1"

           Validates that the attribute is/isn't lazy.

       â€¢   "required =&gt; 0|1"

           Validates that setting the attribute's value is/isn't required.

</pre><h4><b>VALIDATION</b> <b>METHODS</b></h4><pre>
   <b>validate_thing</b>
       Runs a bunch of tests against the given $thing, as defined:

           validate_thing $thing =&gt; (

               attributes =&gt; [ ... ],
               methods    =&gt; [ ... ],
               isa        =&gt; [ ... ],

               # ensures sugar is/is-not present
               sugar      =&gt; 0,

               # ensures $thing does these roles
               does       =&gt; [ ... ],

               # ensures $thing does not do these roles
               does_not   =&gt; [ ... ],
           );

       $thing can be the name of a role or class, an object instance, or a metaclass.

       â€¢   "-subtest =&gt; 'subtest name...'"

           If set, all tests run will be wrapped in a subtest, the name of which will be whatever "-subtest"  is
           set to.

       â€¢   "isa =&gt; [ ... ]"

           A list of superclasses thing should have.

       â€¢   "anonymous =&gt; 0|1"

           Check to see if the class is/isn't anonymous.

       â€¢   "does =&gt; [ ... ]"

           A list of roles the thing should do.

       â€¢   "does_not =&gt; [ ... ]"

           A list of roles the thing should not do.

       â€¢   "attributes =&gt; [ ... ]"

           The  attributes  list specified here is in the form of a list of names, each optionally followed by a
           hashref  of  options  to  test  the  attribute  for;  this   hashref   takes   the   same   arguments
           "validate_attribute" does.  e.g.:

               validate_thing $thing =&gt; (

                   attributes =&gt; [
                       'foo',
                       'bar',
                       baz =&gt; { is =&gt; 'ro', ... },
                       'bip',
                   ],
               );

       â€¢   "methods =&gt; [ ... ]"

           A list of methods the thing should have; see "has_method_ok".

       â€¢   "no_methods =&gt; [ ... ]"

           A list of methods the thing should not have; see "has_no_method_ok".

       â€¢   "sugar =&gt; 0|1"

           Ensure that thing can/cannot do the standard Moose sugar.

       â€¢   "metaclasses =&gt; { $mop =&gt; { ... }, ... }"

           Validates  this  thing's  metaclasses: that is, given a MOP type (e.g. class, attribute, method, ...)
           and a hashref, find the associated metaclass of the given type and  invoke  "validate_thing"  on  it,
           using the hashref as options for "validate_thing()".

           e.g.

               validate_thing 'TestClass' =&gt; (
                   metaclasses  =&gt; {
                       attribute =&gt; {
                           isa  =&gt; [ 'Moose::Meta::Attribute' ],
                           does =&gt; [ 'MetaRole::attribute'    ],
                       },
                   },
               );

           ...yields:

               # Subtest: Checking the attribute metaclass, Moose::Meta::Class::__ANON__::SERIAL::1
                   ok 1 - TestClass's attribute metaclass has a metaclass
                   ok 2 - TestClass's attribute metaclass is a Moose class
                   ok 3 - TestClass's attribute metaclass isa Moose::Meta::Attribute
                   ok 4 - TestClass's attribute metaclass does MetaRole::attribute
                   1..4
               ok 1 - Checking the attribute metaclass, Moose::Meta::Class::__ANON__::SERIAL::1

           Note  that  "validate_class()"  and  "validate_role()"  implement  this using "class_metaclasses" and
           "role_metaclasses", respectively.

   <b>validate_role</b>
       The same as "validate_thing()", but ensures $thing is a role, and  allows  for  additional  role-specific
       tests.

           validate_role $thing =&gt; (

               required_methods =&gt; [ ... ],

               # ...and all other options from validate_thing()
           );

       â€¢   "-compose =&gt; 0|1"

           When  true, attempt to compose the role into an anonymous class, then use it to run "validate_class".
           The options we're given are passed to "validate_class()" directly, except that any "required_methods"
           entry is removed and its  contents  pushed  onto  "methods".   (A  stub  method  for  each  entry  in
           "required_methods" will also be created in the new class.)

           e.g.:

               ok 1 - TestRole has a metaclass
               ok 2 - TestRole is a Moose role
               ok 3 - TestRole requires method blargh
               ok 4 - TestRole does TestRole
               ok 5 - TestRole does not do TestRole::Two
               ok 6 - TestRole has method method1
               ok 7 - TestRole has an attribute named bar
               # Subtest: role composed into Moose::Meta::Class::__ANON__::SERIAL::1
                   ok 1 - TestRole's composed class has a metaclass
                   ok 2 - TestRole's composed class is a Moose class
                   ok 3 - TestRole's composed class does TestRole
                   ok 4 - TestRole's composed class does not do TestRole::Two
                   ok 5 - TestRole's composed class has method method1
                   ok 6 - TestRole's composed class has method blargh
                   ok 7 - TestRole's composed class has an attribute named bar
                   1..7
               ok 8 - role composed into Moose::Meta::Class::__ANON__::SERIAL::1
               1..8

       â€¢   "-subtest =&gt; 'subtest name...'"

           If  set, all tests run will be wrapped in a subtest, the name of which will be whatever "-subtest" is
           set to.

       â€¢   "required_methods =&gt; [ ... ]"

           A list of methods the role requires a consuming class to supply.

       â€¢   "before =&gt; [ ... ]"

           A list of methods the role expects to wrap before, on application to a class.

           See "before" in Moose for information on before method modifiers.

       â€¢   "around =&gt; [ ... ]"

           A list of methods the role expects to wrap around, on application to a class.

           See "around" in Moose for information on around method modifiers.

       â€¢   "after =&gt; [ ... ]"

           A list of methods the role expects to wrap after, on application to a class.

           See "after" in Moose for information on after method modifiers.

       â€¢   "role_metaroles =&gt; { $mop =&gt; [ $role, ... ], ... }"

           Checks metaclasses to ensure the given metaroles are applied.  See "does_metaroles_ok".

       â€¢   "no_role_metaroles =&gt; { $mop =&gt; [ $role, ... ], ... }"

           Checks metaclasses to ensure the given metaroles are applied.  See "does_not_metaroles_ok".

       â€¢   "role_metaclasses =&gt; { $mop =&gt; { ... }, ... }"

           Validates this role's metaclasses: that is, given a MOP type (e.g. role, attribute, method, ...)  and
           a  hashref,  find the associated metaclass of the given type and invoke "validate_thing" on it, using
           the hashref as options for "validate_thing()".

           e.g.

               validate_role 'TestRole' =&gt; (
                   metaclasses  =&gt; {
                       attribute =&gt; {
                           isa  =&gt; [ 'Moose::Meta::Attribute' ],
                           does =&gt; [ 'MetaRole::attribute'    ],
                       },
                   },
               );

           ...yields:

               # Subtest: Checking the attribute metaclass, Moose::Meta::Class::__ANON__::SERIAL::1
                   ok 1 - TestRole's attribute metaclass has a metaclass
                   ok 2 - TestRole's attribute metaclass is a Moose class
                   ok 3 - TestRole's attribute metaclass isa Moose::Meta::Attribute
                   ok 4 - TestRole's attribute metaclass does MetaRole::attribute
                   1..4
               ok 1 - Checking the attribute metaclass, Moose::Meta::Class::__ANON__::SERIAL::1

           Note that "validate_class()" and  "validate_role()"  implement  this  using  "class_metaclasses"  and
           "role_metaclasses", respectively.

       â€¢   "class_metaclasses =&gt; { $mop =&gt; { ... }, ... }"

           As  with  role_metaclasses,  above,  except  that  this  option  is  only  used if "-compose" is also
           specified.

   <b>validate_class</b>
       The same as "validate_thing()", but ensures $thing is a class, and allows for  additional  class-specific
       tests.

           validate_class $thing =&gt; (

               isa  =&gt; [ ... ],

               attributes =&gt; [ ... ],
               methods    =&gt; [ ... ],

               # ensures sugar is/is-not present
               sugar      =&gt; 0,

               # ensures $thing does these roles
               does       =&gt; [ ... ],

               # ensures $thing does not do these roles
               does_not   =&gt; [ ... ],

               # ...and all other options from validate_thing()
           );

       â€¢   "-subtest =&gt; 'subtest name...'"

           If  set, all tests run will be wrapped in a subtest, the name of which will be whatever "-subtest" is
           set to.

       â€¢   "immutable =&gt; 0|1"

           Checks the class to see if it is/isn't immutable.

       â€¢   "class_metaroles =&gt; { $mop =&gt; [ $role, ... ], ... }"

           Checks metaclasses to ensure the given metaroles are applied.  See "does_metaroles_ok".

       â€¢   "no_class_metaroles =&gt; { $mop =&gt; [ $role, ... ], ... }"

           Checks metaclasses to ensure the given metaroles are applied.  See "does_not_metaroles_ok".

       â€¢   "class_metaclasses =&gt; { $mop =&gt; { ... }, ... }"

           Validates this class' metaclasses: that is, given a MOP type (e.g. role, attribute, method, ...)  and
           a  hashref,  find the associated metaclass of the given type and invoke "validate_thing" on it, using
           the hashref as options for "validate_thing()".

           e.g.

               validate_class 'TestClass' =&gt; (
                   metaclasses  =&gt; {
                       attribute =&gt; {
                           isa  =&gt; [ 'Moose::Meta::Attribute' ],
                           does =&gt; [ 'MetaRole::attribute'    ],
                       },
                   },
               );

           ...yields:

               ok 1 - TestClass has a metaclass
               ok 2 - TestClass is a Moose class
               # Subtest: Checking the attribute metaclass, Moose::Meta::Class::__ANON__::SERIAL::1
                   ok 1 - TestClass's attribute metaclass has a metaclass
                   ok 2 - TestClass's attribute metaclass is a Moose class
                   ok 3 - TestClass's attribute metaclass isa Moose::Meta::Attribute
                   ok 4 - TestClass's attribute metaclass does MetaRole::attribute
                   1..4
               ok 3 - Checking the attribute metaclass, Moose::Meta::Class::__ANON__::SERIAL::1

   <b>validate_attribute</b>
       "validate_attribute()" allows you to test how an attribute looks once built and attached to a class.

       Let's say you have an attribute defined like this:

           has foo =&gt; (
               traits  =&gt; [ 'TestRole' ],
               is      =&gt; 'ro',
               isa     =&gt; 'Int',
               builder =&gt; '_build_foo',
               lazy    =&gt; 1,
           );

       You can use "validate_attribute()" to ensure that it's built out in the way you expect:

           validate_attribute TestClass =&gt; foo =&gt; (

               # tests the attribute metaclass instance to ensure it does the roles
               -does =&gt; [ 'TestRole' ],
               # tests the attribute metaclass instance's inheritance
               -isa  =&gt; [ 'Moose::Meta::Attribute' ], # for demonstration's sake

               traits   =&gt; [ 'TestRole' ],
               isa      =&gt; 'Int',
               does     =&gt; 'Bar',
               handles  =&gt; { },
               reader   =&gt; 'foo',
               builder  =&gt; '_build_foo',
               default  =&gt; undef,
               init_arg =&gt; 'foo',
               lazy     =&gt; 1,
               required =&gt; undef,
           );

       Options passed to "validate_attribute()" prefixed with "-" test the attribute's metaclass instance rather
       than a setting on the attribute; that is, "-does" ensures that the metaclass does a particular role (e.g.
       MooseX::AttributeShortcuts), while "does" tests the setting of the attribute to require the  value  do  a
       given role.

       This function takes all the options "attribute_options_ok" takes, as well as the following:

       â€¢   "-subtest =&gt; 'subtest name...'"

           If  set, all tests run will be wrapped in a subtest, the name of which will be whatever "-subtest" is
           set to.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Please see those modules/websites for more information related to this module.

       â€¢   Test::Moose

</pre><h4><b>BUGS</b></h4><pre>
       Please    report    any    bugs     or     feature     requests     on     the     bugtracker     website
       &lt;https://github.com/RsrchBoy/Test-Moose-More/issues&gt;

       When  submitting  a  bug  or request, please include a test-file or a patch to an existing test-file that
       illustrates the bug or desired feature.

</pre><h4><b>AUTHOR</b></h4><pre>
       Chris Weyl &lt;<a href="mailto:cweyl@alumni.drew.edu">cweyl@alumni.drew.edu</a>&gt;

</pre><h4><b>CONTRIBUTORS</b></h4><pre>
       â€¢   Chad Granum &lt;<a href="mailto:chad.granum@dreamhost.com">chad.granum@dreamhost.com</a>&gt;

       â€¢   Karen Etheridge &lt;<a href="mailto:ether@cpan.org">ether@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2017, 2016, 2015, 2014, 2013, 2012 by Chris Weyl.

       This is free software, licensed under:

         The GNU Lesser General Public License, Version 2.1, February 1999

perl v5.36.0                                       2022-10-14                             <u>Test::Moose::<a href="../man3pm/More.3pm.html">More</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>