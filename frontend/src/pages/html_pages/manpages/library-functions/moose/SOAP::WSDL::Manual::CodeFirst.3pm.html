<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeFirst - Writing Code-First Web Services with SOAP::WSDL</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsoap-wsdl-perl">libsoap-wsdl-perl_3.004-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CodeFirst - Writing Code-First Web Services with SOAP::WSDL

       Note: This document is just a collection of thought. There's no implementation yet.

   <b>How</b> <b>Data</b> <b>Class</b> <b>definitions</b> <b>could</b> <b>look</b> <b>like</b>
       <u>Moose</u>

       Of course SOAP::WSDL could (and probably should) just use Moose - it provides the full Metaclass
       Framework needed for generating Schemas from class definitions.

       However, Moose is way too powerful for building (just) simple Data Transfer Objects which can be
       expressed in XML.

       With Moose, a class could look like this:

        package MyElements::GenerateBarCode;
        use Moose;

        has 'xmlns' =&gt;
            is =&gt; 'ro',
            default =&gt; '<a href="http://webservicex.net">http://webservicex.net</a>';

        has 'xmlname' =&gt;
            is =&gt; 'ro',
            default =&gt; 'GenerateBarCode';

        has 'BarCodeParam' =&gt;
             is =&gt; 'rw',
             type =&gt; 'MyTypes::BarCodeData';

        has 'BarCodeText' =&gt;
             is =&gt; 'rw',
             type =&gt; 'String';
        1;

       This is - despite the condensed syntax - a lot of line noise.

       <u>Native</u> <u>SOAP::WSDL</u>

       SOAP::WSDL::XSD::Typelib::ComplexType (should) provide a simple setup method allowing a even shorter
       description (and offering the additional performance boost SOAP::WSDL has over Moose):

        package MyElements::GenerateBarCode;
        use strice; use warnings;
        use SOAP::WSDL::XSD::Typelib::Element;
        use SOAP::WSDL::XSD::Typelib::ComplexType;

        _namespace '<a href="http://webservicex.net">http://webservicex.net</a>';    # might be better in the SOAP server interface
        _name 'GenerateBarCode';
        _elements
                BarCodeParam =&gt; 'MyTypes::BarCodeData',
                BarCodeText =&gt; 'string';

       This would result in the following XML Schema (inside a schema with the namespace
       "<a href="http://webservicex.net">http://webservicex.net</a>" - the namespaces could even be declared outside the DTO classes.

        &lt;complexType name="GenerateBarCode"&gt;
             &lt;sequence&gt;
                  &lt;element name="BarCodeParam" type="tns:BarCodeData"/&gt;
                  &lt;element name="BarCodeText" type="xsd:string"/&gt;
             &lt;/sequence&gt;
        &lt;/complexType&gt;

   <b>Interface</b> <b>definitions</b>
       Perl does not have the concept of interfaces. However, Moose provides Roles, which can be used for
       defining interfaces.

       However, it's not really necessary to define a interface Interface (in the sense of a Java interface) - a
       interface class is sufficient.

       Subroutine attributes could be used for providing additional information - attributes in perl are much
       like annotations in Java

       A interface could look like this:

        package MyServer::BarCode;
        use strict; use warnings;
        use SOAP::WSDL::Server::CodeFirst;

        sub generateBarCode :WebMethod(name=&lt;GenerateBarCode&gt;
            return=&lt;MyElements::GenerateBarcodeResponse&gt;
            body=&lt;MyElements::GenerateBarcode&gt;) {
            my ($self, $body, $header) = @_;
            my $result = MyElements::GenerateBarcodeResponse-&gt;new();
            return $result;
        };
        1;

perl v5.36.0                                       2022-10-14                 <u>SOAP::WSDL::Manual::<a href="../man3pm/CodeFirst.3pm.html">CodeFirst</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>