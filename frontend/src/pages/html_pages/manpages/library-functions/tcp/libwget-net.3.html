<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>libwget-net - TCP sockets</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/wget2-dev">wget2-dev_2.2.0+ds-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       libwget-net - TCP sockets

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Functions</b>
       int <b>wget_net_init</b> (void)
       int <b>wget_net_deinit</b> (void)
       void <b>wget_tcp_set_dns</b> (wget_tcp *tcp, <b>wget_dns</b> *dns)
       void <b>wget_tcp_set_tcp_fastopen</b> (wget_tcp *tcp, bool tcp_fastopen)
       bool <b>wget_tcp_get_tcp_fastopen</b> (wget_tcp *tcp)
       void <b>wget_tcp_set_tls_false_start</b> (wget_tcp *tcp, bool false_start)
       bool <b>wget_tcp_get_tls_false_start</b> (wget_tcp *tcp)
       void <b>wget_tcp_set_protocol</b> (wget_tcp *tcp, int protocol)
       int <b>wget_tcp_get_protocol</b> (wget_tcp *tcp)
       void <b>wget_tcp_set_preferred_family</b> (wget_tcp *tcp, int family)
       int <b>wget_tcp_get_preferred_family</b> (wget_tcp *tcp)
       void <b>wget_tcp_set_family</b> (wget_tcp *tcp, int family)
       int <b>wget_tcp_get_family</b> (wget_tcp *tcp)
       int <b>wget_tcp_get_local_port</b> (wget_tcp *tcp)
       void <b>wget_tcp_set_connect_timeout</b> (wget_tcp *tcp, int timeout)
       void <b>wget_tcp_set_timeout</b> (wget_tcp *tcp, int timeout)
       int <b>wget_tcp_get_timeout</b> (wget_tcp *tcp)
       void <b>wget_tcp_set_bind_address</b> (wget_tcp *tcp, const char *bind_address)
       void <b>wget_tcp_set_bind_interface</b> (wget_tcp *tcp, const char *bind_interface)
       void <b>wget_tcp_set_ssl</b> (wget_tcp *tcp, bool ssl)
       bool <b>wget_tcp_get_ssl</b> (wget_tcp *tcp)
       const char * <b>wget_tcp_get_ip</b> (wget_tcp *tcp)
       void <b>wget_tcp_set_ssl_hostname</b> (wget_tcp *tcp, const char *hostname)
       const char * <b>wget_tcp_get_ssl_hostname</b> (wget_tcp *tcp)
       wget_tcp * <b>wget_tcp_init</b> (void)
       void <b>wget_tcp_deinit</b> (wget_tcp **_tcp)
       int <b>wget_tcp_ready_2_transfer</b> (wget_tcp *tcp, int flags)
       int <b>wget_tcp_connect</b> (wget_tcp *tcp, const char *host, uint16_t port)
       int <b>wget_tcp_tls_start</b> (wget_tcp *tcp)
       void <b>wget_tcp_tls_stop</b> (wget_tcp *tcp)
       ssize_t <b>wget_tcp_read</b> (wget_tcp *tcp, char *buf, size_t count)
       ssize_t <b>wget_tcp_write</b> (wget_tcp *tcp, const char *buf, size_t count)
       ssize_t <b>wget_tcp_vprintf</b> (wget_tcp *tcp, const char *fmt, va_list args)
       ssize_t <b>wget_tcp_printf</b> (wget_tcp *tcp, const char *fmt,...)
       void <b>wget_tcp_close</b> (wget_tcp *tcp)

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       TCP sockets and DNS cache management functions.

       The following features are supported:

       • TCP Fast Open (RFC 7413)

       • SSL/TLS

       Most functions here take a wget_tcp structure as argument.

       The  wget_tcp  structure  represents  a TCP connection. You create it with <b>wget_tcp_init()</b> and destroy it
       with <b>wget_tcp_deinit()</b>. You can connect to a remote host with <b>wget_tcp_connect()</b>, or listen for  incoming
       connections  (and  accept  them)  with wget_tcp_listen() and wget_tcp_accept(). You end a connection with
       <b>wget_tcp_close()</b>.

       There are several knobs you can use to customize the behavior of  most  functions  here.  The  list  that
       follows describes the most important parameters, although you can look at the getter and setter functions
       here to see them all (wget_tcp_get_xxx, wget_tcp_set_xxx).

       • Timeout:  maximum  time to wait for an operation to complete. For example, for <b>wget_tcp_read()</b>, it sets
         the maximum time to wait until some data is available to read. Most functions here can be  non-blocking
         (with  timeout  = 0) returning immediately or they can block indefinitely until something happens (with
         timeout = -1). For any value greater than zero, the timeout is taken as milliseconds.

       • Family and preferred family: these are used to determine which  address  family  should  be  used  when
         resolving  a  host name or IP address. You probably use AF_INET or AF_INET6 most of the time. The first
         one forces the library to use that family, failing if it cannot find any IP address with it. The second
         one is just a hint, about which family you would prefer; it will try to get an address of  that  family
         if possible, and will get another one if not.

       • SSL/TLS: do you want to use TLS?

       When you create a new wget_tcp with <b>wget_tcp_init()</b>, it is initialized with the following parameters:

       • Timeout: -1

       • Connection timeout (max. time to wait for a connection to be accepted by the remote host): -1

       • DNS timeout (max. time to wait for a DNS query to return): -1

       • Family: AF_UNSPEC (basically means 'I don't care, pick the first one available').

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b> <b>wget_net_init</b> <b>(void)</b>
       <b>Returns</b>
           0 for success, else failure

       Initialize the resources needed for network operations.

   <b>int</b> <b>wget_net_deinit</b> <b>(void)</b>
       <b>Returns</b>
           0 for success, else failure

       Free the resources allocated by <b>wget_net_init()</b>.

   <b>void</b> <b>wget_tcp_set_dns</b> <b>(wget_tcp</b> <b>*</b> <b>tcp,</b> <b>wget_dns</b> <b>*</b> <b>dns)</b>
       <b>Parameters</b>
           <u>tcp</u> A wget_tcp structure representing a TCP connection, returned by <b>wget_tcp_init()</b>.
           <u>protocol</u> The protocol, either WGET_PROTOCOL_HTTP_2_0 or WGET_PROTOCOL_HTTP_1_1.

       Set the protocol for the connection provided, or globally.

       If  tcp is NULL, theprotocol will be set globally (for all connections). Otherwise, only for the provided
       connection (tcp).

   <b>void</b> <b>wget_tcp_set_tcp_fastopen</b> <b>(wget_tcp</b> <b>*</b> <b>tcp,</b> <b>bool</b> <b>tcp_fastopen)</b>
       <b>Parameters</b>
           <u>tcp</u> A wget_tcp structure representing a TCP connection, returned by <b>wget_tcp_init()</b>. Might be NULL.
           <u>tcp_fastopen</u> 1 or 0, whether to enable or disable TCP Fast Open.

       Enable or disable TCP Fast Open (RFC 7413), if available.

       This function is a no-op on systems where TCP Fast Open is not supported.

       If tcp is NULL, TCP Fast Open is enabled or disabled globally.

   <b>bool</b> <b>wget_tcp_get_tcp_fastopen</b> <b>(wget_tcp</b> <b>*</b> <b>tcp)</b>
       <b>Parameters</b>
           <u>tcp</u> A wget_tcp structure representing a TCP connection, returned by <b>wget_tcp_init()</b>. Might be NULL.

       <b>Returns</b>
           1 if TCP Fast Open is enabled, 0 otherwise.

       Tells whether TCP Fast Open is enabled or not.

       You can enable and disable it with <b>wget_tcp_set_tcp_fastopen()</b>.

   <b>void</b> <b>wget_tcp_set_tls_false_start</b> <b>(wget_tcp</b> <b>*</b> <b>tcp,</b> <b>bool</b> <b>false_start)</b>
       <b>Parameters</b>
           <u>tcp</u> A wget_tcp structure representing a TCP connection, returned by <b>wget_tcp_init()</b>. Might be NULL.
           <u>false_start</u> 1 or 0, whether to enable or disable TLS False Start.

       Enable or disable TLS False Start (RFC 7918).

       If tcp is NULL, TLS False Start is enabled or disabled globally.

   <b>bool</b> <b>wget_tcp_get_tls_false_start</b> <b>(wget_tcp</b> <b>*</b> <b>tcp)</b>
       <b>Parameters</b>
           <u>tcp</u> A wget_tcp structure representing a TCP connection, returned by <b>wget_tcp_init()</b>. Might be NULL.

       <b>Returns</b>
           1 if TLS False Start is enabled, 0 otherwise.

       Tells whether TLS False Start is enabled or not.

       You can enable and disable it with <b>wget_tcp_set_tls_false_start()</b>.

   <b>void</b> <b>wget_tcp_set_protocol</b> <b>(wget_tcp</b> <b>*</b> <b>tcp,</b> <b>int</b> <b>protocol)</b>
       <b>Parameters</b>
           <u>tcp</u> A wget_tcp structure representing a TCP connection, returned by <b>wget_tcp_init()</b>.
           <u>protocol</u> The protocol, either WGET_PROTOCOL_HTTP_2_0 or WGET_PROTOCOL_HTTP_1_1.

       Set the protocol for the connection provided, or globally.

       If tcp is NULL, theprotocol will be set globally (for all connections). Otherwise, only for the  provided
       connection (tcp).

   <b>int</b> <b>wget_tcp_get_protocol</b> <b>(wget_tcp</b> <b>*</b> <b>tcp)</b>
       <b>Parameters</b>
           <u>tcp</u> A wget_tcp structure representing a TCP connection, returned by <b>wget_tcp_init()</b>.

       <b>Returns</b>
           The protocol with this connection, currently WGET_PROTOCOL_HTTP_2_0 or WGET_PROTOCOL_HTTP_1_1.

       Get protocol used with the provided connection, or globally (if tcp is NULL).

   <b>void</b> <b>wget_tcp_set_preferred_family</b> <b>(wget_tcp</b> <b>*</b> <b>tcp,</b> <b>int</b> <b>family)</b>
       <b>Parameters</b>
           <u>tcp</u> A wget_tcp structure representing a TCP connection, returned by <b>wget_tcp_init()</b>. Might be NULL.
           <u>family</u> One of the socket families defined in &lt;socket.h&gt;, such as AF_INET or AF_INET6.

       Tells the preferred address family that should be used when establishing a TCP connection.

       wget_tcp_resolve() will favor that and pick an address of that family if possible.

       If tcp is NULL, the preferred address family will be set globally.

   <b>int</b> <b>wget_tcp_get_preferred_family</b> <b>(wget_tcp</b> <b>*</b> <b>tcp)</b>
       <b>Parameters</b>
           <u>tcp</u> A wget_tcp structure representing a TCP connection, returned by <b>wget_tcp_init()</b>. Might be NULL.

       <b>Returns</b>
           One of the socket families defined in &lt;socket.h&gt;, such as AF_INET or AF_INET6.

       Get the preferred address family that was previously set with <b>wget_tcp_set_preferred_family()</b>.

   <b>void</b> <b>wget_tcp_set_family</b> <b>(wget_tcp</b> <b>*</b> <b>tcp,</b> <b>int</b> <b>family)</b>
       <b>Parameters</b>
           <u>tcp</u> A wget_tcp structure representing a TCP connection, returned by <b>wget_tcp_init()</b>. Might be NULL.
           <u>family</u> One of the socket families defined in &lt;socket.h&gt;, such as AF_INET or AF_INET6.

       Tell the address family that will be used when establishing a TCP connection.

       wget_tcp_resolve() will pick an address of that family, or fail if it cannot find one.

       If tcp is NULL, the address family will be set globally.

   <b>int</b> <b>wget_tcp_get_family</b> <b>(wget_tcp</b> <b>*</b> <b>tcp)</b>
       <b>Parameters</b>
           <u>tcp</u> A wget_tcp structure representing a TCP connection, returned by <b>wget_tcp_init()</b>. Might be NULL.

       <b>Returns</b>
           One of the socket families defined in &lt;socket.h&gt;, such as AF_INET or AF_INET6.

       Get the address family that was previously set with <b>wget_tcp_set_family()</b>.

   <b>int</b> <b>wget_tcp_get_local_port</b> <b>(wget_tcp</b> <b>*</b> <b>tcp)</b>
       <b>Parameters</b>
           <u>tcp</u> A wget_tcp structure representing a TCP connection, returned by <b>wget_tcp_init()</b>. Might be NULL.

       <b>Returns</b>
           The local port.

       Get the port number the TCP connection tcp is bound to on the local machine.

   <b>void</b> <b>wget_tcp_set_connect_timeout</b> <b>(wget_tcp</b> <b>*</b> <b>tcp,</b> <b>int</b> <b>timeout)</b>
       <b>Parameters</b>
           <u>tcp</u> A TCP connection.
           <u>timeout</u> The timeout value.

       Set the timeout for the TCP connection.

       This is the maximum time to wait until the remote host accepts our connection.

       The following two values are special:

       • 0: No timeout, immediate.

       • -1: Infinite timeout. Wait indefinitely.

   <b>void</b> <b>wget_tcp_set_timeout</b> <b>(wget_tcp</b> <b>*</b> <b>tcp,</b> <b>int</b> <b>timeout)</b>
       <b>Parameters</b>
           <u>tcp</u> A TCP connection.
           <u>timeout</u> The timeout value.

       Set the timeout (in milliseconds) for <b>wget_tcp_read()</b>, <b>wget_tcp_write()</b> and wget_tcp_accept().

       The following two values are special:

       • 0: No timeout, immediate.

       • -1: Infinite timeout. Wait indefinitely.

   <b>int</b> <b>wget_tcp_get_timeout</b> <b>(wget_tcp</b> <b>*</b> <b>tcp)</b>
       <b>Parameters</b>
           <u>tcp</u> A TCP connection.

       <b>Returns</b>
           The timeout value that was set with <b>wget_tcp_set_timeout()</b>.

       Get the timeout value that was set with <b>wget_tcp_set_timeout()</b>.

   <b>void</b> <b>wget_tcp_set_bind_address</b> <b>(wget_tcp</b> <b>*</b> <b>tcp,</b> <b>const</b> <b>char</b> <b>*</b> <b>bind_address)</b>
       <b>Parameters</b>
           <u>tcp</u> A TCP connection. Might be NULL.
           <u>bind_address</u> An IP address or host name.

       Set  the IP address/hostname the socket tcp will bind to on the local machine when connecting to a remote
       host.

       The hostname can explicitly set the port after a colon (':').

       This is mainly relevant to <b>wget_tcp_connect()</b>.

   <b>void</b> <b>wget_tcp_set_bind_interface</b> <b>(wget_tcp</b> <b>*</b> <b>tcp,</b> <b>const</b> <b>char</b> <b>*</b> <b>bind_interface)</b>
       <b>Parameters</b>
           <u>tcp</u> A TCP connection. Might be NULL.
           <u>bind_interface</u> A network interface name.

       Set the Network Interface the socket tcp will bind to on the local machine when connecting  to  a  remote
       host.

       This is mainly relevant to <b>wget_tcp_connect()</b>.

   <b>void</b> <b>wget_tcp_set_ssl</b> <b>(wget_tcp</b> <b>*</b> <b>tcp,</b> <b>bool</b> <b>ssl)</b>
       <b>Parameters</b>
           <u>tcp</u> A wget_tcp structure representing a TCP connection, returned by <b>wget_tcp_init()</b>.
           <u>ssl</u> Flag to enable or disable SSL/TLS on the given connection.

       Enable or disable SSL/TLS.

       If  tcp  is  NULL,  TLS  will  be  enabled globally. Otherwise, TLS will be enabled only for the provided
       connection.

   <b>bool</b> <b>wget_tcp_get_ssl</b> <b>(wget_tcp</b> <b>*</b> <b>tcp)</b>
       <b>Parameters</b>
           <u>tcp</u> A wget_tcp structure representing a TCP connection, returned by <b>wget_tcp_init()</b>.

       <b>Returns</b>
           1 if TLs is enabled, 0 otherwise.

       Tells whether TLS is enabled or not.

   <b>const</b> <b>char</b> <b>*</b> <b>wget_tcp_get_ip</b> <b>(wget_tcp</b> <b>*</b> <b>tcp)</b>
       <b>Parameters</b>
           <u>tcp</u> A wget_tcp structure representing a TCP connection, returned by <b>wget_tcp_init()</b>.

       <b>Returns</b>
           IP address as string, NULL if not available.

       Returns the IP address of a wget_tcp instance.

   <b>void</b> <b>wget_tcp_set_ssl_hostname</b> <b>(wget_tcp</b> <b>*</b> <b>tcp,</b> <b>const</b> <b>char</b> <b>*</b> <b>hostname)</b>
       <b>Parameters</b>
           <u>tcp</u> A wget_tcp structure representing a TCP connection, returned by <b>wget_tcp_init()</b>. Might be NULL.
           <u>hostname</u> A hostname. The value of the SNI field.

       Sets the TLS Server Name Indication (SNI). For more info see RFC 6066, sect. 3.

       SNI basically does at the TLS layer what the Host: header field does at the application (HTTP) layer. The
       server might use this information to locate an appropriate X.509 certificate from a pool of certificates,
       or to direct the request to a specific virtual host, for instance.

   <b>const</b> <b>char</b> <b>*</b> <b>wget_tcp_get_ssl_hostname</b> <b>(wget_tcp</b> <b>*</b> <b>tcp)</b>
       <b>Parameters</b>
           <u>tcp</u> A wget_tcp structure representing a TCP connection, returned by <b>wget_tcp_init()</b>. Might be NULL.

       <b>Returns</b>
           A hostname. The value of the SNI field.

       Returns the value that was set to SNI with a previous call to <b>wget_tcp_set_ssl_hostname()</b>.

   <b>wget_tcp</b> <b>*</b> <b>wget_tcp_init</b> <b>(void)</b>
       <b>Returns</b>
           A new wget_tcp structure, with pre-defined parameters.

       Create  a  new  wget_tcp  structure,  that  represents  a  TCP  connection.  It  can  be  destroyed  with
       <b>wget_tcp_deinit()</b>.

       This  function  does not establish or modify a TCP connection in any way. That can be done with the other
       functions in this file, such as <b>wget_tcp_connect()</b> or wget_tcp_listen() and wget_tcp_accept().

   <b>void</b> <b>wget_tcp_deinit</b> <b>(wget_tcp</b> <b>**</b> <b>_tcp)</b>
       <b>Parameters</b>
           <b>_</b><u>tcp</u> A <b>pointer</b> to a wget_tcp structure representing a TCP connection,  returned  by  <b>wget_tcp_init()</b>.
           Might be NULL.

       Release a TCP connection (created with <b>wget_tcp_init()</b>).

       The wget_tcp structure will be freed and _tcp will be set to NULL.

       If _tcp is NULL, the SNI field will be cleared.

       Does  not free the internal DNS cache, so that other connections can reuse it. Call <b>wget_dns_cache_free()</b>
       if you want to free it.

   <b>int</b> <b>wget_tcp_ready_2_transfer</b> <b>(wget_tcp</b> <b>*</b> <b>tcp,</b> <b>int</b> <b>flags)</b>
       Test whether the given connection (tcp) is ready to read or write.

       The parameter flags can have one or both (with bitwise OR) of the following values:

       • WGET_IO_READABLE: Is data available for reading?

       • WGET_IO_WRITABLE: Can we write immediately (without having to wait until the TCP buffer frees)?

   <b>int</b> <b>wget_tcp_connect</b> <b>(wget_tcp</b> <b>*</b> <b>tcp,</b> <b>const</b> <b>char</b> <b>*</b> <b>host,</b> <b>uint16_t</b> <b>port)</b>
       <b>Parameters</b>
           <u>tcp</u> A wget_tcp structure representing a TCP connection, returned by <b>wget_tcp_init()</b>.
           <u>host</u> Hostname or IP address to connect to.
           <u>port</u> port number

       <b>Returns</b>
           WGET_E_SUCCESS (0) on success, or a  negative  integer  on  error  (some  of  WGET_E_XXX  defined  in
           &lt;<b>wget.h</b>&gt;<b>).</b>

       Open a TCP connection with a remote host.

       This  function  will  use  TLS  if  it  has  been  enabled  for  this  wget_tcp.  You  can enable it with
       <b>wget_tcp_set_ssl()</b>. Additionally, you can also use <b>wget_tcp_set_ssl_hostname()</b> to  set  the  Server  Name
       Indication (SNI).

       You  can  set  which  IP  address  and  port  on  the  local  machine  will  the  socket be bound to with
       <b>wget_tcp_set_bind_address()</b>. Otherwise the socket will bind  to  any  address  and  port  chosen  by  the
       operating system.

       You  can  also  set  which  Network  Interface  on  the  local  machine  will the socket be bound to with
       wget_tcp_bind_interface().

       This function will try to use TCP Fast Open if enabled and available. If TCP Fast  Open  fails,  it  will
       fall  back  to  the  normal  TCP  handshake,  without raising an error. You can enable TCP Fast Open with
       <b>wget_tcp_set_tcp_fastopen()</b>.

       If the connection fails, WGET_E_CONNECT is returned.

   <b>int</b> <b>wget_tcp_tls_start</b> <b>(wget_tcp</b> <b>*</b> <b>tcp)</b>
       <b>Parameters</b>
           <u>tcp</u> An active connection.

       <b>Returns</b>
           WGET_E_SUCCESS (0) on success, or a  negative  integer  on  error  (one  of  WGET_E_XXX,  defined  in
           &lt;<b>wget.h</b>&gt;<b>).</b> <b>Start</b> <b>TLS</b> <b>for</b> <b>this</b> <b>connection.</b>

       This will typically be called by wget_tcp_accept().

       If  the  socket  is  listening  (e.g. wget_tcp_listen(), wget_tcp_accept()), it will expect the client to
       perform a TLS handshake, and fail if it doesn't.

       If this is a client connection (e.g. <b>wget_tcp_connect()</b>), it will try perform a TLS  handshake  with  the
       server.

   <b>void</b> <b>wget_tcp_tls_stop</b> <b>(wget_tcp</b> <b>*</b> <b>tcp)</b>
       <b>Parameters</b>
           <u>tcp</u> An active connection.

       Stops TLS, but does not close the connection. Data will be transmitted in the clear from now on.

   <b>ssize_t</b> <b>wget_tcp_read</b> <b>(wget_tcp</b> <b>*</b> <b>tcp,</b> <b>char</b> <b>*</b> <b>buf,</b> <b>size_t</b> <b>count)</b>
       <b>Parameters</b>
           <u>tcp</u> An active TCP connection.
           <u>buf</u> Destination buffer, at least count bytes long.
           <u>count</u> Length of the buffer buf.

       <b>Returns</b>
           Number of bytes read

       Read count bytes of data from the TCP connection represented by tcp and store them in the buffer buf.

       This function knows whether the provided connection is over TLS or not and it will do the right thing.

       The  tcp-&gt;timeout  parameter is taken into account by this function as well. It specifies how long should
       this function wait until there's data available to read (in milliseconds). The  default  timeout  is  -1,
       which means to wait indefinitely.

       The following two values are special:

       • 0: No timeout, immediate.

       • -1: Infinite timeout. Wait indefinitely until a new connection comes.

       You can set the timeout with <b>wget_tcp_set_timeout()</b>.

       In  particular,  the  returned value will be zero if no data was available for reading before the timeout
       elapsed.

   <b>ssize_t</b> <b>wget_tcp_write</b> <b>(wget_tcp</b> <b>*</b> <b>tcp,</b> <b>const</b> <b>char</b> <b>*</b> <b>buf,</b> <b>size_t</b> <b>count)</b>
       <b>Parameters</b>
           <u>tcp</u> An active TCP connection.
           <u>buf</u> A buffer, at least count bytes long.
           <u>count</u> Number of bytes from buf to send through tcp.

       <b>Returns</b>
           The number of bytes written, or -1 on error.

       Write count bytes of data from the buffer buf to the TCP connection represented by tcp.

       This function knows whether the provided connection is over TLS or not and it will do the right thing.

       TCP Fast Open will  be  used  if  it's  available  and  enabled.  You  can  enable  TCP  Fast  Open  with
       <b>wget_tcp_set_tcp_fastopen()</b>.

       This  function  honors  the  timeout parameter. If the write operation fails because the socket buffer is
       full, then it will wait at most that amount of milliseconds. If after the timeout  the  socket  is  still
       unavailable for writing, this function returns zero.

       The following two values are special:

       • 0: No timeout. The socket must be available immediately.

       • -1: Infinite timeout. Wait indefinitely until the socket becomes available.

       You can set the timeout with <b>wget_tcp_set_timeout()</b>.

   <b>ssize_t</b> <b>wget_tcp_vprintf</b> <b>(wget_tcp</b> <b>*</b> <b>tcp,</b> <b>const</b> <b>char</b> <b>*</b> <b>fmt,</b> <b>va_list</b> <b>args)</b>
       <b>Parameters</b>
           <u>tcp</u> An active TCP connection.
           <u>fmt</u> Format string (like in <a href="../man3/printf.3.html">printf</a>(3)).
           <u>args</u> va_args argument list (like in <a href="../man3/vprintf.3.html">vprintf</a>(3))

       Write data in vprintf-style format, to the connection tcp.

       It uses <b>wget_tcp_write()</b>.

   <b>ssize_t</b> <b>wget_tcp_printf</b> <b>(wget_tcp</b> <b>*</b> <b>tcp,</b> <b>const</b> <b>char</b> <b>*</b> <b>fmt,</b>  <b>...)</b>
       <b>Parameters</b>
           <u>tcp</u> An active TCP connection.
           <u>fmt</u> Format string (like in <a href="../man3/printf.3.html">printf</a>(3)).

       Write data in printf-style format, to the connection tcp.

       It uses <b>wget_tcp_vprintf()</b>, which in turn uses <b>wget_tcp_write()</b>.

   <b>void</b> <b>wget_tcp_close</b> <b>(wget_tcp</b> <b>*</b> <b>tcp)</b>
       <b>Parameters</b>
           <u>tcp</u> An active TCP connection

       Close a TCP connection.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for wget2 from the source code.

wget2                                             Version 2.2.0                                   <u><a href="../man3/libwget-net.3.html">libwget-net</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>