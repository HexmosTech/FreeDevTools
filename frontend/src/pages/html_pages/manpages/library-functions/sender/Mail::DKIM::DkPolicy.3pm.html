<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::DKIM::DkPolicy - represents a DomainKeys Sender Signing Policy record</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-dkim-perl">libmail-dkim-perl_1.20230212-1ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::DKIM::DkPolicy - represents a DomainKeys Sender Signing Policy record

</pre><h4><b>VERSION</b></h4><pre>
       version 1.20230212

</pre><h4><b>DESCRIPTION</b></h4><pre>
       DomainKeys sender signing policies are described in RFC4870(historical). It is a record published in the
       message sender's (i.e. the person who transmitted the message) DNS that describes how they sign messages.

</pre><h4><b>CONSTRUCTORS</b></h4><pre>
   <b>fetch()</b> <b>-</b> <b>fetch</b> <b>a</b> <b>sender</b> <b>signing</b> <b>policy</b> <b>from</b> <b>DNS</b>
         my $policy = Mail::DKIM::DkPolicy-&gt;fetch(
                          Protocol =&gt; 'dns',
                          Sender =&gt; '<a href="mailto:joe@example.org">joe@example.org</a>',
                      );

       The following named arguments are accepted:

       Protocol
           always specify "dns"

       Author
           the  "author"  of  the message for which policy is being checked.  This is the first email address in
           the "From" header.  According to RFC 2822, section 3.6.2, the "From" header lists who is  responsible
           for writing the message.

       Sender
           the  "sender"  of  the message for which policy is being checked.  This is the first email address in
           the "Sender" header, or if there is not a "Sender" header, the "From" header.  According to RFC 2822,
           section 3.6.2, the "Sender" header lists who is responsible for transmitting the message.

       Depending on what type of policy is being checked, both the Sender and  Author  fields  may  need  to  be
       specified.

       If a DNS error or timeout occurs, an exception is thrown.

       Otherwise,  a  policy object of some sort will be returned.  If no policy is actually published, then the
       "default policy" will be returned.  To check when this happens, use

         my $is_default = $policy-&gt;is_implied_default_policy;

   <b>new()</b> <b>-</b> <b>construct</b> <b>a</b> <b>default</b> <b>policy</b> <b>object</b>
         my $policy = Mail::DKIM::DkPolicy-&gt;new;

   <b>parse()</b> <b>-</b> <b>gets</b> <b>a</b> <b>policy</b> <b>object</b> <b>by</b> <b>parsing</b> <b>a</b> <b>string</b>
         my $policy = Mail::DKIM::DkPolicy-&gt;parse(
                          String =&gt; 'o=~; t=y'
                      );

</pre><h4><b>METHODS</b></h4><pre>
   <b>apply()</b> <b>-</b> <b>apply</b> <b>the</b> <b>policy</b> <b>to</b> <b>the</b> <b>results</b> <b>of</b> <b>a</b> <b>DKIM</b> <b>verifier</b>
         my $result = $policy-&gt;apply($dkim_verifier);

       The caller must provide an instance of Mail::DKIM::Verifier, one which has already been fed  the  message
       being verified.

       Possible results are:

       accept
           The message is approved by the sender signing policy.

       reject
           The message is rejected by the sender signing policy.

       neutral
           The  message  is  neither  approved  nor  rejected by the sender signing policy. It can be considered
           suspicious.

   <b>flags()</b> <b>-</b> <b>get</b> <b>or</b> <b>set</b> <b>the</b> <b>flags</b> <b>(t=)</b> <b>tag</b>
       A vertical-bar separated list of flags.

   <b>is_implied_default_policy()</b> <b>-</b> <b>is</b> <b>this</b> <b>policy</b> <b>implied?</b>
         my $is_implied = $policy-&gt;is_implied_default_policy;

       If you fetch the policy for a particular domain, but that domain does not have a policy  published,  then
       the "default policy" is in effect. Use this method to detect when that happens.

   <b>location()</b> <b>-</b> <b>where</b> <b>the</b> <b>policy</b> <b>was</b> <b>fetched</b> <b>from</b>
       DomainKeys  policies  only  have  per-domain  policies,  so  this will be the domain where the policy was
       published.

       If nothing is published for the domain, and the default policy was returned instead, the location will be
       "undef".

   <b>note()</b> <b>-</b> <b>get</b> <b>or</b> <b>set</b> <b>the</b> <b>human</b> <b>readable</b> <b>notes</b> <b>(n=)</b> <b>tag</b>
       Human readable notes regarding the record. Undef if no notes specified.

   <b>policy()</b> <b>-</b> <b>get</b> <b>or</b> <b>set</b> <b>the</b> <b>outbound</b> <b>signing</b> <b>policy</b> <b>(o=)</b> <b>tag</b>
         my $sp = $policy-&gt;policy;

       Outbound signing policy for the entity. Possible values are:

       "~" The default. The domain may sign some (but not all) email.

       "-" The domain signs all email.

   <b>signall()</b> <b>-</b> <b>true</b> <b>if</b> <b>policy</b> <b>is</b> <b>/-"</b>
   <b>testing()</b> <b>-</b> <b>checks</b> <b>the</b> <b>testing</b> <b>flag</b>
         my $testing = $policy-&gt;testing;

       If nonzero, the testing flag is set on the signing policy, and the verify should not consider  a  message
       suspicious based on this policy.

</pre><h4><b>AUTHORS</b></h4><pre>
       •   Jason Long &lt;<a href="mailto:jason@long.name">jason@long.name</a>&gt;

       •   Marc Bradshaw &lt;<a href="mailto:marc@marcbradshaw.net">marc@marcbradshaw.net</a>&gt;

       •   Bron Gondwana &lt;<a href="mailto:brong@fastmailteam.com">brong@fastmailteam.com</a>&gt; (ARC)

</pre><h4><b>THANKS</b></h4><pre>
       Work  on  ensuring  that  this  module  passes  the  ARC  test suite was generously sponsored by Valimail
       (https://www.valimail.com/)

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       •   Copyright (C) 2013 by Messiah College

       •   Copyright (C) 2010 by Jason Long

       •   Copyright (C) 2017 by Standcore LLC

       •   Copyright (C) 2020 by FastMail Pty Ltd

       This library is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself, either Perl version 5.8.6 or, at your option, any later version of Perl 5 you may have available.

perl v5.38.2                                       2024-02-27                          <u>Mail::DKIM::<a href="../man3pm/DkPolicy.3pm.html">DkPolicy</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>