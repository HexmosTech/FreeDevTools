<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::MtPolicyd::Plugin::Greylist - This plugin implements a greylisting mechanism with an auto</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/mtpolicyd">mtpolicyd_2.05-1.2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::MtPolicyd::Plugin::Greylist - This plugin implements a greylisting mechanism with an auto
       whitelist.

</pre><h4><b>VERSION</b></h4><pre>
       version 2.05

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This plugin implements a greylisting mechanism with an auto whitelist.

       If a client connects it will return an defer and create a greylisting "ticket" for the combination of the
       address of the sender, the senders address and the recipient address. The ticket will be stored in
       memcached and will contain the time when the client was seen for the first time. The ticket will expire
       after the max_retry_wait timeout.

       The client will be deferred until the min_retry_wait timeout has been reached.  Only in the time between
       the min_retry_wait and max_retry_wait the request will pass the greylisting test.

       When the auto-whitelist is enabled (default) a record for every client which passes the greylisting test
       will be stored in the autowl_table.  The table is based on the combination of the sender domain and
       client_address.  If a client passed the test at least autowl_threshold (default 3) times the greylisting
       test will be skipped.  Additional an last_seen time stamp is stored in the record and records which are
       older then the autowl_expire_days will expire.

       Please note the greylisting is done on a triplet based on the

         client_address + sender + recipient

       The auto-white list is based on the

         client_address + sender_domain

</pre><h4><b>PARAMETERS</b></h4><pre>
       (uc_)enabled (default: on)
           Enable/disable this check.

       score (default: empty)
           Apply  an score to this message if it _passed_ the greylisting test. In most cases you want to assign
           a negative score. (eg. -10)

       mode (default: passive)
           The default is to return no action if the client passed the greylisting test and continue.

           You can set this 'accept' or 'dunno' if you want skip further checks.

       defer_message (default: defer greylisting is active)
           This action is returned to the MTA if a message is deferred.

           If a client retries too fast the time left till min_retry_wait is  reach  will  be  appended  to  the
           string.

       min_retry_wait (default: 300 (5m))
           A client will have to wait at least for this timeout. (in seconds)

       max_retry_wait (default: 7200 (2h))
           A client must retry to deliver the message before this timeout. (in seconds)

       use_autowl (default: 1)
           Could be used to disable the use of the auto-whitelist.

       autowl_threshold (default: 3)
           How often a client/sender_domain pair must pass the check before it is whitelisted.

       autowl_expire_days (default: 60)
           After  how many days an auto-whitelist entry will expire if no client with this client/sender pair is
           seen.

       autowl_table (default: autowl)
           The name of the table to use.

           The database handle specified in the global configuration will be used. (see man mtpolicyd)

       query_autowl, create_ticket (default: 1)
           This options could be used to disable the creation of a new ticket or to query the autowl.

           This can be used to catch early retries at the begin of  your  configuration  before  more  expensive
           checks are processed.

           Example:

             &lt;Plugin greylist&gt;
               module = "Greylist"
               score = -5
               mode = "passive"
               create_ticket = 0
               query_autowl = 0
             &lt;/Plugin&gt;
             # ... a lot of RBL checks, etc...
             &lt;Plugin ScoreGreylist&gt;
               module = "ScoreAction"
               threshold = 5
               &lt;Plugin greylist&gt;
                 module = "Greylist"
                 score = -5
                 mode = "passive"
               &lt;/Plugin&gt;
             &lt;/Plugin&gt;

           This will prevent early retries from running thru all checks.

</pre><h4><b>AUTHOR</b></h4><pre>
       Markus Benning &lt;<a href="mailto:ich@markusbenning.de">ich@markusbenning.de</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2014 by Markus Benning &lt;<a href="mailto:ich@markusbenning.de">ich@markusbenning.de</a>&gt;.

       This is free software, licensed under:

         The GNU General Public License, Version 2, June 1991

perl v5.38.2                                       2024-05-26             <u>Mail::MtPolicyd::Plugin::<a href="../man3pm/Greylist.3pm.html">Greylist</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>