<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code::TidyAll::Plugin - Create plugins for tidying or validating code</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcode-tidyall-perl">libcode-tidyall-perl_0.84~ds-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Code::TidyAll::Plugin - Create plugins for tidying or validating code

</pre><h4><b>VERSION</b></h4><pre>
       version 0.84

</pre><h4><b>SYNOPSIS</b></h4><pre>
           package Code::TidyAll::Plugin::SomeTidier;
           use Moo;
           extends 'Code::TidyAll::Plugin';

           sub transform_source {
               my ( $self, $source ) = @_;
               ...
               return $source;
           }

           package Code::TidyAll::Plugin::SomeValidator;
           use Moo;
           extends 'Code::TidyAll::Plugin';

           sub validate_file {
               my ( $self, $file ) = @_;
               die 'not valid' if ...;
           }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       To use a tidier or validator with "tidyall" it must have a corresponding plugin class that inherits from
       this class. This document describes how to implement a new plugin.

       The easiest way to start is to look at existing plugins, such as Code::TidyAll::Plugin::PerlTidy and
       Code::TidyAll::Plugin::PerlCritic.

</pre><h4><b>NAMING</b></h4><pre>
       If you are going to publicly release your plugin, call it "Code::TidyAll::Plugin::<u>something</u>" so that
       users can find it easily and refer to it by its short name in configuration.

       If it's an internal plugin, you can call it whatever you like and refer to it with a plus sign prefix in
       the config file, e.g.

           [+My::Tidier::Class]
           select = **/*.{pl,pm,t}

</pre><h4><b>CONSTRUCTOR</b> <b>AND</b> <b>ATTRIBUTES</b></h4><pre>
       Your plugin constructor will be called with the configuration key/value pairs as parameters. e.g. given

           [PerlCritic]
           select = lib/**/*.pm
           ignore = lib/UtterHack.pm
           argv = -severity 3

       then Code::TidyAll::Plugin::PerlCritic would be constructed with parameters

           Code::TidyAll::Plugin::PerlCritic-&gt;new(
               select =&gt; 'lib/**/*.pm',
               ignore =&gt; 'lib/UtterHack.pm',
               argv   =&gt; '-severity 3',
           );

       The following attributes are part of this base class. Your subclass can declare others, of course.

   <b>argv</b>
       A standard attribute for passing command line arguments.

   <b>diff_on_tidy_error</b>
       This only applies to plugins which transform source. If this is true, then when the plugin is run in
       check mode it will include a diff in the return value from "process_source_or_file" when the source is
       not tidy.

   <b>is_validator</b>
       An attribute that indicates if this is a validator or not; By default this returns true if either
       "validate_source" or "validate_file" methods have been implemented.

   <b>name</b>
       Name of the plugin to be used in error messages etc.

   <b>tidyall</b>
       A weak reference back to the Code::TidyAll object.

   <b>weight</b>
       A number indicating the relative weight of the plugin, used to calculate the order the plugins will
       execute in. The lower the number the sooner the plugin will be executed.

       By default the weight will be 50 for non validators (anything where "is_validator" returns false) and 60
       for validators (anything where "is_validator" returns true.)

       The order of plugin execution is determined first by the value of the "weight" attribute, and then (if
       multiple plugins have the same weight&gt;) by sorting by the name of module.

</pre><h4><b>METHODS</b></h4><pre>
       Your plugin may define one or more of these methods. They are all no-ops by default.

   <b>$plugin-&gt;preprocess_source($source)</b>
       Receives source code as a string; returns the processed string, or dies with error. This runs on all
       plugins <u>before</u> any of the other methods.

   <b>$plugin-&gt;transform_source($source)</b>
       Receives source code as a string; returns the transformed string, or dies with error. This is repeated
       multiple times if --iterations was passed or specified in the configuration file.

   <b>$plugin-&gt;transform_file($file)</b>
       Receives filename; transforms the file in place, or dies with error. Note that the file will be a
       temporary copy of the user's file with the same basename; your changes will only propagate back if there
       was no error reported from any plugin. This is repeated multiple times if --iterations was passed or
       specified in the configuration file.

   <b>$plugin-&gt;validate_source($source)</b>
       Receives source code as a string; dies with error if invalid. Return value will be ignored.

   <b>$plugin-&gt;validate_file($file)</b>
       Receives filename; validates file and dies with error if invalid. Should not modify file! Return value
       will be ignored.

   <b>$plugin-&gt;postprocess_source($source)</b>
       Receives source code as a string; returns the processed string, or dies with error. This runs on all
       plugins <u>after</u> any of the other methods.

</pre><h4><b>SUPPORT</b></h4><pre>
       Bugs may be submitted at &lt;https://github.com/houseabsolute/perl-code-tidyall/issues&gt;.

</pre><h4><b>SOURCE</b></h4><pre>
       The source code repository for Code-TidyAll can be found at
       &lt;https://github.com/houseabsolute/perl-code-tidyall&gt;.

</pre><h4><b>AUTHORS</b></h4><pre>
       •   Jonathan Swartz &lt;<a href="mailto:swartz@pobox.com">swartz@pobox.com</a>&gt;

       •   Dave Rolsky &lt;<a href="mailto:autarch@urth.org">autarch@urth.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2011 - 2023 by Jonathan Swartz.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

       The full text of the license can be found in the <u>LICENSE</u> file included with this distribution.

perl v5.40.1                                       2025-04-03                         <u>Code::TidyAll::<a href="../man3pm/Plugin.3pm.html">Plugin</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>