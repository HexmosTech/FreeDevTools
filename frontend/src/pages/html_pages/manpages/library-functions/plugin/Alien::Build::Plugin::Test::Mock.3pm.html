<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alien::Build::Plugin::Test::Mock - Mock plugin for testing</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libalien-build-perl">libalien-build-perl_2.84-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Alien::Build::Plugin::Test::Mock - Mock plugin for testing

</pre><h4><b>VERSION</b></h4><pre>
       version 2.84

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use alienfile;
        plugin 'Test::Mock' =&gt; (
          probe    =&gt; 'share',
          download =&gt; 1,
          extract  =&gt; 1,
          build    =&gt; 1,
          gather   =&gt; 1,
        );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This plugin is used for testing Alien::Build plugins.  Usually you only want to test one or two phases in
       an alienfile for your plugin, but you still have to have a fully formed alienfile that contains all
       required phases.  This plugin lets you fill in the other phases with the appropriate hooks.  This is
       usually better than using real plugins which may pull in additional dynamic requirements that you do not
       want to rely on at test time.

</pre><h4><b>PROPERTIES</b></h4><pre>
   <b>probe</b>
        plugin 'Test::Mock' =&gt; (
          probe =&gt; $probe,
        );

       Override the probe behavior by one of the following:

       share
           For a "share" build.

       system
           For a "system" build.

       die To  throw an exception in the probe hook.  This will usually cause Alien::Build to try the next probe
           hook, if available, or to assume a "share" install.

   <b>download</b>
        plugin 'Test::Mock' =&gt; (
          download =&gt; \%fs_spec,
        );

        plugin 'Test::Mock' =&gt; (
          download =&gt; 1,
        );

       Mock out a download.  The %fs_spec is a hash where the hash values are directories and the string  values
       are files.  This a spec like this:

        plugin 'Test::Mock' =&gt; (
          download =&gt; {
            'foo-1.00' =&gt; {
              'README.txt' =&gt; "something to read",
              'foo.c' =&gt; "#include &lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;\n",
                         "int main() {\n",
                         "  printf(\"hello world\\n\");\n",
                         "}\n",
            }
          },
        );

       Would  generate  two  files  in the directory 'foo-1.00', a "README.txt" and a C file named "foo.c".  The
       default, if you  provide  a  true  non-hash  value  is  to  generate  a  single  tarball  with  the  name
       "foo-1.00.tar.gz".

   <b>extract</b>
        plugin 'Test::Mock' =&gt; (
          extract =&gt; \%fs_spec,
        );

        plugin 'Test::Mock' =&gt; (
          extract =&gt; 1,
        );

       Similar to "download" above, but for the "extract" phase.

   <b>build</b>
        plugin 'Test::Mock' =&gt; (
          build =&gt; [ \%fs_spec_build, \%fs_spec_install ],
        );

        plugin 'Test::Mock' =&gt; (
          build =&gt; 1,
        );

   <b>gather</b>
        plugin 'Test::Mock' =&gt; (
          gather =&gt; \%runtime_prop,
        );

        plugin 'Test::Mock' =&gt; (
          gather =&gt; 1,
        );

       This  adds  a gather hook (for both "share" and "system") that adds the given runtime properties, or if a
       true non-hash value is provided, some reasonable runtime properties for testing.

   <b>check_digest</b>
        plugin 'Test::Mock' =&gt; (
          check_digest =&gt; 1,  # the default
        );

       This adds a check_digest hook that uses fake algorithm FAKE that hashes everything  to  "deadbeaf".   The
       mock download above will set the digest for download_details so that this will pass the signature check.

        plugin 'Test::Mock' =&gt; (
          check_digest =&gt; sub {
            my($build, $file, $algo, $digest) = @_;
            ...
          },
        );

       If  you  give  it a code reference then you can write your own faux digest.  See the check_digest hook in
       Alien::Build::Manual::PluginAuthor for details.

</pre><h4><b>AUTHOR</b></h4><pre>
       Author: Graham Ollis &lt;<a href="mailto:plicease@cpan.org">plicease@cpan.org</a>&gt;

       Contributors:

       Diab Jerius (DJERIUS)

       Roy Storey (KIWIROY)

       Ilya Pavlov

       David Mertens (run4flat)

       Mark Nunberg (mordy, mnunberg)

       Christian Walde (Mithaldu)

       Brian Wightman (MidLifeXis)

       Zaki Mughal (zmughal)

       mohawk (mohawk2, ETJ)

       Vikas N Kumar (vikasnkumar)

       Flavio Poletti (polettix)

       Salvador Fandiño (salva)

       Gianni Ceccarelli (dakkar)

       Pavel Shaydo (zwon, trinitum)

       Kang-min Liu (劉康民, gugod)

       Nicholas Shipp (nshp)

       Juan Julián Merelo Guervós (JJ)

       Joel Berger (JBERGER)

       Petr Písař (ppisar)

       Lance Wicks (LANCEW)

       Ahmad Fatoum (a3f, ATHREEF)

       José Joaquín Atria (JJATRIA)

       Duke Leto (LETO)

       Shoichi Kaji (SKAJI)

       Shawn Laffan (SLAFFAN)

       Paul Evans (leonerd, PEVANS)

       Håkon Hægland (hakonhagland, HAKONH)

       nick nauwelaerts (INPHOBIA)

       Florian Weimer

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2011-2022 by Graham Ollis.

       This is free software; you can redistribute it and/or modify it under  the  same  terms  as  the  Perl  5
       programming language system itself.

perl v5.40.0                                       2024-11-15              <u>Alien::Build::Plugin::Test::<a href="../man3pm/Mock.3pm.html">Mock</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>