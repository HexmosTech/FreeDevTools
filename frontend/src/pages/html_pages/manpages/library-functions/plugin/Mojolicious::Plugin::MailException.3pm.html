<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mojolicious::Plugin::MailException - Mojolicious plugin to send crash information by email</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmojolicious-plugin-mailexception-perl">libmojolicious-plugin-mailexception-perl_0.20-1.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mojolicious::Plugin::MailException - Mojolicious plugin to send crash information by email

</pre><h4><b>SYNOPSIS</b></h4><pre>
           package MyServer;
           use Mojo::Base 'Mojolicious';

           sub startup {
               my ($self) = @_;

               $self-&gt;plugin(MailException =&gt; {
                   from    =&gt; '<a href="mailto:robot@my.site.com">robot@my.site.com</a>',
                   to      =&gt; '<a href="mailto:mail1@my.domain.com">mail1@my.domain.com</a>, <a href="mailto:mail2@his.domain.com">mail2@his.domain.com</a>',
                   subject =&gt; 'My site crashed!',
                   headers =&gt; {
                       'X-MySite' =&gt; 'crashed'
                   }
               });
           }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The plugin catches all exceptions, packs them into email and sends them to email.

       There are some plugin options:

       from
           From-address for email (default <b>root@localhost</b>)

       to  To-address(es) for email (default <b>webmaster@localhost</b>)

       subject
           Subject for crash email

       headers
           Hash with headers that have to be added to mail

       send
           Subroutine that can be used to send the mail, example:

               sub startup {
                   my ($self) = @_;

                   $self-&gt;plugin(MailException =&gt; {
                       send =&gt; sub {
                           my ($mail, $exception) = @_;

                           $mail-&gt;send;    # prepared MIME::Lite object
                       }
                   });
               }

           In  the  function  You  can send email by yourself and (or) prepare and send Your own mail (sms, etc)
           message using <b>$exception</b> object.  See Mojo::Exception.

       The plugin provides additional method (helper) <b>mail_exception</b>.

           $cx-&gt;mail_exception('my_error', { 'X-Add-Header' =&gt; 'value' });

       You can use the helper to raise exception with additional mail headers.

</pre><h4><b>VCS</b></h4><pre>
       The plugin is placed on github &lt;https://github.com/dr-co/libmojolicious-plugin-mail_exception&gt;.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENCE</b></h4><pre>
        Copyright (C) 2012 by Dmitry E. Oboukhov &lt;<a href="mailto:unera@debian.org">unera@debian.org</a>&gt;
        Copyright (C) 2012 by Roman V. Nikolaev &lt;<a href="mailto:rshadow@rambler.ru">rshadow@rambler.ru</a>&gt;

       This library is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself, either Perl version 5.8.8 or, at your option, any later version of Perl 5 you may have available.

perl v5.32.0                                       2021-01-07             <u>Mojolicious::Pl...::<a href="../man3pm/MailException.3pm.html">MailException</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>