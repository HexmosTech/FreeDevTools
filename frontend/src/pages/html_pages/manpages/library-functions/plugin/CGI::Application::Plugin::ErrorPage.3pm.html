<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CGI::Application::Plugin::ErrorPage - A simple error page plugin for CGI::Application</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcgi-application-perl">libcgi-application-perl_4.61+~1.21+~1.00+~1.01-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CGI::Application::Plugin::ErrorPage - A simple error page plugin for CGI::Application

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use CGI::Application::Plugin::ErrorPage 'error';

         sub my_run_mode {
           my $self = shift;

           eval { .... };

           if ($@) {
               # Send the gory details to the log for the developers
               warn "$@";

               # Send a comprehensible message to the users
               return $self-&gt;error(
                   title =&gt; "Technical Failure',
                   msg   =&gt; "There was a techical failure during the operation.",
               );
           }

         }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This plugin provides a shortcut for the common need of returning a simple error message to the user.

       You are encouraged to provide a template file so that the error messages can be presented with a design
       consistent with the rest of your application.

       A simple design is provided below to get to you started.

   <b>A</b> <b>better</b> <b>default</b> <b>error</b> <b>page.</b>
       If you don't install an AUTOLOAD run mode in the normal way in "setup", this plugin will automatically
       install a reasonable default at the "prerun" stage, which returns an error page like this:

         return $c-&gt;error(
             title =&gt; 'The requested page was not found.',
             msg =&gt; "(The page tried was: ".$c-&gt;get_current_runmode.")"
         );

   <b>Relation</b> <b>to</b> <b>error_mode()</b>
       CGI::Application includes "error_mode()" to provide custom handling when the application dies.  This
       <b>error()</b> routine provides a shortcut for displaying error messages to the user. So, they both have a place
       on their own, and it could make sense to use them together. In your 'error_mode' routine, you might call
       <b>error()</b> to return a message to the user:

           $self-&gt;error( title =&gt; 'Technical Failure', msg =&gt; 'There was a technical failure' );

   <b>Suggested</b> <b>Uses</b>
       Some common cases for returning error messages to the user include:

         * "Technical Failure" - The software failed unexpectedly
         * "Insufficient Information" - some required query parameter was missing
         * "Request Not Understood" - Some value we received in the query just didn't make sense.

   <b>Silliness</b>
         [22:36] &lt;rjbs&gt; Techno Failure.  We were cruising along and rocking out while fulfilling your request, but then the music stopped and we sort of got distracted.
         [22:36] &lt;rjbs&gt; Tek Failure.  Too busy reading Shatner novels to respond to your request.

</pre><h4><b>METHODS</b></h4><pre>
   <b>error()</b>
               return $self-&gt;error(
                   title =&gt; "Technical Failure',
                   msg   =&gt; "There was a techical failure during the operation",
               );

       Nothing fancy, just a shortcut to load a template meant to display errors. I've used it for the past
       several years, and it's been very handy to always have around on projects to quickly write error handling
       code.

       It tries to load a template file named 'error.html' to display the error page.

       If you want to use a different location, I recommend putting something like this in your base class, so
       you only have to provide your error template location once.

        # In this case, intentionally *don't* import 'error' to avoid a "redefined" warning.
        use CGI::Application::Plugin::ErrorPage;
        sub error {
             my $c = shift;
             return $c-&gt;CGI::Application::Plugin::ErrorPage::error(
                 tmpl =&gt; $self-&gt;cfg('ROOT_URI').'/path/to/my/alternate/error/file.html',
                 @_,
             );
        }

       This module intentionally ignores any "tmpl_path()" set by application, since this is usually an
       indication of where the intended file is located, not the error template.  This exceptional handling of
       the "tmpl_path()" is one of the only value added bits of logic that this plugin adds. The rest of it is
       primarily a simple recommendation for error page handling wrapped up as a module.

       If you don't want this behavior, it's simple enough just to roll your own <b>error()</b> page method and skip
       using this plugin. Here's the simple essential code:

           use Params::Validate ':all';
           sub error {
               my $self  = shift;
               my %p = validate(@_, { title =&gt; SCALAR, msg =&gt; SCALAR });
               my $t = $self-&gt;load_tmpl;
               $t-&gt;param( title =&gt; $p{title}, msg =&gt; $p{msg} );
               return $t-&gt;output;
           }

   <b>Example</b> <b>error.html</b>
       Here's a very basic example of an "error.html" file to get you started.

        &lt;!DOCTYPE html
                PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                 "<a href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</a>"&gt;
        &lt;html xmlns="<a href="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</a>" lang="en-US" xml:lang="en-US"&gt;
        &lt;head&gt;
        &lt;title&gt;&lt;!-- tmpl_var title escape=HTML --&gt;&lt;/title&gt;
        &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
        &lt;/head&gt;
        &lt;body&gt;
        &lt;h1&gt;&lt;!-- tmpl_var title escape=HTML--&gt;&lt;/h1&gt;
        &lt;p&gt;&lt;!-- tmpl_var msg escape=HTML --&gt;&lt;/p&gt;
        &lt;/body&gt;
        &lt;/html&gt;

       We manage site-wide designs with Dreamweaver and keep a basic 'error.html' that uses a generic
       Dreamweaver 'page.dwt' template with standard EditableRegion names. That way, we can copy this error.html
       into a new Dreamweaver-managed project and have the new design applied to it easily through Dreamweaver.

</pre><h4><b>SUPPORT</b></h4><pre>
       Ask for help on the CGI::Application mailing list. Report bugs and wishes through the rt.cpan.org bug
       tracker.

</pre><h4><b>AUTHOR</b></h4><pre>
           Mark Stosberg
           CPAN ID: MARKSTOS
           <a href="mailto:mark@summersault.com">mark@summersault.com</a>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This program is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

       The full text of the license can be found in the LICENSE file included with this module.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/perl.1.html">perl</a></b>(1).

perl v5.30.3                                       2020-08-23              <u>CGI::Applicati...ugin::<a href="../man3pm/ErrorPage.3pm.html">ErrorPage</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>