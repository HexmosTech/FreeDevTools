<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TAP::Formatter::HTML - TAP Test Harness output delegate for html output</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtap-formatter-html-perl">libtap-formatter-html-perl_0.13+dfsg-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       TAP::Formatter::HTML - TAP Test Harness output delegate for html output

</pre><h4><b>SYNOPSIS</b></h4><pre>
        ##
        ## command-line usage (alpha):
        ##
        prove -m -Q -P HTML=outfile:out.html,css_uri:style.css,js_uri:foo.js,force_inline_css:0

        # backwards compat usage:
        prove -m -Q --formatter=TAP::Formatter::HTML &gt;output.html

        # for more detail:
        perldoc App::Prove::Plugin::HTML

        ##
        ## perl usage:
        ##
        use TAP::Harness;

        my @tests = glob( 't/*.t' );
        my $harness = TAP::Harness-&gt;new({ formatter_class =&gt; 'TAP::Formatter::HTML',
                                          merge =&gt; 1 });
        $harness-&gt;runtests( @tests );
        # prints HTML to STDOUT by default

        # or if you really don't want STDERR merged in:
        my $harness = TAP::Harness-&gt;new({ formatter_class =&gt; 'TAP::Formatter::HTML' });

        # to use a custom formatter:
        my $fmt = TAP::Formatter::HTML-&gt;new;
        $fmt-&gt;css_uris([])-&gt;inline_css( $my_css )
            -&gt;js_uris(['<a href="http://mysite.com/jquery.js">http://mysite.com/jquery.js</a>', '<a href="http://mysite.com/custom.js">http://mysite.com/custom.js</a>'])
            -&gt;inline_js( '$(div.summary).hide()' );

        my $harness = TAP::Harness-&gt;new({ formatter =&gt; $fmt, merge =&gt; 1 });

        # to output HTML to a file[handle]:
        $fmt-&gt;output_fh( $fh );
        $fmt-&gt;output_file( '/tmp/foo.html' );

        # you can use your own customized templates too:
        $fmt-&gt;template('custom.tt2')
            -&gt;template_processor( Template-&gt;new )
            -&gt;<a href="../man0/force_inline_css.0.html">force_inline_css</a>(0)
            -&gt;<a href="../man0/force_inline_js.0.html">force_inline_js</a>(0);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides HTML output formatting for TAP::Harness (a replacement for Test::Harness.  It is
       largely based on ideas from TAP::Test::HTMLMatrix (which was built on Test::Harness and thus had a few
       limitations - hence this module).  For sample output, see:

       &lt;<a href="http://www.spurkis.org/TAP-Formatter-HTML/test-output.html">http://www.spurkis.org/TAP-Formatter-HTML/test-output.html</a>&gt;

       This module is targeted at all users of automated test suites.  It's meant to make reading test results
       easier, giving you a visual summary of your test suite and letting you drill down into individual
       failures (which will hopefully make testing more likely to happen at your organization ;-).

       The design goals are:

       •   <u>easy</u> <u>to</u> <u>use</u>

           Once you've got your test report, it should be obvious how to use it.

       •   <u>helpful</u>

           It should be helpful by pointing out <u>where</u> &amp; <u>why</u> your test suite is breaking.  If you've written your
           tests well, it should give you enough info to start tracking down the issue.

       •   <u>easy</u> <u>to</u> <u>install</u>

           Eg: should be a clean install from CPAN, and you shouldn't need to modify your existing test suite to
           get up &amp; running, though <u>you</u> <u>will</u> <u>need</u> <u>to</u> <u>stop</u> <u>using</u> <u>Test::Harness</u> <u>unfortunately</u>.

       •   <u>work</u> <u>out</u> <u>of</u> <u>the</u> <u>box</u>

           You  shouldn't need to do any custom-coding to get it working - the default configuration &amp; templates
           should be enough to get started with.  Once installed it should be a matter of running:

            % prove -m -Q --formatter=TAP::Formatter::HTML &gt;output.html

           From your project's home dir, and opening the resulting file.

       •   <u>easy</u> <u>to</u> <u>configure</u>

           You should be able to configure &amp; customize it to suit your needs.   As  such,  css,  javascript  and
           templates are all configurable.

</pre><h4><b>METHODS</b></h4><pre>
   <b>CONSTRUCTOR</b>
       <u>new</u>

         my $fmt = $class-&gt;new({ %args });

   <b>ACCESSORS</b>
       All chaining accessors:

       <u>verbosity</u>

         $fmt-&gt;verbosity( [ $v ] )

       Verbosity level, as defined in "new" in TAP::Harness:

            1   verbose        Print individual test results (and more) to STDOUT.
            0   normal
           -1   quiet          Suppress some test output (eg: test failures).
           -2   really quiet   Suppress everything to STDOUT but the HTML report.
           -3   silent         Suppress all output to STDOUT, including the HTML report.

       Note  that  the  report  is  also  available  via "html".  You can also provide a custom "output_fh" (aka
       "output_file") that will be used instead of "stdout", even if <u>silent</u> is on.

       <u>stdout</u>

         $fmt-&gt;stdout( [ \*FH ] );

       An IO::Handle filehandle for catching standard output.  Defaults to "STDOUT".

       <u>output_fh</u>

         $fmt-&gt;output_fh( [ \*FH ] );

       An IO::Handle filehandle for printing the HTML report to.  Defaults to the same object as "stdout".

       <b>Note:</b> If "verbosity" is set to "silent", printing to "output_fh" will still occur.   (that  is,  assuming
       you've opened a different file, <b>not</b> "STDOUT").

       <u>output_file</u>

         $fmt-&gt;output_file( $file_name )

       Not strictly an accessor - this is a shortcut for setting "output_fh", equivalent to:

         $fmt-&gt;output_fh( IO::File-&gt;new( $file_name, 'w' ) );

       You can set this with the "TAP_FORMATTER_HTML_OUTFILE=/path/to/file" environment variable

       <u>escape_output</u>

         $fmt-&gt;escape_output( [ $boolean ] );

       If set, all output to "stdout" is escaped.  This is probably only useful if you're testing the formatter.
       Defaults to 0.

       <u>html</u>

         $fmt-&gt;html( [ \$html ] );

       This is a reference to the scalar containing the html generated on the last test run.  Useful if you have
       "verbosity" set to "silent", and have not provided a custom "output_fh" to write the report to.

       <u>tests</u>

         $fmt-&gt;tests( [ \@test_files ] )

       A list of test files we're running, set by TAP::Parser.

       <u>session_class</u>

         $fmt-&gt;session_class( [ $class ] )

       Class to use for TAP::Parser test sessions.  You probably won't need to use this unless you're hacking or
       sub-classing the formatter.  Defaults to TAP::Formatter::HTML::Session.

       <u>sessions</u>

         $fmt-&gt;sessions( [ \@sessions ] )

       Test  sessions  added  by TAP::Parser.  You probably won't need to use this unless you're hacking or sub-
       classing the formatter.

       <u>template_processor</u>

         $fmt-&gt;template_processor( [ $processor ] )

       The template processor to use.  Defaults to a TT2 Template processor with the following config:

         COMPILE_DIR  =&gt; catdir( tempdir(), 'TAP-Formatter-HTML' ),
         COMPILE_EXT  =&gt; '.ttc',
         INCLUDE_PATH =&gt; parent directory TAP::Formatter::HTML was loaded from

       Note: INCLUDE_PATH used to be set to: "join(':', @INC)" but this was causing issues on systems with &gt;  64
       dirs in @INC.  See RT #74364 for details.

       <u>template</u>

         $fmt-&gt;template( [ $file_name ] )

       The template file to load.  Defaults to "TAP/Formatter/HTML/default_report.tt2".

       You can set this with the "TAP_FORMATTER_HTML_TEMPLATE=/path/to.tt" environment variable.

       <u>css_uris</u>

         $fmt-&gt;css_uris( [ \@uris ] )

       A  list  of  URIs  (or  strings)  to  include  as external stylesheets in &lt;style&gt; tags in the head of the
       document.  Defaults to:

         ['file:TAP/Formatter/HTML/default_report.css'];

       You  can  set  this  with  the  "TAP_FORMATTER_HTML_CSS_URIS=/path/to.css:/another/path.css"  environment
       variable.

       If you're using Win32, please see "WIN32 URIS".

       <u>js_uris</u>

         $fmt-&gt;js_uris( [ \@uris ] )

       A  list  of  URIs  (or  strings)  to  include as external stylesheets in &lt;script&gt; tags in the head of the
       document.  Defaults to:

         ['file:TAP/Formatter/HTML/default_report.js'];

       You can set this with the "TAP_FORMATTER_HTML_JS_URIS=/path/to.js:/another/path.js" environment variable.

       If you're using Win32, please see "WIN32 URIS".

       <u>inline_css</u>

         $fmt-&gt;inline_css( [ $css ] )

       If set, the formatter will include the CSS code in a &lt;style&gt; tag in the head of the document.

       <u>inline_js</u>

         $fmt-&gt;inline_js( [ $javascript ] )

       If set, the formatter will include the JavaScript code in a &lt;script&gt; tag in the head of the document.

       <u>minify</u>

         $fmt-&gt;minify( [ $boolean ] )

       If set, the formatter will attempt to reduce the size of the generated report, they can get pretty big if
       you're not careful!  Defaults to 1 (true).

       <b>Note:</b> This currently just means... <u>remove</u> <u>tabs</u> <u>at</u> <u>start</u> <u>of</u> <u>a</u> <u>line</u>.  It may be extended in the future.

       <u>abs_file_paths</u>

         $fmt-&gt;abs_file_paths( [ $ boolean ] )

       If set, the formatter will attempt to convert any relative <u>file</u> JS &amp; css URI's  listed  in  "css_uris"  &amp;
       "js_uris"  to  absolute  paths.  This is handy if you'll be sending moving the HTML output around on your
       harddisk, (but not so handy if you move it to another machine - see "force_inline_css").  Defaults to <u>1</u>.

       <u>force_inline_css</u>

         $fmt-&gt;force_inline_css( [ $boolean ] )

       If set, the formatter will attempt to slurp in any <u>file</u> css URI's listed in "css_uris", and  append  them
       to  "inline_css".  This is handy if you'll be sending the output around - that way you don't have to send
       a CSS file too.  Defaults to <u>1</u>.

       You can set this with the "TAP_FORMATTER_HTML_FORCE_INLINE_CSS=0|1" environment variable.

       <u>force_inline_js(</u> <u>[</u> <u>$boolean</u> <u>]</u> <u>)</u>

       If set, the formatter will attempt to slurp in any <u>file</u> javascript URI's listed in "js_uris", and  append
       them  to  "inline_js".  This is handy if you'll be sending the output around - that way you don't have to
       send javascript files too.

       Note that including jquery inline doesn't work with some browsers, haven't investigated why.  Defaults to
       <u>0</u>.

       You can set this with the "TAP_FORMATTER_HTML_FORCE_INLINE_JS=0|1" environment variable.

       <u>color</u>

       This method is for "TAP::Harness" API compatibility only.  It does nothing.

   <b>API</b> <b>METHODS</b>
       <u>summary</u>

         $html = $fmt-&gt;summary( $aggregator )

       "summary"  produces  a  summary  report  after  all   tests   are   run.    $aggregator   should   be   a
       TAP::Parser::Aggregator.

       This calls:

         $fmt-&gt;template_processor-&gt;process( $params )

       Where $params is a data structure containing:

         report      =&gt; %test_report
         js_uris     =&gt; @js_uris
         css_uris    =&gt; @js_uris
         inline_js   =&gt; $inline_js
         inline_css  =&gt; $inline_css
         formatter   =&gt; %formatter_info

       The  "report"  is  the  most  complicated  data  structure,  and  will  sooner  or later be documented in
       "CUSTOMIZING".

</pre><h4><b>CUSTOMIZING</b></h4><pre>
       This section is not yet written.  Please look through the code if you want to customize the templates, or
       sub-class.

       You can use environment variables to customize the behaviour of TFH:

         TAP_FORMATTER_HTML_OUTFILE=/path/to/file
         TAP_FORMATTER_HTML_FORCE_INLINE_CSS=0|1
         TAP_FORMATTER_HTML_FORCE_INLINE_JS=0|1
         TAP_FORMATTER_HTML_CSS_URIS=/path/to.css:/another/path.css
         TAP_FORMATTER_HTML_JS_URIS=/path/to.js:/another/path.js
         TAP_FORMATTER_HTML_TEMPLATE=/path/to.tt

       This should save you from having to write custom code for simple cases.

</pre><h4><b>WIN32</b> <b>URIS</b></h4><pre>
       This module tries to do the right thing when fed Win32 File <u>paths</u> as File URIs  to  both  "css_uris"  and
       "js_uris", eg:

         C:\some\path
         file:///C:\some\path

       While I could lecture you what a valid file URI is and point you at:

       <a href="http://blogs.msdn.com/ie/archive/2006/12/06/file-uris-in-windows.aspx">http://blogs.msdn.com/ie/archive/2006/12/06/file-uris-in-windows.aspx</a>

       Which basically says the above are invalid URIs, and you should use:

         file:///C:/some/path
         # ie: no backslashes

       I  also  realize it's convenient to chuck in a Win32 file path, as you can on Unix.  So if you're running
       under Win32, "TAP::Formatter::HTML" will look for a signature 'X:\', '\' or 'file:' at the start of  each
       URI to see if you are referring to a file or another type of URI.

       Note  that  you must use '"file:///C:\blah"' with <u>3</u> <u>slashes</u> otherwise '"C:"' will become your <u>host</u>, which
       is probably not what you want.  See URI::file for more details.

       I realize this is a pretty basic algorithm, but it should handle most cases.  If it doesn't work for you,
       you can always construct a valid File URI instead.

</pre><h4><b>BUGS</b></h4><pre>
       Please use <a href="http://rt.cpan.org">http://rt.cpan.org</a> to report any issues.  Patches are welcome.

</pre><h4><b>CONTRIBUTING</b></h4><pre>
       Use github:

       &lt;https://github.com/spurkis/TAP-Formatter-HTML&gt;

</pre><h4><b>AUTHOR</b></h4><pre>
       Steve Purkis &lt;<a href="mailto:spurkis@cpan.org">spurkis@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2008-2012 Steve Purkis &lt;<a href="mailto:spurkis@cpan.org">spurkis@cpan.org</a>&gt;, S Purkis Consulting Ltd.  All rights reserved.

       This module is released under the same terms as Perl itself.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Examples in the "examples" directory and here:

       &lt;<a href="http://www.spurkis.org/TAP-Formatter-HTML/test-output.html">http://www.spurkis.org/TAP-Formatter-HTML/test-output.html</a>&gt;,
       &lt;<a href="http://www.spurkis.org/TAP-Formatter-HTML/DBD-SQLite-example.html">http://www.spurkis.org/TAP-Formatter-HTML/DBD-SQLite-example.html</a>&gt;,
       &lt;<a href="http://www.spurkis.org/TAP-Formatter-HTML/Template-example.html">http://www.spurkis.org/TAP-Formatter-HTML/Template-example.html</a>&gt;

       prove - TAP::Harness's new cmdline utility.  It's great, use it!

       App::Prove::Plugin::HTML - the prove interface for this module.

       Test::TAP::HTMLMatrix - the inspiration for this module.  Many good ideas were borrowed from it.

       TAP::Formatter::Console - the default TAP formatter used by TAP::Harness

perl v5.36.0                                       2023-08-11                          <u>TAP::Formatter::<a href="../man3pm/HTML.3pm.html">HTML</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>