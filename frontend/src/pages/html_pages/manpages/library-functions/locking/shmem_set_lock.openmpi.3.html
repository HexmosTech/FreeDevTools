<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C or C++:</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openmpi-doc">openmpi-doc_5.0.7-1build1_all</a> <br><br><pre>
</pre><h4><b>SYNOPSIS</b></h4><pre>
       C or C++:

          #include &lt;mpp/shmem.h&gt;

          void shmem_clear_lock(volatile long *lock)

          void shmem_set_lock(volatile long *lock)

          int shmem_test_lock(volatile long *lock)

       Fortran:

          INCLUDE "mpp/shmem.fh"

          INTEGER lock, SHMEM_TEST_LOCK

          CALL SHMEM_CLEAR_LOCK(lock)

          CALL SHMEM_SET_LOCK(lock)

          I = SHMEM_TEST_LOCK(lock)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <u>shmem_set_lock</u> routine sets a mutual exclusion lock after waiting for the lock to  be  freed  by  any
       other  PE  currently  holding  the  lock.   Waiting  PEs are assured of getting the lock in a first-come,
       first-served manner.

       The <u>shmem_clear_lock</u> routine releases a lock previously set by <u>shmem_set_lock</u>  after  ensuring  that  all
       local and remote stores initiated in the critical region are complete.

       The  <u>shmem_test_lock</u> function sets a mutual exclusion lock only if it is currently cleared. By using this
       function, a PE can avoid blocking on a set lock. If the lock  is  currently  set,  the  function  returns
       without waiting. These routines are appropriate for protecting a critical region from simultaneous update
       by multiple PEs. They accept the following arguments:

       <b>lock</b>   A  symmetric  data object that is a scalar variable or an array of length 1. This data object must
              be set to 0 on all processing elements (PEs) prior to the first use. lock must be of type integer.
              If you are using Fortran, it must be of default kind.

</pre><h4><b>NOTES</b></h4><pre>
       The term symmetric data object is defined on <u><a href="../man3/intro_shmem.3.html">intro_shmem</a></u>(3).

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The <u>shmem_test_lock</u> function returns 0 if the lock was originally cleared and this call was able  to  set
       the  lock. A value of 1 is returned if the lock had been set and the call returned without waiting to set
       the lock.

       <b>SEE</b> <b>ALSO:</b>
          <u><a href="../man3/intro_shmem.3.html">intro_shmem</a></u>(3)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2003-2025, The Open MPI Community

                                                  Jun 07, 2025                                 <u><a href="../man3/SHMEM_SET_LOCK.3.html">SHMEM_SET_LOCK</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>