<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Damage - repairs damaged graphics</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ivtools-dev">ivtools-dev_2.0.11d.a1-3build7_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Damage - repairs damaged graphics

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;Unidraw/Graphic/damage.h&gt;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Damage  objects  store  damaged areas of a graphic for subsequent incremental repair.  Areas of a graphic
       are "damaged" if they need to be redrawn for any reason, e.g., if their state has  been  modified  or  if
       under/overlapping  graphics  change  their  appearance.   Damage  objects  try  to minimize the amount of
       redrawing needed to repair a graphic.  They are most useful when the graphic is complicated  enough  that
       it  would be undesirable to redraw the entire canvas when the graphic is modified.  Damage objects do <u>not</u>
       eliminate the need for an interactor's <u>Redraw</u> member function, though they could be used to implement it.

</pre><h4><b>PUBLIC</b> <b>OPERATIONS</b></h4><pre>
       <b>Damage(Canvas*</b> <b>=</b> <b>nil,</b> <b>Painter*</b> <b>=</b> <b>nil,</b> <b>Graphic*</b> <b>=</b> <b>nil)</b>
              Create a new Damage object for a graphic on the given  canvas.   The  painter  is  used  to  erase
              damaged areas using its ClearRect function prior to redrawing them.

       <b>virtual</b> <b>void</b> <b>Incur(Graphic*)</b>
       <b>virtual</b> <b>void</b> <b>Incur(BoxObj&amp;)</b>
       <b>virtual</b> <b>void</b> <b>Incur(</b>
           <b>Coord</b> <b>left,</b> <b>Coord</b> <b>bottom,</b> <b>Coord</b> <b>right,</b> <b>Coord</b> <b>top</b>
       <b>)</b>
              Notify  the  damage object that a rectangular area has been damaged, either by passing the graphic
              that contributed the area or the area itself.

       <b>virtual</b> <b>void</b> <b>Added(Graphic*)</b>
              Notify the damage object that the given graphic was appended (<u>not</u> inserted)  to  the  graphic  but
              never drawn.  The damage object can thus be responsible for drawing newly added graphics as well.

       <b>virtual</b> <b>void</b> <b>Repair()</b>
              Repair  all  damage incurred since the last Repair (or since the damage object was created if this
              is the first Repair).

       <b>virtual</b> <b>void</b> <b>Reset()</b>
              Reset the damage object.  Any damage incurred is lost.

       <b>virtual</b> <b>boolean</b> <b>Incurred()</b>
              Returns true if any damage has been incurred.

       <b>void</b> <b>SetCanvas(Canvas*)</b>
       <b>void</b> <b>SetPainter(Painter*)</b>
       <b>void</b> <b>SetGraphic(Graphic*)</b>

       <b>Canvas*</b> <b>GetCanvas()</b>
       <b>Painter*</b> <b>GetPainter()</b>
       <b>Graphic*</b> <b>GetGraphic()</b>
              Set and get attributes of the damage object.

</pre><h4><b>PROTECTED</b> <b>OPERATIONS</b></h4><pre>
       <b>int</b> <b>Area(BoxObj&amp;)</b>
              A helper function that returns the area in square pixels occupied by the given BoxObj.

       <b>virtual</b> <b>void</b> <b>DrawAreas()</b>
       <b>virtual</b> <b>void</b> <b>DrawAdditions()</b>
              Explicitly draw the areas of incurred and added damage, respectively.

       <b>virtual</b> <b>void</b> <b>Merge(BoxObj&amp;)</b>
              Merge the given BoxObj into the list of incur-damaged areas, coalescing it into an  existing  area
              if the number of non-overlapping areas exceeds 2.

       <b>void</b> <b>FirstArea(Iterator&amp;)</b>
       <b>void</b> <b>FirstAddition(Iterator&amp;)</b>
       <b>void</b> <b>Next(Iterator&amp;)</b>
       <b>boolean</b> <b>Done(Iterator)</b>
       <b>BoxObj*</b> <b>GetArea(Iterator)</b>
       <b>Graphic*</b> <b>GetAddition(Iterator)</b>
              Operations  for  iterating  over  the lists of damaged areas (represented with BoxObj objects) and
              added Graphics.  FirstArea and FirstAddition initialize the iterator to point to the first item on
              the corresponding list, Next advances the iterator, and Done returns true if the  iterator  points
              beyond  the  end  of  the list.  GetArea and GetAddition return the BoxObj or Graphic to which the
              iterator points.

       <b>UList*</b> <b>Elem(Iterator)</b>
              A helper function for returning the UList to which  an  iterator  points.   The  <b>_</b><u>areas</u>  protected
              member  is  a UList that stores the list of damaged areas, and the <b>_</b><u>additions</u> protected stores the
              list of added graphics.

       <b>void</b> <b>DeleteArea(BoxObj*)</b>
       <b>void</b> <b>DeleteAreas()</b>
              DeleteArea is a helper function for deleting the storage associated with a damaged area, including
              the area itself and the UList element.  DeleteAreas is a helper function that deletes the list  of
              damaged areas.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3I/Canvas.3I.html">Canvas</a>(3I), <a href="../man3U/Graphic.3U.html">Graphic</a>(3U), <a href="../man3U/Iterator.3U.html">Iterator</a>(3U), <a href="../man3I/Painter.3I.html">Painter</a>(3I), <a href="../man3U/UList.3U.html">UList</a>(3U), <a href="../man3U/geomobjs.3U.html">geomobjs</a>(3U)

Unidraw                                          30 January 1991                                      <u><a href="../man3U/Damage.3U.html">Damage</a></u>(3U)
</pre>
 </div>
</div></section>
</div>
</body>
</html>