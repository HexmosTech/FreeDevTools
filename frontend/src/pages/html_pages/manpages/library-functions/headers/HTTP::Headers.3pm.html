<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTTP::Headers - Class encapsulating HTTP Message headers</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libhttp-message-perl">libhttp-message-perl_7.00-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       HTTP::Headers - Class encapsulating HTTP Message headers

</pre><h4><b>VERSION</b></h4><pre>
       version 7.00

</pre><h4><b>SYNOPSIS</b></h4><pre>
        require HTTP::Headers;
        $h = HTTP::Headers-&gt;new;

        $h-&gt;header('Content-Type' =&gt; 'text/plain');  # set
        $ct = $h-&gt;header('Content-Type');            # get
        $h-&gt;remove_header('Content-Type');           # delete

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The "HTTP::Headers" class encapsulates HTTP-style message headers.  The headers consist of attribute-
       value pairs also called fields, which may be repeated, and which are printed in a particular order.  The
       field names are cases insensitive.

       Instances of this class are usually created as member variables of the "HTTP::Request" and
       "HTTP::Response" classes, internal to the library.

       The following methods are available:

       $h = HTTP::Headers-&gt;new
           Constructs  a  new  "HTTP::Headers"  object.   You  might  pass some initial attribute-value pairs as
           parameters to the constructor.  <u>E.g.</u>:

            $h = HTTP::Headers-&gt;new(
                  Date         =&gt; 'Thu, 03 Feb 1994 00:00:00 GMT',
                  Content_Type =&gt; 'text/html; version=3.2',
                  Content_Base =&gt; '<a href="http://www.perl.org/">http://www.perl.org/</a>');

           The constructor arguments are passed to the "header" method which is described below.

       $h-&gt;clone
           Returns a copy of this "HTTP::Headers" object.

       $h-&gt;header( $field )
       $h-&gt;header( $field =&gt; $value )
       $h-&gt;header( $f1 =&gt; $v1, $f2 =&gt; $v2, ... )
           Get or set the value of one or more header fields.  The  header  field  name  ($field)  is  not  case
           sensitive.  To make the life easier for perl users who wants to avoid quoting before the =&gt; operator,
           you can use '_' as a replacement for '-' in header names.

           The  <b>header()</b>  method  accepts  multiple  ($field  =&gt;  $value) pairs, which means that you can update
           several fields with a single invocation.

           The $value argument may be a plain string or a reference to an array of strings  for  a  multi-valued
           field.  If  the $value is provided as "undef" then the field is removed.  If the $value is not given,
           then that header field will remain unchanged. In addition to being a string, $value may be  something
           that stringifies.

           The  old  value  (or  values)  of the last of the header fields is returned.  If no such field exists
           "undef" will be returned.

           A multi-valued field will be returned as separate values in list context  and  will  be  concatenated
           with  ",  "  as separator in scalar context.  The HTTP spec (RFC 2616) promises that joining multiple
           values in this way will not change the semantic of a header field, but in practice  there  are  cases
           like  old-style  Netscape  cookies  (see  HTTP::Cookies) where "," is used as part of the syntax of a
           single field value.

           Examples:

            $header-&gt;header(MIME_Version =&gt; '1.0',
                            User_Agent   =&gt; 'My-Web-Client/0.01');
            $header-&gt;header(Accept =&gt; "text/html, text/plain, image/*");
            $header-&gt;header(Accept =&gt; [qw(text/html text/plain image/*)]);
            @accepts = $header-&gt;header('Accept');  # get multiple values
            $accepts = $header-&gt;header('Accept');  # get values as a single string

       $h-&gt;push_header( $field =&gt; $value )
       $h-&gt;push_header( $f1 =&gt; $v1, $f2 =&gt; $v2, ... )
           Add a new field value for the specified header  field.   Previous  values  for  the  same  field  are
           retained.

           As  for  the  <b>header()</b> method, the field name ($field) is not case sensitive and '_' can be used as a
           replacement for '-'.

           The $value argument may be a scalar or a reference to a list of scalars.

            $header-&gt;push_header(Accept =&gt; 'image/jpeg');
            $header-&gt;push_header(Accept =&gt; [map "image/$_", qw(gif png tiff)]);

       $h-&gt;init_header( $field =&gt; $value )
           Set the specified header to the given value, but only if no previous value for that field is set.

           The header field name ($field) is not case sensitive and '_' can be used as a replacement for '-'.

           The $value argument may be a scalar or a reference to a list of scalars.

       $h-&gt;remove_header( $field, ... )
           This function removes the header fields with the specified names.

           The header field names ($field) are not case sensitive and '_' can be used as a replacement for '-'.

           The return value is the values of the fields removed.  In scalar context the number of fields removed
           is returned.

           Note that if you pass in multiple field names then it is generally not possible to tell which of  the
           returned values belonged to which field.

       $h-&gt;remove_content_headers
           This  will  remove all the header fields used to describe the content of a message.  All header field
           names prefixed  with  "Content-"  fall  into  this  category,  as  well  as  "Allow",  "Expires"  and
           "Last-Modified".  RFC 2616 denotes these fields as <u>Entity</u> <u>Header</u> <u>Fields</u>.

           The return value is a new "HTTP::Headers" object that contains the removed headers only.

       $h-&gt;clear
           This will remove all header fields.

       $h-&gt;header_field_names
           Returns  the  list of distinct names for the fields present in the header.  The field names have case
           as suggested by HTTP spec, and the names are returned in the recommended "Good Practice" order.

           In scalar context return the number of distinct field names.

       $h-&gt;scan( \&amp;process_header_field )
           Apply a subroutine to each header field in turn.  The callback routine is called with two parameters;
           the name of the field and a single value (a string).  If a header field  is  multi-valued,  then  the
           routine  is  called  once  for each value.  The field name passed to the callback routine has case as
           suggested by HTTP spec, and the headers will be visited in the recommended "Good Practice" order.

           Any return values of the callback routine are  ignored.   The  loop  can  be  broken  by  raising  an
           exception ("die"), but the caller of <b>scan()</b> would have to trap the exception itself.

       $h-&gt;<b>flatten()</b>
           Returns the list of pairs of keys and values.

       $h-&gt;as_string
       $h-&gt;as_string( $eol )
           Return  the  header fields as a formatted MIME header.  Since it internally uses the "scan" method to
           build the string, the result will use case as suggested by HTTP spec, and it will follow  recommended
           "Good Practice" of ordering the header fields.  Long header values are not folded.

           The  optional  $eol  parameter  specifies  the  line  ending  sequence  to use.  The default is "\n".
           Embedded "\n" characters in header field values will be substituted with this line ending sequence.

</pre><h4><b>CONVENIENCE</b> <b>METHODS</b></h4><pre>
       The most frequently used headers can also be accessed through the following convenience methods.  Most of
       these methods can both be used to read and to set the value of a header.  The header value is set if  you
       pass  an  argument  to the method.  The old header value is always returned.  If the given header did not
       exist then "undef" is returned.

       Methods that deal with dates/times always convert their value to system time (seconds since Jan 1,  1970)
       and they also expect this kind of value when the header value is set.

       $h-&gt;date
           This header represents the date and time at which the message was originated. <u>E.g.</u>:

             $h-&gt;date(time);  # set current date

       $h-&gt;expires
           This header gives the date and time after which the entity should be considered stale.

       $h-&gt;if_modified_since
       $h-&gt;if_unmodified_since
           These  header  fields  are used to make a request conditional.  If the requested resource has (or has
           not) been modified since the time specified in this field, then the server will  return  a  "304  Not
           Modified" response instead of the document itself.

       $h-&gt;last_modified
           This header indicates the date and time at which the resource was last modified. <u>E.g.</u>:

             # check if document is more than 1 hour old
             if (my $last_mod = $h-&gt;last_modified) {
                 if ($last_mod &lt; time - 60*60) {
                     ...
                 }
             }

       $h-&gt;content_type
           The Content-Type header field indicates the media type of the message content. <u>E.g.</u>:

             $h-&gt;content_type('text/html');

           The  value returned will be converted to lower case, and potential parameters will be chopped off and
           returned as a separate value if in an array context.  If there is no  such  header  field,  then  the
           empty string is returned.  This makes it safe to do the following:

             if ($h-&gt;content_type eq 'text/html') {
                # we enter this place even if the real header value happens to
                # be 'TEXT/HTML; version=3.0'
                ...
             }

       $h-&gt;content_type_charset
           Returns  the  upper-cased  charset  specified in the Content-Type header.  In list context return the
           lower-cased bare content type followed by the upper-cased charset.  Both values will  be  "undef"  if
           not specified in the header.

       $h-&gt;content_is_text
           Returns TRUE if the Content-Type header field indicate that the content is textual.

       $h-&gt;content_is_html
           Returns  TRUE  if  the  Content-Type  header  field  indicate  that  the content is some kind of HTML
           (including XHTML).  This method can't be used to set Content-Type.

       $h-&gt;content_is_xhtml
           Returns TRUE if the Content-Type header field indicate that the content is XHTML.  This method  can't
           be used to set Content-Type.

       $h-&gt;content_is_xml
           Returns TRUE if the Content-Type header field indicate that the content is XML.  This method can't be
           used to set Content-Type.

       $h-&gt;content_encoding
           The  Content-Encoding  header field is used as a modifier to the media type.  When present, its value
           indicates what additional encoding mechanism has been applied to the resource.

       $h-&gt;content_length
           A decimal number indicating the size in bytes of the message content.

       $h-&gt;content_language
           The natural language(s) of the intended audience for the message content.  The value is one  or  more
           language  tags  as  defined by RFC 1766.  Eg. "no" for some kind of Norwegian and "en-US" for English
           the way it is written in the US.

       $h-&gt;title
           The title of the document.  In libwww-perl this header will be  initialized  automatically  from  the
           &lt;TITLE&gt;...&lt;/TITLE&gt; element of HTML documents.  <u>This</u> <u>header</u> <u>is</u> <u>no</u> <u>longer</u> <u>part</u> <u>of</u> <u>the</u> <u>HTTP</u> <u>standard.</u>

       $h-&gt;user_agent
           This  header  field  is  used  in  request  messages  and  contains  information about the user agent
           originating the request.  <u>E.g.</u>:

             $h-&gt;user_agent('Mozilla/5.0 (compatible; MSIE 7.0; Windows NT 6.0)');

       $h-&gt;server
           The server header field contains information about the software being used by the originating  server
           program handling the request.

       $h-&gt;from
           This  header should contain an Internet e-mail address for the human user who controls the requesting
           user agent.  The address should be machine-usable, as defined by RFC822.  E.g.:

             $h-&gt;from('King Kong &lt;<a href="mailto:king@kong.com">king@kong.com</a>&gt;');

           <u>This</u> <u>header</u> <u>is</u> <u>no</u> <u>longer</u> <u>part</u> <u>of</u> <u>the</u> <u>HTTP</u> <u>standard.</u>

       $h-&gt;referer
           Used to specify the address (URI) of the document from  which  the  requested  resource  address  was
           obtained.

           The "Free On-line Dictionary of Computing" as this to say about the word <u>referer</u>:

                &lt;World-Wide Web&gt; A misspelling of "referrer" which
                somehow made it into the {HTTP} standard.  A given {web
                page}'s referer (sic) is the {URL} of whatever web page
                contains the link that the user followed to the current
                page.  Most browsers pass this information as part of a
                request.

                (1998-10-19)

           By  popular demand "referrer" exists as an alias for this method so you can avoid this misspelling in
           your programs and still send the right thing on the wire.

           When setting the referrer, this method removes the fragment from the given URI if it is  present,  as
           mandated  by  RFC2616.   Note  that  the removal does <u>not</u> happen automatically if using the <b>header()</b>,
           <b>push_header()</b> or <b>init_header()</b> methods to set the referrer.

       $h-&gt;www_authenticate
           This header must be included as part of a "401 Unauthorized" response.  The field value consist of  a
           challenge that indicates the authentication scheme and parameters applicable to the requested URI.

       $h-&gt;proxy_authenticate
           This header must be included in a "407 Proxy Authentication Required" response.

       $h-&gt;authorization
       $h-&gt;proxy_authorization
           A  user  agent  that  wishes  to authenticate itself with a server or a proxy, may do so by including
           these headers.

       $h-&gt;authorization_basic
           This method is used to get or set an authorization header that use the "Basic Authentication Scheme".
           In array context it will return two values; the user name and the password.   In  scalar  context  it
           will return <u>"uname:password"</u> as a single string value.

           When used to set the header value, it expects two arguments.  <u>E.g.</u>:

             $h-&gt;authorization_basic($uname, $password);

           The method will croak if the $uname contains a colon ':'.

       $h-&gt;proxy_authorization_basic
           Same as <b>authorization_basic()</b> but will set the "Proxy-Authorization" header instead.

</pre><h4><b>NON-CANONICALIZED</b> <b>FIELD</b> <b>NAMES</b></h4><pre>
       The header field name spelling is normally canonicalized including the '_' to '-' translation.  There are
       some  application  where  this  is  not appropriate.  Prefixing field names with ':' allow you to force a
       specific spelling.  For example if you really want a header field name to show up as "foo_bar" instead of
       "Foo-Bar", you might set it like this:

         $h-&gt;header(":foo_bar" =&gt; 1);

       These field names are returned with the ':' intact for $h-&gt;header_field_names and the $h-&gt;scan  callback,
       but the colons do not show in $h-&gt;as_string.

</pre><h4><b>AUTHOR</b></h4><pre>
       Gisle Aas &lt;<a href="mailto:gisle@activestate.com">gisle@activestate.com</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 1994 by Gisle Aas.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.40.0                                       2024-11-06                                 <u>HTTP::<a href="../man3pm/Headers.3pm.html">Headers</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>