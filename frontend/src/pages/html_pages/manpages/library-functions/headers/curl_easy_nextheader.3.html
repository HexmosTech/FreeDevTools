<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>curl_easy_nextheader - get the next HTTP header</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       curl_easy_nextheader - get the next HTTP header

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       struct curl_header *curl_easy_nextheader(CURL *easy,
                                                unsigned int origin,
                                                int request,
                                                struct curl_header *prev);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This function lets an application iterate over all previously received HTTP headers.

       The  <u>origin</u>  argument is for specifying which headers to receive, as a single HTTP transfer might provide
       headers from several different places and they may then have different importance to the user and headers
       using the same name might be used. The <u>origin</u> is a bitmask for what header  sources  you  want.  See  the
       <u><a href="../man3/curl_easy_header.3.html">curl_easy_header</a>(3)</u> man page for the origin descriptions.

       The  <u>request</u>  argument  tells  libcurl  from which request you want headers from. A single transfer might
       consist of a series of HTTP requests and this argument  lets  you  specify  which  particular  individual
       request  you  want  the headers from. 0 being the first request and then the number increases for further
       redirects or when multi-state authentication is used. Passing in -1 is a shortcut to "the  last"  request
       in the series, independently of the actual amount of requests used.

       It  is  suggested  that you pass in the same <b>origin</b> and <b>request</b> when iterating over a range of headers as
       changing the value mid-loop might give you unexpected results.

       If <u>prev</u> is NULL, this function returns a pointer to the  first  header  stored  within  the  given  scope
       (origin + request).

       If  <u>prev</u>  is  a pointer to a previously returned header struct, <u><a href="../man3/curl_easy_nextheader.3.html">curl_easy_nextheader</a>(3)</u> returns a pointer
       the next header stored within the given scope. This way, an application can iterate  over  all  available
       headers.

       The memory for the struct this points to, is owned and managed by libcurl and is associated with the easy
       handle.  Applications must copy the data if they want it to survive subsequent API calls or the life-time
       of the easy handle.

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects http only

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         struct curl_header *prev = NULL;
         struct curl_header *h;

         CURL *curl = curl_easy_init();
         if(curl) {
           curl_easy_setopt(curl, CURLOPT_URL, "https://example.com");
           curl_easy_perform(curl);

           /* extract the normal headers from the first request */
           while((h = curl_easy_nextheader(curl, CURLH_HEADER, 0, prev))) {
             printf("%s: %s\n", h-&gt;name, h-&gt;value);
             prev = h;
           }

           /* extract the normal headers + 1xx + trailers from the last request */
           unsigned int origin = CURLH_HEADER| CURLH_1XX | CURLH_TRAILER;
           while((h = curl_easy_nextheader(curl, origin, -1, prev))) {
             printf("%s: %s\n", h-&gt;name, h-&gt;value);
             prev = h;
           }
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.83.0

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       This function returns the next header, or NULL when there are no more  (matching)  headers  or  an  error
       occurred.

       If  this  function returns NULL when <u>prev</u> was set to NULL, then there are no headers available within the
       scope to return.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/curl_easy_header.3.html">curl_easy_header</a></b>(3), <b><a href="../man3/curl_easy_perform.3.html">curl_easy_perform</a></b>(3)

libcurl                                            2025-06-16                            <u><a href="../man3/curl_easy_nextheader.3.html">curl_easy_nextheader</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>