<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIME::Payload - implementation of a payload of a DIME message</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdime-tools-perl">libdime-tools-perl_0.05-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       DIME::Payload - implementation of a payload of a DIME message

</pre><h4><b>SYNOPSIS</b></h4><pre>
         # Create a standard DIME message from an existing file
         # and a string

         use DIME::Payload;

         $payload1 = DIME::Payload-&gt;new();
         $payload1-&gt;attach(Path =&gt; 'existingfile.jpg',
                           MIMEType =&gt; 'image/jpeg',
                           Dynamic =&gt; 1);

         $payload2 = DIME::Payload-&gt;new();
         my $data = 'Hello World!!!';
         $payload2-&gt;attach(Data =&gt; \$data,
                           MIMEType =&gt; 'text/plain');

         my $message = DIME::Message-&gt;new();
         $message-&gt;add_payload($payload1);
         $message-&gt;add_payload($payload2);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       DIME::Payload represents the content of DIME message. A message is composed of one or many Payload
       objects.

       There are two types of DIME payloads: chunked and not chunked. A DIME message that isn't chunked has only
       one record with all the Payload content. A chunked message is splited in several records, allowing to
       sender and receiver process the content without know the total size of this.

</pre><h4><b>CHUNKED</b> <b>AND</b> <b>DYNAMIC</b> <b>CONTENT</b></h4><pre>
       To create a chunked message you have to specify the Chunked key:

               # This create a dynamic payload with records of 16384 bytes

               my $payload = DIME::Payload-&gt;new();
               $payload-&gt;attach(Path =&gt; 'bigfile.avi',
                                Chunked =&gt; 16384,
                                Dynamic =&gt; 1);

               # You can encode all the payload at once:

               my $dime_encoded_message = ${$payload-&gt;print_data()};

               # Or, if you prefer, you can generate each chunk

               my $ret;
               do
               {
                       $chunk = ${$payload-&gt;print_chunk_data()};
               } while ($chunk ne '');

       The Dynamic key is used to avoid load all the file in memory. What DIME::Payload does is to open the file
       and, when it need more content, read from the file. If you don't set the Dynamic key, all the data is
       loaded in memory.

</pre><h4><b>CONTENT</b> <b>TYPE</b></h4><pre>
       To specify the type of content of a Payload, you should use the MIMEType and URIType keys:

               # MIME media-type
               my $payload = DIME::Payload-&gt;new();
               $payload-&gt;attach(Path =&gt; 'image.jpg',
                                MIMEType =&gt; 'image/jpeg');

               # absolute URI
               my $payload = DIME::Payload-&gt;new();
               $payload-&gt;attach(Path =&gt; 'message.xml',
                                URIType =&gt; '<a href="http://schemas.xmlsoap.org/soap/envelope/">http://schemas.xmlsoap.org/soap/envelope/</a>');

</pre><h4><b>PAYLOAD</b> <b>IDENTIFIER</b></h4><pre>
       When you create a new Payload, a unique identifier is generated automatically. You can get/set it with
       the <b>id()</b> method:

               my $payload = DIME::Payload-&gt;new();
               print $payload-&gt;id();

</pre><h4><b>AUTHOR</b></h4><pre>
       Domingo Alcazar Larrea, &lt;<a href="mailto:dalcazar@cpan.org">dalcazar@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright (C) 2004 Domingo Alc√°zar Larrea

       This program is free software; you can redistribute it and/or modify it under the terms of the version 2
       of the GNU General Public License as published by the Free Software Foundation.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with this program; if not, write
       to the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307

perl v5.32.1                                       2021-03-22                                 <u>DIME::<a href="../man3pm/Payload.3pm.html">Payload</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>