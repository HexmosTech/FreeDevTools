<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xcb_grab_pointer - Grab the pointer</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libxcb-doc">libxcb-doc_1.17.0-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       xcb_grab_pointer - Grab the pointer

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;xcb/xproto.h&gt;</b>

   <b>Request</b> <b>function</b>

       xcb_grab_pointer_cookie_t <b>xcb_grab_pointer</b>(xcb_connection_t *<u>conn</u>, uint8_t <u>owner_events</u>,
              xcb_window_t <u>grab_window</u>, uint16_t <u>event_mask</u>, uint8_t <u>pointer_mode</u>, uint8_t <u>keyboard_mode</u>,
              xcb_window_t <u>confine_to</u>, xcb_cursor_t <u>cursor</u>, xcb_timestamp_t <u>time</u>);

   <b>Reply</b> <b>datastructure</b>
       typedef struct xcb_grab_pointer_reply_t {
           uint8_t  <u>response_type</u>;
           uint8_t  <u>status</u>;
           uint16_t <u>sequence</u>;
           uint32_t <u>length</u>;
       } <b>xcb_grab_pointer_reply_t</b>;

   <b>Reply</b> <b>function</b>

       xcb_grab_pointer_reply_t *<b>xcb_grab_pointer_reply</b>(xcb_connection_t *<u>conn</u>,
              xcb_grab_pointer_cookie_t <u>cookie</u>, xcb_generic_error_t **<u>e</u>);

</pre><h4><b>REQUEST</b> <b>ARGUMENTS</b></h4><pre>
       <u>conn</u>      The XCB connection to X11.

       <u>owner_events</u>
                 If  1,  the <u>grab_window</u> will still get the pointer events. If 0, events are not reported to the
                 <u>grab_window</u>.

       <u>grab_window</u>
                 Specifies the window on which the pointer should be grabbed.

       <u>event_mask</u>
                 Specifies which pointer events are reported to the client.

                 TODO: which values?

       <u>pointer_mode</u>
                 One of the following values:

                 <u>XCB_GRAB_MODE_SYNC</u>
                           The state of the keyboard appears to freeze: No further keyboard events are generated
                           by the server until the grabbing client issues a releasing <u>AllowEvents</u> request or un‐
                           til the keyboard grab is released.

                 <u>XCB_GRAB_MODE_ASYNC</u>
                           Keyboard event processing continues normally.

       <u>keyboard_mode</u>
                 One of the following values:

                 <u>XCB_GRAB_MODE_SYNC</u>
                           The state of the keyboard appears to freeze: No further keyboard events are generated
                           by the server until the grabbing client issues a releasing <u>AllowEvents</u> request or un‐
                           til the keyboard grab is released.

                 <u>XCB_GRAB_MODE_ASYNC</u>
                           Keyboard event processing continues normally.

       <u>confine_to</u>
                 Specifies the window to confine the pointer in (the user will not be able to move  the  pointer
                 out of that window).

                 The special value <u>XCB_NONE</u> means don't confine the pointer.

       <u>cursor</u>    Specifies the cursor that should be displayed or <u>XCB_NONE</u> to not change the cursor.

       <u>time</u>      The time argument allows you to avoid certain circumstances that come up if applications take a
                 long  time to respond or if there are long network delays.  Consider a situation where you have
                 two applications, both of which normally grab the pointer when clicked on. If both applications
                 specify the timestamp from the event, the second application may wake up faster and successful‐
                 ly grab the pointer before the first application. The first application then will get an  indi‐
                 cation that the other application grabbed the pointer before its request was processed.

                 The special value <u>XCB_CURRENT_TIME</u> will be replaced with the current server time.

</pre><h4><b>REPLY</b> <b>FIELDS</b></h4><pre>
       <u>response_type</u>
                 The  type  of  this  reply,  in  this  case <u>XCB_GRAB_POINTER</u>. This field is also present in the
                 <u>xcb_generic_reply_t</u> and can be used to tell replies apart from each other.

       <u>sequence</u>  The sequence number of the last request processed by the X11 server.

       <u>length</u>    The length of the reply, in words (a word is 4 bytes).

       <u>status</u>    One of the following values:

                 <u>XCB_GRAB_STATUS_SUCCESS</u>
                           TODO: NOT YET DOCUMENTED.

                 <u>XCB_GRAB_STATUS_ALREADY_GRABBED</u>
                           TODO: NOT YET DOCUMENTED.

                 <u>XCB_GRAB_STATUS_INVALID_TIME</u>
                           TODO: NOT YET DOCUMENTED.

                 <u>XCB_GRAB_STATUS_NOT_VIEWABLE</u>
                           TODO: NOT YET DOCUMENTED.

                 <u>XCB_GRAB_STATUS_FROZEN</u>
                           TODO: NOT YET DOCUMENTED.
                 TODO: NOT YET DOCUMENTED.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Actively grabs control of the pointer. Further pointer events are reported only to the  grabbing  client.
       Overrides any active pointer grab by this client.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Returns  an  <u>xcb_grab_pointer_cookie_t</u>.  Errors  have  to  be  handled  when  calling  the reply function
       <u>xcb_grab_pointer_reply</u>.

       If you want to handle errors in the event  loop  instead,  use  <u>xcb_grab_pointer_unchecked</u>.  See  <b>xcb-re‐</b>
       <b><a href="../man3/quests.3.html">quests</a>(3)</b> for details.

</pre><h4><b>ERRORS</b></h4><pre>
       <u>xcb_value_error_t</u>
                 TODO: reasons?

       <u>xcb_window_error_t</u>
                 The specified <u>window</u> does not exist.

</pre><h4><b>EXAMPLE</b></h4><pre>
       /*
        * Grabs the pointer actively
        *
        */
       void my_example(xcb_connection_t *conn, xcb_screen_t *screen, xcb_cursor_t cursor) {
           xcb_grab_pointer_cookie_t cookie;
           xcb_grab_pointer_reply_t *reply;

           cookie = xcb_grab_pointer(
               conn,
               false,               /* get all pointer events specified by the following mask */
               screen-&gt;root,        /* grab the root window */
               XCB_NONE,            /* which events to let through */
               XCB_GRAB_MODE_ASYNC, /* pointer events should continue as normal */
               XCB_GRAB_MODE_ASYNC, /* keyboard mode */
               XCB_NONE,            /* confine_to = in which window should the cursor stay */
               cursor,              /* we change the cursor to whatever the user wanted */
               XCB_CURRENT_TIME
           );

           if ((reply = xcb_grab_pointer_reply(conn, cookie, NULL))) {
               if (reply-&gt;status == XCB_GRAB_STATUS_SUCCESS)
                   printf("successfully grabbed the pointer\n");
               free(reply);
           }
       }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/xcb-requests.3.html">xcb-requests</a></b>(3), <b><a href="../man3/xcb-examples.3.html">xcb-examples</a></b>(3), <b><a href="../man3/xcb_grab_keyboard.3.html">xcb_grab_keyboard</a></b>(3)

</pre><h4><b>AUTHOR</b></h4><pre>
       Generated from xproto.xml. Contact <a href="mailto:xcb@lists.freedesktop.org">xcb@lists.freedesktop.org</a> for corrections and improvements.

X Version 11                                      libxcb 1.17.0                              <u><a href="../man3/xcb_grab_pointer.3.html">xcb_grab_pointer</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>