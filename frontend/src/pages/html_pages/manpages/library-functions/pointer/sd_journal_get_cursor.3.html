<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sd_journal_get_cursor, sd_journal_test_cursor - Get cursor string for or test cursor string against the</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsystemd-dev">libsystemd-dev_257.7-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sd_journal_get_cursor, sd_journal_test_cursor - Get cursor string for or test cursor string against the
       current journal entry

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;systemd/sd-journal.h&gt;</b>

       <b>int</b> <b>sd_journal_get_cursor(sd_journal</b> <b>*</b><u>j</u><b>,</b> <b>char</b> <b>**</b><u>cursor</u><b>);</b>

       <b>int</b> <b>sd_journal_test_cursor(sd_journal</b> <b>*</b><u>j</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>cursor</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sd_journal_get_cursor()</b> returns a cursor string for the current journal entry. A cursor is a
       serialization of the current journal position formatted as text. The string only contains printable
       characters and can be passed around in text form. The cursor identifies a journal entry globally and in a
       stable way and may be used to later seek to it via <b><a href="../man3/sd_journal_seek_cursor.3.html">sd_journal_seek_cursor</a></b>(3). The cursor string should be
       considered opaque and not be parsed by clients. Seeking to a cursor position without the specific entry
       being available locally will seek to the next closest (in terms of time) available entry. The call takes
       two arguments: a journal context object and a pointer to a string pointer where the cursor string will be
       placed. The string is allocated via libc <b><a href="../man3/malloc.3.html">malloc</a></b>(3) and should be freed after use with <b><a href="../man3/free.3.html">free</a></b>(3).

       <b>sd_journal_test_cursor()</b> may be used to check whether the current position in the journal matches the
       specified cursor. This is useful since cursor strings do not uniquely identify an entry: the same entry
       might be referred to by multiple different cursor strings, and hence string comparing cursors is not
       possible. Use this call to verify after an invocation of <b><a href="../man3/sd_journal_seek_cursor.3.html">sd_journal_seek_cursor</a></b>(3), whether the entry
       being sought to was actually found in the journal or the next closest entry was used instead.

       Note that <b>sd_journal_get_cursor()</b> and <b>sd_journal_test_cursor()</b> will not work before <b><a href="../man3/sd_journal_next.3.html">sd_journal_next</a></b>(3)
       (or one of the other functions which move to an entry) has been called at least once to position the read
       pointer at a valid entry.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>sd_journal_get_cursor()</b> returns 0 on success or a negative errno-style error code.
       <b>sd_journal_test_cursor()</b> returns positive if the current entry matches the specified cursor, 0 if it does
       not match the specified cursor or a negative errno-style error code on failure.

</pre><h4><b>NOTES</b></h4><pre>
       All functions listed here are thread-agnostic and only a single specific thread may operate on a given
       object during its entire lifetime. It is safe to allocate multiple independent objects and use each from
       a specific thread in parallel. However, it is not safe to allocate such an object in one thread, and
       operate or free it from any other, even if locking is used to ensure these threads do not operate on it
       at the very same time.

       Functions described here are available as a shared library, which can be compiled against and linked to
       with the <b>libsystemd</b> <b><a href="../man1/pkg-config.1.html">pkg-config</a></b>(1) file.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>sd_journal_get_cursor()</b> was added in version 187.

       <b>sd_journal_test_cursor()</b> was added in version 195.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man3/sd-journal.3.html">sd-journal</a></b>(3), <b><a href="../man3/sd_journal_open.3.html">sd_journal_open</a></b>(3), <b><a href="../man3/sd_journal_seek_cursor.3.html">sd_journal_seek_cursor</a></b>(3)

systemd 257.7                                                                           <u><a href="../man3/SD_JOURNAL_GET_CURSOR.3.html">SD_JOURNAL_GET_CURSOR</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>