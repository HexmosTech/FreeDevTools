<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gd_seek — reposition a Dirfile field pointer</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libgetdata-doc">libgetdata-doc_0.11.0-15_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gd_seek — reposition a Dirfile field pointer

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;getdata.h&gt;</b>

       <b>off_t</b> <b>gd_seek(DIRFILE</b> <b>*</b><u>dirfile</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>field_code</u><b>,</b> <b>off_t</b> <u>frame_num</u><b>,</b> <b>off_t</b> <u>sample_num</u><b>,</b> <b>int</b> <u>flags</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>gd_seek</b>()  function  changes the position of the I/O pointer associated with the field <u>field_code</u> in
       the <a href="../man5/dirfile.5.html">dirfile</a>(5) database specified by <u>dirfile</u>.  In normal operation,  <b>gd_seek</b>()  advances  the  field  I/O
       pointer  <u>frame_num</u>  frames plus <u>sample_num</u> samples from the origin point specified in <u>flags</u>, which should
       contain one of <b>GD_SEEK_SET</b>, <b>GD_SEEK_CUR</b>, or <b>GD_SEEK_END</b>, indicating, respectively, sample zero, the  cur‐
       rent position of the field pointer, and the location of the end-of-field marker (see <b><a href="../man3/gd_eof.3.html">gd_eof</a></b>(3)).

       In  addition  to one of the symbols above, the <u>flags</u> parameter may also, optionally, be bitwise or'd with
       <b>GD_SEEK_WRITE</b>, which will result in the field being padded (with zero for integer types,  or  a  IEEE-754
       conforming not-a-number otherwise) in the event of seeking past the end-of-field marker.

       The  effect of attempting to seek past the end-of-field is encoding specific.  Some encodings don't actu‐
       ally add the padding requested by <b>GD_SEEK_WRITE</b> unless a subsequent <b><a href="../man3/gd_putdata.3.html">gd_putdata</a></b>(3) call  is  used  to  add
       more  data  to the field at the new end-of-field.  Other encodings add the padding, advancing the end-of-
       field, regardless of subsequent writes.  Similarly, attempting to seek past the  end-of-field  marker  in
       read  mode  (without  specifying  <b>GD_SEEK_WRITE</b>)  is  also encoding specific: in some encodings the field
       pointer will be moved past the end-of-field marker, while in others, it will be repositioned to  the  end
       of field.  Check the return value to determine the result.

       In general, <b>GD_SEEK_WRITE</b> should be used on <b>gd_seek</b>() calls before a write via <b><a href="../man3/gd_putdata.3.html">gd_putdata</a></b>(3), while calls
       before a read via <b><a href="../man3/gd_getdata.3.html">gd_getdata</a></b>(3) should omit the <b>GD_SEEK_WRITE</b> flag.  So the following:

              <b>gd_seek(</b><u>dirfile</u><b>,</b> <u>field_code</u><b>,</b> <u>a</u><b>,</b> <u>b</u><b>,</b> <b>GD_SEEK_SET</b> <b>|</b> <b>GD_SEEK_WRITE);</b>
              <b>gd_putdata(</b><u>dirfile</u><b>,</b> <u>field_code</u><b>,</b> <b>GD_HERE,</b> <b>0,</b> <u>c</u><b>,</b> <u>d</u><b>,</b> <u>type</u><b>,</b> <u>data</u><b>);</b>

       is equivalent to:

              <b>gd_putdata(</b><u>dirfile</u><b>,</b> <u>field_code</u><b>,</b> <u>a</u><b>,</b> <u>b</u><b>,</b> <u>c</u><b>,</b> <u>d</u><b>,</b> <u>type</u><b>,</b> <u>data</u><b>);</b>

       and, similarly,

              <b>gd_seek(</b><u>dirfile</u><b>,</b> <u>field_code</u><b>,</b> <u>a</u><b>,</b> <u>b</u><b>,</b> <b>GD_SEEK_SET);</b>
              <b>gd_getdata(</b><u>dirfile</u><b>,</b> <u>field_code</u><b>,</b> <b>GD_HERE,</b> <b>0,</b> <u>c</u><b>,</b> <u>d</u><b>,</b> <u>type</u><b>,</b> <u>data</u><b>);</b>

       is equivalent to:

              <b>gd_getdata(</b><u>dirfile</u><b>,</b> <u>field_code</u><b>,</b> <u>a</u><b>,</b> <u>b</u><b>,</b> <u>c</u><b>,</b> <u>d</u><b>,</b> <u>type</u><b>,</b> <u>data</u><b>);</b>

       Only  <b>RAW</b>  fields  (and  the implicit <u>INDEX</u> field) have field I/O pointers associated with them.  Calling
       <b>gd_seek</b>() on a derived field will move the field pointers of all of the field's inputs.  It  is  possible
       to  create derived fields which simultaneously read from different places of the same input field.  Call‐
       ing <b>gd_seek</b>() on such a field will result in an error.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Upon successful completion, <b>gd_seek</b>() returns a non-negative integer indicating the I/O position, in sam‐
       ples, of the specified field after performing the seek.  On error, it  returns  a  negative-valued  error
       code.  Possible error codes are:

       <b>GD_E_ALLOC</b>
               The library was unable to allocate memory.

       <b>GD_E_ARGUMENT</b>
               The <u>flags</u> parameter didn't contain exactly one of <b>GD_SEEK_SET</b>, <b>GD_SEEK_CUR</b>, or <b>GD_SEEK_END</b>.

       <b>GD_E_BAD_CODE</b>
               The  field  specified by <u>field_code</u>, or one of the fields it uses for input, was not found in the
               database.

       <b>GD_E_BAD_DIRFILE</b>
               The supplied dirfile was invalid.

       <b>GD_E_BAD_FIELD_TYPE</b>
               An attempt was made to seek relative to <b>GD_SEEK_END</b> on the <u>INDEX</u> field, which has no end-of-field
               marker.

       <b>GD_E_DIMENSION</b>
               The specified field or one of its inputs wasn't of vector type.

       <b>GD_E_DOMAIN</b>
               The field position couldn't be set due to a derived field reading simultaneously from  more  than
               one place in a <b>RAW</b> field.

       <b>GD_E_INTERNAL_ERROR</b>
               An internal error occurred in the library while trying to perform the task.  This indicates a bug
               in the library.  Please report the incident to the maintainer.

       <b>GD_E_IO</b> An error occurred while trying to open or read from a file on disk containing a raw field.

       <b>GD_E_RANGE</b>
               The  request resulted an attempt to move the I/O pointer of the specified field or one of its in‐
               puts to a negative sample number.

       <b>GD_E_RECURSE_LEVEL</b>
               Too many levels of recursion were encountered while trying to resolve <u>field_code</u>.   This  usually
               indicates a circular dependency in field specification in the dirfile.

       <b>GD_E_UNKNOWN_ENCODING</b>
               The  encoding scheme of a RAW field could not be determined.  This may also indicate that the bi‐
               nary file associated with the RAW field could not be found.

       <b>GD_E_UNSUPPORTED</b>
               Reading from dirfiles with the encoding scheme of the specified dirfile is not supported  by  the
               library.  See <a href="../man5/dirfile-encoding.5.html">dirfile-encoding</a>(5) for details on dirfile encoding schemes.

       The  error  code is also stored in the <b>DIRFILE</b> object and may be retrieved after this function returns by
       calling  <b><a href="../man3/gd_error.3.html">gd_error</a></b>(3).   A  descriptive  error  string  for  the  error  may  be   obtained   by   calling
       <b><a href="../man3/gd_error_string.3.html">gd_error_string</a></b>(3).

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>gd_seek</b>() function appeared in GetData-0.8.0.

       In GetData-0.10.0, the error return from this function changed from -1 to a negative-valued error code.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/gd_getdata.3.html">gd_getdata</a></b>(3), <b><a href="../man3/gd_open.3.html">gd_open</a></b>(3), <b><a href="../man3/gd_putdata.3.html">gd_putdata</a></b>(3), <b><a href="../man3/gd_tell.3.html">gd_tell</a></b>(3)

Version 0.10.0                                  25 December 2016                                      <u><a href="../man3/gd_seek.3.html">gd_seek</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>