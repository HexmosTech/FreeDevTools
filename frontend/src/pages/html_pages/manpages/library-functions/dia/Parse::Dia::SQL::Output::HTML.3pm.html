<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parse::Dia::SQL::Output::HTML - Create HTML documentation.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libparse-dia-sql-perl">libparse-dia-sql-perl_0.31-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Parse::Dia::SQL::Output::HTML - Create HTML documentation.

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Parse::Dia::SQL;
           my $dia = Parse::Dia::SQL-&gt;new(
             file =&gt; 'foo.dia',
             db   =&gt; 'html' [ , htmlformat =&gt; {formatfile} ]
           );
           print $dia-&gt;get_sql();

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This sub-class creates HTML formatted database documentation.

       HTML formatting is controlled by templates selected with the optional <u>htmlformat</u> parameter which supplies
       a format file. See "HTML formats" for more.

       The generated HTML is intended to be useful rather than beautiful.

       This sub-class follows the same structure as the rdbms output sub-classes with the intent of maintaining
       consistency, even though this give less than optimum efficiency.

   <b>new</b>
       The constructor.

       Object names in HTML have no inherent limit. 64 has been arbitrarily chosen.

   <b>get_sql</b>
       Return all sql documentation.

       First build the data structures:

         schema create
         view create
         permissions create
         inserts
         associations create  (indices first, then foreign keys)

       Then generate the output:

         html start
         html comments
         body start
         generate main html
         body end
         html end

   <b>_get_preamble</b>
       HTML Header

   <b>_get_comment</b>
       Comment for HTML Header

   <b>get_smallpackage_pre_sql</b>
       HTML Body start

   <b>get_smallpackage_post_sql</b>
       HTML Body close

   <b>_get_postscript</b>
       HTML close

   <b>_get_create_table_sql</b>
       Extracts the documentation details for a single table.

   <b>get_schema_drop</b>
       Do nothing

   <b>get_view_drop</b>
       Do nothing

   <b>_get_fk_drop</b>
       Do nothing

   <b>_get_drop_index_sql</b>
       Do nothing

   <b>get_permissions_create</b>
       Permissions are formatted as "{type} {name} to {list of roles}" where:

       "type" is the operation "GRANT", "REVOKE" etc

       "name" is the permission name "SELECT", "INSERT" etc

       "list of roles" is the set of datbase roles affected.

       <u>Warning</u>

       Permissions are at best lightly tested (ie potentially buggy)

   <b>get_permissions_drop</b>
       Do nothing

   <b>_get_create_association_sql</b>
       Extracts the documentation for table relationships.

   <b>_get_create_index_sql</b>
       Extracts the documentation for table indices.

   <b>generate_html</b>
       Do the output

   <b>set_html_template</b>
       Set up the formatting template

       Template elements use "{placeholders}" to identify how the document should be built.

</pre><h4><b>HTML</b> <b>Formats</b></h4><pre>
       The default format may be all you need.  If you want to create different HTML formats for different uses,
       create a format file with template elements defined between "{def:element}" and "{/def:element}" markers.
       You only need to define those elements that you want to be <u>different</u> from the defaults.

       Any text outside the "{def:element}" and "{/def:element}" is ignored, so you can add comments without
       affecting the output.

       Any "\n" literals in the format file are replaced with newlines; although newlines in the generated HTML
       typically have no effect on the layout, they can make the output easier for humans to read.

   <b>Template</b> <b>elements</b>
       <u>htmlpreamble</u>

       The start of the html document.

       <u>Placeholders</u>: filename

       <u>Default</u>: &lt;html&gt;&lt;head&gt;\n&lt;title&gt;Database documentation: {filename}&lt;/title&gt;

       <u>htmlcomment</u>

       A generated comment at the start of the html document. This is the standard comment at the start of the
       SQL script.

       <u>Placeholders</u>: htmlcomment

       <u>Default</u>: \n&lt;!-- {htmlcomment} --&gt;\n

       <u>htmlstartbody</u>

       The start body html tag.

       <u>Default</u>: &lt;/head&gt;&lt;body&gt;

       <u>htmlendbody</u>

       The end body html tag.

       <u>Placeholders</u>: gentime

       <u>Default</u>: &lt;p style="font-size:75%"&gt;Generated at {gentime}.&lt;/p&gt;

       <u>htmlend</u>

       The end html tag.

       <u>Default</u>: &lt;/html&gt;

       <u>tablelist</u>

       The bit at the top of the page which lists all the tables.  Each is formatted with "tablelistitem",
       separated by "tablelistsep".

       <u>Placeholders</u>: tablelist (the assembled list of table), filename

       <u>Default</u>:

        &lt;h1&gt;Data Dictionary for {filename}&lt;/h1&gt;
        &lt;h2\&gt;List of Tables&lt;/h2&gt;
        {tablelist}
        &lt;hr width='80%'/&gt;

       <u>tablelistitem</u>

       An individual element (table) in the table list

       <u>Placeholders</u>: tablename, tablecomment

       <u>Default</u>: &lt;a href='#{tablename}'&gt;{tablename}&lt;/a&gt;

       <u>tablelistsep</u>

       Separator between individual elements in the table list.

       <u>Default</u>: ", "

       <u>tablestart</u>

       Introduction to the table details

       <u>Default</u>: &lt;h2&gt;Table details&lt;/h2&gt;

       <u>table</u>

       Details of one table.

       <u>Placeholders</u>: tablename, comment, refto, refby, tablerowdata, autoupdate, indices, permissions.

       <u>Default</u>:

        &lt;h3&gt;Table: {tablename}&lt;a name='{tablename}'/&gt;&lt;/h3&gt;
        {comment}
        {refto}
        {refby}
        &lt;table border='1' cellspacing='0' cellpadding='1'&gt;
        &lt;tr&gt;&lt;td&gt;Field&lt;/td&gt;&lt;td&gt;Type&lt;/td&gt;&lt;td&gt;Default&lt;/td&gt;&lt;td&gt;Description&lt;/td&gt;&lt;/tr&gt;
        {tablerowdata}
        &lt;/table&gt;
        {autoupdate}
        {indices}
        {permissions}
        &lt;hr width='80%'/&gt;

       <u>tablekeyrow,</u> <u>tablerow</u>

       Details of an individual field (column) from the (table) in the table detail.

       tablekeyrow is used for primary key fields, tablerow for other fields.

       <u>Placeholders</u>: name, type, default, comment.

       <u>Default</u> <b>tablekeyrow</b>: &lt;tr&gt;&lt;td&gt;&lt;b&gt;{name}&lt;/b&gt;&lt;/td&gt;&lt;td&gt;{type}&lt;/td&gt;&lt;td&gt;{default}&lt;/td&gt;&lt;td&gt;{comment}&lt;/td&gt;&lt;/tr&gt;

       <u>Default</u> <b>tablerow</b>: &lt;tr&gt;&lt;td&gt;{name}&lt;/td&gt;&lt;td&gt;{type}&lt;/td&gt;&lt;td&gt;{default}&lt;/td&gt;&lt;td&gt;{comment}&lt;/td&gt;&lt;/tr&gt;

       <u>tablecomment</u>

       Table comments/description.

       <u>Placeholders</u>: comment

       <u>Default</u>: &lt;p&gt;{comment}&lt;/p&gt;

       <u>tablecommentlist</u>

       Table comments/description in a list context

       <u>Placeholders</u>: comment

       <u>Default</u>: {comment}

       <u>autoupdate</u>

       Auto update code, if used.

       <u>Placeholders</u>: autoupdate

       <u>Default</u>: &lt;p&gt;Automatically set:{autoupdate}&lt;/p&gt;

       <u>refby,</u> <u>refto</u>

       References by - a list of tables that refer to this one via foreign keys.

       References to - a list of tables to which this table refers via foreign keys.

       The whole section is omitted if there are no references (including any static text).

       <u>Placeholders</u>: refbylist, reftolist respectively.

       <u>Default</u>: <b>refby</b> &lt;p&gt;Referenced by: {refbylist}&lt;/p&gt;

       <u>Default</u>: <b>refto</b> &lt;p&gt;References: {reftolist}&lt;/p&gt;

       <u>refbyitem,</u> <u>reftoitem</u>

       A single item in the reference by list

       <u>Placeholders</u>: tablename, key, fk, action, refname

       Here <u>tablename</u> is the other table, <u>key</u> is the field in this table, <u>fk</u> is the field in the other table,
       <u>action</u> in the action on update/delete (such as cascade or update) and <u>refname</u> is the name of the
       constraint.

       <u>Default</u>: &lt;a href='#{tablename}'&gt;{tablename}&lt;/a&gt;

       <u>refbysep,</u> <u>reftosep</u>

       Separator between references.

       <u>Default</u>: ", "

       <u>indices</u>

       List of indices on this tables.

       The whole section is omitted if there are no indices (including any static text).

       <u>Placeholders</u>: indexlist

       <u>Default</u>: &lt;h4&gt;Indices&lt;/h4&gt;&lt;p&gt;{indexlist}&lt;/p&gt;

       <u>indexitem</u>

       A single item in the index list

       <u>Placeholders</u>: tablename, columns, comment, type, indexname

       Here <u>tablename</u> is the indexed (ie current) table, <u>columns</u> is the set of columns in the index, <u>comment</u> is
       the index comment if any, <u>type</u> is 'unique' (or blank) and <u>indexname</u> is the name of the index.

       <u>Default</u>: {indexname}: {type} on {columns} {comment}

       <u>indexsep</u>

       Separator between indices.

       <u>Default</u>: "&lt;br\"&gt;

       <u>permission</u>

       A list of permissions granted on this table.

       <u>Placeholders</u>: permissionlist

       <u>Default</u>: &lt;h4&gt;Permissions&lt;/h4&gt;&lt;p&gt;{permissionlist}&lt;/p&gt;

       <u>permissionitem</u>

       A single permission in the list

       <u>Placeholders</u>: permission

       <u>Default</u>: {permission}

       <u>permissionsep</u>

       Separator between permissions.

       <u>Default</u>: &lt;br/&gt;

       <u>fieldblank</u>

       Replacement character(s) for blank values. Default value is empty.

   <b>Sample</b> <b>format</b> <b>file</b>
       This format file generates vertical lists of tables and references rather than single paragraph, comma
       separated lists (which is the default).

        {def:tablelist}
        &lt;h1&gt;List of Tables&lt;/h1&gt;
        &lt;table border='1' cellspacing='0' cellpadding='2'&gt;
        &lt;tr&gt;&lt;td&gt;&lt;b&gt;Name&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;b&gt;Description&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;
        {tablelist}
        &lt;/table&gt;

        &lt;hr width='80%'/&gt;
        {/def:tablelist}

        {def:tablelistitem}&lt;tr&gt;&lt;td&gt;&lt;a href='#{tablename}'&gt;{tablename}&lt;/a&gt;&lt;/td&gt;&lt;td&gt;{tablecomment}&lt;/td&gt;&lt;/tr&gt; {/def:tablelistitem}
        {def:tablelistsep}\n{/def:tablelistsep}

        {def:refby}&lt;p&gt;&lt;b&gt;Referenced by:&lt;/b&gt; &lt;br/&gt;{refbylist}&lt;/p&gt;{/def:refby}
        {def:refbyitem}{fk}=&lt;a href='#{tablename}'&gt;{tablename}&lt;/a&gt;.{key} {action}{/def:refbyitem}
        {def:refbysep} &lt;br/&gt;{/def:refbysep}

        {def:refto}&lt;p&gt;&lt;b&gt;References:&lt;/b&gt; &lt;br/&gt;{reftolist}&lt;/p&gt;{/def:refto}
        {def:reftoitem} {fk}=&lt;a href='#{tablename}'&gt;{tablename}&lt;/a&gt;.{key} {action}{/def:reftoitem}
        {def:reftosep}&lt;br/&gt;{/def:reftosep}

        # Comments don't matter
        {def:permission}&lt;h4&gt;Permissions&lt;/h4&gt;&lt;p&gt;{permissionlist}&lt;/p&gt;{/def:permission}
        {def:permissionitem}{permission}{/def:permissionitem}
        {def:permissionsep}&lt;br/&gt;{/def:permissionsep}

       Note that comments or other text outside the {def:} The other template elements are the same as the
       default.

</pre><h4><b>TODO</b></h4><pre>
       Things that might get added in future versions:

       Views are not currently documented.

       Bugs etc

perl v5.36.0                                       2022-11-19                 <u>Parse::Dia::SQL::Output::<a href="../man3pm/HTML.3pm.html">HTML</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>