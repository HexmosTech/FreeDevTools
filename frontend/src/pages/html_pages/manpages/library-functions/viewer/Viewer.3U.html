<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viewer - displays a graphical component view hierarchy</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ivtools-dev">ivtools-dev_2.0.11d.a1-3build7_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Viewer - displays a graphical component view hierarchy

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;Unidraw/viewer.h&gt;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A  Viewer displays a graphical component view and provides an interface to scrolling and zooming it.  The
       viewer also processes user input events and  generates  the  appropriate  calls  on  Unidraw  objects  in
       response.   The  Viewer  class  is  a derived from GraphicBlock; thus it can draw the structured graphics
       hierarchy embodied in GraphicView's graphic.  A viewer uses a damage object to  keep  the  screen  up  to
       date.   Viewer's  sensor  catches  up  and  down  events,  and  its Handle implements implements the tool
       manipulation loop.

</pre><h4><b>PUBLIC</b> <b>OPERATIONS</b></h4><pre>
       <b>Viewer(</b>
           <b>Editor*,</b> <b>GraphicView*,</b> <b>Page*,</b> <b>Grid*</b> <b>=</b> <b>nil,</b>
           <b>Coord</b> <b>width</b> <b>=</b> <b>0,</b> <b>Coord</b> <b>height</b> <b>=</b> <b>0,</b> <b>Orientation</b> <b>=</b> <b>Normal,</b>
           <b>Alignment</b> <b>=</b> <b>Center,</b> <b>Zooming</b> <b>=</b> <b>Binary</b>
       <b>)</b>

       <b>Viewer(</b>
           <b>const</b> <b>char*,</b> <b>Editor*,</b> <b>GraphicView*,</b> <b>Page*,</b> <b>Grid*</b> <b>=</b> <b>nil,</b>
           <b>Coord</b> <b>width</b> <b>=</b> <b>0,</b> <b>Coord</b> <b>height</b> <b>=</b> <b>0</b>
           <b>Alignment</b> <b>=</b> <b>Center,</b> <b>Zooming</b> <b>=</b> <b>Binary</b>
       <b>)</b>
              Both constructors take the enclosing editor, the GraphicView object that the viewer will  display,
              a  page  object,  and  optionally  a  grid,  a natural width and height, initial page orientation,
              alignment, and zooming specifications.  The second  form  adds  a  parameter  for  specifying  the
              Viewer's instance name.

       <b>virtual</b> <b>void</b> <b>Update()</b>
              Viewer augments GraphicBlock's Update semantics by repairing any damage that has been accumulated.
              In  addition,  Update  will  replace  its  graphical view if its subject differs from the editor's
              component; in that case, it will create a graphical view of the editor's component, delete its own
              view, and replace it with the new one.

       <b>virtual</b> <b>void</b> <b>Adjust(Perspective&amp;)</b>
              Viewer's Adjust operation will automatically update the editor's MagnifVar (if it defines one)  to
              reflect the current magnification.

       <b>virtual</b> <b>void</b> <b>Handle(Event&amp;)</b>
              By default, Handle employs the editor's current tool on a LEFTMOUSE down event.  On MIDDLEMOUSE or
              RIGHTMOUSE  down events, it momentarily engages the editor's MoveTool or SelectTool, respectively,
              allowing the user to move or select a  graphical  component  without  changing  the  current  tool
              explicitly.   Nothing  happens  if  the  editor does not define a keyboard equivalent for engaging
              these tools.  The Handle function calls either the UseTool or  MomentaryUseTool  protected  member
              functions (described below) in response to these events.

       <b>virtual</b> <b>void</b> <b>SetGraphicView(GraphicView*)</b>
       <b>virtual</b> <b>void</b> <b>SetPage(Page*)</b>
       <b>virtual</b> <b>void</b> <b>SetGrid(Grid*)</b>
       <b>virtual</b> <b>GraphicView*</b> <b>GetGraphicView()</b>
       <b>virtual</b> <b>Page*</b> <b>GetPage()</b>
       <b>virtual</b> <b>Grid*</b> <b>GetGrid()</b>
       <b>virtual</b> <b>Editor*</b> <b>GetEditor()</b>
              Explicitly set or get a constructor-specified parameter.  The Set operations delete the value they
              replace if it is different from the given one.

       <b>virtual</b> <b>void</b> <b>SetMagnification(float)</b>
              Viewer's  SetMagnification operation amends GraphicBlock::SetMagnification to set the value of the
              enclosing editor's MagnifVar, if it defines one.

       <b>virtual</b> <b>void</b> <b>SetOrientation(Orientation)</b>
       <b>virtual</b> <b>Orientation</b> <b>GetOrientation()</b>
              Set and get the viewer's orientation parameter, which specifies whether the graphical view,  page,
              and grid will appear in portrait or landscape mode.  No transformation will be applied in portrait
              mode,  while  landscape  mode  will  rotate the page -90 degrees and translate it vertically by an
              amount equal to the width of the page's bounding box.

       <b>virtual</b> <b>Selection*</b> <b>GetSelection()</b>
              Return the enclosing editor's selection object; it is equivalent to  calling  GetEditor  and  then
              calling GetSelection on the result.

       <b>virtual</b> <b>Damage*</b> <b>GetDamage()</b>
              Return the viewer's damage object.

       <b>virtual</b> <b>void</b> <b>InitRubberband(Rubberband*)</b>
       <b>virtual</b> <b>void</b> <b>InitTextDisplay(TextDisplay*,</b> <b>Painter*)</b>
              These  operations  let Rubberband and TextDisplay instances appear to work in a viewer by allowing
              them to draw on the viewer's canvas.  InitRubberband sets the rubberband's canvas to the  viewer's
              and  initializes  its  painter as well.  InitTextDisplay likewise sets the TextDisplay's canvas to
              the viewer's.  It also modifies the given painter's background color to  match  the  viewer's  and
              supplies the painter to the TextDisplay for its use.

       <b>virtual</b> <b>void</b> <b>IncurTextDisplayDamage(TextDisplay*,</b> <b>Painter*)</b>
              Incur  minimal damage on the viewer's damage object to account for the TextDisplay's current size.
              The TextDisplay's painter must be passed explicitly.

       <b>virtual</b> <b>void</b> <b>CenterOp()</b>
       <b>virtual</b> <b>void</b> <b>Magnify(Coord,</b> <b>Coord,</b> <b>Coord,</b> <b>Coord)</b>
       <b>virtual</b> <b>void</b> <b>ReduceToFit()</b>
              Convenience functions for adjusting the viewer's perspective.  CenterOp centers the  page  in  the
              viewer's  canvas without changing the magnification.  Magnify scrolls and magnifies the given area
              (in canvas coordinates) so that it fills the viewer's canvas.  Magnify ensures that the area  will
              remain  fully  visible in the viewer.  ReduceToFit scrolls and reduces the view so that the entire
              page is visible.

       <b>virtual</b> <b>void</b> <b>Constrain(Coord&amp;,</b> <b>Coord&amp;)</b>
              Constrain the supplied coordinates to fall on the nearest grid point if the viewer defines a  grid
              and if the enclosing editor defines an active GravityVar.

       <b>virtual</b> <b>void</b> <b>UseTool(Tool*)</b>
              Commence  direct-manipulation  with  the given tool without an explicit action on the user's part.
              Normally, direct manipulation with the  currently  engaged  tool  (as  returned  by  the  editor's
              GetCurTool operation) starts automatically when the user clicks in the viewer.

       <b>virtual</b> <b>void</b> <b>Align(GraphicComp*,</b> <b>Alignment)</b>
              Align  the  graphical  component with respect to viewer's canvas, assuming a view of the component
              appears in the viewer.  For example, a ``Center'' alignment will align the component's center with
              the canvas'; a ``BottomLeft'' alignment will align  the  component's  bottom-left  corner  to  the
              canvas'.

</pre><h4><b>PROTECTED</b> <b>OPERATIONS</b></h4><pre>
       <b>void</b> <b>Init(</b>
           <b>Editor*,</b> <b>GraphicView*,</b> <b>Page*,</b> <b>Grid*,</b>
           <b>Coord,</b> <b>Coord,</b> <b>Orientation</b>
       <b>)</b>

       <b>void</b> <b>Init(Editor*,</b> <b>GraphicView*,</b> <b>Page*,</b> <b>Grid*)</b>
              Initialize  the  viewer's  member  variables.   The  first  form of this operation initializes all
              parameters that can be passed to a constructor.  The first  form  calls  the  second  form,  which
              initializes a subset of the attributes that may change independently of the others.

       <b>Tool*</b> <b>CurTool()</b>
              A convenience function equivalent to calling the same operation on the enclosing editor.

       <b>Transformer*</b> <b>GetTransformer()</b>
              Return the transformer that the viewer uses to implement scrolling and zooming.

       <b>virtual</b> <b>void</b> <b>Manipulate(Manipulator*,</b> <b>Event&amp;)</b>
              This  operation implements a direct manipulation loop governed by the given manipulator.  First it
              calls Grasp on the manipulator with the given event.  Then it reads events in a loop, calling  the
              manipulator's  Manipulating  operation  with  each new event.  When Manipulating returns false, it
              calls Effect on the manipulator with the event read last.

       <b>virtual</b> <b>void</b> <b>UseTool(Tool*,</b> <b>Event&amp;)</b>
       <b>virtual</b> <b>void</b> <b>MomentaryUseTool(Tool*,</b> <b>Event&amp;)</b>
              Helper functions for initiating  direct  manipulation  with  tools  and  executing  their  effect.
              UseTool  first  instructs  the given tool to create a manipulator, and then it calls Manipulate to
              carry the manipulation through to completion.  Next it asks the tool to interpret the manipulator,
              which in turn may produce a command.  Finally, UseTool executes and  logs  the  command  produced.
              MomentaryUseTool simply engages the given tool, calls UseTool, and re-engages the original tool.

       <b>virtual</b> <b>void</b> <b>Reorient()</b>
              A helper function that rotates the viewer's graphic to reflect its current orientation.

       <b>virtual</b> <b>void</b> <b>UpdateMagnifVar()</b>
              A  helper  function  used  in  SetMagnification  to notify the enclosing viewer's MagnifVar (if it
              defines one) of the change in magnification.

       <b>virtual</b> <b>ClassId</b> <b>ViewCategory()</b>
              Returns the view category (see <a href="../man3U/classes.3U.html">classes</a>(3U)) the viewer will use to instantiate a view if it is not
              given one explicitly.  ViewCategory returns COMPONENT_VIEW by default.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3U/Damage.3U.html">Damage</a>(3U),  <a href="../man3U/Editor.3U.html">Editor</a>(3U),  <a href="../man3I/Event.3I.html">Event</a>(3I),  <a href="../man3U/Graphic.3U.html">Graphic</a>(3U),  <a href="../man3U/GraphicBlock.3U.html">GraphicBlock</a>(3U),  <a href="../man3U/GraphicComp.3U.html">GraphicComp</a>(3U),  <a href="../man3U/GraphicView.3U.html">GraphicView</a>(3U),
       <a href="../man3U/Grid.3U.html">Grid</a>(3U),   <a href="../man3U/Manipulator.3U.html">Manipulator</a>(3U),   <a href="../man3U/MoveTool.3U.html">MoveTool</a>(3U),   <a href="../man3U/Page.3U.html">Page</a>(3U),  <a href="../man3I/Perspective.3I.html">Perspective</a>(3I),  <a href="../man3I/Rubband.3I.html">Rubband</a>(3I),  <a href="../man3U/SelectTool.3U.html">SelectTool</a>(3U),
       <a href="../man3U/Selection.3U.html">Selection</a>(3U), <a href="../man3I/Sensor.3I.html">Sensor</a>(3I), <a href="../man3I/TextDisplay.3I.html">TextDisplay</a>(3I), <a href="../man3U/Tool.3U.html">Tool</a>(3U), <a href="../man3U/classes.3U.html">classes</a>(3U), <a href="../man3U/globals.3U.html">globals</a>(3U), <a href="../man3U/statevars.3U.html">statevars</a>(3U)

Unidraw                                          6 October 1990                                       <u><a href="../man3U/Viewer.3U.html">Viewer</a></u>(3U)
</pre>
 </div>
</div></section>
</div>
</body>
</html>