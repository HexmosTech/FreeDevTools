<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::GnuPG - Process email with GPG.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-gnupg-perl">libmail-gnupg-perl_0.23-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::GnuPG - Process email with GPG.

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Mail::GnuPG;
         my $mg = new Mail::GnuPG( key =&gt; 'ABCDEFGH' );
         $ret = $mg-&gt;mime_sign( $MIMEObj, '<a href="mailto:you@my.dom">you@my.dom</a>' );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Use GnuPG::Interface to process or create PGP signed or encrypted email.

   <b>new</b>
         Create a new Mail::GnuPG instance.

        Arguments:
          Paramhash...

          key    =&gt; gpg key id
          keydir =&gt; gpg configuration/key directory
          passphrase =&gt; primary key password
          use_agent =&gt; use gpg-agent if non-zero
          always_trust =&gt; always trust a public key
          # FIXME: we need more things here, maybe primary key id.

   <b>decrypt</b>
        Decrypt an encrypted message

        Input:
          MIME::Entity containing email message to decrypt.

         The message can either be in RFC compliant-ish multipart/encrypted
         format, or just a single part ascii armored message.

        Output:
         On Failure:
           Exit code of gpg.  (0 on success)

         On Success: (just encrypted)
           (0, undef, undef)

         On success: (signed and encrypted)
           ( 0,
             keyid,           # ABCDDCBA
             emailaddress     # Foo Bar &lt;<a href="mailto:foo@bar.com">foo@bar.com</a>&gt;
           )

          where the keyid is the key that signed it, and emailaddress is full
          name and email address of the primary uid

         $self-&gt;{last_message} =&gt; any errors from gpg
         $self-&gt;{plaintext}    =&gt; plaintext output from gpg
         $self-&gt;{decrypted}    =&gt; parsed output as MIME::Entity

   <b>get_decrypt_key</b>
        determines the decryption key (and corresponding mail) of a message

        Input:
          MIME::Entity containing email message to analyze.

         The message can either be in RFC compliant-ish multipart/signed
         format, or just a single part ascii armored message.

        Output:
         $key    -- decryption key
         $mail   -- corresponding mail address

   <b>verify</b>
        verify a signed message

        Input:
          MIME::Entity containing email message to verify.

         The message can either be in RFC compliant-ish multipart/signed
         format, or just a single part ascii armored message.

         Note that MIME-encoded data should be supplied unmodified inside
         the MIME::Entity input message, otherwise the signature will be
         broken. Since MIME-tools version 5.419, this can be achieved with
         the C&lt;decode_bodies&gt; method of MIME::Parser. See the MIME::Parser
         documentation for more information.

        Output:
         On error:
           Exit code of gpg.  (0 on success)
         On success
           ( 0,
             keyid,           # ABCDDCBA
             emailaddress     # Foo Bar &lt;<a href="mailto:foo@bar.com">foo@bar.com</a>&gt;
           )

          where the keyid is the key that signed it, and emailaddress is full
          name and email address of the primary uid. The email/uid is UTF8
          encoded, as output by GPG.

         $self-&gt;{last_message} =&gt; any errors from gpg

   <b>has_public_key</b>
       Does the keyring have a public key for the specified email address?

        FIXME: document better.  talk about caching.  maybe put a better
        interface in.

   <b>mime_sign</b>
         sign an email message

        Input:
          MIME::Entity containing email message to sign

        Output:
         Exit code of gpg.  (0 on success)

         $self-&gt;{last_message} =&gt; any errors from gpg

         The provided $entity will be signed.  (i.e. it _will_ be modified.)

   <b>clear_sign</b>
         clearsign the body of an email message

        Input:
          MIME::Entity containing email message to sign.
          This entity MUST have a body.

        Output:
         Exit code of gpg.  (0 on success)

         $self-&gt;{last_message} =&gt; any errors from gpg

         The provided $entity will be signed.  (i.e. it _will_ be modified.)

   <b>ascii_encrypt</b>
         encrypt an email message body using ascii armor

        Input:
          MIME::Entity containing email message to encrypt.
          This entity MUST have a body.

          list of recipients

        Output:
         Exit code of gpg.  (0 on success)

         $self-&gt;{last_message} =&gt; any errors from gpg

         The provided $entity will be encrypted.  (i.e. it _will_ be modified.)

   <b>ascii_signencrypt</b>
         encrypt and sign an email message body using ascii armor

        Input:
          MIME::Entity containing email message to encrypt.
          This entity MUST have a body.

          list of recipients

        Output:
         Exit code of gpg.  (0 on success)

         $self-&gt;{last_message} =&gt; any errors from gpg

         The provided $entity will be encrypted.  (i.e. it _will_ be modified.)

   <b>mime_encrypt</b>
         encrypt an email message

        Input:
          MIME::Entity containing email message to encrypt
          list of email addresses to sign to

        Output:
         Exit code of gpg.  (0 on success)

         $self-&gt;{last_message} =&gt; any errors from gpg

         The provided $entity will be encrypted.  (i.e. it _will_ be modified.)

   <b>mime_signencrypt</b>
         sign and encrypt an email message

        Input:
          MIME::Entity containing email message to sign encrypt
          list of email addresses to sign to

        Output:
         Exit code of gpg.  (0 on success)

         $self-&gt;{last_message} =&gt; any errors from gpg

         The provided $entity will be encrypted.  (i.e. it _will_ be modified.)

   <b>is_signed</b>
         best guess as to whether a message is signed or not (by looking at
         the mime type and message content)

        Input:
          MIME::Entity containing email message to test

        Output:
         True or False value

   <b>is_encrypted</b>
         best guess as to whether a message is signed or not (by looking at
         the mime type and message content)

        Input:
          MIME::Entity containing email message to test

        Output:
         True or False value

</pre><h4><b>LICENSE</b></h4><pre>
       Copyright 2003 Best Practical Solutions, LLC

       This program is free software; you can redistribute it and/or modify it under the terms of either:

           a) the GNU General Public License as published by the Free
           Software Foundation; version 2
           <a href="http://www.opensource.org/licenses/gpl-license.php">http://www.opensource.org/licenses/gpl-license.php</a>

           b) the "Artistic License"
           <a href="http://www.opensource.org/licenses/artistic-license.php">http://www.opensource.org/licenses/artistic-license.php</a>

       This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See either the GNU General
       Public License or the Artistic License for more details.

</pre><h4><b>AUTHOR</b></h4><pre>
       Robert Spier

       David Bremner &lt;<a href="mailto:ddb@cpan.org">ddb@cpan.org</a>&gt;

</pre><h4><b>BUGS/ISSUES/PATCHES</b></h4><pre>
       Please send all bugs/issues/patches to
           <a href="mailto:bug-Mail-GnuPG@rt.cpan.org">bug-Mail-GnuPG@rt.cpan.org</a>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       perl.

       GnuPG::Interface,

       MIME::Entity

perl v5.40.1                                       2025-02-28                                   <u>Mail::<a href="../man3pm/GnuPG.3pm.html">GnuPG</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>