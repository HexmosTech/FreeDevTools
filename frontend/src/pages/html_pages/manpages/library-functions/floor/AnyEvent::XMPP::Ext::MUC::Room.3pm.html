<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnyEvent::XMPP::Ext::MUC::Room - Room class</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libanyevent-xmpp-perl">libanyevent-xmpp-perl_0.55-7_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       AnyEvent::XMPP::Ext::MUC::Room - Room class

</pre><h4><b>SYNOPSIS</b></h4><pre>
</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module represents a room handle for a MUC.

</pre><h4><b>METHODS</b></h4><pre>
       <b>new</b> <b>(%args)</b>
       <b>get_user</b> <b>($nick)</b>
           This method returns the user with the $nick in the room.

       <b>get_me</b>
           This method returns the AnyEvent::XMPP::Ext::MUC::User object of yourself in the room. If will return
           undef if we are not in the room anymore.

       <b>get_user_jid</b> <b>($jid)</b>
           This  method  looks  whether a user with the JID $jid exists in the room. That means whether the node
           and domain part of the JID match the rooms node and domain part, and the resource  part  of  the  JID
           matches a joined nick.

       <b>get_users</b>
           This method returns the list of occupants as AnyEvent::XMPP::Ext::MUC::User objects.

       <b>make_instant</b> <b>($cb)</b>
           If  you  just created a room you can create an instant room with this method instead of going through
           room configuration for a reserved room.

           If you want to create a reserved room instead don't forget to unset the "create_instant" argument  of
           the "join_room" method of AnyEvent::XMPP::Ext::MUC!

           See also the "request_configuration" method below for the reserved room config.

           $cb  is  the  callback that will be called when the instant room creation is finished.  If successful
           the first argument will be this room object ($self), if unsuccessful the first argument will be undef
           and the second will be a AnyEvent::XMPP::Error::IQ object.

       <b>request_configuration</b> <b>($cb)</b>
           This method requests the room configuration. When the configuration form or an error arrives $cb will
           be called.  The first argument to the callback will be a AnyEvent::XMPP::Ext::DataForm with the  room
           configuration   form   or   undef   in   case   of   an   error.   The  second  argument  will  be  a
           AnyEvent::XMPP::Error::MUC error object if an error occurred or undef if no error occurred.

           If you made an answer form you can send it via the "send_configuration" method below.

           Here is an example:

              $room-&gt;request_configuration (sub {
                 my ($form, $err) = @_;
                 $form or return;

                 my $af = AnyEvent::XMPP::Ext::DataForm-&gt;new;
                 $af-&gt;make_answer_form ($form);
                 $af-&gt;set_field_value ('muc#roomconfig_maxusers', 20);
                 $af-&gt;clear_empty_fields;

                 $roomhdl-&gt;send_configuration ($af, sub {
                    # ...
                 });
              });

       "send_configuration ($answer_form, $cb)"
           This method sends the answer form to a configuration request to the room.  $answer_form should  be  a
           AnyEvent::XMPP::Ext::DataForm object containig the answer form with the changed configuration.

           The first argument of $cb will be a true value if the configuration change was successful. The second
           argument  of  $cb  will  be  a "AnyEvent::XMPP::Error::IQ" object if the configuration change was not
           successful.

       <b>make_message</b> <b>(%args)</b>
           This method constructs a AnyEvent::XMPP::Ext::MUC::Message with a connection to this room.

           %args are further arguments for the constructor of  AnyEvent::XMPP::Ext::MUC::Message.   The  default
           "to" argument for the message is the room and the "type" will be 'groupchat'.

       <b>send_part</b> <b>($msg,</b> <b>$cb,</b> <b>$timeout)</b>
           This  lets  you part the room, $msg is an optional part message and can be undef if no custom message
           should be generated.

           $cb is called when we successfully left the room or after $timeout seconds. The default for  $timeout
           is 60.

           The  first  argument to the call of $cb will be undef if we successfully parted, or a true value when
           the timeout hit.  Even if we timeout we consider ourself parted (and a 'leave' event is generated).

       <b>users</b>
           Returns a list of AnyEvent::XMPP::Ext::MUC::User objects which are in this room.

       <b>jid</b> Returns the bare JID of this room.

       <b>nick_jid</b>
           Returns the full JID of yourself in the room.

       <b>is_connected</b>
           Returns true if this room is still connected (but maybe not joined (yet)).

       <b>connection</b>
           If the room is still joined this method will return the connection on which the room is connected.

       <b>is_joined</b>
           Returns true if this room is still joined (and connected).

       <b>change_nick</b> <b>($newnick)</b>
           This method lets you change your nickname in this room.

       <b>change_subject</b> <b>($newsubject)</b>
           This methods changes the subject of the room.

</pre><h4><b>AUTHOR</b></h4><pre>
       Robin Redeker, "&lt;elmex at ta-sa.org&gt;", JID: "&lt;elmex at jabber.org&gt;"

</pre><h4><b>COPYRIGHT</b> <b>&amp;</b> <b>LICENSE</b></h4><pre>
       Copyright 2007, 2008 Robin Redeker, all rights reserved.

       This program is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

perl v5.38.2                                       2024-08-03                <u>AnyEvent::XMPP::Ext::MUC::<a href="../man3pm/Room.3pm.html">Room</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>