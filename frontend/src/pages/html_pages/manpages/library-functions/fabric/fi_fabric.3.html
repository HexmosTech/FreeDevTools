<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fi_fabric - Fabric network operations</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libfabric-dev">libfabric-dev_2.1.0-1.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fi_fabric - Fabric network operations

       fi_fabric / fi_close
              Open / close a fabric network

       fi_tostr / fi_tostr_r
              Convert fabric attributes, flags, and capabilities to printable string

</pre><h4><b>SYNOPSIS</b></h4><pre>
              #include &lt;rdma/fabric.h&gt;

              int fi_fabric(struct fi_fabric_attr *attr,
                  struct fid_fabric **fabric, void *context);

              int fi_close(struct fid *fabric);

              char * fi_tostr(const void *data, enum fi_type datatype);

              char * fi_tostr_r(char *buf, size_t len, const void *data,
                  enum fi_type datatype);

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>attr</u>   Attributes of fabric to open.

       <u>fabric</u> Fabric network

       <u>context</u>
              User specified context associated with the opened object.  This context is returned as part of any
              associated asynchronous event.

       <u>buf</u>    Output buffer to write string.

       <u>len</u>    Size in bytes of memory referenced by buf.

       <u>data</u>   Input data to convert into a string.  The format of data is determined by the datatype parameter.

       <u>datatype</u>
              Indicates the data to convert to a printable string.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A fabric identifier is used to reference opened fabric resources and library related objects.

       The fabric network represents a collection of hardware and software resources that access a single physi‐
       cal or virtual network.  All network ports on a system that can communicate with each other through their
       attached networks belong to the same fabric.  A fabric network shares network addresses and can span mul‐
       tiple  providers.  An application must open a fabric network prior to allocating other network resources,
       such as communication endpoints.

   <b>fi_fabric</b>
       Opens a fabric network provider.  The attributes of the fabric provider are specified  through  the  open
       call, and may be obtained by calling fi_getinfo.

   <b>fi_close</b>
       The fi_close call is used to release all resources associated with a fabric object.  All items associated
       with the opened fabric must be released prior to calling fi_close.

   <b>fi_tostr</b> <b>/</b> <b>fi_tostr_r</b>
       Converts  fabric interface attributes, capabilities, flags, and enum values into a printable string.  The
       data parameter accepts a pointer to the attribute or value(s) to display, with the datatype parameter in‐
       dicating the type of data referenced by the data parameter.  Valid values for the datatype are listed be‐
       low, along with the corresponding datatype or field value.

       <u>FI_TYPE_INFO</u>
              struct fi_info, including all substructures and fields

       <u>FI_TYPE_EP_TYPE</u>
              struct fi_info::type field

       <u>FI_TYPE_EP_CAP</u>
              struct fi_info::ep_cap field

       <u>FI_TYPE_OP_FLAGS</u>
              struct fi_info::op_flags field, or general uint64_t flags

       <u>FI_TYPE_ADDR_FORMAT</u>
              struct fi_info::addr_format field

       <u>FI_TYPE_TX_ATTR</u>
              struct fi_tx_attr

       <u>FI_TYPE_RX_ATTR</u>
              struct fi_rx_attr

       <u>FI_TYPE_EP_ATTR</u>
              struct fi_ep_attr

       <u>FI_TYPE_DOMAIN_ATTR</u>
              struct fi_domain_attr

       <u>FI_TYPE_FABRIC_ATTR</u>
              struct fi_fabric_attr

       <u>FI_TYPE_THREADING</u>
              enum fi_threading

       <u>FI_TYPE_PROGRESS</u>
              enum fi_progress

       <u>FI_TYPE_PROTOCOL</u>
              struct fi_ep_attr::protocol field

       <u>FI_TYPE_MSG_ORDER</u>
              struct fi_ep_attr::msg_order field

       <u>FI_TYPE_MODE</u>
              struct fi_info::mode field

       <u>FI_TYPE_AV_TYPE</u>
              enum fi_av_type

       <u>FI_TYPE_ATOMIC_TYPE</u>
              enum fi_datatype

       <u>FI_TYPE_ATOMIC_OP</u>
              enum fi_op

       <u>FI_TYPE_VERSION</u>
              Returns the library version of libfabric in string form.  The data parameter is ignored.

       <u>FI_TYPE_EQ_EVENT</u>
              uint32_t event parameter returned from fi_eq_read().  See <b><a href="../man3/fi_eq.3.html">fi_eq</a>(3)</b> for a list of known values.

       <u>FI_TYPE_CQ_EVENT_FLAGS</u>
              uint64_t flags field in fi_cq_xxx_entry structures.  See <b><a href="../man3/fi_cq.3.html">fi_cq</a>(3)</b> for valid flags.

       <u>FI_TYPE_MR_MODE</u>
              struct fi_domain_attr::mr_mode flags

       <u>FI_TYPE_OP_TYPE</u>
              enum fi_op_type

       <u>FI_TYPE_FID</u>
              struct fid *

       <u>FI_TYPE_HMEM_IFACE</u>
              enum fi_hmem_iface *

       <u>FI_TYPE_CQ_FORMAT</u>
              enum fi_cq_format

       <u>FI_TYPE_LOG_LEVEL</u>
              enum fi_log_level

       <u>FI_TYPE_LOG_SUBSYS</u>
              enum fi_log_subsys

       fi_tostr() will return a pointer to an internal libfabric buffer that should not be modified, and will be
       overwritten the next time fi_tostr() is invoked.  fi_tostr() is not thread safe.

       The fi_tostr_r() function is a re-entrant and thread safe version of fi_tostr().  It  writes  the  string
       into a buffer provided by the caller.  fi_tostr_r() returns the start of the caller’s buffer.

</pre><h4><b>NOTES</b></h4><pre>
       The  following  resources  are  associated with fabric domains: access domains, passive endpoints, and CM
       event queues.

</pre><h4><b>FABRIC</b> <b>ATTRIBUTES</b></h4><pre>
       The fi_fabric_attr structure defines the set  of  attributes  associated  with  a  fabric  and  a  fabric
       provider.

              struct fi_fabric_attr {
                  struct fid_fabric *fabric;
                  char              *name;
                  char              *prov_name;
                  uint32_t          prov_version;
                  uint32_t          api_version;
              };

   <b>fabric</b>
       On  input to fi_getinfo, a user may set this to an opened fabric instance to restrict output to the given
       fabric.  On output from fi_getinfo, if no fabric was specified, but the user has an  opened  instance  of
       the  named  fabric,  this will reference the first opened instance.  If no instance has been opened, this
       field will be NULL.

       The fabric instance returned by fi_getinfo should only be considered valid if the  application  does  not
       close any fabric instances from another thread while fi_getinfo is being processed.

   <b>name</b>
       A fabric identifier.

   <b>prov_name</b> <b>-</b> <b>Provider</b> <b>Name</b>
       The name of the underlying fabric provider.

       To  request an utility provider layered over a specific core provider, both the provider names have to be
       specified using “;” as delimiter.

       e.g. “ofi_rxm;verbs” or “verbs;ofi_rxm”

       For debugging and administrative purposes, environment variables can be  used  to  control  which  fabric
       providers  will  be registered with libfabric.  Specifying “FI_PROVIDER=foo,bar” will allow any providers
       with the names “foo” or “bar” to be registered.  Similarly, specifying “FI_PROVIDER=^foo,bar”  will  pre‐
       vent  any  providers with the names “foo” or “bar” from being registered.  Providers which are not regis‐
       tered will not appear in fi_getinfo results.  Applications which need a specific set of providers  should
       implement  their own filtering of fi_getinfo’s results rather than relying on these environment variables
       in a production setting.

   <b>prov_version</b> <b>-</b> <b>Provider</b> <b>Version</b>
       Version information for the fabric provider, in a major.minor format.  The  use  of  the  FI_MAJOR()  and
       FI_MINOR() version macros may be used to extract the major and minor version data.  See <b><a href="../man3/fi_version.3.html">fi_version</a>(3)</b>.

       In  case  of  an utility provider layered over a core provider, the version would always refer to that of
       the utility provider.

   <b>api_version</b>
       The interface version requested by the application.  This value  corresponds  to  the  version  parameter
       passed into <b><a href="../man3/fi_getinfo.3.html">fi_getinfo</a>(3)</b>.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Returns  FI_SUCCESS  on  success.   On error, a negative value corresponding to fabric errno is returned.
       Fabric errno values are defined in <b>rdma/fi_errno.h</b>.

</pre><h4><b>ERRORS</b></h4><pre>
</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/fabric.7.html">fabric</a></b>(7), <b><a href="../man3/fi_getinfo.3.html">fi_getinfo</a></b>(3), <b><a href="../man3/fi_domain.3.html">fi_domain</a></b>(3), <b><a href="../man3/fi_eq.3.html">fi_eq</a></b>(3), <b><a href="../man3/fi_endpoint.3.html">fi_endpoint</a></b>(3)

</pre><h4><b>AUTHORS</b></h4><pre>
       OpenFabrics.

Libfabric Programmer’s Manual                      2024-12-10                                       <u><a href="../man3/fi_fabric.3.html">fi_fabric</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>