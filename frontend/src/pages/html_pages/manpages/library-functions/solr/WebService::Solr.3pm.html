<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebService::Solr - Module to interface with the Solr (Lucene) webservice</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libwebservice-solr-perl">libwebservice-solr-perl_0.44-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       WebService::Solr - Module to interface with the Solr (Lucene) webservice

</pre><h4><b>SYNOPSIS</b></h4><pre>
           my $solr = WebService::Solr-&gt;new;
           $solr-&gt;add( @docs );

           my $response = $solr-&gt;search( $query );
           for my $doc ( $response-&gt;docs ) {
               print $doc-&gt;value_for( $id );
           }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       WebService::Solr is a client library for Apache Lucene's Solr; an enterprise-grade indexing and searching
       platform.

</pre><h4><b>ACCESSORS</b></h4><pre>
       •   url - the webservice base url

       •   agent - a user agent object

       •   autocommit - a boolean value for automatic <b>commit()</b> after add/update/delete (default: enabled)

       •   default_params - a hashref of parameters to send on every request

       •   last_response - stores a WebService::Solr::Response for the last request

</pre><h4><b>HTTP</b> <b>KEEP-ALIVE</b></h4><pre>
       Enabling HTTP Keep-Alive is as simple as passing your custom user-agent to the constructor.

           my $solr = WebService::Solr-&gt;new( $url,
               { agent =&gt; LWP::UserAgent-&gt;new( keep_alive =&gt; 1 ) }
           );

       Visit LWP::UserAgent's documentation for more information and available options.

</pre><h4><b>METHODS</b></h4><pre>
   <b>new(</b> <b>$url,</b> <b>\%options</b> <b>)</b>
       Creates a new WebService::Solr instance. If $url is omitted, then "<a href="http://localhost">http://localhost</a>:8983/solr" is used as
       a default. Available options are listed in the ACCESSORS section.

   <b>BUILDARGS(</b> <b>@args</b> <b>)</b>
       A Moo override to allow our custom constructor.

   <b>add(</b> <b>$doc|\@docs,</b> <b>\%options</b> <b>)</b>
       Adds  a  number  of documents to the index. Returns true on success, false otherwise. A document can be a
       WebService::Solr::Document object or a structure that can be passed to "WebService::Solr::Document-&gt;new".
       Available options as of Solr 1.4 are:

       •   overwrite (default: true) - Replace previously added documents with the same uniqueKey

       •   commitWithin (in milliseconds) - The document will be added within the specified time

   <b>update(</b> <b>$doc|\@docs,</b> <b>\%options</b> <b>)</b>
       Alias for "add()".

   <b>delete(</b> <b>\%options</b> <b>)</b>
       Deletes documents matching the options provided. The delete operation currently accepts "query" and  "id"
       parameters. Multiple values can be specified as array references.

           # delete documents matching "title:bar" or uniqueId 13 or 42
           $solr-&gt;delete( {
               query =&gt; 'title:bar',
               id    =&gt; [ 13, 42 ],
           } );

   <b>delete_by_id(</b> <b>$id</b> <b>)</b>
       Deletes all documents matching the id specified. Returns true on success, false otherwise.

   <b>delete_by_query(</b> <b>$query</b> <b>)</b>
       Deletes documents matching $query. Returns true on success, false otherwise.

   <b>search(</b> <b>$query,</b> <b>\%options</b> <b>)</b>
       Searches  the  index  given  a  $query.  Returns a WebService::Solr::Response object. All key-value pairs
       supplied in "\%options" are serialized in the request URL.

       If filter queries are needed, create WebService::Solr::Query objects and pass  them  into  the  %options.
       For  example,  if  you  were  searching  a  database  of  books  for a subject of "Perl", but wanted only
       paperbacks and a copyright year of 2011 or 2012:

           my $query = WebService::Solr::Query-&gt;new( { subject =&gt; 'Perl' } );
           my %options = (
               fq =&gt; [
                   WebService::Solr::Query-&gt;new( { binding =&gt; 'Paperback' } ),
                   WebService::Solr::Query-&gt;new( { year =&gt; [ 2011, 2012 ] } ),
               ],
           );

           my $response = $solr-&gt;search( $query, \%options );

       The filter queries are typically added when drilling down into search results and selecting  a  facet  to
       drill into.

       In  order to enable facets, the option "facet =&gt; "on"" must be passed.  Facet options are detailed in the
       wiki (https://wiki.apache.org/solr/SimpleFacetParameters).

   <b>auto_suggest(</b> <b>\%options</b> <b>)</b>
       Get suggestions from a list of terms for a given  field.  The  Solr  wiki  has  more  details  about  the
       available options (<a href="http://wiki.apache.org/solr/TermsComponent">http://wiki.apache.org/solr/TermsComponent</a>)

   <b>commit(</b> <b>\%options</b> <b>)</b>
       Sends  a  commit  command.  Returns  true on success, false otherwise. You must do a commit after an add,
       update or delete. By default, autocommit is enabled.  You may disable autocommit to allow  you  to  issue
       commit commands manually:

           my $solr = WebService::Solr-&gt;new( undef, { autocommit =&gt; 0 } );
           $solr-&gt;add( $doc ); # will not automatically call commit()
           $solr-&gt;commit;

       Options as of Solr 1.4 include:

       •   maxSegments (default: 1) - Optimizes down to at most this number of segments

       •   waitFlush (default: true) - Block until index changes are flushed to disk

       •   waitSearcher (default: true) - Block until a new searcher is opened

       •   expungeDeletes (default: false) - Merge segments with deletes away

   <b>rollback(</b> <b>)</b>
       This method will rollback any additions/deletions since the last commit.

   <b>optimize(</b> <b>\%options</b> <b>)</b>
       Sends an optimize command. Returns true on success, false otherwise.

       Options as of Solr 1.4 are the same as "commit()".

   <b>ping(</b> <b>)</b>
       Sends a basic ping request. Returns true on success, false otherwise.

   <b>generic_solr_request(</b> <b>$path,</b> <b>\%query</b> <b>)</b>
       Performs  a simple "GET" request appending $path to the base URL and using key-value pairs from "\%query"
       to generate the query string. This should allow you to access parts of the Solr API that don't  yet  have
       their own correspondingly named function (e.g. "dataimport" ).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       •   <a href="http://lucene.apache.org/solr/">http://lucene.apache.org/solr/</a>

       •   Solr - an alternate library

</pre><h4><b>AUTHORS</b></h4><pre>
       Andy Lester "<a href="mailto:andy@petdance.com">andy@petdance.com</a>"

       Brian Cassidy &lt;<a href="mailto:bricas@cpan.org">bricas@cpan.org</a>&gt;

       Kirk Beers

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright 2008-2014 National Adult Literacy Database Copyright 2015-2020 Andy Lester

       This  library  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.36.0                                       2022-10-16                              <u>WebService::<a href="../man3pm/Solr.3pm.html">Solr</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>