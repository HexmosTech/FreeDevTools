<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sqitch-verify - Verify deployed database changes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sqitch">sqitch_1.5.2-1_all</a> <br><br><pre>
</pre><h4><b>Name</b></h4><pre>
       sqitch-verify - Verify deployed database changes

</pre><h4><b>Synopsis</b></h4><pre>
         sqitch verify [options] [&lt;database&gt;]
         sqitch verify [options] --from-change &lt;change&gt;
         sqitch verify [options] --to-change &lt;change&gt;
         sqitch verify [options] --from-change &lt;change&gt; --to-change &lt;change&gt;

</pre><h4><b>Description</b></h4><pre>
       Verify that a database is valid relative to the plan and the verification scripts for each deployed
       change.

       More specifically, "verify" iterates over all deployed and planned changes (or the subset identified by
       "--from-change" and/or "--to-change") and checks that each:

       •   Is deployed.

       •   Is present in the plan.

       •   Was deployed in the proper order.

       •   Passes its verify test, if one exists and the change has not been reworked.

       The  "&lt;database&gt;"  parameter specifies the database to which to connect, and may also be specified as the
       "--target" option. It can be target name, a URI, an engine name, or plan file path.

       Verify tests are scripts that may be associated with each change. If a change has  no  verify  script,  a
       warning  is  emitted,  but  it  is not considered a failure. If a change has been reworked, only the most
       recent reworking will have its verify script executed.

       Verify scripts should make no assumptions about the contents  of  the  database,  as  unit  tests  might.
       Rather,  their  job  is  to  ensure  that  the  state  of a database is correct after a deploy script has
       completed. Verify scripts are run through the database engine command-line client, just like  deploy  and
       revert scripts. They should cause the client to exit with a non-zero exit code if they fail.

</pre><h4><b>Options</b></h4><pre>
       "-t"
       "--target"
           The  target  database to which to connect. This option can be either a URI or the name of a target in
           the configuration.

       "--from-change"
       "--from"
           Specify the change with which to start the verification. Defaults to the  earliest  deployed  change.
           See sqitchchanges for the various ways in which changes can be specified.

       "--to-change"
       "--to"
           Specify the change with which to complete the verification. Defaults to the last deployed change. See
           sqitchchanges for the various ways in which changes can be specified.

       "-s"
       "--set"
           Set  a  variable  name and value for use by the database engine client, if it supports variables. The
           format must be "name=value", e.g., "--set defuser='Homer Simpson'". Overrides any values loaded  from
           "configuration Variables".

       "--registry"
             sqitch verify --registry registry

           The name of the Sqitch registry schema or database in which sqitch stores its own data.

       "--db-client"
       "--client"
             sqitch verify --client /usr/local/pgsql/bin/psql

           Path  to  the  command-line  client for the database engine. Defaults to a client in the current path
           named appropriately for the database engine.

       "-d"
       "--db-name"
             sqitch verify --db-name widgets
             sqitch verify -d bricolage

           Name of the database. In general, targets and URIs are preferred, but this  option  can  be  used  to
           override the database name in a target.

       "-u"
       "--db-user"
       "--db-username"
             sqitch verify --db-username root
             sqitch verify --db-user postgres
             sqitch verify -u Mom

           User  name to use when connecting to the database. Does not apply to all engines. In general, targets
           and URIs are preferred, but this option can be used to override the user name in a target.

       "-h"
       "--db-host"
             sqitch verify --db-host db.example.com
             sqitch verify -h appdb.example.net

           Host name to use when connecting to the database. Does not apply to all engines. In general,  targets
           and URIs are preferred, but this option can be used to override the host name in a target.

       "-p"
       "--db-port"
             sqitch verify --db-port 7654
             sqitch verify -p 5431

           Port number to connect to. Does not apply to all engines. In general, targets and URIs are preferred,
           but this option can be used to override the port in a target.

       "--plan-file"
       "-f"
             sqitch verify --plan-file my.plan

           Path  to  the deployment plan file. Overrides target, engine, and core configuration values. Defaults
           to <u>$top_dir/sqitch.plan</u>.

</pre><h4><b>Configuration</b> <b>Variables</b></h4><pre>
       "[deploy.variables]"
       "[verify.variables]"
           A section defining database client variables. The "deploy.variables" configuration is read  from  the
           "deploy"  command  configuration,  on  the  assumption  that the values will generally be the same on
           verify. If they're not, use "verify.variables" to override "deploy.variables".

           These variables  are  useful  if  your  database  engine  supports  variables  in  scripts,  such  as
           PostgreSQL's "psql" variables &lt;https://www.postgresql.org/docs/current/static/app-psql.html#APP-PSQL-
           INTERPOLATION&gt;,                     Vertica's                     "vsql"                    variables
           &lt;https://my.vertica.com/docs/7.1.x/HTML/index.htm#Authoring/ConnectingToHPVertica/vsql/Variables.htm&gt;,
           MySQL's  user  variables  &lt;https://dev.mysql.com/doc/refman/5.6/en/user-variables.html&gt;,   SQL*Plus's
           "DEFINE"    variables    &lt;https://docs.oracle.com/cd/B19306_01/server.102/b14357/ch12017.htm&gt;,    and
           Snowflake's   SnowSQL   variables   &lt;https://docs.snowflake.com/en/user-guide/snowsql-use.html#using-
           variables&gt;.

           May  be  overridden  by  "--set"  or  target  and  engine  configuration. Variables are merged in the
           following priority order:

           "--set"
           "target.$target.variables"
           "engine.$engine.variables"
           "verify.variables"
           "deploy.variables"
           "core.variables"

</pre><h4><b>Sqitch</b></h4><pre>
       Part of the sqitch suite.

perl v5.40.1                                       2025-05-10                                 <u><a href="../man3pm/sqitch-verify.3pm.html">sqitch-verify</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>