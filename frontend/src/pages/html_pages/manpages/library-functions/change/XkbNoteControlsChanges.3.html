<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XkbNoteControlsChanges   -  Notes  the  changes  in  a  changes  structure  when  a  client  receives  an</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libx11-doc">libx11-doc_1.8.12-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       XkbNoteControlsChanges   -  Notes  the  changes  in  a  changes  structure  when  a  client  receives  an
       XkbControlsNotify event

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>void</b> <b>XkbNoteControlsChanges</b> <b>(XkbControlsChangesPtr</b> <u>changes</u><b>,</b>  <b>XkbControlsNotifyEvent</b>  <b>*</b><u>new</u><b>,</b>  <b>unsigned</b>  <b>int</b>
              <u>wanted</u><b>);</b>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>changes</u>
              records changes indicated by new

       <u>new</u>    tells which things have changed

       <u>wanted</u> tells which parts of new to record in changes

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Whenever a field in the controls structure changes in the server's keyboard description, the server sends
       an  XkbControlsNotify  event  to  all  interested  clients.To  receive XkbControlsNotify events under all
       possible conditions, use <u>XkbSelectEvents</u>  and  pass  XkbControlsNotifyMask  in  both  <u>bits_to_change</u>  and
       <u>values_for_bits.</u>

       To  receive  XkbControlsNotify  events  only  under  certain  conditions, use <u>XkbSelectEventDetails</u> using
       XkbControlsNotify as the <u>event_type</u> and specifying  the  desired  state  changes  in  <u>bits_to_change</u>  and
       <u>values_for_bits</u> using mask bits from Table 1.

       Table 1 shows the actual values for the individual mask bits used to select controls for modification and
       to  enable  and disable the control. Note that the same mask bit is used to specify general modifications
       to the parameters used to  configure  the  control  (which),  and  to  enable  and  disable  the  control
       (enabled_ctrls).  The  anomalies  in  the  table  (no  "ok"  in  column)  are  for  controls that have no
       configurable attributes; and for controls that are not boolean controls and therefore cannot  be  enabled
       or disabled.

                              Table 1 Controls Mask Bits
       ──────────────────────────────────────────────────────────────────────────
       Mask Bit                  which or        enabled   Value
                                 changed_ctrls   _ctrls
       ──────────────────────────────────────────────────────────────────────────
       XkbRepeatKeysMask         ok              ok        (1L&lt;&lt;0)
       XkbSlowKeysMask           ok              ok        (1L&lt;&lt;1)
       XkbBounceKeysMask         ok              ok        (1L&lt;&lt;2)
       XkbStickyKeysMask         ok              ok        (1L&lt;&lt;3)
       XkbMouseKeysMask          ok              ok        (1L&lt;&lt;4)
       XkbMouseKeysAccelMask     ok              ok        (1L&lt;&lt;5)
       XkbAccessXKeysMask        ok              ok        (1L&lt;&lt;6)
       XkbAccessXTimeoutMask     ok              ok        (1L&lt;&lt;7)
       XkbAccessXFeedbackMask    ok              ok        (1L&lt;&lt;8)
       XkbAudibleBellMask                        ok        (1L&lt;&lt;9)
       XkbOverlay1Mask                           ok        (1L&lt;&lt;10)
       XkbOverlay2Mask                           ok        (1L&lt;&lt;11)
       XkbIgnoreGroupLockMask                    ok        (1L&lt;&lt;12)
       XkbGroupsWrapMask         ok                        (1L&lt;&lt;27)
       XkbInternalModsMask       ok                        (1L&lt;&lt;28)
       XkbIgnoreLockModsMask     ok                        (1L&lt;&lt;29)
       XkbPerKeyRepeatMask       ok                        (1L&lt;&lt;30)
       XkbControlsEnabledMask    ok                        (1L&lt;&lt;31)
       XkbAccessXOptionsMask     ok              ok        (XkbStickyKeysMask |
       XkbAccessXFeedbackMask)
       XkbAllBooleanCtrlsMask                    ok        (0x00001FFF)
       XkbAllControlsMask        ok                        (0xF8001FFF)

       The  <u>changed_ctrls</u>  field  specifies the controls components that have changed and consists of bits taken
       from the masks defined in Table 1 with "ok" in the <u>changed_ctrls</u> column.

       The controls currently enabled in the server are reported in the <u>enabled_ctrls</u>  field.  If  any  controls
       were  just  enabled  or  disabled  (that  is,  the contents of the <u>enabled_ctrls</u> field changed), they are
       flagged in the <u>enabled_ctrl_changes</u> field. The valid bits for these fields are the masks listed in  Table
       1  with  "ok" in the <u>enabled_ctrls</u> column. The <u>num_groups</u> field reports the number of groups bound to the
       key belonging to the most number of groups  and  is  automatically  updated  when  the  keyboard  mapping
       changes.

       If  the  change  was caused by a request from a client, the <u>keycode</u> and <u>event_type</u> fields are set to zero
       and the <u>req_major</u> and <u>req_minor</u> fields identify the request. The <u>req_major</u> <u>value</u> <u>is</u> <u>the</u> <u>same</u> <u>as</u> <u>the</u> <u>major</u>
       <u>extension</u> <u>opcode.</u> <u>Otherwise,</u> <u>event_type</u> is set to the type of  event  that  caused  the  change  (one  of
       KeyPress,  KeyRelease, DeviceKeyPress, DeviceKeyRelease, ButtonPress or ButtonRelease), and <u>req_major</u> and
       <u>req_minor</u> are undefined. If <u>event_type</u> is KeyPress, KeyRelease, DeviceKeyPress, or DeviceKeyRelease,  the
       <u>keycode</u>  field  is  set to the key that caused the change. If <u>event_type</u> is ButtonPress or ButtonRelease,
       <u>keycode</u> contains the button number.

       When a client receives an XkbControlsNotify event, it can note the changes in a changes  structure  using
       <u>XkbNoteControlsChanges.</u>

       The  <u>wanted</u>  parameter is a bitwise inclusive OR of bits taken from the set of masks specified in Table 1
       with "ok" in the <u>changed_ctrls</u> column.  <u>XkbNoteControlsChanges</u> copies any changes  reported  in  <u>new</u>  and
       specified in <u>wanted</u> into the changes record specified by <u>old.</u>

</pre><h4><b>STRUCTURES</b></h4><pre>
       The structure for the XkbControlsNotify event is defined as follows:

       typedef struct {
           int           type;          /* Xkb extension base event code */
           unsigned long serial;        /* X server serial number for event */
           Bool          send_event;    /* True =&gt; synthetically generated */
           Display *     display;       /* server connection where event generated */
           Time          time;          /* server time when event generated */
           int           xkb_type;      /* XkbCompatMapNotify */
           int           device;        /* Xkb device ID, will not be XkbUseCoreKbd */
           unsigned int  changed_ctrls; /* bits indicating which controls data have changed*/
           unsigned int  enabled_ctrls; /* controls currently enabled in server */
           unsigned int  enabled_ctrl_changes; /* bits indicating enabled/disabled controls */
           int           num_groups;    /* current number of keyboard groups */
           KeyCode       keycode;       /* != 0 =&gt; keycode of key causing change */
           char          event_type;    /* Type of event causing change */
           char          req_major;     /* major event code of event causing change */
           char          req_minor;     /* minor event code of event causing change */
       } XkbControlsNotifyEvent;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/XkbSelectEventDetails.3.html">XkbSelectEventDetails</a></b>(3), <b><a href="../man3/XkbSelectEvents.3.html">XkbSelectEvents</a></b>(3)

X Version 11                                      libX11 1.8.12                        <u><a href="../man3/XkbNoteControlsChanges.3.html">XkbNoteControlsChanges</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>