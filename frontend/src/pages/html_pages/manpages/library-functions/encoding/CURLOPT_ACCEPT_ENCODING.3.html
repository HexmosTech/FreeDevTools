<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_ACCEPT_ENCODING - automatic decompression of HTTP downloads</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_ACCEPT_ENCODING - automatic decompression of HTTP downloads

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_ACCEPT_ENCODING, char *enc);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Pass a char pointer argument specifying what encoding you would like.

       Sets  the  contents  of  the  Accept-Encoding:  header sent in an HTTP request, and enables decoding of a
       response when a Content-Encoding: header is received.

       libcurl potentially supports several different compressed encodings depending on what  support  that  has
       been built-in.

       To  aid  applications  not  having to bother about what specific algorithms this particular libcurl build
       supports, libcurl allows a zero-length string to be set ("") to ask for an Accept-Encoding: header to  be
       used that contains all built-in supported encodings.

       Alternatively,  you  can  specify exactly the encoding or list of encodings you want in the response. The
       following encodings are supported: <u>identity</u>, meaning non-compressed, <u>deflate</u> which requests the server to
       compress its response using the zlib algorithm, <u>gzip</u> which  requests  the  gzip  algorithm,  (since  curl
       7.57.0)  <u>br</u>  which  is brotli and (since curl 7.72.0) <u>zstd</u> which is zstd. Provide them in the string as a
       comma-separated list of accepted encodings, like: <b>"br,</b> <b>gzip,</b> <b>deflate"</b>.

       Set <u><a href="../man3/CURLOPT_ACCEPT_ENCODING.3.html">CURLOPT_ACCEPT_ENCODING</a>(3)</u> to NULL to  explicitly  disable  it,  which  makes  libcurl  not  send  an
       Accept-Encoding: header and not decompress received contents automatically.

       You  can  also opt to just include the Accept-Encoding: header in your request with <u><a href="../man3/CURLOPT_HTTPHEADER.3.html">CURLOPT_HTTPHEADER</a>(3)</u>
       but then there is no automatic decompressing when receiving data.

       This is a request, not an order; the server may or may not do  it.  This  option  must  be  set  (to  any
       non-NULL value) or else any unsolicited encoding done by the server is ignored.

       Servers  might  respond  with  Content-Encoding  even  without getting a Accept-Encoding: in the request.
       Servers might respond with a different Content-Encoding than what was asked for in the request.

       The Content-Length: servers send for a compressed response is supposed to  indicate  the  length  of  the
       compressed  content  so  when  auto decoding is enabled it may not match the sum of bytes reported by the
       write callbacks (although, sending the length of the non-compressed content is a common server mistake).

       The application does not have to keep the string around after setting this option.

       Using this option multiple times makes the last set string override the previous ones.

</pre><h4><b>HISTORY</b></h4><pre>
       This option was called CURLOPT_ENCODING before 7.21.6

</pre><h4><b>NOTES</b></h4><pre>
       The specific libcurl you are using must have been built with zlib to  be  able  to  decompress  gzip  and
       deflate  responses,  with  the brotli library to decompress brotli responses and with the zstd library to
       decompress zstd responses.

</pre><h4><b>DEFAULT</b></h4><pre>
       NULL

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects http only

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           curl_easy_setopt(curl, CURLOPT_URL, "https://example.com");

           /* enable all supported built-in compressions */
           curl_easy_setopt(curl, CURLOPT_ACCEPT_ENCODING, "");

           /* Perform the request */
           curl_easy_perform(curl);
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.21.6

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLOPT_HTTPHEADER.3.html">CURLOPT_HTTPHEADER</a></b>(3), <b><a href="../man3/CURLOPT_HTTP_CONTENT_DECODING.3.html">CURLOPT_HTTP_CONTENT_DECODING</a></b>(3), <b><a href="../man3/CURLOPT_TRANSFER_ENCODING.3.html">CURLOPT_TRANSFER_ENCODING</a></b>(3)

libcurl                                            2025-06-16                         <u><a href="../man3/CURLOPT_ACCEPT_ENCODING.3.html">CURLOPT_ACCEPT_ENCODING</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>