<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>error_logger - Erlang error logger.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/erlang-manpages">erlang-manpages_24.2.1+dfsg-1ubuntu0.5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       error_logger - Erlang error logger.

</pre><h4><b>DESCRIPTION</b></h4><pre>
   <b>Note:</b>
       In  Erlang/OTP  21.0,  a  new API for logging was added. The old <u>error_logger</u> module can still be used by
       legacy code, but log events are redirected to the new Logger API. New code  should  use  the  Logger  API
       directly.

       <u>error_logger</u> is no longer started by default, but is automatically started when an event handler is added
       with  <u>error_logger:add_report_handler/1,2</u>. The <u>error_logger</u> module is then also added as a handler to the
       new logger.

       See <u><a href="../man3erl/logger.3erl.html">logger</a>(3erl)</u> and the Logging chapter in the User's Guide for more information.

       The Erlang <u>error</u> <u>logger</u> is an event manager (see OTP Design Principles and  <u><a href="../man3erl/gen_event.3erl.html">gen_event</a>(3erl)</u>),  registered
       as <u>error_logger</u>.

       Error logger is no longer started by default, but is automatically started when an event handler is added
       with  <u>add_report_handler/1,2</u>.  The <u>error_logger</u> module is then also added as a handler to the new logger,
       causing log events to be forwarded from logger to error logger, and consequently to all  installed  error
       logger event handlers.

       User-defined event handlers can be added to handle application-specific events.

       Existing event handlers provided by STDLIB and SASL are still available, but are no longer used by OTP.

       Warning  events  were introduced in Erlang/OTP R9C and are enabled by default as from Erlang/OTP 18.0. To
       retain backwards compatibility with existing user-defined event  handlers,  the  warning  events  can  be
       tagged  as <u>errors</u> or <u>info</u> using command-line flag <u>+W</u> <u>&lt;e</u> <u>|</u> <u>i</u> <u>|</u> <u>w&gt;</u>, thus showing up as <u>ERROR</u> <u>REPORT</u> or <u>INFO</u>
       <u>REPORT</u> in the logs.

</pre><h4><b>DATA</b> <b>TYPES</b></h4><pre>
       <b>report()</b> =
           [{Tag :: term(), Data :: term()} | term()] | string() | term()

</pre><h4><b>EXPORTS</b></h4><pre>
       <b>add_report_handler(Handler)</b> <b>-&gt;</b> <b>any()</b>

       <b>add_report_handler(Handler,</b> <b>Args)</b> <b>-&gt;</b> <b>Result</b>

              Types:

                 Handler = module()
                 Args = gen_event:handler_args()
                 Result = gen_event:add_handler_ret()

              Adds a new event handler to the error logger. The event handler must be implemented as a <u>gen_event</u>
              callback module, see <u><a href="../man3erl/gen_event.3erl.html">gen_event</a>(3erl)</u>.

              <u>Handler</u> is typically the name of the callback module and <u>Args</u> is an optional term (defaults to [])
              passed to the  initialization  callback  function  <u>Handler:init/1</u>.  The  function  returns  <u>ok</u>  if
              successful.

              The event handler must be able to handle the events in this module, see section Events.

              The  first  time  this  function  is  called,  <u>error_logger</u>  is added as a Logger handler, and the
              <u>error_logger</u> process is started.

       <b>delete_report_handler(Handler)</b> <b>-&gt;</b> <b>Result</b>

              Types:

                 Handler = module()
                 Result = gen_event:del_handler_ret()

              Deletes an event handler from the error logger by  calling  <u>gen_event:delete_handler(error_logger,</u>
              <u>Handler,</u> <u>[])</u>, see <u><a href="../man3erl/gen_event.3erl.html">gen_event</a>(3erl)</u>.

              If  no  more event handlers exist after the deletion, <u>error_logger</u> is removed as a Logger handler,
              and the <u>error_logger</u> process is stopped.

       <b>error_msg(Format)</b> <b>-&gt;</b> <b>ok</b>

       <b>error_msg(Format,</b> <b>Data)</b> <b>-&gt;</b> <b>ok</b>

       <b>format(Format,</b> <b>Data)</b> <b>-&gt;</b> <b>ok</b>

              Types:

                 Format = string()
                 Data = list()

              Log a standard error event. The <u>Format</u> and <u>Data</u>  arguments  are  the  same  as  the  arguments  of
              <u>io:format/2</u> in STDLIB.

              Error  logger forwards the event to Logger, including metadata that allows backwards compatibility
              with legacy error logger event handlers.

              The event is handled by the default Logger handler.

              These functions are kept for backwards compatibility and must not be used by  new  code.  Use  the
              <u>?LOG_ERROR</u> macro or <u>logger:error/1,2,3</u> instead.

              <u>Example:</u>

              1&gt; error_logger:error_msg("An error occurred in ~p", [a_module]).
              =ERROR REPORT==== 22-May-2018::11:18:43.376917 ===
              An error occurred in a_module
              ok

          <b>Warning:</b>
              If  the  Unicode  translation  modifier  (<u>t</u>) is used in the format string, all event handlers must
              ensure that the formatted output is correctly encoded for the I/O device.

       <b>error_report(Report)</b> <b>-&gt;</b> <b>ok</b>

              Types:

                 Report = report()

              Log a standard error event. Error logger forwards the event to  Logger,  including  metadata  that
              allows backwards compatibility with legacy error logger event handlers.

              The event is handled by the default Logger handler.

              This  functions  is  kept  for  backwards  compatibility and must not be used by new code. Use the
              <u>?LOG_ERROR</u> macro or <u>logger:error/1,2,3</u> instead.

              <u>Example:</u>

              2&gt; error_logger:error_report([{tag1,data1},a_term,{tag2,data}]).
              =ERROR REPORT==== 22-May-2018::11:24:23.699306 ===
                  tag1: data1
                  a_term
                  tag2: data
              ok
              3&gt; error_logger:error_report("Serious error in my module").
              =ERROR REPORT==== 22-May-2018::11:24:45.972445 ===
              Serious error in my module
              ok

       <b>error_report(Type,</b> <b>Report)</b> <b>-&gt;</b> <b>ok</b>

              Types:

                 Type = term()
                 Report = report()

              Log a user-defined error event. Error logger forwards the event to Logger, including metadata that
              allows backwards compatibility with legacy error logger event handlers.

              Error logger also adds a <u>domain</u> field with value <u>[Type]</u> to  this  event's  metadata,  causing  the
              filters  of  the  default  Logger  handler to discard the event. A different Logger handler, or an
              error logger event handler, must be added to handle this event.

              It is recommended that <u>Report</u> follows the same structure as for <u>error_report/1</u>.

              This functions is kept for backwards compatibility and must not be  used  by  new  code.  Use  the
              <u>?LOG_ERROR</u> macro or <u>logger:error/1,2,3</u> instead.

       <b>get_format_depth()</b> <b>-&gt;</b> <b>unlimited</b> <b>|</b> <b>integer()</b> <b>&gt;=</b> <b>1</b>

              Returns  <u>max(10,</u>  <u>Depth)</u>,  where  <u>Depth</u>  is  the  value of <u>error_logger_format_depth</u> in the Kernel
              application, if Depth is an integer. Otherwise, <u>unlimited</u> is returned.

          <b>Note:</b>
              The <u>error_logger_format_depth</u> variable is  deprecated since  the  Logger  API  was  introduced  in
              Erlang/OTP  21.0. The variable, and this function, are kept for backwards compatibility since they
              still might be used by legacy report handlers.

       <b>info_msg(Format)</b> <b>-&gt;</b> <b>ok</b>

       <b>info_msg(Format,</b> <b>Data)</b> <b>-&gt;</b> <b>ok</b>

              Types:

                 Format = string()
                 Data = list()

              Log a standard information event. The <u>Format</u> and <u>Data</u> arguments are the same as the  arguments  of
              <u>io:format/2</u> in STDLIB.

              Error  logger forwards the event to Logger, including metadata that allows backwards compatibility
              with legacy error logger event handlers.

              The event is handled by the default Logger handler.

              These functions are kept for backwards compatibility and must not be used by  new  code.  Use  the
              <u>?LOG_INFO</u> macro or <u>logger:info/1,2,3</u> instead.

              <u>Example:</u>

              1&gt; error_logger:info_msg("Something happened in ~p", [a_module]).
              =INFO REPORT==== 22-May-2018::12:03:32.612462 ===
              Something happened in a_module
              ok

          <b>Warning:</b>
              If  the  Unicode  translation  modifier  (<u>t</u>) is used in the format string, all event handlers must
              ensure that the formatted output is correctly encoded for the I/O device.

       <b>info_report(Report)</b> <b>-&gt;</b> <b>ok</b>

              Types:

                 Report = report()

              Log a standard information event. Error logger forwards the event to  Logger,  including  metadata
              that allows backwards compatibility with legacy error logger event handlers.

              The event is handled by the default Logger handler.

              This  functions  is  kept  for  backwards  compatibility and must not be used by new code. Use the
              <u>?LOG_INFO</u> macro or <u>logger:info/1,2,3</u> instead.

              <u>Example:</u>

              2&gt; error_logger:info_report([{tag1,data1},a_term,{tag2,data}]).
              =INFO REPORT==== 22-May-2018::12:06:35.994440 ===
                  tag1: data1
                  a_term
                  tag2: data
              ok
              3&gt; error_logger:info_report("Something strange happened").
              =INFO REPORT==== 22-May-2018::12:06:49.066872 ===
              Something strange happened
              ok

       <b>info_report(Type,</b> <b>Report)</b> <b>-&gt;</b> <b>ok</b>

              Types:

                 Type = any()
                 Report = report()

              Log a user-defined information event.  Error  logger  forwards  the  event  to  Logger,  including
              metadata that allows backwards compatibility with legacy error logger event handlers.

              Error  logger  also  adds  a  <u>domain</u> field with value <u>[Type]</u> to this event's metadata, causing the
              filters of the default Logger handler to discard the event. A  different  Logger  handler,  or  an
              error logger event handler, must be added to handle this event.

              It is recommended that <u>Report</u> follows the same structure as for <u>info_report/1</u>.

              This  functions  is  kept  for  backwards  compatibility and must not be used by new code. Use the
              <u>?LOG_INFO</u> macro or <u>logger:info/1,2,3</u> instead.

       <b>logfile(Request</b> <b>::</b> <b>{open,</b> <b>Filename})</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{error,</b> <b>OpenReason}</b>

       <b>logfile(Request</b> <b>::</b> <b>close)</b> <b>-&gt;</b> <b>ok</b> <b>|</b> <b>{error,</b> <b>CloseReason}</b>

       <b>logfile(Request</b> <b>::</b> <b>filename)</b> <b>-&gt;</b> <b>Filename</b> <b>|</b> <b>{error,</b> <b>FilenameReason}</b>

              Types:

                 Filename = file:name()
                 OpenReason = allready_have_logfile | open_error()
                 CloseReason = module_not_found
                 FilenameReason = no_log_file
                 <b>open_error()</b> = file:posix() | badarg | system_limit

              Enables or disables printout of standard events to a file.

              This is done by adding or deleting the <u>error_logger_file_h</u>  event  handler,  and  thus  indirectly
              adding <u>error_logger</u> as a Logger handler.

              Notice  that  this function does not manipulate the Logger configuration directly, meaning that if
              the default Logger handler is already logging to a  file,  this  function  can  potentially  cause
              logging to a second file.

              This  function  is  useful as a shortcut during development and testing, but must not be used in a
              production system. See section Logging in the Kernel User's Guide,  and  the  <u><a href="../man3erl/logger.3erl.html">logger</a>(3erl)</u>  manual
              page for information about how to configure Logger for live systems.

              <u>Request</u> is one of the following:

                <u>{open,</u> <u>Filename}</u>:
                  Opens  log  file  <u>Filename</u>.  Returns  <u>ok</u>  if  successful, or <u>{error,</u> <u>allready_have_logfile}</u> if
                  logging to file is already enabled, or an error tuple if another error occurred (for  example,
                  if <u>Filename</u> cannot be opened). The file is opened with encoding UTF-8.

                <u>close</u>:
                  Closes the current log file. Returns <u>ok</u>, or <u>{error,</u> <u>module_not_found}</u>.

                <u>filename</u>:
                  Returns  the  name of the log file <u>Filename</u>, or <u>{error,</u> <u>no_log_file}</u> if logging to file is not
                  enabled.

       <b>tty(Flag)</b> <b>-&gt;</b> <b>ok</b>

              Types:

                 Flag = boolean()

              Enables (<u>Flag</u> <u>==</u> <u>true</u>) or disables (<u>Flag</u> <u>==</u> <u>false</u>) printout of standard events to the terminal.

              This is done by manipulating the Logger configuration. The function is useful as a shortcut during
              development and testing, but must not be used in a production system. See section Logging  in  the
              Kernel  User's  Guide,  and  the  <u><a href="../man3erl/logger.3erl.html">logger</a>(3erl)</u>  manual page for information about how to configure
              Logger for live systems.

       <b>warning_map()</b> <b>-&gt;</b> <b>Tag</b>

              Types:

                 Tag = error | warning | info

              Returns  the  current  mapping  for  warning  events.  Events  sent   using   <u>warning_msg/1,2</u>   or
              <u>warning_report/1,2</u>  are  tagged  as errors, warnings (default), or info, depending on the value of
              command-line flag <u>+W</u>.

              <u>Example:</u>

              os$ erl
              Erlang (BEAM) emulator version 5.4.8 [hipe] [threads:0] [kernel-poll]

              Eshell V5.4.8  (abort with ^G)
              1&gt; error_logger:warning_map().
              warning
              2&gt; error_logger:warning_msg("Warnings tagged as: ~p~n", [warning]).

              =WARNING REPORT==== 11-Aug-2005::15:31:55 ===
              Warnings tagged as: warning
              ok
              3&gt;
              User switch command
               --&gt; q
              os$ erl +W e
              Erlang (BEAM) emulator version 5.4.8 [hipe] [threads:0] [kernel-poll]

              Eshell V5.4.8  (abort with ^G)
              1&gt; error_logger:warning_map().
              error
              2&gt; error_logger:warning_msg("Warnings tagged as: ~p~n", [error]).

              =ERROR REPORT==== 11-Aug-2005::15:31:23 ===
              Warnings tagged as: error
              ok

       <b>warning_msg(Format)</b> <b>-&gt;</b> <b>ok</b>

       <b>warning_msg(Format,</b> <b>Data)</b> <b>-&gt;</b> <b>ok</b>

              Types:

                 Format = string()
                 Data = list()

              Log a standard warning event. The <u>Format</u> and <u>Data</u> arguments are  the  same  as  the  arguments  of
              <u>io:format/2</u> in STDLIB.

              Error  logger forwards the event to Logger, including metadata that allows backwards compatibility
              with legacy error logger event handlers.

              The event is handled by the default Logger handler. The log level can be changed to error or info,
              see <u>warning_map/0</u>.

              These functions are kept for backwards compatibility and must not be used by  new  code.  Use  the
              <u>?LOG_WARNING</u> macro or <u>logger:warning/1,2,3</u> instead.

          <b>Warning:</b>
              If  the  Unicode  translation  modifier  (<u>t</u>) is used in the format string, all event handlers must
              ensure that the formatted output is correctly encoded for the I/O device.

       <b>warning_report(Report)</b> <b>-&gt;</b> <b>ok</b>

              Types:

                 Report = report()

              Log a standard warning event. Error logger forwards the event to Logger, including  metadata  that
              allows backwards compatibility with legacy error logger event handlers.

              The event is handled by the default Logger handler. The log level can be changed to error or info,
              see <u>warning_map/0</u>.

              This  functions  is  kept  for  backwards  compatibility and must not be used by new code. Use the
              <u>?LOG_WARNING</u> macro or <u>logger:warning/1,2,3</u> instead.

       <b>warning_report(Type,</b> <b>Report)</b> <b>-&gt;</b> <b>ok</b>

              Types:

                 Type = any()
                 Report = report()

              Log a user-defined warning event. Error logger forwards the event to  Logger,  including  metadata
              that allows backwards compatibility with legacy error logger event handlers.

              Error  logger  also  adds  a  <u>domain</u> field with value <u>[Type]</u> to this event's metadata, causing the
              filters of the default Logger handler to discard the event. A  different  Logger  handler,  or  an
              error logger event handler, must be added to handle this event.

              The log level can be changed to error or info, see <u>warning_map/0</u>.

              It is recommended that <u>Report</u> follows the same structure as for <u>warning_report/1</u>.

              This  functions  is  kept  for  backwards  compatibility and must not be used by new code. Use the
              <u>?LOG_WARNING</u> macro or <u>logger:warning/1,2,3</u> instead.

</pre><h4><b>EVENTS</b></h4><pre>
       All event handlers added to the error logger must handle the  following  events.  <u>Gleader</u>  is  the  group
       leader pid of the process that sent the event, and <u>Pid</u> is the process that sent the event.

         <u>{error,</u> <u>Gleader,</u> <u>{Pid,</u> <u>Format,</u> <u>Data}}</u>:
           Generated when <u>error_msg/1,2</u> or <u>format</u> is called.

         <u>{error_report,</u> <u>Gleader,</u> <u>{Pid,</u> <u>std_error,</u> <u>Report}}</u>:
           Generated when <u>error_report/1</u> is called.

         <u>{error_report,</u> <u>Gleader,</u> <u>{Pid,</u> <u>Type,</u> <u>Report}}</u>:
           Generated when <u>error_report/2</u> is called.

         <u>{warning_msg,</u> <u>Gleader,</u> <u>{Pid,</u> <u>Format,</u> <u>Data}}</u>:
           Generated when <u>warning_msg/1,2</u> is called if warnings are set to be tagged as warnings.

         <u>{warning_report,</u> <u>Gleader,</u> <u>{Pid,</u> <u>std_warning,</u> <u>Report}}</u>:
           Generated when <u>warning_report/1</u> is called if warnings are set to be tagged as warnings.

         <u>{warning_report,</u> <u>Gleader,</u> <u>{Pid,</u> <u>Type,</u> <u>Report}}</u>:
           Generated when <u>warning_report/2</u> is called if warnings are set to be tagged as warnings.

         <u>{info_msg,</u> <u>Gleader,</u> <u>{Pid,</u> <u>Format,</u> <u>Data}}</u>:
           Generated when <u>info_msg/1,2</u> is called.

         <u>{info_report,</u> <u>Gleader,</u> <u>{Pid,</u> <u>std_info,</u> <u>Report}}</u>:
           Generated when <u>info_report/1</u> is called.

         <u>{info_report,</u> <u>Gleader,</u> <u>{Pid,</u> <u>Type,</u> <u>Report}}</u>:
           Generated when <u>info_report/2</u> is called.

       Notice  that  some  system-internal events can also be received. Therefore a catch-all clause last in the
       definition of the event handler callback function <u>Module:handle_event/2</u> is necessary. This  also  applies
       for <u>Module:handle_info/2</u>, as the event handler must also take care of some system-internal messages.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3erl/gen_event.3erl.html">gen_event</a>(3erl)</u>, <u><a href="../man3erl/logger.3erl.html">logger</a>(3erl)</u>, <u><a href="../man3erl/log_mf_h.3erl.html">log_mf_h</a>(3erl)</u>, <u><a href="../man7/kernel.7.html">kernel</a>(7)</u>, <u><a href="../man7/sasl.7.html">sasl</a>(7)</u>

Ericsson AB                                        kernel 8.2                                 <u><a href="../man3erl/error_logger.3erl.html">error_logger</a></u>(3erl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>