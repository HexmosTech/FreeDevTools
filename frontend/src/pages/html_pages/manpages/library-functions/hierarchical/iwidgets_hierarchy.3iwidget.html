<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iwidgets::hierarchy - Create and manipulate a hierarchy widget</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/iwidgets4-doc">iwidgets4-doc_4.1.1-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       iwidgets::hierarchy - Create and manipulate a hierarchy widget

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>iwidgets::hierarchy</b> <u>pathName</u> ?<u>options</u>?

</pre><h4><b>INHERITANCE</b></h4><pre>
       itk::Widget &lt;- iwidgets::Labeledwidget &lt;- iwidgets::Scrolledwidget &lt;- iwidgets::Hierarchy

</pre><h4><b>STANDARD</b> <b>OPTIONS</b></h4><pre>
       <b>activeBackground</b>    <b>activeForeground</b>    <b>background</b>        <b>borderWidth</b>
       <b>cursor</b>              <b>disabledForeground</b>  <b>foreground</b>        <b>highlightColor</b>
       <b>highlightThickness</b>  <b>relief</b>              <b>selectBackground</b>  <b>selectForeground</b>

       See the "options" manual entry for details on the standard options.

</pre><h4><b>ASSOCIATED</b> <b>OPTIONS</b></h4><pre>
       <b>activeRelief</b>    <b>elementBorderWidth</b>             <b>jumptroughColor</b>

       See the "scrollbar" widget manual entry for details on the above associated options.

       <b>spacing1</b>        <b>spacing2</b>       <b>spacing3</b>        <b>tabs</b>

       See the "text" widget manual entry for details on the above associated options.

</pre><h4><b>INHERITED</b> <b>OPTIONS</b></h4><pre>
       <b>labelBitmap</b>     <b>labelFont</b>      <b>labelImage</b>      <b>labelMargin</b>
       <b>labelPos</b>        <b>labelText</b>      <b>labelVariable</b>   <b>sticky</b>

       See the "labeledwidget" class manual entry for details on the inherited options.

</pre><h4><b>WIDGET-SPECIFIC</b> <b>OPTIONS</b></h4><pre>
       Name:           <b>alwaysQuery</b>
       Class:          <b>AlwaysQuery</b>
       Command-Line Switch:           <b>-alwaysquery</b>

              Boolean flag which tells the hierarchy widget weather or not each refresh of the display should be
              via  a  new  query  using the command value of the -querycommand option or use the values previous
              found the last time the query was made.  The default is no.

       Name:           <b>closedIcon</b>
       Class:          <b>Icon</b>
       Command-Line Switch:           <b>-closedicon</b>

              Specifies the name of an existing closed icon image to be used in the hierarchy before those nodes
              that are collapsed.  Should one not be provided, then a folder icon will be generated,  pixmap  if
              possible, bitmap otherwise.

       Name:           <b>dblClickCommand</b>
       Class:          <b>Command</b>
       Command-Line Switch:           <b>-dblclickcommand</b>

              Specifies  a  command  to  be  executed upon user double clicking via mouse button one of the text
              label of an entry. If this command contains "%n", it is replaced with the  name  of  the  selected
              node.  Should  it  contain "%s" then a boolean indicator of the node's current selection status is
              substituted.

       Name:           <b>expanded</b>
       Class:          <b>Expanded</b>
       Command-Line Switch:           <b>-expanded</b>

              When true, the hierarchy will be completely expanded when it is first displayed.  A fresh  display
              can be triggered by resetting the -querycommand option.  The default is false.

       Name:           <b>filter</b>
       Class:          <b>Filter</b>
       Command-Line Switch:           <b>-filter</b>

              When  true  only  the branch nodes and selected items are displayed.  This gives a compact view of
              important items.  The default is false.

       Name:           <b>height</b>
       Class:          <b>Height</b>
       Command-Line Switch:           <b>-height</b>

              Specifies the height of the hierarchy as an entire unit.  The value may be specified in any of the
              forms acceptable to <b>Tk_GetPixels</b>.  Any additional space needed to  display  the  other  components
              such  as  labels,  margins,  and scrollbars force the hierarchy to be compressed.  A value of zero
              along with the same value for the width causes the value given for the visibleitems option  to  be
              applied which administers geometry constraints in a different manner.  The default height is zero.

       Name:           <b>iconCommand</b>
       Class:          <b>Command</b>
       Command-Line Switch:           <b>-iconcommand</b>

              Specifies  a  command  to  be  executed upon user selection via mouse button one of any additional
              icons given in the values returned by the command associated with the  -querycommand  option.   If
              this  command contains "%n", it is replaced with the name of the node the icon belongs to.  Should
              it contain "%i" then the icon name is  substituted.

       Name:           <b>iconDblCommand</b>
       Class:          <b>Command</b>
       Command-Line Switch:           <b>-icondblcommand</b>

              Specifies a command to be executed upon user double clicking via mouse button one of the  icon  of
              an entry. If this command contains "%n", it is replaced with the name of the node the icon belongs
              to. Should it contain "%i" then the icon name is substituted.

       Name:           <b>imageCommand</b>
       Class:          <b>Command</b>
       Command-Line Switch:           <b>-imagecommand</b>

              Specifies  a  command  to  be  executed upon user selecting an image of an entry.  If this command
              contains "%n", it is replaced with the name of the selected node. Should it contain  "%s"  then  a
              boolean indicator of the node's current selection status is substituted.

       Name:           <b>imageDblCommand</b>
       Class:          <b>Command</b>
       Command-Line Switch:           <b>-imagedblcommand</b>

              Specifies  a command to be executed upon user double clicking via mouse button one of the image of
              an entry. If this command contains "%n", it is replaced with the name of the node the icon belongs
              to. Should it contain "%i" then the icon name is substituted.

       Name:           <b>imageMenuLoadCommand</b>
       Class:          <b>Command</b>
       Command-Line Switch:           <b>-imagemenuloadcommand</b>

              Specifies a command to be executed upon user selection via mouse button three,  on  the  image  or
              icon, that will dynamically load the itemMenu for the widget.

       Name:           <b>markBackground</b>
       Class:          <b>Foreground</b>
       Command-Line Switch:           <b>-markbackground</b>

              Specifies the background color to use when displaying marked nodes.

       Name:           <b>markForeground</b>
       Class:          <b>Background</b>
       Command-Line Switch:           <b>-markforeground</b>

              Specifies the foreground color to use when displaying marked nodes.

       Name:           <b>menuCursor</b>
       Class:          <b>Cursor</b>
       Command-Line Switch:           <b>-menucursor</b>

              Specifies  the  mouse cursor to be used for the item and background menus.  The value may have any
              of the forms accept able to Tk_GetCursor.

       Name:           <b>nodeIcon</b>
       Class:          <b>Icon</b>
       Command-Line Switch:           <b>-nodeicon</b>

              Specifies the name of an existing node icon image to be used in the hierarchy before  those  nodes
              that  are leafs.  Should one not be provided, then a dog-eared page icon will be generated, pixmap
              if possible, bitmap otherwise.

       Name:           <b>openIcon</b>
       Class:          <b>Icon</b>
       Command-Line Switch:           <b>-openicon</b>

              Specifies the name of an existing open icon image to be used in the hierarchy before  those  nodes
              that are expanded.  Should one not be provided, then an open folder icon will be generated, pixmap
              if possible, bitmap otherwise.

       Name:           <b>queryCommand</b>
       Class:          <b>Command</b>
       Command-Line Switch:           <b>-querycommand</b>

              Specifies the command executed to query the contents of each node.  If this command contains "%n",
              it  is  replaced  with  the  name of the desired node.  In its simpilest form it should return the
              children of the given node as a list which will be depicted in the display.  Since  the  names  of
              the  children  are  used  as  tags in the underlying text widget, each child must be unique in the
              hierarchy.  Due to the unique requirement, the nodes shall be reffered to as uids or  uid  in  the
              singular sense.  The format of returned list is

                {uid [uid ...]}

                where uid is a unique id and primary key for the hierarchy entry

              Should  the unique requirement pose a problem, the list returned can take on another more extended
              form which enables the association of text to be displayed with the uids.  The uid must  still  be
              unique,  but  the text does not have to obey the unique rule.  In addition, the format also allows
              the specification of additional tags to be used on the same entry in the hierarchy as the uid  and
              additional  icons  to  be displayed just before the node.  The tags and icons are considered to be
              the property of the user in that the hierarchy widget will not depend on any of their values.  The
              extended format is

                {{uid [text [tags [icons]]]} {uid [text [tags [icons]]]} ...}

                where uid is a unique id and primary key for the hierarchy entry
                      text is the text to be displayed for this uid
                      tags is a list of user tags to be applied to the entry
                      icons is a list of icons to be displayed in front of the text

              The hierarchy widget does a look ahead from each node to determine if the  node  has  a  children.
              This  can  be  cost  some performace with large hierarchies.  User's can avoid this by providing a
              hint in the user tags.  A tag of "leaf" or "branch" tells the hierarchy widget the information  it
              needs to know thereby avoiding the look ahead operation.

       Name:           <b>hscrollMode</b>
       Class:          <b>ScrollMode</b>
       Command-Line Switch:           <b>-hscrollmode</b>

              Specifies  the the display mode to be used for the horizontal scrollbar: <b>static,</b> <b>dynamic,</b> or <b>none</b>.
              In static mode, the scroll bar is displayed at all times.  Dynamic mode displays the scroll bar as
              required, and none disables the scroll bar display.  The default is static.

       Name:           <b>sbWidth</b>
       Class:          <b>Width</b>
       Command-Line Switch:           <b>-sbwidth</b>

              Specifies the width of the scrollbar in any of the forms acceptable to <b>Tk_GetPixels</b>.

       Name:           <b>scrollMargin</b>
       Class:          <b>Margin</b>
       Command-Line Switch:           <b>-scrollmargin</b>

              Specifies the distance between the text portion of the hierarchy and the scrollbars in any of  the
              forms acceptable to <b>Tk_GetPixels</b>.  The default is 3 pixels.

       Name:           <b>selectCommand</b>
       Class:          <b>Command</b>
       Command-Line Switch:           <b>-selectcommand</b>

              Specifies  a  Tcl  command  to be evaluated when you select a node in the hierarchy via left mouse
              click.  If "%n" is included in the command, it is substituted with the node name.  Similarly, "%s"
              is substituted with the node's current selection status: 1 for selected, 0 otherwise.

       Name:           <b>textBackground</b> Class:          <b>Background</b> Command-Line Switch:           <b>-textbackground</b>

              Specifies the background color for the  text  portion  of  the  hierarchy  in  any  of  the  forms
              acceptable to <b>Tk_GetColor</b>.

       Name:           <b>textFont</b>
       Class:          <b>Font</b>
       Command-Line Switch:           <b>-textfont</b>

              Specifies the font to be used in the text portion of the hierarchy.

       Name:           <b>textMenuLoadCommand</b>
       Class:          <b>Command</b>
       Command-Line Switch:           <b>-textmenuloadcommand</b>

              Specifies  a  command  to  be  executed  upon  user  selection  via  mouse button three, that will
              dynamically load the itemMenu for the widget.

       Name:           <b>visibleitems</b>
       Class:          <b>VisibleItems</b>
       Command-Line Switch:           <b>-visibleitems</b>

              Specifies the widthxheight in characters and  lines  for  the  hierarchy.   This  option  is  only
              administered if the width and height options are both set to zero, otherwise they take precedence.
              The  default  value  is  80x24.   With  the  visibleitems option engaged, geometry constraints are
              maintained only on the text portion of the hierarchy.  The size of the other  components  such  as
              labels,  margins, and scroll bars, are additive and independent, effecting the overall size of the
              hierarchy.  In contrast, should the width and height  options  have  non  zero  values,  they  are
              applied  to  the  hierarchy  as  a whole.  The hierarchy is compressed or expanded to maintain the
              geometry constraints.

       Name:           <b>vscrollMode</b>
       Class:          <b>ScrollMode</b>
       Command-Line Switch:           <b>-vscrollmode</b>

              Specifies the the display mode to be used for the vertical scrollbar: <b>static,</b>  <b>dynamic,</b>  or  <b>none</b>.
              In static mode, the scroll bar is displayed at all times.  Dynamic mode displays the scroll bar as
              required, and none disables the scroll bar display.  The default is static.

       Name:           <b>width</b>
       Class:          <b>Width</b>
       Command-Line Switch:           <b>-width</b>

              Specifies  the width of the hierarchy as an entire unit.  The value may be specified in any of the
              forms acceptable to <b>Tk_GetPixels</b>.  Any additional space needed to  display  the  other  components
              such  as labels, margins, and scrollbars force the text portion of the hierarchy to be compressed.
              A value of zero along with the  same  value  for  the  height  causes  the  value  given  for  the
              visibleitems  option  to  be applied which administers geometry constraints in a different manner.
              The default width is zero.

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>iwidgets::hierarchy</b> command creates a  hierarchical  data  view  widget.   It  allows  the  graphical
       management  of a a list of nodes that can be expanded or collapsed.  Individual nodes can be highlighted.
       Clicking with the right mouse button on any item  brings  up  a  special  item  menu.   Clicking  on  the
       background area brings up a different popup menu.  Options exist to provide user control over the loading
       of  the  nodes  and  actions  associated  with  node  selection.   Since  the  hierarchy  is based on the
       scrolledtext widget, it includes options to control the method in which  the  scrollbars  are  displayed,
       i.e.  statically or  dynamically.  Options also exist for adding a label to the hierarchy and controlling
       its position.

</pre><h4><b>METHODS</b></h4><pre>
       The <b>iwidgets::hierarchy</b> command creates a new Tcl command whose name is <u>pathName</u>.  This  command  may  be
       used to invoke various operations on the widget.  It has the following general form: <u>pathName</u> <u>option</u> ?<u>arg</u>
       <u>arg</u>  <u>...</u>?   <u>Option</u>  and the <u>arg</u>s determine the exact behavior of the command.  The following commands are
       possible for hierarchy widgets:

</pre><h4><b>ASSOCIATED</b> <b>METHODS</b></h4><pre>
       <b>bbox</b>            <b>compare</b>        <b>debug</b>           <b>delete</b>
       <b>dlineinfo</b>       <b>dump</b>           <b>get</b>             <b>index</b>
       <b>insert</b>          <b>scan</b>           <b>search</b>          <b>see</b>
       <b>tag</b>             <b>window</b>         <b>xview</b>           <b>yview</b>

       See the "text" manual entry for details on the standard methods.

</pre><h4><b>WIDGET-SPECIFIC</b> <b>METHODS</b></h4><pre>
       <u>pathName</u> <b>cget</b> <u>option</u>
              Returns the current value of the configuration option given by <u>option</u>.  <u>Option</u> may have any of the
              values accepted by the <b>iwidgets::hierarchy</b> command.

       <u>pathName</u> <b>clear</b>
              Removes all items from the hierarchy display including all  tags  and  icons.   The  display  will
              remain empty until the -filter or -querycommand options are set.

       <u>pathName</u> <b>collapse</b> <u>uid</u>
              Collapses  the  hierarchy  beneath the node with the specified unique id by one level.  Since this
              can take a moment for large hierarchies, the  cursor  will  be  changed  to  a  watch  during  the
              collapse.   Also,  if any of the nodes beneath the node being collapsed are selected, their status
              is changed to unselected.

       <u>pathName</u> <b>configure</b> ?<u>option</u>? ?<u>value</u> <u>option</u> <u>value</u> <u>...</u>?
              Query or modify the configuration options of the widget.  If no <u>option</u>  is  specified,  returns  a
              list describing all of the available options for <u>pathName</u> (see <b>Tk_ConfigureInfo</b> for information on
              the  format  of this list).  If <u>option</u> is specified with no <u>value</u>, then the command returns a list
              describing the one named option (this list will be identical to the corresponding sublist  of  the
              value  returned if no <u>option</u> is specified).  If one or more <u>option-value</u> pairs are specified, then
              the command modifies the given widget option(s) to have the given  value(s);   in  this  case  the
              command   returns  an  empty  string.   <u>Option</u>  may  have  any  of  the  values  accepted  by  the
              <b>iwidgets::hierarchy</b> command.

       <u>pathName</u> <b>current</b>
              Returns the tags for the node that was most recently selected by the right mouse button  when  the
              item  menu was posted.  Usually used by the code in the item menu to figure out what item is being
              manipulated.

       <u>pathName</u> <b>draw</b> ?<u>when</u>?
              Performs a complete redraw of the entire hierarchy.  When may be either -now or -eventually  where
              the latter means the draw can be performed after idle.

       <u>pathName</u> <b>expand</b> <u>uid</u>
              Expands  the hierarchy beneath the node with the specified unique id by one level.  Since this can
              take a moment for large hierarchies, the cursor will be changed to a watch during the expansion.

       <u>pathName</u> <b>expanded</b> <u>uid</u>
              Returns the current state of expansion for the node with the specified unique id.

       <u>pathName</u> <b>expState</b>
              Returns a list of all expanded nodes in the tree.

       <u>pathName</u> <b>mark</b> <u>option</u> <u>?arg</u> <u>arg</u> <u>...?</u>
              This command is used to manipulate marks which is quite similar to selection, adding  a  secondary
              means  of  hilighting  an item in the hierarchy.  The exact behavior of the command depends on the
              <u>option</u> argument that follows the <b>mark</b> argument.  The following forms of the command are  currently
              supported:

              <u>pathName</u> <b>mark</b> <b>clear</b>
                     Clears all the currently marked nodes in the hierarchy.

              <u>pathName</u> <b>mark</b> <b>add</b> <u>uid</u> ?<u>uid</u> <u>uid</u> <u>...</u>?
                     Marks  the  nodes  with  the  specified uids in the hierarchy using the <b>-markbackground</b> and
                     <b>-markforeground</b> options and without affecting the mark state of any other nodes  that  were
                     already marked.

              <u>pathName</u> <b>mark</b> <b>remove</b> <u>uid</u> ?<u>uid</u> <u>uid</u> <u>...</u>?
                     Unmarks the nodes with the specified uids in the hierarchy without affecting the mark state
                     of any other nodes that were already marked.

              <u>pathName</u> <b>mark</b> <b>get</b>
                     Returns a list of the unique ids that are currently marked.

       <u>pathName</u> <b>refresh</b> <u>uid</u>
              Performs a redraw of a specific node that has the given uid.  If the node is not currently visible
              or in other words already drawn on the text, then no action is taken.

       <u>pathName</u> <b>prune</b> <u>uid</u>
              Removes  the  node  specified by the given uid from the hierarchy.  Should the node have children,
              then all of its children will be removed as well.

       <u>pathName</u> <b>selection</b> <u>option</u> ?<u>arg</u> <u>arg</u> <u>...</u>?
              This command is used to manipulate the selection of nodes in the hierarchy.  The exact behavior of
              the command depends on the <u>option</u> argument that follows the  <b>selection</b>  argument.   The  following
              forms of the command are currently supported:

              <u>pathName</u> <b>selection</b> <b>clear</b>
                     Clears all the currently selected nodes in the hierarchy.

              <u>pathName</u> <b>selection</b> <b>add</b> <u>uid</u> ?<u>uid</u> <u>uid</u> <u>...</u>?
                     Selects  the  nodes with the specified uids in the hierarchy using the <b>-selectionbackground</b>
                     and <b>-selectionforeground</b> options and without affecting the selection  state  of  any  other
                     nodes that were already selected.

              <u>pathName</u> <b>selection</b> <b>remove</b> <u>uid</u> ?<u>uid</u> <u>uid</u> <u>...</u>?
                     Deselects  the  nodes  with  the  specified  uids  in  the  hierarchy without affecting the
                     selection state of any other nodes that were already selected.

              <u>pathName</u> <b>selection</b> <b>get</b>
                     Returns a list of the unique ids that are currently selected.
       A nodes selection status is also dependent on it being visible.  If a node is selected and its parent  is
       then collapsed making the selected node not visible, then its selection status is changed to unselected.

       <u>pathName</u> <b>toggle</b> <u>uid</u>
              Toggles  the  hierarchy  beneath  the  node  with  the  specified  unique id.  If the hierarchy is
              currently expanded, then it is collapsed, and vice-versa.

</pre><h4><b>COMPONENTS</b></h4><pre>
       Name:           <b>list</b>
       Class:          <b>Text</b>

              The list component is the text widget in which the hierarchy is displayed.  See the "text"  widget
              manual entry for details on the text component item.

       Name:           <b>bgMenu</b>
       Class:          <b>Menu</b>

              The  bgMenu component is the popup menu which is displayed upon pressing the right mouse button in
              the background, i.e. not over a specific node.  Menu items can be added along with their  commands
              via the component command.  See the "menu" widget manual entry for details on the bgMenu component
              item.

       Name:           <b>horizsb</b>
       Class:          <b>Scrollbar</b>

              The  horizsb  component is the horizontal scroll bar.  See the "scrollbar" widget manual entry for
              details on the horizsb component item.

       Name:           <b>itemMenu</b>
       Class:          <b>Menu</b>

              The itemMenu component is the popup menu which is displayed upon selection  of  a  hierarchy  node
              with  the right mouse button.  Menu items can be added along with their commands via the component
              command.  See the "menu" widget manual entry for details on the itemMenu component item.

       Name:           <b>vertsb</b>
       Class:          <b>Scrollbar</b>

              The vertsb component is the vertical scroll bar.  See the  "scrollbar"  widget  manual  entry  for
              details on the vertsb component item.

</pre><h4><b>EXAMPLE</b></h4><pre>
       package require Iwidgets 4.0 proc get_files {file} {
           global env

           if {$file == ""} {
               set dir $env(HOME)
           } else {
               set dir $file
           }

           if {[catch {cd $dir}] != 0} {
               return ""
           }

           set rlist ""

           foreach file [lsort [glob -nocomplain *]] {
               lappend rlist [list [file join $dir $file] $file]
           }

           return $rlist }

       iwidgets::hierarchy .h -querycommand "get_files %n" -visibleitems 30x15     -labeltext $env(HOME) pack .h
       -side left -expand yes -fill both

</pre><h4><b>AUTHOR</b></h4><pre>
       Mark L. Ulferts Michael J. McLennan

</pre><h4><b>KEYWORDS</b></h4><pre>
       hierarchy, text, widget

Tk                                                                                        <u>iwidgets::<a href="../man1/hierarchy.1.html">hierarchy</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>