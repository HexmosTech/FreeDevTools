<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>scheduler - Measure scheduler utilization</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/erlang-manpages">erlang-manpages_24.2.1+dfsg-1ubuntu0.5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       scheduler - Measure scheduler utilization

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  module  contains utility functions for easier measurement and calculation of scheduler utilization,
       otherwise obtained from calling the more primitive <u>statistics(scheduler_wall_time)</u>.

       The simplest usage is to call <u>scheduler:utilization(Seconds)</u>.

</pre><h4><b>DATA</b> <b>TYPES</b></h4><pre>
       <b>sched_sample()</b>

       <b>sched_type()</b> = normal | cpu | io

       <b>sched_id()</b> = integer()

       <b>sched_util_result()</b> =
           [{sched_type(), sched_id(), float(), string()} |
            {total, float(), string()} |
            {weighted, float(), string()}]

              A list of tuples containing results for individual schedulers as well as aggregated averages. <u>Util</u>
              is the scheduler utilization as a floating point value between 0.0 and 1.0. <u>Percent</u>  is  the  same
              utilization as a more human readable string expressed in percent.

                <u>{normal,</u> <u>SchedulerId,</u> <u>Util,</u> <u>Percent}</u>:
                  Scheduler  utilization  of a normal scheduler with number <u>SchedulerId</u>. Schedulers that are not
                  online will also be included. Online schedulers have the lowest <u>SchedulerId</u>.

                <u>{cpu,</u> <u>SchedulerId,</u> <u>Util,</u> <u>Percent}</u>:
                  Scheduler utilization of a dirty-cpu scheduler with number <u>SchedulerId</u>.

                <u>{io,</u> <u>SchedulerId,</u> <u>Util,</u> <u>Percent}</u>:
                  Scheduler utilization of a dirty-io scheduler with number <u>SchedulerId</u>. This  tuple  will  only
                  exist if both samples were taken with <u>sample_all/0</u>.

                <u>{total,</u> <u>Util,</u> <u>Percent}</u>:
                  Total utilization of all normal and dirty-cpu schedulers.

                <u>{weighted,</u> <u>Util,</u> <u>Percent}</u>:
                  Total  utilization  of all normal and dirty-cpu schedulers, weighted against maximum amount of
                  available CPU time.

</pre><h4><b>EXPORTS</b></h4><pre>
       <b>sample()</b> <b>-&gt;</b> <b>sched_sample()</b>

              Return a scheduler utilization sample for normal and dirty-cpu schedulers.

       <b>sample_all()</b> <b>-&gt;</b> <b>sched_sample()</b>

              Return a scheduler utilization sample for all schedulers, including dirty-io schedulers.

       <b>utilization(Seconds)</b> <b>-&gt;</b> <b>sched_util_result()</b>

              Types:

                 Seconds = integer() &gt;= 1

              Measure utilization for normal and dirty-cpu schedulers during <u>Seconds</u> seconds,  and  then  return
              the result.

       <b>utilization(Sample)</b> <b>-&gt;</b> <b>sched_util_result()</b>

              Types:

                 Sample = sched_sample()

              Calculate  scheduler  utilizations for the time interval from when <u>Sample</u> was taken and "now". The
              same as calling <u>scheduler:utilization(Sample,</u> <u>scheduler:sample_all())</u>.

          <b>Note:</b>
              Scheduler utilization is measured as an average value over a  time  interval,  calculated  as  the
              difference between two samples. To get good useful utilization values at least a couple of seconds
              should have passed between the two samples. For this reason, you should not do

              scheduler:utilization(scheduler:sample()). % DO NOT DO THIS!

              The  above  example takes two samples in rapid succession and calculates the scheduler utilization
              between them. The resulting values will probably be more misleading than informative.

              Instead use <u>scheduler:utilization(Seconds)</u> or let some time pass between <u>Sample=scheduler:sample()</u>
              and <u>scheduler:utilization(Sample)</u>.

       <b>utilization(Sample1,</b> <b>Sample2)</b> <b>-&gt;</b> <b>sched_util_result()</b>

              Types:

                 Sample1 = Sample2 = sched_sample()

              Calculates scheduler utilizations for the time interval between  the  two  samples  obtained  from
              calling <u>sample/0</u> or <u>sample_all/0</u>.

Ericsson AB                                    runtime_tools 1.17                                <u><a href="../man3erl/scheduler.3erl.html">scheduler</a></u>(3erl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>