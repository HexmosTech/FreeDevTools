<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>redi::basic_rpstream - Class template for Restricted PStreams</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpstreams-dev">libpstreams-dev_1.0.3-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       redi::basic_rpstream - Class template for Restricted PStreams

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;pstream.h&gt;

       Inherits basic_ostream&lt; CharT, std::char_traits&lt; CharT &gt; &gt;, basic_istream&lt; CharT, std::char_traits&lt; CharT
       &gt; &gt;, <b>redi::pstream_common&lt;</b> <b>CharT,</b> <b>std::char_traits&lt;</b> <b>CharT</b> <b>&gt;</b> <b>&gt;</b>, and <b>redi::pstreams</b>.

   <b>Public</b> <b>Types</b>
       typedef pbase_type::pmode <b>pmode</b>
           Type used to specify how to connect to the process.
       typedef pbase_type::argv_type <b>argv_type</b>
           Type used to hold the arguments for a command.
       typedef int <b>fd_type</b>
           Type used for file descriptors.

   <b>Public</b> <b>Member</b> <b>Functions</b>
       <b>basic_rpstream</b> ()
           Default constructor, creates an uninitialised stream.
       <b>basic_rpstream</b> (const std::string &amp;cmd, <b>pmode</b> mode=<b>pstdout</b>|<b>pstdin</b>)
           Constructor that initialises the stream by starting a process.
       <b>basic_rpstream</b> (const std::string &amp;file, const <b>argv_type</b> &amp;argv, <b>pmode</b> mode=<b>pstdout</b>|<b>pstdin</b>)
           Constructor that initialises the stream by starting a process.
       <b>basic_rpstream</b> (const <b>argv_type</b> &amp;argv, <b>pmode</b> mode=<b>pstdout</b>|<b>pstdin</b>)
           Constructor that initialises the stream by starting a process.
       <b>~basic_rpstream</b> ()
           Destructor.
       void <b>open</b> (const std::string &amp;cmd, <b>pmode</b> mode=<b>pstdout</b>|<b>pstdin</b>)
           Start a process.
       void <b>open</b> (const std::string &amp;file, const <b>argv_type</b> &amp;argv, <b>pmode</b> mode=<b>pstdout</b>|<b>pstdin</b>)
           Start a process.
       istream_type &amp; <b>out</b> ()
           Obtain a reference to the istream that reads the process' stdout.
       istream_type &amp; <b>err</b> ()
           Obtain a reference to the istream that reads the process' stderr.

   <b>Static</b> <b>Public</b> <b>Attributes</b>
       static const <b>pmode</b> <b>pstdin</b> = std::ios_base::out
           Write to stdin.
       static const <b>pmode</b> <b>pstdout</b> = std::ios_base::in
           Read from stdout.
       static const <b>pmode</b> <b>pstderr</b> = std::ios_base::app
           Read from stderr.
       static const <b>pmode</b> <b>newpg</b> = std::ios_base::trunc
           Create a new process group for the child process.

   <b>Protected</b> <b>Types</b>
       enum { <b>bufsz</b> = 32 }
       enum { <b>pbsz</b> = 2 }

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
   <b>template&lt;typename</b> <b>CharT,</b> <b>typename</b> <b>Traits</b> <b>=</b> <b>std::char_traits&lt;CharT&gt;&gt;</b>
       class redi::basic_rpstream&lt; CharT, Traits &gt;" Class template for Restricted PStreams.

       Writing to an rpstream opened with pmode pstdin writes to the standard input of the command. It is not
       possible to read directly from an rpstream object, to use an rpstream as in istream you must call either
       <b>basic_rpstream::out()</b> or <b>basic_rpstream::err()</b>. This is to prevent accidental reads from the wrong input
       source. If the rpstream was not opened with pmode pstderr then the class cannot read the process' stderr,
       and <b>basic_rpstream::err()</b> will return an istream that reads from the process' stdout, and vice versa.
       Reading from an rpstream opened with pmode pstdout and/or pstderr reads the command's standard output
       and/or standard error. Any of the process' stdin, stdout or stderr that is not connected to the pstream
       (as specified by the pmode) will be the same as the process that created the pstream object, unless
       altered by the command itself.

</pre><h4><b>Constructor</b> <b>&amp;</b> <b>Destructor</b> <b>Documentation</b></h4><pre>
   <b>template&lt;typename</b> <b>CharT</b> <b>,</b> <b>typename</b> <b>Traits</b>  <b>=</b> <b>std::char_traits&lt;CharT&gt;&gt;</b> <b>redi::basic_rpstream&lt;</b> <b>CharT,</b> <b>Traits</b>
       <b>&gt;::basic_rpstream</b> <b>(const</b> <b>std::string</b> <b>&amp;</b> <b>cmd,</b> <b>pmode</b> <b>mode</b> <b>=</b> <b>pstdout|pstdin)</b> <b>[inline],</b>  <b>[explicit]</b>
       Constructor that initialises the stream by starting a process. Initialises the stream buffer by calling
       <b>do_open()</b> with the supplied arguments.

       <b>Parameters</b>
           <u>cmd</u> a string containing a shell command.
           <u>mode</u> the I/O mode to use when opening the pipe.

       <b>See</b> <b>also</b>
           <b>do_open(const</b> <b>std::string&amp;,</b> <b>pmode)</b>

   <b>template&lt;typename</b> <b>CharT</b> <b>,</b> <b>typename</b> <b>Traits</b>  <b>=</b> <b>std::char_traits&lt;CharT&gt;&gt;</b> <b>redi::basic_rpstream&lt;</b> <b>CharT,</b> <b>Traits</b>
       <b>&gt;::basic_rpstream</b> <b>(const</b> <b>std::string</b> <b>&amp;</b> <b>file,</b> <b>const</b> <b>argv_type</b> <b>&amp;</b> <b>argv,</b> <b>pmode</b> <b>mode</b> <b>=</b> <b>pstdout|pstdin)</b>
       <b>[inline]</b>
       Constructor that initialises the stream by starting a process. Initialises the stream buffer by calling
       <b>do_open()</b> with the supplied arguments.

       <b>Parameters</b>
           <u>file</u> a string containing the pathname of a program to execute.
           <u>argv</u> a vector of argument strings passed to the new program.
           <u>mode</u> the I/O mode to use when opening the pipe.

       <b>See</b> <b>also</b>
           <b>do_open(const</b> <b>std::string&amp;,</b> <b>const</b> <b>argv_type&amp;,</b> <b>pmode)</b>

   <b>template&lt;typename</b> <b>CharT</b> <b>,</b> <b>typename</b> <b>Traits</b>  <b>=</b> <b>std::char_traits&lt;CharT&gt;&gt;</b> <b>redi::basic_rpstream&lt;</b> <b>CharT,</b> <b>Traits</b>
       <b>&gt;::basic_rpstream</b> <b>(const</b> <b>argv_type</b> <b>&amp;</b> <b>argv,</b> <b>pmode</b> <b>mode</b> <b>=</b> <b>pstdout|pstdin)</b> <b>[inline],</b>  <b>[explicit]</b>
       Constructor that initialises the stream by starting a process. Initialises the stream buffer by calling
       do_open(argv[0],argv,mode)

       <b>Parameters</b>
           <u>argv</u> a vector of argument strings passed to the new program.
           <u>mode</u> the I/O mode to use when opening the pipe.

       <b>See</b> <b>also</b>
           <b>do_open(const</b> <b>std::string&amp;,</b> <b>const</b> <b>argv_type&amp;,</b> <b>pmode)</b>

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>template&lt;typename</b> <b>CharT</b> <b>,</b> <b>typename</b> <b>Traits</b>  <b>=</b> <b>std::char_traits&lt;CharT&gt;&gt;</b> <b>istream_type&amp;</b> <b>redi::basic_rpstream&lt;</b>
       <b>CharT,</b> <b>Traits</b> <b>&gt;::err</b> <b>()</b> <b>[inline]</b>
       Obtain a reference to the istream that reads the process' stderr.

       <b>Returns</b>
           *this

       References redi::basic_pstreambuf&lt; CharT, Traits &gt;::read_err().

   <b>template&lt;typename</b> <b>CharT</b> <b>,</b> <b>typename</b> <b>Traits</b>  <b>=</b> <b>std::char_traits&lt;CharT&gt;&gt;</b> <b>void</b> <b>redi::basic_rpstream&lt;</b> <b>CharT,</b>
       <b>Traits</b> <b>&gt;::open</b> <b>(const</b> <b>std::string</b> <b>&amp;</b> <b>cmd,</b> <b>pmode</b> <b>mode</b> <b>=</b> <b>pstdout|pstdin)</b> <b>[inline]</b>
       Start a process. Calls do_open( <u>cmd</u> , <u>mode</u> ).

       <b>Parameters</b>
           <u>cmd</u> a string containing a shell command.
           <u>mode</u> the I/O mode to use when opening the pipe.

       <b>See</b> <b>also</b>
           <b>do_open(const</b> <b>std::string&amp;,</b> <b>pmode)</b>

       References redi::pstream_common&lt; CharT, std::char_traits&lt; CharT &gt; &gt;::do_open().

   <b>template&lt;typename</b> <b>CharT</b> <b>,</b> <b>typename</b> <b>Traits</b>  <b>=</b> <b>std::char_traits&lt;CharT&gt;&gt;</b> <b>void</b> <b>redi::basic_rpstream&lt;</b> <b>CharT,</b>
       <b>Traits</b> <b>&gt;::open</b> <b>(const</b> <b>std::string</b> <b>&amp;</b> <b>file,</b> <b>const</b> <b>argv_type</b> <b>&amp;</b> <b>argv,</b> <b>pmode</b> <b>mode</b> <b>=</b> <b>pstdout|pstdin)</b> <b>[inline]</b>
       Start a process. Calls do_open( <u>file</u> , <u>argv</u> , <u>mode</u> ).

       <b>Parameters</b>
           <u>file</u> a string containing the pathname of a program to execute.
           <u>argv</u> a vector of argument strings passed to the new program.
           <u>mode</u> the I/O mode to use when opening the pipe.

       <b>See</b> <b>also</b>
           <b>do_open(const</b> <b>std::string&amp;,</b> <b>const</b> <b>argv_type&amp;,</b> <b>pmode)</b>

       References redi::pstream_common&lt; CharT, std::char_traits&lt; CharT &gt; &gt;::do_open().

   <b>template&lt;typename</b> <b>CharT</b> <b>,</b> <b>typename</b> <b>Traits</b>  <b>=</b> <b>std::char_traits&lt;CharT&gt;&gt;</b> <b>istream_type&amp;</b> <b>redi::basic_rpstream&lt;</b>
       <b>CharT,</b> <b>Traits</b> <b>&gt;::out</b> <b>()</b> <b>[inline]</b>
       Obtain a reference to the istream that reads the process' stdout.

       <b>Returns</b>
           *this

       References redi::basic_pstreambuf&lt; CharT, Traits &gt;::read_err().

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for PStreams from the source code.

PStreams                                         Sun Dec 13 2020        <u>redi::basic_rpstream&lt;</u> <u>CharT,</u> <u>Traits</u> <u>&gt;</u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>