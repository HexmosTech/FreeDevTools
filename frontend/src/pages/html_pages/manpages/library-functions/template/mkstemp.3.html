<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mkstemp, mkostemp, mkstemps, mkostemps - create a unique temporary file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mkstemp, mkostemp, mkstemps, mkostemps - create a unique temporary file

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;</b>

       <b>int</b> <b>mkstemp(char</b> <b>*</b><u>template</u><b>);</b>
       <b>int</b> <b>mkostemp(char</b> <b>*</b><u>template</u><b>,</b> <b>int</b> <u>flags</u><b>);</b>
       <b>int</b> <b>mkstemps(char</b> <b>*</b><u>template</u><b>,</b> <b>int</b> <u>suffixlen</u><b>);</b>
       <b>int</b> <b>mkostemps(char</b> <b>*</b><u>template</u><b>,</b> <b>int</b> <u>suffixlen</u><b>,</b> <b>int</b> <u>flags</u><b>);</b>

   Feature Test Macro Requirements for glibc (see <b><a href="../man7/feature_test_macros.7.html">feature_test_macros</a></b>(7)):

       <b>mkstemp</b>():
           _XOPEN_SOURCE &gt;= 500
               || /* glibc &gt;= 2.12: */ _POSIX_C_SOURCE &gt;= 200809L
               || /* glibc &lt;= 2.19: */ _SVID_SOURCE || _BSD_SOURCE

       <b>mkostemp</b>():
           _GNU_SOURCE

       <b>mkstemps</b>():
           /* glibc &gt;= 2.19: */ _DEFAULT_SOURCE
               || /* glibc &lt;= 2.19: */ _SVID_SOURCE || _BSD_SOURCE

       <b>mkostemps</b>():
           _GNU_SOURCE

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>mkstemp</b>()  function generates a unique temporary filename from <u>template</u>, creates and opens the file,
       and returns an open file descriptor for the file.

       The last six characters of <u>template</u> must be "XXXXXX" and these are replaced with a string that makes  the
       filename  unique.   Since  it  will  be  modified,  <u>template</u> must not be a string constant, but should be
       declared as a character array.

       The file is created with permissions 0600, that is, read plus write for owner only.   The  returned  file
       descriptor  provides  both read and write access to the file.  The file is opened with the <b><a href="../man2/open.2.html">open</a></b>(2) <b>O_EXCL</b>
       flag, guaranteeing that the caller is the process that creates the file.

       The <b>mkostemp</b>() function is like <b>mkstemp</b>(), with the difference that  the  following  bits—with  the  same
       meaning  as  for  <b><a href="../man2/open.2.html">open</a></b>(2)—may  be  specified  in  <u>flags</u>: <b>O_APPEND</b>, <b>O_CLOEXEC</b>, and <b>O_SYNC</b>.  Note that when
       creating the file, <b>mkostemp</b>() includes the values <b>O_RDWR</b>, <b>O_CREAT</b>, and <b>O_EXCL</b> in the <u>flags</u> argument given
       to <b><a href="../man2/open.2.html">open</a></b>(2); including these values in the <u>flags</u> argument given to <b>mkostemp</b>() is unnecessary, and produces
       errors on some systems.

       The <b>mkstemps</b>() function is like <b>mkstemp</b>(), except that the  string  in  <u>template</u>  contains  a  suffix  of
       <u>suffixlen</u>  characters.   Thus,  <u>template</u>  is  of  the  form  <u>prefixXXXXXXsuffix</u>, and the string XXXXXX is
       modified as for <b>mkstemp</b>().

       The <b>mkostemps</b>() function is to <b>mkstemps</b>() as <b>mkostemp</b>() is to <b>mkstemp</b>().

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, these functions return the file descriptor of the temporary file.  On error, -1 is  returned,
       and <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>EEXIST</b> Could not create a unique temporary filename.  Now the contents of <u>template</u> are undefined.

       <b>EINVAL</b> For <b>mkstemp</b>() and <b>mkostemp</b>(): The last six characters of <u>template</u> were not XXXXXX; now <u>template</u> is
              unchanged.

              For <b>mkstemps</b>() and <b>mkostemps</b>(): <u>template</u> is less than <u>(6</u> <u>+</u> <u>suffixlen)</u> characters long, or the last
              6 characters before the suffix in <u>template</u> were not XXXXXX.

       These functions may also fail with any of the errors described for <b><a href="../man2/open.2.html">open</a></b>(2).

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       For an explanation of the terms used in this section, see <b><a href="../man7/attributes.7.html">attributes</a></b>(7).
       ┌─────────────────────────────────────────────────────────────────────────────┬───────────────┬─────────┐
       │ <b>Interface</b>                                                                   │ <b>Attribute</b>     │ <b>Value</b>   │
       ├─────────────────────────────────────────────────────────────────────────────┼───────────────┼─────────┤
       │ <b>mkstemp</b>(), <b>mkostemp</b>(), <b>mkstemps</b>(), <b>mkostemps</b>()                              │ Thread safety │ MT-Safe │
       └─────────────────────────────────────────────────────────────────────────────┴───────────────┴─────────┘

</pre><h4><b>STANDARDS</b></h4><pre>
       <b>mkstemp</b>()
              POSIX.1-2001.

       <b>mkstemps</b>()
              BSD.

       <b>mkostemp</b>()
       <b>mkostemps</b>()
              GNU.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>mkstemp</b>()
              4.3BSD, POSIX.1-2001.

       <b>mkstemps</b>()
              glibc 2.11.  BSD, Mac OS X, Solaris, Tru64.

       <b>mkostemp</b>()
              glibc 2.7.

       <b>mkostemps</b>()
              glibc 2.11.

       In  glibc  versions  2.06 and earlier, the file is created with permissions 0666, that is, read and write
       for all users.  This old behavior may be a security risk, especially since other UNIX flavors  use  0600,
       and  somebody might overlook this detail when porting programs.  POSIX.1-2008 adds a requirement that the
       file be created with mode 0600.

       More generally, the POSIX specification of <b>mkstemp</b>() does not say  anything  about  file  modes,  so  the
       application  should  make  sure  its  file  mode creation mask (see <b><a href="../man2/umask.2.html">umask</a></b>(2)) is set appropriately before
       calling <b>mkstemp</b>() (and <b>mkostemp</b>()).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/mkdtemp.3.html">mkdtemp</a></b>(3), <b><a href="../man3/mktemp.3.html">mktemp</a></b>(3), <b><a href="../man3/tempnam.3.html">tempnam</a></b>(3), <b><a href="../man3/tmpfile.3.html">tmpfile</a></b>(3), <b><a href="../man3/tmpnam.3.html">tmpnam</a></b>(3)

Linux man-pages 6.9.1                              2024-05-02                                         <u><a href="../man3/mkstemp.3.html">mkstemp</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>