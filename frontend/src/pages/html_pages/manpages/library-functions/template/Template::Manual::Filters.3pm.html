<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Template::Manual::Filters - Standard filters</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtemplate-perl">libtemplate-perl_2.27-1build11_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Template::Manual::Filters - Standard filters

</pre><h4><b>format(format)</b></h4><pre>
       The "format" filter takes a format string as a parameter (as per printf()) and formats each line of text
       accordingly.

           [% FILTER format('&lt;!-- %-40s --&gt;') %]
           This is a block of text filtered
           through the above format.
           [% END %]

       Output:

           &lt;!-- This is a block of text filtered        --&gt;
           &lt;!-- through the above format.               --&gt;

</pre><h4><b>upper</b></h4><pre>
       Folds the input to UPPER CASE.

           [% "hello world" FILTER upper %]

       Output:

           HELLO WORLD

</pre><h4><b>lower</b></h4><pre>
       Folds the input to lower case.

           [% "Hello World" FILTER lower %]

       Output:

           hello world

</pre><h4><b>ucfirst</b></h4><pre>
       Folds the first character of the input to UPPER CASE.

           [% "hello" FILTER ucfirst %]

       Output:

           Hello

</pre><h4><b>lcfirst</b></h4><pre>
       Folds the first character of the input to lower case.

           [% "HELLO" FILTER lcfirst %]

       Output:

           hELLO

</pre><h4><b>trim</b></h4><pre>
       Trims any leading or trailing whitespace from the input text.  Particularly useful in conjunction with
       "INCLUDE", "PROCESS", etc., having the same effect as the "TRIM" configuration option.

           [% INCLUDE myfile | trim %]

</pre><h4><b>collapse</b></h4><pre>
       Collapse any whitespace sequences in the input text into a single space.  Leading and trailing whitespace
       (which would be reduced to a single space) is removed, as per trim.

           [% FILTER collapse %]

              The   cat

              sat    on

              the   mat

           [% END %]

       Output:

           The cat sat on the mat

</pre><h4><b>html</b></h4><pre>
       Converts the characters "&lt;", "&gt;", "&amp;" and """ to "&amp;lt;", "&amp;gt;", "&amp;amp;", and "&amp;quot;" respectively,
       protecting them from being interpreted as representing HTML tags or entities.

           [% FILTER html %]
           Binary "&lt;=&gt;" returns -1, 0, or 1 depending on...
           [% END %]

       Output:

           Binary "&amp;lt;=&amp;gt;" returns -1, 0, or 1 depending on...

</pre><h4><b>html_entity</b></h4><pre>
       The "html" filter is fast and simple but it doesn't encode the full range of HTML entities that your text
       may contain.  The "html_entity" filter uses either the "Apache::Util" module (which is written in C and
       is therefore faster) or the "HTML::Entities" module (written in Perl but equally as comprehensive) to
       perform the encoding.

       If one or other of these modules are installed on your system then the text will be encoded (via the
       escape_html() or encode_entities() subroutines respectively) to convert all extended characters into
       their appropriate HTML entities (e.g. converting '"?"' to '"&amp;eacute;"'). If neither module is available
       on your system then an '"html_entity"' exception will be thrown reporting an appropriate message.

       If you want to force TT to use one of the above modules in preference to the other, then call either of
       the Template::Filters class methods: <b>use_html_entities()</b> or <b>use_apache_util()</b>.

           use Template::Filters;
           Template::Filters-&gt;use_html_entities;

       For further information on HTML entity encoding, see
       &lt;<a href="http://www.w3.org/TR/REC-html40/sgml/entities.html">http://www.w3.org/TR/REC-html40/sgml/entities.html</a>&gt;.

</pre><h4><b>xml</b></h4><pre>
       Same as the "html" filter, but adds "&amp;apos;" which is the fifth XML built-in entity.

</pre><h4><b>html_para</b></h4><pre>
       This filter formats a block of text into HTML paragraphs.  A sequence of two or more newlines is used as
       the delimiter for paragraphs which are then wrapped in HTML "&lt;p&gt;"..."&lt;/p&gt;" tags.

           [% FILTER html_para %]
           The cat sat on the mat.

           Mary had a little lamb.
           [% END %]

       Output:

           &lt;p&gt;
           The cat sat on the mat.
           &lt;/p&gt;

           &lt;p&gt;
           Mary had a little lamb.
           &lt;/p&gt;

</pre><h4><b>html_break</b> <b>/</b> <b>html_para_break</b></h4><pre>
       Similar to the html_para filter described above, but uses the HTML tag sequence "&lt;br&gt;&lt;br&gt;" to join
       paragraphs.

           [% FILTER html_break %]
           The cat sat on the mat.

           Mary had a little lamb.
           [% END %]

       Output:

           The cat sat on the mat.
           &lt;br&gt;
           &lt;br&gt;
           Mary had a little lamb.

</pre><h4><b>html_line_break</b></h4><pre>
       This filter replaces any newlines with "&lt;br&gt;" HTML tags, thus preserving the line breaks of the original
       text in the HTML output.

           [% FILTER html_line_break %]
           The cat sat on the mat.
           Mary had a little lamb.
           [% END %]

       Output:

           The cat sat on the mat.&lt;br&gt;
           Mary had a little lamb.&lt;br&gt;

</pre><h4><b>uri</b></h4><pre>
       This filter URI escapes the input text, converting any characters outside of the permitted URI character
       set (as defined by RFC 3986) into a %nn hex escape.

           [% 'my file.html' | uri %]

       Output:

           my%20file.html

       The uri filter correctly encodes all reserved characters, including "&amp;", "@", "/", ";", ":", "=", "+",
       "?" and "$".  This filter is typically used to encode parameters in a URL that could otherwise be
       interpreted as part of the URL.  Here's an example:

           [% path  = '<a href="http://tt2.org/example">http://tt2.org/example</a>'
              back  = '/other?foo=bar&amp;baz=bam'
              title = 'Earth: "Mostly Harmless"'
           %]
           &lt;a href="[% path %]?back=[% back | uri %]&amp;title=[% title | uri %]"&gt;

       The output generated is rather long so we'll show it split across two lines:

           &lt;a href="<a href="http://tt2.org/example">http://tt2.org/example</a>?back=%2Fother%3Ffoo%3Dbar%26
           baz%3Dbam&amp;title=Earth%3A%20%22Mostly%20Harmless%22"&gt;

       Without the uri filter the output would look like this (also split across two lines).

           &lt;a href="<a href="http://tt2.org/example">http://tt2.org/example</a>?back=/other?foo=bar
           &amp;baz=bam&amp;title=Earth: "Mostly Harmless""&gt;

       In this rather contrived example we've manage to generate both a broken URL (the repeated "?" is not
       allowed) and a broken HTML element (the href attribute is terminated by the first """ after "Earth: "
       leaving "Mostly Harmless"" dangling on the end of the tag in precisely the way that harmless things
       shouldn't dangle). So don't do that. Always use the uri filter to encode your URL parameters.

       However, you should <b>not</b> use the uri filter to encode an entire URL.

          &lt;a href="[% page_url | uri %]"&gt;   # WRONG!

       This will incorrectly encode any reserved characters like ":" and "/" and that's almost certainly not
       what you want in this case.  Instead you should use the <b>url</b> (note spelling) filter for this purpose.

          &lt;a href="[% page_url | url %]"&gt;   # CORRECT

       Please note that this behaviour was changed in version 2.16 of the Template Toolkit.  Prior to that, the
       uri filter did not encode the reserved characters, making it technically incorrect according to the RFC
       2396 specification (since superceded by RFC2732 and RFC3986).  So we fixed it in 2.16 and provided the
       url filter to implement the old behaviour of not encoding reserved characters.

       As of version 2.26 of the Template Toolkit, the "uri" and url filters use the unsafe character set
       defined by RFC3986.  This means that certain characters ("(", ")", "~", "*", "!" and the single quote
       "'") are now deemed unsafe and will be escaped as hex character sequences.  The double quote character
       ('"') is now deemed safe and will not be escaped.

       If you want to enable the old behaviour then call the use_rfc2732() method in Template::Filters

           use Template::Filters
           Template::Filters-&gt;use_rfc2732;

</pre><h4><b>url</b></h4><pre>
       The url filter is a less aggressive version of the uri filter.  It encodes any characters outside of the
       permitted URI character set (as defined by RFC 2396) into %nn hex escapes.  However, unlike the uri
       filter, the url filter does <b>not</b> encode the reserved characters "&amp;", "@", "/", ";", ":", "=", "+", "?" and
       "$".

</pre><h4><b>indent(pad)</b></h4><pre>
       Indents the text block by a fixed pad string or width.  The '"pad"' argument can be specified as a
       string, or as a numerical value to indicate a pad width (spaces).  Defaults to 4 spaces if unspecified.

           [% FILTER indent('ME&gt; ') %]
           blah blah blah
           cabbages, rhubard, onions
           [% END %]

       Output:

           ME&gt; blah blah blah
           ME&gt; cabbages, rhubard, onions

</pre><h4><b>truncate(length,dots)</b></h4><pre>
       Truncates the text block to the length specified, or a default length of 32.  Truncated text will be
       terminated with '"..."' (i.e. the '"..."'  falls inside the required length, rather than appending to
       it).

           [% FILTER <a href="../man21/truncate.21.html">truncate</a>(21) %]
           I have much to say on this matter that has previously
           been said on more than one occasion.
           [% END %]

       Output:

           I have much to say...

       If you want to use something other than '"..."' you can pass that as a second argument.

           [% FILTER truncate(26, '&amp;hellip;') %]
           I have much to say on this matter that has previously
           been said on more than one occasion.
           [% END %]

       Output:

           I have much to say&amp;hellip;

</pre><h4><b>repeat(iterations)</b></h4><pre>
       Repeats the text block for as many iterations as are specified (default: 1).

           [% FILTER <a href="../man3/repeat.3.html">repeat</a>(3) %]
           We want more beer and we want more beer,
           [% END %]
           We are the more beer wanters!

       Output:

           We want more beer and we want more beer,
           We want more beer and we want more beer,
           We want more beer and we want more beer,
           We are the more beer wanters!

</pre><h4><b>remove(string)</b></h4><pre>
       Searches the input text for any occurrences of the specified string and removes them.  A Perl regular
       expression may be specified as the search string.

           [% "The  cat  sat  on  the  mat" FILTER remove('\s+') %]

       Output:

           Thecatsatonthemat

</pre><h4><b>replace(search,</b> <b>replace)</b></h4><pre>
       Similar to the remove filter described above, but taking a second parameter which is used as a
       replacement string for instances of the search string.

           [% "The  cat  sat  on  the  mat" | replace('\s+', '_') %]

       Output:

           The_cat_sat_on_the_mat

</pre><h4><b>redirect(file,</b> <b>options)</b></h4><pre>
       The "redirect" filter redirects the output of the block into a separate file, specified relative to the
       "OUTPUT_PATH" configuration item.

           [% FOREACH user IN myorg.userlist %]
              [% FILTER redirect("users/${user.id}.html") %]
                 [% INCLUDE userinfo %]
              [% END %]
           [% END %]

       or more succinctly, using side-effect notation:

           [%  FOREACH user IN myorg.userlist;
                 INCLUDE userinfo
                   FILTER redirect("users/${user.id}.html");
               END
           %]

       A "file" exception will be thrown if the "OUTPUT_PATH" option is undefined.

       An optional "binmode" argument can follow the filename to explicitly set the output file to binary mode.

           [% PROCESS my/png/generator
                FILTER redirect("images/logo.png", binmode=1) %]

       For backwards compatibility with earlier versions, a single true/false value can be used to set binary
       mode.

           [% PROCESS my/png/generator
                FILTER redirect("images/logo.png", 1) %]

       For the sake of future compatibility and clarity, if nothing else, we would strongly recommend you
       explicitly use the named "binmode" option as shown in the first example.

</pre><h4><b>eval</b> <b>/</b> <b>evaltt</b></h4><pre>
       The "eval" filter evaluates the block as template text, processing any directives embedded within it.
       This allows template variables to contain template fragments, or for some method to be provided for
       returning template fragments from an external source such as a database, which can then be processed in
       the template as required.

           my $vars  = {
               fragment =&gt; "The cat sat on the [% place %]",
           };
           $template-&gt;process($file, $vars);

       The following example:

           [% fragment | eval %]

       is therefore equivalent to

           The cat sat on the [% place %]

       The "evaltt" filter is provided as an alias for "eval".

</pre><h4><b>perl</b> <b>/</b> <b>evalperl</b></h4><pre>
       The "perl" filter evaluates the block as Perl code.  The "EVAL_PERL" option must be set to a true value
       or a "perl" exception will be thrown.

           [% my_perl_code | perl %]

       In most cases, the "[% PERL %]" ... "[% END %]" block should suffice for evaluating Perl code, given that
       template directives are processed before being evaluate as Perl.  Thus, the previous example could have
       been written in the more verbose form:

           [% PERL %]
           [% my_perl_code %]
           [% END %]

       as well as

           [% FILTER perl %]
           [% my_perl_code %]
           [% END %]

       The "evalperl" filter is provided as an alias for "perl" for backwards compatibility.

</pre><h4><b>stdout(options)</b></h4><pre>
       The stdout filter prints the output generated by the enclosing block to "STDOUT".  The "binmode" option
       can be passed as either a named parameter or a single argument to set "STDOUT" to binary mode (see the
       binmode perl function).

           [% PROCESS something/cool
                  FILTER stdout(binmode=1) # recommended %]

           [% PROCESS something/cool
                  FILTER <a href="../man1/stdout.1.html">stdout</a>(1)         # alternate %]

       The "stdout" filter can be used to force "binmode" on "STDOUT", or also inside "redirect", "null" or
       "stderr" blocks to make sure that particular output goes to "STDOUT". See the "null" filter below for an
       example.

</pre><h4><b>stderr</b></h4><pre>
       The stderr filter prints the output generated by the enclosing block to "STDERR".

</pre><h4><b>null</b></h4><pre>
       The "null" filter prints nothing.  This is useful for plugins whose methods return values that you don't
       want to appear in the output.  Rather than assigning every plugin method call to a dummy variable to
       silence it, you can wrap the block in a null filter:

           [% FILTER null;
               USE im = GD.Image(100,100);
               black = im.colorAllocate(0,   0, 0);
               red   = im.colorAllocate(255,0,  0);
               blue  = im.colorAllocate(0,  0,  255);
               im.arc(50,50,95,75,0,360,blue);
               im.fill(50,50,red);
               im.png | <a href="../man1/stdout.1.html">stdout</a>(1);
              END;
           -%]

       Notice the use of the "stdout" filter to ensure that a particular expression generates output to "STDOUT"
       (in this case in binary mode).

perl v5.40.0                                       2024-10-20                     <u>Template::Manual::<a href="../man3pm/Filters.3pm.html">Filters</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>