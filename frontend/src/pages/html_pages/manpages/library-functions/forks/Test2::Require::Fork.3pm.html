<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test2::Require::Fork - Skip a test file unless the system supports forking</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtest2-suite-perl">libtest2-suite-perl_0.000163-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Test2::Require::Fork - Skip a test file unless the system supports forking

</pre><h4><b>DESCRIPTION</b></h4><pre>
       It is fairly common to write tests that need to fork. Not all systems support forking. This library does
       the hard work of checking if forking is supported on the current system. If forking is not supported then
       this will skip all tests and exit true.

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Test2::Require::Fork;

           ... Code that forks ...

</pre><h4><b>EXPLANATION</b></h4><pre>
       Checking if the current system supports forking is not simple. Here is an example of how to do it:

           use Config;

           sub CAN_FORK {
               return 1 if $Config{d_fork};

               # Some platforms use ithreads to mimic forking
               return 0 unless $^O eq 'MSWin32' || $^O eq 'NetWare';
               return 0 unless $Config{useithreads};
               return 0 unless $Config{ccflags} =~ /-DPERL_IMPLICIT_SYS/;

               # Threads are not reliable before 5.008001
               return 0 unless $] &gt;= 5.008001;

               # Devel::Cover currently breaks with threads
               return 0 if $INC{'Devel/Cover.pm'};
               return 1;
           }

       Duplicating this non-trivial code in all tests that need to fork is error-prone. It is easy to forget
       bits, or get it wrong. On top of these checks, you also need to tell the harness that no tests should run
       and why.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Test2::Require::RealFork
           Similar to this module, but will skip on any perl that only has fork emulation.

       Test2::Require::Threads
           Skip the test file if the system does not support threads.

</pre><h4><b>SOURCE</b></h4><pre>
       The source code repository for Test2-Suite can be found at <u>https://github.com/Test-More/Test2-Suite/</u>.

</pre><h4><b>MAINTAINERS</b></h4><pre>
       Chad Granum &lt;<a href="mailto:exodist@cpan.org">exodist@cpan.org</a>&gt;

</pre><h4><b>AUTHORS</b></h4><pre>
       Chad Granum &lt;<a href="mailto:exodist@cpan.org">exodist@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2018 Chad Granum &lt;<a href="mailto:exodist@cpan.org">exodist@cpan.org</a>&gt;.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

       See <u><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></u>

perl v5.38.2                                       2024-06-07                          <u>Test2::Require::<a href="../man3pm/Fork.3pm.html">Fork</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>