<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catmandu::Fix::xpath_map - map values from a XML::LibXML::Element value to a field</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcatmandu-xsd-perl">libcatmandu-xsd-perl_0.05-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Catmandu::Fix::xpath_map - map values from a XML::LibXML::Element value to a field

</pre><h4><b>SYNOPSIS</b></h4><pre>
          #   &lt;mets:dmdSec ID="dmd1"&gt;
          #    &lt;mets:mdWrap MDTYPE="MODS"&gt;
          #     &lt;mets:xmlData&gt;
          #      &lt;mods:mods xmlns:mods="<a href="http://www.loc.gov/mods/v3">http://www.loc.gov/mods/v3</a>" ID="mods1" version="3.4"&gt;
          #        &lt;mods:titleInfo&gt;
          #         &lt;mods:title&gt;Alabama blues&lt;/mods:title&gt;
          #        &lt;/mods:titleInfo&gt;
          #      &lt;/mods:mods&gt;
          #     &lt;/mets:xmlData&gt;
          #    &lt;/mets:mdWrap&gt;
          #   &lt;/mets:dmdSec&gt;

          # The dmdSec.0.mdWrap.xmlData contains a XML::LibXML::Element
          # Map the value of the 'mods:titleInfo/mods:title' XPath to
          # a new field 'my_new_field'.
          # Optionally provide one or more namespace mappings to use
          xpath_map(
              dmdSec.0.mdWrap.xmlData,
              'mods:titleInfo/mods:title',
              my_new_field,
              -mods:'<a href="http://www.loc.gov/mods/v3">http://www.loc.gov/mods/v3</a>'
          )

          # Result:
          #
          # 'my_new_field' =&gt; 'Alabama blues'

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Not all XML fields in an XML Schema can be mapped to a Perl Hash using Catmandu::XSD.  Especially &lt;any&gt;
       fields in a schema, which can contain any type of XML are problematic.  These fields are mapped into a
       blessed XML::LibXML::Element object. Using the "xpath_map" Fix, on can access these blessed objects and
       extract data from it using XPaths.

</pre><h4><b>METHOD</b></h4><pre>
   <b>xpath_map(xml_field,</b> <b>xpath,</b> <b>new_field</b> <b>[,</b> <b>namespace-prefix:namespace-url</b> <b>[,...]])</b>
       Map an XML field at "xml_field" to "new_field" using an XPath expresssion "xpath".

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Catmandu::Fix

</pre><h4><b>AUTHOR</b></h4><pre>
       Patrick Hochstenbach , "patrick.hochstenbach at ugent.be"

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       This program is free software; you can redistribute it and/or modify it under the terms of either: the
       GNU General Public License as published by the Free Software Foundation; or the Artistic License.

       See &lt;<a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a>&gt; for more information.

perl v5.40.0                                       2024-08-27                      <u>Catmandu::Fix::<a href="../man3pm/xpath_map.3pm.html">xpath_map</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>