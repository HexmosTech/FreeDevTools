<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dist::Zilla::Plugin::MakeMaker::Custom - Allow a dist to have a custom Makefile.PL</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdist-zilla-plugins-cjm-perl">libdist-zilla-plugins-cjm-perl_6.000-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Dist::Zilla::Plugin::MakeMaker::Custom - Allow a dist to have a custom Makefile.PL

</pre><h4><b>VERSION</b></h4><pre>
       This document describes version 4.26 of Dist::Zilla::Plugin::MakeMaker::Custom, released December 17,
       2017 as part of Dist-Zilla-Plugins-CJM version 6.000.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       In <u>dist.ini</u>:

         [MakeMaker::Custom]
         eumm_version = 0.34  ; the default comes from the MakeMaker plugin

       In your <u>Makefile.PL</u>:

         use ExtUtils::MakeMaker;

         ##{ $share_dir_code{preamble} || '' ##}

         my %args = (
           NAME =&gt; "My::Module",
         ##{ $plugin-&gt;get_default(qw(ABSTRACT AUTHOR LICENSE VERSION)) ##}
         ##{ $plugin-&gt;<a href="../man1/get_prereqs.1.html">get_prereqs</a>(1) ##}
         );

         unless ( eval { ExtUtils::MakeMaker-&gt;VERSION(6.63_03) } ) {
           my $tr = delete $args{TEST_REQUIRES};
           my $br = $args{BUILD_REQUIRES};
           for my $mod ( keys %$tr ) {
             if ( exists $br-&gt;{$mod} ) {
               $br-&gt;{$mod} = $tr-&gt;{$mod} if $tr-&gt;{$mod} &gt; $br-&gt;{$mod};
             }
             else {
               $br-&gt;{$mod} = $tr-&gt;{$mod};
             }
           }
         } # end unless ExtUtils::MakeMaker is 6.63_03 or newer

         unless ( eval { ExtUtils::MakeMaker-&gt;VERSION(6.56) } ) {
           my $br = delete $args{BUILD_REQUIRES};
           my $pp = $args{PREREQ_PM};
           for my $mod ( keys %$br ) {
             if ( exists $pp-&gt;{$mod} ) {
               $pp-&gt;{$mod} = $br-&gt;{$mod} if $br-&gt;{$mod} &gt; $pp-&gt;{$mod};
             }
             else {
               $pp-&gt;{$mod} = $br-&gt;{$mod};
             }
           }
         } # end unless ExtUtils::MakeMaker is 6.56 or newer

         delete $args{CONFIGURE_REQUIRES}
           unless eval { ExtUtils::MakeMaker-&gt;VERSION(6.52) };

         delete $args{LICENSE}
           unless eval { ExtUtils::MakeMaker-&gt;VERSION(6.31) };

         WriteMakefile(%args);

         ##{ $share_dir_code{postamble} || '' ##}

       Of course, your <u>Makefile.PL</u> doesn't need to look exactly like this.  If you increase the minimum version
       of ExtUtils::MakeMaker, you can remove any "unless eval" sections whose version test is less than or
       equal to "eumm_version".  If you're not using "share_dir", you can remove those lines.

       And if you're not adding your own code to <u>Makefile.PL</u>, you don't need this plugin.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This plugin is for people who need something more complex than the auto-generated <u>Makefile.PL</u> or <u>Build.PL</u>
       generated by the MakeMaker or ModuleBuild plugins.

       It is a subclass of the MakeMaker plugin, but it does not write a <u>Makefile.PL</u> for you.  Instead, you
       write your own <u>Makefile.PL</u>, which may do anything ExtUtils::MakeMaker is capable of.

       This plugin will process <u>Makefile.PL</u> as a template (using Text::Template), which allows you to add data
       from Dist::Zilla to the version you distribute (if you want).  The template delimiters are "##{" and
       "##}", because that makes them look like comments.  That makes it easier to have a <u>Makefile.PL</u> that works
       both before and after it is processed as a template.

       This is particularly useful for XS-based modules, because it can allow you to build and test the module
       without the overhead of "dzil build" after every small change.

       The template may use the following variables:

       %default_args
           The hash of arguments for WriteMakefile generated by the normal MakeMaker plugin.

       $dist
           The name of the distribution.

       $eumm_version
           The  minimum  version  of  ExtUtils::MakeMaker  required  (from  the "eumm_version" attribute of this
           plugin).

       %meta
           The hash of metadata (in META 2 format) that will be stored in <u>META.json</u>.

       $perl_prereq
           The minimum version of Perl required (from the prerequisites  in  the  metadata).   May  be  "undef".
           Equivalent to $default_args{MIN_PERL_VERSION}.

       $plugin
           The MakeMaker::Custom object that is processing the template.

       %share_dir_code
           A  hash  of  strings  containing the code for loading "File::ShareDir::Install" (if it's used by this
           dist).  Put "##{ $share_dir_code{preamble} || '' ##}" after the "use ExtUtils::MakeMaker"  line,  and
           put  "##{  $share_dir_code{postamble}  ||  '' ##}" after the "WriteMakefile" call.  (You can omit the
           "|| ''" if you're sure the dist is using File::ShareDir.

           For backwards compatibility, this code is also available  in  the  array  @share_dir_block,  but  you
           should update your templates to use %share_dir_code instead.

       $version
           The distribution's version number.

       $zilla
           The Dist::Zilla object that is creating the distribution.

   <b>Using</b> <b>MakeMaker::Custom</b> <b>with</b> <b>AutoPrereqs</b>
       If  you  are using the AutoPrereqs plugin, then you will probably want to set its "configure_finder" to a
       FileFinder that includes <u>Makefile.PL</u>.  You may also want to set this plugin's "eumm_version" parameter to
       0 and allow AutoPrereqs to get the version from your "use ExtUtils::MakeMaker" line.

       Example <u>dist.ini</u> configuration:

         [MakeMaker::Custom]
         eumm_version = 0 ; AutoPrereqs gets actual version from Makefile.PL

         [FileFinder::ByName / :MakefilePL]
         file = Makefile.PL

         [AutoPrereqs]
         :version = 4.300005 ; need configure_finder
         configure_finder = :MakefilePL
         ; Add next line if your Makefile.PL uses modules you ship in inc/
         configure_finder = :IncModules

       Then in your <u>Makefile.PL</u> you'd say:

         use ExtUtils::MakeMaker 6.32; # or whatever version you need

</pre><h4><b>METHODS</b></h4><pre>
   <b>get_default</b>
         $plugin-&gt;get_default(qw(key1 key2 ...))

       A template can call this method to extract the specified key(s) from the default WriteMakefile  arguments
       created by the normal MakeMaker plugin and have them formatted into a comma-separated list suitable for a
       hash constructor or a function's parameter list.

       If  any  key  has no value (or its value is an empty hash or array ref) it will be omitted from the list.
       If all keys are omitted, the empty string is returned.  Otherwise, the result always ends with a comma.

   <b>get_prereqs</b>
         $plugin-&gt;get_prereqs($api_version);

       This is mostly equivalent to

         $plugin-&gt;get_default(qw(BUILD_REQUIRES CONFIGURE_REQUIRES PREREQ_PM
                                 TEST_REQUIRES))

       In other words, it returns all the keys that describe the distribution's prerequisites.  The $api_version
       indicates what keys the template can handle.  The currently defined values are:

       0 (or undef) - Fold TEST_REQUIRES into BUILD_REQUIRES.  This provides backwards compatibility with older
       versions of this plugin and Dist::Zilla.
       1 - Return TEST_REQUIRES (introduced in ExtUtils::MakeMaker 6.63_03) as a separate key (assuming it's not
       empty), which requires Dist::Zilla 4.300032 or later.  Your <u>Makefile.PL</u> should either require
       ExtUtils::MakeMaker 6.63_03, or fold TEST_REQUIRES into BUILD_REQUIRES if an older version is used (as
       shown in the SYNOPSIS).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The ModuleBuild::Custom plugin does basically the same thing as this plugin, but  for  <u>Build.PL</u>  (if  you
       prefer Module::Build).

       The MakeMaker::Awesome plugin allows you to do similar things to your <u>Makefile.PL</u>, but it works in a very
       different  way.   With MakeMaker::Awesome, you subclass the plugin and override the methods that generate
       <u>Makefile.PL</u>.  In my opinion, MakeMaker::Awesome has two disadvantages: it's unnecessarily complex, and it
       doesn't  allow  you  to  build  your  module  without  doing  "dzil  build".   The  only   advantage   of
       MakeMaker::Awesome  that  I  can see is that if you had several dists with very similar <u>Makefile.PL</u>s, you
       could write one subclass of MakeMaker::Awesome and use it in each dist.

</pre><h4><b>DEPENDENCIES</b></h4><pre>
       MakeMaker::Custom requires Dist::Zilla (6 or  later)  and  Text::Template.   I  also  recommend  applying
       <u>Template_strict.patch</u>  to  Text::Template.   This will add support for the STRICT option, which will help
       catch errors in your templates.

</pre><h4><b>INCOMPATIBILITIES</b></h4><pre>
       You must not use this in conjunction with the MakeMaker or MakeMaker::Awesome plugins.

</pre><h4><b>BUGS</b> <b>AND</b> <b>LIMITATIONS</b></h4><pre>
       No bugs have been reported.

</pre><h4><b>AUTHOR</b></h4><pre>
       Christopher J. Madsen  "&lt;perl AT cjmweb.net&gt;"

       Please report any bugs or feature requests to "&lt;bug-Dist-Zilla-Plugins-CJM AT  rt.cpan.org&gt;"  or  through
       the web interface at &lt;<a href="http://rt.cpan.org/Public/Bug/Report.html">http://rt.cpan.org/Public/Bug/Report.html</a>?Queue=Dist-Zilla-Plugins-CJM&gt;.

       You      can      follow     or     contribute     to     Dist-Zilla-Plugins-CJM's     development     at
       &lt;https://github.com/madsen/dist-zilla-plugins-cjm&gt;.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2017 by Christopher J. Madsen.

       This is free software; you can redistribute it and/or modify it under  the  same  terms  as  the  Perl  5
       programming language system itself.

</pre><h4><b>DISCLAIMER</b> <b>OF</b> <b>WARRANTY</b></h4><pre>
       BECAUSE  THIS  SOFTWARE  IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY FOR THE SOFTWARE, TO THE EXTENT
       PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS  AND/OR  OTHER
       PARTIES  PROVIDE  THE  SOFTWARE  "AS  IS"  WITHOUT  WARRANTY  OF  ANY  KIND, EITHER EXPRESSED OR IMPLIED,
       INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND  FITNESS  FOR  A  PARTICULAR
       PURPOSE.  THE  ENTIRE  RISK  AS  TO  THE  QUALITY AND PERFORMANCE OF THE SOFTWARE IS WITH YOU. SHOULD THE
       SOFTWARE PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR, OR CORRECTION.

       IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER,  OR  ANY
       OTHER  PARTY WHO MAY MODIFY AND/OR REDISTRIBUTE THE SOFTWARE AS PERMITTED BY THE ABOVE LICENSE, BE LIABLE
       TO YOU FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES ARISING  OUT  OF
       THE  USE  OR  INABILITY  TO  USE  THE  SOFTWARE  (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING
       RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE SOFTWARE  TO  OPERATE
       WITH  ANY OTHER SOFTWARE), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH
       DAMAGES.

perl v5.34.0                                       2022-06-13             <u>Dist::Zilla::Pl...keMaker::<a href="../man3pm/Custom.3pm.html">Custom</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>