<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel::Routing::DE::EFA - unofficial interface to EFA-based itinerary services</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtravel-routing-de-vrr-perl">libtravel-routing-de-vrr-perl_2.24-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Travel::Routing::DE::EFA - unofficial interface to EFA-based itinerary services

</pre><h4><b>SYNOPSIS</b></h4><pre>
               use Travel::Routing::DE::EFA;

               my $efa = Travel::Routing::DE::EFA-&gt;new(
                       efa_url     =&gt; 'https://app.vrr.de/vrrstd/XML_TRIP_REQUEST2';',
                       origin      =&gt; [ 'Essen',    'HBf' ],
                       destination =&gt; [ 'Duisburg', 'HBf' ],
               );

               for my $route ( $efa-&gt;routes ) {
                       for my $part ( $route-&gt;parts ) {
                               printf(
                                       "%s at %s -&gt; %s at %s, via %s to %s\n",
                                       $part-&gt;departure_time, $part-&gt;departure_stop,
                                       $part-&gt;arrival_time,   $part-&gt;arrival_stop,
                                       $part-&gt;train_line,     $part-&gt;train_destination,
                               );
                       }
                       print "\n";
               }

</pre><h4><b>VERSION</b></h4><pre>
       version 2.24

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Travel::Routing::DE::EFA</b> is a client for EFA-based itinerary services.  You pass it the start/stop of
       your journey, maybe a time and a date and more details, and it returns the up-to-date scheduled
       connections between those two stops.

       It uses <b>LWP::UserAgent</b> and <b>XML::LibXML</b> for this.

</pre><h4><b>METHODS</b></h4><pre>
       $efa = Travel::Routing::DE::EFA-&gt;new(<u>%opts</u>)
           Returns a new Travel::Routing::DE::EFA object and sets up its POST data via %opts.

           Valid hash keys and their values are:

           <b>efa_url</b> =&gt; <u>efa_url</u>
               Mandatory.   Sets  the  entry point to the EFA itinerary service.  See "efa --list" for a list of
               supported services.

               If you found a URL not listed there, please send it to &lt;<a href="mailto:derf@finalrewind.org">derf@finalrewind.org</a>&gt;.

           <b>origin</b> =&gt; <b>[</b> <u>city</u><b>,</b> <u>stop</u> [ <b>,</b> <u>type</u> ] <b>]</b>
               Mandatory.  Sets the start of the journey.  <u>type</u> is optional and may be one  of  <b>stop</b>  (default),
               <b>address</b> (street and house number) or <b>poi</b> ("point of interest").

           <b>destination</b> =&gt; <b>[</b> <u>city</u><b>,</b> <u>stop</u> [ <b>,</b> <u>type</u> ] <b>]</b>
               Mandatory.  Sets the end of the journey, see <b>origin</b>.

           <b>via</b> =&gt; <b>[</b> <u>city</u><b>,</b> <u>stop</u> [ <b>,</b> <u>type</u> ] <b>]</b>
               Optional.  Specifies an intermediate stop which the resulting itinerary must contain.  See <b>origin</b>
               for arguments.

           <b>arrival_time</b> =&gt; <u>HH:MM</u>
               Journey end time

           <b>departure_time</b> =&gt; <u>HH:MM</u>
               Journey start time.  Default: now

           <b>date</b> =&gt; <u>DD.MM.</u>[<u>YYYY</u>]
               Journey date.  Also accepts the string <b>tomorrow</b>.  Default: today

           <b>exclude</b> =&gt; \@exclude
               Do  not  use  certain  transport  types  for itinerary.  Accepted arguments: zug, s-bahn, u-bahn,
               stadtbahn, tram, stadtbus, regionalbus, schnellbus, seilbahn, schiff, ast, sonstige

           <b>max_interchanges</b> =&gt; <u>num</u>
               Set maximum number of interchanges

           <b>num_results</b> =&gt; <u>num</u>
               Return up to <u>num</u> connections.  If unset, the  default  of  the  respective  EFA  server  is  used
               (usually 4 or 5).

           <b>select_interchange_by</b> =&gt; <b>speed</b>|<b>waittime</b>|<b>distance</b>
               Prefer  either  fast  connections  (default),  connections with low wait time or connections with
               little distance to walk

           <b>use_near_stops</b> =&gt; <u>$int</u>
               If <u>$int</u> is a true value: Take stops close to the stop/start into account and  possibly  use  them
               instead. Up to <u>$int</u> minutes of walking are considered acceptable.

               Otherwise: Do not take stops close to stop/start into account.

           <b>train_type</b> =&gt; <b>local</b>|<b>ic</b>|<b>ice</b>
               Include only local trains into itinerary (default), all but ICEs, or all.

               The latter two are usually way more expensive for short routes.

           <b>walk_speed</b> =&gt; <b>slow</b>|<b>fast</b>|<b>normal</b>
               Set walk speed.  Default: <b>normal</b>

           <b>with_bike</b> =&gt; <b>0</b>|<b>1</b>
               If  true:  Request connections allowing passengers with bikes. Note that the backed may return an
               empty result if no such connection exists or bike-support simply isn't known.

           <b>with_low_platform</b> =&gt; <b>0</b>|<b>1</b>
               If true: Request connections which only use low-platform ("Niederflur") vehicles. Note  that  the
               backed will return an empty result if no such connection exists.

           <b>with_wheelchair</b> =&gt; <b>0</b>|<b>1</b>
               If  true:  Request  connections which are wheelchair-accessible. Again, note that the backend may
               return an empty result if no such connection exists or wheelchair-support isn't known.

           <b>without_elevators</b> =&gt; <b>0</b>|<b>1</b>
               If true: Request that transfers do not require usage of elevators.

           <b>without_escalators</b> =&gt; <b>0</b>|<b>1</b>
               If true: Request that transfers do not require usage of escalators.

           <b>without_solid_stairs</b> =&gt; <b>0</b>|<b>1</b>
               If true: Request that transfers do not require stairs  to  be  taken  (i.e.   ramps,  escalators,
               elevators or similar must be available).

           <b>lwp_options</b> =&gt; <u>\%hashref</u>
               Options to pass to "LWP::UserAgent-&gt;new".

           <b>submit</b> =&gt; <b>0</b>|<b>1</b>
               By  default, <b>new</b> will create a POST request and submit it.  If you do not want it to be submitted
               yet, set this to <b>0</b>.

       $efa-&gt;submit(<u>%opts</u>)
           Submit the query to <u>efa_url</u>.  <u>%opts</u> is passed on to "LWP::UserAgent-&gt;new".

       $efa-&gt;routes
           Returns a list of <b>Travel::Routing::DE::EFA::<a href="../man3pm/Route.3pm.html">Route</a></b>(3pm) elements. Each  one  contains  one  method  of
           getting from start to stop.

   <b>ACCESSORS</b>
       The following methods act like the arguments to <b>new</b>. See there.

       $efa-&gt;departure_time(<u>$time</u>)
       $efa-&gt;arrival_time(<u>$time</u>)
       $efa-&gt;date(<u>$date</u>)
       $efa-&gt;exclude(<u>@exclude</u>)
       $efa-&gt;max_interchanges(<u>$num</u>)
       $efa-&gt;select_interchange_by(<u>$selection</u>)
       $efa-&gt;train_type(<u>$type</u>)
       $efa-&gt;use_near_stops(<u>$duration</u>)
       $efa-&gt;walk_speed(<u>$speed</u>)
       $efa-&gt;with_bike(<u>$bool</u>)

   <b>STATIC</b> <b>METHODS</b>
       <b>Travel::Routing::DE::EFA::get_efa_urls()</b>
           Returns a list of known EFA entry points. Each list element is a hashref with the following elements.

           <b>url</b>: service URL as passed to <b>efa_url</b>
           <b>name</b>: Name of the entity operating this service
           <b>shortname</b>: Short name of the entity

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       When  encountering  an  error, Travel::Routing::DE::EFA throws a <b>Travel::Routing::DE::EFA::<a href="../man3pm/Exception.3pm.html">Exception</a></b>(3pm)
       object.

</pre><h4><b>DEPENDENCIES</b></h4><pre>
       •   <b>LWP::<a href="../man3pm/UserAgent.3pm.html">UserAgent</a></b>(3pm)

       •   <b>XML::<a href="../man3pm/LibXML.3pm.html">LibXML</a></b>(3pm)

</pre><h4><b>BUGS</b> <b>AND</b> <b>LIMITATIONS</b></h4><pre>
       None known.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       •   <b>Travel::Routing::DE::EFA::<a href="../man3pm/Exception.3pm.html">Exception</a></b>(3pm)

       •   <b>Travel::Routing::DE::EFA::<a href="../man3pm/Route.3pm.html">Route</a></b>(3pm)

       •   WWW::EFA is another implementation, using Moose.

</pre><h4><b>AUTHOR</b></h4><pre>
       Copyright (C) 2009-2023 by Birte Kristina Friesel &lt;<a href="mailto:derf@finalrewind.org">derf@finalrewind.org</a>&gt;

</pre><h4><b>LICENSE</b></h4><pre>
       This program is licensed under the same terms as Perl itself.

perl v5.36.0                                       2023-11-27                      <u>Travel::Routing::DE::<a href="../man3pm/EFA.3pm.html">EFA</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>