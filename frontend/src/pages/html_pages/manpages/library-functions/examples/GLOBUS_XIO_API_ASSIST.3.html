<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GLOBUS_XIO_API_ASSIST - XIO Examples</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libglobus-xio-doc">libglobus-xio-doc_6.6-3build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       GLOBUS_XIO_API_ASSIST - XIO Examples

        - XIO Examples.

</pre><h4><b>SYNOPSIS</b></h4><pre>
</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       XIO Examples.

       Help understanding the globus_xio api.

</pre><h4><b>Stack</b> <b>Construction</b></h4><pre>
       The driver stack that is used for a given XIO handle is constructed using a globus_xio_stack_t. Each
       driver is loaded by name and pushed onto a stack.

       Stack setup example:

       // First load the drivers
       globus_xio_driver_load("tcp", &amp;tcp_driver);
       globus_xio_driver_load("gsi", &amp;gsi_driver);

       //build the stack
       globus_xio_stack_init(&amp;stack);
       globus_xio_stack_push_driver(stack, tcp_driver, NULL);
       globus_xio_stack_push_driver(stack, gsi_driver, NULL);

</pre><h4><b>Servers</b></h4><pre>
       A server data structure provides functionality for passive opens. A server is initialized and bound to a
       protocol stack and set of attributes with the function <b>globus_xio_server_create()</b>. Once a server is
       created many 'connections' can be accepted. Each connection will result in an initialized handle which
       can later be opened.

       globus_xio_server_t             server;
       globus_xio_attr_t               attr;

       globus_xio_attr_init(&amp;attr);
       globus_xio_server_create(&amp;server_handle, attr, stack);
       globus_xio_server_accept(&amp;handle, server);

</pre><h4><b>Handle</b> <b>Construction</b></h4><pre>
       There are two ways to create a handle. The first is for use as a client (one that is doing an active
       open). The function: <b>globus_xio_handle_create()</b> is used to create such a handle and bind that handle to a
       protocol stack.

       globus_xio_handle_create(&amp;handle, stack);

       The second means of creating a handle is for use as a server (one that is doing a passive open). This is
       created by accepting a connection on a server_handle with the function <b>globus_xio_server_accept()</b> or
       <b>globus_xio_server_register_accept()</b>.

       Mutable attrs can be altered via a call to <b>globus_xio_handle_cntl()</b> described later.

       globus_xio_server_accept(&amp;xio_handle, server_handle);

       once a handle is initialized the user can call <b>globus_xio_open()</b> to begin the open process.

</pre><h4><b>Timeouts</b></h4><pre>
       A user can set a timeout value for any I/O operation. Each I/O operation (open close read write) can have
       its own timeout value. If no timeout is set the operation will be allowed to infinitely block.

       When time expires the outstanding operation is canceled. If the timeout callback for the given operation
       is not NULL it is called first to notify the user that the operation timed out and give the user a chance
       to ignore that timeout. If canceled, the user will get the callback they registered for the operation as
       well, but it will come with an error indicating that it has been canceled.

       It is possible that part of an I/O operation will complete before the timeout expires. In this case the
       operation can still be canceled. The user will receive there IO callback with and error set and the
       length value appropriately set to indicate how much of the operation completed.

       Timeouts are registered by using the following handle_cntl values:

       • GLOBUS_XIO_ATTR_SET_TIMEOUT_ALL

       • GLOBUS_XIO_ATTR_SET_TIMEOUT_OPEN

       • GLOBUS_XIO_ATTR_SET_TIMEOUT_CLOSE

       • GLOBUS_XIO_ATTR_SET_TIMEOUT_READ

       • GLOBUS_XIO_ATTR_SET_TIMEOUT_WRITE

       • GLOBUS_XIO_ATTR_SET_TIMEOUT_ACCEPT

       Each of these cntls expect three parameters:

       • globus_xio_timeout_callback_t callback_function

       • globus_reltime_t * delay_time

       • void * callback_arg

</pre><h4><b>Data</b> <b>Descriptor</b></h4><pre>
       The  data  descriptor  ADT  gives  the  user a means of attaching/extracting meta data to a read or write
       operation.
        Things like offset, out of band message, and other driver specific meta data are contained in  the  data
       descriptor.
        Data  descriptors  are  passed  to  globus_xio  in  <b>globus_xio_read()</b> and <b>globus_xio_write()</b>. Within the
       globus_xio framework it is acceptable to pass NULL instead of a valid data_descriptor,

       Example:

       globus_xio_data_descriptor_init(&amp;desc);
       globus_xio_data_descriptor_cntl(desc,
           tcp_driver,
           GLOBUS_XIO_TCP_SET_SEND_FLAGS,
           GLOBUS_XIO_TCP_SEND_OOB);

</pre><h4><b>User</b> <b>Attributes</b></h4><pre>
       Globus XIO uses a single attribute object  for  all  of  its  functions.  Attributes  give  the  user  an
       extensible mechanism to alter default values which control parameters in an operation.

       In most of the Globus XIO user API functions a user passes an attribute as a parameter. In many cases the
       user  may  ignore  the  attribute parameter and just pass in NULL. However at times the user will wish to
       tweak the operation. The attribute structure is used for this tweaking.

       There   are   only   three   attribute   functions.   <b>globus_xio_attr_init</b>    <b>globus_xio_attr_cntl</b>    and
       <b>globus_xio_attr_destroy</b>.  The  init and destroy functions are very simple and require little explanation.
       Before an attribute can be used it must be initialized, and to clean up all memory associated with it the
       user must call destroy on it.

       The function <b>globus_xio_attr_cntl</b>  manipulates  values  in  the  attribute.  For  more  info  on  it  see
       <b>globus_xio_attr_cntl</b>.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for globus_xio from the source code.

globus_xio                                         Version 6.6                          <u><a href="../man3/GLOBUS_XIO_API_ASSIST.3.html">GLOBUS_XIO_API_ASSIST</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>