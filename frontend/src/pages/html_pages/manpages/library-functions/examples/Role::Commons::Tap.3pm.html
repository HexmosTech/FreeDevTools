<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Role::Commons::Tap - an object method which helps with chaining, inspired by Ruby</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/librole-commons-perl">librole-commons-perl_0.104-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Role::Commons::Tap - an object method which helps with chaining, inspired by Ruby

</pre><h4><b>SYNOPSIS</b></h4><pre>
          # This fails because the "post" method doesn't return
          # $self; it returns an HTTP::Request object.
          #
          LWP::UserAgent
             -&gt; new
             -&gt; post('<a href="http://www.example.com/submit">http://www.example.com/submit</a>', \%data)
             -&gt; get('<a href="http://www.example.com/status">http://www.example.com/status</a>');

          # The 'tap' method runs some code and always returns $self.
          #
          LWP::UserAgent
             -&gt; new
             -&gt; tap(post =&gt; [ '<a href="http://www.example.com/submit">http://www.example.com/submit</a>', \%data ])
             -&gt; get('<a href="http://www.example.com/status">http://www.example.com/status</a>');

          # Or use a coderef...
          #
          LWP::UserAgent
             -&gt; new
             -&gt; tap(sub { $_-&gt;post('<a href="http://www.example.com/submit">http://www.example.com/submit</a>', \%data) })
             -&gt; get('<a href="http://www.example.com/status">http://www.example.com/status</a>');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>DO</b> <b>NOT</b> <b>USE</b> <b>THIS</b> <b>MODULE!</b> Use Object::Tap or Object::Util instead. They are not drop-in replacements, but a
       far more sensible way to have a "tap" method.

       This module has nothing to do with the Test Anything Protocol (TAP, see Test::Harness).

       This module is a role for your class, providing it with a "tap" method.  The "tap" method is an aid to
       chaining. You can do for example:

          $object
             -&gt;tap( sub{ $_-&gt;<a href="../man1/foo.1.html">foo</a>(1) } )
             -&gt;tap( sub{ $_-&gt;<a href="../man2/bar.2.html">bar</a>(2) } )
             -&gt;tap( sub{ $_-&gt;<a href="../man3/baz.3.html">baz</a>(3) } );

       ... without worrying about what the "foo", "bar" and "baz" methods return, because "tap" always returns
       its invocant.

       The "tap" method also provides a few shortcuts, so that the above can actually be written:

          $object-&gt;tap(foo =&gt; [1], bar =&gt; [2], baz =&gt; [3]);

       ... but more about that later. Anyway, this module provides one method for your class - "tap" - which is
       described below.

   <b>tap(@arguments)</b>
       This can be called as an object or class method, but is usually used as an object method.

       Each argument is processed in the order given. It is processed differently, depending on the kind of
       argument it is.

       <u>Coderef</u> <u>arguments</u>

       An argument that is a coderef (or a blessed argument that overloads "&amp;{}" - see overload) will be
       executed in a context where $_ has been set to the invocant of the tap method "tap". The return value of
       the coderef is ignored. For example:

          {
             package My::Class;
             use Role::Commons qw(Tap);
          }
          print My::Class-&gt;tap(
             sub { warn uc $_; return 'X' },
          );

       ... will warn "MY::CLASS" and then print "My::Class".

       Because each argument to "tap" is processed in order, you can provide multiple coderefs:

          print My::Class-&gt;tap(
             sub { warn uc $_; return 'X' },
             sub { warn lc $_; return 'Y' },
          );

       <u>String</u> <u>arguments</u>

       A non-reference argument (i.e. a string) is treated as a shortcut for a method call on the invocant. That
       is, the following two taps are equivalent:

          $object-&gt;tap( sub{$_-&gt;foo(@_)} );
          $object-&gt;tap( 'foo' );

       <u>Arrayref</u> <u>arguments</u>

       An arrayref is dereferenced yielding a list. This list is passed as an argument list when executing the
       previous coderef argument (or string argument). The following three taps are equivalent:

          $object-&gt;tap(
             sub { $_-&gt;foo('bar', 'baz') },
          );
          $object-&gt;tap(
             sub { $_-&gt;foo(@_) },
             ['bar', 'baz'],
          );
          $object-&gt;tap(
             foo =&gt; ['bar', 'baz'],
          );

       <u>Scalar</u> <u>ref</u> <u>arguments</u>

       There are a handful of special scalar ref arguments that are supported:

       "\"EVAL""
           This  indicates  that  you  wish  for  all subsequent coderefs to be wrapped in an "eval", making any
           errors that occur within it non-fatal.

              $object-&gt;tap(\"EVAL", sub {...});

       "\"NO_EVAL""
           Switches back to the default behaviour of not wrapping coderefs in "eval".

              $object-&gt;tap(
                 \"EVAL",
                 sub {...},   # any fatal errors will be caught and ignored
                 \"NO_EVAL",
                 sub {...},   # fatal errors are properly fatal again.
              );

</pre><h4><b>BUGS</b></h4><pre>
       Please report any bugs to &lt;<a href="http://rt.cpan.org/Dist/Display.html">http://rt.cpan.org/Dist/Display.html</a>?Queue=Role-Commons&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Object::Tap, Object::Util.

       Role::Commons.

       &lt;<a href="http://tea.moertel.com/articles/2007/02/07/ruby-1-9-gets-handy-new-method-object-tap">http://tea.moertel.com/articles/2007/02/07/ruby-1-9-gets-handy-new-method-object-tap</a>&gt;,
       &lt;<a href="http://prepan.org/module/3Yz7PYrBLN">http://prepan.org/module/3Yz7PYrBLN</a>&gt;.

</pre><h4><b>AUTHOR</b></h4><pre>
       Toby Inkster &lt;<a href="mailto:tobyink@cpan.org">tobyink@cpan.org</a>&gt;.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENCE</b></h4><pre>
       This software is copyright (c) 2012, 2014 by Toby Inkster.

       This is free software; you can redistribute it and/or modify it under  the  same  terms  as  the  Perl  5
       programming language system itself.

</pre><h4><b>DISCLAIMER</b> <b>OF</b> <b>WARRANTIES</b></h4><pre>
       THIS  PACKAGE  IS  PROVIDED  "AS  IS"  AND  WITHOUT ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, WITHOUT
       LIMITATION, THE IMPLIED WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.

perl v5.38.2                                       2024-03-07                            <u>Role::Commons::<a href="../man3pm/Tap.3pm.html">Tap</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>