<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VM::EC2::Volume - Object describing an Amazon EBS volume</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libvm-ec2-perl">libvm-ec2-perl_1.28-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       VM::EC2::Volume - Object describing an Amazon EBS volume

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use VM::EC2;

         $ec2       = VM::EC2-&gt;new(...);
         @vol = $ec2-&gt;describe_volumes;
         for my $vol (@vols) {
           $id    = $vol-&gt;volumeId;
           $size  = $vol-&gt;size;
           $snap  = $vol-&gt;snapshotId;
           $zone  = $vol-&gt;availabilityZone;
           $status = $vol-&gt;status;
           $ctime = $vol-&gt;createTime;
           @attachments = $vol-&gt;attachments;
           $attachment  = $vol-&gt;attachment;
           $origin      = $vol-&gt;from_snapshot;
           @snapshots   = $vol-&gt;to_snapshots;
         }
         $vols[0]-&gt;attach('i-12345','/dev/sdg1');
         $vols[0]-&gt;deleteOnTermination('true');
         $vols[0]-&gt;detach;
         $vols[0]-&gt;create_snapshot('automatic snapshot')

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This object is used to describe an Amazon EBS volume. It is returned by VM::EC2-&gt;<b>describe_volumes()</b>.

</pre><h4><b>METHODS</b></h4><pre>
       The following object methods are supported:

        volumeId         -- ID of this volume.
        size             -- Size of this volume (in GB).
        snapshotId       -- ID of snapshot this volume was created from.
        availabilityZone -- Availability zone in which this volume resides.
        status           -- Volume state, one of "creating", "available",
                            "in-use", "deleting", "deleted", "error"
        createTime       -- Timestamp for when volume was created.
        volumeType       -- The volume type, one of "standard", "io1", or "gp2"
        iops             -- The number of I/O operations per second that the volume
                            supports, an integer between 100 and 4000. Only valid for
                            volumes of type "io1".
        encrypted        -- True if volume is encrypted.
        tags             -- Hashref containing tags associated with this group.
                            See L&lt;VM::EC2::Generic&gt;.

       In addition, this class provides several convenience functions:

   <b>$attachment</b>  <b>=</b> <b>$vol-&gt;attachment</b>
   <b>@attachments</b> <b>=</b> <b>$vol-&gt;attachments</b>
       The <b>attachment()</b> method returns a VM::EC2::BlockDevice::Attachment object describing the attachment of
       this volume to an instance. If the volume is unused, then this returns undef.

       The <b>attachments()</b> method is similar, except that it returns a list of the attachments.  Currently an EBS
       volume can only be attached to one instance at a time, but the Amazon call syntax supports multiple
       attachments and this method is provided for future compatibility.

   <b>$attachment</b> <b>=</b> <b>$vol-&gt;attach($instance,$device)</b>
   <b>$attachment</b> <b>=</b> <b>$vol-&gt;attach(-instance_id=&gt;$instance,-device=&gt;$device)</b>
       Attach this volume to an instance using virtual device $device. Both arguments are required. The result
       is a VM::EC2::BlockDevice::Attachment object which you can monitor by calling <b>current_status()</b>:

           my $a = $volume-&gt;attach('i-12345','/dev/sdg');
           while ($a-&gt;current_status ne 'attached') {
              sleep 2;
           }
           print "volume is ready to go\n";

   <b>$attachment</b> <b>=</b> <b>$volume-&gt;detach()</b>
   <b>$attachment</b> <b>=</b> <b>$volume-&gt;detach(-instance_id=&gt;$instance_id,</b> <b>-device=&gt;$device,</b> <b>-force=&gt;$force);</b>
       Detaches this volume. With no arguments, will detach the volume from whatever instance it is currently
       attached to. Provide -instance_id and/or -device as a check that you are detaching the volume from the
       expected instance and device.

       Optional arguments:

        -instance_id    -- ID of the instance to detach from.
        -device         -- How the device is exposed to the instance.
        -force          -- Force detachment, even if previous attempts were
                           unsuccessful.

       The result is a VM::EC2::BlockDevice::Attachment object which you can monitor by calling
       <b>current_status()</b>:

           my $a = $volume-&gt;detach;
           while ($a-&gt;current_status ne 'detached') {
              sleep 2;
           }
           print "volume is ready to go\n";

   <b>$boolean</b> <b>=</b> <b>$vol-&gt;deleteOnTermination([$boolean])</b>
       Get or set the deleteOnTermination flag for attached volumes. If the volume is unattached, then this
       causes a fatal error. Called with no arguments, this method returns the current state of the
       deleteOnTermination flag for the volume's attachment. Called with a true/false argument, the method sets
       the flag by calling <b>modify_instance_attributes()</b> on the corresponding instance and returns true if
       successful.

   <b>$snap</b> <b>=</b> <b>$vol-&gt;from_snapshot</b>
       Returns the VM::EC2::Snapshot object that this volume was originally derived from. It will return undef
       if the resource no longer exists, or if the volume was created from scratch.

   <b>@snap</b> <b>=</b> <b>$vol-&gt;to_snapshots</b>
       If this volume has been used to create one or more snapshots, this method will return them as a list of
       VM::EC2::Snapshot objects.

   <b>$snapshot</b> <b>=</b> <b>$vol-&gt;create_snapshot('Description')</b>
       Create a snapshot of the volume and return a VM::EC2::Snapshot object. To ensure a consistent snapshot,
       you should unmount the volume before snapshotting it. The optional argument allows you to add a
       description to the snapshot.

       Here is an example:

         $s = $volume-&gt;create_snapshot("Backed up at ".localtime);
         while ($s-&gt;current_status eq 'pending') {
            print "Progress: ",$s-&gt;progress,"% done\n";
         }
         print "Snapshot status: ",$s-&gt;current_status,"\n";

   <b>$status</b> <b>=</b> <b>$vol-&gt;current_status</b>
       This returns the up-to-date status of the volume. It works by calling <b>refresh()</b> and then returning
       <b>status()</b>.

   <b>$boolean</b> <b>=</b> <b>$vol-&gt;auto_enable_io([$new_boolean])</b>
       Get or set the auto-enable IO flag.

   <b>$boolean</b> <b>=</b> <b>$vol-&gt;enable_volume_io()</b>
       Enable volume I/O after it has been disabled by an Amazon health check. If successful, the call will
       return true.

</pre><h4><b>STRING</b> <b>OVERLOADING</b></h4><pre>
       When used in a string context, this object will interpolate the volumeId.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       VM::EC2 VM::EC2::Generic VM::EC2::Snapshot VM::EC2::BlockDevice VM::EC2::BlockDevice::Attachment

</pre><h4><b>AUTHOR</b></h4><pre>
       Lincoln Stein &lt;<a href="mailto:lincoln.stein@gmail.com">lincoln.stein@gmail.com</a>&gt;.

       Copyright (c) 2011 Ontario Institute for Cancer Research

       This package and its accompanying libraries is free software; you can redistribute it and/or modify it
       under the terms of the GPL (either version 1, or at your option, any later version) or the Artistic
       License 2.0.  Refer to LICENSE for the full license text. In addition, please see DISCLAIMER.txt for
       disclaimers of warranty.

perl v5.38.2                                       2024-08-10                               <u>VM::EC2::<a href="../man3pm/Volume.3pm.html">Volume</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>