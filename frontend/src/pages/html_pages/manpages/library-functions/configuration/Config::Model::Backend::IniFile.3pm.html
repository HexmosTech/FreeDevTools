<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Config::Model::Backend::IniFile - Read and write config as a INI file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libconfig-model-perl">libconfig-model-perl_2.155-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Config::Model::Backend::IniFile - Read and write config as a INI file

</pre><h4><b>VERSION</b></h4><pre>
       version 2.155

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use Config::Model;

        my $model = Config::Model-&gt;new;
        $model-&gt;create_config_class (
           name    =&gt; "IniClass",
           element =&gt; [
               [qw/foo bar/] =&gt; {
                   type =&gt; 'list',
                   cargo =&gt; {qw/type leaf value_type string/}
               }
           ]
        );

        # model for free INI class name and constrained class parameters
        $model-&gt;create_config_class(
           name =&gt; "MyClass",

           element =&gt; [
               ini_class =&gt; {
                   type   =&gt; 'hash',
                   index_type =&gt; 'string',
                   cargo =&gt; {
                       type =&gt; 'node',
                       config_class_name =&gt; 'IniClass'
                   },
               },
           ],

          rw_config  =&gt; {
            backend =&gt; 'IniFile',
            config_dir =&gt; '<a href="file:/tmp">/tmp</a>',
            file  =&gt; 'foo.conf',
            store_class_in_hash =&gt; 'ini_class',
            auto_create =&gt; 1,
          }
        );

        my $inst = $model-&gt;instance(root_class_name =&gt; 'MyClass' );
        my $root = $inst-&gt;config_root ;

        $root-&gt;load('ini_class:ONE foo=FOO1 bar=BAR1 -
                     ini_class:TWO foo=FOO2' );

        $inst-&gt;write_back ;

       Now "/tmp/foo.conf" contains:

        ## file written by Config::Model
        [ONE]
        foo=FOO1

        bar=BAR1

        [TWO]
        foo=FOO2

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module is used directly by Config::Model to read or write the content of a configuration tree
       written with INI syntax in "Config::Model" configuration tree.

       This INI file can have arbitrary comment delimiter. See the example in the SYNOPSIS that sets a semi-
       column as comment delimiter.  By default the comment delimiter is '#' like in Shell or Perl.

       Note that undefined values are skipped for list element. I.e. when a list element contains
       "('a',undef,'b')", the data structure contains 'a','b'.

</pre><h4><b>Limitations</b></h4><pre>
   <b>Structure</b>
       Structure of the Config::Model must be very simple. Either:

       •   A single class with hash of leaves elements.

       •   2 levels of classes. The top level has nodes elements. All other classes have only leaf elements.

</pre><h4><b>Comments</b> <b>in</b> <b>Ini</b> <b>file</b></h4><pre>
       This  backend  tries  to  read  and  write  comments  from configuration file. The comments are stored as
       annotation within the configuration tree. Comments extraction is based on best  estimation  as  to  which
       parameter the comment may apply. Wrong estimations are possible.

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
   <b>new</b>
       Parameters: "( node =&gt; $node_obj, name =&gt; 'inifile' )"

       Inherited from Config::Model::Backend::Any. The constructor is called by Config::Model::BackendMgr.

</pre><h4><b>Parameters</b></h4><pre>
       Optional parameters declared in the model:

   <b>comment_delimiter</b>
       Change the character that starts comments in the INI file. Default is '"#"'.

       Some  Ini  files  allows  comments  to begin with several characters (e.g. "#" or ";"). In this case, set
       "comment_delimiter" to the possible characters (e.g ""#;""). The first character is used  to  write  back
       comments. (In the example above, comment "; blah" is written back as "# blah".

   <b>store_class_in_hash</b>
       See "Arbitrary class name"

   <b>section_map</b>
       Is a kind of exception of the above rule. See also "Arbitrary class name"

   <b>force_lc_section</b>
       Boolean. When set, sections names are converted to lowercase.

   <b>force_lc_key</b>
       Idem for key name

   <b>force_lc_value</b>
       Idem for all values.

   <b>split_list_value</b>
       Some  INI  values  are in fact a list of items separated by a space or a comma.  This parameter specifies
       the regex  to use to split the value into a list. This applies only to "list" elements.

   <b>join_list_value</b>
       Conversely, the list element split with "split_list_value" needs to be written back with a string to join
       them. Specify this string (usually ' ' or ', ') with "join_list_value".

   <b>split_check_list_value</b>
       Some INI values are in fact a check list of items separated by  a  space  or  a  comma.   This  parameter
       specifies  the  regex  to  use  to split the value read from the file into a list of items to check. This
       applies only to "check_list" elements.

   <b>join_check_list_value</b>
       Conversely, the check_list element split with "split_list_value" needs to be written back with  a  string
       to join them. Specify this string (usually ' ' or ', ') with "join_check_list_value".

   <b>write_boolean_as</b>
       Array  ref.  Reserved  for boolean value. Specify how to write a boolean value.  Default is "[0,1]" which
       may  not  be  the  most  readable.  "write_boolean_as"  can  be  specified   as   "['false','true']"   or
       "['no','yes']".

   <b>assign_char</b>
       Character used to assign value in INI file. Default is "=".

   <b>assign_with</b>
       String used write assignment in INI file. Default is "" = "".

   <b>quote_value</b>
       How to quote value in INI file. Currrently only "shell_style" is supported for "quote_value".

       E.g. INI backend declaration can contain this parameter:

          quote_value =&gt; 'shell_style'

       Here  are  some example of quoted values. The 3 columns shows the original value in file, how it's stored
       internally and how it's written back:

          # read    =&gt; shown   =&gt; write
          "foo"     =&gt; foo     =&gt; "foo"
          "foo bar" =&gt; foo bar =&gt; "foo bar"
          "20"x"4"  =&gt; 20x4    =&gt; "20x4"

</pre><h4><b>Mapping</b> <b>between</b> <b>INI</b> <b>structure</b> <b>and</b> <b>model</b></h4><pre>
       INI file typically have the same structure with 2 different conventions.  The class names can be  imposed
       by the application or may be chosen by user.

   <b>Imposed</b> <b>class</b> <b>name</b>
       In this case, the class names must match what is expected by the application.  The elements of each class
       can be different. For instance:

         foo = foo_v
         [ A ]
         bar = bar_v
         [ B ]
         baz = baz_v

       In this case, class "A" and class "B" do not use the same configuration class.

       The model has this structure:

        Root class
        |- leaf element foo
        |- node element A of class_A
        |  \- leaf element bar
        \- node element B of class_B
           \-  leaf element baz

   <b>Arbitrary</b> <b>class</b> <b>name</b>
       In  this  case,  the  class  names  can  be chosen by the end user. Each class has the same elements. For
       instance:

         foo = foo_v
         [ A ]
         bar = bar_v1
         [ B ]
         bar = bar_v2

       In this case, class "A" and class "B" do not use the  same  configuration  class.   The  model  has  this
       structure:

        Root class
        |- leaf foo
        \- hash element my_class_holder
           |- key A (value is node of class_A)
           |  \- element-bar
           \- key B (value is node of class_A)
              \- element-bar

       In  this  case,  the  "my_class_holder"  name  is  specified  in  "rw_config"  with "store_class_in_hash"
       parameter:

           rw_config  =&gt; {
             backend =&gt; 'IniFile',
             config_dir =&gt; '<a href="file:/tmp">/tmp</a>',
             file  =&gt; 'foo.ini',
             store_class_in_hash =&gt; 'my_class_holder',
           }

       Of course they are exceptions. For instance, in "Multistrap", the "[General]" INI class must be mapped to
       a specific node object. This can be specified with the "section_map" parameter:

           rw_config  =&gt; }
              backend =&gt; 'IniFile',
              config_dir =&gt; '<a href="file:/tmp">/tmp</a>',
              file  =&gt; 'foo.ini',
              store_class_in_hash =&gt; 'my_class_holder',
              section_map =&gt; {
                  General =&gt; 'general_node',
              }
           }

       "section_map" can also map an INI class to the root node:

           rw_config =&gt; {
             backend =&gt; 'ini_file',
             store_class_in_hash =&gt; 'sections',
             section_map =&gt; {
                 General =&gt; '!'
             },
           }

</pre><h4><b>Handle</b> <b>key</b> <b>value</b> <b>files</b></h4><pre>
       This backend is able to handle simple configuration files where the values are written as key value pairs
       like:

        foo = bar

       or

        foo: bar

       The option "assign_char" is used to specify which character is used to assign a value in the file  (white
       spaces are ignored).  "assign_char" is ""="" (the default) in the first example, and "":"" in the second.

       The "assign_with" is used to control how the file is written back. E.g:

        foo=bar   # the default
        foo= bar  # assign_with is "= "
        foo = bar # assign_with is " = "
        foo:bar   # assign_char is ':', assign_with is the default
        foo: bar  # assign_char is ':', assign_with is ": "
        foo : bar # assign_char is ':', assign_with is " : "

</pre><h4><b>Methods</b></h4><pre>
   <b>read</b>
       Of  all  parameters  passed  to  this  read  call-back,  only "file_path" is used. This parameter must be
       Path::Tiny object.

       It can also be undef. In this case, "read" returns 0.

       When a file is read, "read" returns 1.

   <b>write</b>
       Of all parameters passed to this write call-back, only "file_path" is used.  This  parameter  must  be  a
       Path::Tiny object.

       "write" returns 1.

</pre><h4><b>AUTHOR</b></h4><pre>
       Dominique Dumont, (ddumont at cpan dot org); Krzysztof Tyszecki, (krzysztof.tyszecki at gmail dot com)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Config::Model, Config::Model::BackendMgr, Config::Model::Backend::Any,

</pre><h4><b>AUTHOR</b></h4><pre>
       Dominique Dumont

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2005-2022 by Dominique Dumont.

       This is free software, licensed under:

         The GNU Lesser General Public License, Version 2.1, February 1999

perl v5.40.0                                       2024-11-30               <u>Config::Model::Backend::<a href="../man3pm/IniFile.3pm.html">IniFile</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>