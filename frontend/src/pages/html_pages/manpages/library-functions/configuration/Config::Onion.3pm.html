<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Config::Onion - Layered configuration, because configs are like ogres</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libconfig-onion-perl">libconfig-onion-perl_1.007-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Config::Onion - Layered configuration, because configs are like ogres

</pre><h4><b>VERSION</b></h4><pre>
       version 1.007

</pre><h4><b>SYNOPSIS</b></h4><pre>
         my $cfg = Config::Onion-&gt;new;
         my $cfg = Config::Onion-&gt;set_default(db =&gt; {name =&gt; 'foo', password =&gt; 'bar'});
         my $cfg = Config::Onion-&gt;load('/etc/myapp', './myapp');
         my $cfg = Config::Onion-&gt;load('/etc/myapp', './myapp', {use_ext =&gt; 1, filter =&gt; \&amp;filter});
         my $cfg = Config::Onion-&gt;load_glob('./plugins/*');
         my $cfg = Config::Onion-&gt;load_glob('./plugins/*', {force_plugins =&gt; ['Config::Any::YAML']});

         $cfg-&gt;set_default(font =&gt; 'Comic Sans');
         $cfg-&gt;load('config');
         $cfg-&gt;load_glob('conf.d/myapp*');
         $cfg-&gt;set_override(font =&gt; 'Arial');

         my $dbname = $cfg-&gt;get-&gt;{db}{name};
         my $plain_hashref_conf = $cfg-&gt;get;
         my $dbpassword = $plain_hashref_conf-&gt;{db}{password};

</pre><h4><b>DESCRIPTION</b></h4><pre>
       All too often, configuration is not a universal or one-time thing, yet most configuration-handling treats
       it as such.  Perhaps you can only load one config file.  If you can load more than one, you often have to
       load all of them at the same time or each is stored completely independently, preventing one from being
       able to override another.  Config::Onion changes that.

       Config::Onion stores all configuration settings in four layers: Defaults, Main, Local, and Override.
       Each layer can be added to as many times as you like.  Within each layer, settings which are given
       multiple times will take the last specified value, while those which are not repeated will remain
       untouched.

         $cfg-&gt;set_default(name =&gt; 'Arthur Dent', location =&gt; 'Earth');
         $cfg-&gt;set_default(location =&gt; 'Magrathea');
         # In the Default layer, 'name' is still 'Arthur Dent', but 'location' has
         # been changed to 'Magrathea'.

       Regardless of the order in which they are set, values in Main will always override values in the Default
       layer, the Local layer always overrides both Default and Main, and the Override layer overrides all the
       others.

       The design intent for each layer is:

       •   Default

           Hardcoded default values to be used when no further configuration is present

       •   Main

           Values loaded from standard configuration files shipped with the application

       •   Local

           Values  loaded  from  local  configuration  files  which are kept separate to prevent them from being
           overwritten by application upgrades, etc.

       •   Override

           Settings provided at run-time which take precendence over all configuration files, such  as  settings
           provided via command line switches

       If a higher-priority layer wishes to completely remove a hash entry made by a lower-priority layer (i.e.,
       delete the hash key, not just set it to an empty value), it can do so by setting the value to "!DELETE!".
       This  only applies to hash entries, not array values, as the entire array already needs to be overwritten
       to make any changes to it.  Also, if, for some reason, the configuration contains objects,  the  contents
       of  those  objects  will  be ignored for the sake of encapsulation.  Only unblessed hashes are cleaned in
       this manner.

</pre><h4><b>METHODS</b></h4><pre>
   <b>new</b>
       Returns a new, empty configuration object.

   <b>load(@file_stems)</b> <b>=head2</b> <b>load(@file\_stems,</b> <b>{...})</b>
       Loads files matching  the  given  stems  using  "Config::Any-&gt;load_stems"  into  the  Main  layer.   Also
       concatenates   ".local"   to   each   stem  and  loads  matching  files  into  the  Local  layer.   e.g.,
       "$cfg-&gt;load('myapp')" would load "myapp.yml" into Main and "myapp.local.js"  into  Local.   All  filename
       extensions supported by "Config::Any" are recognized along with their corresponding formats.

       An  optional hash ref final argument can be provided to override the default option "use_ext =&gt; 1" passed
       to "Config::Any".  All options supported by "Config::Any"  are  supported  except  flatten_to_hash.   See
       "Config::Any-&gt;load_files" documentation for available options.

   <b>load_glob(@globs)</b> <b>=head2</b> <b>load_glob(@globs,</b> <b>{...})</b>
       Uses the Perl "glob" function to expand each parameter into a list of filenames and loads each file using
       "Config::Any".   Files  whose  names  contain  the string ".local." are loaded into the Local layer.  All
       other files are loaded into the Main layer.

       An optional hash ref final argument can be provided to override the default option "use_ext =&gt; 1"  passed
       to  "Config::Any".   All  options  supported  by "Config::Any" are supported except flatten_to_hash.  See
       "Config::Any-&gt;load_files" documentation for available options.

   <b>set_default([\%settings,...,]</b> <b>%settings)</b>
   <b>set_override([\%settings,...,]</b> <b>%settings)</b>
       Imports %settings into the Default or Override layer.  Accepts settings both as a plain hash and as  hash
       references,  but, if the two are mixed, all hash references must appear at the beginning of the parameter
       list, before any non-hashref settings.

</pre><h4><b>PROPERTIES</b></h4><pre>
   <b>cfg</b>
   <b>get</b>
       Returns the complete configuration as a hash reference.

   <b>default</b>
   <b>main</b>
   <b>local</b>
   <b>override</b>
       These properties each return a single layer of the configuration.  This is not likely to be useful  other
       than for debugging.  For most other purposes, you probably want to use "get" instead.

   <b>prefix_key</b>
       If  set, enables the Prefix Structures functionality described below when using the "load" or "load_glob"
       methods.  The value of "prefix_key" specifies the name of the key under which the  prefix  structure  may
       be found.

       Default value is "undef".

</pre><h4><b>Prefix</b> <b>Structures</b></h4><pre>
       If  you  find that your configuration structure is becoming unwieldy due to deeply-nested structures, you
       can define a file-specific "prefix structure" and all other settings within that file will be  loaded  as
       children of the prefix structure.  For example, if your main program uses

         $cfg = Config::Onion-&gt;new(prefix_key =&gt; '_prefix');
         $cfg-&gt;load("myapp/config");

       and "myapp/config.yml" contains

         _prefix:
           foo:
             bar:

         baz: 1

       then $cfg will contain the configuration

         foo:
           bar:
             baz: 1

       Note that the top-level "prefix_key" is removed.

       There  are  some limitations on the prefix structure, in order to keep it sane and deterministic.  First,
       the prefix structure may only contain hashes.  Second, each hash must contain exactly one key.   Finally,
       the value associated with the final key must be left undefined.

</pre><h4><b>BUGS</b> <b>AND</b> <b>LIMITATIONS</b></h4><pre>
       No bugs have been reported.

       Please report any bugs or feature requests at &lt;https://github.com/dsheroh/Config-Onion/issues&gt;

</pre><h4><b>AUTHOR</b></h4><pre>
       Dave Sherohman &lt;<a href="mailto:dsheroh@cpan.org">dsheroh@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2012 by Lund University Library.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.38.2                                       2024-03-05                                 <u>Config::<a href="../man3pm/Onion.3pm.html">Onion</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>