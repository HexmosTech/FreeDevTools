<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Config::Model::CheckList - Handle check list element</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libconfig-model-perl">libconfig-model-perl_2.155-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Config::Model::CheckList - Handle check list element

</pre><h4><b>VERSION</b></h4><pre>
       version 2.155

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use Config::Model;

        # define configuration tree object
        my $model = Config::Model-&gt;new;
        $model-&gt;create_config_class(
           name =&gt; "MyClass",

           element =&gt; [

               # type check_list uses Config::Model::CheckList
               my_check_list =&gt; {
                   type   =&gt; 'check_list',
                   choice =&gt; [ 'A', 'B', 'C', 'D' ],
                   help   =&gt; {
                       A =&gt; 'A effect is this',
                       D =&gt; 'D does that',
                   }
               },
           ],
        );

        my $inst = $model-&gt;instance( root_class_name =&gt; 'MyClass' );

        my $root = $inst-&gt;config_root;

        # put data
        $root-&gt;load( steps =&gt; 'my_check_list=A' );

        my $obj = $root-&gt;grab('my_check_list');

        my $v = $root-&gt;grab_value('my_check_list');
        print "check_list value '$v' with help '", $obj-&gt;get_help($v), "'\n";

        # more data
        $obj-&gt;check('D');
        $v = $root-&gt;grab_value('my_check_list');
        print "check_list new value is '$v'\n";   # prints check_list new value is 'A,D'

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This class provides a check list element for a Config::Model::Node.  In other words, this class provides
       a list of booleans items. Each item can be set to 1 or 0.

       The available items in the check list can be :

       •   A fixed list (with the "choice" parameter)

       •   A dynamic list where the available choice are the keys of another hash of the configuration tree. See
           "Choice reference" for details.

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
       CheckList object should not be created directly.

</pre><h4><b>CheckList</b> <b>model</b> <b>declaration</b></h4><pre>
       A check list element must be declared with the following parameters:

       type
           Always "checklist".

       choice
           A list ref containing the check list items (optional)

       refer_to
           This  parameter is used when the keys of a hash are used to specify the possible choices of the check
           list. "refer_to" point to a hash or list element in the configuration tree.  See  "Choice  reference"
           for details. (optional)

       computed_refer_to
           Like "refer_to", but use a computed value to find the hash or list element in the configuration tree.
           See "Choice reference" for details. (optional)

       default_list
           List ref to specify the check list items which are "on" by default.  (optional)

       ordered
           Specify whether the order of checked items must be preserved.

       help
           Hash ref to provide information on the check list items.

       warp
           Used  to  provide  dynamic  modifications  of the check list properties See Config::Model::Warper for
           details

       For example:

       •   A check list with help:

            choice_list =&gt; {
                type   =&gt; 'check_list',
                choice =&gt; ['A' .. 'Z'],
                help   =&gt; { A =&gt; 'A help', E =&gt; 'E help' } ,
            },

       •   A check list with default values:

            choice_list_with_default =&gt; {
                type =&gt; 'check_list',
                choice     =&gt; ['A' .. 'Z'],
                default_list   =&gt; [ 'A', 'D' ],
            },

       •   A check list whose available choice and  default  change  depending  on  the  value  of  the  "macro"
           parameter:

            warped_choice_list =&gt; {
                type =&gt; 'check_list',
                warp =&gt; {
                    follow =&gt; '- macro',
                    rules  =&gt; {
                        AD =&gt; {
                            choice =&gt; [ 'A' .. 'D' ],
                            default_list =&gt; ['A', 'B' ]
                        },
                        AH =&gt; { choice =&gt; [ 'A' .. 'H' ] },
                    }
                }
            },

</pre><h4><b>Introspection</b> <b>methods</b></h4><pre>
       The following methods returns the checklist parameter :

       refer_to
       computed_refer_to

</pre><h4><b>Choice</b> <b>reference</b></h4><pre>
       The  choice  items  of a check_list can be given by another configuration element. This other element can
       be:

       •   The keys of a hash

       •   Another checklist. In this case only the checked items of the other checklist are available.

       This other hash or other checklist is indicated  by  the  "refer_to"  or  "computed_refer_to"  parameter.
       "refer_to" uses the syntax of the "steps" parameter of grab(...)

       See refer_to parameter.

   <b>Reference</b> <b>examples</b>
       •   A check list where the available choices are the keys of "my_hash" configuration parameter:

            refer_to_list =&gt; {
                type =&gt; 'check_list',
                refer_to =&gt; '- my_hash'
            },

       •   A  check  list  where the available choices are the checked items of "other_check_list" configuration
           parameter:

            other_check_list =&gt; {
                type =&gt; 'check_list',
                choice =&gt; [qw/A B C/]
            },
            refer_to_list =&gt; {
                type =&gt; 'check_list',
                refer_to =&gt; '- other_check_list'
            },

       •   A check list where the available choices are the keys of  "my_hash"  and  "my_hash2"  and  "my_hash3"
           configuration parameter:

            refer_to_3_lists =&gt; {
                type =&gt; 'check_list',
                refer_to =&gt; '- my_hash + - my_hash2   + - my_hash3'
            },

       •   A   check   list   where   the  available  choices  are  the  specified  choice  and  the  choice  of
           "refer_to_3_lists" and a hash whose name is specified by the value of the "indirection" configuration
           parameter (this example is admittedly convoluted):

            refer_to_check_list_and_choice =&gt; {
                type =&gt; 'check_list',
                computed_refer_to =&gt; {
                    formula =&gt; '- refer_to_2_list + - $var',
                    variables =&gt; {
                        var =&gt; '- indirection '
                    }
                },
                choice  =&gt; [qw/A1 A2 A3/],
            },

</pre><h4><b>Methods</b></h4><pre>
   <b>get_type</b>
       Returns "check_list".

   <b>cargo_type</b>
       Returns 'leaf'.

   <b>check</b>
       Set choice. Parameter is either a list of choices to set or a list ref and some optional parameter. I.e:

         check (\@list, check =&gt; 'skip') ;

       "check" parameter decide on behavior in case of invalid choice value: either die (if yes) or discard  bad
       value (if skip)

   <b>uncheck</b>
       Unset  choice.  Parameter is either a list of choices to unset or a list ref and some optional parameter.
       I.e:

         uncheck (\@list, check =&gt; 'skip') ;

       "check" parameter decide on behavior in case of invalid choice value: either die (if yes) or discard  bad
       value (if skip)

   <b>is_checked</b>
       Parameters: "( choice, [ check =&gt; yes|skip ] , [ mode =&gt; ... ])"

       Return 1 if the given "choice" was set. Returns 0 otherwise.

       "check"  parameter decide on behavior in case of invalid choice value: either die (if yes) or discard bad
       value (if skip)

       "mode" is either: custom standard preset default layered upstream_default

   <b>has_data</b>
       Return true if the check_list contains a set of checks different from default or upstream default set  of
       check.

   <b>get_choice</b>
       Returns an array of all items names that can be checked (i.e.  that can have value 0 or 1).

   <b>get_help</b>
       Parameters: "(choice_value)"

       Return the help string on this choice value

   <b>get_info</b>
       Returns  a list of information related to the check list. See "get_info" in Config::Model::Value for more
       details.

   <b>clear</b>
       Reset the check list (can also be called as "clear_values")

   <b>clear_item</b>
       Parameters: "(choice_value)"

       Reset an element of the checklist.

   <b>get_checked_list_as_hash</b>
       Accept  a  parameter  (referred  below  as  "mode"  parameter)  similar   to   "mode"   in   "fetch"   in
       Config::Model::Value.

       Returns a hash (or a hash ref) of all items. The boolean value is the value of the hash.

       Example:

        { A =&gt; 0, B =&gt; 1, C =&gt; 0 , D =&gt; 1}

       By  default,  this  method  returns  all items set by the user, or items set in preset mode or checked by
       default.

       With a "mode" parameter set to a value from the list below, this method returns:

       backend
           The value written in config file, (ie. set by user or by layered data or preset or default)

       custom
           The list entered by the user. An empty list is returned if the list of checked items is identical  to
           the list of items checked by default. The whole list of checked items is returned as soon as <b>one</b> item
           is different from standard value.

       preset
           The list entered in preset mode

       standard
           The list set in preset mode or checked by default.

       default
           The default list (defined by the configuration model)

       layered
           The list specified in layered mode.

       upstream_default
           The list implemented by upstream project (defined in the configuration model)

       user
           The  set  that is active in the application. (ie. set by user or by layered data or preset or default
           or upstream_default)

       non_upstream_default
           The choice set by user or by layered data or preset or default.

   <b>get_checked_list</b>
       Parameters: "( &lt; mode &gt; )"

       Returns a list (or a list ref) of all checked items (i.e. all items set to 1).

   <b>fetch</b>
       Parameters: "( &lt; mode &gt; )"

       Returns a string listing the checked items (i.e. "A,B,C")

   <b>get</b>
       Parameters: "( path  [, &lt; mode&gt; ] )"

       Get a value from a directory like path.

</pre><h4><b>Method</b> <b>to</b> <b>check</b> <b>or</b> <b>clear</b> <b>items</b> <b>in</b> <b>the</b> <b>check</b> <b>list</b></h4><pre>
       All these methods accept an optional "check" parameter that can be:

       yes A wrong item to check trigger an exception (default)

       skip
           A wrong item trigger a warning

       no  A wrong item is ignored

   <b>set</b>
       Parameters: "( path, items_to_set, [ check =&gt; [ yes | no | skip  ] ] )"

       Set a checklist with a directory like path. Since a checklist is a leaf, the path should be empty.

       The values are a comma separated list of items to set in the check list.

       Example :

         $leaf-&gt;set('','A,C,Z');
         $leaf-&gt;set('','A,C,Z', check =&gt; 'skip');

   <b>set_checked_list</b>
       Set all passed items to checked (1). All other available items in the check list are set to 0.

       Example, for a check list that contains A B C and D check items:

         # set cl to A=0 B=1 C=0 D=1
         $cl-&gt;set_checked_list('B','D')
         $cl-&gt;set_checked_list( [ 'B','D' ])
         $cl-&gt;set_checked_list( [ 'B','D' ], check =&gt; 'yes')

   <b>store_set</b>
       Alias to "set_checked_list", so a list and a check_list can use the same store method

   <b>store</b>
       Set all items listed in a string to checked. The items must be separated by commas. All  other  available
       items in the check list are set to 0.

       Example:

         $cl-&gt;store('B, D')
         $cl-&gt;store( value =&gt; 'B,C' )
         $cl-&gt;store( value =&gt; 'B,C', check =&gt; 'yes' )

   <b>load</b>
       Alias to "store".

   <b>set_checked_list_as_hash</b>
       Set check_list items. Missing items in the given hash of parameters are cleared (i.e. set to undef).

       Example for a check list containing A B C D

         $cl-&gt;set_checked_list_as_hash( { A =&gt; 1, B =&gt; 0} , check =&gt; 'yes' )
         # result A =&gt; 1 B =&gt; 0 , C and D are undef

   <b>load_data</b>
       Load  items  as  an  array or hash ref. Array is forwarded to set_checked_list , and hash is forwarded to
       set_checked_list_as_hash.

       Example:

        $cl-&gt;load_data(['A','B']) # cannot use check param here
        $cl-&gt;load_data( data =&gt; ['A','B'])
        $cl-&gt;load_data( data =&gt; ['A','B'], check =&gt; 'yes')
        $cl-&gt;load_data( { A =&gt; 1, B =&gt; 1 } )
        $cl-&gt;load_data( data =&gt; { A =&gt; 1, B =&gt; 1 }, check =&gt; 'yes')

   <b>is_bad_mode</b>
       Accept a mode parameter. This function checks if the mode is accepted by "fetch" method. Returns an error
       message if not. For instance:

        if (my $err = $val-&gt;is_bad_mode('foo')) {
           croak "my_function: $err";
        }

       This method is intented as a helper ti avoid duplicating the list of accepted modes  for  functions  that
       want to wrap fetch methods (like Config::Model::Dumper or Config::Model::DumpAsData)

</pre><h4><b>Ordered</b> <b>checklist</b> <b>methods</b></h4><pre>
       All the methods below are valid only for ordered checklists.

   <b>swap</b>
       Parameters: "( choice_a, choice_b)"

       Swap the 2 given choice in the list. Both choice must be already set.

   <b>move_up</b>
       Parameters: "( choice )"

       Move the choice up in the checklist.

   <b>move_down</b>
       Parameters: "( choice )"

       Move the choice down in the checklist.

</pre><h4><b>AUTHOR</b></h4><pre>
       Dominique Dumont, (ddumont at cpan dot org)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Config::Model, Config::Model::Instance, Config::Model::Node, Config::Model::AnyId, Config::Model::ListId,
       Config::Model::HashId, Config::Model::Value

</pre><h4><b>AUTHOR</b></h4><pre>
       Dominique Dumont

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2005-2022 by Dominique Dumont.

       This is free software, licensed under:

         The GNU Lesser General Public License, Version 2.1, February 1999

perl v5.40.0                                       2024-11-30                      <u>Config::Model::<a href="../man3pm/CheckList.3pm.html">CheckList</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>