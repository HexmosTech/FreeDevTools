<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CGI::Application::Plugin::Config::Simple - Add Config::Simple support to CGI::Application</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcgi-application-plugin-config-simple-perl">libcgi-application-plugin-config-simple-perl_1.01-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CGI::Application::Plugin::Config::Simple - Add Config::Simple support to CGI::Application

</pre><h4><b>SYNOPSIS</b></h4><pre>
       in your CGI::Application based module

               use CGI::Application::Plugin::Config::Simple;

           sub cgiapp_init {
                 my $self = shift;
                 #set my config file
                 $self-&gt;config_file('myapp.conf');

                 #
                 #do other stuff
                 #
               }

               #later on in a run mode
               sub run_mode1 {
                 my $self = shift;

                 #just get a single parameter from my config file
                 my $value = $self-&gt;config_param('my_param');

                 #get a parameter in a block (if using ini style files)
                 $value = $self-&gt;config_param('my_block.my_param');

                 #the entire config hash reference
                 my $config_vars = $self-&gt;config_param();

                 #get my Config::Simple object for direct access
                 my $config = $self-&gt;config;
               }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module acts as a plugin for Config::Simple to be easily used inside of a CGI::Application module. It
       does not provide every method available from Config::Simple but rather easy access to your configuration
       variables. It does however provide direct access to the underlying Config::General object created if you
       want to use it's full power.

       The module tries to make the getting and setting of configuration variables as easy as possible. Only
       three methods are exported into your CGI::Application module and they are described below.

       Before I wrote this module sometimes I would put my code that read in the configuration file into the
       <b>cgiapp_init()</b> or <b>cgiapp_prerun()</b> methods but then if I had a run mode that didn't need those config
       variables it was run anyway. This module helps to solve this is. The Config::Simple object is not created
       (and the config file is not read and parsed) until after your first call to <b>config()</b> or <b>config_param()</b> to
       either retrieve/set values, or get the Config::Simple object. This lazy loading idea came from Cees Hek's
       CGI::Application::Plugin::Session module.

</pre><h4><b>METHODS</b></h4><pre>
   <b>config_param()</b>
       This method acts as an accessor/mutator for configuration variables coming from the configuration file.

       This method will behave in three different ways depending on how many parameters it is passed. If 0
       parameters are passed then the entire config structure will be returned as a hash ref. If 1 parameters is
       passed then the value of that parameter in the config file will be returned. If more than 1 parameter is
       passed then it will treat them as name value pairs and will set the parameters in the config file
       accordingly. In this case, if we successfully set the parameters then a true value will be returned.

               #get the complete config hash
               my $config_hash = $self-&gt;config_param();
               #just get one config value
               my $value = $self-&gt;config_param($parameter);
               #set multiple config values
               my $success = $self-&gt;config_param(param1 =&gt; $value1, param2 =&gt; $value2);

       This method uses Config::Simple so if you are using ini-files then you can set the values of variables
       inside blocks as well using the '.' notation. See Config::Simple;

       You must set the name of the configuration file either using the <b>config_file()</b> method or the
       CGIAPP_CONFIG_FILE environment variable before calling this method or it will 'die'.

   <b>config()</b>
       This method will return the underlying Config::Simple object for more direct use by your application. You
       must set the name of the configuration file either using the <b>config_file()</b> method or the
       CGIAPP_CONFIG_FILE environment variable before calling this method or it will 'die'.

               my $conf = $self-&gt;config();

   <b>config_file([$file_name])</b>
       This method acts as an accessor/mutator to either get the name of the current config file or to
       change/initialize it. This method must be called to initialize the name of the config file before any
       call can be made to either <b>config()</b> or <b>config_param()</b> unless the 'CGIAPP_CONFIG_FILE' environment
       variable has been set. If this environment variable is set it will be used as the initial value of the
       config file. This is useful if we are running in a mod_perl environment when can use a statement like
       this in your httpd.conf file:

               PerlSetEnv  CGIAPP_CONFIG_FILE  /path/to/my/conf

       It is typical to set the name of the config file in the <b>cgiapp_init()</b> phase of your application.

       If a value is passed as a parameter then the config file with that name is used. It will always return
       the name of the current config file.

               #get the value of the CGIAPP_CONFIG_FILE environment variable (if there is one)
               #since we haven't set the config file's name with config_file() yet.
               my $file_name = $self-&gt;config_file();

               #set the config file's name
               $self-&gt;config_file('myapp.conf');

               #get the name of the config file
               $file_name = $self-&gt;config_file();

</pre><h4><b>CAVEATS</b></h4><pre>
       The CGI::Application object is implemented as a hash and we store the variables used by this module's
       methods inside of it as a hash named __CONFIG_SIMPLE. If you use any other CGI::Application plugins there
       would be problems if they also used $self-&gt;{__CONFIG_SIMPLE} but in practice this should never actually
       happen.

</pre><h4><b>AUTHOR</b></h4><pre>
       Michael Peters &lt;<a href="mailto:mpeters@plusthree.com">mpeters@plusthree.com</a>&gt;

       Thanks to Plus Three, LP (<a href="http://www.plusthree.com">http://www.plusthree.com</a>) for sponsoring my work on this module

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       •       CGI::Application

       •       Config::Simple

</pre><h4><b>LICENSE</b></h4><pre>
       This  library  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.34.0                                       2022-06-09             <u>CGI::Applicatio...:Config::<a href="../man3pm/Simple.3pm.html">Simple</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>