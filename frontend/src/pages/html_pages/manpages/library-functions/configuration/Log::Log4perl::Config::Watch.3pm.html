<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log::Log4perl::Config::Watch - Detect file changes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/liblog-log4perl-perl">liblog-log4perl-perl_1.57-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Log::Log4perl::Config::Watch - Detect file changes

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use Log::Log4perl::Config::Watch;

           my $watcher = Log::Log4perl::Config::Watch-&gt;new(
                                 file            =&gt; "/data/my.conf",
                                 check_interval  =&gt; 30,
                         );

           <a href="../man1/while.1.html">while</a>(1) {
               if($watcher-&gt;change_detected()) {
                   print "Change detected!\n";
               }
               <a href="../man1/sleep.1.html">sleep</a>(1);
           }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module helps detecting changes in files. Although it comes with the "Log::Log4perl" distribution, it
       can be used independently.

       The constructor defines the file to be watched and the check interval in seconds. Subsequent calls to
       "change_detected()" will

       •   return  a  false  value  immediately  without  doing  physical file checks if "check_interval" hasn't
           elapsed.

       •   perform a physical test on the specified file if the number of seconds specified in  "check_interval"
           have  elapsed  since  the  last physical check. If the file's modification date has changed since the
           last physical check, it will return a true value, otherwise a false value is returned.

       Bottom line: "check_interval" allows you to call the function "change_detected()" as often as  you  like,
       without  paying the performing a significant performance penalty because file system operations are being
       performed (however, you pay the price of not knowing about file changes  until  "check_interval"  seconds
       have elapsed).

       The  module  clearly  distinguishes  system  time from file system time.  If your (e.g. NFS mounted) file
       system is off by a constant amount of time compared to the executing computer's clock,  it'll  just  work
       fine.

       To disable the resource-saving delay feature, just set "check_interval" to 0 and "change_detected()" will
       run a physical file test on every call.

       If  you already have the current time available, you can pass it on to "change_detected()" as an optional
       parameter, like in

           change_detected($time)

       which then won't trigger a call to "time()", but use the value provided.

   <b>SIGNAL</b> <b>MODE</b>
       Instead of polling time and file changes, "new()" can be instructed to set up a signal  handler.  If  you
       call the constructor like

           my $watcher = Log::Log4perl::Config::Watch-&gt;new(
                                 file    =&gt; "/data/my.conf",
                                 signal  =&gt; 'HUP'
                         );

       then a signal handler will be installed, setting the object's variable "$self-&gt;{signal_caught}" to a true
       value when the signal arrives.  Comes with all the problems that signal handlers go along with.

   <b>TRIGGER</b> <b>CHECKS</b>
       To  trigger  a physical file check on the next call to "change_detected()" regardless if "check_interval"
       has expired or not, call

           $watcher-&gt;force_next_check();

       on the watcher object.

   <b>DETECT</b> <b>MOVED</b> <b>FILES</b>
       The watcher can also be used to detect files that have moved. It will not only detect if a  watched  file
       has disappeared, but also if it has been replaced by a new file in the meantime.

           my $watcher = Log::Log4perl::Config::Watch-&gt;new(
               file           =&gt; "/data/my.conf",
               check_interval =&gt; 30,
           );

           <a href="../man1/while.1.html">while</a>(1) {
               if($watcher-&gt;file_has_moved()) {
                   print "File has moved!\n";
               }
               <a href="../man1/sleep.1.html">sleep</a>(1);
           }

       The  parameters  "check_interval" and "signal" limit the number of physical file system checks, similarly
       as with "change_detected()".

</pre><h4><b>LICENSE</b></h4><pre>
       Copyright 2002-2013 by Mike Schilli &lt;<a href="mailto:m@perlmeister.com">m@perlmeister.com</a>&gt; and Kevin Goess &lt;<a href="mailto:cpan@goess.org">cpan@goess.org</a>&gt;.

       This library is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

</pre><h4><b>AUTHOR</b></h4><pre>
       Please contribute patches to the project on Github:

           <a href="http://github.com/mschilli/log4perl">http://github.com/mschilli/log4perl</a>

       Send bug reports or requests for enhancements to the authors via our

       MAILING LIST (questions, bug reports, suggestions/patches): <a href="mailto:log4perl-devel@lists.sourceforge.net">log4perl-devel@lists.sourceforge.net</a>

       Authors  (please  contact them via the list above, not directly): Mike Schilli &lt;<a href="mailto:m@perlmeister.com">m@perlmeister.com</a>&gt;, Kevin
       Goess &lt;<a href="mailto:cpan@goess.org">cpan@goess.org</a>&gt;

       Contributors (in alphabetical order): Ateeq Altaf, Cory  Bennett,  Jens  Berthold,  Jeremy  Bopp,  Hutton
       Davidson,  Chris  R.  Donnelly,  Matisse Enzer, Hugh Esco, Anthony Foiani, James FitzGibbon, Carl Franks,
       Dennis Gregorovic, Andy Grundman, Paul Harrington, Alexander  Hartmaier   David  Hull,  Robert  Jacobson,
       Jason Kohles, Jeff Macdonald, Markus Peter, Brett Rann, Peter Rabbitson, Erik Selberg, Aaron Straup Cope,
       Lars Thegler, David Viner, Mac Yang.

perl v5.36.0                                       2022-10-30                                 <u>Config::<a href="../man3pm/Watch.3pm.html">Watch</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>