<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shell::Config::Generate - Portably generate config for any shell</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libshell-config-generate-perl">libshell-config-generate-perl_0.34-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Shell::Config::Generate - Portably generate config for any shell

</pre><h4><b>VERSION</b></h4><pre>
       version 0.34

</pre><h4><b>SYNOPSIS</b></h4><pre>
       With this start up:

        use Shell::Guess;
        use Shell::Config::Generate;

        my $config = Shell::Config::Generate-&gt;new;
        $config-&gt;comment( 'this is my config file' );
        $config-&gt;set( FOO =&gt; 'bar' );
        $config-&gt;set_path(
          PERL5LIB =&gt; '/foo/bar/lib/perl5',
                      '/foo/bar/lib/perl5/perl5/site',
        );
        $config-&gt;append_path(
          PATH =&gt; '/foo/bar/bin',
                  '/bar/foo/bin',
        );

       This:

        $config-&gt;generate_file(Shell::Guess-&gt;bourne_shell, 'config.sh');

       will generate a config.sh file with this:

        # this is my config file
        FOO='bar';
        export FOO;
        PERL5LIB='/foo/bar/lib/perl5:/foo/bar/lib/perl5/perl5/site';
        export PERL5LIB;
        if [ -n "$PATH" ] ; then
          PATH=$PATH:'/foo/bar/bin:/bar/foo/bin';
          export PATH
        else
          PATH='/foo/bar/bin:/bar/foo/bin';
          export PATH;
        fi;

       and this:

        $config-&gt;generate_file(Shell::Guess-&gt;c_shell, 'config.csh');

       will generate a config.csh with this:

        # this is my config file
        setenv FOO 'bar';
        setenv PERL5LIB '/foo/bar/lib/perl5:/foo/bar/lib/perl5/perl5/site';
        test "$?PATH" = 0 &amp;&amp; setenv PATH '/foo/bar/bin:/bar/foo/bin' || setenv PATH "$PATH":'/foo/bar/bin:/bar/foo/bin';

       and this:

        $config-&gt;generate_file(Shell::Guess-&gt;cmd_shell, 'config.cmd');

       will generate a "config.cmd" (Windows "cmd.exe" script) with this:

        rem this is my config file
        set FOO=bar
        set PERL5LIB=/foo/bar/lib/perl5;/foo/bar/lib/perl5/perl5/site
        if defined PATH (set PATH=%PATH%;/foo/bar/bin;/bar/foo/bin) else (set PATH=/foo/bar/bin;/bar/foo/bin)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides an interface for specifying shell configurations for different shell environments
       without having to worry about the arcane differences between shells such as csh, sh, cmd.exe and
       command.com.

       It does not modify the current environment, but it can be used to create shell configurations which do
       modify the environment.

       This module uses Shell::Guess to represent the different types of shells that are supported.  In this way
       you can statically specify just one or more shells:

        #!<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?perl">/usr/bin/perl</a>
        use Shell::Guess;
        use Shell::Config::Generate;
        my $config = Shell::Config::Generate-&gt;new;
        # ... config config ...
        $config-&gt;generate_file(Shell::Guess-&gt;bourne_shell,  'foo.sh' );
        $config-&gt;generate_file(Shell::Guess-&gt;c_shell,       'foo.csh');
        $config-&gt;generate_file(Shell::Guess-&gt;cmd_shell,     'foo.cmd');
        $config-&gt;generate_file(Shell::Guess-&gt;command_shell, 'foo.bat');

       This will create foo.sh and foo.csh versions of the configurations, which can be sourced like so:

        #!<a href="file:/bin/sh">/bin/sh</a>
        . ./foo.sh

       or

        #!/bin/csh
        source foo.csh

       It also creates ".cmd" and ".bat" files with the same configuration which can be used in Windows.  The
       configuration can be imported back into your shell by simply executing these files:

        C:\&gt; foo.cmd

       or

        C:\&gt; foo.bat

       Alternatively you can use the shell that called your Perl script using Shell::Guess's "running_shell"
       method, and write the output to standard out.

        #!<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?perl">/usr/bin/perl</a>
        use Shell::Guess;
        use Shell::Config::Generate;
        my $config = Shell::Config::Generate-&gt;new;
        # ... config config ...
        print $config-&gt;generate(Shell::Guess-&gt;running_shell);

       If you use this pattern, you can eval the output of your script using your shell's back ticks to import
       the configuration into the shell.

        #!<a href="file:/bin/sh">/bin/sh</a>
        eval `script.pl`

       or

        #!/bin/csh
        eval `script.pl`

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
   <b>new</b>
        my $config = Shell::Config::Generate-&gt;new;

       creates an instance of She::Config::Generate.

</pre><h4><b>METHODS</b></h4><pre>
       There are two types of instance methods for this class:

       •   modifiers

           adjust the configuration in an internal portable format

       •   generators

           generate  shell  configuration  in a specific format given the internal portable format stored inside
           the instance.

       The idea is that you can create multiple modifications to the environment without worrying about specific
       shells, then when you are done you can create shell specific versions of those  modifications  using  the
       generators.

       This  may  be  useful for system administrators that must support users that use different shells, with a
       single configuration generation script written in Perl.

   <b>set</b>
        $config-&gt;set( $name =&gt; $value );

       Set an environment variable.

   <b>set_path</b>
        $config-&gt;set_path( $name =&gt; @values );

       Sets an environment variable which is stored in standard 'path' format (Like PATH or PERL5LIB).  In  UNIX
       land  this  is  a colon separated list stored as a string.  In Windows this is a semicolon separated list
       stored as a string.  You can do the same thing using the "set" method, but if  you  do  so  you  have  to
       determine the correct separator.

       This will replace the existing path value if it already exists.

   <b>append_path</b>
        $config-&gt;append_path( $name =&gt; @values );

       Appends  to  an  environment  variable which is stored in standard 'path' format.  This will create a new
       environment variable if it doesn't already exist, or add to an existing value.

   <b>prepend_path</b>
        $config-&gt;prepend_path( $name =&gt; @values );

       Prepend to an environment variable which is stored in standard 'path' format.  This  will  create  a  new
       environment variable if it doesn't already exist, or add to an existing value.

   <b>comment</b>
        $config-&gt;comment( $comment );

       This will generate a comment in the appropriate format.

       <b>note</b>  that  including  comments in your configuration may mean it will not work with the "eval" backticks
       method for importing configurations into your shell.

   <b>shebang</b>
        $config-&gt;shebang;
        $config-&gt;shebang($location);

       This will generate a shebang at the beginning of the configuration, making it appropriate for  use  as  a
       script.   For  non  UNIX  shells  this  will  be  ignored.   If  specified, $location will be used as the
       interpreter location.  If it is not specified, then the default location for the shell will be used.

       <b>note</b> that the shebang in your configuration may mean it will not work with the  "eval"  backticks  method
       for importing configurations into your shell.

   <b>echo_off</b>
        $config-&gt;echo_off;

       For DOS/Windows configurations ("command.com" or "cmd.exe"), issue this as the first line of the config:

        @echo off

   <b>echo_on</b>
        $config-&gt;echo_on;

       Turn  off  the  echo  off  (that  is  do not put anything at the beginning of the config) for DOS/Windows
       configurations ("command.com" or "cmd.exe").

   <b>set_alias</b>
        $config-&gt;set_alias( $alias =&gt; $command )

       Sets the given alias to the given command.

       Caveat: some older shells do not support aliases, such as the original bourne shell.   This  module  will
       generate  aliases  for  those  shells anyway, since <a href="file:/bin/sh">/bin/sh</a> may actually be a more modern shell that DOES
       support aliases, so do not use this method unless you can be reasonable  sure  that  the  shell  you  are
       generating  supports  aliases.  On Windows, for PowerShell, a simple function is used instead of an alias
       so that arguments may be specified.

   <b>set_path_sep</b>
        $config-&gt;set_path_sep( $sep );

       Use $sep as the path separator instead of the shell default path separator (generally ":" for Unix shells
       and ";" for Windows shells).

       Not all characters are supported, it is usually best to stick with the shell default or  to  use  ":"  or
       ";".

   <b>generate</b>
        my $command_text = $config-&gt;generate;
        my $command_text = $config-&gt;generate( $shell );

       Generate shell configuration code for the given shell.  $shell is an instance of Shell::Guess.  If $shell
       is not provided, then this method will use Shell::Guess to guess the shell that called your perl script.

       You  can  also  pass in the shell name as a string for $shell.  This should correspond to the appropriate
       <u>name</u>_shell from Shell::Guess.  So for csh you would pass in "c" and for tcsh you would pass in "tc", etc.

   <b>generate_file</b>
        $config-&gt;generate_file( $shell, $filename );

       Generate shell configuration code for the given shell and write it to  the  given  file.   $shell  is  an
       instance of Shell::Guess.  If there is an IO error it will throw an exception.

</pre><h4><b>FUNCTIONS</b></h4><pre>
   <b>win32_space_be_gone</b>
        my @new_path_list = win32_space_be_gone( @orig_path_list );

       On "MSWin32" and "cygwin":

       Given  a list of directory paths (or filenames), this will return an equivalent list of paths pointing to
       the same file system objects without spaces.  To do this "Win32::GetShortPathName()" is used on  to  find
       alternative path names without spaces.

       NOTE   that   this   breaks   when   Windows   is  told  not  to  create  short  ("8+3")  filenames;  see
       &lt;<a href="http://www.perlmonks.org/">http://www.perlmonks.org/</a>?node_id=333930&gt; for a discussion of this behaviour.

       In addition, on just "Cygwin":

       The input paths are first converted from POSIX to Windows paths  using  "Cygwin::posix_to_win_path",  and
       then converted back to POSIX paths using "Cygwin::win_to_posix_path".

       Elsewhere:

       Returns the same list passed into it

   <b>cmd_escape_path</b>
        my @new_path_list = cmd_escape_path( @orig_path_list )

       Given  a list of directory paths (or filenames), this will return an equivalent list of paths escaped for
       cmd.exe and command.com.

   <b>powershell_escape_path</b>
        my @new_path_list = powershell_escape_path( @orig_path_list )

       Given a list of directory paths (or filenames), this will return an equivalent list of paths escaped  for
       PowerShell.

</pre><h4><b>CAVEATS</b></h4><pre>
       The  test suite tests this module's output against the actual shells that should understand them, if they
       can be found in the path.  You can generate configurations  for  shells  which  are  not  available  (for
       example  "cmd.exe"  configurations  from UNIX or bourne configurations under windows), but the test suite
       only tests them if they are found during the build of this module.

       The implementation for "csh" depends on the external command "test".  As far as I can tell "test"  should
       be  available  on  all  modern  flavors  of  UNIX which are using "csh".  If anyone can figure out how to
       prepend or append to path type environment variable without an external command in "csh",  then  a  patch
       would be appreciated.

       The  incantation  for prepending and appending elements to a path on csh probably deserve a comment here.
       It looks like this:

        test "$?PATH" = 0 &amp;&amp; setenv PATH '/foo/bar/bin:/bar/foo/bin' || setenv PATH "$PATH":'/foo/bar/bin:/bar/foo/bin';

       •   one line

           The command is all on one line, and doesn't use if, which is probably more clear and ideomatic.  This
           for example, might make more sense:

            if ( $?PATH == 0 ) then
              setenv PATH '/foo/bar/bin:/bar/foo/bin'
            else
              setenv PATH "$PATH":'/foo/bar/bin:/bar/foo/bin'
            endif

           However, this only works if the code interpreted using the csh "source" command or is included  in  a
           csh script inline.  If you try to invoke this code using csh "eval" then it will helpfully convert it
           to one line and if does not work under csh in one line.

       There  are probably more clever or prettier ways to append/prepend path environment variables as I am not
       a shell programmer.  Patches welcome.

       Only UNIX (bourne, bash, csh, ksh, fish and their derivatives)  and  Windows  (command.com,  cmd.exe  and
       PowerShell) are supported so far.

       Fish  shell  support should be considered a tech preview.  The Fish shell itself is somewhat in flux, and
       thus some tests are skipped for the Fish shell since behavior is different for  different  versions.   In
       particular, new lines in environment variables may not work on newer versions.

       Patches welcome for your favorite shell / operating system.

</pre><h4><b>AUTHOR</b></h4><pre>
       Author: Graham Ollis &lt;<a href="mailto:plicease@cpan.org">plicease@cpan.org</a>&gt;

       Contributors:

       Brad Macpherson (BRAD, brad-mac)

       mohawk

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2017 by Graham Ollis.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.36.0                                       2022-10-14                       <u>Shell::Config::<a href="../man3pm/Generate.3pm.html">Generate</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>