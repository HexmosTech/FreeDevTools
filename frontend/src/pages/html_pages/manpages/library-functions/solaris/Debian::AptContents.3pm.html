<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debian::AptContents - parse/search through apt-file's Contents files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dh-make-perl">dh-make-perl_0.128_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Debian::AptContents - parse/search through apt-file's Contents files

</pre><h4><b>SYNOPSIS</b></h4><pre>
           my $c = Debian::AptContents-&gt;new( { cache_dir =&gt; '<a href="file:~/.cache/dh-make-perl">~/.cache/dh-make-perl</a>' } );
           my @pkgs = $c-&gt;find_file_packages('/usr/bin/foo');
           my $dep = $c-&gt;find_perl_module_package('Foo::Bar');

</pre><h4><b>TODO</b></h4><pre>
       This needs to really work not only for Perl modules.

       A module specific to Perl modules is needed by dh-make-perl, but it can subclass Debian::AptContents,
       which needs to become more generic.

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
       new Constructs new instance of the class. Expects at least "cache_dir" option.

</pre><h4><b>FIELDS</b></h4><pre>
       cache_dir
           (<b>mandatory</b>) Directory where the object stores its cache.

       homedir
           Legacy option to specify the cache directory.

       dist
           Used  for filtering on the "distributon" part of the repository paths listed in sources.list. Default
           is empty, meaning no filtering.

       contents_files
           Arrayref of <u>Contents</u> file names. Default is to let <b>apt-file</b> find them.

       cache_file
           Path to the file with cached parsed information from all <u>Contents</u> files.  Default  is  <u>Contents.cache</u>
           under "cache_dir".

       cache
           Filled by "read_cache". Used by "find_file_packages" and (obviously) "store_cache"

       verbose
           Verbosity level. 0 means silent, the bigger the more the jabber. Default is 1.

</pre><h4><b>OBJECT</b> <b>METHODS</b></h4><pre>
       warning
           Used internally. Given a verbosity level and a message, prints the message to STDERR if the verbosity
           level is greater than or equal of the value of "verbose".

       get_contents_files
           Reads  <u>sources.list</u>,  gives  the  repository  paths to "repo_source_to_contents_paths" and returns an
           arrayref of file names of Contents files.

       read_cache
           Reads the cached parsed <u>Contents</u> files. If there are <u>Contents</u> files with more recent mtime than  that
           of  the  cache  (or  if  there  is  no  cache  at  all), parses all <u>Contents</u> and stores the cache via
           "store_cache" for later invocation.

       store_cache
           Writes the contents of the parsed "cache" to the "cache_file".

           Storable is used to stream the data. Along with the information from <u>Contents</u> files, a time stamp  is
           stored.

       find_file_packages
           Returns a list of packages where the given file was found.

           <u>Contents</u> files store the package section together with package name. That is stripped.

           Returns an empty list of the file is not found in any package.

       find_perl_module_package( $module, $version )
           Given Perl module name (e.g. Foo::Bar), returns a Debian::Dependency object representing the required
           Debian  package  and  version.  If  the module is only in perl core, a suitable dependency on perl is
           returned.

           For dual-lived modules, which are in perl and in a separate package, only the latter is returned,  as
           the perl package has versioned Provides for them.

</pre><h4><b>AUTHOR</b></h4><pre>
       Damyan Ivanov &lt;<a href="mailto:dmn@debian.org">dmn@debian.org</a>&gt;
       gregor herrmann &lt;<a href="mailto:gregoa@debian.org">gregoa@debian.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>&amp;</b> <b>LICENSE</b></h4><pre>
       Copyright (C) 2008, 2009, 2010, 2017 Damyan Ivanov &lt;<a href="mailto:dmn@debian.org">dmn@debian.org</a>&gt;
       Copyright (C) 2016, 2019 gregor herrmann &lt;<a href="mailto:gregoa@debian.org">gregoa@debian.org</a>&gt;

       This  program  is  free  software;  you  can  redistribute it and/or modify it under the terms of the GNU
       General Public License version 2 as published by the Free Software Foundation.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with this program; if not,  write
       to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.

perl v5.40.1                                       2025-02-28                           <u>Debian::<a href="../man3pm/AptContents.3pm.html">AptContents</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>