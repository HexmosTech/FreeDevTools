<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debian::Rules - handy manipulation of debian/rules</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdebian-source-perl">libdebian-source-perl_0.128_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Debian::Rules - handy manipulation of debian/rules

</pre><h4><b>SYNOPSIS</b></h4><pre>
           my $r = Debian::Rules-&gt;new('debian/rules');

           my $r = Debian::Rules-&gt;new( { filename =&gt; 'debian/rules' } );

           $r-&gt;is_dhtiny &amp;&amp; print "Using the latest and greatest\n";
           $r-&gt;is_quiltified &amp;&amp; print "quilt rules the rules\n";

           # file contents changed externally
           $r-&gt;parse;

           $r-&gt;add_quilt;
           $r-&gt;drop_quilt;

           $r-&gt;write;  # or undef($r);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Some times, one needs to know whether <u>debian/rules</u> uses the <b><a href="../man1/dh.1.html">dh</a></b>(1) tiny variant, or whether it is
       integrated with <b><a href="../man1/quilt.1.html">quilt</a></b>(1). Debian::Rules provides facilities to check this, as well as adding/removing
       quilt integration.

       Modified contents are written to file either vie the "write" method, or when the object reference goes
       out of scope (via DESTROY).

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
       "new" is the standard Class::Accessor constructor, with the exception that if only one, non-reference
       argument is provided, it is treated as a value for the filename field.

       If a file name is given, the constructor calls "read" to read the file contents into memory.

       One of <b>filename</b> or <b>lines</b> is mandatory.

</pre><h4><b>FIELDS</b></h4><pre>
       filename
           Contains the file name of the rules file.

       lines
           Reference to an array pointing to the rules file. Initialized by "new".

</pre><h4><b>METHODS</b></h4><pre>
       parse
           Parses  the  rules  file and stores its findings for later use. Called automatically by is_dhtiny and
           is_quiltified. The result of the parsing is cached and subsequent calls to "is_XXX" use the cache. To
           force cache refresh (for example if the contents of the file have been changed), call "parse" again.

       is_dhtiny
           Returns true if the contents of the rules file seem to use the so  called  <u>tiny</u>  variant  offered  by
           <b><a href="../man1/dh.1.html">dh</a></b>(1). Tiny rules are detected by the presence of the following two lines:

               %:
                       dh $@

           (any options on the "dh" command line ignored).

       is_quiltified
           Returns  true  if  the  contents  of the rules file indicate that <b><a href="../man1/quilt.1.html">quilt</a></b>(1) is used. Various styles of
           "quilt" integration are detected:

           dh --with=quilt
           <u>quilt.make</u> with "$(QUILT_STAMPFN)" and "unpatch" targets.
       add_quilt
           Integrates  <b><a href="../man1/quilt.1.html">quilt</a></b>(1)  into  the  rules.  For  <b><a href="../man1/dh.1.html">dh</a></b>(1)  <u>tiny</u>  rules  (as  determined   by   "is_dhtiny")
           "--with=quilt"  is  added  to  every  "dh"  invocation.  For  the  more traditional variant, quilt is
           integrated via <u>quilt.make</u> and its "$(QUILT_STAMPFN)" and "unpatch" targets.

       drop_quilt
           Removes  <b><a href="../man1/quilt.1.html">quilt</a></b>(1)  integration.  Both  <b><a href="../man1/dh.1.html">dh</a></b>(1)  <u>tiny</u>  style   ("dh   --with=quilt")   and   traditional
           ("$(QUILT_STAMPFN)" and "unpatch") approaches are detected and removed.

       read [<u>file</u> <u>name</u>]
           Replaces  the  current rules content with the content of <u>filename</u>. If <u>filename</u> is not given, uses the
           value of the "filename" member.

       write [<u>filename</u>]
           Writes the in-memory contents <u>filename</u>. If not given, uses the value of the "filename" member.

           If "lines" points to an empty array, the file is removed.

</pre><h4><b>COPYRIGHT</b> <b>&amp;</b> <b>LICENSE</b></h4><pre>
       Copyright (C) 2009, 2010 Damyan Ivanov &lt;<a href="mailto:dmn@debian.org">dmn@debian.org</a>&gt;
       Copyright (C) 2014 gregor herrmann &lt;<a href="mailto:gregoa@debian.org">gregoa@debian.org</a>&gt;

       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General Public License version 2 as published by the Free Software Foundation.

       This  program  is  distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General  Public
       License for more details.

       You  should have received a copy of the GNU General Public License along with this program; if not, write
       to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.

perl v5.40.1                                       2025-02-28                                 <u>Debian::<a href="../man3pm/Rules.3pm.html">Rules</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>