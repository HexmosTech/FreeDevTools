<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>odbx_query - Send a statement to the database server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libopendbx1-dev">libopendbx1-dev_1.4.6-18build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       odbx_query - Send a statement to the database server

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;opendbx/api.h&gt;

       int <b>odbx_query</b> (odbx_t* <u>handle</u>, const char* <u>stmt</u>, unsigned long <u>length</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Sends  the  given statement to the database server associated to handle by <b>odbx_init</b>() for execution. The
       statement can contain non-displayable characters as arguments in conditions but they have to  be  escaped
       via <b>odbx_escape</b>() before adding them to the statement. Even more, every argument whose source is not con‐
       trolled by the programmer must be escaped first to avoid SQL injection attacks to avoid serious harm!

       After  invoking  <b>odbx_query</b>(),  one or more result sets will be sent back by the server and are available
       via <b>odbx_result</b>(). Before these sets aren't processed by calling <b>odbx_row_fetch</b>(), no other  queries  can
       be sent to the database server. Otherwise, <b>odbx_query</b>() will return a backend error from the native data‐
       base library.

       The first parameter handle is the connection object created and returned by <b>odbx_init</b>() which becomes in‐
       valid as soon as it was supplied to <b>odbx_finish</b>().

       The statement stored in the stmt parameter must be a valid statement understood by the receiving database
       server  and  it  should  be  terminated  by a \0 character. Some backends support multiple statements per
       query, which can be tested by calling <b>odbx_get_option</b>().

       The length parameter must contain the length of the statement in bytes without the terminating \0 charac‐
       ter. If variable sized character sets like UTF-8 are used, the same rule applies. This  function  doesn't
       support  the wide character type (wchar_t) which uses two or four bytes per character. If you feed 0 (ze‐
       ro) as length parameter to the function, it will calculate the size of the statement on its own.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>odbx_query</b>() returns ODBX_ERR_SUCCESS, or an error code whose value is less than zero if one of the oper‐
       ations couldn't be completed successfully. Possible error codes are listed in the error section and  they
       can be feed to <b>odbx_error</b>() and <b>odbx_error_type</b>() to get further details.

</pre><h4><b>ERRORS</b></h4><pre>
       -ODBX_ERR_BACKEND
              The  native database library returned an error because it wasn't able to handle the statement cor‐
              rectly

       -ODBX_ERR_PARAM
              Either handle or stmt are NULL or handle is invalid

       -ODBX_ERR_NOMEM
              Allocating the required memory for the statement failed

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>odbx_error</b>(), <b>odbx_error_type</b>(), <b>odbx_escape</b>(), <b>odbx_result</b>()

                                                 8 January 2025                                    <u><a href="../man3/odbx_query.3.html">odbx_query</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>