<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zt_claim — structure capturing unevaluated assertion</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libzt-doc">libzt-doc_0.3.1-4build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zt_claim — structure capturing unevaluated assertion

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;zt.h&gt;</b>

       <u>typedef</u> <u>struct</u> <u>zt_claim</u> <u>{</u> <u>...</u> <u>}</u> <u>zt_claim;</u>

       <b>Type</b>                              <b>Member</b>            <b>Description</b>
       <u>struct</u> <u>zt_verifier</u> <u>*(*)(void)</u>     make_verifier     Verifier factory
       <u>zt_value[3]</u>                       args              verifier arguments
       <u>zt_location</u>                       location          origin of the claim

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>zt_claim</b>  binds  a  verifier factory function with concrete arguments. This allows the entire claim to be
       passed around and evaluated on demand. In case of failure the location where the claim was  made  can  be
       referenced for construction of error messages.

</pre><h4><b>IMPLEMENTATION</b> <b>NOTES</b></h4><pre>
       The  verification  system  is  comprised  of  the  following chain of cooperating elements. For example a
       trivial integer relationship assertion behaves as  follows.   <b>ZT_CMP_INT</b>(),  or  another  similar  macro,
       invokes  <b>zt_cmp_int</b>(),  providing  source code location as <b>zt_location</b>, and packaging specific types into
       common variant type <b>zt_value</b>.  The result is a <b>zt_claim</b> which is then passed to <b>zt_assert</b>() or <b>zt_check</b>()
       for evaluation.

       The roles of all the essential types and functions is summarized below.

       <b>•</b>   <b>zt_value</b> captures values expressed in a test case

       <b>•</b>   <b>zt_claim</b> transports up to three values and an opaque verifier

       <b>•</b>   <b>zt_check</b>() and <b>zt_assert</b>() validate the claim by instantiating <b>zt_verifier.</b>

       <b>•</b>   <b>zt_verifier</b> (private) wraps a verification function, including the arity and expected  kind  of  each
           argument.

       <b>•</b>   <b>zt_arg_info</b>  (private)  pairs  expected  argument  kind  with a customized error message used on kind
           mismatch.

       <b>•</b>   <b>zt_verify_claim</b>() (private) ensures verifier function arity and argument kind matches what is encoded
           in the claim and invokes the verifier function.

       <b>•</b>   The specific verifier function inspects the argument and performs  the  actual  verification  of  the
           desired property that the test is measuring.

       <b>•</b>   <b>zt_test</b>  (private)  keeps  track  of  test  outcome, provides a stream for writing error messages and
           assists in performing non-local exit.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/zt_assert.3.html">zt_assert</a></u>(3), <u><a href="../man3/zt_check.3.html">zt_check</a></u>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       <b>zt_claim</b> first appeared in libzt 0.1

</pre><h4><b>BUGS</b></h4><pre>
       Part of the API is private which prevents third party verification functions from being written. This  is
       done on purpose to to allow for some more experimentation before stabilizing the interface.

</pre><h4><b>AUTHORS</b></h4><pre>
       Zygmunt Krynicki &lt;<u><a href="mailto:me@zygoon.pl">me@zygoon.pl</a></u>&gt;

libzt 0.3.1                                     January 12, 2020                                     <u><a href="../man3/zt_claim.3.html">zt_claim</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>