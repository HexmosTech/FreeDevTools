<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protocol::WebSocket::Frame - WebSocket Frame</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libprotocol-websocket-perl">libprotocol-websocket-perl_0.26-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Protocol::WebSocket::Frame - WebSocket Frame

</pre><h4><b>SYNOPSIS</b></h4><pre>
           # Create frame
           my $frame = Protocol::WebSocket::Frame-&gt;new('123');
           $frame-&gt;to_bytes;

           # Parse frames
           my $frame = Protocol::WebSocket::Frame-&gt;new;
           $frame-&gt;append(...);
           $f-&gt;next; # get next message
           $f-&gt;next; # get another next message

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Construct or parse a WebSocket frame.

</pre><h4><b>RANDOM</b> <b>MASK</b> <b>GENERATION</b></h4><pre>
       By default built-in "rand" is used, this is not secure, so when Math::Random::Secure is installed it is
       used instead.

</pre><h4><b>METHODS</b></h4><pre>
   <b>"new"</b>
           Protocol::WebSocket::Frame-&gt;new('data');   # same as (buffer =&gt; 'data')
           Protocol::WebSocket::Frame-&gt;new(buffer =&gt; 'data', type =&gt; 'close');

       Create a new Protocol::WebSocket::Frame instance. Automatically detect if the passed data is a Perl
       string (UTF-8 flag) or bytes.

       When called with more than one arguments, it takes the following named arguments (all of them are
       optional).

       "buffer" =&gt; STR (default: "")
           The payload of the frame.

       "type" =&gt; TYPE_STR (default: "text")
           The type of the frame. Accepted values are:

               continuation
               text
               binary
               ping
               pong
               close

       "opcode" =&gt; INT (default: 1)
           The opcode of the frame. If "type" field is set to a valid string, this field is ignored.

       "fin" =&gt; BOOL (default: 1)
           "fin" flag of the frame. "fin" flag must be 1 in the ending frame of fragments.

       "masked" =&gt; BOOL (default: 0)
           If set to true, the frame will be masked.

       "version" =&gt; VERSION_STR (default: 'draft-ietf-hybi-17')
           WebSocket protocol version string. See Protocol::WebSocket for valid version strings.

   <b>"is_continuation"</b>
       Check if frame is of continuation type.

   <b>"is_text"</b>
       Check if frame is of text type.

   <b>"is_binary"</b>
       Check if frame is of binary type.

   <b>"is_ping"</b>
       Check if frame is a ping request.

   <b>"is_pong"</b>
       Check if frame is a pong response.

   <b>"is_close"</b>
       Check if frame is of close type.

   <b>"opcode"</b>
           $opcode = $frame-&gt;opcode;
           $frame-&gt;<a href="../man8/opcode.8.html">opcode</a>(8);

       Get/set opcode of the frame.

   <b>"masked"</b>
           $masked = $frame-&gt;masked;
           $frame-&gt;<a href="../man1/masked.1.html">masked</a>(1);

       Get/set masking of the frame.

   <b>"append"</b>
           $frame-&gt;append($chunk);

       Append a frame chunk.

       Beware that this method is <b>destructive</b>.  It makes $chunk empty unless $chunk is read-only.

   <b>"next"</b>
           $frame-&gt;append(...);

           $frame-&gt;next; # next message

       Return the next message as a Perl string (UTF-8 decoded).

   <b>"next_bytes"</b>
       Return the next message as is.

   <b>"to_bytes"</b>
       Construct a WebSocket message.

   <b>"max_payload_size"</b>
       The maximum size of the payload. You may set this to 0 or "undef" to disable checking the payload size.

perl v5.34.0                                       2022-07-04                    <u>Protocol::WebSocket::<a href="../man3pm/Frame.3pm.html">Frame</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>