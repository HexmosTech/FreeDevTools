<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>baseobj - Base object</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/nfstest">nfstest_3.2-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       baseobj - Base object

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Base  class  so  objects  will  inherit the methods providing the string representation of the object and
       methods to change the verbosity of such string representation. It also includes a simple  debug  printing
       and  logging  mechanism  including  methods  to change the debug verbosity level and methods to add debug
       levels.

</pre><h4><b>CLASSES</b></h4><pre>
   <b>class</b> <b>BaseObj(builtins.object)</b>
       Base class so objects will inherit the methods providing the string
       representation of the object and a simple debug printing and logging
       mechanism.

       Usage:
           from baseobj import BaseObj

           # Named arguments
           x = BaseObj(a=1, b=2)

           # Dictionary argument
           x = BaseObj({'a':1, 'b':2})

           # Tuple arguments: first for keys and second for the values
           x = BaseObj(['a', 'b'], [1, 2])

           # All of the above will create an object having two attributes:
           x.a = 1 and x.b = 2

           # Add attribute name, this will be the only attribute to be displayed
           x.set_attrlist("a")

           # Add list of attribute names to be displayed in that order
           x.set_attrlist(["a", "b"])

           # Set attribute with ordered display rights
           x.set_attr("a", 1)
           # This is the same as
           setattr(x, "a", 1) or x.a = 1
           x.set_attrlist("a")

           # Set attribute with switch duplicate
           # The following creates an extra attribute "switch" with
           # the same value as attribute "a":
           #   x.a == x.switch
           #   x.a is x.switch
           x.set_attr("a", 1, switch=True)

           # Make the current object flat by allowing all the attributes
           # for the new attribute to be accessed directly by the current
           # object so the following is True:
           #   x.d == x.c.d
           x.set_attr("c", BaseObj(d=11, e=22), switch=True)

           # Set the comparison attribute so x == x.a is True
           x.set_eqattr("a")

           # Set verbose level of object's string representation
           x.debug_repr(level)

           # Set string format for verbose level 1
           x.set_strfmt(1, "arg1:{0}")
           # In the above example the first positional argument is "a"
           # so the str(x) gives "arg1:1"

           # Set attribute shared by all instances
           # If a global or shared attribute is set on one instance,
           # all other instances will have access to it:
           #   y = BaseObj(d=2, e=3)
           # then the following is true
           #   x.g == y.g
           #   x.g is y.g
           x.set_global("g", 5)

           # Set level mask to display all debug messages matching mask
           <a href="../man0xFF/x.debug_level.0xFF.html">x.debug_level</a>(0xFF)

           # Add a debug mapping for mask 0x100
           x.debug_map(0x100, 'opts', "OPTS: ")

           # Set global indentation to 4 spaces for dprint
           <a href="../man4/x.dindent.4.html">x.dindent</a>(4)

           # Set global indentation to 4 spaces for displaying objects
           <a href="../man4/x.sindent.4.html">x.sindent</a>(4)

           # Set global truncation to 64 for displaying string objects
           <a href="../man64/x.strsize.64.html">x.strsize</a>(64)

           # Do not display timestamp for dprint messages
           x.tstamp(enable=False)

           # Change timestamp format to include the date
           x.tstamp(fmt="{0:date:%Y-%m-%d %H:%M:%S.%q} ")

           # Get timestamp if enabled, else return an empty string
           out = x.timestamp()

           # Open log file
           x.open_log(logfile)

           # Close log file
           x.close_log()

           # Write data to log file
           x.write_log(data)

           # Format the given arguments
           out = x.format("{0:x} - {1}", 1, "hello")

           # Format the object attributes set by set_attrlist()
           out = x.format("{0:x} - {1}")

           # Print debug message only if OPTS bitmap matches the current
           # debug level mask
           x.dprint("OPTS", "This is an OPTS debug message")

       <b>Methods</b> <b>defined</b> <b>here:</b>
       ---------------------

       <b>__eq__(self,</b> <b>other)</b>
       Comparison method: this object is treated like the attribute
       defined by set_eqattr()

       <b>__getattr__(self,</b> <b>attr)</b>
       Return the attribute value for which the lookup has not found
       the attribute in the usual places. It checks the internal
       dictionary for any attribute references, it checks if this
       is a flat object and returns the appropriate attribute.
       And finally, if any of the attributes listed in _attrlist
       does not exist it returns None as if they exist but not
       defined

       <b>__init__(self,</b> <b>*kwts,</b> <b>**kwds)</b>
       Constructor

       Initialize object's private data according to the arguments given.
       Arguments can be given as positional, named arguments or a
       combination of both.

       <b>__ne__(self,</b> <b>other)</b>
       Comparison method: this object is treated like the attribute
       defined by set_eqattr()

       <b>__repr__(self)</b>
       String representation of object

       The representation depends on the verbose level set by debug_repr().
       If set to 0 the generic object representation is returned, else
       the representation of the object includes all object attributes
       and their values with proper indentation.

       <b>__str__(self)</b>
       Informal string representation of object

       The representation depends on the verbose level set by debug_repr().
       If set to 0 the generic object representation is returned, else
       the representation of the object includes all object attributes
       and their values.

       <b>close_log(self)</b>
       Close log file.

       <b>debug_level(self,</b> <b>level=0)</b>
       Set debug level mask.

              <b>level:</b> Level to set. This could be a number or a string expression
                     of names defined by debug_map()

              Examples:
                  # Set level
                  <a href="../man0xFF/x.debug_level.0xFF.html">x.debug_level</a>(0xFF)

                  # Set level using expression
                  x.debug_level('all')
                  x.debug_level('debug ^ 1')

       <b>dprint(self,</b> <b>level,</b> <b>msg,</b> <b>indent=0)</b>
       Print debug message if level is allowed by the verbose level
       given in debug_level().

       <b>format(self,</b> <b>fmt,</b> <b>*kwts,</b> <b>**kwds)</b>
       Format the arguments and return the string using the format given.
       If no arguments are given either positional or named then object
       attributes set by set_attrlist() are used as positional arguments
       and all object attributes are used as named arguments

              <b>fmt:</b>   String format to use for the arguments, where {0}, {1}, etc.
                     are used for positional arguments and {name1}, {name2}, etc.
                     are used for named arguments given after fmt.

       <b>open_log(self,</b> <b>logfile)</b>
       Open log file.

       <b>set_attr(self,</b> <b>name,</b> <b>value,</b> <b>switch=False)</b>
       Add name/value as an object attribute and add the name to the
       list of attributes to display

              <b>name:</b>  Attribute name

              <b>value:</b> Attribute value

       <b>set_attrlist(self,</b> <b>attr)</b>
       Add list of attribute names in object to display by str() or repr()

              <b>attr:</b>  Name or list of names to add to the list of attribute names
                     to display

       <b>set_eqattr(self,</b> <b>attr)</b>
       Set the comparison attribute

              <b>attr:</b>  Attribute to use for object comparison

              Examples:
                  x = BaseObj(a=1, b=2)
                  x.set_eqattr("a")
                  x == 1 will return True, the same as x.a == 1

       <b>set_global(self,</b> <b>name,</b> <b>value)</b>
       Set global variable.

       <b>set_strfmt(self,</b> <b>level,</b> <b>format)</b>
       Save format for given display level

              <b>level:</b> Display level given as a first argument

              <b>format:</b>
                     String format for given display level, given as a second argument

       <b>Static</b> <b>methods</b> <b>defined</b> <b>here:</b>
       ----------------------------

       <b>debug_map(bitmap,</b> <b>name='',</b> <b>disp='')</b>
       Add a debug mapping.

       Generic debug levels map
         &lt;bitmap&gt;  &lt;name&gt;  &lt;disp prefix&gt;
          0x000    'none'
          0x001    'info'  'INFO: ' # Display info messages only
          0x0FF    'debug' 'DBG:  ' # Display info and all debug messages (0x02-0x80)
         &gt;0x100    user defined verbose levels

       <b>debug_repr(level=None)</b>
       Return or set verbose level of object's string representation.
       When setting the verbose level, return the verbose level before
       setting it.

              <b>level:</b> Level of verbosity to set

              Examples:
                  # Set verbose level to its minimal object representation
                  <a href="../man0/x.debug_repr.0.html">x.debug_repr</a>(0)

                  # Object representation is a bit more verbose
                  <a href="../man1/x.debug_repr.1.html">x.debug_repr</a>(1)

                  # Object representation is a lot more verbose
                  <a href="../man2/x.debug_repr.2.html">x.debug_repr</a>(2)

       <b>dindent(indent=None)</b>
       Set global dprint indentation.

       <b>dprint_count()</b>
       Return the number of dprint messages actually displayed.

       <b>flush_log()</b>
       Flush data to log file.

       <b>sindent(indent=None)</b>
       Set global object indentation.

       <b>strsize(size)</b>
       Set global string truncation.

       <b>timestamp(fmt=None)</b>
       Return the timestamp if it is enabled.

              <b>fmt:</b>   Timestamp format, default is given by the format
                     set by tstamp()

       <b>tstamp(enable=None,</b> <b>fmt=None)</b>
       Enable/disable timestamps on dprint messages and/or
       set the default format for timestamps

              <b>enable:</b>
                     Boolean to enable/disable timestamps

              <b>fmt:</b>   Set timestamp format

       <b>write_log(data)</b>
       Write data to log file.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/formatstr.3.html">formatstr</a>(3)</b>

</pre><h4><b>BUGS</b></h4><pre>
       No known bugs.

</pre><h4><b>AUTHOR</b></h4><pre>
       Jorge Mora (<a href="mailto:mora@netapp.com">mora@netapp.com</a>)

NFStest 3.2                                       21 March 2023                                       <u><a href="../man3/BASEOBJ.3.html">BASEOBJ</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>