<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RT::Client::REST::Object - base class for RT objects</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/librt-client-rest-perl">librt-client-rest-perl_0.72-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       RT::Client::REST::Object - base class for RT objects

</pre><h4><b>VERSION</b></h4><pre>
       version 0.72

</pre><h4><b>SYNOPSIS</b></h4><pre>
         # Create a new type
         package RT::Client::REST::MyType;

         use parent qw(RT::Client::REST::Object);

         sub _attributes {{
           myattribute =&gt; {
             validation =&gt; {
               type =&gt; SCALAR,
             },
           },
         }}

         sub rt_type { "mytype" }

         1;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The RT::Client::REST::Object module is a superclass providing a whole bunch of class and object methods
       in order to streamline the development of RT's REST client interface.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       Attributes are defined by method "_attributes" that should be defined in your class.  This method returns
       a reference to a hash whose keys are the attributes.  The values of the hash are attribute settings,
       which are as follows:

       list
         If set to true, this is a list attribute.  See "LIST ATTRIBUTE PROPERTIES" below.

       validation
         A  hash  reference.   This  is  passed  to  validation routines when associated mutator is called.  See
         Params::Validate for reference.

       rest_name
         This specifies this attribute's REST name.  For example, attribute "final_priority" corresponds  to  RT
         REST's  "FinalPriority".   This  option  may  be  omitted  if  the  two  only  differ  in  first letter
         capitalization.

       form2value
         Convert form value (one that comes from the server) into attribute-digestible format.

       value2form
         Convert value into REST form format.

       Example:

         sub _attributes {{
           id  =&gt; {
               validation  =&gt; {
                   type    =&gt; SCALAR,
                   regex   =&gt; qr/^\d+$/,
               },
               form2value  =&gt; sub {
                   shift =~ m~^ticket/(\d+)$~i;
                   return $1;
               },
               value2form  =&gt; sub {
                   return 'ticket/' . shift;
               },
           },
           admin_cc        =&gt; {
               validation  =&gt; {
                   type    =&gt; ARRAYREF,
               },
               list        =&gt; 1,
               rest_name   =&gt; 'AdminCc',
           },
         }}

</pre><h4><b>LIST</b> <b>ATTRIBUTE</b> <b>PROPERTIES</b></h4><pre>
       List attributes have the following properties:

       • When called as accessors, return a list of items

       • When called as mutators, only accept an array reference

       • Convenience methods "add_attr" and "delete_attr" are available.  For example:

           # Get the list
           my @requestors = $ticket-&gt;requestors;

           # Replace with a new list
           $ticket-&gt;requestors( [qw(dude@localhost)] );

           # Add some random guys to the current list
           $ticket-&gt;add_requestors('randomguy@localhost', 'evil@local');

</pre><h4><b>SPECIAL</b> <b>ATTRIBUTES</b></h4><pre>
       <b>id</b> and <b>parent_id</b> are special attributes.  They are used by various DB-related methods and are  especially
       relied upon by:

       autostore
       autosync
       autoget

</pre><h4><b>METHODS</b></h4><pre>
       new
         Constructor

       _generate_methods
         This  class method generates accessors and mutators based on <b>_attributes</b> method which your class should
         provide.  For items that are lists, 'add_' and  'delete_'  methods  are  created.   For  instance,  the
         following  two attributes specified in <b>_attributes</b> will generate methods 'creator', 'cc', 'add_cc', and
         'delete_cc':

           creator =&gt; {
             validation =&gt; { type =&gt; SCALAR },
           },
           cc =&gt; {
             list =&gt; 1,
             validation =&gt; { type =&gt; ARRAYREF },
           },

       _mark_dirty($attrname)
         Mark an attribute as dirty.

       _dirty
         Return the list of dirty attributes.

       _mark_dirty_cf($attrname)
         Mark an custom flag as dirty.

       _dirty_cf
         Return the list of dirty custom flags.

       to_form($all)
         Convert the object to 'form' (used by REST protocol). This is done based on <b>_attributes</b> method. If $all
         is true, create a form from all of the object's attributes and custom flags, otherwise use  only  dirty
         (see <b>_dirty</b> method) attributes and custom flags. Defaults to the latter.

       from_form
         Set object's attributes from form received from RT server.

       param($name, $value)
         Set an arbitrary parameter.

       cf([$name, [$value]])
         Given  no  arguments,  returns the list of custom field names.  With one argument, returns the value of
         custom field $name.  With two arguments, sets custom field $name to $value.  Given  a  reference  to  a
         hash,  uses  it as a list of custom fields and their values, returning the new list of all custom field
         names.

       rt
         Get or set the 'rt' object, which should be of type RT::Client::REST.

</pre><h4><b>DB</b> <b>METHODS</b></h4><pre>
       The following are methods that have to do with reading, creating, updating, and searching objects.

       count
         Takes the same arguments as "search()" but returns the actual count of the  found  items.   Throws  the
         same exceptions.

       retrieve
         Retrieve object's attributes.  Note that 'id' attribute must be set for this to work.

       search (%opts)
         This    method    is    used    for    searching    objects.     It   returns   an   object   of   type
         RT::Client::REST::SearchResult, which can then be used to process results.  %opts is  a  list  of  key-
         value pairs, which are as follows:

         limits
           This is a reference to array containing hash references with limits to apply to the search (think SQL
           limits).

         orderby
           Specifies attribute to sort the result by (in ascending order).

         reverseorder
           If set to a true value, sorts by attribute specified by <b>orderby</b> in descending order.

         If  the client cannot construct the query from the specified arguments, or if the server cannot make it
         out, "RT::Client::REST::Object::InvalidSearchParametersException" is thrown.

       store
         Store the object.  If 'id' is set, this is an update; otherwise, a new object is created and  the  'id'
         attribute is set.  Note that only changed (dirty) attributes are sent to the server.

</pre><h4><b>CLASS</b> <b>METHODS</b></h4><pre>
       use_single_rt
         This  method  takes  a  single  argument -- RT::Client::REST object and makes this class use it for all
         instantiations.  For example:

           my $rt = RT::Client::REST-&gt;new(%args);

           # Make all tickets use this RT:
           RT::Client::REST::Ticket-&gt;use_single_rt($rt);

           # Now make all objects use it:
           RT::Client::REST::Object-&gt;use_single_rt($rt);

       use_autostore
         Turn <u>autostoring</u> on and off.  <u>Autostoring</u> means that you do not have to explicitly call "store()" on an
         object - it will be called when the object goes out of scope.

           # Autostore tickets:
           RT::Client::REST::Ticket-&gt;<a href="../man1/use_autostore.1.html">use_autostore</a>(1);
           my $ticket = RT::Client::REST::Ticket-&gt;new(%opts)-&gt;retrieve;
           $ticket-&gt;<a href="../man10/priority.10.html">priority</a>(10);
           # Don't have to call store().

       use_autoget
         Turn <u>autoget</u> feature on or off (off by default). When set to on,  "retrieve()"  will  be  automatically
         called  from  the  constructor  if  it  is  called  with that object's special attributes (see "SPECIAL
         ATTRIBUTES" above).

           RT::Client::Ticket-&gt;<a href="../man1/use_autoget.1.html">use_autoget</a>(1);
           my $ticket = RT::Client::Ticket-&gt;new(id =&gt; 1);
           # Now all attributes are available:
           my $subject = $ticket-&gt;subject;

       use_autosync
         Turn <u>autosync</u> feature on or off (off by default).  When  set,  every  time  an  attribute  is  changed,
         "store()" method is invoked.  This may be pretty expensive.

       be_transparent
         This  turns  on  <b>autosync</b>  and <b>autoget</b>.  Transparency is a neat idea, but it may be expensive and slow.
         Depending on your circumstances, you may want a finer control  of  your  objects.   Transparency  makes
         "retrieve()" and "store()" calls invisible:

           RT::Client::REST::Ticket-&gt;be_transparent($rt);

           my $ticket = RT::Client::REST::Ticket-&gt;new(id =&gt; $id); # retrieved
           $ticket-&gt;add_cc('<a href="mailto:you@localhost.localdomain">you@localhost.localdomain</a>'); # stored
           $ticket-&gt;status('stalled'); # stored

           # etc.

         Do not forget to pass RT::Client::REST object to this method.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       RT::Client::REST::Ticket, RT::Client::REST::SearchResult.

</pre><h4><b>AUTHOR</b></h4><pre>
       Dean Hamstead &lt;<a href="mailto:dean@fragfest.com.au">dean@fragfest.com.au</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2023, 2020 by Dmitri Tikhonov.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.36.0                                       2023-12-21                      <u>RT::Client::REST::<a href="../man3pm/Object.3pm.html">Object</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>