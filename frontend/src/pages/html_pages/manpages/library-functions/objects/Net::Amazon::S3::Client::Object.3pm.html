<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::Amazon::S3::Client::Object - An easy-to-use Amazon S3 client object</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-amazon-s3-perl">libnet-amazon-s3-perl_0.991-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::Amazon::S3::Client::Object - An easy-to-use Amazon S3 client object

</pre><h4><b>VERSION</b></h4><pre>
       version 0.991

</pre><h4><b>SYNOPSIS</b></h4><pre>
         # show the key
         print $object-&gt;key . "\n";

         # show the etag of an existing object (if fetched by listing
         # a bucket)
         print $object-&gt;etag . "\n";

         # show the size of an existing object (if fetched by listing
         # a bucket)
         print $object-&gt;size . "\n";

         # to create a new object
         my $object = $bucket-&gt;object( key =&gt; 'this is the key' );
         $object-&gt;put('this is the value');

         # to get the value of an object
         my $value = $object-&gt;get;

         # to get the metadata of an object
         my %metadata = %{$object-&gt;head};

         # to see if an object exists
         if ($object-&gt;exists) { ... }

         # to delete an object
         $object-&gt;delete;

         # to create a new object which is publically-accessible with a
         # content-type of text/plain which expires on 2010-01-02
         my $object = $bucket-&gt;object(
           key          =&gt; 'this is the public key',
           acl          =&gt; Net::Amazon::S3::ACL::CANNED-&gt;PUBLIC_READ,
           content_type =&gt; 'text/plain',
           expires      =&gt; '2010-01-02',
         );
         $object-&gt;put('this is the public value');

         # return the URI of a publically-accessible object
         my $uri = $object-&gt;uri;

         # to view if an object is available for downloading
         # Basically, the storage class isn't GLACIER or the object was
         # fully restored
         $object-&gt;available;

         # to restore an object on a GLACIER storage class
         $object-&gt;restore(
           days =&gt; 1,
           tier =&gt; 'Standard',
         );

         # to store a new object with server-side encryption enabled
         my $object = $bucket-&gt;object(
           key        =&gt; 'my secret',
           encryption =&gt; 'AES256',
         );
         $object-&gt;put('this data will be stored using encryption.');

         # upload a file
         my $object = $bucket-&gt;object(
           key          =&gt; 'images/my_hat.jpg',
           content_type =&gt; 'image/jpeg',
         );
         $object-&gt;put_filename('hat.jpg');

         # upload a file if you already know its md5_hex and size
         my $object = $bucket-&gt;object(
           key          =&gt; 'images/my_hat.jpg',
           content_type =&gt; 'image/jpeg',
           etag         =&gt; $md5_hex,
           size         =&gt; $size,
         );
         $object-&gt;put_filename('hat.jpg');

         # download the value of the object into a file
         my $object = $bucket-&gt;object( key =&gt; 'images/my_hat.jpg' );
         $object-&gt;get_filename('hat_backup.jpg');

         # use query string authentication for object fetch
         my $object = $bucket-&gt;object(
           key          =&gt; 'images/my_hat.jpg',
           expires      =&gt; '2009-03-01',
         );
         my $uri = $object-&gt;query_string_authentication_uri();

               # use query string authentication for object upload
               my $object = $bucket-&gt;object(
                       key          =&gt; 'images/my_hat.jpg',
                       expires      =&gt; '2009-03-01',
               );
               my $uri = $object-&gt;query_string_authentication_uri_for_method('PUT');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module represents objects in buckets.

</pre><h4><b>METHODS</b></h4><pre>
   <b>range</b>
               my $value = $object-&gt;range ('bytes=1024-10240')-&gt;get;

       Provides simple interface to ranged download. See also Net::Amazon::S3::Client::Object::Range.

   <b>etag</b>
         # show the etag of an existing object (if fetched by listing
         # a bucket)
         print $object-&gt;etag . "\n";

   <b>delete</b>
         # to delete an object
         $object-&gt;delete;

   <b>exists</b>
         # to see if an object exists
         if ($object-&gt;exists) { ... }

       Method doesn't report error when bucket or key doesn't exist.

   <b>get</b>
         # to get the vaue of an object
         my $value = $object-&gt;get;

   <b>head</b>
         # to get the metadata of an object
         my %metadata = %{$object-&gt;head};

       Unlike "exists" this method does report error.

   <b>get_decoded</b>
         # get the value of an object, and decode any Content-Encoding and/or
         # charset; see decoded_content in HTTP::Response
         my $value = $object-&gt;get_decoded;

   <b>get_filename</b>
         # download the value of the object into a file
         my $object = $bucket-&gt;object( key =&gt; 'images/my_hat.jpg' );
         $object-&gt;get_filename('hat_backup.jpg');

   <b>last_modified,</b> <b>last_modified_raw</b>
         # get the last_modified data as DateTime (slow)
         my $dt = $obj-&gt;last_modified;
         # or raw string in form '2015-05-15T10:12:40.000Z' (fast)
         # use this form if you are working with thousands of objects and
         # do not actually need an expensive DateTime for each of them
         my $raw = $obj-&gt;last_modified_raw;

   <b>key</b>
         # show the key
         print $object-&gt;key . "\n";

   <b>available</b>
         # to view if an object is available for downloading
         # Basically, the storage class isn't GLACIER or the object was
         # fully restored
         $object-&gt;available;

   <b>restore</b>
         # to restore an object on a GLACIER storage class
         $object-&gt;restore(
           days =&gt; 1,
           tier =&gt; 'Standard',
         );

   <b>put</b>
         # to create a new object
         my $object = $bucket-&gt;object( key =&gt; 'this is the key' );
         $object-&gt;put('this is the value');

         # to create a new object which is publically-accessible with a
         # content-type of text/plain
         my $object = $bucket-&gt;object(
           key          =&gt; 'this is the public key',
           acl          =&gt; 'public-read',
           content_type =&gt; 'text/plain',
         );
         $object-&gt;put('this is the public value');

       For "acl" refer Net::Amazon::S3::ACL.

       You may also set Content-Encoding using "content_encoding", and Content-Disposition using
       "content_disposition".

       You may specify the S3 storage class by setting "storage_class" to either "standard",
       "reduced_redundancy", "standard_ia", "onezone_ia", "intelligent_tiering", "glacier", or "deep_archive";
       the default is "standard".

       You may set website-redirect-location object metadata by setting "website_redirect_location" to either
       another object name in the same bucket, or to an external URL.

   <b>put_filename</b>
         # upload a file
         my $object = $bucket-&gt;object(
           key          =&gt; 'images/my_hat.jpg',
           content_type =&gt; 'image/jpeg',
         );
         $object-&gt;put_filename('hat.jpg');

         # upload a file if you already know its md5_hex and size
         my $object = $bucket-&gt;object(
           key          =&gt; 'images/my_hat.jpg',
           content_type =&gt; 'image/jpeg',
           etag         =&gt; $md5_hex,
           size         =&gt; $size,
         );
         $object-&gt;put_filename('hat.jpg');

       You may also set Content-Encoding using "content_encoding", and Content-Disposition using
       "content_disposition".

       You may specify the S3 storage class by setting "storage_class" to either "standard",
       "reduced_redundancy", "standard_ia", "onezone_ia", "intelligent_tiering", "glacier", or "deep_archive";
       the default is "standard".

       You may set website-redirect-location object metadata by setting "website_redirect_location" to either
       another object name in the same bucket, or to an external URL.

       User metadata may be set by providing a non-empty hashref as "user_metadata".

   <b>query_string_authentication_uri</b>
         # use query string authentication, forcing download with custom filename
         my $object = $bucket-&gt;object(
           key          =&gt; 'images/my_hat.jpg',
           expires      =&gt; '2009-03-01',
         );
         my $uri = $object-&gt;query_string_authentication_uri({
           'response-content-disposition' =&gt; 'attachment; filename=abc.doc',
         });

   <b>query_string_authentication_uri_for_method</b>
               my $uri = $object-&gt;query_string_authentication_uri_for_method ('PUT');

       Similar to "query_string_authentication_uri" but creates presigned uri for specified HTTP method
       (Signature V4 uses also HTTP method).

       Methods providee authenticated uri only for direct object operations.

       See &lt;https://docs.aws.amazon.com/AmazonS3/latest/dev/PresignedUrlUploadObject.html&gt;

   <b>size</b>
         # show the size of an existing object (if fetched by listing
         # a bucket)
         print $object-&gt;size . "\n";

   <b>uri</b>
         # return the URI of a publically-accessible object
         my $uri = $object-&gt;uri;

   <b>initiate_multipart_upload</b>
               #initiate a new multipart upload for this object
               my $object = $bucket-&gt;object(
                       key         =&gt; 'massive_video.avi',
                       acl         =&gt; ...,
               );
               my $upload_id = $object-&gt;initiate_multipart_upload;

       For description of "acl" refer "Net::Amazon::S3::ACL".

   <b>put_part</b>
         #add a part to a multipart upload
         my $put_part_response = $object-&gt;put_part(
            upload_id      =&gt; $upload_id,
            part_number    =&gt; 1,
            value          =&gt; $chunk_content,
         );
         my $part_etag = $put_part_response-&gt;header('ETag')

         Returns an L&lt;HTTP::Response&gt; object. It is necessary to keep the ETags for
         each part, as these are required to complete the upload.

   <b>complete_multipart_upload</b>
         #complete a multipart upload
         $object-&gt;complete_multipart_upload(
           upload_id       =&gt; $upload_id,
           etags           =&gt; [$etag_1, $etag_2],
           part_numbers    =&gt; [$part_number_1, $part_number2],
         );

         The etag and part_numbers parameters are ordered lists specifying the part
         numbers and ETags for each individual part of the multipart upload.

   <b>user_metadata</b>
         my $object = $bucket-&gt;object(key =&gt; $key);
         my $content = $object-&gt;get; # or use $object-&gt;get_filename($filename)

         # return the user metadata downloaded, as a hashref
         my $user_metadata = $object-&gt;user_metadata;

       To upload an object with user metadata, set "user_metadata" at construction time to a hashref, with no
       "x-amz-meta-" prefixes on the key names.  When downloading an object, the "get", "get_decoded" and
       "get_filename" ethods set the contents of "user_metadata" to the same format.

   <b>add_tags</b>
               $object-&gt;add_tags (
                       tags        =&gt; { tag1 =&gt; 'val1', tag2 =&gt; 'val2' },
               );

               $object-&gt;add_tags (
                       tags        =&gt; { tag1 =&gt; 'val1', tag2 =&gt; 'val2' },
                       version_id  =&gt; $version_id,
               );

   <b>delete_tags</b>
               $object-&gt;delete_tags;

               $object-&gt;delete_tags (
                       version_id  =&gt; $version_id,
               );

</pre><h4><b>AUTHOR</b></h4><pre>
       Branislav Zahradník &lt;<a href="mailto:barney@cpan.org">barney@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2022 by Amazon Digital Services, Leon Brocard, Brad Fitzpatrick, Pedro
       Figueiredo, Rusty Conover, Branislav Zahradník.

       This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.34.0                                       2022-07-18               <u>Net::Amazon::S3::Client::<a href="../man3pm/Object.3pm.html">Object</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>