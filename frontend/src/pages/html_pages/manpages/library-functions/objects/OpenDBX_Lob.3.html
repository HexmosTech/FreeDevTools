<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenDBX::Lob - Handling large objects if supported by the database.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libopendbx1-dev">libopendbx1-dev_1.4.6-18build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       OpenDBX::Lob - Handling large objects if supported by the database.

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Public</b> <b>Member</b> <b>Functions</b>
       void <b>close</b> ()  throw ( std::exception )
           Closes the large object and commits the changes.
       <b>Lob</b> (const <b>Lob</b> &amp;ref)  throw ()
           Copy constructor.
       <b>Lob</b> &amp; <b>operator=</b> (const <b>Lob</b> &amp;ref)  throw ()
           Assign large object instance to another one.
       ssize_t <b>read</b> (void *buffer, size_t buflen)  throw ( std::exception )
           Reads content from large object into the buffer.
       ssize_t <b>write</b> (void *buffer, size_t buflen)  throw ( std::exception )
           Writes data from the buffer into the large object.
       <b>~Lob</b> ()  throw ()
           Destroy large object instance if no other references exist.

   <b>Protected</b> <b>Member</b> <b>Functions</b>
       <b>Lob</b> ()  throw ()
           Default constructor.
       <b>Lob</b> (Lob_Iface *impl)  throw ( std::exception )
           Create large object instance.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Handling large objects if supported by the database.

       <b>Author</b>
           Norbert Sendetzky <a href="mailto:norbert@linuxnetworks.de">norbert@linuxnetworks.de</a>

       <b>Version</b>
           1.0

</pre><h4><b>Constructor</b> <b>&amp;</b> <b>Destructor</b> <b>Documentation</b></h4><pre>
   <b>OpenDBX::Lob::Lob</b> <b>()</b> <b>[inline],</b>  <b>[protected]</b>
       Default constructor. The default constructor isn't part of the public interface as the object must not be
       created manually. Instead, the <b>Result::getLob()</b> method is a factory for instances of the large object
       class.

       <b>Returns</b>
           <b>Lob</b> instance

   <b>OpenDBX::Lob::Lob</b> <b>(Lob_Iface</b> <b>*</b> <b>impl)std::exception</b> <b>[protected]</b>
       Create large object instance. The constructor isn't part of the public interface as the object must not
       be created manually. Instead, the <b>Result::getLob()</b> method is a factory for instances of the large object
       class.

       <b>Parameters</b>
           <u>impl</u> Pointer to private implementation

       <b>Returns</b>
           <b>Lob</b> instance

       <b>Exceptions</b>
           <u>std::exception</u> If an error occures

   <b>OpenDBX::Lob::~Lob</b> <b>()</b>
       Destroy large object instance if no other references exist. Each large object uses a reference counter to
       remember if the internal variables are shared with other objects. If this isn't the case or if this
       object is the last one referencing the variables, the object is cleanup up and the allocated memory
       freed.

   <b>OpenDBX::Lob::Lob</b> <b>(const</b> <b>Lob</b> <b>&amp;</b> <b>ref)</b>
       Copy constructor. Enables the transfer of the internal state of an object <u>ref</u> of the same type to this
       object. Both objects share the same variables and the reference counter afterwards. The reference counter
       is incremented each time an object is copied and will be decremented if it is destroyed.

       <b>Parameters</b>
           <u>ref</u> Original large object instance

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>void</b> <b>OpenDBX::Lob::close</b> <b>()std::exception</b>
       Closes the large object and commits the changes. After reading from or writing new content into the large
       object, it should be closed to commit changes to the disk and clean up the resources. If this isn't done,
       the destructor of the object tries to close the large object automatically, but there's no guarantee it
       was successful as the destructor doesn't throw an exception in case of an error. Therefore, it's highly
       recommended to call this method once when you don't need the object any more.

       <b>Exceptions</b>
           <b>OpenDBX::Exception</b> <b>If</b> <b>the</b> <b>underlying</b> <b>database</b> <b>library</b> <b>returns</b> <b>an</b> <b>error</b>

   <b>Lob</b> <b>&amp;</b> <b>OpenDBX::Lob::operator=</b> <b>(const</b> <b>Lob</b> <b>&amp;</b> <b>ref)</b>
       Assign large object instance to another one. Assigns the internal state of an object <u>ref</u> of the same type
       to this object. Both objects share the same variables and the reference counter afterwards. The reference
       counter is incremented each time an object is copied and will be decremented if it is destroyed.

       <b>Parameters</b>
           <u>ref</u> Large object instance

       <b>Returns</b>
           Large object reference of this instance

   <b>ssize_t</b> <b>OpenDBX::Lob::read</b> <b>(void</b> <b>*</b> <b>buffer,</b> <b>size_t</b> <b>buflen)std::exception</b>
       Reads content from large object into the buffer. To get the content of a large object, this method
       fetches the data in one or more pieces from the server and stores it into the user supplied buffer. The
       first call to <b>read()</b> will return the bytes from the beginning. The second and all other calls will store
       subsequent parts of the large object content into the buffer until the end of the data is reached. To
       reread the content a second time, you have to close the large object handle and reopen it again as some
       databases provide no way to reposition the internal file position indicator for the stream. The large
       object content fetched from the server is stored into the user supplied <u>buffer</u> up to <u>buflen</u> bytes.

       The method returns the number of bytes placed into <u>buffer</u>, which may be up to <u>buflen</u> bytes. If the end of
       the content is reached and no more data is available, the return value will be 0 (zero).

       <b>Parameters</b>
           <u>buffer</u> Pointer to a byte array where the data should be written to
           <u>buflen</u> Length of the given buffer in bytes

       <b>Returns</b>
           Number of bytes written into the buffer

       <b>Exceptions</b>
           <b>OpenDBX::Exception</b> <b>If</b> <b>the</b> <b>underlying</b> <b>database</b> <b>library</b> <b>returns</b> <b>an</b> <b>error</b>

   <b>ssize_t</b> <b>OpenDBX::Lob::write</b> <b>(void</b> <b>*</b> <b>buffer,</b> <b>size_t</b> <b>buflen)std::exception</b>
       Writes data from the buffer into the large object. It sends the data supplied in buffer to the server for
       storing it inside the large object. The function can be called more than once to add subsequent parts of
       the content to the object. If it isn't a new or empty object, the existing data will be overwritten and
       truncated to the new size. It's not possible to update only parts of the content as some databases
       doesn't support to position the internal file position indicator. The data which should be send to the
       server is read from <u>buffer</u> up to <u>buflen</u> bytes.

       The method returns the number of bytes read from <u>buffer</u> and sent to the database server, which may be up
       to <u>buflen</u> bytes. It isn't guaranteed that the complete chunk was sent to the server, so the returned size
       may be less than the value in <u>buflen</u>.

       <b>Parameters</b>
           <u>buffer</u> Pointer to a byte array where the content is stored
           <u>buflen</u> Length of the data in the buffer in bytes

       <b>Returns</b>
           Number of bytes written into the large object

       <b>Exceptions</b>
           <b>OpenDBX::Exception</b> <b>If</b> <b>the</b> <b>underlying</b> <b>database</b> <b>library</b> <b>returns</b> <b>an</b> <b>error</b>

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for opendbx from the source code.

Version 1.4.6                                Wed Jan 8 2025 18:03:29                             <u>OpenDBX::<a href="../man3/Lob.3.html">Lob</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>