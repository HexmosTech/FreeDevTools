<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wallet::Object::File - File object implementation for wallet</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/krb5-wallet-server">krb5-wallet-server_1.7_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Wallet::Object::File - File object implementation for wallet

</pre><h4><b>SYNOPSIS</b></h4><pre>
           my @name = qw(file mysql-lsdb)
           my @trace = ($user, $host, time);
           my $object = Wallet::Object::File-&gt;create (@name, $schema, @trace);
           unless ($object-&gt;store ("the-password\n")) {
               die $object-&gt;error, "\n";
           }
           my $password = $object-&gt;get (@trace);
           $object-&gt;destroy (@trace);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Wallet::Object::File is a representation of simple file objects in the wallet.  It implements the wallet
       object API and provides the necessary glue to store a file on the wallet server, retrieve it later, and
       delete it when the file object is deleted.  A file object must be stored before it can be retrieved with
       get.

       To use this object, the configuration option specifying where on the wallet server to store file objects
       must be set.  See Wallet::Config for details on this configuration parameter and information about how to
       set wallet configuration.

</pre><h4><b>METHODS</b></h4><pre>
       This object mostly inherits from Wallet::Object::Base.  See the documentation for that class for all
       generic methods.  Below are only those methods that are overridden or behave specially for this
       implementation.

       destroy(PRINCIPAL, HOSTNAME [, DATETIME])
           Destroys  a  file  object by removing it from the database and deleting the corresponding file on the
           wallet server.  Returns true on success and false on failure.  The caller should call <b>error()</b> to  get
           the  error  message  after  a  failure.   PRINCIPAL,  HOSTNAME,  and  DATETIME  are stored as history
           information.  PRINCIPAL should be the user who is destroying the object.  If  DATETIME  isn't  given,
           the current time is used.

       get(PRINCIPAL, HOSTNAME [, DATETIME])
           Retrieves  the  current contents of the file object or undef on error.  <b>store()</b> must be called before
           <b>get()</b> will be successful.  The caller should call <b>error()</b> to get the error message if  <b>get()</b>  returns
           undef.  PRINCIPAL, HOSTNAME, and DATETIME are stored as history information.  PRINCIPAL should be the
           user who is downloading the keytab.  If DATETIME isn't given, the current time is used.

       checksum(PRINCIPAL, HOSTNAME [, DATETIME])
           Retrieves  the  checksum for contents of the file object or undef on error.  PRINCIPAL, HOSTNAME, and
           DATETIME are stored as history information.  PRINCIPAL should be the  user  who  is  downloading  the
           keytab.  If DATETIME isn't given, the current time is used.

       store(DATA, PRINCIPAL, HOSTNAME [, DATETIME])
           Store  DATA  as  the  current  contents  of  the file object.  Any existing data will be overwritten.
           Returns true on success and false on failure.  The caller  should  call  <b>error()</b>  to  get  the  error
           message  after  a  failure.   PRINCIPAL,  HOSTNAME,  and  DATETIME are stored as history information.
           PRINCIPAL should be the user who is destroying the object.  If DATETIME isn't given, the current time
           is used.

           If FILE_MAX_SIZE is set in the wallet configuration, a <b>store()</b> of DATA larger than that configuration
           setting will be rejected.

</pre><h4><b>FILES</b></h4><pre>
       FILE_BUCKET/&lt;hash&gt;/&lt;file&gt;
           Files are stored on the  wallet  server  under  the  directory  FILE_BUCKET  as  set  in  the  wallet
           configuration.   &lt;hash&gt;  is  the  first two characters of the hex-encoded MD5 hash of the wallet file
           object name, used to not put too many files in the same directory.  &lt;file&gt; is the name  of  the  file
           object  with all characters other than alphanumerics, underscores, and dashes replaced by "%" and the
           hex code of the character.

</pre><h4><b>LIMITATIONS</b></h4><pre>
       The wallet implementation itself can handle arbitrary file object names.  However, due to limitations  in
       the <b>remctld</b> server usually used to run <b>wallet-backend</b>, file object names containing nul characters (ASCII
       0) may not be permitted.  The file system used for storing file objects may impose a length limitation on
       the file object name.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/remctld.8.html">remctld</a></b>(8), <b>Wallet::<a href="../man3/Config.3.html">Config</a></b>(3), <b>Wallet::Object::<a href="../man3/Base.3.html">Base</a></b>(3), <b><a href="../man8/wallet-backend.8.html">wallet-backend</a></b>(8)

       This   module   is   part   of   the   wallet   system.    The   current   version   is   available  from
       &lt;https://www.eyrie.org/~eagle/software/wallet/&gt;.

</pre><h4><b>AUTHORS</b></h4><pre>
       Russ Allbery &lt;<a href="mailto:eagle@eyrie.org">eagle@eyrie.org</a>&gt; Bill MacAllister &lt;<a href="mailto:bill@ca-zephyr.org">bill@ca-zephyr.org</a>&gt;

perl v5.40.0                                       2024-11-12                          <u>Wallet::Object::<a href="../man3pm/File.3pm.html">File</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>