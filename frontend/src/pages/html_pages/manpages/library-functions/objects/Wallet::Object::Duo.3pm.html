<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wallet::Object::Duo - Duo integration object implementation for wallet</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/krb5-wallet-server">krb5-wallet-server_1.7_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Wallet::Object::Duo - Duo integration object implementation for wallet

</pre><h4><b>SYNOPSIS</b></h4><pre>
           my @name = qw(duo host.example.com);
           my @trace = ($user, $host, time);
           my $object = Wallet::Object::Duo-&gt;create (@name, $schema, @trace);
           my $config = $object-&gt;get (@trace);
           $object-&gt;destroy (@trace);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Wallet::Object::Duo is a representation of Duo integrations the wallet.  It implements the wallet object
       API and provides the necessary glue to create a Duo integration, return a configuration file containing
       the key and API information for that integration, and delete the integration from Duo when the wallet
       object is destroyed.

       Usually you will want to use one of the subclasses of this module, which override the output to give you
       a configuration fragment suited for a specific application type.  However, you can always use this module
       for generic integrations where you don't mind massaging the output into the configuration for the
       application using Duo.

       This object can be retrieved repeatedly without changing the secret key, matching Duo's native behavior
       with integrations.  To change the keys of the integration, delete it and recreate it.

       To use this object, at least one configuration parameter must be set.  See Wallet::Config for details on
       supported configuration parameters and information about how to set wallet configuration.

</pre><h4><b>METHODS</b></h4><pre>
       This object mostly inherits from Wallet::Object::Base.  See the documentation for that class for all
       generic methods.  Below are only those methods that are overridden or behave specially for this
       implementation.

       create(TYPE, NAME, DBH, PRINCIPAL, HOSTNAME [, DATETIME, INTEGRATION_TYPE])
           This  is  a  class  method  and  should be called on the Wallet::Object::Duo class.  It creates a new
           object with the given TYPE and NAME (TYPE is normally "duo" and must be for the rest  of  the  wallet
           system  to  use the right class, but this module doesn't check for ease of subclassing), using DBH as
           the handle to the wallet metadata database.  PRINCIPAL, HOSTNAME, and DATETIME are stored as  history
           information.   PRINCIPAL should be the user who is creating the object.  If DATETIME isn't given, the
           current time is used.

           When a new Duo integration object is created, a new integration will be created in the configured Duo
           account and the integration key will be stored in the wallet  object.   If  the  integration  already
           exists,  <b>create()</b>  will  fail.   If  an  integration  type isn't given, the new integration's type is
           controlled by the DUO_TYPE configuration variable, which defaults to "unix".  See Wallet::Config  for
           more information.

           If <b>create()</b> fails, it throws an exception.

       destroy(PRINCIPAL, HOSTNAME [, DATETIME])
           Destroys  a Duo integration object by removing it from the database and deleting the integration from
           Duo.  If deleting the Duo integration fails, <b>destroy()</b> fails.  Returns true on success and  false  on
           failure.   The  caller  should  call  <b>error()</b>  to  get the error message after a failure.  PRINCIPAL,
           HOSTNAME, and DATETIME are stored as history information.   PRINCIPAL  should  be  the  user  who  is
           destroying the object.  If DATETIME isn't given, the current time is used.

       get(PRINCIPAL, HOSTNAME [, DATETIME])
           Retrieves  the  configuration information for the Duo integration and returns that information in the
           format expected by the configuration file for the Duo UNIX integration.  Returns  undef  on  failure.
           The caller should call <b>error()</b> to get the error message if <b>get()</b> returns undef.

           The returned configuration look look like:

               [duo]
               ikey = &lt;integration-key&gt;
               skey = &lt;secret-key&gt;
               host = &lt;api-hostname&gt;

           The  "host"  parameter  will  be  taken  from  the  configuration file pointed to by the DUO_KEY_FILE
           configuration variable.

           PRINCIPAL, HOSTNAME, and DATETIME are stored as history information.  PRINCIPAL should  be  the  user
           who is downloading the keytab.  If DATETIME isn't given, the current time is used.

</pre><h4><b>LIMITATIONS</b></h4><pre>
       Only one Duo account is supported for a given wallet implementation.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>Net::<a href="../man3/Duo.3.html">Duo</a></b>(3), <b>Wallet::<a href="../man3/Config.3.html">Config</a></b>(3), <b>Wallet::Object::<a href="../man3/Base.3.html">Base</a></b>(3), <b><a href="../man8/wallet-backend.8.html">wallet-backend</a></b>(8)

       This   module   is   part   of   the   wallet   system.    The   current   version   is   available  from
       &lt;https://www.eyrie.org/~eagle/software/wallet/&gt;.

</pre><h4><b>AUTHOR</b></h4><pre>
       Russ Allbery &lt;<a href="mailto:eagle@eyrie.org">eagle@eyrie.org</a>&gt;

perl v5.40.0                                       2024-11-12                           <u>Wallet::Object::<a href="../man3pm/Duo.3pm.html">Duo</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>