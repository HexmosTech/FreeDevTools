<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wayland::viewport_t - crop and scale interface to a wl_surface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/waylandpp-dev">waylandpp-dev_1.0.0-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       wayland::viewport_t - crop and scale interface to a wl_surface

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;wayland-client-protocol-extra.hpp&gt;

       Inherits <b>wayland::proxy_t</b>.

   <b>Public</b> <b>Types</b>
       enum class <b>wrapper_type</b> { <b>standard</b>, <b>display</b>, <b>foreign</b>, <b>proxy_wrapper</b> }

   <b>Public</b> <b>Member</b> <b>Functions</b>
       void <b>set_source</b> (double x, double y, double width, double height)
           set the source rectangle for cropping
       void <b>set_destination</b> (int32_t width, int32_t height)
           set the surface size for scaling
       uint32_t <b>get_id</b> () const
           Get the id of a proxy object.
       std::string <b>get_class</b> () const
           Get the interface name (class) of a proxy object.
       uint32_t <b>get_version</b> () const
           Get the protocol object version of a proxy object.
       <b>wrapper_type</b> <b>get_wrapper_type</b> () const
           Get the type of a proxy object.
       void <b>set_queue</b> (<b>event_queue_t</b> queue)
           Assign a proxy to an event queue.
       wl_proxy * <b>c_ptr</b> () const
           Get a pointer to the underlying C struct.
       bool <b>proxy_has_object</b> () const
           Check whether this wrapper actually wraps an object.
       <b>operator</b> <b>bool</b> () const
           Check whether this wrapper actually wraps an object.
       bool <b>operator==</b> (const <b>proxy_t</b> &amp;right) const
           Check whether two wrappers refer to the same object.
       bool <b>operator!=</b> (const <b>proxy_t</b> &amp;right) const
           Check whether two wrappers refer to different objects.
       void <b>proxy_release</b> ()
           Release the wrapped object (if any), making this an empty wrapper.

   <b>Static</b> <b>Public</b> <b>Attributes</b>
       static constexpr std::uint32_t <b>set_source_since_version</b> = 1
           Minimum protocol version required for the <b>set_source</b> function.
       static constexpr std::uint32_t <b>set_destination_since_version</b> = 1
           Minimum protocol version required for the <b>set_destination</b> function.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       crop and scale interface to a wl_surface

       An additional interface to a wl_surface object, which allows the client to specify the cropping and
       scaling of the surface contents.

       This interface works with two concepts: the source rectangle (src_x, src_y, src_width, src_height), and
       the destination size (dst_width, dst_height). The contents of the source rectangle are scaled to the
       destination size, and content outside the source rectangle is ignored. This state is double-buffered, and
       is applied on the next wl_surface.commit.

       The two parts of crop and scale state are independent: the source rectangle, and the destination size.
       Initially both are unset, that is, no scaling is applied. The whole of the current wl_buffer is used as
       the source, and the surface size is as defined in wl_surface.attach.

       If the destination size is set, it causes the surface size to become dst_width, dst_height. The source
       (rectangle) is scaled to exactly this size. This overrides whatever the attached wl_buffer size is,
       unless the wl_buffer is NULL. If the wl_buffer is NULL, the surface has no content and therefore no size.
       Otherwise, the size is always at least 1x1 in surface local coordinates.

       If the source rectangle is set, it defines what area of the wl_buffer is taken as the source. If the
       source rectangle is set and the destination size is not set, then src_width and src_height must be
       integers, and the surface size becomes the source rectangle size. This results in cropping without
       scaling. If src_width or src_height are not integers and destination size is not set, the bad_size
       protocol error is raised when the surface state is applied.

       The coordinate transformations from buffer pixel coordinates up to the surface-local coordinates happen
       in the following order:

       1.  buffer_transform (wl_surface.set_buffer_transform)

       2.  buffer_scale (wl_surface.set_buffer_scale)

       3.  crop and scale (wp_viewport.set*) This means, that the source rectangle coordinates of crop and scale
           are given in the coordinates after the buffer transform and scale, i.e. in the coordinates that would
           be the surface-local coordinates if the crop and scale was not applied.

       If  src_x  or  src_y  are  negative,  the  bad_value  protocol  error is raised. Otherwise, if the source
       rectangle is partially or completely outside of the non-NULL wl_buffer, then the  out_of_buffer  protocol
       error  is  raised  when  the  surface state is applied. A NULL wl_buffer does not raise the out_of_buffer
       error.

       The x, y arguments of wl_surface.attach are applied as normal to the  surface.  They  indicate  how  many
       pixels  to  remove from the surface size from the left and the top. In other words, they are still in the
       surface-local coordinate system, just like dst_width and dst_height are.

       If the wl_surface associated with the wp_viewport is destroyed, all wp_viewport requests except 'destroy'
       raise the protocol error no_surface.

       If the wp_viewport object is destroyed, the crop and scale state is  removed  from  the  wl_surface.  The
       change will be applied on the next wl_surface.commit.

       Definition at line <b>436</b> of file <b>wayland-client-protocol-extra.hpp</b>.

</pre><h4><b>Member</b> <b>Enumeration</b> <b>Documentation</b></h4><pre>
   <b>enum</b> <b>class</b> <b>wayland::proxy_t::wrapper_type</b> <b>[strong],</b>  <b>[inherited]</b>
       Underlying  wl_proxy  type  and  properties of a <b>proxy_t</b> that affect construction, destruction, and event
       handling

       <b>Enumerator</b>

       <u>standard</u>
              C pointer is a standard type compatible with wl_proxy*. Events are dispatched and it is destructed
              when the <b>proxy_t</b> is destructed. User data is set.

       <u>display</u>
              C pointer is a wl_display*. No events are dispatched, wl_display_disconnect  is  called  when  the
              <b>proxy_t</b> is destructed. User data is set.

       <u>foreign</u>
              C  pointer is a standard type compatible with wl_proxy*, but another library owns it and it should
              not be touched in a way that could affect the operation  of  the  other  library.  No  events  are
              dispatched,  wl_proxy_destroy  is  not  called  when  the  <b>proxy_t</b> is destructed, user data is not
              touched. Consequently, there is no reference counting for the <b>proxy_t</b>. Lifetime of  such  wrappers
              should  preferably  be short to minimize the chance that the owning library decides to destroy the
              wl_proxy.

       <u>proxy_wrapper</u>
              C pointer is a  wl_proxy*  that  was  constructed  with  wl_proxy_create_wrapper.  No  events  are
              dispatched,  wl_proxy_wrapper_destroy  is called when the <b>proxy_t</b> is destroyed. Reference counting
              is active. A reference to the <b>proxy_t</b> creating this proxy wrapper is held to extend  its  lifetime
              until after the proxy wrapper is destroyed.

       Definition at line <b>116</b> of file <b>wayland-client.hpp</b>.

</pre><h4><b>Member</b> <b>Function</b> <b>Documentation</b></h4><pre>
   <b>wl_proxy</b> <b>*</b> <b>wayland::proxy_t::c_ptr</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get a pointer to the underlying C struct.

       <b>Returns</b>
           The underlying wl_proxy wrapped by this <b>proxy_t</b> if it exists, otherwise an exception is thrown

   <b>std::string</b> <b>wayland::proxy_t::get_class</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get the interface name (class) of a proxy object.

       <b>Returns</b>
           The interface name of the object associated with the proxy

   <b>uint32_t</b> <b>wayland::proxy_t::get_id</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get the id of a proxy object.

       <b>Returns</b>
           The id the object associated with the proxy

   <b>uint32_t</b> <b>wayland::proxy_t::get_version</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Get the protocol object version of a proxy object. Gets the protocol object version of a proxy object, or
       0 if the proxy was created with unversioned API.

       A  returned  value  of  0  means  that  no version information is available, so the caller must make safe
       assumptions about the object's real version.

       <b>display_t</b> will always return version 0.

       <b>Returns</b>
           The protocol object version of the proxy or 0

   <b>wrapper_type</b> <b>wayland::proxy_t::get_wrapper_type</b> <b>()</b> <b>const</b> <b>[inline],</b>  <b>[inherited]</b>
       Get the type of a proxy object.

       Definition at line <b>302</b> of file <b>wayland-client.hpp</b>.

   <b>wayland::proxy_t::operator</b> <b>bool</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Check whether this wrapper actually wraps an object.

       <b>Returns</b>
           true if there is an underlying object, false if this wrapper is empty

   <b>bool</b> <b>wayland::proxy_t::operator!=</b> <b>(const</b> <b>proxy_t</b> <b>&amp;</b> <b>right)</b> <b>const</b> <b>[inherited]</b>
       Check whether two wrappers refer to different objects.

   <b>bool</b> <b>wayland::proxy_t::operator==</b> <b>(const</b> <b>proxy_t</b> <b>&amp;</b> <b>right)</b> <b>const</b> <b>[inherited]</b>
       Check whether two wrappers refer to the same object.

   <b>bool</b> <b>wayland::proxy_t::proxy_has_object</b> <b>()</b> <b>const</b> <b>[inherited]</b>
       Check whether this wrapper actually wraps an object.

       <b>Returns</b>
           true if there is an underlying object, false if this wrapper is empty

   <b>void</b> <b>wayland::proxy_t::proxy_release</b> <b>()</b> <b>[inherited]</b>
       Release the wrapped object (if any), making this an empty wrapper. Note that <b>display_t</b>  instances  cannot
       be released this way. Attempts to do so are ignored.

       <b>Examples</b>
           <b>foreign_display.cpp</b>.

   <b>void</b> <b>viewport_t::set_destination</b> <b>(int32_t</b> <b>width,</b> <b>int32_t</b> <b>height)</b>
       set the surface size for scaling

       <b>Parameters</b>
           <u>width</u> surface width
           <u>height</u> surface height

       Set  the destination size of the associated wl_surface. See wp_viewport for the description, and relation
       to the wl_buffer size.

       If width is -1 and height is -1, the destination size is unset instead. Any  other  pair  of  values  for
       width and height that contains zero or negative values raises the bad_value protocol error.

       The crop and scale state is double-buffered state, and will be applied on the next wl_surface.commit.

       Definition at line <b>953</b> of file <b>wayland-client-protocol-extra.cpp</b>.

   <b>void</b> <b>wayland::proxy_t::set_queue</b> <b>(event_queue_t</b> <b>queue)</b> <b>[inherited]</b>
       Assign a proxy to an event queue.

       <b>Parameters</b>
           <u>queue</u> The event queue that will handle this proxy

       Assign  proxy  to  event queue. Events coming from proxy will be queued in queue instead of the display's
       main queue.

       See also: <b>display_t::dispatch_queue()</b>.

       <b>Examples</b>
           <b>proxy_wrapper.cpp</b>.

   <b>void</b> <b>viewport_t::set_source</b> <b>(double</b> <b>x,</b> <b>double</b> <b>y,</b> <b>double</b> <b>width,</b> <b>double</b> <b>height)</b>
       set the source rectangle for cropping

       <b>Parameters</b>
           <u>x</u> source rectangle x
           <u>y</u> source rectangle y
           <u>width</u> source rectangle width
           <u>height</u> source rectangle height

       Set the source rectangle of the associated wl_surface. See wp_viewport for the description, and  relation
       to the wl_buffer size.

       If all of x, y, width and height are -1.0, the source rectangle is unset instead. Any other set of values
       where width or height are zero or negative, or x or y are negative, raise the bad_value protocol error.

       The crop and scale state is double-buffered state, and will be applied on the next wl_surface.commit.

       Definition at line <b>947</b> of file <b>wayland-client-protocol-extra.cpp</b>.

</pre><h4><b>Member</b> <b>Data</b> <b>Documentation</b></h4><pre>
   <b>constexpr</b> <b>std::uint32_t</b> <b>wayland::viewport_t::set_destination_since_version</b> <b>=</b> <b>1</b> <b>[static],</b>  <b>[constexpr]</b>
       Minimum protocol version required for the <b>set_destination</b> function.

       Definition at line <b>504</b> of file <b>wayland-client-protocol-extra.hpp</b>.

   <b>constexpr</b> <b>std::uint32_t</b> <b>wayland::viewport_t::set_source_since_version</b> <b>=</b> <b>1</b> <b>[static],</b>  <b>[constexpr]</b>
       Minimum protocol version required for the <b>set_source</b> function.

       Definition at line <b>481</b> of file <b>wayland-client-protocol-extra.hpp</b>.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for Wayland++ from the source code.

Version 1.0.0                                Wed May 1 2024 17:27:19                      <u>wayland::<a href="../man3/viewport_t.3.html">viewport_t</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>