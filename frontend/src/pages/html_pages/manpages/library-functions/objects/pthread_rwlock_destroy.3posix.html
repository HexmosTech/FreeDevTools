<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix-dev">manpages-posix-dev_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       pthread_rwlock_destroy, pthread_rwlock_init — destroy and initialize a read-write lock object

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;<a href="file:/usr/include/pthread.h">pthread.h</a>&gt;

       int pthread_rwlock_destroy(pthread_rwlock_t *<u>rwlock</u>);
       int pthread_rwlock_init(pthread_rwlock_t *restrict <u>rwlock</u>,
           const pthread_rwlockattr_t *restrict <u>attr</u>);
       pthread_rwlock_t <u>rwlock</u> = PTHREAD_RWLOCK_INITIALIZER;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>pthread_rwlock_destroy</u>()  function shall destroy the read-write lock object referenced by <u>rwlock</u> and
       release any resources used by the lock. The effect of subsequent use of the lock is undefined  until  the
       lock   is   reinitialized  by  another  call  to  <u>pthread_rwlock_init</u>().   An  implementation  may  cause
       <u>pthread_rwlock_destroy</u>() to set the object  referenced  by  <u>rwlock</u>  to  an  invalid  value.  Results  are
       undefined  if  <u>pthread_rwlock_destroy</u>() is called when any thread holds <u>rwlock</u>.  Attempting to destroy an
       uninitialized read-write lock results in undefined behavior.

       The <u>pthread_rwlock_init</u>() function shall allocate any resources  required  to  use  the  read-write  lock
       referenced  by  <u>rwlock</u>  and initializes the lock to an unlocked state with attributes referenced by <u>attr</u>.
       If <u>attr</u> is NULL, the default read-write lock attributes shall be used; the effect is the same as  passing
       the  address  of  a default read-write lock attributes object. Once initialized, the lock can be used any
       number of times without being reinitialized. Results are undefined  if  <u>pthread_rwlock_init</u>()  is  called
       specifying  an  already  initialized  read-write lock. Results are undefined if a read-write lock is used
       without first being initialized.

       If the <u>pthread_rwlock_init</u>() function fails, <u>rwlock</u> shall not be initialized and the contents  of  <u>rwlock</u>
       are undefined.

       See <u>Section</u> <u>2.9.9</u>, <u>Synchronization</u> <u>Object</u> <u>Copies</u> <u>and</u> <u>Alternative</u> <u>Mappings</u> for further requirements.

       In  cases  where default read-write lock attributes are appropriate, the macro PTHREAD_RWLOCK_INITIALIZER
       can be used to initialize read-write locks. The effect shall be equivalent to dynamic initialization by a
       call to <u>pthread_rwlock_init</u>() with the <u>attr</u> parameter specified as NULL, except that no error checks  are
       performed.

       The  behavior  is undefined if the value specified by the <u>attr</u> argument to <u>pthread_rwlock_init</u>() does not
       refer to an initialized read-write lock attributes object.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       If successful, the  <u>pthread_rwlock_destroy</u>()  and  <u>pthread_rwlock_init</u>()  functions  shall  return  zero;
       otherwise, an error number shall be returned to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <u>pthread_rwlock_init</u>() function shall fail if:

       <b>EAGAIN</b> The  system  lacked  the  necessary resources (other than memory) to initialize another read-write
              lock.

       <b>ENOMEM</b> Insufficient memory exists to initialize the read-write lock.

       <b>EPERM</b>  The caller does not have the privilege to perform the operation.

       These functions shall not return an error code of <b>[EINTR]</b>.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       None.

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       Applications using these and related read-write lock functions may be subject to priority  inversion,  as
       discussed in the Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>3.291</u>, <u>Priority</u> <u>Inversion</u>.

</pre><h4><b>RATIONALE</b></h4><pre>
       If  an implementation detects that the value specified by the <u>rwlock</u> argument to <u>pthread_rwlock_destroy</u>()
       does not refer to an initialized read-write lock object, it is recommended that the function should  fail
       and report an <b>[EINVAL]</b> error.

       If  an implementation detects that the value specified by the <u>attr</u> argument to <u>pthread_rwlock_init</u>() does
       not refer to an initialized read-write lock attributes object, it is recommended that the function should
       fail and report an <b>[EINVAL]</b> error.

       If an implementation detects that the value specified by the <u>rwlock</u> argument to  <u>pthread_rwlock_destroy</u>()
       or  <u>pthread_rwlock_init</u>()  refers to a locked read-write lock object, or detects that the value specified
       by the <u>rwlock</u> argument to <u>pthread_rwlock_init</u>() refers to an already initialized read-write lock  object,
       it is recommended that the function should fail and report an <b>[EBUSY]</b> error.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>pthread_rwlock_rdlock</u>(), <u>pthread_rwlock_timedrdlock</u>(), <u>pthread_rwlock_timedwrlock</u>(),
       <u>pthread_rwlock_trywrlock</u>(), <u>pthread_rwlock_unlock</u>()

       The Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>3.291</u>, <u>Priority</u> <u>Inversion</u>, <b>&lt;pthread.h&gt;</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for  Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group Base
       Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical  and  Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE  and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any typographical or formatting errors that appear in this page are most likely to have  been  introduced
       during   the   conversion  of  the  source  files  to  man  page  format.  To  report  such  errors,  see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                        <u><a href="../man3POSIX/PTHREAD_RWLOCK_DESTROY.3POSIX.html">PTHREAD_RWLOCK_DESTROY</a></u>(3POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>