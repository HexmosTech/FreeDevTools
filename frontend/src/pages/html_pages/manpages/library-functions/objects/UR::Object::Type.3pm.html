<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UR::Object::Type - a meta-class for any class or primitive type</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libur-perl">libur-perl_0.470+ds-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       UR::Object::Type - a meta-class for any class or primitive type

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use UR;

           class MyClass {
               is =&gt; ['ParentClass1', 'ParentClass2'],
               id_by =&gt; [
                   id_prop1    =&gt; { is =&gt; 'Integer' },
                   id_prop2    =&gt; { is =&gt; 'String' },
               ],
               has =&gt; [
                   property_a  =&gt; { is =&gt; 'String' }
                   property_b  =&gt; { is =&gt; 'Integer', is_optional =&gt; 1 },
               ],
           };

           my $meta = MyClass-&gt;__meta__;

           my @parent_class_metas = $meta-&gt;parents();
           # 2 meta objects, see UR::Object::Property

           my @property_meta = $meta-&gt;properties();
           # N properties (4, +1 from UR::Object, +? from ParentClass1 and ParentClass2)

           $meta-&gt;is_abstract;

           $meta-&gt;...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       UR::Object::Type implements the class behind the central metadata in the UR class framework.  It contains
       methods for introspection and manipulation of related class data.

       A UR::Object::Type object describes UR::Object, and also every subclass of UR::Object.

</pre><h4><b>INHERITANCE</b></h4><pre>
       In addition to describing UR::Object an each of its subclasses, UR::Object::Type is _itself_ a subclass
       of UR::Object.  This means that the same query APIs used for regular objects can be used for meta
       objects.

          UR::Object  -&gt; has-meta -&gt; UR::Object::Type
                 A                         |
                 \                        /
                  \-----&lt;- is-a  &lt;-------/

       Further, new classes which generate a new UR::Objec::Type, also generate a new subclass for the meta-
       class.  This means that each new class can have private meta methods, (ala Ruby).

       This means that extensions to a meta-class, apply to the meta-class of its derivatives.

            Regular                    Meta-Class
            Entity                     Singleton
            -------                    ----------

           Greyhound   has-meta -&gt;   Greyhound::Type
               |                          |
               V                          V
             is-a                       is-a
               |                          |
               V                          V
              Dog      has-meta -&gt;    Dog::Type
               |                          |
               V                          V
             is-a                       is-a
               |                          |
               V                          V
             Animal    has-meta -&gt;   Animal::Type
               |                          |
               V                          V
             is-a                       is-a
               |                          |     /-----------------\
               V                          V     V                 |
          UR::Object   has-meta -&gt;   UR::Object::Type   has-meta -/
                 A                      is-a
                 |                        |
                  \______________________/

</pre><h4><b>CONSTRUCTORS</b></h4><pre>
       "class"
             class MyClass1 {};

             class MyClass2 { is =&gt; 'MyClass1' };

             class MyClass3 {
                 is =&gt; ['Parent1','Parent2'],
                 is_abstract =&gt; 1,
                 is_transient =&gt; 1,
                 has =&gt; [ qw/p1 p2 p3/ ],
                 doc =&gt; 'woo hoo!'
             };

           The  primary  constructor  is not a method on this class at all.  UR catches "class SOMENAME { ... }"
           and calls <b>define()</b> with the parameters.

       define
             my $class_obj = UR::Object::Type-&gt;define(
                                 class_name =&gt; 'MyClass',
                                 ...
                             );

           Register a class with the system.  The given class_name must be unique within the application.  As  a
           side  effect, a new Perl namespace will be created for the class's name, and methods will be injected
           into that namespace for any of the class properties.   Other  types  of  metadata  objects  will  get
           created    to    manage   the   properties   and   relationships   to   other   classes.    See   the
           UR::Object::Type::Initializer documentation  for  more  information  about  the  parameters  define()
           accepts.

       create
             my $class_obj = UR::Object::Type-&gt;create(
                                 class_name =&gt; 'Namespace::MyClass',
                                 ...
                             );

           Create  a  brand  new  class  within  an  already existing UR namespace.  create() takes all the same
           parameters as define().  Another side effect of create is  that  when  the  application  commits  its
           Context, a new Perl module will be created to implement the class, complete with a class definition.

           Applications will not normally use <b>create()</b>.

</pre><h4><b>PROPERTIES</b></h4><pre>
       Each property has a method of the same name

   <b>External</b> <b>API</b>
       class_name
               $name = $class_obj-&gt;class_name

           The name of the class.  Class names are unique within a UR namespace and an application.

           This is symmetrical with $class_obj = $name-&gt;__meta__.

       properties
             @all = $class_obj-&gt;properties();

             @some = $class_obj-&gt;properties(
                 'is                    =&gt; ['Text','Number']
                 'doc like'             =&gt; '%important%',
                 'property_name like'   =&gt; 'someprefix_%',
             );

           Access  the  related  property  meta-objects  for  all  properties  of  this  class.  It includes the
           properties of any parent classes which are inherited by this class.

           See UR::Object::Property for details.

       property
             $property_meta = $class_obj-&gt;property('someproperty');

           The singular version of the above.  A single argument, as usual, is treated as the remainder  of  the
           ID, and will select a property by name.

       namespace
             $namespace_name = $class_obj-&gt;namespace

           Returns the name of the class's UR namespace.

       doc
             $doc = $class_obj-&gt;doc

           A place to put general class-specific notes.

       data_source_id
             $ds_id = $class_obj-&gt;data_source_id

           The name of the external data source behind this class.  Classes without data sources cannot be saved
           and  exist only during the life of the application.  data_source_id will resolve to an UR::DataSource
           id.

       table_name
             $table_name = $class_object-&gt;table_name

           For classes with data sources, this is the name of the  table  within  that  data  source.   This  is
           usually a table in a relational database.

           At  a  basic  level,  it  is  a  storage directive interpreted by the data_source, and may or may not
           related to a storage table at that level.

       is_abstract
             $bool = $class_obj-&gt;is_abstract

           A flag indicating if this is an abstract class.  Abstract classes cannot have instances, but  can  be
           inherited by other classes.

       is_final
             $bool = $class_obj-&gt;is_final

           A flag indicating if this class cannot have subclasses.

       is_singleton
             $bool = $class_obj-&gt;is_singleton

           A  flag  indicating  whether  this  is  a  singleton  class.   If  true,  the class will inherit from
           UR::Singleton.

       is_transactional
             $bool = $class_obj-&gt;is_transactional

           A flag indicating whether changes to this  class's  instances  will  be  tracked.   Non-transactional
           objecs do not change when an in-memory transaction rolls back.

           It is similar to the is_transient meta-property, which does the same for an individual property.

   <b>Internal</b> <b>API</b>
       These methods return data about how this class relates to other classes.

       namespace_meta
             $ns_meta = $class_obj-&gt;namespace_meta

           Returns the UR::Namespace object with the class's namespace name.

       parent_class_names
             @names = $class_obj-&gt;parent_class_names

           Returns a list of the immediate parent classes.

       parent_class_metas
             @class_objs = $class_obj-&gt;parent_class_metas

           Returns a list of the class objects (UR::Object::Type instances) of the immediate parent classes

       ancestry_class_names
             @names = $class_obj-&gt;ancestry_class_names

           Returns  a  list  of all the class names this class inherits from, directly or indirectly.  This list
           may have duplicate names if there is multiple inheritance in the family tree.

       ancestry_class_metas
             @class_objs = $class_obj-&gt;ancestry_class_metas

           Returns a list of the class objects for each inherited class.

       direct_property_names
             @names = $class_obj-&gt;direct_property_names

           Returns a list of the property names defined within this class.  This list will not include the names
           of any properties inherited from parent classes unless they have been overridden.

       direct_property_metas
             @property_objs = $class_obj-&gt;direct_property_metas

           Returns a list of the UR::Object::Property objects for each direct property name.

       ancestry_property_names
             @names = $class_obj-&gt;ancestry_property_names

           Returns a list of property names of the parent classes and their inheritance hierarchy.  The list may
           include duplicates if a property is overridden somewhere in the hierarchy.

       ancestry_property_metas
             @property_objs = $class_obj-&gt;ancestry_property_metas;

           Returns a list of the UR::Object::Property objects for each ancestry property name.

       all_property_names
           Returns a list of property names of the given class and its  inheritance  hierarchy.   The  list  may
           include duplicates if a property is overridden somewhere in the hierarchy.

       all_property_metas
             @property_objs = $class_obj-&gt;all_property_metas;

           Returns a list of the UR::Object::Property objects for each name returned by all_property_names.

       direct_id_property_names
             @names = $class_obj-&gt;direct_id_property_names

           Returns a list of the property names designated as "id" properties in the class definition.

       direct_id_property_metas
             @property_objs = $class_obj-&gt;direct_id_property_metas

           Returns a list of the UR::Object::Property objects for each id property name.

       ancestry_id_property_names
       ancestry_id_property_metas
       all_id_property_names
       all_id_property_metas
             @names         = $class_obj-&gt;ancestry_id_property_names;
             @property_objs = $class_obj-&gt;ancestry_id_property_metas;
             @names         = $class_obj-&gt;all_id_property_names;
             @property_objs = $class_obj-&gt;all_id_property_metas;

           Returns  the  property  names or UR::Object::Property objects for either the parent classes and their
           inheritance hierarchy, or for the given class and all of its inheritance hierarchy.   The  lists  may
           include duplicates if properties are overridden somewhere in the hierarchy.

       unique_property_set_hashref
             $constraints = $class_obj-&gt;unique_property_set_hashref

           Return  a  hashref describing the unique constraints on the given class.  The keys of $constraint are
           constraint names, and the values are listrefs of property names that make up the unique constraint.

       add_unique_constraint
             $class_obj-&gt;add_unique_constraint($constraint_name, @property_name_list)

           Add a unique constraint to the given class.  It is an exception if the given $constraint_name already
           exists as a constraint on this class or its parent classes.

       remove_unique_constraint
             $class_obj-&gt;remove_unique_constraint($constraint_name)

           Remove a unique constraint from the given class.  It is an exception if  the  given  constraint  name
           does not exist.

       ancestry_table_names
       all_table_names
             @names = $class_obj-&gt;ancestry_table_names

           Returns a list of table names in the class's inheritance hierarchy.

       direct_column_names
           Returns  a  list  of column names for each direct property meta.  Classes with data sources and table
           names will have properties with column names.

       direct_id_column_names
           Returns a list of ID column names for each direct property meta.

       direct_columnless_property_names
       direct_columnless_property_metas
       ancestry_columnless_property_names
       ancestry_columnless_property_metas
       all_columnless_property_names
       all_columnless_property_metas
           Return lists of property meta objects and their names for properties that have no column name.

</pre><h4><b>METHODS</b></h4><pre>
       property_meta_for_name
             $property_obj = $class_obj-&gt;property_meta_for_name($property_name);

           Return the UR::Object::Property object in the class's inheritance hierarchy with the given name.   If
           the  property  name  has been overridden somewhere in the hierarchy, then it will return the property
           object most specific to the class.

       id_property_sorter
             $subref = $class_obj-&gt;id_property_sorter;
             @sorted_objs = sort $subref @unsorted_objs;

           Returns a subroutine reference that can be used to sort object instances of the class.  The subref is
           able to handle classes with multiple ID properties, and mixes of numeric  and  non-numeric  data  and
           data types.

       autogenerate_new_object_id
           This   method   is   called   whenever   new   objects   of  the  given  class  are  created  through
           "ClassName-&gt;create()", and not all of their ID properties were specified.   UR::Object::Type  has  an
           implementation used by default, but other classes can override this if they need special handling.

       singular_accessor_name_for_is_many_accessor
             $property_name = $class_obj-&gt;singular_accessor_name_for_is_many_accessor($is_many_name);

           For  is_many  properties,  returns  the  name  of  the singular accessor.  Usually, this the singular
           version of the plural, is_many property's name.  The singular accessor  accepts  key/value  pairs  as
           arguments,  which  are used to filter the results of the is_many accessor.  For example, the singular
           for the 'cars' accessor is 'car'.

           Returns a false value if the given property name does not exist or is not is_many.

       iterator_accessor_name_for_is_many_accessor
             $iter_name = $class_obj-&gt;iterator_accessor_name_for_is_many_accessor($is_many_name);

           Returns the accessor name used to get the UR::Object::Iterator  that  corresponds  with  the  is_many
           accessor.  For example, the iterator for the 'cars' accessor is 'car_iterator'.

           Returns a false value if the given property name does not exist or is not is_many.

       set_accessor_name_for_is_many_accessor
             $set_name = $class_obj-&gt;set_accessor_name_for_is_many_accessor($is_many_name);

           Returns the accessor name used to get the UR::Object::Set that corresponds with the is_many accessor.
           For example, the set for the 'cars' accessor is 'car_set'.

           Returns a false value if the given property name does not exist or is not is_many.

       rule_accessor_name_for_is_many_accessor
             $rule_name = $class_obj-&gt;rule_accessor_name_for_is_many_accessor($is_many_name);

           Returns  the  accessor  name used to get the UR::BoolExpr that corresponds with the is_many accessor.
           For example, the rule for the 'cars' accessor is '__car_rule'.

           Returns a false value if the given property name does not exist or is not is_many.

       arrayref_accessor_name_for_is_many_accessor
             $arrayref_name = $class_obj-&gt;arrayref_accessor_name_for_is_many_accessor($is_many_name);

           Returns the accessor name used to get the arrayref of  objects  that  corresponds  with  the  is_many
           accessor.  For example, the arrayref for the 'cars' accessor is 'car_arrayref'.

           Returns a false value if the given property name does not exist or is not is_many.

       adder_name_for_is_many_accessor
             $adder_name = $class_obj-&gt;adder_name_for_is_many_accessor($is_many_name);

           Returns the method name used to get the adder method that corresponds with the is_many accessor.  For
           example, the adder for the 'cars' accessor is 'add_car'.

           Returns a false value if the given property name does not exist or is not is_many.

       remover_name_for_is_many_accessor
             $remover_name = $class_obj-&gt;remover_name_for_is_many_accessor($is_many_name);

           Returns  the  method  name used to get the remover method that corresponds with the is_many accessor.
           For example, the adder for the 'cars' accessor is 'remove_car'.

           Returns a false value if the given property name does not exist or is not is_many.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       UR::Object::Property, UR::Object::Iterator, UR::Object::Set, UR::BoolExpr

perl v5.38.2                                       2024-06-15                              <u>UR::Object::<a href="../man3pm/Type.3pm.html">Type</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>