<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FBB::*Clock - classes wrapping std::chrono::*_clock facilities</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbobcat-dev">libbobcat-dev_6.07.01-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       FBB::*Clock - classes wrapping std::chrono::*_clock facilities

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;bobcat/fileclock&gt;</b>
       <b>#include</b> <b>&lt;bobcat/highresolutionclock&gt;</b>
       <b>#include</b> <b>&lt;bobcat/steadyclock&gt;</b>
       <b>#include</b> <b>&lt;bobcat/systemclock&gt;</b>

       Each of these files also includes the <u>std::chrono</u> header file.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>C++</b> <u>std::chrono</u> namespace defines clock-types and their operations. The <b>bobcat</b> <u>*Clock</u> classes define
       wrappers around the four standard <b>C++</b> clock-types offering interfaces which are easier to handle than the
       standard <u>std::chrono</u> clocks.

       o      <b>FileClock</b> wraps <u>std::chrono::file_clock</u>;

       o      <b>HighResolutionClock</b> wraps <u>std::chrono::high_resolution_clock</u>;

       o      <b>SteadyClock</b> wraps <u>std::chrono::steady_clock</u>;

       o      <b>SystemClock</b> wraps <u>std::chrono::system_clock</u>, and is the commonly used clock type.

       Member names of the <b>bobcat</b> clock-classes don’t use underscores. Names consisting of  multiple  words  are
       `camel-cased’ (like <u>timePoint</u>).

       Note:
              The type <u>std::chrono::file_clock</u> (and therefore <b>FileClock</b>) is available since the <u>C++-2a</u> standard:
              specify the <u>--std=c++2a</u> (or more recent) compiler option when using <b>FileClock</b>.

</pre><h4><b>NAMESPACE</b></h4><pre>
       <b>FBB</b>
       All  constructors,  members,  operators  and manipulators, mentioned in this man-page, are defined in the
       namespace <b>FBB</b>.

</pre><h4><b>INHERITS</b> <b>FROM</b></h4><pre>
       <u>FBB::ClockTypes</u>
       <u>FBB::ClockBase</u>
       <u>FBB::HighSysClock</u>
              these are internally used only classes; their facilities are covered in this man-page.

</pre><h4><b>TYPEDEFS</b> <b>AND</b> <b>ENUMS</b></h4><pre>
       o      The <u>std::chrono</u> types <u>nanoseconds,</u> <u>microseconds,</u> <u>milliseconds,</u> <u>seconds,</u> <u>minutes</u> and <u>hours</u> are also
              available in the namespace <u>FBB</u>;

       <b>Clock</b> <b>Types:</b>

       o      <u>FBB::FileClock</u> provides the <u>std::chrono::file_clock</u> facilities;

       o      <u>FBB::HighResolutionClock</u> provides the <u>std::chrono::high_resolution_clock</u> facilities;

       o      <u>FBB::SteadyClock</u> provides the <u>std::chrono::steady_clock</u> facilities;

       o      <u>FBB::SystemClock</u> provides the <u>std::chrono::system_clock</u> facilities.

       <b>Sub-types:</b>

       o      <u>Duration</u>: each clock type defines the type <u>Duration</u> as <u>std::chrono::duration&lt;int64_t,</u> <u>std::nano&gt;</u>;

       o      <u>Period</u>: the sub-type <u>period</u> of the <u>Duration</u> type. In practice its subtypes <u>den</u> <u>(DenType)</u>  and  <u>num</u>
              <u>(NumType)</u> are used;

       o      <u>DenType</u>: the denominator type of the <u>ratio</u> type used by the clock type (see also the static member
              <u>den</u>);

       o      <u>NumType</u>:  the  numerator type of the <u>ratio</u> type used by the clock type (see also the static member
              <u>num</u>);

</pre><h4><b>CONSTRUCTORS</b></h4><pre>
       The constructors are illustrated for <u>SystemClock</u> but are also available for the other clock types.

       o      <b>SystemClock(SystemClock::TimePoint</b> <b>=</b> <b>SystemClock::now())</b>:
              each clock-constructor can be initialized with a time point. By default the clock’s time point  is
              initialized by the time point returned by the clock type’s static <u>now</u> member;

       o      <b>SystemClock(Clock</b> <b>const</b> <b>&amp;otherClock)</b>:
              each  clock  type can be initialized with another clock type object (except for a <u>SteadyClock</u> type
              object): when constructed they refer to the same points in time.

       Copy and move constructors (and assignment operators) are available.

</pre><h4><b>OVERLOADED</b> <b>OPERATORS</b></h4><pre>
       Using <u>DurationType</u> to represent <u>std::chrono::duration&lt;int64_t,</u> <u>Ratio&gt;</u>, where <u>Ratio</u> is a  <u>std::ratio</u>  type
       (for clocks <u>Ratio</u> equals <u>nano</u>).

       o      <b>ClockType</b> <b>&amp;operator+=(DurationType</b> <b>const</b> <b>&amp;amount)</b>:
              adds <u>amount</u> to the current clock’s <u>TimePoint</u>. E.g.,

                  SystemClock sc;
                  sc += 1h;

       o      <b>ClockType</b> <b>&amp;operator+=(int</b> <b>secs);</b>:
              adds <u>secs</u> seconds to the current clock’s <u>TimePoint</u>;

       o      <b>ClockType</b> <b>&amp;operator-=(DurationType</b> <b>const</b> <b>&amp;amount);</b>:
              subtracts <u>amount</u> from the current clock’s <u>TimePoint</u>.  Not available for <u>SteadyClock</u>;

       o      <b>ClockType</b> <b>&amp;operator-=(int</b> <b>secs);</b>:
              subtracts <u>secs</u> seconds from the current clock’s <u>TimePoint</u>;

       o      <b>SteadyClock</b> <b>&amp;operator-=(SteadyClock</b> <b>const</b> <b>&amp;rhs)</b>:
              only  available  for  class  <u>SteadyClock</u>:  <u>rhs.elapsed()</u>  is  subtracted from the current object’s
              time-point. See also the functions <u>since</u> and <u>countSince</u> below.

       o      <b>std::ostream</b> <b>&amp;operator&lt;&lt;(std::ostream</b> <b>&amp;out,</b> <b>ClockType</b> <b>const</b> <b>&amp;clock)</b>:
              not available for <u>SteadyClock</u>; <u>clock’s</u> (UTC) <u>TimePoint</u> is inserted into <u>out</u>. E.g.,

                  cout &lt;&lt; SystemClock{};  // could insert
                                          // 2025-01-04 08:25:10.035509381

       o      <b>ClockType</b> <b>operator+(Type1</b> <b>const</b> <b>&amp;lhs,</b> <b>Type2</b> <b>const</b> <b>&amp;rhs)</b>:
              not available for <u>SteadyClock</u>. Either <u>Type1</u> or <u>Type2</u> must be an <b>FBB</b> Clock type (like <u>SystemClock</u>).
              The other type can either be an <u>int</u> (representing number  of  seconds)  or  a  <u>DurationType</u>  (like
              <u>seconds,</u>  <u>hours</u>).  A  clock  object  of  the  same  type  as the <u>Clock</u> argument is returned, whose
              <u>TimePoint</u> is initialized to the sum of the  argument’s  <u>TimePoint</u>  and  the  value  of  the  other
              argument;

       o      <b>ClockType</b> <b>operator-(ClockType</b> <b>const</b> <b>&amp;lhs,</b> <b>Type</b> <b>const</b> <b>&amp;rhs)</b>:
              both  argument  types can be <u>SteadyClock</u>. As <u>SteadyClock</u> objects are used for timing purposes this
              operator returns a <u>SteadyClock</u> object whose time specification is equal to the difference  of  the
              <u>lhs</u> and <u>rhs</u> time specifications (see also the functions <u>since</u> and <u>countSince</u> below).
              Otherwise the <u>lhs</u> argument must be an <b>FBB</b> Clock type (like <u>SystemClock</u>), and <u>Type</u> can either be an
              <u>int</u>  (representing  number  of seconds) or a <u>DurationType</u> (like <u>seconds,</u> <u>hours</u>), returning a clock
              object whose <u>TimePoint</u> is initialized to the difference of the <u>lhs’s</u> <u>TimePoint</u> and the <u>rhs</u> value;

</pre><h4><b>FREE</b> <b>FUNCTIONS</b></h4><pre>
       o      <b>auto</b> <b>toClock&lt;DestClock&gt;(ClockType</b> <b>const</b> <b>&amp;clock)</b>:
              returns the <u>DestClock::TimePoint</u> corresponding to the <u>TimePoint</u> of <u>clock</u>. It is not available  for
              conversions from or to the <u>SteadyClock</u> type. E.g.,

                  FileClock fc;
                  cout &lt;&lt; toClock&lt;SystemClock&gt;(fc) &lt;&lt; ’\n’;

       o      <b>double</b> <b>toDouble&lt;Duration&gt;(ClockType</b> <b>const</b> <b>&amp;src)</b>:
              returns  the  <u>double</u>  value  corresponding  to  <u>ClockType’s</u> <u>std::chrono::duration</u> converted to the
              <u>Duration</u> <u>std::chrono::duration</u>. E.g.,

                  toDouble&lt;hours&gt;(90min); // returns 1.5

       o      <b>Dest</b> <b>toDuration(Src</b> <b>const</b> <b>&amp;src)</b>:
              returns <u>src’s</u> <u>Duration</u> converted to the (at least as precise) <u>Dest</u> duration. E.g.,

                  toDuration&lt;seconds&gt;(1min).count(); // returns 60

</pre><h4><b>ADDITIONAL</b> <b>STEADYCLOCK</b> <b>FREE</b> <b>FUNCTIONS</b></h4><pre>
       The <u>SteadyClock</u> type is primarily used for timing purposes. The following two functions are available for
       <u>SteadyClock</u> objects:

       o      <b>SteadyClock::Duration</b> <b>since(SteadyClock</b> <b>const</b> <b>&amp;time0)</b>:
              The difference in nanoseconds (<u>Durations</u>) of a local <u>SteadyClock</u> object  and  <u>time0</u>  is  returned.
              E.g.,

                  SteadyClock start;
                  // do something
                  cout &lt;&lt; "Elapsed time: " &lt;&lt; since(start) &lt;&lt; ’\n’;

       o      <b>size_t</b> <b>countSince(SteadyClock</b> <b>const</b> <b>&amp;time0)</b>:
              Same as the previous function, but the number of nanoseconds are returned as a <u>size_t</u> value.

</pre><h4><b>MEMBER</b> <b>FUNCTIONS</b></h4><pre>
       All of the following members are available for each of <b>bobcat’s</b> clock types:

       o      <b>long</b> <b>int</b> <b>count()</b>:
              returns  <u>timePoint’s</u>  <u>value</u>.  The  clock  types  have members <u>timePoint()</u>: this member returns the
              number of nano seconds as an integral value since the beginning of the clock’s era. E.g.,

                  FileClock{}.clock();  // returns, e.g.,
                                        // -4701673791896351066

       o      <b>static</b> <b>long</b> <b>int</b> <b>ClockTypes::count(TimePoint</b> <b>const</b> <b>&amp;timePoint)</b>:
              returns <u>timePoint’s</u> <u>value</u>. This function can also be used for <u>SteadyClock</u> objects. E.g.,

                  ClockTypes::count(SteadyClock::now());  // returns, e.g.,
                                                          // 8310904806233

       o      <b>static</b> <b>DenType::den()</b>:
              returns the denominator of the <u>ratio</u> used by the clocks (= 1’000’000’000);

       o      <b>Duration</b> <b>elapsed()</b> <b>const</b>:
              returns the <u>Duration</u> value of the current  <u>Clock</u>  object  (=  number  of  nano-seconds  since  the
              beginning of the clock’s era). E.g.,

                  SystemClock{}.elapsed();    // returns, e.g.,
                                              // 1735989478991599467ns

       o      <b>static</b> <b>Duration</b> <b>ClockTypes::elapsed(TimePoint</b> <b>const</b> <b>&amp;timePoint)</b>:
              returns  <u>timePoint’s</u>  <u>Duration</u>.  Clock  types  have members <u>timePoint()</u> returning the clock’s time
              point;

       o      <b>static</b> <b>TimePoint</b> <b>max()</b>:
              returns the <u>TimePoint</u> of the used clock type corresponding to  the  clock’s  maximum  (UTC)  time.
              E.g.,

                  cout &lt;&lt; SystemClock::max();     // inserts:
                                                  // 2262-04-11 23:47:16...

       o      <b>static</b> <b>TimePoint</b> <b>min()</b>:
              returns the <u>TimePoint</u> of the used clock type corresponding to the clock’s minimum (UTC) time;

       o      <b>static</b> <b>TimePoint</b> <b>now()</b>:
              returns the <u>TimePoint</u> of the used clock type corresponding to the current (UTC) time. E.g.,

                  cout &lt;&lt; SystemClock::now() &lt;&lt; ’\n’;

       o      <b>static</b> <b>NumType::num()</b>:
              returns the numerator of the <u>ratio</u> used by the clocks (= 1);

       o      <b>static</b> <b>Period</b> <b>period()</b>:
              returns the clock’s <u>Period</u> (having members <u>den</u> and <u>num</u>);

       o      <b>TimePoint</b> <b>const</b> <b>&amp;timePoint()</b> <b>const</b>:
              returns the object’s <u>TimePoint</u>;

       o      <b>double</b> <b>toDouble&lt;Dest&gt;()</b> <b>const</b>:
              returns the <u>double</u> value corresponding to the object’s <u>std::chrono::duration</u> converted to the <u>Dest</u>
              <u>std::chrono::duration</u>. E.g.,

                  SystemClock{}.toDouble&lt;hours&gt;(); // returns, e.g., 482221

       o      <b>static</b> <b>Duration</b> <b>zero()</b>:
              returns the clock’s <u>Duration</u> representing 0 nanoseconds;

</pre><h4><b>ADDITIONAL</b> <b>SYSTEM</b> <b>/</b> <b>HIGHRESOLUTION</b> <b>CLOCK</b> <b>MEMBERS</b></h4><pre>
       Primarily  for  displaying the clock’s time the <u>SystemClock</u> and <u>HighResolutionClock</u> classes support these
       members:

       o      <b>std::time_t</b> <b>timeT()</b> <b>const</b>:
              returns the object’s <u>TimePoint</u> converted to <u>time_t</u> (cf. <b><a href="../man3/time.3.html">time</a></b>(3));

       o      <b>Clock</b> <b>&amp;setTime(std::time_t</b> <b>seconds)</b>:
              returns the current object after resetting its <u>TimePoint</u> to its <u>time_t</u> argument;

       o      <b>Clock</b> <b>const</b> <b>&amp;operator()(char</b> <b>const</b> <b>*putTime,</b> <b>bool</b> <b>localTime</b> <b>=</b> <b>true)</b> <b>const</b>:
              prepares the current object for the next insertion operator, using the  <u>putTime</u>  specification  to
              configure  the  <u>std::put_time</u>  manipulator  (cf.  <u>C++</u>  <u>Annotations</u>,  section 6.4.4 (The `put_time’
              manipulator)). By default the time is displayed using the local time. When  the  2nd  argument  is
              <u>false</u>  the time is displayed in <u>UTC</u>. When the current object is inserted into a <u>std::ostream</u> after
              calling this member the <u>put_time</u> manipulator is used only  once.  By  calling  this  member  again
              <u>put_time</u> is repeatedly used. E.g.,

                  SystemClock sc;
                  cout &lt;&lt;                     // inserts, e.g.,
                      sc("%Y") &lt;&lt; ’\n’ &lt;&lt;     // 2025
                      sc("%y") &lt;&lt; ’\n’ &lt;&lt;     // 25
                      sc &lt;&lt; ’\n’;             // 2025-01-04 14:18:47...

</pre><h4><b>EXAMPLE</b></h4><pre>
       #include &lt;iostream&gt;
       #include &lt;string&gt;
       #include &lt;thread&gt;

       #include &lt;bobcat/fileclock&gt;
       #include &lt;bobcat/highresolutionclock&gt;
       #include &lt;bobcat/steadyclock&gt;
       #include &lt;bobcat/systemclock&gt;

       using namespace std;
       using namespace FBB;

       int main()
       {
           SystemClock sysNow{  };
           cout &lt;&lt; "system clock at " &lt;&lt; sysNow    &lt;&lt; "\n"
                   "elapsed: " &lt;&lt; sysNow.elapsed() &lt;&lt; "\n\n";

                                           // same timespec, elapsed ns.
           FileClock fileNow{ sysNow };    // is clock-specific
           cout &lt;&lt; "file clock at " &lt;&lt; fileNow &lt;&lt; "\n"
                   "elapsed: " &lt;&lt; fileNow.elapsed() &lt;&lt; "\n\n";

           SystemClock sysNow2{ fileNow };
           cout &lt;&lt; "system clock at " &lt;&lt; sysNow2 &lt;&lt; "\n"
                   "elapsed: " &lt;&lt; sysNow2.elapsed() &lt;&lt; "\n\n";

           cout &lt;&lt; sysNow2("%Y %b %d, %H:%M:%S")           &lt;&lt; "\n"
                   "\n"
                   "minimum time: " &lt;&lt; sysNow2.min()       &lt;&lt; "\n"
                   "maximum time: " &lt;&lt; SystemClock::max()  &lt;&lt; "\n\n";

           // conversion to less precise time specification:
           cout &lt;&lt; "100 minutes is " &lt;&lt; toDouble&lt;hours&gt;(100min) &lt;&lt; " hours\n\n";

           HighResolutionClock hrc{ fileNow };
           cout &lt;&lt; "high resolution clock at " &lt;&lt; hrc &lt;&lt; "\n\n";

           SteadyClock sc0;            // computing ’since’ itself takes several
           auto passed = since(sc0);   // (variable) hundred nano seconds
           cout &lt;&lt; "sc0 since: " &lt;&lt; passed &lt;&lt; ’\n’;

           SteadyClock sc;

           this_thread::<a href="../man1s/sleep_for.1s.html">sleep_for</a>(1s);

           cout &lt;&lt;
               "ELAPSED:  " &lt;&lt; since(sc) &lt;&lt; ’\n’ &lt;&lt;
               "(small delay...)\n"
               "as count: " &lt;&lt; countSince(sc) &lt;&lt; "\n\n";
       }

</pre><h4><b>FILES</b></h4><pre>
       <u>bobcat/fileclock</u>,   - the <u>FileClock</u> class interface
       <u>bobcat/highresulutionclock</u> - the <u>HighResolutionClock</u> class interface
       <u>bobcat/steadyclock</u>  - the <u>SteadyClock</u> class interface
       <u>bobcat/systemclock</u> - the <u>SystemClock</u> class interface

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/bobcat.7.html">bobcat</a></b>(7), <b><a href="../man3/time.3.html">time</a></b>(3),

</pre><h4><b>BUGS</b></h4><pre>
       None Reported.

</pre><h4><b>BOBCAT</b> <b>PROJECT</b> <b>FILES</b></h4><pre>
       o      <u>https://fbb-git.gitlab.io/bobcat/</u>: gitlab project page;

       Debian Bobcat project files:

       o      <u>libbobcat6</u>: debian package containing the shared library, changelog and copyright note;

       o      <u>libbobcat-dev</u>:  debian package containing the static library, headers, manual pages, and developer
              info;

</pre><h4><b>BOBCAT</b></h4><pre>
       Bobcat is an acronym of `Brokken’s Own Base Classes And Templates’.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This is free software, distributed under the terms of the GNU General Public License (GPL).

</pre><h4><b>AUTHOR</b></h4><pre>
       Frank B. Brokken (<b><a href="mailto:f.b.brokken@rug.nl">f.b.brokken@rug.nl</a></b>).

libbobcat-dev_6.07.01                               2005-2025                               <u>FBB::*<a href="../man3bobcat/Clock.3bobcat.html">Clock</a></u>(3bobcat)
</pre>
 </div>
</div></section>
</div>
</body>
</html>