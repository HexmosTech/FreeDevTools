<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fixup_datafile - Fixes truecolor images in compiled datafiles. Allegro game programming library.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/allegro4-doc">allegro4-doc_4.4.3.1-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fixup_datafile - Fixes truecolor images in compiled datafiles. Allegro game programming library.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;allegro.h&gt;</b>

       <b>void</b> <b>fixup_datafile(DATAFILE</b> <b>*data);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       If  you  are  using  compiled  datafiles  (produced  by the dat2s and dat2c utilities) on a platform that
       doesn't support constructors (currently  any  non  GCC-based  platform),  or  if  the  datafiles  contain
       truecolor  images, you must call this function once after your set the video mode that you will be using.
       This will ensure the datafiles are properly initialised in the first case and convert  the  color  values
       into  the  appropriate  format  in  the second case. It handles flipping between RGB and BGR formats, and
       converting between different color depths whenever that can be done without  changing  the  size  of  the
       image  (ie.  changing 15&lt;-&gt;16-bit hicolor for both bitmaps and RLE sprites, and 24&lt;-&gt;32-bit truecolor for
       RLE sprites).

       Note that you can only call this once and expect it  to  work  correctly,  because  after  the  call  the
       DATAFILE  you  fixed  up  is permanently converted to whatever is the current component ordering for your
       screen mode. If you call fixup_datafile again, the function assumes you have a freshly  loaded  datafile.
       It cannot "undo" the previous conversion.

       If  your  program  supports  changing resolution and/or color depth during runtime, you have two choices:
       either call fixup_datafile() just once and hope that the component ordering and bit depth doesn't  change
       when the screen mode changes (unlikely). Or, you can reload your datafiles when the screen mode changes.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3alleg4/set_gfx_mode.3alleg4.html">set_gfx_mode</a></b>(3alleg4), <b><a href="../man3alleg4/set_color_conversion.3alleg4.html">set_color_conversion</a></b>(3alleg4)

Allegro                                           version 4.4.3                          <u><a href="../man3alleg4/fixup_datafile.3alleg4.html">fixup_datafile</a></u>(3alleg4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>