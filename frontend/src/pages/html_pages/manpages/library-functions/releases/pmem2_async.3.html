<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmem2_config_set_vdm()(DEPRECATED),  pmem2_memcpy_async()(DEPRECATED), pmem2_memmove_async()(DEPRECATED),</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpmem2-dev">libpmem2-dev_1.13.1-1.1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmem2_config_set_vdm</b>()(DEPRECATED),  <b>pmem2_memcpy_async</b>()(DEPRECATED), <b>pmem2_memmove_async</b>()(DEPRECATED),
       <b>pmem2_memset_async</b>()(DEPRECATED) - asynchronous data movement operations

              NOTICE: Support for async functions is deprecated since PMDK 1.13.0 release and will be removed in
              the PMDK 1.14.0 release along with the miniasync dependency.

</pre><h4><b>SYNOPSIS</b></h4><pre>
              #define PMEM2_USE_MINIASYNC 1
              #include &lt;libpmem2.h&gt;
              struct pmem2_future;

              int pmem2_config_set_vdm(struct pmem2_config *cfg, struct vdm *vdm);

              struct pmem2_future pmem2_memcpy_async(struct pmem2_map *map,
                  void *pmemdest, const void *src, size_t len, unsigned flags);

              struct pmem2_future pmem2_memmove_async(struct pmem2_map *map, void *pmemdest, const void *src,
                  size_t len, unsigned flags)

              struct pmem2_future pmem2_memset_async(struct pmem2_map *map,
                  void *pmemstr,  int c, size_t n, unsigned flags)
              {

</pre><h4><b>DESCRIPTION</b></h4><pre>
       To use those functions, you must have <u>libminiasync</u> installed.  Those functions use futures and vdm  (vir‐
       tual data mover) concepts from this library.  Please check <b><a href="../man7/miniasync.7.html">miniasync</a></b>(7) for more details.

       The  struct  <b>pmem2_future</b>  is a structure describing a task to be done asynchronously taking into account
       persistence of the operation.  It means that by the time the future is complete, all the data  is  safely
       written into a persistent domain.

       The  <b>pmem2_config_set_vdm</b>  sets  a  vdm  structure  in  the <u>pmem2_config</u>.  This structure will be used by
       pmem2_*_async functions, to create a <u>pmem2_future</u>.  If vdm is not set in the config,  pmem2_map_new  will
       use  a  default  one  which  uses  a  pmem2  memory  movement  functions  to  perform  memory operations.
       (<b><a href="../man3/pmem2_get_memcpy_fn.3.html">pmem2_get_memcpy_fn</a></b>(3), <b><a href="../man3/pmem2_get_memmove_fn.3.html">pmem2_get_memmove_fn</a></b>(3), <b><a href="../man3/pmem2_get_memset_fn.3.html">pmem2_get_memset_fn</a></b>(3)).

       The <b>pmem2_memcpy_async</b> uses <u>vdm</u> structure held inside the <u>pmem2_map</u> structure to initialise  and  returns
       <b>pmem2_future</b>.   This  future  will  perform memcpy operation defined in <u>vdm</u> to copy <u>len</u> bytes from <u>src</u> to
       <u>pmemdest</u>.  In the current implementation <u>flags</u> are ignored.

       The <b>pmem2_memmove_async</b> returns <b>pmem2_future</b> which will perform memmove operation defined in <u>vdm</u> to  copy
       <u>len</u> bytes from <u>src</u> to <u>pmemdest</u>.  In the current implementation <u>flags</u> are ignored.

       The  <b>pmem2_memset_async</b> returns <b>pmem2_future</b> which will perform memset operation defined in <u>vdm</u> to fill <u>n</u>
       bytes from <u>pmemstr</u> with value of int <u>c</u> interpreted as unsigned char.  In the current implementation <u>flags</u>
       are ignored.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       The <b>pmem2_config_set_vdm</b> always return 0.

       The <b>pmem2_memcpy_async</b> returns a new instance of <b>pmem2_future</b> performing memcpy operation.  You can  exe‐
       cute returned structure using methods from the <b>libminiasync</b>() library such as <b><a href="../man3/FUTURE_BUSY_POLL.3.html">FUTURE_BUSY_POLL</a></b>(3).

       The <b>pmem2_memmove_async</b> returns a new instance of <b>pmem2_future</b> performing memmove operation.

       The <b>pmem2_memset_async</b> returns a new instance of <b>pmem2_future</b> performing memset operation.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/memcpy.3.html">memcpy</a></b>(3),  <b><a href="../man3/memmove.3.html">memmove</a></b>(3), <b><a href="../man3/memset.3.html">memset</a></b>(3), <b><a href="../man3/pmem2_get_drain_fn.3.html">pmem2_get_drain_fn</a></b>(3), <b><a href="../man3/pmem2_get_memcpy_fn.3.html">pmem2_get_memcpy_fn</a></b>(3), <b><a href="../man3/pmem2_get_memset_fn.3.html">pmem2_get_memset_fn</a></b>(3),
       <b><a href="../man3/pmem2_map_new.3.html">pmem2_map_new</a></b>(3), <b><a href="../man3/pmem2_get_persist_fn.3.html">pmem2_get_persist_fn</a></b>(3), <b><a href="../man3/vdm_memcpy.3.html">vdm_memcpy</a></b>(3), <b><a href="../man7/miniasync.7.html">miniasync</a></b>(7), <b><a href="../man7/miniasync_future.7.html">miniasync_future</a></b>(7),  <b><a href="../man7/libpmem2.7.html">libpmem2</a></b>(7)
       and <b>&lt;https://pmem.io&gt;</b>
</pre>
 </div>
</div></section>
</div>
</body>
</html>