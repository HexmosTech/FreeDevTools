<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVP_SKEY, EVP_SKEY_generate, EVP_SKEY_import, EVP_SKEY_import_raw_key, EVP_SKEY_up_ref, EVP_SKEY_export,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       EVP_SKEY, EVP_SKEY_generate, EVP_SKEY_import, EVP_SKEY_import_raw_key, EVP_SKEY_up_ref, EVP_SKEY_export,
       EVP_SKEY_get0_raw_key, EVP_SKEY_get0_key_id, EVP_SKEY_get0_skeymgmt_name, EVP_SKEY_get0_provider_name,
       EVP_SKEY_free, EVP_SKEY_is_a, EVP_SKEY_to_provider - opaque symmetric key allocation and handling
       functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/evp.h&gt;

        typedef evp_skey_st EVP_SKEY;

        EVP_SKEY *EVP_SKEY_generate(OSSL_LIB_CTX *libctx, const char *skeymgmtname,
                                    const char *propquery, const OSSL_PARAM *params);
        EVP_SKEY *EVP_SKEY_import(OSSL_LIB_CTX *libctx, const char *skeymgmtname,
                                  const char *propquery,
                                  int selection, const OSSL_PARAM *params);
        EVP_SKEY *EVP_SKEY_import_raw_key(OSSL_LIB_CTX *libctx, const char *skeymgmtname,
                                          unsigned char *key, size_t *len,
                                          const char *propquery);
        int EVP_SKEY_export(const EVP_SKEY *skey, int selection,
                            OSSL_CALLBACK *export_cb, void *export_cbarg);
        int EVP_SKEY_get0_raw_key(const EVP_SKEY *skey, const unsigned char **key,
                                 size_t *len);
        const char *EVP_SKEY_get0_key_id(const EVP_SKEY *skey);

        const char *EVP_SKEY_get0_skeymgmt_name(const EVP_SKEY *skey);
        const char *EVP_SKEY_get0_provider_name(const EVP_SKEY *skey);

        int EVP_SKEY_up_ref(EVP_SKEY *key);
        void EVP_SKEY_free(EVP_SKEY *key);
        int EVP_SKEY_is_a(const EVP_SKEY *skey, const char *name);
        EVP_SKEY *EVP_SKEY_to_provider(EVP_SKEY *skey, OSSL_LIB_CTX *libctx,
                                       OSSL_PROVIDER *prov, const char *propquery);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>EVP_SKEY</b> is a generic structure to hold symmetric keys as opaque objects.  The keys themselves are often
       referred to as the "internal key", and are handled by providers using <b><a href="../man3/EVP_SKEYMGMT.3.html">EVP_SKEYMGMT</a></b>(3).

       Conceptually, an <b>EVP_SKEY</b> internal key may hold a symmetric key, and along with those, key parameters if
       the key type requires them.

       The <b>EVP_SKEY_generate()</b> functions creates a new <b>EVP_SKEY</b> object and initializes it according to the
       <b>params</b> argument.

       The <b>EVP_SKEY_import()</b> function allocates an empty <b>EVP_SKEY</b> structure which is used by OpenSSL to store
       symmetric keys, assigns the <b>EVP_SKEYMGMT</b> object associated with the key, and initializes the object from
       the <b>params</b> argument.

       The <b>EVP_SKEY_import_raw_key()</b> function is a helper that creates an <b>EVP_SKEY</b> object containing the raw
       byte representation of the symmetric keys.

       The <b>EVP_SKEY_export()</b> function extracts values from a key <u>skey</u> using the <u>selection</u>.  <u>selection</u> is
       described below. It uses a callback <u>export_cb</u> that gets passed the value of <u>export_cbarg</u>.  See
       <b><a href="../man7/openssl-core.h.7.html">openssl-core.h</a></b>(7) for more information about the callback. Note that the <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3) array that is
       passed to the callback is not persistent after the callback returns.

       The <b>EVP_SKEY_get0_raw_key()</b> returns a pointer to a raw key bytes to the passed address and sets the key
       len. The returned address is managed by the internal key management and shouldn't be freed explicitly.
       The operation can fail when the underlying key management doesn't support export of the secret key.

       The <b>EVP_SKEY_get0_key_id()</b> returns a NUL-terminated string providing some human-readable identifier of
       the key if provided by the underlying key management. The pointer becomes invalid after freeing the
       EVP_SKEY object.

       The <b>EVP_SKEY_get0_skeymgmt_name()</b> and <b>EVP_SKEY_get0_provider_name()</b> return the names of the associated
       EVP_SKEYMGMT object and its provider correspondingly.

       <b>EVP_SKEY_up_ref()</b> increments the reference count of <u>key</u>.

       <b>EVP_SKEY_free()</b> decrements the reference count of <u>key</u> and, if the reference count is zero, frees it. If
       <u>key</u> is NULL, nothing is done.

       <b>EVP_SKEY_is_a()</b> checks if the key type of <u>skey</u> is <u>name</u>.

       <b>EVP_SKEY_to_provider()</b> simplifies the task of importing a <u>skey</u> into a different provider identified by
       <u>prov</u>. If <u>prov</u> is NULL, the default provider for the key type identified via <u>skey</u> is used.

   <b>Selections</b>
       The following constants can be used for <u>selection</u>:

       <b>OSSL_SKEYMGMT_SELECT_SECRET_KEY</b>
           Only the raw key representation will be selected.

       <b>OSSL_SKEYMGMT_SELECT_PARAMETERS</b>
           Only the key parameters will be selected. This includes optional key parameters.

       <b>OSSL_SKEYMGMT_SELECT_ALL</b>
           All parameters will be selected.

</pre><h4><b>NOTES</b></h4><pre>
       The <b>EVP_SKEY</b> structure is used by various OpenSSL functions which require a general symmetric key without
       reference to any particular algorithm.

       The  <b>EVP_SKEY_to_provider()</b>  function will fail and return NULL if the origin key <u>skey</u> cannot be exported
       from its provider.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>EVP_SKEY_generate()</b>, <b>EVP_SKEY_import()</b> and <b>EVP_SKEY_import_raw_key()</b> return either  the  newly  allocated
       <b>EVP_SKEY</b> structure or NULL if an error occurred.

       <b>EVP_SKEY_get0_key_id()</b> returns either a valid pointer or NULL.

       <b>EVP_SKEY_up_ref()</b> returns 1 for success and 0 on failure.

       <b>EVP_SKEY_export()</b> and <b>EVP_SKEY_get0_raw_key()</b> return 1 for success and 0 on failure.

       <b>EVP_SKEY_get0_skeymgmt_name()</b>  and  <b>EVP_SKEY_get0_provider_name()</b>  return  the  names  of  the associated
       EVP_SKEYMGMT object and its provider correspondigly.

       <b>EVP_SKEY_is_a()</b> returns 1 if <u>skey</u> has the key type <u>name</u>, otherwise 0.

       <b>EVP_SKEY_to_provider()</b> returns a new <b>EVP_SKEY</b> suitable for operations with the <u>prov</u> provider or  NULL  in
       case of failure.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/EVP_SKEYMGMT.3.html">EVP_SKEYMGMT</a></b>(3), <b><a href="../man7/provider.7.html">provider</a></b>(7), <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       The   <b>EVP_SKEY</b>   API   and   functions   <b>EVP_SKEY_export()</b>,   <b>EVP_SKEY_free()</b>,   <b>EVP_SKEY_get0_raw_key()</b>,
       <b>EVP_SKEY_import()</b>,       <b>EVP_SKEY_import_raw_key()</b>,        <b>EVP_SKEY_up_ref()</b>,        <b>EVP_SKEY_generate()</b>,
       <b>EVP_SKEY_get0_key_id()</b>,  <b>EVP_SKEY_get0_provider_name()</b>,  <b>EVP_SKEY_get0_skeymgmt_name()</b>,  <b>EVP_SKEY_is_a()</b>,
       <b>EVP_SKEY_to_provider()</b> were introduced in OpenSSL 3.5.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2025 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file  except  in  compliance
       with  the  License.   You  can  obtain  a  copy  in  the  file  LICENSE  in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                                     <u><a href="../man3SSL/EVP_SKEY.3SSL.html">EVP_SKEY</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>