<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>efirt, efi_rt_ok, efi_get_table, efi_get_time, efi_get_time_capabilities, efi_reset_system, efi_set_time,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       efirt, efi_rt_ok, efi_get_table, efi_get_time, efi_get_time_capabilities, efi_reset_system, efi_set_time,
       efi_var_get, efi_var_nextname, efi_var_set â€” kernel access to UEFI runtime services

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>options</b> <b>EFIRT</b>

       <b>#include</b> <b>&lt;sys/efi.h&gt;</b>

       <u>int</u>
       <b>efi_rt_ok</b>(<u>void</u>);

       <u>int</u>
       <b>efi_get_table</b>(<u>struct</u> <u>uuid</u> <u>*uuid</u>, <u>void</u> <u>**ptr</u>);

       <u>int</u>
       <b>efi_get_time</b>(<u>struct</u> <u>efi_tm</u> <u>*tm</u>);

       <u>int</u>
       <b>efi_get_time_capabilities</b>(<u>struct</u> <u>efi_tmcap</u> <u>*tmcap</u>);

       <u>int</u>
       <b>efi_reset_system</b>(<u>void</u>);

       <u>int</u>
       <b>efi_set_time</b>(<u>struct</u> <u>efi_tm</u> <u>*tm</u>);

       <u>int</u>
       <b>efi_var_get</b>(<u>uint16_t</u> <u>*name</u>, <u>struct</u> <u>uuid</u> <u>*vendor</u>, <u>uint32_t</u> <u>*attrib</u>, <u>size_t</u> <u>*datasize</u>, <u>void</u> <u>*data</u>);

       <u>int</u>
       <b>efi_var_nextname</b>(<u>size_t</u> <u>*namesize</u>, <u>uint16_t</u> <u>*name</u>, <u>struct</u> <u>uuid</u> <u>*vendor</u>);

       <u>int</u>
       <b>efi_var_set</b>(<u>uint16_t</u> <u>*name</u>, <u>struct</u> <u>uuid</u> <u>*vendor</u>, <u>uint32_t</u> <u>*attrib</u>, <u>size_t</u> <u>*datasize</u>, <u>void</u> <u>*data</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       All  of  the  following  calls  will  return  ENXIO if UEFI runtime services are not available.  <b>efirt</b> is
       currently only available on amd64 and arm64.

       The <b>efi_rt_ok</b>() Returns 0 if UEFI runtime services are present and functional, or ENXIO if not.

       The <b>efi_get_table</b>() function gets a table by uuid from the UEFI system table.  Returns 0 if the table was
       found and populates *ptr with the address.  Returns ENXIO if the configuration table or system table  are
       unset.  Returns ENOENT if the requested table cannot be found.

       The  <b>efi_get_time</b>()  function  gets the current time from the RTC, if available.  Returns 0 and populates
       the <u>struct</u> <u>efi_tm</u> on success.  Returns EINVAL if the <u>struct</u> <u>efi_tm</u> is NULL, or EIO if the time could  not
       be retrieved due to a hardware error.

       The <b>efi_get_time_capabilities</b>() function gets the capabilities from the RTC.  Returns 0 and populates the
       <u>struct</u>  <u>efi_tmcap</u>  on success.  Returns EINVAL if the <u>struct</u> <u>efi_tm</u> is NULL, or EIO if the time could not
       be retrieved due to a hardware error.

       The <b>efi_reset_system</b>() function requests a warm reset and reboot of the system.

       The <b>efi_set_time</b>() function sets the time on the RTC to the time described by the  <u>struct</u>  <u>efi_tm</u>  passed
       in.   Returns  0  on success, EINVAL if a time field is out of range, or EIO if the time could not be set
       due to a hardware error.

       The <b>efi_var_get</b>() function fetches the variable identified by <u>vendor</u> and <u>name</u>.  Returns 0  and  populates
       <u>attrib</u>, <u>datasize</u>, and <u>data</u> on success.  Otherwise, one of the following errors are returned:

       ENOENT     The variable was not found.

       EOVERFLOW  <u>datasize</u> is not sufficient to hold the variable data.  <u>namesize</u> is updated to reflect the size
                  needed to complete the request.

       EINVAL     One  of  <u>name</u>,  <u>vendor</u>, or <u>datasize</u> are NULL.  Alternatively, <u>datasize</u> is large enough to hold
                  the response but <u>data</u> is NULL.

       EIO        The variable could not be retrieved due to a hardware error.

       EDOOFUS    The variable could not be retireved due to an authentication failure.

       The <b>efi_var_nextname</b>()  function  is  used  for  enumeration  of  variables.   On  the  initial  call  to
       <b>efi_var_nextname</b>(),  <u>name</u>  should  be an empty string.  Subsequent calls should pass in the last <u>name</u> and
       <u>vendor</u> returned until ENOENT is returned.  Returns 0 and populates <u>namesize</u>, <u>name</u>, and  <u>vendor</u>  with  the
       next variable's data.  Otherwise, returns one of the following errors:

       ENOENT     The next variable was not found.

       EOVERFLOW  <u>datasize</u> is not sufficient to hold the variable data.  <u>namesize</u> is updated to reflect the size
                  needed to complete the request.

       EINVAL     One of <u>name</u>, <u>vendor</u>, or <u>datasize</u> are NULL.

       EIO        The variable could not be retrieved due to a hardware error.

       The <b>efi_var_set</b>() function sets the variable described by <u>name</u> and <u>vendor</u>.  Returns 0 if the variable has
       been successfully.  Otherwise, returns one of the following errors:

       EINVAL     Either  <u>attrib</u>  was an invalid combination of attributes, <u>datasize</u> exceeds the maximum allowed
                  size, or <u>name</u> is an empty Unicode stirng.

       EAGAIN     Not enough storage is available to hold the variable and its data.

       EIO        The variable could not be saved due to a hardware error.

       EROFS      The variable in question is read-only or may not be deleted.

       EDOOFUS    The varialbe could not be set due to an authentication failure.

       ENOENT     The variable trying to be updated or deleted was not found.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man4/efidev.4.html">efidev</a></u>(4)

</pre><h4><b>AUTHORS</b></h4><pre>
       This manual page was written by Kyle Evans &lt;<u><a href="mailto:kevans@FreeBSD.org">kevans@FreeBSD.org</a></u>&gt;.

Debian                                           August 12, 2018                                        <u><a href="../man9/EFIRT.9.html">EFIRT</a></u>(9)
</pre>
 </div>
</div></section>
</div>
</body>
</html>