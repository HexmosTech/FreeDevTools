<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>filter_kalman - Unidimensional Kalman filter, also known as linear quadratic estimation (LQE)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/linuxcnc-uspace">linuxcnc-uspace_2.9.4-2ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       filter_kalman - Unidimensional Kalman filter, also known as linear quadratic estimation (LQE)

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>loadrt</b> <b>filter_kalman</b> <b>[count=</b><u>N</u><b>|names=</b><u>name1</u><b>[,</b><u>name2...</u><b>]]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Useful for reducing input signal noise (e.g. from the voltage or temperature sensor).

       More information can be found at https://en.wikipedia.org/wiki/Kalman_filter.

       Adjusting <b>Qr</b> and <b>Qk</b> covariances:

       Default  values  of <b>Rk</b> and <b>Qk</b> are given for informational purpose only. The nature of the filter requires
       the parameters to be individually computed.

       One of the possible and quite practical method (probably far from being the best) of  estimating  the  <b>Rk</b>
       covariance is to collect the raw data from the sensor by either asserting the <b>debug</b> pin or using <b>halscope</b>
       and  then  compute  the  covariance  using <b>cov()</b> function from <b>Octave</b> package. Ready to use script can be
       found at https://github.com/dwrobel/TrivialKalmanFilter/blob/master/examples/DS18B20Test/covariance.m.

       Adjusting <b>Qk</b> covariance mostly depends on  the  required  response  time  of  the  filter.   There  is  a
       relationship  between  <b>Qk</b>  and response time of the filter that the lower the <b>Qk</b> covariance is the slower
       the response of the filter is.

       Common practice is also to conservatively set <b>Rk</b> and  <b>Qk</b>  slightly  larger  then  computed  ones  to  get
       robustness.

</pre><h4><b>FUNCTIONS</b></h4><pre>
       <b>filter-kalman.</b><u>N</u> (requires a floating-point thread)
              Update <b>xk-out</b> based on <b>zk</b> input.

</pre><h4><b>PINS</b></h4><pre>
       <b>filter-kalman.</b><u>N</u><b>.debug</b> bit in (default: <u>FALSE</u>)
              When asserted, prints out measured and estimated values.

       <b>filter-kalman.</b><u>N</u><b>.passthrough</b> bit in (default: <u>FALSE</u>)
              When asserted, copies measured value into estimated value.

       <b>filter-kalman.</b><u>N</u><b>.reset</b> bit in (default: <u>FALSE</u>)
              When  asserted,  resets filter to its initial state and returns 0 as an estimated value (<b>reset</b> pin
              has higher priority than <b>passthrough</b> pin).

       <b>filter-kalman.</b><u>N</u><b>.zk</b> float in
              Measured value.

       <b>filter-kalman.</b><u>N</u><b>.xk-out</b> float out
              Estimated value.

</pre><h4><b>PARAMETERS</b></h4><pre>
       <b>filter-kalman.</b><u>N</u><b>.Rk</b> float rw (default: <u>1.17549e-38</u>)
              Estimation of the noise covariances (process).

       <b>filter-kalman.</b><u>N</u><b>.Qk</b> float rw (default: <u>1.17549e-38</u>)
              Estimation of the noise covariances (observation).

</pre><h4><b>AUTHOR</b></h4><pre>
       Dmian Wrobel &lt;<a href="mailto:dwrobel@ertelnet.rybnik.pl">dwrobel@ertelnet.rybnik.pl</a>&gt;

</pre><h4><b>LICENSE</b></h4><pre>
       GPL-2.0-or-later

LinuxCNC Documentation                             2025-08-07                                   <u><a href="../man9/FILTER_KALMAN.9.html">FILTER_KALMAN</a></u>(9)
</pre>
 </div>
</div></section>
</div>
</body>
</html>