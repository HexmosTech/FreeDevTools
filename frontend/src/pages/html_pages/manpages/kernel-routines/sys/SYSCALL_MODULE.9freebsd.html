<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYSCALL_MODULE — syscall kernel module declaration macro</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SYSCALL_MODULE — syscall kernel module declaration macro

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/param.h&gt;</b>
       <b>#include</b> <b>&lt;sys/kernel.h&gt;</b>
       <b>#include</b> <b>&lt;sys/proc.h&gt;</b>
       <b>#include</b> <b>&lt;sys/module.h&gt;</b>
       <b>#include</b> <b>&lt;sys/sysent.h&gt;</b>

       <b>SYSCALL_MODULE</b>(<u>name</u>, <u>int</u> <u>*offset</u>, <u>struct</u> <u>sysent</u> <u>*new_sysent</u>, <u>modeventhand_t</u> <u>evh</u>, <u>void</u> <u>*arg</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>SYSCALL_MODULE</b>()  macro  declares  a  new  syscall.   <b>SYSCALL_MODULE</b>()  expands into a kernel module
       declaration with name ‘sys/<u>name</u>’.

       The rest of the arguments expected by this macro are:

       <u>offset</u>      A pointer to an <u>int</u> which saves the offset in <u>struct</u> <u>sysent</u> where the syscall  is  allocated.
                   If the location pointed to by <u>offset</u> holds a non 0 number it will be used if possible.  If it
                   holds 0 then one will be assigned.

       <u>new_sysent</u>  is  a  pointer  to  a  structure that specifies the function implementing the syscall and the
                   number of arguments this function needs (see &lt;<u>sys/sysent.h</u>&gt;).

       <u>evh</u>         A pointer to the kernel module event handler function with the argument <u>arg</u>.  Please refer to
                   <u><a href="../man9/module.9.html">module</a></u>(9) for more information.

       <u>arg</u>         The argument passed to the callback functions of the <u>evh</u> event handler when it is called.

       The syscall number assigned to the module can be retrieved using the <u><a href="../man3/modstat.3.html">modstat</a></u>(3)  and  <u><a href="../man3/modfind.3.html">modfind</a></u>(3)  library
       functions  in  libc.   The  MACRO  <b>SYSCALL_MODULE_HELPER</b>()  includes  <b>SYSCALL_MODULE</b>()  and  much  of its
       boilerplate code.

</pre><h4><b>EXAMPLES</b></h4><pre>
       A minimal example for a syscall module can be found in <u>/usr/share/examples/kld/syscall/module/syscall.c</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man9/module.9.html">module</a></u>(9)

       <u>/usr/share/examples/kld/syscall/module/syscall.c</u>

</pre><h4><b>AUTHORS</b></h4><pre>
       This manual page was written by Alexander Langer &lt;<u><a href="mailto:alex@FreeBSD.org">alex@FreeBSD.org</a></u>&gt;.

Debian                                          January 24, 2015                               <u><a href="../man9/SYSCALL_MODULE.9.html">SYSCALL_MODULE</a></u>(9)
</pre>
 </div>
</div></section>
</div>
</body>
</html>