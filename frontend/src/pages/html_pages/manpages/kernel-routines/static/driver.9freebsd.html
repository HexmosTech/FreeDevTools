<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>driver — structure describing a device driver</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       driver — structure describing a device driver

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;sys/param.h&gt;
       #include &lt;sys/kernel.h&gt;
       #include &lt;sys/bus.h&gt;
       #include &lt;sys/module.h&gt;

       static int foo_probe(device_t);
       static int foo_attach(device_t);
       static int foo_detach(device_t);
       static int foo_frob(device_t, int, int);
       static int foo_twiddle(device_t, char *);

       static device_method_t foo_methods[] = {
               /* Methods from the device interface */
               DEVMETHOD(device_probe,         foo_probe),
               DEVMETHOD(device_attach,        foo_attach),
               DEVMETHOD(device_detach,        foo_detach),

               /* Methods from the bogo interface */
               DEVMETHOD(bogo_frob,            foo_frob),
               DEVMETHOD(bogo_twiddle,         foo_twiddle),

               /* Terminate method list */
               DEVMETHOD_END
       };

       static driver_t foo_driver = {
               "foo",
               foo_methods,
               sizeof(struct foo_softc)
       };

       static devclass_t foo_devclass;

       DRIVER_MODULE(foo, bogo, foo_driver, foo_devclass, NULL, NULL);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Each  driver  in the kernel is described by a driver_t structure.  The structure contains the name of the
       device, a pointer to a list of methods, an indication of the kind of device which the  driver  implements
       and the size of the private data which the driver needs to associate with a device instance.  Each driver
       will  implement  one  or  more  sets  of  methods (called interfaces).  The example driver implements the
       standard "driver" interface and the fictitious "bogo" interface.

       When a driver is registered with the system (by the DRIVER_MODULE macro,  see  <u><a href="../man9/DRIVER_MODULE.9.html">DRIVER_MODULE</a></u>(9)),  it  is
       added  to  the  list  of  drivers contained in the devclass of its parent bus type.  For instance all PCI
       drivers would be contained in the devclass named "pci" and all ISA drivers would be in the devclass named
       "isa".  The reason the drivers are not held in the device object of the parent bus is to handle  multiple
       instances of a given type of bus.  The DRIVER_MODULE macro will also create the devclass with the name of
       the  driver and can optionally call extra initialisation code in the driver by specifying an extra module
       event handler and argument as the last two arguments.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man9/devclass.9.html">devclass</a></u>(9),  <u><a href="../man9/device.9.html">device</a></u>(9),   <u><a href="../man9/DEVICE_ATTACH.9.html">DEVICE_ATTACH</a></u>(9),   <u><a href="../man9/DEVICE_DETACH.9.html">DEVICE_DETACH</a></u>(9),   <u><a href="../man9/DEVICE_IDENTIFY.9.html">DEVICE_IDENTIFY</a></u>(9),   <u><a href="../man9/DEVICE_PROBE.9.html">DEVICE_PROBE</a></u>(9),
       <u><a href="../man9/DEVICE_SHUTDOWN.9.html">DEVICE_SHUTDOWN</a></u>(9), <u><a href="../man9/DRIVER_MODULE.9.html">DRIVER_MODULE</a></u>(9)

</pre><h4><b>AUTHORS</b></h4><pre>
       This manual page was written by Doug Rabson.

Debian                                          November 22, 2011                                      <u><a href="../man9/DRIVER.9.html">DRIVER</a></u>(9)
</pre>
 </div>
</div></section>
</div>
</body>
</html>