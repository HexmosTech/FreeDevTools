<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>spindle - Control a spindle with different acceleration and deceleration and optional gear change scaling</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/linuxcnc-uspace">linuxcnc-uspace_2.9.4-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       spindle - Control a spindle with different acceleration and deceleration and optional gear change scaling

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>loadrt</b> <b>spindle</b> <b>[count=</b><u>N</u><b>|names=</b><u>name1</u><b>[,</b><u>name2...</u><b>]]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This component will control a spindle with adjustable acceleration and deceleration.

        NOTE:  This component is unfortunately named and creates pins with names very much like those created by
       the motion component.
        In nearly every case this is not the documentation page that you are looking for.
        See <a href="http://linuxcnc.org/docs/html/man/man9/motion.9.html">http://linuxcnc.org/docs/html/man/man9/motion.9.html</a> instead.

       It is designed for use with non-servo spindle drives that have separate fwd/reverse inputs,  such  as  DC
       drives  and  inverters.   If  a  spindle  encoder  is available it is used to tailor the acceleration and
       deceleration to the spindle load.  If not the spindle  speed  is  simulated.  The  component  allows  for
       gearboxes with up to 16 gears.  Each gear has individual control of speeds, acceleration, driver gain and
       direction.

</pre><h4><b>FUNCTIONS</b></h4><pre>
       <b>spindle.</b><u>N</u> (requires a floating-point thread)

</pre><h4><b>PINS</b></h4><pre>
       <b>spindle.</b><u>N</u><b>.select-gear</b> u32 in
              Select a gear. Must be in the range 0 -&gt; number of available gears -1. If you use this, do not use
              the select.x input pins.

       <b>spindle.</b><u>N</u><b>.commanded-speed</b> float in
              Commanded spindle speed (in RPM)

       <b>spindle.</b><u>N</u><b>.actual-speed</b> float in
              Actual  spindle  speed  from a spindle encoder (in RPS).  If you do not have a spindle encoder set
              the simulate_encoder parameter to 1.

       <b>spindle.</b><u>N</u><b>.simulate-encoder</b> bit in
              If you do not have an encoder, set this to 1.

       <b>spindle.</b><u>N</u><b>.enable</b> bit in
              If FALSE, the spindle is stopped at the gear's maximum deceleration.

       <b>spindle.</b><u>N</u><b>.spindle-lpf</b> float in
              Smooth the spindle-rpm-abs output when at speed, 0  =  disabled.   Suitable  values  are  probably
              between 1 and 20 depending on how stable your spindle is.

       <b>spindle.</b><u>N</u><b>.spindle-rpm</b> float out
              Current  spindle  speed in RPM.+ve = forward, -ve = reverse.  Uses the encoder input if available.
              If not, uses a simulated encoder speed.

       <b>spindle.</b><u>N</u><b>.spindle-rpm-abs</b> float out
              Absolute spindle speed in RPM. Useful for spindle speed displays.

       <b>spindle.</b><u>N</u><b>.output</b> float out
              Scaled output

       <b>spindle.</b><u>N</u><b>.current-gear</b> u32 out
              Currently selected gear.

       <b>spindle.</b><u>N</u><b>.at-speed</b> bit out
              TRUE when the spindle is at speed

       <b>spindle.</b><u>N</u><b>.forward</b> bit out
              TRUE for forward rotation

       <b>spindle.</b><u>N</u><b>.reverse</b> bit out
              TRUE for reverse rotation. Both forward and reverse are false when the spindle is stopped.

       <b>spindle.</b><u>N</u><b>.brake</b> bit out
              TRUE when decelerating

       <b>spindle.</b><u>N</u><b>.zero-speed</b> bit out
              TRUE when the spindle is stationary

       <b>spindle.</b><u>N</u><b>.limited</b> bit out
              TRUE when the commanded spindle speed is &gt;max or &lt;min.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man9/motion.9.html">motion</a></b>(9)

</pre><h4><b>NOTES</b></h4><pre>
       <b>The</b> <b>following</b> <b>pins</b> <b>are</b> <b>created</b> <b>depending</b> <b>the</b> <b>'numgears='</b> <b>parameter.</b>
              One of each pin is created for each gear. If no gears are specified then one gear will be created.
              For instance if you have gears=2 on your command line, you will have two scale pins:
               <b>spindle.</b><u>N</u><b>.scale.0</b>
               <b>spindle.</b><u>N</u><b>.scale.1</b>

       <b>spindle.</b><u>N</u><b>.scale.</b><u>x</u> <u>float</u> <u>in</u>
              Scale the output. For multiple gears you would use a different scale for each gear.  If  you  need
              to reverse the output for some gears, use a negative scale.

       <b>spindle.</b><u>N</u><b>.min.</b><u>x</u> <u>float</u> <u>in</u>
              Set  the  minimum speed allowed (in RPM).  The limit output will be TRUE while the commanded speed
              is between 0 RPM and the min speed.

       <b>spindle.</b><u>N</u><b>.max.</b><u>x</u> <u>float</u> <u>in</u>
              Set the maximum speed allowed (in RPM).  The limit output will be TRUE while the  commanded  speed
              is above this value.

       <b>spindle.</b><u>N</u><b>.accel.</b><u>x</u> <u>float</u> <u>in</u>
              Set the maximum acceleration.  If you do not have a spindle encoder this is in RPM/second.  If you
              do  have an encoder the output is the actual speed plus this value.  This way the acceleration can
              be dependent on the spindle load.

       <b>spindle.</b><u>N</u><b>.decel.</b><u>x</u> <u>float</u> <u>in</u>
              Set the minimum deceleration. If you do not have a spindle encoder this is in RPM/second.  If  you
              do have an encoder the output is the actual speed minus this value.

       <b>spindle.</b><u>N</u><b>.speed-tolerance.</b><u>x</u> <u>float</u> <u>in</u>
              Tolerance  for  'at-speed'  signal  (in  RPM).   Actual  spindle  speeds within this amount of the
              commanded speed will cause the at-speed signal to go TRUE.

       <b>spindle.</b><u>N</u><b>.zero-tolerance.</b><u>x</u> <u>float</u> <u>in</u>
              Tolerance for 'zero-speed' signal (in RPM).

       <b>spindle.</b><u>N</u><b>.offset.</b><u>x</u> <u>float</u> <u>in</u>
              The output command is offset by this amount (in RPM).

       <b>spindle.</b><u>N</u><b>.select.</b><u>x</u> <u>bit</u> <u>in</u>
              Selects this gear. If no select inputs are active, gear 0 is selected.  If multiple select  inputs
              are active then the highest is selected.

</pre><h4><b>AUTHOR</b></h4><pre>
       Les Newell

</pre><h4><b>LICENSE</b></h4><pre>
       GPL

LinuxCNC Documentation                             2025-06-19                                         <u><a href="../man9/SPINDLE.9.html">SPINDLE</a></u>(9)
</pre>
 </div>
</div></section>
</div>
</body>
</html>