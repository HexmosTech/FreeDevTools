<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>accf_dns — buffer incoming DNS requests until the whole first request is present</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       accf_dns — buffer incoming DNS requests until the whole first request is present

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>options</b> <b>INET</b>
       <b>options</b> <b>ACCEPT_FILTER_DNS</b>
       <b>kldload</b> <b>accf_dns</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This is a filter to be placed on a socket that will be using <b>accept</b>() to receive incoming connections.

       It  prevents  the  application  from  receiving  the  connected descriptor via <b>accept</b>() until a whole DNS
       request is available on the socket.  It does this by reading the first  two  bytes  of  the  request,  to
       determine its size, and waiting until the required amount of data is available to be read.

       The <u>ACCEPT_FILTER_DNS</u> kernel option is also a module that can be enabled at runtime via <u><a href="../man8/kldload.8.html">kldload</a></u>(8) if the
       INET option has been compiled into the kernel.

</pre><h4><b>EXAMPLES</b></h4><pre>
       If  the  <b>accf_dns</b> module is available in the kernel, the following code will enable the DNS accept filter
       on a socket <u>sok</u>.

               struct accept_filter_arg afa;

               bzero(&amp;afa, sizeof(afa));
               strcpy(afa.af_name, "dnsready");
               setsockopt(sok, SOL_SOCKET, SO_ACCEPTFILTER, &amp;afa, sizeof(afa));

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/setsockopt.2.html">setsockopt</a></u>(2), <u><a href="../man9/accept_filter.9.html">accept_filter</a></u>(9), <u><a href="../man9/accf_data.9.html">accf_data</a></u>(9), <u><a href="../man9/accf_http.9.html">accf_http</a></u>(9)

</pre><h4><b>HISTORY</b></h4><pre>
       The accept filter mechanism was introduced in FreeBSD 4.0.

</pre><h4><b>AUTHORS</b></h4><pre>
       This manual page and the filter were written by David Malone.

Debian                                            July 16, 2008                                      <u><a href="../man9/ACCF_DNS.9.html">ACCF_DNS</a></u>(9)
</pre>
 </div>
</div></section>
</div>
</body>
</html>