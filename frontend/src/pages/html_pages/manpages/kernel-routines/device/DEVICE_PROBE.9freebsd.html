<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEVICE_PROBE — probe for device existence</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       DEVICE_PROBE — probe for device existence

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/param.h&gt;</b>
       <b>#include</b> <b>&lt;sys/bus.h&gt;</b>

       <u>int</u>
       <b>DEVICE_PROBE</b>(<u>device_t</u> <u>dev</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>DEVICE_PROBE</b>() method should probe to see if the device is present.  It should return 0 if the device
       exists,  ENXIO  if  it  cannot  be found.  If some other error happens during the probe (such as a memory
       allocation failure), an appropriate error code should be returned.  For cases where more than one  driver
       matches  a device, a priority value can be returned.  In this case, success codes are values less than or
       equal to zero with the highest value representing the best  match.   Failure  codes  are  represented  by
       positive values and the regular Unix error codes should be used for the purpose.

       If  a  driver returns a success code which is less than zero, it must not assume that it will be the same
       driver which is attached to the device.  In particular, it must not assume that any values stored in  the
       softc  structure will be available for its attach method and any resources allocated during probe must be
       released and re-allocated if the attach method is called.  In addition it is an absolute requirement that
       the probe routine have no side effects whatsoever.  The probe routine may be called more than once before
       the attach routine is called.

       If a success code of zero is returned, the driver can assume that it will be the one attached,  but  must
       not  hold  any resources when the probe routine returns.  A driver may assume that the softc is preserved
       when it returns a success code of zero.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       A value equal to or less than zero indicates success, greater than zero indicates an error (errno).   For
       values  equal  to  or  less than zero: zero indicates highest priority, no further probing is done; for a
       value less than zero, the lower the value the lower the priority, e.g. -100 indicates  a  lower  priority
       than -50.

       The  following  values  are  used  by  convention  to indicate different strengths of matching in a probe
       routine.  Except as noted, these are just suggested values, and there's nothing magical about them.

       BUS_PROBE_SPECIFIC    The device that cannot be reprobed, and that no possible  other  driver  may  exist
                             (typically  legacy  drivers  who  don't  follow  all  the  rules,  or special needs
                             drivers).

       BUS_PROBE_VENDOR      The device is supported by a vendor driver.  This is for source or  binary  drivers
                             that  are  not  yet  integrated  into  the FreeBSD tree.  Its use in the base OS is
                             prohibited.

       BUS_PROBE_DEFAULT     The device is a normal device matching some plug and play ID.  This is  the  normal
                             return  value for drivers to use.  It is intended that nearly all of the drivers in
                             the tree should return this value.

       BUS_PROBE_LOW_PRIORITY
                             The driver is a legacy driver, or an otherwise less desirable driver  for  a  given
                             plug  and  play  ID.   The  driver has special requirements like when there are two
                             drivers that support overlapping series of hardware devices.  In this case the  one
                             that  supports  the  older  part of the line would return this value, while the one
                             that supports the newer ones would return BUS_PROBE_DEFAULT.

       BUS_PROBE_GENERIC     The driver matches the type of device generally.  This allows drivers to match  all
                             serial  ports  generally,  with  specialized  drivers  matching particular types of
                             serial ports that need special treatment for some reason.

       BUS_PROBE_HOOVER      The driver matches all unclaimed devices on a  bus.   The  <u><a href="../man4/ugen.4.html">ugen</a></u>(4)  device  is  one
                             example.

       BUS_PROBE_NOWILDCARD  The driver expects its parent to tell it which children to manage and no probing is
                             really  done.   The  device only matches if its parent bus specifically said to use
                             this driver.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man9/device.9.html">device</a></u>(9), <u><a href="../man9/DEVICE_ATTACH.9.html">DEVICE_ATTACH</a></u>(9), <u><a href="../man9/DEVICE_DETACH.9.html">DEVICE_DETACH</a></u>(9), <u><a href="../man9/DEVICE_IDENTIFY.9.html">DEVICE_IDENTIFY</a></u>(9), <u><a href="../man9/DEVICE_SHUTDOWN.9.html">DEVICE_SHUTDOWN</a></u>(9)

</pre><h4><b>AUTHORS</b></h4><pre>
       This manual page was written by Doug Rabson.

Debian                                          February 8, 2012                                 <u><a href="../man9/DEVICE_PROBE.9.html">DEVICE_PROBE</a></u>(9)
</pre>
 </div>
</div></section>
</div>
</body>
</html>