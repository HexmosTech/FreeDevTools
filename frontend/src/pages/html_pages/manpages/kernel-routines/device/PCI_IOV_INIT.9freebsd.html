<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PCI_IOV_INIT — enable SR-IOV on a PF device</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       PCI_IOV_INIT — enable SR-IOV on a PF device

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/bus.h&gt;</b>
       <b>#include</b> <b>&lt;machine/stdarg.h&gt;</b>
       <b>#include</b> <b>&lt;sys/nv.h&gt;</b>
       <b>#include</b> <b>&lt;dev/pci/pci_iov.h&gt;</b>

       <u>int</u>
       <b>PCI_IOV_INIT</b>(<u>device_t</u> <u>dev</u>, <u>uint16_t</u> <u>num_vfs</u>, <u>const</u> <u>nvlist_t</u> <u>*pf_config</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>PCI_IOV_INIT</b>() method is called by the PCI Single-Root I/O Virtualization (SR-IOV) infrastucture when
       the  user  requests  that SR-IOV be enabled on a Physical Function (PF).  The number of Virtual Functions
       (VFs) that will be created is passed to this method in the <u>num_vfs</u> argument.

       If the driver requested device-specific PF configuration parameters via  a  PF  schema  in  its  call  to
       <u><a href="../man9/pci_iov_attach.9.html">pci_iov_attach</a></u>(9),  those  parameters  will  be  available  in the <u>pf_config</u> argument.  All configuration
       parameters that were either set as required parameters or that had a default value set in the  PF  schema
       are  guaranteed  to  be present in <u>pf_config</u>.  Configuration parameters that were neither set as required
       nor were given a default value are optional and may or may not be present in <u>pf_config</u>.   <u>pf_config</u>  will
       not  contain  any  configuration  parameters that were not specified in the PF schema.  All configuration
       parameters will have the correct type and are in the range of valid values specified in the schema.

       If this method returns successfully, then this method will not be called again on the same  device  until
       after a call to <u><a href="../man9/PCI_IOV_UNINIT.9.html">PCI_IOV_UNINIT</a></u>(9).

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       Returns  0  on success, otherwise an appropriate error is returned.  If this method returns an error then
       the SR-IOV configuration will be aborted and no VFs will be created.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man9/nv.9.html">nv</a></u>(9), <u><a href="../man9/pci.9.html">pci</a></u>(9), <u><a href="../man9/PCI_IOV_ADD_VF.9.html">PCI_IOV_ADD_VF</a></u>(9), <u><a href="../man9/pci_iov_schema.9.html">pci_iov_schema</a></u>(9), <u><a href="../man9/PCI_IOV_UNINIT.9.html">PCI_IOV_UNINIT</a></u>(9)

</pre><h4><b>AUTHORS</b></h4><pre>
       This manual page was written by Ryan Stone &lt;<u><a href="mailto:rstone@FreeBSD.org">rstone@FreeBSD.org</a></u>&gt;.

Debian                                            May 28, 2015                                   <u><a href="../man9/PCI_IOV_INIT.9.html">PCI_IOV_INIT</a></u>(9)
</pre>
 </div>
</div></section>
</div>
</body>
</html>