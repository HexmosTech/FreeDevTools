<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rtentry — structure of an entry in the kernel routing table</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rtentry — structure of an entry in the kernel routing table

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/types.h&gt;</b>
       <b>#include</b> <b>&lt;sys/socket.h&gt;</b>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/net/route.h">net/route.h</a>&gt;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  kernel  provides  a  common  mechanism  by which all protocols can store and retrieve entries from a
       central table of routes.  Parts of this mechanism are also used to interact with user-level processes  by
       means  of  a  socket  in  the <u><a href="../man4/route.4.html">route</a></u>(4) pseudo-protocol family.  The &lt;<u>net/route.h</u>&gt; header file defines the
       structures and manifest constants used in this facility.

       The basic structure of a route is defined by <u>struct</u> <u>rtentry</u>, which includes the following fields:

             <u>struct</u> <u>radix_node</u> <u>rt_nodes[2]</u>;
                     Glue used by the radix-tree routines.  These members also include in their substructure the
                     key (i.e., destination address) and mask used when the route was created.   The  <b>rt_key</b>(<u>rt</u>)
                     and  <b>rt_mask</b>(<u>rt</u>)  macros  can  be used to extract this information (in the form of a <u>struct</u>
                     <u>sockaddr</u> <u>*</u>) given a <u>struct</u> <u>rtentry</u> <u>*</u>.

             <u>struct</u> <u>sockaddr</u> <u>*rt_gateway</u>;
                     The “target” of the route, which can either represent a destination in its own right  (some
                     protocols will put a link-layer address here), or some intermediate stop on the way to that
                     destination (if the RTF_GATEWAY flag is set).

             <u>int</u> <u>rt_flags</u>;
                     See  below.  If the RTF_UP flag is not present, the <b>rtfree</b>() function will delete the route
                     from the radix tree when the last reference drops.

             <u>int</u> <u>rt_refcnt</u>;
                     Route entries are reference-counted; this field indicates the number of  external  (to  the
                     radix tree) references.

             <u>struct</u> <u>ifnet</u> <u>*rt_ifp</u>;

             <u>struct</u> <u>ifaddr</u> <u>*rt_ifa</u>;
                     These  two  fields  represent  the  “answer”,  as it were, to the question posed by a route
                     lookup; that is, they name the interface and interface address to  be  used  in  sending  a
                     packet to the destination or set of destinations which this route represents.

             <u>u_long</u> <u>rt_mtu</u>;
                     See description of rmx_mtu below.

             <u>u_long</u> <u>rt_weight</u>;
                     See description of rmx_weight below.

             <u>u_long</u> <u>rt_expire</u>;
                     See description of rmx_expire below.

             <u>counter64_t</u> <u>rt_pksent</u>;
                     See description of rmx_pksent below.

             <u>struct</u> <u>rtentry</u> <u>*rt_gwroute</u>;
                     This member is a reference to a route whose destination is <u>rt_gateway</u>.  It is only used for
                     RTF_GATEWAY routes.

             <u>struct</u> <u>mtx</u> <u>rt_mtx</u>;
                     Mutex to lock this routing entry.

       The following flag bits are defined:
             RTF_UP         The route is not deleted.
             RTF_GATEWAY    The  route points to an intermediate destination and not the ultimate recipient; the
                            <u>rt_gateway</u> and <u>rt_gwroute</u> fields name that destination.
             RTF_HOST       This is a host route.
             RTF_REJECT     The destination is presently unreachable.  This should  result  in  an  EHOSTUNREACH
                            error from output routines.
             RTF_DYNAMIC    This route was created dynamically by <b>rtredirect</b>().
             RTF_MODIFIED   This route was modified by <b>rtredirect</b>().
             RTF_DONE       Used only in the <u><a href="../man4/route.4.html">route</a></u>(4) protocol, indicating that the request was executed.
             RTF_XRESOLVE   When  this  route is returned as a result of a lookup, send a report on the <u><a href="../man4/route.4.html">route</a></u>(4)
                            interface requesting that an external process perform resolution for this route.
             RTF_STATIC     Indicates that this route was manually added by means of the <u><a href="../man8/route.8.html">route</a></u>(8) command.
             RTF_BLACKHOLE  Requests that output sent via this route be discarded.
             RTF_PROTO1
             RTF_PROTO2
             RTF_PROTO3     Protocol-specific.
             RTF_PINNED     Indicates that this route is immutable to a routing protocol.
             RTF_LOCAL      Indicates that the destination of this route is an address configured  as  belonging
                            to this system.
             RTF_BROADCAST  Indicates that the destination is a broadcast address.
             RTF_MULTICAST  Indicates that the destination is a multicast address.

       Several  metrics are supplied in <u>struct</u> <u>rt_metrics</u> passed with routing control messages via <u><a href="../man4/route.4.html">route</a></u>(4) API.
       Currently only <u>rmx_mtu</u>, <u>rmx_expire</u>, and <u>rmx_pksent</u> metrics are supplied.  All others are ignored.

       The following metrics are defined by <u>struct</u> <u>rt_metrics</u>:

             <u>u_long</u> <u>rmx_locks</u>;
                     Flag bits indicating which metrics the kernel is not permitted to dynamically modify.

             <u>u_long</u> <u>rmx_mtu</u>;
                     MTU for this path.

             <u>u_long</u> <u>rmx_hopcount</u>;
                     Number of intermediate systems on the path to this destination.

             <u>u_long</u> <u>rmx_expire</u>;
                     The time (a la <u><a href="../man3/time.3.html">time</a></u>(3)) at which this route should expire,  or  zero  if  it  should  never
                     expire.   It  is the responsibility of individual protocol suites to ensure that routes are
                     actually deleted once they expire.

             <u>u_long</u> <u>rmx_recvpipe</u>;
                     Nominally, the bandwidth-delay product for the path <u>from</u> the destination  <u>to</u>  this  system.
                     In  practice, this value is used to set the size of the receive buffer (and thus the window
                     in sliding-window protocols like TCP).

             <u>u_long</u> <u>rmx_sendpipe</u>;
                     As before, but in the opposite direction.

             <u>u_long</u> <u>rmx_ssthresh</u>;
                     The slow-start threshold used in TCP congestion-avoidance.

             <u>u_long</u> <u>rmx_rtt</u>;
                     The round-trip time to this destination, in units of RMX_RTTUNIT per second.

             <u>u_long</u> <u>rmx_rttvar</u>;
                     The average deviation of the round-trip time to this destination, in units  of  RMX_RTTUNIT
                     per second.

             <u>u_long</u> <u>rmx_pksent</u>;
                     A count of packets successfully sent via this route.

             <u>u_long</u> <u>rmx_filler[4]</u>;
                     Empty space available for protocol-specific information.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man4/route.4.html">route</a></u>(4), <u><a href="../man8/route.8.html">route</a></u>(8), <u><a href="../man9/rtalloc.9.html">rtalloc</a></u>(9)

</pre><h4><b>HISTORY</b></h4><pre>
       The  <u>rtentry</u>  structure first appeared in 4.2BSD.  The radix-tree representation of the routing table and
       the <u>rt_metrics</u> structure first appeared in 4.3BSD-Reno.

</pre><h4><b>AUTHORS</b></h4><pre>
       This manual page was written by Garrett Wollman.

</pre><h4><b>BUGS</b></h4><pre>
       There are a number of historical relics remaining in  this  interface.   The  <u>rt_gateway</u>  and  <u>rmx_filler</u>
       fields could be named better.

Debian                                            March 5, 2014                                       <u><a href="../man9/RTENTRY.9.html">RTENTRY</a></u>(9)
</pre>
 </div>
</div></section>
</div>
</body>
</html>