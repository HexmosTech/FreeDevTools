<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ohmic - LinuxCNC HAL component that uses a Mesa THCAD for ohmic sensing</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/linuxcnc-uspace">linuxcnc-uspace_2.9.4-2ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ohmic - LinuxCNC HAL component that uses a Mesa THCAD for ohmic sensing

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>loadrt</b> <b>ohmic</b> <b>[count=</b><u>N</u><b>|names=</b><u>name1</u><b>[,</b><u>name2...</u><b>]]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Mesa  THCAD Card component to scale input and outputs from the Mesa THCAD2, THCAD5, THCAD10, and THCAD300
       cards.
       Allows user configurable voltage thresholds for ohmic sensing.

       Output pins are provided for:
       ohmic-volts -the voltage sensed on ohmic sensing.
       thcad-volts -the actual voltage measured by the THCAD.
       ohmic-on    -true if ohmic-volts &gt;= ohmic-threshold, false if ohmic-volts &lt;= ohmic-low.

       A THCAD-5 would often be used for ohmic sensing in conjunction with a 24 Volt isolated power supply and a
       390 kÎ© series resistor resulting in a voltage divider of 4.9.
       This would result in a full scale reading of 24.5 Volts which is above the power supply output voltage.
       The circuit  will  remain  protected  by  the  THCAD's  ability  to  tolerate  a  500  Volt  over-voltage
       indefinitely.
       It is optional that power to the ohmic sensing circuit be disconnected unless probing is in progress.

</pre><h4><b>FUNCTIONS</b></h4><pre>
       <b>ohmic.</b><u>N</u> (requires a floating-point thread)

</pre><h4><b>PINS</b></h4><pre>
       <b>ohmic.</b><u>N</u><b>.is-probing</b> bit in
              True if probing

       <b>ohmic.</b><u>N</u><b>.ohmic-low</b> float in (default: <u>21</u>)
              The threshold volts below which ohmic sensing is set to be false

       <b>ohmic.</b><u>N</u><b>.ohmic-threshold</b> float in (default: <u>22</u>)
              The threshold volts above which ohmic sensing is set to be true

       <b>ohmic.</b><u>N</u><b>.thcad-0-volt-freq</b> float in
              0 volt calibration data for THCAD card in Hz

       <b>ohmic.</b><u>N</u><b>.thcad-divide</b> float in (default: <u>32</u>)
              THCAD divider set by links on THCAD board (1, 32, 64, or 128)

       <b>ohmic.</b><u>N</u><b>.thcad-fullscale</b> float in (default: <u>5</u>)
              THCAD full scale in Volt (5, 10, or 300 Volt)

       <b>ohmic.</b><u>N</u><b>.thcad-max-volt-freq</b> float in
              Full scale calibration data for THCAD Card in Hz

       <b>ohmic.</b><u>N</u><b>.velocity-in</b> float in
              The velocity returned from the THCAD and read by the Mesa encoder input

       <b>ohmic.</b><u>N</u><b>.volt-divider</b> float in (default: <u>4.9</u>)
              The divide ratio

       <b>ohmic.</b><u>N</u><b>.ohmic-on</b> bit out
              True if ohmic circuit is closed (material is sensed)

       <b>ohmic.</b><u>N</u><b>.ohmic-volts</b> float out
              Calculated ohmic voltage

</pre><h4><b>EXAMPLES</b></h4><pre>
       The below HAL example assumes a THCAD5 card using a 1/32 frequency setting and a voltage divider internal
       to  the  plasma  cutter  with  range extended to 24.5 volts by a series 390K external resistor as per the
       manual.  Additional information and wiring diagram is contained in the  Plasma  Primer  in  the  LinuxCNC
       documentation.
       Example Calibration Data: 0V = 122.9 kHz, 10V = 925.7 kHz should be entered as 122900 and 925700.

       loadrt ohmic names=ohmicsense
       addf ohmicsense servo-thread
       setp ohmicsense.thcad-0-volt-freq    122900
       setp ohmicsense.thcad-max-volt-freq  925700
       setp ohmicsense.thcad-divide         32
       setp ohmicsense.thcad-fullscale      5
       setp ohmicsense.volt-divider         4.9
       setp ohmicsense.threshold            22
       setp ohmicsense.ohmic-low            21
       net ohmic-vel    ohmicsense.velocity-in &lt;= hm2_7i76e.0.encoder.00.velocity
       net ohmic-enable ohmicsense.is_probing  &lt;= plasmac.ohmic-enable
       net ohmic-true   ohmicsense.ohmic-on    =&gt; plasmac.ohmic-probe

</pre><h4><b>AUTHOR</b></h4><pre>
       Rod Webster

</pre><h4><b>LICENSE</b></h4><pre>
       GPL

LinuxCNC Documentation                             2025-08-07                                           <u><a href="../man9/OHMIC.9.html">OHMIC</a></u>(9)
</pre>
 </div>
</div></section>
</div>
</body>
</html>