<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ieee80211_regdomain — 802.11 regulatory support</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ieee80211_regdomain — 802.11 regulatory support

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;net80211/ieee80211_var.h&gt;</b>
       <b>#include</b> <b>&lt;net80211/ieee80211_regdomain.h&gt;</b>

       <u>int</u>
       <b>ieee80211_init_channels</b>(<u>struct</u> <u>ieee80211com</u> <u>*</u>,                        <u>const</u> <u>struct</u> <u>ieee80211_regdomain</u> <u>*</u>,
           <u>const</u> <u>uint8_t</u> <u>bands[]</u>);

       <u>void</u>
       <b>ieee80211_sort_channels</b>(<u>struct</u> <u>ieee80211_channel</u> <u>*</u>, <u>int</u> <u>nchans</u>);

       <u>struct</u> <u>ieee80211_appie</u> <u>*</u>
       <b>ieee80211_alloc_countryie</b>(<u>struct</u> <u>ieee80211com</u> <u>*</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>net80211</b> software layer  provides  a  support  framework  for  drivers  that  includes  comprehensive
       regulatory  support.   <b>net80211</b>  provides  mechanisms  that  enforce <u>regulatory</u> <u>policy</u> by privileged user
       applications.

       Drivers define a device's capabilities and can intercept and control regulatory changes requested through
       <b>net80211</b>.  The initial regulatory state, including the channel list, must be  filled  in  by  the  driver
       before  calling  <b>ieee80211_ifattach</b>().  The channel list should reflect the set of channels the device is
       <u>calibrated</u> for use on.  This list may also be requested later through the <u>ic_getradiocaps</u> method  in  the
       <u>ieee80211com</u> structure.  The <b>ieee80211_init_channels</b>() function is provided as a rudimentary fallback for
       drivers that do not (or cannot) fill in a proper channel list.  Default regulatory state is supplied such
       as  the  regulatory  SKU, ISO country code, location (e.g. indoor, outdoor), and a set of frequency bands
       the device is capable of operating on.  <b>net80211</b> populates  the  channel  table  in  <u>ic_channels</u>  with  a
       default  set  of channels and capabilities.  Note this mechanism should be used with care as any mismatch
       between the channel list created and the device's capabilities can  result  in  runtime  errors  (e.g.  a
       request  to  operate on a channel the device does not support).  The SKU and country information are used
       for generating 802.11h protocol elements and related operation such as for 802.11d; mis-setup by a driver
       is not fatal, only potentially confusing.

       Devices that do not have a fixed/default regulatory state can set the regulatory  SKU  to  SKU_DEBUG  and
       country  code to CTRY_DEFAULT and leave proper setup to user applications.  If default settings are known
       they can be installed and/or an event can be dispatched to user space using <b>ieee80211_notify_country</b>() so
       that <u><a href="../man8/devd.8.html">devd</a></u>(8) will do the appropriate setup work at system boot (or device insertion).

       The channel table is sorted to optimize lookups using the <b>ieee80211_sort_channels</b>() routine.  This should
       be done whenever the channel table contents are modified.

       The <b>ieee80211_alloc_countryie</b>() function allocates  an  information  element  as  specified  by  802.11h.
       Because  this  is  expensive  to generate it is cached in <u>ic_countryie</u> and generated only when regulatory
       state changes.  Drivers that call <b>ieee80211_alloc_countryie</b>() directly should not help with this caching;
       doing so may confuse the <b>net80211</b> layer.

</pre><h4><b>DRIVER</b> <b>REGULATORY</b> <b>CONTROL</b></h4><pre>
       Drivers can control regulatory change requests by  overriding  the  <u>ic_setregdomain</u>  method  that  checks
       change  requests.   While  drivers  can  reject  any  request  that  does not meet its requirements it is
       recommended that one be lenient in what is accepted  and,  whenever  possible,  instead  of  rejecting  a
       request,  alter  it  to be correct.  For example, if the transmit power cap for a channel is too high the
       driver can either reject the request or (better) reduce the cap to be compliant.  Requests  that  include
       unacceptable  channels  should  cause  the  request to be rejected as otherwise a mismatch may be created
       between application state and the state managed by <b>net80211</b>.  The exact rules by  which  to  operate  are
       still being codified.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man5/regdomain.5.html">regdomain</a></u>(5), <u><a href="../man8/ifconfig.8.html">ifconfig</a></u>(8), <u><a href="../man9/ieee80211.9.html">ieee80211</a></u>(9)

Debian                                           August 4, 2009                           <u><a href="../man9/IEEE80211_REGDOMAIN.9.html">IEEE80211_REGDOMAIN</a></u>(9)
</pre>
 </div>
</div></section>
</div>
</body>
</html>