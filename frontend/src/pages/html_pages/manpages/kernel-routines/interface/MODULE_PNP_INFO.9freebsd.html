<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MODULE_PNP_INFO — register plug and play information for device matching</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       MODULE_PNP_INFO — register plug and play information for device matching

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/module.h&gt;</b>

       <b>MODULE_PNP_INFO</b>(<u>const</u> <u>char</u> <u>*descriptor_string</u>, <u>bus</u>, <u>module</u>, <u>void</u> <u>*table</u>, <u>size_t</u> <u>num_entries</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>MODULE_PNP_INFO</b>()  macro registers a <u>table</u> of device-identifying data for use by <u><a href="../man8/devmatch.8.html">devmatch</a></u>(8).  Since
       it is built off module marking macros, it must follow a <u><a href="../man9/DRIVER_MODULE.9.html">DRIVER_MODULE</a></u>(9) line.

       The macro takes a <u>descriptor_string</u> that describes the memory layout of table entries.  The string  is  a
       series  of  members  separated  by  semi-colons.   Members are identified by a type and a name.  They are
       encoded in the descriptor string by concatenating the type with a colon,  followed  by  the  name.   (The
       special type <u>W32</u> represents two members.  The first name is encoded like any other type.  The second name
       is encoded by appending a forward slash and the second name after the first.)

       Types are one of the following:

       “<u>U8</u>”
            <u>uint8_t</u> element.

       “<u>V8</u>”
            Same as <u>U8</u>, except that the sentinel value 0xFF matches any.

       “<u>G16</u>”
            <u>uint16_t</u> element; any value greater than or equal matches.

       “<u>L16</u>”
            <u>uint16_t</u> element; any value less than or equal matches.

       “<u>M16</u>”
            <u>uint16_t</u> element; mask of which of the following fields to use.

       “<u>U16</u>”
            <u>uint16_t</u> element.

       “<u>V16</u>”
            Same as <u>U16</u>, except that the sentinel value 0xFFFF matches any.

       “<u>U32</u>”
            <u>uint32_t</u> element.

       “<u>V32</u>”
            Same as <u>U32</u>, except that the sentinel value 0xFFFFFFFF matches any.

       “<u>W32</u>”
            Two  <u>uint16_t</u>  values;  the first named member is in the least significant word and the second named
            member is in the most significant word.

       “<u>Z</u>”  A pointer to a string to match exactly.

       “<u>D</u>”  A pointer to a human readable description for the device.

       “<u>P</u>”  A pointer that should be ignored.

       “<u>E</u>”  EISA PNP Identifier.

       “<u>T</u>”  PNP info that is true for the whole table.  The driver code checks for these condition pragmatically
            before using this table to match devices.  This item must come last in the list.

       The pseudo-name “#” is reserved for fields that should be ignored.  Any member that does  not  match  the
       parent device's pnpinfo output must be ignored.

       The <u>bus</u> parameter is an unquoted word naming the parent bus of the driver.  For example, “pci”.

       The  <u>module</u>  parameter  is also an unquoted word.  It must be unique to the driver.  Usually the driver's
       name is used.

       The <u>table</u> parameter points to the device matching data with entries matching the <u>descriptor_string</u>.

       The <u>num_entries</u> parameter is the number of entries in the table, i.e., ‘nitems(table)’.  Note  that  only
       valid  entries  should be included.  If the table contains trailing zero or bogus values, they should not
       be included in <u>num_entries</u>.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>Example</b> <b>1:</b> Using W32 for vendor/device pair

         The following example shows usage of <u>W32</u> type  when  vendor/device  values  are  combined  into  single
         <u>uint32_t</u> value:

         #include &lt;sys/param.h&gt;
         #include &lt;sys/module.h&gt;

         static struct my_pciids {
                 uint32_t devid;
                 const char *desc;
         } my_ids[] = {
                 { 0x12345678, "Foo bar" },
                 { 0x9abcdef0, "Baz fizz" },
         };

         MODULE_PNP_INFO("W32:vendor/device;D:#", pci, my_driver, my_ids,
             <a href="../manmy_ids/nitems.my_ids.html">nitems</a>(my_ids));

       <b>Example</b> <b>2:</b> Using T for common vendor value

         The following example shows usage of <u>T</u> type when all entries in the table have the same vendor value:

         #include &lt;sys/param.h&gt;
         #include &lt;sys/module.h&gt;

         static struct my_pciids {
                 uint16_t device;
                 const char *desc;
         } my_ids[] = {
                 { 0x9abc, "Foo bar" },
                 { 0xdef0, "Baz fizz" },
         };

         MODULE_PNP_INFO("U16:device;D:#;T:vendor=0x1234", pci, my_driver,
             my_ids, <a href="../manmy_ids/nitems.my_ids.html">nitems</a>(my_ids));

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/devmatch.8.html">devmatch</a></u>(8), <u><a href="../man9/DRIVER_MODULE.9.html">DRIVER_MODULE</a></u>(9), <u><a href="../man9/module.9.html">module</a></u>(9)

</pre><h4><b>HISTORY</b></h4><pre>
       The macro <b>MODULE_PNP_INFO</b> appeared in FreeBSD 11.0.

</pre><h4><b>AUTHORS</b></h4><pre>
       The PNP framework and <u><a href="../man8/devmatch.8.html">devmatch</a></u>(8) utility were written by Warner Losh &lt;<u><a href="mailto:imp@FreeBSD.org">imp@FreeBSD.org</a></u>&gt;.

Debian                                           October 5, 2018                              <u><a href="../man9/MODULE_PNP_INFO.9.html">MODULE_PNP_INFO</a></u>(9)
</pre>
 </div>
</div></section>
</div>
</body>
</html>