<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regex Patterns and Examples - DevTools</title>
    <meta name="description" content="Explore a comprehensive collection of regex patterns and examples for log parsing, data extraction, and more. Enhance your development workflow with practical regex solutions.">
    <meta name="keywords" content="regex, regular expressions, pattern matching, log parsing, data extraction, text processing, developer tools, programming">
    <link rel="canonical" href="https://www.example.com/programming/regex.html">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Regex Patterns and Examples - DevTools">
    <meta property="og:description" content="Explore a comprehensive collection of regex patterns and examples for log parsing, data extraction, and more. Enhance your development workflow with practical regex solutions.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.example.com/programming/regex.html">
    <meta property="og:image" content="https://www.example.com/images/regex-og.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Regex Patterns and Examples - DevTools">
    <meta name="twitter:description" content="Explore a comprehensive collection of regex patterns and examples for log parsing, data extraction, and more. Enhance your development workflow with practical regex solutions.">
    <meta name="twitter:image" content="https://www.example.com/images/regex-twitter.jpg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        .header h1 {
            margin: 0;
            font-size: 1.5em;
        }
        .content {
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            margin: 0;
        }
        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
        }
        .markdown-content {
            line-height: 1.7;
        }
        .markdown-content h1, .markdown-content h2, .markdown-content h3 {
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        .markdown-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
        }
        .markdown-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .markdown-content pre code {
            background: none;
            padding: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Regex Patterns and Examples</h1>
        </div>
        <div class="content">
            <div class="markdown-content">
                <h2>Regex Tools and Resources</h2>
                <p>Regular expressions (regex) are powerful tools for pattern matching and text manipulation. Below are some useful resources and examples to help you master regex.</p>
                
                <h3>Online Regex Testers</h3>
                <ul>
                    <li><a href="https://regex101.com/" target="_blank" rel="noopener noreferrer">Regex101.com</a> - An interactive regex debugger and tester.</li>
                </ul>

                <h3>Regex Sources and Guides</h3>
                <ul>
                    <li><a href="https://groups.google.com/forum/#!topic/fluentd/arfxLzfU_5c" target="_blank" rel="noopener noreferrer">Fluentd Regex Discussion</a> - A forum thread discussing regex patterns for log parsing.</li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="noopener noreferrer">MDN Web Docs: Regular Expressions</a> - Comprehensive guide to JavaScript regular expressions.</li>
                    <li><a href="https://www.regular-expressions.info/" target="_blank" rel="noopener noreferrer">Regular-Expressions.info</a> - A vast resource for learning and referencing regular expressions.</li>
                </ul>

                <h2>Common Regex Patterns and Examples</h2>

                <h3>Log Entry Example</h3>
                <p>A sample log line:</p>
                <pre><code class="language-log">10.0.2.2 - - [19/Jul/2019 10:02:48] "GET /?ccnum=1234 HTTP/1.1" 200 -</code></pre>

                <h3>Matching `ccnum` Value</h3>
                <p>To extract the value associated with `ccnum`:</p>
                <pre><code class="language-regex">ccnum=\d+</code></pre>

                <h3>Matching Log Line Up to `ccnum=`</h3>
                <p>A pattern to capture the beginning of the log line until `ccnum=`:</p>
                <pre><code class="language-regex">\d+.\d+.\d+.\d+ .* \[\d{2}\/\w+\/\d{4}.*\d{2}:\d{2}:\d{2}\].*&quot;\w+.*\/?ccnum=\d+</code></pre>

                <h3>Detailed Log Entry Example</h3>
                <p>A more complex log entry:</p>
                <pre><code class="language-log">2020-04-21 08:37:04 172.16.1.1 - - [21/Apr/2020:08:37:04 +0200] "POST /path?foo=bar HTTP/1.1" 200 540 "http://localhost/bar/" "Mozilla/5.0 (Linux; Android 10; One Build/One-Boo; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/81.0.4044.111 Mobile Safari/537.36" "1.1.1.1"</code></pre>

                <h3>Extracting Date and Time</h3>
                <p>Patterns to capture date and time stamps:</p>
                <pre><code class="language-regex">.[0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9] [0-9][0-9]:[0-9][0-9]:[0-9][0-9]</code></pre>
                <pre><code class="language-regex">\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}</code></pre>

                <h3>Matching IP Addresses</h3>
                <p>A common pattern for matching IPv4 addresses:</p>
                <pre><code class="language-regex"> \d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}</code></pre>

                <h3>Apache / Nginx Log Parsing</h3>
                <p>Example log lines and corresponding regex patterns for parsing:</p>
                <pre><code class="language-log">172.128.80.109 - Bins5273 656 [2019-05-03T13:11:48-04:00] "PUT /mesh" 406 10272</code></pre>
                <pre><code class="language-regex">^([\w\.]+) - ([\w]+) ([\d]+) \[(.*)\] &quot;([\w]+) (.*)&quot; ([\d]+) ([\d]+)$</code></pre>

                <pre><code class="language-log">127.0.0.1 - - [21/Apr/2020:11:47:07 +0000] "GET / HTTP/1.1" 200 612 "http://" "curl/7.58.0"</code></pre>
                <pre><code class="language-regex">^([\w\.]+) ([^ ]*) ([^ ]*) \[(.*)\] &quot;(\S+)(?: +([^ ]*) +\S*)?&quot; ([\d]+) ([\d]+) &quot;([^&quot;]*)&quot; &quot;([^\&quot;]*)&quot;?</code></pre>

                <pre><code class="language-log">127.0.0.1 - - [21/Apr/2020:11:47:07 +0000] "GET / HTTP/1.1" 200 612 "http://" "curl/7.58.0"</code></pre>
                <pre><code class="language-regex">^([\w\.]+) - ([^ ]*) \[(.*)\] &quot;([^ ]*) ([^ ]*) ([^ ]*)&quot; ([\d]+) ([\d]+) &quot;([^&quot;]*)&quot; &quot;([^\&quot;]*)&quot;?</code></pre>

                <pre><code class="language-log">127.0.0.1 - - [21/Apr/2020:11:47:07 +0000] "GET / HTTP/1.1" 200 612 "http://" "curl/7.58.0" "10.20.30.1"</code></pre>
                <pre><code class="language-regex">^([\w\.]+) - ([^ ]*) \[(.*)\] &quot;([^ ]*) ([^ ]*) ([^ ]*)&quot; ([\d]+) ([\d]+) &quot;([^&quot;]*)&quot; &quot;([^\&quot;]*)&quot; &quot;([\w\.]+)&quot;?</code></pre>

                <h3>Structured Logging with Named Capture Groups (Loki/Promtail)</h3>
                <p>A regex pattern using named capture groups for structured log parsing, suitable for tools like Loki and Promtail:</p>
                <pre><code class="language-regex">^(?P&lt;remote_ip&gt;[\w\.]+) - (?P&lt;user&gt;[^ ]*) \[(?P&lt;timestamp&gt;.*)\] &quot;(?P&lt;method&gt;[^ ]*) (?P&lt;request_url&gt;[^ ]*) (?P&lt;request_http_protocol&gt;[^ ]*)&quot; (?P&lt;status&gt;[\d]+) (?P&lt;bytes_out&gt;[\d]+) &quot;(?P&lt;http_referer&gt;[^&quot;]*)&quot; &quot;(?P&lt;user_agent&gt;[^&quot;]*)&quot; &quot;(?P&lt;client_ip&gt;[\w\.]+)&quot;?</code></pre>

                <h3>Extracting Content Within Brackets</h3>
                <p>To find content enclosed in square brackets:</p>
                <pre><code class="language-log">this is [foo] bar</code></pre>
                <pre><code class="language-regex">\(?\w+(?=\]):?</code></pre>

                <h3>Using Positive Lookbehind</h3>
                <p>Extracting content after an opening bracket using positive lookbehind:</p>
                <pre><code class="language-log">this is [foo] bar</code></pre>
                <pre><code class="language-regex">(?&lt;=\[)[\w+.-]*</code></pre>

                <h3>Matching Up To a Specific String (Excluding It)</h3>
                <p>Match everything until `abc` without including `abc`:</p>
                <pre><code class="language-regex">/^(.*?)abc/</code></pre>

                <h3>Matching Up To the First Number (Excluding It)</h3>
                <p>Match everything until the first digit:</p>
                <pre><code class="language-regex">/^(.*?)[0-9]/</code></pre>

                <h3>Advanced Log Parsing Example (Loki)</h3>
                <p>A complex log line and a corresponding regex for parsing with Loki:</p>
                <pre><code class="language-log">1.2.3.4 - - [23/Nov/2020:17:31:00 +0200] "POST /foo/bar?token=x.x HTTP/1.1" 201 83 "http://localhost/" "Mozilla/5.0 (Linux; Android 10; Nokia 6.1 Build/x.x.x; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/x.0.x.110 Mobile Safari/537.36" "1.2.3.4"</code></pre>
                <pre><code class="language-regex">| regexp "&quot;(?P&lt;ip&gt;\\d+.\\d+.\\d+.\\d+) (.*) (.*) (?P&lt;date&gt;\\[(.*)\\]) (\&quot;)(?P&lt;verb&gt;(\\w+)) (?P&lt;request_path&gt;([^\&quot;]*)) (?P&lt;http_ver&gt;([^\&quot;]*))(\&quot;) (?P&lt;status_code&gt;\\d+) (?P&lt;bytes&gt;\\d+) (\&quot;)(?P&lt;referrer&gt;(([^\&quot;]*)))(\&quot;) (\&quot;)(?P&lt;user_agent&gt;(([^\&quot;]*)))(\&quot;)&quot;</code></pre>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/regex.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>