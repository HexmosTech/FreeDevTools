<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruby WEBrick HTML Reader - Read HTML Content with Ruby</title>
    <meta name="description" content="Learn how to read and serve HTML content dynamically using Ruby's WEBrick HTTP server. This guide explains how to read an HTML file and substitute content.">
    <meta name="keywords" content="ruby, webrick, http server, read html, serve html, dynamic content, ruby web development, file reading, content substitution">
    <link rel="canonical" href="https://www.example.com/ruby/read-from-html.html">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.example.com/ruby/read-from-html.html">
    <meta property="og:title" content="Ruby WEBrick HTML Reader - Read HTML Content with Ruby">
    <meta property="og:description" content="Learn how to read and serve HTML content dynamically using Ruby's WEBrick HTTP server. This guide explains how to read an HTML file and substitute content.">
    <meta property="og:image" content="https://www.example.com/images/ruby-webrick-html-reader.png">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://www.example.com/ruby/read-from-html.html">
    <meta name="twitter:title" content="Ruby WEBrick HTML Reader - Read HTML Content with Ruby">
    <meta name="twitter:description" content="Learn how to read and serve HTML content dynamically using Ruby's WEBrick HTTP server. This guide explains how to read an HTML file and substitute content.">
    <meta name="twitter:image" content="https://www.example.com/images/ruby-webrick-html-reader.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        .header h1 {
            margin: 0;
            font-size: 1.5em;
        }
        .content {
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            margin: 0;
        }
        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
        }
        .markdown-content {
            line-height: 1.7;
        }
        .markdown-content h1, .markdown-content h2, .markdown-content h3 {
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        .markdown-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
        }
        .markdown-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .markdown-content pre code {
            background: none;
            padding: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Ruby WEBrick HTML Reader</h1>
        </div>
        <div class="content">
            <div class="markdown-content">
                <h2>Understanding Ruby WEBrick for HTML Serving</h2>
                <p>This example demonstrates how to use Ruby's built-in WEBrick library to create a simple HTTP server that can read and serve HTML files. WEBrick is a lightweight HTTP server that is useful for development and small-scale applications. It allows you to serve static files or dynamically generate content based on incoming requests.</p>

                <h2>Reading and Serving Dynamic HTML Content</h2>
                <p>The provided Ruby script initializes a WEBrick HTTP server. It's configured to listen on port 80 and set the document root to <code>/var/www/app</code>. The core functionality lies within the <code>mount_proc</code> block, which handles incoming requests. When a request is made to the root path ('/'), the server reads the content of <code>/var/www/app/index.html</code>. It then uses the <code>sub</code> method to replace a placeholder string "HEADER_TEXT" with "Hello", making the content dynamic before sending it back as the HTTP response. This technique is fundamental for serving personalized or updated content without manually editing HTML files for every change.</p>

                <h2>Ruby WEBrick Server Implementation</h2>
                <pre><code class="language-ruby">require 'webrick'

server = WEBrick::HTTPServer.new(
    :Port =&gt; 80,
    :SSLEnable =&gt; false,
    :DocumentRoot =&gt; '/var/www/app'
)

server.mount_proc('/') do |request, response|
    response.content_type = 'text/html; charset=utf-8'
    response.body = File.read('/var/www/app/index.html').sub("HEADER_TEXT", "Hello")
end

trap 'INT' do server.shutdown end

server.start
</code></pre>

                <h2>Key Components of the Ruby Script</h2>
                <ul>
                    <li><code>require 'webrick'</code>: Imports the necessary WEBrick library.</li>
                    <li><code>WEBrick::HTTPServer.new(...)</code>: Initializes the HTTP server with configuration options like port, SSL status, and document root.</li>
                    <li><code>server.mount_proc('/') do ... end</code>: Defines a handler for requests to the root URL.</li>
                    <li><code>response.content_type = 'text/html; charset=utf-8'</code>: Sets the correct MIME type for the response.</li>
                    <li><code>File.read('/var/www/app/index.html')</code>: Reads the content of the specified HTML file.</li>
                    <li><code>.sub("HEADER_TEXT", "Hello")</code>: Replaces the placeholder text within the HTML content.</li>
                    <li><code>trap 'INT' do server.shutdown end</code>: Allows graceful shutdown of the server using Ctrl+C.</li>
                    <li><code>server.start</code>: Starts the WEBrick server, making it listen for incoming connections.</li>
                </ul>

                <h2>Further Learning and Resources</h2>
                <p>For more advanced web development with Ruby, consider exploring frameworks like Ruby on Rails or Sinatra. These frameworks provide more robust solutions for routing, templating, database integration, and other common web application tasks. Understanding the fundamentals of HTTP servers like WEBrick is a valuable starting point for any Ruby web developer.</p>
                <ul>
                    <li><a href="https://www.ruby-lang.org/en/documentation/quickstart/" target="_blank">Ruby Official Documentation</a></li>
                    <li><a href="https://www.ruby-doc.org/stdlib-3.2.2/libdoc/webrick/rdoc/WEBrick/HTTPServer.html" target="_blank">WEBrick HTTP Server Documentation</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP" target="_blank">MDN Web Docs: Basics of HTTP</a></li>
                </ul>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>