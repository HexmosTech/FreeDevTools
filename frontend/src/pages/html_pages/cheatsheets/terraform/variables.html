<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terraform Variables - Define and Use Configuration Variables</title>
    <meta name="description" content="Learn how to define, call, and validate Terraform variables. Master variable usage for flexible infrastructure as code.">
    <meta name="keywords" content="terraform variables, terraform configuration, terraform define variables, terraform call variables, terraform variable validation, infrastructure as code, IaC, terraform tutorial">
    <link rel="canonical" href="https://example.com/terraform/variables.html">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Terraform Variables - Define and Use Configuration Variables">
    <meta property="og:description" content="Learn how to define, call, and validate Terraform variables. Master variable usage for flexible infrastructure as code.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://example.com/terraform/variables.html">
    <meta property="og:image" content="https://example.com/images/terraform-variables-og.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Terraform Variables - Define and Use Configuration Variables">
    <meta name="twitter:description" content="Learn how to define, call, and validate Terraform variables. Master variable usage for flexible infrastructure as code.">
    <meta name="twitter:image" content="https://example.com/images/terraform-variables-twitter.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        .header h1 {
            margin: 0;
            font-size: 1.5em;
        }
        .content {
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            margin: 0;
        }
        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
        }
        .markdown-content {
            line-height: 1.7;
        }
        .markdown-content h1, .markdown-content h2, .markdown-content h3 {
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        .markdown-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
        }
        .markdown-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .markdown-content pre code {
            background: none;
            padding: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Terraform Variables</h1>
        </div>
        <div class="content">
            <div class="markdown-content">
                <p>Terraform variables are essential for making your infrastructure configurations dynamic and reusable. They allow you to pass values into your Terraform modules, enabling customization without altering the core code. This guide covers defining, calling, and validating variables in Terraform.</p>

                <h2>Define Terraform Variables</h2>
                <p>You define variables within a <code>variables.tf</code> file (or any <code>.tf</code> file) using the <code>variable</code> block. Each variable should have a unique name and can optionally include a <code>default</code> value, <code>description</code>, <code>type</code>, and <code>validation</code> block.</p>
                <pre class="codehilite"><code>$ cat variables.tf
variable "environment" {
  description = "The deployment environment (e.g., dev, staging, prod)."
  type        = string
  default     = "prod"
}

variable "name" {
  description = "A name prefix for resources."
  type        = string
  default     = "web"
}
</code></pre>

                <h2>Call Terraform Variables</h2>
                <p>Variables are accessed within your Terraform configuration using the <code>var</code> object, like <code>var.variable_name</code>. You can use them in resource configurations, outputs, or within the Terraform console for testing.</p>
                <p>To interactively test variable values, you can use the <code>terraform console</code> command:</p>
                <pre class="codehilite"><code>$ terraform console

&gt; var.name
"web"

&gt; var.environment
"prod"
</code></pre>

                <p>You can also use variables to construct dynamic strings, for example, by combining them with other strings or using Terraform's built-in functions like <code>format</code>.</p>
                <p><strong>Example using <code>format</code> function:</strong></p>
                <pre class="codehilite"><code>&gt; format("%s-%s-server", var.name, var.environment)
"web-prod-server"
</code></pre>
                <p>For more information on string formatting and other functions, refer to the official Terraform documentation: <a href="https://www.terraform.io/docs/configuration/functions/format.html" target="_blank" rel="noopener noreferrer">Terraform Format Function</a>.</p>

                <h2>Validate Terraform Variables</h2>
                <p>The <code>validation</code> block within a <code>variable</code> definition allows you to enforce specific conditions on the variable's value before Terraform proceeds. This is crucial for ensuring data integrity and preventing misconfigurations.</p>
                <p><strong>Example: Validating an EC2 instance type using a regular expression:</strong></p>
                <pre class="codehilite"><code class="language-terraform">variable "instance_type" {
  description = "Instance type for EC2."
  type        = string
  default     = "t2.medium"

  validation {
    condition     = can(regex("^[Tt][2-3].(nano|micro|small|medium|large|xlarge|2xlarge|4xlarge|8xlarge|12xlarge|16xlarge|24xlarge)$", var.instance_type))
    error_message = "Instance type must be a valid EC2 instance type (e.g., t2.nano, t3.medium)."
  }
}
</code></pre>
                <p>This validation ensures that the provided <code>instance_type</code> matches a common pattern for EC2 instance types. If the condition evaluates to false, Terraform will return the specified <code>error_message</code>.</p>

                <h2>Further Reading</h2>
                <ul>
                    <li><a href="https://developer.hashicorp.com/terraform/language/values/variables" target="_blank" rel="noopener noreferrer">Terraform Variables Documentation</a></li>
                    <li><a href="https://developer.hashicorp.com/terraform/language/expressions/validation" target="_blank" rel="noopener noreferrer">Terraform Validation Rules</a></li>
                </ul>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>