<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prometheus Host Alert Rules - Monitor Node Status</title>
    <meta name="description" content="Monitor node status effectively with Prometheus Host Alert Rules. Identify and resolve critical issues quickly using these easy-to-implement alerts.">
    <meta name="keywords" content="Prometheus alerts, host alert rules, node monitoring, server monitoring, critical alerts, node down alert">
    <meta name="author" content="Hexmos">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://example.com/host-alert-rules">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://example.com/host-alert-rules">
    <meta property="og:title" content="Prometheus Host Alert Rules - Monitor Node Status">
    <meta property="og:description" content="Monitor node status effectively with Prometheus Host Alert Rules. Identify and resolve critical issues quickly using these easy-to-implement alerts.">
    <meta property="og:image" content="https://example.com/host-alert-rules-banner.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://example.com/host-alert-rules">
    <meta property="twitter:title" content="Prometheus Host Alert Rules - Monitor Node Status">
    <meta property="twitter:description" content="Monitor node status effectively with Prometheus Host Alert Rules. Identify and resolve critical issues quickly using these easy-to-implement alerts.">
    <meta property="twitter:image" content="https://example.com/host-alert-rules-banner.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        .header h2 {
            margin: 0;
            font-size: 1.5em;
        }
        .content {
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            margin: 0;
        }
        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
        }
        .markdown-content {
            line-height: 1.7;
        }
        .markdown-content h2, .markdown-content h3 {
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        .markdown-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
        }
        .markdown-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .highlight .hll { background-color: #ffffcc }
        .highlight .c { color: #999988; font-style: italic } /* Comment */
        .highlight .err { border: 1px solid #FF0000 } /* Error */
        .highlight .k { color: #0077aa } /* Keyword */
        .highlight .o { color: #0077aa } /* Operator */
        .highlight .cm { color: #999988; font-style: italic } /* Comment.Multiline */
        .highlight .cp { color: #999999; font-weight: bold } /* Comment.Preproc */
        .highlight .c1 { color: #999988; font-style: italic } /* Comment.Single */
        .highlight .cs { color: #999999; font-weight: bold; font-style: italic } /* Comment.Special */
        .highlight .gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
        .highlight .ge { font-style: italic } /* Generic.Emph */
        .highlight .gr { color: #aa0000 } /* Generic.Error */
        .highlight .gh { color: #999999 } /* Generic.Heading */
        .highlight .gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
        .highlight .go { color: #888888 } /* Generic.Output */
        .highlight .gp { color: #555555 } /* Generic.Prompt */
        .highlight .gs { font-weight: bold } /* Generic.Strong */
        .highlight .gu { color: #aaaaaa } /* Generic.Subheading */
        .highlight .gt { color: #aa0000 } /* Generic.Traceback */
        .highlight .kc { color: #0077aa } /* Keyword.Constant */
        .highlight .kd { color: #0077aa } /* Keyword.Declaration */
        .highlight .kn { color: #0077aa } /* Keyword.Namespace */
        .highlight .kp { color: #0077aa } /* Keyword.Pseudo */
        .highlight .kr { color: #0077aa } /* Keyword.Reserved */
        .highlight .kt { color: #3399bb } /* Keyword.Type */
        .highlight .m { color: #990000 } /* Literal.Number */
        .highlight .s { color: #dd4422 } /* Literal.String */
        .highlight .na { color: #445588 } /* Name.Attribute */
        .highlight .nb { color: #0077aa } /* Name.Builtin */
        .highlight .nc { color: #3399bb } /* Name.Class */
        .highlight .no { color: #bb6688 } /* Name.Constant */
        .highlight .nd { color: #555555 } /* Name.Decorator */
        .highlight .ni { color: #880000 } /* Name.Entity */
        .highlight .ne { color: #FF0000 } /* Name.Exception */
        .highlight .nf { color: #3399bb } /* Name.Function */
        .highlight .nl { color: #990000 } /* Name.Label */
        .highlight .nn { color: #3399bb } /* Name.Namespace */
        .highlight .nt { color: #445588 } /* Name.Tag */
        .highlight .nv { color: #008800 } /* Name.Variable */
        .highlight .ow { color: #0077aa } /* Operator.Word */
        .highlight .w { color: #bbbbbb } /* Text.Whitespace */
        .highlight .mb { color: #990000 } /* Literal.Number.Bin */
        .highlight .mf { color: #990000 } /* Literal.Number.Float */
        .highlight .mh { color: #990000 } /* Literal.Number.Hex */
        .highlight .mi { color: #990000 } /* Literal.Number.Integer */
        .highlight .mo { color: #990000 } /* Literal.Number.Oct */
        .highlight .sa { color: #dd4422 } /* Literal.String.Affix */
        .highlight .sb { color: #dd4422 } /* Literal.String.Backtick */
        .highlight .sc { color: #dd4422 } /* Literal.String.Char */
        .highlight .dl { color: #dd4422 } /* Literal.String.Delimiter */
        .highlight .sd { color: #dd4422 } /* Literal.String.Doc */
        .highlight .s2 { color: #dd4422 } /* Literal.String.Double */
        .highlight .se { color: #dd4422 } /* Literal.String.Escape */
        .highlight .sh { color: #dd4422 } /* Literal.String.Heredoc */
        .highlight .si { color: #dd4422 } /* Literal.String.Interpol */
        .highlight .sx { color: #dd4422 } /* Literal.String.Other */
        .highlight .sr { color: #009926 } /* Literal.String.Regex */
        .highlight .s1 { color: #dd4422 } /* Literal.String.Single */
        .highlight .ss { color: #990073 } /* Literal.String.Symbol */
        .highlight .bp { color: #0077aa } /* Name.Builtin.Pseudo */
        .highlight .fm { color: #3399bb } /* Name.Function.Magic */
        .highlight .vc { color: #008800 } /* Name.Variable.Class */
        .highlight .vg { color: #008800 } /* Name.Variable.Global */
        .highlight .vi { color: #008800 } /* Name.Variable.Instance */
        .highlight .vm { color: #008800 } /* Name.Variable.Magic */
        .highlight .il { color: #990000 } /* Literal.Number.Integer.Long */
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>Prometheus Host Alert Rules</h2>
        </div>
        <div class="content">
            <p>These Prometheus alert rules are designed to monitor the status of your nodes. An alert is triggered if a node becomes unreachable for more than one minute, ensuring timely intervention and minimizing potential downtime.</p>

            <h2>Understanding Prometheus Alerting</h2>
            <p>Prometheus is a powerful monitoring and alerting toolkit. These alert rules leverage Prometheus's capabilities to provide real-time insights into the health and availability of your infrastructure.</p>

            <h2>Alert Rules Configuration</h2>
            <p>Below is the configuration for the host alert rules. This YAML configuration defines the conditions under which alerts are triggered, as well as the associated labels and annotations that provide context and guidance for resolving the issue.</p>

            <pre><code class="language-yaml">groups:
- name: host_alert_rules.yml
  rules:

  # Alert for any node that is unreachable for &gt; 1 minute.
  - alert: node_down
    expr: up{job="node-exporter"} == 0
    for: 1m
    labels:
      severity: critical
      environment: foobar-production
    annotations:
      summary: "Job {{ $labels.job }} is down on {{ $labels.instance }}"
      description: "Failed to scrape {{ $labels.job }} on {{ $labels.instance }} for more than 1 minute. Node might be down."
      impact: "Any metrics from {{ $labels.job }} on {{ $labels.instance }} will be missing"
      action: "Check on {{ $labels.instance }} if {{ $labels.job }} is running"
      dashboard: https://grafana.localdns.xyz/d/pdfrTcGnQ/host-metrics
      runbook: https://mydocs.localdns.xyz/wiki/runbooks/1
      priority: P2
</code></pre>

            <h2>Analyzing the Alert Logic</h2>
            <p>The <code>node_down</code> alert is triggered when the <code>up</code> metric, collected by the <code>node-exporter</code> job, reports a value of 0. This indicates that the node is not responding. The <code>for: 1m</code> parameter ensures that the alert is only triggered after the node has been down for a full minute, preventing false positives due to transient network issues.</p>

            <h2>Further Reading</h2>
            <p>To deepen your understanding of Prometheus alerting and monitoring, consider exploring the following resources:</p>
            <ul>
                <li><a href="https://prometheus.io/docs/alerting/overview/">Prometheus Alerting Overview</a></li>
                <li><a href="https://www.robustperception.io/the-prometheus-alertmanager-configuration/">Prometheus Alertmanager Configuration</a></li>
                <li><a href="https://prometheus.io/docs/concepts/jobs_instances/">Prometheus Jobs and Instances</a></li>
            </ul>

        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>
