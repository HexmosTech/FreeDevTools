<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTTP Alerts - Monitor HTTP Request Rates & Errors</title>
    <meta name="description" content="Monitor HTTP request rates with HTTP Alerts. Detect high error rates & excessive actuator scrapes. Ensure HTTP service health & performance with this tool.">
    <meta name="keywords" content="HTTP alerts, HTTP monitoring, Prometheus alerts, Alertmanager, 4xx errors, actuator monitoring, HTTP request rate, service monitoring, error rate monitoring">
    <meta property="og:title" content="HTTP Alerts - Monitor HTTP Request Rates & Errors">
    <meta property="og:description" content="Monitor HTTP request rates with HTTP Alerts. Detect high error rates & excessive actuator scrapes. Ensure HTTP service health & performance with this tool.">
    <meta property="og:image" content="https://example.com/http-alerts-banner.png">
    <meta property="og:url" content="https://example.com/http-alerts">
    <meta name="twitter:title" content="HTTP Alerts - Monitor HTTP Request Rates & Errors">
    <meta name="twitter:description" content="Monitor HTTP request rates with HTTP Alerts. Detect high error rates & excessive actuator scrapes. Ensure HTTP service health & performance with this tool.">
    <meta name="twitter:image" content="https://example.com/http-alerts-banner.png">
    <meta name="twitter:card" content="summary_large_image">
    <link rel="canonical" href="https://example.com/http-alerts">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Hexmos">
    <meta name="language" content="en-US">
    <meta name="revisit-after" content="7 days">
    <meta name="rating" content="General">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        .header h2 {
            margin: 0;
            font-size: 1.5em;
        }
        .content {
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            margin: 0;
        }
        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
        }
        .markdown-content {
            line-height: 1.7;
        }
        .markdown-content h2, .markdown-content h3 {
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        .markdown-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
        }
        .markdown-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .markdown-content ul li a {
            color: #007bff;
            text-decoration: none;
        }
        .markdown-content ul li a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>HTTP Alerts</h2>
        </div>
        <div class="content">
            <p>This document details the Prometheus rules for monitoring HTTP request rates and generating alerts based on specific criteria. The rules monitor for high 4xx response rates and excessive requests to the actuator endpoint, ensuring the health and performance of your HTTP services.</p>

            <h2>Understanding High 4xx Response Rate Alerts</h2>
            <p>This alert triggers when the rate of 4xx HTTP response codes exceeds 90% of total requests over a 1-minute window. This indicates potential client-side issues or API misuse.</p>

            <h2>Understanding High Actuator Rate Alerts</h2>
            <p>This alert triggers when the rate of requests to the actuator endpoint exceeds 60 requests per minute. Excessive actuator scrapes can impact performance and should be monitored.</p>

            <h2>Configuring Prometheus Alert Rules for HTTP Monitoring</h2>
            <p>Below is the configuration for Prometheus alert rules, designed for easy integration into your Alertmanager setup.</p>

            <pre><code class="language-yaml">groups:
- name: http_alerts.yaml
  rules:
  - alert: high_4xx_response_rate
    expr: sum(rate(http_server_requests_seconds_count{status=~"^4.."}[1m])) by (service) / sum(rate(http_server_requests_seconds_count[1m])) by (service) * 100 &gt; 90
    for: 1m
    labels:
      severity: warning
      alert_channel: slack
      team: devops
    annotations:
      title: "High Rate of 4xx Response Status {{ $labels.service }}"
      description: "Too many HTTP requests with status 4xx (&gt; 90%)\n  VALUE = {{ humanize $value}}%\n  SERVICE = {{ $labels.service }}"
      summary: "High HTTP 4xx error rate (instance {{ $labels.instance }})"
  - alert: high_actuator_rate
    expr: sum(irate(http_server_requests_seconds_count{uri="/actuator/prometheus"}[1m])) &gt; 60
    for: 1m
    labels:
      severity: warning
      alert_channel: slack
      team: devops
    annotations:
      title: "High Rate of Actuator Scrapes {{ $labels.service }}"
      description: "Too many HTTP requests against the actuator endpoint (&gt; 1ps)\n  VALUE = {{ $value}}\n  SERVICE = {{ $labels.service }}"
      summary: "High HTTP actuator endpoint rate (instance {{ $labels.instance }})"
</code></pre>

            <h2>Further Resources</h2>
            <p>For further information on Prometheus and Alertmanager, refer to the following resources:</p>
            <ul>
                <li><a href="https://prometheus.io/">Prometheus Documentation</a></li>
                <li><a href="https://prometheus.io/docs/alerting/latest/alertmanager/">Alertmanager Documentation</a></li>
                <li><a href="https://grafana.com/docs/grafana/latest/datasources/prometheus/">Grafana and Prometheus</a></li>
            </ul>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>
