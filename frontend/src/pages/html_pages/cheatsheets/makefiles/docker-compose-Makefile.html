<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Docker Compose Makefile - Automate Docker Container Management</title>
    <meta name="description" content="Manage Docker Compose projects efficiently with this Makefile. Automate container startup, cleanup, and log viewing for seamless development workflows.">
    <meta name="keywords" content="docker compose, makefile, docker automation, container management, development workflow, docker commands, docker up, docker down, docker logs">
    <link rel="canonical" href="https://your-website.com/makefiles/docker-compose-Makefile.html">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://your-website.com/makefiles/docker-compose-Makefile.html">
    <meta property="og:title" content="Docker Compose Makefile - Automate Docker Container Management">
    <meta property="og:description" content="Manage Docker Compose projects efficiently with this Makefile. Automate container startup, cleanup, and log viewing for seamless development workflows.">
    <meta property="og:image" content="https://your-website.com/path/to/your/og-image.jpg">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://your-website.com/makefiles/docker-compose-Makefile.html">
    <meta name="twitter:title" content="Docker Compose Makefile - Automate Docker Container Management">
    <meta name="twitter:description" content="Manage Docker Compose projects efficiently with this Makefile. Automate container startup, cleanup, and log viewing for seamless development workflows.">
    <meta name="twitter:image" content="https://your-website.com/path/to/your/twitter-image.jpg">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        .header h1 {
            margin: 0;
            font-size: 1.5em;
        }
        .content {
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            margin: 0;
        }
        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
        }
        .markdown-content {
            line-height: 1.7;
        }
        .markdown-content h1, .markdown-content h2, .markdown-content h3 {
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        .markdown-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
        }
        .markdown-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .markdown-content pre code {
            background: none;
            padding: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Docker Compose Makefile</h1>
        </div>
        <div class="content">
            <div class="markdown-content">
                <h2>Makefile for Docker Compose Automation</h2>
                <p>This Makefile provides a streamlined way to manage your Docker Compose projects. It simplifies common Docker operations, allowing you to focus on development rather than complex command-line arguments. By defining targets for starting, stopping, and viewing logs, this Makefile enhances your development workflow and ensures consistency across different environments.</p>

                <h2>Key Docker Compose Makefile Commands</h2>
                <p>The following commands are defined within the Makefile to facilitate Docker Compose management:</p>

                <h3><code>help</code>: Display Available Commands</h3>
                <p>This target provides a comprehensive list of all available commands within the Makefile, along with their descriptions. It's the first command you should run to understand the Makefile's capabilities.</p>

                <h3><code>up</code>: Start Containers</h3>
                <p>The <code>up</code> target is used to build and start your Docker containers in detached mode. This is typically the first step in running your application locally. It ensures that all services defined in your <code>docker-compose.yml</code> file are running.</p>

                <h3><code>clean</code>: Stop and Remove Containers</h3>
                <p>Use the <code>clean</code> target to gracefully stop and remove all containers, networks, and volumes associated with your Docker Compose project. This is essential for resetting your environment and freeing up resources.</p>

                <h3><code>logs</code>: View Container Logs</h3>
                <p>The <code>logs</code> target allows you to follow the real-time output of your containers. This is invaluable for debugging and monitoring your application's behavior. The <code>-f</code> flag ensures that the logs are streamed live.</p>

                <h3><code>open</code>: Access Application URL</h3>
                <p>This target is a convenience command to open a specific URL in your browser, typically used to access a web application running within a container. It assumes the application is accessible at <code>http://localhost:3000/</code>.</p>

                <h2>Makefile Structure and Logic</h2>
                <p>The Makefile intelligently detects whether <code>docker-compose</code> or the newer <code>docker compose</code> command is available on your system. It sets the <code>DOCKER_COMPOSE_BINARY</code> variable accordingly, ensuring compatibility. If neither command is found, it throws an error, prompting the user to install the necessary Docker tools.</p>

                <pre><code class="language-makefile"># Thanks: https://gist.github.com/mpneuried/0594963ad38e68917ef189b4e6a269db
.PHONY: help

HAS_DOCKER_COMPOSE := $(shell command -v docker-compose 2&gt; /dev/null)
HAS_DOCKER_COMPOSE_V2 := $(shell command -v docker 2&gt; /dev/null)

ifeq ($(strip $(HAS_DOCKER_COMPOSE)),)
    ifeq ($(strip $(HAS_DOCKER_COMPOSE_V2)),)
        $(error No compatible command found)
    else
        DOCKER_COMPOSE_BINARY := docker compose
    endif
else
    DOCKER_COMPOSE_BINARY := docker-compose
endif

help: ## This help.
	@awk 'BEGIN {FS = ":.*?## "} /^[a-zA-Z_-]+:.*?## / {printf "\033[36m%-30s\033[0m %s\n", $$1, $$2}' $(MAKEFILE_LIST)

.DEFAULT_GOAL := help

# DOCKER TASKS
up: ## Runs the containers in detached mode
	@$(DOCKER_COMPOSE_BINARY) up -d --build

clean: ## Stops and removes all containers
	@$(DOCKER_COMPOSE_BINARY) down

logs: ## View the logs from the containers
	@$(DOCKER_COMPOSE_BINARY) logs -f

open: ## Opens tabs in container
	open http://localhost:3000/
</code></pre>

                <h2>External Resources for Docker Compose</h2>
                <ul>
                    <li><a href="https://docs.docker.com/compose/" target="_blank" rel="noopener noreferrer">Docker Compose Official Documentation</a></li>
                    <li><a href="https://docs.docker.com/engine/reference/commandline/compose_up/" target="_blank" rel="noopener noreferrer">Docker Compose Up Command Reference</a></li>
                    <li><a href="https://docs.docker.com/engine/reference/commandline/compose_down/" target="_blank" rel="noopener noreferrer">Docker Compose Down Command Reference</a></li>
                    <li><a href="https://docs.docker.com/engine/reference/commandline/compose_logs/" target="_blank" rel="noopener noreferrer">Docker Compose Logs Command Reference</a></li>
                    <li><a href="https://makefiletutorial.com/" target="_blank" rel="noopener noreferrer">Makefile Tutorial</a></li>
                </ul>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>