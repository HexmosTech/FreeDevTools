<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Az</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        .header h1 {
            margin: 0;
            font-size: 1.5em;
        }
        .content {
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            margin: 0;
        }
        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
        }
        .markdown-content {
            line-height: 1.7;
        }
        .markdown-content h1, .markdown-content h2, .markdown-content h3 {
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        .markdown-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
        }
        .markdown-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .markdown-content pre code {
            background: none;
            padding: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Az</h1>
        </div>
        <div class="content">
            <pre><code class="language-bash"># Microsoft Azure CLI 2.0
# Command-line tools for Azure

# Install Azure CLI 2.0 with one curl command.
curl -L https://aka.ms/InstallAzureCli | bash

# create a resource group named "MyRG" in the 'westus2' region
az group create -n MyRG -l westus2

# create a Linux VM using the UbuntuTLS image,
# with two attached storage disks of 10 GB and 20 GB
az vm create -n MyLinuxVM -g MyRG \
    --ssh-key-value $HOME/.ssh/id_rsa.pub --image UbuntuLTS \
    --data-disk-sizes-gb 10 20

# list VMs
az vm list --output table

# list only VMs having distinct state
az vm list -d --query "[?powerState=='VM running']" --output table

# delete VM (with the name MyLinuxVM in the group MyRG)
az vm delete -g MyRG -n MyLinuxVM --yes

# Delete all VMs in a resource group
az vm delete --ids $(az vm list -g MyRG --query "[].id" -o tsv)

# Create an Image based on a running VM
az vm deallocate -g MyRG -n MyLinuxVM
az vm generalize -g MyRG -n MyLinuxVM
az image create --resource-group MyRG --name MyTestImage --source MyLinuxVM

# Running VM based on a VHD
az storage blob upload --account-name "${account_name}"  \
   --account-key "${account_key}" --container-name "${container}" --type page \
   --file "${file}" --name "${vhd}"
az disk create \
   --resource-group "${resource_group}" \
   --name myManagedDisk \
   --source "https://${account_name}.blob.core.windows.net/${container}/${vhd}"

# open port
az vm open-port --resource-group MyRG --name MyLinuxVM --port 443 --priority 899

# Show storage accounts
az storage account list --output table

# Show containers for an account
az storage container list --account-name mystorageaccount --output table

# Show blobs in a container
az storage blob list --account-name mystorageaccount \
    --container-name mycontainer  --output table

# list account keys
az storage account keys list  --account-name STORAGE_NAME --resource-group RESOURCE_GROUP

# Show own images
az image list --output table

# Configure default storage location
az configure --defaults location=eastus2

# Show disks
az disk list --output table

# Copy blob
az storage blob copy start \
    --source-uri 'https://xxx.blob.core.windows.net/jzwuuuzzapn0/abcd?...' \
    --account-key XXXXXXXXXX== \
    --account-name destaccount \
    --destination-container vms \
    --destination-blob DESTINATION-blob.vhd

# List virtual networks
az network vnet list --output table

# List virtual networks adapters
az network nic list --output table

# List public IP addresses used by the VMs
az vm list-ip-addresses --output table

# create snapshot
az snapshot create --resource-group IC-EXASOL-001 --source vm1-disk1 -n vm1-snap1

# create SAS url for a snapshot
az snapshot grant-access --resource-group IC-EXASOL-001 --name vm1-snap1\
    --duration-in-seconds 36000 --query '[accessSas]' -o tsv

# attach disk
az vm disk attach --vm-name vm1 -g RESOURCE_GROUP --disk DISK1_ID

# detach disk
az vm disk detach --vm-name vm1 -g RESOURCE_GROUP --name DISK1_ID

</code></pre>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>