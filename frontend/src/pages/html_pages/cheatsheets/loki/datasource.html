<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loki Datasource Configuration - Grafana Setup</title>
    <meta name="description" content="Configure Grafana datasources for Prometheus and Loki. This guide provides a YAML configuration to set up Prometheus and Loki as data sources for Grafana, ensuring seamless data visualization.">
    <meta name="keywords" content="grafana, loki, prometheus, datasource, configuration, setup, yaml, monitoring, logging, observability, devops">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://yourdomain.com/loki/datasource.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourdomain.com/loki/datasource.html">
    <meta property="og:title" content="Loki Datasource Configuration - Grafana Setup">
    <meta property="og:description" content="Configure Grafana datasources for Prometheus and Loki. This guide provides a YAML configuration to set up Prometheus and Loki as data sources for Grafana, ensuring seamless data visualization.">
    <meta property="og:image" content="https://yourdomain.com/path/to/your/og-image.png">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://yourdomain.com/loki/datasource.html">
    <meta name="twitter:title" content="Loki Datasource Configuration - Grafana Setup">
    <meta name="twitter:description" content="Configure Grafana datasources for Prometheus and Loki. This guide provides a YAML configuration to set up Prometheus and Loki as data sources for Grafana, ensuring seamless data visualization.">
    <meta name="twitter:image" content="https://yourdomain.com/path/to/your/twitter-image.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        .header h1 {
            margin: 0;
            font-size: 1.5em;
        }
        .content {
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            margin: 0;
        }
        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
        }
        .markdown-content {
            line-height: 1.7;
        }
        .markdown-content h1, .markdown-content h2, .markdown-content h3 {
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        .markdown-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
        }
        .markdown-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .markdown-content pre code {
            background: none;
            padding: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Grafana Datasource Configuration for Loki</h1>
        </div>
        <div class="content">
            <div class="markdown-content">
                <p>This document outlines the configuration for setting up Loki and Prometheus as datasources within Grafana. Proper datasource configuration is crucial for effective monitoring and logging, enabling you to visualize and analyze your system's behavior.</p>

                <h2>Prometheus Datasource Setup</h2>
                <p>The following YAML snippet configures the Prometheus datasource. Prometheus is commonly used for collecting and storing time-series metrics, which can be visualized alongside Loki logs in Grafana.</p>
                <pre><code class="language-yaml">apiVersion: 1

deleteDatasources:
  - name: prometheus

datasources:
- name: prometheus
  type: prometheus
  access: proxy
  url: http://prometheus:9090
  isDefault: true
  editable: true
</code></pre>

                <h2>Loki Datasource Setup</h2>
                <p>This section details the configuration for the Loki datasource. Loki is a horizontally scalable, highly available, multi-tenant log aggregation system inspired by Prometheus. Integrating it with Grafana allows for unified log querying and analysis.</p>
                <pre><code class="language-yaml">datasources:
- name: loki
  type: loki
  access: proxy
  orgId: 1
  url: http://loki:3100
  basicAuth: false
  isDefault: false
  version: 1
  editable: true
</code></pre>

                <h2>Complete Grafana Datasource Configuration</h2>
                <p>Combining both Prometheus and Loki configurations provides a comprehensive setup for observability within Grafana. This allows you to correlate metrics with logs, offering deeper insights into your applications and infrastructure.</p>
                <pre><code class="language-yaml">apiVersion: 1

deleteDatasources:
  - name: prometheus
  - name: loki

datasources:
- name: prometheus
  type: prometheus
  access: proxy
  url: http://prometheus:9090
  isDefault: true
  editable: true
- name: loki
  type: loki
  access: proxy
  orgId: 1
  url: http://loki:3100
  basicAuth: false
  isDefault: false
  version: 1
  editable: true
</code></pre>

                <h3>Key Configuration Parameters</h3>
                <ul>
                    <li><strong>name</strong>: The display name for the datasource in Grafana.</li>
                    <li><strong>type</strong>: The type of datasource (e.g., 'prometheus', 'loki').</li>
                    <li><strong>url</strong>: The HTTP endpoint for the datasource service.</li>
                    <li><strong>access</strong>: Specifies how Grafana accesses the datasource ('proxy' is common for internal services).</li>
                    <li><strong>isDefault</strong>: If set to true, this datasource will be selected by default when creating new dashboards.</li>
                    <li><strong>editable</strong>: Allows the datasource to be edited within the Grafana UI.</li>
                </ul>

                <h3>Further Resources</h3>
                <ul>
                    <li><a href="https://grafana.com/docs/grafana/latest/datasources/loki/" target="_blank" rel="noopener noreferrer">Grafana Loki Datasource Documentation</a></li>
                    <li><a href="https://grafana.com/docs/grafana/latest/datasources/prometheus/" target="_blank" rel="noopener noreferrer">Grafana Prometheus Datasource Documentation</a></li>
                    <li><a href="https://grafana.com/docs/grafana/latest/administration/configuration/" target="_blank" rel="noopener noreferrer">Grafana Configuration Guide</a></li>
                </ul>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>