<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DynamoDB Script - Python Example for Game Scores</title>
    <meta name="description" content="Python script example for populating DynamoDB with game scores using boto3. Includes user data and event details for a simulated gaming tournament.">
    <meta name="keywords" content="DynamoDB, Python, boto3, AWS, script, example, game scores, database, data population, localstack, developer tools">
    <link rel="canonical" href="https://yourdomain.com/dynamodb/script.html">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourdomain.com/dynamodb/script.html">
    <meta property="og:title" content="DynamoDB Script - Python Example for Game Scores">
    <meta property="og:description" content="Python script example for populating DynamoDB with game scores using boto3. Includes user data and event details for a simulated gaming tournament.">
    <meta property="og:image" content="https://yourdomain.com/path/to/your/og-image.jpg">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://yourdomain.com/dynamodb/script.html">
    <meta name="twitter:title" content="DynamoDB Script - Python Example for Game Scores">
    <meta name="twitter:description" content="Python script example for populating DynamoDB with game scores using boto3. Includes user data and event details for a simulated gaming tournament.">
    <meta name="twitter:image" content="https://yourdomain.com/path/to/your/twitter-image.jpg">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        .header h1 {
            margin: 0;
            font-size: 1.5em;
        }
        .content {
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            margin: 0;
        }
        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
        }
        .markdown-content {
            line-height: 1.7;
        }
        .markdown-content h1, .markdown-content h2, .markdown-content h3 {
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        .markdown-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
        }
        .markdown-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .markdown-content pre code {
            background: none;
            padding: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>DynamoDB Script Example</h1>
        </div>
        <div class="content markdown-content">
            <h2>Python Script for Populating DynamoDB Game Scores</h2>
            <p>This Python script demonstrates how to use the <code>boto3</code> library to interact with Amazon DynamoDB. It's designed to simulate populating a <code>gamescores</code> table with data for various users and gaming events. This example is particularly useful for developers testing DynamoDB integrations locally using tools like LocalStack or for understanding basic data insertion patterns.</p>

            <h3>Script Overview</h3>
            <p>The script initializes a DynamoDB client, defines dictionaries for user data and a list of gaming events. It then iterates through each event and each user, generating a unique item for each combination. Each item includes details such as event name, timestamp, gamer ID, name, age, location, game played, a randomly generated score, and the user's rank. The <code>put_item</code> operation is used to insert these records into the specified DynamoDB table. A delay is introduced between processing each event to simulate real-world data flow and avoid overwhelming the database.</p>

            <h3>Key Features and Usage</h3>
            <ul>
                <li><strong>Boto3 Integration:</strong> Leverages the official AWS SDK for Python to connect to DynamoDB.</li>
                <li><strong>Local DynamoDB Support:</strong> Configured to connect to a local endpoint (e.g., <code>http://localhost:4567</code>), making it ideal for development and testing without incurring AWS costs.</li>
                <li><strong>Data Simulation:</strong> Generates realistic-looking user profiles and event data for a gaming tournament scenario.</li>
                <li><strong>Random Score Generation:</strong> Assigns random scores within a defined range to simulate competitive outcomes.</li>
                <li><strong>Timestamping:</strong> Records the UTC timestamp for each score submission.</li>
                <li><strong>Structured Data:</strong> Organizes data into a dictionary format suitable for DynamoDB item insertion.</li>
            </ul>

            <h3>Code Snippet</h3>
            <pre><code class="language-python">import boto3
import time
import random
import datetime

# Initialize DynamoDB client for a specific region, using provided credentials and local endpoint
client = boto3.Session(region_name='eu-west-1').client('dynamodb', aws_access_key_id='', aws_secret_access_key='', endpoint_url='http://localhost:4567')

# Define user data with unique IDs and attributes
userlists = {}
userlists['john'] = {'id':'johnsnow9801', 'firstname': 'john', 'age': '23', 'location': 'south africa', 'rank': 'professional'}
userlists['max'] = {'id':'maxmilia', 'firstname': 'max', 'age': '24', 'location': 'new zealand', 'rank': 'professional'}
userlists['samantha'] = {'id':'sambubbles8343', 'firstname': 'samantha', 'age': '21', 'location': 'australia', 'rank': 'professional'}
userlists['aubrey'] = {'id':'aubreyxeleven4712', 'firstname': 'aubrey', 'age': '24', 'location': 'america', 'rank': 'professional'}
userlists['mikhayla'] = {'id':'mikkie1419', 'firstname': 'mikhayla', 'age': '21', 'location': 'mexico', 'rank': 'professional'}
userlists['steve'] = {'id':'stevie1119', 'firstname': 'steve', 'age': '25', 'location': 'ireland', 'rank': 'professional'}
userlists['rick'] = {'id':'rickmax0901', 'firstname': 'rick', 'age': '20', 'location': 'sweden', 'rank': 'professional'}
userlists['michael'] = {'id':'mikeshank2849', 'firstname': 'michael', 'age': '26', 'location': 'america', 'rank': 'professional'}
userlists['paul'] = {'id':'paulgru2039', 'firstname': 'paul', 'age': '26', 'location': 'sweden', 'rank': 'professional'}
userlists['nathalie'] = {'id':'natscotia2309', 'firstname': 'nathalie', 'age': '21', 'location': 'america', 'rank': 'professional'}
userlists['scott'] = {'id':'scottie2379', 'firstname': 'scott', 'age': '23', 'location': 'new zealand', 'rank': 'professional'}
userlists['will'] = {'id':'wilson9335', 'firstname': 'will', 'age': '27', 'location': 'sweden', 'rank': 'professional'}
userlists['adrian'] = {'id':'adriano5519', 'firstname': 'adrian', 'age': '22', 'location': 'ireland', 'rank': 'professional'}
userlists['julian'] = {'id':'jules8756', 'firstname': 'julian', 'age': '27', 'location': 'mexico', 'rank': 'professional'}
userlists['rico'] = {'id':'ricololo4981', 'firstname': 'rico', 'age': '20', 'location': 'sweden', 'rank': 'professional'}
userlists['kate'] = {'id':'kitkatkate0189', 'firstname': 'kate', 'age': '24', 'location': 'south africa', 'rank': 'professional'}

# Define a list of gaming events with their names and associated games
events = []
events = [
	{
		'name': 'gaming_nationals_round_01',
		'game': 'counter_strike'
	},
	{
		'name': 'gaming_nationals_round_02',
		'game': 'fifa'
	},
	{
		'name': 'gaming_nationals_round_03',
		'game': 'rocket_league'
	},
	{
		'name': 'gaming_nationals_round_04',
		'game': 'world_of_warcraft'
	},
	{
		'name': 'gaming_nationals_round_05',
		'game': 'pubg'
	},
	{
		'name': 'gaming_nationals_round_06',
		'game': 'league_of_legends'
	},
	{
		'name': 'gaming_nationals_round_07',
		'game': 'dota'
	}
]

# Get a list of user keys from the userlists dictionary
users = userlists.keys()

# Function to generate a DynamoDB item for a user and an event
def generate(name, eventname):
    item = {
        'event': {'S': eventname['name']}, # Event name as String
        'timestamp': {'S': datetime.datetime.utcnow().strftime("%Y-%m-%dT%H:%M")}, # Current UTC time formatted as String
        'gamerid': {'S': name['id']}, # User's unique ID as String
        'name': {'S': name['firstname']}, # User's first name as String
        'age': {'N': str(name['age'])}, # User's age as Number (converted to string for 'N' type)
        'location': {'S': name['location']}, # User's location as String
        'game': {'S': eventname['game']}, # Game associated with the event as String
        'score': {'N': str(random.randint(10000, 19999))}, # Random score between 10000 and 19999 as Number
        'rank': {'S': name['rank']}} # User's rank as String
    return item

# Iterate through each event and each user to populate DynamoDB
for eventname in events:
    for user in users:
        item = generate(userlists[user], eventname)
        print("Event: {} - submitting scores to dynamodb for {}".format(item['event']['S'], user))
        # Use put_item to insert the generated item into the 'gamescores' table
        response = client.put_item(TableName='gamescores', Item=item)
    # Pause for 5 minutes (300 seconds) between processing each event
    time.sleep(300)
    print("")

print("done")
</code></pre>

            <h3>External Resources</h3>
            <ul>
                <li><a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/dynamodb.html" target="_blank" rel="noopener noreferrer">Boto3 DynamoDB Documentation</a></li>
                <li><a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Introduction.html" target="_blank" rel="noopener noreferrer">Amazon DynamoDB Developer Guide</a></li>
                <li><a href="https://docs.localstack.cloud/user-guide/aws/dynamodb/" target="_blank" rel="noopener noreferrer">LocalStack DynamoDB Guide</a></li>
            </ul>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>