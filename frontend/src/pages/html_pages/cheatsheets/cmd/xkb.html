<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xkb Configuration - Set Keyboard Layouts & Compose Keys</title>
    <meta name="description" content="Configure Xkb to set keyboard layouts, switch between languages, and customize compose key behavior for efficient typing.">
    <meta name="keywords" content="xkb, keyboard layout, setxkbmap, compose key, xcompose, Linux keyboard, language switching, ralt compose, caps toggle">
    <link rel="canonical" href="https://your-website.com/cmd/xkb.html">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Xkb Configuration - Set Keyboard Layouts & Compose Keys">
    <meta property="og:description" content="Configure Xkb to set keyboard layouts, switch between languages, and customize compose key behavior for efficient typing.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://your-website.com/cmd/xkb.html">
    <meta property="og:image" content="https://your-website.com/path/to/xkb-og-image.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Xkb Configuration - Set Keyboard Layouts & Compose Keys">
    <meta name="twitter:description" content="Configure Xkb to set keyboard layouts, switch between languages, and customize compose key behavior for efficient typing.">
    <meta name="twitter:image" content="https://your-website.com/path/to/xkb-twitter-image.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        .header h1 {
            margin: 0;
            font-size: 1.5em;
        }
        .content {
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            margin: 0;
        }
        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
        }
        .markdown-content {
            line-height: 1.7;
        }
        .markdown-content h1, .markdown-content h2, .markdown-content h3 {
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        .markdown-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
        }
        .markdown-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .markdown-content pre code {
            background: none;
            padding: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Xkb Configuration Tool</h1>
        </div>
        <div class="content">
            <div class="markdown-content">
                <h2>Set Keyboard Layouts with Xkb</h2>
                <p>The X Keyboard Extension (Xkb) is a powerful system for configuring keyboard layouts and behavior in X Window System environments. This guide demonstrates how to use the <code>setxkbmap</code> command to define multiple keyboard layouts and set options for switching between them, such as using the Caps Lock key or Right Alt as a compose key.</p>

                <h2>Configuring Multiple Layouts and Options</h2>
                <p>To set up your keyboard with multiple layouts (e.g., US and Russian) and define how to switch between them, you can use the following commands. This example configures the Caps Lock key to toggle between layouts and uses Right Alt as a compose key for special characters.</p>
                <pre><code class="language-bash"># Set the keyboard layout for the current X session to include US and Russian layouts
setxkbmap -layout "us,ru"

# Configure layout switching options:
# grp:caps_toggle - Use Caps Lock to switch between layouts
# grp_led:scroll - Show layout indicator on Scroll Lock LED
# compose:ralt - Use Right Alt key as the compose key
setxkbmap -option "grp:caps_toggle,grp_led:scroll,compose:ralt"
</code></pre>

                <h2>Advanced Compose Key Configuration</h2>
                <p>For more advanced compose key functionality, you can use external configuration tools like <code>xcompose</code>. This involves cloning a repository, installing the configuration, and setting environment variables to ensure your compose key settings are recognized by applications.</p>
                <pre><code class="language-bash"># Clone the xcompose repository
git clone https://github.com/kragen/xcompose/
cd xcompose

# Install the xcompose configuration
bash install

# Configure input modules for better compatibility with applications
# This adds settings to your ~/.profile file
cat &lt;&lt;EOF &gt;&gt; ~/.profile
input_module=xim
export GTK_IM_MODULE=\$input_module
export XMODIFIERS=@im=\$input_module
export QT_IM_MODULE=\$input_module
EOF

# To ensure these settings are active, you might need to restart your session
# or log out and log back in. For some environments, starting an input method
# editor daemon might be necessary:
# ibus-daemon --xim --verbose --daemonize --replace
</code></pre>

                <h2>Understanding Xkb Options</h2>
                <p>The <code>setxkbmap</code> command offers a wide array of options to customize your keyboard. Some common options include:</p>
                <ul>
                    <li><code>grp:alt_shift_toggle</code>: Switch layouts with Alt+Shift.</li>
                    <li><code>grp:win_space_toggle</code>: Switch layouts with Win+Space.</li>
                    <li><code>compose:menu</code>: Use the Menu key as the compose key.</li>
                    <li><code>terminate:ctrl_alt_bksp</code>: Enable Ctrl+Alt+Backspace to kill the X server.</li>
                </ul>
                <p>You can combine multiple options by separating them with commas within the <code>-option</code> argument.</p>

                <h2>External Resources</h2>
                <ul>
                    <li><a href="https://www.x.org/releases/X11R7.7/doc/xkb-user/xkb-user.html" target="_blank" rel="noopener noreferrer">Xkb User Guide</a></li>
                    <li><a href="https://wiki.archlinux.org/title/Xorg/Keyboard_configuration#Keyboard_model" target="_blank" rel="noopener noreferrer">Arch Linux Wiki: Keyboard Configuration</a></li>
                    <li><a href="https://github.com/kragen/xcompose" target="_blank" rel="noopener noreferrer">xcompose GitHub Repository</a></li>
                </ul>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>