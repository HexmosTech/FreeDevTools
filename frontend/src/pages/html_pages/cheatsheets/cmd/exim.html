<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exim Command Line Tool - Manage Mail Queue</title>
    <meta name="description" content="Master Exim queue management with our comprehensive guide. Learn to list, search, freeze, thaw, and remove messages using Exim commands.">
    <meta name="keywords" content="exim, mail queue, MTA, mail transfer agent, exim commands, manage mail queue, email server, linux mail, exim bp, exiqgrep, exim -q, exim -Mrm, exim -Mf, exim -Mt, exim -M, exim -Mg, exim -Mvh, exim -Mvb, exim -Mvl, exim -Mar, exim -Mes">
    <link rel="canonical" href="https://your-domain.com/cmd/exim.html">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Exim Command Line Tool - Manage Mail Queue">
    <meta property="og:description" content="Master Exim queue management with our comprehensive guide. Learn to list, search, freeze, thaw, and remove messages using Exim commands.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://your-domain.com/cmd/exim.html">
    <meta property="og:image" content="https://your-domain.com/images/exim-og.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Exim Command Line Tool - Manage Mail Queue">
    <meta name="twitter:description" content="Master Exim queue management with our comprehensive guide. Learn to list, search, freeze, thaw, and remove messages using Exim commands.">
    <meta name="twitter:image" content="https://your-domain.com/images/exim-twitter.jpg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        .header h1 {
            margin: 0;
            font-size: 1.5em;
        }
        .content {
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            margin: 0;
        }
        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
        }
        .markdown-content {
            line-height: 1.7;
        }
        .markdown-content h1, .markdown-content h2, .markdown-content h3 {
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        .markdown-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
        }
        .markdown-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .markdown-content pre code {
            background: none;
            padding: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Exim Command Line Tool</h1>
        </div>
        <div class="content">
            <div class="markdown-content">
                <h2>Exim Mail Queue Management</h2>
                <p>The Exim Message Transfer Agent (MTA) is a powerful mail server that requires efficient management of its mail queue. This guide provides essential Exim commands to help administrators monitor, control, and troubleshoot email delivery. Understanding these commands is crucial for maintaining a healthy and responsive mail server.</p>

                <h2>Core Exim Queue Operations</h2>
                <p>These commands are fundamental for inspecting the state of your Exim mail queue and understanding message flow.</p>
                <pre><code class="language-bash"># Print amount of enqueued messages
exim -bpc

# List messages in the queue (time queued, size, message-id, sender, recipient)
exim -bp

# Print summary of enqueued messages
exim -bp | exiqsumm

# Check what is Exim doing right now
exiwhat

# Display all of Exim's configuration settings
exim -bP
</code></pre>

                <h2>Searching and Filtering the Mail Queue</h2>
                <p>Efficiently find specific messages within the queue using powerful filtering options.</p>
                <pre><code class="language-bash"># Search the queue for messages from a specific sender
exiqgrep -f [user]@domain

# Search the queue for messages from a specific recipient
exiqgrep -r [user]@domain

# Print messages older than the specified number of seconds
# (1 day = 86400 seconds)
exiqgrep -o 86400

# Print messages younger than the specified number of seconds
exiqgrep -y 86400
</code></pre>

                <h2>Controlling Message Delivery and State</h2>
                <p>Take direct control over individual messages or the entire queue to resolve delivery issues.</p>
                <pre><code class="language-bash"># Start a queue run
exim -q -v

# Remove message from the queue
exim -Mrm &lt;message-id&gt; [ &lt;message-id&gt; ... ]

# Freeze message
exim -Mf &lt;message-id&gt; [ &lt;message-id&gt; ... ]

# Thaw (unfreeze) a message
exim -Mt &lt;message-id&gt; [ &lt;message-id&gt; ... ]

# Deliver message, whether it's frozen or not,
# whether the retry time has been reached or not
exim -M &lt;message-id&gt; [ &lt;message-id&gt; ... ]

# Force message to fail and bounce as "canceled by administrator"
exim -Mg &lt;message-id&gt; [ &lt;message-id&gt; ... ]
</code></pre>

                <h2>Inspecting Message Details</h2>
                <p>Examine the contents and logs of individual messages to diagnose problems.</p>
                <pre><code class="language-bash"># View message's headers
exim -Mvh &lt;message-id&gt;

# View message's body
exim -Mvb &lt;message-id&gt;

# View message's logs
exim -Mvl &lt;message-id&gt;
</code></pre>

                <h2>Modifying Message Recipients and Senders</h2>
                <p>Adjust message metadata, such as recipients and senders, when necessary.</p>
                <pre><code class="language-bash"># Add a recipient to a message
exim -Mar &lt;message-id&gt; &lt;address&gt; [ &lt;address&gt; ... ]

# Edit the sender of a message
exim -Mes &lt;message-id&gt; &lt;address&gt;
</code></pre>

                <h2>Further Resources</h2>
                <p>For more in-depth information on Exim configuration and advanced usage, consult the official Exim documentation and community resources.</p>
                <ul>
                    <li><a href="https://www.exim.org/spec/doc.html" target="_blank" rel="noopener noreferrer">Exim Specification Documentation</a></li>
                    <li><a href="https://www.exim.org/manual/html/spec.html" target="_blank" rel="noopener noreferrer">Exim Manual</a></li>
                    <li><a href="https://stackoverflow.com/questions/tagged/exim" target="_blank" rel="noopener noreferrer">Exim Questions on Stack Overflow</a></li>
                </ul>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>