<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shell Script Conditions - If Else & Short Circuiting</title>
    <meta name="description" content="Learn about shell script conditions, including if-else statements, file, string, and number comparisons, and short-circuiting with && and || operators.">
    <meta name="keywords" content="shell script conditions, if else, bash conditions, file conditions, string conditions, number conditions, short circuiting, &&, ||, bash scripting, command line">
    <link rel="canonical" href="https://example.com/cmd/conditions.html">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Shell Script Conditions - If Else & Short Circuiting">
    <meta property="og:description" content="Learn about shell script conditions, including if-else statements, file, string, and number comparisons, and short-circuiting with && and || operators.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://example.com/cmd/conditions.html">
    <meta property="og:image" content="https://example.com/path/to/your/og-image.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Shell Script Conditions - If Else & Short Circuiting">
    <meta name="twitter:description" content="Learn about shell script conditions, including if-else statements, file, string, and number comparisons, and short-circuiting with && and || operators.">
    <meta name="twitter:image" content="https://example.com/path/to/your/twitter-image.jpg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        .header h1 {
            margin: 0;
            font-size: 1.5em;
        }
        .content {
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            margin: 0;
        }
        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
        }
        .markdown-content {
            line-height: 1.7;
        }
        .markdown-content h1, .markdown-content h2, .markdown-content h3 {
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        .markdown-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
        }
        .markdown-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .markdown-content pre code {
            background: none;
            padding: 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 16px;
        }
        th, td {
            border: 1px solid #e9ecef;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f1f3f4;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Shell Script Conditions</h1>
        </div>
        <div class="content">
            <div class="markdown-content">
                <h1>26. Conditions in Shell Scripting</h1>
                <p>Understanding and implementing conditions is fundamental to writing effective shell scripts. This guide covers the essential conditional structures and operators used in command-line environments.</p>

                <h2>26.1. If-Else Statements</h2>
                <p>The <code>if-then-else</code> construct is a core part of shell scripting, allowing scripts to make decisions based on certain criteria. It's supported in command-line environments for conditional execution.</p>
                <h3>Syntax</h3>
                <p>The general syntax for an if-else statement in bash is:</p>
                <pre><code class="language-bash">if [ condition1 ]; then
    command1
elif [ condition2 ]; then
    command2
else
    command3
fi
</code></pre>
                <p>A more compact form is also possible:</p>
                <pre><code class="language-bash">if [ condition1 ]; then command1; elif [ condition2 ]; then command2; else command3; fi
</code></pre>

                <h3>Types of Conditions</h3>
                <p>Shell scripting supports various types of conditions to evaluate different aspects of your system and data.</p>

                <h4>File-Based Conditions</h4>
                <p>These conditions check the status and properties of files and directories:</p>
                <table>
                    <thead>
                        <tr>
                            <th>Condition</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>-e</code></td>
                            <td>Checks if a file exists.</td>
                        </tr>
                        <tr>
                            <td><code>-r</code></td>
                            <td>Checks if a file exists and is readable.</td>
                        </tr>
                        <tr>
                            <td><code>-w</code></td>
                            <td>Checks if a file exists and is writable.</td>
                        </tr>
                        <tr>
                            <td><code>-d</code></td>
                            <td>Checks if a file exists and is a directory.</td>
                        </tr>
                    </tbody>
                </table>

                <h4>String-Based Conditions</h4>
                <p>These conditions compare strings based on their content and length:</p>
                <table>
                    <thead>
                        <tr>
                            <th>Condition</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>==</code></td>
                            <td>Checks if both strings are equal.</td>
                        </tr>
                        <tr>
                            <td><code>!=</code></td>
                            <td>Checks if both strings are not equal.</td>
                        </tr>
                        <tr>
                            <td><code>&gt;</code></td>
                            <td>Checks if the first string is lexicographically greater than the second.</td>
                        </tr>
                        <tr>
                            <td><code>&lt;</code></td>
                            <td>Checks if the first string is lexicographically smaller than the second.</td>
                        </tr>
                        <tr>
                            <td><code>-n</code></td>
                            <td>Checks if the string has a length greater than 0 (is not empty).</td>
                        </tr>
                        <tr>
                            <td><code>-z</code></td>
                            <td>Checks if the string is empty (has a length of 0).</td>
                        </tr>
                    </tbody>
                </table>

                <h4>Number-Based Conditions</h4>
                <p>These conditions perform numerical comparisons:</p>
                <table>
                    <thead>
                        <tr>
                            <th>Condition</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>-eq</code></td>
                            <td>Checks if the numbers are equal.</td>
                        </tr>
                        <tr>
                            <td><code>-ne</code></td>
                            <td>Checks if the numbers are not equal.</td>
                        </tr>
                        <tr>
                            <td><code>-gt</code></td>
                            <td>Checks if the first number is greater than the second.</td>
                        </tr>
                        <tr>
                            <td><code>-ge</code></td>
                            <td>Checks if the first number is greater than or equal to the second.</td>
                        </tr>
                        <tr>
                            <td><code>-lt</code></td>
                            <td>Checks if the first number is less than the second.</td>
                        </tr>
                        <tr>
                            <td><code>-le</code></td>
                            <td>Checks if the first number is less than or equal to the second.</td>
                        </tr>
                    </tbody>
                </table>
                <p>In shell scripting, the exit status of a command is crucial. An exit status of <code>0</code> is conventionally considered true (success), while any non-zero number (typically greater than 0) is considered false (failure). This convention stems from the Unix/Linux philosophy where a successful process termination returns 0.</p>

                <h2>26.2. Short-Circuiting with Logical Operators</h2>
                <p>An efficient way to manage command execution based on conditions is by using logical AND (<code>&amp;&amp;</code>) and logical OR (<code>||</code>). These operators employ short-circuiting, meaning the evaluation of a logical expression stops as soon as the outcome is definitively determined.</p>

                <h3>Logical AND (<code>&amp;&amp;</code>)</h3>
                <p>In an expression like <code>command1 &amp;&amp; command2</code>, if <code>command1</code> evaluates to false (fails), the entire expression is false, and <code>command2</code> is not executed. This is useful for ensuring that a subsequent command runs only if the preceding one succeeds.</p>
                <p><strong>Example:</strong> <code>command1 &amp;&amp; command2</code> ensures that <code>command2</code> is executed only if <code>command1</code> finishes successfully.</p>

                <h3>Logical OR (<code>||</code>)</h3>
                <p>In an expression like <code>command1 || command2</code>, if <code>command1</code> evaluates to true (succeeds), the entire expression is true, and <code>command2</code> is not executed. This is beneficial for executing a fallback command only if the primary command fails.</p>
                <p><strong>Example:</strong> <code>command1 || command2</code> ensures that <code>command2</code> is executed only if <code>command1</code> fails.</p>

                <h3>26.2.1. Practical Examples</h3>
                <ul>
                    <li><strong>Create a folder only if it does not exist:</strong></li>
                </ul>
                <pre><code class="language-bash">  [ -d ./some/path/folder ] || mkdir -p /some/path/folder
</code></pre>
                <p>This command checks if the directory <code>./some/path/folder</code> exists. If it does not (<code>-d</code> returns false), the <code>||</code> operator triggers the execution of <code>mkdir -p /some/path/folder</code> to create the directory and any necessary parent directories.</p>

                <ul>
                    <li><strong>Create a file only if the target folder exists:</strong></li>
                </ul>
                <pre><code class="language-bash">  cd /some/path/folder &amp;&amp; touch file.txt
</code></pre>
                <p>This command first attempts to change the directory to <code>/some/path/folder</code>. If the <code>cd</code> command is successful (returns true), the <code>&amp;&amp;</code> operator allows the execution of <code>touch file.txt</code> to create the file within that directory. If the directory does not exist or cannot be accessed, <code>cd</code> will fail, and <code>touch</code> will not be executed.</p>

                <p>By mastering these conditional constructs and logical operators, you can build more robust and intelligent shell scripts capable of handling diverse scenarios and automating complex tasks.</p>

                <h2>External Resources</h2>
                <ul>
                    <li><a href="https://www.gnu.org/software/bash/manual/bash.html#Conditional-Constructs" target="_blank" rel="noopener noreferrer">Bash Conditional Constructs - GNU Bash Manual</a></li>
                    <li><a href="https://explainshell.com/" target="_blank" rel="noopener noreferrer">Explain Shell</a> - Understand shell commands and their options.</li>
                    <li><a href="https://stackoverflow.com/questions/tagged/bash" target="_blank" rel="noopener noreferrer">Bash Questions on Stack Overflow</a></li>
                </ul>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>