<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Patch Command - Apply Code Changes | Online Free DevTools by Hexmos
    </title>
    <meta
      name="description"
      content="Learn how to use the patch command to apply code changes to files and directories. Understand patching, reversing patches, and handling multiple files with this essential developer tool."
    />
    <meta
      name="keywords"
      content="patch command, apply patch, reverse patch, code changes, developer tools, command line, git patch, diff, unix patch, linux patch"
    />
    <link rel="canonical" href="https://your-website.com/patch.html" />
    <meta name="robots" content="index, follow" />
    <meta
      property="og:title"
      content="Patch Command - Apply Code Changes | Online Free DevTools by Hexmos"
    />
    <meta
      property="og:description"
      content="Learn how to use the patch command to apply code changes to files and directories. Understand patching, reversing patches, and handling multiple files with this essential developer tool."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://your-website.com/patch.html" />
    <meta property="og:image" content="https://your-website.com/og-image.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Patch Command - Apply Code Changes | Online Free DevTools by Hexmos"
    />
    <meta
      name="twitter:description"
      content="Learn how to use the patch command to apply code changes to files and directories. Understand patching, reversing patches, and handling multiple files with this essential developer tool."
    />
    <meta
      name="twitter:image"
      content="https://your-website.com/twitter-image.png"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
    />
    <style>
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        line-height: 1.6;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f8f9fa;
      }
      .container {
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }
      .header {
        background: #2c3e50;
        color: white;
        padding: 20px;
        border-bottom: 1px solid #34495e;
      }
      .header h1 {
        margin: 0;
        font-size: 1.5em;
      }
      .content {
        padding: 20px;
      }
      pre {
        background: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 4px;
        padding: 16px;
        overflow-x: auto;
        margin: 0;
      }
      code {
        font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
        font-size: 14px;
      }
      .markdown-content {
        line-height: 1.7;
      }
      .markdown-content h1,
      .markdown-content h2,
      .markdown-content h3 {
        color: #2c3e50;
        border-bottom: 1px solid #e9ecef;
        padding-bottom: 8px;
      }
      .markdown-content pre {
        background: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 4px;
        padding: 16px;
        overflow-x: auto;
      }
      .markdown-content code {
        background: #f1f3f4;
        padding: 2px 4px;
        border-radius: 3px;
        font-size: 0.9em;
      }
      .markdown-content pre code {
        background: none;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>Patch Command Guide</h1>
      </div>
      <div class="content">
        <p>
          The <code>patch</code> command is a powerful utility used in Unix-like
          operating systems to apply changes to files. These changes are
          typically generated by the <code>diff</code> command, creating a
          "patch file" that describes the differences between two versions of a
          file. This guide explains how to use the <code>patch</code> command
          for various scenarios.
        </p>

        <h2>Applying a Patch to a Single File</h2>
        <p>
          To apply a patch to a single file, you redirect the content of the
          patch file into the <code>patch</code> command. The basic syntax is:
        </p>
        <pre><code class="language-bash">patch &lt;file&gt; &lt; &lt;patch-file&gt;</code></pre>
        <p>
          Here, <code>&lt;file&gt;</code> is the target file you want to modify,
          and <code>&lt;patch-file&gt;</code> is the file containing the patch
          instructions.
        </p>

        <h2>Reversing a Patch</h2>
        <p>
          If you need to undo the changes made by a patch, you can use the
          <code>-R</code> option. This tells <code>patch</code> to apply the
          reverse of the changes described in the patch file.
        </p>
        <pre><code class="language-bash">patch -R &lt;file&gt; &lt; &lt;patch-file&gt;</code></pre>
        <p>
          This is useful for reverting specific modifications without having to
          manually edit the file.
        </p>

        <h2>Patching Files in a Directory</h2>
        <p>
          The <code>patch</code> command is also effective for applying changes
          to multiple files within a directory, especially when dealing with
          source code repositories. The <code>-p</code> option is crucial here,
          as it strips a specified number of leading path components from the
          filenames found in the patch file.
        </p>
        <p>
          To patch all files in a directory, adding any missing new files, and
          stripping one level of directory prefix (common when patches are
          generated from a subdirectory):
        </p>
        <pre><code class="language-bash">cd dir
patch -p1 -i &lt;patch-file&gt;</code></pre>
        <p>In this command:</p>
        <ul>
          <li>
            <code>cd dir</code>: Navigates you into the directory where the
            files to be patched reside.
          </li>
          <li>
            <code>-p1</code>: Strips one leading directory component from the
            file paths in the patch file. For example, if the patch file refers
            to <code>a/src/file.c</code>, <code>-p1</code> will cause
            <code>patch</code> to look for <code>src/file.c</code> in the
            current directory.
          </li>
          <li>
            <code>-i &lt;patch-file&gt;</code>: Specifies the input patch file.
          </li>
        </ul>

        <h2>Patching with Offset</h2>
        <p>
          Sometimes, the directory structure where you are applying the patch
          differs slightly from the structure where the patch was created. The
          <code>-p</code> option allows you to specify an offset.
        </p>
        <p>
          To patch files in a directory, with one level (<code>/</code>) offset:
        </p>
        <pre><code class="language-bash">patch -p1 -r &lt;dir&gt; &lt; &lt;patch-file&gt;</code></pre>
        <p>
          Note: The use of <code>-r &lt;dir&gt;</code> in this context is less
          common for standard patching and might be intended for specific
          scenarios or custom scripts. Typically, <code>-p1</code> is used to
          adjust path offsets. For standard directory patching,
          <code>-p1 -i &lt;patch-file&gt;</code> is more conventional.
        </p>

        <h2>Further Resources</h2>
        <ul>
          <li>
            <a
              href="https://man7.org/linux/man-pages/man1/patch.1.html"
              target="_blank"
              rel="noopener noreferrer"
              ><code>patch</code> man page</a
            >
          </li>
          <li>
            <a
              href="https://www.gnu.org/software/diffutils/"
              target="_blank"
              rel="noopener noreferrer"
              >GNU Diffutils</a
            >
          </li>
          <li>
            <a
              href="https://git-scm.com/docs/git-apply"
              target="_blank"
              rel="noopener noreferrer"
              >Git Apply (similar functionality)</a
            >
          </li>
        </ul>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
      hljs.highlightAll();
    </script>
  </body>
</html>
