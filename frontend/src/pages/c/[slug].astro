---
import BaseLayout from "../../layouts/BaseLayout.astro";
import HTMLContent from "../../components/HTMLContent";
import { CHEATSHEETS_CONFIG } from "../../config/cheatsheets";

export function getStaticPaths() {
  // Only generate paths for HTML files from md_html directory
  const htmlFiles = [
    'adonis', 'angular', 'angularjs', 'aws', 'bash', 'C', 'C#', 'commitlint.config', 
    'css3', 'curl', 'django', 'docker', 'drush', 'elasticsearch', 'ember', 'emmet', 
    'express', 'feathers', 'firebase_cli', 'gcp', 'git', 'golang', 'heroku', 'html5', 
    'java', 'javascript', 'kubernetes', 'laravel', 'macos', 'moleculer', 'mongodb', 
    'mysql', 'nanobox_boxfile', 'nanobox_cli', 'nginx', 'node', 'php', 'pm2', 
    'puppeteer', 'python', 'react', 'redis', 'sails', 'sublime_text', 'tailwind', 
    'ubuntu', 'vim', 'vscode', 'vue', 'xcode', 'XML'
  ];
  
  return htmlFiles.map(slug => ({
    params: { slug }
  }));
}

const { slug } = Astro.params as { slug: string };

// Get meta information from CHEATSHEETS_CONFIG or create default
const meta = CHEATSHEETS_CONFIG[slug] || {
  name: slug.charAt(0).toUpperCase() + slug.slice(1).replace('_', ' '),
  path: `/freedevtools/c/${slug}`,
  title: `${slug.charAt(0).toUpperCase() + slug.slice(1).replace('_', ' ')} Cheatsheet - Free DevTools`,
  description: `Quick reference cheatsheet for ${slug.charAt(0).toUpperCase() + slug.slice(1).replace('_', ' ')}`,
  canonical: `https://hexmos.com/freedevtools/c/${slug}`,
  themeColor: "#1e40af",
  keywords: [slug, "cheatsheet", "reference", "developer"],
  ogImage: "/freedevtools/free_devtools_banner.png",
  twitterImage: "/freedevtools/free_devtools_banner.png",
  datePublished: new Date().toISOString(),
  softwareVersion: "1.0.0",
  features: ["Quick Reference", "Developer Tools"]
};
---

<BaseLayout
  name={meta.name}
  path={meta.path}
  title={meta.title}
  description={meta.description}
  canonical={meta.canonical}
  themeColor={meta.themeColor}
  keywords={meta.keywords}
  ogImage={meta.ogImage}
  twitterImage={meta.twitterImage}
  datePublished={meta.datePublished}
  softwareVersion={meta.softwareVersion}
  features={meta.features}
>
  <HTMLContent filename={slug} client:load />
</BaseLayout>


