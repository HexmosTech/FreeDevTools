---
import type { Tool } from '@/config/tools';
import { getToolByKey } from '@/config/tools';
import ToolDetailLayout from '@/components/tool/ToolDetailLayout.astro';
import Base64Encoder from './_Base64Encoder';

export const prerender = false;

// Use the param from route
const { tool } = Astro.params;

// Map short key to full tool key used in config
const toolKey = `base64-${tool}`;

// Fetch the tool config; fallback to utilities if invalid
const toolConfig = (getToolByKey(toolKey) as Tool) || getToolByKey('base64-utilities');
---

<ToolDetailLayout tool={toolConfig}>
  <Base64Encoder client:load tool={toolKey} />
</ToolDetailLayout>
