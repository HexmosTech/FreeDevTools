---
import type { Tool } from '@/config/tools';
import { getToolByKey } from '@/config/tools';
import ToolDetailLayout from '@/components/tool/ToolDetailLayout.astro';
import ZstdCompress from './_ZstdCompress';

export const prerender = false;

// Get the 'action' from the URL (e.g., 'compress' or 'decompress')
const { action } = Astro.params;

// Construct the full key to look up in the config
const toolKey = `zstd-${action}`;

// Fetch the tool's config, with a fallback to 'compress'
const tool = (getToolByKey(toolKey) as Tool) || getToolByKey('zstd-compress');
---

<ToolDetailLayout tool={tool}>
  {/* Pass the 'action' as a prop to the React component */}
  <ZstdCompress client:load />
</ToolDetailLayout>
