<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>quickemu_conf - Options and parameters in the quickemu <vm>.conf</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/quickemu">quickemu_4.9.7-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       quickemu_conf - Options and parameters in the quickemu &lt;vm&gt;.conf

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>quickemu</b>  will create and run highly optimised desktop virtual machines for Linux, macOS and Windows.  It
       uses sensible defaults, but many configuration options can be overridden in  the  required  configuration
       file, which will as a minimum specify the path to the installation ISO and QEMU disk for the installed VM

</pre><h4><b>OPTIONS</b></h4><pre>
       These are the options and defaults for the &lt;vm&gt;.conf file

              # Lowercase variables are used in the VM config file only
              boot="efi"
              cpu_cores=""
              disk_img=""
              disk_size=""
              display=""
              extra_args=""
              fixed_iso=""
              floppy=""
              guest_os="linux"
              img=""
              iso=""
              macaddr=""
              macos_release=""
              network=""
              port_forwards=()
              preallocation="off"
              ram=""
              secureboot="off"
              tpm="off"
              usb_devices=()
              viewer="spicy"
              ssh_port=""
              spice_port=""
              public_dir=""
              monitor="socket"
              monitor_telnet_port="4440"
              monitor_telnet_host="localhost"
              monitor_cmd=""
              serial="socket"
              serial_telnet_port="6660"
              serial_telnet_host="localhost"
              # options: ehci(USB2.0), xhci(USB3.0)
              usb_controller="ehci"
              # options: ps2, usb, virtio
              keyboard="usb"
              keyboard_layout="en-us"
              # options: ps2, usb, tablet, virtio
              mouse="tablet"

</pre><h4><b>EXAMPLES</b></h4><pre>
              guest_os="linux"
              disk_img="debian-bullseye/disk.qcow2"
              iso="debian-bullseye/firmware-11.0.0-amd64-DVD-1.iso"

       The default macOS configuration looks like this:

              guest_os="macos"
              img="macos-catalina/RecoveryImage.img"
              disk_img="macos-catalina/disk.qcow2"
              macos_release="catalina"

       ‚Ä¢ guest_os="macos" instructs Quickemu to optimise for macOS.

       ‚Ä¢ macos_release="catalina" instructs Quickemu to optimise for a particular macOS release.

         ‚Ä¢ For example VirtIO Network and Memory Ballooning are available in Big Sur and newer, but not previous
           releases.

         ‚Ä¢ And VirtIO Block Media (disks) are supported/stable in Catalina and newer.

       The default Windows 11 configuration looks like this:

              guest_os="windows"
              disk_img="windows-11/disk.qcow2"
              iso="windows-11/Win11_EnglishInternational_x64.iso"
              fixed_iso="windows-11/virtio-win.iso"
              tpm="on"
              secureboot="on"

       ‚Ä¢ guest_os="windows" instructs quickemu to optimise for Windows.

       ‚Ä¢ fixed_iso= specifies the ISO image that provides VirtIO drivers.

       ‚Ä¢ tpm="on" instructs quickemu to create a software emulated TPM device using swtpm.

   <b>BIOS</b> <b>and</b> <b>EFI</b>
       Since Quickemu 2.1.0 efi is the default boot option.  If you want to override this behaviour then add the
       following line to you VM configuration to enable legacy BIOS.

       ‚Ä¢ boot="legacy" - Enable Legacy BIOS boot

   <b>Tuning</b> <b>CPU</b> <b>cores,</b> <b>RAM</b> <b>&amp;</b> <b>disks</b>
       By  default,  Quickemu  will  calculate the number of CPUs cores and RAM to allocate to a VM based on the
       specifications of your host  computer.   You  can  override  this  default  behaviour  and  tune  the  VM
       configuration to your liking.

       Add additional lines to your virtual machine configuration:

       ‚Ä¢ cpu_cores="4" - Specify the number of CPU cores allocated to the VM

       ‚Ä¢ ram="4G" - Specify the amount of RAM to allocate to the VM

       ‚Ä¢ disk_size="16G" - Specify the size of the virtual disk allocated to the VM

   <b>Disk</b> <b>preallocation</b>
       Preallocation  mode  (allowed values: off (default), metadata, falloc, full).  An image with preallocated
       metadata is initially larger but can improve performance when the image needs to grow.

       Specify what disk preallocation should be used, if any, when creating the system disk image by  adding  a
       line like this to your VM configuration.

       ‚Ä¢ preallocation="metadata"

   <b>CD-ROM</b> <b>disks</b>
       If you want to expose an ISO image from the host to guest add the following line to the VM configuration:

       ‚Ä¢ fixed_iso="/path/to/image.iso"

   <b>Floppy</b> <b>disks</b>
       If  you're  like  Alan Pope you'll probably want to mount a floppy disk image in the guest.  To do so add
       the following line to the VM configuration:

       ‚Ä¢ floppy="/path/to/floppy.img"

   <b>File</b> <b>Sharing</b>
       All File Sharing options will only expose <a href="file:~/Public">~/Public</a> (or localised variations) for the current user to  the
       guest VMs.

   <b>Samba</b> <b>üêß</b> <b>üçè</b> <b>ü™ü</b>
       If  smbd  is  available  on  the  host,  Quickemu will automatically enable the built-in QEMU support for
       exposing a Samba share from the host to the guest.

       You can install the minimal Samba components on Ubuntu using:

              sudo apt install --no-install-recommends samba

       If everything is set up correctly, the smbd address will be printed when the virtual machine is  started.
       For example:

               - smbd:     On guest: smb://10.0.2.4/qemu

       If  using  a  Windows  guest,  right-click  on  "This PC", click "Add a network location", and paste this
       address, removing smb: and replacing forward slashes with backslashes (in this example \\10.0.2.4\qemu).

   <b>SPICE</b> <b>WebDAV</b> <b>üêß</b> <b>ü™ü</b>
       ‚Ä¢ TBD

   <b>VirtIO-9P</b> <b>üêß</b> <b>üçè</b>
       ‚Ä¢ TBD

   <b>Networking</b>
   <b>Port</b> <b>forwarding</b>
       Add an additional line to your virtual machine configuration.  For example:

       ‚Ä¢ port_forwards=("8123:8123" "8888:80")

       In the example above:

       ‚Ä¢ Port 8123 on the host is forwarded to port 8123 on the guest.

       ‚Ä¢ Port 8888 on the host is forwarded to port 80 on the guest.

   <b>Disable</b> <b>networking</b>
       To completely disable all network interfaces in a guest VM add  this  additional  line  to  your  virtual
       machine configuration:

       ‚Ä¢ network="none"

   <b>Restricted</b> <b>networking</b>
       You  can  isolate  the  guest  from  the host (and broader network) using the restrict option, which will
       restrict networking to just the guest and any virtual devices.

       This can be used to prevent software running inside the guest from phoning home while still  providing  a
       network inside the guest.  Add this additional line to your virtual machine configuration:

       ‚Ä¢ network="restrict"

   <b>Bridged</b> <b>networking</b>
       Connect  your  virtual machine to a preconfigured network bridge.  Add an additional line to your virtual
       machine configuration:

       ‚Ä¢ network="br0"

       If you want to have a persistent MAC address for your bridged network interface in the guest VM  you  can
       add  macaddr  to  the virtual machine configuration.  QEMU requires that the MAC address is in the range:
       <b>52:54:00:AB:00:00</b> <b>-</b> <b>52:54:00:AB:FF:FF</b>

       So you can generate your own MAC addresses with:

       ‚Ä¢ macaddr="52:54:00:AB:51:AE"

   <b>USB</b> <b>redirection</b>
       Quickemu supports USB redirection via SPICE pass-through and host pass-through.   Quickemu  supports  USB
       redirection via SPICE pass-through and host pass-through.

       <b>NOTE!</b> When a USB device is redirected from the host, it will not be usable by host operating system until
       the guest redirection is stopped.  Therefore, do not redirect the input devices, such as the keyboard and
       mouse, as it will be difficult (or impossible) to revert the situation.

   <b>SPICE</b> <b>redirection</b> <b>(recommended)</b>
       Using SPICE for USB pass-through is easiest as it doesn't require any elevated permission:

       Both  spicy  from  spice-gtk (<u>Input</u>  <u>-&gt;</u>  <u>Select</u>  <u>USB</u>  <u>Devices</u>  <u>for</u>  <u>redirection</u>)  and  remote-viewer from
       virt-viewer (<u>File</u> <u>-&gt;</u> <u>USB</u> <u>device</u> <u>selection</u>) support this feature.

       ‚Ä¢ Start Quickemu with --display spice and then

       ‚Ä¢ Select Input -&gt; Select USB Device for redirection from the menu to choose which device(s) you  want  to
         attach to the guest.

       ‚Ä¢ **spicy (default)

         ‚Ä¢ **Select  Input -&gt; Select USB Device for redirection from the menu to choose which device(s) you want
           to attach to the guest.

       ‚Ä¢ **remote-viewer

         ‚Ä¢ **Select File -&gt; USB device selection from the menu to choose which device(s) you want to  attach  to
           the guest.

       To  ensure  that  this  functionality  works as expected, make sure that you have installed the necessary
       SPICE Guest Tools on the virtual machine.

   <b>Enabling</b> <b>SPICE</b> <b>redirection</b> <b>on</b> <b>NixOS</b>
       On NixOS, if you encounter this error:

              Error setting facl: Operation not permitted

       Try  setting   https://search.nixos.org/options?channel=23.11&amp;show=virtualisation.spiceUSBRedirection.en‚Äê
       able&amp;from=0&amp;size=50&amp;sort=relevance&amp;type=packages&amp;query=spiceusbredirec the following option:

              virtualisation.spiceUSBRedirection.enable = true;

   <b>Host</b> <b>redirection</b> <b>(NOT</b> <b>Recommended</b>)
       <b>USB</b>  <b>host</b>  <b>redirection</b>  <b>is</b>  <b>not</b>  <b>recommended</b>,  it is provided purely for backwards compatibility to older
       versions of Quickemu.  Using SPICE is preferred, see above.

       Add an additional line to your virtual machine configuration.  For example:

       ‚Ä¢ usb_devices=("046d:082d" "046d:085e")

       In the example above:

       ‚Ä¢ The USB device with vendor_id 046d and product_id 082d will be exposed to the guest.

       ‚Ä¢ The USB device with vendor_id 046d and product_id 085e will be exposed to the guest.

       If the USB devices are not writable, quickemu will display the appropriate commands  to  modify  the  USB
       device(s) access permissions, like this:

               - USB:      Host pass-through requested:
                            - Sennheiser Communications EPOS GTW 270 on bus 001 device 005 needs permission changes:
                              sudo chown -v root:user /dev/bus/usb/001/005
                              ERROR! USB permission changes are required üëÜ

   <b>TPM</b>
       Since  Quickemu  2.2.0  a  software emulated TPM device can be added to guest virtual machines.  Just add
       tpm="on" to your VM configuration.  quickget will automatically add  this  line  to  Windows  11  virtual
       machines.

</pre><h4><b>AUTHORS</b></h4><pre>
       Written by Martin Wimpress.

</pre><h4><b>BUGS</b></h4><pre>
       Submit bug reports online at: https://github.com/quickemu-project/quickemu/issues

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Full sources at: https://github.com/quickemu-project/quickemu

       <a href="../man1/quickget.1.html">quickget</a>(1), <a href="../man1/quickemu.1.html">quickemu</a>(1), <a href="../man1/quickgui.1.html">quickgui</a>(1)

</pre><h4><b>AUTHORS</b></h4><pre>
       Martin Wimpress.

quickemu_conf                                    August 2, 2024                                 <u><a href="../man5/QUICKEMU_CONF.5.html">QUICKEMU_CONF</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>