<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>extsmail.externals — configure which external commands to robustly send e-mail via</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/extsmail">extsmail_2.5-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       extsmail.externals — configure which external commands to robustly send e-mail via

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>extsmail.externals</b>  is  used  to  configure <u><a href="../man1/extsmaild.1.html">extsmaild</a></u>(1).  It consists of one or more <u>group</u> declarations.
       Each group consists of zero or more <u>match</u> / <u>reject</u> clauses followed by one or more <u>external</u> declarations.
       An external consists of one or more assignments of <u>key</u> <u>=</u> <u>value</u> pairs.

       When sending messages <u><a href="../man1/extsmaild.1.html">extsmaild</a></u>(1) first searches through the externals file, in order, for a group whose
       match / reject clauses match the message in question. If a group does not contain  any  such  clauses  it
       automatically  matches all messages. Match / reject clauses currently match only against headers, and use
       standard POSiX extended regular expressions (see <u><a href="../man7/re_format.7.html">re_format</a></u>(7) for more details).  <u><a href="../man1/extsmaild.1.html">extsmaild</a></u>(1) then tries
       each external in the group, in order, to send the message successfully.

       The grammar for this file is as follows:

             group    ::= { matches* external+ }

             matches  ::= match
                        | reject
             match    ::= MATCH HEADER string
             reject   ::= REJECT HEADER string

             external ::= EXTERNAL ID { defn+ }

             defn     ::= ID = STRING
                        | ID = TIME

             TIME     ::= [0-9]+[dhms]

       Valid assignments within an external are:

       sendmail
               Defines the external shell command used to send e-mail.

       timeout
               If <u><a href="../man1/extsmaild.1.html">extsmaild</a></u>(1) is executed  in  daemon  mode,  this  value  defines  the  length  of  time  that
               <u><a href="../man1/extsmaild.1.html">extsmaild</a></u>(1) will retry this external before giving up and trying the next external in the group.
               Times  are specified as a number followed by <u>d</u> (days), <u>h</u> (hours), <u>m</u> (minutes), or <u>s</u> (seconds). If
               <u><a href="../man1/extsmaild.1.html">extsmaild</a></u>(1) is executed in batch mode, the <u>timeout</u> value is ignored.

</pre><h4><b>FILES</b></h4><pre>
       The <u>extsmail</u> configuration file is searched for, in order, in the following locations:

       <a href="file:~/.extsmail/externals">~/.extsmail/externals</a>
               Per-user configuration.

       /etc/extsmail/externals
               System-wide configuration.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The simplest externals file sending e-mail via <u><a href="../man1/ssh.1.html">ssh</a></u>(1) looks as follows:

             group {
                 external mymachine {
                     sendmail = "<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?ssh">/usr/bin/ssh</a> -q -C -l user mymachine.net /usr/sbin/sendmail -t"
                 }
             }
       where <u>mymachine</u> is a human-friendly name given to an external (it does not effect processing),  and  <u>user</u>
       is the username on the remote machine <u>mymachine.net</u>.

       A  more  complex example using multiple groups, message matching, and multiple external commands looks as
       follows:

             group {
                 match header "^To:.*@foo.com"

                 external foo {
                     sendmail = "<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?ssh">/usr/bin/ssh</a> -q -C -l user shell.foo.com /usr/sbin/sendmail -t"
                 }
             }

             group {
                 external mymachine {
                     sendmail = "<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?ssh">/usr/bin/ssh</a> -q -C -l user mymachine.net /usr/sbin/sendmail -t"
                 }

                 external bk {
                     sendmail = "<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?ssh">/usr/bin/ssh</a> -q -C -l user bk.mymachine.net /usr/sbin/sendmail -t"
                 }
             }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/extsmail.1.html">extsmail</a></u>(1), <u><a href="../man5/extsmail.conf.5.html">extsmail.conf</a></u>(5), <u><a href="../man1/extsmaild.1.html">extsmaild</a></u>(1)

</pre><h4><b>AUTHORS</b></h4><pre>
       Laurence Tratt &lt;<a href="http://tratt.net/laurie/">http://tratt.net/laurie/</a>&gt;

Debian                                          November 2, 2008                           <u><a href="../man5/EXTSMAIL.EXTERNALS.5.html">EXTSMAIL.EXTERNALS</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>