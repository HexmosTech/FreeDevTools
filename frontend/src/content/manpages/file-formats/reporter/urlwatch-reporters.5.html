<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>urlwatch-reporters - Reporters for change notifications</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/urlwatch">urlwatch_2.29-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       urlwatch-reporters - Reporters for change notifications

</pre><h4><b>SYNOPSIS</b></h4><pre>
       urlwatch --edit-config

</pre><h4><b>DESCRIPTION</b></h4><pre>
       By default <b><a href="../man1/urlwatch.1.html">urlwatch</a>(1)</b> prints out information about changes to standard output, which is your terminal if
       you  run  it  interactively.  If  running via <b><a href="../man8/cron.8.html">cron</a>(8)</b> or another scheduler service, it depends on how the
       scheduler is configured.

       You can enable one or more additional reporters that are used to send change notifications.  Please  note
       that most reporters need additional dependencies installed.

       See <b><a href="../man5/urlwatch-config.5.html">urlwatch-config</a>(5)</b> for generic config settings.

       To send a test notification, use the <b>--test-reporter</b> command-line option with the name of the reporter:

          urlwatch --test-reporter stdout

       This  will  create  a  test  report  with  <b>new</b>, <b>changed</b>, <b>unchanged</b> and <b>error</b> notifications (only the ones
       configured in <b>display</b> in the <u>Configuration</u> will be shown in the  report)  and  send  it  via  the  <b>stdout</b>
       reporter (if it is enabled).

       To test if your e-mail reporter is configured correctly, you can use:

          urlwatch --test-reporter email

       Any reporter that is configured and enabled can be tested.

       If  the notification does not work, check your configuration and/or add the <b>--verbose</b> command-line option
       to show detailed debug logs.

</pre><h4><b>BUILT-IN</b> <b>REPORTERS</b></h4><pre>
       The list of built-in reporters can be retrieved using:

          urlwatch --features

       At the moment, the following reporters are built-in:

       • <b>discord</b>: Send a message to a Discord channel

       • <b>email</b>: Send summary via e-mail / SMTP / sendmail

       • <b>gotify</b>: Send a message to a gotify server

       • <b>ifttt</b>: Send summary via IFTTT

       • <b>mailgun</b>: Send e-mail via the Mailgun service

       • <b>matrix</b>: Send a message to a room using the Matrix protocol

       • <b>mattermost</b>: Send a message to a Mattermost channel

       • <b>prowl</b>: Send a detailed notification via prowlapp.com

       • <b>pushbullet</b>: Send summary via pushbullet.com

       • <b>pushover</b>: Send summary via pushover.net

       • <b>shell</b>: Pipe a message to a shell command

       • <b>slack</b>: Send a message to a Slack channel

       • <b>stdout</b>: Print summary on stdout (the console)

       • <b>telegram</b>: Send a message using Telegram

       • <b>xmpp</b>: Send a message using the XMPP Protocol

</pre><h4><b>PUSHOVER</b></h4><pre>
       You  can  configure  urlwatch  to   send   real   time   notifications   about   changes   via   <u>Pushover</u>
       &lt;<b>https://pushover.net/</b>&gt;.  To  enable  this,  ensure  you  have  the  <b>chump</b>  python package installed (see
       <u>Dependencies</u>). Then edit your config (<b>urlwatch</b> <b>--edit-config</b>) and enable pushover. You will also need  to
       add  to  the  config your Pushover user key and a unique app key (generated by registering urlwatch as an
       application on your <u>Pushover</u> <u>account</u> &lt;<b>https://pushover.net/apps/build</b>&gt;.

       You can send to a specific device by using the device name, as indicated when you add or view  your  list
       of devices in the Pushover console. For example <b>device:</b>  <b>'MyPhone'</b>, or <b>device:</b> <b>'MyLaptop'</b>. To send to <u>all</u>
       of  your  devices,  set  <b>device:</b>  <b>null</b>  in  your  config (<b>urlwatch</b> <b>--edit-config</b>) or leave out the device
       configuration completely.

       Setting the priority is possible via the <b>priority</b> config option, which can be <b>lowest</b>, <b>low</b>,  <b>normal</b>,  <b>high</b>
       or <b>emergency</b>. Any other setting (including leaving the option unset) maps to <b>normal</b>.

</pre><h4><b>PUSHBULLET</b></h4><pre>
       Pushbullet  notifications  are  configured  similarly  to Pushover (see above). You’ll need to add to the
       config your Pushbullet Access Token, which you can generate at <u>https://www.pushbullet.com/#settings</u>

</pre><h4><b>TELEGRAM</b></h4><pre>
       Telegram notifications are configured using the Telegram Bot API. For this, you’ll need a Bot  API  token
       and a chat id (see <u>https://core.telegram.org/bots</u>). Sample configuration:

          telegram:
            bot_token: '999999999:3tOhy2CuZE0pTaCtszRfKpnagOG8IQbP5gf' # your bot api token
            chat_id: '88888888' # the chat id where the messages should be sent
            enabled: true

       Messages  can  be  sent  silently  (<b>silent</b>)  if  you  prefer  notifications with no sounds, and monospace
       formatted (<b>monospace</b>).  By default notifications are not silent and no formatting is done.

          telegram:
            # ...
            silent: true # message is sent silently
            monospace: true # display message as pre-formatted code block

       To set up Telegram, from your Telegram app, chat up BotFather (New Message,  Search,  “BotFather”),  then
       say  <b>/newbot</b>  and  follow  the  instructions. Eventually it will tell you the bot token (in the form seen
       above, <b>&lt;number&gt;:&lt;random</b> <b>string&gt;</b>) - add this to your config file.

       You can then click on the link of your bot, which will send the message <b>/start</b>. At this  point,  you  can
       use the command <b>urlwatch</b> <b>--telegram-chats</b> to list the private chats the bot is involved with. This is the
       chat  ID  that  you  need to put into the config file as <b>chat_id</b>. You may add multiple chat IDs as a YAML
       list:

          telegram:
            bot_token: '999999999:3tOhy2CuZE0pTaCtszRfKpnagOG8IQbP5gf' # your bot api token
            chat_id:
              - '11111111'
              - '22222222'
            enabled: true

       Don’t forget to also enable the reporter.

</pre><h4><b>SLACK</b></h4><pre>
       Slack notifications are configured using “Slack Incoming Webhooks”. Here is a sample configuration:

          slack:
            webhook_url: 'https://hooks.slack.com/services/T50TXXXXXU/BDVYYYYYYY/PWTqwyFM7CcCfGnNzdyDYZ'
            enabled: true

       To set up Slack, from you Slack Team, create a new app and activate “Incoming  Webhooks”  on  a  channel,
       you’ll get a webhook URL, copy it into the configuration as seen above.

</pre><h4><b>MATTERMOST</b></h4><pre>
       Mattermost notifications are set up the same way as Slack notifications, the webhook URL is different:

          mattermost:
            webhook_url: 'http://{your-mattermost-site}/hooks/XXXXXXXXXXXXXXXXXXXXXX'
            enabled: true

       See  <u>Incoming</u>  <u>Webooks</u> &lt;<b>https://developers.mattermost.com/integrate/incoming-webhooks/</b>&gt; in the Mattermost
       documentation for details.

</pre><h4><b>DISCORD</b></h4><pre>
       Discord notifications are configured using “Discord Incoming Webhooks”. Here is a sample configuration:

          discord:
             webhook_url: 'https://discordapp.com/api/webhooks/11111XXXXXXXXXXX/BBBBYYYYYYYYYYYYYYYYYYYYYYYyyyYYYYYYYYYYYYYY'
             enabled: true
             embed: true
             colored: true
             subject: '{count} changes: {jobs}'

       To set up Discord, from your Discord Server settings, select Integration and then create a "New Webhook",
       give the webhook a name to post under, select a channel, push "Copy Webhook URL" and paste  it  into  the
       configuration as seen above.

       Embedded  content  might be easier to read and identify individual reports. Subject precedes the embedded
       report and is only used when <u>embed</u> is true.

       When <u>colored</u> is true reports will be embedded in code section (with diff syntax) to enable colors.

</pre><h4><b>GOTIFY</b></h4><pre>
       [Gotify](<u>https://gotify.net/</u>) is a server  for  sending  and  receiving  messages  in  real-time  through
       WebSockets.

       To push notifications to a gotify server you need an application token.

       You can create one for urlwatch like so:

       1. Log into your gotify server's Web-UI.

       2. Navigate to the “APPS” tab.

       3. Click on the “CREATE APPLICATION” button.

       4.  Fill out the fields and press “CREATE”.  6. Click on the eye icon of the newly created entry and copy
       the token.

       Here is a sample configuration:

          gotify:
            enabled: true
            priority: 4
            server_url: "<a href="http://127.0.0.1">http://127.0.0.1</a>:8090"
            title: null
            token: "Aa1yyikLFjEm35A"

</pre><h4><b>IFTTT</b></h4><pre>
       To configure IFTTT events, you need to retrieve your key from here:

       <u>https://ifttt.com/maker_webhooks/settings</u>

       The URL shown in "Account Info" has the following format:

          https://maker.ifttt.com/use/{key}

       In this URL, <b>{key}</b> is your API key. The configuration should look like this (you can pick any event  name
       you want):

          ifttt:
            enabled: true
            key: aA12abC3D456efgHIjkl7m
            event: event_name_you_want

       The event will contain three values in the posted JSON:

       • <b>value1</b>: The type of change (<b>new</b>, <b>changed</b>, <b>unchanged</b> or <b>error</b>)

       • <b>value2</b>: The name of the job (<b>name</b> key in <b>jobs.yaml</b>)

       • <b>value3</b>: The location of the job (<b>url</b>, <b>command</b> or <b>navigate</b> key in <b>jobs.yaml</b>)

       These values will be passed on to the Action in your Recipe.

</pre><h4><b>MATRIX</b></h4><pre>
       You can have notifications sent to you through the <u>Matrix</u> <u>protocol</u> &lt;<b>https://matrix.org</b>&gt;.

       To achieve this, you first need to register a Matrix account for the bot on any homeserver.

       You  then need to acquire an access token and room ID, using the following instructions adapted from <u>this</u>
       <u>guide</u> &lt;<b>https://t2bot.io/docs/access_tokens/</b>&gt;:

       1. Open <u>Riot.im</u> &lt;<b>https://riot.im/app/</b>&gt; in a private browsing window

       2. Register/Log in as your bot, using its user ID and password.

       3. Set the display name and avatar, if desired.

       4. In the settings page, select the "Help &amp; About" tab, scroll down to the bottom and click Access Token:
          &lt;click to reveal&gt;.

       5. Copy the highlighted text to your configuration.

       6. Join the room that you wish to send notifications to.

       7. Go to the Room Settings (gear icon) and copy the <u>Internal</u> <u>Room</u> <u>ID</u> from the bottom.

       8. Close the private browsing window <b>but</b> <b>do</b> <b>not</b> <b>log</b> <b>out,</b> <b>as</b> <b>this</b> <b>invalidates</b> <b>the</b> <b>Access</b> <b>Token</b>.

       Here is a sample configuration:

          matrix:
            homeserver: https://matrix.org
            access_token: "YOUR_TOKEN_HERE"
            room_id: "!roomroomroom:matrix.org"
            enabled: true

       You will probably want to use the following configuration for the <b>markdown</b> reporter,  if  you  intend  to
       post change notifications to a public Matrix room, as the messages quickly become noisy:

          markdown:
            details: false
            footer: false
            minimal: true
            enabled: true

</pre><h4><b>E-MAIL</b> <b>VIA</b> <b>SENDMAIL</b></h4><pre>
       You  can  send  email  via  the  system's  <b>sendmail</b>  command provided by the MTA. You need to set <b>method:</b>
       <b>sendmail</b> in the config file:

          report:
            email:
              enabled: true
              from: '<a href="mailto:postmaster@example.com">postmaster@example.com</a>'
              to: '<a href="mailto:recipient@bar.com">recipient@bar.com</a>'
              method: sendmail

</pre><h4><b>E-MAIL</b> <b>VIA</b> <b>GMAIL</b> <b>SMTP</b></h4><pre>
       You need to configure your GMail account to allow for “less secure” (password-based) apps to login:

       1. Go to <u>https://myaccount.google.com/</u>

       2. Click on “Sign-in &amp; security”

       3. Scroll all the way down to “Allow less secure apps” and enable it

       You do not want to do this with your primary GMail account, but rather on a  separate  account  that  you
       create  just  for sending mails via urlwatch. Allowing less secure apps and storing the password (even if
       it's in the keychain) is not good security practice for your primary account.

       Now, start the configuration editor:

          urlwatch --edit-config

       These are the keys you need to configure:

          report:
            email:
              enabled: true
              from: <a href="mailto:your.username@gmail.com">your.username@gmail.com</a>
              to: <a href="mailto:your.destination.email@example.com">your.destination.email@example.com</a>
              method: smtp
              smtp:
                host: smtp.gmail.com
                auth: true
                port: 587
                starttls: true

       The password is best stored in your keychain, and not in the config file. To store the password, run:

          urlwatch --smtp-login

       This will query your password, check the login, and store it in your keychain. Subsequent runs  will  use
       this password for logging in.

</pre><h4><b>E-MAIL</b> <b>VIA</b> <b>AMAZON</b> <b>SIMPLE</b> <b>E-MAIL</b> <b>SERVICE</b> <b>(SES)</b></h4><pre>
       Same as the GMail configuration above, but use e.g.  <b>email-smtp.us-west-2.amazonaws.com</b> as the SMTP host,
       and username and port settings according to SES's login page.

</pre><h4><b>SMTP</b> <b>LOGIN</b> <b>WITHOUT</b> <b>KEYRING</b></h4><pre>
       If for whatever reason you cannot use a keyring to store your password (for example, when using it from a
       <b>cron</b> job) you can also set the <b>insecure_password</b> option in the SMTP config:

          report:
            email:
              smtp:
                auth: true
                insecure_password: secret123

       The  <b>insecure_password</b> key will be preferred over the data stored in the keyring. Please note that as the
       name says, storing the password as plaintext in the configuration is insecure and bad practice,  but  for
       an  e-mail  account that’s only dedicated for sending mails this might be a way. <b>Never</b> <b>ever</b> <b>use</b> <b>this</b> <b>with</b>
       <b>your</b> <b>primary</b> <b>e-mail</b> <b>account!</b>  Seriously! Create a throw-away GMail (or other) account  just  for  sending
       out  those  e-mails  or  use  local <b>sendmail</b> with a mail server configured instead of relying on SMTP and
       password auth.

       Note that this makes it really easy for your password to  be  picked  up  by  software  running  on  your
       machine,  by  other  users  logged  into  the  system  and/or  for  the  password  to appear in log files
       accidentally.

</pre><h4><b>XMPP</b></h4><pre>
       You can have notifications sent to you through the <u>XMPP</u> <u>protocol</u>.

       To achieve this, you should register a new XMPP account that is just used for urlwatch.

       Here is a sample configuration:

          xmpp:
            enabled: true
            sender: "BOT_ACCOUNT_NAME"
            recipient: "YOUR_ACCOUNT_NAME"

       The password is not stored in the config file, but in your keychain. To store the password, run: <b>urlwatch</b>
       <b>--xmpp-login</b> and enter your password.

       If for whatever reason  you  cannot  use  a  keyring  to  store  your  password  you  can  also  set  the
       <b>insecure_password</b>  option  in the XMPP config.  For more information about the security implications, see
       <u>SMTP</u> <u>login</u> <u>without</u> <u>keyring</u>.

</pre><h4><b>PROWL</b></h4><pre>
       You can have notifications sent to you through the  <u>Prowl</u>  push  notification  service,  to  receive  the
       notification on iOS.

       To  achieve  this,  you  should register a new Prowl account, and have the Prowl application installed on
       your iOS device.

       To create an API key for urlwatch:

       1. Log into the Prowl website at <u>https://prowlapp.com/</u>

       2. Navigate to the “API Keys” tab.

       3. Scroll to the “Generate a new API key” section.

       4. Give the key a note that will remind you you've used it for urlwatch.

       5. Press “Generate Key”

       6. Copy the resulting key.

       Here is a sample configuration:

          prowl:
            enabled: true
            api_key: '&lt;your api key here&gt;'
            priority: 2
            application: 'urlwatch example'
            subject: '{count} changes: {jobs}'

       The “subject" field is similar to the subject field in the email, and will be used as  the  name  of  the
       Prowl  event. The application is prepended to the event and shown as the source of the event in the Prowl
       App.

</pre><h4><b>SHELL</b></h4><pre>
       This is a simple reporter that pipes the text report notification  to  a  command  of  your  choice.  The
       command             is             run            using            Python's            <u>subprocess.Popen()</u>
       &lt;<b>https://docs.python.org/3/library/subprocess.html#popen-constructor</b>&gt;   with   <b>shell=False</b>   (to    avoid
       possibly-unwanted  shell  expansion).  Of  course,  you  can create your own shell script that does shell
       expansion and other things, and call that from the <b>command</b>.

       The key <b>ignore_stdout</b> (defaults to <b>true</b>) can be used to ignore any output the program writes  on  stdout.
       The key <b>ignore_stderr</b> (defaults to <b>false</b>) can be used to ignore any output the program writes on stderr.

       If stdout/stderr are not ignored, urlwatch will log any possible output in its <b>--verbose</b> log.

       The  report  written to <b>stdin</b> of the process is based on the output of the <b>text</b> reporter, configuring the
       text reporter will adjust the data sent to the <b>shell</b> reporter.

       For example, to simply append reports to a file, configure it like this:

          shell:
            enabled: true
            command: ['tee', '-a', '/path/to/log.txt']
            ignore_stdout: true

</pre><h4><b>FILES</b></h4><pre>
       <b>$XDG_CONFIG_HOME/urlwatch/urlwatch.yaml</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/urlwatch.1.html">urlwatch</a>(1)</b>, <b><a href="../man5/urlwatch-config.5.html">urlwatch-config</a>(5)</b>, <b><a href="../man7/urlwatch-intro.7.html">urlwatch-intro</a>(7)</b>, <b><a href="../man7/urlwatch-cookbook.7.html">urlwatch-cookbook</a>(7)</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2024 Thomas Perl

urlwatch                                          Oct 28, 2024                             <u><a href="../man5/URLWATCH-REPORTERS.5.html">URLWATCH-REPORTERS</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>