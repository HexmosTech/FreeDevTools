<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>splitdns.config - Traffic Server split DNS configuration file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/trafficserver">trafficserver_9.2.5+ds-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       splitdns.config - Traffic Server split DNS configuration file

       The  <u>splitdns.config</u>  file  enables  you  to  specify  the  DNS server that Traffic Server should use for
       resolving hosts under specific conditions.  For more information, refer to <u>Split</u> <u>DNS</u>.

       To specify a DNS server, you must supply the following information in each active line within the file:

       • A primary destination specifier in the form of a destination domain,  a  destination  host,  or  a  URL
         regular expression

       • A set of server directives, listing one or more DNS servers with corresponding port numbers

       You can also include the following optional information with each DNS server specification:

       • A default domain for resolving hosts

       • A search list specifying the domain search order when multiple domains are specified

       After  you  modify  the  <u>splitdns.config</u>  file,  run  the  <u>traffic_ctl</u> <u>config</u> <u>reload</u> command to apply the
       changes.

</pre><h4><b>FORMAT</b></h4><pre>
       Each line in the <u>splitdns.config</u> file uses one of the following formats:

          dest_domain=dest_domain | dest_host | url_regex named=dns_server def_domain=def_domain search_list=search_list

       The following list describes each field.

       <b>dest_domain</b>
              A valid domain name. This specifies that DNS server selection will be  based  on  the  destination
              domain.  You  can  prefix  the  domain  with  an  exclamation mark (<b>!</b>) to indicate the NOT logical
              operator.

       <b>dest_host</b>
              A valid hostname. This specifies that DNS server selection will be based on the destination  host.
              You can prefix the host with an exclamation mark (<b>!</b>) to indicate the <b>NOT</b> logical operator.

       <b>url_regex</b>
              A  valid  URL  regular  expression.  This  specifies  that DNS server selection will be based on a
              regular expression.

       <b>named</b>  This is a required directive. It identifies the DNS server that Traffic Server should use with the
              given destination specifier. You can specify a port using a colon (<b>:</b>). If you  do  not  specify  a
              port, then 53 is used. Specify multiple DNS servers with spaces or semicolons (<b>;</b>) as separators.

              You must specify the domains with IP addresses in CIDR ("dot") notation.

       <b>def_domain</b>
              A  valid  domain  name.  This  optional  directive  specifies  the  default domain name to use for
              resolving hosts. Only one entry is allowed.  If you do not provide the default domain, the  system
              determines its value from <b><a href="file:/etc/resolv.conf">/etc/resolv.conf</a></b>

       <b>search_list</b>
              A  list  of domains separated by spaces or semicolons (;). This specifies the domain search order.
              If you do not provide the search list, the system determines the value from <b><a href="../man5/resolv.conf.5.html">resolv.conf</a>(5)</b>

</pre><h4><b>EXAMPLES</b></h4><pre>
       Consider the following DNS server selection specifications:

          dest_domain=internal.company.com named="255.255.255.255:212 255.255.255.254" def_domain=company.com search_list="company.com company1.com"
          dest_domain=!internal.company.com named=255.255.255.253

       Now consider the following two requests:

          <a href="http://minstar.internal.company.com">http://minstar.internal.company.com</a>

       This request matches the first line and therefore selects DNS server <b>255.255.255.255</b>  on  port  <b>212</b>.  All
       resolver  requests  use <b>company.com</b> as the default domain, and <b>company.com</b> and <b>company1.com</b> as the set of
       domains to search first.

          <a href="http://www.microsoft.com">http://www.microsoft.com</a>

       This request matches the second line. Therefore,  Traffic  Server  selects  DNS  server  <b>255.255.255.253</b>.
       Because  no  <b>def_domain</b>  or  <b>search_list</b>  was  supplied,  Traffic  Server retrieves this information from
       <b><a href="../man5/resolv.conf.5.html">resolv.conf</a>(5)</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2025, <a href="mailto:dev@trafficserver.apache.org">dev@trafficserver.apache.org</a>

9.2                                               May 22, 2025                                <u><a href="../man5/SPLITDNS.CONFIG.5.html">SPLITDNS.CONFIG</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>