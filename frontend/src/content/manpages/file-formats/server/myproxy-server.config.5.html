<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>myproxy-server.config - myproxy-server configuration file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/myproxy-server">myproxy-server_6.2.16-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       myproxy-server.config - myproxy-server configuration file

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>myproxy-server.config</b> file sets the policy for the <b><a href="../man8/myproxy-server.8.html">myproxy-server</a></b>(8), specifying what credentials may
       be  stored  in the server's repository, who is authorized to retrieve credentials, and other configurable
       server behaviors.  By default, the <b><a href="../man8/myproxy-server.8.html">myproxy-server</a></b>(8) looks for this  file  in  <u>/etc/myproxy-server.config</u>
       and  if  it  is  not  found there, it looks in <u>$GLOBUS_LOCATION/etc/myproxy-server.config</u>.  A template is
       provided at <u>$GLOBUS_LOCATION/share/myproxy/myproxy-server.config</u>.  The <b>myproxy-server</b> <b>-c</b>  option  can  be
       used to specify an alternative location.

       The  following  lines  set  access  control  policies  according  to  the  client's  certificate  subject
       distinguished name (DN).  Note that MyProxy uses non-standard regular expressions for distinguished  name
       (DN) matching. See the <b>REGULAR</b> <b>EXPRESSIONS</b> section below for details.

       <b>accepted_credentials</b> <u>“DN</u> <u>regex”</u>
              Each  of  these lines allows any clients whose DNs match the given limited regex to connect to the
              myproxy-server and store credentials with it for future retrieval.  Any number of these lines  may
              appear.   For  backwards compatibility, these lines can also start with <b>allowed_clients</b> instead of
              <b>accepted_credentials</b>.  If no <b>accepted_credentials</b> lines are specified, the server will  not  allow
              any clients to store credentials.

       <b>authorized_retrievers</b> <u>“DN</u> <u>regex”</u>
              Each  of  these  lines  allows the server administrator to set server-wide policies for credential
              retrievers. If the client DN does not match the given limited regex, the client is not allowed  to
              retrieve  credentials  from  the  server.   In  addition  to  the server-wide policy, myproxy also
              provides support for per-credential policy. The user can specify  the  regex  DN  of  the  allowed
              retrievers  of  the  credential  when  uploading the credential (using <b><a href="../man1/myproxy-init.1.html">myproxy-init</a></b>(1) or <b><a href="../man1/myproxystore.1.html">myproxy-</a></b>
              <b><a href="../man1/myproxystore.1.html">store</a></b>(1)).  The retrieval client DN must also match the user specified regex. In order to retrieve
              credentials the client also needs to know the name and pass phrase provided by the client when the
              credentials were stored. Any number of these lines may appear.  For backwards compatibility, these
              lines  can  also  start  with  <b>allowed_services</b>   instead   of   <b>authorized_retrievers</b>.    If   no
              <b>authorized_retrievers</b>  lines  are  specified,  the  server  will not allow any clients to retrieve
              credentials.

       <b>default_retrievers</b> <u>“DN</u> <u>regex”</u>
              Each of these lines allows the server administrator to set server-wide default policies. The regex
              specifies the clients who can access the credentials. The default retriever policy is enforced  if
              a  per-credential  policy  is not specified on upload (using <b><a href="../man1/myproxy-init.1.html">myproxy-init</a></b>(1) or <b><a href="../man1/myproxy-store.1.html">myproxy-store</a></b>(1)).
              In other words, the client can override  this  policy  for  a  credential  on  upload.   The  per-
              credential   policy   is  enforced  in  addition  to  the  server-wide  policy  specified  by  the
              authorized_retrievers line (which clients can not override).  Any number of  these  lines  may  be
              present.   For  backwards  compatibility,  if no <b>default_retrievers</b> line is specified, the default
              policy is "*", which allows any client to pass the per-credential policy check.  (The client  must
              still pass the <b>authorized_retrievers</b> check.)

       <b>authorized_renewers</b> <u>“DN</u> <u>regex”</u>
              Each  of  these  lines  allows the server administrator to set server-wide policies for authorized
              renewers. If the client DN does not match the given limited regex the client  is  not  allowed  to
              renew  the  credentials  previously  stored by a client.  See <b>allow_self_authorization</b> below for a
              further restriction on this policy.  In addition to the server-wide policy, myproxy also  provides
              support  for  per-credential  policy. The user can specify the regex DN of the allowed renewers of
              the credential on upload (using <b><a href="../man1/myproxy-init.1.html">myproxy-init</a></b>(1)).  The renewal client  DN  must  match  both  this
              regex  and  the user specified regex. In this case, the client must also already have a credential
              with a DN matching the DN of the credentials to be retrieved, to be used in a second authorization
              step (see the <b>-a</b> options for <b><a href="../man1/myproxy-logon.1.html">myproxy-logon</a></b>(1) and <b><a href="../man1/myproxy-retrieve.1.html">myproxy-retrieve</a></b>(1)).

       <b>default_renewers</b> <u>“DN</u> <u>regex”</u>
              Each of these lines allows the server administrator to set server-wide default  renewer  policies.
              The  regex  specifies  the  clients  who  can renew the credentials. The default renewer policy is
              enforced if a per-credential policy is not specified on upload (using <b><a href="../man1/myproxy-init.1.html">myproxy-init</a></b>(1)).   This  is
              enforced  in  addition  to  the  server-wide policy specified by the <b>authorized_renewers</b> line. Any
              number of these lines may appear.  For backwards compatibility, if  no  default_renewers  line  is
              specified,  the  default  policy is "*", which allows any client to pass the per-credential policy
              check.  (The client must still pass the <b>authorized_renewers</b> check.)

       <b>authorized_key_retrievers</b> <u>“DN</u> <u>regex”</u>
              This policy controls who can retrieve  credentials  (certificates  and  keys)  directly  from  the
              repository  using  <b><a href="../man1/myproxy-retrieve.1.html">myproxy-retrieve</a></b>(1).  Clients must also match the <b>authorized_retrievers</b> policy.
              If no <b>authorized_key_retrievers</b> lines are specified, the server will  not  allow  any  clients  to
              retrieve keys directly from the repository.

       <b>default_key_retrievers</b> <u>“DN</u> <u>regex”</u>
              This  policy  applies if a per-credential policy is not specified on upload (using <b><a href="../man1/myproxy-init.1.html">myproxy-init</a></b>(1)
              or <b><a href="../man1/myproxy-store.1.html">myproxy-store</a></b>(1)).  In other words, the client can override this policy  for  a  credential  on
              upload.   The per-credential policy is enforced in addition to the server-wide policy specified by
              the authorized_key_retrievers line (which clients can not override).  Any number  of  these  lines
              may  be present.  If no <b>default_key_retrievers</b> line is specified, the default policy is "*", which
              allows any client to pass the per-credential policy  check.   (The  client  must  still  pass  the
              <b>authorized_key_retrievers</b> check.)

       <b>trusted_retrievers</b> <u>“DN</u> <u>regex”</u>
              This  policy  controls  who  can retrieve credentials without further authentication.  By default,
              clients  that  match  <b>authorized_retrievers</b>  must  perform  additional  authentication  (such   as
              passphrase, PAM, or SASL) to retrieve credentials.  However, authenticated clients that match both
              <b>authorized_retrievers</b>  and  <b>trusted_retrievers</b>  do  not need to perform additional authentication,
              unless the credentials are protected by a passphrase,  in  which  case  the  passphrase  is  still
              required.   Note:  The  <b><a href="../man8/myproxy-server.8.html">myproxy-server</a></b>(8) will fail on startup or reconfig with an "unsafe policy"
              error if a policy of <b>trusted_retrievers</b> <u>“*”</u> is specified without  also  specifying  a  restrictive
              <b>default_trusted_retrievers</b> policy, to avoid an unsafe policy that would release credentials to all
              clients  without additional authentication.  See also <b>allow_self_authorization</b> below for a further
              restriction on this policy.

       <b>default_trusted_retrievers</b> <u>“DN</u> <u>regex”</u>
              If a user doesn't set a trusted retrieval policy with the credential on upload (via  <b>'myproxy-init</b>
              <b>-Z'</b>),  the <b><a href="../man8/myproxy-server.8.html">myproxy-server</a></b>(8) will apply the following policy in addition to the <b>trusted_retrievers</b>
              policy.  If no <b>default_trusted_retrievers</b> policy is set, then only the  <b>trusted_retrievers</b>  policy
              is applied.

       The following lines in the configuration file set other server options.

       <b>passphrase_policy_program</b> <u>full-path-to-script</u>
              This  line  specifies  a program to run whenever a passphrase is set or changed for implementing a
              local password policy.  The program is passed the new passphrase  via  stdin  and  is  passed  the
              following  arguments:  username,  distinguished  name,  credential  name  (if any), per-credential
              retriever policy (if any), and per-credential renewal policy  (if  any).   If  the  passphrase  is
              acceptable,  the  program  should  exit  with  status  0.  Otherwise, it should exit with non-zero
              status, causing the operation in progress (credential load, passphrase change) to  fail  with  the
              error  message  provided  by  the  program's  stdout.  Note: You must specify the full path to the
              external program.  $GLOBUS_LOCATION can't be used in the  myproxy-server.config  file.   A  sample
              program  is  installed  in  <u>$GLOBUS_LOCATION/share/myproxy/myproxy-passphrase-policy</u>  but  is  not
              enabled by default.

              <b>Be</b> <b>sure</b> <b>to</b> <b>follow</b> <b>secure</b> <b>coding</b> <b>practices</b> <b>for</b> <b>this</b> <b>call-out:</b>
              - Don't allow input to overflow fixed-size buffers.
              - Don't pass unchecked input to a shell command.

       <b>cert_dir</b> <u>full-path-to-certificates-directory</u>
              Specifies the path to the CA certificates directory to be returned  to  clients  requesting  trust
              roots (such as via the <b><a href="../man1/myproxy-logon.1.html">myproxy-logon</a></b>(1) <b>-T</b> option).

       <b>max_proxy_lifetime</b> <u>hours</u>
              This  line  specifies a server-wide maximum lifetime for retrieved proxy credentials.  By default,
              no server-wide maximum is enforced.  However, if this option is specified, the server  will  limit
              the lifetime of any retrieved proxy credentials to the value given.

       <b>max_cred_lifetime</b> <u>hours</u>
              This line specifies a server-wide maximum lifetime for stored credentials.  By default, no server-
              wide  maximum  is  enforced.   However,  if  this  option  is specified, the server will limit the
              lifetime of any stored credentials to the value given.

       <b>ignore_globus_limited_proxy_flag</b> <u>boolean</u>
              By default, MyProxy will respect the policy of "limited" proxy  certificates  as  follows.   If  a
              client  authenticates  with  a  limited  proxy,  the  client should only be able to obtain another
              limited proxy, not a full proxy or end entity certificate.  Thus, the MyProxy CA will  not  accept
              limited  proxies  for  authentication.  However, if this option is set to true, MyProxy will treat
              limited proxy certificates as if they were full proxy certificates.

       <b>allow_self_authorization</b> <u>boolean</u>
              By default, MyProxy will disallow <b>trusted_retrievers</b> and <b>authorized_renewers</b> whose DN matches  the
              identity of the stored credential, so a proxy by itself can not be refreshed or renewed.  However,
              if this option is set to true, this restriction is lifted.

       <b>syslog_ident</b> <u>name</u>
              You  can optionally specify the string to be prepended to every message written to the syslog.  If
              not specified, the name defaults to the the program name, i.e. myproxy-server.

       <b>syslog_facility</b> <u>name</u>
              By default, the myproxy-server will log to the syslog "daemon" facility. With this option you  can
              specify  an  alternate  syslog  facility,  such  as  "auth", "user", "security", or "local0".  The
              facility can also be specified numerically as with the <b><a href="../man1/logger.1.html">logger</a></b>(1) command.

       <b>request_timeout</b> <u>seconds</u>
              Specifies the maximum time a <b><a href="../man8/myproxy-server.8.html">myproxy-server</a></b>(8) child  process  should  spend  servicing  a  client
              request  before  aborting.   By default, child processes will abort after 120 seconds.  A negative
              value will disable the timeout.

       <b>request_size_limit</b> <u>bytes</u>
              Limits the amount of incoming application-level protocol data the  <b><a href="../man8/myproxy-server.8.html">myproxy-server</a></b>(8)  will  accept
              from  clients,  to  avoid memory exhaustion under heavy load. Specified in bytes.  Defaults to 1MB
              (1048576 bytes).  A zero or negative value disables the limit.

       <b>proxy_extfile</b> <u>full-path-to-extension-file</u>
              Optionally specifies the full path to a file containing an OpenSSL formatted  set  of  certificate
              extensions  to  include in all proxy certificates issued from the MyProxy repository (analogous to
              <b>certificate_extfile</b> for the CA module).

       <b>proxy_extapp</b> <u>full-path-to-extension-callout-program</u>
              This is the call-out version of proxy_extfile.  It optionally specifies the full path to  a  call-
              out  program  for  specifying  proxy  certificate extensions.  It will be passed the authenticated
              username and the proxy credential location as the two command arguments.  On  success,  it  should
              write the OpenSSL formatted set of certificate extensions to stdout and exit with zero status.  On
              error,  it  should  write  to  stderr  and  exit  with  nonzero  status.   Either <b>proxy_extfile</b> or
              <b>proxy_extapp</b> can be specified but not both.

              <b>Be</b> <b>sure</b> <b>to</b> <b>follow</b> <b>secure</b> <b>coding</b> <b>practices</b> <b>for</b> <b>this</b> <b>call-out:</b>
              - Don't allow input to overflow fixed-size buffers.
              - Don't pass unchecked input to a shell command.

       <b>voms_userconf</b> <u>full-path-to-voms-configuration-file</u>
              Optionally specifies the  full  path  to  the  VOMS  configuration  file  containing  VOMS  server
              information. It is usually specified in the environmental variable VOMS_USERCONF.

       <b>allow_voms_attribute_requests</b> <u>boolean</u>
              If  this  parameter  is  set  to  true  and  a GET request includes VONAME and (optionally) VOMSES
              parameters, call-out to VOMS to add the requested attributes to the issued  certificate.  Requires
              linking  with VOMS libraries. By default, VONAME and VOMSES parameters in requests will be ignored
              unless this parameter is set to true.

       The MyProxy server can be optionally configured for  authentication  based  on  Pluggable  Authentication
       Modules  (PAM)  and/or  the  Simple  Authentication  and  Security  Layer (SASL).  Kerberos is one of the
       supported SASL authentication methods.  The following options control the use of PAM and SASL.

       <b>pam</b> <u>option</u>
              This line governs the use of PAM to check passphrases.  MyProxy will attempt to  authenticate  via
              PAM,  with  the  supplied  username  and  passphrase.   Note  that  PAM will need to be configured
              externally for the application "myproxy" (usually in <a href="file:/etc/pam.d/">/etc/pam.d/</a>), or for the application named by
              pam_id, below.  Accepted values:

              <b>required</b>
                     PAM password authentication is  required  under  all  conditions.   If  the  credential  is
                     unencrypted  (that  is,  it  has no passphrase), a PAM password check is still required for
                     authentication.  If the  credential  is  encrypted,  its  passphrase  must  match  the  PAM
                     password.

              <b>sufficient</b>
                     The  user's  passphrase may match either the credential passphrase or, if the credential is
                     unencrypted, the PAM passphrase.  If the credential is encrypted, then the PAM password  is
                     not relevant.

              <b>disabled</b> (default)
                     PAM is not used to check passphrases.

       <b>pam_id</b> <u>string</u>
              The name that myproxy uses to identify itself to PAM.  Default is "myproxy".  For example, on most
              Unix-like systems, if pam_id is set to "login", MyProxy will authenticate against the system's own
              usernames and passwords.

       <b>sasl</b> <u>option</u>
              This line governs the use of SASL authentication.  Accepted values:

              <b>required</b>
                     SASL authentication is required for retrieving credentials.

              <b>sufficient</b>
                     SASL  authentication  is  sufficient  for  retrieving credentials, but other authentication
                     methods may be used instead.

              <b>disabled</b> (default)
                     SASL authentication isn't used.

       <b>sasl_mech</b> <u>mechanism</u>
              Forces the use of a single SASL mechanism, overriding the SASL configuration file. (Typically  not
              required.)

       <b>sasl_serverFQDN</b> <u>hostname</u>
              Configures  the  SASL  server  fully-qualified domain name for multi-homed servers. (Typically not
              required.)

       <b>sasl_user_realm</b> <u>realm</u>
              Configures the SASL user realm. (Typically not required.)

       The MyProxy server can also be configured to act as a Certificate Authority (CA) to issue credentials  to
       clients.  The following parameters enable and configure the CA functionality.

       <b>certificate_issuer_cert</b> <u>full-path-to-certificate</u>
              This  line  specifies the full path to the issuer certificate to optionally configure the myproxy-
              server to act as an online certificate authority.

       <b>certificate_issuer_key</b> <u>full-path-to-key</u>
              When specifying <b>certificate_issuer_cert</b> above, you must also give the name of the CA  private  key
              for signing certificates.  This is normally path to a CA private key in PEM format, but if you are
              using an OpenSSL engine (see <b>certificate_openssl_engine_id</b> ) then it can be the key name.

       <b>certificate_issuer_key_passphrase</b> <u>“passphrase”</u>
              If the <b>certificate_issuer_key</b> is encrypted, give the passphrase here.

       <b>certificate_issuer_subca_certfile</b> <u>full-path-to-subca-certificate-file</u>
              If  you  would  like  an  intermediate/sub-CA certificate chain to be sent along with the EEC (End
              Entity Certificate) generated using a local intermediate/sub-CA, specify the  file  that  contains
              those  certificates  in  PEM  format.  This  is  meant  to  aid  scenarios where the CA used is an
              intermediate CA (i.e. not a root CA) and the client may not have the  intermediate  CA(s)  in  its
              trust store. The client will write out the chain into the same file as the EEC, following the EEC.

       <b>certificate_issuer_hashalg</b> <u>algorithm</u>
              Specifies the hash algorithm to use when signing end-entity certificates.  Defaults to "sha256".

       <b>certificate_issuer_email_domain</b> <u>“domain”</u>
              If set, specifies the domain part of the X509v3 Subject Alternative Name email address included in
              issued certificates.

       <b>certificate_openssl_engine_id</b> <u>engineId</u>

       <b>certificate_openssl_engine_pre</b> <u>pre-initialization-commands</u>

       <b>certificate_openssl_engine_post</b> <u>post-initialization-commands</u>
              These  commands can be used to allow any OpenSSL engine to be used with MyProxy.  This enables the
              use of hardware tokens and signing modules to sign  certificates.   Given  the  parameters  of  an
              OpenSSL  "engine"  command, the first argument, the identity of the engine becomes the argument to
              <b>certificate_openssl_engine_id</b>    and    -pre    commands    are    listed    in    order     using
              <b>certificate_openssl_engine_pre</b>    and    -post    commands    are    listed    in    order   using
              <b>certificate_openssl_engine_post.</b>  For example the command-line:

                 openssl engine  dynamic  -pre  SO_PATH:/usr/lib/engines/engine_pkcs11.so  -pre  ID:pkcs11  -pre
              LIST_ADD:1 -pre LOAD -pre MODULE_PATH:/usr/lib/opensc-pksc11.so

              becomes:

                 certificate_openssl_engine_id "dynamic"

                 certificate_openssl_engine_pre      "SO_PATH:/usr/lib/engines/engine_pkcs11.so"     "ID:pkcs11"
              "LIST_ADD:1" "LOAD" "MODULE_PATH:/usr/lib/opensc-pksc11.so"

              Please note that any shared library engines loaded through the "dynamic" engine MUST  be  compiled
              againt the correct version of OpenSSL.

       <b>certificate_openssl_engine_lockfile</b> <u>full-path-to-file</u>
              If  your  hardware  token  or HSM is unable to handle simultaneous operations, provide a path to a
              lockfile for synchronizing operations to the engine device.  The myproxy-server  will  create  the
              file if it does not already exist.

       <b>certificate_issuer_program</b> <u>full-path-to-script</u>
              This  line  specifies  the  path to a program to issue certificates for authenticated clients that
              don't have credentials stored.  This optionally configures the myproxy-server to act as an  online
              certificate  authority,  allowing programmatic control over the certificate issuance process.  You
              can either specify <b>certificate_issuer_cert</b> or <b>certificate_issuer_program</b>.

              <b>Be</b> <b>sure</b> <b>to</b> <b>follow</b> <b>secure</b> <b>coding</b> <b>practices</b> <b>for</b> <b>this</b> <b>call-out:</b>
              - Don't allow input to overflow fixed-size buffers.
              - Don't pass unchecked input to a shell command.

       <b>certificate_serialfile</b> <u>full-path-to-serial-file</u>
              Specifies the path to a file to store the serial number counter for issued certificates.  Defaults
              to /var/lib/myproxy/serial.

       <b>certificate_serial_skip</b> <u>increment</u>
              Specifies the number to add to the serial number each time a certificate is issued.  Use  this  to
              stagger serial numbers across multiple CA instances to avoid serial number clashes. Defaults to 1.

       <b>certificate_out_dir</b> <u>full-path-to-putput-directory</u>
              Specifies the path to a directory where new certificates will be archived.

       <b>max_cert_lifetime</b> <u>hours</u>
              Specifies  the  maximum lifetime (in hours) for certificates issued by the CA module.  Defaults to
              12 hours.

       <b>min_keylen</b> <u>bits</u>
              Specifies the minimum RSA key length (in bits) for certificates issued by the CA module.

       <b>certificate_extfile</b> <u>full-path-to-extension-file</u>
              Optionally specifies the full path to a file containing an OpenSSL formatted  set  of  certificate
              extensions to include in all issued certificates.  For example:
                 keyUsage=digitalSignature,keyEncipherment,dataEncipherment
                 subjectKeyIdentifier=hash
                 authorityKeyIdentifier=keyid,issuer:always
                 crlDistributionPoints=URI:<a href="http://ca.ncsa.uiuc.edu/4a6cd8b1.r0">http://ca.ncsa.uiuc.edu/4a6cd8b1.r0</a>
                 basicConstraints=CA:FALSE
              If not set, the MyProxy CA will include a basic set of extensions in issued certificates.

       <b>certificate_extapp</b> <u>full-path-to-extension-callout-program</u>
              This  is  the call-out version of certificate_extfile.  It optionally specifies the full path to a
              call-out program for specifying certificate extensions.   It  will  be  passed  the  authenticated
              username as the single command argument.  On success, it should write the OpenSSL formatted set of
              certificate  extensions  to stdout and exit with zero status.  On error, it should write to stderr
              and exit with nonzero status.  Either <b>certificate_extfile</b> or <b>certificate_extapp</b> can  be  specified
              but not both.

              <b>Be</b> <b>sure</b> <b>to</b> <b>follow</b> <b>secure</b> <b>coding</b> <b>practices</b> <b>for</b> <b>this</b> <b>call-out:</b>
              - Don't allow input to overflow fixed-size buffers.
              - Don't pass unchecked input to a shell command.

       <b>certificate_mapfile</b> <u>full-path-to-mapfile</u>
              When  specifying  certificate_issuer_cert  above, you can map account names to certificate subject
              distinguished names for the issued certificates using this mapfile, which has the same  format  as
              used  by  other  Grid  Community Toolkit services.  By default, /etc/grid-security/grid-mapfile is
              used.  The Grid Community Toolkit <b>grid-mapfile-add-entry</b>  and  <b>grid-mapfile-delete-entry</b>  commands
              can be used to manage the grid-mapfile.

       <b>certificate_mapapp</b> <u>full-path-to-mapapp</u>
              When  specifying  certificate_issuer_cert  above, you can map account names to certificate subject
              distinguished names for the issued certificates using  this  call-out.   It  will  be  passed  the
              authenticated  username  as  the  single  command  argument.   On  success,  it  should  write the
              distinguished name in OpenSSL  one  line  format  (for  example,  "/C=US/O=National  Computational
              Science  Alliance/CN=Jim  Basney") to stdout and exit with zero status.  On error, it should write
              to stderr and exit with nonzero status.  If it  is  not  defined,  then  mapfile  lookup  will  be
              executed    instead    (see    certificate_mapfile   above).    An   example   is   installed   in
              <u>$GLOBUS_LOCATION/share/myproxy/myproxy-certificate-mapapp</u>.

              <b>Be</b> <b>sure</b> <b>to</b> <b>follow</b> <b>secure</b> <b>coding</b> <b>practices</b> <b>for</b> <b>this</b> <b>call-out:</b>
              - Don't allow input to overflow fixed-size buffers.
              - Don't pass unchecked input to a shell command.

       <b>certificate_request_checker</b> <u>full-path-to-callout-program</u>
              This CA call-out can be used to perform checks on incoming certificate requests. It will be passed
              the certificate request in PEM format on stdin. If it returns a nonzero exit status, the  CA  will
              abort  without  signing  the  request.   When  returning a nonzero exit status, the callout should
              indicate     the     problem     on     stderr.      An     example      is      installed      in
              <u>$GLOBUS_LOCATION/share/myproxy/myproxy-certreq-checker</u>.

       <b>certificate_issuer_checker</b> <u>full-path-to-callout-program</u>
              This  CA  call-out  can be used to perform checks on issued certificates before the certificate is
              returned to the client.  It will be passed the certificate in PEM format on stdin. If it returns a
              nonzero exit status, the CA will abort without returning the signed  certificate  to  the  client.
              When  returning  a  nonzero  exit  status,  the callout should indicate the problem on stderr.  An
              example is installed in <u>$GLOBUS_LOCATION/share/myproxy/myproxy-cert-checker</u>.

       If OpenLDAP support is built-in to the  <b><a href="../man8/myproxy-server.8.html">myproxy-server</a></b>(8),  the  following  parameters  can  be  used  to
       configure the CA module to map account names to certificate subject distinguished names via LDAP.

       <b>ca_ldap_server</b> <u>“ldap://localhost:389/”</u>
              This parameter specifies the URI to the LDAP server to use for username to DN resolution in the CA
              module.   Both  ldap://  and  ldaps://  protocols  are supported.  A port number may optionally be
              specified as well.  Defining this directive is the  "trigger"  that  causes  the  name  resolution
              module  to  use LDAP querying.  If it is not defined, then mapfile lookup will be executed instead
              (see <b>certificate_mapfile</b> above).

       <b>ca_ldap_uid_attribute</b> <u>“uid”</u>
              The name of the record attribute that maps to the MyProxy username.  Required for LDAP username to
              DN resolution.

       <b>ca_ldap_searchbase</b> <u>“ou=people,dc=bullwinkle,dc=lbl,dc=gov”</u>
              The DN of the region of the ldap database to be  searched.   Required  for  LDAP  username  to  DN
              resolution.

       <b>ca_ldap_dn_attribute</b> <u>“subjectDN”</u>
              If  this  directive is set, the LDAP resolver will pull the DN from the specified attribute in the
              returned record.  If it is not set, the default is to use the DN of the record itself.

       <b>ca_ldap_connect_dn</b> <u>“cn=MyProxy,ou=ldapusers,dc=lbl,dc=gov”</u>
              DN for LDAP basic authentication (optional).

       <b>ca_ldap_connect_passphrase</b> <u>“passphrase”</u>
              Passphrase for LDAP basic authentication (optional).

       The following parameters control server replication with the <b><a href="../man1/myproxy-replicate.1.html">myproxy-replicate</a></b>(1) utility.

       <b>slave_servers</b> <u>server:port;</u>
              This value is for use with the <b><a href="../man1/myproxy-replicate.1.html">myproxy-replicate</a></b>(1) utility.  This tag provides a list of  servers
              that  will  be  used  as  secondary  repositories for the MyProxy database.  Each server should be
              separated by a ";".  Also, a port may be provided if the slave server is using a port  other  then
              the default.  The server name maybe a recognized DNS or an IP address.

       The  following  parameters  are  used  primarily  when  utilizing MyProxy as a delegation service for web
       portals.

       <b>accepted_credentials_mapfile</b> <u>full-path-to-mapfile</u>
              This parameter points to a grid-mapfile, which is possibly different from  other  mapfiles  above.
              When  specified,  this  mapfile  is  utilized  during  puts/stores  (e.g. with <b><a href="../man1/myproxy-init.1.html">myproxy-init</a></b>(1) and
              <b><a href="../man1/myproxy-store.1.html">myproxy-store</a></b>(1)).  A credential is authorized to be put/stored only under the username  specified
              in  the mapfile.  This prevents storing a user's credential under a different username.  Note that
              the credential checked for the presence of a  SubjectDN/Username  entry  in  the  mapfile  is  the
              credential  utilized to secure the connection between client and server, NOT the actual credential
              being stored.  As the credential which secures the TLS connection is typically  the  same  as  the
              credential  being  stored,  this  should  not  be a major issue.  The Grid Community Toolkit <b>grid-</b>
              <b>mapfile-add-entry</b> and <b>grid-mapfile-delete-entry</b> commands can be used to manage the grid-mapfile.

       <b>accepted_credentials_mapapp</b> <u>full-path-to-mapapp</u>
              As an alternative to the accepted_credentials_mapfile option above, you  can  specify  a  call-out
              which  is  passed two parameters: a certificate subject distinguished name and a username (in that
              order).  In essence, the call-out performs a lookup in a  'virtual'  accepted_credentials_mapfile.
              If  the SubjectDN/Username line would appear in such a mapfile, then the call-out should exit with
              zero status indicating that a credential with the given SubjectDN is allowed to  be  stored  under
              the given Username.  Otherwise, the call-out should exit with nonzero status indicating error.  An
              example is installed in <u>$GLOBUS_LOCATION/share/myproxy/myproxy-accepted-credentials-mapapp</u>.

              <b>Be</b> <b>sure</b> <b>to</b> <b>follow</b> <b>secure</b> <b>coding</b> <b>practices</b> <b>for</b> <b>this</b> <b>call-out:</b>
              - Don't allow input to overflow fixed-size buffers.
              - Don't pass unchecked input to a shell command.

       <b>check_multiple_credentials</b> <u>boolean</u>
              Typically  when  a  credential  is accessed by a client, the server checks only one credential for
              possible access authorization, even if there are  multiple  credentials  stored  under  the  given
              username.  If this option is set to "true" AND the client does not specify a credential name for a
              MyProxy  GET  operation  (i.e.,  from  <b><a href="../man1/myproxy-logon.1.html">myproxy-logon</a></b>(1)),  then  the  server  will  check multiple
              credentials with the given username.  If a credential is found to be authorized for client access,
              then that one will be used during processing.  The default value for this option is "false".

       The following parameters enable OCSP status checking  of  stored  credentials  in  the  <b><a href="../man8/myproxy-server.8.html">myproxy-server</a></b>(8)
       repository, to avoid use of expired credentials.

       <b>ocsp_policy</b> <u>policy</u>
              Controls  the  policy  for  checking  certificate  validity  via  OCSP  before  credentials may be
              delegated.  Currently, only the status of the end entity certificate is checked via OCSP (and  not
              any  proxy  certificates  or  CA  certificates).   OCSP will not be used unless ocsp_responder_url
              and/or ocsp_policy are set.  Supported policies are:
                "aia" - use OCSP responder in certificate AIA extension, if
                        present; otherwise use ocsp_responder_url, if set

       <b>ocsp_responder_url</b> <u>URL</u>
              Specifies the URL of an OCSP responder to use to check the validity of credentials stored  in  the
              myproxy-server  repository  before  they  may be delegated, so that revoked credentials can not be
              retrieved and used where their revocation status may not be checked.  Currently, only  the  status
              of  the  end  entity  certificate  is  checked  via  OCSP  (and  not  any proxy certificates or CA
              certificates).  In any case, CRL checks are always  performed.   Both  http  and  https  urls  are
              supported.  OCSP will not be used unless ocsp_responder_url and/or ocsp_policy are set.

       <b>ocsp_responder_cert</b> <u>path</u>
              Specifies  the  path  to  the certificate of a trusted OCSP responder.  This is needed if the OCSP
              responder must be explicitly trusted in cases where standard path validation fails  for  the  OCSP
              responder's certificate.

</pre><h4><b>REGULAR</b> <b>EXPRESSIONS</b></h4><pre>
       For  matching  distinguished  names (DNs) in access control policies, MyProxy uses POSIX Extended Regular
       Expressions (see <b><a href="../man7/re_format.7.html">re_format</a></b>(7)), with custom processing of '*', '?', and '.'  metacharacters  to  simulate
       Unix  shell  style  wildcard  processing  (for  backward  compatibility  and  other  historical reasons).
       MyProxy's custom regular expressions are converted to POSIX EREs according to the following rules:

         [ MyProxy regex ] =&gt; [ POSIX ERE ]
         ----------------------------------
                '*'        =&gt;      '.*'
                '?'        =&gt;      '.'
                '.'        =&gt;      '\.'
                '\*'       =&gt;      '*'
                '\?'       =&gt;      '?'
                '\.'       =&gt;      '.'

       Additionally, MyProxy wraps all regular expressions inside '^(' and ')$' to require full DN matching.

       Be aware that parentheses are metacharacters according to POSIX, so  escaping  is  required  for  literal
       matching. For example:

         "*/CN=Jim Basney \(admin\)"

       The following examples illustrate how MyProxy regular expressions are converted to POSIX EREs:

            [ MyProxy regex ]     =&gt;    [ POSIX ERE ]
         ------------------------------------------------------------
         "*/CN=Jim Basney"        =&gt; "^(.*/CN=Jim Basney)$"
         "*/CN=Test User ?"       =&gt; "^(.*/CN=Test User .)$"
         "*/CN=James A. Basney"   =&gt; "^(.*/CN=James A\. Basney)$"
         "/O=Test/CN=[:alnum:]\*" =&gt; "^(/O=Test/CN=[:alnum:]*)$"

         "*/CN=Jim Basney|*/CN=James Basney" =&gt;
             "^(.*/CN=Jim Basney|.*/CN=James Basney)$"

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following policy enables all credential repository features.

       accepted_credentials       "*"
       authorized_retrievers      "*"
       default_retrievers         "*"
       authorized_renewers        "*"
       default_renewers           "none"
       authorized_key_retrievers  "*"
       default_key_retrievers     "none"
       trusted_retrievers         "*"
       default_trusted_retrievers "none"
       cert_dir                   /etc/grid-security/certificates

       The following enables CA functionality using an existing Globus Simple CA configuration.

       authorized_retrievers "*"
       pam  "sufficient"
       sasl "sufficient"
       certificate_issuer_cert /home/globus/.globus/simpleCA/cacert.pem
       certificate_issuer_key /home/globus/.globus/simpleCA/private/cakey.pem
       certificate_issuer_key_passphrase "myproxy"
       certificate_serialfile /home/globus/.globus/simpleCA/serial
       certificate_mapfile /etc/grid-security/grid-mapfile
       cert_dir /etc/grid-security/certificates

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/myproxy-server.config</u>
              Default location for the server configuration file.

       <u>$GLOBUS_LOCATION/etc/myproxy-server.config</u>
              Alternate  location  for  the server configuration file.  A different location can be specified by
              using the <b><a href="../man8/myproxy-server.8.html">myproxy-server</a></b>(8) <b>-c</b> option.

       <u>$GLOBUS_LOCATION/share/myproxy/myproxy-passphrase-policy</u>
              A sample program for evaluating passphrase quality  for  use  with  the  <u>passphrase_policy_program</u>
              option.

       <u>$GLOBUS_LOCATION/share/myproxy/myproxy-certificate-mapapp</u>
              A sample <u>certificate_mapapp</u> program for mapping account names to certificate subject distinguished
              names.

       <u>$GLOBUS_LOCATION/share/myproxy/myproxy-accepted-credentials-mapapp</u>
              A  sample  <u>accepted_credentials_mapapp</u>  program  for  authorizing  puts/stores (e.g. with <b><a href="../man1/myproxyinit.1.html">myproxy-</a></b>
              <b><a href="../man1/myproxyinit.1.html">init</a></b>(1) and <b><a href="../man1/myproxy-store.1.html">myproxy-store</a></b>(1)).

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>GLOBUS_LOCATION</b>
              Specifies the root of the MyProxy installation, used to find the default location of the  <u>myproxy-</u>
              <u>server.config</u> file.

</pre><h4><b>AUTHORS</b></h4><pre>
       See <b><a href="http://grid.ncsa.illinois.edu/myproxy/about">http://grid.ncsa.illinois.edu/myproxy/about</a></b> for the list of MyProxy authors.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/myproxy-change-pass-phrase.1.html">myproxy-change-pass-phrase</a></b>(1),  <b><a href="../man1/myproxy-destroy.1.html">myproxy-destroy</a></b>(1),  <b><a href="../man1/myproxy-get-trustroots.1.html">myproxy-get-trustroots</a></b>(1), <b><a href="../man1/myproxy-info.1.html">myproxy-info</a></b>(1), <b><a href="../man1/myproxyinit.1.html">myproxy-</a></b>
       <b><a href="../man1/myproxyinit.1.html">init</a></b>(1),  <b><a href="../man1/myproxy-logon.1.html">myproxy-logon</a></b>(1),  <b><a href="../man1/myproxy-retrieve.1.html">myproxy-retrieve</a></b>(1),  <b><a href="../man1/myproxy-store.1.html">myproxy-store</a></b>(1),  <b><a href="../man8/myproxy-admin-adduser.8.html">myproxy-admin-adduser</a></b>(8),  <b><a href="../man8/myproxyadmin-change-pass.8.html">myproxy-</a></b>
       <b><a href="../man8/myproxyadmin-change-pass.8.html">admin-change-pass</a></b>(8), <b><a href="../man8/myproxy-admin-load-credential.8.html">myproxy-admin-load-credential</a></b>(8), <b><a href="../man8/myproxy-admin-query.8.html">myproxy-admin-query</a></b>(8), <b><a href="../man8/myproxy-server.8.html">myproxy-server</a></b>(8)

MyProxy                                            2014-07-12                           <u><a href="../man5/myproxy-server.config.5.html">myproxy-server.config</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>