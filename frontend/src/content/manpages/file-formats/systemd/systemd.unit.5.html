<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>systemd.unit - Unit configuration</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/systemd">systemd_257.7-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       systemd.unit - Unit configuration

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>service</u>.service, <u>socket</u>.socket, <u>device</u>.device, <u>mount</u>.mount, <u>automount</u>.automount, <u>swap</u>.swap,
       <u>target</u>.target, <u>path</u>.path, <u>timer</u>.timer, <u>slice</u>.slice, <u>scope</u>.scope

   <b>System</b> <b>Unit</b> <b>Search</b> <b>Path</b>
           /etc/systemd/system.control/*
           /run/systemd/system.control/*
           /run/systemd/transient/*
           <a href="file:/run/systemd/generator.early/">/run/systemd/generator.early/</a>*
           <a href="file:/etc/systemd/system/">/etc/systemd/system/</a>*
           /etc/systemd/system.attached/*
           <a href="file:/run/systemd/system/">/run/systemd/system/</a>*
           /run/systemd/system.attached/*
           <a href="file:/run/systemd/generator/">/run/systemd/generator/</a>*
           ...
           /usr/local/lib/systemd/system/*
           <a href="file:/usr/lib/systemd/system/">/usr/lib/systemd/system/</a>*
           /run/systemd/generator.late/*

   <b>User</b> <b>Unit</b> <b>Search</b> <b>Path</b>
           <a href="file:~/.config/systemd/user.control/">~/.config/systemd/user.control/</a>*
           $XDG_RUNTIME_DIR/systemd/user.control/*
           $XDG_RUNTIME_DIR/systemd/transient/*
           $XDG_RUNTIME_DIR/systemd/generator.early/*
           <a href="file:~/.config/systemd/user/">~/.config/systemd/user/</a>*
           $XDG_CONFIG_DIRS/systemd/user/*
           <a href="file:/etc/systemd/user/">/etc/systemd/user/</a>*
           $XDG_RUNTIME_DIR/systemd/user/*
           /run/systemd/user/*
           $XDG_RUNTIME_DIR/systemd/generator/*
           $XDG_DATA_HOME/systemd/user/*
           $XDG_DATA_DIRS/systemd/user/*
           ...
           /usr/local/lib/systemd/user/*
           <a href="file:/usr/lib/systemd/user/">/usr/lib/systemd/user/</a>*
           $XDG_RUNTIME_DIR/systemd/generator.late/*

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A unit file is a plain text ini-style file that encodes information about a service, a socket, a device,
       a mount point, an automount point, a swap file or partition, a start-up target, a watched file system
       path, a timer controlled and supervised by <b><a href="../man1/systemd.1.html">systemd</a></b>(1), a resource management slice or a group of
       externally created processes. See <b><a href="../man7/systemd.syntax.7.html">systemd.syntax</a></b>(7) for a general description of the syntax.

       This man page lists the common configuration options of all the unit types. These options need to be
       configured in the [Unit] or [Install] sections of the unit files.

       In addition to the generic [Unit] and [Install] sections described here, each unit may have a
       type-specific section, e.g. [Service] for a service unit. See the respective man pages for more
       information: <b><a href="../man5/systemd.service.5.html">systemd.service</a></b>(5), <b><a href="../man5/systemd.socket.5.html">systemd.socket</a></b>(5), <b><a href="../man5/systemd.device.5.html">systemd.device</a></b>(5), <b><a href="../man5/systemd.mount.5.html">systemd.mount</a></b>(5),
       <b><a href="../man5/systemd.automount.5.html">systemd.automount</a></b>(5), <b><a href="../man5/systemd.swap.5.html">systemd.swap</a></b>(5), <b><a href="../man5/systemd.target.5.html">systemd.target</a></b>(5), <b><a href="../man5/systemd.path.5.html">systemd.path</a></b>(5), <b><a href="../man5/systemd.timer.5.html">systemd.timer</a></b>(5),
       <b><a href="../man5/systemd.slice.5.html">systemd.slice</a></b>(5), <b><a href="../man5/systemd.scope.5.html">systemd.scope</a></b>(5).

       Unit files are loaded from a set of paths determined during compilation, described in the next section.

       Valid unit names consist of a "unit name prefix", and a suffix specifying the unit type which begins with
       a dot. The "unit name prefix" must consist of one or more valid characters (ASCII letters, digits, ":",
       "-", "_", ".", and "\"). The total length of the unit name including the suffix must not exceed 255
       characters. The unit type suffix must be one of ".service", ".socket", ".device", ".mount", ".automount",
       ".swap", ".target", ".path", ".timer", ".slice", or ".scope".

       Unit names can be parameterized by a single argument called the "instance name". The unit is then
       constructed based on a "template file" which serves as the definition of multiple services or other
       units. A template unit must have a single "@" at the end of the unit name prefix (right before the type
       suffix). The name of the full unit is formed by inserting the instance name between "@" and the unit type
       suffix. In the unit file itself, the instance parameter may be referred to using "%i" and other
       specifiers, see below.

       Unit files may contain additional options on top of those listed here. If systemd encounters an unknown
       option, it will write a warning log message but continue loading the unit. If an option or section name
       is prefixed with <b>X-</b>, it is ignored completely by systemd. Options within an ignored section do not need
       the prefix. Applications may use this to include additional information in the unit files. To access
       those options, applications need to parse the unit files on their own.

       Units can be aliased (have an alternative name), by creating a symlink from the new name to the existing
       name in one of the unit search paths. For example, systemd-networkd.service has the alias
       dbus-org.freedesktop.network1.service, created during installation as a symlink, so when <b>systemd</b> is asked
       through D-Bus to load dbus-org.freedesktop.network1.service, it'll load systemd-networkd.service. As
       another example, default.target — the default system target started at boot — is commonly aliased to
       either multi-user.target or graphical.target to select what is started by default. Alias names may be
       used in commands like <b>disable</b>, <b>start</b>, <b>stop</b>, <b>status</b>, and similar, and in all unit dependency directives,
       including <u>Wants=</u>, <u>Requires=</u>, <u>Before=</u>, <u>After=</u>. Aliases cannot be used with the <b>preset</b> command.

       Aliases obey the following restrictions: a unit of a certain type (".service", ".socket", ...) can only
       be aliased by a name with the same type suffix. A plain unit (not a template or an instance), may only be
       aliased by a plain name. A template instance may only be aliased by another template instance, and the
       instance part must be identical. A template may be aliased by another template (in which case the alias
       applies to all instances of the template). As a special case, a template instance (e.g.
       "<a href="mailto:alias@inst.service">alias@inst.service</a>") may be a symlink to different template (e.g.  "<a href="mailto:template@inst.service">template@inst.service</a>"). In that
       case, just this specific instance is aliased, while other instances of the template (e.g.
       "<a href="mailto:alias@foo.service">alias@foo.service</a>", "<a href="mailto:alias@bar.service">alias@bar.service</a>") are not aliased. Those rules preserve the requirement that the
       instance (if any) is always uniquely defined for a given unit and all its aliases. The target of alias
       symlink must point to a valid unit file location, i.e. the symlink target name must match the symlink
       source name as described, and the destination path must be in one of the unit search paths, see UNIT FILE
       LOAD PATH section below for more details. Note that the target file might not exist, i.e. the symlink may
       be dangling.

       Unit files may specify aliases through the <u>Alias=</u> directive in the [Install] section. When the unit is
       enabled, symlinks will be created for those names, and removed when the unit is disabled. For example,
       reboot.target specifies <u>Alias=ctrl-alt-del.target</u>, so when enabled, the symlink
       /etc/systemd/system/ctrl-alt-del.target pointing to the reboot.target file will be created, and when
       Ctrl+Alt+Del is invoked, <b>systemd</b> will look for ctrl-alt-del.target, follow the symlink to reboot.target,
       and execute reboot.service as part of that target.  <b>systemd</b> does not look at the [Install] section at all
       during normal operation, so any directives in that section only have an effect through the symlinks
       created during enablement.

       Along with a unit file foo.service, the directory foo.service.wants/ may exist. All unit files symlinked
       from such a directory are implicitly added as dependencies of type <u>Wants=</u> to the unit. Similar
       functionality exists for <u>Requires=</u> type dependencies as well, the directory suffix is .requires/ in this
       case. This functionality is useful to hook units into the start-up of other units, without having to
       modify their unit files. For details about the semantics of <u>Wants=</u> and <u>Requires=</u>, see below. The
       preferred way to create symlinks in the .wants/ or .requires/ directories is by specifying the dependency
       in [Install] section of the target unit, and creating the symlink in the file system with the <b>enable</b> or
       <b>preset</b> commands of <b><a href="../man1/systemctl.1.html">systemctl</a></b>(1). The target can be a normal unit (either plain or a specific instance of
       a template unit). In case when the source unit is a template, the target can also be a template, in which
       case the instance will be "propagated" to the target unit to form a valid unit instance. The target of
       symlinks in .wants/ or .requires/ must thus point to a valid unit file location, i.e. the symlink target
       name must satisfy the described requirements, and the destination path must be in one of the unit search
       paths, see UNIT FILE LOAD PATH section below for more details. Note that the target file might not exist,
       i.e. the symlink may be dangling.

       Along with a unit file foo.service, a "drop-in" directory foo.service.d/ may exist. All files with the
       suffix ".conf" from this directory will be merged in the alphanumeric order and parsed after the main
       unit file itself has been parsed. This is useful to alter or add configuration settings for a unit,
       without having to modify unit files. Each drop-in file must contain appropriate section headers. For
       instantiated units, this logic will first look for the instance ".d/" subdirectory (e.g.
       "<a href="mailto:foo@bar.service.d">foo@bar.service.d</a>/") and read its ".conf" files, followed by the template ".d/" subdirectory (e.g.
       "foo@.service.d/") and the ".conf" files there. Moreover, for unit names containing dashes ("-"), the set
       of directories generated by repeatedly truncating the unit name after all dashes is searched too.
       Specifically, for a unit name foo-bar-baz.service not only the regular drop-in directory
       foo-bar-baz.service.d/ is searched but also both foo-bar-.service.d/ and foo-.service.d/. This is useful
       for defining common drop-ins for a set of related units, whose names begin with a common prefix. This
       scheme is particularly useful for mount, automount and slice units, whose systematic naming structure is
       built around dashes as component separators. Note that equally named drop-in files further down the
       prefix hierarchy override those further up, i.e.  foo-bar-.service.d/10-override.conf overrides
       foo-.service.d/10-override.conf.

       In cases of unit aliases (described above), dropins for the aliased name and all aliases are loaded. In
       the example of default.target aliasing graphical.target, default.target.d/, default.target.wants/,
       default.target.requires/, graphical.target.d/, graphical.target.wants/, graphical.target.requires/ would
       all be read. For templates, dropins for the template, any template aliases, the template instance, and
       all alias instances are read. When just a specific template instance is aliased, then the dropins for the
       target template, the target template instance, and the alias template instance are read.

       In addition to <a href="file:/etc/systemd/system">/etc/systemd/system</a>, the drop-in ".d/" directories for system services can be placed in
       <a href="file:/usr/lib/systemd/system">/usr/lib/systemd/system</a> or <a href="file:/run/systemd/system">/run/systemd/system</a> directories. Drop-in files in <a href="file:/etc/">/etc/</a> take precedence over
       those in <a href="file:/run/">/run/</a> which in turn take precedence over those in <a href="file:/usr/lib/.">/usr/lib/.</a> Drop-in files under any of these
       directories take precedence over unit files wherever located. Multiple drop-in files with different names
       are applied in lexicographic order, regardless of which of the directories they reside in.

       Units also support a top-level drop-in with <u>type</u>.d/, where <u>type</u> may be e.g.  "service" or "socket", that
       allows altering or adding to the settings of all corresponding unit files on the system. The formatting
       and precedence of applying drop-in configurations follow what is defined above. Files in <u>type</u>.d/ have
       lower precedence compared to files in name-specific override directories. The usual rules apply: multiple
       drop-in files with different names are applied in lexicographic order, regardless of which of the
       directories they reside in, so a file in <u>type</u>.d/ applies to a unit only if there are no drop-ins or masks
       with that name in directories with higher precedence. See Examples.

       Note that while systemd offers a flexible dependency system between units it is recommended to use this
       functionality only sparingly and instead rely on techniques such as bus-based or socket-based activation
       which make dependencies implicit, resulting in a both simpler and more flexible system.

       As mentioned above, a unit may be instantiated from a template file. This allows creation of multiple
       units from a single configuration file. If systemd looks for a unit configuration file, it will first
       search for the literal unit name in the file system. If that yields no success and the unit name contains
       an "@" character, systemd will look for a unit template that shares the same name but with the instance
       string (i.e. the part between the "@" character and the suffix) removed. Example: if a service
       <a href="mailto:getty@tty3.service">getty@tty3.service</a> is requested and no file by that name is found, systemd will look for getty@.service
       and instantiate a service from that configuration file if it is found.

       To refer to the instance string from within the configuration file you may use the special "%i" specifier
       in many of the configuration options. See below for details.

       If a unit file is empty (i.e. has the file size 0) or is symlinked to /dev/null, its configuration will
       not be loaded and it appears with a load state of "masked", and cannot be activated. Use this as an
       effective way to fully disable a unit, making it impossible to start it even manually.

       The unit file format is covered by the <b>Interface</b> <b>Portability</b> <b>and</b> <b>Stability</b> <b>Promise</b>[1].

</pre><h4><b>STRING</b> <b>ESCAPING</b> <b>FOR</b> <b>INCLUSION</b> <b>IN</b> <b>UNIT</b> <b>NAMES</b></h4><pre>
       Sometimes it is useful to convert arbitrary strings into unit names. To facilitate this, a method of
       string escaping is used, in order to map strings containing arbitrary byte values (except <b>NUL</b>) into valid
       unit names and their restricted character set. A common special case are unit names that reflect paths to
       objects in the file system hierarchy. Example: a device unit dev-sda.device refers to a device with the
       device node /dev/sda in the file system.

       The escaping algorithm operates as follows: given a string, any "/" character is replaced by "-", and all
       other characters which are not ASCII alphanumerics, ":", "_" or "."  are replaced by C-style "\x2d"
       escapes. In addition, "."  is replaced with such a C-style escape when it would appear as the first
       character in the escaped string.

       When the input qualifies as absolute file system path, this algorithm is extended slightly: the path to
       the root directory "/" is encoded as single dash "-". In addition, any leading, trailing or duplicate "/"
       characters are removed from the string before transformation. Example: /foo//bar/baz/ becomes
       "foo-bar-baz".

       This escaping is fully reversible, as long as it is known whether the escaped string was a path (the
       unescaping results are different for paths and non-path strings). The <b><a href="../man1/systemd-escape.1.html">systemd-escape</a></b>(1) command may be
       used to apply and reverse escaping on arbitrary strings. Use <b>systemd-escape</b> <b>--path</b> to escape path
       strings, and <b>systemd-escape</b> without <b>--path</b> otherwise.

</pre><h4><b>AUTOMATIC</b> <b>DEPENDENCIES</b></h4><pre>
   <b>Implicit</b> <b>Dependencies</b>
       A number of unit dependencies are implicitly established, depending on unit type and unit configuration.
       These implicit dependencies can make unit configuration file cleaner. For the implicit dependencies in
       each unit type, please refer to section "Implicit Dependencies" in respective man pages.

       For example, service units with <u>Type=dbus</u> automatically acquire dependencies of type <u>Requires=</u> and <u>After=</u>
       on dbus.socket. See <b><a href="../man5/systemd.service.5.html">systemd.service</a></b>(5) for details.

   <b>Default</b> <b>Dependencies</b>
       Default dependencies are similar to implicit dependencies, but can be turned on and off by setting
       <u>DefaultDependencies=</u> to <u>yes</u> (the default) and <u>no</u>, while implicit dependencies are always in effect. See
       section "Default Dependencies" in respective man pages for the effect of enabling <u>DefaultDependencies=</u> in
       each unit types.

       For example, target units will complement all configured dependencies of type <u>Wants=</u> or <u>Requires=</u> with
       dependencies of type <u>After=</u>. See <b><a href="../man5/systemd.target.5.html">systemd.target</a></b>(5) for details. Note that this behavior can be opted out
       by setting <u>DefaultDependencies=no</u> in the specified units, or it can be selectively overridden via an
       explicit <u>Before=</u> dependency.

</pre><h4><b>UNIT</b> <b>FILE</b> <b>LOAD</b> <b>PATH</b></h4><pre>
       Unit files are loaded from a set of paths determined during compilation, described in the two tables
       below. Unit files found in directories listed earlier override files with the same name in directories
       lower in the list [2].

       When the variable <u>$SYSTEMD_UNIT_PATH</u> is set, the contents of this variable overrides the unit load path.
       If <u>$SYSTEMD_UNIT_PATH</u> ends with an empty component (":"), the usual unit load path will be appended to
       the contents of the variable.

       <b>Table</b> <b>1.</b>  <b>Load</b> <b>path</b> <b>when</b> <b>running</b> <b>in</b> <b>system</b> <b>mode</b> <b>(--system).</b>
       ┌───────────────────────────────┬──────────────────────────────────────┐
       │ <b>Path</b>                          │ <b>Description</b>                          │
       ├───────────────────────────────┼──────────────────────────────────────┤
       │ /etc/systemd/system.control   │ Persistent and transient             │
       ├───────────────────────────────┤ configuration created using the dbus │
       │ /run/systemd/system.control   │ API                                  │
       ├───────────────────────────────┼──────────────────────────────────────┤
       │ /run/systemd/transient        │ Dynamic configuration for transient  │
       │                               │ units                                │
       ├───────────────────────────────┼──────────────────────────────────────┤
       │ <a href="file:/run/systemd/generator.early">/run/systemd/generator.early</a>  │ Generated units with high priority   │
       │                               │ (see <u>early-dir</u> in                    │
       │                               │ <b><a href="../man7/systemd.generator.7.html">systemd.generator</a></b>(7))                │
       ├───────────────────────────────┼──────────────────────────────────────┤
       │ <a href="file:/etc/systemd/system">/etc/systemd/system</a>           │ System units created by the          │
       │                               │ administrator                        │
       ├───────────────────────────────┼──────────────────────────────────────┤
       │ <a href="file:/run/systemd/system">/run/systemd/system</a>           │ Runtime units                        │
       ├───────────────────────────────┼──────────────────────────────────────┤
       │ <a href="file:/run/systemd/generator">/run/systemd/generator</a>        │ Generated units with medium priority │
       │                               │ (see <u>normal-dir</u> in                   │
       │                               │ <b><a href="../man7/systemd.generator.7.html">systemd.generator</a></b>(7))                │
       ├───────────────────────────────┼──────────────────────────────────────┤
       │ /usr/local/lib/systemd/system │ System units installed by the        │
       │                               │ administrator                        │
       ├───────────────────────────────┼──────────────────────────────────────┤
       │ <a href="file:/usr/lib/systemd/system">/usr/lib/systemd/system</a>       │ System units installed by the        │
       │                               │ distribution package manager         │
       ├───────────────────────────────┼──────────────────────────────────────┤
       │ /run/systemd/generator.late   │ Generated units with low priority    │
       │                               │ (see <u>late-dir</u> in                     │
       │                               │ <b><a href="../man7/systemd.generator.7.html">systemd.generator</a></b>(7))                │
       └───────────────────────────────┴──────────────────────────────────────┘

       <b>Table</b> <b>2.</b>  <b>Load</b> <b>path</b> <b>when</b> <b>running</b> <b>in</b> <b>user</b> <b>mode</b> <b>(--user).</b>
       ┌──────────────────────────────────────────┬───────────────────────────────────────┐
       │ <b>Path</b>                                     │ <b>Description</b>                           │
       ├──────────────────────────────────────────┼───────────────────────────────────────┤
       │ $XDG_CONFIG_HOME/systemd/user.control    │ Persistent and transient              │
       │ or <a href="file:~/.config/systemd/user.control">~/.config/systemd/user.control</a>        │ configuration created using the dbus  │
       ├──────────────────────────────────────────┤ API (<u>$XDG_CONFIG_HOME</u> is used if set, │
       │ $XDG_RUNTIME_DIR/systemd/user.control    │ <a href="file:~/.config">~/.config</a> otherwise)                  │
       ├──────────────────────────────────────────┼───────────────────────────────────────┤
       │ $XDG_RUNTIME_DIR/systemd/transient       │ Dynamic configuration for transient   │
       │                                          │ units                                 │
       ├──────────────────────────────────────────┼───────────────────────────────────────┤
       │ $XDG_RUNTIME_DIR/systemd/generator.early │ Generated units with high priority    │
       │                                          │ (see <u>early-dir</u> in                     │
       │                                          │ <b><a href="../man7/systemd.generator.7.html">systemd.generator</a></b>(7))                 │
       ├──────────────────────────────────────────┼───────────────────────────────────────┤
       │ $XDG_CONFIG_HOME/systemd/user or         │ User configuration (<u>$XDG_CONFIG_HOME</u>  │
       │ $HOME/.config/systemd/user               │ is used if set, <a href="file:~/.config">~/.config</a> otherwise)  │
       ├──────────────────────────────────────────┼───────────────────────────────────────┤
       │ $XDG_CONFIG_DIRS/systemd/user or         │ Additional configuration directories  │
       │ <a href="file:/etc/xdg/systemd/user">/etc/xdg/systemd/user</a>                    │ as specified by the XDG base          │
       │                                          │ directory specification               │
       │                                          │ (<u>$XDG_CONFIG_DIRS</u> is used if set,     │
       │                                          │ <a href="file:/etc/xdg">/etc/xdg</a> otherwise)                   │
       ├──────────────────────────────────────────┼───────────────────────────────────────┤
       │ <a href="file:/etc/systemd/user">/etc/systemd/user</a>                        │ User units created by the             │
       │                                          │ administrator                         │
       ├──────────────────────────────────────────┼───────────────────────────────────────┤
       │ $XDG_RUNTIME_DIR/systemd/user            │ Runtime units (only used when         │
       │                                          │ $XDG_RUNTIME_DIR is set)              │
       ├──────────────────────────────────────────┼───────────────────────────────────────┤
       │ /run/systemd/user                        │ Runtime units                         │
       ├──────────────────────────────────────────┼───────────────────────────────────────┤
       │ $XDG_RUNTIME_DIR/systemd/generator       │ Generated units with medium priority  │
       │                                          │ (see <u>normal-dir</u> in                    │
       │                                          │ <b><a href="../man7/systemd.generator.7.html">systemd.generator</a></b>(7))                 │
       ├──────────────────────────────────────────┼───────────────────────────────────────┤
       │ $XDG_DATA_HOME/systemd/user or           │ Units of packages that have been      │
       │ $HOME/.local/share/systemd/user          │ installed in the home directory       │
       │                                          │ (<u>$XDG_DATA_HOME</u> is used if set,       │
       │                                          │ <a href="file:~/.local/share">~/.local/share</a> otherwise)             │
       ├──────────────────────────────────────────┼───────────────────────────────────────┤
       │ $XDG_DATA_DIRS/systemd/user or           │ Additional data directories as        │
       │ /usr/local/share/systemd/user and        │ specified by the XDG base directory   │
       │ /usr/share/systemd/user                  │ specification (<u>$XDG_DATA_DIRS</u> is used │
       │                                          │ if set, <a href="file:/usr/local/share">/usr/local/share</a> and          │
       │                                          │ <a href="file:/usr/share">/usr/share</a> otherwise)                 │
       ├──────────────────────────────────────────┼───────────────────────────────────────┤
       │ $dir/systemd/user for each <u>$dir</u> in       │ Additional locations for installed    │
       │ <u>$XDG_DATA_DIRS</u>                           │ user units, one for each entry in     │
       │                                          │ <u>$XDG_DATA_DIRS</u>                        │
       ├──────────────────────────────────────────┼───────────────────────────────────────┤
       │ /usr/local/lib/systemd/user              │ User units installed by the           │
       │                                          │ administrator                         │
       ├──────────────────────────────────────────┼───────────────────────────────────────┤
       │ <a href="file:/usr/lib/systemd/user">/usr/lib/systemd/user</a>                    │ User units installed by the           │
       │                                          │ distribution package manager          │
       ├──────────────────────────────────────────┼───────────────────────────────────────┤
       │ $XDG_RUNTIME_DIR/systemd/generator.late  │ Generated units with low priority     │
       │                                          │ (see <u>late-dir</u> in                      │
       │                                          │ <b><a href="../man7/systemd.generator.7.html">systemd.generator</a></b>(7))                 │
       └──────────────────────────────────────────┴───────────────────────────────────────┘

       The set of load paths for the user manager instance may be augmented or changed using various environment
       variables. And environment variables may in turn be set using environment generators, see
       <b><a href="../man7/systemd.environment-generator.7.html">systemd.environment-generator</a></b>(7). In particular, <u>$XDG_DATA_HOME</u> and <u>$XDG_DATA_DIRS</u> may be easily set
       using <b><a href="../man8/systemd-environment-d-generator.8.html">systemd-environment-d-generator</a></b>(8). Thus, directories listed here are just the defaults. To see the
       actual list that would be used based on compilation options and current environment use

           systemd-analyze --user unit-paths

       Moreover, additional units might be loaded into systemd from directories not on the unit load path by
       creating a symlink pointing to a unit file in the directories. You can use <b>systemctl</b> <b>link</b> for this; see
       <b><a href="../man1/systemctl.1.html">systemctl</a></b>(1). The file system where the linked unit files are located must be accessible when systemd is
       started (e.g. anything underneath <a href="file:/home/">/home/</a> or <a href="file:/var/">/var/</a> is not allowed, unless those directories are located on
       the root file system).

       It is important to distinguish "linked unit files" from "unit file aliases": any symlink where the
       symlink <u>target</u> is within the unit load path becomes an alias: the source name and the target file name
       must satisfy specific constraints listed above in the discussion of aliases, but the symlink target does
       not have to exist, and in fact the symlink target path is not used, except to check whether the target is
       within the unit load path. In contrast, a symlink which goes outside of the unit load path signifies a
       linked unit file. The symlink is followed when loading the file, but the destination name is otherwise
       unused (and may even not be a valid unit file name). For example, symlinks
       /etc/systemd/system/alias1.service → service1.service, /etc/systemd/system/alias2.service →
       /usr/lib/systemd/service1.service, /etc/systemd/system/alias3.service →
       /etc/systemd/system/service1.service are all valid aliases and service1.service will have four names,
       even if the unit file is located at /run/systemd/system/service1.service. In contrast, a symlink
       /etc/systemd/system/link1.service → ../link1_service_file means that link1.service is a "linked unit" and
       the contents of /etc/systemd/link1_service_file provide its configuration.

</pre><h4><b>UNIT</b> <b>GARBAGE</b> <b>COLLECTION</b></h4><pre>
       The system and service manager loads a unit's configuration automatically when a unit is referenced for
       the first time. It will automatically unload the unit configuration and state again when the unit is not
       needed anymore ("garbage collection"). A unit may be referenced through a number of different mechanisms:

        1. Another loaded unit references it with a dependency such as <u>After=</u>, <u>Wants=</u>, ...

        2. The unit is currently starting, running, reloading or stopping.

        3. The unit is currently in the <b>failed</b> state. (But see below.)

        4. A job for the unit is pending.

        5. The unit is pinned by an active IPC client program.

        6. The unit is a special "perpetual" unit that is always active and loaded. Examples for perpetual units
           are the root mount unit -.mount or the scope unit init.scope that the service manager itself lives
           in.

        7. The unit has running processes associated with it.

       The garbage collection logic may be altered with the <u>CollectMode=</u> option, which allows configuration
       whether automatic unloading of units that are in <b>failed</b> state is permissible, see below.

       Note that when a unit's configuration and state is unloaded, all execution results, such as exit codes,
       exit signals, resource consumption and other statistics are lost, except for what is stored in the log
       subsystem.

       Use <b>systemctl</b> <b>daemon-reload</b> or an equivalent command to reload unit configuration while the unit is
       already loaded. In this case, all configuration settings are flushed out and replaced with the new
       configuration (which however might not be in effect immediately), however all runtime state is
       saved/restored.

</pre><h4><b>[UNIT]</b> <b>SECTION</b> <b>OPTIONS</b></h4><pre>
       The unit file may include a [Unit] section, which carries generic information about the unit that is not
       dependent on the type of unit:

       <u>Description=</u>
           A short human readable title of the unit. This may be used by <b>systemd</b> (and other UIs) as a
           user-visible label for the unit, so this string should identify the unit rather than describe it,
           despite the name. This string also should not just repeat the unit name.  "Apache2 Web Server" is a
           good example. Bad examples are "high-performance lightweight HTTP server" (too generic) or "Apache2"
           (meaningless for people who do not know Apache, duplicates the unit name).  <b>systemd</b> may use this
           string as a noun in status messages ("Starting <u>description</u>...", "Started <u>description</u>.", "Reached
           target <u>description</u>.", "Failed to start <u>description</u>."), so it should be capitalized, and should not be
           a full sentence, or a phrase with a continuous verb. Bad examples include "exiting the container" or
           "updating the database once per day.".

           Added in version 201.

       <u>Documentation=</u>
           A space-separated list of URIs referencing documentation for this unit or its configuration. Accepted
           are only URIs of the types "http://", "https://", "file:", "info:", "man:". For more information
           about the syntax of these URIs, see <b><a href="../man7/uri.7.html">uri</a></b>(7). The URIs should be listed in order of relevance, starting
           with the most relevant. It is a good idea to first reference documentation that explains what the
           unit's purpose is, followed by how it is configured, followed by any other related documentation.
           This option may be specified more than once, in which case the specified list of URIs is merged. If
           the empty string is assigned to this option, the list is reset and all prior assignments will have no
           effect.

           Added in version 201.

       <u>Wants=</u>
           Configures (weak) requirement dependencies on other units. This option may be specified more than
           once or multiple space-separated units may be specified in one option in which case dependencies for
           all listed names will be created. Dependencies of this type may also be configured outside of the
           unit configuration file by adding a symlink to a .wants/ directory accompanying the unit file. For
           details, see above.

           Units listed in this option will be started if the configuring unit is. However, if the listed units
           fail to start or cannot be added to the transaction, this has no impact on the validity of the
           transaction as a whole, and this unit will still be started. This is the recommended way to hook the
           start-up of one unit to the start-up of another unit.

           Note that requirement dependencies do not influence the order in which services are started or
           stopped. This has to be configured independently with the <u>After=</u> or <u>Before=</u> options. If unit
           foo.service pulls in unit bar.service as configured with <u>Wants=</u> and no ordering is configured with
           <u>After=</u> or <u>Before=</u>, then both units will be started simultaneously and without any delay between them
           if foo.service is activated.

           Added in version 201.

       <u>Requires=</u>
           Similar to <u>Wants=</u>, but declares a stronger requirement dependency. Dependencies of this type may also
           be configured by adding a symlink to a .requires/ directory accompanying the unit file.

           If this unit gets activated, the units listed will be activated as well. If one of the other units
           fails to activate, and an ordering dependency <u>After=</u> on the failing unit is set, this unit will not
           be started. Besides, with or without specifying <u>After=</u>, this unit will be stopped (or restarted) if
           one of the other units is explicitly stopped (or restarted).

           Often, it is a better choice to use <u>Wants=</u> instead of <u>Requires=</u> in order to achieve a system that is
           more robust when dealing with failing services.

           Note that this dependency type does not imply that the other unit always has to be in active state
           when this unit is running. Specifically: failing condition checks (such as <u>ConditionPathExists=</u>,
           <u>ConditionPathIsSymbolicLink=</u>, ... — see below) do not cause the start job of a unit with a <u>Requires=</u>
           dependency on it to fail. Also, some unit types may deactivate on their own (for example, a service
           process may decide to exit cleanly, or a device may be unplugged by the user), which is not
           propagated to units having a <u>Requires=</u> dependency. Use the <u>BindsTo=</u> dependency type together with
           <u>After=</u> to ensure that a unit may never be in active state without a specific other unit also in
           active state (see below).

           Added in version 201.

       <u>Requisite=</u>
           Similar to <u>Requires=</u>. However, if the units listed here are not started already, they will not be
           started and the starting of this unit will fail immediately.  <u>Requisite=</u> does not imply an ordering
           dependency, even if both units are started in the same transaction. Hence this setting should usually
           be combined with <u>After=</u>, to ensure this unit is not started before the other unit.

           When <u>Requisite=b.service</u> is used on a.service, this dependency will show as <u>RequisiteOf=a.service</u> in
           property listing of b.service.  <u>RequisiteOf=</u> dependency cannot be specified directly.

           Added in version 201.

       <u>BindsTo=</u>
           Configures requirement dependencies, very similar in style to <u>Requires=</u>. However, this dependency
           type is stronger: in addition to the effect of <u>Requires=</u> it declares that if the unit bound to is
           stopped, this unit will be stopped too. This means a unit bound to another unit that suddenly enters
           inactive state will be stopped too. Units can suddenly, unexpectedly enter inactive state for
           different reasons: the main process of a service unit might terminate on its own choice, the backing
           device of a device unit might be unplugged or the mount point of a mount unit might be unmounted
           without involvement of the system and service manager.

           When used in conjunction with <u>After=</u> on the same unit the behaviour of <u>BindsTo=</u> is even stronger. In
           this case, the unit bound to strictly has to be in active state for this unit to also be in active
           state. This not only means a unit bound to another unit that suddenly enters inactive state, but also
           one that is bound to another unit that gets skipped due to an unmet condition check (such as
           <u>ConditionPathExists=</u>, <u>ConditionPathIsSymbolicLink=</u>, ... — see below) will be stopped, should it be
           running. Hence, in many cases it is best to combine <u>BindsTo=</u> with <u>After=</u>.

           When <u>BindsTo=b.service</u> is used on a.service, this dependency will show as <u>BoundBy=a.service</u> in
           property listing of b.service.  <u>BoundBy=</u> dependency cannot be specified directly.

           Added in version 201.

       <u>PartOf=</u>
           Configures dependencies similar to <u>Requires=</u>, but limited to stopping and restarting of units. When
           systemd stops or restarts the units listed here, the action is propagated to this unit. Note that
           this is a one-way dependency — changes to this unit do not affect the listed units.

           When <u>PartOf=b.service</u> is used on a.service, this dependency will show as <u>ConsistsOf=a.service</u> in
           property listing of b.service.  <u>ConsistsOf=</u> dependency cannot be specified directly.

           Added in version 201.

       <u>Upholds=</u>
           Configures dependencies similar to <u>Wants=</u>, but as long as this unit is up, all units listed in
           <u>Upholds=</u> are started whenever found to be inactive or failed, and no job is queued for them. While a
           <u>Wants=</u> dependency on another unit has a one-time effect when this units started, a <u>Upholds=</u>
           dependency on it has a continuous effect, constantly restarting the unit if necessary. This is an
           alternative to the <u>Restart=</u> setting of service units, to ensure they are kept running whatever
           happens. The restart happens without delay, and usual per-unit rate-limit applies.

           When <u>Upholds=b.service</u> is used on a.service, this dependency will show as <u>UpheldBy=a.service</u> in the
           property listing of b.service.

           Added in version 249.

       <u>Conflicts=</u>
           A space-separated list of unit names. Configures negative requirement dependencies. If a unit has a
           <u>Conflicts=</u> setting on another unit, starting the former will stop the latter and vice versa.

           Note that this setting does not imply an ordering dependency, similarly to the <u>Wants=</u> and <u>Requires=</u>
           dependencies described above. This means that to ensure that the conflicting unit is stopped before
           the other unit is started, an <u>After=</u> or <u>Before=</u> dependency must be declared. It does not matter which
           of the two ordering dependencies is used, because stop jobs are always ordered before start jobs, see
           the discussion in <u>Before=</u>/<u>After=</u> below.

           If unit A that conflicts with unit B is scheduled to be started at the same time as B, the
           transaction will either fail (in case both are required parts of the transaction) or be modified to
           be fixed (in case one or both jobs are not a required part of the transaction). In the latter case,
           the job that is not required will be removed, or in case both are not required, the unit that
           conflicts will be started and the unit that is conflicted is stopped.

           Added in version 201.

       <u>Before=</u>, <u>After=</u>
           These two settings expect a space-separated list of unit names. They may be specified more than once,
           in which case dependencies for all listed names are created.

           Those two settings configure ordering dependencies between units. If unit foo.service contains the
           setting <b>Before=bar.service</b> and both units are being started, bar.service's start-up is delayed until
           foo.service has finished starting up.  <u>After=</u> is the inverse of <u>Before=</u>, i.e. while <u>Before=</u> ensures
           that the configured unit is started before the listed unit begins starting up, <u>After=</u> ensures the
           opposite, that the listed unit is fully started up before the configured unit is started.

           When two units with an ordering dependency between them are shut down, the inverse of the start-up
           order is applied. I.e. if a unit is configured with <u>After=</u> on another unit, the former is stopped
           before the latter if both are shut down. Given two units with any ordering dependency between them,
           if one unit is shut down and the other is started up, the shutdown is ordered before the start-up. It
           does not matter if the ordering dependency is <u>After=</u> or <u>Before=</u>, in this case. It also does not
           matter which of the two is shut down, as long as one is shut down and the other is started up; the
           shutdown is ordered before the start-up in all cases. If two units have no ordering dependencies
           between them, they are shut down or started up simultaneously, and no ordering takes place. It
           depends on the unit type when precisely a unit has finished starting up. Most importantly, for
           service units start-up is considered completed for the purpose of <u>Before=</u>/<u>After=</u> when all its
           configured start-up commands have been invoked and they either failed or reported start-up success.
           Note that this includes <u>ExecStartPost=</u> (or <u>ExecStopPost=</u> for the shutdown case).

           Note that those settings are independent of and orthogonal to the requirement dependencies as
           configured by <u>Requires=</u>, <u>Wants=</u>, <u>Requisite=</u>, or <u>BindsTo=</u>. It is a common pattern to include a unit
           name in both the <u>After=</u> and <u>Wants=</u> options, in which case the unit listed will be started before the
           unit that is configured with these options.

           Note that <u>Before=</u> dependencies on device units have no effect and are not supported. Devices
           generally become available as a result of an external hotplug event, and systemd creates the
           corresponding device unit without delay.

           Added in version 201.

       <u>OnFailure=</u>
           A space-separated list of one or more units that are activated when this unit enters the "failed"
           state.

           Added in version 201.

       <u>OnSuccess=</u>
           A space-separated list of one or more units that are activated when this unit enters the "inactive"
           state.

           Added in version 249.

       <u>PropagatesReloadTo=</u>, <u>ReloadPropagatedFrom=</u>
           A space-separated list of one or more units to which reload requests from this unit shall be
           propagated to, or units from which reload requests shall be propagated to this unit, respectively.
           Issuing a reload request on a unit will automatically also enqueue reload requests on all units that
           are linked to it using these two settings.

           Added in version 201.

       <u>PropagatesStopTo=</u>, <u>StopPropagatedFrom=</u>
           A space-separated list of one or more units to which stop requests from this unit shall be propagated
           to, or units from which stop requests shall be propagated to this unit, respectively. Issuing a stop
           request on a unit will automatically also enqueue stop requests on all units that are linked to it
           using these two settings.

           Added in version 249.

       <u>JoinsNamespaceOf=</u>
           For units that start processes (such as service units), lists one or more other units whose network
           and/or temporary file namespace to join. If this is specified on a unit (say, a.service has
           <u>JoinsNamespaceOf=b.service</u>), then the inverse dependency (<u>JoinsNamespaceOf=a.service</u> for b.service)
           is implied. This only applies to unit types which support the <u>PrivateNetwork=</u>, <u>NetworkNamespacePath=</u>,
           <u>PrivateIPC=</u>, <u>IPCNamespacePath=</u>, and <u>PrivateTmp=</u> directives (see <b><a href="../man5/systemd.exec.5.html">systemd.exec</a></b>(5) for details). If a
           unit that has this setting set is started, its processes will see the same <a href="file:/tmp/">/tmp/</a>, <a href="file:/var/tmp/">/var/tmp/</a>, IPC
           namespace and network namespace as one listed unit that is started. If multiple listed units are
           already started and these do not share their namespace, then it is not defined which namespace is
           joined. Note that this setting only has an effect if <u>PrivateNetwork=</u>/<u>NetworkNamespacePath=</u>,
           <u>PrivateIPC=</u>/<u>IPCNamespacePath=</u> and/or <u>PrivateTmp=</u> is enabled for both the unit that joins the
           namespace and the unit whose namespace is joined.

           Added in version 209.

       <u>RequiresMountsFor=</u>
           Takes a space-separated list of absolute paths. Automatically adds dependencies of type <u>Requires=</u> and
           <u>After=</u> for all mount units required to access the specified path.

           Mount points marked with <b>noauto</b> are not mounted automatically through local-fs.target, but are still
           honored for the purposes of this option, i.e. they will be pulled in by this unit.

           Added in version 201.

       <u>WantsMountsFor=</u>
           Same as <u>RequiresMountsFor=</u>, but adds dependencies of type <u>Wants=</u> instead of <u>Requires=</u>.

           Added in version 256.

       <u>OnSuccessJobMode=</u>, <u>OnFailureJobMode=</u>
           Takes a value of "fail", "replace", "replace-irreversibly", "isolate", "flush", "ignore-dependencies"
           or "ignore-requirements". Defaults to "replace". Specifies how the units listed in
           <u>OnSuccess=</u>/<u>OnFailure=</u> will be enqueued. See <b><a href="../man1/systemctl.1.html">systemctl</a></b>(1)'s <b>--job-mode=</b> option for details on the
           possible values. If this is set to "isolate", only a single unit may be listed in
           <u>OnSuccess=</u>/<u>OnFailure=</u>.

           Added in version 209.

       <u>IgnoreOnIsolate=</u>
           Takes a boolean argument. If <b>true</b>, this unit will not be stopped when isolating another unit.
           Defaults to <b>false</b> for service, target, socket, timer, and path units, and <b>true</b> for slice, scope,
           device, swap, mount, and automount units.

           Added in version 201.

       <u>StopWhenUnneeded=</u>
           Takes a boolean argument. If <b>true</b>, this unit will be stopped when it is no longer used. Note that, in
           order to minimize the work to be executed, systemd will not stop units by default unless they are
           conflicting with other units, or the user explicitly requested their shut down. If this option is
           set, a unit will be automatically cleaned up if no other active unit requires it. Defaults to <b>false</b>.

           Added in version 201.

       <u>RefuseManualStart=</u>, <u>RefuseManualStop=</u>
           Takes a boolean argument. If <b>true</b>, this unit can only be activated or deactivated indirectly. In this
           case, explicit start-up or termination requested by the user is denied, however if it is started or
           stopped as a dependency of another unit, start-up or termination will succeed. This is mostly a
           safety feature to ensure that the user does not accidentally activate units that are not intended to
           be activated explicitly, and not accidentally deactivate units that are not intended to be
           deactivated. These options default to <b>false</b>.

           Added in version 201.

       <u>AllowIsolate=</u>
           Takes a boolean argument. If <b>true</b>, this unit may be used with the <b>systemctl</b> <b>isolate</b> command.
           Otherwise, this will be refused. It probably is a good idea to leave this disabled except for target
           units that shall be used similar to runlevels in SysV init systems, just as a precaution to avoid
           unusable system states. This option defaults to <b>false</b>.

           Added in version 201.

       <u>DefaultDependencies=</u>
           Takes a boolean argument. If <b>yes</b>, (the default), a few default dependencies will implicitly be
           created for the unit. The actual dependencies created depend on the unit type. For example, for
           service units, these dependencies ensure that the service is started only after basic system
           initialization is completed and is properly terminated on system shutdown. See the respective man
           pages for details. Generally, only services involved with early boot or late shutdown should set this
           option to <b>no</b>. It is highly recommended to leave this option enabled for the majority of common units.
           If set to <b>no</b>, this option does not disable all implicit dependencies, just non-essential ones.

           Added in version 201.

       <u>SurviveFinalKillSignal=</u>
           Takes a boolean argument. Defaults to <b>no</b>. If <b>yes</b>, processes belonging to this unit will not be sent
           the final "SIGTERM" and "SIGKILL" signals during the final phase of the system shutdown process. This
           functionality replaces the older mechanism that allowed a program to set "argv[0][0] = '@'" as
           described at <b>systemd</b> <b>and</b> <b>Storage</b> <b>Daemons</b> <b>for</b> <b>the</b> <b>Root</b> <b>File</b> <b>System</b>[3], which however continues to be
           supported.

           Added in version 255.

       <u>CollectMode=</u>
           Tweaks the "garbage collection" algorithm for this unit. Takes one of <b>inactive</b> or <b>inactive-or-failed</b>.
           If set to <b>inactive</b> the unit will be unloaded if it is in the <b>inactive</b> state and is not referenced by
           clients, jobs or other units — however it is not unloaded if it is in the <b>failed</b> state. In <b>failed</b>
           mode, failed units are not unloaded until the user invoked <b>systemctl</b> <b>reset-failed</b> on them to reset
           the <b>failed</b> state, or an equivalent command. This behaviour is altered if this option is set to
           <b>inactive-or-failed</b>: in this case, the unit is unloaded even if the unit is in a <b>failed</b> state, and
           thus an explicitly resetting of the <b>failed</b> state is not necessary. Note that if this mode is used
           unit results (such as exit codes, exit signals, consumed resources, ...) are flushed out immediately
           after the unit completed, except for what is stored in the logging subsystem. Defaults to <b>inactive</b>.

           Added in version 236.

       <u>FailureAction=</u>, <u>SuccessAction=</u>
           Configure the action to take when the unit stops and enters a failed state or inactive state. Takes
           one of <b>none</b>, <b>reboot</b>, <b>reboot-force</b>, <b>reboot-immediate</b>, <b>poweroff</b>, <b>poweroff-force</b>, <b>poweroff-immediate</b>,
           <b>exit</b>, <b>exit-force</b>, <b>soft-reboot</b>, <b>soft-reboot-force</b>, <b>kexec</b>, <b>kexec-force</b>, <b>halt</b>, <b>halt-force</b> and
           <b>halt-immediate</b>. In system mode, all options are allowed. In user mode, only <b>none</b>, <b>exit</b>, and
           <b>exit-force</b> are allowed. Both options default to <b>none</b>.

           If <b>none</b> is set, no action will be triggered.  <b>reboot</b> causes a reboot following the normal shutdown
           procedure (i.e. equivalent to <b>systemctl</b> <b>reboot</b>).  <b>reboot-force</b> causes a forced reboot which will
           terminate all processes forcibly but should cause no dirty file systems on reboot (i.e. equivalent to
           <b>systemctl</b> <b>reboot</b> <b>-f</b>) and <b>reboot-immediate</b> causes immediate execution of the <b><a href="../man2/reboot.2.html">reboot</a></b>(2) system call,
           which might result in data loss (i.e. equivalent to <b>systemctl</b> <b>reboot</b> <b>-ff</b>). Similarly, <b>poweroff</b>,
           <b>poweroff-force</b>, <b>poweroff-immediate</b>, <b>kexec</b>, <b>kexec-force</b>, <b>halt</b>, <b>halt-force</b> and <b>halt-immediate</b> have the
           effect of powering down the system, executing kexec, and halting the system respectively with similar
           semantics.  <b>exit</b> causes the manager to exit following the normal shutdown procedure, and <b>exit-force</b>
           causes it terminate without shutting down services. When <b>exit</b> or <b>exit-force</b> is used by default the
           exit status of the main process of the unit (if this applies) is returned from the service manager.
           However, this may be overridden with <u>FailureActionExitStatus=</u>/<u>SuccessActionExitStatus=</u>, see below.
           <b>soft-reboot</b> will trigger a userspace reboot operation.  <b>soft-reboot-force</b> does that too, but does not
           go through the shutdown transaction beforehand.

           Added in version 236.

       <u>FailureActionExitStatus=</u>, <u>SuccessActionExitStatus=</u>
           Controls the exit status to propagate back to an invoking container manager (in case of a system
           service) or service manager (in case of a user manager) when the <u>FailureAction=</u>/<u>SuccessAction=</u> are
           set to <b>exit</b> or <b>exit-force</b> and the action is triggered. By default, the exit status of the main
           process of the triggering unit (if this applies) is propagated. Takes a value in the range 0...255 or
           the empty string to request default behaviour.

           Added in version 240.

       <u>JobTimeoutSec=</u>, <u>JobRunningTimeoutSec=</u>
           <u>JobTimeoutSec=</u> specifies a timeout for the whole job that starts running when the job is queued.
           <u>JobRunningTimeoutSec=</u> specifies a timeout that starts running when the queued job is actually
           started. If either limit is reached, the job will be cancelled, the unit however will not change
           state or even enter the "failed" mode.

           Both settings take a time span with the default unit of seconds, but other units may be specified,
           see <b><a href="../man7/systemd.time.7.html">systemd.time</a></b>(7). The default is "infinity" (job timeouts disabled), except for device units where
           <u>JobRunningTimeoutSec=</u> defaults to <u>DefaultDeviceTimeoutSec=</u>.

           Note: these timeouts are independent from any unit-specific timeouts (for example, the timeout set
           with <u>TimeoutStartSec=</u> in service units). The job timeout has no effect on the unit itself. Or in
           other words: unit-specific timeouts are useful to abort unit state changes, and revert them. The job
           timeout set with this option however is useful to abort only the job waiting for the unit state to
           change.

           Added in version 201.

       <u>JobTimeoutAction=</u>, <u>JobTimeoutRebootArgument=</u>
           <u>JobTimeoutAction=</u> optionally configures an additional action to take when the timeout is hit, see
           description of <u>JobTimeoutSec=</u> and <u>JobRunningTimeoutSec=</u> above. It takes the same values as
           <u>FailureAction=</u>/<u>SuccessAction=</u>. Defaults to <b>none</b>.

           <u>JobTimeoutRebootArgument=</u> configures an optional reboot string to pass to the <b><a href="../man2/reboot.2.html">reboot</a></b>(2) system call.

           Added in version 240.

       <u>StartLimitIntervalSec=interval</u>, <u>StartLimitBurst=burst</u>
           Configure unit start rate limiting. Units which are started more than <u>burst</u> times within an <u>interval</u>
           time span are not permitted to start any more. Use <u>StartLimitIntervalSec=</u> to configure the checking
           interval and <u>StartLimitBurst=</u> to configure how many starts per interval are allowed.

           <u>interval</u> is a time span with the default unit of seconds, but other units may be specified, see
           <b><a href="../man7/systemd.time.7.html">systemd.time</a></b>(7). The special value "infinity" can be used to limit the total number of start
           attempts, even if they happen at large time intervals. Defaults to <u>DefaultStartLimitIntervalSec=</u> in
           manager configuration file, and may be set to 0 to disable any kind of rate limiting.  <u>burst</u> is a
           number and defaults to <u>DefaultStartLimitBurst=</u> in manager configuration file.

           These configuration options are particularly useful in conjunction with the service setting <u>Restart=</u>
           (see <b><a href="../man5/systemd.service.5.html">systemd.service</a></b>(5)); however, they apply to all kinds of starts (including manual), not just
           those triggered by the <u>Restart=</u> logic.

           Note that units which are configured for <u>Restart=</u>, and which reach the start limit are not attempted
           to be restarted anymore; however, they may still be restarted manually or from a timer or socket at a
           later point, after the <u>interval</u> has passed. From that point on, the restart logic is activated again.
           <b>systemctl</b> <b>reset-failed</b> will cause the restart rate counter for a service to be flushed, which is
           useful if the administrator wants to manually start a unit and the start limit interferes with that.
           Rate-limiting is enforced after any unit condition checks are executed, and hence unit activations
           with failing conditions do not count towards the rate limit.

           When a unit is unloaded due to the garbage collection logic (see above) its rate limit counters are
           flushed out too. This means that configuring start rate limiting for a unit that is not referenced
           continuously has no effect.

           This setting does not apply to slice, target, device, and scope units, since they are unit types
           whose activation may either never fail, or may succeed only a single time.

           Added in version 229.

       <u>StartLimitAction=</u>
           Configure an additional action to take if the rate limit configured with <u>StartLimitIntervalSec=</u> and
           <u>StartLimitBurst=</u> is hit. Takes the same values as the <u>FailureAction=</u>/<u>SuccessAction=</u> settings. If <b>none</b>
           is set, hitting the rate limit will trigger no action except that the start will not be permitted.
           Defaults to <b>none</b>.

           Added in version 229.

       <u>RebootArgument=</u>
           Configure the optional argument for the <b><a href="../man2/reboot.2.html">reboot</a></b>(2) system call if <u>StartLimitAction=</u> or <u>FailureAction=</u>
           is a reboot action. This works just like the optional argument to <b>systemctl</b> <b>reboot</b> command.

           Added in version 229.

       <u>SourcePath=</u>
           A path to a configuration file this unit has been generated from. This is primarily useful for
           implementation of generator tools that convert configuration from an external configuration file
           format into native unit files. This functionality should not be used in normal units.

           Added in version 201.

   <b>Conditions</b> <b>and</b> <b>Asserts</b>
       Unit files may also include a number of <u>Condition...=</u> and <u>Assert...=</u> settings. Before the unit is
       started, systemd will verify that the specified conditions and asserts are true. If not, the starting of
       the unit will be (mostly silently) skipped (in case of conditions), or aborted with an error message (in
       case of asserts). Failing conditions or asserts will not result in the unit being moved into the "failed"
       state. The conditions and asserts are checked at the time the queued start job is to be executed. The
       ordering dependencies are still respected, so other units are still pulled in and ordered as if this unit
       was successfully activated, and the conditions and asserts are executed the precise moment the unit would
       normally start and thus can validate system state after the units ordered before completed
       initialization. Use condition expressions for skipping units that do not apply to the local system, for
       example because the kernel or runtime environment does not require their functionality.

       If multiple conditions are specified, the unit will be executed if all of them apply (i.e. a logical AND
       is applied). Condition checks can use a pipe symbol ("|") after the equals sign ("Condition...=|..."),
       which causes the condition to become a <u>triggering</u> condition. If at least one triggering condition is
       defined for a unit, then the unit will be started if at least one of the triggering conditions of the
       unit applies and all of the regular (i.e. non-triggering) conditions apply. If you prefix an argument
       with the pipe symbol and an exclamation mark, the pipe symbol must be passed first, the exclamation
       second. If any of these options is assigned the empty string, the list of conditions is reset completely,
       all previous condition settings (of any kind) will have no effect.

       The <u>AssertArchitecture=</u>, <u>AssertVirtualization=</u>, ... options are similar to conditions but cause the start
       job to fail (instead of being skipped). The failed check is logged. Units with unmet conditions are
       considered to be in a clean state and will be garbage collected if they are not referenced. This means
       that when queried, the condition failure may or may not show up in the state of the unit.

       Note that neither assertion nor condition expressions result in unit state changes. Also note that both
       are checked at the time the job is to be executed, i.e. long after depending jobs and it itself were
       queued. Thus, neither condition nor assertion expressions are suitable for conditionalizing unit
       dependencies.

       The <b>condition</b> verb of <b><a href="../man1/systemd-analyze.1.html">systemd-analyze</a></b>(1) can be used to test condition and assert expressions.

       Except for <u>ConditionPathIsSymbolicLink=</u>, all path checks follow symlinks.

       <u>ConditionArchitecture=</u>
           Check whether the system is running on a specific architecture. Takes one of "x86", "x86-64", "ppc",
           "ppc-le", "ppc64", "ppc64-le", "ia64", "parisc", "parisc64", "s390", "s390x", "sparc", "sparc64",
           "mips", "mips-le", "mips64", "mips64-le", "alpha", "arm", "arm-be", "arm64", "arm64-be", "sh",
           "sh64", "m68k", "tilegx", "cris", "arc", "arc-be", or "native".

           Use <b><a href="../man1/systemd-analyze.1.html">systemd-analyze</a></b>(1) for the complete list of known architectures.

           The architecture is determined from the information returned by <b><a href="../man2/uname.2.html">uname</a></b>(2) and is thus subject to
           <b><a href="../man2/personality.2.html">personality</a></b>(2). Note that a <u>Personality=</u> setting in the same unit file has no effect on this
           condition. A special architecture name "native" is mapped to the architecture the system manager
           itself is compiled for. The test may be negated by prepending an exclamation mark.

           Added in version 201.

       <u>ConditionFirmware=</u>
           Check whether the system's firmware is of a certain type. The following values are possible:

           •   "uefi" matches systems with EFI.

           •   "device-tree" matches systems with a device tree.

           •   "device-tree-compatible(<u>value</u>)" matches systems with a device tree that are compatible with
               "value".

           •   "smbios-field(<u>field</u> <u>operator</u> <u>value</u>)" matches systems with a SMBIOS field containing a certain
               value.  <u>field</u> is the name of the SMBIOS field exposed as "sysfs" attribute file below
               <a href="file:/sys/class/dmi/id/.">/sys/class/dmi/id/.</a>  <u>operator</u> is one of "&lt;", "&lt;=", "&gt;=", "&gt;", "==", "&lt;&gt;" for version comparisons,
               "=" and "!=" for literal string comparisons, or "$=", "!$=" for shell-style glob comparisons.
               <u>value</u> is the expected value of the SMBIOS field value (possibly containing shell style globs in
               case "$="/"!$=" is used).

           Added in version 249.

       <u>ConditionVirtualization=</u>
           Check whether the system is executed in a virtualized environment and optionally test whether it is a
           specific implementation. Takes either boolean value to check if being executed in any virtualized
           environment, or one of "vm" and "container" to test against a generic type of virtualization
           solution, or one of "qemu", "kvm", "amazon", "zvm", "vmware", "microsoft", "oracle", "powervm",
           "xen", "bochs", "uml", "bhyve", "qnx", "apple", "sre", "openvz", "lxc", "lxc-libvirt",
           "systemd-nspawn", "docker", "podman", "rkt", "wsl", "proot", "pouch", "acrn" to test against a
           specific implementation, or "private-users" to check whether we are running in a user namespace. See
           <b><a href="../man1/systemd-detect-virt.1.html">systemd-detect-virt</a></b>(1) for a full list of known virtualization technologies and their identifiers. If
           multiple virtualization technologies are nested, only the innermost is considered. The test may be
           negated by prepending an exclamation mark.

           Added in version 244.

       <u>ConditionHost=</u>
           <u>ConditionHost=</u> may be used to match against the hostname or machine ID of the host. This either takes
           a hostname string (optionally with shell style globs) which is tested against the locally set
           hostname as returned by <b><a href="../man2/gethostname.2.html">gethostname</a></b>(2), or a machine ID formatted as string (see <b><a href="../man5/machine-id.5.html">machine-id</a></b>(5)). The
           test may be negated by prepending an exclamation mark.

           Added in version 244.

       <u>ConditionKernelCommandLine=</u>
           <u>ConditionKernelCommandLine=</u> may be used to check whether a specific kernel command line option is set
           (or if prefixed with the exclamation mark — unset). The argument must either be a single word, or an
           assignment (i.e. two words, separated by "="). In the former case the kernel command line is searched
           for the word appearing as is, or as left hand side of an assignment. In the latter case, the exact
           assignment is looked for with right and left hand side matching. This operates on the kernel command
           line communicated to userspace via <a href="file:/proc/cmdline">/proc/cmdline</a>, except when the service manager is invoked as
           payload of a container manager, in which case the command line of PID 1 is used instead (i.e.
           <a href="file:/proc/1/cmdline">/proc/1/cmdline</a>).

           Added in version 244.

       <u>ConditionKernelVersion=</u>
           <u>ConditionKernelVersion=</u> may be used to check whether the kernel version (as reported by <b>uname</b> <b>-r</b>)
           matches a certain expression, or if prefixed with the exclamation mark, does not match. The argument
           must be a list of (potentially quoted) expressions. Each expression starts with one of "=" or "!="
           for string comparisons, "&lt;", "&lt;=", "==", "&lt;&gt;", "&gt;=", "&gt;" for version comparisons, or "$=", "!$=" for
           a shell-style glob match. If no operator is specified, "$=" is implied.

           Note that using the kernel version string is an unreliable way to determine which features are
           supported by a kernel, because of the widespread practice of backporting drivers, features, and fixes
           from newer upstream kernels into older versions provided by distributions. Hence, this check is
           inherently unportable and should not be used for units which may be used on different distributions.

           Added in version 244.

       <u>ConditionCredential=</u>
           <u>ConditionCredential=</u> may be used to check whether a credential by the specified name was passed into
           the service manager. See <b>System</b> <b>and</b> <b>Service</b> <b>Credentials</b>[4] for details about credentials. If used in
           services for the system service manager this may be used to conditionalize services based on system
           credentials passed in. If used in services for the per-user service manager this may be used to
           conditionalize services based on credentials passed into the unit@.service service instance belonging
           to the user. The argument must be a valid credential name.

           Added in version 252.

       <u>ConditionEnvironment=</u>
           <u>ConditionEnvironment=</u> may be used to check whether a specific environment variable is set (or if
           prefixed with the exclamation mark — unset) in the service manager's environment block. The argument
           may be a single word, to check if the variable with this name is defined in the environment block, or
           an assignment ("<u>name</u>=<u>value</u>"), to check if the variable with this exact value is defined. Note that
           the environment block of the service manager itself is checked, i.e. not any variables defined with
           <u>Environment=</u> or <u>EnvironmentFile=</u>, as described above. This is particularly useful when the service
           manager runs inside a containerized environment or as per-user service manager, in order to check for
           variables passed in by the enclosing container manager or PAM.

           Added in version 246.

       <u>ConditionSecurity=</u>
           <u>ConditionSecurity=</u> may be used to check whether the given security technology is enabled on the
           system. Currently, the following values are recognized:

           <b>Table</b> <b>3.</b> <b>Recognized</b> <b>security</b> <b>technologies</b>
           ┌─────────────────┬───────────────────────────────────────┐
           │ <b>Value</b>           │ <b>Description</b>                           │
           ├─────────────────┼───────────────────────────────────────┤
           │ selinux         │ SELinux MAC                           │
           ├─────────────────┼───────────────────────────────────────┤
           │ apparmor        │ AppArmor MAC                          │
           ├─────────────────┼───────────────────────────────────────┤
           │ tomoyo          │ Tomoyo MAC                            │
           ├─────────────────┼───────────────────────────────────────┤
           │ smack           │ SMACK MAC                             │
           ├─────────────────┼───────────────────────────────────────┤
           │ ima             │ Integrity Measurement Architecture    │
           │                 │ (IMA)                                 │
           ├─────────────────┼───────────────────────────────────────┤
           │ audit           │ Linux Audit Framework                 │
           ├─────────────────┼───────────────────────────────────────┤
           │ uefi-secureboot │ UEFI SecureBoot                       │
           ├─────────────────┼───────────────────────────────────────┤
           │ tpm2            │ Trusted Platform Module 2.0 (TPM2)    │
           ├─────────────────┼───────────────────────────────────────┤
           │ cvm             │ Confidential virtual machine          │
           │                 │ (SEV/TDX)                             │
           ├─────────────────┼───────────────────────────────────────┤
           │ measured-uki    │ Unified Kernel Image with PCR 11      │
           │                 │ Measurements, as per <b><a href="../man7/systemd-stub.7.html">systemd-stub</a></b>(7). │
           │                 │ Added in version 255.                 │
           └─────────────────┴───────────────────────────────────────┘

           The test may be negated by prepending an exclamation mark.

           Added in version 244.

       <u>ConditionCapability=</u>
           Check whether the given capability exists in the capability bounding set of the service manager (i.e.
           this does not check whether capability is actually available in the permitted or effective sets, see
           <b><a href="../man7/capabilities.7.html">capabilities</a></b>(7) for details). Pass a capability name such as "CAP_MKNOD", possibly prefixed with an
           exclamation mark to negate the check.

           Added in version 244.

       <u>ConditionACPower=</u>
           Check whether the system has AC power, or is exclusively battery powered at the time of activation of
           the unit. This takes a boolean argument. If set to "true", the condition will hold only if at least
           one AC connector of the system is connected to a power source, or if no AC connectors are known.
           Conversely, if set to "false", the condition will hold only if there is at least one AC connector
           known and all AC connectors are disconnected from a power source.

           Added in version 244.

       <u>ConditionNeedsUpdate=</u>
           Takes one of <a href="file:/var/">/var/</a> or <a href="file:/etc/">/etc/</a> as argument, possibly prefixed with a "!"  (to invert the condition).
           This condition may be used to conditionalize units on whether the specified directory requires an
           update because <a href="file:/usr/">/usr/</a>'s modification time is newer than the stamp file .updated in the specified
           directory. This is useful to implement offline updates of the vendor operating system resources in
           <a href="file:/usr/">/usr/</a> that require updating of <a href="file:/etc/">/etc/</a> or <a href="file:/var/">/var/</a> on the next following boot. Units making use of this
           condition should order themselves before <b><a href="../man8/systemd-update-done.service.8.html">systemd-update-done.service</a></b>(8), to make sure they run before
           the stamp file's modification time gets reset indicating a completed update.

           If the <u>systemd.condition_needs_update=</u> option is specified on the kernel command line (taking a
           boolean), it will override the result of this condition check, taking precedence over any file
           modification time checks. If the kernel command line option is used, systemd-update-done.service will
           not have immediate effect on any following <u>ConditionNeedsUpdate=</u> checks, until the system is rebooted
           where the kernel command line option is not specified anymore.

           Note that to make this scheme effective, the timestamp of <a href="file:/usr/">/usr/</a> should be explicitly updated after
           its contents are modified. The kernel will automatically update modification timestamp on a directory
           only when immediate children of a directory are modified; an modification of nested files will not
           automatically result in mtime of <a href="file:/usr/">/usr/</a> being updated.

           Also note that if the update method includes a call to execute appropriate post-update steps itself,
           it should not touch the timestamp of <a href="file:/usr/.">/usr/.</a> In a typical distribution packaging scheme, packages will
           do any required update steps as part of the installation or upgrade, to make package contents
           immediately usable.  <u>ConditionNeedsUpdate=</u> should be used with other update mechanisms where such an
           immediate update does not happen.

           Added in version 244.

       <u>ConditionFirstBoot=</u>
           Takes a boolean argument. This condition may be used to conditionalize units on whether the system is
           booting up for the first time. This roughly means that <a href="file:/etc/">/etc/</a> was unpopulated when the system started
           booting (for details, see "First Boot Semantics" in <b><a href="../man5/machine-id.5.html">machine-id</a></b>(5)). First Boot is considered finished
           (this condition will evaluate as false) after the manager has finished the startup phase.

           This condition may be used to populate <a href="file:/etc/">/etc/</a> on the first boot after factory reset, or when a new
           system instance boots up for the first time.

           Note that the service manager itself will perform setup steps during First Boot: it will initialize
           <b><a href="../man5/machine-id.5.html">machine-id</a></b>(5) and preset all units, enabling or disabling them according to the <b><a href="../man5/systemd.preset.5.html">systemd.preset</a></b>(5)
           settings. Additional setup may be performed via units with <u>ConditionFirstBoot=yes</u>.

           For robustness, units with <u>ConditionFirstBoot=yes</u> should order themselves before
           first-boot-complete.target and pull in this passive target with <u>Wants=</u>. This ensures that in a case
           of an aborted first boot, these units will be re-run during the next system startup.

           If the <u>systemd.condition_first_boot=</u> option is specified on the kernel command line (taking a
           boolean), it will override the result of this condition check, taking precedence over <a href="file:/etc/machine-id">/etc/machine-id</a>
           existence checks.

           Added in version 244.

       <u>ConditionPathExists=</u>
           Check for the existence of a file. If the specified absolute path name does not exist, the condition
           will fail. If the absolute path name passed to <u>ConditionPathExists=</u> is prefixed with an exclamation
           mark ("!"), the test is negated, and the unit is only started if the path does not exist.

           Added in version 244.

       <u>ConditionPathExistsGlob=</u>
           <u>ConditionPathExistsGlob=</u> is similar to <u>ConditionPathExists=</u>, but checks for the existence of at least
           one file or directory matching the specified globbing pattern.

           Added in version 244.

       <u>ConditionPathIsDirectory=</u>
           <u>ConditionPathIsDirectory=</u> is similar to <u>ConditionPathExists=</u> but verifies that a certain path exists
           and is a directory.

           Added in version 244.

       <u>ConditionPathIsSymbolicLink=</u>
           <u>ConditionPathIsSymbolicLink=</u> is similar to <u>ConditionPathExists=</u> but verifies that a certain path
           exists and is a symbolic link.

           Added in version 244.

       <u>ConditionPathIsMountPoint=</u>
           <u>ConditionPathIsMountPoint=</u> is similar to <u>ConditionPathExists=</u> but verifies that a certain path exists
           and is a mount point.

           Added in version 244.

       <u>ConditionPathIsReadWrite=</u>
           <u>ConditionPathIsReadWrite=</u> is similar to <u>ConditionPathExists=</u> but verifies that the underlying file
           system is readable and writable (i.e. not mounted read-only).

           Added in version 244.

       <u>ConditionPathIsEncrypted=</u>
           <u>ConditionPathIsEncrypted=</u> is similar to <u>ConditionPathExists=</u> but verifies that the underlying file
           system's backing block device is encrypted using dm-crypt/LUKS. Note that this check does not cover
           ext4 per-directory encryption, and only detects block level encryption. Moreover, if the specified
           path resides on a file system on top of a loopback block device, only encryption above the loopback
           device is detected. It is not detected whether the file system backing the loopback block device is
           encrypted.

           Added in version 246.

       <u>ConditionDirectoryNotEmpty=</u>
           <u>ConditionDirectoryNotEmpty=</u> is similar to <u>ConditionPathExists=</u> but verifies that a certain path
           exists and is a non-empty directory.

           Added in version 244.

       <u>ConditionFileNotEmpty=</u>
           <u>ConditionFileNotEmpty=</u> is similar to <u>ConditionPathExists=</u> but verifies that a certain path exists and
           refers to a regular file with a non-zero size.

           Added in version 244.

       <u>ConditionFileIsExecutable=</u>
           <u>ConditionFileIsExecutable=</u> is similar to <u>ConditionPathExists=</u> but verifies that a certain path
           exists, is a regular file, and marked executable.

           Added in version 244.

       <u>ConditionUser=</u>
           <u>ConditionUser=</u> takes a numeric "UID", a UNIX user name, or the special value "@system". This
           condition may be used to check whether the service manager is running as the given user. The special
           value "@system" can be used to check if the user id is within the system user range. This option is
           not useful for system services, as the system manager exclusively runs as the root user, and thus the
           test result is constant.

           Added in version 244.

       <u>ConditionGroup=</u>
           <u>ConditionGroup=</u> is similar to <u>ConditionUser=</u> but verifies that the service manager's real or
           effective group, or any of its auxiliary groups, match the specified group or GID. This setting does
           not support the special value "@system".

           Added in version 244.

       <u>ConditionControlGroupController=</u>
           Check whether given cgroup controllers (e.g.  "cpu") are available for use on the system or whether
           the legacy v1 cgroup or the modern v2 cgroup hierarchy is used.

           Multiple controllers may be passed with a space separating them; in this case, the condition will
           only pass if all listed controllers are available for use. Controllers unknown to systemd are
           ignored. Valid controllers are "cpu", "io", "memory", and "pids". Even if available in the kernel, a
           particular controller may not be available if it was disabled on the kernel command line with
           <u>cgroup_disable=controller</u>.

           Alternatively, two special strings "v1" and "v2" may be specified (without any controller names).
           "v2" will pass if the unified v2 cgroup hierarchy is used, and "v1" will pass if the legacy v1
           hierarchy or the hybrid hierarchy are used. Note that legacy or hybrid hierarchies have been
           deprecated. See <b><a href="../man1/systemd.1.html">systemd</a></b>(1) for more information.

           Added in version 244.

       <u>ConditionMemory=</u>
           Verify that the specified amount of system memory is available to the current system. Takes a memory
           size in bytes as argument, optionally prefixed with a comparison operator "&lt;", "&lt;=", "=" (or "=="),
           "!=" (or "&lt;&gt;"), "&gt;=", "&gt;". On bare-metal systems compares the amount of physical memory in the system
           with the specified size, adhering to the specified comparison operator. In containers compares the
           amount of memory assigned to the container instead.

           Added in version 244.

       <u>ConditionCPUs=</u>
           Verify that the specified number of CPUs is available to the current system. Takes a number of CPUs
           as argument, optionally prefixed with a comparison operator "&lt;", "&lt;=", "=" (or "=="), "!=" (or "&lt;&gt;"),
           "&gt;=", "&gt;". Compares the number of CPUs in the CPU affinity mask configured of the service manager
           itself with the specified number, adhering to the specified comparison operator. On physical systems
           the number of CPUs in the affinity mask of the service manager usually matches the number of physical
           CPUs, but in special and virtual environments might differ. In particular, in containers the affinity
           mask usually matches the number of CPUs assigned to the container and not the physically available
           ones.

           Added in version 244.

       <u>ConditionCPUFeature=</u>
           Verify that a given CPU feature is available via the "CPUID" instruction. This condition only does
           something on i386 and x86-64 processors. On other processors it is assumed that the CPU does not
           support the given feature. It checks the leaves "1", "7", "0x80000001", and "0x80000007". Valid
           values are: "fpu", "vme", "de", "pse", "tsc", "msr", "pae", "mce", "cx8", "apic", "sep", "mtrr",
           "pge", "mca", "cmov", "pat", "pse36", "clflush", "mmx", "fxsr", "sse", "sse2", "ht", "pni", "pclmul",
           "monitor", "ssse3", "fma3", "cx16", "sse4_1", "sse4_2", "movbe", "popcnt", "aes", "xsave", "osxsave",
           "avx", "f16c", "rdrand", "bmi1", "avx2", "bmi2", "rdseed", "adx", "sha_ni", "syscall", "rdtscp",
           "lm", "lahf_lm", "abm", "constant_tsc".

           Added in version 248.

       <u>ConditionOSRelease=</u>
           Verify that a specific "key=value" pair is set in the host's <b><a href="../man5/os-release.5.html">os-release</a></b>(5).

           Other than exact string matching (with "=" and "!="), relative comparisons are supported for
           versioned parameters (e.g.  "VERSION_ID"; with "&lt;", "&lt;=", "==", "&lt;&gt;", "&gt;=", "&gt;"), and shell-style
           wildcard comparisons ("*", "?", "[]") are supported with the "$=" (match) and "!$=" (non-match).

           If the given key is not found in the file, the match is done against an empty value.

           Added in version 249.

       <u>ConditionMemoryPressure=</u>, <u>ConditionCPUPressure=</u>, <u>ConditionIOPressure=</u>
           Verify that the overall system (memory, CPU or IO) pressure is below or equal to a threshold. This
           setting takes a threshold value as argument. It can be specified as a simple percentage value,
           suffixed with "%", in which case the pressure will be measured as an average over the last five
           minutes before the attempt to start the unit is performed. Alternatively, the average timespan can
           also be specified using "/" as a separator, for example: "10%/1min". The supported timespans match
           what the kernel provides, and are limited to "10sec", "1min" and "5min". The "full" PSI will be
           checked first, and if not found "some" will be checked. For more details, see the documentation on
           <b>PSI</b> <b>(Pressure</b> <b>Stall</b> <b>Information)</b>[5].

           Optionally, the threshold value can be prefixed with the slice unit under which the pressure will be
           checked, followed by a ":". If the slice unit is not specified, the overall system pressure will be
           measured, instead of a particular cgroup's.

           Added in version 250.

       <u>AssertArchitecture=</u>, <u>AssertVirtualization=</u>, <u>AssertHost=</u>, <u>AssertKernelCommandLine=</u>, <u>AssertKernelVersion=</u>,
       <u>AssertCredential=</u>, <u>AssertEnvironment=</u>, <u>AssertSecurity=</u>, <u>AssertCapability=</u>, <u>AssertACPower=</u>,
       <u>AssertNeedsUpdate=</u>, <u>AssertFirstBoot=</u>, <u>AssertPathExists=</u>, <u>AssertPathExistsGlob=</u>, <u>AssertPathIsDirectory=</u>,
       <u>AssertPathIsSymbolicLink=</u>, <u>AssertPathIsMountPoint=</u>, <u>AssertPathIsReadWrite=</u>, <u>AssertPathIsEncrypted=</u>,
       <u>AssertDirectoryNotEmpty=</u>, <u>AssertFileNotEmpty=</u>, <u>AssertFileIsExecutable=</u>, <u>AssertUser=</u>, <u>AssertGroup=</u>,
       <u>AssertControlGroupController=</u>, <u>AssertMemory=</u>, <u>AssertCPUs=</u>, <u>AssertCPUFeature=</u>, <u>AssertOSRelease=</u>,
       <u>AssertMemoryPressure=</u>, <u>AssertCPUPressure=</u>, <u>AssertIOPressure=</u>
           Similar to the <u>ConditionArchitecture=</u>, <u>ConditionVirtualization=</u>, ..., condition settings described
           above, these settings add assertion checks to the start-up of the unit. However, unlike the
           conditions settings, any assertion setting that is not met results in failure of the start job (which
           means this is logged loudly). Note that hitting a configured assertion does not cause the unit to
           enter the "failed" state (or in fact result in any state change of the unit), it affects only the job
           queued for it. Use assertion expressions for units that cannot operate when specific requirements are
           not met, and when this is something the administrator or user should look into.

           Added in version 218.

</pre><h4><b>MAPPING</b> <b>OF</b> <b>UNIT</b> <b>PROPERTIES</b> <b>TO</b> <b>THEIR</b> <b>INVERSES</b></h4><pre>
       Unit settings that create a relationship with a second unit usually show up in properties of both units,
       for example in <b>systemctl</b> <b>show</b> output. In some cases the name of the property is the same as the name of
       the configuration setting, but not always. This table lists the properties that are shown on two units
       which are connected through some dependency, and shows which property on "source" unit corresponds to
       which property on the "target" unit.

       <b>Table</b> <b>4.</b>  <b>Forward</b> <b>and</b> <b>reverse</b> <b>unit</b> <b>properties</b>
       ┌───────────────────────┬───────────────────────┬───────────────────────────────────────────────┐
       │ <b>"Forward"</b> <b>property</b>    │ <b>"Reverse"</b> <b>property</b>    │ <b>Where</b> <b>used</b>                                    │
       ├───────────────────────┼───────────────────────┼───────────────────────────────────────────────┤
       │ <u>Before=</u>               │ <u>After=</u>                │                                               │
       ├───────────────────────┼───────────────────────┤ [Unit] section                                │
       │ <u>After=</u>                │ <u>Before=</u>               │                                               │
       ├───────────────────────┼───────────────────────┼───────────────────────┬───────────────────────┤
       │ <u>Requires=</u>             │ <u>RequiredBy=</u>           │ [Unit] section        │ [Install] section     │
       ├───────────────────────┼───────────────────────┼───────────────────────┼───────────────────────┤
       │ <u>Wants=</u>                │ <u>WantedBy=</u>             │ [Unit] section        │ [Install] section     │
       ├───────────────────────┼───────────────────────┼───────────────────────┼───────────────────────┤
       │ <u>Upholds=</u>              │ <u>UpheldBy=</u>             │ [Unit] section        │ [Install] section     │
       ├───────────────────────┼───────────────────────┼───────────────────────┼───────────────────────┤
       │ <u>PartOf=</u>               │ <u>ConsistsOf=</u>           │ [Unit] section        │ an automatic property │
       ├───────────────────────┼───────────────────────┼───────────────────────┼───────────────────────┤
       │ <u>BindsTo=</u>              │ <u>BoundBy=</u>              │ [Unit] section        │ an automatic property │
       ├───────────────────────┼───────────────────────┼───────────────────────┼───────────────────────┤
       │ <u>Requisite=</u>            │ <u>RequisiteOf=</u>          │ [Unit] section        │ an automatic property │
       ├───────────────────────┼───────────────────────┼───────────────────────┼───────────────────────┤
       │ <u>Conflicts=</u>            │ <u>ConflictedBy=</u>         │ [Unit] section        │ an automatic property │
       ├───────────────────────┼───────────────────────┼───────────────────────┴───────────────────────┤
       │ <u>Triggers=</u>             │ <u>TriggeredBy=</u>          │ Automatic properties, see notes below         │
       ├───────────────────────┼───────────────────────┼───────────────────────────────────────────────┤
       │ <u>PropagatesReloadTo=</u>   │ <u>ReloadPropagatedFrom=</u> │                                               │
       ├───────────────────────┼───────────────────────┤ [Unit] section                                │
       │ <u>ReloadPropagatedFrom=</u> │ <u>PropagatesReloadTo=</u>   │                                               │
       ├───────────────────────┼───────────────────────┼───────────────────────────────────────────────┤
       │ <u>PropagatesStopTo=</u>     │ <u>StopPropagatedFrom=</u>   │                                               │
       ├───────────────────────┼───────────────────────┤ [Unit] section                                │
       │ <u>StopPropagatedFrom=</u>   │ <u>PropagatesStopTo=</u>     │                                               │
       ├───────────────────────┼───────────────────────┼───────────────────────┬───────────────────────┤
       │ <u>Following=</u>            │ n/a                   │ An automatic property │                       │
       └───────────────────────┴───────────────────────┴───────────────────────┴───────────────────────┘

       Note: <u>WantedBy=</u>, <u>RequiredBy=</u>, and <u>UpheldBy=</u> are used in the [Install] section to create symlinks in
       .wants/, .requires/, and .upholds/ directories. They cannot be used directly as a unit configuration
       setting.

       Note: <u>ConsistsOf=</u>, <u>BoundBy=</u>, <u>RequisiteOf=</u>, <u>ConflictedBy=</u> are created implicitly along with their reverses
       and cannot be specified directly.

       Note: <u>Triggers=</u> is created implicitly between a socket, path unit, or an automount unit, and the unit
       they activate. By default, a unit with the same name is triggered, but this can be overridden using
       <u>Sockets=</u>, <u>Service=</u>, and <u>Unit=</u> settings. See <b><a href="../man5/systemd.service.5.html">systemd.service</a></b>(5), <b><a href="../man5/systemd.socket.5.html">systemd.socket</a></b>(5), <b><a href="../man5/systemd.path.5.html">systemd.path</a></b>(5), and
       <b><a href="../man5/systemd.automount.5.html">systemd.automount</a></b>(5) for details.  <u>TriggeredBy=</u> is created implicitly on the triggered unit.

       Note: <u>Following=</u> is used to group device aliases and points to the "primary" device unit that systemd is
       using to track device state, usually corresponding to a sysfs path. It does not show up in the "target"
       unit.

</pre><h4><b>[INSTALL]</b> <b>SECTION</b> <b>OPTIONS</b></h4><pre>
       Unit files may include an [Install] section, which carries installation information for the unit. This
       section is not interpreted by <b><a href="../man1/systemd.1.html">systemd</a></b>(1) during runtime; it is used by the <b>enable</b> and <b>disable</b> commands of
       the <b><a href="../man1/systemctl.1.html">systemctl</a></b>(1) tool during installation of a unit.

       <u>Alias=</u>
           A space-separated list of additional names this unit shall be installed under. The names listed here
           must have the same suffix (i.e. type) as the unit filename. This option may be specified more than
           once, in which case all listed names are used. At installation time, <b>systemctl</b> <b>enable</b> will create
           symlinks from these names to the unit filename. Note that not all unit types support such alias
           names, and this setting is not supported for them. Specifically, mount, slice, swap, and automount
           units do not support aliasing.

           Added in version 201.

       <u>WantedBy=</u>, <u>RequiredBy=</u>, <u>UpheldBy=</u>
           This option may be used more than once, or a space-separated list of unit names may be given. A
           symbolic link is created in the .wants/, .requires/, or .upholds/ directory of each of the listed
           units when this unit is installed by <b>systemctl</b> <b>enable</b>. This has the effect of a dependency of type
           <u>Wants=</u>, <u>Requires=</u>, or <u>Upholds=</u> being added from the listed unit to the current unit. See the
           description of the mentioned dependency types in the [Unit] section for details.

           In case of template units listing non template units, the listing unit must have <u>DefaultInstance=</u>
           set, or <b>systemctl</b> <b>enable</b> must be called with an instance name. The instance (default or specified)
           will be added to the .wants/, .requires/, or .upholds/ list of the listed unit. For example,
           <b>WantedBy=getty.target</b> in a service getty@.service will result in <b>systemctl</b> <b>enable</b> <b><a href="mailto:getty@tty2.service">getty@tty2.service</a></b>
           creating a getty.target.wants/<a href="mailto:getty@tty2.service">getty@tty2.service</a> link to getty@.service. This also applies to listing
           specific instances of templated units: this specific instance will gain the dependency. A template
           unit may also list a template unit, in which case a generic dependency will be added where each
           instance of the listing unit will have a dependency on an instance of the listed template with the
           same instance value. For example, <b>WantedBy=container@.target</b> in a service monitor@.service will
           result in <b>systemctl</b> <b>enable</b> <b>monitor@.service</b> creating a container@.target.wants/monitor@.service link
           to monitor@.service, which applies to all instances of container@.target.

           Added in version 201.

       <u>Also=</u>
           Additional units to install/deinstall when this unit is installed/deinstalled. If the user requests
           installation/deinstallation of a unit with this option configured, <b>systemctl</b> <b>enable</b> and <b>systemctl</b>
           <b>disable</b> will automatically install/uninstall units listed in this option as well.

           This option may be used more than once, or a space-separated list of unit names may be given.

           Added in version 201.

       <u>DefaultInstance=</u>
           In template unit files, this specifies for which instance the unit shall be enabled if the template
           is enabled without any explicitly set instance. This option has no effect in non-template unit files.
           The specified string must be usable as instance identifier.

           Added in version 215.

       The following specifiers are interpreted in the Install section: %a, %b, %B, %g, %G, %H, %i, %j, %l, %m,
       %n, %N, %o, %p, %u, %U, %v, %w, %W, %%. For their meaning see the next section.

</pre><h4><b>SPECIFIERS</b></h4><pre>
       Many settings resolve specifiers which may be used to write generic unit files referring to runtime or
       unit parameters that are replaced when the unit files are loaded. Specifiers must be known and resolvable
       for the setting to be valid. The following specifiers are understood:

       <b>Table</b> <b>5.</b> <b>Specifiers</b> <b>available</b> <b>in</b> <b>unit</b> <b>files</b>
       ┌───────────┬──────────────────────────────┬──────────────────────────────┐
       │ <b>Specifier</b> │ <b>Meaning</b>                      │ <b>Details</b>                      │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%a"      │ Architecture                 │ A short string identifying   │
       │           │                              │ the architecture of the      │
       │           │                              │ local system. A string such  │
       │           │                              │ as <b>x86</b>, <b>x86-64</b> or <b>arm64</b>. See │
       │           │                              │ the architectures defined    │
       │           │                              │ for <u>ConditionArchitecture=</u>   │
       │           │                              │ above for a full list.       │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%A"      │ Operating system image       │ The operating system image   │
       │           │ version                      │ version identifier of the    │
       │           │                              │ running system, as read from │
       │           │                              │ the <u>IMAGE_VERSION=</u> field of  │
       │           │                              │ /etc/os-release. If not set, │
       │           │                              │ resolves to an empty string. │
       │           │                              │ See <b><a href="../man5/os-release.5.html">os-release</a></b>(5) for more   │
       │           │                              │ information.                 │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%b"      │ Boot ID                      │ The boot ID of the running   │
       │           │                              │ system, formatted as string. │
       │           │                              │ See <b><a href="../man4/random.4.html">random</a></b>(4) for more       │
       │           │                              │ information.                 │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%B"      │ Operating system build ID    │ The operating system build   │
       │           │                              │ identifier of the running    │
       │           │                              │ system, as read from the     │
       │           │                              │ <u>BUILD_ID=</u> field of           │
       │           │                              │ /etc/os-release. If not set, │
       │           │                              │ resolves to an empty string. │
       │           │                              │ See <b><a href="../man5/os-release.5.html">os-release</a></b>(5) for more   │
       │           │                              │ information.                 │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%C"      │ Cache directory root         │ This is either <a href="file:/var/cache">/var/cache</a>    │
       │           │                              │ (for the system manager) or  │
       │           │                              │ the path "$XDG_CACHE_HOME"   │
       │           │                              │ resolves to (for user        │
       │           │                              │ managers).                   │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%d"      │ Credentials directory        │ This is the value of the     │
       │           │                              │ "$CREDENTIALS_DIRECTORY"     │
       │           │                              │ environment variable if      │
       │           │                              │ available. See section       │
       │           │                              │ "Credentials" in             │
       │           │                              │ <b><a href="../man5/systemd.exec.5.html">systemd.exec</a></b>(5) for more     │
       │           │                              │ information.                 │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%D"      │ Shared data directory        │ This is either <a href="file:/usr/share/">/usr/share/</a>   │
       │           │                              │ (for the system manager) or  │
       │           │                              │ the path "$XDG_DATA_HOME"    │
       │           │                              │ resolves to (for user        │
       │           │                              │ managers).                   │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%E"      │ Configuration directory root │ This is either <a href="file:/etc/">/etc/</a> (for    │
       │           │                              │ the system manager) or the   │
       │           │                              │ path "$XDG_CONFIG_HOME"      │
       │           │                              │ resolves to (for user        │
       │           │                              │ managers).                   │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%f"      │ Unescaped filename           │ This is either the unescaped │
       │           │                              │ instance name (if            │
       │           │                              │ applicable) with / prepended │
       │           │                              │ (if applicable), or the      │
       │           │                              │ unescaped prefix name        │
       │           │                              │ prepended with <a href="file:/.">/.</a> This       │
       │           │                              │ implements unescaping        │
       │           │                              │ according to the rules for   │
       │           │                              │ escaping absolute file       │
       │           │                              │ system paths discussed       │
       │           │                              │ above.                       │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%g"      │ User group                   │ This is the name of the      │
       │           │                              │ group running the service    │
       │           │                              │ manager instance. In case of │
       │           │                              │ the system manager this      │
       │           │                              │ resolves to "root".          │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%G"      │ User GID                     │ This is the numeric GID of   │
       │           │                              │ the user running the service │
       │           │                              │ manager instance. In case of │
       │           │                              │ the system manager this      │
       │           │                              │ resolves to "0".             │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%h"      │ User home directory          │ This is the home directory   │
       │           │                              │ of the <u>user</u> <u>running</u> <u>the</u>      │
       │           │                              │ <u>service</u> <u>manager</u> <u>instance</u>. In │
       │           │                              │ case of the system manager   │
       │           │                              │ this resolves to "<a href="file:/root">/root</a>".    │
       │           │                              │                              │
       │           │                              │ Note that this setting is    │
       │           │                              │ <u>not</u> influenced by the <u>User=</u>  │
       │           │                              │ setting configurable in the  │
       │           │                              │ [Service] section of the     │
       │           │                              │ service unit.                │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%H"      │ Host name                    │ The hostname of the running  │
       │           │                              │ system at the point in time  │
       │           │                              │ the unit configuration is    │
       │           │                              │ loaded.                      │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%i"      │ Instance name                │ For instantiated units this  │
       │           │                              │ is the string between the    │
       │           │                              │ first "@" character and the  │
       │           │                              │ type suffix. Empty for       │
       │           │                              │ non-instantiated units.      │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%I"      │ Unescaped instance name      │ Same as "%i", but with       │
       │           │                              │ escaping undone.             │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%j"      │ Final component of the       │ This is the string between   │
       │           │ prefix                       │ the last "-" and the end of  │
       │           │                              │ the prefix name. If there is │
       │           │                              │ no "-", this is the same as  │
       │           │                              │ "%p".                        │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%J"      │ Unescaped final component of │ Same as "%j", but with       │
       │           │ the prefix                   │ escaping undone.             │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%l"      │ Short host name              │ The hostname of the running  │
       │           │                              │ system at the point in time  │
       │           │                              │ the unit configuration is    │
       │           │                              │ loaded, truncated at the     │
       │           │                              │ first dot to remove any      │
       │           │                              │ domain component.            │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%L"      │ Log directory root           │ This is either <a href="file:/var/log">/var/log</a> (for │
       │           │                              │ the system manager) or the   │
       │           │                              │ path <u>$XDG_STATE_HOME</u>         │
       │           │                              │ resolves to with /log        │
       │           │                              │ appended (for user           │
       │           │                              │ managers).                   │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%m"      │ Machine ID                   │ The machine ID of the        │
       │           │                              │ running system, formatted as │
       │           │                              │ string. See <b><a href="../man5/machine-id.5.html">machine-id</a></b>(5)    │
       │           │                              │ for more information.        │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%M"      │ Operating system image       │ The operating system image   │
       │           │ identifier                   │ identifier of the running    │
       │           │                              │ system, as read from the     │
       │           │                              │ <u>IMAGE_ID=</u> field of           │
       │           │                              │ /etc/os-release. If not set, │
       │           │                              │ resolves to an empty string. │
       │           │                              │ See <b><a href="../man5/os-release.5.html">os-release</a></b>(5) for more   │
       │           │                              │ information.                 │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%n"      │ Full unit name               │                              │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%N"      │ Full unit name               │ Same as "%n", but with the   │
       │           │                              │ type suffix removed.         │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%o"      │ Operating system ID          │ The operating system         │
       │           │                              │ identifier of the running    │
       │           │                              │ system, as read from the <u>ID=</u> │
       │           │                              │ field of /etc/os-release.    │
       │           │                              │ See <b><a href="../man5/os-release.5.html">os-release</a></b>(5) for more   │
       │           │                              │ information.                 │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%p"      │ Prefix name                  │ For instantiated units, this │
       │           │                              │ refers to the string before  │
       │           │                              │ the first "@" character of   │
       │           │                              │ the unit name. For           │
       │           │                              │ non-instantiated units, same │
       │           │                              │ as "%N".                     │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%P"      │ Unescaped prefix name        │ Same as "%p", but with       │
       │           │                              │ escaping undone.             │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%q"      │ Pretty host name             │ The pretty hostname of the   │
       │           │                              │ running system at the point  │
       │           │                              │ in time the unit             │
       │           │                              │ configuration is loaded, as  │
       │           │                              │ read from the                │
       │           │                              │ <u>PRETTY_HOSTNAME=</u> field of    │
       │           │                              │ /etc/machine-info. If not    │
       │           │                              │ set, resolves to the short   │
       │           │                              │ hostname. See <b>machine-</b>       │
       │           │                              │ <b><a href="../man5/info.5.html">info</a></b>(5) for more             │
       │           │                              │ information.                 │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%s"      │ User shell                   │ This is the shell of the     │
       │           │                              │ user running the service     │
       │           │                              │ manager instance.            │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%S"      │ State directory root         │ This is either <a href="file:/var/lib">/var/lib</a> (for │
       │           │                              │ the system manager) or the   │
       │           │                              │ path <u>$XDG_STATE_HOME</u>         │
       │           │                              │ resolves to (for user        │
       │           │                              │ managers).                   │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%t"      │ Runtime directory root       │ This is either <a href="file:/run/">/run/</a> (for    │
       │           │                              │ the system manager) or the   │
       │           │                              │ path "$XDG_RUNTIME_DIR"      │
       │           │                              │ resolves to (for user        │
       │           │                              │ managers).                   │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%T"      │ Directory for temporary      │ This is either <a href="file:/tmp">/tmp</a> or the   │
       │           │ files                        │ path "$TMPDIR", "$TEMP" or   │
       │           │                              │ "$TMP" are set to. (Note     │
       │           │                              │ that the directory may be    │
       │           │                              │ specified without a trailing │
       │           │                              │ slash.)                      │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%u"      │ User name                    │ This is the name of the <u>user</u> │
       │           │                              │ <u>running</u> <u>the</u> <u>service</u> <u>manager</u>  │
       │           │                              │ <u>instance</u>. In case of the     │
       │           │                              │ system manager this resolves │
       │           │                              │ to "root".                   │
       │           │                              │                              │
       │           │                              │ Note that this setting is    │
       │           │                              │ <u>not</u> influenced by the <u>User=</u>  │
       │           │                              │ setting configurable in the  │
       │           │                              │ [Service] section of the     │
       │           │                              │ service unit.                │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%U"      │ User UID                     │ This is the numeric UID of   │
       │           │                              │ the <u>user</u> <u>running</u> <u>the</u> <u>service</u> │
       │           │                              │ <u>manager</u> <u>instance</u>. In case of │
       │           │                              │ the system manager this      │
       │           │                              │ resolves to "0".             │
       │           │                              │                              │
       │           │                              │ Note that this setting is    │
       │           │                              │ <u>not</u> influenced by the <u>User=</u>  │
       │           │                              │ setting configurable in the  │
       │           │                              │ [Service] section of the     │
       │           │                              │ service unit.                │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%v"      │ Kernel release               │ Identical to <b>uname</b> <b>-r</b>        │
       │           │                              │ output.                      │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%V"      │ Directory for larger and     │ This is either <a href="file:/var/tmp">/var/tmp</a> or   │
       │           │ persistent temporary files   │ the path "$TMPDIR", "$TEMP"  │
       │           │                              │ or "$TMP" are set to. (Note  │
       │           │                              │ that the directory may be    │
       │           │                              │ specified without a trailing │
       │           │                              │ slash.)                      │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%w"      │ Operating system version ID  │ The operating system version │
       │           │                              │ identifier of the running    │
       │           │                              │ system, as read from the     │
       │           │                              │ <u>VERSION_ID=</u> field of         │
       │           │                              │ /etc/os-release. If not set, │
       │           │                              │ resolves to an empty string. │
       │           │                              │ See <b><a href="../man5/os-release.5.html">os-release</a></b>(5) for more   │
       │           │                              │ information.                 │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%W"      │ Operating system variant ID  │ The operating system variant │
       │           │                              │ identifier of the running    │
       │           │                              │ system, as read from the     │
       │           │                              │ <u>VARIANT_ID=</u> field of         │
       │           │                              │ /etc/os-release. If not set, │
       │           │                              │ resolves to an empty string. │
       │           │                              │ See <b><a href="../man5/os-release.5.html">os-release</a></b>(5) for more   │
       │           │                              │ information.                 │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%y"      │ The path to the fragment     │ This is the path where the   │
       │           │                              │ main part of the unit file   │
       │           │                              │ is located. For linked unit  │
       │           │                              │ files, the real path outside │
       │           │                              │ of the unit search           │
       │           │                              │ directories is used. For     │
       │           │                              │ units that do not have a     │
       │           │                              │ fragment file, this          │
       │           │                              │ specifier will raise an      │
       │           │                              │ error.                       │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%Y"      │ The directory of the         │ This is the directory part   │
       │           │ fragment                     │ of "%y".                     │
       ├───────────┼──────────────────────────────┼──────────────────────────────┤
       │ "%%"      │ Single percent sign          │ Use "%%" in place of "%" to  │
       │           │                              │ specify a single percent     │
       │           │                              │ sign.                        │
       └───────────┴──────────────────────────────┴──────────────────────────────┘

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>Example</b> <b>1.</b> <b>Allowing</b> <b>units</b> <b>to</b> <b>be</b> <b>enabled</b>

       The following snippet (highlighted) allows a unit (e.g.  foo.service) to be enabled via <b>systemctl</b> <b>enable</b>:

           [Unit]
           Description=Foo

           [Service]
           ExecStart=/usr/sbin/foo-daemon

           <u>[Install]</u>
           <u>WantedBy=multi-user.target</u>

       After running <b>systemctl</b> <b>enable</b>, a symlink /etc/systemd/system/multi-user.target.wants/foo.service linking
       to the actual unit will be created. It tells systemd to pull in the unit when starting multi-user.target.
       The inverse <b>systemctl</b> <b>disable</b> will remove that symlink again.

       <b>Example</b> <b>2.</b> <b>Overriding</b> <b>vendor</b> <b>settings</b>

       There are two methods of overriding vendor settings in unit files: copying the unit file from
       <a href="file:/usr/lib/systemd/system">/usr/lib/systemd/system</a> to <a href="file:/etc/systemd/system">/etc/systemd/system</a> and modifying the chosen settings. Alternatively, one can
       create a directory named <u>unit</u>.d/ within <a href="file:/etc/systemd/system">/etc/systemd/system</a> and place a drop-in file <u>name</u>.conf there that
       only changes the specific settings one is interested in. Note that multiple such drop-in files are read
       if present, processed in lexicographic order of their filename.

       The advantage of the first method is that one easily overrides the complete unit, the vendor unit is not
       parsed at all anymore. It has the disadvantage that improvements to the unit file by the vendor are not
       automatically incorporated on updates.

       The advantage of the second method is that one only overrides the settings one specifically wants, where
       updates to the unit by the vendor automatically apply. This has the disadvantage that some future updates
       by the vendor might be incompatible with the local changes.

       This also applies for user instances of systemd, but with different locations for the unit files. See the
       section on unit load paths for further details.

       Suppose there is a vendor-supplied unit /usr/lib/systemd/system/httpd.service with the following
       contents:

           [Unit]
           Description=Some HTTP server
           After=remote-fs.target sqldb.service
           Requires=sqldb.service
           AssertPathExists=/srv/webserver

           [Service]
           Type=notify
           ExecStart=/usr/sbin/some-fancy-httpd-server
           Nice=5

           [Install]
           WantedBy=multi-user.target

       Now one wants to change some settings as an administrator: firstly, in the local setup, /srv/webserver
       might not exist, because the HTTP server is configured to use /srv/www instead. Secondly, the local
       configuration makes the HTTP server also depend on a memory cache service, memcached.service, that should
       be pulled in (<u>Requires=</u>) and also be ordered appropriately (<u>After=</u>). Thirdly, in order to harden the
       service a bit more, the administrator would like to set the <u>PrivateTmp=</u> setting (see <b><a href="../man5/systemd.exec.5.html">systemd.exec</a></b>(5) for
       details). And lastly, the administrator would like to reset the niceness of the service to its default
       value of 0.

       The first possibility is to copy the unit file to /etc/systemd/system/httpd.service and change the chosen
       settings:

           [Unit]
           Description=Some HTTP server
           After=remote-fs.target sqldb.service <u>memcached.service</u>
           Requires=sqldb.service <u>memcached.service</u>
           AssertPathExists=<u>/srv/www</u>

           [Service]
           Type=notify
           ExecStart=/usr/sbin/some-fancy-httpd-server
           <u>Nice=0</u>
           <u>PrivateTmp=yes</u>

           [Install]
           WantedBy=multi-user.target

       Alternatively, the administrator could create a drop-in file
       /etc/systemd/system/httpd.service.d/local.conf with the following contents:

           [Unit]
           After=memcached.service
           Requires=memcached.service
           # Reset all assertions and then re-add the condition we want
           AssertPathExists=
           AssertPathExists=/srv/www

           [Service]
           Nice=0
           PrivateTmp=yes

       Note that for drop-in files, if one wants to remove entries from a setting that is parsed as a list (and
       is not a dependency), such as <u>AssertPathExists=</u> (or e.g.  <u>ExecStart=</u> in service units), one needs to
       first clear the list before re-adding all entries except the one that is to be removed. Dependencies
       (<u>After=</u>, etc.) cannot be reset to an empty list, so dependencies can only be added in drop-ins. If you
       want to remove dependencies, you have to override the entire unit.

       <b>Example</b> <b>3.</b> <b>Top</b> <b>level</b> <b>drop-ins</b> <b>with</b> <b>template</b> <b>units</b>

       Top level per-type drop-ins can be used to change some aspect of all units of a particular type. For
       example, by creating the /etc/systemd/system/service.d/ directory with a drop-in file, the contents of
       the drop-in file can be applied to all service units. We can take this further by having the top-level
       drop-in instantiate a secondary helper unit. Consider for example the following set of units and drop-in
       files where we install an <u>OnFailure=</u> dependency for all service units.

       /etc/systemd/system/failure-handler@.service:

           [Unit]
           Description=My failure handler for %i

           [Service]
           Type=oneshot
           # Perform some special action for when %i exits unexpectedly.
           ExecStart=/usr/sbin/myfailurehandler %i

       We can then add an instance of failure-handler@.service as an <u>OnFailure=</u> dependency for all service
       units.

       /etc/systemd/system/service.d/10-all.conf:

           [Unit]
           OnFailure=failure-handler@%N.service

       Now, after running <b>systemctl</b> <b>daemon-reload</b> all services will have acquired an <u>OnFailure=</u> dependency on
       failure-handler@%N.service. The template instance units will also have gained the dependency which
       results in the creation of a recursive dependency chain. systemd will try to detect these recursive
       dependency chains where a template unit directly and recursively depends on itself and will remove such
       dependencies automatically if it finds them. If systemd does not detect the recursive dependency chain,
       we can break the chain ourselves by disabling the drop-in for the template instance units via a symlink
       to /dev/null:

           <b>mkdir</b> <b>/etc/systemd/system/failure-handler@.service.d/</b>
           <b>ln</b> <b>-s</b> <b>/dev/null</b> <b>/etc/systemd/system/failure-handler@.service.d/10-all.conf</b>
           <b>systemctl</b> <b>daemon-reload</b>

       This ensures that if a failure-handler@.service instance fails it will not trigger an instance named
       <a href="mailto:failure-handler@failure-handler.service">failure-handler@failure-handler.service</a>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man1/systemctl.1.html">systemctl</a></b>(1), <b><a href="../man5/systemd-system.conf.5.html">systemd-system.conf</a></b>(5), <b><a href="../man7/systemd.special.7.html">systemd.special</a></b>(7), <b><a href="../man5/systemd.service.5.html">systemd.service</a></b>(5),
       <b><a href="../man5/systemd.socket.5.html">systemd.socket</a></b>(5), <b><a href="../man5/systemd.device.5.html">systemd.device</a></b>(5), <b><a href="../man5/systemd.mount.5.html">systemd.mount</a></b>(5), <b><a href="../man5/systemd.automount.5.html">systemd.automount</a></b>(5), <b><a href="../man5/systemd.swap.5.html">systemd.swap</a></b>(5),
       <b><a href="../man5/systemd.target.5.html">systemd.target</a></b>(5), <b><a href="../man5/systemd.path.5.html">systemd.path</a></b>(5), <b><a href="../man5/systemd.timer.5.html">systemd.timer</a></b>(5), <b><a href="../man5/systemd.scope.5.html">systemd.scope</a></b>(5), <b><a href="../man5/systemd.slice.5.html">systemd.slice</a></b>(5),
       <b><a href="../man7/systemd.time.7.html">systemd.time</a></b>(7), <b><a href="../man1/systemd-analyze.1.html">systemd-analyze</a></b>(1), <b><a href="../man7/capabilities.7.html">capabilities</a></b>(7), <b><a href="../man7/systemd.directives.7.html">systemd.directives</a></b>(7), <b><a href="../man1/uname.1.html">uname</a></b>(1)

</pre><h4><b>NOTES</b></h4><pre>
        1. Interface Portability and Stability Promise
           https://systemd.io/PORTABILITY_AND_STABILITY/

        2. 💣💥🧨💥💥💣  Please  note  that  those  configuration  files  must  be  available  at  all times. If
           <a href="file:/usr/local/">/usr/local/</a> is a separate partition, it may not be available during early boot, and must not be  used
           for configuration.

        3. systemd and Storage Daemons for the Root File System
           https://systemd.io/ROOT_STORAGE_DAEMONS

        4. System and Service Credentials
           https://systemd.io/CREDENTIALS

        5. PSI (Pressure Stall Information)
           https://docs.kernel.org/accounting/psi.html

systemd 257.7                                                                                    <u><a href="../man5/SYSTEMD.UNIT.5.html">SYSTEMD.UNIT</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>