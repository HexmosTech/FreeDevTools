<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>org.freedesktop.locale1 - The D-Bus interface of systemd-localed</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/systemd">systemd_257.7-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       org.freedesktop.locale1 - The D-Bus interface of systemd-localed

</pre><h4><b>INTRODUCTION</b></h4><pre>
       <b><a href="../man8/systemd-localed.service.8.html">systemd-localed.service</a></b>(8) is a system service that can be used to control the system locale and keyboard
       mapping from user programs. This page describes the D-Bus interface.

</pre><h4><b>THE</b> <b>D-BUS</b> <b>API</b></h4><pre>
       The service exposes the following interfaces on the bus:

           node /org/freedesktop/locale1 {
             interface org.freedesktop.locale1 {
               methods:
                 SetLocale(in  as locale,
                           in  b interactive);
                 SetVConsoleKeyboard(in  s keymap,
                                     in  s keymap_toggle,
                                     in  b convert,
                                     in  b interactive);
                 SetX11Keyboard(in  s layout,
                                in  s model,
                                in  s variant,
                                in  s options,
                                in  b convert,
                                in  b interactive);
               properties:
                 readonly as Locale = ['...', ...];
                 readonly s X11Layout = '...';
                 readonly s X11Model = '...';
                 readonly s X11Variant = '...';
                 readonly s X11Options = '...';
                 readonly s VConsoleKeymap = '...';
                 readonly s VConsoleKeymapToggle = '...';
             };
             interface org.freedesktop.DBus.Peer { ... };
             interface org.freedesktop.DBus.Introspectable { ... };
             interface org.freedesktop.DBus.Properties { ... };
           };

   <b>Methods</b>
       If you set a new system locale all old system locale settings will be dropped and the new settings will
       be saved to disk. The locale will also be passed to the system manager, and subsequently started daemons
       will inherit the new system locale. Note that already running daemons will not learn about the new value.

       The <b>SetVConsoleKeyboard()</b> method may be used to set the key mapping for the virtual console. Similarly,
       <b>SetX11Keyboard()</b> may be used to set the default key mapping of any X11 servers.

       Note that <b>SetVConsoleKeyboard()</b> instantly applies the new key mapping to the console, while
       <b>SetX11Keyboard()</b> simply sets a default that may be used by later sessions.

       The boolean argument <u>convert</u> may be set to optionally convert the console keyboard configuration to X11
       keyboard mappings and vice versa. If true and <b>SetVConsoleKeyboard()</b> is used, the nearest X11 keyboard
       setting for the chosen console setting is set. If true and <b>SetX11Keyboard()</b> is used, the nearest console
       keyboard setting for the chosen X11 setting is set. Hence, it is usually sufficient to call only one of
       the two functions.

       For graphical UIs that need to set the system keyboard mapping simply invoke <b>SetX11Keyboard()</b>, set
       <u>convert=true</u> and ignore <b>SetVConsoleKeyboard()</b>.

       Use the empty string for the keymap parameters you wish not to set.

       The <u>interactive</u> boolean parameters can be used to control whether <b>polkit</b>[1] should interactively ask the
       user for authentication credentials if required.

   <b>Signals</b>
       Whenever the system locale or keymap is changed via the daemon, <b>PropertyChanged</b> signals are sent out to
       clients which have subscribed.

   <b>Properties</b>
       The system locale is shown in the <u>Locale</u> property. It is an array containing
       environment-variable-assignment-like strings. The following strings are known: <u>LANG=</u>, <u>LC_CTYPE=</u>,
       <u>LC_NUMERIC=</u>, <u>LC_TIME=</u>, <u>LC_COLLATE=</u>, <u>LC_MONETARY=</u>, <u>LC_MESSAGES=</u>, <u>LC_PAPER=</u>, <u>LC_NAME=</u>, <u>LC_ADDRESS=</u>,
       <u>LC_TELEPHONE=</u>, <u>LC_MEASUREMENT=</u>, <u>LC_IDENTIFICATION=</u>.

       The <u>X11Layout</u>, <u>X11Model</u>, <u>X11Variant</u>, and <u>X11Options</u> properties show values configurable with
       <b>SetX11Keyboard()</b> described above (or <b>SetVConsoleKeyboard()</b> with <u>convert=true</u>). The <u>VConsoleKeymap</u> and
       <u>VConsoleKeymapToggle</u> properties show values configurable with <b>SetVConsoleKeyboard()</b> (or <b>SetX11Keyboard()</b>
       with <u>convert=true</u>).

   <b>Security</b>
       Changing the system locale or keymap using this interface is authenticated via polkit. The polkit action
       for <b>SetLocale()</b> is <b>org.freedesktop.locale1.set-locale</b>. The polkit action for <b>SetX11Keyboard()</b> and
       <b>SetVConsoleKeyboard()</b> is <b>org.freedesktop.locale1.set-keyboard</b>.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>Example</b> <b>1.</b> <b>Introspect</b> <b>org.freedesktop.locale1</b> <b>on</b> <b>the</b> <b>bus</b>

           $ gdbus introspect --system \
             --dest org.freedesktop.locale1 \
             --object-path /org/freedesktop/locale1

</pre><h4><b>VERSIONING</b></h4><pre>
       These D-Bus interfaces follow <b>the</b> <b>usual</b> <b>interface</b> <b>versioning</b> <b>guidelines</b>[2].

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man8/systemd-localed.service.8.html">systemd-localed.service</a></b>(8), <b><a href="../man1/localectl.1.html">localectl</a></b>(1)

</pre><h4><b>NOTES</b></h4><pre>
        1. polkit
           https://www.freedesktop.org/software/polkit/docs/latest/

        2. the usual interface versioning guidelines
           https://0pointer.de/blog/projects/versioning-dbus.html

systemd 257.7                                                                         <u><a href="../man5/ORG.FREEDESKTOP.LOCALE1.5.html">ORG.FREEDESKTOP.LOCALE1</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>