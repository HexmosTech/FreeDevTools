<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ovsqlite - SQLite-based overview storage method for INN</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/inn2">inn2_2.7.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ovsqlite - SQLite-based overview storage method for INN

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This method uses SQLite to store overview data.  It requires version 3.8.2 or later of the SQLite library
       (3.20.0+ recommended).

       SQLite source, documentation, etc. are available at &lt;https://www.sqlite.org/&gt;.  Ones of the stated goals
       of the SQLite file format are long-term stability and compatibility, which make that storage method a
       perfect choice to store overview data.

       Only one protocol version of the ovsqlite storage method currently exists, implemented since INN 2.7.0.

       This method comes with a support utility (<b>ovsqlite-util</b>) and a Perl module ("INN::ovsqlite_client") which
       permit accessing and manipulating overview information.  See their manual pages for more details about
       their possibilities.

</pre><h4><b>INSTALLATION</b></h4><pre>
       The configure script will automatically enable ovsqlite support if it finds the SQLite library.  If the
       library isn't installed in a standard location, you may have to specify the <b>--with-sqlite3</b> option to help
       configure find it.  For complicated cases, you can use separate <b>--with-sqlite3-include</b> and
       <b>--with-sqlite3-lib</b> options.  Finally, if you <u>don't</u> want ovsqlite support even when your system has the
       SQLite library, you can use the <b>--without-sqlite3</b> option.

       If you have a recent Linux installation, SQLite is most likely already installed.  You may have to
       install a separate package with a name similar to "libsqlite3-dev" to get the required header files.

       Plan on needing at least 0.93 KB for every article in your spool (not counting crossposts).  So, if you
       have 5 million articles, you'll need at least 4.65 GB of disk space for ovsqlite.  With compression
       enabled, this estimate changes to 0.4 KB per article, so you'll need at least 2 GB of disk space for 5
       million articles.  Plus, you'll need additional space for transaction logs (a few MB).

</pre><h4><b>CONFIGURATION</b></h4><pre>
       To select ovsqlite as your overview method, set the <u>ovmethod</u> parameter in <u>inn.conf</u> to "ovsqlite".  The
       database file will be created in the directory specified by the <u>pathoverview</u> parameter in <u>inn.conf</u>.
       Restart INN to take the change into account (after having rebuilt your existing overview with
       <b>makehistory</b>, if needed).

       These additional parameters are read from the <u>ovsqlite.conf</u> configuration file:

       <u>cachesize</u>
           The  SQLite  in-memory  page  cache  size  in  kilobytes.  The default value is left up to the SQLite
           library and seems to be stable at 2000 KB.

       <u>compress</u>
           If INN was built with zlib support and this  parameter  is  true,  ovsqlite  will  compress  overview
           records  whenever  this  saves space.  This parameter is consulted only when creating a new database.
           Enabling compression saves about 55 % of disk space on standard overview data.  The default value  is
           false.

       <u>pagesize</u>
           The  SQLite  database  page  size  in  bytes.   Must  be  a  power  of 2, minimum 512, maximum 65536.
           Appropriate values include the virtual memory page size and the  filesystem  allocation  block  size.
           This  parameter  is consulted only when creating a new database.  The default value is left up to the
           SQLite library and varies between versions.

       <u>transrowlimit</u>
           The maximum number of article rows that can be inserted or deleted in a single SQL transaction.   The
           default value is 10000 articles.

       <u>transtimelimit</u>
           The maximum SQL transaction lifetime in seconds.  The default value is 10 seconds.

       A  transaction  occurs every <u>transrowlimit</u> articles or <u>transtimelimit</u> seconds, whichever is smaller.  You
       are encouraged to keep the default value for row limits and, instead, adjust the time limit according  to
       how  many  articles  your  news  server  usually accepts per second during normal operation (you can find
       statistics about incoming articles in your daily Usenet reports).  Inserting or deleting a  database  row
       within  a  transaction  is  very  fast  whereas  committing a transaction is slow, especially on rotating
       storage.  Setting transaction limits too low leads to poor performance.  When rebuilding  overview  data,
       it  may  be  worth  temporarily  raising  these  values on systems with slow CPU or rotating storage (for
       instance, multiply by 10 the default values).  Performance won't change much on fast systems.

</pre><h4><b>RUNNING</b></h4><pre>
       All overview database access goes through the <b>ovsqlite-server</b> daemon.  For  ordinary  operation,  <b>rc.news</b>
       will  start  and  stop  it  automatically.   If  you want to touch the overview database while <b>innd</b> isn't
       running, you'll have to start <b>ovsqlite-server</b> manually first.  See <a href="../man8/ovsqlite-server.8.html">ovsqlite-server</a>(8).

</pre><h4><b>HISTORY</b></h4><pre>
       Initial implementation of ovsqlite written by Bo Lindbergh &lt;<a href="mailto:2bfjdsla52kztwejndzdstsxl9athp@gmail.com">2bfjdsla52kztwejndzdstsxl9athp@gmail.com</a>&gt; for
       InterNetNews.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       INN::<a href="../man3pm/ovsqlite_client.3pm.html">ovsqlite_client</a>(3pm), <a href="../man5/inn.conf.5.html">inn.conf</a>(5), <a href="../man8/makehistory.8.html">makehistory</a>(8), <a href="../man8/ovsqlite-server.8.html">ovsqlite-server</a>(8), <a href="../man8/ovsqlite-util.8.html">ovsqlite-util</a>(8), <a href="../man8/rc.news.8.html">rc.news</a>(8).

INN 2.7.3                                          2025-05-19                                        <u><a href="../man5/OVSQLITE.5.html">OVSQLITE</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>