<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>containers-transports - description of supported transports for copying and storing container images</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/golang-github-containers-image">golang-github-containers-image_5.34.2-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       containers-transports - description of supported transports for copying and storing container images

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Tools  which  use  the  containers/image library, including <a href="../man1/skopeo.1.html">skopeo</a>(1), <a href="../man1/buildah.1.html">buildah</a>(1), <a href="../man1/podman.1.html">podman</a>(1), all share a
       common syntax for referring to container images in various locations.  The general form of the syntax  is
       <u>transport</u><b>:</b><u>details</u>, where details are dependent on the specified transport, which are documented below.

       The  semantics  of  the  image  names  ultimately depend on the environment where they are evaluated. For
       example: if evaluated on a remote server, image names might refer to paths on that server; relative paths
       are relative to the current directory of the image consumer.

   <b>containers-storage:[[</b><u><b>storage-specifier</b></u><b>]]{</b><u><b>image-id</b></u><b>|</b><u><b>docker-reference</b></u><b>[@</b><u><b>image-id</b></u><b>]}</b>
       An image located in a local containers storage.  The format of <u>docker-reference</u> is described in detail in
       the <b>docker</b> transport.

       The <u>storage-specifier</u> allows for referencing storage locations on the file  system  and  has  the  format
       <b>[</b>[<u>driver</u><b>@</b>]<u>root</u>[<b>+</b><u>run-root</u>][<b>:</b><u>options</u>]<b>]</b>  where  the  optional  <u>driver</u>  refers  to  the storage driver (e.g.,
       <b>overlay</b> or <b>btrfs</b>) and where <u>root</u> is an absolute path to the storage's root directory.  The optional  <u>run-</u>
       <u>root</u>  can  be  used  to  specify the run directory of the storage where all temporary writable content is
       stored.  The optional <u>options</u> are a comma-separated list of driver-specific  options.   Please  refer  to
       <a href="../man5/containers-storage.conf.5.html">containers-storage.conf</a>(5) for further information on the drivers and supported options.

   <b>dir:</b><u><b>path</b></u>
       An existing local directory <u>path</u> storing the manifest, layer tarballs and signatures as individual files.
       This is a non-standardized format, primarily useful for debugging or noninvasive container inspection.

   <b>docker://</b><u><b>docker-reference</b></u>
       An  image  in  a  registry  implementing  the  "Docker  Registry  HTTP  API  V2".   By  default, uses the
       authorization state in <b>$XDG_RUNTIME_DIR/containers/auth.json</b>, which is set using <a href="../man1/podman-login.1.html">podman-login</a>(1).  If the
       authorization state is not found there, <b>$HOME/.docker/config.json</b> is checked, which is set using  <a href="../man1/dockerlogin.1.html">docker-</a>
       <a href="../man1/dockerlogin.1.html">login</a>(1).   The  <a href="../man5/containers-registries.conf.5.html">containers-registries.conf</a>(5)  further  allows  for  configuring  various  settings of a
       registry.

       Note that a <u>docker-reference</u> has the following format: <u>name</u>[<b>:</b><u>tag</u> | <b>@</b><u>digest</u>].  While the docker  transport
       does  not  support  both  a  tag  and  a digest at the same time some formats like containers-storage do.
       Digests can also be used in an image destination as long as the manifest matches the provided digest.

       The docker transport supports pushing images without a tag or digest to a registry when the image name is
       suffixed with <b>@@unknown-digest@@</b>. The <u>name</u><b>@@unknown-digest@@</b> reference  format  cannot  be  used  with  a
       reference that has a tag or digest.  The digest of images can be explored with <a href="../man1/skopeo-inspect.1.html">skopeo-inspect</a>(1).

       If  <u>name</u>  does  not  contain  a slash, it is treated as <b>docker.io/library/</b><u>name</u>.  Otherwise, the component
       before the first slash is checked if it is recognized as a <u>hostname</u> ⟨i.e., it contains either a `.` or  a
       `:`,  or  the  component  is exactly `localhost`⟩.  If the first component of name is not recognized as a
       <u>hostname</u>[<b>:</b><u>port</u>], <u>name</u> is treated as <b>docker.io/</b><u>name</u>.

   <b>docker-archive:</b><u><b>path</b></u><b>[:</b>{<u><b>docker-reference</b></u>|<b>@</b><u><b>source-index</b></u>}]
       An image is stored in the <a href="../man1/docker-save.1.html">docker-save</a>(1) formatted file.

       Unless a tool explicitly documents  otherwise,  a  write  to  a  <b>docker-archive:</b>  destination  completely
       overwrites <u>path</u>, replacing it with the single provided image.

       The <u>path</u> can refer to a stream, e.g. <b>docker-archive:<a href="file:/dev/stdin">/dev/stdin</a></b>.

       <u>docker-reference</u>  must  not  contain  a  digest.  Alternatively, for reading archives, <b>@</b><u>source-index</u> is a
       zero-based index in archive manifest (to  access  untagged  images).   If  neither  <u>docker-reference</u>  nor
       <b>@</b>_source_index is specified when reading an archive, the archive must contain exactly one image.

   <b>docker-daemon:</b><u><b>docker-reference</b></u><b>|</b><u><b>algo</b></u><b>:</b><u><b>digest</b></u>
       An  image  stored  in  the  docker  daemon's  internal storage.  The image must be specified as a <u>docker-</u>
       <u>reference</u> or in an alternative <u>algo</u><b>:</b><u>digest</u> format when being used as an image  source.   The  <u>algo</u><b>:</b><u>digest</u>
       refers to the image ID reported by <a href="../man1/docker-inspect.1.html">docker-inspect</a>(1).

   <b>oci:</b><u><b>path</b></u><b>[:</b>{<u><b>reference</b></u>|<b>@</b><u><b>source-index</b></u>}]
       An image in a directory structure compliant with the "Open Container Image Layout Specification" at <u>path</u>.

       The  <u>path</u>  value  terminates at the first <b>:</b> character; any further <b>:</b> characters are not separators, but a
       part of <u>reference</u>.  The <u>reference</u>  is  used  to  set,  or  match,  the  <b>org.opencontainers.image.ref.name</b>
       annotation  in  the  top-level index.  If <u>reference</u> is not specified when reading an image, the directory
       must contain exactly one image.  For reading images, @<u>source-index</u> is a zero-based index in manifest  (to
       access untagged images).  If neither reference nor @_source_index is specified when reading an image, the
       path must contain exactly one image.

   <b>oci-archive:</b><u><b>path</b></u><b>[:</b><u><b>reference</b></u>]
       An image in a <a href="../man1/tar.1.html">tar</a>(1) archive with contents compliant with the "Open Container Image Layout Specification"
       at <u>path</u>.

       Unless  a  tool  explicitly  documents  otherwise,  a  write  to  an  <b>oci-archive:</b> destination completely
       overwrites <u>path</u>, replacing it with the single provided image.

       The <u>path</u> value terminates at the first <b>:</b> character; any further <b>:</b> characters are not  separators,  but  a
       part  of  <u>reference</u>.   The  <u>reference</u>  is  used  to  set, or match, the <b>org.opencontainers.image.ref.name</b>
       annotation in the top-level index.  If <u>reference</u> is not specified when reading an  archive,  the  archive
       must contain exactly one image.

   <b>ostree:</b><u><b>docker-reference</b></u><b>[@</b><u><b>/absolute/repo/path</b></u>]
       An image in the local <a href="../man1/ostree.1.html">ostree</a>(1) repository.  <u>/absolute/repo/path</u> defaults to <b>/ostree/repo</b>.

   <b>sif:</b><u><b>path</b></u>
       An image using the Singularity image format at <u>path</u>.

       Only reading images is supported, and not all scripts can be represented in the OCI format.

</pre><h4><b>Examples</b></h4><pre>
       The  following  examples demonstrate how some of the containers transports can be used.  The examples use
       <a href="../man1/skopeo-copy.1.html">skopeo-copy</a>(1) for copying container images.

       <b>Copying</b> <b>an</b> <b>image</b> <b>from</b> <b>one</b> <b>registry</b> <b>to</b> <b>another</b>:

       $ skopeo copy docker://docker.io/library/alpine:latest docker://localhost:5000/alpine:latest

       <b>Copying</b> <b>an</b> <b>image</b> <b>from</b> <b>a</b> <b>running</b> <b>Docker</b> <b>daemon</b> <b>to</b> <b>a</b> <b>directory</b> <b>in</b> <b>the</b> <b>OCI</b> <b>layout</b>:

       $ mkdir alpine-oci
       $ skopeo copy docker-daemon:alpine:latest oci:alpine-oci
       $ tree alpine-oci
       test-oci/
       ├── blobs
       │   └── sha256
       │       ├── 83ef92b73cf4595aa7fe214ec6747228283d585f373d8f6bc08d66bebab531b7
       │       ├── 9a6259e911dcd0a53535a25a9760ad8f2eded3528e0ad5604c4488624795cecc
       │       └── ff8df268d29ccbe81cdf0a173076dcfbbea4bb2b6df1dd26766a73cb7b4ae6f7
       ├── index.json
       └── oci-layout

       2 directories, 5 files

       <b>Copying</b> <b>an</b> <b>image</b> <b>from</b> <b>a</b> <b>registry</b> <b>to</b> <b>the</b> <b>local</b> <b>storage</b>:

       $ skopeo copy docker://docker.io/library/alpine:latest containers-storage:alpine:latest

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/docker-login.1.html">docker-login</a>(1), <a href="../man1/docker-save.1.html">docker-save</a>(1), <a href="../man1/ostree.1.html">ostree</a>(1), <a href="../man1/podman-login.1.html">podman-login</a>(1), <a href="../man1/skopeo-copy.1.html">skopeo-copy</a>(1),  <a href="../man1/skopeo-inspect.1.html">skopeo-inspect</a>(1),  <a href="../man1/tar.1.html">tar</a>(1),
       <a href="../man5/container-registries.conf.5.html">container-registries.conf</a>(5), <a href="../man5/containers-storage.conf.5.html">containers-storage.conf</a>(5)

</pre><h4><b>AUTHORS</b></h4><pre>
       Miloslav   Trmač   <a href="mailto:mitr@redhat.com">mitr@redhat.com</a>   ⟨<a href="mailto:mitr@redhat.com">mailto:mitr@redhat.com</a>⟩   Valentin   Rothberg   <a href="mailto:rothberg@redhat.com">rothberg@redhat.com</a>
       ⟨<a href="mailto:rothberg@redhat.com">mailto:rothberg@redhat.com</a>⟩

Transports                                         Containers                           <u><a href="../man5/CONTAINERS-TRANSPORTS.5.html">CONTAINERS-TRANSPORTS</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>