<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>slapo-dds - Dynamic Directory Services overlay to slapd</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/slapd">slapd_2.6.9+dfsg-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       slapo-dds - Dynamic Directory Services overlay to slapd

</pre><h4><b>SYNOPSIS</b></h4><pre>
       /etc/ldap/slapd.conf

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>dds</b> overlay to <b><a href="../man8/slapd.8.html">slapd</a></b>(8) implements dynamic objects as per RFC 2589.  The name <b>dds</b> stands for Dynamic
       Directory Services.  It allows  one  to  define  dynamic  objects,  characterized  by  the  <b>dynamicObject</b>
       objectClass.

       Dynamic  objects  have  a  limited  lifetime, determined by a time-to-live (TTL) that can be refreshed by
       means of a specific <b>refresh</b> extended operation.  This operation allows one  to  set  the  Client  Refresh
       Period  (CRP),  namely  the period between refreshes that is required to preserve the dynamic object from
       expiration.  The expiration time is computed by adding the requested  TTL  to  the  current  time.   When
       dynamic  objects  reach the end of their lifetime without being further refreshed, they are automatically
       deleted.  There is no guarantee of immediate deletion, so clients should not count on it.

       Dynamic objects can have subordinates, provided these also  are  dynamic  objects.   RFC  2589  does  not
       specify  what  the behavior of a dynamic directory service should be when a dynamic object with (dynamic)
       subordinates expires.  In this implementation, the lifetime  of  dynamic  objects  with  subordinates  is
       prolonged until all the dynamic subordinates expire.

       This <b><a href="../man5/slapd.conf.5.html">slapd.conf</a></b>(5) directive adds the <b>dds</b> overlay to the current database:

       <b>overlay</b> <b>dds</b>

       The  database must have a <b>rootdn</b> specified, otherwise, the <b>dds</b> overlay will not be able to delete expired
       objects. The <b>dds</b> overlay may be used with any backend that implements the <b>add</b>, <b>modify</b>, <b>search</b>, and <b>delete</b>
       operations.  Since its use may result in many internal entry lookups, adds and deletes, it should be best
       used in conjunction with backends that have reasonably good write performances.

       The config directives that are specific to the <b>dds</b> overlay are  prefixed  by  <b>dds-</b>,  to  avoid  potential
       conflicts with directives specific to the underlying database or to other stacked overlays.

       <b>dds-max-ttl</b> <b>&lt;time&gt;</b>
              Specifies  the max TTL value.  This is also the default TTL newly created dynamic objects receive,
              unless <b>dds-default-ttl</b> is set.  When the client with a refresh extended operation requests  a  TTL
              higher  than  it,  sizeLimitExceeded  is  returned.   This value must be between 86400 (1 day, the
              default) and 31557600 (1 year plus 6 hours, as per RFC 2589).

       <b>dds-min-ttl</b> <b>&lt;time&gt;</b>
              Specifies the min TTL value; clients requesting a lower TTL  by  means  of  the  refresh  extended
              operation actually obtain this value as CRP.  If set to 0 (the default), no lower limit is set.

       <b>dds-default-ttl</b> <b>&lt;time&gt;</b>
              Specifies  the  default  TTL  value  that  newly  created  dynamic  objects get.  If set to 0 (the
              default), the <b>dds-max-ttl</b> is used.

       <b>dds-interval</b> <b>&lt;time&gt;</b>
              Specifies the interval between expiration checks; defaults to 1 hour.

       <b>dds-tolerance</b> <b>&lt;time&gt;</b>
              Specifies an extra time that is added to the timer that actually wakes up  the  thread  that  will
              delete  an  expired dynamic object.  So the nominal lifetime of the entry is that specified in the
              <b>entryTtl</b> attribute, but its lifetime will actually be <b>entryTtl</b> <b>+</b> <b>tolerance</b>.  Note that there is no
              guarantee that the lifetime of a dynamic  object  will  be  <u>exactly</u>  the  requested  TTL;  due  to
              implementation  details, it may be longer, which is allowed by RFC 2589.  By default, tolerance is
              0.

       <b>dds-max-dynamicObjects</b> <b>&lt;num&gt;</b>
              Specifies the maximum number of dynamic objects that can  simultaneously  exist  within  a  naming
              context.   This  allows  one  to limit the amount of resources (mostly in terms of run-queue size)
              that are used by dynamic objects.  By default, no limit is set.

       <b>dds-state</b> <b>{TRUE|false}</b>
              Specifies if the Dynamic Directory Services feature is enabled or not.  By default it is; however,
              a proxy does not need to keep track of dynamic  objects  itself,  it  only  needs  to  inform  the
              frontend that support for dynamic objects is available.

</pre><h4><b>ACCESS</b> <b>CONTROL</b></h4><pre>
       The <b>dds</b> overlay restricts the refresh operation by requiring <b>manage</b> access to the <b>entryTtl</b> attribute (see
       <b><a href="../man5/slapd.access.5.html">slapd.access</a></b>(5)  for  details  about the <b>manage</b> access privilege).  Since the <b>entryTtl</b> is an operational,
       NO-USER-MODIFICATION attribute, no direct write access to it is  possible.   So  the  <b>dds</b>  overlay  turns
       refresh  extended operation into an internal modification to the value of the <b>entryTtl</b> attribute with the
       <b>relax</b> control set.

       RFC 2589 recommends that anonymous clients should not be allowed to refresh a dynamic object.   This  can
       be implemented by appropriately crafting access control to obtain the desired effect.

       Example: restrict refresh to authenticated clients

              access to attrs=entryTtl
                   by users manage
                   by * read

       Example: restrict refresh to the creator of the dynamic object

              access to attrs=entryTtl
                   by dnattr=creatorsName manage
                   by * read

       Another  suggested  usage  of  dynamic  objects  is  to implement dynamic meetings; in this case, all the
       participants to the meeting are allowed to refresh the meeting object, but only the creator can delete it
       (otherwise it will be deleted when the TTL expires)

       Example: assuming <u>participant</u> is a valid DN-valued attribute, allow users to start a meeting and to  join
       it; restrict refresh to the participants; restrict delete to the creator

              access to dn.base="cn=Meetings"
                        attrs=children
                   by users write

              access to dn.onelevel="cn=Meetings"
                        attrs=entry
                   by dnattr=creatorsName write
                   by * read

              access to dn.onelevel="cn=Meetings"
                        attrs=participant
                   by dnattr=creatorsName write
                   by users selfwrite
                   by * read

              access to dn.onelevel="cn=Meetings"
                        attrs=entryTtl
                   by dnattr=participant manage
                   by * read

</pre><h4><b>REPLICATION</b></h4><pre>
       This  implementation  of  RFC 2589 provides a restricted interpretation of how dynamic objects replicate.
       Only the provider takes care of handling dynamic  object  expiration,  while  consumers  simply  see  the
       dynamic object as a plain object.

       When  replicating these objects, one needs to explicitly exclude the <b>dynamicObject</b> class and the <b>entryTtl</b>
       attribute.  This implementation of RFC 2589 introduces a new operational attribute, <b>entryExpireTimestamp</b>,
       that contains the expiration timestamp.  This must be excluded from replication as well.

       The quick and dirty solution is to set <b>schemacheck=off</b> in the  syncrepl  configuration  and,  optionally,
       exclude the operational attributes from replication, using

              syncrepl ...
                   exattrs=entryTtl,entryExpireTimestamp

       In any case the overlay must be either statically built in or run-time loaded by the consumer, so that it
       is  aware  of  the  <b>entryExpireTimestamp</b> operational attribute; however, it must not be configured in the
       shadow database.  Currently, there is no means to remove the <b>dynamicObject</b> class from the entry; this may
       be seen as a feature, since it allows one to see the dynamic properties of the object.

</pre><h4><b>FILES</b></h4><pre>
       /etc/ldap/slapd.conf
              default slapd configuration file

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/slapd.conf.5.html">slapd.conf</a></b>(5), <b><a href="../man5/slapd-config.5.html">slapd-config</a></b>(5), <b><a href="../man8/slapd.8.html">slapd</a></b>(8).

</pre><h4><b>AUTHOR</b></h4><pre>
       Implemented by Pierangelo Masarati.

OpenLDAP 2.6.9+dfsg-2ubuntu1                       2024/11/26                                       <u><a href="../man5/SLAPO-DDS.5.html">SLAPO-DDS</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>