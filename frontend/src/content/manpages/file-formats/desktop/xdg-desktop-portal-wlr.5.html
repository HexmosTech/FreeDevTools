<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xdg-desktop-portal-wlr - an xdg-desktop-portal backend for wlroots</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/xdg-desktop-portal-wlr">xdg-desktop-portal-wlr_0.7.1-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       xdg-desktop-portal-wlr - an xdg-desktop-portal backend for wlroots

</pre><h4><b>DESCRIPTION</b></h4><pre>
       xdg-desktop-portal-wlr (or xdpw for short) allows applications to request screenshots and screencasts via
       xdg-desktop-portal in wlroots-based Wayland compositors.

       xdpw will try to load the configuration file from these locations:

       •   $XDG_CONFIG_HOME/xdg-desktop-portal-wlr/$XDG_CURRENT_DESKTOP
       •   $XDG_CONFIG_HOME/xdg-desktop-portal-wlr/config
       •   /etc/xdg/xdg-desktop-portal-wlr/$XDG_CURRENT_DESKTOP
       •   /etc/xdg/xdg-desktop-portal-wlr/config

       <u>$XDG_CONFIG_HOME</u>  defaults to <u><a href="file:~/.config">~/.config</a></u>. <u>$XDG_CURRENT_DESKTOP</u> can be a colon separated list. Each element
       of that list will be tried.

       The configuration files use the INI file format. Example:

           [screencast]
           output_name=HDMI-A-1
           max_fps=30
           exec_before=disable_notifications.sh
           exec_after=enable_notifications.sh
           chooser_type=simple
           chooser_cmd=slurp -f %o -or

</pre><h4><b>SCREENCAST</b> <b>OPTIONS</b></h4><pre>
       These options need to be placed under the [screencast] section.

       output_name = <u>name</u>
           Select which output will be screencast.

           This option is used with chooser_type = none. The list of  available  outputs  can  be  obtained  via
           <a href="../man1/wayland-info.1.html">wayland-info</a>(1) (under the <u>wl_output</u> section).

       max_fps = <u>limit</u>
           Limit the number of frames per second to the provided rate.

           This is useful to reduce CPU usage when capturing frames at the output's refresh rate is unnecessary.

       exec_before = <u>command</u>
           Execute <u>command</u> before starting a screencast. The command will be executed within sh.

       exec_after = <u>command</u>
           Execute <u>command</u> after ending all screencasts. The command will be executed within sh.

       chooser_cmd = <u>command</u>
           Run this command to select an output.

           For more details see OUTPUT CHOOSER.

       chooser_type = <u>type</u>
           Specifies the input send to the chooser.

           The supported types are:
           •   default:  xdpw  will try to use the first chooser found in the list of hardcoded choosers (slurp,
               wofi, bemenu) and will fallback to an arbitrary output if none of those were found.
           •   none: xdpw will allow screencast either on the output  given  by  output_name,  or  if  empty  an
               arbitrary output without further interaction.
           •   simple,  dmenu:  xdpw  will  launch the chooser given by chooser_cmd. For more details see OUTPUT
               CHOOSER.

       force_mod_linear = <u>bool</u>
           Force buffers with implicit modifiers to be linear (experimental)

           Setting this option to 1 will force xdpw to allocate dma-bufs with implicit modifier as linear.  This
           option  shouldn't  be  required  on  single  gpu setups, but can increase compatibility especially on
           setups with multiple gpus.

           This option is experimental and can be removed or replaced in future versions.

   <b>OUTPUT</b> <b>CHOOSER</b>
       The chooser can be any program or script with the following behaviour:
       •   It returns any error code except 127. The error code 127 is internally used to signal that no command
           could be found and all output from it will be ignored.
       •   It returns the name of a valid output on stdout as given by <a href="../man1/wayland-info.1.html">wayland-info</a>(1). Everything else will  be
           handled as declined by the user.
       •   To signal that the user has declined screencast, the chooser should exit without anything on stdout.

       Supported types of choosers via the chooser_type option:
       •   simple: the chooser is just called without anything further on stdin.
       •   dmenu: the chooser receives a newline separated list (dmenu style) of outputs on stdin.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/pipewire.1.html">pipewire</a>(1)

                                                   2025-01-03                          <u><a href="../man5/xdg-desktop-portal-wlr.5.html">xdg-desktop-portal-wlr</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>