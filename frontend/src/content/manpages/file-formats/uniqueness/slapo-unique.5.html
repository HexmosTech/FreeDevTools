<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>slapo-unique - Attribute Uniqueness overlay to slapd</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/slapd">slapd_2.6.9+dfsg-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       slapo-unique - Attribute Uniqueness overlay to slapd

</pre><h4><b>SYNOPSIS</b></h4><pre>
       /etc/ldap/slapd.conf

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  Attribute Uniqueness overlay can be used with a backend database such as <b><a href="../man5/slapd-mdb.5.html">slapd-mdb</a></b>(5) to enforce the
       uniqueness of some or all attributes within a scope. This subtree defaults  to  all  objects  within  the
       subtree of the database for which the Uniqueness overlay is configured.

       Uniqueness  is  enforced  by  searching the subtree to ensure that the values of all attributes presented
       with an <b>add</b>, <b>modify</b> or <b>modrdn</b> operation are unique within the scope.  For  example,  if  uniqueness  were
       enforced for the <b>uid</b> attribute, the subtree would be searched for any other records which also have a <b>uid</b>
       attribute containing the same value. If any are found, the request is rejected.

       The  search  is  performed  using  the  rootdn  of the database, to avoid issues with ACLs preventing the
       overlay from seeing all of the relevant data. As such, the database must have a rootdn configured.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       These <b>slapd.conf</b> options apply to the Attribute Uniqueness overlay.  They should appear after the <b>overlay</b>
       directive.

       <b>unique_uri</b> <b>&lt;[strict</b> <b>][ignore</b> <b>][serialize</b> <b>]URI[[</b> <b>URI...]...]&gt;</b>
              Configure the base, attributes, scope, and filter for uniqueness checking.  Multiple URIs  may  be
              specified within a domain, allowing complex selections of objects.  Multiple <b>unique_uri</b> statements
              or  <b>olcUniqueURI</b> attribute values will create independent domains, each with their own independent
              lists of URIs and ignore/strict settings.

              Keywords <b>strict</b>, <b>ignore</b>, and <b>serialize</b> have to be enclosed in quotes (")  together  with  the  URI
              when using deprecated slapd.conf configurations.

              The LDAP URI syntax is a subset of <b>RFC-4516,</b> and takes the form:

              ldap:///[base dn]?[attributes...]?scope[?filter]

              The  <b>base</b>  <b>dn</b>  defaults  to  that of the back-end database.  Specified base dns must be within the
              subtree of the back-end database.

              If no <b>attributes</b> are specified, the URI applies to all non-operational attributes.

              The <b>scope</b> component is effectively mandatory, because LDAP URIs default to <b>base</b>  scope,  which  is
              not  valid  for  uniqueness,  because  groups of one object are always unique.  Scopes of <b>sub</b> (for
              subtree) and <b>one</b> for one-level are valid.

              The <b>filter</b> component causes the domain to apply uniqueness constraints only to  matching  objects.
              e.g.  <b>ldap:///?cn?sub?(sn=e*)</b> would require unique <b>cn</b> attributes for all objects in the subtree of
              the back-end database whose <b>sn</b> starts with an e.

              It  is  possible  to  assert uniqueness upon all non-operational attributes except those listed by
              prepending the keyword <b>ignore</b> If not configured, all  non-operational  (e.g.,  system)  attributes
              must  be  unique.  Note  that  the  <b>attributes</b>  list of an <b>ignore</b> URI should generally contain the
              <b>objectClass</b>, <b>dc</b>, <b>ou</b> and <b>o</b> attributes, as  these  will  generally  not  be  unique,  nor  are  they
              operational attributes.

              It  is possible to set strict checking for the uniqueness domain by prepending the keyword <b>strict.</b>
              By default, uniqueness is not enforced for null values. Enabling <b>strict</b> mode extends  the  concept
              of  uniqueness  to  include  null  values,  such  that only one attribute within a subtree will be
              allowed to have a null value.  Strictness applies to all URIs within a uniqueness domain, but some
              domains may be strict while others are not.

              It is possible to  enforce  strict  serialization  of  modifications  by  prepending  the  keyword
              <b>serialize.</b>   By default, no serialization is performed, so multiple modifications occurring nearly
              simultaneously may see incomplete uniqueness results.  Using <b>serialize</b> will force individual write
              operations to fully  complete  before  allowing  any  others  to  proceed,  to  ensure  that  each
              operation's uniqueness checks are consistent.

       It  is  not possible to set both URIs and legacy slapo-unique configuration parameters simultaneously. In
       general, the legacy configuration options control pieces of a single unfiltered subtree domain.

       <b>unique_base</b> <b>&lt;basedn&gt;</b>
              This legacy configuration parameter should be converted to the <b>base</b>  <b>dn</b>  component  of  the  above
              <b>unique_uri</b> style of parameter.

       <b>unique_ignore</b> <b>&lt;attribute...&gt;</b>
              This  legacy  configuration  parameter  should  be converted to a <b>unique_uri</b> parameter with <b>ignore</b>
              keyword as described above.

       <b>unique_attributes</b> <b>&lt;attribute...&gt;</b>
              This legacy configuration parameter should be converted to a <b>unique_uri</b>  parameter,  as  described
              above.

       <b>unique_strict</b> <b>&lt;attribute...&gt;</b>
              This  legacy  configuration  parameter  should  be  converted  to  a <b>strict</b> keyword prepended to a
              <b>unique_uri</b> parameter, as described above.

</pre><h4><b>CAVEATS</b></h4><pre>
       <b>unique_uri</b> cannot be used with the old-style of configuration, and vice versa.  <b>unique_uri</b> can  implement
       everything the older system can do, however.

       Typical  attributes  for the <b>ignore</b> <b>ldap:///...</b>  URIs are intentionally not hardcoded into the overlay to
       allow for maximum flexibility in meeting site-specific requirements.

       Replication and operations with the <b>relax</b> control are allowed to bypass this enforcement. It is therefore
       important that all servers accepting writes have this overlay configured in order to maintain  uniqueness
       in a replicated DIT.

</pre><h4><b>FILES</b></h4><pre>
       /etc/ldap/slapd.conf
              default slapd configuration file

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/slapd.conf.5.html">slapd.conf</a></b>(5), <b><a href="../man5/slapd-config.5.html">slapd-config</a></b>(5).

OpenLDAP 2.6.9+dfsg-2ubuntu1                       2024/11/26                                    <u><a href="../man5/SLAPO-UNIQUE.5.html">SLAPO-UNIQUE</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>