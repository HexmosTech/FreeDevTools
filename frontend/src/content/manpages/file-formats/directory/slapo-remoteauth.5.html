<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>slapo-remoteauth - Delegate authentication requests to remote directories, e.g. Active Directory</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/slapd">slapd_2.6.10+dfsg-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       slapo-remoteauth - Delegate authentication requests to remote directories, e.g. Active Directory

</pre><h4><b>SYNOPSIS</b></h4><pre>
       /etc/ldap/slapd.conf

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>remoteauth</b> overlay to <b><a href="../man8/slapd.8.html">slapd</a></b>(8) provides passthrough authentication to remote directory servers, e.g.
       Active Directory, for LDAP simple bind operations. The local LDAP entry referenced in the bind  operation
       is  mapped  to  its  counterpart in the remote directory. An LDAP bind operation is performed against the
       remote directory and results are returned based on those of the remote operation.

       A slapd server configured with the <b>remoteauth</b> overlay handles an  authentication  request  based  on  the
       presence  of <b>userPassword</b> in the local entry. If the <b>userPassword</b> is present, authentication is performed
       locally, otherwise the <b>remoteauth</b> overlay performs the authentication request to  the  configured  remote
       directory server.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       The  following  options  can be applied to the <b>remoteauth</b> overlay within the slapd.conf file. All options
       should follow the <b>overlay</b> <b>remoteauth</b> directive.

       <b>overlay</b> <b>remoteauth</b>
              This directive adds the <b>remoteauth</b> overlay to the current database, see <b><a href="../man5/slapd.conf.5.html">slapd.conf</a></b>(5) for details.

       <b>remoteauth_dn_attribute</b> <b>&lt;dnattr&gt;</b>
              Attribute in the local entry that is used to store the bind DN to a remote directory server.

       <b>remoteauth_mapping</b> <b>&lt;domain&gt;</b> <b>&lt;hostname|LDAP</b> <b>URI|file:///path/to/list_of_hostnames&gt;</b>
              For a non-Windows deployment, a domain can be considered as a collection of one or more  hosts  to
              which  slapd  server  authentcates  against on behalf of authenticating users.  For a given domain
              name, the mapping specifies the target server(s), e.g., Active Directory domain controller(s),  to
              connect  to  via  LDAP.   The second argument can be given either as a hostname, an LDAP URI, or a
              file containing a list of hostnames/URIs, one per line. The hostnames are tried in sequence  until
              the connection succeeds.

              This  option  can be provided more than once to provide mapping information for different domains.
              For example:

                  remoteauth_mapping americas file:///path/to/americas.domain.hosts
                  remoteauth_mapping asiapacific file:///path/to/asiapacific.domain.hosts
                  remoteauth_mapping emea emeadc1.emea.example.com

       <b>remoteauth_domain_attribute</b> <b>&lt;attr&gt;</b>
              Attribute in the local entry that specifies the domain name, any text after "\" or ":" is ignored.

       <b>remoteauth_default_domain</b> <b>&lt;default</b> <b>domain&gt;</b>
              Default domain.

       <b>remoteauth_default_realm</b> <b>&lt;server&gt;</b>
              Fallback server to connect to for domains not specified in <b>remoteauth_mapping</b>.

       <b>remoteauth_retry_count</b> <b>&lt;num&gt;</b>
              Number of connection retries attempted. Default is 3.

       <b>remoteauth_store</b> <b>&lt;on|off&gt;</b>
              Whether to store the password in the local entry on successful bind. Default is off.

       <b>remoteauth_tls</b>      <b>[starttls=yes]</b>      <b>[tls_cert=&lt;file&gt;]</b>      <b>[tls_key=&lt;file&gt;]</b>       <b>[tls_cacert=&lt;file&gt;]</b>
              <b>[tls_cacertdir=&lt;path&gt;]</b>   <b>[tls_reqcert=never|allow|try|demand]</b>  <b>[tls_reqsan=never|allow|try|demand]</b>
              <b>[tls_cipher_suite=&lt;ciphers&gt;]</b> <b>[tls_ecname=&lt;names&gt;]</b> <b>[tls_crlcheck=none|peer|all]</b>
              Remoteauth specific TLS  configuration,  see  <b><a href="../man5/slapd.conf.5.html">slapd.conf</a></b>(5)  for  more  details  on  each  of  the
              parameters and defaults.

       <b>remoteauth_tls_peerkey_hash</b> <b>&lt;hostname&gt;</b> <b>&lt;hashname&gt;:&lt;base64</b> <b>of</b> <b>public</b> <b>key</b> <b>hash&gt;</b>
              Mapping between remote server hostnames and their public key hashes. Only one mapping per hostname
              is  supported  and  if  any pins are specified, all hosts need to be pinned. If set, pinning is in
              effect regardless of whether or not certificate name validation is enabled by <b>tls_reqcert</b>.

</pre><h4><b>EXAMPLE</b></h4><pre>
       A typical example configuration of <b>remoteauth</b> overlay for AD is shown below (as a <b><a href="../man5/slapd.conf.5.html">slapd.conf</a></b>(5) snippet):

          database &lt;database&gt;
          #...

          overlay remoteauth
          remoteauth_dn_attribute seeAlso
          remoteauth_domain_attribute associatedDomain
          remoteauth_default_realm americas.example.com

          remoteauth_mapping americas file:///home/ldap/etc/remoteauth.americas
          remoteauth_mapping emea emeadc1.emea.example.com

          remoteauth_tls starttls=yes tls_reqcert=demand tls_cacert=/home/ldap/etc/example-ca.pem
          remoteauth_tls_peerkey_hash ldap.americas.tld sha256:Bxv3MkLoDm6gt/iDfeGNdNNqa5TTpPDdIwvZM/cIgeo=

       Where seeAlso contains the AD bind DN for the user, associatedDomain contains the Windows  Domain  Id  in
       the form of &lt;NT-domain-name&gt;:&lt;NT-username&gt; in which anything following, including ":", is ignored.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/slapd.conf.5.html">slapd.conf</a></b>(5), <b><a href="../man8/slapd.8.html">slapd</a></b>(8).

</pre><h4><b>Copyrights</b></h4><pre>
       Copyright 2004-2024 The OpenLDAP Foundation.  Portions Copyright 2004-2017 Howard Chu, Symas Corporation.
       Portions  Copyright  2017-2021 Ondřej Kuzník, Symas Corporation.  Portions Copyright 2004 Hewlett-Packard
       Company

OpenLDAP 2.6.10+dfsg-1ubuntu1                      2025/05/22                                <u><a href="../man5/SLAPO-REMOTEAUTH.5.html">SLAPO-REMOTEAUTH</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>