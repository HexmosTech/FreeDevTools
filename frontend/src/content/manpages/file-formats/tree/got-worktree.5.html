<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>got-worktree — Game of Trees work tree format</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/got">got_0.111-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       got-worktree — Game of Trees work tree format

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A  Got  <u>work</u>  <u>tree</u>  stores  a  file  hierarchy  which corresponds to a versioned snapshot stored in a Git
       repository.  The work tree's meta data is stored in the <u>.got</u> directory.  A work tree is created with  <b>got</b>
       <b>checkout</b> and is required to make changes to a Git repository with <u><a href="../man1/got.1.html">got</a></u>(1).

       A work tree stores the path to its Git repository, the name of a reference to the branch which files were
       checked out from, and the ID of a commit on this branch known as the <u>base</u> <u>commit</u>.

       File  meta-data  is  stored  in  a  structured file called the <u>file</u> <u>index</u> which tracks the status of file
       modifications, additions, and deletions, relative to the base commit in the repository.  The  file  index
       contains  a  series  of  records,  and  each  such record contains the following status information for a
       particular file:

       Copy of filesystem meta-data
               Timestamp, file size, and file ownership information from <u><a href="../man2/stat.2.html">stat</a></u>(2).  This is only used  to  detect
               file  modifications  and  is  never  applied  back  to  the filesystem.  File permissions are not
               tracked, except for the executable bit.  When versioned files are checked out into the work tree,
               the current <u><a href="../man2/umask.2.html">umask</a></u>(2) is heeded.

       Blob object ID
               The hash of the blob object which corresponds to the contents of this  file  in  the  repository.
               The hash is stored as binary data.  The size of the hash depends on the hashing algorithm used in
               the repository.

       Commit object ID
               The  hash of the commit object the file was checked out from.  The hash is stored as binary data.
               This data is used to detect past incomplete update operations.  Entries which do  not  match  the
               work  tree's  base  commit  may still need to be updated to match file content stored in the base
               commit.

       Flags   This field contains the length, according to <u><a href="../man3/strlen.3.html">strlen</a></u>(3), of  path  data  which  follows,  and  the
               following flags:

               STAGE   Reflects the added, modified, or deleted staged state of a path staged with <b>got</b> <b>stage</b>.

               NOT_FLUSHED
                       The  entry  was  added  to the file index in memory and does not exist in file index data
                       read from disk.  This happens to files which are added to the work tree while  operations
                       such  as  <b>got</b>  <b>checkout</b>,  <b>got</b>  <b>update</b>,  <b>got</b>  <b>cherrypick</b>, <b>got</b> <b>backout</b>, <b>got</b> <b>rebase</b>, and <b>got</b>
                       <b>histedit</b> are in progress.  This flag is always cleared before the  entry  is  written  to
                       disk.

               NO_BLOB
                       The  entry's  on-disk  file  content  in  the  work  tree  is  not based on a blob in the
                       repository.  The blob object ID of this entry must be considered invalid.   This  happens
                       when  unversioned  files are added with <b>got</b> <b>add</b> and when files are added to the work tree
                       by operations such as <b>got</b> <b>cherrypick</b>, <b>got</b> <b>backout</b>, <b>got</b> <b>rebase</b>, and <b>got</b> <b>histedit</b>.

               NO_COMMIT
                       The entry is not based on a commit in the repository.  The commit object ID of this entry
                       must be considered invalid.  This happens when unversioned files are added with  <b>got</b>  <b>add</b>
                       and  when  files  are  added  to  the work tree by operations such as <b>got</b> <b>cherrypick</b>, <b>got</b>
                       <b>backout</b>, <b>got</b> <b>rebase</b>, and <b>got</b> <b>histedit</b>.

               NO_FILE_ON_DISK
                       The entry has no corresponding on-disk file in the work tree.  This  happens  when  files
                       are removed with <b>got</b> <b>remove</b>.

       Path data
               The  path of the entry, relative to the work tree root.  Path data is of variable length and NUL-
               padded to a multiple of 8 bytes.

       Staged blob object ID
               The hash of a blob object containing file content which has been staged for commit.  The hash  is
               stored  as binary data.  Only present if a file addition or modification has been staged with <b>got</b>
               <b>stage</b>.

       A corrupt or missing file index can be recreated on demand as follows:

             <b>$</b> <b>mv</b> <b>.got/file-index</b> <b>.got/file-index.bad</b>
             <b>$</b> <b>got</b> <b>update</b> <b>#</b> <b>re-create</b> <b>.got/file-index</b>
             <b>$</b> <b>find</b> <b>.</b> <b>-type</b> <b>f</b> <b>-exec</b> <b>touch</b> <b>{}</b> <b>+</b> <b>#</b> <b>update</b> <b>timestamp</b> <b>of</b> <b>all</b> <b>files</b>
             <b>$</b> <b>got</b> <b>update</b> <b>#</b> <b>sync</b> <b>timestamps</b>

       When the file index is modified, it is read into memory in its entirety, modified in place,  and  written
       to  a  temporary  file.   This  temporary file is then moved on top of the old file index with <u><a href="../man2/rename.2.html">rename</a></u>(2).
       This ensures that no other processes see an inconsistent file index which is  in  the  process  of  being
       written.

       Work  tree  meta  data  must only be modified while the work tree's <u>lock</u> file has been exclusively locked
       with <u><a href="../man3/lockf.3.html">lockf</a></u>(3).

       Each work tree has a universal unique identifier.  When a work tree  is  checked  out  or  updated,  this
       identifier  is used to create a reference to the current base commit in the Git repository.  The presence
       of this reference prevents the Git garbage collector and <b>gotadmin</b> <b>cleanup</b> from discarding the base commit
       and any objects it refers to.  When a work tree is no longer needed, its reference can  be  deleted  from
       the Git repository with <b>got</b> <b>ref</b> <b>-d</b>.

</pre><h4><b>FILES</b></h4><pre>
       <u>.got</u>         Meta-data directory where all files listed below reside.
       <u>base-commit</u>  hash digest hex-string representation of the current base commit.
       <u>file-index</u>   File status information.
       <u>format</u>       Work tree format number.
       <u>got.conf</u>     Configuration file for <u><a href="../man1/got.1.html">got</a></u>(1).  See <u><a href="../man5/got.conf.5.html">got.conf</a></u>(5).
       <u>head-ref</u>     Name of the reference to the current branch.
       <u>lock</u>         Lock file to obtain exclusive write access to meta data.
       <u>path-prefix</u>  Path inside repository the work tree was checked out from.
       <u>repository</u>   Path to the repository the work tree was checked out from.
       <u>uuid</u>         A universal unique identifier for the work tree.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/got.1.html">got</a></u>(1), <u><a href="../man2/rename.2.html">rename</a></u>(2), <u><a href="../man2/stat.2.html">stat</a></u>(2), <u><a href="../man2/umask.2.html">umask</a></u>(2), <u><a href="../man3/flock.3.html">flock</a></u>(3), <u><a href="../man5/git-repository.5.html">git-repository</a></u>(5), <u><a href="../man5/got.conf.5.html">got.conf</a></u>(5)

Debian                                             $Mdocdate$                                    <u><a href="../man5/GOT-WORKTREE.5.html">GOT-WORKTREE</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>