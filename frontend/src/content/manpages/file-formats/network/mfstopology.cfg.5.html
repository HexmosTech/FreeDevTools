<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mfstopology.cfg - MooseFS network topology definitions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/moosefs-master">moosefs-master_4.57.5-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mfstopology.cfg - MooseFS network topology definitions

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  file  <b>mfstopology.cfg</b>  assigns  IP  addresses  to  network locations. This file is optional. If your
       network is very small (i.e. has just one switch) or network topology is not  necessary  then  leave  this
       file empty.

</pre><h4><b>SYNTAX</b></h4><pre>
       Syntax is:

       <u>IP_ADDRESSES</u> <u>LOCATION_PATH</u>

       Lines starting with <b>#</b> character are ignored as comments.

       <u>IP_ADDRESS</u> can be specified in several forms:

       <b>*</b>                   all addresses
       <b>n.n.n.n</b>             single IP address
       <b>n.n.n.n/b</b>           IP class specified by network address and bits number
       <b>n.n.n.n/m.m.m.m</b>     IP class specified by network address and mask
       <b>f.f.f.f-t.t.t.t</b>     IP range specified by from-to addresses (inclusive)

       <u>LOCATION_PATH</u> can be specified as a sequence of words separated by vertical bars.

</pre><h4><b>NOTES</b></h4><pre>
       If one IP belongs to more than one definition then the last definition is used.

       Each  set  of ip addresses with a common location path is considered one rack. Rack and/or IP information
       is used by the master if <b>CHUNKS_UNIQUE_MODE</b> in <b>mfsmaster.cfg</b> is set to value greater  than  0  (refer  to
       <b><a href="../man5/mfsmaster.cfg.5.html">mfsmaster.cfg</a></b>(5)  manual  for more information) and in storage classes if the distinguish feature is used
       (refer to <b><a href="../man1/mfsscadmin.1.html">mfsscadmin</a></b>(1) manual for more information).

       Distance between IP numbers is defined as follows: <b>0</b> when IP numbers are the same, <b>1</b> when IP numbers  are
       different,  but  paths  specified  by  these numbers are the same. In case of different paths distance is
       defined as one plus maximum number of elements from both paths after common starting part.

       Distance is used for the following purposes:
       Copies of chunks are sent to the <a href="../manmount/client.mount.html">client</a>(mount) sorted by the distance from this client when  a  chunk  is
       needed  for  I/O  operations.  Notice  that  the  client  may alter that order based on internal settings
       (preferred labels or internal congestion preventing algorithms; for  more  informations  about  preferred
       labels refer to <b><a href="../man8/mfsmount.8.html">mfsmount</a></b>(8) manual).
       In  the  master  the  distance  and  racks  information  is  used  when <b>CREATIONS_RESPECT_TOPOLOGY</b> and/or
       <b>REPLICATIONS_RESPECT_TOPOLOGY</b>  are  set  to  value  greater  than  0.   For  more  information  refer  to
       <b><a href="../man5/mfsmaster.cfg.5.html">mfsmaster.cfg</a></b>(5) manual.

</pre><h4><b>EXAMPLES</b></h4><pre>
       192.168.1.0/24                US|CHICAGO|WTOWER|R1A

       192.168.2.0-192.168.2.255     PL|WARSAW|GROCHOWSKA|R154

       192.168.3.0/255.255.255.0     123

       192.168.1.1                   A|B|C

</pre><h4><b>DISTANCE</b> <b>EXAMPLES</b></h4><pre>
       Distances calculated for two different IP numbers mapped to given location paths:

       d('US','DE') = 2

       d('US','') = 2

       d('US|PHOENIX|AT&amp;T|RACK1','US|PHOENIX|AT&amp;T|RACK2') = 2

       d('US|PHOENIX|AT&amp;T|RACK1','US|PHOENIX|ATM|RACK7') = 3

       d('US|PHOENIX|AT&amp;T|RACK1','US|CHICAGO|AT&amp;T|RACK2') = 4

       d('US|PHOENIX|AT&amp;T|RACK1','US|ATM') = 4

       d('US|PHOENIX|AT&amp;T|RACK1','DE|BERLIN|ATM|RACK175') = 5

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2025 Jakub Kruszona-Zawadzki, Saglabs SA

       This file is part of MooseFS.

       MooseFS  is  free  software;  you can redistribute it and/or modify it under the terms of the GNU General
       Public License as published by the Free Software Foundation, version 2 (only).

       MooseFS is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even  the
       implied  warranty  of  MERCHANTABILITY  or  FITNESS  FOR A PARTICULAR PURPOSE. See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with MooseFS; if  not,  write  to
       the  Free  Software  Foundation,  Inc.,  51 Franklin St, Fifth Floor, Boston, MA 02111-1301, USA or visit
       <a href="http://www.gnu.org/licenses/gpl-2.0.html">http://www.gnu.org/licenses/gpl-2.0.html</a>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/mfsmaster.8.html">mfsmaster</a></b>(8), <b><a href="../man5/mfsmaster.cfg.5.html">mfsmaster.cfg</a></b>(5)

MooseFS 4.57.5-1                                  February 2025                               <u><a href="../man5/mfstopology.cfg.5.html">mfstopology.cfg</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>