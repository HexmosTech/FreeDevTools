<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ovn-ic-nb - OVN_IC_Northbound database schema</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ovn-common">ovn-common_25.03.0-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ovn-ic-nb - OVN_IC_Northbound database schema

       This  database  is  the  interface for cloud management system (CMS), such as OpenStack, to configure OVN
       interconnection settings. The CMS produces almost all of the contents of the database. The <b>ovn-ic</b> program
       monitors the database contents, transforms it, and stores it into the <b>OVN_IC_Southbound</b> database.

       We generally speak of ``the’’ CMS, but one can imagine scenarios in which multiple CMSes manage different
       parts of OVN interconnection.

   <b>External</b> <b>IDs</b>
       Each of the tables in this database contains a special column, named <b>external_ids</b>. This  column  has  the
       same form and purpose each place it appears.

              <b>external_ids</b>: map of string-string pairs
                     Key-value  pairs  for  use  by  the  CMS.  The CMS might use certain pairs, for example, to
                     identify entities in its own configuration that correspond to those in this database.

</pre><h4><b>TABLE</b> <b>SUMMARY</b></h4><pre>
       The following list summarizes the purpose of each of the tables in the <b>OVN_IC_Northbound</b> database.   Each
       table is described in more detail on a later page.

       Table     Purpose
       <b>IC_NB_Global</b>
                 IC Northbound configuration
       <b>Transit_Switch</b>
                 Transit logical switch
       <b>SSL</b>       SSL configuration.
       <b>Connection</b>
                 OVSDB client connections.

</pre><h4><b>IC_NB_Global</b> <b>TABLE</b></h4><pre>
       Northbound configuration for OVN interconnection. This table must have exactly one row.

   <b>Summary:</b>
       <u>Status:</u>
         <b>nb_ic_cfg</b>                   integer
         <b>sb_ic_cfg</b>                   integer
       <u>Common</u> <u>Columns:</u>
         <b>external_ids</b>                map of string-string pairs
       <u>Common</u> <u>options:</u>
         <b>options</b>                     map of string-string pairs
         <b>options</b> <b>:</b> <b>ic_probe_interval</b>
                                     optional string
         <b>options</b> <b>:</b> <b>vxlan_mode</b>        optional string
       <u>Connection</u> <u>Options:</u>
         <b>connections</b>                 set of <b>Connection</b>s
         <b>ssl</b>                         optional <b>SSL</b>

   <b>Details:</b>
     <u>Status:</u>

       These columns allow a client to track the overall configuration state of the system.

       <b>nb_ic_cfg</b>: integer
              Sequence  number  for  client  to  increment.  When  a client modifies the interconnect northbound
              database configuration and wishes to wait for  <b>OVN-ICs</b>  to  handle  this  change  and  update  the
              Interconnect southbound database, it may increment this sequence number.

       <b>sb_ic_cfg</b>: integer
              Sequence  number  that  one <b>OVN-IC</b> sets to the value of <b>nb_ic_cfg</b> after waiting to all the <b>OVN-ICs</b>
              finish applying their changes to interconnect southbound database.

     <u>Common</u> <u>Columns:</u>

       <b>external_ids</b>: map of string-string pairs
              See <b>External</b> <b>IDs</b> at the beginning of this document.

     <u>Common</u> <u>options:</u>

       <b>options</b>: map of string-string pairs
              This column provides general key/value settings. The supported options are described  individually
              below.

       <b>options</b> <b>:</b> <b>ic_probe_interval</b>: optional string
              The  inactivity probe interval of the connection to the OVN IC Northbound and Southbound databases
              from <b>ovn-ic</b>, in milliseconds. If the value is zero, it disables the connection keepalive feature.

              If the value is nonzero, then it will be forced to a value of at least 1000 ms.

       <b>options</b> <b>:</b> <b>vxlan_mode</b>: optional string
              This field allows the client to enable VXLAN as encapsulation protocol for for  cross-AZ  traffic.
              Default value is false.

     <u>Connection</u> <u>Options:</u>

       <b>connections</b>: set of <b>Connection</b>s
              Database  clients  to  which the Open vSwitch database server should connect or on which it should
              listen, along with options for how these connections should  be  configured.  See  the  <b>Connection</b>
              table for more information.

       <b>ssl</b>: optional <b>SSL</b>
              Global SSL/TLS configuration.

</pre><h4><b>Transit_Switch</b> <b>TABLE</b></h4><pre>
       Each  row  represents  one  transit  logical switch for interconnection between different OVN deployments
       (availability zones).

   <b>Summary:</b>
       <u>Naming:</u>
         <b>name</b>                        string (must be unique within table)
       <u>Common</u> <u>Columns:</u>
         <b>other_config</b>                map of string-string pairs
         <b>external_ids</b>                map of string-string pairs

   <b>Details:</b>
     <u>Naming:</u>

       <b>name</b>: string (must be unique within table)
              A name that uniquely identifies the transit logical switch.

     <u>Common</u> <u>Columns:</u>

       <b>other_config</b>: map of string-string pairs

       <b>external_ids</b>: map of string-string pairs
              See <b>External</b> <b>IDs</b> at the beginning of this document.

</pre><h4><b>SSL</b> <b>TABLE</b></h4><pre>
       SSL/TLS configuration for ovn-nb database access.

   <b>Summary:</b>
       <b>private_key</b>                   string
       <b>certificate</b>                   string
       <b>ca_cert</b>                       string
       <b>bootstrap_ca_cert</b>             boolean
       <b>ssl_protocols</b>                 string
       <b>ssl_ciphers</b>                   string
       <b>ssl_ciphersuites</b>              string
       <u>Common</u> <u>Columns:</u>
         <b>external_ids</b>                map of string-string pairs

   <b>Details:</b>
       <b>private_key</b>: string
              Name of a PEM file  containing  the  private  key  used  as  the  switch’s  identity  for  SSL/TLS
              connections to the controller.

       <b>certificate</b>: string
              Name  of a PEM file containing a certificate, signed by the certificate authority (CA) used by the
              controller and manager, that certifies the switch’s private key, identifying a trustworthy switch.

       <b>ca_cert</b>: string
              Name of a PEM file containing the CA certificate used to verify that the switch is connected to  a
              trustworthy controller.

       <b>bootstrap_ca_cert</b>: boolean
              If set to <b>true</b>, then Open vSwitch will attempt to obtain the CA certificate from the controller on
              its  first  SSL/TLS  connection  and  save  it to the named PEM file. If it is successful, it will
              immediately drop the connection and reconnect, and from then on all SSL/TLS  connections  must  be
              authenticated by a certificate signed by the CA certificate thus obtained. <b>This</b> <b>option</b> <b>exposes</b> <b>the</b>
              <b>SSL/TLS</b>  <b>connection</b>  <b>to</b>  <b>a</b>  <b>man-in-the-middle</b>  <b>attack</b> <b>obtaining</b> <b>the</b> <b>initial</b> <b>CA</b> <b>certificate.</b> It may
              still be useful for bootstrapping.

       <b>ssl_protocols</b>: string
              Range or a comma- or  space-delimited  list  of  the  SSL/TLS  protocols  to  enable  for  SSL/TLS
              connections.

              Supported  protocols include <b>TLSv1</b> (deprecated), <b>TLSv1.1</b> (deprecated), <b>TLSv1.2</b> and <b>TLSv1.3</b>. Ranges
              can be provided in a form of two protocol names separated with a dash (<b>TLSv1.1-TLSv1.2</b>), or  as  a
              single  protocol name with a plus sign (<b>TLSv1.2+</b>). The value can be a list of protocols or exactly
              one range. The range is a preferred way of  specifying  protocols  and  the  configuration  always
              behaves  as  if the range between the minimum and the maximum specified version is provided, i.e.,
              if the value is set to <b>TLSv1.1,TLSv1.3</b>, the <b>TLSv1.2</b> will also be enabled as if  it  was  a  range.
              Regardless  of  order, the highest protocol supported by both sides will be chosen when making the
              connection.

              The default when this option is omitted is <b>TLSv1.2+</b>.

       <b>ssl_ciphers</b>: string
              List of ciphers (in OpenSSL cipher string format) to be supported  for  SSL/TLS  connections  with
              TLSv1.2 and earlier. The default when this option is omitted is <b>DEFAULT:@SECLEVEL=2</b>.

       <b>ssl_ciphersuites</b>: string
              List  of  ciphersuites  (in  OpenSSL  ciphersuites  string  format)  to  be  supported for SSL/TLS
              connections with TLSv1.3 and later. Default value from OpenSSL will be used when  this  option  is
              omitted.

     <u>Common</u> <u>Columns:</u>

       The overall purpose of these columns is described under <b>Common</b> <b>Columns</b> at the beginning of this document.

       <b>external_ids</b>: map of string-string pairs
</pre><h4><b>Connection</b> <b>TABLE</b></h4><pre>
       Configuration for a database connection to an Open vSwitch database (OVSDB) client.

       This table primarily configures the Open vSwitch database server (<b>ovsdb-server</b>).

       The  Open  vSwitch database server can initiate and maintain active connections to remote clients. It can
       also listen for database connections.

   <b>Summary:</b>
       <u>Core</u> <u>Features:</u>
         <b>target</b>                      string (must be unique within table)
       <u>Client</u> <u>Failure</u> <u>Detection</u> <u>and</u> <u>Handling:</u>
         <b>max_backoff</b>                 optional integer, at least 1,000
         <b>inactivity_probe</b>            optional integer
       <u>Status:</u>
         <b>is_connected</b>                boolean
         <b>status</b> <b>:</b> <b>last_error</b>         optional string
         <b>status</b> <b>:</b> <b>state</b>              optional string, one of <b>ACTIVE</b>, <b>BACKOFF</b>, <b>CONNECTING</b>, <b>IDLE</b>, or <b>VOID</b>
         <b>status</b> <b>:</b> <b>sec_since_connect</b>  optional string, containing an integer, at least 0
         <b>status</b> <b>:</b> <b>sec_since_disconnect</b>
                                     optional string, containing an integer, at least 0
         <b>status</b> <b>:</b> <b>locks_held</b>         optional string
         <b>status</b> <b>:</b> <b>locks_waiting</b>      optional string
         <b>status</b> <b>:</b> <b>locks_lost</b>         optional string
         <b>status</b> <b>:</b> <b>n_connections</b>      optional string, containing an integer, at least 2
         <b>status</b> <b>:</b> <b>bound_port</b>         optional string, containing an integer
       <u>Common</u> <u>Columns:</u>
         <b>external_ids</b>                map of string-string pairs
         <b>other_config</b>                map of string-string pairs

   <b>Details:</b>
     <u>Core</u> <u>Features:</u>

       <b>target</b>: string (must be unique within table)
              Connection methods for clients.

              The following connection methods are currently supported:

              <b>ssl:</b><u>host</u>[<b>:</b><u>port</u>]
                     The specified SSL/TLS <u>port</u> on the host at the given <u>host</u>, which can either be  a  DNS  name
                     (if  built  with  unbound  library) or an IP address. A valid SSL/TLS configuration must be
                     provided when this form is used, this  configuration  can  be  specified  via  command-line
                     options or the <b>SSL</b> table.

                     If <u>port</u> is not specified, it defaults to 6640.

                     SSL/TLS  support  is  an  optional  feature that is not always built as part of OVN or Open
                     vSwitch.

              <b>tcp:</b><u>host</u>[<b>:</b><u>port</u>]
                     The specified TCP <u>port</u> on the host at the given <u>host</u>, which can either be a  DNS  name  (if
                     built with unbound library) or an IP address. If <u>host</u> is an IPv6 address, wrap it in square
                     brackets, e.g. <b>tcp:[::1]:6640</b>.

                     If <u>port</u> is not specified, it defaults to 6640.

              <b>pssl:</b>[<u>port</u>][<b>:</b><u>host</u>]
                     Listens  for  SSL/TLS connections on the specified TCP <u>port</u>. Specify 0 for <u>port</u> to have the
                     kernel automatically choose an available port. If <u>host</u>, which can either be a DNS name  (if
                     built with unbound library) or an IP address, is specified, then connections are restricted
                     to  the  resolved or specified local IPaddress (either IPv4 or IPv6 address). If <u>host</u> is an
                     IPv6 address, wrap in square brackets, e.g. <b>pssl:6640:[::1]</b>. If <u>host</u> is not specified  then
                     it  listens  only  on  IPv4 (but not IPv6) addresses. A valid SSL/TLS configuration must be
                     provided when this form is used, this can be specified either via command-line  options  or
                     the <b>SSL</b> table.

                     If <u>port</u> is not specified, it defaults to 6640.

                     SSL/TLS  support  is  an  optional  feature that is not always built as part of OVN or Open
                     vSwitch.

              <b>ptcp:</b>[<u>port</u>][<b>:</b><u>host</u>]
                     Listens for connections on the specified TCP <u>port</u>. Specify 0 for <u>port</u> to  have  the  kernel
                     automatically  choose  an available port. If <u>host</u>, which can either be a DNS name (if built
                     with unbound library) or an IP address, is specified, then connections  are  restricted  to
                     the  resolved  or  specified  local IP address (either IPv4 or IPv6 address). If <u>host</u> is an
                     IPv6 address, wrap it in square brackets, e.g. <b>ptcp:6640:[::1]</b>. If <u>host</u>  is  not  specified
                     then it listens only on IPv4 addresses.

                     If <u>port</u> is not specified, it defaults to 6640.

              When  multiple  clients  are configured, the <b>target</b> values must be unique. Duplicate <b>target</b> values
              yield unspecified results.

     <u>Client</u> <u>Failure</u> <u>Detection</u> <u>and</u> <u>Handling:</u>

       <b>max_backoff</b>: optional integer, at least 1,000
              Maximum number of milliseconds to wait between connection  attempts.  Default  is  implementation-
              specific.

       <b>inactivity_probe</b>: optional integer
              Maximum  number  of  milliseconds  of  idle  time  on  connection  to the client before sending an
              inactivity probe message. If Open vSwitch does not communicate with the client for  the  specified
              number  of  seconds,  it  will send a probe. If a response is not received for the same additional
              amount of time, Open vSwitch assumes the connection has been broken  and  attempts  to  reconnect.
              Default is implementation-specific. A value of 0 disables inactivity probes.

     <u>Status:</u>

       Key-value  pair  of  <b>is_connected</b>  is  always updated. Other key-value pairs in the status columns may be
       updated depends on the <b>target</b> type.

       When <b>target</b> specifies a connection method that listens for inbound connections (e.g.  <b>ptcp:</b>  or  <b>punix:</b>),
       both <b>n_connections</b> and <b>is_connected</b> may also be updated while the remaining key-value pairs are omitted.

       On  the  other  hand,  when  <b>target</b> specifies an outbound connection, all key-value pairs may be updated,
       except the above-mentioned two key-value pairs associated  with  inbound  connection  targets.  They  are
       omitted.

       <b>is_connected</b>: boolean
              <b>true</b> if currently connected to this client, <b>false</b> otherwise.

       <b>status</b> <b>:</b> <b>last_error</b>: optional string
              A  human-readable  description  of  the  last  error  on  the  connection  to  the  manager;  i.e.
              <b>strerror(errno)</b>. This key will exist only if an error has occurred.

       <b>status</b> <b>:</b> <b>state</b>: optional string, one of <b>ACTIVE</b>, <b>BACKOFF</b>, <b>CONNECTING</b>, <b>IDLE</b>, or <b>VOID</b>
              The state of the connection to the manager:

              <b>VOID</b>   Connection is disabled.

              <b>BACKOFF</b>
                     Attempting to reconnect at an increasing period.

              <b>CONNECTING</b>
                     Attempting to connect.

              <b>ACTIVE</b> Connected, remote host responsive.

              <b>IDLE</b>   Connection is idle. Waiting for response to keep-alive.

              These values may change in the future. They are provided only for human consumption.

       <b>status</b> <b>:</b> <b>sec_since_connect</b>: optional string, containing an integer, at least 0
              The amount of time since this client last successfully connected to  the  database  (in  seconds).
              Value is empty if client has never successfully been connected.

       <b>status</b> <b>:</b> <b>sec_since_disconnect</b>: optional string, containing an integer, at least 0
              The  amount  of  time since this client last disconnected from the database (in seconds). Value is
              empty if client has never disconnected.

       <b>status</b> <b>:</b> <b>locks_held</b>: optional string
              Space-separated list of the names of OVSDB  locks  that  the  connection  holds.  Omitted  if  the
              connection does not hold any locks.

       <b>status</b> <b>:</b> <b>locks_waiting</b>: optional string
              Space-separated  list  of  the  names  of  OVSDB locks that the connection is currently waiting to
              acquire. Omitted if the connection is not waiting for any locks.

       <b>status</b> <b>:</b> <b>locks_lost</b>: optional string
              Space-separated list of the names of OVSDB locks that the connection has  had  stolen  by  another
              OVSDB client. Omitted if no locks have been stolen from this connection.

       <b>status</b> <b>:</b> <b>n_connections</b>: optional string, containing an integer, at least 2
              When  <b>target</b>  specifies  a  connection  method that listens for inbound connections (e.g. <b>ptcp:</b> or
              <b>pssl:</b>) and more than one connection is  actually  active,  the  value  is  the  number  of  active
              connections. Otherwise, this key-value pair is omitted.

       <b>status</b> <b>:</b> <b>bound_port</b>: optional string, containing an integer
              When  <b>target</b> is <b>ptcp:</b> or <b>pssl:</b>, this is the TCP port on which the OVSDB server is listening. (This
              is particularly useful when <b>target</b> specifies a port of  0,  allowing  the  kernel  to  choose  any
              available port.)

     <u>Common</u> <u>Columns:</u>

       The overall purpose of these columns is described under <b>Common</b> <b>Columns</b> at the beginning of this document.

       <b>external_ids</b>: map of string-string pairs

       <b>other_config</b>: map of string-string pairs

Open vSwitch 25.03.0                             DB Schema 1.2.0                                    <u><a href="../man5/ovn-ic-nb.5.html">ovn-ic-nb</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>