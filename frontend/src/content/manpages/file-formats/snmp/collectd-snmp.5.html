<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>collectd-snmp - Documentation of collectd's "snmp plugin"</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/collectd-core">collectd-core_5.12.0-23ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       collectd-snmp - Documentation of collectd's "snmp plugin"

</pre><h4><b>SYNOPSIS</b></h4><pre>
         LoadPlugin snmp
         # ...
         &lt;Plugin snmp&gt;
           &lt;Data "powerplus_voltge_input"&gt;
             Table false
             Type "voltage"
             TypeInstance "input_line1"
             Scale 0.1
             Values "SNMPv2-SMI::enterprises.6050.5.4.1.1.2.1"
           &lt;/Data&gt;
           &lt;Data "hr_users"&gt;
             Table false
             Type "users"
             Shift -1
             Values "HOST-RESOURCES-MIB::hrSystemNumUsers.0"
           &lt;/Data&gt;
           &lt;Data "std_traffic"&gt;
             Table true
             Type "if_octets"
             TypeInstanceOID "IF-MIB::ifDescr"
             #FilterOID "IF-MIB::ifOperStatus"
             #FilterValues "1", "2"
             Values "IF-MIB::ifInOctets" "IF-MIB::ifOutOctets"
           &lt;/Data&gt;
           &lt;Data "lancom_stations_total"&gt;
               Type "counter"
               PluginInstance "stations_total"
               Table true
               Count true
               Values "SNMPv2-SMI::enterprises.2356.11.1.3.32.1.10" # SNMPv2-SMI::enterprises.lancom-systems.lcos.lcsStatus.lcsStatusWlan.lcsStatusWlanStationTableTable.lcsStatusWlanStationTableEntry.lcsStatusWlanStationTableEntryState
           &lt;/Data&gt;
           &lt;Data "lancom_stations_connected"&gt;
               Type "counter"
               PluginInstance "stations_connected"
               Table true
               Count true
               Values "SNMPv2-SMI::enterprises.2356.11.1.3.32.1.10" # SNMPv2-SMI::enterprises.lancom-systems.lcos.lcsStatus.lcsStatusWlan.lcsStatusWlanStationTableTable.lcsStatusWlanStationTableEntry.lcsStatusWlanStationTableEntryState
               FilterOID "SNMPv2-SMI::enterprises.2356.11.1.3.32.1.10"
               FilterValues "3" # eConnected
           &lt;/Data&gt;

           &lt;Host "some.switch.mydomain.org"&gt;
             Address "192.168.0.2"
             Version 1
             Community "community_string"
             Collect "std_traffic"
             Interval 120
             Timeout 10
             Retries 1
           &lt;/Host&gt;
           &lt;Host "some.server.mydomain.org"&gt;
             Address "192.168.0.42"
             Version 2
             Community "another_string"
             Collect "std_traffic" "hr_users"
           &lt;/Host&gt;
           &lt;Host "secure.router.mydomain.org"&gt;
             Address "192.168.0.7:165"
             Version 3
             SecurityLevel "authPriv"
             Username "cosmo"
             AuthProtocol "SHA"
             AuthPassphrase "setec_astronomy"
             PrivacyProtocol "AES"
             PrivacyPassphrase "too_many_secrets"
             Collect "std_traffic"
           &lt;/Host&gt;
           &lt;Host "some.ups.mydomain.org"&gt;
             Address "tcp:192.168.0.3"
             Version 1
             Community "more_communities"
             Collect "powerplus_voltge_input"
             Interval 300
             Timeout 5
             Retries 5
           &lt;/Host&gt;
         &lt;/Plugin&gt;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The "snmp plugin" queries other hosts using SNMP, the simple network management protocol, and translates
       the value it receives to collectd's internal format and dispatches them. Depending on the write plugins
       you have loaded they may be written to disk or submitted to another instance or whatever you configured.

       Because querying a host via SNMP may produce a timeout the "complex reads" polling method is used. The
       ReadThreads parameter in the main configuration influences the number of parallel polling jobs which can
       be undertaken. If you expect timeouts or some polling to take a long time, you should increase this
       parameter. Note that other plugins also use the same threads.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       Since the aim of the "snmp plugin" is to provide a generic interface to SNMP, its configuration is not
       trivial and may take some time.

       Since the "Net-SNMP" library is used you can use all the environment variables that are interpreted by
       that package. See <b><a href="../man1/snmpcmd.1.html">snmpcmd</a></b>(1) for more details.

       There are two types of blocks that can be contained in the "&lt;Plugin snmp&gt;" block: <b>Data</b> and <b>Host</b>:

   <b>The</b> <b>Data</b> <b>block</b>
       The <b>Data</b> block defines a list of values or a table of values that are to be queried. The following
       options can be set:

       <b>Type</b> <u>type</u>
           collectd's  type  that  is  to be used, e. g. "if_octets" for interface traffic or "users" for a user
           count. The types are read from the <b>TypesDB</b> (see <b><a href="../man5/collectd.conf.5.html">collectd.conf</a></b>(5)), so you may want to check for which
           types are defined. See <b><a href="../man5/types.db.5.html">types.db</a></b>(5) for a description of the format of this file.

       <b>Table</b> <u>true|false</u>
           Define if this is a single list of values or a table of values. The difference is the following:

           When <b>Table</b> is set to <b>false</b>, the OIDs given to <b>Values</b> (see below) are queried  using  the  "GET"  SNMP
           command  (see  <b><a href="../man1/snmpget.1.html">snmpget</a></b>(1)) and transmitted to collectd. <b>One</b> value list is dispatched and, eventually,
           one file will be written.

           When <b>Table</b> is set to <b>true</b>, the OIDs given to <b>Values</b>, <b>TypeInstanceOID</b>, <b>PluginInstanceOID</b>, <b>HostOID</b>  and
           <b>FilterOID</b>  (see  below) are queried using the "GETNEXT" SNMP command until the subtree is left. After
           all the lists (think: all columns of the table) have been read, either (<b>Count</b> set to  <b>false</b>)  <b>several</b>
           value  sets will be dispatched and, eventually, several files will be written, or (<b>Count</b> set to <b>true</b>)
           one single value will be dispatched. If you configure a <b>Type</b> (see above) which needs  more  than  one
           data  source  (for  example "if_octets" which needs "rx" and "tx") you will need to specify more than
           one (two, in the example case) OIDs with the <b>Values</b> option and can't use the <b>Count</b> option.  This  has
           nothing to do with the <b>Table</b> setting.

           For   example,   if   you   want   to   query   the  number  of  users  on  a  system,  you  can  use
           "HOST-RESOURCES-MIB::hrSystemNumUsers.0". This is one value and belongs to one value list,  therefore
           <b>Table</b>  must  be set to <b>false</b>. Please note that, in this case, you have to include the sequence number
           (zero in this case) in the OID.

           Counter example: If you want to query the interface table provided by the "IF-MIB", e. g.  the  bytes
           transmitted.  There  are  potentially many interfaces, so you will want to set <b>Table</b> to <b>true</b>. Because
           the "if_octets" type needs two values, received and transmitted bytes, you need to specify  two  OIDs
           in  the  <b>Values</b> setting, in this case likely "IF-MIB::ifHCInOctets" and "IF-MIB::ifHCOutOctets". But,
           this is because of the <b>Type</b> setting, not the <b>Table</b> setting.

           Since the semantic of <b>Instance</b> and <b>Values</b> depends on this setting you need to set it  before  setting
           them. Doing vice versa will result in undefined behavior.

       <b>Plugin</b> <u>Plugin</u>
           Use <u>Plugin</u> as the plugin name of the values that are dispatched.  Defaults to "snmp".

       <b>PluginInstance</b> <u>Instance</u>
           Sets the plugin-instance of the values that are dispatched to <u>Instance</u> value.

           When <b>Table</b> is set to <u>true</u> and <b>PluginInstanceOID</b> is set then this option has no effect.

           Defaults to an empty string.

       <b>TypeInstance</b> <u>Instance</u>
           Sets the type-instance of the values that are dispatched to <u>Instance</u> value.

           When <b>Table</b> is set to <u>true</u> and <b>TypeInstanceOID</b> is set then this option has no effect.

           Defaults to an empty string.

       <b>TypeInstanceOID</b> <u>OID</u>
       <b>PluginInstanceOID</b> <u>OID</u>
       <b>HostOID</b> <u>OID</u>
           If  <b>Table</b>  is  set  to  <u>true</u>, <u>OID</u> is interpreted as an SNMP-prefix that will return a list of values.
           Those values are then used as  the  actual  type-instance,  plugin-instance  or  host  of  dispatched
           metrics.  An  example would be the "IF-MIB::ifDescr" subtree. <b><a href="../man5/variables.5.html">variables</a></b>(5) from the SNMP distribution
           describes the format of OIDs. When option is set to empty string, then "SUBID" will be  used  as  the
           value.

           Prefix  may  be  set  for values with use of appropriate <b>TypeInstancePrefix</b>, <b>PluginInstancePrefix</b> and
           <b>HostPrefix</b> options.

           When <b>Table</b> is set to <u>false</u> or <b>Count</b> is set to <u>true</u>, these options have no effect.

           Defaults: When no one of these options is configured explicitly, <b>TypeInstanceOID</b> defaults to an empty
           string.

       <b>TypeInstancePrefix</b>
       <b>PluginInstancePrefix</b>
       <b>HostPrefix</b>
           These options are intented to be used together with <b>TypeInstanceOID</b>,  <b>PluginInstanceOID</b>  and  <b>HostOID</b>
           respectively.

           If set, <u>String</u> is preprended to values received by querying the agent.

           When <b>Table</b> is set to <u>false</u> or <b>Count</b> is set to <u>true</u>, these options have no effect.

           The  "UPS-MIB"  is an example where you need this setting: It has voltages of the inlets, outlets and
           the battery of an UPS. However, it doesn't provide a descriptive column for these voltages.  In  this
           case  having 1, 2, ... as instances is not enough, because the inlet voltages and outlet voltages may
           both have the subids 1, 2, ... You  can  use  this  setting  to  distinguish  between  the  different
           voltages.

       <b>Instance</b> <u>Instance</u>
           Attention:  this  option  exists  for  backwards compatibility only and will be removed in next major
           release. Please use <b>TypeInstance</b> / <b>TypeInstanceOID</b> instead.

           The meaning of this setting depends on whether <b>Table</b> is set to <u>true</u> or <u>false</u>.

           If <b>Table</b> is set to <u>true</u>, option behaves as <b>TypeInstanceOID</b>.  If <b>Table</b> is set to <u>false</u>, option behaves
           as <b>TypeInstance</b>.

           Note what <b>Table</b> option must be set before setting <b>Instance</b>.

       <b>InstancePrefix</b> <u>String</u>
           Attention: this option exists for backwards compatibility only and will  be  removed  in  next  major
           release. Please use <b>TypeInstancePrefix</b> instead.

       <b>Values</b> <u>OID</u> [<u>OID</u> ...]
           Configures  the  values to be queried from the SNMP host. The meaning slightly changes with the <b>Table</b>
           setting. <b><a href="../man5/variables.5.html">variables</a></b>(5) from the SNMP distribution describes the format of OIDs.

           If <b>Table</b> is set  to  <u>true</u>,  each  <u>OID</u>  must  be  the  prefix  of  all  the  values  to  query,  e. g.
           "IF-MIB::ifInOctets"  for  all  the  counters  of  incoming  traffic.  This  subtree is walked (using
           "GETNEXT") until a value from outside the subtree is returned.

           If <b>Table</b> is set to <u>false</u>, each <u>OID</u> must be the OID of exactly one value, e. g. "IF-MIB::ifInOctets.3"
           for the third counter of incoming traffic.

       <b>Count</b> <u>true|false</u>
           Instead of dispatching one or multiple values per Table entry containing  the  <u>OID</u>(s)  given  in  the
           <b>Values</b>  option,  just  dispatch  a  single  count  giving  the number of entries that would have been
           dispatched. This is especially useful when combined with the filtering options (see below)  to  count
           the number of entries in a Table matching certain criteria.

           When <b>Table</b> is set to <u>false</u>, this option has no effect.

       <b>Scale</b> <u>Value</u>
           The  gauge-values returned by the SNMP-agent are multiplied by <u>Value</u>.  This is useful when values are
           transferred as a fixed point real number. For example, thermometers may  transfer  <b>243</b>  but  actually
           mean  <b>24.3</b>, so you can specify a scale value of <b>0.1</b> to correct this. The default value is, of course,
           <b>1.0</b>.

           This value is not applied to counter-values.

       <b>Shift</b> <u>Value</u>
           <u>Value</u> is added to gauge-values returned by the SNMP-agent after they  have  been  multiplied  by  any
           <b>Scale</b>  value.  If,  for  example,  a  thermometer returns degrees Kelvin you could specify a shift of
           <b>273.15</b> here to store values in degrees Celsius. The default value is, of course, <b>0.0</b>.

           This value is not applied to counter-values.

       <b>Ignore</b> <u>Value</u> [, <u>Value</u> ...]
           The ignore values allows one to ignore TypeInstances based on their name and the  patterns  specified
           by the various values you've entered. The match is a glob-type shell matching.

           When <b>Table</b> is set to <u>false</u> then this option has no effect.

       <b>InvertMatch</b> <u>true|false(default)</u>
           The invertmatch value should be use in combination of the Ignore option.  It changes the behaviour of
           the  Ignore  option, from a blacklist behaviour when InvertMatch is set to false, to a whitelist when
           specified to true.

       <b>FilterOID</b> <u>OID</u>
       <b>FilterValues</b> <u>Value</u> [, <u>Value</u> ...]
       <b>FilterIgnoreSelected</b> <u>true|false(default)</u>
           When <b>Table</b> is set to <u>true</u>, these options allow to configure filtering based on MIB values.

           The <b>FilterOID</b> declares <u>OID</u> to fill table column with values.  The <b>FilterValues</b> declares  values  list
           to  do  match.  Whether  table  row  will be collected or ignored depends on the <b>FilterIgnoreSelected</b>
           setting.  As with other plugins that use the daemon's ignorelist functionality, a string that  starts
           and ends with a slash is interpreted as a regular expression.

           If no selection is configured at all, <b>all</b> table rows are selected.

           When <b>Table</b> is set to <u>false</u> then these options has no effect.

           See <b>Table</b> and <u>/"IGNORELISTS"</u> for details.

   <b>The</b> <b>Host</b> <b>block</b>
       The  <b>Host</b>  block  defines  which hosts to query, which SNMP community and version to use and which of the
       defined <b>Data</b> to query.

       The argument passed to the <b>Host</b> block is used as the hostname in the data stored by collectd.

       <b>Address</b> <u>IP-Address</u>|<u>Hostname</u>
           Set the address to connect to. Address may include transport specifier and/or port number.

       <b>Version</b> <b>1</b>|<b>2</b>|<b>3</b>
           Set the SNMP version to use. When giving <b>2</b> version "2c" is actually used.

       <b>Community</b> <u>Community</u>
           Pass <u>Community</u> to the host. (Ignored for SNMPv3).

       <b>Username</b> <u>Username</u>
           Sets the <u>Username</u> to use for SNMPv3 security.

       <b>SecurityLevel</b> <u>authPriv</u>|<u>authNoPriv</u>|<u>noAuthNoPriv</u>
           Selects the security level for SNMPv3 security.

       <b>Context</b> <u>Context</u>
           Sets the <u>Context</u> for SNMPv3 security.

       <b>AuthProtocol</b> <u>MD5</u>|<u>SHA</u>
           Selects the authentication protocol for SNMPv3 security.

       <b>AuthPassphrase</b> <u>Passphrase</u>
           Sets the authentication passphrase for SNMPv3 security.

       <b>PrivacyProtocol</b> <u>AES</u>|<u>DES</u>
           Selects the privacy (encryption) protocol for SNMPv3 security.

       <b>PrivacyPassphrase</b> <u>Passphrase</u>
           Sets the privacy (encryption) passphrase for SNMPv3 security.

       <b>Collect</b> <u>Data</u> [<u>Data</u> ...]
           Defines which values to collect. <u>Data</u> refers to one of the <b>Data</b> block above. Since the config file is
           read top-down you need to define the data before using it here.

       <b>Interval</b> <u>Seconds</u>
           Collect data from this host every <u>Seconds</u> seconds. This option is meant for devices with not much CPU
           power, e. g. network equipment such as switches, embedded devices, rack monitoring systems and so on.
           Since the <b>Step</b> of generated RRD files depends on this setting it's wise to select a reasonable  value
           once and never change it.

       <b>Timeout</b> <u>Seconds</u>
           How long to wait for a response. The "Net-SNMP" library default is 1 second.

       <b>Retries</b> <u>Integer</u>
           The number of times that a query should be retried after the Timeout expires.  The "Net-SNMP" library
           default is 5.

       <b>BulkSize</b> <u>Integer</u>
           Configures  the  size  of  SNMP  bulk  transfers.  The  default  is  0, which disables bulk transfers
           altogether.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/collectd.1.html">collectd</a></b>(1), <b><a href="../man5/collectd.conf.5.html">collectd.conf</a></b>(5), <b><a href="../man1/snmpget.1.html">snmpget</a></b>(1), <b><a href="../man1/snmpgetnext.1.html">snmpgetnext</a></b>(1), <b><a href="../man5/variables.5.html">variables</a></b>(5), <b><a href="../man7/unix.7.html">unix</a></b>(7)

</pre><h4><b>AUTHORS</b></h4><pre>
       Florian Forster &lt;<a href="mailto:octo@collectd.org">octo@collectd.org</a>&gt; Michael Pilat &lt;<a href="mailto:mike@mikepilat.com">mike@mikepilat.com</a>&gt;

5.12.0.git                                         2025-06-02                                   <u><a href="../man5/COLLECTD-SNMP.5.html">COLLECTD-SNMP</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>