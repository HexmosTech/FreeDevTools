<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dracut.conf - configuration file(s) for dracut</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dracut-core">dracut-core_107-1ubuntu5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dracut.conf - configuration file(s) for dracut

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>/etc/dracut.conf</u> <u>/etc/dracut.conf.d/*.conf</u> <u>/usr/lib/dracut/dracut.conf.d/*.conf</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>dracut.conf</u> is loaded during the initialization phase of dracut.

       <u>*.conf</u> files are read from /usr/lib/dracut/dracut.conf.d and /etc/dracut.conf.d. Files with the same name
       in /etc/dracut.conf.d will replace files in /usr/lib/dracut/dracut.conf.d.

       The files are then read in alphanumerical order and will override parameters set in <u>/etc/dracut.conf</u>.
       Each line specifies an attribute and a value. A <u>#</u> indicates the beginning of a comment; the following
       characters, up to the end of the line, are not interpreted.

       dracut command line options will override any values set here.

       Configuration files must have the extension .conf; other extensions are ignored.

</pre><h4><b>CONFIGURATION</b> <b>OPTIONS</b></h4><pre>
       <b>add_dracutmodules+=</b>" <u>&lt;dracut</u> <u>modules&gt;</u> "
           Add a space-separated list of dracut modules to call when building the initramfs. Modules are located
           in <u><a href="file:/usr/lib/dracut/modules.d">/usr/lib/dracut/modules.d</a></u>.

       <b>force_add_dracutmodules+=</b>" <u>&lt;dracut</u> <u>modules&gt;</u> "
           Force to add a space-separated list of dracut modules to the default set of modules, when host-only
           mode is specified. This parameter can be specified multiple times.

       <b>omit_dracutmodules+=</b>" <u>&lt;dracut</u> <u>modules&gt;</u> "
           Omit a space-separated list of dracut modules to call when building the initramfs. Modules are
           located in <u><a href="file:/usr/lib/dracut/modules.d">/usr/lib/dracut/modules.d</a></u>.

               <b>Warning</b>
               Avoid manually omitting dracut modules, as you may inadvertently remove essential ones that
               dracut can’t detect or warn you about. Using this option is not recommended and is at your own
               risk.

       <b>dracutmodules+=</b>" <u>&lt;dracut</u> <u>modules&gt;</u> "
           Specify a space-separated list of dracut modules to call when building the initramfs. Modules are
           located in <u><a href="file:/usr/lib/dracut/modules.d">/usr/lib/dracut/modules.d</a></u>. This option forces dracut to only include the specified dracut
           modules. In most cases the "add_dracutmodules" option is what you want to use. This option is not
           recommended to use (use at your own risk).

       <b>add_drivers+=</b>" <u>&lt;kernel</u> <u>modules&gt;</u> "
           Specify a space-separated list of kernel modules to add to the initramfs. The kernel modules have to
           be specified without the ".ko" suffix.

       <b>force_drivers+=</b>" <u>&lt;list</u> <u>of</u> <u>kernel</u> <u>modules&gt;</u> "
           See add_drivers above. But in this case it is ensured that the drivers are tried to be loaded early
           via modprobe.

       <b>omit_drivers+=</b>" <u>&lt;kernel</u> <u>modules&gt;</u> "
           Specify a space-separated list of kernel modules not to add to the initramfs. The kernel modules have
           to be specified without the ".ko" suffix.

       <b>drivers+=</b>" <u>&lt;kernel</u> <u>modules&gt;</u> "
           Specify a space-separated list of kernel modules to exclusively include in the initramfs. The kernel
           modules have to be specified without the ".ko" suffix. This option forces dracut to only include the
           specified kernel modules. In most cases the "--add-drivers" option is what you want to use. This
           option is not recommended to use (use at your own risk).

       <b>filesystems+=</b>" <u>&lt;filesystem</u> <u>names&gt;</u> "
           Specify a space-separated list of kernel filesystem modules to exclusively include in the generic
           initramfs.

       <b>drivers_dir=</b>"<u>&lt;kernel</u> <u>modules</u> <u>directory&gt;</u>"
           Specify the directory where to look for kernel modules.

       <b>fw_dir+=</b>" :<u>&lt;dir&gt;</u>[:<u>&lt;dir&gt;</u> ...] "
           Specify additional colon-separated list of directories where to look for firmware files.

       <b>libdirs+=</b>" <u>&lt;dir&gt;</u>[ <u>&lt;dir&gt;</u> ...] "
           Specify a space-separated list of directories where to look for libraries.

       <b>install_items+=</b>" <u>&lt;file&gt;</u>[ <u>&lt;file&gt;</u> ...] "
           Specify additional files to include in the initramfs, separated by spaces.

       <b>install_optional_items+=</b>" <u>&lt;file&gt;</u>[ <u>&lt;file&gt;</u> ...] "
           Specify additional files to include in the initramfs, separated by spaces, if they exist.

       <b>compress=</b>"<u>{cat|bzip2|lzma|xz|gzip|lzop|lz4|zstd|&lt;compressor</u> <u>[args</u> <u>...]&gt;}</u>"
           Compress the generated initramfs using the passed compression program.

           If you pass it just the name of a compression program, it will call that program with known-working
           arguments.

           If you pass arguments, it will be called with exactly those arguments.

           Depending on what you pass, this may result in an initramfs that the kernel cannot decompress.

           To disable compression, use "cat".

       <b>squash_compress=</b>"<u>{&lt;compressor</u> <u>[args</u> <u>...]&gt;}</u>"
           Compress the squashfs image using the passed compressor and compressor specific options for
           mksquashfs. You can refer to mksquashfs manual for supported compressors and compressor specific
           options.

           If squash module is not called when building the initramfs, this option will not take effect.

       <b>do_strip=</b>"<u>{yes|no}</u>"
           Strip binaries in the initramfs (default=yes).

       <b>aggressive_strip=</b>"<u>{yes|no}</u>"
           Strip more than just debug symbol and sections, for a smaller initramfs build. The "do_strip=yes"
           option must also be specified (default=no).

       <b>do_hardlink=</b>"<u>{yes|no}</u>"
           Hardlink files in the initramfs (default=yes).

       <b>prefix=</b>" <u>&lt;directory&gt;</u> "
           Prefix initramfs files with <u>&lt;directory&gt;</u>.

       <b>hostonly=</b>"<u>{yes|no}</u>"
           Host-only mode: Install only what is needed for booting the local host instead of a generic host and
           generate host-specific configuration (default=no).

       <b>hostonly_mode=</b>"<u>{sloppy|strict}</u>"
           Specify the host-only mode to use (default=sloppy).

           In "sloppy" host-only mode, extra drivers and modules will be installed, so minor hardware change
           won’t make the image unbootable (e.g. changed keyboard), and the image is still portable among
           similar hosts.

           With "strict" mode enabled, anything not necessary for booting the local host in its current state
           will not be included, and modules may make additional efforts to save more space. Minor changes in
           hardware or environment can make the image unbootable.

       <b>hostonly_cmdline=</b>"<u>{yes|no}</u>"
           If set to "yes", store the kernel command line arguments needed in the initramfs. If <b>hostonly="yes"</b>
           and this option is not configured, it’s automatically set to "yes".

       <b>hostonly_nics+=</b>" [<u>&lt;nic&gt;</u>[ <u>&lt;nic&gt;</u> ...]] "
           Only enable listed NICs in the initramfs. The list can be empty, so other modules can install only
           the necessary network drivers.

       <b>persistent_policy=</b>"<u>&lt;policy&gt;</u>"
           Use <u>&lt;policy&gt;</u> to address disks and partitions.  <u>&lt;policy&gt;</u> can be any directory name found in <a href="file:/dev/disk">/dev/disk</a>
           (e.g. "by-uuid", "by-label"), or "mapper" to use <a href="file:/dev/mapper">/dev/mapper</a> device names (default=mapper).

       <b>tmpdir=</b>"<u>&lt;temporary</u> <u>directory&gt;</u>"
           Specify temporary directory to use.

               <b>Warning</b>
               If chrooted to another root other than the real root device, use --fstab and provide a valid
               <u><a href="file:/etc/fstab">/etc/fstab</a></u>.

       <b>use_fstab=</b>"<u>{yes|no}</u>"
           Use <u><a href="file:/etc/fstab">/etc/fstab</a></u> instead of <u><a href="file:/proc/self/mountinfo">/proc/self/mountinfo</a></u> (default=no).

       <b>add_fstab+=</b>" <u>&lt;filename&gt;</u> "
           Add entries of <u>&lt;filename&gt;</u> to the initramfs /etc/fstab.

       <b>add_device+=</b>" <u>&lt;device&gt;</u> "
           Bring up <u>&lt;device&gt;</u> in initramfs, <u>&lt;device&gt;</u> should be the device name. This can be useful in host-only
           mode for resume support when your swap is on LVM an encrypted partition.

       <b>mdadmconf=</b>"<u>{yes|no}</u>"
           Include local <u>/etc/mdadm.conf</u> (default=no).

       <b>lvmconf=</b>"<u>{yes|no}</u>"
           Include local <u><a href="file:/etc/lvm/lvm.conf">/etc/lvm/lvm.conf</a></u> (default=no).

       <b>fscks=</b>" <u>&lt;fsck</u> <u>tools&gt;</u> "
           Add a space-separated list of fsck tools.

           If nothing is specified, the default is umount mount <a href="file:/sbin/fsck">/sbin/fsck</a>* xfs_db xfs_check xfs_repair e2fsck
           jfs_fsck btrfsck.

           The installation is opportunistic (non-existing tools are ignored).

       <b>nofscks=</b>"<u>{yes|no}</u>"
           If specified, inhibit installation of any fsck tools (default=no).

       <b>ro_mnt=</b>"<u>{yes|no}</u>"
           Mount <u>/</u> and <u><a href="file:/usr">/usr</a></u> read-only by default (default=no).

       <b>kernel_cmdline=</b>"<u>parameters</u>"
           Specify default kernel command line parameters. Despite its name, this command only sets initrd
           parameters.

       <b>kernel_only=</b>"<u>{yes|no}</u>"
           Only install kernel drivers and firmware files (default=no).

       <b>no_kernel=</b>"<u>{yes|no}</u>"
           Do not install kernel drivers and firmware files (default=no).

       <b>acpi_override=</b>"<u>{yes|no}</u>"

               <b>Caution</b>
               Only use this if you know what you are doing!
           Override BIOS provided ACPI tables. For further documentation read
           <b>Documentation/acpi/initrd_table_override.txt</b>[1] in the kernel sources. Search for ACPI table files
           (must have .aml suffix) in acpi_table_dir= directory (see below) and add them to a separate
           uncompressed cpio archive.

           This cpio archive gets glued (concatenated, uncompressed one must be the first one) to the compressed
           cpio archive. The first, uncompressed cpio archive is for data which the kernel must be able to
           access very early (and cannot make use of uncompress algorithms yet) like microcode or ACPI tables

           (default=no).

       <b>acpi_table_dir=</b>"<u>&lt;dir&gt;</u>"
           Directory to search for ACPI tables if acpi_override= is set to yes.

       <b>early_microcode=</b>"{yes|no}"
           Combine early microcode with ramdisk (default=yes).

       <b>stdloglvl</b>="<u>{0-6}</u>"
           Specify logging level for standard error (default=4).

           <b>Table</b> <b>1.</b> <b>Logging</b> <b>Levels</b>
           ┌───┬─────────────────────────────────┐
           │ 0 │ suppress any messages           │
           ├───┼─────────────────────────────────┤
           │ 1 │ only fatal errors               │
           ├───┼─────────────────────────────────┤
           │ 2 │ all errors                      │
           ├───┼─────────────────────────────────┤
           │ 3 │ warnings                        │
           ├───┼─────────────────────────────────┤
           │ 4 │ info                            │
           ├───┼─────────────────────────────────┤
           │ 5 │ debug info (here starts lots of │
           │   │ output)                         │
           ├───┼─────────────────────────────────┤
           │ 6 │ trace info (and even more)      │
           └───┴─────────────────────────────────┘

       <b>sysloglvl</b>="<u>{0-6}</u>"
           Specify logging level for syslog (default=0).

       <b>fileloglvl=</b>"<u>{0-6}</u>"
           Specify logging level for logfile (default=4).

       <b>logfile=</b>"<u>&lt;file&gt;</u>"
           Path to logfile.

       <b>sshkey=</b>"<u>&lt;file&gt;</u>"
           SSH key file used with ssh-client module.

       <b>show_modules=</b>"<u>{yes|no}</u>"
           Print the name of the included modules to standard output during build (default=no).

       <b>i18n_vars=</b>"<u>&lt;variable</u> <u>mapping&gt;</u>"
           Distribution specific variable mapping. See dracut/modules.d/10i18n/README for a detailed
           description.

       <b>i18n_default_font=</b>"<u>&lt;fontname&gt;</u>"
           The font &lt;fontname&gt; to install, if not specified otherwise. Default is "eurlatgr".

       <b>i18n_install_all=</b>"<u>{yes|no}</u>"
           Install everything regardless of generic or host-only mode (default=no).

       <b>reproducible=</b>"<u>{yes|no}</u>"
           Create reproducible images (default=no).

       <b>noimageifnotneeded=</b>"<u>{yes|no}</u>"
           Do not create an image in host-only mode, if no kernel driver is needed and no /etc/cmdline/*.conf
           will be generated into the initramfs (default=no).

       <b>loginstall=</b>"<u>&lt;directory&gt;</u>"
           Log all files installed from the host to <u>&lt;directory&gt;</u>.

       <b>uefi=</b>"<u>{yes|no}</u>"
           Instead of creating an initramfs image, dracut will create an UEFI executable, which can be executed
           by an UEFI BIOS (default=no).

           The default output filename is <u>&lt;EFI&gt;/EFI/Linux/linux-$kernel$-&lt;MACHINE_ID&gt;-&lt;BUILD_ID&gt;.efi</u>. &lt;EFI&gt;
           might be <u>/efi</u>, <u><a href="file:/boot">/boot</a></u> or <u><a href="file:/boot/efi">/boot/efi</a></u> depending on where the ESP partition is mounted. The &lt;BUILD_ID&gt; is
           taken from BUILD_ID in <u><a href="file:/usr/lib/os-release">/usr/lib/os-release</a></u> or if it exists <u><a href="file:/etc/os-release">/etc/os-release</a></u> and is left out, if
           BUILD_ID is non-existent or empty.

       <b>machine_id=</b>"<u>{yes|no}</u>"
           Affects the default output filename of the UEFI executable, including the &lt;MACHINE_ID&gt; part
           (default=yes).

       <b>uefi_stub=</b>"<u>&lt;file&gt;</u>"
           Specifies the UEFI stub loader, which will load the attached kernel, initramfs and kernel command
           line and boots the kernel. The default is
           <u>/lib/systemd/boot/efi/linux&lt;EFI-MACHINE-TYPE-NAME&gt;.efi.stub</u>.

       <b>uefi_splash_image=</b>"<u>&lt;file&gt;</u>"
           Specifies the UEFI stub loader’s splash image. Requires bitmap (<b>.bmp</b>) image format.

       <b>uefi_secureboot_cert=</b>"<u>&lt;file&gt;</u>", <b>uefi_secureboot_key=</b>"<u>&lt;file&gt;</u>"
           Specifies a certificate and corresponding key, which are used to sign the created UEFI executable.
           Requires both certificate and key need to be specified and <u>sbsign</u> to be installed.

       <b>uefi_secureboot_engine=</b>"<u>parameter</u>"
           Specifies an engine to use when signing the created UEFI executable. E.g. "pkcs11"

       <b>kernel_image=</b>"<u>&lt;file&gt;</u>"
           Specifies the kernel image, which to include in the UEFI executable. The default is
           <u><a href="file:/lib/modules/">/lib/modules/</a>&lt;KERNEL-VERSION&gt;/vmlinuz</u> or <u>/boot/vmlinuz-&lt;KERNEL-VERSION&gt;</u>.

       <b>sbat=</b>"<u>parameters</u>"
           Specifies the SBAT parameters, which to include in the UEFI executable. By default the default SBAT
           string added is +sbat,1,SBAT Version,sbat,1,https://github.com/rhboot/shim/blob/main/SBAT.md+.

       <b>enhanced_cpio=</b>"<u>{yes|no}</u>"
           Attempt to use the dracut-cpio binary, which optimizes archive creation for copy-on-write filesystems
           (default=no).

           When specified, initramfs archives are also padded to ensure optimal data alignment for extent
           sharing. To retain reflink data deduplication benefits, this should be used alongside the
           <b>compress="cat"</b> and <b>do_strip="no"</b> parameters, with initramfs source files, <b>tmpdir</b> staging area and
           destination all on the same copy-on-write capable file-system.

       <b>parallel=</b>"<u>{yes|no}</u>"
           If set to <u>yes</u>, try to execute tasks in parallel (currently only supported for <u>--regenerate-all</u>).

       <b>initrdname=</b>"<u>&lt;filepattern&gt;</u>"
           Specifies the file name for the generated initramfs if it is not set otherwise.

           The initrdname configuration option is required to match the <u>initr*${kernel}*</u> file pattern and only
           one file with this pattern should exists in the directory where initramfs is loaded from.

           Defaults to <u>initrd.img-${kernel}</u>.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/dracut.conf</u>
           Old configuration file. It is recommended to use individual files in <u>/etc/dracut.conf.d/</u>.

       <u>/etc/dracut.conf.d/</u>
           Any <u>/etc/dracut.conf.d/*.conf</u> file can override the values in <u>/etc/dracut.conf</u>. The configuration
           files are read in alphanumerical order.

</pre><h4><b>AUTHOR</b></h4><pre>
       Harald Hoyer

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/dracut.8.html">dracut</a></b>(8) <b><a href="../man7/dracut.cmdline.7.html">dracut.cmdline</a></b>(7)

</pre><h4><b>NOTES</b></h4><pre>
        1. Documentation/acpi/initrd_table_override.txt
           https://www.kernel.org/doc/Documentation/acpi/initrd_table_override.txt

dracut 107-1ubuntu5                                07/08/2025                                     <u><a href="../man5/DRACUT.CONF.5.html">DRACUT.CONF</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>