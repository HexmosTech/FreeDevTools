<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>firehol-router - create a router definition</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/firehol-doc">firehol-doc_3.1.8+ds-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       firehol-router - create a router definition

</pre><h4><b>SYNOPSIS</b></h4><pre>
       { router | router46 } <u>name</u> <u>rule-params</u>

       router4 <u>name</u> <u>rule-params</u>

       router6 <u>name</u> <u>rule-params</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A router definition consists of a set of rules for traffic passing through the host running the firewall.

       The  default  policy  for router definitions is RETURN, meaning packets are not dropped by any particular
       router.  Packets not matched by any router are dropped at the end of the firewall.

       The behaviour of the defined router is controlled by adding  subcommands  from  those  listed  in  ROUTER
       SUBCOMMANDS.

              <b>Note</b>

              Writing  router4  is  equivalent  to writing ipv4 router and ensures the defined router is created
              only in the IPv4 firewall along with any rules within it.

              Writing router6 is equivalent to writing ipv6 router and ensures the  defined  router  is  created
              only in the IPv6 firewall along with any rules within it.

              Writing router46 is equivalent to writing both router and ensures the defined router is created in
              both  the  IPv4 and IPv6 firewalls.  Any rules within it will also be applied to both, unless they
              specify otherwise.

</pre><h4><b>PARAMETERS</b></h4><pre>
       <u>name</u>   This is a name for this router.  You should use short names (10 characters maximum) without spaces
              or other symbols.

              A name should be unique for all FireHOL interface and router definitions.

       <u>rule-params</u>
              The set of rule parameters to further restrict the traffic that is matched to this router.

              See <a href="../man5/firehol-params.5.html">firehol-params</a>(5) for information on the parameters that can be used.  Some examples:

                     router mylan inface ppp+ outface eth0 src not ${UNROUTABLE_IPS}

                     router myrouter

              See <a href="../man5/firehol.conf.5.html">firehol.conf</a>(5) for an explanation of ${UNROUTABLE_IPS}.

</pre><h4><b>WORKING</b> <b>WITH</b> <b>ROUTERS</b></h4><pre>
       Routers create stateful <a href="../man8/iptables.8.html">iptables</a>(8) rules which match traffic in both directions.

       To match some client or server traffic, the input/output interface or source/destination of  the  request
       must be specified.  All inface/outface and src/dst <a href="../man5/firehol-params.5.html">firehol-params</a>(5) can be given on the router statement
       (in  which case they will be applied to all subcommands for the router) or just within the subcommands of
       the router.

       For example, to define a router which matches requests from any PPP interface and destined for eth0,  and
       on this allowing HTTP servers (on eth0) to be accessed by clients (from PPP) and SMTP clients (from eth0)
       to access any servers (on PPP):

              router mylan inface ppp+ outface eth0
                server http accept
                client smtp accept

              <b>Note</b>

              The client subcommand reverses any optional rule parameters passed to the router, in this case the
              inface and outface.

       Equivalently, to define a router which matches all forwarded traffic and within the the router allow HTTP
       servers on eth0 to be accessible to PPP and any SMTP servers on PPP to be accessible from eth0:

              router mylan
                server http accept inface ppp+ outface eth0
                server smtp accept inface eth0 outface ppp

              <b>Note</b>

              In  this  instance  two server subcommands are used since there are no parameters on the router to
              reverse.  Avoid the use of the client subcommand in routers unless  the  inputs  and  outputs  are
              defined as part of the router.

       Any number of routers can be defined and the traffic they match can overlap.  Since the default policy is
       RETURN,  any  traffic  that  is not matched by any rules in one will proceed to the next, in order, until
       none are left.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       • <a href="../man1/firehol.1.html">firehol</a>(1) - FireHOL program

       • <a href="../man5/firehol.conf.5.html">firehol.conf</a>(5) - FireHOL configuration

       • <a href="../man5/firehol-params.5.html">firehol-params</a>(5) - optional rule parameters

       • <a href="../man5/firehol-modifiers.5.html">firehol-modifiers</a>(5) - ipv4/ipv6 selection

       • <a href="../man5/firehol-interface.5.html">firehol-interface</a>(5) - interface definition

       • <a href="../man5/firehol-iptables.5.html">firehol-iptables</a>(5) - iptables helper

       • <a href="../man5/firehol-masquerade.5.html">firehol-masquerade</a>(5) - masquerade helper

       • FireHOL Website

       • FireHOL Online PDF Manual

       • FireHOL Online Documentation

   <b>Router</b> <b>Subcommands</b>
       • <a href="../man5/firehol-policy.5.html">firehol-policy</a>(5) - policy command

       • <a href="../man5/firehol-protection.5.html">firehol-protection</a>(5) - protection command

       • <a href="../man5/firehol-server.5.html">firehol-server</a>(5) - server, route commands

       • <a href="../man5/firehol-client.5.html">firehol-client</a>(5) - client command

       • <a href="../man5/firehol-group.5.html">firehol-group</a>(5) - group command

       • <a href="../man5/firehol-tcpmss.5.html">firehol-tcpmss</a>(5) - tcpmss helper

</pre><h4><b>AUTHORS</b></h4><pre>
       FireHOL Team.

FireHOL Reference                               Built 13 Apr 2025                              <u><a href="../man5/firehol-router.5.html">firehol-router</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>