<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>systemd.socket - Socket unit configuration</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/systemd">systemd_257.7-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       systemd.socket - Socket unit configuration

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>socket</u>.socket

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A unit configuration file whose name ends in ".socket" encodes information about an IPC or network socket
       or a file system FIFO controlled and supervised by systemd, for socket-based activation.

       This man page lists the configuration options specific to this unit type. See <b><a href="../man5/systemd.unit.5.html">systemd.unit</a></b>(5) for the
       common options of all unit configuration files. The common configuration items are configured in the
       generic [Unit] and [Install] sections. The socket specific configuration options are configured in the
       [Socket] section.

       Additional options are listed in <b><a href="../man5/systemd.exec.5.html">systemd.exec</a></b>(5), which define the execution environment the
       <b>ExecStartPre=</b>, <b>ExecStartPost=</b>, <b>ExecStopPre=</b> and <b>ExecStopPost=</b> commands are executed in, and in
       <b><a href="../man5/systemd.kill.5.html">systemd.kill</a></b>(5), which define the way the processes are terminated, and in <b><a href="../man5/systemd.resource-control.5.html">systemd.resource-control</a></b>(5),
       which configure resource control settings for the processes of the socket.

       For each socket unit, a matching service unit must exist, describing the service to start on incoming
       traffic on the socket (see <b><a href="../man5/systemd.service.5.html">systemd.service</a></b>(5) for more information about .service units). The name of the
       .service unit is by default the same as the name of the .socket unit, but can be altered with the
       <b>Service=</b> option described below. Depending on the setting of the <b>Accept=</b> option described below, this
       .service unit must either be named like the .socket unit, but with the suffix replaced, unless overridden
       with <b>Service=</b>; or it must be a template unit named the same way. Example: a socket file foo.socket needs
       a matching service foo.service if <b>Accept=no</b> is set. If <b>Accept=yes</b> is set, a service template foo@.service
       must exist from which services are instantiated for each incoming connection.

       No implicit <u>WantedBy=</u> or <u>RequiredBy=</u> dependency from the socket to the service is added. This means that
       the service may be started without the socket, in which case it must be able to open sockets by itself.
       To prevent this, an explicit <u>Requires=</u> dependency may be added.

       Socket units may be used to implement on-demand starting of services, as well as parallelized starting of
       services. See the blog stories linked at the end for an introduction.

       Note that the daemon software configured for socket activation with socket units needs to be able to
       accept sockets from systemd, either via systemd's native socket passing interface (see <b><a href="../man3/sd_listen_fds.3.html">sd_listen_fds</a></b>(3)
       for details about the precise protocol used and the order in which the file descriptors are passed) or
       via traditional <b><a href="../man8/inetd.8.html">inetd</a></b>(8)-style socket passing (i.e. sockets passed in via standard input and output,
       using <u>StandardInput=socket</u> in the service file).

       All network sockets allocated through .socket units are allocated in the host's network namespace (see
       <b><a href="../man7/network_namespaces.7.html">network_namespaces</a></b>(7)). This does not mean however that the service activated by a configured socket unit
       has to be part of the host's network namespace as well. It is supported and even good practice to run
       services in their own network namespace (for example through <u>PrivateNetwork=</u>, see <b><a href="../man5/systemd.exec.5.html">systemd.exec</a></b>(5)),
       receiving only the sockets configured through socket-activation from the host's namespace. In such a
       set-up communication within the host's network namespace is only permitted through the activation sockets
       passed in while all sockets allocated from the service code itself will be associated with the service's
       own namespace, and thus possibly subject to a restrictive configuration.

</pre><h4><b>AUTOMATIC</b> <b>DEPENDENCIES</b></h4><pre>
   <b>Implicit</b> <b>Dependencies</b>
       The following dependencies are implicitly added:

       •   Socket units automatically gain a <u>Before=</u> dependency on the service units they activate.

       •   Socket units referring to file system paths (such as <b>AF_UNIX</b> sockets or FIFOs) implicitly gain
           <u>Requires=</u> and <u>After=</u> dependencies on all mount units necessary to access those paths.

       •   Socket units using the <u>BindToDevice=</u> setting automatically gain a <u>BindsTo=</u> and <u>After=</u> dependency on
           the device unit encapsulating the specified network interface.

       Additional implicit dependencies may be added as result of execution and resource control parameters as
       documented in <b><a href="../man5/systemd.exec.5.html">systemd.exec</a></b>(5) and <b><a href="../man5/systemd.resource-control.5.html">systemd.resource-control</a></b>(5).

   <b>Default</b> <b>Dependencies</b>
       The following dependencies are added unless <u>DefaultDependencies=no</u> is set:

       •   Socket units automatically gain a <u>Before=</u> dependency on sockets.target.

       •   Socket units automatically gain a pair of <u>After=</u> and <u>Requires=</u> dependency on sysinit.target, and a
           pair of <u>Before=</u> and <u>Conflicts=</u> dependencies on shutdown.target. These dependencies ensure that the
           socket unit is started before normal services at boot, and is stopped on shutdown. Only sockets
           involved with early boot or late system shutdown should disable <u>DefaultDependencies=</u> option.

</pre><h4><b>OPTIONS</b></h4><pre>
       Socket unit files may include [Unit] and [Install] sections, which are described in <b><a href="../man5/systemd.unit.5.html">systemd.unit</a></b>(5).

       Socket unit files must include a [Socket] section, which carries information about the socket or FIFO it
       supervises. A number of options that may be used in this section are shared with other unit types. These
       options are documented in <b><a href="../man5/systemd.exec.5.html">systemd.exec</a></b>(5), <b><a href="../man5/systemd.kill.5.html">systemd.kill</a></b>(5) and <b><a href="../man5/systemd.resource-control.5.html">systemd.resource-control</a></b>(5). The options
       specific to the [Socket] section of socket units are the following:

       <u>ListenStream=</u>, <u>ListenDatagram=</u>, <u>ListenSequentialPacket=</u>
           Specifies an address to listen on for a stream (<b>SOCK_STREAM</b>), datagram (<b>SOCK_DGRAM</b>), or sequential
           packet (<b>SOCK_SEQPACKET</b>) socket, respectively. The address can be written in various formats:

           If the address starts with a slash ("/"), it is read as file system socket in the <b>AF_UNIX</b> socket
           family.

           If the address starts with an at symbol ("@"), it is read as abstract namespace socket in the <b>AF_UNIX</b>
           family. The "@" is replaced with a <b>NUL</b> character before binding. For details, see <b><a href="../man7/unix.7.html">unix</a></b>(7).

           If the address string is a single number, it is read as port number to listen on via IPv6. Depending
           on the value of <u>BindIPv6Only=</u> (see below) this might result in the service being available via both
           IPv6 and IPv4 (default) or just via IPv6.

           If the address string is a string in the format "<u>v.w.x.y</u>:<u>z</u>", it is interpreted as IPv4 address
           <u>v.w.x.y</u> and port <u>z</u>.

           If the address string is a string in the format "[<u>x</u>]:<u>y</u>", it is interpreted as IPv6 address <u>x</u> and port
           <u>y</u>. An optional interface scope (interface name or number) may be specified after a "%" symbol:
           "[<u>x</u>]:<u>y</u>%<u>dev</u>". Interface scopes are only useful with link-local addresses, because the kernel ignores
           them in other cases. Note that if an address is specified as IPv6, it might still make the service
           available via IPv4 too, depending on the <u>BindIPv6Only=</u> setting (see below).

           If the address string is a string in the format "vsock:<u>x</u>:<u>y</u>", it is read as CID <u>x</u> on a port <u>y</u> address
           in the <b>AF_VSOCK</b> family. The CID is a unique 32-bit integer identifier in <b>AF_VSOCK</b> analogous to an IP
           address. Specifying the CID is optional, and may be set to the empty string.  "vsock" may be replaced
           with "vsock-stream", "vsock-dgram" or "vsock-seqpacket" to force usage of the corresponding socket
           type.

           Note that <b>SOCK_SEQPACKET</b> (i.e.  <u>ListenSequentialPacket=</u>) is only available for <b>AF_UNIX</b> sockets.
           <b>SOCK_STREAM</b> (i.e.  <u>ListenStream=</u>) when used for IP sockets refers to TCP sockets, <b>SOCK_DGRAM</b> (i.e.
           <u>ListenDatagram=</u>) to UDP.

           These options may be specified more than once, in which case incoming traffic on any of the sockets
           will trigger service activation, and all listed sockets will be passed to the service, regardless of
           whether there is incoming traffic on them or not. If the empty string is assigned to any of these
           options, the list of addresses to listen on is reset, all prior uses of any of these options will
           have no effect.

           It is also possible to have more than one socket unit for the same service when using <u>Service=</u>, and
           the service will receive all the sockets configured in all the socket units. Sockets configured in
           one unit are passed in the order of configuration, but no ordering between socket units is specified.

           If an IP address is used here, it is often desirable to listen on it before the interface it is
           configured on is up and running, and even regardless of whether it will be up and running at any
           point. To deal with this, it is recommended to set the <u>FreeBind=</u> option described below.

       <u>ListenFIFO=</u>
           Specifies a file system FIFO (see <b><a href="../man7/fifo.7.html">fifo</a></b>(7) for details) to listen on. This expects an absolute file
           system path as argument. Behavior otherwise is very similar to the <u>ListenDatagram=</u> directive above.

       <u>ListenSpecial=</u>
           Specifies a special file in the file system to listen on. This expects an absolute file system path
           as argument. Behavior otherwise is very similar to the <u>ListenFIFO=</u> directive above. Use this to open
           character device nodes as well as special files in <a href="file:/proc/">/proc/</a> and <a href="file:/sys/.">/sys/.</a>

       <u>ListenNetlink=</u>
           Specifies a Netlink family to create a socket for to listen on. This expects a short string referring
           to the <b>AF_NETLINK</b> family name (such as <u>audit</u> or <u>kobject-uevent</u>) as argument, optionally suffixed by a
           whitespace followed by a multicast group integer. Behavior otherwise is very similar to the
           <u>ListenDatagram=</u> directive above.

       <u>ListenMessageQueue=</u>
           Specifies a POSIX message queue name to listen on (see <b><a href="../man7/mq_overview.7.html">mq_overview</a></b>(7) for details). This expects a
           valid message queue name (i.e. beginning with "/"). Behavior otherwise is very similar to the
           <u>ListenFIFO=</u> directive above. On Linux message queue descriptors are actually file descriptors and can
           be inherited between processes.

       <u>ListenUSBFunction=</u>
           Specifies a <b>USB</b> <b>FunctionFS</b>[1] endpoints location to listen on, for implementation of USB gadget
           functions. This expects an absolute file system path of a FunctionFS mount point as the argument.
           Behavior otherwise is very similar to the <u>ListenFIFO=</u> directive above. Use this to open the
           FunctionFS endpoint ep0. When using this option, the activated service has to have the
           <u>USBFunctionDescriptors=</u> and <u>USBFunctionStrings=</u> options set.

           Added in version 227.

       <u>SocketProtocol=</u>
           Takes one of <b>udplite</b>, <b>sctp</b> or <b>mptcp</b>. The socket will use the UDP-Lite (<b>IPPROTO_UDPLITE</b>), SCTP
           (<b>IPPROTO_SCTP</b>) or MPTCP (<b>IPPROTO_MPTCP</b>) protocol, respectively.

           Added in version 229.

       <u>BindIPv6Only=</u>
           Takes one of <b>default</b>, <b>both</b> or <b>ipv6-only</b>. Controls the IPV6_V6ONLY socket option (see <b><a href="../man7/ipv6.7.html">ipv6</a></b>(7) for
           details). If <b>both</b>, IPv6 sockets bound will be accessible via both IPv4 and IPv6. If <b>ipv6-only</b>, they
           will be accessible via IPv6 only. If <b>default</b> (which is the default, surprise!), the system wide
           default setting is used, as controlled by <a href="file:/proc/sys/net/ipv6/bindv6only">/proc/sys/net/ipv6/bindv6only</a>, which in turn defaults to
           the equivalent of <b>both</b>.

       <u>Backlog=</u>
           Takes an unsigned 32-bit integer argument. Specifies the number of connections to queue that have not
           been accepted yet. This setting matters only for stream and sequential packet sockets. See <b><a href="../man2/listen.2.html">listen</a></b>(2)
           for details. Defaults to 4294967295. Note that this value is silently capped by the
           "net.core.somaxconn" sysctl, which typically defaults to 4096, so typically the sysctl is the setting
           that actually matters.

       <u>BindToDevice=</u>
           Specifies a network interface name to bind this socket to. If set, traffic will only be accepted from
           the specified network interfaces. This controls the <b>SO_BINDTODEVICE</b> socket option (see <b><a href="../man7/socket.7.html">socket</a></b>(7) for
           details). If this option is used, an implicit dependency from this socket unit on the network
           interface device unit is created (see <b><a href="../man5/systemd.device.5.html">systemd.device</a></b>(5)). Note that setting this parameter might
           result in additional dependencies to be added to the unit (see above).

       <u>SocketUser=</u>, <u>SocketGroup=</u>
           Takes a UNIX user/group name. When specified, all <b>AF_UNIX</b> sockets, FIFO nodes, and message queues are
           owned by the specified user and group. If unset (the default), the nodes are owned by the root
           user/group (if run in system context) or the invoking user/group (if run in user context). If only a
           user is specified but no group, then the group is derived from the user's default group.

           Added in version 214.

       <u>SocketMode=</u>
           If listening on a file system socket, FIFO, or message queue, this option specifies the file system
           access mode used when creating the file node. Takes an access mode in octal notation. Defaults to
           0666.

       <u>DirectoryMode=</u>
           If listening on a file system socket or FIFO, the parent directories are automatically created if
           needed. This option specifies the file system access mode used when creating these directories. Takes
           an access mode in octal notation. Defaults to 0755.

       <u>Accept=</u>
           Takes a boolean argument. If yes, a service instance is spawned for each incoming connection and only
           the connection socket is passed to it. If no, all listening sockets themselves are passed to the
           started service unit, and only one service unit is spawned for all connections (also see above). This
           value is ignored for datagram sockets and FIFOs where a single service unit unconditionally handles
           all incoming traffic. Defaults to <b>no</b>. For performance reasons, it is recommended to write new daemons
           only in a way that is suitable for <b>Accept=no</b>. A daemon listening on an <b>AF_UNIX</b> socket may, but does
           not need to, call <b><a href="../man2/close.2.html">close</a></b>(2) on the received socket before exiting. However, it must not unlink the
           socket from a file system. It should not invoke <b><a href="../man2/shutdown.2.html">shutdown</a></b>(2) on sockets it got with <u>Accept=no</u>, but it
           may do so for sockets it got with <u>Accept=yes</u> set. Setting <u>Accept=yes</u> is mostly useful to allow
           daemons designed for usage with <b><a href="../man8/inetd.8.html">inetd</a></b>(8) to work unmodified with systemd socket activation.

           Note that depending on this setting the services activated by units of this type are either regular
           services (in case of <u>Accept=</u><b>no</b>) or instances of templated services (in case of <u>Accept=</u><b>yes</b>). See the
           Description section above for a more detailed discussion of the naming rules of triggered services.

           For IPv4 and IPv6 connections, the <u>$REMOTE_ADDR</u> environment variable will contain the remote IP
           address, and <u>$REMOTE_PORT</u> will contain the remote port. This is the same as the format used by CGI.

           For <b>AF_UNIX</b> socket connections, the <u>$REMOTE_ADDR</u> environment variable will contain either the remote
           socket's file system path starting with a slash ("/") or its address in the abstract namespace
           starting with an at symbol ("@"). If the socket is unnamed, <u>$REMOTE_ADDR</u> will not be set.

           It is recommended to set <u>CollectMode=inactive-or-failed</u> for service instances activated via
           <u>Accept=yes</u>, to ensure that failed connection services are cleaned up and released from memory, and do
           not accumulate.

       <u>Writable=</u>
           Takes a boolean argument. May only be used in conjunction with <u>ListenSpecial=</u>. If true, the specified
           special file is opened in read-write mode, if false, in read-only mode. Defaults to false.

           Added in version 227.

       <u>FlushPending=</u>
           Takes a boolean argument. May only be used when <b>Accept=no</b>. If yes, the socket's buffers are cleared
           after the triggered service exited. This causes any pending data to be flushed and any pending
           incoming connections to be rejected. If no, the socket's buffers will not be cleared, permitting the
           service to handle any pending connections after restart, which is the usually expected behaviour.
           Defaults to <b>no</b>.

           Added in version 247.

       <u>MaxConnections=</u>
           The maximum number of connections to simultaneously run services instances for, when <b>Accept=yes</b> is
           set. If more concurrent connections are coming in, they will be refused until at least one existing
           connection is terminated. This setting has no effect on sockets configured with <b>Accept=no</b> or datagram
           sockets. Defaults to 64.

       <u>MaxConnectionsPerSource=</u>
           The maximum number of connections for a service per source IP address (in case of IPv4/IPv6), per
           source CID (in case of <b>AF_VSOCK</b>), or source UID (in case of <b>AF_UNIX</b>). This is very similar to the
           <u>MaxConnections=</u> directive above. Defaults to 0, i.e. disabled.

           Added in version 232.

       <u>KeepAlive=</u>
           Takes a boolean argument. If true, the TCP/IP stack will send a keep alive message after 2h
           (depending on the configuration of <a href="file:/proc/sys/net/ipv4/tcp_keepalive_time">/proc/sys/net/ipv4/tcp_keepalive_time</a>) for all TCP streams
           accepted on this socket. This controls the <b>SO_KEEPALIVE</b> socket option (see <b><a href="../man7/socket.7.html">socket</a></b>(7) and the <b>TCP</b>
           <b>Keepalive</b> <b>HOWTO</b>[2] for details.) Defaults to <b>false</b>.

       <u>KeepAliveTimeSec=</u>
           Takes time (in seconds) as argument. The connection needs to remain idle before TCP starts sending
           keepalive probes. This controls the TCP_KEEPIDLE socket option (see <b><a href="../man7/socket.7.html">socket</a></b>(7) and the <b>TCP</b> <b>Keepalive</b>
           <b>HOWTO</b>[2] for details.) Default value is 7200 seconds (2 hours).

           Added in version 216.

       <u>KeepAliveIntervalSec=</u>
           Takes time (in seconds) as argument between individual keepalive probes, if the socket option
           <b>SO_KEEPALIVE</b> has been set on this socket. This controls the <b>TCP_KEEPINTVL</b> socket option (see
           <b><a href="../man7/socket.7.html">socket</a></b>(7) and the <b>TCP</b> <b>Keepalive</b> <b>HOWTO</b>[2] for details.) Default value is 75 seconds.

           Added in version 216.

       <u>KeepAliveProbes=</u>
           Takes an integer as argument. It is the number of unacknowledged probes to send before considering
           the connection dead and notifying the application layer. This controls the TCP_KEEPCNT socket option
           (see <b><a href="../man7/socket.7.html">socket</a></b>(7) and the <b>TCP</b> <b>Keepalive</b> <b>HOWTO</b>[2] for details.) Default value is 9.

           Added in version 216.

       <u>NoDelay=</u>
           Takes a boolean argument. TCP Nagle's algorithm works by combining a number of small outgoing
           messages, and sending them all at once. This controls the TCP_NODELAY socket option (see <b><a href="../man7/tcp.7.html">tcp</a></b>(7)).
           Defaults to <b>false</b>.

           Added in version 216.

       <u>Priority=</u>
           Takes an integer argument controlling the priority for all traffic sent from this socket. This
           controls the <b>SO_PRIORITY</b> socket option (see <b><a href="../man7/socket.7.html">socket</a></b>(7) for details.).

       <u>DeferAcceptSec=</u>
           Takes time (in seconds) as argument. If set, the listening process will be awakened only when data
           arrives on the socket, and not immediately when connection is established. When this option is set,
           the <b>TCP_DEFER_ACCEPT</b> socket option will be used (see <b><a href="../man7/tcp.7.html">tcp</a></b>(7)), and the kernel will ignore initial ACK
           packets without any data. The argument specifies the approximate amount of time the kernel should
           wait for incoming data before falling back to the normal behavior of honoring empty ACK packets. This
           option is beneficial for protocols where the client sends the data first (e.g. HTTP, in contrast to
           SMTP), because the server process will not be woken up unnecessarily before it can take any action.

           If the client also uses the <b>TCP_DEFER_ACCEPT</b> option, the latency of the initial connection may be
           reduced, because the kernel will send data in the final packet establishing the connection (the third
           packet in the "three-way handshake").

           Disabled by default.

           Added in version 216.

       <u>ReceiveBuffer=</u>, <u>SendBuffer=</u>
           Takes an integer argument controlling the receive or send buffer sizes of this socket, respectively.
           This controls the <b>SO_RCVBUF</b> and <b>SO_SNDBUF</b> socket options (see <b><a href="../man7/socket.7.html">socket</a></b>(7) for details.). The usual
           suffixes K, M, G are supported and are understood to the base of 1024.

       <u>IPTOS=</u>
           Takes an integer argument controlling the IP Type-Of-Service field for packets generated from this
           socket. This controls the <b>IP_TOS</b> socket option (see <b><a href="../man7/ip.7.html">ip</a></b>(7) for details.). Either a numeric string or
           one of <b>low-delay</b>, <b>throughput</b>, <b>reliability</b> or <b>low-cost</b> may be specified.

       <u>IPTTL=</u>
           Takes an integer argument controlling the IPv4 Time-To-Live/IPv6 Hop-Count field for packets
           generated from this socket. This sets the <b>IP_TTL</b>/<b>IPV6_UNICAST_HOPS</b> socket options (see <b><a href="../man7/ip.7.html">ip</a></b>(7) and
           <b><a href="../man7/ipv6.7.html">ipv6</a></b>(7) for details.)

       <u>Mark=</u>
           Takes an integer value. Controls the firewall mark of packets generated by this socket. This can be
           used in the firewall logic to filter packets from this socket. This sets the <b>SO_MARK</b> socket option.
           See <b><a href="../man8/iptables.8.html">iptables</a></b>(8) for details.

       <u>ReusePort=</u>
           Takes a boolean value. If true, allows multiple <b><a href="../man2/bind.2.html">bind</a></b>(2)s to this TCP or UDP port. This controls the
           <b>SO_REUSEPORT</b> socket option. See <b><a href="../man7/socket.7.html">socket</a></b>(7) for details.

           Added in version 206.

       <u>SmackLabel=</u>, <u>SmackLabelIPIn=</u>, <u>SmackLabelIPOut=</u>
           Takes a string value. Controls the extended attributes "security.SMACK64", "security.SMACK64IPIN" and
           "security.SMACK64IPOUT", respectively, i.e. the security label of the FIFO, or the security label for
           the incoming or outgoing connections of the socket, respectively. See <b>Smack</b>[3] for details.

           Added in version 196.

       <u>SELinuxContextFromNet=</u>
           Takes a boolean argument. When true, systemd will attempt to figure out the SELinux label used for
           the instantiated service from the information handed by the peer over the network. Note that only the
           security level is used from the information provided by the peer. Other parts of the resulting
           SELinux context originate from either the target binary that is effectively triggered by socket unit
           or from the value of the <u>SELinuxContext=</u> option. This configuration option applies only when
           activated service is passed in single socket file descriptor, i.e. service instances that have
           standard input connected to a socket or services triggered by exactly one socket unit. Also note that
           this option is useful only when MLS/MCS SELinux policy is deployed. Defaults to "false".

           Added in version 217.

       <u>PipeSize=</u>
           Takes a size in bytes. Controls the pipe buffer size of FIFOs configured in this socket unit. See
           <b><a href="../man2/fcntl.2.html">fcntl</a></b>(2) for details. The usual suffixes K, M, G are supported and are understood to the base of
           1024.

       <u>MessageQueueMaxMessages=</u>, <u>MessageQueueMessageSize=</u>
           These two settings take integer values and control the mq_maxmsg field or the mq_msgsize field,
           respectively, when creating the message queue. Note that either none or both of these variables need
           to be set. See <b><a href="../man3/mq_setattr.3.html">mq_setattr</a></b>(3) for details.

       <u>FreeBind=</u>
           Takes a boolean value. Controls whether the socket can be bound to non-local IP addresses. This is
           useful to configure sockets listening on specific IP addresses before those IP addresses are
           successfully configured on a network interface. This sets the <b>IP_FREEBIND</b>/<b>IPV6_FREEBIND</b> socket
           option. For robustness reasons it is recommended to use this option whenever you bind a socket to a
           specific IP address. Defaults to <b>false</b>.

       <u>Transparent=</u>
           Takes a boolean value. Controls the <b>IP_TRANSPARENT</b>/<b>IPV6_TRANSPARENT</b> socket option. Defaults to <b>false</b>.

       <u>Broadcast=</u>
           Takes a boolean value. This controls the <b>SO_BROADCAST</b> socket option, which allows broadcast datagrams
           to be sent from this socket. Defaults to <b>false</b>.

       <u>PassCredentials=</u>
           Takes a boolean value. This controls the <b>SO_PASSCRED</b> socket option, which allows <b>AF_UNIX</b> sockets to
           receive the credentials of the sending process in an ancillary message. Defaults to <b>false</b>.

       <u>PassSecurity=</u>
           Takes a boolean value. This controls the <b>SO_PASSSEC</b> socket option, which allows <b>AF_UNIX</b> sockets to
           receive the security context of the sending process in an ancillary message. Defaults to <b>false</b>.

       <u>PassPacketInfo=</u>
           Takes a boolean value. This controls the <b>IP_PKTINFO</b>, <b>IPV6_RECVPKTINFO</b>, <b>NETLINK_PKTINFO</b> or
           <b>PACKET_AUXDATA</b> socket options, which enable reception of additional per-packet metadata as ancillary
           message, on <b>AF_INET</b>, <b>AF_INET6</b>, <b>AF_UNIX</b> and <b>AF_PACKET</b> sockets. Defaults to <b>false</b>.

           Added in version 246.

       <u>Timestamping=</u>
           Takes one of "off", "us" (alias: "usec", "μs") or "ns" (alias: "nsec"). This controls the
           <b>SO_TIMESTAMP</b> or <b>SO_TIMESTAMPNS</b> socket options, and enables whether ingress network traffic shall
           carry timestamping metadata. Defaults to <b>off</b>.

           Added in version 247.

       <u>TCPCongestion=</u>
           Takes a string value. Controls the TCP congestion algorithm used by this socket. Should be one of
           "westwood", "reno", "cubic", "lp" or any other available algorithm supported by the IP stack. This
           setting applies only to stream sockets.

       <u>ExecStartPre=</u>, <u>ExecStartPost=</u>
           Takes one or more command lines, which are executed before or after the listening sockets/FIFOs are
           created and bound, respectively. The first token of the command line must be an absolute filename,
           then followed by arguments for the process. Multiple command lines may be specified following the
           same scheme as used for <u>ExecStartPre=</u> of service unit files.

       <u>ExecStopPre=</u>, <u>ExecStopPost=</u>
           Additional commands that are executed before or after the listening sockets/FIFOs are closed and
           removed, respectively. Multiple command lines may be specified following the same scheme as used for
           <u>ExecStartPre=</u> of service unit files.

       <u>TimeoutSec=</u>
           Configures the time to wait for the commands specified in <u>ExecStartPre=</u>, <u>ExecStartPost=</u>, <u>ExecStopPre=</u>
           and <u>ExecStopPost=</u> to finish. If a command does not exit within the configured time, the socket will
           be considered failed and be shut down again. All commands still running will be terminated forcibly
           via <b>SIGTERM</b>, and after another delay of this time with <b>SIGKILL</b>. (See <b>KillMode=</b> in <b><a href="../man5/systemd.kill.5.html">systemd.kill</a></b>(5).)
           Takes a unit-less value in seconds, or a time span value such as "5min 20s". Pass "0" to disable the
           timeout logic. Defaults to <u>DefaultTimeoutStartSec=</u> from the manager configuration file (see <b><a href="../man5/systemdsystem.conf.5.html">systemd-</a></b>
           <b><a href="../man5/systemdsystem.conf.5.html">system.conf</a></b>(5)).

       <u>Service=</u>
           Specifies the service unit name to activate on incoming traffic. This setting is only allowed for
           sockets with <u>Accept=no</u>. It defaults to the service that bears the same name as the socket (with the
           suffix replaced). In most cases, it should not be necessary to use this option. Note that setting
           this parameter might result in additional dependencies to be added to the unit (see above).

       <u>RemoveOnStop=</u>
           Takes a boolean argument. If enabled, any file nodes created by this socket unit are removed when it
           is stopped. This applies to <b>AF_UNIX</b> sockets in the file system, POSIX message queues, FIFOs, as well
           as any symlinks to them configured with <u>Symlinks=</u>. Normally, it should not be necessary to use this
           option, and is not recommended as services might continue to run after the socket unit has been
           terminated and it should still be possible to communicate with them via their file system node.
           Defaults to off.

           Added in version 214.

       <u>Symlinks=</u>
           Takes a list of file system paths. The specified paths will be created as symlinks to the <b>AF_UNIX</b>
           socket path or FIFO path of this socket unit. If this setting is used, only one <b>AF_UNIX</b> socket in the
           file system or one FIFO may be configured for the socket unit. Use this option to manage one or more
           symlinked alias names for a socket, binding their lifecycle together. Note that if creation of a
           symlink fails this is not considered fatal for the socket unit, and the socket unit may still start.
           If an empty string is assigned, the list of paths is reset. Defaults to an empty list.

           Added in version 214.

       <u>FileDescriptorName=</u>
           Assigns a name to all file descriptors this socket unit encapsulates. This is useful to help
           activated services identify specific file descriptors, if multiple fds are passed. Services may use
           the <b><a href="../man3/sd_listen_fds_with_names.3.html">sd_listen_fds_with_names</a></b>(3) call to acquire the names configured for the received file
           descriptors. Names may contain any ASCII character, but must exclude control characters and ":", and
           must be at most 255 characters in length. If this setting is not used, the file descriptor name
           defaults to the name of the socket unit (including its .socket suffix) when <u>Accept=no</u>, "connection"
           otherwise.

           Added in version 227.

       <u>TriggerLimitIntervalSec=</u>, <u>TriggerLimitBurst=</u>
           Configures a limit on how often this socket unit may be activated within a specific time interval.
           The <u>TriggerLimitIntervalSec=</u> setting may be used to configure the length of the time interval in the
           usual time units "us", "ms", "s", "min", "h", ... and defaults to 2s (See <b><a href="../man7/systemd.time.7.html">systemd.time</a></b>(7) for details
           on the various time units understood). The <u>TriggerLimitBurst=</u> setting takes a positive integer value
           and specifies the number of permitted activations per time interval, and defaults to 200 for
           <u>Accept=yes</u> sockets (thus by default permitting 200 activations per 2s), and 20 otherwise (20
           activations per 2s). Set either to 0 to disable any form of trigger rate limiting.

           If the limit is hit, the socket unit is placed into a failure mode, and will not be connectible
           anymore until restarted. Note that this limit is enforced before the service activation is enqueued.

           Compare with <u>PollLimitIntervalSec=</u>/<u>PollLimitBurst=</u> described below, which implements a temporary
           slowdown if a socket unit is flooded with incoming traffic, as opposed to the permanent failure state
           <u>TriggerLimitIntervalSec=</u>/<u>TriggerLimitBurst=</u> results in.

           Added in version 230.

       <u>PollLimitIntervalSec=</u>, <u>PollLimitBurst=</u>
           Configures a limit on how often polling events on the file descriptors backing this socket unit will
           be considered. This pair of settings is similar to <u>TriggerLimitIntervalSec=</u>/<u>TriggerLimitBurst=</u> but
           instead of putting a (fatal) limit on the activation frequency puts a (transient) limit on the
           polling frequency. The expected parameter syntax and range are identical to that of the
           aforementioned options, and can be disabled the same way.

           If the polling limit is hit polling is temporarily disabled on it until the specified time window
           passes. The polling limit hence slows down connection attempts if hit, but unlike the trigger limit
           will not cause permanent failures. It's the recommended mechanism to deal with DoS attempts through
           packet flooding.

           The polling limit is enforced per file descriptor to listen on, as opposed to the trigger limit which
           is enforced for the entire socket unit. This distinction matters for socket units that listen on
           multiple file descriptors (i.e. have multiple <u>ListenXYZ=</u> stanzas).

           These setting defaults to 150 (in case of <u>Accept=yes</u>) and 15 (otherwise) polling events per 2s. This
           is considerably lower than the default values for the trigger limit (see above) and means that the
           polling limit should typically ensure the trigger limit is never hit, unless one of them is
           reconfigured or disabled.

           Added in version 255.

       <u>PassFileDescriptorsToExec=</u>
           Takes a boolean argument. Defaults to off. If enabled, file descriptors created by the socket unit
           are passed to <u>ExecStartPost=</u>, <u>ExecStopPre=</u>, and <u>ExecStopPost=</u> commands from the socket unit. The
           passed file descriptors can be accessed with <b><a href="../man3/sd_listen_fds.3.html">sd_listen_fds</a></b>(3) as if the commands were invoked from
           the associated service units. Note that <u>ExecStartPre=</u> command cannot access socket file descriptors.

           Added in version 256.

       Check <b><a href="../man5/systemd.unit.5.html">systemd.unit</a></b>(5), <b><a href="../man5/systemd.exec.5.html">systemd.exec</a></b>(5), and <b><a href="../man5/systemd.kill.5.html">systemd.kill</a></b>(5) for more settings.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man1/systemctl.1.html">systemctl</a></b>(1), <b><a href="../man5/systemd-system.conf.5.html">systemd-system.conf</a></b>(5), <b><a href="../man5/systemd.unit.5.html">systemd.unit</a></b>(5), <b><a href="../man5/systemd.exec.5.html">systemd.exec</a></b>(5), <b><a href="../man5/systemd.kill.5.html">systemd.kill</a></b>(5),
       <b><a href="../man5/systemd.resource-control.5.html">systemd.resource-control</a></b>(5), <b><a href="../man5/systemd.service.5.html">systemd.service</a></b>(5), <b><a href="../man7/systemd.directives.7.html">systemd.directives</a></b>(7), <b><a href="../man3/sd_listen_fds.3.html">sd_listen_fds</a></b>(3),
       <b><a href="../man3/sd_listen_fds_with_names.3.html">sd_listen_fds_with_names</a></b>(3)

       For more extensive descriptions see the "systemd for Developers" series: <b>Socket</b> <b>Activation</b>[4], <b>Socket</b>
       <b>Activation,</b> <b>part</b> <b>II</b>[5], <b>Converting</b> <b>inetd</b> <b>Services</b>[6], <b>Socket</b> <b>Activated</b> <b>Internet</b> <b>Services</b> <b>and</b> <b>OS</b>
       <b>Containers</b>[7].

</pre><h4><b>NOTES</b></h4><pre>
        1. USB FunctionFS
           https://docs.kernel.org/usb/functionfs.html

        2. TCP Keepalive HOWTO
           <a href="http://www.tldp.org/HOWTO/html_single/TCP-Keepalive-HOWTO/">http://www.tldp.org/HOWTO/html_single/TCP-Keepalive-HOWTO/</a>

        3. Smack
           https://docs.kernel.org/admin-guide/LSM/Smack.html

        4. Socket Activation
           https://0pointer.de/blog/projects/socket-activation.html

        5. Socket Activation, part II
           https://0pointer.de/blog/projects/socket-activation2.html

        6. Converting inetd Services
           https://0pointer.de/blog/projects/inetd.html

        7. Socket Activated Internet Services and OS Containers
           https://0pointer.de/blog/projects/socket-activated-containers.html

systemd 257.7                                                                                  <u><a href="../man5/SYSTEMD.SOCKET.5.html">SYSTEMD.SOCKET</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>