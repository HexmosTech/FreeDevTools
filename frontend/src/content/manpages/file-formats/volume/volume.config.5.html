<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>volume.config - Traffic Server cache volume configuration file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/trafficserver">trafficserver_9.2.5+ds-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       volume.config - Traffic Server cache volume configuration file

       The <u>volume.config</u> file enables you to manage your cache space more efficiently and restrict disk usage by
       creating  cache  volumes  of  different sizes. By distributing the cache across multiple volumes, you can
       help decrease single-lock pressure when there are not many hard drives present. You can further configure
       these volumes to store data from certain origin servers and/or domains in the <u>hosting.config</u> file.

</pre><h4><b>FORMAT</b></h4><pre>
       For each volume you want to create, enter a line with the following format:

          volume=volume_number  scheme=protocol_type  size=volume_size

       where <b>volume_number</b> is a  number  between  1  and  255  (the  maximum  number  of  volumes  is  255)  and
       <b>protocol_type</b>  is  <b>http</b>. Traffic Server supports <b>http</b> for HTTP volume types; <b>volume_size</b> is the amount of
       cache space allocated to the volume. This value can be either a percentage of the total cache space or an
       absolute value. The absolute value must be a multiple of 128 MB, where 128 MB is the smallest value.   If
       you specify a percentage, then the size is rounded down to the closest multiple of 128 MB.

       Each  volume  is  striped  across  several  disks to achieve parallel I/O. For example: if there are four
       disks, then a 1-GB volume will have 256 MB on each  disk  (assuming  each  disk  has  enough  free  space
       available).  If  you  do  not  allocate all the disk space in the cache, then the extra disk space is not
       used. You can use the extra space later to create new volumes without deleting and clearing the  existing
       volumes.

       <b>IMPORTANT:</b>
          Changing this file to add, remove or modify volumes effectively invalidates the cache.

   <b>Optional</b> <b>ramcache</b> <b>setting</b>
       You  can  also  add  an option <b>ramcache=true/false</b> to the volume configuration line.  True is the default
       setting and so not needed unless you want to explicitly set it.  Setting <b>ramcache=false</b> will disable  the
       ramcache  that normally sits in front of a volume.  This may be desirable if you are using something like
       ramdisks, to avoid wasting RAM and cpu time on double caching objects.

</pre><h4><b>EXCLUSIVE</b> <b>SPANS</b> <b>AND</b> <b>VOLUME</b> <b>SIZES</b></h4><pre>
       In the following sample configuration 2 spans <u>/dev/disk1</u> and <u>/dev/disk2</u> are  defined  in  <u>storage.config</u>,
       where  span  <u>/dev/disk2</u>  is  assigned  to <u>volume</u> <u>3</u> exclusively (<u>volume</u> <u>3</u> is forced to an "exclusive" span
       <u>/dev/disk2</u>).  In <u>volume.config</u> there are 3 volumes defined, where <u>volume</u>  <u>1</u>  and  <u>volume</u>  <u>2</u>  occupy  span
       <u>/dev/disk1</u> taking each 50% of its space and <u>volume</u> <u>3</u> takes 100% of span <u>/dev/disk2</u> exclusively.

       storage.config:

          /dev/disk1
          /dev/disk2 volume=3 # &lt;- exclusive span

       volume.config:

          volume=1 scheme=http size=50%
          volume=2 scheme=http size=50%
          volume=3 scheme=http size=512 # &lt;- volume forced to a specific exclusive span

       It  is important to note that when percentages are used to specify volume sizes and "exclusive" spans are
       assigned (forced) to a particular volume (in this case <u>volume</u> <u>3</u>), the "exclusive"  spans  (in  this  case
       <u>/dev/disk2</u>)  are  excluded  from the total cache space when the "non-forced" volumes sizes are calculated
       (in this case <u>volume</u> <u>1</u> and <u>volume</u> <u>2</u>).

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following example partitions the cache across 5 volumes to  decreasing  single-lock  pressure  for  a
       machine  with  few  drives.  The  last  volume  being  an example of one that might be composed of purely
       ramdisks so that the ramcache has been disabled.:

          volume=1 scheme=http size=20%
          volume=2 scheme=http size=20%
          volume=3 scheme=http size=20%
          volume=4 scheme=http size=20%
          volume=5 scheme=http size=20% ramcache=false

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2025, <a href="mailto:dev@trafficserver.apache.org">dev@trafficserver.apache.org</a>

9.2                                               May 22, 2025                                  <u><a href="../man5/VOLUME.CONFIG.5.html">VOLUME.CONFIG</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>