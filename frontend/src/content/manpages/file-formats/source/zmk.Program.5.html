<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Program — template for compiling C/C++/ObjC programs</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/zmk-doc">zmk-doc_0.5.1-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Program — template for compiling C/C++/ObjC programs

</pre><h4><b>SYNOPSIS</b></h4><pre>
       include z.mk
       # programName is any valid identifier.
       programName.Sources = hello.c
       $(eval $(call ZMK.Expand,Program,programName))

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  template  <b>Program</b>  once  <u>expanded</u>  with  a  <u>program</u>  <u>name</u>  to creates rules for compiling, cleaning,
       installing and removing a single program written in C, C++ or Objective C.

       Source files are compiled to object files prefixed with <u>$(programName)-</u>, so that a single source file can
       be compiled separately with distinct preprocessor, compiler and linker options.

       When cross-compiling for <u>Windows</u> or <u>DOS</u>, the <u>$(exe)</u> variable expands to <u>.exe</u>

</pre><h4><b>TARGETS</b></h4><pre>
       This module provides the following targets.

   <b>$(programName)$(exe)</b>
       This target represents the program executable.

   <b>all</b>
       This <u>phony</u> target depends on <u>$(programName)$(exe)</u>

   <b>clean</b>
       This <u>phony</u> target removes <u>$(programName)$(exe)</u> as well as constituent <u>object</u> <u>files</u> and <u>dependency</u> <u>files</u>.

   <b>install</b>
       This   <u>phony</u>   target   copies   <u>$(programName)</u>   to    <u>$(programName.InstallDir)</u>,    with    the    name
       <u>$(programName.InstallName)</u>  and  mode  <u>$(programName.InstallMode)</u>.  The target directory is automatically
       created if required.

       The  variables  <b>Configure.ProgramPrefix</b>,   <b>Configure.ProgramSuffix</b>   and   <b>Configure.ProgramTransformName</b>
       automatically impact the installed names of all the programs.

   <b>uninstall</b>
       This <u>phony</u> target removes <u>$(programName)$(exe)</u> as installed by the <u>install</u> target.

</pre><h4><b>VARIABLES</b></h4><pre>
       This module provides the following variables.

   <b>$(programName).Sources</b>
       List of source files to compile.

       There is no default value. This variable must be set before <u>expanding</u> the template.

   <b>$(programName).Objects</b>
       List of object files to link.

       The default value is all the elements of <u>$(programName).Sources</u> with the added prefix <u>$(programName)-</u> and
       with the extension replaced by <u>.o</u>.

   <b>$(programName).Linker</b>
       Linker required to link object files together.

       The default value depends on the type of source files used, ensuring that C++ sources are linked with the
       C++ linker.

   <b>$(programName).InstallDir</b>
       The directory <u>$(programName)$(exe)</u> is installed to.

       The  default  value  is  <u>$(bindir)</u> but <u>$(sbindir)</u> or <u>$(libexecdir)</u> are commonly used as well. The special
       value <u>noinst</u> disables the rules related to installation and uninstallation.

   <b>$(programName).InstallName</b>
       The name of the program after installation.

       The default value is <u>$(programName)</u>

   <b>$(programName).InstallMode</b>
       The UNIX mode <u>$(programName)$(exe)</u> is installed with.

       The default value is <u>0755</u>.

   <b>DESTDIR</b>
       Path added to all installation targets.

       This variable is normally set externally, to install a  compiled  program  into  a  staging  area  during
       construction of a compiled binary package.

   <b>CFLAGS,</b> <b>CXXFLAGS,</b> <b>OBJCFLAGS</b>
       Options for the C, C++ and the Objective C compiler, respectively.

   <b>CPPFLAGS</b>
       Options for the preprocessor.

</pre><h4><b>IMPLEMENTATION</b> <b>NOTES</b></h4><pre>
       <b>Program</b>  uses <b>InstallUninstall</b> to handle installation and removal.  The <b>exe</b> variable is automatically set
       to <u>.exe</u> where appropriate.

</pre><h4><b>EXAMPLES</b></h4><pre>
       With the following <u>true_false.c</u> file:

                   #include &lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;

                   int main(void) {
                           return EXIT_CODE;
                   }

       The following <u>Makefile</u> builds the classic programs <u>true</u> and <u>false</u>.

                   include z.mk

                   true.Sources = true_false.c
                   $(eval $(call ZMK.Expand,Program,true))
                   true$(exe): CPPFLAGS += -DEXIT_CODE=EXIT_SUCCESS

                   false.Sources = true_false.c
                   $(eval $(call ZMK.Expand,Program,false))
                   false$(exe): CPPFLAGS += -DEXIT_CODE=EXIT_FAILURE

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>Program</b> template first appeared in zmk 0.1

</pre><h4><b>AUTHORS</b></h4><pre>
       Zygmunt Krynicki &lt;<u><a href="mailto:me@zygoon.pl">me@zygoon.pl</a></u>&gt;

zmk 0.5.1                                          May 3, 2020                                    <u><a href="../man5/zmk.Program.5.html">zmk.Program</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>