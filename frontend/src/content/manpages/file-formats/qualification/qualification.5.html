<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>qualification - User's guide to name qualification</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/djbdns-utils">djbdns-utils_1.05-22ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       qualification - User's guide to name qualification

</pre><h4><b>OVERVIEW</b></h4><pre>
       <b>Qualification</b>  means  conversion  of  a  short  host name that you type, such as <u>cheetah</u>, into a complete
       (``fully qualified'') domain name, such as <u>cheetah.heaven.af.mil</u>.

       This page explains the djbdns qualification procedure.  These rules are followed by  the  <u>dns_ip4_qualify</u>
       library routine in djbdns, and by programs that use the <b><a href="../man3/dns_ip4_qualify.3.html">dns_ip4_qualify</a></b>(3) routine.

</pre><h4><b>Rewriting</b> <b>instructions</b></h4><pre>
       Normally  the  djbdns   qualification  procedure  follows  instructions listed in <u>/etc/dnsrewrite</u>, a file
       created by your system administrator.  You can override <u>/etc/dnsrewrite</u> by creating  your  own  file  and
       setting the <u>$DNSREWRITEFILE</u> environment variable to the name of that file.

       Sample instructions:

         # anything.local -&gt; me
         -.local:me
         # me -&gt; 127.0.0.1
         =me:127.0.0.1
         # any.name.a -&gt; any.name.af.mil
         *.a:.af.mil
         # any-name-without-dots -&gt; any-name-without-dots.heaven.af.mil
         ?:.heaven.af.mil
         # remove trailing dot
         *.:

       Instructions are followed in order, each at most once.  There are four types of instructions:

       =<u>post</u>:<u>new</u>
              means that the host name <u>post</u> is replaced by <u>new</u>.

       *<u>post</u>:<u>new</u>
              means that any name of the form <u>prepost</u> is replaced by <u>prenew</u>.

       ?<u>post</u>:<u>new</u>
              means  that any name of the form <u>prepost</u>, where <u>pre</u> does not contain dots or brackets, is replaced
              by <u>prenew</u>.

       -<u>post</u>:<u>new</u>
              means that any name of the form <u>prepost</u> is replaced by <u>new</u>.

</pre><h4><b>Searching</b></h4><pre>
       The djbdns qualification procedure can search through DNS for several possible qualifications of a  name.
       For example, the name

       cheetah+.heaven.af.mil+.af.mil

       is  qualified  as  <u>cheetah.heaven.af.mil</u>  if  that name has IP addresses listed in DNS, or <u>cheetah.af.mil</u>
       otherwise.

       In general, <u>x</u>+<u>y1</u>+<u>y2</u>+<u>y3</u> is qualified as <u>xy1</u> if <u>xy1</u> has IP addresses listed in DNS; otherwise,  as  <u>xy2</u>  if
       <u>xy2</u> has IP addresses listed in DNS; otherwise, as <u>xy3</u>.  You can list any number of +'s.

       Searching is applied after rewriting, so you can use a rewriting instruction such as

       ?:+.heaven.af.mil+.af.mil

       to  have  <u>lion</u> qualified as <u>lion.heaven.af.mil</u> or <u>lion.af.mil</u>, and <u>tiger</u> qualified as <u>tiger.heaven.af.mil</u>
       or <u>tiger.af.mil</u>, and so on.

       Searching is generally not a recommended feature.  If you rely on <u>gw</u> being qualified  as  <u>gw.af.mil</u>,  and
       someone  suddenly  adds  a new <u>gw.heaven.af.mil</u>, you'll end up talking to the wrong host.  It's better to
       rely on syntactic rules that you control.

</pre><h4><b>Compatibility</b> <b>mechanisms</b></h4><pre>
       If the rewriting-instructions file does not exist, the djbdns qualification procedure looks for  a  local
       domain name in three places:

       1.     the <u>$LOCALDOMAIN</u> environment variable, if it is set; or

       2.     the  first  <u>domain</u>  or  <u>search</u> line in <u><a href="file:/etc/resolv.conf">/etc/resolv.conf</a></u>, if <u><a href="file:/etc/resolv.conf">/etc/resolv.conf</a></u> exists and has such a
              line; or

       3.     everything after the first dot in the system's hostname.

       It then creates rewriting instructions of the form

         ?:.<u>domain</u>
         *.:

       so that .<u>domain</u> is added to any name without dots or brackets.

       You can specify searching in <u>$LOCALDOMAIN</u> by using several domain names separated by spaces.  Your system
       administrator can specify searching in <u><a href="file:/etc/resolv.conf">/etc/resolv.conf</a></u> by putting several domains on a <u>search</u> line.

</pre><h4><b>Compatibility</b> <b>notes</b></h4><pre>
       Different DNS client programs use different qualification procedures.  Two major differences between  the
       djbdns qualification procedure and other qualification procedures:

              Most  programs  use  only  <u><a href="file:/etc/resolv.conf">/etc/resolv.conf</a></u>.   They  don't know anything about <u>/etc/dnsrewrite</u> and
              <u>$DNSREWRITEFILE</u>.

              Most long-running programs don't notice changes in <u><a href="file:/etc/resolv.conf">/etc/resolv.conf</a></u>;  they  read  <u><a href="file:/etc/resolv.conf">/etc/resolv.conf</a></u>
              when  they  start,  and  they  don't  reread it until they are restarted.  In contrast, the djbdns
              qualification procedure checks for changes every 10 minutes or 10000 uses.

       Two minor differences:

              Some programs interpret a <u>domain</u> line in <u><a href="file:/etc/resolv.conf">/etc/resolv.conf</a></u> as specifying a search  list  consisting
              of various suffixes of the domain.

              Many programs will search the local domain for names <u>with</u> dots.

       If you want the local domain searched for names with dots, you can set it up with rewriting:

         # aol.com -&gt; aol.com or aol.com.heaven.af.mil
         *:++.heaven.af.mil
         # but skip directly to heaven.af.mil if no dots
         ?++.heaven.af.mil:.heaven.af.mil

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/dnsipq.1.html">dnsipq</a>(1)

       <a href="http://cr.yp.to/djbdns.html">http://cr.yp.to/djbdns.html</a>

                                                                                                <u><a href="../man5/qualification.5.html">qualification</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>