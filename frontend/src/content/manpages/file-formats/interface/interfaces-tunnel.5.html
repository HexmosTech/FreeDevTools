<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>interfaces-tunnel - Tunnel extensions for the interfaces(5) file format</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ifupdown-ng">ifupdown-ng_0.12.1-7_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>interfaces-tunnel</b> - Tunnel extensions for the <a href="../man5/interfaces.5.html">interfaces</a>(5) file format

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The following options set up tunneling interfaces with ifupdown-ng.

</pre><h4><b>TUNNEL-RELATED</b> <b>OPTIONS</b></h4><pre>
       A  tunnel  interface  must  have  a  mode,  remote IP and a local IP or device set, all other options are
       optional.

       <b>tunnel-mode</b> <u>mode</u>
           Denotes the mode for this tunnel. Basically all tunnel  modes  supported  by  Linux  /  iproute2  are
           supported as well.  This includes but is not limited to <u>gre</u>/<u>gretap</u>, <u>ip6gre</u>/<u>ip6gretap</u>, <u>ipip</u>/<u>ip6ip</u>/<u>sit</u>.

       <b>tunnel-local</b> <u>IP</u>
           Denotes  the  IP  address used as the local tunnel endpoint.  According to the <u>tunnel-mode</u> an IPv4 or
           IPv6 address has to be given. For compatiblity to ifupdown1 <u>local</u> is an alias for this option.

       <b>tunnel-local-dev</b> <u>interface</u>
           When the local IP address the tunnel should be established from  isn't  static  and  therefore  might
           change  (e.g. configured by DHCP or PPP) it might be desireable to just use the address configured on
           <u>interface</u>. When <u>tunnel-local-dev</u> is given instead of <u>tunnel-local</u> ifupdown-ng will try  to  determine
           the  IP  address  set  on the given <u>interface</u> with respect to the address family required to set up a
           tunnel of the given <u>mode</u> and use this to set up the tunnel.

       <b>tunnel-remote</b> <u>IP</u>
           Denotes the IP address used as the remote tunnel endpoint.  According to the <u>tunnel-mode</u> an  IPv4  or
           IPv6 address has to be given. For compatiblity to ifupdown1 <u>endpoint</u> is an alias for this option.

       <b>tunnel-physdev</b> <u>interface</u>
           Denotes  the <u>interface</u> the encapsulated packets should be sent out by. This comes in handy when using
           VRFs to denote that the local tunnel endpoint should be  terminated  in  VRF  <u>interface</u>  or  the  VRF
           associated with <u>interface</u>.

           Note: Depending on the <u>mode</u> of the tunnel either the VRF interface or the real underlay interface may
           have to given as <u>interface</u>.

       <b>tunnel-ttl</b> <u>ttl</u>
           Denotes  the TTL value to use in outgoing packets.  <u>ttl</u> is a number in the range 1 - 255 whereas 0 is
           a special value meaning that packets inherit the TTL value.  The  default  for  IPv4  tunnels  is  to
           inherit  the  TTL,  for IPv6 tunnels it's 64.  For compatiblity to ifupdown1 <u>ttl</u> is an alias for this
           option.

</pre><h4><b>IPIP/SIT-RELATED</b> <b>OPTIONS</b></h4><pre>
       <b>tunnel-encap</b> <u>encap</u>
           Denotes the type of secondary UDP encapsulation to use for  this  tunnel  if  any.   Supported  <u>encap</u>
           values are <u>fou</u>, <u>gue</u>, and <u>none</u>. <u>fou</u> indicates Foo-Over-UDP, <u>gue</u> indicates Generic UDP Encapsulation.

</pre><h4><b>GRE-RELATED</b> <b>OPTIONS</b></h4><pre>
       <b>tunnel-encap</b> <u>encap</u>
           Denotes  the  type  of  secondary  UDP  encapsulation to use for this tunnel if any.  Supported <u>encap</u>
           values are <u>fou</u>, <u>gue</u>, and <u>none</u>. <u>fou</u> indicates Foo-Over-UDP, <u>gue</u> indicates Generic UDP Encapsulation.

       <b>tunnel-key</b> <u>key</u>
           Denotes the_key to used for keyed GRE to allow multiple tunnels between the same two endpoints.   <u>key</u>
           is either a number or an IPv4 address- like dotted quad.  The key parameter specifies the same key to
           use  in both directions.  The <u>tunnel-ikey</u> and <u>tunnel-okey</u> parameters specify different keys for input
           and output.  For compatiblity to ifupdown1 <u>key</u> is an alias for this option.

       <b>tunnel-hoplimit</b> <u>ttl</u>
           Denotes the Hop Limit value to use in outgoing packets for <u>ip6gre</u>/<u>ip6gretap</u> tunnels.

       <b>tunnel-ignore-df</b> <u>bool</u>
           Denotes wether to enable/disable IPv4 DF suppression on this tunnel.  Normally datagrams that  exceed
           the  MTU  will be fragmented; the presence of the DF flag inhibits this, resulting instead in an ICMP
           Unreachable (Fragmentation Required) message.  Enabling this attribute  causes  the  DF  flag  to  be
           ignored.

       <b>tunnel-ikey</b> <u>key</u>
           Denotes the key to used for keyed GRE for packets received.  See <u>tunnel-key</u> for details.

       <b>tunnel-okey</b> <u>key</u>
           Denotes the key to used for keyed GRE for packets sent out.  See <u>tunnel-key</u> for details.

       <b>tunnel-pmtudisc</b> <u>bool</u>
           Denotes  wether to enable/disable Path MTU Discovery on this tunnel.  It is enabled by default.  Note
           that a fixed ttl is incompatible with this option: tunneling with  a  fixed  ttl  always  makes  pmtu
           discovery.

       <b>tunnel-tos</b> <u>tos</u>
           Denotes the TOS value to use in outgoing packets.

</pre><h4><b>EXAMPLES</b></h4><pre>
       A simple GRE tunnel

           auto gre0
           iface gre0
                tunnel-mode gre
                tunnel-remote 198.51.100.1
                tunnel-local 203.0.113.2
                #
                address 192.0.2.42/24
                address 2001:db8::42/64

       A GRE tunnel where the local IP is learned from <u>eth0</u>

           auto gre1
           iface gre1
                tunnel-mode gre
                tunnel-remote 198.51.100.1
                tunnel-local-dev eth0
                #
                address 192.0.2.42/24
                address 2001:db8::42/64

       A GRE tunnel which transfers encapasulated packets via <u>eth0</u> which is part of a VRF.

           auto eth0
           iface eth0
                address 203.0.113.2/24
                gateway 203.0.113.1
                vrf vrf_external

           auto tun-vrf
           iface tun-vrf
                tunnel-mode gre
                tunnel-remote 198.51.100.1
                tunnel-local 203.0.113.2
                tunnel-physdev eth0
                #
                address 192.0.2.42/24
                address 2001:db8::42/64

           auto vrf_external
           iface vrf_external
                vrf-table 1023

</pre><h4><b>AUTHORS</b></h4><pre>
       Maximilian Wilhelm &lt;<a href="mailto:max@sdn.clinic">max@sdn.clinic</a>&gt;

                                                   2025-03-25                               <u><a href="../man5/interfaces-tunnel.5.html">interfaces-tunnel</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>