<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configure — module providing build time configuration system</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/zmk-doc">zmk-doc_0.5.1-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Configure — module providing build time configuration system

</pre><h4><b>SYNOPSIS</b></h4><pre>
       include z.mk

       $(eval $(call ZMK.Import,Configure))

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>Configure</b>  module  provides  two  sides  of the build-time configuration system. On one hand side it
       provides the familiar <u>configure</u> script, which can be used to set up various settings, prepare a directory
       for <u>out-of-tree</u> <u>build</u>, and integrate with project specific configuration settings. On the other  hand  it
       exposes  the collected information as a set of variables, allowing the rest of the build system to modify
       its behavior accordingly.

</pre><h4><b>TARGETS</b></h4><pre>
       This module provides the following targets.

   <b>configure</b>
       This target generates the configuration script. The script is also automatically placed inside the source
       archive, so that the recipient does not need to have a local installation of <u>zmk</u> to build a project  from
       source.

   <b>config.$(NAME).mk</b>
       This  target  is  named after the configuration file created by the <b>configure</b> script. The rules are such,
       that if the configure script is newer than the configuration file, then  the  script  is  re-executed  to
       generate a possibly updated configuration file.

   <b>distclean</b>
       This   <u>phony</u>   target  removes  the  configuration  file  <b>config.$(NAME).mk</b>.   In  <u>maintainer</u>  <u>mode</u>,  the
       configuration file is also removed.

</pre><h4><b>VARIABLES</b></h4><pre>
       This module provides the following variables.

   <b>Configure.HostArchTriplet</b>
       This variable is set by the <b>configure</b> script when invoked with the <u>--host=...</u> option. It  represents  the
       <u>triplet</u> describing the system which will eventually execute the compiled binaries. This is in contrast to
       the system that is preforming the build.

       Unlike  in  <u>autoconf</u> this variable is not set automatically. It is usually provided by <u>Linux</u> <u>distribution</u>
       <u>packaging</u> which follows the up-to-date conventions on architecture triplet names.  The  triplet  contains
       three  components,  separated  by  dashes,  the  <u>CPU</u> <u>architecture</u>, <u>Kernel</u> <u>name</u> and <u>Operating</u> <u>System</u> <u>name</u>.
       Popular values include <u>x86_64-linux-gnu</u>, <u>aarch64-linux-gnu</u> and <u>riscv64-linux-gnu</u>.  Note that there  is  a
       lot of variability in the architecture name and special cases related to the ARM architecture.

   <b>Configure.BuildArchTriplet</b>
       This  variable is set by the <b>configure</b> script when invoked with the <u>--build=...</u> option. It represents the
       <u>triplet</u> describing the system which is performing the build process. This is in contrast  to  the  system
       that will execute the built binaries.

       When  both  <b>Configure.HostArchTriplet</b>  and <b>Configure.BuildArchTriplet</b> are set and their values differ and
       when <b>CC</b> and <b>CXX</b> are not overridden, then zmk automatically selects a <u>cross-compiler</u> from the <u>GNU</u> <u>Compiler</u>
       <u>Collection</u> named <u>$(Configure.HostArchTriplet)-gcc</u> and <u>$(Configure.HostArchTriplet)-g++</u> for the C and  C++
       compilers, respectively.

   <b>Configure.TargetArchTriplet</b>
       This variable is set by the <b>configure</b> script when invoked with the <u>--target=...</u> option. It represents the
       <u>triplet</u>  describing  the  system  for  which  any  generated  code  will be made. This variable is needed
       infrequently, usually by tools such as compilers, to prepare them for creating binary code  for  a  given
       architecture.

   <b>Configure.SysRoot</b>
       This  variable is set by the <b>configure</b> script when invoked with the <u>--with-libtool-sysroot=...</u> option. It
       represents the explicit root directory of the file system where the compiler should  look  for  libraries
       and  headers.  It  is typically used during cross-compilation, to isolate the build process from whatever
       headers and libraries are installed natively on the system.

   <b>Configure.DependencyTracking</b>
       This variable is controlled by the <b>configure</b> script options  <u>--enable-dependency-tracking</u>  (default)  and
       <u>--disable-dependency-tracking</u>.   When  enabled  it  expands  to  <u>yes</u>  and  causes compatible compilers to
       generate dependency information when compiling source  files,  that  is  subsequently  used  by  Make  to
       understand relationship between all the source files and object files.

       When performing pristine builds in a scratch environment that does not contain any old object files, this
       setting can be disabled to speed up the build a little.

   <b>Configure.MaintainerMode</b>
       This  variable  is  controlled  by  the  <b>configure</b>  script options <u>--enable-maintainer-mode</u> (default) and
       <u>--disable-maintainer-mode</u>.   When  enabled  it  expands  to   <u>yes</u>   and   impacts   the   <b>configure</b>   and
       <b>config.$(NAME).mk</b> targets as described earlier.

   <b>Configure.SilentRules</b>
       This   variable   is   controlled   by   the   <b>configure</b>   script   options   <u>--enable-silent-rules</u>   and
       <u>--disable-silent-rules</u> (default). When enabled it expands to <u>yes</u> and silences make rules defined by zmk.

   <b>Configure.StaticLibraries</b>
       This  variable  is  controlled  by  the  <b>configure</b>   script   options   <u>--enable-static</u>   (default)   and
       <u>--disable-static</u>.  When static libraries are disabled the template <b>Library.A</b> becomes inactive.

   <b>Configure.DynamicLibraries</b>
       This   variable   is   controlled   by  the  <b>configure</b>  script  options  <u>--enable-dynamic</u>  (default)  and
       <u>--disable-dynamic</u>.  When dynamic libraries are disabled the templates <b>Library.So</b> and <b>Library.DyLib</b> become
       inactive.

   <b>Configure.ProgramPrefix</b>
       This variable is set by the <b>configure</b> script when invoked with the <u>--program-prefix=...</u> option.

       The argument is the prefix added to installed name of all the programs built with  the  <b>Program</b>  and  the
       <b>Script</b> templates.

   <b>Configure.ProgramSuffix</b>
       This variable is set by the <b>configure</b> script when invoked with the <u>--program-suffix=...</u> option.

       The  argument  is  the  suffix added to installed name of all the programs built with the <b>Program</b> and the
       <b>Script</b> templates.

   <b>Configure.ProgramTransformName</b>
       This variable is set by the <b>configure</b> script when invoked with the <u>--program-transform-name=...</u> option.

       The argument is a sed expression used to transform the installed name of all the programs built with  the
       <b>Program</b> and the <b>Script</b> templates. The transformation affects the entire name, together with any prefix or
       suffix defined by their options.

   <b>Configure.Configured</b>
       This variable expands to <u>yes</u> when the <b>configure</b> script was used to customize the build process. It can be
       used  to  offer  default  behaviors  that  are  appropriate  to a given project, without interacting with
       customizations performed by distribution packaging.

   <b>Configure.Options</b>
       This variable expands to the command line arguments passed to  the  <b>configure</b>  script.  It  is  used  for
       automatic re-configuration supported by <u>maintainer</u> <u>mode</u>.  It can be also provided to the <u>pre-processor</u> to
       embed the information about build-time configuration into the application or library binary.

</pre><h4><b>FILES</b></h4><pre>
   <b>configure</b>
       Automatically  generated  POSIX  shell  script  mimicking  the  appearance and behavior of a similar file
       provided by GNU autoconf. This script should not be committed to version control systems. This script  is
       added  to  release  archives,  as  it  allows  one  to compile a project from source without additionally
       depending on zmk libraries.

   <b>config.$(NAME).mk</b>
       Project specific configuration file generated by executing the <b>configure</b> <b>script.</b>

</pre><h4><b>EXAMPLES</b></h4><pre>
       The <b>Configure</b> module is automatically imported and is implicitly available when templates such as <b>Program</b>
       or <b>Script</b> are used. It does not require any  additional  input  files.  All  customization  is  available
       directly from the project makefile.

</pre><h4><b>HISTORY</b></h4><pre>
       The  <b>Configure</b>  module  first  appeared  in  zmk  0.3. Starting with version 0.4 the configuration module
       provides the configure script and configuration persistence only to projects which define their <b>Configure</b>
       NAME .

</pre><h4><b>BUGS</b></h4><pre>
       Versions prior to 0.4 used a fixed name for the configuration  file  created  by  running  the  <u>configure</u>
       script,  namely  <u>GNUmakefile.configured.mk</u>.  This caused issues with make's PATH traversal when searching
       for include candidates that was resolved by using configuration files specific to a given project, called
       <u>config.$(NAME).mk</u>.

</pre><h4><b>AUTHORS</b></h4><pre>
       Zygmunt Krynicki &lt;<u><a href="mailto:me@zygoon.pl">me@zygoon.pl</a></u>&gt;

zmk 0.5.1                                         Dec 28, 2020                              <u>zmk.Configure.5</u>(PRM)
</pre>
 </div>
</div></section>
</div>
</body>
</html>