<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>slurmdbd.conf - Slurm Database Daemon (SlurmDBD) configuration file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/slurmdbd">slurmdbd_24.11.5-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       slurmdbd.conf - Slurm Database Daemon (SlurmDBD) configuration file

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>slurmdbd.conf</b>   is  an  ASCII  file  which  describes  Slurm  Database  Daemon  (SlurmDBD)  configuration
       information.  The file will always be located in the same directory as the <b>slurm.conf</b>.

       The contents of the file are case insensitive except for the names of nodes and files. Any text following
       a "#" in the configuration file is treated as a comment through the end of that  line.   Changes  to  the
       configuration  file  take  effect  upon restart of SlurmDBD or daemon receipt of the SIGHUP signal unless
       otherwise noted.

       This file should be only on the computer where SlurmDBD executes and should only be readable by the  user
       which  executes  SlurmDBD  (e.g. "slurm").  If the slurmdbd daemon is started as user root and changes to
       another user ID, the configuration file will initially be read as user root, but  will  be  read  as  the
       other  user  ID  in  response to a SIGHUP signal.  This file should be protected from unauthorized access
       since it contains a database password.  The overall configuration parameters available include:

       <b>AllowNoDefAcct</b>
              Remove requirement for users to have a default account. Boolean, yes to turn on, no  (default)  to
              enforce default accounts.

       <b>AllResourcesAbsolute</b>
              When  adding  a  resource  (license) treat allocated/allowed counts as absolute numbers instead of
              percentage numbers. Boolean, yes to turn on, no  (default)  to  use  the  numbers  as  percentages
              instead.

       <b>ArchiveDir</b>
              If  ArchiveScript  is  not  set the slurmdbd will generate a file that can be read in anytime with
              sacctmgr load filename. This directory is where the file will be placed after a  purge  event  has
              happened  and  archive for that element is set to true. Default is /tmp. The format for this files
              name  is  $ArchiveDir/$ClusterName_$ArchiveObject_archive_$BeginTimeStamp_$endTimeStamp  We  limit
              archive files to 50000 records per file. If more than 50000 records exist during that time period,
              they will be written to a new file. Subsequent archive files during the same time period will have
              ".&lt;number&gt;"  appended to the file, for example .2, with the number increasing by one for each file
              in the same time period.

       <b>ArchiveEvents</b>
              When purging events also archive them. Boolean, yes to archive event data, no  otherwise.  Default
              is no.

       <b>ArchiveJobs</b>
              When  purging  jobs  also archive them. Boolean, yes to archive job data, no otherwise. Default is
              no.

       <b>ArchiveResvs</b>
              When purging reservations also  archive  them.  Boolean,  yes  to  archive  reservation  data,  no
              otherwise. Default is no.

       <b>ArchiveScript</b>
              This  script can be executed every time a rollup happens (every hour, day and month), depending on
              the Purge*After options. This script is used to transfer accounting records out  of  the  database
              into  an archive. It is used in place of the internal process used to archive objects.  The script
              is executed with no arguments, and the following environment variables are set.

              <b>SLURM_ARCHIVE_EVENTS</b>
                     1 for archive events 0 otherwise.

              <b>SLURM_ARCHIVE_LAST_EVENT</b>
                     Time of last event start to archive.

              <b>SLURM_ARCHIVE_JOBS</b>
                     1 for archive jobs 0 otherwise.

              <b>SLURM_ARCHIVE_LAST_JOB</b>
                     Time of last job submit to archive.

              <b>SLURM_ARCHIVE_STEPS</b>
                     1 for archive steps 0 otherwise.

              <b>SLURM_ARCHIVE_LAST_STEP</b>
                     Time of last step start to archive.

              <b>SLURM_ARCHIVE_SUSPEND</b>
                     1 for archive suspend data 0 otherwise.

              <b>SLURM_ARCHIVE_TXN</b>
                     1 for archive transaction data 0 otherwise.

              <b>SLURM_ARCHIVE_USAGE</b>
                     1 for archive usage data 0 otherwise.

              <b>SLURM_ARCHIVE_LAST_SUSPEND</b>
                     Time of last suspend start to archive.

       <b>ArchiveSteps</b>
              When purging steps also archive them. Boolean, yes to archive step data, no otherwise. Default  is
              no.

       <b>ArchiveSuspend</b>
              When  purging  suspend  data  also archive it. Boolean, yes to archive suspend data, no otherwise.
              Default is no.

       <b>ArchiveTXN</b>
              When purging transaction data also archive it.  Boolean,  yes  to  archive  transaction  data,  no
              otherwise. Default is no.

       <b>ArchiveUsage</b>
              When purging usage data (Cluster, Association and WCKey) also archive it.  Boolean, yes to archive
              transaction data, no otherwise. Default is no.

       <b>AuthAltTypes</b>
              Comma-separated  list  of  alternative  authentication  plugins  that the slurmdbd will permit for
              communication. Acceptable values at present include <b>auth/jwt</b>.

              <b>NOTE</b>: The path to the  required  jwt_hs256.key  must  be  specified  with  <b>AuthAltParameters</b>.  The
              jwt_hs256.key  should  only be visible to the SlurmUser and root. It is not suggested to place the
              jwt_hs256.key on any nodes other than the  machine  running  <b>slurmctld</b>  and  the  machine  running
              <b>slurmdbd</b>.   <b>auth/jwt</b>  can be activated by the presence of the <u>SLURM_JWT</u> environment variable. When
              activated, it will override the default

       <b>AuthAltParameters</b>
              Used to  define  alternative  authentication  plugins  options.  Multiple  options  may  be  comma
              separated.

              <b>jwks</b>=  Absolute  path  to JWKS file. Key should be owned by SlurmUser or root, must be readable by
                     SlurmUser, with suggested permissions of 0400. It must not be writable  by  'other'.   Only
                     RS256  keys  are  supported, although other key types may be listed in the file. If set, no
                     HS256 key will be loaded by default  (and  token  generation  is  disabled),  although  the
                     jwt_key setting may be used to explicitly re-enable HS256 key use (and token generation).

              <b>jwt_key</b>=
                     Absolute path to JWT key file. Key must be HS256. Key should be owned by SlurmUser or root,
                     must  be  readable  by  SlurmUser,  with  suggested  permissions  of  0400.  It must not be
                     accessible by 'other'.

       <b>AuthInfo</b>
              Additional information to be used for authentication of  communications  with  the  Slurm  control
              daemon  (slurmctld)  on  each  cluster.   The  interpretation  of  this  option is specific to the
              configured <b>AuthType</b>.  Multiple options may  be  specified  in  a  comma-delimited  list.   If  not
              specified, the default authentication information will be used.

              <b>socket</b>        Path      name     to     a     MUNGE     daemon     socket     to     use     (e.g.
                            "socket=/var/run/munge/munge.socket.2").       The      default       value       is
                            "/var/run/munge/munge.socket.2".  Used by <u>auth/munge</u> and <u>cred/munge</u>.

              <b>ttl</b>           Credential  lifetime,  in  seconds (e.g. "ttl=300").  The default value is dependent
                            upon the MUNGE installation, but is typically 300 seconds.

              <b>use_client_ids</b>
                            Allow the <u>auth/slurm</u> plugin to  authenticate  users  without  relying  on  the  user
                            information from LDAP or the operating system.

       <b>AuthType</b>
              Define  the  authentication  method  for communications between Slurm components. SlurmDBD must be
              terminated prior to changing the value of <b>AuthType</b> and later  restarted.  This  should  match  the
              <b>AuthType</b> used in slurm.conf.  Acceptable values at present:

              <b>auth/munge</b>
                     Indicates that MUNGE is to be used (default).  (See "https://dun.github.io/munge/" for more
                     information).

              <b>auth/slurm</b>
                     Use Slurm's internal authentication plugin.

       <b>CommitDelay</b>
              How many seconds between commits on a connection from a Slurmctld. This speeds up inserts into the
              database  dramatically.  If  you  are  running  a very high throughput of jobs you should consider
              setting this. In testing, 1 second improves the  slurmdbd  performance  dramatically  and  reduces
              overhead. There is a small probability of data loss though since this creates a window in which if
              the  slurmdbd  exits  abnormally  for  any reason the data not committed could be lost. While this
              situation should be very rare, it does present an extremely small risk, but may be the only way to
              run in extremely heavy environments. In all honesty, the risk is quite low, but still present.

       <b>CommunicationParameters</b>
              Comma separated options identifying communication options.

              <b>DisableIPv4</b>    Disable IPv4 only operation for the slurmdbd. This  should  also  be  set  in  your
                             <b>slurm.conf</b> file.

              <b>EnableIPv6</b>     Enable  using  IPv6  addresses  for  the  slurmdbd.  When using both IPv4 and IPv6,
                             address family preferences will be based on your <a href="file:/etc/gai.conf">/etc/gai.conf</a>  file.  This  should
                             also be set in your <b>slurm.conf</b> file.

              <b>keepaliveinterval</b>=Specifies the interval, in seconds, between keepalive probes on idle
                             connections.   This  affects  most  outgoing  connections  from  the slurmdbd (e.g.
                             between the primary and backup, or  from  the  slurmdbd  to  the  slurmctld).   The
                             default value is 30 seconds.

              <b>keepaliveprobes</b>=Specifies the number of unacknowledged keepalive probes sent before considering
                             a  connection  broken.   This  affects  most outgoing connections from the slurmdbd
                             (e.g. between the primary and backup, or from the slurmdbd to the slurmctld).   The
                             default value is 3.

              <b>keepalivetime</b>=Specifies how long, in seconds, a connection must be idle before starting to
                             send  keepalive probes as well as how long to delay closing a connection to process
                             messages still in the queue.  This  affects  most  outgoing  connections  from  the
                             slurmdbd  (e.g.  between  the  primary  and  backup,  or  from  the slurmdbd to the
                             slurmctld).  The default value is 30 seconds.

       <b>DbdAddr</b>
              Name that <b>DbdHost</b> should be referred to in establishing a communications path. This name  will  be
              used as an argument to the getaddrinfo() function for identification. For example, "elx0000" might
              be  used  to  designate  the  Ethernet  address  for node "lx0000". By default the <b>DbdAddr</b> will be
              identical in value to <b>DbdHost</b>.

       <b>DbdBackupHost</b>
              The short, or long, name of the machine where the backup Slurm Database Daemon is  executed  (i.e.
              the  name  returned  by  the  command  "hostname  -s").   This  host  must have access to the same
              underlying database specified by the 'Storage' options mentioned below.

       <b>DbdHost</b>
              The short, or long, name of the machine where the Slurm Database Daemon is executed (i.e. the name
              returned by the command "hostname -s").  This value must be specified.

       <b>DbdPort</b>
              The port number that the Slurm Database Daemon (slurmdbd) listens to for work. The  default  value
              is SLURMDBD_PORT as established at system build time. If no value is explicitly specified, it will
              be set to 6819.  This value must be equal to the <b>AccountingStoragePort</b> parameter in the slurm.conf
              file.

       <b>DebugFlags</b>
              Defines specific subsystems which should provide more detailed event logging.  Multiple subsystems
              can  be  specified  with  comma  separators.   Most  DebugFlags  will result in additional logging
              messages for the identified subsystems if <b>DebugLevel</b> is at 'verbose' or higher.  More logging  may
              impact performance.  Valid subsystems available today (with more to come) include:

              <b>AuditRPCs</b>
                     For  all  inbound  RPCs to slurmdbd, print the originating address, authenticated user, and
                     RPC type before the connection is processed.

              <b>DB_ARCHIVE</b>
                     SQL statements/queries when dealing with archiving and purging the database.

              <b>DB_ASSOC</b>
                     SQL statements/queries when dealing with associations in the database.

              <b>DB_EVENT</b>
                     SQL statements/queries when dealing with (node) events in the database.

              <b>DB_JOB</b> SQL statements/queries when dealing with jobs in the database.

              <b>DB_QOS</b> SQL statements/queries when dealing with QOS in the database.

              <b>DB_QUERY</b>
                     SQL statements/queries when dealing with transactions and such in the database.

              <b>DB_RESERVATION</b>
                     SQL statements/queries when dealing with reservations in the database.

              <b>DB_RESOURCE</b>
                     SQL statements/queries when dealing with resources like licenses in the database.

              <b>DB_STEP</b>
                     SQL statements/queries when dealing with steps in the database.

              <b>DB_TRES</b>
                     SQL statements/queries when dealing with trackable resources in the database.

              <b>DB_USAGE</b>
                     SQL statements/queries when dealing with usage queries and inserts in the database.

              <b>DB_WCKEY</b>
                     SQL statements/queries when dealing with wckeys in the database.

              <b>FEDERATION</b>
                     SQL statements/queries when dealing with federations in the database.

              <b>Network</b>
                     Network details.

              <b>NetworkRaw</b>
                     Dump raw hex values of key Network communications.

              <b>TLS</b>    TLS plugin

       <b>DebugLevel</b>
              The level of detail to provide the Slurm Database Daemon's logs.  The default value is <b>info</b>.

              <b>quiet</b>     Log nothing

              <b>fatal</b>     Log only fatal errors

              <b>error</b>     Log only errors

              <b>info</b>      Log errors and general informational messages

              <b>verbose</b>   Log errors and verbose informational messages

              <b>debug</b>     Log errors and verbose informational messages and debugging messages

              <b>debug2</b>    Log errors and verbose informational messages and more debugging messages

              <b>debug3</b>    Log errors and verbose informational messages and even more debugging messages

              <b>debug4</b>    Log errors and verbose informational messages and even more debugging messages

              <b>debug5</b>    Log errors and verbose informational messages and even more debugging messages

       <b>DebugLevelSyslog</b>
              The slurmdbd daemon will log events to the syslog file at the specified level of  detail.  If  not
              set,  the  slurmdbd daemon will log to syslog at level <b>fatal</b>, unless there is no <b>LogFile</b> and it is
              running in the background, in which case  it  will  log  to  syslog  at  the  level  specified  by
              <b>DebugLevel</b>  (at <b>fatal</b> in the case that <b>DebugLevel</b> is set to <b>quiet</b>) or it is run in the foreground,
              when it will be set to quiet.

              <b>quiet</b>     Log nothing

              <b>fatal</b>     Log only fatal errors

              <b>error</b>     Log only errors

              <b>info</b>      Log errors and general informational messages

              <b>verbose</b>   Log errors and verbose informational messages

              <b>debug</b>     Log errors and verbose informational messages and debugging messages

              <b>debug2</b>    Log errors and verbose informational messages and more debugging messages

              <b>debug3</b>    Log errors and verbose informational messages and even more debugging messages

              <b>debug4</b>    Log errors and verbose informational messages and even more debugging messages

              <b>debug5</b>    Log errors and verbose informational messages and even more debugging messages

              <b>NOTE</b>: By default, Slurm's systemd service files start  daemons  in  the  foreground  with  the  -D
              option.  This  means  that  systemd  will  capture  stdout/stderr output and print that to syslog,
              independent of Slurm printing to  syslog  directly.  To  prevent  systemd  from  doing  this,  add
              "StandardOutput=null" and "StandardError=null" to the respective service files or override files.

       <b>DefaultQOS</b>
              When  adding  a  new  cluster  this  will  be  used as the qos for the cluster unless something is
              explicitly set by the admin with the create.

       <b>DisableCoordDBD</b>
              Disable the coordinator status in all slurmdbd interactions.

              When this is set, a coordinator may not do the  following  in  slurmdbd  as  they  relate  to  the
              account(s) they coordinate:

              Add accounts
              Add/Modify/Remove associations
              Add/Remove coordinators
              Add/Modify/Remove users

              Boolean,  yes  to  turn  on,  no  (default)  to  recognize  coordinator  status  in  all  slurmdbd
              interactions.

       <b>HashPlugin</b>
              Identifies the type of hash plugin to use for network communication.  Acceptable values include:

              <b>hash/k12</b>       Hashes are generated by the KangorooTwelve cryptographic hash  function.   This  is
                             the default.

              <b>hash/sha3</b>      Hashes are generated by the SHA-3 cryptographic hash function.

              <b>NOTE</b>: Make sure that HashPlugin has the same value both in slurm.conf and in slurmdbd.conf.

       <b>LogFile</b>
              Fully  qualified  pathname of a file into which the Slurm Database Daemon's logs are written.  The
              default value is none (performs logging via syslog).
              See the section <b>LOGGING</b> in the slurm.conf man page if a pathname is specified.

       <b>LogTimeFormat</b>
              Format of the  timestamp  in  slurmdbd  log  files.  Accepted  format  values  include  "iso8601",
              "iso8601_ms",  "rfc5424",  "rfc5424_ms",  "rfc3339",  "clock", "short" and "thread_id". The values
              ending in "_ms" differ from the ones without in that fractional seconds with millisecond precision
              are printed.  The default value is "iso8601_ms".  The  "rfc5424"  formats  are  the  same  as  the
              "iso8601"  formats  except  that  the  timezone  value  is also shown.  The "clock" format shows a
              timestamp in microseconds retrieved with the C standard clock() function. The "short" format is  a
              short  date  and time format. The "thread_id" format shows the timestamp in the C standard ctime()
              function form without the year but including the microseconds, the daemon's  process  ID  and  the
              current  thread  name  and  ID.   A special option "format_stderr" can be added to the format as a
              comma separated value (e.g. "LogTimeFormat=iso8601_ms,format_stderr"). It will change the  default
              format of the logs on stderr stream by prepending the timestamp as specified by <b>LogTimeFormat</b>.

       <b>MaxQueryTimeRange</b>
              Return an error if a query is against too large of a time span, to prevent ill-formed queries from
              causing  performance problems within SlurmDBD.  Default value is INFINITE which allows any queries
              to proceed.  Accepted time formats are the same as the MaxTime option in slurm.conf.  Operator and
              higher privileged users are exempt from this restriction.  Note  that  queries  which  attempt  to
              return over 3GB of data will still fail to complete with ESLURM_RESULT_TOO_LARGE.

       <b>MessageTimeout</b>
              Time permitted for a round-trip communication to complete in seconds. Default value is 10 seconds.

       <b>Parameters</b>
              Contains arbitrary comma separated parameters used to alter the behavior of the slurmdbd.

              <b>PreserveCaseUser</b>
                     When defining users do not force lower case which is the default behavior.

       <b>PidFile</b>
              Fully  qualified pathname of a file into which the Slurm Database Daemon may write its process ID.
              This may be used for automated signal processing.  The default value is "/var/run/slurmdbd.pid".

       <b>PluginDir</b>
              Identifies the places in which to look for Slurm plugins.   This  is  a  colon-separated  list  of
              directories,  like  the  PATH  environment  variable.   The  default  value is the prefix given at
              configure time + "/lib/slurm".

       <b>PrivateData</b>
              This controls what type of information is hidden from regular users.  By default, all  information
              is  visible  to  all users.  User <b>SlurmUser</b>, <b>root</b>, and users with AdminLevel=Admin can always view
              all information.  Multiple values may be specified with  a  comma  separator.   Acceptable  values
              include:

              <b>accounts</b>
                     prevents users from viewing any account definitions unless they are coordinators of them.

              <b>events</b> prevents users from viewing event information unless they have operator status or above.

              <b>jobs</b>   prevents  users  from  viewing  job  records  belonging  to  other  users  unless  they are
                     coordinators of the account running the job when using sacct.

              <b>reservations</b>
                     restricts getting reservation information to users with operator status and above.

              <b>usage</b>  prevents users from viewing usage of any other user.  This applies to sreport.

              <b>users</b>  prevents users from viewing information of any user other than themselves, this also  makes
                     it so users can only see associations they deal with.  Coordinators can see associations of
                     all  users in the account they are coordinator of, but can only see themselves when listing
                     users.

       <b>PurgeEventAfter</b>
              Events are purged from the database after this amount of time has passed since they  ended.   This
              includes  node down times and such.  The time is a numeric value and is a number of months. If you
              want to purge more often you can include "hours", or "days" behind the numeric value to get  those
              more  frequent purges (i.e. a value of "12hours" would purge everything older than 12 hours).  The
              purge takes place at the start of the each purge interval.  For example, if the purge  time  is  2
              months,  the  purge would happen at the beginning of each month.  If not set (default), then event
              records are never purged.

       <b>PurgeJobAfter</b>
              Individual job records are purged from the database after this amount of  time  has  passed  since
              they ended.  Aggregated information will be preserved to "PurgeUsageAfter".  The time is a numeric
              value  and  is  a  number  of  months. If you want to purge more often you can include "hours", or
              "days" behind the numeric value to get those more frequent purges (i.e. a value of "12hours" would
              purge everything older than 12 hours).  The purge takes place at  the  start  of  the  each  purge
              interval.   For example, if the purge time is 2 months, the purge would happen at the beginning of
              each month.  If not set (default), then job records are never purged.

       <b>PurgeResvAfter</b>
              Individual reservation records are purged from the database after this amount of time  has  passed
              since  they  ended.  Aggregated information will be preserved to "PurgeUsageAfter".  The time is a
              numeric value and is a number of months. If you want to purge more often you can include  "hours",
              or  "days"  behind  the numeric value to get those more frequent purges (i.e. a value of "12hours"
              would purge everything older than 12 hours).  The purge takes place at the start of the each purge
              interval.  For example, if the purge time is 2 months, the purge would happen at the beginning  of
              each month.  If not set (default), then reservation records are never purged.

       <b>PurgeStepAfter</b>
              Individual  job  step  records  are  purged from the database after this amount of time has passed
              since they ended.  Aggregated information will be preserved to "PurgeUsageAfter".  The time  is  a
              numeric  value and is a number of months. If you want to purge more often you can include "hours",
              or "days" behind the numeric value to get those more frequent purges (i.e. a  value  of  "12hours"
              would purge everything older than 12 hours).  The purge takes place at the start of the each purge
              interval.   For example, if the purge time is 2 months, the purge would happen at the beginning of
              each month.  If not set (default), then job step records are never purged.

       <b>PurgeSuspendAfter</b>
              Individual job suspend records are purged from the database after this amount of time  has  passed
              since  they  ended.  Aggregated information will be preserved to "PurgeUsageAfter".  The time is a
              numeric value and is a number of months. If you want to purge more often you can include  "hours",
              or  "days"  behind  the numeric value to get those more frequent purges (i.e. a value of "12hours"
              would purge everything older than 12 hours).  The purge takes place at the start of the each purge
              interval.  For example, if the purge time is 2 months, the purge would happen at the beginning  of
              each month.  If not set (default), then suspend records are never purged.

       <b>PurgeTXNAfter</b>
              Individual  transaction  records are purged from the database after this amount of time has passed
              since they occurred.  The time is a numeric value and is a number of months. If you want to  purge
              more  often you can include "hours", or "days" behind the numeric value to get those more frequent
              purges (i.e. a value of "12hours" would purge everything older than 12 hours).   The  purge  takes
              place  at  the  start of the each purge interval.  For example, if the purge time is 2 months, the
              purge would happen at the beginning of each month.  If not set (default), then transaction records
              are never purged.

       <b>PurgeUsageAfter</b>
              Usage records (Cluster, Association and WCKey) are purged from the database after this  amount  of
              time  has  passed  since they were created or last modified.  The time is a numeric value and is a
              number of months. If you want to purge more often you can include "hours", or  "days"  behind  the
              numeric  value to get those more frequent purges (i.e. a value of "12hours" would purge everything
              older than 12 hours).  The purge takes place at  the  start  of  the  each  purge  interval.   For
              example, if the purge time is 2 months, the purge would happen at the beginning of each month.  If
              not set (default), then usage records are never purged.

       <b>SlurmUser</b>
              The  name  of the user that the <b>slurmdbd</b> daemon executes as.  This user should match the SlurmUser
              used for all instances of slurmctld that  report  to  slurmdbd.  It  must  exist  on  the  machine
              executing  the  Slurm  Database  Daemon  and  have  the  same  UID as the hosts on which <b>slurmctld</b>
              executes.  For security purposes, a user other than "root" is recommended.  The default  value  is
              "root".

              <b>NOTE</b>:  If  the SlurmUser for slurmctld is root you can still use a non-root SlurmUser for slurmdbd
              (in any other case, both SlurmUsers should match) by explicitly setting the user's  AdminLevel  to
              Admin. After adding a user in this way, you must restart slurmctld.

       <b>StorageBackupHost</b>
              Define  the  name of the backup host the database is running where we are going to store the data.
              This can be viewed as a backup solution when the StorageHost is not responding. It is  up  to  the
              backup solution to enforce the coherency of the accounting information between the two hosts. With
              clustered database solutions (active/passive HA), you would not need to use this feature.  Default
              is none.

       <b>StorageHost</b>
              Define  the  name  of the host the database is running where we are going to store the data.  This
              can be the host on which slurmdbd executes, but for  larger  systems,  we  recommend  keeping  the
              database on a separate machine.

       <b>StorageLoc</b>
              Specify the name of the database as the location where accounting records are written. Defaults to
              "slurm_acct_db".

       <b>StorageParameters</b>
              Comma  separated  list of key-value pair parameters. Currently supported values include options to
              establish a secure connection to the database:

              <b>SSL_CERT</b>
                The path name of the client public key certificate file.

              <b>SSL_CA</b>
                The path name of the Certificate Authority (CA) certificate file.

              <b>SSL_CAPATH</b>
                The path name of the directory that contains trusted SSL CA certificate files.

              <b>SSL_KEY</b>
                The path name of the client private key file.

              <b>SSL_CIPHER</b>
                The list of permissible ciphers for SSL encryption.

       <b>StoragePass</b>
              Define the password used to gain access to the database to store the job accounting data. The  '#'
              character is not permitted in a password.

       <b>StoragePort</b>
              The  port number that the Slurm Database Daemon (slurmdbd) communicates with the database. Default
              is 3306.

       <b>StorageType</b>
              Define  the  accounting  storage  mechanism  type.    Acceptable   values   at   present   include
              "accounting_storage/mysql".    The  value  "accounting_storage/mysql"  indicates  that  accounting
              records should be written to a MySQL or MariaDB database specified by  the  <b>StorageLoc</b>  parameter.
              This value must be specified.

       <b>StorageUser</b>
              Define  the  name  of  the  user  we  are  going  to connect to the database with to store the job
              accounting data.

       <b>TCPTimeout</b>
              Time permitted for TCP connection to be established. Default value is 2 seconds.

       <b>TrackSlurmctldDown</b>
              Boolean yes or no. If set the slurmdbd will mark all idle resources on the cluster as down when  a
              slurmctld disconnects or is no longer reachable. The default is no.

       <b>TrackWCKey</b>
              Boolean yes or no. Used to set display and track of the Workload Characterization Key. Must be set
              to  track  wckey usage. This must be set to generate rolled up usage tables from WCKeys.  <b>NOTE</b>: If
              TrackWCKey is set here and not in your various slurm.conf files all jobs  will  be  attributed  to
              their default WCKey.

</pre><h4><b>EXAMPLE</b></h4><pre>
       #
       # Sample /etc/slurmdbd.conf
       #
       ArchiveEvents=yes
       ArchiveJobs=yes
       ArchiveResvs=yes
       ArchiveSteps=no
       ArchiveSuspend=no
       ArchiveTXN=no
       ArchiveUsage=no
       #ArchiveScript=/usr/sbin/slurm.dbd.archive
       AuthInfo=/var/run/munge/munge.socket.2
       AuthType=auth/munge
       DbdHost=db_host
       DebugLevel=info
       PurgeEventAfter=1month
       PurgeJobAfter=12month
       PurgeResvAfter=1month
       PurgeStepAfter=1month
       PurgeSuspendAfter=1month
       PurgeTXNAfter=12month
       PurgeUsageAfter=24month
       LogFile=/var/log/slurmdbd.log
       PidFile=/var/run/slurmdbd.pid
       SlurmUser=slurm_mgr
       StoragePass=password_to_database
       StorageType=accounting_storage/mysql
       StorageUser=database_mgr

</pre><h4><b>COPYING</b></h4><pre>
       Copyright  (C)  2008-2010  Lawrence Livermore National Security.  Produced at Lawrence Livermore National
       Laboratory (cf, DISCLAIMER).
       Copyright (C) 2010-2022 SchedMD LLC.

       This   file   is   part   of   Slurm,   a   resource    management    program.     For    details,    see
       &lt;https://slurm.schedmd.com/&gt;.

       Slurm  is  free  software;  you  can  redistribute it and/or modify it under the terms of the GNU General
       Public License as published by the Free Software Foundation; either version 2 of the License, or (at your
       option) any later version.

       Slurm is distributed in the hope that it will be useful, but  WITHOUT  ANY  WARRANTY;  without  even  the
       implied  warranty  of  MERCHANTABILITY  or  FITNESS  FOR A PARTICULAR PURPOSE. See the GNU General Public
       License for more details.

</pre><h4><b>FILES</b></h4><pre>
       /etc/slurmdbd.conf

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/slurm.conf.5.html">slurm.conf</a></b>(5), <b><a href="../man8/slurmctld.8.html">slurmctld</a></b>(8), <b><a href="../man8/slurmdbd.8.html">slurmdbd</a></b>(8) <b>syslog</b> (2)

April 2025                                  Slurm Configuration File                            <u><a href="../man5/slurmdbd.conf.5.html">slurmdbd.conf</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>