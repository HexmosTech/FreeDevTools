<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>krb5.conf — configuration file for Kerberos 5</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/heimdal-docs">heimdal-docs_7.8.git20221117.28daf24+dfsg-9ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       krb5.conf — configuration file for Kerberos 5

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;krb5.h&gt;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>krb5.conf</b> file specifies several configuration parameters for the Kerberos 5 library, as well as for
       some programs.

       The file consists of one or more sections, containing a number of bindings.  The value  of  each  binding
       can be either a string or a list of other bindings.  The grammar looks like:

             file:
                     /* empty */
                     sections
                     includes

             sections:
                     section sections
                     section

             section:
                     '[' section_name ']' bindings

             section_name:
                     STRING

             bindings:
                     binding bindings
                     binding

             binding:
                     name '=' STRING
                     name '=' '{' bindings '}'

             name:
                     STRING

             includes:
                     'include' path
                     'includedir' path

             path: STRING

       <b>STRINGs</b> consists of one or more non-whitespace characters.

       Files  and  directories  may be included by absolute path.  Including a directory causes all files in the
       directory to be included as if each file had been included separately, but only files whose names consist
       of alphanumeric, hyphen, and underscore are included, though they may also end in '.conf'.

       STRINGs that are specified later in this man-page uses the following notation.

             boolean
                  values can be either yes/true or no/false.

             time
                  values can be a list of year, month, day, hour, min, second.  Example: 1 month 2 days 30  min.
                  If no unit is given, seconds is assumed.

             etypes
                  valid  encryption  types  are:  des-cbc-crc, des-cbc-md4, des-cbc-md5, des3-cbc-sha1, arcfour-
                  hmac-md5, aes128-cts-hmac-sha1-96, and aes256-cts-hmac-sha1-96 .

             address
                  an address can be either a IPv4 or a IPv6 address.

       Currently recognised sections and bindings are:

             <b>[appdefaults]</b>
                  Specifies the default values to be used for Kerberos applications.  You can  specify  defaults
                  per application, realm, or a combination of these.  The preference order is:
                  1.   <u>application</u> <u>realm</u> <u>option</u>
                  2.   <u>application</u> <u>option</u>
                  3.   <u>realm</u> <u>option</u>
                  4.   <u>option</u>

                  The supported options are:

                        <b>forwardable</b> <b>=</b> <u>boolean</u>
                             When obtaining initial credentials, make the credentials forwardable.

                        <b>proxiable</b> <b>=</b> <u>boolean</u>
                             When obtaining initial credentials, make the credentials proxiable.

                        <b>no-addresses</b> <b>=</b> <u>boolean</u>
                             When  obtaining  initial  credentials,  request them for an empty set of addresses,
                             making the tickets valid from any address.

                        <b>ticket_lifetime</b> <b>=</b> <u>time</u>
                             Default ticket lifetime.

                        <b>renew_lifetime</b> <b>=</b> <u>time</u>
                             Default renewable ticket lifetime.

                        <b>encrypt</b> <b>=</b> <u>boolean</u>
                             Use encryption, when available.

                        <b>forward</b> <b>=</b> <u>boolean</u>
                             Forward credentials to remote host (for <u><a href="../man1/rsh.1.html">rsh</a></u>(1), <u><a href="../man1/telnet.1.html">telnet</a></u>(1), etc).

                        <b>historical_anon_pkinit</b> <b>=</b> <u>boolean</u>
                             Enable legacy anonymous pkinit command-line syntax.  With this option set to  <b>true,</b>
                             the  <u><a href="../man1/kinit.1.html">kinit</a></u>(1) <b>--anonymous</b> command with no principal argument specified will request
                             an anonymous pkinit ticket from the default realm.   If  a  principal  argument  is
                             specified,  it  is used as an explicit realm name for anonymous pkinit even without
                             an <b>@</b> prefix.

             <b>[libdefaults]</b>

                        <b>default_realm</b> <b>=</b> <u>REALM</u>
                             Default realm to use, this is also known as your “local realm”.  The default is the
                             result of <b>krb5_get_host_realm</b>(<u>local</u> <u>hostname</u>).

                        <b>allow_weak_crypto</b> <b>=</b> <u>boolean</u>
                             are weak crypto algorithms allowed to be used,  among  others,  DES  is  considered
                             weak.

                        <b>clockskew</b> <b>=</b> <u>time</u>
                             Maximum  time  differential  (in seconds) allowed when comparing times.  Default is
                             300 seconds (five minutes).

                        <b>kdc_timeout</b> <b>=</b> <u>time</u>
                             Maximum time to wait for a reply from the kdc, default is 3 seconds.

                        <b>capath</b> <b>=</b> <b>{</b>

                                   <u>destination-realm</u> <b>=</b> <u>next-hop-realm</u>

                                   ...

                                   <b>}</b>
                             This is deprecated, see the <b>capaths</b> section below.

                        <b>default_cc_type</b> <b>=</b> <u>cctype</u>
                             sets the default credentials type.

                        <b>default_cc_name</b> <b>=</b> <u>ccname</u>
                             the default credentials cache name.  If you  want  to  change  the  type  only  use
                             <b>default_cc_type</b>.   The  string  can contain variables that are expanded on runtime.
                             The Only supported variable currently is <b>%{uid}</b> which expands to the  current  user
                             id.

                        <b>default_etypes</b> <b>=</b> <u>etypes</u> <u>...</u>
                             A   list   of   default   encryption  types  to  use.  (Default:  all  enctypes  if
                             allow_weak_crypto = TRUE, else all enctypes except single DES enctypes.)

                        <b>default_as_etypes</b> <b>=</b> <u>etypes</u> <u>...</u>
                             A list of default encryption types to use in AS requests.  (Default: the  value  of
                             default_etypes.)

                        <b>default_tgs_etypes</b> <b>=</b> <u>etypes</u> <u>...</u>
                             A  list of default encryption types to use in TGS requests.  (Default: the value of
                             default_etypes.)

                        <b>default_etypes_des</b> <b>=</b> <u>etypes</u> <u>...</u>
                             A list of default encryption types to use when requesting a DES credential.

                        <b>default_keytab_name</b> <b>=</b> <u>keytab</u>
                             The keytab to use if no other is specified, default is “FILE:/etc/krb5.keytab”.

                        <b>dns_lookup_kdc</b> <b>=</b> <u>boolean</u>
                             Use DNS SRV records to lookup KDC services location.

                        <b>dns_lookup_realm</b> <b>=</b> <u>boolean</u>
                             Use DNS TXT records to lookup domain to realm mappings.

                        <b>kdc_timesync</b> <b>=</b> <u>boolean</u>
                             Try to keep track of the time differential between the local machine and  the  KDC,
                             and then compensate for that when issuing requests.

                        <b>max_retries</b> <b>=</b> <u>number</u>
                             The max number of times to try to contact each KDC.

                        <b>large_msg_size</b> <b>=</b> <u>number</u>
                             The  threshold  where  protocols with tiny maximum message sizes are not considered
                             usable to send messages to the KDC.

                        <b>ticket_lifetime</b> <b>=</b> <u>time</u>
                             Default ticket lifetime.

                        <b>renew_lifetime</b> <b>=</b> <u>time</u>
                             Default renewable ticket lifetime.

                        <b>forwardable</b> <b>=</b> <u>boolean</u>
                             When obtaining initial credentials, make the credentials forwardable.  This  option
                             is also valid in the [realms] section.

                        <b>proxiable</b> <b>=</b> <u>boolean</u>
                             When obtaining initial credentials, make the credentials proxiable.  This option is
                             also valid in the [realms] section.

                        <b>verify_ap_req_nofail</b> <b>=</b> <u>boolean</u>
                             If  enabled,  failure  to  verify credentials against a local key is a fatal error.
                             The application has to be able to read the corresponding service key  for  this  to
                             work.  Some applications, like <u><a href="../man1/su.1.html">su</a></u>(1), enable this option unconditionally.

                        <b>warn_pwexpire</b> <b>=</b> <u>time</u>
                             How soon to warn for expiring password.  Default is seven days.

                        <b>http_proxy</b> <b>=</b> <u>proxy-spec</u>
                             A HTTP-proxy to use when talking to the KDC via HTTP.

                        <b>dns_proxy</b> <b>=</b> <u>proxy-spec</u>
                             Enable using DNS via HTTP.

                        <b>extra_addresses</b> <b>=</b> <u>address</u> <u>...</u>
                             A list of addresses to get tickets for along with all local addresses.

                        <b>time_format</b> <b>=</b> <u>string</u>
                             How to print time strings in logs, this string is passed to <u><a href="../man3/strftime.3.html">strftime</a></u>(3).

                        <b>date_format</b> <b>=</b> <u>string</u>
                             How to print date strings in logs, this string is passed to <u><a href="../man3/strftime.3.html">strftime</a></u>(3).

                        <b>log_utc</b> <b>=</b> <u>boolean</u>
                             Write log-entries using UTC instead of your local time zone.

                        <b>scan_interfaces</b> <b>=</b> <u>boolean</u>
                             Scan  all  network interfaces for addresses, as opposed to simply using the address
                             associated with the system's host name.

                        <b>fcache_version</b> <b>=</b> <u>int</u>
                             Use file credential cache format version specified.

                        <b>fcc-mit-ticketflags</b> <b>=</b> <u>boolean</u>
                             Use MIT compatible format for file credential cache.  It's  the  field  ticketflags
                             that  is stored in reverse bit order for older than Heimdal 0.7.  Setting this flag
                             to TRUE makes it store the MIT way, this is default for Heimdal 0.7.

                        <b>check-rd-req-server</b>
                             If set to  "ignore",  the  framework  will  ignore  any  of  the  server  input  to
                             <u><a href="../man3/krb5_rd_req.3.html">krb5_rd_req</a></u>(3),  this is very useful when the GSS-API server input the wrong server
                             name into the gss_accept_sec_context call.

                        <b>k5login_directory</b> <b>=</b> <u>directory</u>
                             Alternative  location  for  user  .k5login  files.  This  option  is  provided  for
                             compatibility with MIT krb5 configuration files.

                        <b>k5login_authoritative</b> <b>=</b> <u>boolean</u>
                             If  true then if a principal is not found in k5login files then <u><a href="../man3/krb5_userok.3.html">krb5_userok</a></u>(3) will
                             not fallback on  principal  to  username  mapping.  This  option  is  provided  for
                             compatibility with MIT krb5 configuration files.

                        <b>kuserok</b> <b>=</b> <u>rule</u> <u>...</u>
                             Specifies   <u><a href="../man3/krb5_userok.3.html">krb5_userok</a></u>(3)   behavior.    If   multiple   values  are  given,  then
                             <u><a href="../man3/krb5_userok.3.html">krb5_userok</a></u>(3) will evaluate them in order until one succeeds or all  fail.   Rules
                             are  implemented  by plugins, with three built-in plugins described below. Default:
                             USER-K5LOGIN SIMPLE DENY.

                        <b>kuserok</b> <b>=</b> <u>DENY</u>
                             If set and evaluated then <u><a href="../man3/krb5_userok.3.html">krb5_userok</a></u>(3) will deny access to the given username  no
                             matter what the principal name might be.

                        <b>kuserok</b> <b>=</b> <u>SIMPLE</u>
                             If  set  and  evaluated  then <u><a href="../man3/krb5_userok.3.html">krb5_userok</a></u>(3) will use principal to username mapping
                             (see auth_to_local below).  If the principal maps to the  requested  username  then
                             access is allowed.

                        <b>kuserok</b> <b>=</b> <u>SYSTEM-K5LOGIN[:directory]</u>
                             If  set  and  evaluated  then <u><a href="../man3/krb5_userok.3.html">krb5_userok</a></u>(3) will use k5login files named after the
                             <u>luser</u> argument to <u><a href="../man3/krb5_userok.3.html">krb5_userok</a></u>(3) in the  given  directory  or  in  <u>/etc/k5login.d/</u>.
                             K5login  files  are  text  files,  with each line containing just a principal name;
                             principals apearing in a user's k5login file are permitted  access  to  the  user's
                             account.  Note:  this  rule performs no ownership nor permissions checks on k5login
                             files; proper ownership and  permissions/ACLs  are  expected  due  to  the  k5login
                             location being a system location.

                        <b>kuserok</b> <b>=</b> <u>USER-K5LOGIN</u>
                             If   set   and   evaluated   then   <u><a href="../man3/krb5_userok.3.html">krb5_userok</a></u>(3)  will  use  <u>~luser/.k5login</u>  and
                             <u>~luser/.k5login.d/*</u>.  User k5login files and directories must be owned by the  user
                             and must not have world nor group write permissions.

                        <b>aname2lname-text-db</b> <b>=</b> <u>filename</u>
                             The  named  file  must be a sorted (in increasing order) text file where every line
                             consists of an unparsed principal name optionally  followed  by  whitespace  and  a
                             username.   The  aname2lname  function  will  do  a  binary search on this file, if
                             configured, looking for lines that match the given principal name, and if found the
                             given username will be used, or, if the username  is  missing,  an  error  will  be
                             returned.   If  the  file doesn't exist, or if no matching line is found then other
                             plugins will be allowed to run.

                        <b>fcache_strict_checking</b>
                             strict checking in FILE credential caches that owner, no symlink and permissions is
                             correct.

                        <b>name_canon_rules</b> <b>=</b> <u>rules</u>
                             One or more service principal name canonicalization rules.  Each rule  consists  of
                             one  or  more tokens separated by colon (':').  Currently these rules are used only
                             for hostname canonicalization (usually when getting a service ticket, from a ccache
                             or a TGS, but also when acquiring GSS initiator credentials from a keytab).   These
                             rules can be used to implement DNS resolver-like search lists without having to use
                             DNS.

                             NOTE: Name canonicalization rules are an experimental feature.

                             The first token is a rule type, one of: <u>as-is,</u> <u>qualify,</u> <u>or</u> <u>nss.</u>

                             Any  remaining  tokens  must  be  options tokens: <u>use_fast</u> (use FAST to protect TGS
                             exchanges; currently not supported), <u>use_dnssec</u> (use  DNSSEC  to  protect  hostname
                             lookups;  currently  not  supported),  <u>ccache_only</u>  ,  <u>use_referrals,</u> <u>no_referrals,</u>
                             <u>lookup_realm,</u>  <u>mindots=N,</u>  <u>maxdots=N,</u>  <u>order=N,</u>  domain=  <u>domain,</u>   realm=   <u>realm,</u>
                             match_domain= <u>domain,</u> and match_realm= <u>realm.</u>

                             When  trying  to  obtain  a service ticket for a host-based service principal name,
                             name canonicalization rules are applied to that name in the  order  given,  one  by
                             one, until one succeds (a service ticket is obtained), or all fail.  Similarly when
                             acquiring  GSS  initiator  credentials  from  a  keytab,  and when comparing a non-
                             canonical GSS name to a canonical one.

                             For each rule the system checks that the hostname has at least <u>mindots</u> periods  (if
                             given)  in  it,  at  most <u>maxdots</u> periods (if given), that the hostname ends in the
                             given <u>match_domain</u> (if given), and that the realm  of  the  principal  matches  the
                             <u>match_realm</u> (if given).

                             <u>As-is</u>  rules  leave  the  hostname  unmodified  but may set a realm.  <u>Qualify</u> rules
                             qualify the hostname with the given <u>domain</u> and also may set  the  realm.   The  <u>nss</u>
                             rule  uses  the  system resolver to lookup the host's canonical name and is usually
                             not secure.  Note that using the <u>nss</u> rule type implies  having  to  have  principal
                             aliases in the HDB (though not necessarily in keytabs).

                             The empty realm denotes "ask the client's realm's TGS".  The empty realm may be set
                             as well as matched.

                             The  order  in  which  rules  are  applied  is as follows: first all the rules with
                             explicit <u>order</u> then all other rules in the order in which they appear.  If any  two
                             rules  have  the same explicit <u>order</u>, their order of appearance in krb5.conf breaks
                             the tie.  Explicitly specifying order can be useful where tools read and write  the
                             configuration file without preserving parameter order.

                             Malformed rules are ignored.

                        <b>allow_hierarchical_capaths</b> <b>=</b> <u>boolean</u>
                             When  validating  cross-realm  transit  paths,  absent any explicit capath from the
                             client realm to the server realm, allow a hierarchical transit path via the  common
                             ancestor  domain  of  the  two realms.  Defaults to true.  Note, absent an explicit
                             setting, hierarchical capaths are always used by the KDC when generating a referral
                             to a destination with which is no direct trust.

             <b>[domain_realm]</b>
                  This is a list of mappings from DNS domain to Kerberos realm.  Each binding  in  this  section
                  looks like:

                        <b>domain</b> <b>=</b> <b>realm</b>

                  The domain can be either a full name of a host or a trailing component, in the latter case the
                  domain-string  should start with a period.  The trailing component only matches hosts that are
                  in   the   same   domain,   ie   “.example.com”    matches    “foo.example.com”,    but    not
                  “foo.test.example.com”.

                  The  realm  may  be  the token `dns_locate', in which case the actual realm will be determined
                  using DNS (independently of the setting of the `dns_lookup_realm' option).

             <b>[realms]</b>

                        <u>REALM</u> <b>=</b> <b>{</b>

                                   <b>kdc</b> <b>=</b> <u>[service/]host[:port]</u>
                                        Specifies a list of kdcs for  this  realm.   If  the  optional  <u>port</u>  is
                                        absent,  the  default  value  for the “kerberos/udp” “kerberos/tcp”, and
                                        “http/tcp” port (depending on service) will be used.  The kdcs  will  be
                                        used in the order that they are specified.

                                        The  optional  <u>service</u>  specifies  over  what  medium  the kdc should be
                                        contacted.  Possible services are “udp”, “tcp”, and  “http”.   Http  can
                                        also be written as “http://”.  Default service is “udp” and “tcp”.

                                   <b>admin_server</b> <b>=</b> <u>host[:port]</u>
                                        Specifies  the  admin server for this realm, where all the modifications
                                        to the database are performed.

                                   <b>kpasswd_server</b> <b>=</b> <u>host[:port]</u>
                                        Points to the server where all the password changes are  performed.   If
                                        there  is  no such entry, the kpasswd port on the admin_server host will
                                        be tried.

                                   <b>tgs_require_subkey</b>
                                        a boolan variable that defaults to false.  Old DCE secd (pre 1.1)  might
                                        need this to be true.

                                   <b>auth_to_local_names</b> <b>=</b> <b>{</b>

                                              <u>principal_name</u> <u>=</u> <u>username</u>
                                                   The given <u>principal_name</u> will be mapped to the given <u>username</u>
                                                   if the <u>REALM</u> is a default realm.

                                   <b>}</b>

                                   <b>auth_to_local</b> <b>=</b> <b>HEIMDAL_DEFAULT</b>
                                        Use  the  Heimdal  default  principal  to  username mapping.  Applies to
                                        principals from the <u>REALM</u> if and only if <u>REALM</u> is a default realm.

                                   <b>auth_to_local</b> <b>=</b> <b>DEFAULT</b>
                                        Use  the  MIT  default  principal  to  username  mapping.   Applies   to
                                        principals from the <u>REALM</u> if and only if <u>REALM</u> is a default realm.

                                   <b>auth_to_local</b> <b>=</b> <b>DB:/path/to/db.txt</b>
                                        Use  a  binary  search of the given DB.  The DB must be a flat-text file
                                        sortedf in the "C" locale, with each record being a line  (separated  by
                                        either LF or CRLF) consisting of a principal name followed by whitespace
                                        followed  by  a  username.   Applies to principals from the <u>REALM</u> if and
                                        only if <u>REALM</u> is a default realm.

                                   <b>auth_to_local</b> <b>=</b> <b>DB:/path/to/db</b>
                                        Use the given DB, if there's a plugin for  it.   Applies  to  principals
                                        from the <u>REALM</u> if and only if <u>REALM</u> is a default realm.

                                   <b>auth_to_local</b> <b>=</b> <b>RULE:...</b>
                                        Use  the  given rule, if there's a plugin for it.  Applies to principals
                                        from the <u>REALM</u> if and only if <u>REALM</u> is a default realm.

                                   <b>auth_to_local</b> <b>=</b> <b>NONE</b>
                                        No  additional  principal  to  username  mapping  is  done.  Note   that
                                        <u>auth_to_local_names</u>   and   any   preceding   <u>auth_to_local</u>  rules  have
                                        precedence.

                        <b>}</b>

             <b>[capaths]</b>

                        <u>client-realm</u> <b>=</b> <b>{</b>

                                   <u>server-realm</u> <b>=</b> <u>hop-realm</u> <u>...</u>
                                        This serves two purposes. First  the  first  listed  <u>hop-realm</u>  tells  a
                                        client  which  realm  it  should  contact  in order to ultimately obtain
                                        credentials for a service in the <u>server-realm</u>.  Secondly, it  tells  the
                                        KDC  (and  other  servers)  which  realms  are  allowed  in  a multi-hop
                                        traversal from <u>client-realm</u> to  <u>server-realm</u>.   Except  for  the  client
                                        case, the order of the realms are not important.

                        <u>}</u>

             <b>[logging]</b>

                        <u>entity</u> <b>=</b> <u>destination</u>
                             Specifies  that  <u>entity</u>  should use the specified <b>destination</b> for logging.  See the
                             <u><a href="../man3/krb5_openlog.3.html">krb5_openlog</a></u>(3) manual page for a list of defined destinations.

             <b>[kdc]</b>

                        <b>database</b> <b>=</b> <b>{</b>

                                   <b>dbname</b> <b>=</b> <u>[DATBASETYPE:]DATABASENAME</u>
                                        Use this database for this realm.  The <u>DATABASETYPE</u>  should  be  one  of
                                        'lmdb',   'db3',  'db1',  'db',  'sqlite',  or  'ldap'.   See  the  info
                                        documetation how to configure different database backends.

                                   <b>realm</b> <b>=</b> <u>REALM</u>
                                        Specifies the realm that will be stored  in  this  database.   It  realm
                                        isn't  set,  it will used as the default database, there can only be one
                                        entry that doesn't have a <b>realm</b> stanza.

                                   <b>mkey_file</b> <b>=</b> <u>FILENAME</u>
                                        Use this keytab file for the  master  key  of  this  database.   If  not
                                        specified <u>DATABASENAME</u>.mkey will be used.

                                   <b>acl_file</b> <b>=</b> <b>PA</b> <b>FILENAME</b>
                                        Use this file for the ACL list of this database.

                                   <b>log_file</b> <b>=</b> <u>FILENAME</u>
                                        Use  this  file  as  the log of changes performed to the database.  This
                                        file is used by <b>ipropd-master</b> for propagating changes to slaves.  It  is
                                        also  used  by <b>kadmind</b> and <b>kadmin</b> (when used with the <b>-l</b> option), and by
                                        all applications using <b>libkadm5</b> with the local  backend,  for  two-phase
                                        commit  functionality.  Slaves also use this.  Setting this to <b>/dev/null</b>
                                        disables two-phase commit and incremental propagation.  Use <b>iprop-log</b> to
                                        show the contents of this log file.

                                   <b>log-max-size</b> <b>=</b> <u>number</u>
                                        When the log reaches this size (in bytes), the log  will  be  truncated,
                                        saving  some entries, and keeping the latest version number so as to not
                                        disrupt incremental propagation.   If  set  to  a  negative  value  then
                                        automatic log truncation will be disabled.  Defaults to 52428800 (50MB).

                        <b>}</b>

                        <b>max-request</b> <b>=</b> <u>SIZE</u>
                             Maximum size of a kdc request.

                        <b>require-preauth</b> <b>=</b> <u>BOOL</u>
                             If set pre-authentication is required.

                        <b>ports</b> <b>=</b> <u>list</u> <u>of</u> <u>ports</u>
                             List of ports the kdc should listen to.

                        <b>addresses</b> <b>=</b> <u>list</u> <u>of</u> <u>interfaces</u>
                             List of addresses the kdc should bind to.

                        <b>enable-http</b> <b>=</b> <u>BOOL</u>
                             Should the kdc answer kdc-requests over http.

                        <b>tgt-use-strongest-session-key</b> <b>=</b> <u>BOOL</u>
                             If this is TRUE then the KDC will prefer the strongest key from the client's AS-REQ
                             or TGS-REQ enctype list for the ticket session key that is supported by the KDC and
                             the target principal when the target principal is a krbtgt principal.  Else it will
                             prefer  the  first key from the client's AS-REQ enctype list that is also supported
                             by the KDC and the target principal.  Defaults to FALSE.

                        <b>svc-use-strongest-session-key</b> <b>=</b> <u>BOOL</u>
                             Like tgt-use-strongest-session-key, but applies  to  the  session  key  enctype  of
                             tickets for services other than krbtgt principals. Defaults to FALSE.

                        <b>preauth-use-strongest-session-key</b> <b>=</b> <u>BOOL</u>
                             If TRUE then select the strongest possible enctype from the client's AS-REQ for PA-
                             ETYPE-INFO2  (i.e.,  for  password-based  pre-authentication).  Else pick the first
                             supported enctype from the client's AS-REQ.  Defaults to FALSE.

                        <b>use-strongest-server-key</b> <b>=</b> <u>BOOL</u>
                             If TRUE then the KDC  picks,  for  the  ticket  encrypted  part's  key,  the  first
                             supported  enctype  from the target service principal's hdb entry's current keyset.
                             Else the KDC picks the first supported enctype from the target service  principal's
                             hdb entry's current keyset.  Defaults to TRUE.

                        <b>check-ticket-addresses</b> <b>=</b> <u>BOOL</u>
                             Verify the addresses in the tickets used in tgs requests.

                        <b>allow-null-ticket-addresses</b> <b>=</b> <u>BOOL</u>
                             Allow address-less tickets.

                        <b>allow-anonymous</b> <b>=</b> <u>BOOL</u>
                             If the kdc is allowed to hand out anonymous tickets.

                        <b>historical_anon_realm</b> <b>=</b> <u>boolean</u>
                             Enables  pre-7.0 non-RFC-comformant KDC behavior.  With this option set to <b>true</b> the
                             client realm in anonymous pkinit AS replies will be  the  requested  realm,  rather
                             than the RFC-conformant <b>WELLKNOWN:ANONYMOUS</b> realm.  This can have a security impact
                             on  servers  that  expect to grant access to anonymous-but-authenticated to the KDC
                             users of the realm in question: they would also  grant  access  to  unauthenticated
                             anonymous users.  As such, it is not recommend to set this option to <b>true.</b>

                        <b>encode_as_rep_as_tgs_rep</b> <b>=</b> <u>BOOL</u>
                             Encode as-rep as tgs-rep to be compatible with mistakes older DCE secd did.

                        <b>kdc_warn_pwexpire</b> <b>=</b> <u>TIME</u>
                             The  time  before  expiration  that  the user should be warned that her password is
                             about to expire.

                        <b>logging</b> <b>=</b> <u>Logging</u>
                             What type of logging the kdc should use, see also [logging]/kdc.

                        <b>hdb-ldap-structural-object</b> <u>structural</u> <u>object</u>
                             If the LDAP backend is used for storing principals, this is the  structural  object
                             that  will  be  used  when creating and when reading objects.  The default value is
                             account .

                        <b>hdb-ldap-create-base</b> <u>creation</u> <u>dn</u>
                             is the dn that will be appended to the principal when  creating  entries.   Default
                             value is the search dn.

                        <b>enable-digest</b> <b>=</b> <u>BOOL</u>
                             Should the kdc answer digest requests. The default is FALSE.

                        <b>digests_allowed</b> <b>=</b> <u>list</u> <u>of</u> <u>digests</u>
                             Specifies the digests the kdc will reply to. The default is <b>ntlm-v2</b>.

                        <b>kx509_ca</b> <b>=</b> <u>file</u>
                             Specifies the PEM credentials for the kx509 certification authority.

                        <b>require_initial_kca_tickets</b> <b>=</b> <u>boolean</u>
                             Specified  whether to require that tickets for the <b>kca_service</b> service principal be
                             INITIAL.  This may be set on a per-realm basis as well as  globally.   Defaults  to
                             true for the global setting.

                        <b>kx509_include_pkinit_san</b> <b>=</b> <u>boolean</u>
                             If  true  then  the  kx509 client principal's name and realm will be included in an
                             <b>id-pkinit-san</b> certificate extension.  This can be set on a per-realm basis as  well
                             as globally.  Defaults to true for the global setting.

                        <b>kx509_template</b> <b>=</b> <u>file</u>
                             Specifies  the  PEM  file  with  a template for the certificates to be issued.  The
                             following variables can be interpolated  in  the  subject  name  using  ${variable}
                             syntax:

                                   principal-name
                                        The full name of the kx509 client principal.

                                   principal-name-without-realm
                                        The full name of the kx509 client principal, excluding the realm name.

                                   principal-name-realm
                                        The name of the client principal's realm.
                  The   <b>kx509</b>,   <b>kx509_template</b>,   <b>kx509_include_pkinit_san</b>,   and   <b>require_initial_kca_tickets</b>
                  parameters may be set on a per-realm basis as well.

             <b>[kadmin]</b>

                        <b>password_lifetime</b> <b>=</b> <u>time</u>
                             If a principal already have its password set for expiration, this is  the  time  it
                             will be valid for after a change.

                        <b>default_keys</b> <b>=</b> <u>keytypes...</u>
                             For each entry in <u>default_keys</u> try to parse it as a sequence of <u>etype:salttype:salt</u>
                             syntax of this if something like:

                             [(des|des3|etype):](pw-salt|afs3-salt)[:string]

                             If  <u>etype</u>  is  omitted  it  means everything, and if string is omitted it means the
                             default salt string (for that principal and encryption type).   Additional  special
                             values of keytypes are:

                                   <b>v5</b>   The Kerberos 5 salt <u>pw-salt</u>

                        <b>default_key_rules</b> <b>=</b> <u>{</u>

                                   <u>globing-rule</u> <b>=</b> <u>keytypes...</u>
                                        a globbing rule to matching a principal, and when true, use the keytypes
                                        as specified the same format as [kadmin]default_keys .

                        <b>}</b>

                        <b>prune-key-history</b> <b>=</b> <u>BOOL</u>
                             When  adding keys to the key history, drop keys that are too old to match unexpired
                             tickets (based on the principal's maximum ticket lifetime).  If the KDC keystore is
                             later compromised traffic protected  with  the  discarded  older  keys  may  remain
                             protected.   This  also  keeps the HDB records for principals with key history from
                             growing without bound.  The default (backwards compatible) value is "false".

                        <b>use_v4_salt</b> <b>=</b> <u>BOOL</u>
                             When true, this is the same as

                             <u>default_keys</u> <u>=</u> <u>des3:pw-salt</u> <u>v4</u>

                             and is only left for backwards compatibility.

                        <b>[password_quality]</b>
                             Check  the  Password  quality  assurance  in  the  info  documentation   for   more
                             information.

                                   <b>check_library</b> <b>=</b> <u>library-name</u>
                                        Library name that contains the password check_function

                                   <b>check_function</b> <b>=</b> <u>function-name</u>
                                        Function name for checking passwords in check_library

                                   <b>policy_libraries</b> <b>=</b> <u>library1</u> <u>...</u> <u>libraryN</u>
                                        List of libraries that can do password policy checks

                                   <b>policies</b> <b>=</b> <u>policy1</u> <u>...</u> <u>policyN</u>
                                        List  of  policy  names  to  apply to the password. Builtin policies are
                                        among other minimum-length, character-class, external-check.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       KRB5_CONFIG points to the configuration file to read.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/krb5.conf</u>  configuration file for Kerberos 5.

</pre><h4><b>EXAMPLES</b></h4><pre>
             [libdefaults]
                     default_realm = FOO.SE
                     name_canon_rules = as-is:realm=FOO.SE
                     name_canon_rules = qualify:domain=foo.se:realm=FOO.SE
                     name_canon_rules = qualify:domain=bar.se:realm=FOO.SE
                     name_canon_rules = nss
             [domain_realm]
                     .foo.se = FOO.SE
                     .bar.se = FOO.SE
             [realms]
                     FOO.SE = {
                             kdc = kerberos.foo.se
                             default_domain = foo.se
                     }
             [logging]
                     kdc = FILE:/var/heimdal/kdc.log
                     kdc = SYSLOG:INFO
                     default = SYSLOG:INFO:USER
             [kadmin]
                     default_key_rules = {
                             */ppp@* = arcfour-hmac-md5:pw-salt
                     }

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Since <b>krb5.conf</b> is read and parsed by the krb5 library, there is not a lot of opportunities for  programs
       to  report  parsing  errors  in  any  useful  format.   To help overcome this problem, there is a program
       <b>verify_krb5_conf</b> that reads <b>krb5.conf</b> and tries to emit useful diagnostics  from  parsing  errors.   Note
       that  this  program  does not have any way of knowing what options are actually used and thus cannot warn
       about unknown or misspelled ones.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/kinit.1.html">kinit</a></u>(1), <u><a href="../man3/krb5_openlog.3.html">krb5_openlog</a></u>(3), <u><a href="../man3/strftime.3.html">strftime</a></u>(3), <u><a href="../man8/verify_krb5_conf.8.html">verify_krb5_conf</a></u>(8)

HEIMDAL                                            May 4, 2005                                      <u><a href="../man5/KRB5.CONF.5.html">KRB5.CONF</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>