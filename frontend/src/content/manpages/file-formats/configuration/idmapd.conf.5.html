<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>idmapd.conf - configuration file for libnfsidmap</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnfsidmap1">libnfsidmap1_2.8.3-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       idmapd.conf - configuration file for libnfsidmap

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Configuration file for libnfsidmap.  Used by idmapd and svcgssd to map NFSv4 name to and from ids.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>idmapd.conf</b>  configuration  files  consists  of  several  sections, initiated by strings of the form
       [General] and [Mapping].  Each section may contain lines of the form
         variable = value
       The recognized sections and their recognized variables are as follows:

   <b>[General]</b> <b>section</b> <b>variables</b>
       <b>Verbosity</b>
              Verbosity level of debugging (Default: 0)

       <b>Domain</b> The local NFSv4 domain name.  An NFSv4 domain is a namespace  with  a  unique  username&lt;-&gt;UID  and
              groupname&lt;-&gt;GID mapping.  (Default: Host's fully-qualified DNS domain name)

       <b>No-Strip</b>
              In  multi-domain  environments, some NFS servers will append the identity management domain to the
              owner and owner_group in lieu of a true NFSv4 domain.  This option can facilitate lookups in  such
              environments.   If set to a value other than "none", the nsswitch  plugin will first pass the name
              to the password/group lookup function without stripping the domain off.   If  that  mapping  fails
              then  the  plugin  will  try again using the old method (comparing the domain in the string to the
              Domain value, stripping it if it matches, and passing the  resulting  short  name  to  the  lookup
              function).  Valid values are "user", "group", "both", and "none".  (Default: "none")

       <b>Reformat-Group</b>
              Winbind  has  a quirk whereby doing a group lookup in UPN format (e.g. <a href="mailto:staff@americas.example.com">staff@americas.example.com</a>)
              will cause  the  group  to  be  displayed  prefixed  with  the  full  domain  in  uppercase  (e.g.
              AMERICAS.EXAMPLE.COM\staff)  instead of in the familiar netbios name format (e.g. AMERICAS\staff).
              Setting this option to true causes the name to be reformatted  before  passing  it  to  the  group
              lookup  function  in order to work around this.  This setting is ignored unless No-Strip is set to
              either "both" or "group".  (Default: "false")

       <b>Local-Realms</b>
              A comma-separated list of Kerberos realm names that may be  considered  equivalent  to  the  local
              realm  name.   For example, users <a href="mailto:juser@ORDER.EDU">juser@ORDER.EDU</a> and <a href="mailto:juser@MAIL.ORDER.EDU">juser@MAIL.ORDER.EDU</a> may be considered to be
              the same user in the specified <b>Domain.</b>  (Default: the host's default realm name)
              <b>Note:</b> If a value is specified here, the default local realm must be included as well.

   <b>[Mapping]</b> <b>section</b> <b>variables</b>
       <b>Nobody-User</b>
              Local user name to be used when a mapping cannot be completed.

       <b>Nobody-Group</b>
              Local group name to be used when a mapping cannot be completed.

   <b>[Translation]</b> <b>section</b> <b>variables</b>
       <b>Method</b> A comma-separated, ordered list of mapping methods (plug-ins) to use when  mapping  between  NFSv4
              names  and  local IDs.  Each specified method is tried in order until a mapping is found, or there
              are no more methods to try.  The methods included in the default distribution include  "nsswitch",
              "umich_ldap", and "static".  (Default: nsswitch)

       <b>GSS-Methods</b>
              An  optional  comma-separated,  ordered  list  of  mapping  methods (plug-ins) to use when mapping
              between GSS Authenticated names and local IDs.  (Default: the same list as specified for <b>Method)</b>

   <b>[Static]</b> <b>section</b> <b>variables</b>
       The "static" translation method uses a static list  of  GSS-Authenticated  names  to  local  user  names.
       Entries in the list are of the form:
        principal@REALM = localusername

   <b>[REGEX]</b> <b>section</b> <b>variables</b>
       <b>NOTE:</b>  In  Ubuntu,  the regex plugin is shipped in the libnfsidmap-regex package. If you want to use this
       plugin, please install that package.

       If the "regex" translation method is specified, the following variables within the  [REGEX]  section  are
       used to map between NFS4 names and local IDs.

       <b>User-Regex</b>
              Case-insensitive regular expression that extracts the local user name from an NFSv4 name. Multiple
              expressions  may  be  concatenated with '|'. The first match will be used.  There is no default. A
              basic regular expression for domain DOMAIN.ORG and realm MY.DOMAIN.ORG would be:
              ^DOMAIN\([^@]+)@MY.DOMAIN.ORG$

       <b>Group-Regex</b>
              Case-insensitive regular expression that extracts  the  local  group  name  from  an  NFSv4  name.
              Multiple  expressions  may  be  concatenated  with '|'. The first match will be used.  There is no
              default. A basic regular expression for domain DOMAIN.ORG and realm MY.DOMAIN.ORG would be:
              ^([^@]+)@<a href="mailto:DOMAIN.ORG@MY.DOMAIN.ORG">DOMAIN.ORG@MY.DOMAIN.ORG</a>$|^DOMAIN\([^@]+)@MY.DOMAIN.ORG$

       <b>Prepend-Before-User</b>
              Constant string to put before a local user name when building an NFSv4 name. Usually this  is  the
              short domain name followed by 'Â´.  (Default: none)

       <b>Append-After-User</b>
              Constant  string  to  put after a local user name when building an NFSv4 name. Usually this is '@'
              followed by the default realm.  (Default: none)

       <b>Prepend-Before-Group</b>
              Constant string to put before a local group name when building an NFSv4 name.  Usually  not  used.
              (Default: none)

       <b>Append-After-Group</b>
              Constant  string to put before a local group name when building an NFSv4 name. Usually this is '@'
              followed by the domain name followed by another '@' and the default realm.  (Default: none)

       <b>Group-Name-Prefix</b>
              Constant string that is prepended to a local group name when converting it to an NFSv4 name. If an
              NFSv4 group name has this prefix it is removed when converting it to a  local  group  name.   With
              this  group  names  of a central directory can be shortened for an isolated organizational unit if
              all groups have a common prefix.  (Default: none)

       <b>Group-Name-No-Prefix-Regex</b>
              Case-insensitive regular expression to exclude groups from adding and removing the prefix  set  by
              <b>Group-Name-Prefix</b>.   The  regular  expression  must  match  both the remote and local group names.
              Multiple expressions may be concatenated with '|'.  (Default: none)

   <b>[UMICH_SCHEMA]</b> <b>section</b> <b>variables</b>
       If the "umich_ldap" translation method is specified, the following variables  within  the  [UMICH_SCHEMA]
       section are used.

       <b>LDAP_server</b>
              LDAP server name or address (Required if using UMICH_LDAP)

       <b>LDAP_base</b>
              Absolute LDAP search base.  (Required if using UMICH_LDAP)

       <b>LDAP_people_base</b>
              Absolute LDAP search base for people accounts.  (Default: The <b>LDAP_base</b> value)

       <b>LDAP_group_base</b>
              Absolute LDAP search base for group accounts.  (Default: The <b>LDAP_base</b> value)

       <b>LDAP_canonicalize_name</b>
              Whether or not to perform name canonicalization on the name given as <b>LDAP_server</b> (Default: "true")

       <b>LDAP_follow_referrals</b>
              Whether or not to follow ldap referrals. (Default: "true")

       <b>LDAP_use_ssl</b>
              Set to "true" to enable SSL communication with the LDAP server.  (Default: "false")

       <b>LDAP_ca_cert</b>
              Location  of  a  trusted CA certificate used when SSL is enabled (Required if <b>LDAP_use_ssl</b> is true
              and <b>LDAP_tls_reqcert</b> is not set to never)

       <b>LDAP_tls_reqcert</b>
              Controls the LDAP server certificate  validation  behavior.   It  can  take  the  same  values  as
              <a href="../man5/ldap.conf.5.html">ldap.conf</a>(5)'s <b>TLS_REQCERT</b> tunable.  (Default: "hard")

       <b>LDAP_timeout_seconds</b>
              Number of seconds before timing out an LDAP request (Default: 4)

       <b>LDAP_sasl_mech</b>
              SASL  mechanism to be used for sasl authentication.  Required if SASL auth is to be used (Default:
              None)

       <b>LDAP_realm</b>
              SASL realm to be used for sasl authentication. (Default: None)

       <b>LDAP_sasl_authcid</b>
              Authentication identity to be used for sasl authentication. (Default: None)

       <b>LDAP_sasl_authzid</b>
              Authorization identity to be used for sasl authentication. (Default: None)

       <b>LDAP_sasl_secprops</b>
              Cyrus SASL security properties. It can  the same values as <a href="../man5/ldap.conf.5.html">ldap.conf</a>(5)'s sasl_secprops.

       <b>LDAP_sasl_canonicalize</b>
              Specifies whether the LDAP server hostname should be canonicalised.  If set to yes LDAP  lib  with
              do  a  reverse  hostname  lookup.   If  this  is  not set the LDAP library's default will be used.
              (Default: None)

       <b>LDAP_sasl_krb5_ccname</b>
              Path to kerberos credential cache. If it is  not  set  then  the  value  of  environment  variable
              KRB5CCNAME  will  be  used.  If  the environment variable is not set then the default mechanism of
              kerberos library will be used.

       <b>NFSv4_person_objectclass</b>
              The object class name for people accounts in your local LDAP schema (Default: NFSv4RemotePerson)

       <b>NFSv4_name_attr</b>
              Your local schema's attribute name to be used for NFSv4 user names (Default: NFSv4Name)

       <b>NFSv4_uid_attr</b>
              Your local schema's attribute name to be used for uidNumber (Default: uidNumber)

       <b>GSS_principal_attr</b>
              Your local schema's attribute name for GSSAPI Principal names (Default: GSSAuthName)

       <b>NFSv4_acctname_attr</b>
              Your local schema's attribute name to be used for account names (Default: uid)

       <b>NFSv4_group_objectclass</b>
              The object class name for group accounts in your local LDAP schema (Default: NFSv4RemoteGroup)

       <b>NFSv4_gid_attr</b>
              Your local schema's attribute name to be used for gidNumber (Default: gidNumber)

       <b>NFSv4_group_attr</b>
              Your local schema's attribute name to be used for NFSv4 group names (Default: NFSv4Name)

       <b>LDAP_use_memberof_for_groups</b>
              Some LDAP servers do a better job with indexing where searching through all the  groups  searching
              for the user in the memberuid list.  Others like SunOne directory that search can takes minutes if
              there   are   thousands  of  groups.  So  setting  <b>LDAP_use_memberof_for_groups</b>  to  true  in  the
              configuration file will use the memberof lists of the account and search through only those groups
              to obtain gids.  (Default: false)

       <b>NFSv4_member_attr</b>
              If <b>LDAP_use_memberof_for_groups</b> is true, this is the attribute  to  be  searched  for.   (Default:
              memberUid)

       <b>NFSv4_grouplist_filter</b>
              An optional search filter for determining group membership.  (No Default)

</pre><h4><b>EXAMPLES</b></h4><pre>
       An example <u>/etc/idmapd.conf</u> file:

       [General]

       Verbosity = 0
       Domain = domain.org
       Local-Realms = DOMAIN.ORG,MY.DOMAIN.ORG,YOUR.DOMAIN.ORG

       [Mapping]

       Nobody-User = nfsnobody
       Nobody-Group = nfsnobody

       [Translation]

       Method = umich_ldap,regex,nsswitch
       GSS-Methods = umich_ldap,regex,static

       [Static]

       <a href="mailto:johndoe@OTHER.DOMAIN.ORG">johndoe@OTHER.DOMAIN.ORG</a> = johnny

       [Regex]

       User-Regex = ^DOMAIN\([^@]+)@DOMAIN.ORG$
       Group-Regex = ^([^@]+)@<a href="mailto:DOMAIN.ORG@DOMAIN.ORG">DOMAIN.ORG@DOMAIN.ORG</a>$|^DOMAIN\([^@]+)@DOMAIN.ORG$
       Prepend-Before-User = DOMAIN
       Append-After-User = @DOMAIN.ORG
       Append-After-Group = @<a href="mailto:domain.org@domain.org">domain.org@domain.org</a>
       Group-Name-Prefix = sales-
       Group-Name-No-Prefix-Regex = -personal-group$

       [UMICH_SCHEMA]

       LDAP_server = ldap.domain.org
       LDAP_base = dc=org,dc=domain

</pre><h4><b>FILES</b></h4><pre>
       <u>/usr/etc/idmapd.conf</u>
       <u>/usr/etc/idmapd.conf.d/*.conf</u>
       <u>/etc/idmapd.conf</u>
       <u>/etc/idmapd.conf.d/*.conf</u>

              Files are read in the order listed.  Later settings override earlier settings.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/idmapd.8.html">idmapd</a></b>(8) <b><a href="../man8/svcgssd.8.html">svcgssd</a></b>(8)

</pre><h4><b>BUGS</b></h4><pre>
       Report bugs to &lt;<a href="mailto:nfsv4@linux-nfs.org">nfsv4@linux-nfs.org</a>&gt;

                                                   19 Nov 2008                                    <u><a href="../man5/idmapd.conf.5.html">idmapd.conf</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>