<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>systemd.exec - Execution environment configuration</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/systemd">systemd_257.7-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       systemd.exec - Execution environment configuration

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>service</u>.service, <u>socket</u>.socket, <u>mount</u>.mount, <u>swap</u>.swap

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Unit configuration files for services, sockets, mount points, and swap devices share a subset of
       configuration options which define the execution environment of spawned processes.

       This man page lists the configuration options shared by these four unit types. See <b><a href="../man5/systemd.unit.5.html">systemd.unit</a></b>(5) for
       the common options of all unit configuration files, and <b><a href="../man5/systemd.service.5.html">systemd.service</a></b>(5), <b><a href="../man5/systemd.socket.5.html">systemd.socket</a></b>(5),
       <b><a href="../man5/systemd.swap.5.html">systemd.swap</a></b>(5), and <b><a href="../man5/systemd.mount.5.html">systemd.mount</a></b>(5) for more information on the specific unit configuration files. The
       execution specific configuration options are configured in the [Service], [Socket], [Mount], or [Swap]
       sections, depending on the unit type.

       In addition, options which control resources through Linux Control Groups (cgroups) are listed in
       <b><a href="../man5/systemd.resource-control.5.html">systemd.resource-control</a></b>(5). Those options complement options listed here.

</pre><h4><b>IMPLICIT</b> <b>DEPENDENCIES</b></h4><pre>
       A few execution parameters result in additional, automatic dependencies to be added:

       •   Units with <u>WorkingDirectory=</u>, <u>RootDirectory=</u>, <u>RootImage=</u>, <u>RuntimeDirectory=</u>, <u>StateDirectory=</u>,
           <u>CacheDirectory=</u>, <u>LogsDirectory=</u> or <u>ConfigurationDirectory=</u> set automatically gain dependencies of
           type <u>Requires=</u> and <u>After=</u> on all mount units required to access the specified paths. This is
           equivalent to having them listed explicitly in <u>RequiresMountsFor=</u>.

       •   Similarly, units with <u>PrivateTmp=</u> enabled automatically get mount unit dependencies for all mounts
           required to access <a href="file:/tmp/">/tmp/</a> and <a href="file:/var/tmp/.">/var/tmp/.</a> They will also gain an automatic <u>After=</u> dependency on
           <b><a href="../man8/systemd-tmpfiles-setup.service.8.html">systemd-tmpfiles-setup.service</a></b>(8).

       •   Units whose standard output or error output is connected to <b>journal</b> or <b>kmsg</b> (or their combinations
           with console output, see below) automatically acquire dependencies of type <u>After=</u> on
           systemd-journald.socket.

       •   Units using <u>LogNamespace=</u> will automatically gain ordering and requirement dependencies on the two
           socket units associated with systemd-journald@.service instances.

</pre><h4><b>PATHS</b></h4><pre>
       The following settings may be used to change a service's view of the filesystem. Please note that the
       paths must be absolute and must not contain a ".."  path component.

       <u>ExecSearchPath=</u>
           Takes a colon separated list of absolute paths relative to which the executable used by the <u>Exec*=</u>
           (e.g.  <u>ExecStart=</u>, <u>ExecStop=</u>, etc.) properties can be found.  <u>ExecSearchPath=</u> overrides <u>$PATH</u> if
           <u>$PATH</u> is not supplied by the user through <u>Environment=</u>, <u>EnvironmentFile=</u> or <u>PassEnvironment=</u>.
           Assigning an empty string removes previous assignments and setting <u>ExecSearchPath=</u> to a value
           multiple times will append to the previous setting.

           Added in version 250.

       <u>WorkingDirectory=</u>
           Takes a directory path relative to the service's root directory specified by <u>RootDirectory=</u>, or the
           special value "~". Sets the working directory for executed processes. If set to "~", the home
           directory of the user specified in <u>User=</u> is used. If not set, defaults to the root directory when
           systemd is running as a system instance and the respective user's home directory if run as user. If
           the setting is prefixed with the "-" character, a missing working directory is not considered fatal.
           If <u>RootDirectory=</u>/<u>RootImage=</u> is not set, then <u>WorkingDirectory=</u> is relative to the root of the system
           running the service manager. Note that setting this parameter might result in additional dependencies
           to be added to the unit (see above).

       <u>RootDirectory=</u>
           Takes a directory path relative to the host's root directory (i.e. the root of the system running the
           service manager). Sets the root directory for executed processes, with the <b><a href="../man2/pivot_root.2.html">pivot_root</a></b>(2) or <b><a href="../man2/chroot.2.html">chroot</a></b>(2)
           system call. If this is used, it must be ensured that the process binary and all its auxiliary files
           are available in the new root. Note that setting this parameter might result in additional
           dependencies to be added to the unit (see above).

           The <u>MountAPIVFS=</u> and <u>PrivateUsers=</u> settings are particularly useful in conjunction with
           <u>RootDirectory=</u>. For details, see below.

           If <u>RootDirectory=</u>/<u>RootImage=</u> are used together with <u>NotifyAccess=</u> the notification socket is
           automatically mounted from the host into the root environment, to ensure the notification interface
           can work correctly.

           Note that services using <u>RootDirectory=</u>/<u>RootImage=</u> will not be able to log via the syslog or journal
           protocols to the host logging infrastructure, unless the relevant sockets are mounted from the host,
           specifically:

           The host's <b><a href="../man5/os-release.5.html">os-release</a></b>(5) file will be made available for the service (read-only) as
           /run/host/os-release. It will be updated automatically on soft reboot (see: <b><a href="../man8/systemd-softreboot.service.8.html">systemd-soft-</a></b>
           <b><a href="../man8/systemd-softreboot.service.8.html">reboot.service</a></b>(8)), in case the service is configured to survive it.

           <b>Example</b> <b>1.</b> <b>Mounting</b> <b>logging</b> <b>sockets</b> <b>into</b> <b>root</b> <b>environment</b>

               BindReadOnlyPaths=/dev/log /run/systemd/journal/socket /run/systemd/journal/stdout

           In place of the directory path a ".v/" versioned directory may be specified, see <b><a href="../man7/systemd.v.7.html">systemd.v</a></b>(7) for
           details.

           This option is only available for system services, or for services running in per-user instances of
           the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
           namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

       <u>RootImage=</u>
           Takes a path to a block device node or regular file as argument. This call is similar to
           <u>RootDirectory=</u> however mounts a file system hierarchy from a block device node or loopback file
           instead of a directory. The device node or file system image file needs to contain a file system
           without a partition table, or a file system within an MBR/MS-DOS or GPT partition table with only a
           single Linux-compatible partition, or a set of file systems within a GPT partition table that follows
           the <b>Discoverable</b> <b>Partitions</b> <b>Specification</b>[1].

           When <u>DevicePolicy=</u> is set to "closed" or "strict", or set to "auto" and <u>DeviceAllow=</u> is set, then
           this setting adds /dev/loop-control with <b>rw</b> mode, "block-loop" and "block-blkext" with <b>rwm</b> mode to
           <u>DeviceAllow=</u>. See <b><a href="../man5/systemd.resource-control.5.html">systemd.resource-control</a></b>(5) for the details about <u>DevicePolicy=</u> or <u>DeviceAllow=</u>.
           Also, see <u>PrivateDevices=</u> below, as it may change the setting of <u>DevicePolicy=</u>.

           Units making use of <u>RootImage=</u> automatically gain an <u>After=</u> dependency on systemd-udevd.service.

           The host's <b><a href="../man5/os-release.5.html">os-release</a></b>(5) file will be made available for the service (read-only) as
           /run/host/os-release. It will be updated automatically on soft reboot (see: <b><a href="../man8/systemd-softreboot.service.8.html">systemd-soft-</a></b>
           <b><a href="../man8/systemd-softreboot.service.8.html">reboot.service</a></b>(8)), in case the service is configured to survive it.

           In place of the image path a ".v/" versioned directory may be specified, see <b><a href="../man7/systemd.v.7.html">systemd.v</a></b>(7) for
           details.

           This option is only available for system services and is not supported for services running in
           per-user instances of the service manager.

           Added in version 233.

       <u>RootImageOptions=</u>
           Takes a comma-separated list of mount options that will be used on disk images specified by
           <u>RootImage=</u>. Optionally a partition name can be prefixed, followed by colon, in case the image has
           multiple partitions, otherwise partition name "root" is implied. Options for multiple partitions can
           be specified in a single line with space separators. Assigning an empty string removes previous
           assignments. Duplicated options are ignored. For a list of valid mount options, please refer to
           <b><a href="../man8/mount.8.html">mount</a></b>(8).

           Valid partition names follow the <b>Discoverable</b> <b>Partitions</b> <b>Specification</b>[1]: <b>root</b>, <b>usr</b>, <b>home</b>, <b>srv</b>, <b>esp</b>,
           <b>xbootldr</b>, <b>tmp</b>, <b>var</b>.

           This option is only available for system services and is not supported for services running in
           per-user instances of the service manager.

           Added in version 247.

       <u>RootEphemeral=</u>
           Takes a boolean argument. If enabled, executed processes will run in an ephemeral copy of the root
           directory or root image. The ephemeral copy is placed in <a href="file:/var/lib/systemd/ephemeral-trees/">/var/lib/systemd/ephemeral-trees/</a> while the
           service is active and is cleaned up when the service is stopped or restarted. If <u>RootDirectory=</u> is
           used and the root directory is a subvolume, the ephemeral copy will be created by making a snapshot
           of the subvolume.

           To make sure making ephemeral copies can be made efficiently, the root directory or root image should
           be located on the same filesystem as <a href="file:/var/lib/systemd/ephemeral-trees/.">/var/lib/systemd/ephemeral-trees/.</a> When using <u>RootEphemeral=</u>
           with root directories, <b><a href="../man5/btrfs.5.html">btrfs</a></b>(5) should be used as the filesystem and the root directory should
           ideally be a subvolume which <b>systemd</b> can snapshot to make the ephemeral copy. For root images, a
           filesystem with support for reflinks should be used to ensure an efficient ephemeral copy.

           This option is only available for system services and is not supported for services running in
           per-user instances of the service manager.

           Added in version 254.

       <u>RootHash=</u>
           Takes a data integrity (dm-verity) root hash specified in hexadecimal, or the path to a file
           containing a root hash in ASCII hexadecimal format. This option enables data integrity checks using
           dm-verity, if the used image contains the appropriate integrity data (see above) or if <u>RootVerity=</u> is
           used. The specified hash must match the root hash of integrity data, and is usually at least 256 bits
           (and hence 64 formatted hexadecimal characters) long (in case of SHA256 for example). If this option
           is not specified, but the image file carries the "user.verity.roothash" extended file attribute (see
           <b><a href="../man7/xattr.7.html">xattr</a></b>(7)), then the root hash is read from it, also as formatted hexadecimal characters. If the
           extended file attribute is not found (or is not supported by the underlying file system), but a file
           with the .roothash suffix is found next to the image file, bearing otherwise the same name (except if
           the image has the .raw suffix, in which case the root hash file must not have it in its name), the
           root hash is read from it and automatically used, also as formatted hexadecimal characters.

           If the disk image contains a separate <a href="file:/usr/">/usr/</a> partition it may also be Verity protected, in which case
           the root hash may configured via an extended attribute "user.verity.usrhash" or a .usrhash file
           adjacent to the disk image. There's currently no option to configure the root hash for the <a href="file:/usr/">/usr/</a> file
           system via the unit file directly.

           This option is only available for system services and is not supported for services running in
           per-user instances of the service manager.

           Added in version 246.

       <u>RootHashSignature=</u>
           Takes a PKCS7 signature of the <u>RootHash=</u> option as a path to a DER-encoded signature file, or as an
           ASCII base64 string encoding of a DER-encoded signature prefixed by "base64:". The dm-verity volume
           will only be opened if the signature of the root hash is valid and signed by a public key present in
           the kernel keyring. If this option is not specified, but a file with the .roothash.p7s suffix is
           found next to the image file, bearing otherwise the same name (except if the image has the .raw
           suffix, in which case the signature file must not have it in its name), the signature is read from it
           and automatically used.

           If the disk image contains a separate <a href="file:/usr/">/usr/</a> partition it may also be Verity protected, in which case
           the signature for the root hash may configured via a .usrhash.p7s file adjacent to the disk image.
           There's currently no option to configure the root hash signature for the <a href="file:/usr/">/usr/</a> via the unit file
           directly.

           This option is only available for system services and is not supported for services running in
           per-user instances of the service manager.

           Added in version 246.

       <u>RootVerity=</u>
           Takes the path to a data integrity (dm-verity) file. This option enables data integrity checks using
           dm-verity, if <u>RootImage=</u> is used and a root-hash is passed and if the used image itself does not
           contain the integrity data. The integrity data must be matched by the root hash. If this option is
           not specified, but a file with the .verity suffix is found next to the image file, bearing otherwise
           the same name (except if the image has the .raw suffix, in which case the verity data file must not
           have it in its name), the verity data is read from it and automatically used.

           This option is supported only for disk images that contain a single file system, without an
           enveloping partition table. Images that contain a GPT partition table should instead include both
           root file system and matching Verity data in the same image, implementing the <b>Discoverable</b> <b>Partitions</b>
           <b>Specification</b>[1].

           This option is only available for system services and is not supported for services running in
           per-user instances of the service manager.

           Added in version 246.

       <u>RootImagePolicy=</u>, <u>MountImagePolicy=</u>, <u>ExtensionImagePolicy=</u>
           Takes an image policy string as per <b><a href="../man7/systemd.image-policy.7.html">systemd.image-policy</a></b>(7) to use when mounting the disk images
           (DDI) specified in <u>RootImage=</u>, <u>MountImage=</u>, <u>ExtensionImage=</u>, respectively. If not specified the
           following policy string is the default for <u>RootImagePolicy=</u> and <u>MountImagePolicy</u>:

               root=verity+signed+encrypted+unprotected+absent: \
                       usr=verity+signed+encrypted+unprotected+absent: \
                       home=encrypted+unprotected+absent: \
                       srv=encrypted+unprotected+absent: \
                       tmp=encrypted+unprotected+absent: \
                       var=encrypted+unprotected+absent

           The default policy for <u>ExtensionImagePolicy=</u> is:

               root=verity+signed+encrypted+unprotected+absent: \
                       usr=verity+signed+encrypted+unprotected+absent

           Added in version 254.

       <u>MountAPIVFS=</u>
           Takes a boolean argument. If on, a private mount namespace for the unit's processes is created and
           the API file systems <a href="file:/proc/">/proc/</a>, <a href="file:/sys/">/sys/</a>, <a href="file:/dev/">/dev/</a> and <a href="file:/run/">/run/</a> (as an empty "tmpfs") are mounted inside of it,
           unless they are already mounted. Note that this option has no effect unless used in conjunction with
           <u>RootDirectory=</u>/<u>RootImage=</u> as these four mounts are generally mounted in the host anyway, and unless
           the root directory is changed, the private mount namespace will be a 1:1 copy of the host's, and
           include these four mounts. Note that the <a href="file:/dev/">/dev/</a> file system of the host is bind mounted if this option
           is used without <u>PrivateDevices=</u>. To run the service with a private, minimal version of <a href="file:/dev/">/dev/</a>, combine
           this option with <u>PrivateDevices=</u>.

           In order to allow propagating mounts at runtime in a safe manner, <a href="file:/run/systemd/propagate/">/run/systemd/propagate/</a> on the host
           will be used to set up new mounts, and /run/host/incoming/ in the private namespace will be used as
           an intermediate step to store them before being moved to the final mount point.

           Added in version 233.

       <u>BindLogSockets=</u>
           Takes a boolean argument. If true, sockets from <b><a href="../man8/systemd-journald.socket.8.html">systemd-journald.socket</a></b>(8) will be bind mounted into
           the mount namespace. This is particularly useful when a different instance of <a href="file:/run/">/run/</a> is employed, to
           make sure processes running in the namespace can still make use of <b><a href="../man3/sd-journal.3.html">sd-journal</a></b>(3).

           This option is implied when <u>LogNamespace=</u> is used, when <u>MountAPIVFS=yes</u>, or when <u>PrivateDevices=yes</u>
           is used in conjunction with either <u>RootDirectory=</u> or <u>RootImage=</u>.

           Added in version 257.

       <u>ProtectProc=</u>
           Takes one of "noaccess", "invisible", "ptraceable" or "default" (which it defaults to). When set,
           this controls the "hidepid=" mount option of the "procfs" instance for the unit that controls which
           directories with process metainformation (<a href="file:/proc/">/proc/</a><u>PID</u>) are visible and accessible: when set to
           "noaccess" the ability to access most of other users' process metadata in <a href="file:/proc/">/proc/</a> is taken away for
           processes of the service. When set to "invisible" processes owned by other users are hidden from
           <a href="file:/proc/.">/proc/.</a> If "ptraceable" all processes that cannot be <b>ptrace()</b>'ed by a process are hidden to it. If
           "default" no restrictions on <a href="file:/proc/">/proc/</a> access or visibility are made. For further details see <b>The</b> <b><a href="file:/proc">/proc</a></b>
           <b>Filesystem</b>[2]. It is generally recommended to run most system services with this option set to
           "invisible". This option is implemented via file system namespacing, and thus cannot be used with
           services that shall be able to install mount points in the host file system hierarchy. Note that the
           root user is unaffected by this option, so to be effective it has to be used together with <u>User=</u> or
           <u>DynamicUser=yes</u>, and also without the "CAP_SYS_PTRACE" capability, which also allows a process to
           bypass this feature. It cannot be used for services that need to access metainformation about other
           users' processes. This option implies <u>MountAPIVFS=</u>.

           If the kernel does not support per-mount point <b>hidepid=</b> mount options this setting remains without
           effect, and the unit's processes will be able to access and see other process as if the option was
           not used.

           This option is only available for system services and is not supported for services running in
           per-user instances of the service manager.

           Added in version 247.

       <u>ProcSubset=</u>
           Takes one of "all" (the default) and "pid". If "pid", all files and directories not directly
           associated with process management and introspection are made invisible in the <a href="file:/proc/">/proc/</a> file system
           configured for the unit's processes. This controls the "subset=" mount option of the "procfs"
           instance for the unit. For further details see <b>The</b> <b><a href="file:/proc">/proc</a></b> <b>Filesystem</b>[2]. Note that Linux exposes
           various kernel APIs via <a href="file:/proc/">/proc/</a>, which are made unavailable with this setting. Since these APIs are
           used frequently this option is useful only in a few, specific cases, and is not suitable for most
           non-trivial programs.

           Much like <u>ProtectProc=</u> above, this is implemented via file system mount namespacing, and hence the
           same restrictions apply: it is only available to system services, it disables mount propagation to
           the host mount table, and it implies <u>MountAPIVFS=</u>. Also, like <u>ProtectProc=</u> this setting is gracefully
           disabled if the used kernel does not support the "subset=" mount option of "procfs".

           Added in version 247.

       <u>BindPaths=</u>, <u>BindReadOnlyPaths=</u>
           Configures unit-specific bind mounts. A bind mount makes a particular file or directory available at
           an additional place in the unit's view of the file system. Any bind mounts created with this option
           are specific to the unit, and are not visible in the host's mount table. This option expects a
           whitespace separated list of bind mount definitions. Each definition consists of a colon-separated
           triple of source path, destination path and option string, where the latter two are optional. If only
           a source path is specified the source and destination is taken to be the same. The option string may
           be either "rbind" or "norbind" for configuring a recursive or non-recursive bind mount. If the
           destination path is omitted, the option string must be omitted too. Each bind mount definition may be
           prefixed with "-", in which case it will be ignored when its source path does not exist.

           <u>BindPaths=</u> creates regular writable bind mounts (unless the source file system mount is already
           marked read-only), while <u>BindReadOnlyPaths=</u> creates read-only bind mounts. These settings may be used
           more than once, each usage appends to the unit's list of bind mounts. If the empty string is assigned
           to either of these two options the entire list of bind mounts defined prior to this is reset. Note
           that in this case both read-only and regular bind mounts are reset, regardless which of the two
           settings is used.

           Using this option implies that a mount namespace is allocated for the unit, i.e. it implies the
           effect of <u>PrivateMounts=</u> (see below).

           This option is particularly useful when <u>RootDirectory=</u>/<u>RootImage=</u> is used. In this case the source
           path refers to a path on the host file system, while the destination path refers to a path below the
           root directory of the unit.

           Note that the destination directory must exist or systemd must be able to create it. Thus, it is not
           possible to use those options for mount points nested underneath paths specified in
           <u>InaccessiblePaths=</u>, or under <a href="file:/home/">/home/</a> and other protected directories if <u>ProtectHome=yes</u> is specified.
           <u>TemporaryFileSystem=</u> with ":ro" or <u>ProtectHome=tmpfs</u> should be used instead.

           Added in version 233.

       <u>MountImages=</u>
           This setting is similar to <u>RootImage=</u> in that it mounts a file system hierarchy from a block device
           node or loopback file, but the destination directory can be specified as well as mount options. This
           option expects a whitespace separated list of mount definitions. Each definition consists of a
           colon-separated tuple of source path and destination definitions, optionally followed by another
           colon and a list of mount options.

           Mount options may be defined as a single comma-separated list of options, in which case they will be
           implicitly applied to the root partition on the image, or a series of colon-separated tuples of
           partition name and mount options. Valid partition names and mount options are the same as for
           <u>RootImageOptions=</u> setting described above.

           Each mount definition may be prefixed with "-", in which case it will be ignored when its source path
           does not exist. The source argument is a path to a block device node or regular file. If source or
           destination contain a ":", it needs to be escaped as "\:". The device node or file system image file
           needs to follow the same rules as specified for <u>RootImage=</u>. Any mounts created with this option are
           specific to the unit, and are not visible in the host's mount table.

           These settings may be used more than once, each usage appends to the unit's list of mount paths. If
           the empty string is assigned, the entire list of mount paths defined prior to this is reset.

           Note that the destination directory must exist or systemd must be able to create it. Thus, it is not
           possible to use those options for mount points nested underneath paths specified in
           <u>InaccessiblePaths=</u>, or under <a href="file:/home/">/home/</a> and other protected directories if <u>ProtectHome=yes</u> is specified.

           When <u>DevicePolicy=</u> is set to "closed" or "strict", or set to "auto" and <u>DeviceAllow=</u> is set, then
           this setting adds /dev/loop-control with <b>rw</b> mode, "block-loop" and "block-blkext" with <b>rwm</b> mode to
           <u>DeviceAllow=</u>. See <b><a href="../man5/systemd.resource-control.5.html">systemd.resource-control</a></b>(5) for the details about <u>DevicePolicy=</u> or <u>DeviceAllow=</u>.
           Also, see <u>PrivateDevices=</u> below, as it may change the setting of <u>DevicePolicy=</u>.

           This option is only available for system services and is not supported for services running in
           per-user instances of the service manager.

           Added in version 247.

       <u>ExtensionImages=</u>
           This setting is similar to <u>MountImages=</u> in that it mounts a file system hierarchy from a block device
           node or loopback file, but instead of providing a destination path, an overlay will be set up. This
           option expects a whitespace separated list of mount definitions. Each definition consists of a source
           path, optionally followed by a colon and a list of mount options.

           A read-only OverlayFS will be set up on top of <a href="file:/usr/">/usr/</a> and <a href="file:/opt/">/opt/</a> hierarchies for sysext images and
           <a href="file:/etc/">/etc/</a> hierarchy for confext images. The order in which the images are listed will determine the order
           in which the overlay is laid down: images specified first to last will result in overlayfs layers
           bottom to top.

           Mount options may be defined as a single comma-separated list of options, in which case they will be
           implicitly applied to the root partition on the image, or a series of colon-separated tuples of
           partition name and mount options. Valid partition names and mount options are the same as for
           <u>RootImageOptions=</u> setting described above.

           Each mount definition may be prefixed with "-", in which case it will be ignored when its source path
           does not exist. The source argument is a path to a block device node or regular file. If the source
           path contains a ":", it needs to be escaped as "\:". The device node or file system image file needs
           to follow the same rules as specified for <u>RootImage=</u>. Any mounts created with this option are
           specific to the unit, and are not visible in the host's mount table.

           These settings may be used more than once, each usage appends to the unit's list of image paths. If
           the empty string is assigned, the entire list of mount paths defined prior to this is reset.

           Each sysext image must carry a /usr/lib/extension-release.d/extension-release.IMAGE file while each
           confext image must carry a /etc/extension-release.d/extension-release.IMAGE file, with the
           appropriate metadata which matches <u>RootImage=</u>/<u>RootDirectory=</u> or the host. See: <b><a href="../man5/os-release.5.html">os-release</a></b>(5). To
           disable the safety check that the extension-release file name matches the image file name, the
           <u>x-systemd.relax-extension-release-check</u> mount option may be appended.

           When <u>DevicePolicy=</u> is set to "closed" or "strict", or set to "auto" and <u>DeviceAllow=</u> is set, then
           this setting adds /dev/loop-control with <b>rw</b> mode, "block-loop" and "block-blkext" with <b>rwm</b> mode to
           <u>DeviceAllow=</u>. See <b><a href="../man5/systemd.resource-control.5.html">systemd.resource-control</a></b>(5) for the details about <u>DevicePolicy=</u> or <u>DeviceAllow=</u>.
           Also, see <u>PrivateDevices=</u> below, as it may change the setting of <u>DevicePolicy=</u>.

           In place of the image path a ".v/" versioned directory may be specified, see <b><a href="../man7/systemd.v.7.html">systemd.v</a></b>(7) for
           details.

           This option is only available for system services and is not supported for services running in
           per-user instances of the service manager.

           Added in version 248.

       <u>ExtensionDirectories=</u>
           This setting is similar to <u>BindReadOnlyPaths=</u> in that it mounts a file system hierarchy from a
           directory, but instead of providing a destination path, an overlay will be set up. This option
           expects a whitespace separated list of source directories.

           A read-only OverlayFS will be set up on top of <a href="file:/usr/">/usr/</a> and <a href="file:/opt/">/opt/</a> hierarchies for sysext images and
           <a href="file:/etc/">/etc/</a> hierarchy for confext images. The order in which the directories are listed will determine the
           order in which the overlay is laid down: directories specified first to last will result in overlayfs
           layers bottom to top.

           Each directory listed in <u>ExtensionDirectories=</u> may be prefixed with "-", in which case it will be
           ignored when its source path does not exist. Any mounts created with this option are specific to the
           unit, and are not visible in the host's mount table.

           These settings may be used more than once, each usage appends to the unit's list of directories
           paths. If the empty string is assigned, the entire list of mount paths defined prior to this is
           reset.

           Each sysext directory must contain a /usr/lib/extension-release.d/extension-release.IMAGE file while
           each confext directory must carry a /etc/extension-release.d/extension-release.IMAGE file, with the
           appropriate metadata which matches <u>RootImage=</u>/<u>RootDirectory=</u> or the host. See: <b><a href="../man5/os-release.5.html">os-release</a></b>(5).

           Note that usage from user units requires overlayfs support in unprivileged user namespaces, which was
           first introduced in kernel v5.11.

           In place of the directory path a ".v/" versioned directory may be specified, see <b><a href="../man7/systemd.v.7.html">systemd.v</a></b>(7) for
           details.

           This option is only available for system services, or for services running in per-user instances of
           the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
           namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

           Added in version 251.

</pre><h4><b>USER/GROUP</b> <b>IDENTITY</b></h4><pre>
       These options are only available for system services and are not supported for services running in
       per-user instances of the service manager.

       <u>User=</u>, <u>Group=</u>
           Set the UNIX user or group that the processes are executed as, respectively. Takes a single user or
           group name, or a numeric ID as argument. For system services (services run by the system service
           manager, i.e. managed by PID 1) and for user services of the root user (services managed by root's
           instance of <b>systemd</b> <b>--user</b>), the default is "root", but <u>User=</u> may be used to specify a different
           user. For user services of any other user, switching user identity is not permitted, hence the only
           valid setting is the same user the user's service manager is running as. If no group is set, the
           default group of the user is used. This setting does not affect commands whose command line is
           prefixed with "+".

           Note that this enforces only weak restrictions on the user/group name syntax, but will generate
           warnings in many cases where user/group names do not adhere to the following rules: the specified
           name should consist only of the characters a-z, A-Z, 0-9, "_" and "-", except for the first character
           which must be one of a-z, A-Z and "_" (i.e. digits and "-" are not permitted as first character). The
           user/group name must have at least one character, and at most 31. These restrictions are made in
           order to avoid ambiguities and to ensure user/group names and unit files remain portable among Linux
           systems. For further details on the names accepted and the names warned about see <b>User/Group</b> <b>Name</b>
           <b>Syntax</b>[3].

           When used in conjunction with <u>DynamicUser=</u> the user/group name specified is dynamically allocated at
           the time the service is started, and released at the time the service is stopped — unless it is
           already allocated statically (see below). If <u>DynamicUser=</u> is not used the specified user and group
           must have been created statically in the user database no later than the moment the service is
           started, for example using the <b><a href="../man5/sysusers.d.5.html">sysusers.d</a></b>(5) facility, which is applied at boot or package install
           time. If the user does not exist by then program invocation will fail.

           If the <u>User=</u> setting is used the supplementary group list is initialized from the specified user's
           default group list, as defined in the system's user and group database. Additional groups may be
           configured through the <u>SupplementaryGroups=</u> setting (see below).

       <u>DynamicUser=</u>
           Takes a boolean parameter. If set, a UNIX user and group pair is allocated dynamically when the unit
           is started, and released as soon as it is stopped. The user and group will not be added to
           <a href="file:/etc/passwd">/etc/passwd</a> or <a href="file:/etc/group">/etc/group</a>, but are managed transiently during runtime. The <b><a href="../man8/nss-systemd.8.html">nss-systemd</a></b>(8) glibc NSS
           module provides integration of these dynamic users/groups into the system's user and group databases.
           The user and group name to use may be configured via <u>User=</u> and <u>Group=</u> (see above). If these options
           are not used and dynamic user/group allocation is enabled for a unit, the name of the dynamic
           user/group is implicitly derived from the unit name. If the unit name without the type suffix
           qualifies as valid user name it is used directly, otherwise a name incorporating a hash of it is
           used. If a statically allocated user or group of the configured name already exists, it is used and
           no dynamic user/group is allocated. Note that if <u>User=</u> is specified and the static group with the
           name exists, then it is required that the static user with the name already exists. Similarly, if
           <u>Group=</u> is specified and the static user with the name exists, then it is required that the static
           group with the name already exists. Dynamic users/groups are allocated from the UID/GID range
           61184...65519. It is recommended to avoid this range for regular system or login users. At any point
           in time each UID/GID from this range is only assigned to zero or one dynamically allocated
           users/groups in use. However, UID/GIDs are recycled after a unit is terminated. Care should be taken
           that any processes running as part of a unit for which dynamic users/groups are enabled do not leave
           files or directories owned by these users/groups around, as a different unit might get the same
           UID/GID assigned later on, and thus gain access to these files or directories. If <u>DynamicUser=</u> is
           enabled, <u>RemoveIPC=</u> is implied (and cannot be turned off). This ensures that the lifetime of IPC
           objects and temporary files created by the executed processes is bound to the runtime of the service,
           and hence the lifetime of the dynamic user/group. Since <a href="file:/tmp/">/tmp/</a> and <a href="file:/var/tmp/">/var/tmp/</a> are usually the only
           world-writable directories on a system, unless <u>PrivateTmp=</u> is manually set to "true", "disconnected"
           would be implied. This ensures that a unit making use of dynamic user/group allocation cannot leave
           files around after unit termination. Furthermore <u>NoNewPrivileges=</u> and <u>RestrictSUIDSGID=</u> are
           implicitly enabled (and cannot be disabled), to ensure that processes invoked cannot take benefit or
           create SUID/SGID files or directories. Moreover <u>ProtectSystem=strict</u> and <u>ProtectHome=read-only</u> are
           implied, thus prohibiting the service to write to arbitrary file system locations. In order to allow
           the service to write to certain directories, they have to be allow-listed using <u>ReadWritePaths=</u>, but
           care must be taken so that UID/GID recycling does not create security issues involving files created
           by the service. Use <u>RuntimeDirectory=</u> (see below) in order to assign a writable runtime directory to
           a service, owned by the dynamic user/group and removed automatically when the unit is terminated. Use
           <u>StateDirectory=</u>, <u>CacheDirectory=</u> and <u>LogsDirectory=</u> in order to assign a set of writable directories
           for specific purposes to the service in a way that they are protected from vulnerabilities due to UID
           reuse (see below). If this option is enabled, care should be taken that the unit's processes do not
           get access to directories outside of these explicitly configured and managed ones. Specifically, do
           not use <u>BindPaths=</u> and be careful with <b>AF_UNIX</b> file descriptor passing for directory file
           descriptors, as this would permit processes to create files or directories owned by the dynamic
           user/group that are not subject to the lifecycle and access guarantees of the service. Note that this
           option is currently incompatible with D-Bus policies, thus a service using this option may currently
           not allocate a D-Bus service name (note that this does not affect calling into other D-Bus services).
           Defaults to off.

           Added in version 232.

       <u>SupplementaryGroups=</u>
           Sets the supplementary Unix groups the processes are executed as. This takes a space-separated list
           of group names or IDs. This option may be specified more than once, in which case all listed groups
           are set as supplementary groups. When the empty string is assigned, the list of supplementary groups
           is reset, and all assignments prior to this one will have no effect. In any way, this option does not
           override, but extends the list of supplementary groups configured in the system group database for
           the user. This does not affect commands prefixed with "+".

       <u>SetLoginEnvironment=</u>
           Takes a boolean parameter that controls whether to set the <u>$HOME</u>, <u>$LOGNAME</u>, and <u>$SHELL</u> environment
           variables. If not set, this defaults to true if <u>User=</u>, <u>DynamicUser=</u> or <u>PAMName=</u> are set, false
           otherwise. If set to true, the variables will always be set for system services, i.e. even when the
           default user "root" is used. If set to false, the mentioned variables are not set by the service
           manager, no matter whether <u>User=</u>, <u>DynamicUser=</u>, or <u>PAMName=</u> are used or not. This option normally has
           no effect on services of the per-user service manager, since in that case these variables are
           typically inherited from user manager's own environment anyway.

           Added in version 255.

       <u>PAMName=</u>
           Sets the PAM service name to set up a session as. If set, the executed process will be registered as
           a PAM session under the specified service name. This is only useful in conjunction with the <u>User=</u>
           setting, and is otherwise ignored. If not set, no PAM session will be opened for the executed
           processes. See <b><a href="../man8/pam.8.html">pam</a></b>(8) for details.

           Note that for each unit making use of this option a PAM session handler process will be maintained as
           part of the unit and stays around as long as the unit is active, to ensure that appropriate actions
           can be taken when the unit and hence the PAM session terminates. This process is named "(sd-pam)" and
           is an immediate child process of the unit's main process.

           Note that when this option is used for a unit it is very likely (depending on PAM configuration) that
           the main unit process will be migrated to its own session scope unit when it is activated. This
           process will hence be associated with two units: the unit it was originally started from (and for
           which <u>PAMName=</u> was configured), and the session scope unit. Any child processes of that process will
           however be associated with the session scope unit only. This has implications when used in
           combination with <u>NotifyAccess=</u><b>all</b>, as these child processes will not be able to affect changes in the
           original unit through notification messages. These messages will be considered belonging to the
           session scope unit and not the original unit. It is hence not recommended to use <u>PAMName=</u> in
           combination with <u>NotifyAccess=</u><b>all</b>.

</pre><h4><b>CAPABILITIES</b></h4><pre>
       These options are only available for system services, or for services running in per-user instances of
       the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
       namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

       <u>CapabilityBoundingSet=</u>
           Controls which capabilities to include in the capability bounding set for the executed process. See
           <b><a href="../man7/capabilities.7.html">capabilities</a></b>(7) for details. Takes a whitespace-separated list of capability names, e.g.
           <b>CAP_SYS_ADMIN</b>, <b>CAP_DAC_OVERRIDE</b>, <b>CAP_SYS_PTRACE</b>. Capabilities listed will be included in the bounding
           set, all others are removed. If the list of capabilities is prefixed with "~", all but the listed
           capabilities will be included, the effect of the assignment inverted. Note that this option also
           affects the respective capabilities in the effective, permitted and inheritable capability sets. If
           this option is not used, the capability bounding set is not modified on process execution, hence no
           limits on the capabilities of the process are enforced. This option may appear more than once, in
           which case the bounding sets are merged by <b>OR</b>, or by <b>AND</b> if the lines are prefixed with "~" (see
           below). If the empty string is assigned to this option, the bounding set is reset to the empty
           capability set, and all prior settings have no effect. If set to "~" (without any further argument),
           the bounding set is reset to the full set of available capabilities, also undoing any previous
           settings. This does not affect commands prefixed with "+".

           Use <b><a href="../man1/systemd-analyze.1.html">systemd-analyze</a></b>(1)'s <b>capability</b> command to retrieve a list of capabilities defined on the local
           system.

           Example: if a unit has the following,

               CapabilityBoundingSet=CAP_A CAP_B
               CapabilityBoundingSet=CAP_B CAP_C

           then <b>CAP_A</b>, <b>CAP_B</b>, and <b>CAP_C</b> are set. If the second line is prefixed with "~", e.g.,

               CapabilityBoundingSet=CAP_A CAP_B
               CapabilityBoundingSet=~CAP_B CAP_C

           then, only <b>CAP_A</b> is set.

       <u>AmbientCapabilities=</u>
           Controls which capabilities to include in the ambient capability set for the executed process. Takes
           a whitespace-separated list of capability names, e.g.  <b>CAP_SYS_ADMIN</b>, <b>CAP_DAC_OVERRIDE</b>,
           <b>CAP_SYS_PTRACE</b>. This option may appear more than once, in which case the ambient capability sets are
           merged (see the above examples in <u>CapabilityBoundingSet=</u>). If the list of capabilities is prefixed
           with "~", all but the listed capabilities will be included, the effect of the assignment inverted. If
           the empty string is assigned to this option, the ambient capability set is reset to the empty
           capability set, and all prior settings have no effect. If set to "~" (without any further argument),
           the ambient capability set is reset to the full set of available capabilities, also undoing any
           previous settings. Note that adding capabilities to the ambient capability set adds them to the
           process's inherited capability set.

           Ambient capability sets are useful if you want to execute a process as a non-privileged user but
           still want to give it some capabilities. Note that in this case option <b>keep-caps</b> is automatically
           added to <u>SecureBits=</u> to retain the capabilities over the user change.  <u>AmbientCapabilities=</u> does not
           affect commands prefixed with "+".

           Added in version 229.

</pre><h4><b>SECURITY</b></h4><pre>
       <u>NoNewPrivileges=</u>
           Takes a boolean argument. If true, ensures that the service process and all its children can never
           gain new privileges through <b>execve()</b> (e.g. via setuid or setgid bits, or filesystem capabilities).
           This is the simplest and most effective way to ensure that a process and its children can never
           elevate privileges again. Defaults to false. In case the service will be run in a new mount namespace
           anyway and SELinux is disabled, all file systems are mounted with <b>MS_NOSUID</b> flag. Also see <b>No</b> <b>New</b>
           <b>Privileges</b> <b>Flag</b>[4].

           Note that this setting only has an effect on the unit's processes themselves (or any processes
           directly or indirectly forked off them). It has no effect on processes potentially invoked on request
           of them through tools such as <b><a href="../man1/at.1.html">at</a></b>(1), <b><a href="../man1/crontab.1.html">crontab</a></b>(1), <b><a href="../man1/systemd-run.1.html">systemd-run</a></b>(1), or arbitrary IPC services.

           Added in version 187.

       <u>SecureBits=</u>
           Controls the secure bits set for the executed process. Takes a space-separated combination of options
           from the following list: <b>keep-caps</b>, <b>keep-caps-locked</b>, <b>no-setuid-fixup</b>, <b>no-setuid-fixup-locked</b>,
           <b>noroot</b>, and <b>noroot-locked</b>. This option may appear more than once, in which case the secure bits are
           ORed. If the empty string is assigned to this option, the bits are reset to 0. This does not affect
           commands prefixed with "+". See <b><a href="../man7/capabilities.7.html">capabilities</a></b>(7) for details.

</pre><h4><b>MANDATORY</b> <b>ACCESS</b> <b>CONTROL</b></h4><pre>
       <u>SELinuxContext=</u>
           Set the SELinux security context of the executed process. If set, this will override the automated
           domain transition. However, the policy still needs to authorize the transition. This directive is
           ignored if SELinux is disabled. If prefixed by "-", failing to set the SELinux security context will
           be ignored, but it is still possible that the subsequent <b>execve()</b> may fail if the policy does not
           allow the transition for the non-overridden context. This does not affect commands prefixed with "+".
           See <b><a href="../man3/setexeccon.3.html">setexeccon</a></b>(3) for details.

           Added in version 209.

       <u>AppArmorProfile=</u>
           Takes a profile name as argument. The process executed by the unit will switch to this profile when
           started. Profiles must already be loaded in the kernel, or the unit will fail. If prefixed by "-",
           all errors will be ignored. This setting has no effect if AppArmor is not enabled. This setting does
           not affect commands prefixed with "+".

           This option is only available for system services and is not supported for services running in
           per-user instances of the service manager.

           Added in version 210.

       <u>SmackProcessLabel=</u>
           Takes a <b>SMACK64</b> security label as argument. The process executed by the unit will be started under
           this label and SMACK will decide whether the process is allowed to run or not, based on it. The
           process will continue to run under the label specified here unless the executable has its own
           <b>SMACK64EXEC</b> label, in which case the process will transition to run under that label. When not
           specified, the label that systemd is running under is used. This directive is ignored if SMACK is
           disabled.

           The value may be prefixed by "-", in which case all errors will be ignored. An empty value may be
           specified to unset previous assignments. This does not affect commands prefixed with "+".

           This option is only available for system services and is not supported for services running in
           per-user instances of the service manager.

           Added in version 218.

</pre><h4><b>PROCESS</b> <b>PROPERTIES</b></h4><pre>
       <u>LimitCPU=</u>, <u>LimitFSIZE=</u>, <u>LimitDATA=</u>, <u>LimitSTACK=</u>, <u>LimitCORE=</u>, <u>LimitRSS=</u>, <u>LimitNOFILE=</u>, <u>LimitAS=</u>,
       <u>LimitNPROC=</u>, <u>LimitMEMLOCK=</u>, <u>LimitLOCKS=</u>, <u>LimitSIGPENDING=</u>, <u>LimitMSGQUEUE=</u>, <u>LimitNICE=</u>, <u>LimitRTPRIO=</u>,
       <u>LimitRTTIME=</u>
           Set soft and hard limits on various resources for executed processes. See <b><a href="../man2/setrlimit.2.html">setrlimit</a></b>(2) for details on
           the process resource limit concept. Process resource limits may be specified in two formats: either
           as single value to set a specific soft and hard limit to the same value, or as colon-separated pair
           <b>soft:hard</b> to set both limits individually (e.g.  "LimitAS=4G:16G"). Use the string <b>infinity</b> to
           configure no limit on a specific resource. The multiplicative suffixes K, M, G, T, P and E (to the
           base 1024) may be used for resource limits measured in bytes (e.g.  "LimitAS=16G"). For the limits
           referring to time values, the usual time units ms, s, min, h and so on may be used (see
           <b><a href="../man7/systemd.time.7.html">systemd.time</a></b>(7) for details). Note that if no time unit is specified for <u>LimitCPU=</u> the default unit
           of seconds is implied, while for <u>LimitRTTIME=</u> the default unit of microseconds is implied. Also, note
           that the effective granularity of the limits might influence their enforcement. For example, time
           limits specified for <u>LimitCPU=</u> will be rounded up implicitly to multiples of 1s. For <u>LimitNICE=</u> the
           value may be specified in two syntaxes: if prefixed with "+" or "-", the value is understood as
           regular Linux nice value in the range -20...19. If not prefixed like this the value is understood as
           raw resource limit parameter in the range 0...40 (with 0 being equivalent to 1).

           Note that most process resource limits configured with these options are per-process, and processes
           may fork in order to acquire a new set of resources that are accounted independently of the original
           process, and may thus escape limits set. Also note that <u>LimitRSS=</u> is not implemented on Linux, and
           setting it has no effect. Often it is advisable to prefer the resource controls listed in
           <b><a href="../man5/systemd.resource-control.5.html">systemd.resource-control</a></b>(5) over these per-process limits, as they apply to services as a whole, may
           be altered dynamically at runtime, and are generally more expressive. For example, <u>MemoryMax=</u> is a
           more powerful (and working) replacement for <u>LimitRSS=</u>.

           Note that <u>LimitNPROC=</u> will limit the number of processes from one (real) UID and not the number of
           processes started (forked) by the service. Therefore the limit is cumulative for all processes
           running under the same UID. Please also note that the <u>LimitNPROC=</u> will not be enforced if the service
           is running as root (and not dropping privileges). Due to these limitations, <u>TasksMax=</u> (see
           <b><a href="../man5/systemd.resource-control.5.html">systemd.resource-control</a></b>(5)) is typically a better choice than <u>LimitNPROC=</u>.

           Resource limits not configured explicitly for a unit default to the value configured in the various
           <u>DefaultLimitCPU=</u>, <u>DefaultLimitFSIZE=</u>, ... options available in <b><a href="../man5/systemd-system.conf.5.html">systemd-system.conf</a></b>(5), and – if not
           configured there – the kernel or per-user defaults, as defined by the OS (the latter only for user
           services, see below).

           For system units these resource limits may be chosen freely. When these settings are configured in a
           user service (i.e. a service run by the per-user instance of the service manager) they cannot be used
           to raise the limits above those set for the user manager itself when it was first invoked, as the
           user's service manager generally lacks the privileges to do so. In user context these configuration
           options are hence only useful to lower the limits passed in or to raise the soft limit to the maximum
           of the hard limit as configured for the user. To raise the user's limits further, the available
           configuration mechanisms differ between operating systems, but typically require privileges. In most
           cases it is possible to configure higher per-user resource limits via PAM or by setting limits on the
           system service encapsulating the user's service manager, i.e. the user's instance of user@.service.
           After making such changes, make sure to restart the user's service manager.

           <b>Table</b> <b>1.</b> <b>Resource</b> <b>limit</b> <b>directives,</b> <b>their</b> <b>equivalent</b> <b>ulimit</b> <b>shell</b> <b>commands</b> <b>and</b> <b>the</b> <b>unit</b> <b>used</b>
           ┌──────────────────┬───────────────────┬─────────────────────┬────────────────────────┐
           │ <b>Directive</b>        │ <b>ulimit</b> equivalent │ <b>Unit</b>                │ <b>Notes</b>                  │
           ├──────────────────┼───────────────────┼─────────────────────┼────────────────────────┤
           │ LimitCPU=        │ ulimit -t         │ Seconds             │ -                      │
           ├──────────────────┼───────────────────┼─────────────────────┼────────────────────────┤
           │ LimitFSIZE=      │ ulimit -f         │ Bytes               │ -                      │
           ├──────────────────┼───────────────────┼─────────────────────┼────────────────────────┤
           │ LimitDATA=       │ ulimit -d         │ Bytes               │ Do not use. This       │
           │                  │                   │                     │ limits the allowed     │
           │                  │                   │                     │ address range, not     │
           │                  │                   │                     │ memory use! Defaults   │
           │                  │                   │                     │ to unlimited and       │
           │                  │                   │                     │ should not be lowered. │
           │                  │                   │                     │ To limit memory use,   │
           │                  │                   │                     │ see <u>MemoryMax=</u> in      │
           │                  │                   │                     │ <b>systemd.resource-</b>      │
           │                  │                   │                     │ <b><a href="../man5/control.5.html">control</a></b>(5).            │
           ├──────────────────┼───────────────────┼─────────────────────┼────────────────────────┤
           │ LimitSTACK=      │ ulimit -s         │ Bytes               │ -                      │
           ├──────────────────┼───────────────────┼─────────────────────┼────────────────────────┤
           │ LimitCORE=       │ ulimit -c         │ Bytes               │ -                      │
           ├──────────────────┼───────────────────┼─────────────────────┼────────────────────────┤
           │ LimitRSS=        │ ulimit -m         │ Bytes               │ Do not use. No effect  │
           │                  │                   │                     │ on Linux.              │
           ├──────────────────┼───────────────────┼─────────────────────┼────────────────────────┤
           │ LimitNOFILE=     │ ulimit -n         │ Number of File      │ Do not use. Be careful │
           │                  │                   │ Descriptors         │ when raising the soft  │
           │                  │                   │                     │ limit above 1024,      │
           │                  │                   │                     │ since <b><a href="../man2/select.2.html">select</a></b>(2) cannot │
           │                  │                   │                     │ function with file     │
           │                  │                   │                     │ descriptors above 1023 │
           │                  │                   │                     │ on Linux. Nowadays,    │
           │                  │                   │                     │ the hard limit         │
           │                  │                   │                     │ defaults to 524288, a  │
           │                  │                   │                     │ very high value        │
           │                  │                   │                     │ compared to historical │
           │                  │                   │                     │ defaults. Typically    │
           │                  │                   │                     │ applications should    │
           │                  │                   │                     │ increase their soft    │
           │                  │                   │                     │ limit to the hard      │
           │                  │                   │                     │ limit on their own, if │
           │                  │                   │                     │ they are OK with       │
           │                  │                   │                     │ working with file      │
           │                  │                   │                     │ descriptors above      │
           │                  │                   │                     │ 1023, i.e. do not use  │
           │                  │                   │                     │ <b><a href="../man2/select.2.html">select</a></b>(2). Note that   │
           │                  │                   │                     │ file descriptors are   │
           │                  │                   │                     │ nowadays accounted     │
           │                  │                   │                     │ like any other form of │
           │                  │                   │                     │ memory, thus there     │
           │                  │                   │                     │ should not be any need │
           │                  │                   │                     │ to lower the hard      │
           │                  │                   │                     │ limit. Use <u>MemoryMax=</u>  │
           │                  │                   │                     │ to control overall     │
           │                  │                   │                     │ service memory use,    │
           │                  │                   │                     │ including file         │
           │                  │                   │                     │ descriptor memory.     │
           ├──────────────────┼───────────────────┼─────────────────────┼────────────────────────┤
           │ LimitAS=         │ ulimit -v         │ Bytes               │ Do not use. This       │
           │                  │                   │                     │ limits the allowed     │
           │                  │                   │                     │ address range, not     │
           │                  │                   │                     │ memory use! Defaults   │
           │                  │                   │                     │ to unlimited and       │
           │                  │                   │                     │ should not be lowered. │
           │                  │                   │                     │ To limit memory use,   │
           │                  │                   │                     │ see <u>MemoryMax=</u> in      │
           │                  │                   │                     │ <b>systemd.resource-</b>      │
           │                  │                   │                     │ <b><a href="../man5/control.5.html">control</a></b>(5).            │
           ├──────────────────┼───────────────────┼─────────────────────┼────────────────────────┤
           │ LimitNPROC=      │ ulimit -u         │ Number of Processes │ This limit is enforced │
           │                  │                   │                     │ based on the number of │
           │                  │                   │                     │ processes belonging to │
           │                  │                   │                     │ the user. Typically it │
           │                  │                   │                     │ is better to track     │
           │                  │                   │                     │ processes per service, │
           │                  │                   │                     │ i.e. use <u>TasksMax=</u>,    │
           │                  │                   │                     │ see <b>systemd.resource-</b>  │
           │                  │                   │                     │ <b><a href="../man5/control.5.html">control</a></b>(5).            │
           ├──────────────────┼───────────────────┼─────────────────────┼────────────────────────┤
           │ LimitMEMLOCK=    │ ulimit -l         │ Bytes               │ -                      │
           ├──────────────────┼───────────────────┼─────────────────────┼────────────────────────┤
           │ LimitLOCKS=      │ ulimit -x         │ Number of Locks     │ -                      │
           ├──────────────────┼───────────────────┼─────────────────────┼────────────────────────┤
           │ LimitSIGPENDING= │ ulimit -i         │ Number of Queued    │ -                      │
           │                  │                   │ Signals             │                        │
           ├──────────────────┼───────────────────┼─────────────────────┼────────────────────────┤
           │ LimitMSGQUEUE=   │ ulimit -q         │ Bytes               │ -                      │
           ├──────────────────┼───────────────────┼─────────────────────┼────────────────────────┤
           │ LimitNICE=       │ ulimit -e         │ Nice Level          │ -                      │
           ├──────────────────┼───────────────────┼─────────────────────┼────────────────────────┤
           │ LimitRTPRIO=     │ ulimit -r         │ Realtime Priority   │ -                      │
           ├──────────────────┼───────────────────┼─────────────────────┼────────────────────────┤
           │ LimitRTTIME=     │ ulimit -R         │ Microseconds        │ -                      │
           └──────────────────┴───────────────────┴─────────────────────┴────────────────────────┘

       <u>UMask=</u>
           Controls the file mode creation mask. Takes an access mode in octal notation. See <b><a href="../man2/umask.2.html">umask</a></b>(2) for
           details. Defaults to 0022 for system units. For user units the default value is inherited from the
           per-user service manager (whose default is in turn inherited from the system service manager, and
           thus typically also is 0022 — unless overridden by a PAM module). In order to change the per-user
           mask for all user services, consider setting the <u>UMask=</u> setting of the user's user@.service system
           service instance. The per-user umask may also be set via the <u>umask</u> field of a user's <b>JSON</b> <b>User</b>
           <b>Record</b>[5] (for users managed by <b><a href="../man8/systemd-homed.service.8.html">systemd-homed.service</a></b>(8) this field may be controlled via <b>homectl</b>
           <b>--umask=</b>). It may also be set via a PAM module, such as <b><a href="../man8/pam_umask.8.html">pam_umask</a></b>(8).

       <u>CoredumpFilter=</u>
           Controls which types of memory mappings will be saved if the process dumps core (using the
           <a href="file:/proc/">/proc/</a><u>pid</u>/coredump_filter file). Takes a whitespace-separated combination of mapping type names or
           numbers (with the default base 16). Mapping type names are <b>private-anonymous</b>, <b>shared-anonymous</b>,
           <b>private-file-backed</b>, <b>shared-file-backed</b>, <b>elf-headers</b>, <b>private-huge</b>, <b>shared-huge</b>, <b>private-dax</b>,
           <b>shared-dax</b>, and the special values <b>all</b> (all types) and <b>default</b> (the kernel default of
           "<b>private-anonymous</b> <b>shared-anonymous</b> <b>elf-headers</b> <b>private-huge</b>"). See <b><a href="../man5/core.5.html">core</a></b>(5) for the meaning of the
           mapping types. When specified multiple times, all specified masks are ORed. When not set, or if the
           empty value is assigned, the inherited value is not changed.

           <b>Example</b> <b>2.</b> <b>Add</b> <b>DAX</b> <b>pages</b> <b>to</b> <b>the</b> <b>dump</b> <b>filter</b>

               CoredumpFilter=default private-dax shared-dax

           Added in version 246.

       <u>KeyringMode=</u>
           Controls how the kernel session keyring is set up for the service (see <b><a href="../man7/session-keyring.7.html">session-keyring</a></b>(7) for details
           on the session keyring). Takes one of <b>inherit</b>, <b>private</b>, <b>shared</b>. If set to <b>inherit</b> no special keyring
           setup is done, and the kernel's default behaviour is applied. If <b>private</b> is used a new session
           keyring is allocated when a service process is invoked, and it is not linked up with any user
           keyring. This is the recommended setting for system services, as this ensures that multiple services
           running under the same system user ID (in particular the root user) do not share their key material
           among each other. If <b>shared</b> is used a new session keyring is allocated as for <b>private</b>, but the user
           keyring of the user configured with <u>User=</u> is linked into it, so that keys assigned to the user may be
           requested by the unit's processes. In this mode multiple units running processes under the same user
           ID may share key material. Unless <b>inherit</b> is selected the unique invocation ID for the unit (see
           below) is added as a protected key by the name "invocation_id" to the newly created session keyring.
           Defaults to <b>private</b> for services of the system service manager and to <b>inherit</b> for non-service units
           and for services of the user service manager.

           Added in version 235.

       <u>OOMScoreAdjust=</u>
           Sets the adjustment value for the Linux kernel's Out-Of-Memory (OOM) killer score for executed
           processes. Takes an integer between -1000 (to disable OOM killing of processes of this unit) and 1000
           (to make killing of processes of this unit under memory pressure very likely). See <b>The</b> <b><a href="file:/proc">/proc</a></b>
           <b>Filesystem</b>[6] for details. If not specified defaults to the OOM score adjustment level of the service
           manager itself, which is normally at 0.

           Use the <u>OOMPolicy=</u> setting of service units to configure how the service manager shall react to the
           kernel OOM killer or <b>systemd-oomd</b> terminating a process of the service. See <b><a href="../man5/systemd.service.5.html">systemd.service</a></b>(5) for
           details.

       <u>TimerSlackNSec=</u>
           Sets the timer slack in nanoseconds for the executed processes. The timer slack controls the accuracy
           of wake-ups triggered by timers. See <b><a href="../man2/prctl.2.html">prctl</a></b>(2) for more information. Note that in contrast to most
           other time span definitions this parameter takes an integer value in nano-seconds if no unit is
           specified. The usual time units are understood too.

       <u>Personality=</u>
           Controls which kernel architecture <b><a href="../man2/uname.2.html">uname</a></b>(2) shall report, when invoked by unit processes. Takes one
           of the architecture identifiers <b>arm64</b>, <b>arm64-be</b>, <b>arm</b>, <b>arm-be</b>, <b>x86</b>, <b>x86-64</b>, <b>ppc</b>, <b>ppc-le</b>, <b>ppc64</b>,
           <b>ppc64-le</b>, <b>s390</b> or <b>s390x</b>. Which personality architectures are supported depends on the kernel's native
           architecture. Usually the 64-bit versions of the various system architectures support their immediate
           32-bit personality architecture counterpart, but no others. For example, <b>x86-64</b> systems support the
           <b>x86-64</b> and <b>x86</b> personalities but no others. The personality feature is useful when running 32-bit
           services on a 64-bit host system. If not specified, the personality is left unmodified and thus
           reflects the personality of the host system's kernel. This option is not useful on architectures for
           which only one native word width was ever available, such as <b>m68k</b> (32-bit only) or <b>alpha</b> (64-bit
           only).

           Added in version 209.

       <u>IgnoreSIGPIPE=</u>
           Takes a boolean argument. If true, <b>SIGPIPE</b> is ignored in the executed process. Defaults to true since
           <b>SIGPIPE</b> is generally only useful in shell pipelines.

</pre><h4><b>SCHEDULING</b></h4><pre>
       <u>Nice=</u>
           Sets the default nice level (scheduling priority) for executed processes. Takes an integer between
           -20 (highest priority) and 19 (lowest priority). In case of resource contention, smaller values mean
           more resources will be made available to the unit's processes, larger values mean less resources will
           be made available. See <b><a href="../man2/setpriority.2.html">setpriority</a></b>(2) for details.

       <u>CPUSchedulingPolicy=</u>
           Sets the CPU scheduling policy for executed processes. Takes one of <b>other</b>, <b>batch</b>, <b>idle</b>, <b>fifo</b> or <b>rr</b>.
           See <b><a href="../man2/sched_setscheduler.2.html">sched_setscheduler</a></b>(2) for details.

       <u>CPUSchedulingPriority=</u>
           Sets the CPU scheduling priority for executed processes. The available priority range depends on the
           selected CPU scheduling policy (see above). For real-time scheduling policies an integer between 1
           (lowest priority) and 99 (highest priority) can be used. In case of CPU resource contention, smaller
           values mean less CPU time is made available to the service, larger values mean more. See
           <b><a href="../man2/sched_setscheduler.2.html">sched_setscheduler</a></b>(2) for details.

       <u>CPUSchedulingResetOnFork=</u>
           Takes a boolean argument. If true, elevated CPU scheduling priorities and policies will be reset when
           the executed processes call <b><a href="../man2/fork.2.html">fork</a></b>(2), and can hence not leak into child processes. See
           <b><a href="../man2/sched_setscheduler.2.html">sched_setscheduler</a></b>(2) for details. Defaults to false.

       <u>CPUAffinity=</u>
           Controls the CPU affinity of the executed processes. Takes a list of CPU indices or ranges separated
           by either whitespace or commas. Alternatively, takes a special "numa" value in which case systemd
           automatically derives allowed CPU range based on the value of <u>NUMAMask=</u> option. CPU ranges are
           specified by the lower and upper CPU indices separated by a dash. This option may be specified more
           than once, in which case the specified CPU affinity masks are merged. If the empty string is
           assigned, the mask is reset, all assignments prior to this will have no effect. See
           <b><a href="../man2/sched_setaffinity.2.html">sched_setaffinity</a></b>(2) for details.

       <u>NUMAPolicy=</u>
           Controls the NUMA memory policy of the executed processes. Takes a policy type, one of: <b>default</b>,
           <b>preferred</b>, <b>bind</b>, <b>interleave</b> and <b>local</b>. A list of NUMA nodes that should be associated with the policy
           must be specified in <u>NUMAMask=</u>. For more details on each policy please see, <b><a href="../man2/set_mempolicy.2.html">set_mempolicy</a></b>(2). For
           overall overview of NUMA support in Linux see, <b><a href="../man7/numa.7.html">numa</a></b>(7).

           Added in version 243.

       <u>NUMAMask=</u>
           Controls the NUMA node list which will be applied alongside with selected NUMA policy. Takes a list
           of NUMA nodes and has the same syntax as a list of CPUs for <u>CPUAffinity=</u> option or special "all"
           value which will include all available NUMA nodes in the mask. Note that the list of NUMA nodes is
           not required for <b>default</b> and <b>local</b> policies and for <b>preferred</b> policy we expect a single NUMA node.

           Added in version 243.

       <u>IOSchedulingClass=</u>
           Sets the I/O scheduling class for executed processes. Takes one of the strings <b>realtime</b>, <b>best-effort</b>
           or <b>idle</b>. The kernel's default scheduling class is <b>best-effort</b> at a priority of 4. If the empty string
           is assigned to this option, all prior assignments to both <u>IOSchedulingClass=</u> and
           <u>IOSchedulingPriority=</u> have no effect. See <b><a href="../man2/ioprio_set.2.html">ioprio_set</a></b>(2) for details.

       <u>IOSchedulingPriority=</u>
           Sets the I/O scheduling priority for executed processes. Takes an integer between 0 (highest
           priority) and 7 (lowest priority). In case of I/O contention, smaller values mean more I/O bandwidth
           is made available to the unit's processes, larger values mean less bandwidth. The available
           priorities depend on the selected I/O scheduling class (see above). If the empty string is assigned
           to this option, all prior assignments to both <u>IOSchedulingClass=</u> and <u>IOSchedulingPriority=</u> have no
           effect. For the kernel's default scheduling class (<b>best-effort</b>) this defaults to 4. See <b><a href="../man2/ioprio_set.2.html">ioprio_set</a></b>(2)
           for details.

</pre><h4><b>SANDBOXING</b></h4><pre>
       The following sandboxing options are an effective way to limit the exposure of the system towards the
       unit's processes. It is recommended to turn on as many of these options for each unit as is possible
       without negatively affecting the process' ability to operate. Note that many of these sandboxing features
       are gracefully turned off on systems where the underlying security mechanism is not available. For
       example, <u>ProtectSystem=</u> has no effect if the kernel is built without file system namespacing or if the
       service manager runs in a container manager that makes file system namespacing unavailable to its
       payload. Similarly, <u>RestrictRealtime=</u> has no effect on systems that lack support for SECCOMP system call
       filtering, or in containers where support for this is turned off.

       Also note that some sandboxing functionality is generally not available in user services (i.e. services
       run by the per-user service manager). Specifically, the various settings requiring file system
       namespacing support (such as <u>ProtectSystem=</u>) are not available, as the underlying kernel functionality is
       only accessible to privileged processes. However, most namespacing settings, that will not work on their
       own in user services, will work when used in conjunction with <u>PrivateUsers=</u><b>true</b>.

       Note that the various options that turn directories read-only (such as <u>ProtectSystem=</u>, <u>ReadOnlyPaths=</u>,
       ...) do not affect the ability for programs to connect to and communicate with <b>AF_UNIX</b> sockets in these
       directories. These options cannot be used to lock down access to IPC services hence.

       <u>ProtectSystem=</u>
           Takes a boolean argument or the special values "full" or "strict". If true, mounts the <a href="file:/usr/">/usr/</a> and the
           boot loader directories (<a href="file:/boot">/boot</a> and /efi) read-only for processes invoked by this unit. If set to
           "full", the <a href="file:/etc/">/etc/</a> directory is mounted read-only, too. If set to "strict" the entire file system
           hierarchy is mounted read-only, except for the API file system subtrees <a href="file:/dev/">/dev/</a>, <a href="file:/proc/">/proc/</a> and <a href="file:/sys/">/sys/</a>
           (protect these directories using <u>PrivateDevices=</u>, <u>ProtectKernelTunables=</u>, <u>ProtectControlGroups=</u>).
           This setting ensures that any modification of the vendor-supplied operating system (and optionally
           its configuration, and local mounts) is prohibited for the service. It is recommended to enable this
           setting for all long-running services, unless they are involved with system updates or need to modify
           the operating system in other ways. If this option is used, <u>ReadWritePaths=</u> may be used to exclude
           specific directories from being made read-only. Similar, <u>StateDirectory=</u>, <u>LogsDirectory=</u>, ... and
           related directory settings (see below) also exclude the specific directories from the effect of
           <u>ProtectSystem=</u>. This setting is implied if <u>DynamicUser=</u> is set. This setting cannot ensure protection
           in all cases. In general it has the same limitations as <u>ReadOnlyPaths=</u>, see below. Defaults to off.

           Note that if <u>ProtectSystem=</u> is set to "strict" and <u>PrivateTmp=</u> is enabled, then <a href="file:/tmp/">/tmp/</a> and <a href="file:/var/tmp/">/var/tmp/</a>
           will be writable.

           Added in version 214.

       <u>ProtectHome=</u>
           Takes a boolean argument or the special values "read-only" or "tmpfs". If true, the directories
           <a href="file:/home/">/home/</a>, <a href="file:/root">/root</a>, and <a href="file:/run/user">/run/user</a> are made inaccessible and empty for processes invoked by this unit. If
           set to "read-only", the three directories are made read-only instead. If set to "tmpfs", temporary
           file systems are mounted on the three directories in read-only mode. The value "tmpfs" is useful to
           hide home directories not relevant to the processes invoked by the unit, while still allowing
           necessary directories to be made visible when listed in <u>BindPaths=</u> or <u>BindReadOnlyPaths=</u>.

           Setting this to "yes" is mostly equivalent to setting the three directories in <u>InaccessiblePaths=</u>.
           Similarly, "read-only" is mostly equivalent to <u>ReadOnlyPaths=</u>, and "tmpfs" is mostly equivalent to
           <u>TemporaryFileSystem=</u> with ":ro".

           It is recommended to enable this setting for all long-running services (in particular network-facing
           ones), to ensure they cannot get access to private user data, unless the services actually require
           access to the user's private data. This setting is implied if <u>DynamicUser=</u> is set. This setting
           cannot ensure protection in all cases. In general it has the same limitations as <u>ReadOnlyPaths=</u>, see
           below.

           This option is only available for system services, or for services running in per-user instances of
           the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
           namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

           Added in version 214.

       <u>RuntimeDirectory=</u>, <u>StateDirectory=</u>, <u>CacheDirectory=</u>, <u>LogsDirectory=</u>, <u>ConfigurationDirectory=</u>
           These options take a whitespace-separated list of directory names. The specified directory names must
           be relative, and may not include "..". If set, when the unit is started, one or more directories by
           the specified names will be created (including their parents) below the locations defined in the
           following table. Also, the corresponding environment variable will be defined with the full paths of
           the directories. If multiple directories are set, then in the environment variable the paths are
           concatenated with colon (":").

           If <u>DynamicUser=</u> is used, and if the kernel version supports <b>id-mapped</b> <b>mounts</b>[7], the specified
           directories will be owned by "nobody" in the host namespace and will be mapped to (and will be owned
           by) the service's UID/GID in its own namespace. For backward compatibility, existing directories
           created without id-mapped mounts will be kept untouched.

           <b>Table</b> <b>2.</b> <b>Automatic</b> <b>directory</b> <b>creation</b> <b>and</b> <b>environment</b> <b>variables</b>
           ┌─────────────────────────┬───────────────────────┬──────────────────────┬──────────────────────────┐
           │ <b>Directory</b>               │ <b>Below</b> <b>path</b> <b>for</b> <b>system</b> │ <b>Below</b> <b>path</b> <b>for</b> <b>user</b>  │ <b>Environment</b> <b>variable</b>     │
           │                         │ <b>units</b>                 │ <b>units</b>                │ <b>set</b>                      │
           ├─────────────────────────┼───────────────────────┼──────────────────────┼──────────────────────────┤
           │ <u>RuntimeDirectory=</u>       │ <a href="file:/run/">/run/</a>                 │ <u>$XDG_RUNTIME_DIR</u>     │ <u>$RUNTIME_DIRECTORY</u>       │
           ├─────────────────────────┼───────────────────────┼──────────────────────┼──────────────────────────┤
           │ <u>StateDirectory=</u>         │ <a href="file:/var/lib/">/var/lib/</a>             │ <u>$XDG_STATE_HOME</u>      │ <u>$STATE_DIRECTORY</u>         │
           ├─────────────────────────┼───────────────────────┼──────────────────────┼──────────────────────────┤
           │ <u>CacheDirectory=</u>         │ <a href="file:/var/cache/">/var/cache/</a>           │ <u>$XDG_CACHE_HOME</u>      │ <u>$CACHE_DIRECTORY</u>         │
           ├─────────────────────────┼───────────────────────┼──────────────────────┼──────────────────────────┤
           │ <u>LogsDirectory=</u>          │ <a href="file:/var/log/">/var/log/</a>             │ <u>$XDG_STATE_HOME</u>/log/ │ <u>$LOGS_DIRECTORY</u>          │
           ├─────────────────────────┼───────────────────────┼──────────────────────┼──────────────────────────┤
           │ <u>ConfigurationDirectory=</u> │ <a href="file:/etc/">/etc/</a>                 │ <u>$XDG_CONFIG_HOME</u>     │ <u>$CONFIGURATION_DIRECTORY</u> │
           └─────────────────────────┴───────────────────────┴──────────────────────┴──────────────────────────┘

           In case of <u>RuntimeDirectory=</u> the innermost subdirectories are removed when the unit is stopped. It is
           possible to preserve the specified directories in this case if <u>RuntimeDirectoryPreserve=</u> is
           configured to <b>restart</b> or <b>yes</b> (see below). The directories specified with <u>StateDirectory=</u>,
           <u>CacheDirectory=</u>, <u>LogsDirectory=</u>, <u>ConfigurationDirectory=</u> are not removed when the unit is stopped.

           Except in case of <u>ConfigurationDirectory=</u>, the innermost specified directories will be owned by the
           user and group specified in <u>User=</u> and <u>Group=</u>. If the specified directories already exist and their
           owning user or group do not match the configured ones, all files and directories below the specified
           directories as well as the directories themselves will have their file ownership recursively changed
           to match what is configured. As an optimization, if the specified directories are already owned by
           the right user and group, files and directories below of them are left as-is, even if they do not
           match what is requested. The innermost specified directories will have their access mode adjusted to
           the what is specified in <u>RuntimeDirectoryMode=</u>, <u>StateDirectoryMode=</u>, <u>CacheDirectoryMode=</u>,
           <u>LogsDirectoryMode=</u> and <u>ConfigurationDirectoryMode=</u>.

           These options imply <u>BindPaths=</u> for the specified paths. When combined with <u>RootDirectory=</u> or
           <u>RootImage=</u> these paths always reside on the host and are mounted from there into the unit's file
           system namespace.

           If <u>DynamicUser=</u> is used, the logic for <u>CacheDirectory=</u>, <u>LogsDirectory=</u> and <u>StateDirectory=</u> is
           slightly altered: the directories are created below <a href="file:/var/cache/private">/var/cache/private</a>, <a href="file:/var/log/private">/var/log/private</a> and
           <a href="file:/var/lib/private">/var/lib/private</a>, respectively, which are host directories made inaccessible to unprivileged users,
           which ensures that access to these directories cannot be gained through dynamic user ID recycling.
           Symbolic links are created to hide this difference in behaviour. Both from perspective of the host
           and from inside the unit, the relevant directories hence always appear directly below <a href="file:/var/cache">/var/cache</a>,
           <a href="file:/var/log">/var/log</a> and /var/lib.

           Use <u>RuntimeDirectory=</u> to manage one or more runtime directories for the unit and bind their lifetime
           to the daemon runtime. This is particularly useful for unprivileged daemons that cannot create
           runtime directories in <a href="file:/run/">/run/</a> due to lack of privileges, and to make sure the runtime directory is
           cleaned up automatically after use. For runtime directories that require more complex or different
           configuration or lifetime guarantees, please consider using <b><a href="../man5/tmpfiles.d.5.html">tmpfiles.d</a></b>(5).

           <u>RuntimeDirectory=</u>, <u>StateDirectory=</u>, <u>CacheDirectory=</u> and <u>LogsDirectory=</u> optionally support two more
           parameters, separated by ":". The second parameter will be interpreted as a destination path that
           will be created as a symlink to the directory. The symlinks will be created after any <u>BindPaths=</u> or
           <u>TemporaryFileSystem=</u> options have been set up, to make ephemeral symlinking possible. The same source
           can have multiple symlinks, by using the same first parameter, but a different second parameter. The
           third parameter is a flags field, and since v257 can take a value of <b>ro</b> to make the directory read
           only for the service. This is also supported for <u>ConfigurationDirectory=</u>. If multiple symlinks are
           set up, the directory will be read only if at least one is configured to be read only. To pass a flag
           without a destination symlink, the second parameter can be empty, for example:

               ConfigurationDirectory=foo::ro

           The directories defined by these options are always created under the standard paths used by systemd
           (<a href="file:/var/">/var/</a>, <a href="file:/run/">/run/</a>, <a href="file:/etc/">/etc/</a>, ...). If the service needs directories in a different location, a different
           mechanism has to be used to create them.

           <b><a href="../man5/tmpfiles.d.5.html">tmpfiles.d</a></b>(5) provides functionality that overlaps with these options. Using these options is
           recommended, because the lifetime of the directories is tied directly to the lifetime of the unit,
           and it is not necessary to ensure that the tmpfiles.d configuration is executed before the unit is
           started.

           To remove any of the directories created by these settings, use the <b>systemctl</b> <b>clean</b> <b>...</b>  command on
           the relevant units, see <b><a href="../man1/systemctl.1.html">systemctl</a></b>(1) for details.

           Example: if a system service unit has the following,

               RuntimeDirectory=foo/bar baz

           the service manager creates /run/foo (if it does not exist), /run/foo/bar, and /run/baz. The
           directories /run/foo/bar and /run/baz except /run/foo are owned by the user and group specified in
           <u>User=</u> and <u>Group=</u>, and removed when the service is stopped.

           Example: if a system service unit has the following,

               RuntimeDirectory=foo/bar
               StateDirectory=aaa/bbb ccc

           then the environment variable "RUNTIME_DIRECTORY" is set with "/run/foo/bar", and "STATE_DIRECTORY"
           is set with "/var/lib/aaa/bbb:/var/lib/ccc".

           Example: if a system service unit has the following,

               RuntimeDirectory=foo:bar foo:baz

           the service manager creates /run/foo (if it does not exist), and /run/bar plus /run/baz as symlinks
           to /run/foo.

           Added in version 211.

       <u>RuntimeDirectoryMode=</u>, <u>StateDirectoryMode=</u>, <u>CacheDirectoryMode=</u>, <u>LogsDirectoryMode=</u>,
       <u>ConfigurationDirectoryMode=</u>
           Specifies the access mode of the directories specified in <u>RuntimeDirectory=</u>, <u>StateDirectory=</u>,
           <u>CacheDirectory=</u>, <u>LogsDirectory=</u>, or <u>ConfigurationDirectory=</u>, respectively, as an octal number.
           Defaults to <b>0755</b>. See "Permissions" in <b><a href="../man7/path_resolution.7.html">path_resolution</a></b>(7) for a discussion of the meaning of
           permission bits.

           Added in version 234.

       <u>RuntimeDirectoryPreserve=</u>
           Takes a boolean argument or <b>restart</b>. If set to <b>no</b> (the default), the directories specified in
           <u>RuntimeDirectory=</u> are always removed when the service stops. If set to <b>restart</b> the directories are
           preserved when the service is both automatically and manually restarted. Here, the automatic restart
           means the operation specified in <u>Restart=</u>, and manual restart means the one triggered by <b>systemctl</b>
           <b>restart</b> <b>foo.service</b>. If set to <b>yes</b>, then the directories are not removed when the service is stopped.
           Note that since the runtime directory <a href="file:/run/">/run/</a> is a mount point of "tmpfs", then for system services the
           directories specified in <u>RuntimeDirectory=</u> are removed when the system is rebooted.

           Added in version 235.

       <u>TimeoutCleanSec=</u>
           Configures a timeout on the clean-up operation requested through <b>systemctl</b> <b>clean</b> <b>...</b>, see
           <b><a href="../man1/systemctl.1.html">systemctl</a></b>(1) for details. Takes the usual time values and defaults to <b>infinity</b>, i.e. by default no
           timeout is applied. If a timeout is configured the clean operation will be aborted forcibly when the
           timeout is reached, potentially leaving resources on disk.

           Added in version 244.

       <u>ReadWritePaths=</u>, <u>ReadOnlyPaths=</u>, <u>InaccessiblePaths=</u>, <u>ExecPaths=</u>, <u>NoExecPaths=</u>
           Sets up a new file system namespace for executed processes. These options may be used to limit access
           a process has to the file system. Each setting takes a space-separated list of paths relative to the
           host's root directory (i.e. the system running the service manager). Note that if paths contain
           symlinks, they are resolved relative to the root directory set with <u>RootDirectory=</u>/<u>RootImage=</u>.

           Paths listed in <u>ReadWritePaths=</u> are accessible from within the namespace with the same access modes
           as from outside of it. Paths listed in <u>ReadOnlyPaths=</u> are accessible for reading only, writing will
           be refused even if the usual file access controls would permit this. Nest <u>ReadWritePaths=</u> inside of
           <u>ReadOnlyPaths=</u> in order to provide writable subdirectories within read-only directories. Use
           <u>ReadWritePaths=</u> in order to allow-list specific paths for write access if <u>ProtectSystem=strict</u> is
           used. Note that <u>ReadWritePaths=</u> cannot be used to gain write access to a file system whose superblock
           is mounted read-only. On Linux, for each mount point write access is granted only if the mount point
           itself <u>and</u> the file system superblock backing it are not marked read-only.  <u>ReadWritePaths=</u> only
           controls the former, not the latter, hence a read-only file system superblock remains protected.

           Paths listed in <u>InaccessiblePaths=</u> will be made inaccessible for processes inside the namespace along
           with everything below them in the file system hierarchy. This may be more restrictive than desired,
           because it is not possible to nest <u>ReadWritePaths=</u>, <u>ReadOnlyPaths=</u>, <u>BindPaths=</u>, or <u>BindReadOnlyPaths=</u>
           inside it. For a more flexible option, see <u>TemporaryFileSystem=</u>.

           Content in paths listed in <u>NoExecPaths=</u> are not executable even if the usual file access controls
           would permit this. Nest <u>ExecPaths=</u> inside of <u>NoExecPaths=</u> in order to provide executable content
           within non-executable directories.

           Non-directory paths may be specified as well. These options may be specified more than once, in which
           case all paths listed will have limited access from within the namespace. If the empty string is
           assigned to this option, the specific list is reset, and all prior assignments have no effect.

           Paths in <u>ReadWritePaths=</u>, <u>ReadOnlyPaths=</u>, <u>InaccessiblePaths=</u>, <u>ExecPaths=</u> and <u>NoExecPaths=</u> may be
           prefixed with "-", in which case they will be ignored when they do not exist. If prefixed with "+"
           the paths are taken relative to the root directory of the unit, as configured with
           <u>RootDirectory=</u>/<u>RootImage=</u>, instead of relative to the root directory of the host (see above). When
           combining "-" and "+" on the same path make sure to specify "-" first, and "+" second.

           Note that these settings will disconnect propagation of mounts from the unit's processes to the host.
           This means that this setting may not be used for services which shall be able to install mount points
           in the main mount namespace. For <u>ReadWritePaths=</u> and <u>ReadOnlyPaths=</u>, propagation in the other
           direction is not affected, i.e. mounts created on the host generally appear in the unit processes'
           namespace, and mounts removed on the host also disappear there too. In particular, note that mount
           propagation from host to unit will result in unmodified mounts to be created in the unit's namespace,
           i.e. writable mounts appearing on the host will be writable in the unit's namespace too, even when
           propagated below a path marked with <u>ReadOnlyPaths=</u>! Restricting access with these options hence does
           not extend to submounts of a directory that are created later on. This means the lock-down offered by
           that setting is not complete, and does not offer full protection.

           Note that the effect of these settings may be undone by privileged processes. In order to set up an
           effective sandboxed environment for a unit it is thus recommended to combine these settings with
           either <u>CapabilityBoundingSet=~CAP_SYS_ADMIN</u> or <u>SystemCallFilter=~@mount</u>.

           Please be extra careful when applying these options to API file systems (a list of them could be
           found in <u>MountAPIVPS=</u>), since they may be required for basic system functionalities. Moreover, <a href="file:/run/">/run/</a>
           needs to be writable for setting up mount namespace and propagation.

           Simple allow-list example using these directives:

               [Service]
               ReadOnlyPaths=/
               ReadWritePaths=<a href="file:/var">/var</a> <a href="file:/run">/run</a>
               InaccessiblePaths=-/lost+found
               NoExecPaths=/
               ExecPaths=/usr/sbin/my_daemon <a href="file:/usr/lib">/usr/lib</a> <a href="file:/usr/lib64">/usr/lib64</a>

           These options are only available for system services, or for services running in per-user instances
           of the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
           namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

           Added in version 231.

       <u>TemporaryFileSystem=</u>
           Takes a space-separated list of mount points for temporary file systems (tmpfs). If set, a new file
           system namespace is set up for executed processes, and a temporary file system is mounted on each
           mount point. This option may be specified more than once, in which case temporary file systems are
           mounted on all listed mount points. If the empty string is assigned to this option, the list is
           reset, and all prior assignments have no effect. Each mount point may optionally be suffixed with a
           colon (":") and mount options such as "size=10%" or "ro". By default, each temporary file system is
           mounted with "nodev,strictatime,mode=0755". These can be disabled by explicitly specifying the
           corresponding mount options, e.g., "dev" or "nostrictatime".

           This is useful to hide files or directories not relevant to the processes invoked by the unit, while
           necessary files or directories can be still accessed by combining with <u>BindPaths=</u> or
           <u>BindReadOnlyPaths=</u>:

           Example: if a unit has the following,

               TemporaryFileSystem=<a href="file:/var">/var</a>:ro
               BindReadOnlyPaths=<a href="file:/var/lib/systemd">/var/lib/systemd</a>

           then the invoked processes by the unit cannot see any files or directories under <a href="file:/var/">/var/</a> except for
           <a href="file:/var/lib/systemd">/var/lib/systemd</a> or its contents.

           This option is only available for system services, or for services running in per-user instances of
           the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
           namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

           Added in version 238.

       <u>PrivateTmp=</u>
           Takes a boolean argument, or "disconnected". If enabled, a new file system namespace will be set up
           for the executed processes, and <a href="file:/tmp/">/tmp/</a> and <a href="file:/var/tmp/">/var/tmp/</a> directories inside it are not shared with
           processes outside of the namespace, plus all temporary files created by a service in these
           directories will be removed after the service is stopped. If "true", the backing storage of the
           private temporary directories will remain on the host's <a href="file:/tmp/">/tmp/</a> and <a href="file:/var/tmp/">/var/tmp/</a> directories. If
           "disconnected", the directories will be backed by a completely new tmpfs instance, meaning that the
           storage is fully disconnected from the host namespace. Defaults to false.

           This setting is useful to secure access to temporary files of the process, but makes sharing between
           processes via <a href="file:/tmp/">/tmp/</a> or <a href="file:/var/tmp/">/var/tmp/</a> impossible. If not set to "disconnected", it is possible to run two
           or more units within the same private <a href="file:/tmp/">/tmp/</a> and <a href="file:/var/tmp/">/var/tmp/</a> namespace by using the <u>JoinsNamespaceOf=</u>
           directive, see <b><a href="../man5/systemd.unit.5.html">systemd.unit</a></b>(5) for details. This setting is implied if <u>DynamicUser=</u> is set. For this
           setting, the same restrictions regarding mount propagation and privileges apply as for <u>ReadOnlyPaths=</u>
           and related calls, see above. If set to "true" (as opposed to "disconnected"), this has the side
           effect of adding <u>Requires=</u> and <u>After=</u> dependencies on all mount units necessary to access <a href="file:/tmp/">/tmp/</a> and
           <a href="file:/var/tmp/">/var/tmp/</a> on the host. Moreover an implicitly <u>After=</u> ordering on <b><a href="../man8/systemd-tmpfiles-setup.service.8.html">systemd-tmpfiles-setup.service</a></b>(8) is
           added.

           Note that the implementation of this setting might be impossible (for example if mount namespaces are
           not available), and the unit should be written in a way that does not solely rely on this setting for
           security.

           This option is only available for system services, or for services running in per-user instances of
           the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
           namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

       <u>PrivateDevices=</u>
           Takes a boolean argument. If true, sets up a new <a href="file:/dev/">/dev/</a> mount for the executed processes and only adds
           API pseudo devices such as /dev/null, /dev/zero or /dev/random (as well as the pseudo TTY subsystem)
           to it, but no physical devices such as /dev/sda, system memory /dev/mem, system ports /dev/port and
           others. This is useful to turn off physical device access by the executed process. Defaults to false.

           Enabling this option will install a system call filter to block low-level I/O system calls that are
           grouped in the <u>@raw-io</u> set, remove <b>CAP_MKNOD</b> and <b>CAP_SYS_RAWIO</b> from the capability bounding set for
           the unit, and set <u>DevicePolicy=closed</u> (see <b><a href="../man5/systemd.resource-control.5.html">systemd.resource-control</a></b>(5) for details). Note that using
           this setting will disconnect propagation of mounts from the service to the host (propagation in the
           opposite direction continues to work). This means that this setting may not be used for services
           which shall be able to install mount points in the main mount namespace. The new <a href="file:/dev/">/dev/</a> will be
           mounted read-only and 'noexec'. The latter may break old programs which try to set up executable
           memory by using <b><a href="../man2/mmap.2.html">mmap</a></b>(2) of /dev/zero instead of using <b>MAP_ANON</b>. For this setting the same
           restrictions regarding mount propagation and privileges apply as for <u>ReadOnlyPaths=</u> and related
           calls, see above.

           Note that the implementation of this setting might be impossible (for example if mount namespaces are
           not available), and the unit should be written in a way that does not solely rely on this setting for
           security.

           This option is only available for system services, or for services running in per-user instances of
           the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
           namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

           When access to some but not all devices must be possible, the <u>DeviceAllow=</u> setting might be used
           instead. See <b><a href="../man5/systemd.resource-control.5.html">systemd.resource-control</a></b>(5).

           Added in version 209.

       <u>PrivateNetwork=</u>
           Takes a boolean argument. If true, sets up a new network namespace for the executed processes and
           configures only the loopback network device "lo" inside it. No other network devices will be
           available to the executed process. This is useful to turn off network access by the executed process.
           Defaults to false. It is possible to run two or more units within the same private network namespace
           by using the <u>JoinsNamespaceOf=</u> directive, see <b><a href="../man5/systemd.unit.5.html">systemd.unit</a></b>(5) for details. Note that this option will
           disconnect all socket families from the host, including <b>AF_NETLINK</b> and <b>AF_UNIX</b>. Effectively, for
           <b>AF_NETLINK</b> this means that device configuration events received from <b><a href="../man8/systemd-udevd.service.8.html">systemd-udevd.service</a></b>(8) are not
           delivered to the unit's processes. And for <b>AF_UNIX</b> this has the effect that <b>AF_UNIX</b> sockets in the
           abstract socket namespace of the host will become unavailable to the unit's processes (however, those
           located in the file system will continue to be accessible).

           Note that the implementation of this setting might be impossible (for example if network namespaces
           are not available), and the unit should be written in a way that does not solely rely on this setting
           for security.

           When this option is enabled, <u>PrivateMounts=</u> is implied unless it is explicitly disabled, and <a href="file:/sys">/sys</a>
           will be remounted to associate it with the new network namespace.

           When this option is used on a socket unit any sockets bound on behalf of this unit will be bound
           within a private network namespace. This may be combined with <u>JoinsNamespaceOf=</u> to listen on sockets
           inside of network namespaces of other services.

           This option is only available for system services, or for services running in per-user instances of
           the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
           namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

       <u>NetworkNamespacePath=</u>
           Takes an absolute file system path referring to a Linux network namespace pseudo-file (i.e. a file
           like <a href="file:/proc/">/proc/</a>$PID/ns/net or a bind mount or symlink to one). When set the invoked processes are added
           to the network namespace referenced by that path. The path has to point to a valid namespace file at
           the moment the processes are forked off. If this option is used <u>PrivateNetwork=</u> has no effect. If
           this option is used together with <u>JoinsNamespaceOf=</u> then it only has an effect if this unit is
           started before any of the listed units that have <u>PrivateNetwork=</u> or <u>NetworkNamespacePath=</u> configured,
           as otherwise the network namespace of those units is reused.

           When this option is enabled, <u>PrivateMounts=</u> is implied unless it is explicitly disabled, and <a href="file:/sys">/sys</a>
           will be remounted to associate it with the new network namespace.

           When this option is used on a socket unit any sockets bound on behalf of this unit will be bound
           within the specified network namespace.

           This option is only available for system services, or for services running in per-user instances of
           the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
           namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

           Added in version 242.

       <u>PrivateIPC=</u>
           Takes a boolean argument. If true, sets up a new IPC namespace for the executed processes. Each IPC
           namespace has its own set of System V IPC identifiers and its own POSIX message queue file system.
           This is useful to avoid name clash of IPC identifiers. Defaults to false. It is possible to run two
           or more units within the same private IPC namespace by using the <u>JoinsNamespaceOf=</u> directive, see
           <b><a href="../man5/systemd.unit.5.html">systemd.unit</a></b>(5) for details.

           Note that IPC namespacing does not have an effect on <b>AF_UNIX</b> sockets, which are the most common form
           of IPC used on Linux. Instead, <b>AF_UNIX</b> sockets in the file system are subject to mount namespacing,
           and those in the abstract namespace are subject to network namespacing. IPC namespacing only has an
           effect on SysV IPC (which is mostly legacy) as well as POSIX message queues (for which
           <b>AF_UNIX</b>/<b>SOCK_SEQPACKET</b> sockets are typically a better replacement). IPC namespacing also has no
           effect on POSIX shared memory (which is subject to mount namespacing) either. See <b><a href="../man7/ipc_namespaces.7.html">ipc_namespaces</a></b>(7)
           for the details.

           Note that the implementation of this setting might be impossible (for example if IPC namespaces are
           not available), and the unit should be written in a way that does not solely rely on this setting for
           security.

           This option is only available for system services, or for services running in per-user instances of
           the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
           namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

           Added in version 248.

       <u>IPCNamespacePath=</u>
           Takes an absolute file system path referring to a Linux IPC namespace pseudo-file (i.e. a file like
           <a href="file:/proc/">/proc/</a>$PID/ns/ipc or a bind mount or symlink to one). When set the invoked processes are added to the
           network namespace referenced by that path. The path has to point to a valid namespace file at the
           moment the processes are forked off. If this option is used <u>PrivateIPC=</u> has no effect. If this option
           is used together with <u>JoinsNamespaceOf=</u> then it only has an effect if this unit is started before any
           of the listed units that have <u>PrivateIPC=</u> or <u>IPCNamespacePath=</u> configured, as otherwise the network
           namespace of those units is reused.

           This option is only available for system services, or for services running in per-user instances of
           the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
           namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

           Added in version 248.

       <u>MemoryKSM=</u>
           Takes a boolean argument. When set, it enables KSM (kernel samepage merging) for the processes. KSM
           is a memory-saving de-duplication feature. Anonymous memory pages with identical content can be
           replaced by a single write-protected page. This feature should only be enabled for jobs that share
           the same security domain. For details, see <b>Kernel</b> <b>Samepage</b> <b>Merging</b>[8] in the kernel documentation.

           Note that this functionality might not be available, for example if KSM is disabled in the kernel, or
           the kernel does not support controlling KSM at the process level through <b><a href="../man2/prctl.2.html">prctl</a></b>(2).

           Added in version 254.

       <u>PrivatePIDs=</u>
           Takes a boolean argument. Defaults to false. If enabled, sets up a new PID namespace for the executed
           processes. Each executed process is now PID 1 - the init process - in the new namespace.  <a href="file:/proc/">/proc/</a> is
           mounted such that only processes in the PID namespace are visible. If <u>PrivatePIDs=</u> is set,
           <u>MountAPIVFS=yes</u> is implied.

           <u>PrivatePIDs=</u> is only supported for service units. This setting is not supported with <u>Type=forking</u>
           since the kernel will kill all processes in the PID namespace if the init process terminates.

           This setting will be ignored if the kernel does not support PID namespaces.

           Note unprivileged user services (i.e. a service run by the per-user instance of the service manager)
           will fail with <u>PrivatePIDs=yes</u> if <a href="file:/proc/">/proc/</a> is masked (i.e.  <a href="file:/proc/kmsg">/proc/kmsg</a> is over-mounted with <b>tmpfs</b> like
           <b><a href="../man1/systemd-nspawn.1.html">systemd-nspawn</a></b>(1) does). This is due to a kernel restriction not allowing unprivileged user
           namespaces to mount a less restrictive instance of <a href="file:/proc/.">/proc/.</a>

           Added in version 257.

       <u>PrivateUsers=</u>
           Takes a boolean argument or one of "self" or "identity". Defaults to false. If enabled, sets up a new
           user namespace for the executed processes and configures a user and group mapping. If set to a true
           value or "self", a minimal user and group mapping is configured that maps the "root" user and group
           as well as the unit's own user and group to themselves and everything else to the "nobody" user and
           group. This is useful to securely detach the user and group databases used by the unit from the rest
           of the system, and thus to create an effective sandbox environment. All files, directories,
           processes, IPC objects and other resources owned by users/groups not equaling "root" or the unit's
           own will stay visible from within the unit but appear owned by the "nobody" user and group.

           If the parameter is "identity", user namespacing is set up with an identity mapping for the first
           65536 UIDs/GIDs. Any UIDs/GIDs above 65536 will be mapped to the "nobody" user and group,
           respectively. While this does not provide UID/GID isolation, since all UIDs/GIDs are chosen
           identically it does provide process capability isolation, and hence is often a good choice if proper
           user namespacing with distinct UID maps is not appropriate.

           If this mode is enabled, all unit processes are run without privileges in the host user namespace
           (regardless if the unit's own user/group is "root" or not). Specifically this means that the process
           will have zero process capabilities on the host's user namespace, but full capabilities within the
           service's user namespace. Settings such as <u>CapabilityBoundingSet=</u> will affect only the latter, and
           there's no way to acquire additional capabilities in the host's user namespace.

           When this setting is set up by a per-user instance of the service manager, the mapping of the "root"
           user and group to itself is omitted (unless the user manager is root). Additionally, in the per-user
           instance manager case, the user namespace will be set up before most other namespaces. This means
           that combining <u>PrivateUsers=</u><b>true</b> with other namespaces will enable use of features not normally
           supported by the per-user instances of the service manager.

           This setting is particularly useful in conjunction with <u>RootDirectory=</u>/<u>RootImage=</u>, as the need to
           synchronize the user and group databases in the root directory and on the host is reduced, as the
           only users and groups who need to be matched are "root", "nobody" and the unit's own user and group.

           Note that the implementation of this setting might be impossible (for example if user namespaces are
           not available), and the unit should be written in a way that does not solely rely on this setting for
           security.

           Added in version 232.

       <u>ProtectHostname=</u>
           Takes a boolean argument. When set, sets up a new UTS namespace for the executed processes. In
           addition, changing hostname or domainname is prevented. Defaults to off.

           Note that the implementation of this setting might be impossible (for example if UTS namespaces are
           not available), and the unit should be written in a way that does not solely rely on this setting for
           security.

           Note that when this option is enabled for a service hostname changes no longer propagate from the
           system into the service, it is hence not suitable for services that need to take notice of system
           hostname changes dynamically.

           This option is only available for system services, or for services running in per-user instances of
           the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
           namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

           Added in version 242.

       <u>ProtectClock=</u>
           Takes a boolean argument. If set, writes to the hardware clock or system clock will be denied.
           Defaults to off. Enabling this option removes <b>CAP_SYS_TIME</b> and <b>CAP_WAKE_ALARM</b> from the capability
           bounding set for this unit, installs a system call filter to block calls that can set the clock, and
           <u>DeviceAllow=char-rtc</u> <u>r</u> is implied. Note that the system calls are blocked altogether, the filter does
           not take into account that some of the calls can be used to read the clock state with some parameter
           combinations. Effectively, /dev/rtc0, /dev/rtc1, etc. are made read-only to the service. See
           <b><a href="../man5/systemd.resource-control.5.html">systemd.resource-control</a></b>(5) for the details about <u>DeviceAllow=</u>.

           It is recommended to turn this on for most services that do not need modify the clock or check its
           state.

           This option is only available for system services, or for services running in per-user instances of
           the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
           namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

           Added in version 245.

       <u>ProtectKernelTunables=</u>
           Takes a boolean argument. If true, kernel variables accessible through <a href="file:/proc/sys/">/proc/sys/</a>, <a href="file:/sys/">/sys/</a>,
           <a href="file:/proc/sysrq-trigger">/proc/sysrq-trigger</a>, <a href="file:/proc/latency_stats">/proc/latency_stats</a>, <a href="file:/proc/acpi">/proc/acpi</a>, /proc/timer_stats, <a href="file:/proc/fs">/proc/fs</a> and <a href="file:/proc/irq">/proc/irq</a> will
           be made read-only and <a href="file:/proc/kallsyms">/proc/kallsyms</a> as well as <a href="file:/proc/kcore">/proc/kcore</a> will be inaccessible to all processes of
           the unit. Usually, tunable kernel variables should be initialized only at boot-time, for example with
           the <b><a href="../man5/sysctl.d.5.html">sysctl.d</a></b>(5) mechanism. Few services need to write to these at runtime; it is hence recommended to
           turn this on for most services. For this setting the same restrictions regarding mount propagation
           and privileges apply as for <u>ReadOnlyPaths=</u> and related calls, see above. Defaults to off. Note that
           this option does not prevent indirect changes to kernel tunables affected by IPC calls to other
           processes. However, <u>InaccessiblePaths=</u> may be used to make relevant IPC file system objects
           inaccessible. If <u>ProtectKernelTunables=</u> is set, <u>MountAPIVFS=yes</u> is implied.

           This option is only available for system services, or for services running in per-user instances of
           the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
           namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

           Added in version 232.

       <u>ProtectKernelModules=</u>
           Takes a boolean argument. If true, explicit module loading will be denied. This allows module load
           and unload operations to be turned off on modular kernels. It is recommended to turn this on for most
           services that do not need special file systems or extra kernel modules to work. Defaults to off.
           Enabling this option removes <b>CAP_SYS_MODULE</b> from the capability bounding set for the unit, and
           installs a system call filter to block module system calls, also <a href="file:/usr/lib/modules">/usr/lib/modules</a> is made
           inaccessible. For this setting the same restrictions regarding mount propagation and privileges apply
           as for <u>ReadOnlyPaths=</u> and related calls, see above. Note that limited automatic module loading due to
           user configuration or kernel mapping tables might still happen as side effect of requested user
           operations, both privileged and unprivileged. To disable module auto-load feature please see
           <b><a href="../man5/sysctl.d.5.html">sysctl.d</a></b>(5) <b>kernel.modules_disabled</b> mechanism and <a href="file:/proc/sys/kernel/modules_disabled">/proc/sys/kernel/modules_disabled</a> documentation.

           This option is only available for system services, or for services running in per-user instances of
           the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
           namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

           Added in version 232.

       <u>ProtectKernelLogs=</u>
           Takes a boolean argument. If true, access to the kernel log ring buffer will be denied. It is
           recommended to turn this on for most services that do not need to read from or write to the kernel
           log ring buffer. Enabling this option removes <b>CAP_SYSLOG</b> from the capability bounding set for this
           unit, and installs a system call filter to block the <b><a href="../man2/syslog.2.html">syslog</a></b>(2) system call (not to be confused with
           the libc API <b><a href="../man3/syslog.3.html">syslog</a></b>(3) for userspace logging). The kernel exposes its log buffer to userspace via
           /dev/kmsg and /proc/kmsg. If enabled, these are made inaccessible to all the processes in the unit.

           This option is only available for system services, or for services running in per-user instances of
           the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
           namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

           Added in version 244.

       <u>ProtectControlGroups=</u>
           Takes a boolean argument or the special values "private" or "strict". If true, the Linux Control
           Groups (<b><a href="../man7/cgroups.7.html">cgroups</a></b>(7)) hierarchies accessible through <a href="file:/sys/fs/cgroup/">/sys/fs/cgroup/</a> will be made read-only to all
           processes of the unit. If set to "private", the unit will run in a cgroup namespace with a private
           writable mount of <a href="file:/sys/fs/cgroup/.">/sys/fs/cgroup/.</a> If set to "strict", the unit will run in a cgroup namespace with a
           private read-only mount of <a href="file:/sys/fs/cgroup/.">/sys/fs/cgroup/.</a> Defaults to off. If <u>ProtectControlGroups=</u> is set,
           <u>MountAPIVFS=yes</u> is implied. Note "private" and "strict" are downgraded to false and true respectively
           unless the system is using the unified control group hierarchy and the kernel supports cgroup
           namespaces.

           Except for container managers no services should require write access to the control groups
           hierarchies; it is hence recommended to set <u>ProtectControlGroups=</u> to true or "strict" for most
           services. For this setting the same restrictions regarding mount propagation and privileges apply as
           for <u>ReadOnlyPaths=</u> and related settings, see above.

           This option is only available for system services and is not supported for services running in
           per-user instances of the service manager.

           Added in version 232.

       <u>RestrictAddressFamilies=</u>
           Restricts the set of socket address families accessible to the processes of this unit. Takes "none",
           or a space-separated list of address family names to allow-list, such as <b>AF_UNIX</b>, <b>AF_INET</b> or
           <b>AF_INET6</b>. When "none" is specified, then all address families will be denied. When prefixed with "~"
           the listed address families will be applied as deny list, otherwise as allow list.

           By default, no restrictions apply, all address families are accessible to processes. If assigned the
           empty string, any previous address family restriction changes are undone. This setting does not
           affect commands prefixed with "+".

           Use this option to limit exposure of processes to remote access, in particular via exotic and
           sensitive network protocols, such as <b>AF_PACKET</b>. Note that in most cases, the local <b>AF_UNIX</b> address
           family should be included in the configured allow list as it is frequently used for local
           communication, including for <b><a href="../man2/syslog.2.html">syslog</a></b>(2) logging.

           Note that this restricts access to the <b><a href="../man2/socket.2.html">socket</a></b>(2) system call only. Sockets passed into the process by
           other means (for example, by using socket activation with socket units, see <b><a href="../man5/systemd.socket.5.html">systemd.socket</a></b>(5)) are
           unaffected. Also, sockets created with <b>socketpair()</b> (which creates connected AF_UNIX sockets) or the
           <b><a href="../man7/io_uring.7.html">io_uring</a></b>(7) functions, are not affected. Thus, it is recommended to combined this setting with
           <u>SystemCallFilter=@service</u>, to only allow a limited subset of system calls.

           Note that this option is limited to some ABIs, in particular x86-64, but currently has no effect on
           32-bit x86, s390, s390x, mips, mips-le, ppc, ppc-le, ppc64, or ppc64-le, and is ignored. On systems
           supporting multiple ABIs (such as x86/x86-64) it is recommended to turn off alternative ABIs for
           services, so that they cannot be used to circumvent the restrictions of this option. Specifically, it
           is recommended to combine this option with <u>SystemCallArchitectures=native</u> or similar.

           Added in version 211.

       <u>RestrictFileSystems=</u>
           Restricts the set of filesystems processes of this unit can open files on. Takes a space-separated
           list of filesystem names. Any filesystem listed is made accessible to the unit's processes, access to
           filesystem types not listed is prohibited (allow-listing). If the first character of the list is "~",
           the effect is inverted: access to the filesystems listed is prohibited (deny-listing). If the empty
           string is assigned, access to filesystems is not restricted.

           If you specify both types of this option (i.e. allow-listing and deny-listing), the first encountered
           will take precedence and will dictate the default action (allow access to the filesystem or deny it).
           Then the next occurrences of this option will add or delete the listed filesystems from the set of
           the restricted filesystems, depending on its type and the default action.

           Example: if a unit has the following,

               RestrictFileSystems=ext4 tmpfs
               RestrictFileSystems=ext2 ext4

           then access to <b>ext4</b>, <b>tmpfs</b>, and <b>ext2</b> is allowed and access to other filesystems is denied.

           Example: if a unit has the following,

               RestrictFileSystems=ext4 tmpfs
               RestrictFileSystems=~ext4

           then only access <b>tmpfs</b> is allowed.

           Example: if a unit has the following,

               RestrictFileSystems=~ext4 tmpfs
               RestrictFileSystems=ext4

           then only access to <b>tmpfs</b> is denied.

           As the number of possible filesystems is large, predefined sets of filesystems are provided. A set
           starts with "@" character, followed by name of the set.

           <b>Table</b> <b>3.</b> <b>Currently</b> <b>predefined</b> <b>filesystem</b> <b>sets</b>
           ┌───────────────────┬───────────────────────────────────────┐
           │ <b>Set</b>               │ <b>Description</b>                           │
           ├───────────────────┼───────────────────────────────────────┤
           │ @basic-api        │ Basic filesystem API.                 │
           ├───────────────────┼───────────────────────────────────────┤
           │ @auxiliary-api    │ Auxiliary filesystem API.             │
           ├───────────────────┼───────────────────────────────────────┤
           │ @common-block     │ Common block device filesystems.      │
           ├───────────────────┼───────────────────────────────────────┤
           │ @historical-block │ Historical block device filesystems.  │
           ├───────────────────┼───────────────────────────────────────┤
           │ @network          │ Well-known network filesystems.       │
           ├───────────────────┼───────────────────────────────────────┤
           │ @privileged-api   │ Privileged filesystem API.            │
           ├───────────────────┼───────────────────────────────────────┤
           │ @temporary        │ Temporary filesystems: tmpfs, ramfs.  │
           ├───────────────────┼───────────────────────────────────────┤
           │ @known            │ All known filesystems defined by the  │
           │                   │ kernel. This list is defined          │
           │                   │ statically in systemd based on a      │
           │                   │ kernel version that was available     │
           │                   │ when this systemd version was         │
           │                   │ released. It will become              │
           │                   │ progressively more out-of-date as the │
           │                   │ kernel is updated.                    │
           └───────────────────┴───────────────────────────────────────┘

           Use <b><a href="../man1/systemd-analyze.1.html">systemd-analyze</a></b>(1)'s <b>filesystems</b> command to retrieve a list of filesystems defined on the local
           system.

           Note that this setting might not be supported on some systems (for example if the LSM eBPF hook is
           not enabled in the underlying kernel or if not using the unified control group hierarchy). In that
           case this setting has no effect.

           This option cannot be bypassed by prefixing "+" to the executable path in the service unit, as it
           applies to the whole control group.

           Added in version 250.

       <u>RestrictNamespaces=</u>
           Restricts access to Linux namespace functionality for the processes of this unit. For details about
           Linux namespaces, see <b><a href="../man7/namespaces.7.html">namespaces</a></b>(7). Either takes a boolean argument, or a space-separated list of
           namespace type identifiers. If false (the default), no restrictions on namespace creation and
           switching are made. If true, access to any kind of namespacing is prohibited. Otherwise, a
           space-separated list of namespace type identifiers must be specified, consisting of any combination
           of: <b>cgroup</b>, <b>ipc</b>, <b>net</b>, <b>mnt</b>, <b>pid</b>, <b>user</b> and <b>uts</b>. Any namespace type listed is made accessible to the
           unit's processes, access to namespace types not listed is prohibited (allow-listing). By prepending
           the list with a single tilde character ("~") the effect may be inverted: only the listed namespace
           types will be made inaccessible, all unlisted ones are permitted (deny-listing). If the empty string
           is assigned, the default namespace restrictions are applied, which is equivalent to false. This
           option may appear more than once, in which case the namespace types are merged by <b>OR</b>, or by <b>AND</b> if
           the lines are prefixed with "~" (see examples below). Internally, this setting limits access to the
           <b><a href="../man2/unshare.2.html">unshare</a></b>(2), <b><a href="../man2/clone.2.html">clone</a></b>(2) and <b><a href="../man2/setns.2.html">setns</a></b>(2) system calls, taking the specified flags parameters into account.
           Note that — if this option is used — in addition to restricting creation and switching of the
           specified types of namespaces (or all of them, if true) access to the <b>setns()</b> system call with a zero
           flags parameter is prohibited. This setting is only supported on x86, x86-64, mips, mips-le, mips64,
           mips64-le, mips64-n32, mips64-le-n32, ppc64, ppc64-le, s390 and s390x, and enforces no restrictions
           on other architectures.

           Example: if a unit has the following,

               RestrictNamespaces=cgroup ipc
               RestrictNamespaces=cgroup net

           then <b>cgroup</b>, <b>ipc</b>, and <b>net</b> are set. If the second line is prefixed with "~", e.g.,

               RestrictNamespaces=cgroup ipc
               RestrictNamespaces=~cgroup net

           then, only <b>ipc</b> is set.

           Added in version 233.

       <u>LockPersonality=</u>
           Takes a boolean argument. If set, locks down the <b><a href="../man2/personality.2.html">personality</a></b>(2) system call so that the kernel
           execution domain may not be changed from the default or the personality selected with <u>Personality=</u>
           directive. This may be useful to improve security, because odd personality emulations may be poorly
           tested and source of vulnerabilities.

           Added in version 235.

       <u>MemoryDenyWriteExecute=</u>
           Takes a boolean argument. If set, attempts to create memory mappings that are writable and executable
           at the same time, or to change existing memory mappings to become executable, or mapping shared
           memory segments as executable, are prohibited. Specifically, a system call filter is added (or
           preferably, an equivalent kernel check is enabled with <b><a href="../man2/prctl.2.html">prctl</a></b>(2)) that rejects <b><a href="../man2/mmap.2.html">mmap</a></b>(2) system calls
           with both <b>PROT_EXEC</b> and <b>PROT_WRITE</b> set, <b><a href="../man2/mprotect.2.html">mprotect</a></b>(2) or <b><a href="../man2/pkey_mprotect.2.html">pkey_mprotect</a></b>(2) system calls with <b>PROT_EXEC</b>
           set and <b><a href="../man2/shmat.2.html">shmat</a></b>(2) system calls with <b>SHM_EXEC</b> set. Note that this option is incompatible with programs
           and libraries that generate program code dynamically at runtime, including JIT execution engines,
           executable stacks, and code "trampoline" feature of various C compilers. This option improves service
           security, as it makes harder for software exploits to change running code dynamically. However, the
           protection can be circumvented, if the service can write to a filesystem, which is not mounted with
           <b>noexec</b> (such as <a href="file:/dev/shm">/dev/shm</a>), or it can use <b>memfd_create()</b>. This can be prevented by making such file
           systems inaccessible to the service (e.g.  <u>InaccessiblePaths=<a href="file:/dev/shm">/dev/shm</a></u>) and installing further system
           call filters (<u>SystemCallFilter=~memfd_create</u>). Note that this feature is fully available on x86-64,
           and partially on x86. Specifically, the <b>shmat()</b> protection is not available on x86. Note that on
           systems supporting multiple ABIs (such as x86/x86-64) it is recommended to turn off alternative ABIs
           for services, so that they cannot be used to circumvent the restrictions of this option.
           Specifically, it is recommended to combine this option with <u>SystemCallArchitectures=native</u> or
           similar.

           Added in version 231.

       <u>RestrictRealtime=</u>
           Takes a boolean argument. If set, any attempts to enable realtime scheduling in a process of the unit
           are refused. This restricts access to realtime task scheduling policies such as <b>SCHED_FIFO</b>, <b>SCHED_RR</b>
           or <b>SCHED_DEADLINE</b>. See <b><a href="../man7/sched.7.html">sched</a></b>(7) for details about these scheduling policies. Realtime scheduling
           policies may be used to monopolize CPU time for longer periods of time, and may hence be used to lock
           up or otherwise trigger Denial-of-Service situations on the system. It is hence recommended to
           restrict access to realtime scheduling to the few programs that actually require them. Defaults to
           off.

           Added in version 231.

       <u>RestrictSUIDSGID=</u>
           Takes a boolean argument. If set, any attempts to set the set-user-ID (SUID) or set-group-ID (SGID)
           bits on files or directories will be denied (for details on these bits see <b><a href="../man7/inode.7.html">inode</a></b>(7)). As the
           SUID/SGID bits are mechanisms to elevate privileges, and allow users to acquire the identity of other
           users, it is recommended to restrict creation of SUID/SGID files to the few programs that actually
           require them. Note that this restricts marking of any type of file system object with these bits,
           including both regular files and directories (where the SGID is a different meaning than for files,
           see documentation). This option is implied if <u>DynamicUser=</u> is enabled. Defaults to off.

           Added in version 242.

       <u>RemoveIPC=</u>
           Takes a boolean parameter. If set, all System V and POSIX IPC objects owned by the user and group the
           processes of this unit are run as are removed when the unit is stopped. This setting only has an
           effect if at least one of <u>User=</u>, <u>Group=</u> and <u>DynamicUser=</u> are used. It has no effect on IPC objects
           owned by the root user. Specifically, this removes System V semaphores, as well as System V and POSIX
           shared memory segments and message queues. If multiple units use the same user or group the IPC
           objects are removed when the last of these units is stopped. This setting is implied if <u>DynamicUser=</u>
           is set.

           This option is only available for system services and is not supported for services running in
           per-user instances of the service manager.

           Added in version 232.

       <u>PrivateMounts=</u>
           Takes a boolean parameter. If set, the processes of this unit will be run in their own private file
           system (mount) namespace with all mount propagation from the processes towards the host's main file
           system namespace turned off. This means any file system mount points established or removed by the
           unit's processes will be private to them and not be visible to the host. However, file system mount
           points established or removed on the host will be propagated to the unit's processes. See
           <b><a href="../man7/mount_namespaces.7.html">mount_namespaces</a></b>(7) for details on file system namespaces. Defaults to off.

           When turned on, this executes three operations for each invoked process: a new <b>CLONE_NEWNS</b> namespace
           is created, after which all existing mounts are remounted to <b>MS_SLAVE</b> to disable propagation from the
           unit's processes to the host (but leaving propagation in the opposite direction in effect). Finally,
           the mounts are remounted again to the propagation mode configured with <u>MountFlags=</u>, see below.

           File system namespaces are set up individually for each process forked off by the service manager.
           Mounts established in the namespace of the process created by <u>ExecStartPre=</u> will hence be cleaned up
           automatically as soon as that process exits and will not be available to subsequent processes forked
           off for <u>ExecStart=</u> (and similar applies to the various other commands configured for units).
           Similarly, <u>JoinsNamespaceOf=</u> does not permit sharing kernel mount namespaces between units, it only
           enables sharing of the <a href="file:/tmp/">/tmp/</a> and <a href="file:/var/tmp/">/var/tmp/</a> directories.

           Other file system namespace unit settings — <u>PrivateTmp=</u>, <u>PrivateDevices=</u>, <u>ProtectSystem=</u>,
           <u>ProtectHome=</u>, <u>ReadOnlyPaths=</u>, <u>InaccessiblePaths=</u>, <u>ReadWritePaths=</u>, <u>BindPaths=</u>, <u>BindReadOnlyPaths=</u>,
           ... — also enable file system namespacing in a fashion equivalent to this option. Hence it is
           primarily useful to explicitly request this behaviour if none of the other settings are used.

           This option is only available for system services, or for services running in per-user instances of
           the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
           namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

           Added in version 239.

       <u>MountFlags=</u>
           Takes a mount propagation setting: <b>shared</b>, <b>slave</b> or <b>private</b>, which controls whether file system mount
           points in the file system namespaces set up for this unit's processes will receive or propagate
           mounts and unmounts from other file system namespaces. See <b><a href="../man2/mount.2.html">mount</a></b>(2) for details on mount propagation,
           and the three propagation flags in particular.

           This setting only controls the <u>final</u> propagation setting in effect on all mount points of the file
           system namespace created for each process of this unit. Other file system namespacing unit settings
           (see the discussion in <u>PrivateMounts=</u> above) will implicitly disable mount and unmount propagation
           from the unit's processes towards the host by changing the propagation setting of all mount points in
           the unit's file system namespace to <b>slave</b> first. Setting this option to <b>shared</b> does not reestablish
           propagation in that case.

           If not set – but file system namespaces are enabled through another file system namespace unit
           setting – <b>shared</b> mount propagation is used, but — as mentioned — as <b>slave</b> is applied first,
           propagation from the unit's processes to the host is still turned off.

           It is not recommended to use <b>private</b> mount propagation for units, as this means temporary mounts
           (such as removable media) of the host will stay mounted and thus indefinitely busy in forked off
           processes, as unmount propagation events will not be received by the file system namespace of the
           unit.

           Usually, it is best to leave this setting unmodified, and use higher level file system namespacing
           options instead, in particular <u>PrivateMounts=</u>, see above.

           This option is only available for system services, or for services running in per-user instances of
           the service manager in which case <u>PrivateUsers=</u> is implicitly enabled (requires unprivileged user
           namespaces support to be enabled in the kernel via the "kernel.unprivileged_userns_clone=" sysctl).

</pre><h4><b>SYSTEM</b> <b>CALL</b> <b>FILTERING</b></h4><pre>
       <u>SystemCallFilter=</u>
           Takes a space-separated list of system call names or system call groups. If this setting is used,
           system calls executed by the unit processes except for the listed ones will result in the system call
           being denied (allow-listing). If the first character of the list is "~", the effect is inverted: only
           the listed system calls will be denied (deny-listing). This option may be specified more than once,
           in which case the filter masks are merged. If the empty string is assigned, the filter is reset, all
           prior assignments will have no effect.

           Commands prefixed with "+" are not subject to filtering. The <b>execve()</b>, <b>exit()</b>, <b>exit_group()</b>,
           <b>getrlimit()</b>, <b>rt_sigreturn()</b>, <b>sigreturn()</b> system calls and the system calls for querying time and
           sleeping are implicitly allow-listed and do not need to be listed explicitly.

           The default action when a system call is denied is to terminate the processes with a <b>SIGSYS</b> signal.
           This can changed using <u>SystemCallErrorNumber=</u>, see below. In addition, deny-listed system calls and
           system call groups may optionally be suffixed with a colon (":") and an argument in the same format
           as <u>SystemCallErrorNumber=</u>, to take this action when the matching system call is made. This takes
           precedence over the action specified in <u>SystemCallErrorNumber=</u>.

           This feature makes use of the Secure Computing Mode 2 interfaces of the kernel ('seccomp filtering')
           and is useful for enforcing a minimal sandboxing environment.

           Note that on systems supporting multiple ABIs (such as x86/x86-64) it is recommended to turn off
           alternative ABIs for services, so that they cannot be used to circumvent the restrictions of this
           option. Specifically, it is recommended to combine this option with <u>SystemCallArchitectures=native</u> or
           similar.

           Note that strict system call filters may impact execution and error handling code paths of the
           service invocation. Specifically, access to the <b>execve()</b> system call is required for the execution of
           the service binary — if it is blocked service invocation will necessarily fail. Also, if execution of
           the service binary fails for some reason (for example: missing service executable), the error
           handling logic might require access to an additional set of system calls in order to process and log
           this failure correctly. It might be necessary to temporarily disable system call filters in order to
           allow debugging of such failures.

           If you specify both types of this option (i.e. allow-listing and deny-listing), the first encountered
           will take precedence and will dictate the default action (termination or approval of a system call).
           Then the next occurrences of this option will add or delete the listed system calls from the set of
           the filtered system calls, depending of its type and the default action. (For example, if you have
           started with an allow list rule for <b>read()</b> and <b>write()</b>, and right after it add a deny list rule for
           <b>write()</b>, then <b>write()</b> will be removed from the set.)

           As the number of possible system calls is large, predefined groups of system calls are provided. A
           group starts with "@" character, followed by name of the set.

           <b>Table</b> <b>4.</b> <b>Currently</b> <b>predefined</b> <b>system</b> <b>call</b> <b>sets</b>
           ┌─────────────────┬───────────────────────────────────────┐
           │ <b>Set</b>             │ <b>Description</b>                           │
           ├─────────────────┼───────────────────────────────────────┤
           │ @aio            │ Asynchronous I/O (<b><a href="../man2/io_setup.2.html">io_setup</a></b>(2),        │
           │                 │ <b><a href="../man2/io_submit.2.html">io_submit</a></b>(2), and related calls)      │
           ├─────────────────┼───────────────────────────────────────┤
           │ @basic-io       │ System calls for basic I/O: reading,  │
           │                 │ writing, seeking, file descriptor     │
           │                 │ duplication and closing (<b><a href="../man2/read.2.html">read</a></b>(2),     │
           │                 │ <b><a href="../man2/write.2.html">write</a></b>(2), and related calls)          │
           ├─────────────────┼───────────────────────────────────────┤
           │ @chown          │ Changing file ownership (<b><a href="../man2/chown.2.html">chown</a></b>(2),    │
           │                 │ <b><a href="../man2/fchownat.2.html">fchownat</a></b>(2), and related calls)       │
           ├─────────────────┼───────────────────────────────────────┤
           │ @clock          │ System calls for changing the system  │
           │                 │ clock (<b><a href="../man2/adjtimex.2.html">adjtimex</a></b>(2), <b><a href="../man2/settimeofday.2.html">settimeofday</a></b>(2),  │
           │                 │ and related calls)                    │
           ├─────────────────┼───────────────────────────────────────┤
           │ @cpu-emulation  │ System calls for CPU emulation        │
           │                 │ functionality (<b><a href="../man2/vm86.2.html">vm86</a></b>(2) and related    │
           │                 │ calls)                                │
           ├─────────────────┼───────────────────────────────────────┤
           │ @debug          │ Debugging, performance monitoring and │
           │                 │ tracing functionality (<b><a href="../man2/ptrace.2.html">ptrace</a></b>(2),     │
           │                 │ <b><a href="../man2/perf_event_open.2.html">perf_event_open</a></b>(2) and related calls) │
           ├─────────────────┼───────────────────────────────────────┤
           │ @file-system    │ File system operations: opening,      │
           │                 │ creating files and directories for    │
           │                 │ read and write, renaming and removing │
           │                 │ them, reading file properties, or     │
           │                 │ creating hard and symbolic links      │
           ├─────────────────┼───────────────────────────────────────┤
           │ @io-event       │ Event loop system calls (<b><a href="../man2/poll.2.html">poll</a></b>(2),     │
           │                 │ <b><a href="../man2/select.2.html">select</a></b>(2), <b><a href="../man7/epoll.7.html">epoll</a></b>(7), <b><a href="../man2/eventfd.2.html">eventfd</a></b>(2) and   │
           │                 │ related calls)                        │
           ├─────────────────┼───────────────────────────────────────┤
           │ @ipc            │ Pipes, SysV IPC, POSIX Message Queues │
           │                 │ and other IPC (<b><a href="../man7/mq_overview.7.html">mq_overview</a></b>(7),        │
           │                 │ <b><a href="../man7/svipc.7.html">svipc</a></b>(7))                             │
           ├─────────────────┼───────────────────────────────────────┤
           │ @keyring        │ Kernel keyring access (<b><a href="../man2/keyctl.2.html">keyctl</a></b>(2) and  │
           │                 │ related calls)                        │
           ├─────────────────┼───────────────────────────────────────┤
           │ @memlock        │ Locking of memory in RAM (<b><a href="../man2/mlock.2.html">mlock</a></b>(2),   │
           │                 │ <b><a href="../man2/mlockall.2.html">mlockall</a></b>(2) and related calls)        │
           ├─────────────────┼───────────────────────────────────────┤
           │ @module         │ Loading and unloading of kernel       │
           │                 │ modules (<b><a href="../man2/init_module.2.html">init_module</a></b>(2),              │
           │                 │ <b><a href="../man2/delete_module.2.html">delete_module</a></b>(2) and related calls)   │
           ├─────────────────┼───────────────────────────────────────┤
           │ @mount          │ Mounting and unmounting of file       │
           │                 │ systems (<b><a href="../man2/mount.2.html">mount</a></b>(2), <b><a href="../man2/chroot.2.html">chroot</a></b>(2), and     │
           │                 │ related calls)                        │
           ├─────────────────┼───────────────────────────────────────┤
           │ @network-io     │ Socket I/O (including local AF_UNIX): │
           │                 │ <b><a href="../man7/socket.7.html">socket</a></b>(7), <b><a href="../man7/unix.7.html">unix</a></b>(7)                    │
           ├─────────────────┼───────────────────────────────────────┤
           │ @obsolete       │ Unusual, obsolete or unimplemented    │
           │                 │ (<b><a href="../man2/create_module.2.html">create_module</a></b>(2), <b><a href="../man2/gtty.2.html">gtty</a></b>(2), ...)      │
           ├─────────────────┼───────────────────────────────────────┤
           │ @pkey           │ System calls that deal with memory    │
           │                 │ protection keys (<b><a href="../man7/pkeys.7.html">pkeys</a></b>(7))            │
           ├─────────────────┼───────────────────────────────────────┤
           │ @privileged     │ All system calls which need           │
           │                 │ super-user capabilities               │
           │                 │ (<b><a href="../man7/capabilities.7.html">capabilities</a></b>(7))                     │
           ├─────────────────┼───────────────────────────────────────┤
           │ @process        │ Process control, execution,           │
           │                 │ namespacing operations (<b><a href="../man2/clone.2.html">clone</a></b>(2),     │
           │                 │ <b><a href="../man2/kill.2.html">kill</a></b>(2), <b><a href="../man7/namespaces.7.html">namespaces</a></b>(7), ...)          │
           ├─────────────────┼───────────────────────────────────────┤
           │ @raw-io         │ Raw I/O port access (<b><a href="../man2/ioperm.2.html">ioperm</a></b>(2),       │
           │                 │ <b><a href="../man2/iopl.2.html">iopl</a></b>(2), <b>pciconfig_read()</b>, ...)       │
           ├─────────────────┼───────────────────────────────────────┤
           │ @reboot         │ System calls for rebooting and reboot │
           │                 │ preparation (<b><a href="../man2/reboot.2.html">reboot</a></b>(2), <b>kexec()</b>, ...) │
           ├─────────────────┼───────────────────────────────────────┤
           │ @resources      │ System calls for changing resource    │
           │                 │ limits, memory and scheduling         │
           │                 │ parameters (<b><a href="../man2/setrlimit.2.html">setrlimit</a></b>(2),             │
           │                 │ <b><a href="../man2/setpriority.2.html">setpriority</a></b>(2), ...)                  │
           ├─────────────────┼───────────────────────────────────────┤
           │ @sandbox        │ System calls for sandboxing programs  │
           │                 │ (<b><a href="../man2/seccomp.2.html">seccomp</a></b>(2), Landlock system calls,   │
           │                 │ ...)                                  │
           ├─────────────────┼───────────────────────────────────────┤
           │ @setuid         │ System calls for changing user ID and │
           │                 │ group ID credentials, (<b><a href="../man2/setuid.2.html">setuid</a></b>(2),     │
           │                 │ <b><a href="../man2/setgid.2.html">setgid</a></b>(2), <b><a href="../man2/setresuid.2.html">setresuid</a></b>(2), ...)         │
           ├─────────────────┼───────────────────────────────────────┤
           │ @signal         │ System calls for manipulating and     │
           │                 │ handling process signals (<b><a href="../man2/signal.2.html">signal</a></b>(2),  │
           │                 │ <b><a href="../man2/sigprocmask.2.html">sigprocmask</a></b>(2), ...)                  │
           ├─────────────────┼───────────────────────────────────────┤
           │ @swap           │ System calls for enabling/disabling   │
           │                 │ swap devices (<b><a href="../man2/swapon.2.html">swapon</a></b>(2), <b><a href="../man2/swapoff.2.html">swapoff</a></b>(2))  │
           ├─────────────────┼───────────────────────────────────────┤
           │ @sync           │ Synchronizing files and memory to     │
           │                 │ disk (<b><a href="../man2/fsync.2.html">fsync</a></b>(2), <b><a href="../man2/msync.2.html">msync</a></b>(2), and related │
           │                 │ calls)                                │
           ├─────────────────┼───────────────────────────────────────┤
           │ @system-service │ A reasonable set of system calls used │
           │                 │ by common system services, excluding  │
           │                 │ any special purpose calls. This is    │
           │                 │ the recommended starting point for    │
           │                 │ allow-listing system calls for system │
           │                 │ services, as it contains what is      │
           │                 │ typically needed by system services,  │
           │                 │ but excludes overly specific          │
           │                 │ interfaces. For example, the          │
           │                 │ following APIs are excluded:          │
           │                 │ "@clock", "@mount", "@swap",          │
           │                 │ "@reboot".                            │
           ├─────────────────┼───────────────────────────────────────┤
           │ @timer          │ System calls for scheduling           │
           │                 │ operations by time (<b><a href="../man2/alarm.2.html">alarm</a></b>(2),         │
           │                 │ <b><a href="../man2/timer_create.2.html">timer_create</a></b>(2), ...)                 │
           ├─────────────────┼───────────────────────────────────────┤
           │ @known          │ All system calls defined by the       │
           │                 │ kernel. This list is defined          │
           │                 │ statically in systemd based on a      │
           │                 │ kernel version that was available     │
           │                 │ when this systemd version was         │
           │                 │ released. It will become              │
           │                 │ progressively more out-of-date as the │
           │                 │ kernel is updated.                    │
           └─────────────────┴───────────────────────────────────────┘

           Note, that as new system calls are added to the kernel, additional system calls might be added to the
           groups above. Contents of the sets may also change between systemd versions. In addition, the list of
           system calls depends on the kernel version and architecture for which systemd was compiled. Use
           <b>systemd-analyze</b> <b>syscall-filter</b> to list the actual list of system calls in each filter.

           Generally, allow-listing system calls (rather than deny-listing) is the safer mode of operation. It
           is recommended to enforce system call allow lists for all long-running system services. Specifically,
           the following lines are a relatively safe basic choice for the majority of system services:

               [Service]
               SystemCallFilter=@system-service
               SystemCallErrorNumber=EPERM

           Note that various kernel system calls are defined redundantly: there are multiple system calls for
           executing the same operation. For example, the <b>pidfd_send_signal()</b> system call may be used to execute
           operations similar to what can be done with the older <b>kill()</b> system call, hence blocking the latter
           without the former only provides weak protection. Since new system calls are added regularly to the
           kernel as development progresses, keeping system call deny lists comprehensive requires constant
           work. It is thus recommended to use allow-listing instead, which offers the benefit that new system
           calls are by default implicitly blocked until the allow list is updated.

           Also note that a number of system calls are required to be accessible for the dynamic linker to work.
           The dynamic linker is required for running most regular programs (specifically: all dynamic ELF
           binaries, which is how most distributions build packaged programs). This means that blocking these
           system calls (which include <b>open()</b>, <b>openat()</b> or <b>mmap()</b>) will make most programs typically shipped
           with generic distributions unusable.

           It is recommended to combine the file system namespacing related options with
           <u>SystemCallFilter=~@mount</u>, in order to prohibit the unit's processes to undo the mappings.
           Specifically these are the options <u>PrivateTmp=</u>, <u>PrivateDevices=</u>, <u>ProtectSystem=</u>, <u>ProtectHome=</u>,
           <u>ProtectKernelTunables=</u>, <u>ProtectControlGroups=</u>, <u>ProtectKernelLogs=</u>, <u>ProtectClock=</u>, <u>ReadOnlyPaths=</u>,
           <u>InaccessiblePaths=</u> and <u>ReadWritePaths=</u>.

           Added in version 187.

       <u>SystemCallErrorNumber=</u>
           Takes an "errno" error number (between 1 and 4095) or errno name such as <b>EPERM</b>, <b>EACCES</b> or <b>EUCLEAN</b>, to
           return when the system call filter configured with <u>SystemCallFilter=</u> is triggered, instead of
           terminating the process immediately. See <b><a href="../man3/errno.3.html">errno</a></b>(3) for a full list of error codes. When this setting
           is not used, or when the empty string or the special setting "kill" is assigned, the process will be
           terminated immediately when the filter is triggered.

           Added in version 209.

       <u>SystemCallArchitectures=</u>
           Takes a space-separated list of architecture identifiers to include in the system call filter. The
           known architecture identifiers are the same as for <u>ConditionArchitecture=</u> described in
           <b><a href="../man5/systemd.unit.5.html">systemd.unit</a></b>(5), as well as <b>x32</b>, <b>mips64-n32</b>, <b>mips64-le-n32</b>, and the special identifier <b>native</b>. The
           special identifier <b>native</b> implicitly maps to the native architecture of the system (or more
           precisely: to the architecture the system manager is compiled for). By default, this option is set to
           the empty list, i.e. no filtering is applied.

           If this setting is used, processes of this unit will only be permitted to call native system calls,
           and system calls of the specified architectures. For the purposes of this option, the x32
           architecture is treated as including x86-64 system calls. However, this setting still fulfills its
           purpose, as explained below, on x32.

           System call filtering is not equally effective on all architectures. For example, on x86 filtering of
           network socket-related calls is not possible, due to ABI limitations — a limitation that x86-64 does
           not have, however. On systems supporting multiple ABIs at the same time — such as x86/x86-64 — it is
           hence recommended to limit the set of permitted system call architectures so that secondary ABIs may
           not be used to circumvent the restrictions applied to the native ABI of the system. In particular,
           setting <u>SystemCallArchitectures=native</u> is a good choice for disabling non-native ABIs.

           System call architectures may also be restricted system-wide via the <u>SystemCallArchitectures=</u> option
           in the global configuration. See <b><a href="../man5/systemd-system.conf.5.html">systemd-system.conf</a></b>(5) for details.

           Added in version 209.

       <u>SystemCallLog=</u>
           Takes a space-separated list of system call names. If this setting is used, all system calls executed
           by the unit processes for the listed ones will be logged. If the first character of the list is "~",
           the effect is inverted: all system calls except the listed system calls will be logged. This feature
           makes use of the Secure Computing Mode 2 interfaces of the kernel ('seccomp filtering') and is useful
           for auditing or setting up a minimal sandboxing environment. This option may be specified more than
           once, in which case the filter masks are merged. If the empty string is assigned, the filter is
           reset, all prior assignments will have no effect. This does not affect commands prefixed with "+".

           Added in version 247.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <u>Environment=</u>
           Sets environment variables for executed processes. Each line is unquoted using the rules described in
           "Quoting" section in <b><a href="../man7/systemd.syntax.7.html">systemd.syntax</a></b>(7) and becomes a list of variable assignments. If you need to
           assign a value containing spaces or the equals sign to a variable, put quotes around the whole
           assignment. Variable expansion is not performed inside the strings and the "$" character has no
           special meaning. Specifier expansion is performed, see the "Specifiers" section in <b><a href="../man5/systemd.unit.5.html">systemd.unit</a></b>(5).

           This option may be specified more than once, in which case all listed variables will be set. If the
           same variable is listed twice, the later setting will override the earlier setting. If the empty
           string is assigned to this option, the list of environment variables is reset, all prior assignments
           have no effect.

           The names of the variables can contain ASCII letters, digits, and the underscore character. Variable
           names cannot be empty or start with a digit. In variable values, most characters are allowed, but
           non-printable characters are currently rejected.

           Example:

               Environment="VAR1=word1 word2" VAR2=word3 "VAR3=$word 5 6"

           gives three variables "VAR1", "VAR2", "VAR3" with the values "word1 word2", "word3", "$word 5 6".

           See <b><a href="../man7/environ.7.html">environ</a></b>(7) for details about environment variables.

           Note that environment variables are not suitable for passing secrets (such as passwords, key
           material, ...) to service processes. Environment variables set for a unit are exposed to unprivileged
           clients via D-Bus IPC, and generally not understood as being data that requires protection. Moreover,
           environment variables are propagated down the process tree, including across security boundaries
           (such as setuid/setgid executables), and hence might leak to processes that should not have access to
           the secret data. Use <u>LoadCredential=</u>, <u>LoadCredentialEncrypted=</u> or <u>SetCredentialEncrypted=</u> (see below)
           to pass data to unit processes securely.

       <u>EnvironmentFile=</u>
           Similar to <u>Environment=</u>, but reads the environment variables from a text file. The text file should
           contain newline-separated variable assignments. Empty lines, lines without an "=" separator, or lines
           starting with ";" or "#" will be ignored, which may be used for commenting. The file must be encoded
           with UTF-8. Valid characters are <b>unicode</b> <b>scalar</b> <b>values</b>[9] other than <b>unicode</b> <b>noncharacters</b>[10],
           <b>U+0000</b> <b>NUL</b>, and <b>U+FEFF</b> <b>unicode</b> <b>byte</b> <b>order</b> <b>mark</b>[11]. Control codes other than <b>NUL</b> are allowed.

           In the file, an unquoted value after the "=" is parsed with the same backslash-escape rules as <b>POSIX</b>
           <b>shell</b> <b>unquoted</b> <b>text</b>[12], but unlike in a shell, interior whitespace is preserved and quotes after the
           first non-whitespace character are preserved. Leading and trailing whitespace (space, tab, carriage
           return) is discarded, but interior whitespace within the line is preserved verbatim. A line ending
           with a backslash will be continued to the following one, with the newline itself discarded. A
           backslash "\" followed by any character other than newline will preserve the following character, so
           that "\\" will become the value "\".

           In the file, a "'"-quoted value after the "=" can span multiple lines and contain any character
           verbatim other than single quote, like <b>POSIX</b> <b>shell</b> <b>single-quoted</b> <b>text</b>[13]. No backslash-escape
           sequences are recognized. Leading and trailing whitespace outside of the single quotes is discarded.

           In the file, a """-quoted value after the "=" can span multiple lines, and the same escape sequences
           are recognized as in <b>POSIX</b> <b>shell</b> <b>double-quoted</b> <b>text</b>[14]. Backslash ("\") followed by any of ""\`$"
           will preserve that character. A backslash followed by newline is a line continuation, and the newline
           itself is discarded. A backslash followed by any other character is ignored; both the backslash and
           the following character are preserved verbatim. Leading and trailing whitespace outside of the double
           quotes is discarded.

           The argument passed should be an absolute filename or wildcard expression, optionally prefixed with
           "-", which indicates that if the file does not exist, it will not be read and no error or warning
           message is logged. This option may be specified more than once in which case all specified files are
           read. If the empty string is assigned to this option, the list of file to read is reset, all prior
           assignments have no effect.

           The files listed with this directive will be read shortly before the process is executed (more
           specifically, after all processes from a previous unit state terminated. This means you can generate
           these files in one unit state, and read it with this option in the next. The files are read from the
           file system of the service manager, before any file system changes like bind mounts take place).

           Settings from these files override settings made with <u>Environment=</u>. If the same variable is set twice
           from these files, the files will be read in the order they are specified and the later setting will
           override the earlier setting.

       <u>PassEnvironment=</u>
           Pass environment variables set for the system service manager to executed processes. Takes a
           space-separated list of variable names. This option may be specified more than once, in which case
           all listed variables will be passed. If the empty string is assigned to this option, the list of
           environment variables to pass is reset, all prior assignments have no effect. Variables specified
           that are not set for the system manager will not be passed and will be silently ignored. Note that
           this option is only relevant for the system service manager, as system services by default do not
           automatically inherit any environment variables set for the service manager itself. However, in case
           of the user service manager all environment variables are passed to the executed processes anyway,
           hence this option is without effect for the user service manager.

           Variables set for invoked processes due to this setting are subject to being overridden by those
           configured with <u>Environment=</u> or <u>EnvironmentFile=</u>.

           Example:

               PassEnvironment=VAR1 VAR2 VAR3

           passes three variables "VAR1", "VAR2", "VAR3" with the values set for those variables in PID1.

           See <b><a href="../man7/environ.7.html">environ</a></b>(7) for details about environment variables.

           Added in version 228.

       <u>UnsetEnvironment=</u>
           Explicitly unset environment variable assignments that would normally be passed from the service
           manager to invoked processes of this unit. Takes a space-separated list of variable names or variable
           assignments. This option may be specified more than once, in which case all listed
           variables/assignments will be unset. If the empty string is assigned to this option, the list of
           environment variables/assignments to unset is reset. If a variable assignment is specified (that is:
           a variable name, followed by "=", followed by its value), then any environment variable matching this
           precise assignment is removed. If a variable name is specified (that is a variable name without any
           following "=" or value), then any assignment matching the variable name, regardless of its value is
           removed. Note that the effect of <u>UnsetEnvironment=</u> is applied as final step when the environment list
           passed to executed processes is compiled. That means it may undo assignments from any configuration
           source, including assignments made through <u>Environment=</u> or <u>EnvironmentFile=</u>, inherited from the
           system manager's global set of environment variables, inherited via <u>PassEnvironment=</u>, set by the
           service manager itself (such as <u>$NOTIFY_SOCKET</u> and such), or set by a PAM module (in case <u>PAMName=</u> is
           used).

           See "Environment Variables in Spawned Processes" below for a description of how those settings
           combine to form the inherited environment. See <b><a href="../man7/environ.7.html">environ</a></b>(7) for general information about environment
           variables.

           Added in version 235.

</pre><h4><b>LOGGING</b> <b>AND</b> <b>STANDARD</b> <b>INPUT/OUTPUT</b></h4><pre>
       <u>StandardInput=</u>
           Controls where file descriptor 0 (STDIN) of the executed processes is connected to. Takes one of
           <b>null</b>, <b>tty</b>, <b>tty-force</b>, <b>tty-fail</b>, <b>data</b>, <b>file:</b><u>path</u>, <b>socket</b> or <b>fd:</b><u>name</u>.

           If <b>null</b> is selected, standard input will be connected to /dev/null, i.e. all read attempts by the
           process will result in immediate EOF.

           If <b>tty</b> is selected, standard input is connected to a TTY (as configured by <u>TTYPath=</u>, see below) and
           the executed process becomes the controlling process of the terminal. If the terminal is already
           being controlled by another process, the executed process waits until the current controlling process
           releases the terminal.

           <b>tty-force</b> is similar to <b>tty</b>, but the executed process is forcefully and immediately made the
           controlling process of the terminal, potentially removing previous controlling processes from the
           terminal.

           <b>tty-fail</b> is similar to <b>tty</b>, but if the terminal already has a controlling process start-up of the
           executed process fails.

           The <b>data</b> option may be used to configure arbitrary textual or binary data to pass via standard input
           to the executed process. The data to pass is configured via <u>StandardInputText=</u>/<u>StandardInputData=</u>
           (see below). Note that the actual file descriptor type passed (memory file, regular file, UNIX pipe,
           ...) might depend on the kernel and available privileges. In any case, the file descriptor is
           read-only, and when read returns the specified data followed by EOF.

           The <b>file:</b><u>path</u> option may be used to connect a specific file system object to standard input. An
           absolute path following the ":" character is expected, which may refer to a regular file, a FIFO or
           special file. If an <b>AF_UNIX</b> socket in the file system is specified, a stream socket is connected to
           it. The latter is useful for connecting standard input of processes to arbitrary system services.

           The <b>socket</b> option is valid in socket-activated services only, and requires the relevant socket unit
           file (see <b><a href="../man5/systemd.socket.5.html">systemd.socket</a></b>(5) for details) to have <u>Accept=yes</u> set, or to specify a single socket only.
           If this option is set, standard input will be connected to the socket the service was activated from,
           which is primarily useful for compatibility with daemons designed for use with the traditional
           <b><a href="../man8/inetd.8.html">inetd</a></b>(8) socket activation daemon (<u>$LISTEN_FDS</u> (and related) environment variables are not passed
           when <b>socket</b> value is configured).

           The <b>fd:</b><u>name</u> option connects standard input to a specific, named file descriptor provided by a socket
           unit. The name may be specified as part of this option, following a ":" character (e.g.
           "fd:foobar"). If no name is specified, the name "stdin" is implied (i.e.  "fd" is equivalent to
           "fd:stdin"). At least one socket unit defining the specified name must be provided via the <u>Sockets=</u>
           option, and the file descriptor name may differ from the name of its containing socket unit. If
           multiple matches are found, the first one will be used. See <u>FileDescriptorName=</u> in <b><a href="../man5/systemd.socket.5.html">systemd.socket</a></b>(5)
           for more details about named file descriptors and their ordering.

           This setting defaults to <b>null</b>, unless <u>StandardInputText=</u>/<u>StandardInputData=</u> are set, in which case it
           defaults to <b>data</b>.

       <u>StandardOutput=</u>
           Controls where file descriptor 1 (stdout) of the executed processes is connected to. Takes one of
           <b>inherit</b>, <b>null</b>, <b>tty</b>, <b>journal</b>, <b>kmsg</b>, <b>journal+console</b>, <b>kmsg+console</b>, <b>file:</b><u>path</u>, <b>append:</b><u>path</u>,
           <b>truncate:</b><u>path</u>, <b>socket</b> or <b>fd:</b><u>name</u>.

           <b>inherit</b> duplicates the file descriptor of standard input for standard output.

           <b>null</b> connects standard output to /dev/null, i.e. everything written to it will be lost.

           <b>tty</b> connects standard output to a tty (as configured via <u>TTYPath=</u>, see below). If the TTY is used for
           output only, the executed process will not become the controlling process of the terminal, and will
           not fail or wait for other processes to release the terminal. Note: if a unit tries to print multiple
           lines to a TTY during bootup or shutdown, then there's a chance that those lines will be broken up by
           status messages.  <b>SetShowStatus()</b> can be used to prevent this problem. See
           <b><a href="../man5/org.freedesktop.systemd1.5.html">org.freedesktop.systemd1</a></b>(5) for details.

           <b>journal</b> connects standard output with the journal, which is accessible via <b><a href="../man1/journalctl.1.html">journalctl</a></b>(1). Note that
           everything that is written to kmsg (see below) is implicitly stored in the journal as well, the
           specific option listed below is hence a superset of this one. (Also note that any external,
           additional syslog daemons receive their log data from the journal, too, hence this is the option to
           use when logging shall be processed with such a daemon.)

           <b>kmsg</b> connects standard output with the kernel log buffer which is accessible via <b><a href="../man1/dmesg.1.html">dmesg</a></b>(1), in
           addition to the journal. The journal daemon might be configured to send all logs to kmsg anyway, in
           which case this option is no different from <b>journal</b>.

           <b>journal+console</b> and <b>kmsg+console</b> work in a similar way as the two options above but copy the output
           to the system console as well.

           The <b>file:</b><u>path</u> option may be used to connect a specific file system object to standard output. The
           semantics are similar to the same option of <u>StandardInput=</u>, see above. If <u>path</u> refers to a regular
           file on the filesystem, it is opened (created if it does not exist yet using privileges of the user
           executing the systemd process) for writing at the beginning of the file, but without truncating it.
           If standard input and output are directed to the same file path, it is opened only once — for reading
           as well as writing — and duplicated. This is particularly useful when the specified path refers to an
           <b>AF_UNIX</b> socket in the file system, as in that case only a single stream connection is created for
           both input and output.

           <b>append:</b><u>path</u> is similar to <b>file:</b><u>path</u> above, but it opens the file in append mode.

           <b>truncate:</b><u>path</u> is similar to <b>file:</b><u>path</u> above, but it truncates the file when opening it. For units
           with multiple command lines, e.g.  <u>Type=oneshot</u> services with multiple <u>ExecStart=</u>, or services with
           <u>ExecCondition=</u>, <u>ExecStartPre=</u> or <u>ExecStartPost=</u>, the output file is reopened and therefore
           re-truncated for each command line. If the output file is truncated while another process still has
           the file open, e.g. by an <u>ExecReload=</u> running concurrently with an <u>ExecStart=</u>, and the other process
           continues writing to the file without adjusting its offset, then the space between the file pointers
           of the two processes may be filled with <b>NUL</b> bytes, producing a sparse file. Thus, <b>truncate:</b><u>path</u> is
           typically only useful for units where only one process runs at a time, such as services with a single
           <u>ExecStart=</u> and no <u>ExecStartPost=</u>, <u>ExecReload=</u>, <u>ExecStop=</u> or similar.

           <b>socket</b> connects standard output to a socket acquired via socket activation. The semantics are similar
           to the same option of <u>StandardInput=</u>, see above.

           The <b>fd:</b><u>name</u> option connects standard output to a specific, named file descriptor provided by a socket
           unit. A name may be specified as part of this option, following a ":" character (e.g.  "fd:<u>foobar</u>").
           If no name is specified, the name "stdout" is implied (i.e.  "fd" is equivalent to "fd:stdout"). At
           least one socket unit defining the specified name must be provided via the <u>Sockets=</u> option, and the
           file descriptor name may differ from the name of its containing socket unit. If multiple matches are
           found, the first one will be used. See <u>FileDescriptorName=</u> in <b><a href="../man5/systemd.socket.5.html">systemd.socket</a></b>(5) for more details
           about named descriptors and their ordering.

           If the standard output (or error output, see below) of a unit is connected to the journal or the
           kernel log buffer, the unit will implicitly gain a dependency of type <u>After=</u> on
           systemd-journald.socket (also see the "Implicit Dependencies" section above). Also note that in this
           case stdout (or stderr, see below) will be an <b>AF_UNIX</b> stream socket, and not a pipe or FIFO that can
           be reopened. This means when executing shell scripts the construct <b>echo</b> <b>"hello"</b> <b>&gt;</b> <b>/dev/stderr</b> for
           writing text to stderr will not work. To mitigate this use the construct <b>echo</b> <b>"hello"</b> <b>&gt;&amp;2</b> instead,
           which is mostly equivalent and avoids this pitfall.

           If <u>StandardInput=</u> is set to one of <b>tty</b>, <b>tty-force</b>, <b>tty-fail</b>, <b>socket</b>, or <b>fd:</b><u>name</u>, this setting
           defaults to <b>inherit</b>.

           In other cases, this setting defaults to the value set with <u>DefaultStandardOutput=</u> in <b><a href="../man5/systemdsystem.conf.5.html">systemd-</a></b>
           <b><a href="../man5/systemdsystem.conf.5.html">system.conf</a></b>(5), which defaults to <b>journal</b>. Note that setting this parameter might result in
           additional dependencies to be added to the unit (see above).

       <u>StandardError=</u>
           Controls where file descriptor 2 (stderr) of the executed processes is connected to. The available
           options are identical to those of <u>StandardOutput=</u>, with some exceptions: if set to <b>inherit</b> the file
           descriptor used for standard output is duplicated for standard error, while <b>fd:</b><u>name</u> will use a
           default file descriptor name of "stderr".

           This setting defaults to the value set with <u>DefaultStandardError=</u> in <b><a href="../man5/systemd-system.conf.5.html">systemd-system.conf</a></b>(5), which
           defaults to <b>inherit</b>. Note that setting this parameter might result in additional dependencies to be
           added to the unit (see above).

       <u>StandardInputText=</u>, <u>StandardInputData=</u>
           Configures arbitrary textual or binary data to pass via file descriptor 0 (STDIN) to the executed
           processes. These settings have no effect unless <u>StandardInput=</u> is set to <b>data</b> (which is the default
           if <u>StandardInput=</u> is not set otherwise, but <u>StandardInputText=</u>/<u>StandardInputData=</u> is). Use this
           option to embed process input data directly in the unit file.

           <u>StandardInputText=</u> accepts arbitrary textual data. C-style escapes for special characters as well as
           the usual "%"-specifiers are resolved. Each time this setting is used the specified text is appended
           to the per-unit data buffer, followed by a newline character (thus every use appends a new line to
           the end of the buffer). Note that leading and trailing whitespace of lines configured with this
           option is removed. If an empty line is specified the buffer is cleared (hence, in order to insert an
           empty line, add an additional "\n" to the end or beginning of a line).

           <u>StandardInputData=</u> accepts arbitrary binary data, encoded in <b>Base64</b>[15]. No escape sequences or
           specifiers are resolved. Any whitespace in the encoded version is ignored during decoding.

           Note that <u>StandardInputText=</u> and <u>StandardInputData=</u> operate on the same data buffer, and may be mixed
           in order to configure both binary and textual data for the same input stream. The textual or binary
           data is joined strictly in the order the settings appear in the unit file. Assigning an empty string
           to either will reset the data buffer.

           Please keep in mind that in order to maintain readability long unit file settings may be split into
           multiple lines, by suffixing each line (except for the last) with a "\" character (see
           <b><a href="../man5/systemd.unit.5.html">systemd.unit</a></b>(5) for details). This is particularly useful for large data configured with these two
           options. Example:

               ...
               StandardInput=data
               StandardInputData=V2XigLJyZSBubyBzdHJhbmdlcnMgdG8gbG92ZQpZb3Uga25vdyB0aGUgcnVsZXMgYW5kIHNvIGRv \
                                 IEkKQSBmdWxsIGNvbW1pdG1lbnQncyB3aGF0IEnigLJtIHRoaW5raW5nIG9mCllvdSB3b3VsZG4n \
                                 dCBnZXQgdGhpcyBmcm9tIGFueSBvdGhlciBndXkKSSBqdXN0IHdhbm5hIHRlbGwgeW91IGhvdyBJ \
                                 J20gZmVlbGluZwpHb3R0YSBtYWtlIHlvdSB1bmRlcnN0YW5kCgpOZXZlciBnb25uYSBnaXZlIHlv \
                                 dSB1cApOZXZlciBnb25uYSBsZXQgeW91IGRvd24KTmV2ZXIgZ29ubmEgcnVuIGFyb3VuZCBhbmQg \
                                 ZGVzZXJ0IHlvdQpOZXZlciBnb25uYSBtYWtlIHlvdSBjcnkKTmV2ZXIgZ29ubmEgc2F5IGdvb2Ri \
                                 eWUKTmV2ZXIgZ29ubmEgdGVsbCBhIGxpZSBhbmQgaHVydCB5b3UK
               ...

           Added in version 236.

       <u>LogLevelMax=</u>
           Configures filtering by log level of log messages generated by this unit. Takes a <b>syslog</b> log level,
           one of <b>emerg</b> (lowest log level, only highest priority messages), <b>alert</b>, <b>crit</b>, <b>err</b>, <b>warning</b>, <b>notice</b>,
           <b>info</b>, <b>debug</b> (highest log level, also lowest priority messages). See <b><a href="../man3/syslog.3.html">syslog</a></b>(3) for details. By default
           no filtering is applied (i.e. the default maximum log level is <b>debug</b>). Use this option to configure
           the logging system to drop log messages of a specific service above the specified level. For example,
           set <u>LogLevelMax=</u><b>info</b> in order to turn off debug logging of a particularly chatty unit. Note that the
           configured level is applied to any log messages written by any of the processes belonging to this
           unit, as well as any log messages written by the system manager process (PID 1) in reference to this
           unit, sent via any supported logging protocol. The filtering is applied early in the logging
           pipeline, before any kind of further processing is done. Moreover, messages which pass through this
           filter successfully might still be dropped by filters applied at a later stage in the logging
           subsystem. For example, <u>MaxLevelStore=</u> configured in <b><a href="../man5/journald.conf.5.html">journald.conf</a></b>(5) might prohibit messages of
           higher log levels to be stored on disk, even though the per-unit <u>LogLevelMax=</u> permitted it to be
           processed.

           Added in version 236.

       <u>LogExtraFields=</u>
           Configures additional log metadata fields to include in all log records generated by processes
           associated with this unit, including systemd. This setting takes one or more journal field
           assignments in the format "FIELD=VALUE" separated by whitespace. See <b><a href="../man7/systemd.journal-fields.7.html">systemd.journal-fields</a></b>(7) for
           details on the journal field concept. Even though the underlying journal implementation permits
           binary field values, this setting accepts only valid UTF-8 values. To include space characters in a
           journal field value, enclose the assignment in double quotes (").  The usual specifiers are expanded
           in all assignments (see below). Note that this setting is not only useful for attaching additional
           metadata to log records of a unit, but given that all fields and values are indexed may also be used
           to implement cross-unit log record matching. Assign an empty string to reset the list.

           Note that this functionality is currently only available in system services, not in per-user
           services.

           Added in version 236.

       <u>LogRateLimitIntervalSec=</u>, <u>LogRateLimitBurst=</u>
           Configures the rate limiting that is applied to log messages generated by this unit. If, in the time
           interval defined by <u>LogRateLimitIntervalSec=</u>, more messages than specified in <u>LogRateLimitBurst=</u> are
           logged by a service, all further messages within the interval are dropped until the interval is over.
           A message about the number of dropped messages is generated. The time specification for
           <u>LogRateLimitIntervalSec=</u> may be specified in the following units: "s", "min", "h", "ms", "us". See
           <b><a href="../man7/systemd.time.7.html">systemd.time</a></b>(7) for details. The default settings are set by <u>RateLimitIntervalSec=</u> and
           <u>RateLimitBurst=</u> configured in <b><a href="../man5/journald.conf.5.html">journald.conf</a></b>(5). Note that this only applies to log messages that are
           processed by the logging subsystem, i.e. by <b><a href="../man8/systemd-journald.service.8.html">systemd-journald.service</a></b>(8). This means that if you
           connect a service's stderr directly to a file via <u>StandardOutput=file:...</u>  or a similar setting, the
           rate limiting will not be applied to messages written that way (but it will be enforced for messages
           generated via <b><a href="../man3/syslog.3.html">syslog</a></b>(3) and similar functions).

           Added in version 240.

       <u>LogFilterPatterns=</u>
           Define an extended regular expression to filter log messages based on the <u>MESSAGE=</u> field of the
           structured message. If the first character of the pattern is "~", log entries matching the pattern
           should be discarded. This option takes a single pattern as an argument but can be used multiple times
           to create a list of allowed and denied patterns. If the empty string is assigned, the filter is
           reset, and all prior assignments will have no effect.

           Because the "~" character is used to define denied patterns, it must be replaced with "\x7e" to allow
           a message starting with "~". For example, "~foobar" would add a pattern matching "foobar" to the deny
           list, while "\x7efoobar" would add a pattern matching "~foobar" to the allow list.

           Log messages are tested against denied patterns (if any), then against allowed patterns (if any). If
           a log message matches any of the denied patterns, it is discarded immediately without considering
           allowed patterns. Remaining log messages are tested against allowed patterns. Messages matching
           against none of the allowed pattern are discarded. If no allowed patterns are defined, then all
           messages are processed directly after going through denied filters.

           Filtering is based on the unit for which <u>LogFilterPatterns=</u> is defined, meaning log messages coming
           from <b><a href="../man1/systemd.1.html">systemd</a></b>(1) about the unit are not taken into account. Filtered log messages will not be
           forwarded to traditional syslog daemons, the kernel log buffer (kmsg), the systemd console, or sent
           as wall messages to all logged-in users.

           Note that this functionality is currently only available in system services, not in per-user
           services.

           Added in version 253.

       <u>LogNamespace=</u>
           Run the unit's processes in the specified journal namespace. Expects a short user-defined string
           identifying the namespace. If not used the processes of the service are run in the default journal
           namespace, i.e. their log stream is collected and processed by systemd-journald.service. If this
           option is used any log data generated by processes of this unit (regardless if via the <b>syslog()</b>,
           journal native logging or stdout/stderr logging) is collected and processed by an instance of the
           systemd-journald@.service template unit, which manages the specified namespace. The log data is
           stored in a data store independent from the default log namespace's data store. See <b><a href="../man8/systemdjournald.service.8.html">systemd-</a></b>
           <b><a href="../man8/systemdjournald.service.8.html">journald.service</a></b>(8) for details about journal namespaces.

           Internally, journal namespaces are implemented through Linux mount namespacing and over-mounting the
           directory that contains the relevant <b>AF_UNIX</b> sockets used for logging in the unit's mount namespace.
           Since mount namespaces are used this setting disconnects propagation of mounts from the unit's
           processes to the host, similarly to how <u>ReadOnlyPaths=</u> and similar settings describe above work.
           Journal namespaces may hence not be used for services that need to establish mount points on the
           host.

           When this option is used the unit will automatically gain ordering and requirement dependencies on
           the two socket units associated with the systemd-journald@.service instance so that they are
           automatically established prior to the unit starting up. Note that when this option is used log
           output of this service does not appear in the regular <b><a href="../man1/journalctl.1.html">journalctl</a></b>(1) output, unless the <b>--namespace=</b>
           option is used.

           This option is only available for system services and is not supported for services running in
           per-user instances of the service manager.

           Added in version 245.

       <u>SyslogIdentifier=</u>
           Sets the process name ("<b>syslog</b> tag") to prefix log lines sent to the logging system or the kernel log
           buffer with. If not set, defaults to the process name of the executed process. This option is only
           useful when <u>StandardOutput=</u> or <u>StandardError=</u> are set to <b>journal</b> or <b>kmsg</b> (or to the same settings in
           combination with <b>+console</b>) and only applies to log messages written to stdout or stderr.

       <u>SyslogFacility=</u>
           Sets the <b>syslog</b> facility identifier to use when logging. One of <b>kern</b>, <b>user</b>, <b>mail</b>, <b>daemon</b>, <b>auth</b>,
           <b>syslog</b>, <b>lpr</b>, <b>news</b>, <b>uucp</b>, <b>cron</b>, <b>authpriv</b>, <b>ftp</b>, <b>local0</b>, <b>local1</b>, <b>local2</b>, <b>local3</b>, <b>local4</b>, <b>local5</b>, <b>local6</b>
           or <b>local7</b>. See <b><a href="../man3/syslog.3.html">syslog</a></b>(3) for details. This option is only useful when <u>StandardOutput=</u> or
           <u>StandardError=</u> are set to <b>journal</b> or <b>kmsg</b> (or to the same settings in combination with <b>+console</b>), and
           only applies to log messages written to stdout or stderr. Defaults to <b>daemon</b>.

       <u>SyslogLevel=</u>
           The default <b>syslog</b> log level to use when logging to the logging system or the kernel log buffer. One
           of <b>emerg</b>, <b>alert</b>, <b>crit</b>, <b>err</b>, <b>warning</b>, <b>notice</b>, <b>info</b>, <b>debug</b>. See <b><a href="../man3/syslog.3.html">syslog</a></b>(3) for details. This option is
           only useful when <u>StandardOutput=</u> or <u>StandardError=</u> are set to <b>journal</b> or <b>kmsg</b> (or to the same
           settings in combination with <b>+console</b>), and only applies to log messages written to stdout or stderr.
           Note that individual lines output by executed processes may be prefixed with a different log level
           which can be used to override the default log level specified here. The interpretation of these
           prefixes may be disabled with <u>SyslogLevelPrefix=</u>, see below. For details, see <b><a href="../man3/sd-daemon.3.html">sd-daemon</a></b>(3). Defaults
           to <b>info</b>.

       <u>SyslogLevelPrefix=</u>
           Takes a boolean argument. If true and <u>StandardOutput=</u> or <u>StandardError=</u> are set to <b>journal</b> or <b>kmsg</b>
           (or to the same settings in combination with <b>+console</b>), log lines written by the executed process
           that are prefixed with a log level will be processed with this log level set but the prefix removed.
           If set to false, the interpretation of these prefixes is disabled and the logged lines are passed on
           as-is. This only applies to log messages written to stdout or stderr. For details about this
           prefixing see <b><a href="../man3/sd-daemon.3.html">sd-daemon</a></b>(3). Defaults to true.

       <u>TTYPath=</u>
           Sets the terminal device node to use if standard input, output, or error are connected to a TTY (see
           above). Defaults to /dev/console.

       <u>TTYReset=</u>
           Reset the terminal device specified with <u>TTYPath=</u> before and after execution. This does not erase the
           screen (see <u>TTYVTDisallocate=</u> below for that). Defaults to "no".

       <u>TTYVHangup=</u>
           Disconnect all clients which have opened the terminal device specified with <u>TTYPath=</u> before and after
           execution. Defaults to "no".

       <u>TTYColumns=</u>, <u>TTYRows=</u>
           Configure the size of the TTY specified with <u>TTYPath=</u>. If unset or set to the empty string, it is
           attempted to retrieve the dimensions of the terminal screen via ANSI sequences, and if that fails the
           kernel defaults (typically 80x24) are used.

           Added in version 250.

       <u>TTYVTDisallocate=</u>
           If the terminal device specified with <u>TTYPath=</u> is a virtual console terminal, try to deallocate the
           TTY before and after execution. This ensures that the screen and scrollback buffer is cleared. If the
           terminal device is of any other type of TTY an attempt is made to clear the screen via ANSI
           sequences. Defaults to "no".

</pre><h4><b>CREDENTIALS</b></h4><pre>
       <u>LoadCredential=ID</u>[:<u>PATH</u>], <u>LoadCredentialEncrypted=ID</u>[:<u>PATH</u>]
           Pass a credential to the unit. Credentials are limited-size binary or textual objects that may be
           passed to unit processes. They are primarily used for passing cryptographic keys (both public and
           private) or certificates, user account information or identity information from host to services. The
           data is accessible from the unit's processes via the file system, at a read-only location that (if
           possible and permitted) is backed by non-swappable memory. The data is only accessible to the user
           associated with the unit, via the <u>User=</u>/<u>DynamicUser=</u> settings (as well as the superuser). When
           available, the location of credentials is exported as the <u>$CREDENTIALS_DIRECTORY</u> environment variable
           to the unit's processes.

           The <u>LoadCredential=</u> setting takes a textual ID to use as name for a credential plus a file system
           path, separated by a colon. The ID must be a short ASCII string suitable as filename in the
           filesystem, and may be chosen freely by the user. If the specified path is absolute it is opened as
           regular file and the credential data is read from it. If the absolute path refers to an <b>AF_UNIX</b>
           stream socket in the file system a connection is made to it (only once at unit start-up) and the
           credential data read from the connection, providing an easy IPC integration point for dynamically
           transferring credentials from other services.

           If the specified path is not absolute and itself qualifies as valid credential identifier it is
           attempted to find a credential that the service manager itself received under the specified name —
           which may be used to propagate credentials from an invoking environment (e.g. a container manager
           that invoked the service manager) into a service. If no matching system credential is found, the
           directories <a href="file:/etc/credstore/">/etc/credstore/</a>, /run/credstore/ and /usr/lib/credstore/ are searched for files under the
           credential's name — which hence are recommended locations for credential data on disk. If
           <u>LoadCredentialEncrypted=</u> is used /run/credstore.encrypted/, <a href="file:/etc/credstore.encrypted/">/etc/credstore.encrypted/</a>, and
           /usr/lib/credstore.encrypted/ are searched as well.

           If the file system path is omitted it is chosen identical to the credential name, i.e. this is a
           terse way to declare credentials to inherit from the service manager into a service. This option may
           be used multiple times, each time defining an additional credential to pass to the unit.

           Note that if the path is not specified or a valid credential identifier is given, i.e. in the above
           two cases, a missing credential is not considered fatal.

           If an absolute path referring to a directory is specified, every file in that directory (recursively)
           will be loaded as a separate credential. The ID for each credential will be the provided ID suffixed
           with "_$FILENAME" (e.g., "Key_file1"). When loading from a directory, symlinks will be ignored.

           The contents of the file/socket may be arbitrary binary or textual data, including newline characters
           and <b>NUL</b> bytes.

           The <u>LoadCredentialEncrypted=</u> setting is identical to <u>LoadCredential=</u>, except that the credential data
           is decrypted and authenticated before being passed on to the executed processes. Specifically, the
           referenced path should refer to a file or socket with an encrypted credential, as implemented by
           <b><a href="../man1/systemd-creds.1.html">systemd-creds</a></b>(1). This credential is loaded, decrypted, authenticated and then passed to the
           application in plaintext form, in the same way a regular credential specified via <u>LoadCredential=</u>
           would be. A credential configured this way may be symmetrically encrypted/authenticated with a secret
           key derived from the system's TPM2 security chip, or with a secret key stored in
           /var/lib/systemd/credentials.secret, or with both. Using encrypted and authenticated credentials
           improves security as credentials are not stored in plaintext and only authenticated and decrypted
           into plaintext the moment a service requiring them is started. Moreover, credentials may be bound to
           the local hardware and installations, so that they cannot easily be analyzed offline, or be generated
           externally. When <u>DevicePolicy=</u> is set to "closed" or "strict", or set to "auto" and <u>DeviceAllow=</u> is
           set, or <u>PrivateDevices=</u> is set, then this setting adds /dev/tpmrm0 with <b>rw</b> mode to <u>DeviceAllow=</u>. See
           <b><a href="../man5/systemd.resource-control.5.html">systemd.resource-control</a></b>(5) for the details about <u>DevicePolicy=</u> or <u>DeviceAllow=</u>.

           Note that encrypted credentials targeted for services of the per-user service manager must be
           encrypted with <b>systemd-creds</b> <b>encrypt</b> <b>--user</b>, and those for the system service manager without the
           <b>--user</b> switch. Encrypted credentials are always targeted to a specific user or the system as a whole,
           and it is ensured that per-user service managers cannot decrypt secrets intended for the system or
           for other users.

           The credential files/IPC sockets must be accessible to the service manager, but do not have to be
           directly accessible to the unit's processes: the credential data is read and copied into separate,
           read-only copies for the unit that are accessible to appropriately privileged processes. This is
           particularly useful in combination with <u>DynamicUser=</u> as this way privileged data can be made
           available to processes running under a dynamic UID (i.e. not a previously known one) without having
           to open up access to all users.

           In order to reference the path a credential may be read from within a <u>ExecStart=</u> command line use
           "${CREDENTIALS_DIRECTORY}/mycred", e.g.  "ExecStart=cat ${CREDENTIALS_DIRECTORY}/mycred". In order to
           reference the path a credential may be read from within a <u>Environment=</u> line use "%d/mycred", e.g.
           "Environment=MYCREDPATH=%d/mycred". For system services the path may also be referenced as
           "<a href="file:/run/credentials/">/run/credentials/</a><u>UNITNAME</u>" in cases where no interpolation is possible, e.g. configuration files of
           software that does not yet support credentials natively.  <u>$CREDENTIALS_DIRECTORY</u> is considered the
           primary interface to look for credentials, though, since it also works for user services.

           Currently, an accumulated credential size limit of 1 MB per unit is enforced.

           The service manager itself may receive system credentials that can be propagated to services from a
           hosting container manager or VM hypervisor. See the <b>Container</b> <b>Interface</b>[16] documentation for details
           about the former. For the latter, pass <b>DMI/SMBIOS</b>[17] OEM string table entries (field type 11) with a
           prefix of "io.systemd.credential:" or "io.systemd.credential.binary:". In both cases a key/value pair
           separated by "=" is expected, in the latter case the right-hand side is Base64 decoded when parsed
           (thus permitting binary data to be passed in). Example <b>qemu</b>[18] switch: "-smbios
           type=11,value=io.systemd.credential:xx=yy", or "-smbios
           type=11,value=io.systemd.credential.binary:rick=TmV2ZXIgR29ubmEgR2l2ZSBZb3UgVXA=". Alternatively, use
           the <b>qemu</b> "fw_cfg" node "opt/io.systemd.credentials/". Example <b>qemu</b> switch: "-fw_cfg
           name=opt/io.systemd.credentials/mycred,string=supersecret". They may also be passed from the UEFI
           firmware environment via <b><a href="../man7/systemd-stub.7.html">systemd-stub</a></b>(7), from the initrd (see <b><a href="../man1/systemd.1.html">systemd</a></b>(1)), or be specified on the
           kernel command line using the "systemd.set_credential=" and "systemd.set_credential_binary=" switches
           (see <b><a href="../man1/systemd.1.html">systemd</a></b>(1) – this is not recommended since unprivileged userspace can read the kernel command
           line).

           If referencing an <b>AF_UNIX</b> stream socket to connect to, the connection will originate from an abstract
           namespace socket, that includes information about the unit and the credential ID in its socket name.
           Use <b><a href="../man2/getpeername.2.html">getpeername</a></b>(2) to query this information. The returned socket name is formatted as <b>NUL</b> <u>RANDOM</u>
           "/unit/" <u>UNIT</u> "/" <u>ID</u>, i.e. a <b>NUL</b> byte (as required for abstract namespace socket names), followed by
           a random string (consisting of alphadecimal characters), followed by the literal string "/unit/",
           followed by the requesting unit name, followed by the literal character "/", followed by the textual
           credential ID requested. Example: "\0adf9d86b6eda275e/unit/foobar.service/credx" in case the
           credential "credx" is requested for a unit "foobar.service". This functionality is useful for using a
           single listening socket to serve credentials to multiple consumers.

           For further information see <b>System</b> <b>and</b> <b>Service</b> <b>Credentials</b>[19] documentation.

           Added in version 247.

       <u>ImportCredential=GLOB</u>
           Pass one or more credentials to the unit. Takes a credential name for which we will attempt to find a
           credential that the service manager itself received under the specified name — which may be used to
           propagate credentials from an invoking environment (e.g. a container manager that invoked the service
           manager) into a service. If the credential name is a glob, all credentials matching the glob are
           passed to the unit. Matching credentials are searched for in the system credentials, the encrypted
           system credentials, and under <a href="file:/etc/credstore/">/etc/credstore/</a>, /run/credstore/, /usr/lib/credstore/,
           /run/credstore.encrypted/, <a href="file:/etc/credstore.encrypted/">/etc/credstore.encrypted/</a>, and /usr/lib/credstore.encrypted/ in that
           order. When multiple credentials of the same name are found, the first one found is used.

           The globbing expression implements a restrictive subset of <b><a href="../man7/glob.7.html">glob</a></b>(7): only a single trailing "*"
           wildcard may be specified. Both "?"  and "[]" wildcards are not permitted, nor are "*" wildcards
           anywhere except at the end of the glob expression.

           Optionally, the credential name or glob may be followed by a colon followed by a rename pattern. If
           specified, all credentials matching the credential name or glob are renamed according to the given
           pattern. For example, if "ImportCredential=my.original.cred:my.renamed.cred" is specified, the
           service manager will read the "my.original.cred" credential and make it available as the
           "my.renamed.cred" credential to the service. Similarly, if
           "ImportCredential=my.original.*:my.renamed."  is specified, the service manager will read all
           credentials starting with "my.original."  and make them available as "my.renamed.xxx" to the service.

           If <u>ImportCredential=</u> is specified multiple times and multiple credentials end up with the same name
           after renaming, the first one is kept and later ones are dropped.

           When multiple credentials of the same name are found, credentials found by <u>LoadCredential=</u> and
           <u>LoadCredentialEncrypted=</u> take priority over credentials found by <u>ImportCredential=</u>.

           Added in version 254.

       <u>SetCredential=ID</u>:<u>VALUE</u>, <u>SetCredentialEncrypted=ID</u>:<u>VALUE</u>
           The <u>SetCredential=</u> setting is similar to <u>LoadCredential=</u> but accepts a literal value to use as data
           for the credential, instead of a file system path to read the data from. Do not use this option for
           data that is supposed to be secret, as it is accessible to unprivileged processes via IPC. It's only
           safe to use this for user IDs, public key material and similar non-sensitive data. For everything
           else use <u>LoadCredential=</u>. In order to embed binary data into the credential data use C-style escaping
           (i.e.  "\n" to embed a newline, or "\x00" to embed a <b>NUL</b> byte).

           The <u>SetCredentialEncrypted=</u> setting is identical to <u>SetCredential=</u> but expects an encrypted
           credential in literal form as value. This allows embedding confidential credentials securely directly
           in unit files. Use <b><a href="../man1/systemd-creds.1.html">systemd-creds</a></b>(1)' <b>-p</b> switch to generate suitable <u>SetCredentialEncrypted=</u> lines
           directly from plaintext credentials. For further details see <u>LoadCredentialEncrypted=</u> above.

           When multiple credentials of the same name are found, credentials found by <u>LoadCredential=</u>,
           <u>LoadCredentialEncrypted=</u> and <u>ImportCredential=</u> take priority over credentials found by
           <u>SetCredential=</u>. As such, <u>SetCredential=</u> will act as default if no credentials are found by any of the
           former. In this case not being able to retrieve the credential from the path specified in
           <u>LoadCredential=</u> or <u>LoadCredentialEncrypted=</u> is not considered fatal.

           Added in version 247.

</pre><h4><b>SYSTEM</b> <b>V</b> <b>COMPATIBILITY</b></h4><pre>
       <u>UtmpIdentifier=</u>
           Takes a four character identifier string for an <b><a href="../man5/utmp.5.html">utmp</a></b>(5) and wtmp entry for this service. This should
           only be set for services such as <b>getty</b> implementations (such as <b><a href="../man8/agetty.8.html">agetty</a></b>(8)) where utmp/wtmp entries
           must be created and cleared before and after execution, or for services that shall be executed as if
           they were run by a <b>getty</b> process (see below). If the configured string is longer than four
           characters, it is truncated and the terminal four characters are used. This setting interprets %I
           style string replacements. This setting is unset by default, i.e. no utmp/wtmp entries are created or
           cleaned up for this service.

       <u>UtmpMode=</u>
           Takes one of "init", "login" or "user". If <u>UtmpIdentifier=</u> is set, controls which type of
           <b><a href="../man5/utmp.5.html">utmp</a></b>(5)/wtmp entries for this service are generated. This setting has no effect unless
           <u>UtmpIdentifier=</u> is set too. If "init" is set, only an <b>INIT_PROCESS</b> entry is generated and the invoked
           process must implement a <b>getty</b>-compatible utmp/wtmp logic. If "login" is set, first an <b>INIT_PROCESS</b>
           entry, followed by a <b>LOGIN_PROCESS</b> entry is generated. In this case, the invoked process must
           implement a <b><a href="../man1/login.1.html">login</a></b>(1)-compatible utmp/wtmp logic. If "user" is set, first an <b>INIT_PROCESS</b> entry, then
           a <b>LOGIN_PROCESS</b> entry and finally a <b>USER_PROCESS</b> entry is generated. In this case, the invoked
           process may be any process that is suitable to be run as session leader. Defaults to "init".

           Added in version 225.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b> <b>IN</b> <b>SPAWNED</b> <b>PROCESSES</b></h4><pre>
       Processes started by the service manager are executed with an environment variable block assembled from
       multiple sources. Processes started by the system service manager generally do not inherit environment
       variables set for the service manager itself (but this may be altered via <u>PassEnvironment=</u>), but
       processes started by the user service manager instances generally do inherit all environment variables
       set for the service manager itself.

       For each invoked process the list of environment variables set is compiled from the following sources:

       •   Variables globally configured for the service manager, using the <u>DefaultEnvironment=</u> setting in
           <b><a href="../man5/systemd-system.conf.5.html">systemd-system.conf</a></b>(5), the kernel command line option <u>systemd.setenv=</u> understood by <b><a href="../man1/systemd.1.html">systemd</a></b>(1), or
           via <b><a href="../man1/systemctl.1.html">systemctl</a></b>(1) <b>set-environment</b> verb.

       •   Variables defined by the service manager itself (see the list below).

       •   Variables set in the service manager's own environment variable block (subject to <u>PassEnvironment=</u>
           for the system service manager).

       •   Variables set via <u>Environment=</u> in the unit file.

       •   Variables read from files specified via <u>EnvironmentFile=</u> in the unit file.

       •   Variables set by any PAM modules in case <u>PAMName=</u> is in effect, cf. <b><a href="../man8/pam_env.8.html">pam_env</a></b>(8).

       If the same environment variable is set by multiple of these sources, the later source — according to the
       order of the list above — wins. Note that as the final step all variables listed in <u>UnsetEnvironment=</u> are
       removed from the compiled environment variable list, immediately before it is passed to the executed
       process.

       The general philosophy is to expose a small curated list of environment variables to processes. Services
       started by the system manager (PID 1) will be started, without additional service-specific configuration,
       with just a few environment variables. The user manager inherits environment variables as any other
       system service, but in addition may receive additional environment variables from PAM, and, typically,
       additional imported variables when the user starts a graphical session. It is recommended to keep the
       environment blocks in both the system and user managers lean. Importing all variables inherited by the
       graphical session or by one of the user shells is strongly discouraged.

       Hint: <b>systemd-run</b> <b>-P</b> <b>env</b> and <b>systemd-run</b> <b>--user</b> <b>-P</b> <b>env</b> print the effective system and user service
       environment blocks.

   <b>Environment</b> <b>Variables</b> <b>Set</b> <b>or</b> <b>Propagated</b> <b>by</b> <b>the</b> <b>Service</b> <b>Manager</b>
       The following environment variables are propagated by the service manager or generated internally for
       each invoked process:

       <u>$PATH</u>
           Colon-separated list of directories to use when launching executables.  <b>systemd</b> uses a fixed value of
           "<a href="file:/usr/local/sbin">/usr/local/sbin</a>:<a href="file:/usr/local/bin">/usr/local/bin</a>:<a href="file:/usr/sbin">/usr/sbin</a>:<a href="file:/usr/bin">/usr/bin</a>" in the system manager. In case of the user
           manager, a different path may be configured by the distribution. It is recommended to not rely on the
           order of entries, and have only one program with a given name in <u>$PATH</u>.

           Added in version 208.

       <u>$LANG</u>
           Locale. Can be set in <b><a href="../man5/locale.conf.5.html">locale.conf</a></b>(5) or on the kernel command line (see <b><a href="../man1/systemd.1.html">systemd</a></b>(1) and <b><a href="../man7/kernelcommand-line.7.html">kernel-</a></b>
           <b><a href="../man7/kernelcommand-line.7.html">command-line</a></b>(7)).

           Added in version 208.

       <u>$USER</u>, <u>$LOGNAME</u>, <u>$HOME</u>, <u>$SHELL</u>
           User name (twice), home directory, and the login shell.  <u>$USER</u> is set unconditionally, while <u>$HOME</u>,
           <u>$LOGNAME</u>, and <u>$SHELL</u> are only set for the units that have <u>User=</u> set and <u>SetLoginEnvironment=</u> unset or
           set to true. For user services, these variables are typically inherited from the user manager itself.
           See <b><a href="../man5/passwd.5.html">passwd</a></b>(5).

           Added in version 208.

       <u>$INVOCATION_ID</u>
           Contains a randomized, unique 128-bit ID identifying each runtime cycle of the unit, formatted as 32
           character hexadecimal string. A new ID is assigned each time the unit changes from an inactive state
           into an activating or active state, and may be used to identify this specific runtime cycle, in
           particular in data stored offline, such as the journal. The same ID is passed to all processes run as
           part of the unit.

           Added in version 232.

       <u>$XDG_RUNTIME_DIR</u>
           The directory to use for runtime objects (such as IPC objects) and volatile state. Set for all
           services run by the user <b>systemd</b> instance, as well as any system services that use <u>PAMName=</u> with a
           PAM stack that includes <b>pam_systemd</b>. See below and <b><a href="../man8/pam_systemd.8.html">pam_systemd</a></b>(8) for more information.

           Added in version 208.

       <u>$RUNTIME_DIRECTORY</u>, <u>$STATE_DIRECTORY</u>, <u>$CACHE_DIRECTORY</u>, <u>$LOGS_DIRECTORY</u>, <u>$CONFIGURATION_DIRECTORY</u>
           Absolute paths to the directories defined with <u>RuntimeDirectory=</u>, <u>StateDirectory=</u>, <u>CacheDirectory=</u>,
           <u>LogsDirectory=</u>, and <u>ConfigurationDirectory=</u> when those settings are used.

           Added in version 244.

       <u>$CREDENTIALS_DIRECTORY</u>
           An absolute path to the per-unit directory with credentials configured via
           <u>ImportCredential=</u>/<u>LoadCredential=</u>/<u>SetCredential=</u>. The directory is marked read-only and is placed in
           unswappable memory (if supported and permitted), and is only accessible to the UID associated with
           the unit via <u>User=</u> or <u>DynamicUser=</u> (and the superuser).

           Added in version 247.

       <u>$MAINPID</u>
           The PID of the unit's main process if it is known. This is only set for control processes as invoked
           by <u>ExecReload=</u> and similar.

           Added in version 209.

       <u>$MANAGERPID</u>
           The PID of the user <b>systemd</b> instance, set for processes spawned by it.

           Added in version 208.

       <u>$LISTEN_FDS</u>, <u>$LISTEN_PID</u>, <u>$LISTEN_FDNAMES</u>
           Information about file descriptors passed to a service for socket activation. See <b><a href="../man3/sd_listen_fds.3.html">sd_listen_fds</a></b>(3).

           Added in version 208.

       <u>$NOTIFY_SOCKET</u>
           The socket <b>sd_notify()</b> talks to. See <b><a href="../man3/sd_notify.3.html">sd_notify</a></b>(3).

           Added in version 229.

       <u>$WATCHDOG_PID</u>, <u>$WATCHDOG_USEC</u>
           Information about watchdog keep-alive notifications. See <b><a href="../man3/sd_watchdog_enabled.3.html">sd_watchdog_enabled</a></b>(3).

           Added in version 229.

       <u>$SYSTEMD_EXEC_PID</u>
           The PID of the unit process (e.g. process invoked by <u>ExecStart=</u>). The child process can use this
           information to determine whether the process is directly invoked by the service manager or indirectly
           as a child of another process by comparing this value with the current PID (similarly to the scheme
           used in <b><a href="../man3/sd_listen_fds.3.html">sd_listen_fds</a></b>(3) with <u>$LISTEN_PID</u> and <u>$LISTEN_FDS</u>).

           Added in version 248.

       <u>$TERM</u>
           Terminal type, set only for units connected to a terminal (<u>StandardInput=tty</u>, <u>StandardOutput=tty</u>, or
           <u>StandardError=tty</u>). See <b><a href="../man5/termcap.5.html">termcap</a></b>(5).

           Added in version 209.

       <u>$LOG_NAMESPACE</u>
           Contains the name of the selected logging namespace when the <u>LogNamespace=</u> service setting is used.

           Added in version 246.

       <u>$JOURNAL_STREAM</u>
           If the standard output or standard error output of the executed processes are connected to the
           journal (for example, by setting <u>StandardError=journal</u>) <u>$JOURNAL_STREAM</u> contains the device and inode
           numbers of the connection file descriptor, formatted in decimal, separated by a colon (":"). This
           permits invoked processes to safely detect whether their standard output or standard error output are
           connected to the journal. The device and inode numbers of the file descriptors should be compared
           with the values set in the environment variable to determine whether the process output is still
           connected to the journal. Note that it is generally not sufficient to only check whether
           <u>$JOURNAL_STREAM</u> is set at all as services might invoke external processes replacing their standard
           output or standard error output, without unsetting the environment variable.

           If both standard output and standard error of the executed processes are connected to the journal via
           a stream socket, this environment variable will contain information about the standard error stream,
           as that's usually the preferred destination for log data. (Note that typically the same stream is
           used for both standard output and standard error, hence very likely the environment variable contains
           device and inode information matching both stream file descriptors.)

           This environment variable is primarily useful to allow services to optionally upgrade their used log
           protocol to the native journal protocol (using <b><a href="../man3/sd_journal_print.3.html">sd_journal_print</a></b>(3) and other functions) if their
           standard output or standard error output is connected to the journal anyway, thus enabling delivery
           of structured metadata along with logged messages.

           Added in version 231.

       <u>$SERVICE_RESULT</u>
           Only used for the service unit type. This environment variable is passed to all <u>ExecStop=</u> and
           <u>ExecStopPost=</u> processes, and encodes the service "result". Currently, the following values are
           defined:

           <b>Table</b> <b>5.</b> <b>Defined</b> <u>$SERVICE_RESULT</u> values
           ┌───────────────────┬───────────────────────────────────────┐
           │ <b>Value</b>             │ <b>Meaning</b>                               │
           ├───────────────────┼───────────────────────────────────────┤
           │ "success"         │ The service ran successfully and      │
           │                   │ exited cleanly.                       │
           ├───────────────────┼───────────────────────────────────────┤
           │ "protocol"        │ A protocol violation occurred: the    │
           │                   │ service did not take the steps        │
           │                   │ required by its unit configuration    │
           │                   │ (specifically what is configured in   │
           │                   │ its <u>Type=</u> setting).                   │
           ├───────────────────┼───────────────────────────────────────┤
           │ "timeout"         │ One of the steps timed out.           │
           ├───────────────────┼───────────────────────────────────────┤
           │ "exit-code"       │ Service process exited with a         │
           │                   │ non-zero exit code; see <u>$EXIT_CODE</u>    │
           │                   │ below for the actual exit code        │
           │                   │ returned.                             │
           ├───────────────────┼───────────────────────────────────────┤
           │ "signal"          │ A service process was terminated      │
           │                   │ abnormally by a signal, without       │
           │                   │ dumping core. See <u>$EXIT_CODE</u> below    │
           │                   │ for the actual signal causing the     │
           │                   │ termination.                          │
           ├───────────────────┼───────────────────────────────────────┤
           │ "core-dump"       │ A service process terminated          │
           │                   │ abnormally with a signal and dumped   │
           │                   │ core. See <u>$EXIT_CODE</u> below for the    │
           │                   │ signal causing the termination.       │
           ├───────────────────┼───────────────────────────────────────┤
           │ "watchdog"        │ Watchdog keep-alive ping was enabled  │
           │                   │ for the service, but the deadline was │
           │                   │ missed.                               │
           ├───────────────────┼───────────────────────────────────────┤
           │ "exec-condition"  │ Service did not run because           │
           │                   │ <u>ExecCondition=</u> failed.                │
           ├───────────────────┼───────────────────────────────────────┤
           │ "oom-kill"        │ A service process was terminated by   │
           │                   │ the Out-Of-Memory (OOM) killer.       │
           ├───────────────────┼───────────────────────────────────────┤
           │ "start-limit-hit" │ A start limit was defined for the     │
           │                   │ unit and it was hit, causing the unit │
           │                   │ to fail to start. See                 │
           │                   │ <b><a href="../man5/systemd.unit.5.html">systemd.unit</a></b>(5)'s                     │
           │                   │ <u>StartLimitIntervalSec=</u> and            │
           │                   │ <u>StartLimitBurst=</u> for details.         │
           ├───────────────────┼───────────────────────────────────────┤
           │ "resources"       │ A catch-all condition in case a       │
           │                   │ system operation failed.              │
           └───────────────────┴───────────────────────────────────────┘

           This environment variable is useful to monitor failure or successful termination of a service. Even
           though this variable is available in both <u>ExecStop=</u> and <u>ExecStopPost=</u>, it is usually a better choice
           to place monitoring tools in the latter, as the former is only invoked for services that managed to
           start up correctly, and the latter covers both services that failed during their start-up and those
           which failed during their runtime.

           Added in version 232.

       <u>$EXIT_CODE</u>, <u>$EXIT_STATUS</u>
           Only defined for the service unit type. These environment variables are passed to all <u>ExecStop=</u>,
           <u>ExecStopPost=</u> processes and contain exit status/code information of the main process of the service.
           For the precise definition of the exit code and status, see <b><a href="../man2/wait.2.html">wait</a></b>(2).  <u>$EXIT_CODE</u> is one of "exited",
           "killed", "dumped".  <u>$EXIT_STATUS</u> contains the numeric exit code formatted as string if <u>$EXIT_CODE</u> is
           "exited", and the signal name in all other cases. Note that these environment variables are only set
           if the service manager succeeded to start and identify the main process of the service.

           <b>Table</b> <b>6.</b> <b>Summary</b> <b>of</b> <b>possible</b> <b>service</b> <b>result</b> <b>variable</b> <b>values</b>
           ┌────────────────────────┬───────────────────────┬───────────────────────────────────┐
           │ <u>$SERVICE_RESULT</u>        │ <u>$EXIT_CODE</u>            │ <u>$EXIT_STATUS</u>                      │
           ├────────────────────────┼───────────────────────┼───────────────────────────────────┤
           │ "success"              │ "killed"              │ "HUP", "INT", "TERM", "PIPE"      │
           │                        ├───────────────────────┼───────────────────────────────────┤
           │                        │ "exited"              │ "0"                               │
           ├────────────────────────┼───────────────────────┼───────────────────────────────────┤
           │ "protocol"             │ not set               │ not set                           │
           │                        ├───────────────────────┼───────────────────────────────────┤
           │                        │ "exited"              │ "0"                               │
           ├────────────────────────┼───────────────────────┼───────────────────────────────────┤
           │ "timeout"              │ "killed"              │ "TERM", "KILL"                    │
           │                        ├───────────────────────┼───────────────────────────────────┤
           │                        │ "exited"              │ "0", "1", "2", "3", ...,          │
           │                        │                       │ "255"                             │
           ├────────────────────────┼───────────────────────┼───────────────────────────────────┤
           │ "exit-code"            │ "exited"              │ "1", "2", "3", ..., "255"         │
           ├────────────────────────┼───────────────────────┼───────────────────────────────────┤
           │ "signal"               │ "killed"              │ "HUP", "INT", "KILL", ...         │
           ├────────────────────────┼───────────────────────┼───────────────────────────────────┤
           │ "core-dump"            │ "dumped"              │ "ABRT", "SEGV", "QUIT", ...       │
           ├────────────────────────┼───────────────────────┼───────────────────────────────────┤
           │ "watchdog"             │ "dumped"              │ "ABRT"                            │
           │                        ├───────────────────────┼───────────────────────────────────┤
           │                        │ "killed"              │ "TERM", "KILL"                    │
           │                        ├───────────────────────┼───────────────────────────────────┤
           │                        │ "exited"              │ "0", "1", "2", "3", ...,          │
           │                        │                       │ "255"                             │
           ├────────────────────────┼───────────────────────┼───────────────────────────────────┤
           │ "exec-condition"       │ "exited"              │ "1", "2", "3", "4", ...,          │
           │                        │                       │ "254"                             │
           ├────────────────────────┼───────────────────────┼───────────────────────────────────┤
           │ "oom-kill"             │ "killed"              │ "TERM", "KILL"                    │
           ├────────────────────────┼───────────────────────┼───────────────────────────────────┤
           │ "start-limit-hit"      │ not set               │ not set                           │
           ├────────────────────────┼───────────────────────┼───────────────────────────────────┤
           │ "resources"            │ any of the above      │ any of the above                  │
           ├────────────────────────┴───────────────────────┴───────────────────────────────────┤
           │ Note: the process may be also terminated by a signal not sent by systemd. In       │
           │ particular the process may send an arbitrary signal to itself in a handler for any │
           │ of the non-maskable signals. Nevertheless, in the "timeout" and "watchdog" rows    │
           │ above only the signals that systemd sends have been included. Moreover, using      │
           │ <u>SuccessExitStatus=</u> additional exit statuses may be declared to indicate clean      │
           │ termination, which is not reflected by this table.                                 │
           └────────────────────────────────────────────────────────────────────────────────────┘

           Added in version 232.

       <u>$MONITOR_SERVICE_RESULT</u>, <u>$MONITOR_EXIT_CODE</u>, <u>$MONITOR_EXIT_STATUS</u>, <u>$MONITOR_INVOCATION_ID</u>, <u>$MONITOR_UNIT</u>
           Only defined for the service unit type. Those environment variables are passed to all <u>ExecStart=</u> and
           <u>ExecStartPre=</u> processes which run in services triggered by <u>OnFailure=</u> or <u>OnSuccess=</u> dependencies.

           Variables <u>$MONITOR_SERVICE_RESULT</u>, <u>$MONITOR_EXIT_CODE</u> and <u>$MONITOR_EXIT_STATUS</u> take the same values
           as for <u>ExecStop=</u> and <u>ExecStopPost=</u> processes. Variables <u>$MONITOR_INVOCATION_ID</u> and <u>$MONITOR_UNIT</u> are
           set to the invocation id and unit name of the service which triggered the dependency.

           Note that when multiple services specify the same unit as their <u>OnFailure=</u> or <u>OnSuccess=</u> handler,
           those variables will <u>not</u> be passed. Consider using a template handler unit for that case instead:
           "OnFailure=<u>handler</u>@%n.service" for non-templated units, or "OnFailure=<u>handler</u>@%p-%i.service" for
           templated units.

           Added in version 251.

       <u>$PIDFILE</u>
           The path to the configured PID file, in case the process is forked off on behalf of a service that
           uses the <u>PIDFile=</u> setting, see <b><a href="../man5/systemd.service.5.html">systemd.service</a></b>(5) for details. Service code may use this environment
           variable to automatically generate a PID file at the location configured in the unit file. This field
           is set to an absolute path in the file system.

           Added in version 242.

       <u>$REMOTE_ADDR</u>, <u>$REMOTE_PORT</u>
           If this is a unit started via per-connection socket activation (i.e. via a socket unit with
           <u>Accept=yes</u>), these environment variables contain information about the remote peer of the socket
           connection.

           For IPv4 and IPv6 connections, <u>$REMOTE_ADDR</u> contains the IP address, and <u>$REMOTE_PORT</u> contains the
           port number of the remote peer.

           For <b>AF_UNIX</b> socket connections, <u>$REMOTE_ADDR</u> contains either the remote socket's file system path
           starting with a slash ("/"), its address in the abstract namespace starting with an at symbol ("@"),
           or is unset in case of an unnamed socket.  <u>$REMOTE_PORT</u> is not set for <b>AF_UNIX</b> sockets.

           Added in version 220.

       <u>$TRIGGER_UNIT</u>, <u>$TRIGGER_PATH</u>, <u>$TRIGGER_TIMER_REALTIME_USEC</u>, <u>$TRIGGER_TIMER_MONOTONIC_USEC</u>
           If the unit was activated dynamically (e.g.: a corresponding path unit or timer unit), the unit that
           triggered it and other type-dependent information will be passed via these variables. Note that this
           information is provided in a best-effort way. For example, multiple triggers happening one after
           another will be coalesced and only one will be reported, with no guarantee as to which one it will
           be. Because of this, in most cases this variable will be primarily informational, i.e. useful for
           debugging purposes, is lossy, and should not be relied upon to propagate a comprehensive reason for
           activation.

           Added in version 252.

       <u>$MEMORY_PRESSURE_WATCH</u>, <u>$MEMORY_PRESSURE_WRITE</u>
           If memory pressure monitoring is enabled for this service unit, the path to watch and the data to
           write into it. See <b>Memory</b> <b>Pressure</b> <b>Handling</b>[20] for details about these variables and the service
           protocol data they convey.

           Added in version 254.

       <u>$FDSTORE</u>
           The maximum number of file descriptors that may be stored in the manager for the service. This
           variable is set when the file descriptor store is enabled for the service, i.e.
           <u>FileDescriptorStoreMax=</u> is set to a non-zero value (see <b><a href="../man5/systemd.service.5.html">systemd.service</a></b>(5) for details). Applications
           may check this environment variable before sending file descriptors to the service manager via
           <b><a href="../man3/sd_pid_notify_with_fds.3.html">sd_pid_notify_with_fds</a></b>(3).

           Added in version 254.

       <u>$DEBUG_INVOCATION</u>
           If <u>RestartMode=debug</u> is set, and a previous attempt at starting the unit failed, this variable will
           be passed to the service to indicate that additional logging should be enabled at startup. See
           <b><a href="../man5/systemd.service.5.html">systemd.service</a></b>(5) for more details.

           Added in version 257.

       For system services, when <u>PAMName=</u> is enabled and <b>pam_systemd</b> is part of the selected PAM stack,
       additional environment variables defined by systemd may be set for services. Specifically, these are
       <u>$XDG_SEAT</u>, <u>$XDG_VTNR</u>, see <b><a href="../man8/pam_systemd.8.html">pam_systemd</a></b>(8) for details.

</pre><h4><b>PROCESS</b> <b>EXIT</b> <b>CODES</b></h4><pre>
       When invoking a unit process the service manager possibly fails to apply the execution parameters
       configured with the settings above. In that case the already created service process will exit with a
       non-zero exit code before the configured command line is executed. (Or in other words, the child process
       possibly exits with these error codes, after having been created by the <b><a href="../man2/fork.2.html">fork</a></b>(2) system call, but before
       the matching <b><a href="../man2/execve.2.html">execve</a></b>(2) system call is called.) Specifically, exit codes defined by the C library, by the
       LSB specification and by the systemd service manager itself are used.

       The following basic service exit codes are defined by the C library.

       <b>Table</b> <b>7.</b> <b>Basic</b> <b>C</b> <b>library</b> <b>exit</b> <b>codes</b>
       ┌───────────┬───────────────┬───────────────────────┐
       │ <b>Exit</b> <b>Code</b> │ <b>Symbolic</b> <b>Name</b> │ <b>Description</b>           │
       ├───────────┼───────────────┼───────────────────────┤
       │ 0         │ <b>EXIT_SUCCESS</b>  │ Generic success code. │
       ├───────────┼───────────────┼───────────────────────┤
       │ 1         │ <b>EXIT_FAILURE</b>  │ Generic failure or    │
       │           │               │ unspecified error.    │
       └───────────┴───────────────┴───────────────────────┘

       The following service exit codes are defined by the <b>LSB</b> <b>specification</b>[21].

       <b>Table</b> <b>8.</b> <b>LSB</b> <b>service</b> <b>exit</b> <b>codes</b>
       ┌───────────┬──────────────────────┬──────────────────────────────┐
       │ <b>Exit</b> <b>Code</b> │ <b>Symbolic</b> <b>Name</b>        │ <b>Description</b>                  │
       ├───────────┼──────────────────────┼──────────────────────────────┤
       │ 2         │ <b>EXIT_INVALIDARGUMENT</b> │ Invalid or excess arguments. │
       ├───────────┼──────────────────────┼──────────────────────────────┤
       │ 3         │ <b>EXIT_NOTIMPLEMENTED</b>  │ Unimplemented feature.       │
       ├───────────┼──────────────────────┼──────────────────────────────┤
       │ 4         │ <b>EXIT_NOPERMISSION</b>    │ The user has insufficient    │
       │           │                      │ privileges.                  │
       ├───────────┼──────────────────────┼──────────────────────────────┤
       │ 5         │ <b>EXIT_NOTINSTALLED</b>    │ The program is not           │
       │           │                      │ installed.                   │
       ├───────────┼──────────────────────┼──────────────────────────────┤
       │ 6         │ <b>EXIT_NOTCONFIGURED</b>   │ The program is not           │
       │           │                      │ configured.                  │
       ├───────────┼──────────────────────┼──────────────────────────────┤
       │ 7         │ <b>EXIT_NOTRUNNING</b>      │ The program is not running.  │
       └───────────┴──────────────────────┴──────────────────────────────┘

       The LSB specification suggests that error codes 200 and above are reserved for implementations. Some of
       them are used by the service manager to indicate problems during process invocation:

       <b>Table</b> <b>9.</b> <b>systemd-specific</b> <b>exit</b> <b>codes</b>
       ┌───────────┬──────────────────────────────┬─────────────────────────────────────────────┐
       │ <b>Exit</b> <b>Code</b> │ <b>Symbolic</b> <b>Name</b>                │ <b>Description</b>                                 │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 200       │ <b>EXIT_CHDIR</b>                   │ Changing to the requested                   │
       │           │                              │ working directory failed.                   │
       │           │                              │ See <u>WorkingDirectory=</u> above.                │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 201       │ <b>EXIT_NICE</b>                    │ Failed to set up process                    │
       │           │                              │ scheduling priority (nice                   │
       │           │                              │ level). See <u>Nice=</u> above.                    │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 202       │ <b>EXIT_FDS</b>                     │ Failed to close unwanted                    │
       │           │                              │ file descriptors, or to                     │
       │           │                              │ adjust passed file                          │
       │           │                              │ descriptors.                                │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 203       │ <b>EXIT_EXEC</b>                    │ The actual process execution                │
       │           │                              │ failed (specifically, the                   │
       │           │                              │ <b><a href="../man2/execve.2.html">execve</a></b>(2) system call). Most                │
       │           │                              │ likely this is caused by a                  │
       │           │                              │ missing or non-accessible                   │
       │           │                              │ executable file.                            │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 204       │ <b>EXIT_MEMORY</b>                  │ Failed to perform an action                 │
       │           │                              │ due to memory shortage.                     │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 205       │ <b>EXIT_LIMITS</b>                  │ Failed to adjust resource                   │
       │           │                              │ limits. See <u>LimitCPU=</u> and                   │
       │           │                              │ related settings above.                     │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 206       │ <b>EXIT_OOM_ADJUST</b>              │ Failed to adjust the OOM                    │
       │           │                              │ setting. See <u>OOMScoreAdjust=</u>                │
       │           │                              │ above.                                      │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 207       │ <b>EXIT_SIGNAL_MASK</b>             │ Failed to set process signal                │
       │           │                              │ mask.                                       │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 208       │ <b>EXIT_STDIN</b>                   │ Failed to set up standard                   │
       │           │                              │ input. See <u>StandardInput=</u>                   │
       │           │                              │ above.                                      │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 209       │ <b>EXIT_STDOUT</b>                  │ Failed to set up standard                   │
       │           │                              │ output. See <u>StandardOutput=</u>                 │
       │           │                              │ above.                                      │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 210       │ <b>EXIT_CHROOT</b>                  │ Failed to change root                       │
       │           │                              │ directory (<b><a href="../man2/chroot.2.html">chroot</a></b>(2)). See                  │
       │           │                              │ <u>RootDirectory=</u>/<u>RootImage=</u>                   │
       │           │                              │ above.                                      │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 211       │ <b>EXIT_IOPRIO</b>                  │ Failed to set up IO                         │
       │           │                              │ scheduling priority. See                    │
       │           │                              │ <u>IOSchedulingClass=</u>/<u>IOSchedulingPriority=</u>    │
       │           │                              │ above.                                      │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 212       │ <b>EXIT_TIMERSLACK</b>              │ Failed to set up timer slack. See           │
       │           │                              │ <u>TimerSlackNSec=</u> above.                      │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 213       │ <b>EXIT_SECUREBITS</b>              │ Failed to set process secure bits. See      │
       │           │                              │ <u>SecureBits=</u> above.                          │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 214       │ <b>EXIT_SETSCHEDULER</b>            │ Failed to set up CPU scheduling. See        │
       │           │                              │ <u>CPUSchedulingPolicy=</u>/<u>CPUSchedulingPriority=</u> │
       │           │                              │ above.                                      │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 215       │ <b>EXIT_CPUAFFINITY</b>             │ Failed to set up CPU affinity. See          │
       │           │                              │ <u>CPUAffinity=</u> above.                         │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 216       │ <b>EXIT_GROUP</b>                   │ Failed to determine or change group         │
       │           │                              │ credentials. See                            │
       │           │                              │ <u>Group=</u>/<u>SupplementaryGroups=</u> above.          │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 217       │ <b>EXIT_USER</b>                    │ Failed to determine or change user          │
       │           │                              │ credentials, or to set up user namespacing. │
       │           │                              │ See <u>User=</u>/<u>PrivateUsers=</u> above.              │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 218       │ <b>EXIT_CAPABILITIES</b>            │ Failed to drop capabilities, or apply       │
       │           │                              │ ambient capabilities. See                   │
       │           │                              │ <u>CapabilityBoundingSet=</u>/<u>AmbientCapabilities=</u> │
       │           │                              │ above.                                      │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 219       │ <b>EXIT_CGROUP</b>                  │ Setting up the service control group        │
       │           │                              │ failed.                                     │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 220       │ <b>EXIT_SETSID</b>                  │ Failed to create new process session.       │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 221       │ <b>EXIT_CONFIRM</b>                 │ Execution has been cancelled by the user.   │
       │           │                              │ See the <u>systemd.confirm_spawn=</u> kernel       │
       │           │                              │ command line setting on <b>kernel-command-</b>     │
       │           │                              │ <b><a href="../man7/line.7.html">line</a></b>(7) for details.                        │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 222       │ <b>EXIT_STDERR</b>                  │ Failed to set up standard error output. See │
       │           │                              │ <u>StandardError=</u> above.                       │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 224       │ <b>EXIT_PAM</b>                     │ Failed to set up PAM session. See <u>PAMName=</u>  │
       │           │                              │ above.                                      │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 225       │ <b>EXIT_NETWORK</b>                 │ Failed to set up network namespacing. See   │
       │           │                              │ <u>PrivateNetwork=</u> above.                      │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 226       │ <b>EXIT_NAMESPACE</b>               │ Failed to set up mount, UTS, or IPC         │
       │           │                              │ namespacing. See <u>ReadOnlyPaths=</u>,            │
       │           │                              │ <u>ProtectHostname=</u>, <u>PrivateIPC=</u>, and related  │
       │           │                              │ settings above.                             │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 227       │ <b>EXIT_NO_NEW_PRIVILEGES</b>       │ Failed to disable new privileges. See       │
       │           │                              │ <u>NoNewPrivileges=yes</u> above.                  │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 228       │ <b>EXIT_SECCOMP</b>                 │ Failed to apply system call filters. See    │
       │           │                              │ <u>SystemCallFilter=</u> and related settings      │
       │           │                              │ above.                                      │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 229       │ <b>EXIT_SELINUX_CONTEXT</b>         │ Determining or changing SELinux context     │
       │           │                              │ failed. See <u>SELinuxContext=</u> above.          │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 230       │ <b>EXIT_PERSONALITY</b>             │ Failed to set up an execution domain        │
       │           │                              │ (personality). See <u>Personality=</u> above.      │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 231       │ <b>EXIT_APPARMOR_PROFILE</b>        │ Failed to prepare changing AppArmor         │
       │           │                              │ profile. See <u>AppArmorProfile=</u> above.        │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 232       │ <b>EXIT_ADDRESS_FAMILIES</b>        │ Failed to restrict address families. See    │
       │           │                              │ <u>RestrictAddressFamilies=</u> above.             │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 233       │ <b>EXIT_RUNTIME_DIRECTORY</b>       │ Setting up runtime directory failed. See    │
       │           │                              │ <u>RuntimeDirectory=</u> and related settings      │
       │           │                              │ above.                                      │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 235       │ <b>EXIT_CHOWN</b>                   │ Failed to adjust socket ownership. Used for │
       │           │                              │ socket units only.                          │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 236       │ <b>EXIT_SMACK_PROCESS_LABEL</b>     │ Failed to set SMACK label. See              │
       │           │                              │ <u>SmackProcessLabel=</u> above.                   │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 237       │ <b>EXIT_KEYRING</b>                 │ Failed to set up kernel keyring.            │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 238       │ <b>EXIT_STATE_DIRECTORY</b>         │ Failed to set up unit's state directory.    │
       │           │                              │ See <u>StateDirectory=</u> above.                  │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 239       │ <b>EXIT_CACHE_DIRECTORY</b>         │ Failed to set up unit's cache directory.    │
       │           │                              │ See <u>CacheDirectory=</u> above.                  │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 240       │ <b>EXIT_LOGS_DIRECTORY</b>          │ Failed to set up unit's logging directory.  │
       │           │                              │ See <u>LogsDirectory=</u> above.                   │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 241       │ <b>EXIT_CONFIGURATION_DIRECTORY</b> │ Failed to set up unit's configuration       │
       │           │                              │ directory. See <u>ConfigurationDirectory=</u>      │
       │           │                              │ above.                                      │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 242       │ <b>EXIT_NUMA_POLICY</b>             │ Failed to set up unit's NUMA memory policy. │
       │           │                              │ See <u>NUMAPolicy=</u> and <u>NUMAMask=</u> above.        │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 243       │ <b>EXIT_CREDENTIALS</b>             │ Failed to set up unit's credentials. See    │
       │           │                              │ <u>ImportCredential=</u>, <u>LoadCredential=</u> and      │
       │           │                              │ <u>SetCredential=</u> above.                       │
       ├───────────┼──────────────────────────────┼─────────────────────────────────────────────┤
       │ 245       │ <b>EXIT_BPF</b>                     │ Failed to apply BPF restrictions. See       │
       │           │                              │ <u>RestrictFileSystems=</u> above.                 │
       └───────────┴──────────────────────────────┴─────────────────────────────────────────────┘

       Finally, the BSD operating systems define a set of exit codes, typically defined on Linux systems too:

       <b>Table</b> <b>10.</b> <b>BSD</b> <b>exit</b> <b>codes</b>
       ┌───────────┬────────────────┬─────────────────────────────┐
       │ <b>Exit</b> <b>Code</b> │ <b>Symbolic</b> <b>Name</b>  │ <b>Description</b>                 │
       ├───────────┼────────────────┼─────────────────────────────┤
       │ 64        │ <b>EX_USAGE</b>       │ Command line usage error    │
       ├───────────┼────────────────┼─────────────────────────────┤
       │ 65        │ <b>EX_DATAERR</b>     │ Data format error           │
       ├───────────┼────────────────┼─────────────────────────────┤
       │ 66        │ <b>EX_NOINPUT</b>     │ Cannot open input           │
       ├───────────┼────────────────┼─────────────────────────────┤
       │ 67        │ <b>EX_NOUSER</b>      │ Addressee unknown           │
       ├───────────┼────────────────┼─────────────────────────────┤
       │ 68        │ <b>EX_NOHOST</b>      │ Host name unknown           │
       ├───────────┼────────────────┼─────────────────────────────┤
       │ 69        │ <b>EX_UNAVAILABLE</b> │ Service unavailable         │
       ├───────────┼────────────────┼─────────────────────────────┤
       │ 70        │ <b>EX_SOFTWARE</b>    │ internal software error     │
       ├───────────┼────────────────┼─────────────────────────────┤
       │ 71        │ <b>EX_OSERR</b>       │ System error (e.g., cannot  │
       │           │                │ fork)                       │
       ├───────────┼────────────────┼─────────────────────────────┤
       │ 72        │ <b>EX_OSFILE</b>      │ Critical OS file missing    │
       ├───────────┼────────────────┼─────────────────────────────┤
       │ 73        │ <b>EX_CANTCREAT</b>   │ Cannot create (user) output │
       │           │                │ file                        │
       ├───────────┼────────────────┼─────────────────────────────┤
       │ 74        │ <b>EX_IOERR</b>       │ Input/output error          │
       ├───────────┼────────────────┼─────────────────────────────┤
       │ 75        │ <b>EX_TEMPFAIL</b>    │ Temporary failure; user is  │
       │           │                │ invited to retry            │
       ├───────────┼────────────────┼─────────────────────────────┤
       │ 76        │ <b>EX_PROTOCOL</b>    │ Remote error in protocol    │
       ├───────────┼────────────────┼─────────────────────────────┤
       │ 77        │ <b>EX_NOPERM</b>      │ Permission denied           │
       ├───────────┼────────────────┼─────────────────────────────┤
       │ 78        │ <b>EX_CONFIG</b>      │ Configuration error         │
       └───────────┴────────────────┴─────────────────────────────┘

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>Example</b> <b>3.</b> <u>$MONITOR_*</u> usage

       A service myfailer.service which can trigger an <u>OnFailure=</u> dependency.

           [Unit]
           Description=Service which can trigger an OnFailure= dependency
           OnFailure=myhandler.service

           [Service]
           ExecStart=/bin/myprogram

       A service mysuccess.service which can trigger an <u>OnSuccess=</u> dependency.

           [Unit]
           Description=Service which can trigger an OnSuccess= dependency
           OnSuccess=myhandler.service

           [Service]
           ExecStart=/bin/mysecondprogram

       A service myhandler.service which can be triggered by any of the above services.

           [Unit]
           Description=Acts on service failing or succeeding

           [Service]
           ExecStart=<a href="file:/bin/bash">/bin/bash</a> -c "echo $MONITOR_SERVICE_RESULT $MONITOR_EXIT_CODE $MONITOR_EXIT_STATUS $MONITOR_INVOCATION_ID $MONITOR_UNIT"

       If myfailer.service were to run and exit in failure, then myhandler.service would be triggered and the
       monitor variables would be set as follows:

           MONITOR_SERVICE_RESULT=exit-code
           MONITOR_EXIT_CODE=exited
           MONITOR_EXIT_STATUS=1
           MONITOR_INVOCATION_ID=cc8fdc149b2b4ca698d4f259f4054236
           MONITOR_UNIT=myfailer.service

       If mysuccess.service were to run and exit in success, then myhandler.service would be triggered and the
       monitor variables would be set as follows:

           MONITOR_SERVICE_RESULT=success
           MONITOR_EXIT_CODE=exited
           MONITOR_EXIT_STATUS=0
           MONITOR_INVOCATION_ID=6ab9af147b8c4a3ebe36e7a5f8611697
           MONITOR_UNIT=mysuccess.service

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man1/systemctl.1.html">systemctl</a></b>(1), <b><a href="../man1/systemd-analyze.1.html">systemd-analyze</a></b>(1), <b><a href="../man1/journalctl.1.html">journalctl</a></b>(1), <b><a href="../man5/systemd-system.conf.5.html">systemd-system.conf</a></b>(5), <b><a href="../man5/systemd.unit.5.html">systemd.unit</a></b>(5),
       <b><a href="../man5/systemd.service.5.html">systemd.service</a></b>(5), <b><a href="../man5/systemd.socket.5.html">systemd.socket</a></b>(5), <b><a href="../man5/systemd.swap.5.html">systemd.swap</a></b>(5), <b><a href="../man5/systemd.mount.5.html">systemd.mount</a></b>(5), <b><a href="../man5/systemd.kill.5.html">systemd.kill</a></b>(5),
       <b><a href="../man5/systemd.resource-control.5.html">systemd.resource-control</a></b>(5), <b><a href="../man7/systemd.time.7.html">systemd.time</a></b>(7), <b><a href="../man7/systemd.directives.7.html">systemd.directives</a></b>(7), <b><a href="../man5/tmpfiles.d.5.html">tmpfiles.d</a></b>(5), <b><a href="../man3/exec.3.html">exec</a></b>(3), <b><a href="../man2/fork.2.html">fork</a></b>(2)

</pre><h4><b>NOTES</b></h4><pre>
        1. Discoverable Partitions Specification
           https://uapi-group.org/specifications/specs/discoverable_partitions_specification

        2. The <a href="file:/proc">/proc</a> Filesystem
           https://docs.kernel.org/filesystems/proc.html#mount-options

        3. User/Group Name Syntax
           https://systemd.io/USER_NAMES

        4. No New Privileges Flag
           https://docs.kernel.org/userspace-api/no_new_privs.html

        5. JSON User Record
           https://systemd.io/USER_RECORD

        6. The <a href="file:/proc">/proc</a> Filesystem
           https://docs.kernel.org/filesystems/proc.html

        7. id-mapped mounts
           https://lwn.net/Articles/896255/

        8. Kernel Samepage Merging
           https://docs.kernel.org/admin-guide/mm/ksm.html

        9. unicode scalar values
           https://www.unicode.org/glossary/#unicode_scalar_value

       10. unicode noncharacters
           https://www.unicode.org/glossary/#noncharacter

       11. unicode byte order mark
           https://www.unicode.org/glossary/#byte_order_mark

       12. POSIX shell unquoted text
           https://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_02_01

       13. POSIX shell single-quoted text
           https://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_02_02

       14. POSIX shell double-quoted text
           https://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_02_03

       15. Base64
           https://tools.ietf.org/html/rfc2045#section-6.8

       16. Container Interface
           https://systemd.io/CONTAINER_INTERFACE

       17. DMI/SMBIOS
           https://www.dmtf.org/standards/smbios

       18. qemu
           https://www.qemu.org/docs/master/system/index.html

       19. System and Service Credentials
           https://systemd.io/CREDENTIALS

       20. Memory Pressure Handling
           https://systemd.io/MEMORY_PRESSURE

       21. LSB specification
           https://refspecs.linuxbase.org/LSB_5.0.0/LSB-Core-generic/LSB-Core-generic/iniscrptact.html

systemd 257.7                                                                                    <u><a href="../man5/SYSTEMD.EXEC.5.html">SYSTEMD.EXEC</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>