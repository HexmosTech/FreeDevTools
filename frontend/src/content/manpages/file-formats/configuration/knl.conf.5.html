<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>knl.conf - Slurm configuration file for Intel Knights Landing processor.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/slurm-client">slurm-client_24.11.5-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       knl.conf - Slurm configuration file for Intel Knights Landing processor.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  ASCII  file  which describes configuration information for Intel Knights Landing processors and its
       name may depend upon  the  NodeFeatures  plugin  configured  in  Slurm.  For  example,  on  Cray  systems
       NodeFeatures  should  be  configured  to  "knl_cray"  and  its  configuration  file  will  be  read  from
       "knl_cray.conf".  The file will always be located in the same directory as the <b>slurm.conf</b>.  This file  is
       optional.

       Parameter names are case insensitive.  Any text following a "#" in the configuration file is treated as a
       comment  through  the  end  of  that line.  Changes to the configuration file take effect upon restart of
       Slurm daemons, daemon receipt of the SIGHUP signal, or execution of the  command  "scontrol  reconfigure"
       unless otherwise noted.

       The overall configuration parameters available include:

       <b>AllowMCDRAM</b>
              Specify  the  MCDRAM  modes  which  jobs are allowed to use.  This may be a subset of MCDRAM modes
              supported by the node.  If not specified, all MCDRAM modes supported by the node are available for
              use.  The comma separated list of allowed MCDRAM modes may include any of the modes listed below.

              <b>cache</b>            All of MCDRAM to be used as cache.

              <b>equal</b>            MCDRAM to be used partly as cache and partly combined with primary memory.

              <b>flat</b>             MCDRAM to be combined with primary memory into a "flat" memory space.

       <b>AllowNUMA</b>
              Specify the NUMA modes which jobs are allowed to  use.   This  may  be  a  subset  of  NUMA  modes
              supported  by  the node.  If not specified, all NUMA modes supported by the node are available for
              use.  The comma separated list of allowed NUMA modes may include any of the  modes  listed  below.
              Note  that Slurm can only support homogeneous nodes (e.g. the same number of cores per NUMA node).
              KNL scn4 and quad modes are not homogeneous, but each NUMA mode will have either 16 or  18  cores.
              This  will  result  in  Slurm using the lower core count and finding a total of 256 threads rather
              than 272 threads and setting the node to a DOWN state.  Therefore it is recommended that snc4  and
              quad mode not be allowed at this time.

              <b>a2a</b>              All to all

              <b>snc2</b>             Sub-NUMA cluster 2

              <b>snc4</b>             Sub-NUMA cluster 4

              <b>hemi</b>             Hemisphere

              <b>quad</b>             Quadrant

       <b>AllowUserBoot</b>
              A comma-delimited list of users allowed to modify a node's MCDRAM or NUMA state.  If not specified
              then any user can change a node's state and reboot it.

       <b>BootTime</b>
              Estimated  time to reboot a node in seconds.  Used as a basis for optimizing scheduling decisions.
              The default value is 300 seconds (5 minutes) for the "knl_generic" plugin  and  2700  seconds  (45
              minutes) for the "knl_cray" plugin.

       <b>CapmcPath</b>
              Fully     qualified     path     to     the    <b>capmc</b>    program.     The    default    value    is
              "/opt/cray/capmc/default/bin/capmc".  This parameter is used only by the "knl_cray" plugin.

       <b>CapmcPollFreq</b>
              Time interval between when the <b>capmc</b> program should poll for node state changes, in seconds.   The
              default value is 45 seconds.  This parameter is used only by the "knl_cray" plugin.

       <b>CapmcRetries</b>
              Number of times to retry failed operations of the <b>capmc</b> program.  Default value is 4.

       <b>CapmcTimeout</b>
              Time  limit for the <b>capmc</b> program to return status information milliseconds.  The default value is
              60000 milliseconds and the minimum value is 1000 milliseconds.  This  parameter  is  used  by  the
              "knl_cray"  plugin,  plus  the  capmc_suspend  and  capmc_resume  programs used for suspending and
              resuming nodes.

       <b>CnselectPath</b>
              Fully    qualified    path    to    the    <b>cnselect</b>    program.     The    default    value     is
              "/opt/cray/sdb/default/bin/cnselect".  This parameter is used only by the "knl_cray" plugin.

       <b>DefaultMCDRAM</b>
              Specify the default MCDRAM modes for job's which do not specify a value.  This is only used when a
              node  is  booted  and  the job which has been allocated the node does not specify a desired MCDRAM
              mode.  The value  can  include  one  of  the  possible  values  identified  with  the  <b>AllowMCDRAM</b>
              configuration parameter above.  The default value is "cache".

       <b>DefaultNUMA</b>
              Specify  the  default NUMA modes for job's which do not specify a value.  This is only used when a
              node is booted and the job which has been allocated the node does not specify a desired NUMA mode.
              The value can include one of the possible  values  identified  with  the  <b>AllowNUMA</b>  configuration
              parameter above.  The default value is "a2a".

       <b>Force</b>  If set to a non-zero value then load the node_features/generic plugin even on non-KNL nodes.  Used
              primarily for testing purposes.

       <b>LogFile</b>
              Fully  qualified  path  to  a log file.  The default value is SlurmctldLogFile from the slurm.conf
              configuration file.  This is option is used only by the campc_suspend  and  campc_resume  programs
              (which power down and reboot nodes in the appropriate configuration).

       <b>McPath</b> Fully  qualified path to memory controller device file directory.  Children of this directory with
              names of the form "mc#/csrow#/ue_count" (i.e. the count of unrecoverable memory  errors)  will  be
              monitored  for non-zero values.  If such errors are detected, the node will be set to a DOWN state
              and the slurmd daemon will shutdown.  The default  value  is  "<a href="file:/sys/devices/system/edac/mc">/sys/devices/system/edac/mc</a>".   See
              also <b>UmeCheckInterval</b>.

       <b>NumaCpuBind</b>
              Contains  pairs  of  NUMA  modes and the CpuBind mode to set a node to for that mode.  Any compute
              node found with or set to the specified NUMA mode will have that node's CpuBind field set  to  the
              configured  value.   The  NUMA node will be followed by an equal sign the desired CpuBind mode for
              that NUMA mode. Multiple NUMA mode and CpuBind modes should be in a semicolon separated list.   By
              default  changes  to a node's NUMA mode will not effect that node's CpuBind mode.  See the example
              below.

       <b>SyscfgPath</b>
              Fully qualified path to Intel's <b>syscfg</b> program, which  identifies  current  KNL  configuration  by
              viewing  BIOS  settings.   If  not  defined,  the current BIOS setting will not be available.  The
              default value is "/usr/bin/syscfg".  This parameter is used only by the "knl_generic" plugin.

       <b>SyscfgTimeout</b>
              Timeout for <b>syscfg</b> program in milliseconds.  Default value is 1000  milliseconds.   For  Dell  KNL
              systems, experience has shown that a higher value of 10000 milliseconds is more appropriate.

       <b>SystemType</b>
              Used  to  distinguish  the  flavor  of  knl  we are dealing with.  Possible options are "Dell" and
              "Intel".  The default value is "Intel".  This parameter is used only by the "knl_generic" plugin.

       <b>UmeCheckInterval</b>
              Interval, in microseconds, between checks for Uncorrectable Memory Errors (UME).  If  such  errors
              are  detected,  the  node  will  be  set to a DOWN state and the slurmd daemon will shutdown.  The
              default value is 0 (disabled).  See also <b>McPath</b>.

       <b>ValidateMode</b>
              If set to 1 then validate, but do not modify the node's configured MCDRAM and NUMA modes from  the
              slurm.conf file. If the actual modes do not match configured values the node will be set to a DOWN
              state.  Every  KNL  nodes MCDRAM and NUMA states must both be listed in the slurm.conf file.  This
              parameter is used only by the "knl_cray" plugin.

</pre><h4><b>EXAMPLE</b></h4><pre>
       ###################################################################
       # knl_cray.conf
       # Slurm configuration file for Intel Knights Landing on Cray system
       ###################################################################
       CapmcPath=/opt/cray/capmc/default/bin/capmc
       CapmcTimeout=6000
       DefaultMCDRAM=flat
       DefaultNUMA=a2a
       NumaCpuBind=a2a=core;snc2=thread;snc4=thread
       LogFile=/var/tmp/slurm_node_feature.log
       SyscfgPath=/usr/sbin/syscfg

</pre><h4><b>COPYING</b></h4><pre>
       Copyright (C) 2015-2022 SchedMD LLC.

       This   file   is   part   of   Slurm,   a   resource    management    program.     For    details,    see
       &lt;https://slurm.schedmd.com/&gt;.

       Slurm  is  free  software;  you  can  redistribute it and/or modify it under the terms of the GNU General
       Public License as published by the Free Software Foundation; either version 2 of the License, or (at your
       option) any later version.

       Slurm is distributed in the hope that it will be useful, but  WITHOUT  ANY  WARRANTY;  without  even  the
       implied  warranty  of  MERCHANTABILITY  or  FITNESS  FOR A PARTICULAR PURPOSE. See the GNU General Public
       License for more details.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/slurm.conf.5.html">slurm.conf</a></b>(5)

December 2022                               Slurm Configuration File                                 <u><a href="../man5/knl.conf.5.html">knl.conf</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>