<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>/etc/multipath.conf, /etc/multipath/conf.d/*.conf - multipath daemon configuration file.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/multipath-tools">multipath-tools_0.11.1-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <a href="file:/etc/multipath.conf">/etc/multipath.conf</a>, /etc/multipath/conf.d/*.conf - multipath daemon configuration file.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b><a href="file:/etc/multipath.conf">/etc/multipath.conf</a></b>  is  the  configuration  file  for  the multipath daemon. It is used to overwrite the
       built-in configuration table of <b>multipathd</b>.  Any line whose first non-white-space character is a  '#'  is
       considered a comment line. Empty lines are ignored.

       Currently  used multipathd configuration can be displayed with the <b>multipath</b> <b>-t</b> or <b>multipathd</b> <b>show</b> <b>config</b>
       command.

       Additional configuration can be made in drop-in files under <b>/etc/multipath/conf.d.</b>  Files ending in <u>.conf</u>
       in this directory are read in alphabetical order, after reading <u><a href="file:/etc/multipath.conf">/etc/multipath.conf</a></u>.  They use  the  same
       syntax  as  <u><a href="file:/etc/multipath.conf">/etc/multipath.conf</a></u> itself, and support all sections and keywords. If a keyword occurs in the
       same section in multiple files, the last occurrence will take precedence over all others.

</pre><h4><b>SYNTAX</b></h4><pre>
       The configuration file contains entries of the form:

              <b>&lt;section&gt;</b> <b>{</b>
                     <b>&lt;attribute&gt;</b> <b>&lt;value&gt;</b>
                     <u>...</u>
                     <b>&lt;subsection&gt;</b> <b>{</b>
                            <b>&lt;attribute&gt;</b> <b>&lt;value&gt;</b>
                            <u>...</u>
                     <b>}</b>
              <b>}</b>

       Each <u>section</u> contains one or more attributes or subsections. The recognized keywords  for  attributes  or
       subsections depend on the section in which they occur.

       <b>&lt;attribute&gt;</b>  and <b>&lt;value&gt;</b> must be on a single line.  <b>&lt;attribute&gt;</b> is one of the keywords listed in this man
       page.  <b>&lt;value&gt;</b> is either a simple word (containing no whitespace and none of the characters '"', '#', and
       '!') or <u>one</u> string enclosed in double quotes ("..."). Outside a quoted string, text  starting  with  '#',
       and  '!'  is regarded as a comment and ignored until the end of the line. Inside a quoted string, '#' and
       '!' are normal characters, and whitespace is preserved.  To represent a double quote character  inside  a
       double  quoted string, use two consecutive double quotes ('""'). Thus '2.5" SSD' can be written as "2.5""
       SSD".

       Opening braces ('{') must follow the (sub)section name on the same line. Closing braces ('}')  that  mark
       the  end  of  a (sub)section must be the only non-whitespace character on the line. Whitespace is ignored
       except inside double quotes, thus the indentation shown in the above example is helpful for human readers
       but not mandatory.

       <b>Note</b> <b>on</b> <b>regular</b> <b>expressions:</b> The <u><a href="file:/etc/multipath.conf">/etc/multipath.conf</a></u> syntax allows many attribute values to be  specified
       as  POSIX  Extended  Regular Expressions (see <b><a href="../man7/regex.7.html">regex</a></b>(7)). These regular expressions are <b>case-sensitive</b> and
       <b>not</b> <b>anchored</b>, thus the expression "bar" matches "barbie", "rhabarber", and "wunderbar", but not "Barbie".
       To avoid unwanted substring matches, standard regular expression syntax using the special characters  "^"
       and "$" can be used.

       The following <u>section</u> keywords are recognized:

       <b>defaults</b>         This section defines default values for attributes which are used whenever no values are
                        given in the appropriate device or multipath sections.

       <b>blacklist</b>        This  section  defines  which  devices  should  be  excluded from the multipath topology
                        discovery.

       <b>blacklist_exceptions</b>
                        This section defines  which  devices  should  be  included  in  the  multipath  topology
                        discovery, despite being listed in the <u>blacklist</u> section.

       <b>multipaths</b>       This  section  defines  the  multipath  topologies.  They  are  indexed  by a <u>World</u> <u>Wide</u>
                        <u>Identifier</u>(WWID). For details on the WWID generation see section <u>WWID</u> <u>generation</u>  below.
                        Attributes set in this section take precedence over all others.

       <b>devices</b>          This  section  defines  the  device-specific settings. Devices are identified by vendor,
                        product, and revision.

       <b>overrides</b>        This section defines values for attributes  that  should  override  the  device-specific
                        settings for all devices.

</pre><h4><b>defaults</b> <b>section</b></h4><pre>
       The <u>defaults</u> section recognizes the following keywords:

       <b>verbosity</b>        Default  verbosity. Higher values increase the verbosity level. Valid levels are between
                        0 and 6.

                        The default is: <b>2</b>

       <b>polling_interval</b> Interval between two path  checks  in  seconds.  For  properly  functioning  paths,  the
                        interval  between  checks  will  gradually increase to <u>max_polling_interval</u>.  This value
                        will be overridden by the <u>WatchdogSec</u> setting in the  multipathd.service  definition  if
                        systemd is used.

                        The default is: <b>5</b>

       <b>max_polling_interval</b>
                        Maximal interval between two path checks in seconds.

                        The default is: <b>4</b> <b>*</b> <b>polling_interval</b>

       <b>reassign_maps</b>    Enable  reassigning  of  device-mapper  maps.  With  this  option  multipathd will remap
                        existing device-mapper maps to always point to  multipath  device,  not  the  underlying
                        block devices. Possible values are <u>yes</u> and <u>no</u>.

                        The default is: <b>no</b>

       <b>multipath_dir</b>    (Deprecated) This option is not supported anymore, and will be ignored.

       <b>path_selector</b>    The  default  path  selector  algorithm to use; they are offered by the kernel multipath
                        target:

                        <u>round-robin</u> <u>0</u>
                                    Loop through every path in the path group, sending the same amount of I/O to
                                    each. Some aspects of  behavior  can  be  controlled  with  the  attributes:
                                    <u>rr_min_io</u>, <u>rr_min_io_rq</u> and <u>rr_weight</u>.

                        <u>queue-length</u> <u>0</u>
                                    (Since 2.6.31 kernel) Choose the path for the next bunch of I/O based on the
                                    amount of outstanding I/O to the path.

                        <u>service-time</u> <u>0</u>
                                    (Since 2.6.31 kernel) Choose the path for the next bunch of I/O based on the
                                    amount of outstanding I/O to the path and its relative throughput.

                        <u>historical-service-time</u> <u>0</u>
                                    (Since  5.8  kernel)  Choose the path for the next bunch of I/O based on the
                                    estimation of future service time based  on  the  history  of  previous  I/O
                                    submitted to each path.

                        The default is: <b>service-time</b> <b>0</b>

       <b>path_grouping_policy</b>
                        (Hardware-dependent)   The   default  path  grouping  policy  to  apply  to  unspecified
                        multipaths. Possible values are:

                        <u>failover</u>    One path per priority group.

                        <u>multibus</u>    All paths in one priority group.

                        <u>group_by_serial</u>
                                    One priority group per serial number.

                        <u>group_by_prio</u>
                                    One priority group per priority value. Priorities are determined by  callout
                                    programs  specified  as  a global, per-controller or per-multipath option in
                                    the configuration file.

                        <u>group_by_node_name</u>
                                    One priority group per target node name. Target node names  are  fetched  in
                                    <u>/sys/class/fc_transport/target*/node_name</u>.

                        <u>group_by_tpg</u>
                                    One  priority group per ALUA target port group. In order to use this policy,
                                    all paths in the multipath device must have <u>prio</u> set to <b>alua</b>.

                        The default is: <b>failover</b>

       <b>detect_pgpolicy</b>  If set to <u>yes</u> and all path  devices  are  configured  with  either  the  <u>alua</u>  or  <u>sysfs</u>
                        prioritizer,   the   multipath   device   will   automatically   use  the  <u>group_by_prio</u>
                        path_grouping_policy. If set to <u>no</u>, the path_grouping_policy will be selected as usual.

                        The default is: <b>yes</b>

       <b>detect_pgpolicy_use_tpg</b>
                        If both this and <u>detect_pgpolicy</u> are set to <u>yes</u> and all path devices are configured with
                        either the <u>alua</u> or <u>sysfs</u> prioritizer, the multipath device will  automatically  use  the
                        <u>group_by_tpg</u>  path_grouping_policy.  If  set  to  <u>no</u>,  the  path_grouping_policy will be
                        selected by the method described for <u>detect_pgpolicy</u> above.

                        The default is: <b>no</b>

       <b>pg_timeout</b>       (Deprecated) This option is not supported anymore, and will be ignored.

       <b>uid_attrs</b>        Setting this option  activates  <b>merging</b>  <b>uevents</b>  by  WWID,  which  may  improve  uevent
                        processing  efficiency.  Moreover,  it's  an  alternative  method  to configure the udev
                        properties to use for determining unique path identifiers (WWIDs).

                        The value of this option is a space separated list of records  like  "<u>type:ATTR</u>",  where
                        <u>type</u>  is  matched  against  the  beginning of the device node name (e.g. <u>sd:ATTR</u> matches
                        <u>sda</u>), and <u>ATTR</u> is the name of the udev property to use for matching devices.

                        If this option is configured and matches the device node name of a device, it  overrides
                        any other configured  methods for determining the WWID for this device.

                        This option cannot be changed during runtime with the multipathd <b>reconfigure</b> command.

                        The  default  is:  <b>&lt;unset&gt;</b>.  To  enable  uevent  merging,  set  it e.g. to "sd:ID_SERIAL
                        dasd:ID_UID nvme:ID_WWN".

       <b>uid_attribute</b>    The udev attribute providing a unique path identifier (WWID). If <u>uid_attribute</u> is set to
                        the empty string, WWID determination is done using the <u>sysfs</u> method  rather  than  using
                        udev (not recommended in production; see <b>WWID</b> <b>generation</b> below).

                        The default is: <b>ID_SERIAL</b>, for SCSI devices

                        The default is: <b>ID_UID</b>, for DASD devices

                        The default is: <b>ID_WWN</b>, for NVMe devices

       <b>getuid_callout</b>   (Deprecated) This option is not supported anymore, and will be ignored.

       <b>prio</b>             The  name  of  the  path priority routine. The specified routine should return a numeric
                        value specifying the relative priority  of  this  path.  Higher  number  have  a  higher
                        priority.   <u>"none"</u>  is a valid value. Currently the following path priority routines are
                        implemented:

                        <u>const</u>       Return a constant priority of <u>1</u>.

                        <u>sysfs</u>       Use the sysfs attributes <u>access_state</u> and  <u>preferred_path</u>  to  generate  the
                                    path    priority.   This   prioritizer   accepts   the   optional   prio_arg
                                    <u>exclusive_pref_bit</u>.

                        <u>emc</u>         (Hardware-dependent) Generate the path priority  for  DGC  class  arrays  as
                                    CLARiiON  CX/AX  and  EMC  VNX  families  with  Failover Mode 1 (Passive Not
                                    Ready(PNR)).

                        <u>alua</u>        (Hardware-dependent) Generate the path priority based  on  the  SCSI-3  ALUA
                                    settings. This prioritizer accepts the optional prio_arg <u>exclusive_pref_bit</u>.

                        <u>ontap</u>       (Hardware-dependent)  Generate  the  path  priority for NetApp ONTAP FAS/AFF
                                    Series and rebranded arrays, with ONTAP native mode(not ALUA).

                        <u>rdac</u>        (Hardware-dependent) Generate the path priority for LSI/Engenio/NetApp  RDAC
                                    class as NetApp SANtricity E/EF Series and rebranded arrays, with "Linux DM-
                                    MP (Kernel 3.9 or earlier)" option.

                        <u>hp_sw</u>       (Hardware-dependent)  Generate the path priority for HP/COMPAQ/DEC HSG80 and
                                    MSA/HSV arrays with Active/Standby mode exclusively.

                        <u>hds</u>         (Hardware-dependent) Generate the path priority for Hitachi AMS families  of
                                    arrays other than AMS 2000.

                        <u>random</u>      Generate a random priority between 1 and 10.

                        <u>weightedpath</u>
                                    Generate  the path priority based on the regular expression and the priority
                                    provided as argument. Requires prio_args keyword.

                        <u>path_latency</u>
                                    Generate the path priority based on a latency algorithm.  Requires prio_args
                                    keyword.

                        <u>ana</u>         (Hardware-dependent) Generate the  path  priority  based  on  the  NVMe  ANA
                                    settings.

                        <u>datacore</u>    (Hardware-dependent)  Generate  the  path priority for some DataCore storage
                                    arrays. Requires prio_args keyword.

                        <u>iet</u>         (iSCSI only) Generate path priority for iSCSI targets based on  IP  address.
                                    Requires prio_args keyword.

                        The  default  depends  on  the <b>detect_prio</b> setting: If <b>detect_prio</b> is <b>yes</b> (default), the
                        default priority algorithm is <b>sysfs</b> (except for NetAPP E/EF Series, where it  is  <b>alua</b>).
                        If <b>detect_prio</b> is <b>no</b>, the default priority algorithm is <b>const</b>.

       <b>prio_args</b>        Arguments to pass to to the prio function. This only applies to certain prioritizers:

                        <u>weighted</u>    Needs  a  value  of  the  form  <u>"&lt;hbtl|devname|serial|wwn&gt;</u>  <u>&lt;regex1&gt;</u> <u>&lt;prio1&gt;</u>
                                    <u>&lt;regex2&gt;</u> <u>&lt;prio2&gt;</u> <u>..."</u>

                                    <u>hbtl</u>    Regex can be of SCSI H:B:T:L format. For example: 1:0:.:. , *:0:0:.

                                    <u>devname</u> Regex can be of device name format. For example: sda , sd.e

                                    <u>serial</u>  Regex can be of serial number format. For example: .*J1FR.*324 . The
                                            serial can be looked up through sysfs or by running multipathd  show
                                            paths format "%z". For example: 0395J1FR904324

                                    <u>wwn</u>     Regex          can          be          of          the         form
                                            <u>"host_wwnn:host_wwpn:target_wwnn:target_wwpn"</u> these  values  can  be
                                            looked  up  through sysfs or by running <u>multipathd</u> <u>show</u> <u>paths</u> <u>format</u>
                                            <u>"%N:%R:%n:%r"</u>.                     For                      example:
                                            0x200100e08ba0aea0:0x210100e08ba0aea0:.*:.*                        ,
                                            .*:.*:iqn.2009-10.com.redhat.msp.lab.ask-06:.*

                        <u>path_latency</u>
                                    Needs a value of the form "io_num=<u>&lt;20&gt;</u> base_num=<u>&lt;10&gt;</u>"

                                    <u>io_num</u>  The number of read IOs sent to the current path  continuously,  used
                                            to  calculate the average path latency.  Valid Values: Integer, [20,
                                            200].

                                    <u>base_num</u>
                                            The base number  value  of  logarithmic  scale,  used  to  partition
                                            different  priority  ranks. Valid Values: Double-precision floating-
                                            point, [1.1, 10]. And Max average latency value is 100s, min average
                                            latency value is 1us.  For example: If base_num=10, the  paths  will
                                            be  grouped in priority groups with path latency &lt;=1us, (1us, 10us],
                                            (10us, 100us], (100us, 1ms], (1ms,  10ms],  (10ms,  100ms],  (100ms,
                                            1s], (1s, 10s], (10s, 100s], &gt;100s.

                        <u>alua</u>        If  <u>exclusive_pref_bit</u>  is  set,  paths with the <u>preferred</u> <u>path</u> bit set will
                                    always be in their own path group.

                        <u>sysfs</u>       If <u>exclusive_pref_bit</u> is set, paths with the <u>preferred</u>  <u>path</u>  bit  set  will
                                    always be in their own path group.

                        <u>datacore</u>

                                    <u>preferredsds</u>
                                            (Mandatory) The preferred "SDS name".

                                    <u>timeout</u> (Optional) The timeout for the INQUIRY, in ms.

                        <u>iet</u>

                                    <u>preferredip=...</u>
                                            (Mandatory) Th preferred IP address, in dotted decimal notation, for
                                            iSCSI targets.

                        The default is: <b>&lt;unset&gt;</b>

       <b>features</b>         Specify  any  device-mapper  features  to  be  used. Syntax is <u>num</u> <u>list</u> where <u>num</u> is the
                        number, between 0 and 8, of features in <u>list</u>.  Possible values for the feature list are:

                        <u>queue_if_no_path</u>
                                    (Deprecated, superseded by <u>no_path_retry</u>) Queue I/O if no  path  is  active.
                                    Identical  to  the  <u>no_path_retry</u> with <u>queue</u> value. If both this feature and
                                    <u>no_path_retry</u> are set, the latter value takes precedence. See KNOWN ISSUES.

                        <u>pg_init_retries</u> <u>&lt;times&gt;</u>
                                    (Since kernel 2.6.24) Number of times to retry pg_init, it must be between 1
                                    and 50.

                        <u>pg_init_delay_msecs</u> <u>&lt;msecs&gt;</u>
                                    (Since kernel 2.6.38) Number of msecs  before  pg_init  retry,  it  must  be
                                    between 0 and 60000.

                        <u>queue_mode</u> <u>&lt;mode&gt;</u>
                                    (Since  kernel  4.8)  Select the queueing mode per multipath device.  &lt;mode&gt;
                                    can be <u>bio</u>, <u>rq</u> or <u>mq</u>, which corresponds  to  bio-based,  request-based,  and
                                    block-multiqueue  (blk-mq)  request-based, respectively.  Before kernel 4.20
                                    The default depends on the kernel parameter <b>dm_mod.use_blk_mq</b>. It is  <u>mq</u>  if
                                    the  latter  is  set,  and  <u>rq</u>  otherwise. Since kernel 4.20, <u>rq</u> and <u>mq</u> both
                                    correspond to block-multiqueue. Once a multipath device  has  been  created,
                                    its  queue_mode  cannot  be  changed.  <u>nvme:tcp</u>  paths are only supported in
                                    multipath devices with queue_mode set to <u>bio</u>. multipath  will  automatically
                                    set this when creating a device with <u>nvme:tcp</u> paths.

                        The default is: <b>0</b>

       <b>path_checker</b>     The  default  method  used  to determine the path's state. The synchronous checkers (all
                        except <u>tur</u> and <u>directio</u>) will cause multipathd to pause most  activity,  waiting  up  to
                        <u>checker_timeout</u>  seconds  for  the  path  to respond. The asynchronous checkers (<u>tur</u> and
                        <u>directio</u>) will not pause multipathd. Instead, multipathd will check for a response  once
                        per second, until <u>checker_timeout</u> seconds have elapsed. Possible values are:

                        <u>readsector0</u> (Deprecated)  Read  the  first  sector  of the device. This checker is being
                                    deprecated, please use <u>tur</u> or <u>directio</u> instead.

                        <u>tur</u>         (Hardware-dependent) Issue a <u>TEST</u> <u>UNIT</u> <u>READY</u> command to a SCSI device.

                        <u>emc_clariion</u>
                                    (Hardware-dependent) Query the DGC/EMC specific EVPD page 0xC0 to  determine
                                    the path state for CLARiiON CX/AX and EMC VNX and Unity arrays families.

                        <u>hp_sw</u>       (Hardware-dependent)  Check  the  path  state  for  HP/COMPAQ/DEC  HSG80 and
                                    MSA/HSV arrays with Active/Standby mode exclusively.

                        <u>rdac</u>        (Hardware-dependent) Check the path state for LSI/Engenio/NetApp RDAC  class
                                    as NetApp SANtricity E/EF Series, and rebranded arrays.

                        <u>directio</u>    Read  the  first  sector  with direct I/O. This checker could cause spurious
                                    path failures under high load.  Increasing  <u>checker_timeout</u>  can  help  with
                                    this.

                        <u>cciss_tur</u>   (Hardware-dependent)  Check  the path state for HP/COMPAQ Smart Array(CCISS)
                                    controllers.

                        <u>none</u>        Do not check the device, fallback to use the values retrieved from sysfs

                        The default is: <b>tur</b>

       <b>alias_prefix</b>     The <u>user_friendly_names</u> prefix.

                        The default is: <b>mpath</b>

       <b>failback</b>         Tell multipathd how to manage path group failback.  To select <u>immediate</u> or a <u>value</u>, it's
                        mandatory that the device has support for a working prioritizer.

                        <u>immediate</u>   Immediately failback to the highest priority pathgroup that contains  active
                                    paths.

                        <u>manual</u>      Do not perform automatic failback.

                        <u>followover</u>  Used  to  deal  with  multiple  computers  accessing the same Active/Passive
                                    storage devices. Only perform automatic failback when the first  path  of  a
                                    pathgroup  becomes  active.  This  keeps  a  cluster node from automatically
                                    failing back when another node requested the failover.

                        <u>values</u> <u>&gt;</u> <u>0</u>  Deferred failback (time to defer in seconds).

                        The default is: <b>manual</b>

       <b>rr_min_io</b>        Number of I/O requests to route to a path before switching to the next in the same  path
                        group.  This  is  only  for <u>Block</u> <u>I/O</u>(BIO) based multipath and only apply to <u>round-robin</u>
                        path_selector.

                        The default is: <b>1000</b>

       <b>rr_min_io_rq</b>     Number of I/O requests to route to a path before switching to the next in the same  path
                        group.  This  is  only  for  <u>Request</u>  based  multipath  and  only  apply  to <u>round-robin</u>
                        path_selector.

                        The default is: <b>1</b>

       <b>max_fds</b>          Specify the maximum number of file descriptors that  can  be  opened  by  multipath  and
                        multipathd.  This is equivalent to ulimit -n. A value of <u>max</u> will set this to the system
                        limit from <u><a href="file:/proc/sys/fs/nr_open">/proc/sys/fs/nr_open</a></u>. If this is not set, the maximum  number  of  open  file
                        descriptors  is  taken  from  the  calling process. It is usually 1024. To be safe, this
                        should be set to the maximum number of paths plus 32, if that  number  is  greater  than
                        1024.

                        The default is: <b>max</b>

       <b>rr_weight</b>        If set to <u>priorities</u> the multipath configurator will assign path weights as "path prio *
                        rr_min_io".  Possible  values  are  <u>priorities</u>  or  <u>uniform</u> <u>.</u>  Only apply to <u>round-robin</u>
                        path_selector.

                        The default is: <b>uniform</b>

       <b>no_path_retry</b>    Specify what to do when all paths are down. Possible values are:

                        <u>value</u> <u>&gt;</u> <u>0</u>   Number of retries until disable I/O queueing.

                        <u>fail</u>        For immediate failure (no I/O queueing).

                        <u>queue</u>       For never stop I/O queueing, similar to <u>queue_if_no_path</u>. See KNOWN ISSUES.

                        The default is: <b>fail</b>

       <b>queue_without_daemon</b>
                        If set to <u>no</u> , when multipathd stops, queueing will be turned off for all devices.  This
                        is useful for devices that set no_path_retry. If a machine is shut down while all  paths
                        to  a  device are down, it is possible to hang waiting for I/O to return from the device
                        after multipathd has been stopped. Without  multipathd  running,  access  to  the  paths
                        cannot  be  restored,  and  the  kernel  cannot  be  told  to stop queueing I/O. Setting
                        queue_without_daemon to <u>no</u> , avoids this problem.

                        The default is: <b>no</b>

       <b>checker_timeout</b>  Specify the timeout to use  for  path  checkers  and  prioritizers,  in  seconds.   Only
                        prioritizers  that  issue scsi commands use checker_timeout.  If a path does not respond
                        to the checker command after <u>checker_timeout</u> seconds  have  elapsed,  it  is  considered
                        down.

                        The default is: in <b><a href="file:/sys/block/">/sys/block/</a>&lt;dev&gt;/device/timeout</b>

       <b>allow_usb_devices</b>
                        If  set  to <u>no</u> , all USB devices will be skipped during path discovery. If you intend to
                        use multipath on USB attached devices, set this to <u>yes</u>.

                        The default is: <b>no</b>

       <b>flush_on_last_del</b>
                        If set to <u>always</u> , multipathd will disable queueing when the last path to a  device  has
                        been  deleted. If set to <u>never</u> , multipathd will not disable queueing when the last path
                        to a device has been deleted. Since  multipath  cannot  safely  remove  a  device  while
                        queueing  is enabled, setting this to <u>never</u> means that multipathd will not automatically
                        remove an unused multipath device whose paths are all deleted if it is currently set  to
                        queue_if_no_path. If set to <u>unused</u> , multipathd will only disable queueing when the last
                        path  is  removed  if  nothing  currently  has the multipath device or any of the kpartx
                        partition devices on top of it open.

                        The default is: <b>unused</b>

       <b>user_friendly_names</b>
                        If set to <u>yes</u> , using the bindings file <u>/etc/multipath/bindings</u> to assign  a  persistent
                        and unique alias to the multipath, in the form of mpath&lt;n&gt;. If set to <u>no</u> use the WWID as
                        the  alias.  In  either  case  this be will be overridden by any specific aliases in the
                        <u>multipaths</u> section.

                        The default is: <b>no</b>

       <b>fast_io_fail_tmo</b> Specify the number of seconds the SCSI layer will wait after a problem has been detected
                        on a FC remote port before failing I/O to devices on that remote port.  This  should  be
                        smaller than dev_loss_tmo. Setting this to <u>off</u> will disable the timeout.

                        The default is: <b>5</b>

       <b>dev_loss_tmo</b>     Specify  the number of seconds the SCSI layer will wait after a connection loss has been
                        detected on a remote port before removing it  from  the  system.  This  can  be  set  to
                        "infinity",  which effectively means 136 years (2^32-1 seconds).  This parameter is only
                        applied to Fibre Channel and SAS devices.

                        The value of <u>dev_loss_tmo</u> is restricted by other settings.  If <u>fast_io_fail_tmo</u>  is  set
                        to  a positive value, <b>multipathd</b> will make sure that the value of <u>dev_loss_tmo</u> is larger
                        than <u>no_path_retry</u> * <u>polling_interval</u>.  If  <u>fast_io_fail_tmo</u>  is  not  set,  the  kernel
                        limits  the  <u>dev_loss_tmo</u> value to 600 seconds.  In this case, the user has to make sure
                        that <u>no_path_retry</u> is smaller  than  <u>dev_loss_tmo</u>  <u>/</u>  <u>polling_interval</u>.  In  particular,
                        <u>no_path_retry</u> must not be set to "<u>queue</u>". See KNOWN ISSUES.

                        When  path devices reappear after a connection loss, it is much easier for the kernel to
                        simply reactivate an inactive device than to re-add a  previously  deleted  one.  It  is
                        therefore  recommended  to  set  <u>dev_loss_tmo</u>  to  a large value within the restrictions
                        mentioned above.

                        Fibre Channel and SAS devices have hardware-dependent defaults, which are left unchanged
                        if <u>dev_loss_tmo</u> is not specified. For a few storage arrays, the multipath-tools built-in
                        settings override the default. Run <u>multipath</u> <u>-T</u> to see the settings for your device.

                        The default is: <b>&lt;hardware</b> <b>dependent&gt;</b>

       <b>eh_deadline</b>      Specify the maximum number of seconds the SCSI layer will  spend  doing  error  handling
                        when scsi devices fail. After this timeout the scsi layer will perform a full HBA reset.
                        Setting   this   may   be  necessary  in  cases  where  the  rport  is  never  lost,  so
                        <u>fast_io_fail_tmo</u> and <u>dev_loss_tmo</u> will never trigger, but (frequently due to load)  scsi
                        commands  still  hang.  <b>Note:</b>  when  the  scsi error handler performs the HBA reset, all
                        target paths on that HBA will be affected. eh_deadline should only be set in cases where
                        all targets on the affected HBAs are multipathed.

                        The default is: <b>&lt;unset&gt;</b>

       <b>max_retries</b>      Specify the maximum number of times the SCSI layer will retry IO commands for some types
                        of SCSI errors before returning failure. Setting this can be helpful for cases where  IO
                        commands  hang  and timeout. By default, the SCSI layer will retry IOs 5 times. Reducing
                        this value will allow multipath to retry the IO down another path sooner.  Valid  values
                        are <b>0</b> through <b>5</b>.

                        The default is: <b>&lt;unset&gt;</b>

       <b>bindings_file</b>    (Deprecated) This option is not supported anymore, and will be ignored.

                        The compiled-in value is: <b>/etc/multipath/bindings</b>

       <b>wwids_file</b>       (Deprecated) This option is not supported anymore, and will be ignored.

                        The compiled-in value is: <b>/etc/multipath/wwids</b>

       <b>prkeys_file</b>      (Deprecated) This option is not supported anymore, and will be ignored.

                        The compiled-in value is: <b>/etc/multipath/prkeys</b>

       <b>log_checker_err</b>  If  set  to  <u>once</u> , multipathd logs the first path checker error at logging level 2. Any
                        later errors are logged at level 3 until the device is restored.  If  set  to  <u>always</u>  ,
                        multipathd always logs the path checker error at logging level 2.

                        The default is: <b>always</b>

       <b>reservation_key</b>  This  is the service action reservation key used by mpathpersist. It must be set for all
                        multipath devices using persistent  reservations,  and  it  must  be  the  same  as  the
                        RESERVATION  KEY  field  of  the PERSISTENT RESERVE OUT parameter list which contains an
                        8-byte value provided by the application client to the device server to identify the I_T
                        nexus. If the <u>--param-aptpl</u> option is used when registering the key  with  mpathpersist,
                        <b>:aptpl</b> must be appended to the end of the reservation key.

                        Alternatively,  this can be set to <b>file</b>, which will store the RESERVATION KEY registered
                        by mpathpersist in the <u>prkeys_file</u>. multipathd  will  then  use  this  key  to  register
                        additional  paths as they appear.  When the registration is removed, the RESERVATION KEY
                        is removed from the <u>prkeys_file</u>. The  prkeys  file  will  automatically  keep  track  of
                        whether the key was registered with <u>--param-aptpl</u>.

                        The default is: <b>&lt;unset&gt;</b>

       <b>all_tg_pt</b>        Set  the  'all  targets ports' flag when registering keys with mpathpersist. Some arrays
                        automatically set and clear registration keys on all target ports from a  host,  instead
                        of  per  target  port  per  host.  The  ALL_TG_PT  flag  must be set to successfully use
                        mpathpersist on these arrays. Setting this option is identical to  calling  mpathpersist
                        with <u>--param-alltgpt</u>

                        The default is: <b>no</b>

       <b>retain_attached_hw_handler</b>
                        (Obsolete  for  kernels  &gt;= 4.3) If set to <u>yes</u> and the SCSI layer has already attached a
                        hardware_handler to the  device,  multipath  will  not  force  the  device  to  use  the
                        hardware_handler  specified by /etc/multipath.conf. If the SCSI layer has not attached a
                        hardware handler, multipath will continue to use its configured hardware handler.

                        The default is: <b>yes</b>

                        <b>Important</b>   <b>Note:</b>   Linux   kernel   4.3    or    newer    always    behaves    as    if
                        <b>"retain_attached_hw_handler</b> <b>yes"</b> was set.

       <b>detect_prio</b>      If  set to <u>yes</u> , multipath will try to detect if the device supports SCSI-3 ALUA. If so,
                        the device will automatically use the <u>sysfs</u> prioritizer if the required sysfs attributes
                        <u>access_state</u> and <u>preferred_path</u> are supported, or the <u>alua</u> prioritizer if not. If set to
                        <u>no</u> , the prioritizer will be selected as usual.

                        The default is: <b>yes</b>

       <b>detect_checker</b>   if set to <u>yes</u> , multipath will try to detect if the device supports SCSI-3 ALUA. If  so,
                        the  device  will  automatically use the <u>tur</u> checker. If set to <u>no</u> , the checker will be
                        selected as usual.

                        The default is: <b>yes</b>

       <b>force_sync</b>       If set to <u>yes</u> , multipathd will call the path checkers in sync mode  only.   This  means
                        that  only  one  checker  will  run  at  a  time.  This is useful in the case where many
                        multipathd checkers running in parallel causes significant CPU pressure.

                        The default is: <b>no</b>

       <b>strict_timing</b>    If set to <u>yes</u> , multipathd will start a new path checker loop after exactly one  second,
                        so  that each path check will occur at exactly <u>polling_interval</u> seconds. On busy systems
                        path checks might take longer than one second; here the missing ticks will be  accounted
                        for  on  the  next  round.   A  warning  will be printed if path checks take longer than
                        <u>polling_interval</u> seconds.

                        The default is: <b>no</b>

       <b>deferred_remove</b>  If set to <u>yes</u> , multipathd will do a deferred remove instead of a  regular  remove  when
                        the last path device has been deleted.  This means that if the multipath device is still
                        in  use,  it  will  be  freed  when  the  last  user closes it.  If path is added to the
                        multipath device before the last user closes it, the deferred remove will be canceled.

                        The default is: <b>no</b>

       <b>partition_delimiter</b>
                        This parameter controls  how  multipath  chooses  the  names  of  partition  devices  of
                        multipath  maps if a multipath map is renamed (e.g. if a map alias is added or changed).
                        If this parameter is set to a string other  than  "/UNSET/"  (even  the  empty  string),
                        multipath  inserts that string between device name and partition number to construct the
                        partition device name.  Otherwise (i.e. if this parameter is  unset  or  has  the  value
                        "/UNSET/"),  the  behavior  depends  on  the  map  name: if it ends in a digit, a <u>"p"</u> is
                        inserted between name and partition number; otherwise, the partition  number  is  simply
                        appended.  Distributions may use a non-null default value for this option; in this case,
                        the user must set it to "/UNSET/" to obtain the original <b>&lt;unset&gt;</b> behavior. Use <u>multipath</u>
                        <u>-T</u> to check the current settings.

                        The default is: <b>&lt;unset&gt;</b>

       <b>config_dir</b>       (Deprecated) This option is not supported anymore, and will be ignored.

                        The compiled-in value is: <b>/etc/multipath/conf.d</b>

       <b>san_path_err_threshold</b>
                        If set to a value greater than 0, multipathd will watch paths and check how many times a
                        path  has  been  failed  due to errors.If the number of failures on a particular path is
                        greater  than  the  san_path_err_threshold,  then  the  path  will  not  reinstate  till
                        san_path_err_recovery_time.    These    path    failures    should    occur   within   a
                        san_path_err_forget_rate checks, if not we will consider the  path  is  good  enough  to
                        reinstate. See "Shaky paths detection" below.

                        The default is: <b>no</b>

       <b>san_path_err_forget_rate</b>
                        If  set  to  a value greater than 0, multipathd will check whether the path failures has
                        exceeded     the    san_path_err_threshold    within    this     many     checks     i.e
                        san_path_err_forget_rate   .   If   so   we   will   not   reinstate   the   path   till
                        san_path_err_recovery_time. See "Shaky paths detection" below.

                        The default is: <b>no</b>

       <b>san_path_err_recovery_time</b>
                        If set to a value greater than 0, multipathd will make sure that when path failures  has
                        exceeded  the  san_path_err_threshold within san_path_err_forget_rate then the path will
                        be   placed   in   failed    state    for    san_path_err_recovery_time    duration.Once
                        san_path_err_recovery_time   has   timeout    we   will  reinstate  the  failed  path  .
                        san_path_err_recovery_time value should be in secs.  See "Shaky paths detection" below.

                        The default is: <b>no</b>

       <b>marginal_path_double_failed_time</b>
                        One of the four parameters of supporting path check based on accounting IO error such as
                        intermittent    error.    When    a    path    failed    event    occurs    twice     in
                        <u>marginal_path_double_failed_time</u>  seconds  due  to  an  IO error and all the other three
                        parameters are set, multipathd will fail the path and enqueue this path into a queue  of
                        which members are sent a couple of continuous direct reading asynchronous IOs at a fixed
                        sample  rate  of  10HZ to start IO error accounting process. See "Shaky paths detection"
                        below.

                        The default is: <b>no</b>

       <b>marginal_path_err_sample_time</b>
                        One of the four parameters of supporting path check based on accounting IO error such as
                        intermittent error. If it is set to a value no less than 120, when  a  path  fail  event
                        occurs  twice  in <u>marginal_path_double_failed_time</u> second due to an IO error, multipathd
                        will fail the path and enqueue this path into a queue of which members are sent a couple
                        of continuous direct reading asynchronous IOs at a fixed sample rate of  10HZ  to  start
                        the  IO accounting process for the path will last for <u>marginal_path_err_sample_time</u>.  If
                        the   rate   of   IO   error   on   a   particular   path   is    greater    than    the
                        <u>marginal_path_err_rate_threshold</u>,    then    the    path    will   not   reinstate   for
                        <u>marginal_path_err_recheck_gap_time</u> seconds unless there is only one active  path.  After
                        <u>marginal_path_err_recheck_gap_time</u> expires, the path will be requeued for rechecking. If
                        checking result is good enough, the path will be reinstated. See "Shaky paths detection"
                        below.

                        The default is: <b>no</b>

       <b>marginal_path_err_rate_threshold</b>
                        The  error  rate  threshold  as  a  permillage  (1/1000).  One of the four parameters of
                        supporting path check based on accounting IO error such as intermittent error. Refer  to
                        <u>marginal_path_err_sample_time</u>.  If the rate of IO errors on a particular path is greater
                        than    this    parameter,    then    the    path     will     not     reinstate     for
                        <u>marginal_path_err_recheck_gap_time</u>  seconds  unless  there  is only one active path. See
                        "Shaky paths detection" below.

                        The default is: <b>no</b>

       <b>marginal_path_err_recheck_gap_time</b>
                        One of the four parameters of supporting path check based on accounting IO error such as
                        intermittent error. Refer to <u>marginal_path_err_sample_time</u>. If this parameter is set  to
                        a  positive  value,  the  failed  path  of   which  the  IO  error  rate  is larger than
                        <u>marginal_path_err_rate_threshold</u>    will    be    kept    in    failed     state     for
                        <u>marginal_path_err_recheck_gap_time</u>   seconds.   When  <u>marginal_path_err_recheck_gap_time</u>
                        seconds expires, the path will be requeued for checking.  If  checking  result  is  good
                        enough,  the  path  will  be  reinstated,  or else it will keep failed. See "Shaky paths
                        detection" below.

                        The default is: <b>no</b>

       <b>delay_watch_checks</b>
                        (Deprecated) This option is <b>deprecated</b>, and mapped to <u>san_path_err_forget_rate</u>.  If this
                        is  set  to  a  value  greater  than  0   and   no   <u>san_path_err</u>   options   are   set,
                        <u>san_path_err_forget_rate</u>   will   be   set   to  the  value  of  <u>delay_watch_checks</u>  and
                        <u>san_path_err_threshold</u>  will  be  set  to  1.   See  the  <u>san_path_err_forget_rate</u>   and
                        <u>san_path_err_threshold</u> options, and "Shaky paths detection" below for more information.

                        The default is: <b>no</b>

       <b>delay_wait_checks</b>
                        (Deprecated)  This  option  is <b>deprecated</b>, and mapped to <u>san_path_err_recovery_time</u>.  If
                        this  is  set  to  a  value  greater  than  0  and  no  <u>san_path_err</u>  options  are  set,
                        <u>san_path_err_recovery_time</u>   will  be  set  to  the  value  of  <u>delay_wait_checks</u>  times
                        <u>max_polling_interval</u>.  This  will   give   approximately   the   same   wait   time   as
                        delay_wait_checks  previously  did.   Also, <u>san_path_err_threshold</u> will be set to 1. See
                        the <u>san_path_err_recovery_time</u> and  <u>san_path_err_threshold</u>  options,  and  "Shaky  paths
                        detection" below for more information.

                        The default is: <b>no</b>

       <b>marginal_pathgroups</b>
                        If set to <u>off</u>, the <u>delay_*_checks</u>, <u>marginal_path_*</u>, and <u>san_path_err_*</u> options will keep
                        marginal,  or  "shaky",  paths  from being reinstated until they have been monitored for
                        some time. This can cause situations where all non-marginal paths are down, and no paths
                        are usable until multipathd  detects  this  and  reinstates  a  marginal  path.  If  the
                        multipath  device  is not configured to queue IO in this case, it can cause IO errors to
                        occur, even though there are marginal paths available.  However, if this option  is  set
                        to  <u>on</u>,  when  one  of  the  marginal  path  detecting methods determines that a path is
                        marginal, it will be reinstated and placed in a separate pathgroup  that  will  only  be
                        used  after  all  the  non-marginal  pathgroups have been tried first. This prevents the
                        possibility of IO errors occurring while marginal paths are still usable. After the path
                        has been monitored for the configured time, and is declared healthy, it will be returned
                        to its normal pathgroup.  If this option is set to <u>fpin</u>, multipathd  will  receive  fpin
                        notifications, set path states to "marginal" accordingly, and regroup paths as described
                        for  <u>on</u>.  This  option  can't  be used in combination with other options for "Shaky path
                        detection" (see  below).  <b>Note:</b>  If  this  is  set  to  <u>fpin</u>,  the  <u>marginal_path_*</u>  and
                        <u>san_path_err_*</u>  options  are  implicitly set to <u>no</u>. Also, this option cannot be switched
                        either to or from <u>fpin</u> on a multipathd reconfigure. multipathd must be restarted for the
                        change to take effect.  See "Shaky paths detection" below for more information.

                        The default is: <b>off</b>

       <b>find_multipaths</b>  This option controls whether multipath and multipathd try to create multipath maps  over
                        non-blacklisted  devices they encounter. This matters a) when a device is encountered by
                        <b>multipath</b> <b>-u</b> during udev rule processing (a device is blocked from further processing by
                        higher layers - such as LVM - if and only if its considered a  valid  multipath  device
                        path), and b) when multipathd detects a new device. The following values are possible:

                        <u>strict</u>    Both  multipath  and  multipathd  treat only such devices as multipath devices
                                  which have been part of a multipath map previously, and  which  are  therefore
                                  listed  in  the <b>wwids_file</b>. Users can manually set up multipath maps using the
                                  <b>multipathd</b> <b>add</b> <b>map</b> command. Once set up manually, the map is remembered in the
                                  wwids file and will be set up automatically in the future.

                        <u>off</u>       Multipath behaves like <b>strict</b>. Multipathd behaves like <b>greedy</b>.   <u>no</u>  or  <u>0</u>  is
                                  accepted as an alias for <u>off</u>.

                        <u>on</u>        Both  multipathd  and  multipath  treat  a  device  as multipath device if the
                                  conditions for <b>strict</b> are met, or if at least two non-blacklisted  paths  with
                                  the same WWID have been detected. <u>yes</u> or <u>1</u> is accepted as an alias for <u>on</u>.

                        <u>greedy</u>    Both  multipathd and multipath treat every non-blacklisted device as multipath
                                  device path.

                        <u>smart</u>     This differs from <u>find_multipaths</u> <u>yes</u> only in the way it  treats  new  devices
                                  for  which  only  one  path has been detected yet. When such a device is first
                                  encountered in udev rules, it is treated as  a  multipath  device.  multipathd
                                  waits whether additional paths with the same WWID appears. If that happens, it
                                  sets  up  a multipath map. If it doesnt happen until a timeout expires, or if
                                  setting up the map fails, a new uevent is triggered for the device; at  second
                                  encounter  in  the udev rules, the device will be treated as non-multipath and
                                  passed on to  upper  layers.   <b>Note:</b>  this  may  cause  delays  during  device
                                  detection if there are single-path devices which arent blacklisted.

                        The default is: <b>strict</b>

       <b>find_multipaths_timeout</b>
                        Timeout,  in  seconds,  to  wait  for additional paths after detecting the first one, if
                        <u>find_multipaths</u> <u>"smart"</u> (see above) is set. If the value is <b>positive</b>,  this  timeout  is
                        used  for  all  unknown,  non-blacklisted  devices encountered. If the value is <b>negative</b>
                        (recommended), it's only applied to "known" devices that have an  entry  in  multipath's
                        hardware  table,  either in the built-in table or in a <u>device</u> section; other ("unknown")
                        devices will use a timeout of only 1 second to avoid booting delays. The value  0  means
                        "use  the built-in default". If <u>find_multipath</u> has a value other than <u>smart</u>, this option
                        has no effect.

                        The default is: <b>-10</b> (10s for known and 1s for unknown hardware)

       <b>uxsock_timeout</b>   CLI receive timeout in milliseconds. For  larger  systems  CLI  commands  might  timeout
                        before  the  multipathd lock is released and the CLI command can be processed. This will
                        result in errors like "timeout receiving packet" to be returned from CLI  commands.   In
                        these cases it is recommended to increase the CLI timeout to avoid those issues.

                        The default is: <b>4000</b>

       <b>retrigger_tries</b>  Sets the number of times multipathd will try to retrigger a uevent to get the WWID.

                        The default is: <b>3</b>

       <b>retrigger_delay</b>  Sets the amount of time, in seconds, to wait between retriggers.

                        The default is: <b>10</b>

       <b>missing_uev_wait_timeout</b>
                        Controls how many seconds multipathd will wait, after a new multipath device is created,
                        to receive a change event from udev for the device, before automatically enabling device
                        reloads.  Usually  multipathd  will delay reloads on a device until it receives a change
                        uevent from the initial table load.

                        The default is: <b>30</b>

       <b>skip_kpartx</b>      If set to <u>yes</u> , kpartx will not automatically create partitions on the device.

                        The default is: <b>no</b>

       <b>disable_changed_wwids</b>
                        (Deprecated) This option is not supported anymore, and will be ignored.

       <b>remove_retries</b>   This sets how may times multipath will retry removing a device that is in-use.   Between
                        each attempt, multipath will sleep 1 second.

                        The default is: <b>0</b>

       <b>max_sectors_kb</b>   Sets  the  <u>max_sectors_kb</u> device parameter on some path devices and the multipath device
                        to the specified value. <u>max_sectors_kb</u> is the largest I/O size, in units of 1024  bytes,
                        that  the  kernel allows for a single I/O request. For hardware devices like SCSI disks,
                        this value is limited by the capabilities of the hardware.  It is crucial that the value
                        of a multipath map is never higher than the minimum value of of all  its  path  devices.
                        This  is  ensured  by  the  kernel  when a multipath map is loaded, but manipulating the
                        values of a map or either of its paths while the map is live can cause  race  conditions
                        and I/O errors. Therefore this value is only enforced by multipathd when a multipath map
                        is  first  created,  or  when  a  path  device  is  added  to a map. In both cases, race
                        conditions are avoided by the kernel.

                        Setting <u>max_sectors_kb</u> does not guarantee that all path devices  will  have  this  value
                        set.  It  is  not  an  error  if  the  value of a path device is higher than that of the
                        containing multipath map. It is also not an error if the actual limit of a map is  lower
                        than  the value in <u><a href="file:/etc/multipath.conf">/etc/multipath.conf</a></u>. This can happen if the hardware limits of one or
                        more path devices are lower than the configured value.

                        Normally the kernel and its device drivers take  care  of  the  maximum  I/O  size,  and
                        administrators  do  not  need to bother about <u>max_sectors_kb</u>.  But some hardware devices
                        may report incorrect I/O size limits, or other components in the environment  (e.g.  the
                        fabric)  may  impose  constraints  that  the kernel cannot detect. In such cases setting
                        <u>max_sectors_kb</u> makes sense. It should be set when maps are first  created,  and  not  be
                        changed  thereafter.   If  the  setting <b>must</b> be changed for a live map, set the value in
                        <u><a href="file:/etc/multipath.conf">/etc/multipath.conf</a></u>, run <b>multipathd</b> <b>reconfigure</b>, and use <b>multipathd</b> <b>del</b> <b>path</b> <b>&lt;path&gt;</b>  and
                        <b>multipathd</b> <b>add</b> <b>path</b> <b>&lt;path&gt;</b> to delete and re-add the same path device.

                        The default is: <b>&lt;undefined&gt;</b>

       <b>ghost_delay</b>      Sets  the  number  of seconds that multipath will wait after creating a device with only
                        ghost paths before marking it ready for use in systemd. This gives the active paths time
                        to appear before the multipath runs the hardware handler to switch the  ghost  paths  to
                        active ones. Setting this to <u>0</u> or <u>no</u> makes multipath immediately mark a device with only
                        ghost paths as ready.

                        The default is: <b>no</b>

       <b>auto_resize</b>      Controls when multipathd will automatically resize a multipath device.  If set to <u>never</u>,
                        multipath  devices  must  always be manually resized by either running <b>multipathd</b> <b>resize</b>
                        <b>map</b> <b>&lt;name&gt;</b>.  If set to <u>grow_only</u>, when  multipathd  detects  that  all  of  a  multipath
                        device's  paths  have increased in size, it will automatically grow the multipath device
                        to the new size. If set to <u>grow_shrink</u>, multipathd will also  automatically  shrink  the
                        device once it detects all of its paths have decreased in size.

                        The default is: <b>never</b>

       <b>enable_foreign</b>   Enables or disables foreign libraries (see section <u>FOREIGN</u> <u>MULTIPATH</u> <u>SUPPORT</u> below). The
                        value  is a regular expression; foreign libraries are loaded if their name (e.g. "nvme")
                        matches the expression. By default, no foreign libraries are enabled. Set this to "nvme"
                        to enable NVMe native multipath support, or ".*" to enable all foreign libraries.

                        The default is: <b>"NONE"</b>

       <b>recheck_wwid</b>     If set to <u>yes</u>, when a failed path is restored, its wwid is rechecked. If  the  wwid  has
                        changed,  the  path  is removed from the current multipath device, and re-added as a new
                        path. Multipathd will also recheck a path's wwid if it is manually re-added. This option
                        only works for SCSI devices that  are  configured  to  use  the  default  uid_attribute,
                        <u>ID_SERIAL</u>, or sysfs for getting their wwid.

                        The default is: <b>no</b>

</pre><h4><b>blacklist</b> <b>and</b> <b>blacklist_exceptions</b> <b>sections</b></h4><pre>
       The  <u>blacklist</u>  section  is  used  to  exclude  specific  devices from the multipath topology. It is most
       commonly used to exclude local disks or non-disk devices (such as LUNs for the storage array  controller)
       from being handled by multipath-tools.

       In  the <u>blacklist</u> and <u>blacklist_exceptions</u> sections, starting a quoted value with an exclamation mark <b>"!"</b>
       will invert the matching of the rest of the regular expression. For instance, <b>"!^sd[a-z]"</b> will match  all
       values that do not start with <b>"sd[a-z]"</b>. The exclamation mark can be escaped <b>"\!"</b> to match a literal <b>!</b> at
       the start of a regular expression. <b>Note:</b> The exclamation mark must be inside quotes, otherwise it will be
       treated as starting a comment.

       The  <u>blacklist_exceptions</u> section is used to revert the actions of the <u>blacklist</u> section. This allows one
       to selectively include ("whitelist") devices which would normally be excluded via the <u>blacklist</u>  section.
       A  common  usage  is  to blacklist "everything" using a catch-all regular expression, and create specific
       blacklist_exceptions entries for those devices that should be handled by multipath-tools.

       The following keywords are recognized in both sections. The defaults are empty unless explicitly stated.

       <b>devnode</b>          Regular expression matching the device nodes to be excluded/included.

                        The  default  <u>blacklist</u>  consists  of   the   regular   expression   <b>"!^(sd[a-z]|dasd[a-</b>
                        <b>z]|nvme[0-9])"</b>.  This  causes  all  device  types  other than scsi, dasd, and nvme to be
                        excluded from multipath handling by default.

       <b>wwid</b>             Regular expression for the <u>World</u> <u>Wide</u> <u>Identifier</u> of a device to be excluded/included.

       <b>device</b>           Subsection for the device description. This subsection recognizes the <b>vendor</b> and <b>product</b>
                        keywords. Both are regular expressions. For a full description of these keywords  please
                        see the <u>devices</u> section description.

       <b>property</b>         Regular  expression for an udev property. All devices that have matching udev properties
                        will be excluded/included.  The handling of the <u>property</u>  keyword  is  special,  because
                        devices  <b>must</b>  have at least one whitelisted udev property; otherwise they're treated as
                        blacklisted, and the message "<u>blacklisted,</u> <u>udev</u> <u>property</u> <u>missing</u>" is  displayed  in  the
                        logs.

                        <b>Note:</b>  The  behavior  of  this  option  has changed in <b>multipath-tools</b> 0.8.2 compared to
                        previous versions.  Blacklisting by missing properties is only applied to devices  which
                        do have the property specified by <u>uid_attribute</u> (e.g. <u>ID_SERIAL</u>) set. Previously, it was
                        applied to every device, possibly causing devices to be blacklisted because of temporary
                        I/O error conditions.

                        The  default  <u>blacklist</u>  <u>exception</u>  is:  <b>(SCSI_IDENT_|ID_WWN)</b>, causing well-behaved SCSI
                        devices and devices that provide a WWN (World Wide  Number)  to  be  included,  and  all
                        others to be excluded.

       <b>protocol</b>         Regular expression for the protocol of a device to be excluded/included.

                        The  protocol  strings  that  multipath  recognizes  are  <u>scsi:fcp</u>,  <u>scsi:spi</u>, <u>scsi:ssa</u>,
                        <u>scsi:sbp</u>, <u>scsi:srp</u>, <u>scsi:iscsi</u>, <u>scsi:sas</u>, <u>scsi:adt</u>,  <u>scsi:ata</u>,  <u>scsi:unspec</u>,  <u>nvme:pcie</u>,
                        <u>nvme:rdma</u>,  <u>nvme:fc</u>,  <u>nvme:tcp</u>, <u>nvme:loop</u>, <u>nvme:apple-nvme</u>, <u>nvme:unspec</u>, <u>ccw</u>, <u>cciss</u>, and
                        <u>undef</u>.  The protocol that a path is using can be viewed by running <b>multipathd</b> <b>show</b> <b>paths</b>
                        <b>format</b> <b>"%d</b> <b>%P"</b>

       For every device, these 5 blacklist criteria are evaluated  in  the  order  "property,  devnode,  device,
       protocol, wwid". If a device turns out to be blacklisted by any criterion, it's excluded from handling by
       multipathd,  and  the  later  criteria  aren't evaluated anymore. For each criterion, the whitelist takes
       precedence over the blacklist if a device matches both.

       <b>Note:</b> Besides the blacklist and whitelist, other configuration options such as  <u>find_multipaths</u>  have  an
       impact on whether or not a given device is handled by multipath-tools.

</pre><h4><b>multipaths</b> <b>section</b></h4><pre>
       The  <u>multipaths</u>  section allows setting attributes of multipath maps. The attributes that are set via the
       multipaths section (see list below) take precedence over  all  other  configuration  settings,  including
       those from the <u>overrides</u> section.

       The  only  recognized  attribute  for  the  <u>multipaths</u>  section is the <u>multipath</u> subsection. If there are
       multiple <u>multipath</u> subsections matching a given WWID, the contents of  these  sections  are  merged,  and
       settings from later entries take precedence.

       The <u>multipath</u> subsection recognizes the following attributes:

       <b>wwid</b>             (Mandatory)  World  Wide  Identifier.  Detected  multipath maps are matched against this
                        attribute.  Note that, unlike the <u>wwid</u> attribute in the <u>blacklist</u> section, this is <b>not</b> a
                        regular expression or a substring;  WWIDs  must  match  exactly  inside  the  multipaths
                        section.

       <b>alias</b>            Symbolic  name for the multipath map. This takes precedence over a an entry for the same
                        WWID in the <u>bindings_file</u>.

       The following attributes are optional; if not set the  default  values  are  taken  from  the  <u>overrides</u>,
       <u>devices</u>, or <u>defaults</u> section:

              <b>path_grouping_policy</b>
              <b>path_selector</b>
              <b>prio</b>
              <b>prio_args</b>
              <b>failback</b>
              <b>rr_weight</b>
              <b>no_path_retry</b>
              <b>rr_min_io</b>
              <b>rr_min_io_rq</b>
              <b>flush_on_last_del</b>
              <b>features</b>
              <b>reservation_key</b>
              <b>user_friendly_names</b>
              <b>deferred_remove</b>
              <b>san_path_err_threshold</b>
              <b>san_path_err_forget_rate</b>
              <b>san_path_err_recovery_time</b>
              <b>marginal_path_err_sample_time</b>
              <b>marginal_path_err_rate_threshold</b>
              <b>marginal_path_err_recheck_gap_time</b>
              <b>marginal_path_double_failed_time</b>
              <b>delay_watch_checks</b>
              <b>delay_wait_checks</b>
              <b>skip_kpartx</b>
              <b>max_sectors_kb</b>
              <b>ghost_delay</b>

</pre><h4><b>devices</b> <b>section</b></h4><pre>
       <b>Important:</b>
           The built-in hardware device table of <u>multipath-tools</u> is created by members of the Linux community in
           the  hope  that  it  will  be  useful.   The existence of an entry for a given storage product in the
           hardware table <b>does</b> <b>not</b> <b>imply</b> that the product vendor supports,  or  has  tested,  the  product  with
           <u>multipath-tools</u>  in  any way.  <b>Always</b> <b>consult</b> <b>the</b> <b>vendor's</b> <b>official</b> <b>documentation</b> <b>for</b> <b>support-related</b>
           <b>information.</b>

       <u>multipath-tools</u> have a built-in device table with reasonable defaults for more than 100 known  multipath-
       capable  storage  devices.  The  devices  section  can  be  used to override these settings. If there are
       multiple matches for a given device, the attributes of all matching entries are applied  to  it.   If  an
       attribute  is  specified  in  several  matching  device subsections, later entries take precedence. Thus,
       entries in files under <u>config_dir</u> (in reverse alphabetical order) have the highest  precedence,  followed
       by  entries  in  <u><a href="file:/etc/multipath.conf">/etc/multipath.conf</a></u>;  the  built-in  hardware  table has the lowest precedence. Inside a
       configuration file, later entries have higher precedence than earlier ones.

       The only recognized attribute for the <u>devices</u> section is the <u>device</u> subsection. Devices detected  in  the
       system  are  matched against the device entries using the <b>vendor</b>, <b>product</b>, and <b>revision</b> fields, which are
       all POSIX Extended regular expressions (see <b><a href="../man7/regex.7.html">regex</a></b>(7)).

       The vendor, product, and revision fields that multipath or multipathd detect  for  devices  in  a  system
       depend on the device type. For SCSI devices, they correspond to the respective fields of the SCSI INQUIRY
       page.  In  general,  the  command  '<u>multipathd</u>  <u>show</u> <u>paths</u> <u>format</u> <u>"%d</u> <u>%s"</u>' command can be used to see the
       detected properties for all devices in the system.

       The <u>device</u> subsection recognizes the following attributes:

       <b>vendor</b>           (Mandatory) Regular expression to match the vendor name.

       <b>product</b>          (Mandatory) Regular expression to match the product name.

       <b>revision</b>         Regular expression to match  the  product  revision.  If  not  specified,  any  revision
                        matches.

       <b>product_blacklist</b>
                        Products  with the given <b>vendor</b> matching this string are blacklisted. This is equivalent
                        to a <b>device</b> entry in the <u>blacklist</u> section with the <u>vendor</u> attribute set to this entry's
                        <u>vendor</u>, and the <u>product</u> attribute set to the value of <u>product_blacklist</u>.

       <b>alias_prefix</b>     The user_friendly_names prefix to use for this  device  type,  instead  of  the  default
                        "mpath".

       <b>vpd_vendor</b>       The vendor specific vpd page information, using the vpd page abbreviation.  The vpd page
                        abbreviation  can be found by running <u>sg_vpd</u> <u>-e</u>. multipathd will use this information to
                        gather device specific information that can be displayed with the <u>%g</u>  wildcard  for  the
                        <u>multipathd</u>  <u>show</u>  <u>maps</u>  <u>format</u> and <u>multipathd</u> <u>show</u> <u>paths</u> <u>format</u> commands. Currently only
                        the <b>hp3par</b> vpd page is supported.

       <b>hardware_handler</b> The hardware handler to use for this device type.  The following  hardware  handler  are
                        implemented:

                        <u>1</u> <u>emc</u>       (Hardware-dependent) Hardware handler for DGC class arrays as CLARiiON CX/AX
                                    and EMC VNX families with Failover Mode 1 (Passive Not Ready(PNR)).

                        <u>1</u> <u>rdac</u>      (Hardware-dependent)  Hardware  handler for LSI/Engenio/NetApp RDAC class as
                                    NetApp SANtricity E/EF  Series  and  rebranded  arrays,  with  "Linux  DM-MP
                                    (Kernel 3.9 or earlier)" option.

                        <u>1</u> <u>hp_sw</u>     (Hardware-dependent)  Hardware  handler  for HP/COMPAQ/DEC HSG80 and MSA/HSV
                                    arrays with Active/Standby mode exclusively.

                        <u>1</u> <u>alua</u>      (Hardware-dependent) Hardware handler for SCSI-3 ALUA compatible arrays.

                        <u>1</u> <u>ana</u>       (Hardware-dependent) Hardware handler for NVMe ANA compatible arrays.

                        The default is: <b>&lt;unset&gt;</b>

                        <b>Important</b> <b>Note:</b> Linux kernels 4.3 and newer automatically attach  a  device  handler  to
                        known  devices (which includes all devices supporting SCSI-3 ALUA) and disallow changing
                        the handler afterwards. Setting <b>hardware_handler</b> for such devices on these  kernels  has
                        no effect.

       The following attributes are optional; if not set the default values are taken from the <u>defaults</u> section:

              <b>path_grouping_policy</b>
              <b>uid_attribute</b>
              <b>path_selector</b>
              <b>path_checker</b>
              <b>prio</b>
              <b>prio_args</b>
              <b>features</b>
              <b>failback</b>
              <b>rr_weight</b>
              <b>no_path_retry</b>
              <b>rr_min_io</b>
              <b>rr_min_io_rq</b>
              <b>fast_io_fail_tmo</b>
              <b>dev_loss_tmo</b>
              <b>eh_deadline</b>
              <b>flush_on_last_del</b>
              <b>user_friendly_names</b>
              <b>retain_attached_hw_handler</b>
              <b>detect_prio</b>
              <b>detect_checker</b>
              <b>deferred_remove</b>
              <b>san_path_err_threshold</b>
              <b>san_path_err_forget_rate</b>
              <b>san_path_err_recovery_time</b>
              <b>marginal_path_err_sample_time</b>
              <b>marginal_path_err_rate_threshold</b>
              <b>marginal_path_err_recheck_gap_time</b>
              <b>marginal_path_double_failed_time</b>
              <b>delay_watch_checks</b>
              <b>delay_wait_checks</b>
              <b>skip_kpartx</b>
              <b>max_sectors_kb</b>
              <b>ghost_delay</b>
              <b>all_tg_pt</b>

</pre><h4><b>overrides</b> <b>section</b></h4><pre>
       The  overrides section recognizes the following optional attributes; if not set the values are taken from
       the <u>devices</u> or <u>defaults</u> sections:

              <b>path_grouping_policy</b>
              <b>uid_attribute</b>
              <b>path_selector</b>
              <b>path_checker</b>
              <b>alias_prefix</b>
              <b>features</b>
              <b>prio</b>
              <b>prio_args</b>
              <b>failback</b>
              <b>rr_weight</b>
              <b>no_path_retry</b>
              <b>rr_min_io</b>
              <b>rr_min_io_rq</b>
              <b>flush_on_last_del</b>
              <b>fast_io_fail_tmo</b>
              <b>dev_loss_tmo</b>
              <b>eh_deadline</b>
              <b>user_friendly_names</b>
              <b>retain_attached_hw_handler</b>
              <b>detect_prio</b>
              <b>detect_checker</b>
              <b>deferred_remove</b>
              <b>san_path_err_threshold</b>
              <b>san_path_err_forget_rate</b>
              <b>san_path_err_recovery_time</b>
              <b>marginal_path_err_sample_time</b>
              <b>marginal_path_err_rate_threshold</b>
              <b>marginal_path_err_recheck_gap_time</b>
              <b>marginal_path_double_failed_time</b>
              <b>delay_watch_checks</b>
              <b>delay_wait_checks</b>
              <b>skip_kpartx</b>
              <b>max_sectors_kb</b>
              <b>ghost_delay</b>
              <b>all_tg_pt</b>

       The overrides section also recognizes the optional <u>protocol</u> subsection, and can contain multiple protocol
       subsections. Path devices are matched against the protocol subsection using the mandatory <u>type</u> attribute.
       Attributes in a matching protocol subsection take precedence over attributes in the rest of the overrides
       section. If there are multiple matching protocol subsections, later entries take precedence.

       <b>protocol</b> <b>subsection</b>
              The protocol subsection recognizes the following mandatory attribute:

              <b>type</b>   The protocol string of the  path  device.  The  possible  values  are  <u>scsi:fcp</u>,  <u>scsi:spi</u>,
                     <u>scsi:ssa</u>,  <u>scsi:sbp</u>,  <u>scsi:srp</u>,  <u>scsi:iscsi</u>,  <u>scsi:sas</u>,  <u>scsi:adt</u>,  <u>scsi:ata</u>,  <u>scsi:unspec</u>,
                     <u>nvme:pcie</u>, <u>nvme:rdma</u>, <u>nvme:fc</u>,  <u>nvme:tcp</u>,  <u>nvme:loop</u>,  <u>nvme:apple-nvme</u>,  <u>nvme:unspec</u>,  <u>ccw</u>,
                     <u>cciss</u>,  and  <u>undef</u>.  This is <b>not</b> a regular expression. the path device protocol string must
                     match exactly. The protocol that a path is using can be viewed by running  <b>multipathd</b>  <b>show</b>
                     <b>paths</b> <b>format</b> <b>"%d</b> <b>%P"</b>

              The  following  attributes  are  optional;  if  not  set,  the  default  values are taken from the
              <u>overrides</u>, <u>devices</u>, or <u>defaults</u> section:

                     <b>fast_io_fail_tmo</b>
                     <b>dev_loss_tmo</b>
                     <b>eh_deadline</b>

</pre><h4><b>WWID</b> <b>generation</b></h4><pre>
       Multipath uses a <u>World</u> <u>Wide</u> <u>Identification</u> (WWID) to determine which paths belong  to  the  same  device.
       Each path presenting the same WWID is assumed to point to the same device.

       The WWID is generated by four methods (in the order of preference):

       <b>uid_attrs</b>        The  WWID is derived from udev attributes by matching the device node name; cf <u>uid_attrs</u>
                        above.

       <b>uid_attribute</b>    Use the value of the specified udev attribute; cf <u>uid_attribute</u> above.

       <b>sysfs</b>            Try to determine the WWID from sysfs attributes.  For SCSI devices, this  means  reading
                        the Vital Product Data (VPD) page "Device Identification" (0x83).

       The  default  settings  (using udev and <b>uid_attribute</b> configured from the built-in hardware table) should
       work fine in most scenarios. Users who want to enable uevent merging must set <b>uid_attrs</b>.

</pre><h4><b>Shaky</b> <b>paths</b> <b>detection</b></h4><pre>
       A common problem in SAN setups is the occurrence of intermittent errors:  a  path  is  unreachable,  then
       reachable  again  for  a  short  time, disappears again, and so forth. This happens typically on unstable
       interconnects. It is undesirable to switch pathgroups unnecessarily on such frequent, unreliable  events.
       <u>multipathd</u> supports three different methods for detecting this situation and dealing with it. All methods
       share the same basic mode of operation: If a path is found to be "shaky" or "flipping", and appears to be
       in  healthy  status,  it  is  not  reinstated (put back to use) immediately. Instead, it is placed in the
       "delayed" state and watched for some time, and only reinstated if the healthy state appears to be stable.
       If the <u>marginal_pathgroups</u> option is set, the path will reinstated immediately, but placed in  a  special
       pathgroup  for  marginal paths. Marginal pathgroups will not be used until all other pathgroups have been
       tried. At the time when the path would normally  be  reinstated,  it  will  be  returned  to  its  normal
       pathgroup.  The  logic  of determining "shaky" condition, as well as the logic when to reinstate, differs
       between the three methods.

       <b>"delay_checks"</b> <b>failure</b> <b>tracking</b>
               (Deprecated) This method is  <b>deprecated</b>  and  mapped  to  the  "san_path_err"  method.   See  the
               <u>delay_watch_checks</u> and <u>delay_wait_checks</u> options above for more information.

       <b>"marginal_path"</b> <b>failure</b> <b>tracking</b>
               If  a  second failure event (good-&gt;bad transition) occurs within <u>marginal_path_double_failed_time</u>
               seconds after a failure, high-frequency monitoring is started for the affected path: I/O is  sent
               at  a  rate of 10 per second. This is done for <u>marginal_path_err_sample_time</u> seconds. During this
               period,   the   path   is   not   reinstated.   If   the   rate   of   errors    remains    below
               <u>marginal_path_err_rate_threshold</u> during the monitoring period, the path is reinstated. Otherwise,
               it  is  kept  in  failed  state  for  <u>marginal_path_err_recheck_gap_time</u>,  and  after that, it is
               monitored again. For this method, time intervals are measured in seconds.

       <b>"san_path_err"</b> <b>failure</b> <b>tracking</b>
               multipathd counts path failures for each path. Once the number  of  failures  exceeds  the  value
               given  by  <u>san_path_err_threshold</u>,  the  path  is  not  reinstated for <u>san_path_err_recovery_time</u>
               seconds.   While   counting   failures,   multipathd   "forgets"   one   past    failure    every
               "san_path_err_forget_rate"  ticks;  thus if errors don't occur more often then once in the forget
               rate interval, the failure count doesn't increase and the threshold is never reached.  Ticks  are
               the   time  between  path  checks  by  multipathd,  which  is  variable  and  controlled  by  the
               <u>polling_interval</u> and <u>max_polling_interval</u> parameters.

               This algorithm is superseded by the "marginal_path" failure tracking, but remains  supported  for
               backward compatibility.

       <b>"FPIN"</b> <b>failure</b> <b>tracking</b>
               Fibre  channel  fabrics  can notify hosts about fabric-level issues such as integrity failures or
               congestion with so-called Fabric Performance Impact Notifications (FPINs).On receiving  the  fpin
               notifications through ELS multipathd will move the affected path and port states to marginal.

       See  the  documentation  of  the individual options above for details.  It is <b>strongly</b> <b>discouraged</b> to use
       more than one of these methods for any given multipath  map,  because  the  two  concurrent  methods  may
       interact  in  unpredictable  ways. If the "marginal_path" method is active, the "san_path_err" parameters
       are implicitly set to 0.

</pre><h4><b>FOREIGN</b> <b>MULTIPATH</b> <b>SUPPORT</b></h4><pre>
       multipath and multipathd can load "foreign" libraries to add support for other multipathing  technologies
       besides  the  Linux  device  mapper.   Currently this support is limited to printing detected information
       about multipath setup. In topology output, the names of foreign maps are prefixed by the foreign  library
       name in square brackets, as in this example:

       # multipath -ll
       uuid.fedcba98-3579-4567-8765-123456789abc [nvme]:nvme4n9 NVMe,Some NVMe controller,FFFFFFFF
       size=167772160 features='n/a' hwhandler='ANA' wp=rw
       |-+- policy='n/a' prio=50 status=optimized
       | `- 4:38:1    nvme4c38n1 0:0     n/a   optimized    live
       `-+- policy='n/a' prio=50 status=optimized
         `- 4:39:1    nvme4c39n1 0:0     n/a   optimized    live

       The "nvme" foreign library provides support for NVMe native multipathing in the kernel. It is part of the
       standard multipath package.

</pre><h4><b>KNOWN</b> <b>ISSUES</b></h4><pre>
       The  usage  of  <u>queue_if_no_path</u>  option  can  lead  to  <u>D</u> <u>state</u> processes being hung and not killable in
       situations where all the paths to the LUN go offline. It is advisable to  use  the  <u>no_path_retry</u>  option
       instead.

       The use of <u>queue_if_no_path</u> or <u>no_path_retry</u> might lead to a deadlock if the <u>dev_loss_tmo</u> setting results
       in  a  device  being removed while I/O is still queued. The multipath daemon will update the <u>dev_loss_tmo</u>
       setting accordingly to avoid this deadlock. Hence if both values are specified the order of precedence is
       <u>no_path_retry,</u> <u>queue_if_no_path,</u> <u>dev_loss_tmo</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/udev.8.html">udev</a></b>(8), <b><a href="../man8/dmsetup.8.html">dmsetup</a></b>(8), <b><a href="../man8/multipath.8.html">multipath</a></b>(8), <b><a href="../man8/multipathc.8.html">multipathc</a></b>(8), <b><a href="../man8/multipathd.8.html">multipathd</a></b>(8).

</pre><h4><b>AUTHORS</b></h4><pre>
       <u>multipath-tools</u> was developed by Christophe Varoqui, &lt;<a href="mailto:christophe.varoqui@opensvc.com">christophe.varoqui@opensvc.com</a>&gt; and others.

Linux                                              2024-08-15                                  <u><a href="../man5/MULTIPATH.CONF.5.html">MULTIPATH.CONF</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>