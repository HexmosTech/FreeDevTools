<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>/proc/pid/clear_refs - reset the PG_Referenced and ACCESSED/YOUNG bits</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages">manpages_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       /proc/pid/clear_refs - reset the PG_Referenced and ACCESSED/YOUNG bits

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u><a href="file:/proc/">/proc/</a></u>pid<u>/clear_refs</u> (since Linux 2.6.22)

              This is a write-only file, writable only by owner of the process.

              The following values may be written to the file:

              1 (since Linux 2.6.22)
                     Reset  the  PG_Referenced  and  ACCESSED/YOUNG  bits  for all the pages associated with the
                     process.  (Before Linux 2.6.32, writing any nonzero value to this file had this effect.)

              2 (since Linux 2.6.32)
                     Reset the PG_Referenced and ACCESSED/YOUNG bits for all anonymous pages associated with the
                     process.

              3 (since Linux 2.6.32)
                     Reset the PG_Referenced and ACCESSED/YOUNG bits for all file-mapped pages  associated  with
                     the process.

              Clearing  the PG_Referenced and ACCESSED/YOUNG bits provides a method to measure approximately how
              much memory a process is using.  One first inspects the values in the "Referenced" fields for  the
              VMAs  shown  in  <u><a href="file:/proc/">/proc/</a></u>pid<u>/smaps</u>  to get an idea of the memory footprint of the process.  One then
              clears the PG_Referenced and ACCESSED/YOUNG bits and, after  some  measured  time  interval,  once
              again  inspects  the  values  in  the  "Referenced"  fields to get an idea of the change in memory
              footprint of the process during the measured interval.  If one is interested  only  in  inspecting
              the selected mapping types, then the value 2 or 3 can be used instead of 1.

              Further values can be written to affect different properties:

              4 (since Linux 3.11)
                     Clear  the  soft-dirty bit for all the pages associated with the process.  This is used (in
                     conjunction with <u><a href="file:/proc/">/proc/</a></u>pid<u>/pagemap</u>) by the check-point restore  system  to  discover  which
                     pages of a process have been dirtied since the file <u><a href="file:/proc/">/proc/</a></u>pid<u>/clear_refs</u> was written to.

              5 (since Linux 4.0)
                     Reset  the peak resident set size ("high water mark") to the process's current resident set
                     size value.

              Writing any value to <u><a href="file:/proc/">/proc/</a></u>pid<u>/clear_refs</u> other than those listed above has no effect.

              The <u><a href="file:/proc/">/proc/</a></u>pid<u>/clear_refs</u> file is present only if the <b>CONFIG_PROC_PAGE_MONITOR</b> kernel configuration
              option is enabled.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/proc.5.html">proc</a></b>(5)

Linux man-pages 6.9.1                              2024-05-02                             <u><a href="../man5/proc_pid_clear_refs.5.html">proc_pid_clear_refs</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>