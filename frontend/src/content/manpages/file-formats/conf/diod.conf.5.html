<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>diod.conf - distributed I/O daemon configuration file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/diod">diod_1.0.24-5.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       diod.conf - distributed I/O daemon configuration file

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  diod.conf file is actually a LUA script.  Internal config defaults are overridden by settings in the
       file, and some of those values can in turn be overridden on the command line.

       Config settings take the form of LUA global variables which  are  read  out  after  the  config  file  is
       executed.   Therefore,  the  values of said variables can either be statically assigned or computed.  The
       variables are described below.

</pre><h4><b>CONFIG</b> <b>VARIABLES</b></h4><pre>
       <u>listen</u> <u>=</u> <u>{</u> <u>"IP:PORT"</u> <u>[,"IP:PORT",...]</u> <u>}</u>
              List the interfaces and ports that <b>diod</b> should listen on.  The default is "0.0.0.0:564".

       <u>exports</u> <u>=</u> <u>{</u> <u>"/path"</u> <u>[,</u> <u>"/path",</u> <u>...]</u> <u>}</u>
              List the file systems that clients will be allowed to mount.  All paths should be fully qualified.
              The exports table can include two types of element: a string element (as above), or  an  alternate
              table  element  form  <u>{</u>  <u>path="/path",</u>  <u>opts="ro"</u>  <u>}</u>.   In the alternate form, the (optional) opts
              attribute is a comma-separated list of export options, as described below in EXPORT OPTIONS.   The
              two  table  element  forms  can  be  mixed in the exports table.  Note that although <b>diod</b> will not
              traverse  file  system  boundaries  for  a  given  mount  due  to  inode  uniqueness  constraints,
              subdirectories of a file system can be separately exported.

       <u>exportall</u> <u>=</u> <u>1</u>
              Export  all  file  systems listed in /proc/mounts.  If new file systems are mounted after <b>diod</b> has
              started, they will become immediately mountable.  If there is a duplicate entry for a file  system
              in the <u>exports</u> list, any options listed in the exports entry will apply.

       <u>exportopts</u> <u>=</u> <u>"opt,opt,..."</u>
              Establish  a  default  set  of  export  options.   These  are overridden, not appended to, by opts
              attributes in an "exports" entry.

       <u>nwthreads</u> <u>=</u> <u>INTEGER</u>
              Sets the (fixed) number of worker threads created to handle 9P requests for a unique  aname.   The
              default is 16 per aname.

       <u>auth_required</u> <u>=</u> <u>0</u>
              Allow clients to connect without authentication, i.e. without a valid MUNGE credential.

       <u>userdb</u> <u>=</u> <u>0</u>
              This option disables password/group lookups.  It allows any uid to attach and assumes gid=uid, and
              supplementary groups contain only the primary gid.

       <u>allsquash</u> <u>=</u> <u>1</u>
              Remap all users to "nobody".  The attaching user need not be present in the password file.

       <u>squashuser</u> <u>=</u> <u>"nobody"</u>
              Change  the  squash  user  from  the  default  of  nobody.  The squash user must be present in the
              password file.

       <u>logdest</u> <u>=</u> <u>"DEST"</u>
              Set the destination for logging.  <u>DEST</u> is in the form of <u>syslog:facility:level</u> or  <u>filename</u>.   The
              default is <u>syslog:daemon:err</u>.

       <u>statfs_passthru</u> <u>=</u> <u>1</u>
              This  option  configures statfs to return the host file system's type rather than V9FS_MAGIC.  The
              default is 0 (return V9FS_MAGIC).

</pre><h4><b>EXPORT</b> <b>OPTIONS</b></h4><pre>
       The following export options are defined:

       <u>ro</u>     Export the file system read-only.

       <u>suppress</u>
              Exclude this file system from exports.  Useful following <u>exportall</u> <u>=</u> <u>1</u>.

       <u>sharefd</u>
              Allow limited server-side file descriptor sharing for files opened O_RDONLY by the same user.

       <u>privport</u>
              Reject attach request unless client is bound to a port in the privileged  port  range  (512-1023).
              The  <b>diodcat</b> utility has a <u>--privport</u> option which, when run as root, binds to a privileged socket
              before connecting.  This provides limited additional security, especially in open networks, as  it
              is vulnerable to IP spoofing attacks.

       <u>noauth</u> Allow attach to succeed without authentication.

</pre><h4><b>EXAMPLE</b></h4><pre>
       --
       -- example diod.conf
       --
       listen = { "0.0.0.0:10002" }
       exports = {
            "<a href="file:/home">/home</a>",
            "/usr/global",
            { path="ctl", opts="ro,noauth" },
            { path="<a href="file:/usr/local">/usr/local</a>", opts="ro" },
       }
       nwthreads = 8

</pre><h4><b>FILES</b></h4><pre>
       /etc/diod.conf

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       lua (1), diod (8), openlog (3)

       <a href="http://www.lua.org/">http://www.lua.org/</a>

diod-1.0.24                                        2015-03-31                                       <u><a href="../man5/diod.conf.5.html">diod.conf</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>