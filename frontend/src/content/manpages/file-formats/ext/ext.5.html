<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ext - format of .ext files produced by Magic's hierarchical extractor</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/magic">magic_8.3.105+ds.1-1.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ext - format of .ext files produced by Magic's hierarchical extractor

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Magic's  extractor  produces  a <b>.ext</b> file for each cell in a hierarchical design.  The <b>.ext</b> file for cell
       <u>name</u> is <u>name</u><b>.ext</b>.  This file contains three kinds of  information:  environmental  information  (scaling,
       timestamps,  etc),  the  extracted  circuit  corresponding  to  the  mask  geometry of cell <u>name</u>, and the
       connections between this mask geometry and the subcells of <u>name</u>.

       A <b>.ext</b> file consists of a series of lines, each of which begins with a keyword.  The keyword beginning  a
       line  determines  how the remainder of the line is interpreted.  The following set of keywords define the
       environmental information:

       <b>tech</b> <u>techname</u>
              Identifies the technology of cell <u>name</u> as <u>techname</u>, e.g, <b>nmos</b>, <b>cmos</b>.

       <b>timestamp</b> <u>time</u>
              Identifies the time when cell <u>name</u> was last modified.  The value <u>time</u> is the time stored by  Unix,
              i.e,  seconds since 00:00 GMT January 1, 1970.  Note that this is <u>not</u> the time <u>name</u> was extracted,
              but rather the timestamp value stored in the <b>.mag</b> file.  The incremental  extractor  compares  the
              timestamp in each <b>.ext</b> file with the timestamp in each <b>.mag</b> file in a design; if they differ, that
              cell is re-extracted.

       <b>version</b> <u>version</u>
              Identifies the version of <b>.ext</b> format used to write <u>name</u><b>.ext</b>.  The current version is <b>5.1</b>.

       <b>style</b> <u>style</u>
              Identifies the style that the cell has been extracted with.

       <b>scale</b> <u>rscale</u> <u>cscale</u> <u>lscale</u>
              Sets  the scale to be used in interpreting resistance, capacitance, and linear dimension values in
              the remainder of the <b>.ext</b> file.  Each resistance value must be multiplied by <u>rscale</u>  to  give  the
              real  resistance  in  milliohms.   Each capacitance value must be multiplied by <u>cscale</u> to give the
              real capacitance in attofarads.  Each linear dimension (e.g, width, height, transform coordinates)
              must be multiplied by <u>lscale</u> to give the real linear dimension in centimicrons.  Also,  each  area
              dimension  (e.g,  transistor channel area) must be multiplied by <u>scale*scale</u> to give the real area
              in square centimicrons.  At most one <b>scale</b> line may appear in a <b>.ext</b> file.  If none  appears,  all
              of <u>rscale</u>, <u>cscale</u>, and <u>lscale</u> default to 1.

       <b>resistclasses</b> <u>r1</u> <u>r2</u> <u>...</u>
              Sets  the  resistance  per  square  for the various resistance classes appearing in the technology
              file.  The values <u>r1</u>, <u>r2</u>, etc. are in milliohms; they are  not  scaled  by  the  value  of  <u>rscale</u>
              specified  in  the  <b>scale</b>  line above.  Each node in a <b>.ext</b> file has a perimeter and area for each
              resistance class; the values <u>r1</u>, <u>r2</u>, etc.  are used to convert these  perimeters  and  areas  into
              actual  node  resistances.  See ``Magic Tutorial #8: Circuit Extraction'' for a description of how
              resistances are computed from perimeters and areas by the program <b>ext2sim</b>.

       The following keywords define the circuit formed by the mask information in cell <u>name</u>.  This  circuit  is
       extracted  independently  of any subcells; its connections to subcells are handled by the keywords in the
       section after this one.

       <b>node</b> <u>name</u> <u>R</u> <u>C</u> <u>x</u> <u>y</u> <u>type</u> <u>a1</u> <u>p1</u> <u>a2</u> <u>p2</u> <u>...</u> <u>aN</u> <u>pN</u>
              Defines an electrical node in <u>name</u>.  This node is referred to by the name <u>name</u> in subsequent <b>equiv</b>
              lines, connections to the terminals of transistors in <b>fet</b> lines, and hierarchical  connections  or
              adjustments  using  <b>merge</b>  or <b>adjust</b>.  The node has a total capacitance to ground of <u>C</u> attofarads,
              and a lumped resistance of <u>R</u> milliohms.  For purposes of going back from  the  node  name  to  the
              geometry  defining  the  node, <u>(x,y)</u> is the coordinate of a point inside the node, and <u>type</u> is the
              layer on which this point appears.  The values <u>a1</u>, <u>p1</u>, ... <u>aN</u>, <u>pN</u> are the area and  perimeter  for
              the  material  in  each  of  the  resistance  classes  described  by the <b>resistclasses</b> line at the
              beginning of the <b>.ext</b> file; these values are used to  compute  adjusted  hierarchical  resistances
              more  accurately.   <b>NOTE:</b> since many analysis tools compute transistor gate capacitance themselves
              from the transistor's area and perimeter, the capacitance between  a  node  and  substrate  (GND!)
              normally  does  not  include the capacitance from transistor gates connected to that node.  If the
              <b>.sim</b> file was produced by <u><a href="../man1/ext2sim.1.html">ext2sim</a></u>(1), check the technology file  that  was  used  to  produce  the
              original  <b>.ext</b>  files  to  see  whether  transistor  gate capacitance is included or excluded; see
              ``Magic Maintainer's Manual #2: The Technology File'' for details.

       <b>attr</b> <u>name</u> <u>xl</u> <u>yl</u> <u>xh</u> <u>yh</u> <u>type</u> <u>text</u>
              One of these lines appears for each label ending in the  character  ``<b>@</b>''  that  was  attached  to
              geometry  in  the  node  <u>name</u>.  The location of each attribute label (<u>xl</u> <u>yl</u> <u>xh</u> <u>yh</u>) and the type of
              material to which it was attached (<u>type</u>) are given along with the text  of  the  label  minus  the
              trailing ``<b>@</b>'' character (<u>text</u>).

       <b>equiv</b> <u>node1</u> <u>node2</u>
              Defines two node names in cell <u>name</u> as being equivalent: <u>node1</u> and <u>node2</u>.  In a collection of node
              names related by <b>equiv</b> lines, exactly one must be defined by a <b>node</b> line described above.

       <b>fet</b> <u>type</u> <u>xl</u> <u>yl</u> <u>xh</u> <u>yh</u> <u>area</u> <u>perim</u> <u>sub</u> <u>GATE</u> <u>T1</u> <u>T2</u> <u>...</u>
              Defines  a  transistor  in  <u>name</u>.   The  kind  of transistor is <u>type</u>, a string that comes from the
              technology file and is intended to have meaning to simulation  programs.   The  coordinates  of  a
              square entirely contained in the gate region of the transistor are <u>(xl,</u> <u>yl)</u> for its lower-left and
              <u>(xh,</u> <u>yh)</u>  for  its  upper-right.  All four coordinates are in the <u>name</u>'s coordinate space, and are
              subject to scaling as described in <b>scale</b> above.  The gate region of the transistor has  area  <u>area</u>
              square  centimicrons  and  perimeter  <u>perim</u>  centimicrons.   The  substrate  of  the transistor is
              connected to node <u>sub</u>.

              The remainder of a <b>fet</b> line consists of a series of triples: <u>GATE</u>, <u>T1</u>, ....  Each describes one of
              the terminals of the transistor; the first describes the gate,  and  the  remainder  describe  the
              transistor's  non-gate  terminals  (e.g, source and drain).  Each triple consists of the name of a
              node connecting to that terminal, a terminal length, and an attribute list.  The  terminal  length
              is  in  centimicrons;  it  is  the  length  of that segment of the channel perimeter connecting to
              adjacent material, such as polysilicon for the gate or diffusion for a source or drain.

              The attribute list is either the single token ``0'', meaning no attributes, or  a  comma-separated
              list  of  strings.  The strings in the attribute list come from labels attached to the transistor.
              Any label ending in the character ``<b>^</b>'' is considered a gate attribute and appears on  the  gate's
              attribute  list,  minus  the trailing ``<b>^</b>''.  Gate attributes may lie either along the border of a
              channel or in its interior.  Any label ending in the character  ``<b>$</b>''  is  considered  a  non-gate
              attribute.   It  appears  on the list of the terminal along which it lies, also minus the trailing
              ``<b>$</b>''.  Non-gate attributes may only lie on the border of the channel.

       The keywords in this section describe information that is not processed hierarchically: path lengths  and
       accurate  resistances  that  are computed by flattening an entire node and then producing a value for the
       flattened node.

       <b>killnode</b> <u>node</u>
              During resistance extraction, it is sometimes necessary to break a node up  into  several  smaller
              nodes.   The  appearance  of  a  <b>killnode</b> line during the processing of a <b>.ext</b> file means that all
              information currently accumulated about <u>node</u>, along with all fets that have a  terminal  connected
              to  <u>node</u>,  should  be  thrown out; it will be replaced by information later in the <b>.ext</b> file.  The
              order of processing <b>.ext</b> files is important in order for  this  to  work  properly:  children  are
              processed before their parents, so a <b>killnode</b> in a parent overrides one in a child.

       <b>resist</b> <u>node1</u> <u>node2</u> <u>R</u>
              Defines  a  resistor  of  <u>R</u>  milliohms  between  the  two  nodes  <u>node1</u> and <u>node2</u>.  Both names are
              hierarchical.

       <b>distance</b> <u>name1</u> <u>name2</u> <u>dmin</u> <u>dmax</u>
              Gives the distance between two electrical terminals <u>name1</u> (a driver) and <u>name2</u> (a receiver).  Note
              that these are terminals and not nodes: the names (which are hierarchical label names) are used to
              specify two different locations on the same electrical node.  The two distances,  <u>dmin</u>  and  <u>dmax</u>,
              are  the  lengths  (in  lambda)  of  the shortest and longest acyclic paths between the driver and
              receiver.

       The keywords in this last section describe the subcells used by <u>name</u>, and how connections are made to and
       between them.

       <b>use</b> <u>def</u> <u>use-id</u> <u>TRANSFORM</u>
              Specifies that cell <u>def</u> with instance identifier <u>use-id</u> is a subcell of cell <u>name</u>.  If cell <u>def</u> is
              arrayed, then <u>use-id</u> will be followed by two bracketed subscript ranges of the form:  <b>[</b><u>lo</u><b>,</b><u>hi</u><b>,</b><u>sep</u><b>]</b>.
              The  first  range  is  for  x,  and the second for y.  The subscripts for a given dimension are <u>lo</u>
              through <u>hi</u> inclusive, and the separation between adjacent array elements is <u>sep</u> centimicrons.

              <u>TRANSFORM</u> is a set of six integers that describe how coordinates in <u>def</u> are to be  transformed  to
              coordinates  in the parent <u>name</u>.  It is used by <u><a href="../man1/ext2sim.1.html">ext2sim</a></u>(1) in transforming transistor locations to
              coordinates in the root of a design.  The six integers of <u>TRANSFORM</u>  (<u>ta,</u> <u>tb,</u> <u>tc,</u> <u>td,</u> <u>te,</u> <u>tf</u>)  are
              interpreted  as components in the following transformation matrix, by which all coordinates in <u>def</u>
              are post-multiplied to get coordinates in <u>name</u>:

                                  <u>ta</u>   <u>td</u>   0
                                  <u>tb</u>   <u>te</u>   0
                                  <u>tc</u>   <u>tf</u>   1

       <b>merge</b> <u>path1</u> <u>path2</u> <u>C</u> <u>a1</u> <u>p1</u> <u>a2</u> <u>p2</u>  <u>...</u> <u>aN</u> <u>pN</u>
              Used to specify a connection between two subcells, or between a subcell and  mask  information  of
              <u>name</u>.   Both <u>path1</u> and <u>path2</u> are hierarchical node names.  To refer to a node in cell <u>name</u> itself,
              its pathname is just its node name.  To refer to a  node  in  a  subcell  of  <u>name</u>,  its  pathname
              consists  of  the  <u>use-id</u>  of  the  subcell  (as  it  appeared in a <b>use</b> line above), followed by a
              slash (<u>/</u>), followed by the node name in the subcell.  For example, if <u>name</u>  contains  subcell  <u>sub</u>
              with  use identifier <u>sub-id</u>, and <u>sub</u> contains node <u>n</u>, the full pathname of node <u>n</u> relative to <u>name</u>
              will be <u>sub-id/n</u>.

       Connections between adjacent elements of an array are represented  using  a  special  syntax  that  takes
       advantage  of  the regularity of arrays.  A use-id in a path may optionally be followed by a range of the
       form <b>[</b><u>lo</u><b>:</b><u>hi</u><b>]</b> (before the following slash).  Such a use-id is interpreted as the elements  <u>lo</u>  through  <u>hi</u>
       inclusive  of a one-dimensional array.  An element of a two-dimensional array may be subscripted with two
       such ranges: first the y range, then the x range.

       Whenever one <u>path</u> in a <b>merge</b> line contains such  a  subscript  range,  the  other  must  contain  one  of
       comparable size.  For example,

                 <b>merge</b>  sub-id[1:4,2:8]/a  sub-id[2:5,1:7]/b

       is acceptable because the range 1:4 is the same size as 2:5, and the range 2:8 is the same size as 1:7.

       When a connection occurs between nodes in different cells, it may be that some resistance and capacitance
       has  been recorded redundantly.  For example, polysilicon in one cell may overlap polysilicon in another,
       so the capacitance to substrate will have been recorded twice.  The values <u>C</u>, <u>a1</u>, <u>p1</u>,  etc.  in  a  <b>merge</b>
       line  provide  a way of compensating for such overlap.  Each of <u>a1</u>, <u>p1</u>, etc. (usually negative) are added
       to the area and perimeter for material of each resistance class to give an adjusted  area  and  perimeter
       for  the  aggregate  node.   The  value  <u>C</u>  attofarads (also usually negative) is added to the sum of the
       capacitances (to substrate) of nodes <u>path1</u> and <u>path2</u> to give the capacitance of the aggregate node.

       <b>cap</b> <u>node1</u> <u>node2</u> <u>C</u>
              Defines a capacitor between the nodes <u>node1</u> and <u>node2</u>, with capacitance <u>C</u>.  This construct is used
              to specify both internodal capacitance within a single cell and between cells.

</pre><h4><b>AUTHOR</b></h4><pre>
       Walter Scott

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/ext2sim.1.html">ext2sim</a>(1), <a href="../man1/magic.1.html">magic</a>(1)

4th Berkeley Distribution                                                                                 <u><a href="../man5/EXT.5.html">EXT</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>