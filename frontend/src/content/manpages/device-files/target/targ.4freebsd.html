<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>targ — SCSI target emulator driver</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       targ — SCSI target emulator driver

</pre><h4><b>SYNOPSIS</b></h4><pre>
       To compile this driver into the kernel, place the following line in your kernel configuration file:

             <b>device</b> <b>targ</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>targ</b>  driver  provides  an interface for usermode programs to emulate SCSI target devices.  A sample
       program that emulates a disk drive (similar to <u><a href="../man4/da.4.html">da</a></u>(4)) can be found in <u>/usr/share/examples/scsi_target</u>.

       The <b>targ</b> driver supplies the control device <u>/dev/targ</u>.  After opening the  device,  the  file  descriptor
       must  be  bound  to  a specific bus/target/LUN and enabled to process CCBs using the TARGIOCENABLE ioctl.
       The process then uses <u><a href="../man2/write.2.html">write</a></u>(2) to send CCBs to the SIM and <u><a href="../man2/poll.2.html">poll</a></u>(2) or <u><a href="../man2/kqueue.2.html">kqueue</a></u>(2) to see if  responses  are
       ready.   Pointers  to  completed CCBs are returned via <u><a href="../man2/read.2.html">read</a></u>(2).  Any data transfers requested by the user
       CCBs are done via zero-copy IO.

</pre><h4><b>IOCTLS</b></h4><pre>
       The following <u><a href="../man2/ioctl.2.html">ioctl</a></u>(2) calls are defined in the header file &lt;<u>cam/scsi/scsi_targetio.h</u>&gt;.

       TARGIOCENABLE   (<u>struct</u> <u>ioc_enable_lun</u>) Enable  target  mode  on  the  LUN  specified  by  the  following
                       structure:

                             struct ioc_enable_lun {
                                     path_id_t       path_id;
                                     target_id_t     target_id;
                                     lun_id_t        lun_id;
                                     int             grp6_len;
                                     int             grp7_len;
                             };

                       The  selected  path  (bus),  target,  and LUN must not already be in use or EADDRINUSE is
                       returned.  If <u>grp6_len</u> or <u>grp7_len</u> are non-zero, reception of vendor-specific commands is
                       enabled.

       TARGIOCDISABLE  Disable target mode and abort all pending CCBs.  The CCBs may optionally be read as  they
                       complete.   TARGIOCENABLE  can  then  be  called  to  activate a different LUN.  Multiple
                       disable calls have no effect.  The <u><a href="../man2/close.2.html">close</a></u>(2) system  call  automatically  disables  target
                       mode if enabled.

       TARGIOCDEBUG    (<u>int</u>) Enables CAM_PERIPH debugging if the argument is non-zero, otherwise disables it.

</pre><h4><b>FILES</b></h4><pre>
       &lt;<u>cam/scsi/scsi_targetio.h</u>&gt;   describes the usermode interface.
       <u>/sys/cam/scsi/scsi_target.c</u>  is the driver source file.
       <u>/dev/targ</u>                    is the control device.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>/usr/share/examples/scsi_target</u>, <u><a href="../man4/ahc.4.html">ahc</a></u>(4), <u><a href="../man4/isp.4.html">isp</a></u>(4), <u><a href="../man4/scsi.4.html">scsi</a></u>(4)

       <u>FreeBSD</u> <u>Target</u> <u>Information</u>, <a href="http://www.root.org/~nate/freebsd/">http://www.root.org/~nate/freebsd/</a>.

</pre><h4><b>AUTHORS</b></h4><pre>
       The  <b>targ</b>  driver first appeared in FreeBSD 3.0 and was written by Justin T. Gibbs.  It was rewritten for
       FreeBSD 5.0 by Nate Lawson &lt;<u><a href="mailto:nate@root.org">nate@root.org</a></u>&gt;.

</pre><h4><b>BUGS</b></h4><pre>
       Currently, only the <u><a href="../man4/ahc.4.html">ahc</a></u>(4) and <u><a href="../man4/isp.4.html">isp</a></u>(4) drivers fully support target mode.

       The <u><a href="../man4/ahc.4.html">ahc</a></u>(4) driver does not support tagged queuing in target mode.

Debian                                          December 13, 2011                                        <u><a href="../man4/TARG.4.html">TARG</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>