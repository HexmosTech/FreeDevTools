<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>efidev, efirtc — user-mode access to UEFI runtime services</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       efidev, efirtc — user-mode access to UEFI runtime services

</pre><h4><b>SYNOPSIS</b></h4><pre>
       To compile this driver into the kernel, place the following lines in your kernel configuration file:

              <b>options</b> <b>EFIRT</b>

       Alternatively, to load the driver as a module at boot time, place the following line in <u><a href="../man5/loader.conf.5.html">loader.conf</a></u>(5):

             efirt_load="YES"

       The driver may be disabled by setting the <u><a href="../man8/loader.8.html">loader</a></u>(8) tunable <u>efi.rt.disabled</u> to “<b>1</b>”.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>efidev</b>  device provides user-mode access to UEFI runtime services.  <b>efidev</b> also includes a driver to
       provide a time-of-day clock using the UEFI real time clock (RTC).  However, the RTC  may  not  always  be
       available, based on the UEFI firmware.  If the RTC is not available, it will not be registered as a time-
       of-day clock and the time related ioctls below will not be functional.

       <b>efidev</b>  provides the following ioctls defined in &lt;<u>sys/efiio.h</u>&gt; with supplemental structures and constants
       defined in &lt;<u>sys/efi.h</u>&gt;:

       EFIIOC_GET_TABLE (<u>struct</u> <u>efi_get_table_ioc</u>)
               Get a table by uuid from the UEFI system table.

                     struct efi_get_table_ioc {
                             struct uuid uuid;
                             void *ptr;
                     };

       EFIIOC_GET_TIME (<u>struct</u> <u>efi_tm</u>)
               Get the time from the RTC, if the RTC is available.  The <u>struct</u> <u>efi_tm</u> passed is  populated  with
               the current time, unless an error occurs.

                     struct efi_tm {
                             uint16_t        tm_year;
                             uint8_t         tm_mon
                             uint8_t         tm_mday
                             uint8_t         tm_hour;
                             uint8_t         tm_min;
                             uint8_t         tm_sec;
                             uint8_t          __pad1;
                             uint32_t        tm_nsec;
                             int16_t         tm_tz;
                             uint8_t         tm_dst;
                             uint8_t         __pad2;
                     };

       EFIIOC_SET_TIME (<u>struct</u> <u>efi_tm</u>)
               Sets the time stored by the RTC, if the RTC is available.

       EFIIOC_VAR_GET (<u>struct</u> <u>efi_var_ioc</u>)
               Gets  data  from  the  variable described by the vendor and name fields of the <u>struct</u> <u>efi_var_ioc</u>
               into the <u>data</u> field.  EFIIOC_VAR_GET (<u>struct</u> <u>efi_var_ioc</u>) will also populate the <u>attrib</u> field.

               struct efi_var_ioc {
                       efi_char        *name;
                       size_t           namesize;
                       struct uuid      vendor;
                       uint32_t         attrib;
                       void            *data;
                       size_t           datasize;
               };

       EFIIOC_VAR_NEXT (<u>struct</u> <u>efi_var_ioc</u>)
               Used for enumerating all UEFI variables.  The initial call should use an  empty  string  for  the
               name  attribute.   Subsequent  calls  should supply the vendor uuid and name of the last variable
               returned.

       EFIIOC_VAR_SET (<u>struct</u> <u>efi_var_ioc</u>)
               Sets data and attributes for the variable  described  by  the  name  and  vendor  in  the  <u>struct</u>
               <u>efi_var_ioc</u>.

</pre><h4><b>FILES</b></h4><pre>
       <u>/dev/efi</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/efivar.3.html">efivar</a></u>(3), <u><a href="../man9/efirt.9.html">efirt</a></u>(9)

</pre><h4><b>HISTORY</b></h4><pre>
       A <b>efidev</b> device first appeared in FreeBSD 11.1.

</pre><h4><b>BUGS</b></h4><pre>
       <b>efidev</b> is currently only available on amd64 and arm64.

Debian                                           August 12, 2018                                       <u><a href="../man4/EFIDEV.4.html">EFIDEV</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>