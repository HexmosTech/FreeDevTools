<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>at45d — driver for DataFlash(tm) non-volatile storage devices</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       at45d — driver for DataFlash(tm) non-volatile storage devices

</pre><h4><b>SYNOPSIS</b></h4><pre>
       To compile this driver into the kernel, place the following line in your kernel configuration file:

             <b>device</b> <b>at45d</b>

       Alternatively, to load the driver as a module at boot time, place the following line in <u><a href="../man5/loader.conf.5.html">loader.conf</a></u>(5):

             at45d_load="YES"

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>at45d</b>  driver  provides support for the family of non-volatile storage devices known collectively as
       DataFlash(tm).  DataFlash chips typically have part numbers beginning  with  AT45DB.   The  <b>at45d</b>  driver
       supports  only the SPI bus versions of each AT45DB device, indicated by the last digit of the part number
       being 1 or 2.

       The <b>at45d</b> driver uses opcode 0x9f to read the manufacturer and device ID data to  determine  whether  the
       device  is supported.  The device ID is looked up using a table of data within the driver which describes
       the attributes of each supported device, such as block size, sector size, and device  capacity.   When  a
       supported  device  is  found,  the  <b>at45d</b>  driver  creates  a  disk  device  and  makes  it accessible at
       <u>/dev/flash/at45d?</u>.  The new disk device is then tasted by the available <u><a href="../man4/geom.4.html">geom</a></u>(4) modules as with any  disk
       device.

</pre><h4><b>HARDWARE</b></h4><pre>
       The <b>at45d</b> driver provides support for the following devices:

       <b>•</b>   AT45DB011B
       <b>•</b>   AT45DB021B
       <b>•</b>   AT45DB041x
       <b>•</b>   AT45DB081B
       <b>•</b>   AT45DB161x
       <b>•</b>   AT45DB321x
       <b>•</b>   AT45DB321x
       <b>•</b>   AT45DB641E
       <b>•</b>   AT45DB642x

</pre><h4><b>FDT</b> <b>CONFIGURATION</b></h4><pre>
       On  an  <u><a href="../man4/fdt.4.html">fdt</a></u>(4)  based  system,  the  <b>at45d</b>  device  is  defined  as a slave device subnode of the SPI bus
       controller node.  All properties documented in the <u>spibus.txt</u> bindings document  can  be  used  with  the
       <b>at45d</b> device.  The most commonly-used ones are documented below.

       The following properties are required in the <b>at45d</b> device subnode:

       <u>compatible</u>
               Must be the string "atmel,at45".

       <u>reg</u>     Chip select address of device.

       <u>spi-max-frequency</u>
               The maximum bus frequency to use when communicating with this slave device.  Actual bus speed may
               be lower, depending on the capabilities of the SPI bus controller hardware.

       The following properties are optional for the <b>at45d</b> device subnode:

       <u>freebsd,sectorsize</u>
               The  sector  size  of  the  disk  created  for this storage device.  It must be a multiple of the
               device's page size.  The default is the device page size.

       <u>spi-cpha</u>
               Empty property indicating the slave device requires shifted clock phase (CPHA) mode.

       <u>spi-cpol</u>
               Empty property indicating the slave device requires inverse clock polarity (CPOL) mode.

       <u>spi-cs-high</u>
               Empty property indicating the slave device requires chip select active high.

</pre><h4><b>HINTS</b> <b>CONFIGURATION</b></h4><pre>
       On a <u><a href="../man5/device.hints.5.html">device.hints</a></u>(5) based system, such as <b>MIPS</b>, these values are configurable for <b>at45d</b>:

       <u>hint.at45d.%d.at</u>
               The spibus the <b>at45d</b> instance is attached to.

       <u>hint.at45d.%d.clock</u>
               The maximum bus frequency to use when communicating with this device.  Actual bus  speed  may  be
               lower, depending on the capabilities of the SPI bus controller hardware.

       <u>hint.at45d.%d.cs</u>
               The chip-select number to assert when performing I/O for this device.  Set the high bit (1 &lt;&lt; 31)
               to invert the logic level of the chip select line.

       <u>hint.at45d.%d.mode</u>
               The SPI mode (0-3) to use when communicating with this device.

       <u>hint.at45d.%d.sectorsize</u>
               The  sector  size  of  the  disk  created  for this storage device.  It must be a multiple of the
               device's page size.  The default is the device page size.

</pre><h4><b>FILES</b></h4><pre>
       <u>/dev/flash/at45d?</u>  Provides read/write access to the storage device.

       <u>/dev/flash/spi?</u>    An alias for the <u>/dev/at45d?</u> device, for backwards compatibility with  older  versions
                          of the driver.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man4/fdt.4.html">fdt</a></u>(4), <u><a href="../man4/geom.4.html">geom</a></u>(4)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>at45d</b> driver first appeared in FreeBSD 6.0.

Debian                                            March 2, 2019                                         <u><a href="../man4/AT45D.4.html">AT45D</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>