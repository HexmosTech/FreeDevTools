<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>smartpqi - Microchip Smart Storage SCSI driver</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/manpages">manpages_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       smartpqi - Microchip Smart Storage SCSI driver

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>modprobe</b> <b>smartpqi</b> [<b>disable_device_id_wildcards=</b>{<b>0</b>|<b>1</b>}] [<b>disable_heartbeat=</b>{<b>0</b>|<b>1</b>}]
                         [<b>disable_ctrl_shutdown=</b>{<b>0</b>|<b>1</b>}] [<b>lockup_action=</b>{<b>none</b>|<b>reboot</b>|<b>panic</b>}]
                         [<b>expose_ld_first=</b>{<b>0</b>|<b>1</b>}] [<b>hide_vsep=</b>{<b>0</b>|<b>1</b>}] [<b>disable_managed_interrupts=</b>{<b>0</b>|<b>1</b>}]
                         [<b>ctrl_ready_timeout=</b>{<b>0</b>|[<b>30</b>,<b>1800</b>]}]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>smartpqi</b> is a SCSI driver for Microchip Smart Storage controllers.

   <b>Supported</b> <u><b>ioctl</b></u><b>()</b> <b>operations</b>
       For  compatibility  with  applications written for the <b><a href="../man4/cciss.4.html">cciss</a></b>(4) and <b><a href="../man4/hpsa.4.html">hpsa</a></b>(4) drivers, many, but not all of
       the <b><a href="../man2/ioctl.2.html">ioctl</a></b>(2) operations supported by the <b>hpsa</b> driver are also supported by the <b>smartpqi</b> driver.  The data
       structures   used   by   these   operations   are   described   in   the   Linux   kernel   source   file
       <u>include/linux/cciss_ioctl.h</u>.

       <b>CCISS_DEREGDISK</b>
       <b>CCISS_REGNEWDISK</b>
       <b>CCISS_REGNEWD</b>
              These  operations  all  do exactly the same thing, which is to cause the driver to re-scan for new
              devices.  This does exactly the same  thing  as  writing  to  the  <b>smartpqi</b>-specific  host  <u>rescan</u>
              attribute.

       <b>CCISS_GETPCIINFO</b>
              This  operation  returns  the  PCI domain, bus, device, and function and "board ID" (PCI subsystem
              ID).

       <b>CCISS_GETDRIVVER</b>
              This operation returns the driver version in four bytes, encoded as:

                  (major_version &lt;&lt; 28) | (minor_version &lt;&lt; 24) |
                          (release &lt;&lt; 16) | revision

       <b>CCISS_PASSTHRU</b>
              Allows BMIC and CISS commands to be passed through to the controller.

   <b>Boot</b> <b>options</b>
       <b>disable_device_id_wildcards=</b>{<b>0</b>|<b>1</b>}
              Disables support for device ID wildcards.  The default value is 0 (wildcards are enabled).

       <b>disable_heartbeat=</b>{<b>0</b>|<b>1</b>}
              Disables support for the controller's heartbeat check.   This  parameter  is  used  for  debugging
              purposes.  The default value is 0 (the controller's heartbeat check is enabled).

       <b>disable_ctrl_shutdown=</b>{<b>0</b>|<b>1</b>}
              Disables  support  for  shutting  down  the  controller  in the event of a controller lockup.  The
              default value is 0 (controller will be shut down).

       <b>lockup_action=</b>{<b>none</b>|<b>reboot</b>|<b>panic</b>}
              Specifies the action the driver takes when a controller lockup is detected.  The default action is
              <b>none</b>.
              parameter   action
              ─────────────────────────────────────────────
              <b>none</b>        take controller offline only
              <b>reboot</b>      reboot the system
              <b>panic</b>       panic the system

       <b>expose_ld_first=</b>{<b>0</b>|<b>1</b>}
              This option exposes logical devices to the OS before physical devices.  The  default  value  is  0
              (physical devices exposed first).

       <b>hide_vsep=</b>{<b>0</b>|<b>1</b>}
              This  option  disables exposure of the virtual SEP to the OS.  The default value is 0 (virtual SEP
              is exposed).

       <b>disable_managed_interrupts=</b>{<b>0</b>|<b>1</b>}
              Disables driver utilization of Linux kernel  managed  interrupts  for  controllers.   The  managed
              interrupts  feature  automatically  distributes  interrupts  to all available CPUs and assigns SMP
              affinity.  The default value is 0 (managed interrupts enabled).

       <b>ctrl_ready_timeout=</b>{<b>0</b>|[<b>30</b>,<b>1800</b>]}
              This option specifies the timeout in seconds for the driver to  wait  for  the  controller  to  be
              ready.   The  valid  range is 0 or [<b>30</b>, <b>1800</b>].  The default value is 0, which causes the driver to
              use a timeout of 180 seconds.

</pre><h4><b>FILES</b></h4><pre>
   <b>Device</b> <b>nodes</b>
       Disk drives are accessed via the SCSI disk driver (<u>sd</u>), tape drives via the SCSI tape  driver  (<u>st</u>),  and
       the  RAID  controller  via  the SCSI generic driver (<u>sg</u>), with device nodes named <u>/dev/sd</u>*, <u>/dev/st</u>*, and
       <u>/dev/sg</u>*, respectively.

   <b>SmartPQI-specific</b> <b>host</b> <b>attribute</b> <b>files</b> <b>in</b> <u><b><a href="file:/sys">/sys</a></b></u>
       <u>/sys/class/scsi_host/host</u>*<u>/rescan</u>
              The host <u>rescan</u> attribute is a write-only attribute.  Writing to this  attribute  will  cause  the
              driver  to  scan  for  new,  changed,  or removed devices (e.g., hot-plugged tape drives, or newly
              configured or deleted logical volumes) and notify the SCSI  mid-layer  of  any  changes  detected.
              Usually  this  action  is triggered automatically by configuration changes, so the user should not
              normally have to write to this file.  Doing so may be useful when  hot-plugging  devices  such  as
              tape drives or entire storage boxes containing pre-configured logical volumes.

       <u>/sys/class/scsi_host/host</u>*<u>/lockup_action</u>
              The  host <u>lockup_action</u> attribute is a read/write attribute.  This attribute will cause the driver
              to perform a specific action in the unlikely event that a controller  lockup  has  been  detected.
              See <b>OPTIONS</b> above for an explanation of the <u>lockup_action</u> values.

       <u>/sys/class/scsi_host/host</u>*<u>/driver_version</u>
              The <u>driver_version</u> attribute is read-only.  This attribute contains the smartpqi driver version.

              For example:

                  $ <b>cat</b> <b>/sys/class/scsi_host/host1/driver_version</b>
                  1.1.2-126

       <u>/sys/class/scsi_host/host</u>*<u>/firmware_version</u>
              The  <u>firmware_version</u>  attribute  is  read-only.   This attribute contains the controller firmware
              version.

              For example:

                  $ <b>cat</b> <b>/sys/class/scsi_host/host1/firmware_version</b>
                  1.29-112

       <u>/sys/class/scsi_host/host</u>*<u>/model</u>
              The <u>model</u> attribute is read-only.  This attribute contains the product  identification  string  of
              the controller.

              For example:

                  $ <b>cat</b> <b>/sys/class/scsi_host/host1/model</b>
                  1100-16i

       <u>/sys/class/scsi_host/host</u>*<u>/serial_number</u>
              The  <u>serial_number</u>  attribute  is  read-only.   This  attribute contains the unique identification
              number of the controller.

              For example:

                  $ <b>cat</b> <b>/sys/class/scsi_host/host1/serial_number</b>
                  6A316373777

       <u>/sys/class/scsi_host/host</u>*<u>/vendor</u>
              The <u>vendor</u> attribute is read-only.  This attribute contains the vendor  identification  string  of
              the controller.

              For example:

                  $ <b>cat</b> <b>/sys/class/scsi_host/host1/vendor</b>
                  Adaptec

       <u>/sys/class/scsi_host/host</u>*<u>/enable_stream_detection</u>
              The  <u>enable_stream_detection</u>  attribute  is  read-write.   This  attribute enables/disables stream
              detection in the driver.  Enabling stream detection can improve sequential write  performance  for
              ioaccel-enabled  volumes.   See  the  <b>ssd_smart_path_enabled</b> disk attribute section for details on
              ioaccel-enabled volumes.  The default value is 1 (stream detection enabled).

              Enable example:

                  $ <b>echo</b> <b>1</b> <b>&gt;</b> <b>/sys/class/scsi_host/host1/enable_stream_detection</b>

       <u>/sys/class/scsi_host/host</u>*<u>/enable_r5_writes</u>
              The <u>enable_r5_writes</u> attribute is  read-write.   This  attribute  enables/disables  RAID  5  write
              operations  for  ioaccel-enabled volumes.  Enabling can improve sequential write performance.  See
              the <b>ssd_smart_path_enabled</b> disk attribute section for details  on  ioaccel-enabled  volumes.   The
              default value is 1 (RAID 5 writes enabled).

              Enable example:

                  $ <b>echo</b> <b>1</b> <b>&gt;</b> <b>/sys/class/scsi_host/host1/enable_r5_writes</b>

       <u>/sys/class/scsi_host/host</u>*<u>/enable_r6_writes</u>
              The  <u>enable_r6_writes</u>  attribute  is  read-write.   This  attribute  enables/disables RAID 6 write
              operations for ioaccel-enabled volumes.  Enabling can improve sequential write  performance.   See
              the  <b>ssd_smart_path_enabled</b>  disk  attribute  section for details on ioaccel-enabled volumes.  The
              default value is 1 (RAID 6 writes enabled).

              Enable example:

                  $ <b>echo</b> <b>1</b> <b>&gt;</b> <b>/sys/class/scsi_host/host1/enable_r6_writes</b>

   <b>SmartPQI-specific</b> <b>disk</b> <b>attribute</b> <b>files</b> <b>in</b> <u><b><a href="file:/sys">/sys</a></b></u>
       In the file specifications below, <u>c</u> stands for the number of the appropriate SCSI controller,  <u>b</u>  is  the
       bus number, <u>t</u> the target number, and <u>l</u> is the logical unit number (LUN).

       <u><a href="file:/sys/class/scsi_disk/">/sys/class/scsi_disk/</a></u>c<u>:</u>b<u>:</u>t<u>:</u>l<u>/device/raid_level</u>
              The  <u>raid_level</u>  attribute  is  read-only.   This attribute contains the RAID level of the logical
              volume.

              For example:

                  $ <b>cat</b> <b>/sys/class/scsi_disk/4:0:0:0/device/raid_level</b>
                  RAID 0

       <u><a href="file:/sys/class/scsi_disk/">/sys/class/scsi_disk/</a></u>c<u>:</u>b<u>:</u>t<u>:</u>l<u>/device/sas_address</u>
              The <u>sas_address</u> attribute is read-only.  This attribute contains the SAS address of the device.

              For example:

                  $ <b>cat</b> <b>/sys/class/scsi_disk/1:0:3:0/device/sas_address</b>
                  0x5001173d028543a2

       <u><a href="file:/sys/class/scsi_disk/">/sys/class/scsi_disk/</a></u>c<u>:</u>b<u>:</u>t<u>:</u>l<u>/device/ssd_smart_path_enabled</u>
              The <u>ssd_smart_path_enabled</u> attribute is read-only.  This attribute is for ioaccel-enabled volumes.
              (Ioaccel is an alternative driver submission path that allows the  driver  to  send  I/O  requests
              directly  to backend SCSI devices, bypassing the controller firmware.  This results in an increase
              in performance.  This method is used for HBA disks and for logical  volumes  comprised  of  SSDs.)
              Contains 1 if ioaccel is enabled for the volume and 0 otherwise.

              For example:

                  $ <b>cat</b> <b>/sys/class/scsi_disk/1:0:3:0/device/ssd_smart_path_enabled</b>
                  0

       <u><a href="file:/sys/class/scsi_disk/">/sys/class/scsi_disk/</a></u>c<u>:</u>b<u>:</u>t<u>:</u>l<u>/device/lunid</u>
              The <u>lunid</u> attribute is read-only.  This attribute contains the SCSI LUN ID for the device.

              For example:

                  $ <b>cat</b> <b>/sys/class/scsi_disk/13:1:0:3/device/lunid</b>
                  0x0300004000000000

       <u><a href="file:/sys/class/scsi_disk/">/sys/class/scsi_disk/</a></u>c<u>:</u>b<u>:</u>t<u>:</u>l<u>/device/unique_id</u>
              The  <u>unique_id</u>  attribute  is  read-only.   This  attribute  contains  a  16-byte ID that uniquely
              identifies the device within the controller.

              For example:

                  $ <b>cat</b> <b>/sys/class/scsi_disk/13:1:0:3/device/unique_id</b>
                  600508B1001C6D4723A8E98D704FDB94

       <u><a href="file:/sys/class/scsi_disk/">/sys/class/scsi_disk/</a></u>c<u>:</u>b<u>:</u>t<u>:</u>l<u>/device/path_info</u>
              The <u>path_info</u> attribute is read-only.  This attribute contains the <u>c</u>:<u>b</u>:<u>t</u>:<u>l</u>  of  the  device  along
              with  the  device  type  and  whether  the  device is Active or Inactive.  If the device is an HBA
              device, <u>path_info</u> will also display the PORT, BOX, and BAY the device is plugged into.

              For example:

                  $ <b>cat</b> <b>/sys/class/scsi_disk/13:1:0:3/device/path_info</b>
                  [13:1:0:3]    Direct-Access     Active

                  $ <b>cat</b> <b>/sys/class/scsi_disk/12:0:9:0/device/path_info</b>
                  [12:0:9:0]  Direct-Access   PORT: C1 BOX: 1 BAY: 14 Inactive
                  [12:0:9:0]  Direct-Access   PORT: C0 BOX: 1 BAY: 14 Active

       <u><a href="file:/sys/class/scsi_disk/">/sys/class/scsi_disk/</a></u>c<u>:</u>b<u>:</u>t<u>:</u>l<u>/device/raid_bypass_cnt</u>
              The <u>raid_bypass_cnt</u> attribute is read-only.  This attribute contains the number  of  I/O  requests
              that   have   gone   through   the   ioaccel   path   for   ioaccel-enabled   volumes.    See  the
              <b>ssd_smart_path_enabled</b> disk attribute section for details on ioaccel-enabled volumes.

              For example:

                  $ <b>cat</b> <b>/sys/class/scsi_disk/13:1:0:3/device/raid_bypass_cnt</b>
                  0x300

       <u><a href="file:/sys/class/scsi_disk/">/sys/class/scsi_disk/</a></u>c<u>:</u>b<u>:</u>t<u>:</u>l<u>/device/sas_ncq_prio_enable</u>
              The <u>sas_ncq_prio_enable</u> attribute  is  read/write.   This  attribute  enables  SATA  NCQ  priority
              support.  This attribute works only when device has NCQ support and controller firmware can handle
              IO with NCQ priority attribute.

              For example:

                  $ <b>echo</b> <b>1</b> <b>&gt;</b> <b>/sys/class/scsi_disk/13:1:0:3/device/sas_ncq_prio_enable</b>

</pre><h4><b>VERSIONS</b></h4><pre>
       The <b>smartpqi</b> driver was added in Linux 4.9.

</pre><h4><b>NOTES</b></h4><pre>
   <b>Configuration</b>
       To  configure a Microchip Smart Storage controller, refer to the User Guide for the controller, which can
       be found by searching for the specific controller at https://www.microchip.com/design-centers/storage.

</pre><h4><b>HISTORY</b></h4><pre>
       <u>/sys/class/scsi_host/host*/version</u> was replaced by two sysfs entries:

              <u>/sys/class/scsi_host/host*/driver_version</u>

              <u>/sys/class/scsi_host/host*/firmware_version</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man4/cciss.4.html">cciss</a></b>(4), <b><a href="../man4/hpsa.4.html">hpsa</a></b>(4), <b><a href="../man4/sd.4.html">sd</a></b>(4), <b><a href="../man4/st.4.html">st</a></b>(4), <b><a href="../man4/sg.4.html">sg</a></b>(4)

       <u>Documentation/ABI/testing/sysfs-bus-pci-devices-cciss</u> in the Linux kernel source tree.

Linux man-pages 6.9.1                              2024-05-02                                        <u><a href="../man4/smartpqi.4.html">smartpqi</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>