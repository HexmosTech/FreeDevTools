<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mac_ntpd — policy allowing ntpd to run as non-root user</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mac_ntpd — policy allowing ntpd to run as non-root user

</pre><h4><b>SYNOPSIS</b></h4><pre>
       To compile the ntpd policy into your kernel, place the following lines in your kernel configuration file:

             <b>options</b> <b>MAC</b>
             <b>options</b> <b>MAC_NTPD</b>

       Alternately,  to  load  the  ntpd  policy  module  at  boot time, place the following line in your kernel
       configuration file:

             <b>options</b> <b>MAC</b>

       and in <u><a href="../man5/loader.conf.5.html">loader.conf</a></u>(5):

             mac_ntpd_load="YES"

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>mac_ntpd</b> policy grants any process running  as  user  ‘ntpd’  (uid  123)  the  privileges  needed  to
       manipulate system time, and to (re-)bind to the privileged NTP port.

       When  <u><a href="../man8/ntpd.8.html">ntpd</a></u>(8)  is  started  with ‘<b>-u</b> <u>&lt;user&gt;[:group]</u>’ on the command line, it performs all initializations
       requiring root privileges, then drops root privileges by switching to the given user id.  From that point
       on, the only privileges it requires are the ability to manipulate system time, and the ability to re-bind
       a UDP socket to the NTP port (port 123) after a network interface change.

       With the <b>mac_ntpd</b> policy active, it may also be possible to start ntpd as a non-root  user,  because  the
       default ntpd options don't require any additional root privileges beyond those granted by the policy.

   <b>Privileges</b> <b>Granted</b>
       The exact set of kernel privileges granted to any process running with the configured uid is:
             PRIV_ADJTIME
             PRIV_CLOCK_SETTIME
             PRIV_NTP_ADJTIME
             PRIV_NETINET_RESERVEDPORT
             PRIV_NETINET_REUSEPORT

   <b>Runtime</b> <b>Configuration</b>
       The  following <u><a href="../man8/sysctl.8.html">sysctl</a></u>(8) MIBs are available for fine-tuning this MAC policy.  All <u><a href="../man8/sysctl.8.html">sysctl</a></u>(8) variables can
       also be set as <u><a href="../man8/loader.8.html">loader</a></u>(8) tunables in <u><a href="../man5/loader.conf.5.html">loader.conf</a></u>(5).

       <u>security.mac.ntpd.enabled</u>
               Enable the <b>mac_ntpd</b> policy.  (Default: 1).

       <u>security.mac.ntpd.uid</u>
               The numeric uid of the ntpd user.  (Default: 123).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man4/mac.4.html">mac</a></u>(4), <u><a href="../man8/ntpd.8.html">ntpd</a></u>(8)

</pre><h4><b>HISTORY</b></h4><pre>
       MAC first appeared in FreeBSD 5.0 and <b>mac_ntpd</b> first appeared in FreeBSD 12.0.

Debian                                            July 20, 2018                                      <u><a href="../man4/MAC_NTPD.4.html">MAC_NTPD</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>