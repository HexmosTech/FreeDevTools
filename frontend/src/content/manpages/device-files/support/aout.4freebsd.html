<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>aout — kernel support for executing binary files in legacy a.out format</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       aout — kernel support for executing binary files in legacy a.out format

</pre><h4><b>SYNOPSIS</b></h4><pre>
             kldload a.out

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u><a href="../man5/a.out.5.html">a.out</a></u>(5)  executable  format  was  used  before the release of FreeBSD 3.0.  Since i386 was the only
       supported architecture at that time, <u><a href="../man5/a.out.5.html">a.out</a></u>(5) executables can only be activated on platforms that support
       execution of i386 code, such as i386 and amd64.

       To add kernel support for old syscalls and old syscall invocation methods, place the following options in
       the kernel configuration file:

             <b>options</b> <b>COMPAT_43</b>
             <b>options</b> <b>COMPAT_FREEBSD32</b>

       The <u>COMPAT_FREEBSD32</u> option is only required on 64-bit CPU architectures.

       The <u>aout.ko</u> module needs to be loaded with the <u><a href="../man8/kldload.8.html">kldload</a></u>(8) utility in order to support the <u><a href="../man5/a.out.5.html">a.out</a></u>(5)  image
       activator:

             <b>kldload</b> <b>aout</b>

       Alternatively, to load the module at boot time, place the following line in <u><a href="../man5/loader.conf.5.html">loader.conf</a></u>(5):

             aout_load="YES"

       The  <u><a href="../man5/a.out.5.html">a.out</a></u>(5)  format  was  mainstream  quite  a long time ago.  Reasonable default settings and security
       requirements of modern operating systems today contradict  the  default  environment  of  that  time  and
       require adjustments of the system to mimic natural environment for old binaries.

       The following <u><a href="../man8/sysctl.8.html">sysctl</a></u>(8) tunables are useful for this:

             <u>security.bsd.map_at_zero</u>   Set  to 1 to allow mapping of process pages at address 0.  Some very old
                                        <u>ZMAGIC</u> executable images require text mapping at address 0.

             <u>kern.pid_max</u>               Old versions of FreeBSD used signed  16-bit  type  for  <u>pid_t</u>.   Current
                                        kernels  use  32-bit type for <u>pid_t</u>, and allow process id's up to 99999.
                                        Such values cannot be represented by old <u>pid_t</u>,  mostly  causing  issues
                                        for  processes  using  <u><a href="../man2/wait.2.html">wait</a></u>(2)  syscalls,  for  example shells.  Set the
                                        sysctl to 30000 to work around the problem.

             <u>kern.elf32.read_exec</u>       Set to 1 to force any accessible  memory  mapping  performed  by  32-bit
                                        process  to  allow execution, see <u><a href="../man2/mmap.2.html">mmap</a></u>(2).  Old i386 CPUs did not have a
                                        bit in PTE which  disallowed  execution  from  the  page,  so  many  old
                                        programs  did not specify <u>PROT_EXEC</u> even for mapping of executable code.
                                        The sysctl forces <u>PROT_EXEC</u> if mapping has any access  allowed  at  all.
                                        The  setting  is  only  needed  if  the  host  architecture  allows non-
                                        executable mappings.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/execve.2.html">execve</a></u>(2), <u><a href="../man5/a.out.5.html">a.out</a></u>(5), <u><a href="../man5/elf.5.html">elf</a></u>(5), <u><a href="../man8/sysctl.8.html">sysctl</a></u>(8)

</pre><h4><b>HISTORY</b></h4><pre>
       The <u><a href="../man5/a.out.5.html">a.out</a></u>(5) executable format was used on ancient AT&amp;T UNIX and served as the main executable format for
       FreeBSD from the beginning up to FreeBSD 2.2.9.  In FreeBSD 3.0 it was superseded by <u><a href="../man5/elf.5.html">elf</a></u>(5).

</pre><h4><b>AUTHORS</b></h4><pre>
       The <b>aout</b> manual page was written by Konstantin Belousov &lt;<u><a href="mailto:kib@FreeBSD.org">kib@FreeBSD.org</a></u>&gt;.

</pre><h4><b>BUGS</b></h4><pre>
       On 64bit architectures, not all wrappers for older syscalls are implemented.

Debian                                           August 14, 2012                                         <u><a href="../man4/AOUT.4.html">AOUT</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>