<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>modulefile - files containing Tcl code for the Modules package</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/environment-modules">environment-modules_5.0.1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       modulefile - files containing Tcl code for the Modules package

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>modulefiles</u>  are  written  in  the Tool Command Language, <b>Tcl(n)</b> and are interpreted by the <b>modulecmd.tcl</b>
       program via the <a href="../man1/module.1.html">module</a>(1) user interface. <u>modulefiles</u> can be loaded,  unloaded,  or  switched  on-the-fly
       while  the  user  is  working; and can be used to implement site policies regarding the access and use of
       applications.

       A <u>modulefile</u> begins with the magic cookie, <b>#%Module</b>. A version number may be placed  after  this  string.
       The  version number is useful as the <u>modulefile</u> format may change thus it reflects the minimum version of
       <b>modulecmd.tcl</b> required to interpret the modulefile. If a version number doesn't exist, then <b>modulecmd.tcl</b>
       will assume the <u>modulefile</u> is compatible. Files without the magic cookie or with a version number greater
       than the current  version  of  <b>modulecmd.tcl</b>  will  not  be  interpreted.  If  the  <b>mcookie_version_check</b>
       configuration is disabled the version number set is not checked.

       Each  <u>modulefile</u>  contains  the changes to a user's environment needed to access an application. Tcl is a
       simple programming language which permits <u>modulefiles</u> to  be  arbitrarily  complex,  depending  upon  the
       application's  and  the <u>modulefile</u> writer's needs. If support for extended tcl (tclX) has been configured
       for your installation of the Modules package, you may use all the extended  commands  provided  by  tclX,
       too.

       A  typical  <u>modulefile</u>  is  a  simple  bit of code that set or add entries to the <b>PATH</b>, <b>MANPATH</b>, or other
       environment variables. A Modulefile is evaluated against current  <b>modulecmd.tcl</b>'s  mode  which  leads  to
       specific evaluation results. For instance if the <u>modulefile</u> sets a value to an environment variable, this
       variable is set when modulefile is loaded and unset when modulefile is unloaded.

       Tcl  has  conditional  statements  that  are  evaluated  when the <u>modulefile</u> is interpreted. This is very
       effective for managing path or environment changes due to different OS  releases  or  architectures.  The
       user  environment  information  is  encapsulated into a single <u>modulefile</u> kept in a central location. The
       same <u>modulefile</u> is used by every user on any machine.  So,  from  the  user's  perspective,  starting  an
       application is exactly the same irrespective of the machine or platform they are on.

       <u>modulefiles</u>  also hide the notion of different types of shells. From the user's perspective, changing the
       environment for one shell looks exactly the same as changing the environment for another shell.  This  is
       useful  for  new  or  novice  users and eliminates the need for statements such as "if you're using the C
       Shell do this ..., otherwise if you're using the Bourne shell do this ...". Announcing and accessing  new
       software  is  uniform and independent of the user's shell. From the <u>modulefile</u> writer's perspective, this
       means one set of information will take care of every type of shell.

</pre><h4><b>MODULES</b> <b>SPECIFIC</b> <b>TCL</b> <b>COMMANDS</b></h4><pre>
       The Modules Package uses commands which are extensions to the "standard"  Tool  Command  Language  <b>Tcl(n)</b>
       package.  Unless  otherwise  specified, the Module commands return the empty string. Some commands behave
       differently when a <u>modulefile</u> is loaded or unloaded. The command descriptions assume  the  <u>modulefile</u>  is
       being loaded.

       <b>append-path</b> <b>[-d</b> <b>C|--delim</b> <b>C|--delim=C]</b> <b>[--duplicates]</b> <b>variable</b> <b>value...</b>
              See <u>prepend-path</u>.

       <b>break</b>  This  is  not  a  Modules-specific  command,  it's actually part of Tcl, which has been overloaded
              similar to the <u>continue</u> and <u>exit</u> commands to have the effect of  causing  the  module  not  to  be
              listed  as  loaded  and  not  affect  other modules being loaded concurrently. All non-environment
              commands within the module will be performed up to this point and processing will continue  on  to
              the  next  module  on  the  command line. The <u>break</u> command will only have this effect if not used
              within a Tcl loop though.

              An example: Suppose that a  full  selection  of  <u>modulefiles</u>  are  needed  for  various  different
              architectures,  but  some of the <u>modulefiles</u> are not needed and the user should be alerted. Having
              the unnecessary <u>modulefile</u> be a link to the following notavail <u>modulefile</u> will perform the task as
              required.

                 #%Module1.0
                 ## notavail modulefile
                 ##
                 proc ModulesHelp { } {
                     puts stderr "This module does nothing but alert the user"
                     puts stderr "that the [module-info name] module is not available"
                 }

                 module-whatis "Notifies user that module is not available."
                 set curMod [module-info name]
                 if { [ module-info mode load ] } {
                     puts stderr "Note: '$curMod' is not available for [uname sysname]."
                 }
                 break

       <b>chdir</b> <b>directory</b>
              Set the current working directory to <u>directory</u>.

       <b>conflict</b> <b>modulefile...</b>
              <u>prereq</u> and <u>conflict</u> control whether or not the <u>modulefile</u> will be loaded. The <u>prereq</u> command lists
              <u>modulefiles</u> which must have been previously loaded before the current <u>modulefile</u> will  be  loaded.
              Similarly, the <u>conflict</u> command lists <u>modulefiles</u> which <u>conflict</u> with the current <u>modulefile</u>. If a
              list  contains  more  than  one  <u>modulefile</u>,  then  each  member  of the list acts as a Boolean OR
              operation. Multiple <u>prereq</u> and <u>conflict</u> commands may be used to create a Boolean AND operation. If
              one of the requirements have not been satisfied, an error is reported and the  current  <u>modulefile</u>
              makes no changes to the user's environment.

              If  an  argument  for <u>prereq</u> is a directory and any <u>modulefile</u> from the directory has been loaded,
              then the prerequisite is met. For example, specifying X11 as a <u>prereq</u> means that  any  version  of
              X11, X11/R4 or X11/R5, must be loaded before proceeding.

              If  an  argument for <u>conflict</u> is a directory and any other <u>modulefile</u> from that directory has been
              loaded, then a conflict will occur.  For example, specifying X11 as a <u>conflict</u>  will  stop  X11/R4
              and X11/R5 from being loaded at the same time.

              The parameter <u>modulefile</u> may also be a symbolic modulefile name or a modulefile alias. It may also
              leverage a specific syntax to finely select module version (see <u>Advanced</u> <u>module</u> <u>version</u> <u>specifiers</u>
              section below).

       <b>continue</b>
              This  is  not  a modules specific command but another overloaded Tcl command and is similar to the
              <u>break</u> or <u>exit</u> commands except the module will be listed  as  loaded  as  well  as  performing  any
              environment  or  Tcl  commands  up  to this point and then continuing on to the next module on the
              command line. The <u>continue</u> command will only have this effect  if  not  used  within  a  Tcl  loop
              though.

       <b>exit</b> <b>[N]</b>
              This  is  not  a modules specific command but another overloaded Tcl command and is similar to the
              <u>break</u> or <u>continue</u> commands. However, this command will  cause  the  immediate  cessation  of  this
              module  and  any  additional ones on the command line. This module and the subsequent modules will
              not be listed as loaded. No environment commands will be performed in the current module.

       <b>getenv</b> <b>variable</b> <b>[value]</b>
              Returns value of environment <u>variable</u>. If <u>variable</u> is not defined, <u>value</u> is returned  if  set,  an
              empty  string  is  returned  otherwise. The <u>getenv</u> command should be preferred over the Tcl global
              variable <b>env</b> to query environment variables.

              When modulefile is evaluated in <u>display</u> mode, <u>getenv</u> returns <u>variable</u> name  prefixed  with  dollar
              sign (e.g., <b>$variable</b>).

       <b>getvariant</b> <b>variant</b> <b>[value]</b>
              Returns value of designated <u>variant</u>. If <u>variant</u> is not defined, <u>value</u> is returned if set, an empty
              string  is  returned  otherwise. The <u>getvariant</u> command should be preferred over the <u>ModuleVariant</u>
              Tcl array to query a variant value.

              When modulefile is evaluated in <u>display</u> mode, <u>getvariant</u> returns <u>variant</u> name  enclosed  in  curly
              braces (e.g., <b>{variant}</b>).

       <b>is-avail</b> <b>modulefile...</b>
              The  <u>is-avail</u>  command  returns  a  true  value if any of the listed <u>modulefiles</u> exists in enabled
              <b>MODULEPATH</b>. If a list contains more than one <u>modulefile</u>, then each member acts  as  a  boolean  OR
              operation.  If  an  argument  for <u>is-avail</u> is a directory and a <u>modulefile</u> exists in the directory
              <u>is-avail</u> would return a true value.

              The parameter <u>modulefile</u> may also be a symbolic modulefile name or a modulefile alias. It may also
              leverage a specific syntax to finely select module version (see <u>Advanced</u> <u>module</u> <u>version</u> <u>specifiers</u>
              section below).

       <b>is-loaded</b> <b>[modulefile...]</b>
              The <u>is-loaded</u> command returns a true value if any of the listed <u>modulefiles</u> has been loaded or  if
              any  <u>modulefile</u>  is  loaded  in  case  no  argument  is provided. If a list contains more than one
              <u>modulefile</u>, then each member acts as a boolean OR operation. If an argument  for  <u>is-loaded</u>  is  a
              directory  and  any  <u>modulefile</u>  from  the directory has been loaded <u>is-loaded</u> would return a true
              value.

              The parameter <u>modulefile</u> may also be a symbolic modulefile name or a modulefile alias. It may also
              leverage a specific syntax to finely select module version (see <u>Advanced</u> <u>module</u> <u>version</u> <u>specifiers</u>
              section below).

       <b>is-saved</b> <b>[collection...]</b>
              The <u>is-saved</u> command returns a true value if any of  the  listed  <u>collections</u>  exists  or  if  any
              <u>collection</u>  exists  in  case no argument is provided. If a list contains more than one <u>collection</u>,
              then each member acts as a boolean OR operation.

              If <b>MODULES_COLLECTION_TARGET</b> is set, a suffix equivalent to the value of this variable is appended
              to the passed <u>collection</u> name. In case no <u>collection</u> argument is provided, a true value will  only
              be returned if a collection matching currently set target exists.

       <b>is-used</b> <b>[directory...]</b>
              The  <u>is-used</u>  command  returns  a  true value if any of the listed <u>directories</u> has been enabled in
              <b>MODULEPATH</b> or if any <u>directory</u> is enabled in case no argument is provided. If a list contains more
              than one <u>directory</u>, then each member acts as a boolean OR operation.

       <b>module</b> <b>[sub-command]</b> <b>[sub-command-options]</b> <b>[sub-command-args]</b>
              Contains the same <u>sub-commands</u> as described in the <a href="../man1/module.1.html">module</a>(1) man page in the  Module  Sub-Commands
              section.  Exception  made  for  the  following  sub-commands  that  can  only be used outside of a
              modulefile context: <b>path</b>, <b>paths</b>, <b>autoinit</b>, <b>help</b>,  <b>clear</b>,  <b>sh-to-mod</b>,  <b>edit</b>,  <b>config</b>,  <b>refresh</b>  and
              <b>source</b>.  Also the following sub-commands cannot be used but have a modulefile command counterpart:
              <b>prepend-path</b>, <b>append-path</b>, <b>remove-path</b>, <b>is-loaded</b>, <b>is-saved</b>, <b>is-used</b>, <b>is-avail</b> and <b>info-loaded</b>.

              This command permits a <u>modulefile</u> to <b>load</b> or <b>unload</b> other  <u>modulefiles</u>.  No  checks  are  made  to
              ensure  that  the  <u>modulefile</u>  does  not  try  to load itself. Often it is useful to have a single
              <u>modulefile</u> that performs a number of <b>module</b> <b>load</b> commands. For  example,  if  every  user  on  the
              system  requires  a  basic  set  of  applications loaded, then a core <u>modulefile</u> would contain the
              necessary <b>module</b> <b>load</b> commands.

              The <b>--not-req</b> option may be set for the <b>load</b>,  <b>unload</b>  and  <b>switch</b>  sub-commands  to  inhibit  the
              definition of an implicit prereq or conflict requirement onto specified modules.

              On  <b>try-load</b>  sub-command,  if  specified  <u>modulefile</u> is not found thus loaded, no implicit prereq
              requirement is defined over this module.

              Command line switches <b>--auto</b>, <b>--no-auto</b> and <b>--force</b> are ignored when passed to  a  <u>module</u>  command
              set in a <u>modulefile</u>.
                 Changed in version 4.7: Sub-command option <b>--no-req</b> added

                 Changed in version 5.0: <b>source</b> sub-command is not allowed anymore and <b>source</b> Tcl command should
                 be used instead

       <b>module-alias</b> <b>name</b> <b>modulefile</b>
              Assigns  the  <u>modulefile</u>  to  the  alias  <u>name</u>.  This  command  should  be  placed  in  one of the
              <b>modulecmd.tcl</b> rc files in order to provide shorthand invocations  of  frequently  used  <u>modulefile</u>
              names.

              The parameter <u>modulefile</u> may be either

              • a fully qualified <u>modulefile</u> with name and version

              • a symbolic <u>modulefile</u> name

              • another <u>modulefile</u> alias

       <b>module-forbid</b> <b>[options]</b> <b>modulefile...</b>
              Forbid  use  of  <u>modulefile</u>. An error is obtained when trying to evaluate a forbidden module. This
              command should be placed in one of the <b>modulecmd.tcl</b> rc files.

              <u>module-forbid</u> command accepts the following options:

              • <b>--after</b> <b>datetime</b>

              • <b>--before</b> <b>datetime</b>

              • <b>--not-user</b> <b>{user...}</b>

              • <b>--not-group</b> <b>{group...}</b>

              • <b>--message</b> <b>{text</b> <b>message}</b>

              • <b>--nearly-message</b> <b>{text</b> <b>message}</b>

              If <b>--after</b> option is set, forbidding is only effective after specified date  time.  Following  the
              same  principle,  if  <b>--before</b>  option  is set, forbidding is only effective before specified date
              time. Accepted date time format is <b>YYYY-MM-DD[THH:MM]</b>. If no time (<b>HH:MM</b>) is specified,  <b>00:00</b>  is
              assumed. <b>--after</b> and <b>--before</b> options are not supported on Tcl versions prior to 8.5.

              If  <b>--not-user</b>  option  is  set,  forbidding  is not applied if the username of the user currently
              running <b>modulecmd.tcl</b> is part of the list of username specified. Following the same  approach,  if
              <b>--not-group</b>  option  is  set, forbidding is not applied if current user is member of one the group
              specified. When both options are set, forbidding is not applied if a match is found for <b>--not-user</b>
              or <b>--not-group</b>.

              Error message returned when trying to evaluate a forbidden module can  be  supplemented  with  the
              <u>text</u> <u>message</u> set through <b>--message</b> option.

              If  <b>--after</b> option is set, modules are considered <u>nearly</u> <u>forbidden</u> during a number of days defined
              by      the      <b>nearly_forbidden_days</b>      <b>modulecmd.tcl</b>      configuration      option      (see
              <b>MODULES_NEARLY_FORBIDDEN_DAYS</b>),  prior  reaching  the  expiry date fixed by <b>--after</b> option. When a
              <u>nearly</u> <u>forbidden</u> module is evaluated a warning message is issued to inform  module  will  soon  be
              forbidden.   This  warning  message  can  be  supplemented  with  the  <u>text</u>  <u>message</u>  set  through
              <b>--nearly-message</b> option.

              If a <u>module-forbid</u> command applies to a <u>modulefile</u> also targeted by a <u>module-hide</u> <u>--hard</u>  command,
              this module is unveiled when precisely named to return an access error.

              Forbidden modules included in the result of an <b>avail</b> sub-command are reported with a <b>forbidden</b> tag
              applied to them. Nearly forbidden modules included in the result of an <b>avail</b> or a <b>list</b> sub-command
              are reported with a <b>nearly-forbidden</b> tag applied to them. See Module tags section in <a href="../man1/module.1.html">module</a>(1).

              The  parameter  <u>modulefile</u>  may  leverage  a  specific syntax to finely select module version (see
              <u>Advanced</u> <u>module</u> <u>version</u> <u>specifiers</u> section below).

       <b>module-hide</b> <b>[options]</b> <b>modulefile...</b>
              Hide <u>modulefile</u> to exclude it from available module search or module selection unless query refers
              to <u>modulefile</u> by its exact name. This command should be placed in  one  of  the  <b>modulecmd.tcl</b>  rc
              files.

              <u>module-hide</u> command accepts the following options:

              • <b>--soft|--hard</b>

              • <b>--hidden-loaded</b>

              • <b>--after</b> <b>datetime</b>

              • <b>--before</b> <b>datetime</b>

              • <b>--not-user</b> <b>{user...}</b>

              • <b>--not-group</b> <b>{group...}</b>

              When  <b>--soft</b>  option  is set, <u>modulefile</u> is also set hidden, but hiding is disabled when search or
              selection query's root name matches module's root name. This soft  hiding  mode  enables  to  hide
              modulefiles  from  bare  module availability listing yet keeping the ability to select such module
              for load with the regular resolution mechanism (i.e., no need to use module exact name  to  select
              it)

              When  <b>--hard</b>  option  is  set,  <u>modulefile</u>  is  also set hidden and stays hidden even if search or
              selection query refers to <u>modulefile</u> by its exact name.

              When <b>--hidden-loaded</b> option is set, hidden state also applies to the <u>modulefile</u> when it is loaded.
              Hidden loaded modules do not appear on <b>list</b> sub-command output, unless <b>--all</b> option is set.  Their
              loading or unloading informational messages are not reported unless the <b>verbosity</b>  <b>of</b>  <b>Modules</b>  is
              set to a level higher than <b>verbose</b>. Hidden loaded modules are detected in any cases by state query
              commands like <u>is-loaded</u>.

              If  <b>--after</b>  option is set, hiding is only effective after specified date time. Following the same
              principle, if <b>--before</b> option is set,  hiding  is  only  effective  before  specified  date  time.
              Accepted  date  time  format  is  <b>YYYY-MM-DD[THH:MM]</b>.  If  no  time (<b>HH:MM</b>) is specified, <b>00:00</b> is
              assumed. <b>--after</b> and <b>--before</b> options are not supported on Tcl versions prior to 8.5.

              If <b>--not-user</b> option is set, hiding is not applied if the username of the user  currently  running
              <b>modulecmd.tcl</b>  is  part  of  the  list  of  username  specified.  Following  the same approach, if
              <b>--not-group</b> option is set, hiding is not applied if current  user  is  member  of  one  the  group
              specified.  When both options are set, hiding is not applied if a match is found for <b>--not-user</b> or
              <b>--not-group</b>.

              If  the  <b>--all</b>  option is set on <b>avail</b>, <b>aliases</b>, <b>whatis</b> or <b>search</b> sub-commands, hiding is disabled
              thus hidden modulefiles are included in module search. Hard-hidden modules (i.e., declared  hidden
              with  <b>--hard</b> option) are not affected by <b>--all</b> and stay hidden even if option is set. <b>--all</b> option
              does not apply to <u>module</u> <u>selection</u> sub-commands like <b>load</b>. Thus in such context  a  hidden  module
              should  always  be referred by its exact full name (e.g., <b>foo/1.2.3</b> not <b>foo</b>) unless if it has been
              hidden in <b>--soft</b> mode. A hard-hidden module cannot be unveiled or selected in any case.

              If several <u>module-hide</u> commands target the same <u>modulefile</u>, the strongest hiding level is retained
              which means if both a regular, a <b>--soft</b> hiding command match a given module, regular  hiding  mode
              is  considered.  If  both  a regular and a <b>--hard</b> hiding command match a given module, hard hiding
              mode is retained. A set <b>--hidden-loaded</b> option is retained even if the  <u>module-hide</u>  statement  on
              which  it  is  declared  is superseded by a stronger <u>module-hide</u> statement with no <b>--hidden-loaded</b>
              option set.

              Hidden modules included in the result of an <b>avail</b> sub-command  are  reported  with  a  <b>hidden</b>  tag
              applied  to  them. Hidden loaded modules included in the result of a <b>list</b> sub-command are reported
              with a <b>hidden-loaded</b> tag applied to them. This tag is not reported on <b>avail</b>  sub-command  context.
              See Module tags section in <a href="../man1/module.1.html">module</a>(1).

              The parameter <u>modulefile</u> may also be a symbolic modulefile name or a modulefile alias. It may also
              leverage a specific syntax to finely select module version (see <u>Advanced</u> <u>module</u> <u>version</u> <u>specifiers</u>
              section below).

       <b>module-info</b> <b>option</b> <b>[info-args]</b>
              Provide  information  about the <b>modulecmd.tcl</b> program's state. Some of the information is specific
              to the internals of <b>modulecmd.tcl</b>.  <u>option</u>  is  the  type  of  information  to  be  provided,  and
              <u>info-args</u> are any arguments needed.

              <b>module-info</b> <b>alias</b> name
                 Returns the full <u>modulefile</u> name to which the <u>modulefile</u> alias <u>name</u> is assigned

              <b>module-info</b> <b>command</b> [commandname]
                 Returns the currently running <b>modulecmd.tcl</b>'s command as a string if no <u>commandname</u> is given.

                 Returns  <b>1</b>  if  <b>modulecmd.tcl</b>'s  command  is  <u>commandname</u>.   <u>commandname</u>  can be: <b>load</b>, <b>unload</b>,
                 <b>refresh</b>, <b>reload</b>, <b>source</b>, <b>switch</b>, <b>display</b>, <b>avail</b>, <b>aliases</b>, <b>list</b>, <b>whatis</b>, <b>search</b>, <b>purge</b>, <b>restore</b>,
                 <b>help</b>, <b>test</b> or <b>try-load</b>.

              <b>module-info</b> <b>loaded</b> modulefile
                 Returns the names of currently  loaded  modules  matching  passed  <u>modulefile</u>.   The  parameter
                 <u>modulefile</u>  might  either  be  a  fully  qualified  <u>modulefile</u>  with name and version or just a
                 directory which in case all loaded  <u>modulefiles</u>  from  the  directory  will  be  returned.  The
                 parameter <u>modulefile</u> may also be a symbolic modulefile name or a modulefile alias.

                 This  command  only  returns  the  name  and  version of designated loaded module.  The defined
                 variants of the loaded module are not included in the returned string.

              <b>module-info</b> <b>mode</b> [modetype]
                 Returns the current <b>modulecmd.tcl</b>'s mode as a string if no <u>modetype</u> is given.

                 Returns <b>1</b> if <b>modulecmd.tcl</b>'s mode is <u>modetype</u>. <u>modetype</u> can be: <b>load</b>, <b>unload</b>, <b>remove</b> (alias  of
                 <b>unload</b>), <b>switch</b>, <b>refresh</b>, <b>nonpersist</b> (alias of <b>refresh</b>), <b>display</b>, <b>help</b>, <b>test</b> or <b>whatis</b>.

              <b>module-info</b> <b>name</b>
                 Return  the  name  of  the  <u>modulefile</u>.  This  is not the full pathname for <u>modulefile</u>. See the
                 <u>Modules</u> <u>Variables</u> section for information on the full pathname.

                 This command only returns the name and version of currently evaluating <u>modulefile</u>. The  defined
                 variants  are  not  included  in  the returned string.  See <u>getvariant</u> command or <u>ModuleVariant</u>
                 array variable to get defined variant values for currently evaluating <u>modulefile</u>.

              <b>module-info</b> <b>shell</b> [shellname]
                 Return the current shell under which <b>modulecmd.tcl</b> was invoked if no <u>shellname</u>  is  given.  The
                 current  shell  is the first parameter of <b>modulecmd.tcl</b>, which is normally hidden by the <b>module</b>
                 alias.

                 If a <u>shellname</u> is given, returns <b>1</b> if <b>modulecmd.tcl</b>'s current shell  is  <u>shellname</u>,  returns  <b>0</b>
                 otherwise.  <u>shellname</u>  can  be:  <b>sh</b>,  <b>bash</b>, <b>ksh</b>, <b>zsh</b>, <b>csh</b>, <b>tcsh</b>, <b>fish</b>, <b>tcl</b>, <b>perl</b>, <b>python</b>, <b>ruby</b>,
                 <b>lisp</b>, <b>cmake</b>, <b>r</b>.

              <b>module-info</b> <b>shelltype</b> [shelltypename]
                 Return the family of the shell under which <u>modulefile</u> was invoked if no <u>shelltypename</u> is given.
                 As of <u>module-info</u> <u>shell</u> this depends on  the  first  parameter  of  <b>modulecmd.tcl</b>.  The  output
                 reflects a shell type determining the shell syntax of the commands produced by <b>modulecmd.tcl</b>.

                 If  a <u>shelltypename</u> is given, returns <b>1</b> if <b>modulecmd.tcl</b>'s current shell type is <u>shelltypename</u>,
                 returns <b>0</b> otherwise.  <u>shelltypename</u> can be: <b>sh</b>, <b>csh</b>,  <b>fish</b>,  <b>tcl</b>,  <b>perl</b>,  <b>python</b>,  <b>ruby</b>,  <b>lisp</b>,
                 <b>cmake</b>, <b>r</b>.

              <b>module-info</b> <b>specified</b>
                 Return  the  module  designation  (name,  version  and  variants) specified that led to current
                 <u>modulefile</u> evaluation.

              <b>module-info</b> <b>symbols</b> modulefile
                 Returns a list of all symbolic versions assigned  to  the  passed  <u>modulefile</u>.   The  parameter
                 <u>modulefile</u>  might either be a full qualified <u>modulefile</u> with name and version, another symbolic
                 <u>modulefile</u> name or a <u>modulefile</u> alias.

              <b>module-info</b> <b>tags</b> [tag]
                 Returns all tags assigned to currently evaluated <u>modulefile</u> as a list of strings if no <u>tag</u> name
                 is given (see Module tags section in <a href="../man1/module.1.html">module</a>(1))

                 When tags are assigned to specific module variants, they are returned only if this  variant  is
                 the one currently evaluated.

                 Returns  <b>1</b>  if  one  of  the  tags applying to currently evaluated <u>modulefile</u> is <u>tag</u>. Returns <b>0</b>
                 otherwise.

              <b>module-info</b> <b>type</b>
                 Returns either <b>C</b> or <b>Tcl</b> to indicate which <b>module</b> command  is  being   executed,  either  the  C
                 version  or  the  Tcl-only  version,  to  allow the <u>modulefile</u> writer to handle any differences
                 between the two.

              <b>module-info</b> <b>usergroups</b> [name]
                 Returns all the groups the user currently running <b>modulecmd.tcl</b> is  member  of  as  a  list  of
                 strings if no <u>name</u> is given.

                 Returns  <b>1</b> if one of the group current user running <b>modulecmd.tcl</b> is member of is <u>name</u>. Returns
                 <b>0</b> otherwise.

                 If the Modules Tcl extension library is disabled, the <b><a href="../man1/id.1.html">id</a>(1)</b> command is invoked to fetch  groups
                 of current user.

              <b>module-info</b> <b>username</b> [name]
                 Returns  the  username  of  the  user currently running <b>modulecmd.tcl</b> as a string if no <u>name</u> is
                 given.

                 Returns <b>1</b> if username of current user running <b>modulecmd.tcl</b> is <u>name</u>. Returns <b>0</b> otherwise.

                 If the Modules Tcl extension library is  disabled,  the  <b><a href="../man1/id.1.html">id</a>(1)</b>  command  is  invoked  to  fetch
                 username of current user.

              <b>module-info</b> <b>version</b> modulefile
                 Returns  the  physical  module name and version of the passed symbolic version <u>modulefile</u>.  The
                 parameter <u>modulefile</u> might either be a full qualified <u>modulefile</u> with name and version, another
                 symbolic <u>modulefile</u> name or a <u>modulefile</u> alias.

       <b>module-tag</b> <b>[options]</b> <b>tag</b> <b>modulefile...</b>
              Associate <u>tag</u> to designated <u>modulefile</u>. This tag information will be reported along <u>modulefile</u>  on
              <b>avail</b> and <b>list</b> sub-commands (see Module tags section in <a href="../man1/module.1.html">module</a>(1)). Tag information can be queried
              during  <u>modulefile</u>  evaluation  with the <u>module-info</u> <u>tags</u> modulefile command.  <u>module-tag</u> commands
              should be placed in one of the <b>modulecmd.tcl</b> rc files.

              <u>module-tag</u> command accepts the following options:

              • <b>--not-user</b> <b>{user...}</b>

              • <b>--not-group</b> <b>{group...}</b>

              If <b>--not-user</b> option is set, the tag is not applied if the username of the user currently  running
              <b>modulecmd.tcl</b>  is  part  of  the  list  of  username  specified.  Following  the same approach, if
              <b>--not-group</b> option is set, the tag is not applied if current user  is  member  of  one  the  group
              specified. When both options are set, the tag is not applied if a match is found for <b>--not-user</b> or
              <b>--not-group</b>.

              The parameter <u>modulefile</u> may also be a symbolic modulefile name or a modulefile alias. It may also
              leverage a specific syntax to finely select module version (see <u>Advanced</u> <u>module</u> <u>version</u> <u>specifiers</u>
              section below).

              Tags  inherited  from  other  modulefile  commands or module states cannot be set with <u>module-tag</u>.
              Otherwise  an  error  is  returned.  Those  special  tags  are:  <b>auto-loaded</b>,  <b>forbidden</b>,  <b>hidden</b>,
              <b>hidden-loaded</b>, <b>loaded</b> and <b>nearly-forbidden</b>.

              When <u>tag</u> equals <b>sticky</b> or <b>super-sticky</b>, designated <u>modulefile</u> are defined Sticky modules.

       <b>module-version</b> <b>modulefile</b> <b>version-name...</b>
              Assigns  the  symbolic <u>version-name</u> to the <u>modulefile</u>. This command should be placed in one of the
              <b>modulecmd.tcl</b> rc files in order to provide shorthand invocations  of  frequently  used  <u>modulefile</u>
              names.

              The  special <u>version-name</u> default specifies the default version to be used for module commands, if
              no specific version is given. This replaces the definitions made in the <b>.version</b>  file  in  former
              <b>modulecmd.tcl</b> releases.

              The parameter <u>modulefile</u> may be either

              • a  fully  or  partially  qualified  <u>modulefile</u>  with name / version. If name is <b>.</b> (dot) then the
                current directory name is assumed  to  be  the  module  name.  (Use  this  for  deep  <u>modulefile</u>
                directories.)

              • a symbolic <u>modulefile</u> name

              • another <u>modulefile</u> alias

       <b>module-virtual</b> <b>name</b> <b>modulefile</b>
              Assigns  the  <u>modulefile</u>  to the virtual module <u>name</u>. This command should be placed in rc files in
              order to define virtual modules.

              A virtual module stands for a module <u>name</u> associated to a <u>modulefile</u>. The modulefile is the script
              interpreted when loading or unloading the virtual module which appears or can be  found  with  its
              virtual name.

              The parameter <u>modulefile</u> corresponds to the relative or absolute file location of a <u>modulefile</u>.

       <b>module-whatis</b> <b>string</b>
              Defines  a string which is displayed in case of the invocation of the <b>module</b> <b>whatis</b> command. There
              may be more than one <u>module-whatis</u> line in a <u>modulefile</u>. This command takes no actions in case  of
              <b>load</b>, <b>display</b>, etc. invocations of <b>modulecmd.tcl</b>.

              The  <u>string</u> parameter has to be enclosed in double-quotes if there's more than one word specified.
              Words are defined to be separated by whitespace characters (space, tab, cr).

       <b>prepend-path</b> <b>[-d</b> <b>C|--delim</b> <b>C|--delim=C]</b> <b>[--duplicates]</b> <b>variable</b> <b>value...</b>
              Append or prepend <u>value</u> to environment <u>variable</u>. The <u>variable</u> is a colon, or <u>delimiter</u>,  separated
              list  such  as  <b>PATH=directory:directory:directory</b>.  The  default  delimiter  is a colon <b>:</b>, but an
              arbitrary one can be given by the <b>--delim</b> option. For example a space can be used  instead  (which
              will need to be handled in the Tcl specially by enclosing it in <b>"</b> <b>"</b> or <b>{</b> <b>}</b>). A space, however, can
              not be specified by the <b>--delim=C</b> form.

              A  reference  counter  environment variable is also set to know the number of times <u>value</u> has been
              added to environment <u>variable</u> when it  is  added  more  than  one  time.  This  reference  counter
              environment variable is named by prefixing <u>variable</u> by <b>__MODULES_SHARE_</b>.

              When  <u>value</u>  is already defined in environment <u>variable</u>, it is not added again or moved at the end
              or at the beginning of <u>variable</u>. Exception is made when the <b>--duplicates</b> option is  set  in  which
              case <u>value</u> is added again to <u>variable</u>.

              If  the  <u>variable</u>  is  not  set,  it  is  created.  When a <u>modulefile</u> is unloaded, <u>append-path</u> and
              <u>prepend-path</u> become <u>remove-path</u>.

              If <u>value</u> corresponds to the concatenation of multiple elements separated by colon,  or  <u>delimiter</u>,
              character, each element is treated separately.

       <b>prereq</b> <b>modulefile...</b>
              See <u>conflict</u>.

       <b>remove-path</b> <b>[-d</b> <b>C|--delim</b> <b>C|--delim=C]</b> <b>[--index]</b> <b>variable</b> <b>value...</b>
              Remove  <u>value</u>  from  the  colon,  or  <u>delimiter</u>,  separated  list in <u>variable</u>. See <u>prepend-path</u> or
              <u>append-path</u> for further explanation of using an arbitrary delimiter. Every string between  colons,
              or  delimiters, in <u>variable</u> is compared to <u>value</u>. If the two match, <u>value</u> is removed from <u>variable</u>
              if its reference counter is equal to 1 or unknown.

              When <b>--index</b> option is set, <u>value</u> refers to an index in <u>variable</u> list. The string element  pointed
              by this index is set for removal.

              Reference  counter  of  <u>value</u>  in  <u>variable</u>  denotes  the  number of times <u>value</u> has been added to
              <u>variable</u>. This information is stored in environment <b>__MODULES_SHARE_variable</b>. When  attempting  to
              remove  <u>value</u>  from  <u>variable</u>,  relative reference counter is checked and <u>value</u> is removed only if
              counter is equal to 1 or not defined.  Otherwise <u>value</u> is kept in <u>variable</u> and  reference  counter
              is  decreased  by  1. If counter equals 1 after being decreased, <u>value</u> and its counter are removed
              from reference counter variable.

              If <u>value</u> corresponds to the concatenation of multiple elements separated by colon,  or  <u>delimiter</u>,
              character, each element is treated separately.

       <b>set-alias</b> <b>alias-name</b> <b>alias-string</b>
              Sets  an  alias  or  function  with  the  name  <u>alias-name</u> in the user's environment to the string
              <u>alias-string</u>. For some shells, aliases are not possible and the command  has  no  effect.  When  a
              <u>modulefile</u> is unloaded, <u>set-alias</u> becomes <u>unset-alias</u>.

       <b>set-function</b> <b>function-name</b> <b>function-string</b>
              Creates  a  function  with the name <u>function-name</u> in the user's environment with the function body
              <u>function-string</u>. For some shells, functions are not possible and the command has no effect. When a
              <u>modulefile</u> is unloaded, <u>set-function</u> becomes <u>unset-function</u>.

       <b>setenv</b> <b>variable</b> <b>value</b>
              Set environment <u>variable</u> to <u>value</u>. The <u>setenv</u> command will also change the process' environment. A
              reference using Tcl's env associative array will reference changes made with the  <u>setenv</u>  command.
              Changes  made  using  Tcl's  <b>env</b> associative array will <b>NOT</b> change the user's environment <u>variable</u>
              like the <u>setenv</u> command. An environment change made this way will only affect the  module  parsing
              process.  The  <u>setenv</u>  command  is  also  useful for changing the environment prior to the <b>exec</b> or
              <u>system</u> command. When a <u>modulefile</u>  is  unloaded,  <u>setenv</u>  becomes  <u>unsetenv</u>.  If  the  environment
              <u>variable</u> had been defined it will be overwritten while loading the <u>modulefile</u>. A subsequent <b>unload</b>
              will unset the environment <u>variable</u> - the previous value cannot be restored! (Unless you handle it
              explicitly ... see below.)

       <b>source-sh</b> <b>shell</b> <b>script</b> <b>[arg...]</b>
              Evaluate  with  <u>shell</u>  the  designated  <u>script</u>  with defined <u>arguments</u> to find out the environment
              changes it does. Those changes obtained by comparing environment prior and after <u>script</u> evaluation
              are then translated  into  corresponding  <u>modulefile</u>  commands,  which  are  then  applied  during
              modulefile evaluation as if they were directly written in it.

              When  modulefile  is  unloaded,  environment changes done are reserved by evaluating in the <b>unload</b>
              context the resulting  modulefile  commands,  which  were  recorded  in  the  <b>__MODULES_LMSOURCESH</b>
              environment variable at <b>load</b> time.

              Changes on environment variables, shell aliases, shell functions and current working directory are
              tracked.

              <u>Shell</u>  could  be  specified as a command name or a fully qualified pathname.  The following shells
              are supported: sh, dash, csh, tcsh, bash, ksh, ksh93, zsh and fish.

       <b>system</b> <b>string</b>
              Run <u>string</u> command through shell. On Unix, command is passed  to  the  <b><a href="file:/bin/sh">/bin/sh</a></b>  shell  whereas  on
              Windows  it  is passed to <b>cmd.exe</b>.  <b>modulecmd.tcl</b> redirects stdout to stderr since stdout would be
              parsed by the evaluating shell. The exit status of the executed command is returned.

       <b>uname</b> <b>field</b>
              Provide lookup of system information. Most <u>field</u> information are retrieved from  the  <b>tcl_platform</b>
              array  (see  the  <b>tclvars(n)</b>  man  page).   Uname will return the string <b>unknown</b> if information is
              unavailable for the <u>field</u>.

              <u>uname</u> will invoke the  <b><a href="../man1/uname.1.html">uname</a>(1)</b>  command  in  order  to  get  the  operating  system  version  and
              <b><a href="../man1/domainname.1.html">domainname</a>(1)</b> to figure out the name of the domain.

              <u>field</u> values are:

              • <b>sysname</b>: the operating system name

              • <b>nodename</b>: the hostname

              • <b>domain</b>: the name of the domain

              • <b>release</b>: the operating system release

              • <b>version</b>: the operating system version

              • <b>machine</b>: a standard name that identifies the system's hardware

       <b>unset-alias</b> <b>alias-name</b>
              Unsets an alias with the name <u>alias-name</u> in the user's environment.

       <b>unset-function</b> <b>function-name</b>
              Removes a function with the name <u>function-name</u> from the user's environment.

       <b>unsetenv</b> <b>variable</b> <b>[value]</b>
              Unsets environment <u>variable</u>. When a <u>modulefile</u> is unloaded, no operation is performed unless if an
              optional  <u>value</u>  is  defined, in which case <u>variable</u> is to <u>value</u>. The <u>unsetenv</u> command changes the
              process' environment like <u>setenv</u>.

       <b>variant</b> <b>[--boolean]</b> <b>[--default</b> <b>value]</b> <b>name</b> <b>value...</b>
              Declare module variant <u>name</u> with list of accepted <u>value</u> and instantiate it  in  the  <u>ModuleVariant</u>
              array variable.

              Variant's  value  is  selected  through  the  module  designation  that  leads  to  the modulefile
              evaluation. See <u>Advanced</u> <u>module</u>  <u>version</u>  <u>specifiers</u>  section  to  learn  how  variants  could  be
              specified.

              Selected  variant value is transmitted to the evaluating modulefile. A value must be specified for
              variant <u>name</u> and it must corresponds to a value in the accepted value list. Otherwise an error  is
              raised.  An exception is made if modulefile is evaluated in <b>display</b> mode: no error is raised if no
              value is specified for a given variant and variant is not instantiated in the <u>ModuleVariant</u>  array
              variable.

              When  the <b>--default</b> option is set, variant <u>name</u> is set to the <u>value</u> associated with this option in
              case no value is specified for variant in module designation.

              If the <b>--boolean</b> option is set, variant <u>name</u> is defined as a Boolean variant. No list of  accepted
              value  should  be defined in this case. All values recognized as Boolean value in Tcl are accepted
              (i.e., <b>1</b>, <b>true</b>, <b>t</b>, <b>yes</b>, <b>y</b>, <b>on</b>, <b>0</b>, <b>false</b>, <b>f</b>, <b>no</b>, <b>n</b> or <b>off</b>). Boolean variants  are  instantiated  in
              <u>ModuleVariant</u> using Tcl canonical form of Boolean value (i.e., <b>0</b> or <b>1</b>).

              A  variant  which is not defined as a Boolean variant cannot define Boolean values in its accepted
              value list, exception made for the <b>0</b> and <b>1</b> integers. An error is raised otherwise.

              A variant cannot be named <b>version</b>. An error is raised otherwise.

       <b>versioncmp</b> <b>version1</b> <b>version2</b>
              Compare version string <u>version1</u> against version string <u>version2</u>. Returns <b>-1</b>, <b>0</b> or  <b>1</b>  respectively
              if <u>version1</u> is less than, equal to or greater than <u>version2</u>.

       <b>x-resource</b> <b>[resource-string|filename]</b>
              Merge  resources  into  the  X11  resource  database.  The  resources are used to control look and
              behavior of X11 applications. The command will attempt to read resources  from  <u>filename</u>.  If  the
              argument  isn't  a valid file name, then string will be interpreted as a resource. Either <u>filename</u>
              or <u>resource-string</u> is then passed down to be <b><a href="../man1/xrdb.1.html">xrdb</a>(1)</b> command.

              <u>modulefiles</u> that use this command, should in most cases contain one or more <u>x-resource</u> lines, each
              defining one X11 resource. The <b>DISPLAY</b> environment variable should be properly  set  and  the  X11
              server  should  be  accessible.  If  <u>x-resource</u>  can't  manipulate  the X11 resource database, the
              <u>modulefile</u> will exit with an error message.

              Examples:

              <b>x-resource</b> <b>/u2/staff/leif/.xres/Ileaf</b>
                 The content of the <u>Ileaf</u> file is merged into the X11 resource database.

              <b>x-resource</b> <b>[glob</b> <b><a href="file:~/.xres/ileaf">~/.xres/ileaf</a>]</b>
                 The Tcl glob function is used  to  have  the  <u>modulefile</u>  read  different  resource  files  for
                 different users.

              <b>x-resource</b> <b>{Ileaf.popup.saveUnder:</b> <b>True}</b>
                 Merge the Ileaf resource into the X11 resource database.

</pre><h4><b>MODULES</b> <b>VARIABLES</b></h4><pre>
       <b>ModulesCurrentModulefile</b>
              The  <u>ModulesCurrentModulefile</u>  variable  contains  the  full  pathname  of  the  <u>modulefile</u>  being
              interpreted.

       <b>ModuleTool</b>
              The <u>ModuleTool</u> variable contains the name of the <u>module</u> implementation currently in use. The value
              of this variable is set to <b>Modules</b> for this implementation.

       <b>ModuleToolVersion</b>
              The <u>ModuleToolVersion</u> variable contains the version of the <u>module</u> implementation currently in use.
              The value of this variable is set to <b>5.0.1</b> for this version of Modules.

       <b>ModuleVariant</b>
              The <u>ModuleVariant</u> array variable contains an element entry for each defined variant associated  to
              the  value  of  this  variant  (e.g.,  the  <b>$ModuleVariant(foo)</b> syntax corresponds to the value of
              variant <b>foo</b> if defined). A Tcl evaluation error is obtained when accessing an undefined variant in
              <u>ModuleVariant</u> array. Use preferably the <u>getvariant</u> command to retrieve a variant value  when  this
              variant state is not known.

              The  list  of the currently defined variants can be retrieved with <b>[array</b> <b>names</b> <b>ModuleVariant]</b> Tcl
              code.

</pre><h4><b>LOCATING</b> <b>MODULEFILES</b></h4><pre>
       Every directory in <b>MODULEPATH</b> is searched to find the <u>modulefile</u>. A directory in <b>MODULEPATH</b> can  have  an
       arbitrary  number  of  sub-directories.  If  the user names a <u>modulefile</u> to be loaded which is actually a
       directory, the directory is opened and a search begins for an  actual  <u>modulefile</u>.  First,  <b>modulecmd.tcl</b>
       looks  for  a  file  with  the name <b>.modulerc</b> in the directory. If this file exists, its contents will be
       evaluated as if it was a <u>modulefile</u>  to  be  loaded.  You  may  place  <u>module-version</u>,  <u>module-alias</u>  and
       <u>module-virtual</u> commands inside this file.

       Additionally,  before  seeking  for <b>.modulerc</b> files in the module directory, the global modulerc file and
       the <b>.modulerc</b> file found at the root of the modulepath directory are sourced, too.  If  a  named  version
       default  now  exists  for  the  <u>modulefile</u>  to  be  loaded,  the assigned <u>modulefile</u> now will be sourced.
       Otherwise the file <b>.version</b> is looked up in the module directory.

       If the <b>.version</b> file exists, it is opened and interpreted  as  Tcl  code  and  takes  precedence  over  a
       <b>.modulerc</b>  file  in  the  same directory. If the Tcl variable <b>ModulesVersion</b> is set by the <b>.version</b> file,
       <b>modulecmd.tcl</b> will use the name as if it specifies a <u>modulefile</u> in this directory. This will  become  the
       default  <u>modulefile</u>  in  this  case.   <b>ModulesVersion</b> cannot refer to a <u>modulefile</u> located in a different
       directory.

       If <b>ModulesVersion</b> is a directory, the search begins anew down that directory. If the name does not  match
       any  files  located  in  the current directory, the search continues through the remaining directories in
       <b>MODULEPATH</b>.

       Every <b>.version</b> and <b>.modulerc</b> file found is interpreted as Tcl code. The difference is that <b>.version</b>  only
       applies  to  the  current  directory,  and  the  <b>.modulerc</b>  applies  to  the  current  directory  and all
       subdirectories. Changes made in these files will affect the subsequently interpreted <u>modulefile</u>.

       If no default version may be figured out, an implicit default is selected when this behavior  is  enabled
       (see  <b>MODULES_IMPLICIT_DEFAULT</b> in <a href="../man1/module.1.html">module</a>(1)). If disabled, module names should be fully qualified when no
       explicit default is defined for them, otherwise no default version is found and an error is returned.  If
       enabled,  then  the  highest  numerically  sorted  <u>modulefile</u>,  virtual  module or module alias under the
       directory will be used.  The dictionary comparison method of the <b>lsort(n)</b> Tcl command is used to  achieve
       this sort. If highest numerically sorted element is an alias, search continues on its <u>modulefile</u> target.

       For  example,  it  is  possible for a user to have a directory named X11 which simply contains a <b>.version</b>
       file specifying which version of X11 is to be loaded. Such a file would look like:

          #%Module1.0
          ##
          ##  The desired version of X11
          ##
          set ModulesVersion "R4"

       The equivalent <b>.modulerc</b> would look like:

          #%Module1.0
          ##
          ##  The desired version of X11
          ##
          module-version "./R4" default

       If the extended default mechanism is enabled  (see  <b>MODULES_EXTENDED_DEFAULT</b>  in  <a href="../man1/module.1.html">module</a>(1))  the  module
       version  specified  is  matched  against starting portion of existing module versions, where portion is a
       substring separated from the rest of version string by a <b>.</b> character.

       When the implicit default mechanism and the <u>Advanced</u>  <u>module</u>  <u>version</u>  <u>specifiers</u>  are  both  enabled,  a
       <b>default</b>  and  <b>latest</b>  symbolic  versions  are  automatically  defined  for each module name (also at each
       directory level in case of deep <u>modulefile</u>). Unless a symbolic version, alias, or regular module  version
       already exists for these version names.

       If  user  names  a  <u>modulefile</u> that cannot be found in the first <u>modulepath</u> directory, <u>modulefile</u> will be
       searched in next <u>modulepath</u> directory and so on until a matching <u>modulefile</u>  is  found.  If  search  goes
       through  a  module  alias or a symbolic version, this alias or symbol is resolved by first looking at the
       <u>modulefiles</u> in the <u>modulepath</u> where this alias or symbol is defined. If not found,  resolution  looks  at
       the other <u>modulepaths</u> in their definition order.

       When  locating <u>modulefiles</u>, if a <b>.modulerc</b>, a <b>.version</b>, a directory or a <u>modulefile</u> cannot be read during
       the search it is simply ignored with no error message produced. Visibility of  <u>modulefiles</u>  can  thus  be
       adapted  to  the  rights  the  user  has been granted. Exception is made when trying to directly access a
       directory or a <u>modulefile</u>. In this case, the access issue is returned as an error message.

       Depending on their name, their file permissions or the use of specific modulefile  commands,  <u>modulefile</u>,
       virtual module, module alias or symbolic version may be set hidden which impacts available modules search
       or module selection processes (see <u>Hiding</u> <u>modulefiles</u> section below).

</pre><h4><b>HIDING</b> <b>MODULEFILES</b></h4><pre>
       A <u>modulefile</u>, virtual module, module alias or symbolic version whose name or element in their name starts
       with  a  dot  character  (<b>.</b>)  or  who are targeted by a <u>module-hide</u> command are considered hidden. Hidden
       modules are not displayed or taken into account except if they are explicitly named (e.g.,  <b>foo/1.2.3</b>  or
       <b>foo/.2.0</b> not <b>foo</b>). If module has been hidden with the <b>--soft</b> option of the <u>module-hide</u> command set, it is
       not  considered  hidden  if  the  root  name  of  the  query to search it matches module root name (e.g.,
       searching <b>foo</b> will return a <b>foo/1.2.3</b> modulefile targeted by a <b>module-hide</b> <b>--soft</b> command). If module has
       been hidden with the <b>--hard</b> option of the <u>module-hide</u> command set, it is always considered hidden thus it
       is never displayed nor taken into account even if it is explicitly named.

       A <u>modulefile</u>, virtual module, module alias or symbolic version who are targeted by a  <u>module-hide</u>  <u>--hard</u>
       command  and  a  <u>module-forbid</u>  command  or  whose  file access permissions are restricted are considered
       hard-hidden and forbidden. Such modules are not displayed or taken into account.  When  explicitly  named
       for evaluation selection, such modules are unveiled to return an access error.

       A symbolic version-name assigned to a hidden module is displayed or taken into account only if explicitly
       named  and  if  module  is not hard-hidden. Non-hidden module alias targeting a hidden <u>modulefile</u> appears
       like any other non-hidden module alias. Finally, a hidden symbolic version targeting a non-hidden  module
       is  displayed  or  taken  into  account  only  if  not  hard-hidden  and explicitly named to refer to its
       non-hidden target.

       The automatic version symbols (e.g., <b>default</b> and <b>latest</b>)  are  unaffected  by  hiding.  Moreover  when  a
       regular  <b>default</b>  or  <b>latest</b>  version is set hidden, the corresponding automatic version symbol takes the
       left spot. For instance, if <b>foo/default</b> which targets <b>foo/1.2.3</b> is set hard-hidden, the <b>default</b> automatic
       version symbol will be set onto <b>foo/2.1.3</b>, the highest available version of <b>foo</b>.

       When loading a <u>modulefile</u> or a virtual module targeted by a  <u>module-hide</u>  <u>--hidden-loaded</u>  command,  this
       module  inherits  the  <b>hidden-loaded</b>  tag.  Hidden loaded modules are not reported among <b>list</b> sub-command
       results.

       If the <b>--all</b> is set on <b>avail</b>, <b>aliases</b>, <b>whatis</b> or <b>search</b>  sub-commands,  hidden  modules  are  taken  into
       account in search. Hard-hidden modules are unaffected by this option.

       If the <b>--all</b> is set on <b>list</b> sub-command, hidden loaded modules are included in result output.

</pre><h4><b>ADVANCED</b> <b>MODULE</b> <b>VERSION</b> <b>SPECIFIERS</b></h4><pre>
       When  the  advanced  module version specifiers mechanism is enabled (see <b>MODULES_ADVANCED_VERSION_SPEC</b> in
       <a href="../man1/module.1.html">module</a>(1)), the specification of modulefile passed on Modules specific Tcl commands changes.   After  the
       module name a version constraint and variants may be added.

   <b>Version</b> <b>specifiers</b>
       After the module name a version constraint prefixed by the <b>@</b> character may be added. It could be directly
       appended to the module name or separated from it with a space character.

       Constraints can be expressed to refine the selection of module version to:

       • a single version with the <b>@version</b> syntax, for instance <b><a href="mailto:foo@1.2.3">foo@1.2.3</a></b> syntax will select module <b>foo/1.2.3</b>

       • a  list  of  versions  with  the  <b>@version1,version2,...</b> syntax, for instance <b><a href="mailto:foo@1.2.3">foo@1.2.3</a>,1.10</b> will match
         modules <b>foo/1.2.3</b> and <b>foo/1.10</b>

       • a range of versions with the <b>@version1:</b>,  <b>@:version2</b>  and  <b>@version1:version2</b>  syntaxes,  for  instance
         <b><a href="mailto:foo@1.2">foo@1.2</a>:</b>  will select all versions of module <b>foo</b> greater than or equal to <b>1.2</b>, <b>foo@:1.3</b> will select all
         versions less than or equal to <b>1.3</b> and <b><a href="mailto:foo@1.2">foo@1.2</a>:1.3</b> matches all versions between <b>1.2</b> and  <b>1.3</b>  including
         <b>1.2</b> and <b>1.3</b> versions

       Advanced  specification  of  single  version  or  list of versions may benefit from the activation of the
       extended default mechanism (see <b>MODULES_EXTENDED_DEFAULT</b> in <a href="../man1/module.1.html">module</a>(1)) to  use  an  abbreviated  notation
       like  <b>@1</b>  to  refer  to  more precise version numbers like <b>1.2.3</b>.  Range of versions on its side natively
       handles abbreviated versions.

       In order to be specified in a range of versions or compared to a range of  versions,  the  version  major
       element  should  corresponds  to  a  number.  For instance <b>10a</b>, <b>1.2.3</b>, <b>1.foo</b> are versions valid for range
       comparison whereas <b>default</b> or <b>foo.2</b> versions are invalid for range comparison.

       Range  of  versions  can  be  specified  in  version  list,  for  instance  <b>foo@:1.2,1.4:1.6,1.8:</b>.   Such
       specification helps to exclude specific versions, like versions <b>1.3</b> and <b>1.7</b> in previous example.

       If  the implicit default mechanism is also enabled (see <b>MODULES_IMPLICIT_DEFAULT</b> in <a href="../man1/module.1.html">module</a>(1)), a <b>default</b>
       and <b>latest</b> symbolic versions are automatically defined for each module name (also at each directory level
       for deep <u>modulefiles</u>). These automatic version symbols are defined unless a symbolic version,  alias,  or
       regular  module  version  already exists for these <b>default</b> or <b>latest</b> version names.  Using the <b>mod@latest</b>
       (or <b>mod/latest</b>) syntax ensures highest available version will be selected.

   <b>Variants</b>
       After the module name, variants can be specified. Module variants are alternative evaluation of the  same
       <u>modulefile</u>.  A  variant  is  specified  by  associating  a  value to its name. This specification is then
       transmitted to the evaluating <u>modulefile</u> which  instantiates  the  variant  in  the  <u>ModuleVariant</u>  array
       variable when reaching the <u>variant</u> modulefile command declaring this variant.

       Variant  can  be  specified with the <b>name=value</b> syntax where <u>name</u> is the declared variant name and <u>value</u>,
       the value this variant is set to when evaluating the <u>modulefile</u>.

       Boolean variants can be specified with the <b>+name</b> syntax to set this variant on  and  with  the  <b>-name</b>  or
       <b>~name</b>  syntaxes  to set this variant off. The <b>-name</b> syntax is not supported on <a href="../man1/ml.1.html">ml</a>(1) command as the minus
       sign already means to unload designated module. The <b>~name</b>  and  <b>+name</b>  syntaxes  could  also  be  defined
       appended to another specification word (e.g., the module name, version or another variant specification),
       whereas <b>-name</b> syntax must be the start of a new specification word.

       Boolean  variants  may  also  be specified with the <b>name=value</b> syntax. <u>value</u> should be set to <b>1</b>, <b>true</b>, <b>t</b>,
       <b>yes</b>, <b>y</b> or <b>on</b> to enable the variant or it should be set to <b>0</b>, <b>false</b>, <b>f</b>,  <b>no</b>,  <b>n</b>  or  <b>off</b>  to  disable  the
       variant.

       Shortcuts  may  be  used  to  abbreviate variant specification. The <b>variant_shortcut</b> configuration option
       associates shortcut character to variant name. With a shortcut defined, variant could be  specified  with
       the  <b>&lt;shortcut&gt;value</b> syntax. For instance if character <b>%</b> is set as a shortcut for variant <b>foo</b>, the <b>%value</b>
       syntax is equivalent to the <b>foo=value</b> syntax.

       Specific characters used in variant specification syntax cannot be used as part of the name of a  module.
       These specific characters are <b>+</b>, <b>~</b>, <b>=</b> and all characters set as variant shortcut. Exception is made for <b>+</b>
       character  which  could be set one or several consecutive times at the end of module name (e.g., <u>name+</u> or
       <u>name++</u>).

</pre><h4><b>MODULEFILE</b> <b>SPECIFIC</b> <b>HELP</b></h4><pre>
       Users can request help about a specific <u>modulefile</u> through the  <a href="../man1/module.1.html">module</a>(1)  command.  The  <u>modulefile</u>  can
       print  helpful  information  or  start  help  oriented programs by defining a <b>ModulesHelp</b> subroutine. The
       subroutine will be called when the <b>module</b> <b>help</b> <b>modulefile</b> command is used.

</pre><h4><b>MODULEFILE</b> <b>SPECIFIC</b> <b>TEST</b></h4><pre>
       Users can request test of a specific <u>modulefile</u> through the <a href="../man1/module.1.html">module</a>(1) command. The <u>modulefile</u> can perform
       some sanity checks on its definition or on its underlying programs by defining a <b>ModulesTest</b>  subroutine.
       The  subroutine  will  be  called  when the <b>module</b> <b>test</b> <b>modulefile</b> command is used. The subroutine should
       return 1 in case of success. If no or any other value is returned, test is considered failed.

</pre><h4><b>MODULEFILE</b> <b>DISPLAY</b></h4><pre>
       The <b>module</b> <b>display</b> <b>modulefile</b> command will detail all changes that will be made to the environment. After
       displaying all of the environment changes <b>modulecmd.tcl</b> will  call  the  <b>ModulesDisplay</b>  subroutine.  The
       <b>ModulesDisplay</b> subroutine is a good place to put additional descriptive information about the <u>modulefile</u>.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       See the ENVIRONMENT section in the <a href="../man1/module.1.html">module</a>(1) man page.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/module.1.html">module</a>(1), <a href="../man1/ml.1.html">ml</a>(1), <b>Tcl(n)</b>, <b>TclX(n)</b>, <b><a href="../man1/id.1.html">id</a>(1)</b>, <b><a href="../man1/xrdb.1.html">xrdb</a>(1)</b>, <b>exec(n)</b>, <b><a href="../man1/uname.1.html">uname</a>(1)</b>, <b><a href="../man1/domainname.1.html">domainname</a>(1)</b>, <b>tclvars(n)</b>, <b>lsort(n)</b>

</pre><h4><b>NOTES</b></h4><pre>
       Tcl was developed by John Ousterhout at the University of California at Berkeley.

       TclX was developed by Karl Lehenbauer and Mark Diekhans.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       1996-1999  John  L.  Furlani  &amp;  Peter W. Osel, 1998-2017 R.K.Owen, 2002-2004 Mark Lakata, 2004-2017 Kent
       Mein, 2016-2021 Xavier Delaruelle

5.0.1                                              2021-10-16                                      <u><a href="../man4/MODULEFILE.4.html">MODULEFILE</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>