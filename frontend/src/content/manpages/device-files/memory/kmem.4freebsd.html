<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mem, kmem — memory files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mem, kmem — memory files

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>device</b> <b>mem</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  special  file <u>/dev/mem</u> is an interface to the physical memory of the computer.  Byte offsets in this
       file are interpreted as physical memory addresses.  Reading  and  writing  this  file  is  equivalent  to
       reading and writing memory itself.  Only offsets within the bounds of <u>/dev/mem</u> are allowed.

       Kernel  virtual  memory is accessed through the interface <u>/dev/kmem</u> in the same manner as <u>/dev/mem</u>.  Only
       kernel virtual addresses that are currently mapped to memory are allowed.

       On ISA the I/O memory space begins at physical address 0x000a0000  and  runs  to  0x00100000.   The  per-
       process data size for the current process is UPAGES long, and ends at virtual address 0xf0000000.

</pre><h4><b>IOCTL</b> <b>INTERFACE</b></h4><pre>
       Several architectures allow attributes to be associated with ranges of physical memory.  These attributes
       can  be manipulated via <b>ioctl</b>() calls performed on <u>/dev/mem</u>.  Declarations and data types are to be found
       in &lt;<u>sys/memrange.h</u>&gt;.

       The specific attributes, and number of programmable ranges may vary between architectures.  The full  set
       of supported attributes is:

       MDF_UNCACHEABLE
               The region is not cached.

       MDF_WRITECOMBINE
               Writes to the region may be combined or performed out of order.

       MDF_WRITETHROUGH
               Writes to the region are committed synchronously.

       MDF_WRITEBACK
               Writes to the region are committed asynchronously.

       MDF_WRITEPROTECT
               The region cannot be written to.

       Memory ranges are described by <u>struct</u> <u>mem_range_desc</u>:

             uint64_t        mr_base;        /∗ physical base address ∗/
             uint64_t        mr_len;         /∗ physical length of region ∗/
             int             mr_flags;       /∗ attributes of region ∗/
             char            mr_owner[8];

       In  addition  to  the region attributes listed above, the following flags may also be set in the <u>mr_flags</u>
       field:

       MDF_FIXBASE
               The region's base address cannot be changed.

       MDF_FIXLEN
               The region's length cannot be changed.

       MDF_FIRMWARE
               The region is believed to have been established by the system firmware.

       MDF_ACTIVE
               The region is currently active.

       MDF_BOGUS
               We believe the region to be invalid or otherwise erroneous.

       MDF_FIXACTIVE
               The region cannot be disabled.

       MDF_BUSY
               The region is currently owned by another process and may not be altered.

       Operations are performed using <u>struct</u> <u>mem_range_op</u>:

             struct mem_range_desc   *mo_desc;
             int                     mo_arg[2];

       The MEMRANGE_GET ioctl is used to retrieve current memory range attributes.  If <u>mo_arg[0]</u> is set to 0, it
       will be updated with the total number of memory range descriptors.  If  greater  than  0,  the  array  at
       <u>mo_desc</u> will be filled with a corresponding number of descriptor structures, or the maximum, whichever is
       less.

       The  MEMRANGE_SET  ioctl  is  used  to  add,  alter and remove memory range attributes.  A range with the
       MDF_FIXACTIVE flag may not be removed; a range with the MDF_BUSY flag may not be removed or updated.

       <u>mo_arg[0]</u> should be set to MEMRANGE_SET_UPDATE to update an existing or establish  a  new  range,  or  to
       MEMRANGE_SET_REMOVE to remove a range.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       [EOPNOTSUPP]       Memory range operations are not supported on this architecture.

       [ENXIO]            No memory range descriptors are available (e.g. firmware has not enabled any).

       [EINVAL]           The  memory  range  supplied  as an argument is invalid or overlaps another range in a
                          fashion not supported by this architecture.

       [EBUSY]            An attempt to remove or update a range failed because the range is busy.

       [ENOSPC]           An attempt to create a new range failed due to a shortage of hardware resources  (e.g.
                          descriptor slots).

       [ENOENT]           An  attempt  to  remove  a  range  failed  because  no  range  matches  the descriptor
                          base/length supplied.

       [EPERM]            An attempt to remove a range failed because the range is permanently enabled.

</pre><h4><b>FILES</b></h4><pre>
       <u>/dev/mem</u>
       <u>/dev/kmem</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/kvm.3.html">kvm</a></u>(3), <u><a href="../man8/memcontrol.8.html">memcontrol</a></u>(8)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>mem</b> and <b>kmem</b> files appeared in Version 6 AT&amp;T UNIX.  The ioctl interface for memory range  attributes
       was added in FreeBSD 3.2.

</pre><h4><b>BUGS</b></h4><pre>
       Busy range attributes are not yet managed correctly.

       This device is required for all users of <u><a href="../man3/kvm.3.html">kvm</a></u>(3) to operate.

Debian                                           October 3, 2004                                          <u><a href="../man4/MEM.4.html">MEM</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>