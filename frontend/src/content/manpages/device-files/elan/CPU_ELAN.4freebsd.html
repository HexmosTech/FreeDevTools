<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPU_ELAN — AMD Elan 520 CPU support</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CPU_ELAN — AMD Elan 520 CPU support

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>options</b> <b>CPU_ELAN</b>
       <b>options</b> <b>CPU_ELAN_PPS</b>
       <b>options</b> <b>CPU_ELAN_XTAL</b>
       <u>machdep.elan_gpio_config</u>
       <u>machdep.elan_freq</u>
       <b>options</b> <b>CPU_SOEKRIS</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>options</b> <b>CPU_ELAN</b> enables support for the AMD Elan 520 CPU.

       A device <u>/dev/elan-mmcr</u> exports the MMCR register bank to userland using <u><a href="../man2/mmap.2.html">mmap</a></u>(2).

       The  i8254  timer will be adjusted to the slightly unorthodox frequency 1189161 Hz (32768 * 45 * 25 / 31)
       employed by the Elan.

       A timecounter named “<b>ELAN</b>” is implemented using the general purpose timer 2, but it will  not  be  usable
       unless  HZ  is configured at 150 or higher.  This timecounter is much better than the “<b>i8254</b>” timecounter
       and should be used at all times.

       The <u>machdep.elan_gpio_config</u> <u><a href="../man8/sysctl.8.html">sysctl</a></u>(8) variable enables configuration of the GPIO pins of the  CPU.   The
       string  must be exactly 32 characters long.  A ‘-’ means the GPIO is unavailable.  A ‘l’ (lower-case ell)
       configures a <u><a href="../man4/led.4.html">led</a></u>(4) device (active low).  A ‘L’ configures a <u><a href="../man4/led.4.html">led</a></u>(4) device (active high).  A ‘.’ means no
       configuration for this GPIO.  These <u><a href="../man4/led.4.html">led</a></u>(4) devices will be named <u>/dev/led/gpio%d</u>.  For  meaning  of  ‘P’,
       ‘e’ and ‘E’, see under <b>options</b> <b>CPU_ELAN_PPS</b>.

       The  <b>options</b>  <b>CPU_ELAN_XTAL</b> and the <u>machdep.elan_freq</u> <u><a href="../man8/sysctl.8.html">sysctl</a></u>(8) variable can be used to set the CPU clock
       crystal frequency in Hz.  The default is 33333333 Hz.

       The <b>options</b> <b>CPU_ELAN_PPS</b> enables precision timestamping using the RFC2783 PPS-API via the  <u>/dev/elan-mmcr</u>
       device.   The resolution will be approximately 125 nsec and the precision ± 125 nsec.  (For 125 nsec read
       “4 / CPU clock crystal frequency”.)

       The input signal must be connected to the TMR1IN pin and a GPIO pin.  The GPIO  pin  must  be  configured
       with a ‘P’ in <u>machdep.elan_gpio_config</u>.

       In addition, one GPIO pin can be configured with either ‘e’ (active low) or ‘E’ (active high) to become a
       “echo” output of the input signal.  Please notice that this signal is not suitable for calibration.

       If the <b>options</b> <b>CPU_SOEKRIS</b> is given, the support will additionally be tailored to the Soekris Engineering
       45xx  series  of embedded computers.  The “error” led will be configured (as <u>/dev/led/error</u>) and the GPIO
       pins which are not available will be disabled.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man4/led.4.html">led</a></u>(4), <u><a href="../man4/timecounters.4.html">timecounters</a></u>(4), <u><a href="../man8/sysctl.8.html">sysctl</a></u>(8)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>CPU_ELAN</b> code first appeared in FreeBSD 4.7.

</pre><h4><b>AUTHORS</b></h4><pre>
       Poul-Henning Kamp &lt;<u><a href="mailto:phk@FreeBSD.org">phk@FreeBSD.org</a></u>&gt;

Debian                                          November 23, 2003                                    <u><a href="../man4/CPU_ELAN.4.html">CPU_ELAN</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>