<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>textdump — textdump kernel dumping facility</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       textdump — textdump kernel dumping facility

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>options</b> <b>DDB</b>
       <b>options</b> <b>KDB</b>

       <b>options</b> <b>TEXTDUMP_PREFERRED</b>
       <b>options</b> <b>TEXTDUMP_VERBOSE</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>textdump</b>  facility  allows  the  capture of kernel debugging information to disk in a human-readable
       rather than the machine-readable form normally  used  with  kernel  memory  dumps  and  minidumps.   This
       representation,  while less complete in that it does not capture full kernel state, can provide debugging
       information in a more compact, portable, and persistent form  than  a  traditional  dump.   By  combining
       <b>textdump</b> with other <u><a href="../man4/ddb.4.html">ddb</a></u>(4) facilities, such as scripting and output capture, detailed bug information can
       be captured in a fully automated manner.

</pre><h4><b>FORMAT</b></h4><pre>
       <b>textdump</b>  data  is  stored  in  a  dump partition in the same style as a regular memory dump, and will be
       automatically extracted by <u><a href="../man8/savecore.8.html">savecore</a></u>(8) if present on boot.

       <b>textdump</b> files are stored in the <u><a href="../man5/tar.5.html">tar</a></u>(5) format, and consist of one or more text  files,  each  storing  a
       particular type of debugging output.  The following parts may be present:

       <u>ddb.txt</u>      Captured  <u><a href="../man4/ddb.4.html">ddb</a></u>(4) output, if the capture facility has been used.  May be disabled by clearing
                    the debug.ddb.textdump.do_ddb sysctl.

       <u>config.txt</u>   Kernel configuration, if <b>options</b> <b>INCLUDE_CONFIG_FILE</b> has been compiled into the kernel.  May
                    be disabled by clearing the debug.ddb.textdump.do_config sysctl.

       <u>msgbuf.txt</u>   Kernel message buffer, including recent console output if  the  capture  facility  has  been
                    used.  May be disabled by clearing the debug.ddb.textdump.do_msgbuf sysctl.

       <u>panic.txt</u>    Kernel  panic string, if the kernel panicked before the dump was generated.  May be disabled
                    by clearing the debug.ddb.textdump.do_panic sysctl.

       <u>version.txt</u>  Kernel version string.  My be disabled by clearing the debug.ddb.textdump.do_version sysctl.

       Kernel textdumps may be extracted using <u><a href="../man1/tar.1.html">tar</a></u>(1).

</pre><h4><b>CONFIGURATION</b></h4><pre>
       The <b>textdump</b> facility is enabled as part of the kernel debugger using <b>options</b> <b>KDB</b> and  <b>options</b>  <b>DDB</b>.   By
       default,  kernel  dumps  generated  on  panic  or via explicit requests for a dump will be regular memory
       dumps; however, by using the <b>textdump</b> <b>set</b> command in <u><a href="../man4/ddb.4.html">ddb</a></u>(4), or by setting the debug.ddb.textdump.pending
       sysctl to 1 using <u><a href="../man8/sysctl.8.html">sysctl</a></u>(8), it is possible to request that the next dump be a textdump.   One  may  also
       directly trigger a textdump in <u><a href="../man4/ddb.4.html">ddb</a></u>(4) by running the command <b>textdump</b> <b>dump</b>.

       If at the <u><a href="../man4/ddb.4.html">ddb</a></u>(4) command line, the commands <b>textdump</b> <b>set</b>, <b>textdump</b> <b>status</b>, and <b>textdump</b> <b>unset</b> may be used
       to set, query, and clear the textdump pending flag.

       As  with  regular  kernel  dumps,  a  dump  partition  must be automatically or manually configured using
       <u><a href="../man8/dumpon.8.html">dumpon</a></u>(8).

       Additional kernel <u><a href="../man8/config.8.html">config</a></u>(8) options:

       <b>TEXTDUMP_PREFERRED</b>  sets textdumps to be the default manner of doing dumps.  This means there will be  no
                           need to <u><a href="../man8/sysctl.8.html">sysctl</a></u>(8) or use the <b>textdump</b> <b>set</b> <u><a href="../man8/ddb.8.html">ddb</a></u>(8) commands.

       <b>TEXTDUMP_VERBOSE</b>    will  have  the  textdump  facility be more verbose about each file it is emitting as
                           well as other diagnostics useful to debug the textdump facility itself.

</pre><h4><b>EXAMPLES</b></h4><pre>
       In the following example, the script kdb.enter.panic will run when the kernel debugger is  entered  as  a
       result  of  a panic, enable output capture, dump several useful pieces of debugging information, and then
       invoke panic in order to force a kernel dump to be written out followed by a reboot:

             script kdb.enter.panic=textdump set; capture on; show allpcpu; bt;
               ps; alltrace; show alllocks; textdump dump; reset

       In the following example, the script kdb.enter.witness will run when the kernel debugger is entered as  a
       result of a witness violation, printing lock-related information for the user:

             script kdb.enter.witness=show locks

       These scripts may also be configured using the <u><a href="../man8/ddb.8.html">ddb</a></u>(8) utility.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/tar.1.html">tar</a></u>(1), <u><a href="../man4/ddb.4.html">ddb</a></u>(4), <u><a href="../man5/tar.5.html">tar</a></u>(5), <u><a href="../man8/ddb.8.html">ddb</a></u>(8), <u><a href="../man8/dumpon.8.html">dumpon</a></u>(8), <u><a href="../man8/savecore.8.html">savecore</a></u>(8), <u><a href="../man8/sysctl.8.html">sysctl</a></u>(8)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>textdump</b> facility first appeared in FreeBSD 7.1.

</pre><h4><b>AUTHORS</b></h4><pre>
       The <b>textdump</b> facility was created by Robert N. M. Watson.

Debian                                          October 18, 2019                                     <u><a href="../man4/TEXTDUMP.4.html">TEXTDUMP</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>