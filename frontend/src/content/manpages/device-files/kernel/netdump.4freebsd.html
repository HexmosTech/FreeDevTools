<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>netdump — protocol for transmitting kernel dumps to a remote server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       netdump — protocol for transmitting kernel dumps to a remote server

</pre><h4><b>SYNOPSIS</b></h4><pre>
       To  compile netdump client support into the kernel, place the following line in your kernel configuration
       file:

             <b>options</b> <b>NETDUMP</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       netdump is a UDP-based protocol for transmitting kernel dumps to a remote host.  A netdump  client  is  a
       panicking  kernel,  and  a  netdump  server  is  a host running the <b>netdump</b> daemon, available in ports as
       <u>ports/ftp/netdumpd</u>.  <b>netdump</b> clients are configured using the <u><a href="../man8/dumpon.8.html">dumpon</a></u>(8) utility.

       <b>netdump</b> client messages consist of a fixed-size header followed by a variable-sized payload.  The  header
       contains  the message type, a sequence number, the offset of the payload data in the kernel dump, and the
       length of the payload data (not including the header).  The message  types  are  HERALD,  FINISHED,  KDH,
       VMCORE,  and EKCD_KEY.  <b>netdump</b> server messages have a fixed size and contain only the sequence number of
       the client message.  These messages indicate that  the  server  has  successfully  processed  the  client
       message  with  the corresponding sequence number.  All client messages are acknowledged this way.  Server
       messages are always sent to port 20024 of the client.

       To initiate a <b>netdump</b>, the client sends a HERALD message to the server at port  20023.   The  client  may
       include  a relative path in its payload, in which case the <b>netdump</b> server should attempt to save the dump
       at that path relative to its configured dump directory.  The server will acknowledge the HERALD  using  a
       random source port, and the client must send all subsequent messages to that port.

       The  KDH,  VMCORE,  and EKCD_KEY message payloads contain the kernel dump header, dump contents, and dump
       encryption key respectively.  The offset in the message header should be treated as a seek offset in  the
       corresponding file.  There are no ordering requirements for these messages.

       A <b>netdump</b> is completed by sending the FINISHED message to the server.

       The  following  network drivers support netdump: <u><a href="../man4/alc.4.html">alc</a></u>(4), <u><a href="../man4/bge.4.html">bge</a></u>(4), <u><a href="../man4/bnxt.4.html">bnxt</a></u>(4), <u><a href="../man4/bxe.4.html">bxe</a></u>(4), <u><a href="../man4/cxgb.4.html">cxgb</a></u>(4), <u><a href="../man4/em.4.html">em</a></u>(4), <u><a href="../man4/igb.4.html">igb</a></u>(4),
       <u><a href="../man4/ix.4.html">ix</a></u>(4), <u><a href="../man4/ixl.4.html">ixl</a></u>(4), <u><a href="../man4/mlx4en.4.html">mlx4en</a></u>(4), <u><a href="../man4/mlx5en.4.html">mlx5en</a></u>(4), <u><a href="../man4/re.4.html">re</a></u>(4), <u><a href="../man4/vtnet.4.html">vtnet</a></u>(4).

</pre><h4><b>SYSCTL</b> <b>VARIABLES</b></h4><pre>
       The following variables are available as both <u><a href="../man8/sysctl.8.html">sysctl</a></u>(8) variables and <u><a href="../man8/loader.8.html">loader</a></u>(8) variables:

       <u>net.netdump.debug</u>
               Control debug message verbosity.  Debug messages are disabled by default,  but  are  useful  when
               troubleshooting or when developing driver support.

       <u>net.netdump.path</u>
               Specify  a path relative to the server's dump directory in which to store the dump.  For example,
               if the <b>netdump</b> server is configured to store dumps in <u><a href="file:/var/crash">/var/crash</a></u>, a path of “foo” will cause  the
               server  to  attempt  to  store  dumps  from  the  client  in <u>/var/crash/foo</u>.  The server will not
               automatically create the relative directory.

       <u>net.netdump.polls</u>
               The client will poll the configured network interface while waiting for  acknowledgements.   This
               parameter  controls the maximum number of poll attempts before giving up, which typically results
               in a re-transmit.  Each poll attempt takes 0.5ms.

       <u>net.netdump.retries</u>
               The number of times the client will re-transmit a packet before aborting a dump due to a lack  of
               acknowledgement.  The default may be too small in environments with lots of packet loss.

       <u>net.netdump.arp_retries</u>
               The number of times the client will attempt to learn the MAC address of the configured gateway or
               server before giving up and aborting the dump.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/decryptcore.8.html">decryptcore</a></u>(8), <u><a href="../man8/dumpon.8.html">dumpon</a></u>(8), <u><a href="../man8/savecore.8.html">savecore</a></u>(8)

</pre><h4><b>HISTORY</b></h4><pre>
       <b>netdump</b> client support first appeared in FreeBSD 12.0.

</pre><h4><b>BUGS</b></h4><pre>
       Only IPv4 is supported.

       <b>netdump</b> may only be used after the kernel has panicked.

Debian                                           August 25, 2020                                      <u><a href="../man4/NETDUMP.4.html">NETDUMP</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>