<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cfumass — USB device side support for Mass Storage Class Transport</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cfumass — USB device side support for Mass Storage Class Transport

</pre><h4><b>SYNOPSIS</b></h4><pre>
       This driver can be compiled into the kernel by placing these lines in the kernel configuration file:

             <b>device</b> <b>usb</b>
             <b>device</b> <b>usb_template</b>
             <b>device</b> <b>ctl</b>
             <b>device</b> <b>cfumass</b>

       The driver module can also be loaded at boot by adding this line to <u><a href="../man5/loader.conf.5.html">loader.conf</a></u>(5):

             cfumass_load="YES"

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>cfumass</b>  driver provides device side support for emulating an USB mass storage device compliant with
       the USB Mass Storage Class Bulk-Only (BBB) Transport specification,  implemented  as  a  <u><a href="../man4/ctl.4.html">ctl</a></u>(4)  frontend
       driver.

       To use <b>cfumass</b>:

       <b>•</b>   <u><a href="../man4/cfumass.4.html">cfumass</a></u>(4) must be loaded as a module or compiled into the kernel.

       <b>•</b>   The USB Mass Storage template must be chosen by setting the <u>hw.usb.template</u> sysctl to 0.

       <b>•</b>   The USB OTG port must be working in USB device-side mode.  This happens automatically upon connection
           to a USB host.

       <b>•</b>   There must be a <u><a href="../man4/ctl.4.html">ctl</a></u>(4) LUN configured for the <u>cfumass</u> port.

       Upon  loading,  the  driver creates a <u><a href="../man4/ctl.4.html">ctl</a></u>(4) port named <u>cfumass</u>, presenting the first LUN mapped for that
       port - usually LUN 0 - to the USB host.  See <u><a href="../man5/ctl.conf.5.html">ctl.conf</a></u>(5) and <u><a href="../man8/ctld.8.html">ctld</a></u>(8) for details on configuring the  LUN.
       See the <b>cfumass_enable</b> and <b>cfumass_dir</b> <u><a href="../man8/rc.8.html">rc</a></u>(8) variables in <u><a href="../man5/rc.conf.5.html">rc.conf</a></u>(5) for an automated way to configure it
       at boot.

</pre><h4><b>SYSCTL</b> <b>VARIABLES</b></h4><pre>
       These variables are available as both <u><a href="../man8/sysctl.8.html">sysctl</a></u>(8) variables and <u><a href="../man8/loader.8.html">loader</a></u>(8) tunables:

       <u>hw.usb.cfumass.debug</u>
               Verbosity  level  for  log messages from the <b>cfumass</b> driver.  Set to 0 to disable logging or 1 to
               warn about potential problems.  Larger values enable debugging output.  Defaults to 1.

       <u>hw.usb.cfumass.ignore_stop</u>
               Ignore START STOP UNIT SCSI commands with START and LOEJ bits cleared.  Some initiators send that
               command to stop the target when the user attempts to gracefully eject  the  drive,  but  fail  to
               start  it when the drive is reconnected.  Set to 0 to handle the command in a standards-compliant
               way, 1 to ignore it and log a warning, or 2 to ignore it silently.  Defaults to 1.

       <u>hw.usb.cfumass.max_lun</u>
               Max LUN number to report to the initiator (USB host).  Must be between 0 and 15.  Some initiators
               incorrectly handle values larger than 0.  Defaults to 0.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man4/ctl.4.html">ctl</a></u>(4), <u><a href="../man4/umass.4.html">umass</a></u>(4), <u><a href="../man4/usb.4.html">usb</a></u>(4), <u><a href="../man4/usb_template.4.html">usb_template</a></u>(4), <u><a href="../man5/ctl.conf.5.html">ctl.conf</a></u>(5), <u><a href="../man8/ctld.8.html">ctld</a></u>(8)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>cfumass</b> driver first appeared in FreeBSD 11.1.

</pre><h4><b>AUTHORS</b></h4><pre>
       The <b>cfumass</b> driver was developed by Edward Tomasz Napierala &lt;<u><a href="mailto:trasz@FreeBSD.org">trasz@FreeBSD.org</a></u>&gt;  under  sponsorship  from
       the FreeBSD Foundation.

Debian                                           April 21, 2018                                       <u><a href="../man4/CFUMASS.4.html">CFUMASS</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>