<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ipfilter - Introduction to IP packet filtering</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ipfilter - Introduction to IP packet filtering

</pre><h4><b>DESCRIPTION</b></h4><pre>
       IP Filter is a TCP/IP packet filter, suitable for use in a firewall environment. To use, it can either be
       used  as  a loadable kernel module or incorporated into your UNIX kernel; use as a loadable kernel module
       where possible is highly recommended. Scripts  are  provided  to  install  and  patch  system  files,  as
       required.

</pre><h4><b>FEATURES</b></h4><pre>
       The IP packet filter can:

              explicitly deny/permit any packet from passing through

              distinguish between various interfaces

              filter by IP networks or hosts

              selectively filter any IP protocol

              selectively filter fragmented IP packets

              selectively filter packets with IP options

              send back an ICMP error/TCP reset for blocked packets

              keep packet state information for TCP, UDP and ICMP packet flows

              keep fragment state information for any IP packet, applying the same rule to all fragments.

              act as a Network Address Translator (NAT)

              use redirection to setup true transparent proxy connections

              provide packet header details to a user program for authentication

              in addition, supports temporary storage of pre-authenticated rules for passing packets through

       Special  provision is made for the three most common Internet protocols, TCP, UDP and ICMP. The IP Packet
       filter allows filtering of:

              Inverted host/net matchingTCP/UDP packets by port number or a port number range

              ICMP packets by type/code

              "established" TCP packets

              On any arbitrary combination of TCP flags

              "short" (fragmented) IP packets with incomplete headers can be filtered

              any of the 19 IP options or 8 registered IP security  classes  TOS  (Type  of  Service)  field  in
              packets

       To keep track of the performance of the IP packet filter, a logging device is used which supports logging
       of:

              the TCP/UDP/ICMP and IP packet headers

              the first 128 bytes of the packet (including headers)

       A packet can be logged when:

              it is successfully passed through

              it is blocked from passing through

              it matches a rule setup to look for suspicious packets

       IP Filter keeps its own set of statistics on:

              packets blocked

              packets (and bytes!) used for accounting

              packets passed

              packets logged

              attempts to log which failed (buffer full)

              and much more, for packets going both in and out.

</pre><h4><b>Tools</b></h4><pre>
       The  current  implementation  provides a small set of tools, which can easily be used and integrated with
       regular unix shells and tools. A brief description of the tools provided:

       <a href="../man8/ipf.8.html">ipf</a>(8) reads in a set of rules, from either stdin or a file, and adds them to the  kernels  current  list
       (appending  them). It can also be used to flush the current filter set or delete individual filter rules.
       The file format is described in <a href="../man5/ipf.5.html">ipf</a>(5).

       <a href="../man8/ipfs.8.html">ipfs</a>(8) is a utility to temporarily lock the IP Filter kernel tables (state tables and NAT mappings)  and
       write them to disk. After that the system can be rebooted, and ipfs can be used to read these tables from
       disk  and restore them into the kernel. This way the system can be rebooted without the connections being
       terminated.

       <a href="../man8/ipfstat.8.html">ipfstat</a>(8) interrogates the kernel for statistics on packet filtering, so far, and retrieves the list  of
       filters in operation for inbound and outbound packets.

       <a href="../man1/ipftest.1.html">ipftest</a>(1)  reads  in a filter rule file and then applies sample IP packets to the rule file. This allows
       for testing of filter list and examination of how a packet is passed along through it.

       <a href="../man8/ipmon.8.html">ipmon</a>(8) reads buffered data from the logging device (default is /dev/ipl) for output to either:

              screen (standard output)

              file

              syslog

       <a href="../man1/ipsend.1.html">ipsend</a>(1) generates arbitary IP packets for ethernet connected machines.

       <a href="../man1/ipresend.1.html">ipresend</a>(1) reads in a data file of saved IP packets (ie snoop/tcpdump/etherfind  output)  and  sends  it
       back across the network.

       <a href="../man1/iptest.1.html">iptest</a>(1)  contains  a set of test "programs" which send out a series of IP packets, aimed at testing the
       strength of the TCP/IP stack at which it is aimed at. WARNING: this may crash machine(s) targeted!

       <a href="../man8/ipnat.8.html">ipnat</a>(8) reads in a set of rules, from either stdin or a file and adds them to the kernels  current  list
       of  active  NAT rules. NAT rules can also be deleted using ipnat. The format of the configuration file to
       be used with ipnat is described in <a href="../man5/ipnat.5.html">ipnat</a>(5).

       For use in your own programs (e.g. for writing  of  transparent  application  proxies),  the  programming
       interface and the associated ioctl's are documented in <a href="../man4/ipf.4.html">ipf</a>(4).

       Documentation  on  ioctl's  and  the  format of data saved to the logging character device is provided in
       <a href="../man4/ipl.4.html">ipl</a>(4) so that you may develop your own applications to work with or in place of any of the above.

       Similar, the interface to the NAT code is documented in <a href="../man4/ipnat.4.html">ipnat</a>(4).

</pre><h4><b>PACKET</b> <b>PROCESSING</b> <b>FLOW</b></h4><pre>
       The following diagram illustrates the flow of TCP/IP packets through the various stages introduced by  IP
       Filter.

                                          IN
                                           |
                                           V
                 +-------------------------+--------------------------+
                 |                         |                          |
                 |                         V                          |
                 |            Network Address Translation             |
                 |                         |                          |
                 |         authenticated   |                          |
                 |       +-------&lt;---------+                          |
                 |       |                 |                          |
                 |       |                 V                          |
                 |       V           IP Accounting                    |
                 |       |                 |                          |
                 |       |                 V                          |
                 |       |        Fragment Cache Check--+             |
                 |       |                 |            |             |
                 |       V                 V            V             |
                 |       |         Packet State Check--&gt;+             |
                 |       |                 |            |             |
                 |       |       +-&gt;--+    |            |             |
                 |       |       |    |    V            |             |
                 |       V   groups   IP Filtering      V             |
                 |       |       |    |    |            |             |
                 |       |       +--&lt;-+    |            |             |
                 |       |                 |            |             |
                 |       +----------------&gt;|&lt;-----------+             |
                 |                         |                          |
                 |                         V                          |
                 |                +---&lt;----+                          |
                 |                |        |                          |
                 |            function     |                          |
                 |                |        V                          |
                 |                +---&gt;----+                          |
                 |                         |                          |
                 |                         V                          |
              +--|---&lt;--- fast-route ---&lt;--+                          |
              |  |                         |                          |
              |  |                         V                          |
              |  +-------------------------+--------------------------+
              |                            |
              |                        pass only
              |                            |
              |                            V
              V               [KERNEL TCP/IP Processing]
              |                            |
              |  +-------------------------+--------------------------+
              |  |                         |                          |
              |  |                         V                          |
              |  |                Fragment Cache Check--+             |
              |  |                         |            |             |
              |  |                         V            V             |
              |  |                 Packet State Check--&gt;+             |
              |  |                         |            |             |
              |  |                         V            |             |
              V  |                    IP Filtering      |             |
              |  |                         |            V             |
              |  |                         |&lt;-----------+             |
              |  |                         V                          |
              |  |                   IP Accounting                    |
              |  |                         |                          |
              |  |                         V                          |
              |  |            Network Address Translation             |
              |  |                         |                          |
              |  |                         V                          |
              |  +-------------------------+--------------------------+
              |                            |
              |                        pass only
              V                            |
              +---------------------------&gt;|
                                           V
                                          OUT

</pre><h4><b>MORE</b> <b>INFORMATION</b></h4><pre>
       More  information (including pointers to the FAQ and the mailing list) can be obtained from the sofware's
       official homepage: www.ipfilter.org

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man4/ipf.4.html">ipf</a>(4), <a href="../man5/ipf.5.html">ipf</a>(5),  <a href="../man8/ipf.8.html">ipf</a>(8),  <a href="../man5/ipfilter.5.html">ipfilter</a>(5),  <a href="../man8/ipfs.8.html">ipfs</a>(8),  <a href="../man8/ipfstat.8.html">ipfstat</a>(8),  <a href="../man1/ipftest.1.html">ipftest</a>(1),  <a href="../man4/ipl.4.html">ipl</a>(4),  <a href="../man8/ipmon.8.html">ipmon</a>(8),  <a href="../man8/ipnat.8.html">ipnat</a>(8),
       <a href="../man4/ipnat.4.html">ipnat</a>(4),

                                                                                                    <u>IP</u> <u><a href="../man4/FILTER.4.html">FILTER</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>