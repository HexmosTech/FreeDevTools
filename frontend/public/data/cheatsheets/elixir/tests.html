<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elixir ExUnit Tests - Comprehensive Guide</title>
    <meta name="description" content="Learn how to write and run tests in Elixir using ExUnit. This guide covers Mix projects, inline tests, debugging with IEx.pry, and best practices for Elixir testing.">
    <meta name="keywords" content="Elixir, ExUnit, testing, Mix, IEx, Elixir tests, unit testing, integration testing, test boilerplate, debugging Elixir">
    <meta name="author" content="Hexmos">
    <link rel="canonical" href="https://www.hexmos.com/elixir/tests.html">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.hexmos.com/elixir/tests.html">
    <meta property="og:title" content="Elixir ExUnit Tests - Comprehensive Guide">
    <meta property="og:description" content="Learn how to write and run tests in Elixir using ExUnit. This guide covers Mix projects, inline tests, debugging with IEx.pry, and best practices for Elixir testing.">
    <meta property="og:image" content="https://www.hexmos.com/images/elixir-tests-og.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://www.hexmos.com/elixir/tests.html">
    <meta name="twitter:title" content="Elixir ExUnit Tests - Comprehensive Guide">
    <meta name="twitter:description" content="Learn how to write and run tests in Elixir using ExUnit. This guide covers Mix projects, inline tests, debugging with IEx.pry, and best practices for Elixir testing.">
    <meta name="twitter:image" content="https://www.hexmos.com/images/elixir-tests-twitter.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        .header h1 {
            margin: 0;
            font-size: 1.5em;
        }
        .content {
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            margin: 0;
        }
        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
        }
        .markdown-content {
            line-height: 1.7;
        }
        .markdown-content h1, .markdown-content h2, .markdown-content h3 {
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        .markdown-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
        }
        .markdown-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .markdown-content pre code {
            background: none;
            padding: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Elixir Testing with ExUnit</h1>
        </div>
        <div class="content">
            <div class="markdown-content">
                <h2>Elixir Testing with ExUnit</h2>
                <p>Testing is a fundamental part of the Elixir platform, powered by <a href="http://elixir-lang.org/docs/stable/ex_unit/">ExUnit</a>. This guide will walk you through defining and running tests effectively.</p>

                <h2>Defining Tests in Mix Projects</h2>
                <p>If you are working within a Mix Application, the standard practice is to place your test files in the <code>test</code> directory. These tests are automatically discovered and executed when you run the command <code>mix test</code> from your project's root directory. Mix sets up the necessary environment for ExUnit to run your tests seamlessly.</p>

                <h2>Inline Tests</h2>
                <p>For simpler scenarios or quick checks, you can also define tests directly at the end of any Elixir file. These tests will be executed automatically during the compilation process of that file. This is a convenient way to ensure that specific code snippets behave as expected without needing a separate test file.</p>

                <h2>Test Boilerplate</h2>
                <p>A typical Elixir test file using ExUnit follows a specific structure. Here's a basic example:</p>
                <pre><code class="language-elixir"># The ExUnit.start call is often handled automatically by Mix projects
# in a file like test_helper.exs. You may need it for standalone files.
# ExUnit.start

defmodule MyModuleTest do
  use ExUnit.Case

  test "should assert the truth" do
    assert 1 + 1 == 2
  end

  test "another example test" do
    refute is_nil(self())
  end
end
</code></pre>

                <h2>Debugging Tests with IEx.pry</h2>
                <p>Debugging within the context of a running test is made easy with Elixir's interactive shell (IEx). Follow these steps to set up and use debugging:</p>
                <ol>
                    <li>
                        <p>At the top of your test file, before the <code>defmodule</code> declaration, add the following line to require IEx:</p>
                        <pre><code class="language-elixir">require IEx</code></pre>
                    </li>
                    <li>
                        <p>Inside your test function, at the exact point where you wish to pause execution and enter an IEx session, insert the following line:</p>
                        <pre><code class="language-elixir">IEx.pry()</code></pre>
                    </li>
                    <li>
                        <p>Run your tests using a specific invocation that prevents timeouts and allows you to interact with the debugger. Replace <code>&lt;test specification&gt;</code> with a pattern to select specific tests if needed (e.g., <code>MyModuleTest</code> or <code>"should assert the truth"</code>):</p>
                        <pre><code class="language-elixir">iex -S mix test --trace &lt;test specification&gt;</code></pre>
                        <p>The <code>--trace</code> flag is crucial as it ensures that IEx does not time out, allowing you to step through your code and inspect variables when you hit <code>IEx.pry()</code>.</p>
                    </li>
                </ol>

                <h2>External Resources</h2>
                <ul>
                    <li><a href="https://elixir-lang.org/docs/stable/ex_unit/">ExUnit Documentation</a></li>
                    <li><a href="https://hexdocs.pm/mix/Mix.Tasks.Test.html">Mix Test Task Documentation</a></li>
                    <li><a href="https://www.elixir-lang.org/getting-started/mix/dependencies-and-applications.html">Mix Projects Guide</a></li>
                </ul>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>