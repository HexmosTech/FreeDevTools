<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bash Scripting Examples - Command Line Utilities</title>
    <meta name="description" content="Explore essential Bash scripting examples for command-line utilities, including loops, case statements, debugging, file operations, and variable expansion. Enhance your shell scripting skills.">
    <meta name="keywords" content="bash, scripting, shell, command line, utilities, loops, case statements, debugging, file operations, variable expansion, linux, unix">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://yourdomain.com/cmd/bash_2.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourdomain.com/cmd/bash_2.html">
    <meta property="og:title" content="Bash Scripting Examples - Command Line Utilities">
    <meta property="og:description" content="Explore essential Bash scripting examples for command-line utilities, including loops, case statements, debugging, file operations, and variable expansion. Enhance your shell scripting skills.">
    <meta property="og:image" content="https://yourdomain.com/path/to/og-image.jpg">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://yourdomain.com/cmd/bash_2.html">
    <meta name="twitter:title" content="Bash Scripting Examples - Command Line Utilities">
    <meta name="twitter:description" content="Explore essential Bash scripting examples for command-line utilities, including loops, case statements, debugging, file operations, and variable expansion. Enhance your shell scripting skills.">
    <meta name="twitter:image" content="https://yourdomain.com/path/to/twitter-image.jpg">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        .header h1 {
            margin: 0;
            font-size: 1.5em;
        }
        .content {
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            margin: 0;
        }
        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
        }
        .markdown-content {
            line-height: 1.7;
        }
        .markdown-content h1, .markdown-content h2, .markdown-content h3 {
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        .markdown-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
        }
        .markdown-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .markdown-content pre code {
            background: none;
            padding: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Bash Scripting Examples</h1>
        </div>
        <div class="content">
            <div class="markdown-content">
                <p>This section provides practical examples of Bash scripting for common command-line tasks and utilities. Mastering these techniques can significantly improve your efficiency when working in Linux and Unix-like environments.</p>

                <h2>Bash For Loops</h2>
                <p>The <code>for</code> loop is fundamental for iterating over a list of items. Here's how to implement it:</p>
                <pre><code class="language-bash"># To implement a for loop:
for WORD in LIST
do
    COMMANDS
done
# For example:
for CurDay in Monday Tuesday Wednesday Thursday Friday Saturday Sunday
do
    printf "%s\n" "$CurDay"
done</code></pre>

                <h2>Bash Case Statements</h2>
                <p><code>case</code> statements are useful for pattern matching and executing different commands based on input:</p>
                <pre><code class="language-bash"># To implement a case statement:
case $1 in
    0)
        echo "Found a '0'." ;;
    1)
        echo "Found a '1'." ;;
    2)
        echo "Found a '2'." ;;
    3*)
        echo "Something beginning with '3' found." ;;
    '')
        echo "Nothing (null) found." ;;
    *)
        echo "Anything else found." ;;
esac</code></pre>

                <h2>Bash Debugging</h2>
                <p>Enable verbose output to debug your scripts:</p>
                <pre><code class="language-bash"># Turn on built-in Bash debugging output:
set -x
# Turn the above off again:
set +x</code></pre>

                <h2>Managing Piped Command Exit Status</h2>
                <p>Retrieve the exit status of commands within a pipeline:</p>
                <pre><code class="language-bash"># Retrieve N-th piped command exit status
printf 'foo' | grep -F 'foo' | sed 's/foo/bar/'
echo ${PIPESTATUS[0]}  # replace 0 with N</code></pre>

                <h2>File Locking in Bash</h2>
                <p>Implement a simple file lock to prevent concurrent execution:</p>
                <pre><code class="language-bash"># Lock file:
( set -o noclobber; echo &gt; my.lock ) || echo 'Failed to create lock file'</code></pre>

                <h2>Dangerous Bash Examples (Use with Extreme Caution)</h2>
                <p>The following examples are provided for educational purposes only and should NEVER be run on a production system or without a full understanding of their consequences.</p>
                <pre><code class="language-bash"># Fork bomb. Do not run this! Has the potential to wreak havoc. It repeatedly
# and quickly spawns a lot of processes until the system eventually locks up.
:(){ :|:& };:
# An alternative, easier-to-understand version without the obfuscation:
func(){ func | func & }; func

# Unix Roulette, courtesy of Bigown's answer in the joke thread.
#
#   DANGER! Don't execute!
#
# Luckily, most modern setups have `--preserve-root` on by default, so this
# will be null and void, but even so, not even remotely worth the risk!
[ $[ $RANDOM % 6 ] == 0 ] && rm -rf /* || echo Click #Roulette</code></pre>

                <h2>Bash Loop One-Liners</h2>
                <p>Concise ways to write loops:</p>
                <pre><code class="language-bash"># A for loop one-liner.
for CurIter in {1..4}; do echo "$CurIter"; done
# Alternative, slightly-cleaner syntax:
for CurIter in {1..4}; { echo "$CurIter"; }</code></pre>

                <h2>Conditional Tests in Bash</h2>
                <p>Perform checks on variables and conditions:</p>
                <pre><code class="language-bash"># Test for a variable being equal to (`-eq`) an integer (`0`).
if [ $var -eq 0 ]; then
    printf "Variable '\$var' is equal to '0'.\n"
fi

# Test for a `PATH` executable existing as a file, but note that aliases and
# functions will also output and result in a `0` exit status.
command -v ${program} &gt;/dev/null 2&gt;&1 || error "${program} not installed"
# However, that is a solution commonly found in a script using the Bourne
# shell, so in this case, an alternative, Bash-like, and more accurate version
# could be:
if ! type -fP bash &gt; /dev/null 2&gt;&1; then
    printf "ERROR: Dependency 'bash' not met." &gt;&2
    exit 1
fi</code></pre>

                <h2>Input/Output Redirection and Piping</h2>
                <p>Control where command output goes and how commands are chained:</p>
                <pre><code class="language-bash"># Send both STDOUT and STDERR from COMMAND to FILE.
COMMAND &gt; FILE 2&gt;&1
# Send STDOUT and STDERR from COMMAND to `/dev/null`, where data goes to die.
COMMAND &gt; /dev/null 2&gt;&1
# Pipe the STDOUT and STDERR from COMMAND_1 to COMMAND_2.
COMMAND_1 |& COMMAND_2</code></pre>

                <h2>File Name Manipulation</h2>
                <p>Common tasks for renaming files:</p>
                <pre><code class="language-bash"># Verbosely convert whitespaces (` `) to underscores (`_`) in file names.
for name in *\ *; do mv -vn "$name" "${name// /_}"; done</code></pre>

                <h2>Bash Variable Expansion</h2>
                <p>Understand how to access and manipulate variables:</p>
                <pre><code class="language-bash"># Expand a regular variable.
$Var
# Some people like to cuddle the variable name with braces ('{' and '}') but
# this is usually superfluous and wasted keystrokes, unless you need to protect
# the variable name from having other characters included, as in the below
# example, or you're using one of the many features of parameter expansion.
"${Var}some text"

# Access a given index in an array. In this example, you don't technically
# need to specify the element, because by default the first element is used.
# As with many other languages, note that indices are 0-first, so 1 is the 2nd.
${Var[0]}
# You can use arithmetic between '[' and ']' as well.
${Var[2+3]}

# Expand variable to the length of that to which the variable would expand.
${#Var}

# Expand array variable to the number of elements/indices. You may find that
# `[*]` works as well as `[@]`, in this case.
${#Var[@]}

# Expand variable to a substring. In this case, imagine `Var` is equal to the
# string 'thing', but the offset is 2 and the length is 1, giving us an 'i'.
${Var:2:1}

# Expand variable to a substring by removing the matched glob pattern from left
# to right. To make this global (IE: greedy) use two '#' characters. So, in
# this example, everything, from left to right, up to and including a 'T' or
# 't', will be removed, but it would only happen once.
${Var#*[Tt]}
# As above, but from right to left. Use two '%' characters for a greedy match.
${Var%[Tt]*}

# Change how the variable expands by using pattern substitution. This uses glob
# pattern matching, not REGEX. If the first '/' is instead '//', a greedy match
# is performed.
${Var/PATTERN/REPLACEMENT/}
# A good example of the above, which will list directories in PATH which exist
# and are directories. It works because all instances of ':' are replaced with
# a whitespace, causing find(1) to see multiple directories (fields) in which
# to search.
find ${PATH//:/ } -type d

# Expand the variable to the string between `:-` and the closing `}`, if that
# variable doesn't already have a value. This can be useful to set a default.
${Var:-Default Value}

# This is a way of displaying an error message if the contents of the variable
# is empty. It will also immediately exit with an exit status of 1.
${Var:?This is an error message.}

# Indirect expansion exists in a couple of ways in BASH. If `Var` is equal to
# `OtherVar`, and that `OtherVar` is equal to `true`, the below example would
# expand to `true`.
${!Var}

# Expand variable so that the first letter is uppercase. Use two '^' (carets)
# if you want the entire contents of the variable to change to uppercase.
${Var^}
# As above, but convert to lowercase. Use two ',' characters to transform the
# entire string to which `Var` expands.
${Var,}</code></pre>

                <h2>Further Reading</h2>
                <ul>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noopener noreferrer">MDN Web Docs: Date Object</a></li>
                    <li><a href="https://www.iso.org/iso-8601-date-and-time-format.html" target="_blank" rel="noopener noreferrer">ISO 8601 Standard</a></li>
                    <li><a href="https://stackoverflow.com/questions/tagged/bash" target="_blank" rel="noopener noreferrer">Stack Overflow: Bash Questions</a></li>
                </ul>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>