<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Awk Command Line Utility - Text Processing & Transformation</title>
    <meta name="description" content="Learn Awk, a powerful command-line utility for finding, processing, and transforming text files. Explore patterns, actions, special variables, and practical examples.">
    <meta name="keywords" content="awk, command line, text processing, text transformation, pattern matching, regular expressions, shell scripting, Unix tools, data manipulation">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://example.com/cmd/awk.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://example.com/cmd/awk.html">
    <meta property="og:title" content="Awk Command Line Utility - Text Processing & Transformation">
    <meta property="og:description" content="Learn Awk, a powerful command-line utility for finding, processing, and transforming text files. Explore patterns, actions, special variables, and practical examples.">
    <meta property="og:image" content="https://example.com/path/to/og-image.jpg">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://example.com/cmd/awk.html">
    <meta name="twitter:title" content="Awk Command Line Utility - Text Processing & Transformation">
    <meta name="twitter:description" content="Learn Awk, a powerful command-line utility for finding, processing, and transforming text files. Explore patterns, actions, special variables, and practical examples.">
    <meta name="twitter:image" content="https://example.com/path/to/twitter-image.jpg">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        .header h1 {
            margin: 0;
            font-size: 1.5em;
        }
        .content {
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            margin: 0;
        }
        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
        }
        .markdown-content {
            line-height: 1.7;
        }
        .markdown-content h1, .markdown-content h2, .markdown-content h3 {
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        .markdown-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
        }
        .markdown-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .markdown-content pre code {
            background: none;
            padding: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Awk Command Line Utility</h1>
        </div>
        <div class="content">
            <div class="markdown-content">
                <h2>Understanding the Awk Command Line Utility</h2>
                <p><code>awk</code> is a powerful command-line utility designed for finding, processing, and transforming text files. It operates on lines of text, treating each line as a record and breaking it down into fields. Its fundamental syntax revolves around the `pattern { action }` structure, where a pattern is matched against each input line, and if it matches, a specified action is executed.</p>

                <h3>Core Awk Concepts</h3>
                <ul>
                    <li><strong>Pattern Matching:</strong> Patterns can be regular expressions. When a pattern matches an input line, the associated action is performed. If no pattern is provided, the action is applied to every line. For example, <code>/^HTTP/ {print}</code> prints every line that starts with "HTTP".</li>
                    <li><strong>BEGIN and END Patterns:</strong> Awk supports two special patterns:
                        <ul>
                            <li><code>BEGIN</code>: Specifies actions to be performed before any input line is read.</li>
                            <li><code>END</code>: Specifies actions to be performed after all input lines have been read.</li>
                            <li>Example: <code>awk 'BEGIN{print "start"} {print} END{print "end"}' file.txt</code> will first print "start", then all lines of <code>file.txt</code>, and finally "end".</li>
                        </ul>
                    </li>
                    <li><strong>Fields and Records:</strong> Awk interprets each line as a record. By default, one or more consecutive spaces or tabs act as delimiters between fields. Fields are accessed using <code>$1</code>, <code>$2</code>, etc., representing the first, second field, and so on. <code>$0</code> represents the entire input line.</li>
                    <li><strong>Data Types:</strong> Awk supports two primary data types: strings and numbers. It automatically converts variables based on the context.</li>
                    <li><strong>Associative Arrays:</strong> Awk supports associative arrays, allowing you to store data using keys, like <code>var[key] = value</code>.</li>
                    <li><strong>Arithmetic Operations:</strong> Basic arithmetic operations (+, -, *, /, %) are supported on numbers, along with autoincrement (++) and decrement (--) operators.</li>
                </ul>

                <h2>Awk Actions and Control Flow</h2>
                <p>Awk provides a set of actions to manipulate text data:</p>
                <table>
                    <thead>
                        <tr>
                            <th>Action</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>{ print $0; }</code></td>
                            <td>Prints the entire current record (line).</td>
                        </tr>
                        <tr>
                            <td><code>{ exit; }</code></td>
                            <td>Terminates the Awk program immediately.</td>
                        </tr>
                        <tr>
                            <td><code>{ next; }</code></td>
                            <td>Skips the rest of the actions for the current line and proceeds to the next line.</td>
                        </tr>
                        <tr>
                            <td><code>{ a=$1; b="X" }</code></td>
                            <td>Assigns the value of the first field to variable 'a' and the string "X" to variable 'b'.</td>
                        </tr>
                        <tr>
                            <td><code>{ c[$1] = $2 }</code></td>
                            <td>Assigns the value of the second field to an element in the associative array 'c', using the first field as the key.</td>
                        </tr>
                        <tr>
                            <td><code>{if (condition) { action } else if (condition) { action } else { action }}</code></td>
                            <td>Implements conditional logic with if-else if-else statements.</td>
                        </tr>
                        <tr>
                            <td><code>{ for (i=1; i &lt; x; i++) { action } }</code></td>
                            <td>Executes a loop a specified number of times.</td>
                        </tr>
                        <tr>
                            <td><code>{ for (item in c) { action } }</code></td>
                            <td>Iterates over the elements of an associative array.</td>
                        </tr>
                    </tbody>
                </table>

                <h2>Awk Special Variables for Text Processing</h2>
                <p>Awk utilizes several special variables to manage input and output processing:</p>
                <table>
                    <thead>
                        <tr>
                            <th>Variable</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>FS</code></td>
                            <td>Input Field Separator. This can be modified to change how fields are delimited (e.g., comma, colon).</td>
                        </tr>
                        <tr>
                            <td><code>RS</code></td>
                            <td>Input Record Separator. Defaults to a newline character. Can be modified to process data with different record structures.</td>
                        </tr>
                        <tr>
                            <td><code>OFS</code></td>
                            <td>Output Field Separator. Determines the separator used when printing multiple fields.</td>
                        </tr>
                        <tr>
                            <td><code>ORS</code></td>
                            <td>Output Record Separator. Defaults to a newline character. Controls the separator between output records.</td>
                        </tr>
                        <tr>
                            <td><code>NF</code></td>
                            <td>Number of Fields in the current line (record). This variable cannot be updated by the user.</td>
                        </tr>
                        <tr>
                            <td><code>NR</code></td>
                            <td>Number of lines processed so far. This variable cannot be updated by the user.</td>
                        </tr>
                    </tbody>
                </table>
                <p><em>Note: The <code>-F</code> option can be used to directly set the input field separator on the command line, for example: <code>awk -F":" '{ print $1 }' file.txt</code>.</em></p>

                <h2>Practical Awk Examples</h2>
                <ul>
                    <li>Split a comma-separated file and print the second field:
                        <br><code>awk -F"," '{print $2}' file.txt</code>
                    </li>
                    <li>Print the third field of a CSV if the second field exists and is not empty:
                        <br><code>awk -F"," '{if ($2) print $3}' file.txt</code>
                    </li>
                    <li>Print the last field in each line of a comma-separated file:
                        <br><code>awk -F"," '{ print $NF }' file.txt</code>
                    </li>
                    <li>Print the line immediately following a line matching a specific pattern:
                        <br><code>awk '/pattern/ { i=1; next; } {if(i) {i--; print;}}' file.txt</code>
                    </li>
                    <li>Print a line and the two lines following it after matching a regular expression:
                        <br><code>awk '/regexp/ {i=3;} { if(i) {i--; print;}}' file.txt</code>
                    </li>
                    <li>Print lines from a file starting at a line matching "start" until a line matching "stop":
                        <br><code>awk '/start/,/stop/' file.txt</code>
                    </li>
                    <li>Count the total number of lines in a file (equivalent to <code>wc -l</code>):
                        <br><code>awk 'END{print NR}' file.txt</code>
                    </li>
                    <li>Print lines matching a pattern (equivalent to <code>grep</code>):
                        <br><code>awk '/pattern/'</code>
                    </li>
                    <li>Print lines that do not match a pattern (equivalent to <code>grep -v</code>):
                        <br><code>awk '!/pattern/'</code>
                    </li>
                    <li>Remove duplicate consecutive lines (equivalent to <code>uniq</code>):
                        <br><code>awk 'a !~ $0 {print}; {a=$0}' file.txt</code>
                    </li>
                    <li>Print the first 10 lines of a file (equivalent to <code>head</code>):
                        <br><code>awk 'NR &lt; 11' file.txt</code>
                    </li>
                    <li>Print the last 10 lines of a file (equivalent to <code>tail</code>):
                        <br><code>awk '{vect[NR]=$0;} END{for(i=NR-9;i<=NR;i++) {print vect[i];}}' file.txt</code>
                    </li>
                    <li>Calculate the total number of bytes used by files listed in <code>ls -l</code> output:
                        <br><code>ls -l | awk '{ x += $5 } END { print "Total bytes: " x }'</code>
                    </li>
                    <li>Read a CSV file and print the first and third fields, separated by a semicolon:
                        <br><code>awk 'BEGIN{FS=",";OFS=";"}{print $1, $3}' file.txt</code>
                    </li>
                </ul>
                <p>For more advanced text processing and data manipulation on the command line, Awk is an indispensable tool for developers and system administrators.</p>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>