<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS IAM CLI Cheatsheet - Manage AWS IAM Policies</title>
    <meta name="description" content="AWS IAM CLI Cheatsheet for managing AWS IAM policies. View policy ARN, detach role policy, and delete roles using AWS CLI commands.">
    <meta name="keywords" content="AWS IAM, AWS CLI, IAM policies, AWS IAM roles, AWS CLI commands, IAM cheatsheet, policy ARN, detach role policy, delete role">
    <meta name="author" content="Hexmos">
    <link rel="canonical" href="https://example.com/aws-cli/iam.html">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://example.com/aws-cli/iam.html">
    <meta property="og:title" content="AWS IAM CLI Cheatsheet - Manage AWS IAM Policies">
    <meta property="og:description" content="AWS IAM CLI Cheatsheet for managing AWS IAM policies. View policy ARN, detach role policy, and delete roles using AWS CLI commands.">
    <meta property="og:image" content="https://example.com/aws-cli/images/iam-banner.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://example.com/aws-cli/iam.html">
    <meta property="twitter:title" content="AWS IAM CLI Cheatsheet - Manage AWS IAM Policies">
    <meta property="twitter:description" content="AWS IAM CLI Cheatsheet for managing AWS IAM policies. View policy ARN, detach role policy, and delete roles using AWS CLI commands.">
    <meta property="twitter:image" content="https://example.com/aws-cli/images/iam-banner.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        .header h1 {
            margin: 0;
            font-size: 1.5em;
        }
        .content {
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            margin: 0;
        }
        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
        }
        .markdown-content {
            line-height: 1.7;
        }
        .markdown-content h2, .markdown-content h3 {
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        .markdown-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
        }
        .markdown-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .markdown-content pre code {
            background: none;
            padding: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>AWS IAM CLI Cheatsheet</h1>
        </div>
        <div class="content">
            <div class="markdown-content">
<h2>AWS IAM CLI Commands</h2>
<p>View Policy ARN:</p>
<pre class="codehilite"><code>$ aws --profile dev iam list-attached-user-policies --user my-policy | jq -r '.AttachedPolicies[].PolicyArn'
arn:aws:iam::000000000000:policy/my-policy
</code></pre>

<h3>Detach Role Policy and Delete Role</h3>
<pre class="codehilite"><code>export iam_profile=dev
export role_name=MyRole
export role_arn=arn:aws:iam::aws:policy/ReadOnlyAccessX

aws --profile ${iam_profile} iam detach-role-policy --role-name ${role_name} --policy-arn ${role_arn}
aws --profile ${iam_profile} iam delete-role --role-name ${role_name}
</code></pre>
        <p>
            This AWS IAM CLI Cheatsheet provides essential commands for managing AWS Identity and Access Management (IAM) policies and roles. Use these commands to view policy ARNs, detach role policies, and delete roles efficiently. Ensure you have the AWS CLI configured with the appropriate profile before executing these commands. For more information, refer to the <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/index.html" target="_blank">AWS IAM CLI documentation</a>.
        </p>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>
