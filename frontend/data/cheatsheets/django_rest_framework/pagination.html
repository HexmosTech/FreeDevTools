<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Django REST Framework Pagination - API Data Handling</title>
    <meta name="description" content="Learn how to implement pagination in Django REST Framework for efficient API data handling. Covers generic views, viewsets, and APIView with code examples.">
    <meta name="keywords" content="django rest framework, drf pagination, api pagination, limit offset pagination, page number pagination, viewsets, class-based views, api view, rest api, python">
    <link rel="canonical" href="https://your-domain.com/django_rest_framework/pagination.html">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Django REST Framework Pagination - API Data Handling">
    <meta property="og:description" content="Learn how to implement pagination in Django REST Framework for efficient API data handling. Covers generic views, viewsets, and APIView with code examples.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://your-domain.com/django_rest_framework/pagination.html">
    <meta property="og:image" content="https://your-domain.com/path/to/your/og-image.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Django REST Framework Pagination - API Data Handling">
    <meta name="twitter:description" content="Learn how to implement pagination in Django REST Framework for efficient API data handling. Covers generic views, viewsets, and APIView with code examples.">
    <meta name="twitter:image" content="https://your-domain.com/path/to/your/twitter-image.jpg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        .header h1 {
            margin: 0;
            font-size: 1.5em;
        }
        .content {
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            margin: 0;
        }
        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
        }
        .markdown-content {
            line-height: 1.7;
        }
        .markdown-content h1, .markdown-content h2, .markdown-content h3 {
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        .markdown-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
        }
        .markdown-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .markdown-content pre code {
            background: none;
            padding: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Django REST Framework Pagination</h1>
        </div>
        <div class="content">
            <div class="markdown-content">
                <h2>Implementing Pagination in Django REST Framework</h2>
                <p>Pagination is a crucial technique for managing large datasets in APIs, preventing performance issues and improving user experience. Django REST Framework (DRF) provides robust tools to implement pagination easily. This guide explains how to apply pagination effectively, whether you are using generic class-based views, viewsets, or custom <code>APIView</code>.</p>

                <h3>Pagination with Generic Class-based Views and Viewsets</h3>
                <p>For generic class-based views and viewsets, DRF can automatically handle pagination. To enable this, you primarily need to configure your <code>settings.py</code> file by overriding the <code>DEFAULT_PAGINATION_CLASS</code> and <code>PAGE_SIZE</code> settings.</p>
                <pre class="codehilite"><code class="language-python"># settings.py
REST_FRAMEWORK = {
    'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.LimitOffsetPagination',
    'PAGE_SIZE': 20
}
</code></pre>
                <p>This configuration sets <code>LimitOffsetPagination</code> as the default pagination class, with each page containing 20 items. You can choose other pagination classes like <code>PageNumberPagination</code> based on your needs.</p>

                <h3>Pagination with APIView or Non-Generic Views</h3>
                <p>When using <code>APIView</code> or other non-generic views, pagination must be explicitly applied within the view itself. First, define the default pagination behavior in <code>settings.py</code> as shown above.</p>
                <pre class="codehilite"><code class="language-python"># settings.py
REST_FRAMEWORK = {
    'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.LimitOffsetPagination',
    'PAGE_SIZE': 20
}
</code></pre>
                <p>Next, you need to integrate pagination logic into your <code>APIView</code>. This involves setting the <code>pagination_class</code> attribute and overriding the <code>get</code> method to use the paginator.</p>
                <pre class="codehilite"><code class="language-python">from rest_framework.settings import api_settings
from rest_framework.views import APIView
from rest_framework.response import Response

class PostView(APIView):
    # Assume queryset and serializer_class are defined elsewhere
    # queryset = ...
    # serializer_class = ...

    pagination_class = api_settings.DEFAULT_PAGINATION_CLASS

    def get(self, request):
        # Apply pagination to the queryset
        page = self.paginate_queryset(self.queryset)
        if page is not None:
            serializer = self.serializer_class(page, many=True)
            return self.get_paginated_response(serializer.data)
        
        # If pagination is disabled or not applicable
        serializer = self.serializer_class(self.queryset, many=True)
        return Response(serializer.data)

    # Helper methods for pagination, typically found in generic views
    @property
    def paginator(self):
        """The paginator instance associated with the view, or `None`."""
        if not hasattr(self, '_paginator'):
            if self.pagination_class is None:
                self._paginator = None
            else:
                self._paginator = self.pagination_class()
        return self._paginator

    def paginate_queryset(self, queryset):
        """Return a single page of results, or `None` if pagination is disabled."""
        if self.paginator is None:
            return None
        return self.paginator.paginate_queryset(queryset, self.request, view=self)

    def get_paginated_response(self, data):
        """Return a paginated style `Response` object for the given output data."""
        return self.paginator.get_paginated_response(data)
</code></pre>

                <h3>Customizing Pagination Classes</h3>
                <p>DRF allows you to create custom pagination classes to tailor pagination behavior. By extending existing pagination classes (like <code>PageNumberPagination</code>), you can override default attributes such as <code>page_size</code>, <code>page_size_query_param</code>, and <code>max_page_size</code>.</p>
                <pre class="codehilite"><code class="language-python">from rest_framework.pagination import PageNumberPagination

class CustomPagination(PageNumberPagination):
    """
    Client controls the response page size (with query param), limited to a maximum of `max_page_size` and default of `page_size`.
    """
    page_size = 100
    page_size_query_param = 'page_size'
    max_page_size = 10000
</code></pre>
                <p>You can then assign this <code>CustomPagination</code> class to specific views or set it as the default in <code>settings.py</code>.</p>

                <p><a href="#drf-cheat-sheet">Back to Top â†‘</a></p>
                <p><br/></p>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>