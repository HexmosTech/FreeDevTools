<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZFS Commands Cheat Sheet - ZFS File System & Pool Management</title>
    <meta name="description" content="Master ZFS file system and pool management with our comprehensive cheat sheet. Learn essential ZFS commands for creating, managing, and monitoring file systems, pools, snapshots, and clones.">
    <meta name="keywords" content="ZFS, ZFS commands, file system management, pool management, ZFS snapshots, ZFS clones, zfs list, zpool create, zfs create, zfs snapshot, zfs rollback, zpool status, Linux storage, FreeBSD storage">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://yourdomain.com/devops/zfs.html">
    <meta property="og:title" content="ZFS Commands Cheat Sheet - ZFS File System & Pool Management">
    <meta property="og:description" content="Master ZFS file system and pool management with our comprehensive cheat sheet. Learn essential ZFS commands for creating, managing, and monitoring file systems, pools, snapshots, and clones.">
    <meta property="og:image" content="https://yourdomain.com/path/to/zfs-og-image.png">
    <meta property="og:url" content="https://yourdomain.com/devops/zfs.html">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ZFS Commands Cheat Sheet - ZFS File System & Pool Management">
    <meta name="twitter:description" content="Master ZFS file system and pool management with our comprehensive cheat sheet. Learn essential ZFS commands for creating, managing, and monitoring file systems, pools, snapshots, and clones.">
    <meta name="twitter:image" content="https://yourdomain.com/path/to/zfs-twitter-image.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        .header h1 {
            margin: 0;
            font-size: 1.5em;
        }
        .content {
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            margin: 0;
        }
        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
        }
        .markdown-content {
            line-height: 1.7;
        }
        .markdown-content h1, .markdown-content h2, .markdown-content h3 {
            color: #2c3e50;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        .markdown-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
        }
        .markdown-content code {
            background: #f1f3f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .markdown-content pre code {
            background: none;
            padding: 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #e9ecef;
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #f1f3f4;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ZFS Commands Cheat Sheet</h1>
        </div>
        <div class="content">
            <div class="markdown-content">
                <h2>ZFS File System Management</h2>
                <p>Efficiently manage your ZFS file systems with these essential commands. Learn how to list, create, configure, and remove file systems to suit your storage needs.</p>
                <table>
                    <thead>
                        <tr>
                            <th>Command</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>zfs list</code></td>
                            <td>List ZFS file systems and their properties.</td>
                        </tr>
                        <tr>
                            <td><code>zfs create &lt;pool&gt;/&lt;filesystem&gt;</code></td>
                            <td>Create a new ZFS file system within a specified pool.</td>
                        </tr>
                        <tr>
                            <td><code>zfs set &lt;property&gt;=&lt;value&gt; &lt;pool&gt;/&lt;filesystem&gt;</code></td>
                            <td>Set or modify ZFS file system properties (e.g., compression, quotas).</td>
                        </tr>
                        <tr>
                            <td><code>zfs get &lt;property&gt; &lt;pool&gt;/&lt;filesystem&gt;</code></td>
                            <td>Retrieve the value of a specific ZFS file system property.</td>
                        </tr>
                        <tr>
                            <td><code>zfs destroy &lt;pool&gt;/&lt;filesystem&gt;</code></td>
                            <td>Permanently delete a ZFS file system and all its contents.</td>
                        </tr>
                    </tbody>
                </table>

                <h2>ZFS Pool Management</h2>
                <p>Understand and control your ZFS storage pools. This section covers commands for listing, creating, destroying, and monitoring the health and performance of your ZFS pools.</p>
                <table>
                    <thead>
                        <tr>
                            <th>Command</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>zpool list</code></td>
                            <td>Display a list of all ZFS storage pools and their status.</td>
                        </tr>
                        <tr>
                            <td><code>zpool create &lt;pool&gt; &lt;device&gt;</code></td>
                            <td>Create a new ZFS storage pool using one or more devices.</td>
                        </tr>
                        <tr>
                            <td><code>zpool destroy &lt;pool&gt;</code></td>
                            <td>Completely remove a ZFS storage pool and all its data. Use with extreme caution.</td>
                        </tr>
                        <tr>
                            <td><code>zpool iostat</code></td>
                            <td>Show real-time I/O statistics for ZFS pools, helping to identify performance bottlenecks.</td>
                        </tr>
                        <tr>
                            <td><code>zpool status</code></td>
                            <td>Check the health and integrity of your ZFS pools, reporting on device status and errors.</td>
                        </tr>
                        <tr>
                            <td><code>zpool history</code></td>
                            <td>View a log of all ZFS pool administration commands executed.</td>
                        </tr>
                        <tr>
                            <td><code>zpool events</code></td>
                            <td>Display recent events and alerts related to ZFS pool operations.</td>
                        </tr>
                        <tr>
                            <td><code>zpool scrub &lt;pool&gt;</code></td>
                            <td>Initiate a data integrity scrub on a ZFS pool to detect and repair errors.</td>
                        </tr>
                        <tr>
                            <td><code>zpool clear &lt;pool&gt;</code></td>
                            <td>Clear persistent error states from a ZFS pool.</td>
                        </tr>
                        <tr>
                            <td><code>zpool trim &lt;pool&gt;</code></td>
                            <td>Perform a TRIM operation on supported devices within a ZFS pool for performance optimization.</td>
                        </tr>
                        <tr>
                            <td><code>zpool add &lt;pool&gt; &lt;device&gt;</code></td>
                            <td>Add a new device to an existing ZFS pool, potentially expanding its capacity or redundancy.</td>
                        </tr>
                        <tr>
                            <td><code>zpool remove &lt;pool&gt; &lt;device&gt;</code></td>
                            <td>Remove a device from a ZFS pool. This is typically done before replacing a failing drive.</td>
                        </tr>
                        <tr>
                            <td><code>zpool replace &lt;pool&gt; &lt;device&gt;</code></td>
                            <td>Replace an existing device in a ZFS pool with a new one.</td>
                        </tr>
                        <tr>
                            <td><code>zpool offline &lt;pool&gt; &lt;device&gt;</code></td>
                            <td>Mark a device within a ZFS pool as offline, often done before maintenance or replacement.</td>
                        </tr>
                    </tbody>
                </table>

                <h2>ZFS Snapshots</h2>
                <p>Leverage ZFS snapshots for powerful data protection and versioning. This section details commands for creating, managing, rolling back, and replicating snapshots.</p>
                <table>
                    <thead>
                        <tr>
                            <th>Command</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>zfs list -t snapshot</code></td>
                            <td>List all ZFS snapshots across your file systems.</td>
                        </tr>
                        <tr>
                            <td><code>zfs snapshot &lt;pool&gt;/&lt;filesystem&gt;@&lt;snapshot&gt;</code></td>
                            <td>Create a point-in-time snapshot of a ZFS file system.</td>
                        </tr>
                        <tr>
                            <td><code>zfs rollback &lt;pool&gt;/&lt;filesystem&gt;@&lt;snapshot&gt;</code></td>
                            <td>Revert a ZFS file system to the state of a specific snapshot.</td>
                        </tr>
                        <tr>
                            <td><code>zfs diff &lt;pool&gt;/&lt;filesystem&gt;@&lt;snapshot_1&gt; &lt;pool&gt;/&lt;filesystem&gt;@&lt;snapshot_2&gt;</code></td>
                            <td>Compare two ZFS snapshots to see the differences between them.</td>
                        </tr>
                        <tr>
                            <td><code>zfs send &lt;pool&gt;/&lt;filesystem&gt;@&lt;snapshot&gt;</code></td>
                            <td>Generate a stream of data representing a ZFS snapshot, used for replication.</td>
                        </tr>
                        <tr>
                            <td><code>zfs receive &lt;pool&gt;/&lt;filesystem&gt;</code></td>
                            <td>Receive a ZFS snapshot stream and create a new file system or update an existing one.</td>
                        </tr>
                    </tbody>
                </table>

                <h2>ZFS Clones</h2>
                <p>Utilize ZFS clones for efficient space-saving copies of file systems or snapshots. Explore commands for creating, promoting, and managing clones.</p>
                <table>
                    <thead>
                        <tr>
                            <th>Command</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>zfs clone &lt;pool&gt;/&lt;filesystem&gt;@&lt;snapshot&gt; &lt;pool&gt;/&lt;filesystem&gt;</code></td>
                            <td>Create a writable clone from a ZFS snapshot.</td>
                        </tr>
                        <tr>
                            <td><code>zfs promote &lt;pool&gt;/&lt;filesystem&gt;</code></td>
                            <td>Promote a clone to become a regular file system, detaching it from its snapshot origin.</td>
                        </tr>
                        <tr>
                            <td><code>zfs rollback &lt;pool&gt;/&lt;filesystem&gt;</code></td>
                            <td>Rollback a clone to its original snapshot state.</td>
                        </tr>
                        <tr>
                            <td><code>zfs destroy &lt;pool&gt;/&lt;filesystem&gt;</code></td>
                            <td>Destroy a ZFS clone. If it's not promoted, this also destroys the snapshot it was cloned from.</td>
                        </tr>
                    </tbody>
                </table>
                <p>ZFS (Zettabyte File System) is a powerful, advanced file system and logical volume manager with features like data integrity protection, snapshots, copy-on-write clones, and continuous integration. This cheat sheet provides a quick reference for common ZFS commands used in DevOps and system administration for managing file systems, pools, snapshots, and clones. Understanding these commands is crucial for efficient storage management and data protection in environments leveraging ZFS.</p>
                <p>For more in-depth information, refer to the official <a href="https://openzfs.github.io/openzfs-docs/" target="_blank" rel="noopener noreferrer">OpenZFS documentation</a> and the <a href="https://man.freebsd.org/cgi/man.cgi?query=zfs&sektion=8" target="_blank" rel="noopener noreferrer">ZFS man pages</a>.</p>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>